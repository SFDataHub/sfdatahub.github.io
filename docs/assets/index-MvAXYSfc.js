import Yj from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gg={exports:{}},Sd={},Hg={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function JC(){if(Wb)return pt;Wb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function R(H,se,de){this.props=H,this.context=se,this.refs=P,this.updater=de||w}R.prototype.isReactComponent={},R.prototype.setState=function(H,se){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,se,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function B(){}B.prototype=R.prototype;function D(H,se,de){this.props=H,this.context=se,this.refs=P,this.updater=de||w}var T=D.prototype=new B;T.constructor=D,S(T,R.prototype),T.isPureReactComponent=!0;var y=Array.isArray,j=Object.prototype.hasOwnProperty,M={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function _(H,se,de){var ee,fe={},Te=null,xe=null;if(se!=null)for(ee in se.ref!==void 0&&(xe=se.ref),se.key!==void 0&&(Te=""+se.key),se)j.call(se,ee)&&!C.hasOwnProperty(ee)&&(fe[ee]=se[ee]);var Ce=arguments.length-2;if(Ce===1)fe.children=de;else if(1<Ce){for(var Ne=Array(Ce),ue=0;ue<Ce;ue++)Ne[ue]=arguments[ue+2];fe.children=Ne}if(H&&H.defaultProps)for(ee in Ce=H.defaultProps,Ce)fe[ee]===void 0&&(fe[ee]=Ce[ee]);return{$$typeof:t,type:H,key:Te,ref:xe,props:fe,_owner:M.current}}function A(H,se){return{$$typeof:t,type:H.type,key:se,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function I(H){var se={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(de){return se[de]})}var V=/\/+/g;function $(H,se){return typeof H=="object"&&H!==null&&H.key!=null?I(""+H.key):se.toString(36)}function W(H,se,de,ee,fe){var Te=typeof H;(Te==="undefined"||Te==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(Te){case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case t:case e:xe=!0}}if(xe)return xe=H,fe=fe(xe),H=ee===""?"."+$(xe,0):ee,y(fe)?(de="",H!=null&&(de=H.replace(V,"$&/")+"/"),W(fe,se,de,"",function(ue){return ue})):fe!=null&&(L(fe)&&(fe=A(fe,de+(!fe.key||xe&&xe.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+H)),se.push(fe)),1;if(xe=0,ee=ee===""?".":ee+":",y(H))for(var Ce=0;Ce<H.length;Ce++){Te=H[Ce];var Ne=ee+$(Te,Ce);xe+=W(Te,se,de,Ne,fe)}else if(Ne=v(H),typeof Ne=="function")for(H=Ne.call(H),Ce=0;!(Te=H.next()).done;)Te=Te.value,Ne=ee+$(Te,Ce++),xe+=W(Te,se,de,Ne,fe);else if(Te==="object")throw se=String(H),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return xe}function z(H,se,de){if(H==null)return H;var ee=[],fe=0;return W(H,ee,"","",function(Te){return se.call(de,Te,fe++)}),ee}function q(H){if(H._status===-1){var se=H._result;se=se(),se.then(function(de){(H._status===0||H._status===-1)&&(H._status=1,H._result=de)},function(de){(H._status===0||H._status===-1)&&(H._status=2,H._result=de)}),H._status===-1&&(H._status=0,H._result=se)}if(H._status===1)return H._result.default;throw H._result}var Q={current:null},G={transition:null},te={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function re(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:z,forEach:function(H,se,de){z(H,function(){se.apply(this,arguments)},de)},count:function(H){var se=0;return z(H,function(){se++}),se},toArray:function(H){return z(H,function(se){return se})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},pt.Component=R,pt.Fragment=n,pt.Profiler=i,pt.PureComponent=D,pt.StrictMode=r,pt.Suspense=u,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,pt.act=re,pt.cloneElement=function(H,se,de){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ee=S({},H.props),fe=H.key,Te=H.ref,xe=H._owner;if(se!=null){if(se.ref!==void 0&&(Te=se.ref,xe=M.current),se.key!==void 0&&(fe=""+se.key),H.type&&H.type.defaultProps)var Ce=H.type.defaultProps;for(Ne in se)j.call(se,Ne)&&!C.hasOwnProperty(Ne)&&(ee[Ne]=se[Ne]===void 0&&Ce!==void 0?Ce[Ne]:se[Ne])}var Ne=arguments.length-2;if(Ne===1)ee.children=de;else if(1<Ne){Ce=Array(Ne);for(var ue=0;ue<Ne;ue++)Ce[ue]=arguments[ue+2];ee.children=Ce}return{$$typeof:t,type:H.type,key:fe,ref:Te,props:ee,_owner:xe}},pt.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},pt.createElement=_,pt.createFactory=function(H){var se=_.bind(null,H);return se.type=H,se},pt.createRef=function(){return{current:null}},pt.forwardRef=function(H){return{$$typeof:d,render:H}},pt.isValidElement=L,pt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:q}},pt.memo=function(H,se){return{$$typeof:m,type:H,compare:se===void 0?null:se}},pt.startTransition=function(H){var se=G.transition;G.transition={};try{H()}finally{G.transition=se}},pt.unstable_act=re,pt.useCallback=function(H,se){return Q.current.useCallback(H,se)},pt.useContext=function(H){return Q.current.useContext(H)},pt.useDebugValue=function(){},pt.useDeferredValue=function(H){return Q.current.useDeferredValue(H)},pt.useEffect=function(H,se){return Q.current.useEffect(H,se)},pt.useId=function(){return Q.current.useId()},pt.useImperativeHandle=function(H,se,de){return Q.current.useImperativeHandle(H,se,de)},pt.useInsertionEffect=function(H,se){return Q.current.useInsertionEffect(H,se)},pt.useLayoutEffect=function(H,se){return Q.current.useLayoutEffect(H,se)},pt.useMemo=function(H,se){return Q.current.useMemo(H,se)},pt.useReducer=function(H,se,de){return Q.current.useReducer(H,se,de)},pt.useRef=function(H){return Q.current.useRef(H)},pt.useState=function(H){return Q.current.useState(H)},pt.useSyncExternalStore=function(H,se,de){return Q.current.useSyncExternalStore(H,se,de)},pt.useTransition=function(){return Q.current.useTransition()},pt.version="18.3.1",pt}var qb;function Jv(){return qb||(qb=1,Hg.exports=JC()),Hg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function ZC(){if(Kb)return Sd;Kb=1;var t=Jv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,m){var p,x={},v=null,w=null;m!==void 0&&(v=""+m),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(p in u)r.call(u,p)&&!o.hasOwnProperty(p)&&(x[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)x[p]===void 0&&(x[p]=u[p]);return{$$typeof:e,type:d,key:v,ref:w,props:x,_owner:i.current}}return Sd.Fragment=n,Sd.jsx=c,Sd.jsxs=c,Sd}var Qb;function e4(){return Qb||(Qb=1,Gg.exports=ZC()),Gg.exports}var s=e4(),E=Jv();const J=Yv(E);var dm={},Wg={exports:{}},On={},qg={exports:{}},Kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function t4(){return Xb||(Xb=1,(function(t){function e(G,te){var re=G.length;G.push(te);e:for(;0<re;){var H=re-1>>>1,se=G[H];if(0<i(se,te))G[H]=te,G[re]=se,re=H;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],re=G.pop();if(re!==te){G[0]=re;e:for(var H=0,se=G.length,de=se>>>1;H<de;){var ee=2*(H+1)-1,fe=G[ee],Te=ee+1,xe=G[Te];if(0>i(fe,re))Te<se&&0>i(xe,fe)?(G[H]=xe,G[Te]=re,H=Te):(G[H]=fe,G[ee]=re,H=ee);else if(Te<se&&0>i(xe,re))G[H]=xe,G[Te]=re,H=Te;else break e}}return te}function i(G,te){var re=G.sortIndex-te.sortIndex;return re!==0?re:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var u=[],m=[],p=1,x=null,v=3,w=!1,S=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(G){for(var te=n(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=G)r(m),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(m)}}function y(G){if(P=!1,T(G),!S)if(n(u)!==null)S=!0,q(j);else{var te=n(m);te!==null&&Q(y,te.startTime-G)}}function j(G,te){S=!1,P&&(P=!1,B(_),_=-1),w=!0;var re=v;try{for(T(te),x=n(u);x!==null&&(!(x.expirationTime>te)||G&&!I());){var H=x.callback;if(typeof H=="function"){x.callback=null,v=x.priorityLevel;var se=H(x.expirationTime<=te);te=t.unstable_now(),typeof se=="function"?x.callback=se:x===n(u)&&r(u),T(te)}else r(u);x=n(u)}if(x!==null)var de=!0;else{var ee=n(m);ee!==null&&Q(y,ee.startTime-te),de=!1}return de}finally{x=null,v=re,w=!1}}var M=!1,C=null,_=-1,A=5,L=-1;function I(){return!(t.unstable_now()-L<A)}function V(){if(C!==null){var G=t.unstable_now();L=G;var te=!0;try{te=C(!0,G)}finally{te?$():(M=!1,C=null)}}else M=!1}var $;if(typeof D=="function")$=function(){D(V)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,z=W.port2;W.port1.onmessage=V,$=function(){z.postMessage(null)}}else $=function(){R(V,0)};function q(G){C=G,M||(M=!0,$())}function Q(G,te){_=R(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,q(j))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var re=v;v=te;try{return G()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=v;v=G;try{return te()}finally{v=re}},t.unstable_scheduleCallback=function(G,te,re){var H=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?H+re:H):re=H,G){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,G={id:p++,callback:te,priorityLevel:G,startTime:re,expirationTime:se,sortIndex:-1},re>H?(G.sortIndex=re,e(m,G),n(u)===null&&G===n(m)&&(P?(B(_),_=-1):P=!0,Q(y,re-H))):(G.sortIndex=se,e(u,G),S||w||(S=!0,q(j))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var te=v;return function(){var re=v;v=te;try{return G.apply(this,arguments)}finally{v=re}}}})(Kg)),Kg}var Yb;function s4(){return Yb||(Yb=1,qg.exports=t4()),qg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function n4(){if(Jb)return On;Jb=1;var t=Jv(),e=s4();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function v(a){return u.call(x,a)?!0:u.call(p,a)?!1:m.test(a)?x[a]=!0:(p[a]=!0,!1)}function w(a,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,h,g){if(l===null||typeof l=="undefined"||w(a,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(a,l,h,g,b,k,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=k,this.removeEmptyString=O}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){R[a]=new P(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];R[l]=new P(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){R[a]=new P(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){R[a]=new P(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){R[a]=new P(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){R[a]=new P(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){R[a]=new P(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){R[a]=new P(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){R[a]=new P(a,5,!1,a.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function D(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(B,D);R[l]=new P(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(B,D);R[l]=new P(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(B,D);R[l]=new P(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){R[a]=new P(a,1,!1,a.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){R[a]=new P(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,l,h,g){var b=R.hasOwnProperty(l)?R[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,h,b,g)&&(h=null),g||b===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):b.mustUseProperty?a[b.propertyName]=h===null?b.type===3?!1:"":h:(l=b.attributeName,g=b.attributeNamespace,h===null?a.removeAttribute(l):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?a.setAttributeNS(g,l,h):a.setAttribute(l,h))))}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),I=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var re=Object.assign,H;function se(a){if(H===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+a}var de=!1;function ee(a,l){if(!a||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ce){var g=ce}Reflect.construct(a,[],l)}else{try{l.call()}catch(ce){g=ce}a.call(l.prototype)}else{try{throw Error()}catch(ce){g=ce}a()}}catch(ce){if(ce&&g&&typeof ce.stack=="string"){for(var b=ce.stack.split(`
`),k=g.stack.split(`
`),O=b.length-1,K=k.length-1;1<=O&&0<=K&&b[O]!==k[K];)K--;for(;1<=O&&0<=K;O--,K--)if(b[O]!==k[K]){if(O!==1||K!==1)do if(O--,K--,0>K||b[O]!==k[K]){var X=`
`+b[O].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=O&&0<=K);break}}}finally{de=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?se(a):""}function fe(a){switch(a.tag){case 5:return se(a.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function Te(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case M:return"Portal";case A:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case L:return(a._context.displayName||"Context")+".Provider";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return l=a.displayName||null,l!==null?l:Te(a.type)||"Memo";case q:l=a._payload,a=a._init;try{return Te(a(l))}catch(h){}}return null}function xe(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(l);case 8:return l===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ce(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ne(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(a){var l=Ne(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof h!="undefined"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,k=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){g=""+O,k.call(this,O)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function De(a){a._valueTracker||(a._valueTracker=ue(a))}function Ee(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return a&&(g=Ne(a)?a.checked?"true":"false":a.value),a=g,a!==h?(l.setValue(a),!0):!1}function tt(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(l){return a.body}}function ut(a,l){var h=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h!=null?h:a._wrapperState.initialChecked})}function ts(a,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Ce(l.value!=null?l.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function zs(a,l){l=l.checked,l!=null&&T(a,"checked",l,!1)}function Gs(a,l){zs(a,l);var h=Ce(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Hs(a,l.type,h):l.hasOwnProperty("defaultValue")&&Hs(a,l.type,Ce(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Rn(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Hs(a,l,h){(l!=="number"||tt(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Ps=Array.isArray;function Ls(a,l,h,g){if(a=a.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=l.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Ce(h),l=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Pn(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function xn(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Ps(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:Ce(h)}}function vn(a,l){var h=Ce(l.value),g=Ce(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function ls(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Qt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Qt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Lt,ii=(function(a){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(l,h,g,b){MSApp.execUnsafeLocalFunction(function(){return a(l,h,g,b)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Lt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Qn(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mr=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(a){mr.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),hr[l]=hr[a]})});function ai(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||hr.hasOwnProperty(a)&&hr[a]?(""+l).trim():l+"px"}function Ci(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=ai(h,l[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,b):a[h]=b}}var oi=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lr(a,l){if(l){if(oi[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ht(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function Ti(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ai=null,yn=null,Xn=null;function Ei(a){if(a=cd(a)){if(typeof Ai!="function")throw Error(n(280));var l=a.stateNode;l&&(l=Nh(l),Ai(a.stateNode,a.type,l))}}function Yn(a){yn?Xn?Xn.push(a):Xn=[a]:yn=a}function Vc(){if(yn){var a=yn,l=Xn;if(Xn=yn=null,Ei(a),l)for(a=0;a<l.length;a++)Ei(l[a])}}function to(a,l){return a(l)}function Oc(){}var Ii=!1;function Uc(a,l,h){if(Ii)return a(l,h);Ii=!0;try{return to(a,l,h)}finally{Ii=!1,(yn!==null||Xn!==null)&&(Oc(),Vc())}}function fs(a,l){var h=a.stateNode;if(h===null)return null;var g=Nh(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ll=!1;if(d)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){ll=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch(a){ll=!1}function so(a,l,h,g,b,k,O,K,X){var ce=Array.prototype.slice.call(arguments,3);try{l.apply(h,ce)}catch(ye){this.onError(ye)}}var no=!1,cl=null,Mr=!1,zc=null,vf={onError:function(a){no=!0,cl=a}};function dl(a,l,h,g,b,k,O,K,X){no=!1,cl=null,so.apply(vf,arguments)}function Xu(a,l,h,g,b,k,O,K,X){if(dl.apply(this,arguments),no){if(no){var ce=cl;no=!1,cl=null}else throw Error(n(198));Mr||(Mr=!0,zc=ce)}}function Fr(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function ro(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Br(a){if(Fr(a)!==a)throw Error(n(188))}function Yu(a){var l=a.alternate;if(!l){if(l=Fr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,g=l;;){var b=h.return;if(b===null)break;var k=b.alternate;if(k===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===h)return Br(b),a;if(k===g)return Br(b),l;k=k.sibling}throw Error(n(188))}if(h.return!==g.return)h=b,g=k;else{for(var O=!1,K=b.child;K;){if(K===h){O=!0,h=b,g=k;break}if(K===g){O=!0,g=b,h=k;break}K=K.sibling}if(!O){for(K=k.child;K;){if(K===h){O=!0,h=k,g=b;break}if(K===g){O=!0,g=k,h=b;break}K=K.sibling}if(!O)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function Gc(a){return a=Yu(a),a!==null?ul(a):null}function ul(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ul(a);if(l!==null)return l;a=a.sibling}return null}var hl=e.unstable_scheduleCallback,Hc=e.unstable_cancelCallback,Ju=e.unstable_shouldYield,yf=e.unstable_requestPaint,$t=e.unstable_now,Zu=e.unstable_getCurrentPriorityLevel,io=e.unstable_ImmediatePriority,da=e.unstable_UserBlockingPriority,fr=e.unstable_NormalPriority,Wc=e.unstable_LowPriority,eh=e.unstable_IdlePriority,ao=null,Jn=null;function th(a){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(ao,a,void 0,(a.current.flags&128)===128)}catch(l){}}var bn=Math.clz32?Math.clz32:nh,qc=Math.log,sh=Math.LN2;function nh(a){return a>>>=0,a===0?32:31-(qc(a)/sh|0)|0}var ml=64,pl=4194304;function ua(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function oo(a,l){var h=a.pendingLanes;if(h===0)return 0;var g=0,b=a.suspendedLanes,k=a.pingedLanes,O=h&268435455;if(O!==0){var K=O&~b;K!==0?g=ua(K):(k&=O,k!==0&&(g=ua(k)))}else O=h&~b,O!==0?g=ua(O):k!==0&&(g=ua(k));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,k=l&-l,b>=k||b===16&&(k&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)h=31-bn(l),b=1<<h,g|=a[h],l&=~b;return g}function bf(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ri(a,l){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,k=a.pendingLanes;0<k;){var O=31-bn(k),K=1<<O,X=b[O];X===-1?((K&h)===0||(K&g)!==0)&&(b[O]=bf(K,l)):X<=l&&(a.expiredLanes|=K),k&=~K}}function Zn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function lo(){var a=ml;return ml<<=1,(ml&4194240)===0&&(ml=64),a}function ha(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function ma(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-bn(l),a[l]=h}function Mt(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var b=31-bn(h),k=1<<b;l[b]=0,g[b]=-1,a[b]=-1,h&=~k}}function pa(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var g=31-bn(h),b=1<<g;b&l|a[g]&l&&(a[g]|=l),h&=~b}}var _t=0;function fa(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var rh,fl,ih,ah,oh,Kc=!1,li=[],Ws=null,$r=null,Vr=null,ga=new Map,gr=new Map,ci=[],_f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lh(a,l){switch(a){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ga.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(l.pointerId)}}function Ln(a,l,h,g,b,k){return a===null||a.nativeEvent!==k?(a={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:k,targetContainers:[b]},l!==null&&(l=cd(l),l!==null&&fl(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function wf(a,l,h,g,b){switch(l){case"focusin":return Ws=Ln(Ws,a,l,h,g,b),!0;case"dragenter":return $r=Ln($r,a,l,h,g,b),!0;case"mouseover":return Vr=Ln(Vr,a,l,h,g,b),!0;case"pointerover":var k=b.pointerId;return ga.set(k,Ln(ga.get(k)||null,a,l,h,g,b)),!0;case"gotpointercapture":return k=b.pointerId,gr.set(k,Ln(gr.get(k)||null,a,l,h,g,b)),!0}return!1}function ch(a){var l=po(a.target);if(l!==null){var h=Fr(l);if(h!==null){if(l=h.tag,l===13){if(l=ro(h),l!==null){a.blockedOn=l,oh(a.priority,function(){ih(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Pi(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=gl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);pr=g,h.target.dispatchEvent(g),pr=null}else return l=cd(h),l!==null&&fl(l),a.blockedOn=h,!1;l.shift()}return!0}function co(a,l,h){Pi(a)&&h.delete(l)}function dh(){Kc=!1,Ws!==null&&Pi(Ws)&&(Ws=null),$r!==null&&Pi($r)&&($r=null),Vr!==null&&Pi(Vr)&&(Vr=null),ga.forEach(co),gr.forEach(co)}function Or(a,l){a.blockedOn===l&&(a.blockedOn=null,Kc||(Kc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dh)))}function Ur(a){function l(b){return Or(b,a)}if(0<li.length){Or(li[0],a);for(var h=1;h<li.length;h++){var g=li[h];g.blockedOn===a&&(g.blockedOn=null)}}for(Ws!==null&&Or(Ws,a),$r!==null&&Or($r,a),Vr!==null&&Or(Vr,a),ga.forEach(l),gr.forEach(l),h=0;h<ci.length;h++)g=ci[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<ci.length&&(h=ci[0],h.blockedOn===null);)ch(h),h.blockedOn===null&&ci.shift()}var Li=y.ReactCurrentBatchConfig,xa=!0;function Xt(a,l,h,g){var b=_t,k=Li.transition;Li.transition=null;try{_t=1,Qc(a,l,h,g)}finally{_t=b,Li.transition=k}}function jf(a,l,h,g){var b=_t,k=Li.transition;Li.transition=null;try{_t=4,Qc(a,l,h,g)}finally{_t=b,Li.transition=k}}function Qc(a,l,h,g){if(xa){var b=gl(a,l,h,g);if(b===null)Lf(a,l,g,uo,h),lh(a,g);else if(wf(b,a,l,h,g))g.stopPropagation();else if(lh(a,g),l&4&&-1<_f.indexOf(a)){for(;b!==null;){var k=cd(b);if(k!==null&&rh(k),k=gl(a,l,h,g),k===null&&Lf(a,l,g,uo,h),k===b)break;b=k}b!==null&&g.stopPropagation()}else Lf(a,l,g,null,h)}}var uo=null;function gl(a,l,h,g){if(uo=null,a=Ti(g),a=po(a),a!==null)if(l=Fr(a),l===null)a=null;else if(h=l.tag,h===13){if(a=ro(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return uo=a,null}function Xc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zu()){case io:return 1;case da:return 4;case fr:case Wc:return 16;case eh:return 536870912;default:return 16}default:return 16}}var er=null,xl=null,Dn=null;function Yc(){if(Dn)return Dn;var a,l=xl,h=l.length,g,b="value"in er?er.value:er.textContent,k=b.length;for(a=0;a<h&&l[a]===b[a];a++);var O=h-a;for(g=1;g<=O&&l[h-g]===b[k-g];g++);return Dn=b.slice(a,1<g?1-g:void 0)}function vl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function di(){return!0}function Jc(){return!1}function qs(a){function l(h,g,b,k,O){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var K in a)a.hasOwnProperty(K)&&(h=a[K],this[K]=h?h(k):k[K]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?di:Jc,this.isPropagationStopped=Jc,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),l}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=qs(zr),ui=re({},zr,{view:0,detail:0}),Sf=qs(ui),bl,Di,va,ho=re({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==va&&(va&&a.type==="mousemove"?(bl=a.screenX-va.screenX,Di=a.screenY-va.screenY):Di=bl=0,va=a),bl)},movementY:function(a){return"movementY"in a?a.movementY:Di}}),_l=qs(ho),Zc=re({},ho,{dataTransfer:0}),uh=qs(Zc),wl=re({},ui,{relatedTarget:0}),jl=qs(wl),hh=re({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mi=qs(hh),mh=re({},zr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ph=qs(mh),fh=re({},zr,{data:0}),ed=qs(fh),Sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xh(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=gh[a])?!!l[a]:!1}function hi(){return xh}var f=re({},ui,{key:function(a){if(a.key){var l=Sl[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=vl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_n[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(a){return a.type==="keypress"?vl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?vl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),N=qs(f),F=re({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=qs(F),ae=re({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),he=qs(ae),Re=re({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rt=qs(Re),Ts=re({},ho,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jt=qs(Ts),Ds=[9,13,27,32],bs=d&&"CompositionEvent"in window,xr=null;d&&"documentMode"in document&&(xr=document.documentMode);var tr=d&&"TextEvent"in window&&!xr,mo=d&&(!bs||xr&&8<xr&&11>=xr),Nl=" ",V0=!1;function O0(a,l){switch(a){case"keyup":return Ds.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var kl=!1;function Q3(a,l){switch(a){case"compositionend":return U0(l);case"keypress":return l.which!==32?null:(V0=!0,Nl);case"textInput":return a=l.data,a===Nl&&V0?null:a;default:return null}}function X3(a,l){if(kl)return a==="compositionend"||!bs&&O0(a,l)?(a=Yc(),Dn=xl=er=null,kl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return mo&&l.locale!=="ko"?null:l.data;default:return null}}var Y3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Y3[a.type]:l==="textarea"}function G0(a,l,h,g){Yn(g),l=wh(l,"onChange"),0<l.length&&(h=new yl("onChange","change",null,h,g),a.push({event:h,listeners:l}))}var td=null,sd=null;function J3(a){l1(a,0)}function vh(a){var l=Il(a);if(Ee(l))return a}function Z3(a,l){if(a==="change")return l}var H0=!1;if(d){var Nf;if(d){var kf="oninput"in document;if(!kf){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),kf=typeof W0.oninput=="function"}Nf=kf}else Nf=!1;H0=Nf&&(!document.documentMode||9<document.documentMode)}function q0(){td&&(td.detachEvent("onpropertychange",K0),sd=td=null)}function K0(a){if(a.propertyName==="value"&&vh(sd)){var l=[];G0(l,sd,a,Ti(a)),Uc(J3,l)}}function eC(a,l,h){a==="focusin"?(q0(),td=l,sd=h,td.attachEvent("onpropertychange",K0)):a==="focusout"&&q0()}function tC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vh(sd)}function sC(a,l){if(a==="click")return vh(l)}function nC(a,l){if(a==="input"||a==="change")return vh(l)}function rC(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Gr=typeof Object.is=="function"?Object.is:rC;function nd(a,l){if(Gr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!u.call(l,b)||!Gr(a[b],l[b]))return!1}return!0}function Q0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function X0(a,l){var h=Q0(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=l&&g>=l)return{node:h,offset:l-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Q0(h)}}function Y0(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Y0(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function J0(){for(var a=window,l=tt();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch(g){h=!1}if(h)a=l.contentWindow;else break;l=tt(a.document)}return l}function Cf(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function iC(a){var l=J0(),h=a.focusedElem,g=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&Y0(h.ownerDocument.documentElement,h)){if(g!==null&&Cf(h)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=h.textContent.length,k=Math.min(g.start,b);g=g.end===void 0?k:Math.min(g.end,b),!a.extend&&k>g&&(b=g,g=k,k=b),b=X0(h,k);var O=X0(h,g);b&&O&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==O.node||a.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),k>g?(a.addRange(l),a.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var aC=d&&"documentMode"in document&&11>=document.documentMode,Cl=null,Tf=null,rd=null,Af=!1;function Z0(a,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Af||Cl==null||Cl!==tt(g)||(g=Cl,"selectionStart"in g&&Cf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),rd&&nd(rd,g)||(rd=g,g=wh(Tf,"onSelect"),0<g.length&&(l=new yl("onSelect","select",null,l,h),a.push({event:l,listeners:g}),l.target=Cl)))}function yh(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Tl={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},Ef={},e1={};d&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function bh(a){if(Ef[a])return Ef[a];if(!Tl[a])return a;var l=Tl[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in e1)return Ef[a]=l[h];return a}var t1=bh("animationend"),s1=bh("animationiteration"),n1=bh("animationstart"),r1=bh("transitionend"),i1=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(a,l){i1.set(a,l),o(l,[a])}for(var If=0;If<a1.length;If++){var Rf=a1[If],oC=Rf.toLowerCase(),lC=Rf[0].toUpperCase()+Rf.slice(1);ya(oC,"on"+lC)}ya(t1,"onAnimationEnd"),ya(s1,"onAnimationIteration"),ya(n1,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(r1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("cancel close invalid load scroll toggle".split(" ").concat(id));function o1(a,l,h){var g=a.type||"unknown-event";a.currentTarget=h,Xu(g,l,void 0,a),a.currentTarget=null}function l1(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var k=void 0;if(l)for(var O=g.length-1;0<=O;O--){var K=g[O],X=K.instance,ce=K.currentTarget;if(K=K.listener,X!==k&&b.isPropagationStopped())break e;o1(b,K,ce),k=X}else for(O=0;O<g.length;O++){if(K=g[O],X=K.instance,ce=K.currentTarget,K=K.listener,X!==k&&b.isPropagationStopped())break e;o1(b,K,ce),k=X}}}if(Mr)throw a=zc,Mr=!1,zc=null,a}function Wt(a,l){var h=l[Vf];h===void 0&&(h=l[Vf]=new Set);var g=a+"__bubble";h.has(g)||(c1(l,a,2,!1),h.add(g))}function Pf(a,l,h){var g=0;l&&(g|=4),c1(h,a,g,l)}var _h="_reactListening"+Math.random().toString(36).slice(2);function ad(a){if(!a[_h]){a[_h]=!0,r.forEach(function(h){h!=="selectionchange"&&(cC.has(h)||Pf(h,!1,a),Pf(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[_h]||(l[_h]=!0,Pf("selectionchange",!1,l))}}function c1(a,l,h,g){switch(Xc(l)){case 1:var b=Xt;break;case 4:b=jf;break;default:b=Qc}h=b.bind(null,l,h,a),b=void 0,!ll||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(l,h,{capture:!0,passive:b}):a.addEventListener(l,h,!0):b!==void 0?a.addEventListener(l,h,{passive:b}):a.addEventListener(l,h,!1)}function Lf(a,l,h,g,b){var k=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var K=g.stateNode.containerInfo;if(K===b||K.nodeType===8&&K.parentNode===b)break;if(O===4)for(O=g.return;O!==null;){var X=O.tag;if((X===3||X===4)&&(X=O.stateNode.containerInfo,X===b||X.nodeType===8&&X.parentNode===b))return;O=O.return}for(;K!==null;){if(O=po(K),O===null)return;if(X=O.tag,X===5||X===6){g=k=O;continue e}K=K.parentNode}}g=g.return}Uc(function(){var ce=k,ye=Ti(h),je=[];e:{var ve=i1.get(a);if(ve!==void 0){var Fe=yl,Ve=a;switch(a){case"keypress":if(vl(h)===0)break e;case"keydown":case"keyup":Fe=N;break;case"focusin":Ve="focus",Fe=jl;break;case"focusout":Ve="blur",Fe=jl;break;case"beforeblur":case"afterblur":Fe=jl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=he;break;case t1:case s1:case n1:Fe=Mi;break;case r1:Fe=Rt;break;case"scroll":Fe=Sf;break;case"wheel":Fe=jt;break;case"copy":case"cut":case"paste":Fe=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=U}var Oe=(l&4)!==0,gs=!Oe&&a==="scroll",oe=Oe?ve!==null?ve+"Capture":null:ve;Oe=[];for(var Z=ce,le;Z!==null;){le=Z;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,oe!==null&&(ke=fs(Z,oe),ke!=null&&Oe.push(od(Z,ke,le)))),gs)break;Z=Z.return}0<Oe.length&&(ve=new Fe(ve,Ve,null,h,ye),je.push({event:ve,listeners:Oe}))}}if((l&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",Fe=a==="mouseout"||a==="pointerout",ve&&h!==pr&&(Ve=h.relatedTarget||h.fromElement)&&(po(Ve)||Ve[Fi]))break e;if((Fe||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Fe?(Ve=h.relatedTarget||h.toElement,Fe=ce,Ve=Ve?po(Ve):null,Ve!==null&&(gs=Fr(Ve),Ve!==gs||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Fe=null,Ve=ce),Fe!==Ve)){if(Oe=_l,ke="onMouseLeave",oe="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=U,ke="onPointerLeave",oe="onPointerEnter",Z="pointer"),gs=Fe==null?ve:Il(Fe),le=Ve==null?ve:Il(Ve),ve=new Oe(ke,Z+"leave",Fe,h,ye),ve.target=gs,ve.relatedTarget=le,ke=null,po(ye)===ce&&(Oe=new Oe(oe,Z+"enter",Ve,h,ye),Oe.target=le,Oe.relatedTarget=gs,ke=Oe),gs=ke,Fe&&Ve)t:{for(Oe=Fe,oe=Ve,Z=0,le=Oe;le;le=Al(le))Z++;for(le=0,ke=oe;ke;ke=Al(ke))le++;for(;0<Z-le;)Oe=Al(Oe),Z--;for(;0<le-Z;)oe=Al(oe),le--;for(;Z--;){if(Oe===oe||oe!==null&&Oe===oe.alternate)break t;Oe=Al(Oe),oe=Al(oe)}Oe=null}else Oe=null;Fe!==null&&d1(je,ve,Fe,Oe,!1),Ve!==null&&gs!==null&&d1(je,gs,Ve,Oe,!0)}}e:{if(ve=ce?Il(ce):window,Fe=ve.nodeName&&ve.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ve.type==="file")var Ge=Z3;else if(z0(ve))if(H0)Ge=nC;else{Ge=tC;var Ke=eC}else(Fe=ve.nodeName)&&Fe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ge=sC);if(Ge&&(Ge=Ge(a,ce))){G0(je,Ge,h,ye);break e}Ke&&Ke(a,ve,ce),a==="focusout"&&(Ke=ve._wrapperState)&&Ke.controlled&&ve.type==="number"&&Hs(ve,"number",ve.value)}switch(Ke=ce?Il(ce):window,a){case"focusin":(z0(Ke)||Ke.contentEditable==="true")&&(Cl=Ke,Tf=ce,rd=null);break;case"focusout":rd=Tf=Cl=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Z0(je,h,ye);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":Z0(je,h,ye)}var Qe;if(bs)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else kl?O0(a,h)&&(Je="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Je="onCompositionStart");Je&&(mo&&h.locale!=="ko"&&(kl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&kl&&(Qe=Yc()):(er=ye,xl="value"in er?er.value:er.textContent,kl=!0)),Ke=wh(ce,Je),0<Ke.length&&(Je=new ed(Je,a,null,h,ye),je.push({event:Je,listeners:Ke}),Qe?Je.data=Qe:(Qe=U0(h),Qe!==null&&(Je.data=Qe)))),(Qe=tr?Q3(a,h):X3(a,h))&&(ce=wh(ce,"onBeforeInput"),0<ce.length&&(ye=new ed("onBeforeInput","beforeinput",null,h,ye),je.push({event:ye,listeners:ce}),ye.data=Qe))}l1(je,l)})}function od(a,l,h){return{instance:a,listener:l,currentTarget:h}}function wh(a,l){for(var h=l+"Capture",g=[];a!==null;){var b=a,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=fs(a,h),k!=null&&g.unshift(od(a,k,b)),k=fs(a,l),k!=null&&g.push(od(a,k,b))),a=a.return}return g}function Al(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function d1(a,l,h,g,b){for(var k=l._reactName,O=[];h!==null&&h!==g;){var K=h,X=K.alternate,ce=K.stateNode;if(X!==null&&X===g)break;K.tag===5&&ce!==null&&(K=ce,b?(X=fs(h,k),X!=null&&O.unshift(od(h,X,K))):b||(X=fs(h,k),X!=null&&O.push(od(h,X,K)))),h=h.return}O.length!==0&&a.push({event:l,listeners:O})}var dC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function u1(a){return(typeof a=="string"?a:""+a).replace(dC,`
`).replace(uC,"")}function jh(a,l,h){if(l=u1(l),u1(a)!==l&&h)throw Error(n(425))}function Sh(){}var Df=null,Mf=null;function Ff(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Bf=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,mC=typeof queueMicrotask=="function"?queueMicrotask:typeof h1!="undefined"?function(a){return h1.resolve(null).then(a).catch(pC)}:Bf;function pC(a){setTimeout(function(){throw a})}function $f(a,l){var h=l,g=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){a.removeChild(b),Ur(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);Ur(l)}function ba(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function m1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var El=Math.random().toString(36).slice(2),mi="__reactFiber$"+El,ld="__reactProps$"+El,Fi="__reactContainer$"+El,Vf="__reactEvents$"+El,fC="__reactListeners$"+El,gC="__reactHandles$"+El;function po(a){var l=a[mi];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Fi]||h[mi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=m1(a);a!==null;){if(h=a[mi])return h;a=m1(a)}return l}a=h,h=a.parentNode}return null}function cd(a){return a=a[mi]||a[Fi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Il(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Nh(a){return a[ld]||null}var Of=[],Rl=-1;function _a(a){return{current:a}}function qt(a){0>Rl||(a.current=Of[Rl],Of[Rl]=null,Rl--)}function Vt(a,l){Rl++,Of[Rl]=a.current,a.current=l}var wa={},ln=_a(wa),Mn=_a(!1),fo=wa;function Pl(a,l){var h=a.type.contextTypes;if(!h)return wa;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in h)b[k]=l[k];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function Fn(a){return a=a.childContextTypes,a!=null}function kh(){qt(Mn),qt(ln)}function p1(a,l,h){if(ln.current!==wa)throw Error(n(168));Vt(ln,l),Vt(Mn,h)}function f1(a,l,h){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(n(108,xe(a)||"Unknown",b));return re({},h,g)}function Ch(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||wa,fo=ln.current,Vt(ln,a),Vt(Mn,Mn.current),!0}function g1(a,l,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=f1(a,l,fo),g.__reactInternalMemoizedMergedChildContext=a,qt(Mn),qt(ln),Vt(ln,a)):qt(Mn),Vt(Mn,h)}var Bi=null,Th=!1,Uf=!1;function x1(a){Bi===null?Bi=[a]:Bi.push(a)}function xC(a){Th=!0,x1(a)}function ja(){if(!Uf&&Bi!==null){Uf=!0;var a=0,l=_t;try{var h=Bi;for(_t=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Bi=null,Th=!1}catch(b){throw Bi!==null&&(Bi=Bi.slice(a+1)),hl(io,ja),b}finally{_t=l,Uf=!1}}return null}var Ll=[],Dl=0,Ah=null,Eh=0,vr=[],yr=0,go=null,$i=1,Vi="";function xo(a,l){Ll[Dl++]=Eh,Ll[Dl++]=Ah,Ah=a,Eh=l}function v1(a,l,h){vr[yr++]=$i,vr[yr++]=Vi,vr[yr++]=go,go=a;var g=$i;a=Vi;var b=32-bn(g)-1;g&=~(1<<b),h+=1;var k=32-bn(l)+b;if(30<k){var O=b-b%5;k=(g&(1<<O)-1).toString(32),g>>=O,b-=O,$i=1<<32-bn(l)+b|h<<b|g,Vi=k+a}else $i=1<<k|h<<b|g,Vi=a}function zf(a){a.return!==null&&(xo(a,1),v1(a,1,0))}function Gf(a){for(;a===Ah;)Ah=Ll[--Dl],Ll[Dl]=null,Eh=Ll[--Dl],Ll[Dl]=null;for(;a===go;)go=vr[--yr],vr[yr]=null,Vi=vr[--yr],vr[yr]=null,$i=vr[--yr],vr[yr]=null}var sr=null,nr=null,Yt=!1,Hr=null;function y1(a,l){var h=jr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function b1(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,sr=a,nr=ba(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,sr=a,nr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=go!==null?{id:$i,overflow:Vi}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=jr(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,sr=a,nr=null,!0):!1;default:return!1}}function Hf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Wf(a){if(Yt){var l=nr;if(l){var h=l;if(!b1(a,l)){if(Hf(a))throw Error(n(418));l=ba(h.nextSibling);var g=sr;l&&b1(a,l)?y1(g,h):(a.flags=a.flags&-4097|2,Yt=!1,sr=a)}}else{if(Hf(a))throw Error(n(418));a.flags=a.flags&-4097|2,Yt=!1,sr=a}}}function _1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;sr=a}function Ih(a){if(a!==sr)return!1;if(!Yt)return _1(a),Yt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Ff(a.type,a.memoizedProps)),l&&(l=nr)){if(Hf(a))throw w1(),Error(n(418));for(;l;)y1(a,l),l=ba(l.nextSibling)}if(_1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){nr=ba(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}nr=null}}else nr=sr?ba(a.stateNode.nextSibling):null;return!0}function w1(){for(var a=nr;a;)a=ba(a.nextSibling)}function Ml(){nr=sr=null,Yt=!1}function qf(a){Hr===null?Hr=[a]:Hr.push(a)}var vC=y.ReactCurrentBatchConfig;function dd(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var b=g,k=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(O){var K=b.refs;O===null?delete K[k]:K[k]=O},l._stringRef=k,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Rh(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function j1(a){var l=a._init;return l(a._payload)}function S1(a){function l(oe,Z){if(a){var le=oe.deletions;le===null?(oe.deletions=[Z],oe.flags|=16):le.push(Z)}}function h(oe,Z){if(!a)return null;for(;Z!==null;)l(oe,Z),Z=Z.sibling;return null}function g(oe,Z){for(oe=new Map;Z!==null;)Z.key!==null?oe.set(Z.key,Z):oe.set(Z.index,Z),Z=Z.sibling;return oe}function b(oe,Z){return oe=Ia(oe,Z),oe.index=0,oe.sibling=null,oe}function k(oe,Z,le){return oe.index=le,a?(le=oe.alternate,le!==null?(le=le.index,le<Z?(oe.flags|=2,Z):le):(oe.flags|=2,Z)):(oe.flags|=1048576,Z)}function O(oe){return a&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,Z,le,ke){return Z===null||Z.tag!==6?(Z=Bg(le,oe.mode,ke),Z.return=oe,Z):(Z=b(Z,le),Z.return=oe,Z)}function X(oe,Z,le,ke){var Ge=le.type;return Ge===C?ye(oe,Z,le.props.children,ke,le.key):Z!==null&&(Z.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===q&&j1(Ge)===Z.type)?(ke=b(Z,le.props),ke.ref=dd(oe,Z,le),ke.return=oe,ke):(ke=sm(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=dd(oe,Z,le),ke.return=oe,ke)}function ce(oe,Z,le,ke){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=$g(le,oe.mode,ke),Z.return=oe,Z):(Z=b(Z,le.children||[]),Z.return=oe,Z)}function ye(oe,Z,le,ke,Ge){return Z===null||Z.tag!==7?(Z=No(le,oe.mode,ke,Ge),Z.return=oe,Z):(Z=b(Z,le),Z.return=oe,Z)}function je(oe,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Bg(""+Z,oe.mode,le),Z.return=oe,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return le=sm(Z.type,Z.key,Z.props,null,oe.mode,le),le.ref=dd(oe,null,Z),le.return=oe,le;case M:return Z=$g(Z,oe.mode,le),Z.return=oe,Z;case q:var ke=Z._init;return je(oe,ke(Z._payload),le)}if(Ps(Z)||te(Z))return Z=No(Z,oe.mode,le,null),Z.return=oe,Z;Rh(oe,Z)}return null}function ve(oe,Z,le,ke){var Ge=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ge!==null?null:K(oe,Z,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return le.key===Ge?X(oe,Z,le,ke):null;case M:return le.key===Ge?ce(oe,Z,le,ke):null;case q:return Ge=le._init,ve(oe,Z,Ge(le._payload),ke)}if(Ps(le)||te(le))return Ge!==null?null:ye(oe,Z,le,ke,null);Rh(oe,le)}return null}function Fe(oe,Z,le,ke,Ge){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return oe=oe.get(le)||null,K(Z,oe,""+ke,Ge);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case j:return oe=oe.get(ke.key===null?le:ke.key)||null,X(Z,oe,ke,Ge);case M:return oe=oe.get(ke.key===null?le:ke.key)||null,ce(Z,oe,ke,Ge);case q:var Ke=ke._init;return Fe(oe,Z,le,Ke(ke._payload),Ge)}if(Ps(ke)||te(ke))return oe=oe.get(le)||null,ye(Z,oe,ke,Ge,null);Rh(Z,ke)}return null}function Ve(oe,Z,le,ke){for(var Ge=null,Ke=null,Qe=Z,Je=Z=0,Bs=null;Qe!==null&&Je<le.length;Je++){Qe.index>Je?(Bs=Qe,Qe=null):Bs=Qe.sibling;var At=ve(oe,Qe,le[Je],ke);if(At===null){Qe===null&&(Qe=Bs);break}a&&Qe&&At.alternate===null&&l(oe,Qe),Z=k(At,Z,Je),Ke===null?Ge=At:Ke.sibling=At,Ke=At,Qe=Bs}if(Je===le.length)return h(oe,Qe),Yt&&xo(oe,Je),Ge;if(Qe===null){for(;Je<le.length;Je++)Qe=je(oe,le[Je],ke),Qe!==null&&(Z=k(Qe,Z,Je),Ke===null?Ge=Qe:Ke.sibling=Qe,Ke=Qe);return Yt&&xo(oe,Je),Ge}for(Qe=g(oe,Qe);Je<le.length;Je++)Bs=Fe(Qe,oe,Je,le[Je],ke),Bs!==null&&(a&&Bs.alternate!==null&&Qe.delete(Bs.key===null?Je:Bs.key),Z=k(Bs,Z,Je),Ke===null?Ge=Bs:Ke.sibling=Bs,Ke=Bs);return a&&Qe.forEach(function(Ra){return l(oe,Ra)}),Yt&&xo(oe,Je),Ge}function Oe(oe,Z,le,ke){var Ge=te(le);if(typeof Ge!="function")throw Error(n(150));if(le=Ge.call(le),le==null)throw Error(n(151));for(var Ke=Ge=null,Qe=Z,Je=Z=0,Bs=null,At=le.next();Qe!==null&&!At.done;Je++,At=le.next()){Qe.index>Je?(Bs=Qe,Qe=null):Bs=Qe.sibling;var Ra=ve(oe,Qe,At.value,ke);if(Ra===null){Qe===null&&(Qe=Bs);break}a&&Qe&&Ra.alternate===null&&l(oe,Qe),Z=k(Ra,Z,Je),Ke===null?Ge=Ra:Ke.sibling=Ra,Ke=Ra,Qe=Bs}if(At.done)return h(oe,Qe),Yt&&xo(oe,Je),Ge;if(Qe===null){for(;!At.done;Je++,At=le.next())At=je(oe,At.value,ke),At!==null&&(Z=k(At,Z,Je),Ke===null?Ge=At:Ke.sibling=At,Ke=At);return Yt&&xo(oe,Je),Ge}for(Qe=g(oe,Qe);!At.done;Je++,At=le.next())At=Fe(Qe,oe,Je,At.value,ke),At!==null&&(a&&At.alternate!==null&&Qe.delete(At.key===null?Je:At.key),Z=k(At,Z,Je),Ke===null?Ge=At:Ke.sibling=At,Ke=At);return a&&Qe.forEach(function(YC){return l(oe,YC)}),Yt&&xo(oe,Je),Ge}function gs(oe,Z,le,ke){if(typeof le=="object"&&le!==null&&le.type===C&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case j:e:{for(var Ge=le.key,Ke=Z;Ke!==null;){if(Ke.key===Ge){if(Ge=le.type,Ge===C){if(Ke.tag===7){h(oe,Ke.sibling),Z=b(Ke,le.props.children),Z.return=oe,oe=Z;break e}}else if(Ke.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===q&&j1(Ge)===Ke.type){h(oe,Ke.sibling),Z=b(Ke,le.props),Z.ref=dd(oe,Ke,le),Z.return=oe,oe=Z;break e}h(oe,Ke);break}else l(oe,Ke);Ke=Ke.sibling}le.type===C?(Z=No(le.props.children,oe.mode,ke,le.key),Z.return=oe,oe=Z):(ke=sm(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=dd(oe,Z,le),ke.return=oe,oe=ke)}return O(oe);case M:e:{for(Ke=le.key;Z!==null;){if(Z.key===Ke)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){h(oe,Z.sibling),Z=b(Z,le.children||[]),Z.return=oe,oe=Z;break e}else{h(oe,Z);break}else l(oe,Z);Z=Z.sibling}Z=$g(le,oe.mode,ke),Z.return=oe,oe=Z}return O(oe);case q:return Ke=le._init,gs(oe,Z,Ke(le._payload),ke)}if(Ps(le))return Ve(oe,Z,le,ke);if(te(le))return Oe(oe,Z,le,ke);Rh(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,Z!==null&&Z.tag===6?(h(oe,Z.sibling),Z=b(Z,le),Z.return=oe,oe=Z):(h(oe,Z),Z=Bg(le,oe.mode,ke),Z.return=oe,oe=Z),O(oe)):h(oe,Z)}return gs}var Fl=S1(!0),N1=S1(!1),Ph=_a(null),Lh=null,Bl=null,Kf=null;function Qf(){Kf=Bl=Lh=null}function Xf(a){var l=Ph.current;qt(Ph),a._currentValue=l}function Yf(a,l,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===h)break;a=a.return}}function $l(a,l){Lh=a,Kf=Bl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Bn=!0),a.firstContext=null)}function br(a){var l=a._currentValue;if(Kf!==a)if(a={context:a,memoizedValue:l,next:null},Bl===null){if(Lh===null)throw Error(n(308));Bl=a,Lh.dependencies={lanes:0,firstContext:a}}else Bl=Bl.next=a;return l}var vo=null;function Jf(a){vo===null?vo=[a]:vo.push(a)}function k1(a,l,h,g){var b=l.interleaved;return b===null?(h.next=h,Jf(l)):(h.next=b.next,b.next=h),l.interleaved=h,Oi(a,g)}function Oi(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Sa=!1;function Zf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ui(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Na(a,l,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Nt&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Oi(a,h)}return b=g.interleaved,b===null?(l.next=l,Jf(g)):(l.next=b.next,b.next=l),g.interleaved=l,Oi(a,h)}function Dh(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,pa(a,h)}}function T1(a,l){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var O={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?b=k=O:k=k.next=O,h=h.next}while(h!==null);k===null?b=k=l:k=k.next=l}else b=k=l;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function Mh(a,l,h,g){var b=a.updateQueue;Sa=!1;var k=b.firstBaseUpdate,O=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var X=K,ce=X.next;X.next=null,O===null?k=ce:O.next=ce,O=X;var ye=a.alternate;ye!==null&&(ye=ye.updateQueue,K=ye.lastBaseUpdate,K!==O&&(K===null?ye.firstBaseUpdate=ce:K.next=ce,ye.lastBaseUpdate=X))}if(k!==null){var je=b.baseState;O=0,ye=ce=X=null,K=k;do{var ve=K.lane,Fe=K.eventTime;if((g&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Fe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ve=a,Oe=K;switch(ve=l,Fe=h,Oe.tag){case 1:if(Ve=Oe.payload,typeof Ve=="function"){je=Ve.call(Fe,je,ve);break e}je=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Oe.payload,ve=typeof Ve=="function"?Ve.call(Fe,je,ve):Ve,ve==null)break e;je=re({},je,ve);break e;case 2:Sa=!0}}K.callback!==null&&K.lane!==0&&(a.flags|=64,ve=b.effects,ve===null?b.effects=[K]:ve.push(K))}else Fe={eventTime:Fe,lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ye===null?(ce=ye=Fe,X=je):ye=ye.next=Fe,O|=ve;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,b.lastBaseUpdate=ve,b.shared.pending=null}}while(!0);if(ye===null&&(X=je),b.baseState=X,b.firstBaseUpdate=ce,b.lastBaseUpdate=ye,l=b.shared.interleaved,l!==null){b=l;do O|=b.lane,b=b.next;while(b!==l)}else k===null&&(b.shared.lanes=0);_o|=O,a.lanes=O,a.memoizedState=je}}function A1(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var ud={},pi=_a(ud),hd=_a(ud),md=_a(ud);function yo(a){if(a===ud)throw Error(n(174));return a}function eg(a,l){switch(Vt(md,l),Vt(hd,a),Vt(pi,ud),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Gt(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Gt(l,a)}qt(pi),Vt(pi,l)}function Vl(){qt(pi),qt(hd),qt(md)}function E1(a){yo(md.current);var l=yo(pi.current),h=Gt(l,a.type);l!==h&&(Vt(hd,a),Vt(pi,h))}function tg(a){hd.current===a&&(qt(pi),qt(hd))}var ss=_a(0);function Fh(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sg=[];function ng(){for(var a=0;a<sg.length;a++)sg[a]._workInProgressVersionPrimary=null;sg.length=0}var Bh=y.ReactCurrentDispatcher,rg=y.ReactCurrentBatchConfig,bo=0,ns=null,As=null,Ms=null,$h=!1,pd=!1,fd=0,yC=0;function cn(){throw Error(n(321))}function ig(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Gr(a[h],l[h]))return!1;return!0}function ag(a,l,h,g,b,k){if(bo=k,ns=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Bh.current=a===null||a.memoizedState===null?jC:SC,a=h(g,b),pd){k=0;do{if(pd=!1,fd=0,25<=k)throw Error(n(301));k+=1,Ms=As=null,l.updateQueue=null,Bh.current=NC,a=h(g,b)}while(pd)}if(Bh.current=Uh,l=As!==null&&As.next!==null,bo=0,Ms=As=ns=null,$h=!1,l)throw Error(n(300));return a}function og(){var a=fd!==0;return fd=0,a}function fi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ms===null?ns.memoizedState=Ms=a:Ms=Ms.next=a,Ms}function _r(){if(As===null){var a=ns.alternate;a=a!==null?a.memoizedState:null}else a=As.next;var l=Ms===null?ns.memoizedState:Ms.next;if(l!==null)Ms=l,As=a;else{if(a===null)throw Error(n(310));As=a,a={memoizedState:As.memoizedState,baseState:As.baseState,baseQueue:As.baseQueue,queue:As.queue,next:null},Ms===null?ns.memoizedState=Ms=a:Ms=Ms.next=a}return Ms}function gd(a,l){return typeof l=="function"?l(a):l}function lg(a){var l=_r(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=As,b=g.baseQueue,k=h.pending;if(k!==null){if(b!==null){var O=b.next;b.next=k.next,k.next=O}g.baseQueue=b=k,h.pending=null}if(b!==null){k=b.next,g=g.baseState;var K=O=null,X=null,ce=k;do{var ye=ce.lane;if((bo&ye)===ye)X!==null&&(X=X.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),g=ce.hasEagerState?ce.eagerState:a(g,ce.action);else{var je={lane:ye,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};X===null?(K=X=je,O=g):X=X.next=je,ns.lanes|=ye,_o|=ye}ce=ce.next}while(ce!==null&&ce!==k);X===null?O=g:X.next=K,Gr(g,l.memoizedState)||(Bn=!0),l.memoizedState=g,l.baseState=O,l.baseQueue=X,h.lastRenderedState=g}if(a=h.interleaved,a!==null){b=a;do k=b.lane,ns.lanes|=k,_o|=k,b=b.next;while(b!==a)}else b===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function cg(a){var l=_r(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,k=l.memoizedState;if(b!==null){h.pending=null;var O=b=b.next;do k=a(k,O.action),O=O.next;while(O!==b);Gr(k,l.memoizedState)||(Bn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,g]}function I1(){}function R1(a,l){var h=ns,g=_r(),b=l(),k=!Gr(g.memoizedState,b);if(k&&(g.memoizedState=b,Bn=!0),g=g.queue,dg(D1.bind(null,h,g,a),[a]),g.getSnapshot!==l||k||Ms!==null&&Ms.memoizedState.tag&1){if(h.flags|=2048,xd(9,L1.bind(null,h,g,b,l),void 0,null),Fs===null)throw Error(n(349));(bo&30)!==0||P1(h,l,b)}return b}function P1(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=ns.updateQueue,l===null?(l={lastEffect:null,stores:null},ns.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function L1(a,l,h,g){l.value=h,l.getSnapshot=g,M1(l)&&F1(a)}function D1(a,l,h){return h(function(){M1(l)&&F1(a)})}function M1(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Gr(a,h)}catch(g){return!0}}function F1(a){var l=Oi(a,1);l!==null&&Qr(l,a,1,-1)}function B1(a){var l=fi();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:a},l.queue=a,a=a.dispatch=wC.bind(null,ns,a),[l.memoizedState,a]}function xd(a,l,h,g){return a={tag:a,create:l,destroy:h,deps:g,next:null},l=ns.updateQueue,l===null?(l={lastEffect:null,stores:null},ns.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,l.lastEffect=a)),a}function $1(){return _r().memoizedState}function Vh(a,l,h,g){var b=fi();ns.flags|=a,b.memoizedState=xd(1|l,h,void 0,g===void 0?null:g)}function Oh(a,l,h,g){var b=_r();g=g===void 0?null:g;var k=void 0;if(As!==null){var O=As.memoizedState;if(k=O.destroy,g!==null&&ig(g,O.deps)){b.memoizedState=xd(l,h,k,g);return}}ns.flags|=a,b.memoizedState=xd(1|l,h,k,g)}function V1(a,l){return Vh(8390656,8,a,l)}function dg(a,l){return Oh(2048,8,a,l)}function O1(a,l){return Oh(4,2,a,l)}function U1(a,l){return Oh(4,4,a,l)}function z1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function G1(a,l,h){return h=h!=null?h.concat([a]):null,Oh(4,4,z1.bind(null,l,a),h)}function ug(){}function H1(a,l){var h=_r();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&ig(l,g[1])?g[0]:(h.memoizedState=[a,l],a)}function W1(a,l){var h=_r();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&ig(l,g[1])?g[0]:(a=a(),h.memoizedState=[a,l],a)}function q1(a,l,h){return(bo&21)===0?(a.baseState&&(a.baseState=!1,Bn=!0),a.memoizedState=h):(Gr(h,l)||(h=lo(),ns.lanes|=h,_o|=h,a.baseState=!0),l)}function bC(a,l){var h=_t;_t=h!==0&&4>h?h:4,a(!0);var g=rg.transition;rg.transition={};try{a(!1),l()}finally{_t=h,rg.transition=g}}function K1(){return _r().memoizedState}function _C(a,l,h){var g=Aa(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Q1(a))X1(l,h);else if(h=k1(a,l,h,g),h!==null){var b=jn();Qr(h,a,g,b),Y1(h,l,g)}}function wC(a,l,h){var g=Aa(a),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Q1(a))X1(l,b);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var O=l.lastRenderedState,K=k(O,h);if(b.hasEagerState=!0,b.eagerState=K,Gr(K,O)){var X=l.interleaved;X===null?(b.next=b,Jf(l)):(b.next=X.next,X.next=b),l.interleaved=b;return}}catch(ce){}finally{}h=k1(a,l,b,g),h!==null&&(b=jn(),Qr(h,a,g,b),Y1(h,l,g))}}function Q1(a){var l=a.alternate;return a===ns||l!==null&&l===ns}function X1(a,l){pd=$h=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function Y1(a,l,h){if((h&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,pa(a,h)}}var Uh={readContext:br,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},jC={readContext:br,useCallback:function(a,l){return fi().memoizedState=[a,l===void 0?null:l],a},useContext:br,useEffect:V1,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,Vh(4194308,4,z1.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Vh(4194308,4,a,l)},useInsertionEffect:function(a,l){return Vh(4,2,a,l)},useMemo:function(a,l){var h=fi();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var g=fi();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=_C.bind(null,ns,a),[g.memoizedState,a]},useRef:function(a){var l=fi();return a={current:a},l.memoizedState=a},useState:B1,useDebugValue:ug,useDeferredValue:function(a){return fi().memoizedState=a},useTransition:function(){var a=B1(!1),l=a[0];return a=bC.bind(null,a[1]),fi().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var g=ns,b=fi();if(Yt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Fs===null)throw Error(n(349));(bo&30)!==0||P1(g,l,h)}b.memoizedState=h;var k={value:h,getSnapshot:l};return b.queue=k,V1(D1.bind(null,g,k,a),[a]),g.flags|=2048,xd(9,L1.bind(null,g,k,h,l),void 0,null),h},useId:function(){var a=fi(),l=Fs.identifierPrefix;if(Yt){var h=Vi,g=$i;h=(g&~(1<<32-bn(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=fd++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=yC++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},SC={readContext:br,useCallback:H1,useContext:br,useEffect:dg,useImperativeHandle:G1,useInsertionEffect:O1,useLayoutEffect:U1,useMemo:W1,useReducer:lg,useRef:$1,useState:function(){return lg(gd)},useDebugValue:ug,useDeferredValue:function(a){var l=_r();return q1(l,As.memoizedState,a)},useTransition:function(){var a=lg(gd)[0],l=_r().memoizedState;return[a,l]},useMutableSource:I1,useSyncExternalStore:R1,useId:K1,unstable_isNewReconciler:!1},NC={readContext:br,useCallback:H1,useContext:br,useEffect:dg,useImperativeHandle:G1,useInsertionEffect:O1,useLayoutEffect:U1,useMemo:W1,useReducer:cg,useRef:$1,useState:function(){return cg(gd)},useDebugValue:ug,useDeferredValue:function(a){var l=_r();return As===null?l.memoizedState=a:q1(l,As.memoizedState,a)},useTransition:function(){var a=cg(gd)[0],l=_r().memoizedState;return[a,l]},useMutableSource:I1,useSyncExternalStore:R1,useId:K1,unstable_isNewReconciler:!1};function Wr(a,l){if(a&&a.defaultProps){l=re({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function hg(a,l,h,g){l=a.memoizedState,h=h(g,l),h=h==null?l:re({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var zh={isMounted:function(a){return(a=a._reactInternals)?Fr(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var g=jn(),b=Aa(a),k=Ui(g,b);k.payload=l,h!=null&&(k.callback=h),l=Na(a,k,b),l!==null&&(Qr(l,a,b,g),Dh(l,a,b))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var g=jn(),b=Aa(a),k=Ui(g,b);k.tag=1,k.payload=l,h!=null&&(k.callback=h),l=Na(a,k,b),l!==null&&(Qr(l,a,b,g),Dh(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=jn(),g=Aa(a),b=Ui(h,g);b.tag=2,l!=null&&(b.callback=l),l=Na(a,b,g),l!==null&&(Qr(l,a,g,h),Dh(l,a,g))}};function J1(a,l,h,g,b,k,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,k,O):l.prototype&&l.prototype.isPureReactComponent?!nd(h,g)||!nd(b,k):!0}function Z1(a,l,h){var g=!1,b=wa,k=l.contextType;return typeof k=="object"&&k!==null?k=br(k):(b=Fn(l)?fo:ln.current,g=l.contextTypes,k=(g=g!=null)?Pl(a,b):wa),l=new l(h,k),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=zh,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=k),l}function eb(a,l,h,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==a&&zh.enqueueReplaceState(l,l.state,null)}function mg(a,l,h,g){var b=a.stateNode;b.props=h,b.state=a.memoizedState,b.refs={},Zf(a);var k=l.contextType;typeof k=="object"&&k!==null?b.context=br(k):(k=Fn(l)?fo:ln.current,b.context=Pl(a,k)),b.state=a.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(hg(a,l,k,h),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&zh.enqueueReplaceState(b,b.state,null),Mh(a,h,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function Ol(a,l){try{var h="",g=l;do h+=fe(g),g=g.return;while(g);var b=h}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:l,stack:b,digest:null}}function pg(a,l,h){return{value:a,source:null,stack:h!=null?h:null,digest:l!=null?l:null}}function fg(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var kC=typeof WeakMap=="function"?WeakMap:Map;function tb(a,l,h){h=Ui(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){Xh||(Xh=!0,Eg=g),fg(a,l)},h}function sb(a,l,h){h=Ui(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;h.payload=function(){return g(b)},h.callback=function(){fg(a,l)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){fg(a,l),typeof g!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),h}function nb(a,l,h){var g=a.pingCache;if(g===null){g=a.pingCache=new kC;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(h)||(b.add(h),a=VC.bind(null,a,l,h),l.then(a,a))}function rb(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function ib(a,l,h,g,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Ui(-1,1),l.tag=2,Na(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var CC=y.ReactCurrentOwner,Bn=!1;function wn(a,l,h,g){l.child=a===null?N1(l,null,h,g):Fl(l,a.child,h,g)}function ab(a,l,h,g,b){h=h.render;var k=l.ref;return $l(l,b),g=ag(a,l,h,g,k,b),h=og(),a!==null&&!Bn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,zi(a,l,b)):(Yt&&h&&zf(l),l.flags|=1,wn(a,l,g,b),l.child)}function ob(a,l,h,g,b){if(a===null){var k=h.type;return typeof k=="function"&&!Fg(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=k,lb(a,l,k,g,b)):(a=sm(h.type,null,g,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(k=a.child,(a.lanes&b)===0){var O=k.memoizedProps;if(h=h.compare,h=h!==null?h:nd,h(O,g)&&a.ref===l.ref)return zi(a,l,b)}return l.flags|=1,a=Ia(k,g),a.ref=l.ref,a.return=l,l.child=a}function lb(a,l,h,g,b){if(a!==null){var k=a.memoizedProps;if(nd(k,g)&&a.ref===l.ref)if(Bn=!1,l.pendingProps=g=k,(a.lanes&b)!==0)(a.flags&131072)!==0&&(Bn=!0);else return l.lanes=a.lanes,zi(a,l,b)}return gg(a,l,h,g,b)}function cb(a,l,h){var g=l.pendingProps,b=g.children,k=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(zl,rr),rr|=h;else{if((h&1073741824)===0)return a=k!==null?k.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Vt(zl,rr),rr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:h,Vt(zl,rr),rr|=g}else k!==null?(g=k.baseLanes|h,l.memoizedState=null):g=h,Vt(zl,rr),rr|=g;return wn(a,l,b,h),l.child}function db(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function gg(a,l,h,g,b){var k=Fn(h)?fo:ln.current;return k=Pl(l,k),$l(l,b),h=ag(a,l,h,g,k,b),g=og(),a!==null&&!Bn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,zi(a,l,b)):(Yt&&g&&zf(l),l.flags|=1,wn(a,l,h,b),l.child)}function ub(a,l,h,g,b){if(Fn(h)){var k=!0;Ch(l)}else k=!1;if($l(l,b),l.stateNode===null)Hh(a,l),Z1(l,h,g),mg(l,h,g,b),g=!0;else if(a===null){var O=l.stateNode,K=l.memoizedProps;O.props=K;var X=O.context,ce=h.contextType;typeof ce=="object"&&ce!==null?ce=br(ce):(ce=Fn(h)?fo:ln.current,ce=Pl(l,ce));var ye=h.getDerivedStateFromProps,je=typeof ye=="function"||typeof O.getSnapshotBeforeUpdate=="function";je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==g||X!==ce)&&eb(l,O,g,ce),Sa=!1;var ve=l.memoizedState;O.state=ve,Mh(l,g,O,b),X=l.memoizedState,K!==g||ve!==X||Mn.current||Sa?(typeof ye=="function"&&(hg(l,h,ye,g),X=l.memoizedState),(K=Sa||J1(l,h,K,g,ve,X,ce))?(je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),O.props=g,O.state=X,O.context=ce,g=K):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{O=l.stateNode,C1(a,l),K=l.memoizedProps,ce=l.type===l.elementType?K:Wr(l.type,K),O.props=ce,je=l.pendingProps,ve=O.context,X=h.contextType,typeof X=="object"&&X!==null?X=br(X):(X=Fn(h)?fo:ln.current,X=Pl(l,X));var Fe=h.getDerivedStateFromProps;(ye=typeof Fe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==je||ve!==X)&&eb(l,O,g,X),Sa=!1,ve=l.memoizedState,O.state=ve,Mh(l,g,O,b);var Ve=l.memoizedState;K!==je||ve!==Ve||Mn.current||Sa?(typeof Fe=="function"&&(hg(l,h,Fe,g),Ve=l.memoizedState),(ce=Sa||J1(l,h,ce,g,ve,Ve,X)||!1)?(ye||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,Ve,X),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,Ve,X)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ve),O.props=g,O.state=Ve,O.context=X,g=ce):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=1024),g=!1)}return xg(a,l,h,g,k,b)}function xg(a,l,h,g,b,k){db(a,l);var O=(l.flags&128)!==0;if(!g&&!O)return b&&g1(l,h,!1),zi(a,l,k);g=l.stateNode,CC.current=l;var K=O&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&O?(l.child=Fl(l,a.child,null,k),l.child=Fl(l,null,K,k)):wn(a,l,K,k),l.memoizedState=g.state,b&&g1(l,h,!0),l.child}function hb(a){var l=a.stateNode;l.pendingContext?p1(a,l.pendingContext,l.pendingContext!==l.context):l.context&&p1(a,l.context,!1),eg(a,l.containerInfo)}function mb(a,l,h,g,b){return Ml(),qf(b),l.flags|=256,wn(a,l,h,g),l.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function yg(a){return{baseLanes:a,cachePool:null,transitions:null}}function pb(a,l,h){var g=l.pendingProps,b=ss.current,k=!1,O=(l.flags&128)!==0,K;if((K=O)||(K=a!==null&&a.memoizedState===null?!1:(b&2)!==0),K?(k=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),Vt(ss,b&1),a===null)return Wf(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=g.children,a=g.fallback,k?(g=l.mode,k=l.child,O={mode:"hidden",children:O},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=O):k=nm(O,g,0,null),a=No(a,g,h,null),k.return=l,a.return=l,k.sibling=a,l.child=k,l.child.memoizedState=yg(h),l.memoizedState=vg,a):bg(l,O));if(b=a.memoizedState,b!==null&&(K=b.dehydrated,K!==null))return TC(a,l,O,g,K,b,h);if(k){k=g.fallback,O=l.mode,b=a.child,K=b.sibling;var X={mode:"hidden",children:g.children};return(O&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=X,l.deletions=null):(g=Ia(b,X),g.subtreeFlags=b.subtreeFlags&14680064),K!==null?k=Ia(K,k):(k=No(k,O,h,null),k.flags|=2),k.return=l,g.return=l,g.sibling=k,l.child=g,g=k,k=l.child,O=a.child.memoizedState,O=O===null?yg(h):{baseLanes:O.baseLanes|h,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=a.childLanes&~h,l.memoizedState=vg,g}return k=a.child,a=k.sibling,g=Ia(k,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=g,l.memoizedState=null,g}function bg(a,l){return l=nm({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Gh(a,l,h,g){return g!==null&&qf(g),Fl(l,a.child,null,h),a=bg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function TC(a,l,h,g,b,k,O){if(h)return l.flags&256?(l.flags&=-257,g=pg(Error(n(422))),Gh(a,l,O,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(k=g.fallback,b=l.mode,g=nm({mode:"visible",children:g.children},b,0,null),k=No(k,b,O,null),k.flags|=2,g.return=l,k.return=l,g.sibling=k,l.child=g,(l.mode&1)!==0&&Fl(l,a.child,null,O),l.child.memoizedState=yg(O),l.memoizedState=vg,k);if((l.mode&1)===0)return Gh(a,l,O,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var K=g.dgst;return g=K,k=Error(n(419)),g=pg(k,g,void 0),Gh(a,l,O,g)}if(K=(O&a.childLanes)!==0,Bn||K){if(g=Fs,g!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|O))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Oi(a,b),Qr(g,a,b,-1))}return Mg(),g=pg(Error(n(421))),Gh(a,l,O,g)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=OC.bind(null,a),b._reactRetry=l,null):(a=k.treeContext,nr=ba(b.nextSibling),sr=l,Yt=!0,Hr=null,a!==null&&(vr[yr++]=$i,vr[yr++]=Vi,vr[yr++]=go,$i=a.id,Vi=a.overflow,go=l),l=bg(l,g.children),l.flags|=4096,l)}function fb(a,l,h){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Yf(a.return,l,h)}function _g(a,l,h,g,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=h,k.tailMode=b)}function gb(a,l,h){var g=l.pendingProps,b=g.revealOrder,k=g.tail;if(wn(a,l,g.children,h),g=ss.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fb(a,h,l);else if(a.tag===19)fb(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Vt(ss,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(h=l.child,b=null;h!==null;)a=h.alternate,a!==null&&Fh(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),_g(l,!1,b,h,k);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&Fh(a)===null){l.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}_g(l,!0,h,null,k);break;case"together":_g(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Hh(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function zi(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),_o|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Ia(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ia(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function AC(a,l,h){switch(l.tag){case 3:hb(l),Ml();break;case 5:E1(l);break;case 1:Fn(l.type)&&Ch(l);break;case 4:eg(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Vt(Ph,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Vt(ss,ss.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?pb(a,l,h):(Vt(ss,ss.current&1),a=zi(a,l,h),a!==null?a.sibling:null);Vt(ss,ss.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(a.flags&128)!==0){if(g)return gb(a,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Vt(ss,ss.current),g)break;return null;case 22:case 23:return l.lanes=0,cb(a,l,h)}return zi(a,l,h)}var xb,wg,vb,yb;xb=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},wg=function(){},vb=function(a,l,h,g){var b=a.memoizedProps;if(b!==g){a=l.stateNode,yo(pi.current);var k=null;switch(h){case"input":b=ut(a,b),g=ut(a,g),k=[];break;case"select":b=re({},b,{value:void 0}),g=re({},g,{value:void 0}),k=[];break;case"textarea":b=Pn(a,b),g=Pn(a,g),k=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Sh)}Lr(h,g);var O;h=null;for(ce in b)if(!g.hasOwnProperty(ce)&&b.hasOwnProperty(ce)&&b[ce]!=null)if(ce==="style"){var K=b[ce];for(O in K)K.hasOwnProperty(O)&&(h||(h={}),h[O]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?k||(k=[]):(k=k||[]).push(ce,null));for(ce in g){var X=g[ce];if(K=b!=null?b[ce]:void 0,g.hasOwnProperty(ce)&&X!==K&&(X!=null||K!=null))if(ce==="style")if(K){for(O in K)!K.hasOwnProperty(O)||X&&X.hasOwnProperty(O)||(h||(h={}),h[O]="");for(O in X)X.hasOwnProperty(O)&&K[O]!==X[O]&&(h||(h={}),h[O]=X[O])}else h||(k||(k=[]),k.push(ce,h)),h=X;else ce==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(k=k||[]).push(ce,X)):ce==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(ce,""+X):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(X!=null&&ce==="onScroll"&&Wt("scroll",a),k||K===X||(k=[])):(k=k||[]).push(ce,X))}h&&(k=k||[]).push("style",h);var ce=k;(l.updateQueue=ce)&&(l.flags|=4)}},yb=function(a,l,h,g){h!==g&&(l.flags|=4)};function vd(a,l){if(!Yt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function dn(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(l)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,l}function EC(a,l,h){var g=l.pendingProps;switch(Gf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(l),null;case 1:return Fn(l.type)&&kh(),dn(l),null;case 3:return g=l.stateNode,Vl(),qt(Mn),qt(ln),ng(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ih(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hr!==null&&(Pg(Hr),Hr=null))),wg(a,l),dn(l),null;case 5:tg(l);var b=yo(md.current);if(h=l.type,a!==null&&l.stateNode!=null)vb(a,l,h,g,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return dn(l),null}if(a=yo(pi.current),Ih(l)){g=l.stateNode,h=l.type;var k=l.memoizedProps;switch(g[mi]=l,g[ld]=k,a=(l.mode&1)!==0,h){case"dialog":Wt("cancel",g),Wt("close",g);break;case"iframe":case"object":case"embed":Wt("load",g);break;case"video":case"audio":for(b=0;b<id.length;b++)Wt(id[b],g);break;case"source":Wt("error",g);break;case"img":case"image":case"link":Wt("error",g),Wt("load",g);break;case"details":Wt("toggle",g);break;case"input":ts(g,k),Wt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},Wt("invalid",g);break;case"textarea":xn(g,k),Wt("invalid",g)}Lr(h,k),b=null;for(var O in k)if(k.hasOwnProperty(O)){var K=k[O];O==="children"?typeof K=="string"?g.textContent!==K&&(k.suppressHydrationWarning!==!0&&jh(g.textContent,K,a),b=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(k.suppressHydrationWarning!==!0&&jh(g.textContent,K,a),b=["children",""+K]):i.hasOwnProperty(O)&&K!=null&&O==="onScroll"&&Wt("scroll",g)}switch(h){case"input":De(g),Rn(g,k,!0);break;case"textarea":De(g),ls(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=Sh)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Qt(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=O.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=O.createElement(h,{is:g.is}):(a=O.createElement(h),h==="select"&&(O=a,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):a=O.createElementNS(a,h),a[mi]=l,a[ld]=g,xb(a,l,!1,!1),l.stateNode=a;e:{switch(O=Ht(h,g),h){case"dialog":Wt("cancel",a),Wt("close",a),b=g;break;case"iframe":case"object":case"embed":Wt("load",a),b=g;break;case"video":case"audio":for(b=0;b<id.length;b++)Wt(id[b],a);b=g;break;case"source":Wt("error",a),b=g;break;case"img":case"image":case"link":Wt("error",a),Wt("load",a),b=g;break;case"details":Wt("toggle",a),b=g;break;case"input":ts(a,g),b=ut(a,g),Wt("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=re({},g,{value:void 0}),Wt("invalid",a);break;case"textarea":xn(a,g),b=Pn(a,g),Wt("invalid",a);break;default:b=g}Lr(h,b),K=b;for(k in K)if(K.hasOwnProperty(k)){var X=K[k];k==="style"?Ci(a,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&ii(a,X)):k==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&Qn(a,X):typeof X=="number"&&Qn(a,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Wt("scroll",a):X!=null&&T(a,k,X,O))}switch(h){case"input":De(a),Rn(a,g,!1);break;case"textarea":De(a),ls(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Ce(g.value));break;case"select":a.multiple=!!g.multiple,k=g.value,k!=null?Ls(a,!!g.multiple,k,!1):g.defaultValue!=null&&Ls(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Sh)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return dn(l),null;case 6:if(a&&l.stateNode!=null)yb(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(h=yo(md.current),yo(pi.current),Ih(l)){if(g=l.stateNode,h=l.memoizedProps,g[mi]=l,(k=g.nodeValue!==h)&&(a=sr,a!==null))switch(a.tag){case 3:jh(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&jh(g.nodeValue,h,(a.mode&1)!==0)}k&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[mi]=l,l.stateNode=g}return dn(l),null;case 13:if(qt(ss),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Yt&&nr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)w1(),Ml(),l.flags|=98560,k=!1;else if(k=Ih(l),g!==null&&g.dehydrated!==null){if(a===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[mi]=l}else Ml(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;dn(l),k=!1}else Hr!==null&&(Pg(Hr),Hr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(ss.current&1)!==0?Es===0&&(Es=3):Mg())),l.updateQueue!==null&&(l.flags|=4),dn(l),null);case 4:return Vl(),wg(a,l),a===null&&ad(l.stateNode.containerInfo),dn(l),null;case 10:return Xf(l.type._context),dn(l),null;case 17:return Fn(l.type)&&kh(),dn(l),null;case 19:if(qt(ss),k=l.memoizedState,k===null)return dn(l),null;if(g=(l.flags&128)!==0,O=k.rendering,O===null)if(g)vd(k,!1);else{if(Es!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(O=Fh(a),O!==null){for(l.flags|=128,vd(k,!1),g=O.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)k=h,a=g,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,a=O.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return Vt(ss,ss.current&1|2),l.child}a=a.sibling}k.tail!==null&&$t()>Gl&&(l.flags|=128,g=!0,vd(k,!1),l.lanes=4194304)}else{if(!g)if(a=Fh(O),a!==null){if(l.flags|=128,g=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),vd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!Yt)return dn(l),null}else 2*$t()-k.renderingStartTime>Gl&&h!==1073741824&&(l.flags|=128,g=!0,vd(k,!1),l.lanes=4194304);k.isBackwards?(O.sibling=l.child,l.child=O):(h=k.last,h!==null?h.sibling=O:l.child=O,k.last=O)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=$t(),l.sibling=null,h=ss.current,Vt(ss,g?h&1|2:h&1),l):(dn(l),null);case 22:case 23:return Dg(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(rr&1073741824)!==0&&(dn(l),l.subtreeFlags&6&&(l.flags|=8192)):dn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function IC(a,l){switch(Gf(l),l.tag){case 1:return Fn(l.type)&&kh(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Vl(),qt(Mn),qt(ln),ng(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return tg(l),null;case 13:if(qt(ss),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ml()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return qt(ss),null;case 4:return Vl(),null;case 10:return Xf(l.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var Wh=!1,un=!1,RC=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ul(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){cs(a,l,g)}else h.current=null}function jg(a,l,h){try{h()}catch(g){cs(a,l,g)}}var bb=!1;function PC(a,l){if(Df=xa,a=J0(),Cf(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{h.nodeType,k.nodeType}catch(ke){h=null;break e}var O=0,K=-1,X=-1,ce=0,ye=0,je=a,ve=null;t:for(;;){for(var Fe;je!==h||b!==0&&je.nodeType!==3||(K=O+b),je!==k||g!==0&&je.nodeType!==3||(X=O+g),je.nodeType===3&&(O+=je.nodeValue.length),(Fe=je.firstChild)!==null;)ve=je,je=Fe;for(;;){if(je===a)break t;if(ve===h&&++ce===b&&(K=O),ve===k&&++ye===g&&(X=O),(Fe=je.nextSibling)!==null)break;je=ve,ve=je.parentNode}je=Fe}h=K===-1||X===-1?null:{start:K,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Mf={focusedElem:a,selectionRange:h},xa=!1,$e=l;$e!==null;)if(l=$e,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,$e=a;else for(;$e!==null;){l=$e;try{var Ve=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Oe=Ve.memoizedProps,gs=Ve.memoizedState,oe=l.stateNode,Z=oe.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:Wr(l.type,Oe),gs);oe.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var le=l.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){cs(l,l.return,ke)}if(a=l.sibling,a!==null){a.return=l.return,$e=a;break}$e=l.return}return Ve=bb,bb=!1,Ve}function yd(a,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var k=b.destroy;b.destroy=void 0,k!==void 0&&jg(l,h,k)}b=b.next}while(b!==g)}}function qh(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function Sg(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function _b(a){var l=a.alternate;l!==null&&(a.alternate=null,_b(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[mi],delete l[ld],delete l[Vf],delete l[fC],delete l[gC])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function wb(a){return a.tag===5||a.tag===3||a.tag===4}function jb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||wb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ng(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Sh));else if(g!==4&&(a=a.child,a!==null))for(Ng(a,l,h),a=a.sibling;a!==null;)Ng(a,l,h),a=a.sibling}function kg(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(kg(a,l,h),a=a.sibling;a!==null;)kg(a,l,h),a=a.sibling}var Ks=null,qr=!1;function ka(a,l,h){for(h=h.child;h!==null;)Sb(a,l,h),h=h.sibling}function Sb(a,l,h){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(ao,h)}catch(K){}switch(h.tag){case 5:un||Ul(h,l);case 6:var g=Ks,b=qr;Ks=null,ka(a,l,h),Ks=g,qr=b,Ks!==null&&(qr?(a=Ks,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Ks.removeChild(h.stateNode));break;case 18:Ks!==null&&(qr?(a=Ks,h=h.stateNode,a.nodeType===8?$f(a.parentNode,h):a.nodeType===1&&$f(a,h),Ur(a)):$f(Ks,h.stateNode));break;case 4:g=Ks,b=qr,Ks=h.stateNode.containerInfo,qr=!0,ka(a,l,h),Ks=g,qr=b;break;case 0:case 11:case 14:case 15:if(!un&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var k=b,O=k.destroy;k=k.tag,O!==void 0&&((k&2)!==0||(k&4)!==0)&&jg(h,l,O),b=b.next}while(b!==g)}ka(a,l,h);break;case 1:if(!un&&(Ul(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(K){cs(h,l,K)}ka(a,l,h);break;case 21:ka(a,l,h);break;case 22:h.mode&1?(un=(g=un)||h.memoizedState!==null,ka(a,l,h),un=g):ka(a,l,h);break;default:ka(a,l,h)}}function Nb(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new RC),l.forEach(function(g){var b=UC.bind(null,a,g);h.has(g)||(h.add(g),g.then(b,b))})}}function Kr(a,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var k=a,O=l,K=O;e:for(;K!==null;){switch(K.tag){case 5:Ks=K.stateNode,qr=!1;break e;case 3:Ks=K.stateNode.containerInfo,qr=!0;break e;case 4:Ks=K.stateNode.containerInfo,qr=!0;break e}K=K.return}if(Ks===null)throw Error(n(160));Sb(k,O,b),Ks=null,qr=!1;var X=b.alternate;X!==null&&(X.return=null),b.return=null}catch(ce){cs(b,l,ce)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)kb(l,a),l=l.sibling}function kb(a,l){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Kr(l,a),gi(a),g&4){try{yd(3,a,a.return),qh(3,a)}catch(Oe){cs(a,a.return,Oe)}try{yd(5,a,a.return)}catch(Oe){cs(a,a.return,Oe)}}break;case 1:Kr(l,a),gi(a),g&512&&h!==null&&Ul(h,h.return);break;case 5:if(Kr(l,a),gi(a),g&512&&h!==null&&Ul(h,h.return),a.flags&32){var b=a.stateNode;try{Qn(b,"")}catch(Oe){cs(a,a.return,Oe)}}if(g&4&&(b=a.stateNode,b!=null)){var k=a.memoizedProps,O=h!==null?h.memoizedProps:k,K=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{K==="input"&&k.type==="radio"&&k.name!=null&&zs(b,k),Ht(K,O);var ce=Ht(K,k);for(O=0;O<X.length;O+=2){var ye=X[O],je=X[O+1];ye==="style"?Ci(b,je):ye==="dangerouslySetInnerHTML"?ii(b,je):ye==="children"?Qn(b,je):T(b,ye,je,ce)}switch(K){case"input":Gs(b,k);break;case"textarea":vn(b,k);break;case"select":var ve=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Fe=k.value;Fe!=null?Ls(b,!!k.multiple,Fe,!1):ve!==!!k.multiple&&(k.defaultValue!=null?Ls(b,!!k.multiple,k.defaultValue,!0):Ls(b,!!k.multiple,k.multiple?[]:"",!1))}b[ld]=k}catch(Oe){cs(a,a.return,Oe)}}break;case 6:if(Kr(l,a),gi(a),g&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,k=a.memoizedProps;try{b.nodeValue=k}catch(Oe){cs(a,a.return,Oe)}}break;case 3:if(Kr(l,a),gi(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Ur(l.containerInfo)}catch(Oe){cs(a,a.return,Oe)}break;case 4:Kr(l,a),gi(a);break;case 13:Kr(l,a),gi(a),b=a.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Ag=$t())),g&4&&Nb(a);break;case 22:if(ye=h!==null&&h.memoizedState!==null,a.mode&1?(un=(ce=un)||ye,Kr(l,a),un=ce):Kr(l,a),gi(a),g&8192){if(ce=a.memoizedState!==null,(a.stateNode.isHidden=ce)&&!ye&&(a.mode&1)!==0)for($e=a,ye=a.child;ye!==null;){for(je=$e=ye;$e!==null;){switch(ve=$e,Fe=ve.child,ve.tag){case 0:case 11:case 14:case 15:yd(4,ve,ve.return);break;case 1:Ul(ve,ve.return);var Ve=ve.stateNode;if(typeof Ve.componentWillUnmount=="function"){g=ve,h=ve.return;try{l=g,Ve.props=l.memoizedProps,Ve.state=l.memoizedState,Ve.componentWillUnmount()}catch(Oe){cs(g,h,Oe)}}break;case 5:Ul(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Ab(je);continue}}Fe!==null?(Fe.return=ve,$e=Fe):Ab(je)}ye=ye.sibling}e:for(ye=null,je=a;;){if(je.tag===5){if(ye===null){ye=je;try{b=je.stateNode,ce?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(K=je.stateNode,X=je.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=ai("display",O))}catch(Oe){cs(a,a.return,Oe)}}}else if(je.tag===6){if(ye===null)try{je.stateNode.nodeValue=ce?"":je.memoizedProps}catch(Oe){cs(a,a.return,Oe)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===a)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===a)break e;for(;je.sibling===null;){if(je.return===null||je.return===a)break e;ye===je&&(ye=null),je=je.return}ye===je&&(ye=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Kr(l,a),gi(a),g&4&&Nb(a);break;case 21:break;default:Kr(l,a),gi(a)}}function gi(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(wb(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Qn(b,""),g.flags&=-33);var k=jb(a);kg(a,k,b);break;case 3:case 4:var O=g.stateNode.containerInfo,K=jb(a);Ng(a,K,O);break;default:throw Error(n(161))}}catch(X){cs(a,a.return,X)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function LC(a,l,h){$e=a,Cb(a)}function Cb(a,l,h){for(var g=(a.mode&1)!==0;$e!==null;){var b=$e,k=b.child;if(b.tag===22&&g){var O=b.memoizedState!==null||Wh;if(!O){var K=b.alternate,X=K!==null&&K.memoizedState!==null||un;K=Wh;var ce=un;if(Wh=O,(un=X)&&!ce)for($e=b;$e!==null;)O=$e,X=O.child,O.tag===22&&O.memoizedState!==null?Eb(b):X!==null?(X.return=O,$e=X):Eb(b);for(;k!==null;)$e=k,Cb(k),k=k.sibling;$e=b,Wh=K,un=ce}Tb(a)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,$e=k):Tb(a)}}function Tb(a){for(;$e!==null;){var l=$e;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:un||qh(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!un)if(h===null)g.componentDidMount();else{var b=l.elementType===l.type?h.memoizedProps:Wr(l.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&A1(l,k,g);break;case 3:var O=l.updateQueue;if(O!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}A1(l,O,h)}break;case 5:var K=l.stateNode;if(h===null&&l.flags&4){h=K;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ce=l.alternate;if(ce!==null){var ye=ce.memoizedState;if(ye!==null){var je=ye.dehydrated;je!==null&&Ur(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}un||l.flags&512&&Sg(l)}catch(ve){cs(l,l.return,ve)}}if(l===a){$e=null;break}if(h=l.sibling,h!==null){h.return=l.return,$e=h;break}$e=l.return}}function Ab(a){for(;$e!==null;){var l=$e;if(l===a){$e=null;break}var h=l.sibling;if(h!==null){h.return=l.return,$e=h;break}$e=l.return}}function Eb(a){for(;$e!==null;){var l=$e;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{qh(4,l)}catch(X){cs(l,h,X)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(X){cs(l,b,X)}}var k=l.return;try{Sg(l)}catch(X){cs(l,k,X)}break;case 5:var O=l.return;try{Sg(l)}catch(X){cs(l,O,X)}}}catch(X){cs(l,l.return,X)}if(l===a){$e=null;break}var K=l.sibling;if(K!==null){K.return=l.return,$e=K;break}$e=l.return}}var DC=Math.ceil,Kh=y.ReactCurrentDispatcher,Cg=y.ReactCurrentOwner,wr=y.ReactCurrentBatchConfig,Nt=0,Fs=null,_s=null,Qs=0,rr=0,zl=_a(0),Es=0,bd=null,_o=0,Qh=0,Tg=0,_d=null,$n=null,Ag=0,Gl=1/0,Gi=null,Xh=!1,Eg=null,Ca=null,Yh=!1,Ta=null,Jh=0,wd=0,Ig=null,Zh=-1,em=0;function jn(){return(Nt&6)!==0?$t():Zh!==-1?Zh:Zh=$t()}function Aa(a){return(a.mode&1)===0?1:(Nt&2)!==0&&Qs!==0?Qs&-Qs:vC.transition!==null?(em===0&&(em=lo()),em):(a=_t,a!==0||(a=window.event,a=a===void 0?16:Xc(a.type)),a)}function Qr(a,l,h,g){if(50<wd)throw wd=0,Ig=null,Error(n(185));ma(a,h,g),((Nt&2)===0||a!==Fs)&&(a===Fs&&((Nt&2)===0&&(Qh|=h),Es===4&&Ea(a,Qs)),Vn(a,g),h===1&&Nt===0&&(l.mode&1)===0&&(Gl=$t()+500,Th&&ja()))}function Vn(a,l){var h=a.callbackNode;Ri(a,l);var g=oo(a,a===Fs?Qs:0);if(g===0)h!==null&&Hc(h),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(h!=null&&Hc(h),l===1)a.tag===0?xC(Rb.bind(null,a)):x1(Rb.bind(null,a)),mC(function(){(Nt&6)===0&&ja()}),h=null;else{switch(fa(g)){case 1:h=io;break;case 4:h=da;break;case 16:h=fr;break;case 536870912:h=eh;break;default:h=fr}h=Vb(h,Ib.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function Ib(a,l){if(Zh=-1,em=0,(Nt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Hl()&&a.callbackNode!==h)return null;var g=oo(a,a===Fs?Qs:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=tm(a,g);else{l=g;var b=Nt;Nt|=2;var k=Lb();(Fs!==a||Qs!==l)&&(Gi=null,Gl=$t()+500,jo(a,l));do try{BC();break}catch(K){Pb(a,K)}while(!0);Qf(),Kh.current=k,Nt=b,_s!==null?l=0:(Fs=null,Qs=0,l=Es)}if(l!==0){if(l===2&&(b=Zn(a),b!==0&&(g=b,l=Rg(a,b))),l===1)throw h=bd,jo(a,0),Ea(a,g),Vn(a,$t()),h;if(l===6)Ea(a,g);else{if(b=a.current.alternate,(g&30)===0&&!MC(b)&&(l=tm(a,g),l===2&&(k=Zn(a),k!==0&&(g=k,l=Rg(a,k))),l===1))throw h=bd,jo(a,0),Ea(a,g),Vn(a,$t()),h;switch(a.finishedWork=b,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:So(a,$n,Gi);break;case 3:if(Ea(a,g),(g&130023424)===g&&(l=Ag+500-$t(),10<l)){if(oo(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){jn(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Bf(So.bind(null,a,$n,Gi),l);break}So(a,$n,Gi);break;case 4:if(Ea(a,g),(g&4194240)===g)break;for(l=a.eventTimes,b=-1;0<g;){var O=31-bn(g);k=1<<O,O=l[O],O>b&&(b=O),g&=~k}if(g=b,g=$t()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*DC(g/1960))-g,10<g){a.timeoutHandle=Bf(So.bind(null,a,$n,Gi),g);break}So(a,$n,Gi);break;case 5:So(a,$n,Gi);break;default:throw Error(n(329))}}}return Vn(a,$t()),a.callbackNode===h?Ib.bind(null,a):null}function Rg(a,l){var h=_d;return a.current.memoizedState.isDehydrated&&(jo(a,l).flags|=256),a=tm(a,l),a!==2&&(l=$n,$n=h,l!==null&&Pg(l)),a}function Pg(a){$n===null?$n=a:$n.push.apply($n,a)}function MC(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],k=b.getSnapshot;b=b.value;try{if(!Gr(k(),b))return!1}catch(O){return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ea(a,l){for(l&=~Tg,l&=~Qh,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-bn(l),g=1<<h;a[h]=-1,l&=~g}}function Rb(a){if((Nt&6)!==0)throw Error(n(327));Hl();var l=oo(a,0);if((l&1)===0)return Vn(a,$t()),null;var h=tm(a,l);if(a.tag!==0&&h===2){var g=Zn(a);g!==0&&(l=g,h=Rg(a,g))}if(h===1)throw h=bd,jo(a,0),Ea(a,l),Vn(a,$t()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,So(a,$n,Gi),Vn(a,$t()),null}function Lg(a,l){var h=Nt;Nt|=1;try{return a(l)}finally{Nt=h,Nt===0&&(Gl=$t()+500,Th&&ja())}}function wo(a){Ta!==null&&Ta.tag===0&&(Nt&6)===0&&Hl();var l=Nt;Nt|=1;var h=wr.transition,g=_t;try{if(wr.transition=null,_t=1,a)return a()}finally{_t=g,wr.transition=h,Nt=l,(Nt&6)===0&&ja()}}function Dg(){rr=zl.current,qt(zl)}function jo(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,hC(h)),_s!==null)for(h=_s.return;h!==null;){var g=h;switch(Gf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&kh();break;case 3:Vl(),qt(Mn),qt(ln),ng();break;case 5:tg(g);break;case 4:Vl();break;case 13:qt(ss);break;case 19:qt(ss);break;case 10:Xf(g.type._context);break;case 22:case 23:Dg()}h=h.return}if(Fs=a,_s=a=Ia(a.current,null),Qs=rr=l,Es=0,bd=null,Tg=Qh=_o=0,$n=_d=null,vo!==null){for(l=0;l<vo.length;l++)if(h=vo[l],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,k=h.pending;if(k!==null){var O=k.next;k.next=b,g.next=O}h.pending=g}vo=null}return a}function Pb(a,l){do{var h=_s;try{if(Qf(),Bh.current=Uh,$h){for(var g=ns.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}$h=!1}if(bo=0,Ms=As=ns=null,pd=!1,fd=0,Cg.current=null,h===null||h.return===null){Es=1,bd=l,_s=null;break}e:{var k=a,O=h.return,K=h,X=l;if(l=Qs,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ce=X,ye=K,je=ye.tag;if((ye.mode&1)===0&&(je===0||je===11||je===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Fe=rb(O);if(Fe!==null){Fe.flags&=-257,ib(Fe,O,K,k,l),Fe.mode&1&&nb(k,ce,l),l=Fe,X=ce;var Ve=l.updateQueue;if(Ve===null){var Oe=new Set;Oe.add(X),l.updateQueue=Oe}else Ve.add(X);break e}else{if((l&1)===0){nb(k,ce,l),Mg();break e}X=Error(n(426))}}else if(Yt&&K.mode&1){var gs=rb(O);if(gs!==null){(gs.flags&65536)===0&&(gs.flags|=256),ib(gs,O,K,k,l),qf(Ol(X,K));break e}}k=X=Ol(X,K),Es!==4&&(Es=2),_d===null?_d=[k]:_d.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var oe=tb(k,X,l);T1(k,oe);break e;case 1:K=X;var Z=k.type,le=k.stateNode;if((k.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ca===null||!Ca.has(le)))){k.flags|=65536,l&=-l,k.lanes|=l;var ke=sb(k,K,l);T1(k,ke);break e}}k=k.return}while(k!==null)}Mb(h)}catch(Ge){l=Ge,_s===h&&h!==null&&(_s=h=h.return);continue}break}while(!0)}function Lb(){var a=Kh.current;return Kh.current=Uh,a===null?Uh:a}function Mg(){(Es===0||Es===3||Es===2)&&(Es=4),Fs===null||(_o&268435455)===0&&(Qh&268435455)===0||Ea(Fs,Qs)}function tm(a,l){var h=Nt;Nt|=2;var g=Lb();(Fs!==a||Qs!==l)&&(Gi=null,jo(a,l));do try{FC();break}catch(b){Pb(a,b)}while(!0);if(Qf(),Nt=h,Kh.current=g,_s!==null)throw Error(n(261));return Fs=null,Qs=0,Es}function FC(){for(;_s!==null;)Db(_s)}function BC(){for(;_s!==null&&!Ju();)Db(_s)}function Db(a){var l=$b(a.alternate,a,rr);a.memoizedProps=a.pendingProps,l===null?Mb(a):_s=l,Cg.current=null}function Mb(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=EC(h,l,rr),h!==null){_s=h;return}}else{if(h=IC(h,l),h!==null){h.flags&=32767,_s=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Es=6,_s=null;return}}if(l=l.sibling,l!==null){_s=l;return}_s=l=a}while(l!==null);Es===0&&(Es=5)}function So(a,l,h){var g=_t,b=wr.transition;try{wr.transition=null,_t=1,$C(a,l,h,g)}finally{wr.transition=b,_t=g}return null}function $C(a,l,h,g){do Hl();while(Ta!==null);if((Nt&6)!==0)throw Error(n(327));h=a.finishedWork;var b=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var k=h.lanes|h.childLanes;if(Mt(a,k),a===Fs&&(_s=Fs=null,Qs=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Yh||(Yh=!0,Vb(fr,function(){return Hl(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=wr.transition,wr.transition=null;var O=_t;_t=1;var K=Nt;Nt|=4,Cg.current=null,PC(a,h),kb(h,a),iC(Mf),xa=!!Df,Mf=Df=null,a.current=h,LC(h),yf(),Nt=K,_t=O,wr.transition=k}else a.current=h;if(Yh&&(Yh=!1,Ta=a,Jh=b),k=a.pendingLanes,k===0&&(Ca=null),th(h.stateNode),Vn(a,$t()),l!==null)for(g=a.onRecoverableError,h=0;h<l.length;h++)b=l[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(Xh)throw Xh=!1,a=Eg,Eg=null,a;return(Jh&1)!==0&&a.tag!==0&&Hl(),k=a.pendingLanes,(k&1)!==0?a===Ig?wd++:(wd=0,Ig=a):wd=0,ja(),null}function Hl(){if(Ta!==null){var a=fa(Jh),l=wr.transition,h=_t;try{if(wr.transition=null,_t=16>a?16:a,Ta===null)var g=!1;else{if(a=Ta,Ta=null,Jh=0,(Nt&6)!==0)throw Error(n(331));var b=Nt;for(Nt|=4,$e=a.current;$e!==null;){var k=$e,O=k.child;if(($e.flags&16)!==0){var K=k.deletions;if(K!==null){for(var X=0;X<K.length;X++){var ce=K[X];for($e=ce;$e!==null;){var ye=$e;switch(ye.tag){case 0:case 11:case 15:yd(8,ye,k)}var je=ye.child;if(je!==null)je.return=ye,$e=je;else for(;$e!==null;){ye=$e;var ve=ye.sibling,Fe=ye.return;if(_b(ye),ye===ce){$e=null;break}if(ve!==null){ve.return=Fe,$e=ve;break}$e=Fe}}}var Ve=k.alternate;if(Ve!==null){var Oe=Ve.child;if(Oe!==null){Ve.child=null;do{var gs=Oe.sibling;Oe.sibling=null,Oe=gs}while(Oe!==null)}}$e=k}}if((k.subtreeFlags&2064)!==0&&O!==null)O.return=k,$e=O;else e:for(;$e!==null;){if(k=$e,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:yd(9,k,k.return)}var oe=k.sibling;if(oe!==null){oe.return=k.return,$e=oe;break e}$e=k.return}}var Z=a.current;for($e=Z;$e!==null;){O=$e;var le=O.child;if((O.subtreeFlags&2064)!==0&&le!==null)le.return=O,$e=le;else e:for(O=Z;$e!==null;){if(K=$e,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:qh(9,K)}}catch(Ge){cs(K,K.return,Ge)}if(K===O){$e=null;break e}var ke=K.sibling;if(ke!==null){ke.return=K.return,$e=ke;break e}$e=K.return}}if(Nt=b,ja(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(ao,a)}catch(Ge){}g=!0}return g}finally{_t=h,wr.transition=l}}return!1}function Fb(a,l,h){l=Ol(h,l),l=tb(a,l,1),a=Na(a,l,1),l=jn(),a!==null&&(ma(a,1,l),Vn(a,l))}function cs(a,l,h){if(a.tag===3)Fb(a,a,h);else for(;l!==null;){if(l.tag===3){Fb(l,a,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ca===null||!Ca.has(g))){a=Ol(h,a),a=sb(l,a,1),l=Na(l,a,1),a=jn(),l!==null&&(ma(l,1,a),Vn(l,a));break}}l=l.return}}function VC(a,l,h){var g=a.pingCache;g!==null&&g.delete(l),l=jn(),a.pingedLanes|=a.suspendedLanes&h,Fs===a&&(Qs&h)===h&&(Es===4||Es===3&&(Qs&130023424)===Qs&&500>$t()-Ag?jo(a,0):Tg|=h),Vn(a,l)}function Bb(a,l){l===0&&((a.mode&1)===0?l=1:(l=pl,pl<<=1,(pl&130023424)===0&&(pl=4194304)));var h=jn();a=Oi(a,l),a!==null&&(ma(a,l,h),Vn(a,h))}function OC(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Bb(a,h)}function UC(a,l){var h=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),Bb(a,h)}var $b;$b=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||Mn.current)Bn=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return Bn=!1,AC(a,l,h);Bn=(a.flags&131072)!==0}else Bn=!1,Yt&&(l.flags&1048576)!==0&&v1(l,Eh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Hh(a,l),a=l.pendingProps;var b=Pl(l,ln.current);$l(l,h),b=ag(null,l,g,a,b,h);var k=og();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Fn(g)?(k=!0,Ch(l)):k=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Zf(l),b.updater=zh,l.stateNode=b,b._reactInternals=l,mg(l,g,a,h),l=xg(null,l,g,!0,k,h)):(l.tag=0,Yt&&k&&zf(l),wn(null,l,b,h),l=l.child),l;case 16:g=l.elementType;e:{switch(Hh(a,l),a=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=GC(g),a=Wr(g,a),b){case 0:l=gg(null,l,g,a,h);break e;case 1:l=ub(null,l,g,a,h);break e;case 11:l=ab(null,l,g,a,h);break e;case 14:l=ob(null,l,g,Wr(g.type,a),h);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Wr(g,b),gg(a,l,g,b,h);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Wr(g,b),ub(a,l,g,b,h);case 3:e:{if(hb(l),a===null)throw Error(n(387));g=l.pendingProps,k=l.memoizedState,b=k.element,C1(a,l),Mh(l,g,null,h);var O=l.memoizedState;if(g=O.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){b=Ol(Error(n(423)),l),l=mb(a,l,g,h,b);break e}else if(g!==b){b=Ol(Error(n(424)),l),l=mb(a,l,g,h,b);break e}else for(nr=ba(l.stateNode.containerInfo.firstChild),sr=l,Yt=!0,Hr=null,h=N1(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ml(),g===b){l=zi(a,l,h);break e}wn(a,l,g,h)}l=l.child}return l;case 5:return E1(l),a===null&&Wf(l),g=l.type,b=l.pendingProps,k=a!==null?a.memoizedProps:null,O=b.children,Ff(g,b)?O=null:k!==null&&Ff(g,k)&&(l.flags|=32),db(a,l),wn(a,l,O,h),l.child;case 6:return a===null&&Wf(l),null;case 13:return pb(a,l,h);case 4:return eg(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Fl(l,null,g,h):wn(a,l,g,h),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Wr(g,b),ab(a,l,g,b,h);case 7:return wn(a,l,l.pendingProps,h),l.child;case 8:return wn(a,l,l.pendingProps.children,h),l.child;case 12:return wn(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,k=l.memoizedProps,O=b.value,Vt(Ph,g._currentValue),g._currentValue=O,k!==null)if(Gr(k.value,O)){if(k.children===b.children&&!Mn.current){l=zi(a,l,h);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var K=k.dependencies;if(K!==null){O=k.child;for(var X=K.firstContext;X!==null;){if(X.context===g){if(k.tag===1){X=Ui(-1,h&-h),X.tag=2;var ce=k.updateQueue;if(ce!==null){ce=ce.shared;var ye=ce.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),ce.pending=X}}k.lanes|=h,X=k.alternate,X!==null&&(X.lanes|=h),Yf(k.return,h,l),K.lanes|=h;break}X=X.next}}else if(k.tag===10)O=k.type===l.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(n(341));O.lanes|=h,K=O.alternate,K!==null&&(K.lanes|=h),Yf(O,h,l),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===l){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}wn(a,l,b.children,h),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,$l(l,h),b=br(b),g=g(b),l.flags|=1,wn(a,l,g,h),l.child;case 14:return g=l.type,b=Wr(g,l.pendingProps),b=Wr(g.type,b),ob(a,l,g,b,h);case 15:return lb(a,l,l.type,l.pendingProps,h);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Wr(g,b),Hh(a,l),l.tag=1,Fn(g)?(a=!0,Ch(l)):a=!1,$l(l,h),Z1(l,g,b),mg(l,g,b,h),xg(null,l,g,!0,a,h);case 19:return gb(a,l,h);case 22:return cb(a,l,h)}throw Error(n(156,l.tag))};function Vb(a,l){return hl(a,l)}function zC(a,l,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(a,l,h,g){return new zC(a,l,h,g)}function Fg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function GC(a){if(typeof a=="function")return Fg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===z)return 14}return 2}function Ia(a,l){var h=a.alternate;return h===null?(h=jr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function sm(a,l,h,g,b,k){var O=2;if(g=a,typeof a=="function")Fg(a)&&(O=1);else if(typeof a=="string")O=5;else e:switch(a){case C:return No(h.children,b,k,l);case _:O=8,b|=8;break;case A:return a=jr(12,h,l,b|2),a.elementType=A,a.lanes=k,a;case $:return a=jr(13,h,l,b),a.elementType=$,a.lanes=k,a;case W:return a=jr(19,h,l,b),a.elementType=W,a.lanes=k,a;case Q:return nm(h,b,k,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:O=10;break e;case I:O=9;break e;case V:O=11;break e;case z:O=14;break e;case q:O=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=jr(O,h,l,b),l.elementType=a,l.type=g,l.lanes=k,l}function No(a,l,h,g){return a=jr(7,a,g,l),a.lanes=h,a}function nm(a,l,h,g){return a=jr(22,a,g,l),a.elementType=Q,a.lanes=h,a.stateNode={isHidden:!1},a}function Bg(a,l,h){return a=jr(6,a,null,l),a.lanes=h,a}function $g(a,l,h){return l=jr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function HC(a,l,h,g,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Vg(a,l,h,g,b,k,O,K,X){return a=new HC(a,l,h,K,X),l===1?(l=1,k===!0&&(l|=8)):l=0,k=jr(3,null,null,l),a.current=k,k.stateNode=a,k.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(k),a}function WC(a,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:g==null?null:""+g,children:a,containerInfo:l,implementation:h}}function Ob(a){if(!a)return wa;a=a._reactInternals;e:{if(Fr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Fn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Fn(h))return f1(a,h,l)}return l}function Ub(a,l,h,g,b,k,O,K,X){return a=Vg(h,g,!0,a,b,k,O,K,X),a.context=Ob(null),h=a.current,g=jn(),b=Aa(h),k=Ui(g,b),k.callback=l!=null?l:null,Na(h,k,b),a.current.lanes=b,ma(a,b,g),Vn(a,g),a}function rm(a,l,h,g){var b=l.current,k=jn(),O=Aa(b);return h=Ob(h),l.context===null?l.context=h:l.pendingContext=h,l=Ui(k,O),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=Na(b,l,O),a!==null&&(Qr(a,b,O,k),Dh(a,b,O)),O}function im(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function zb(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Og(a,l){zb(a,l),(a=a.alternate)&&zb(a,l)}function qC(){return null}var Gb=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ug(a){this._internalRoot=a}am.prototype.render=Ug.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));rm(a,l,null,null)},am.prototype.unmount=Ug.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;wo(function(){rm(null,a,null,null)}),l[Fi]=null}};function am(a){this._internalRoot=a}am.prototype.unstable_scheduleHydration=function(a){if(a){var l=ah();a={blockedOn:null,target:a,priority:l};for(var h=0;h<ci.length&&l!==0&&l<ci[h].priority;h++);ci.splice(h,0,a),h===0&&ch(a)}};function zg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function om(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Hb(){}function KC(a,l,h,g,b){if(b){if(typeof g=="function"){var k=g;g=function(){var ce=im(O);k.call(ce)}}var O=Ub(l,g,a,0,null,!1,!1,"",Hb);return a._reactRootContainer=O,a[Fi]=O.current,ad(a.nodeType===8?a.parentNode:a),wo(),O}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var K=g;g=function(){var ce=im(X);K.call(ce)}}var X=Vg(a,0,!1,null,null,!1,!1,"",Hb);return a._reactRootContainer=X,a[Fi]=X.current,ad(a.nodeType===8?a.parentNode:a),wo(function(){rm(l,X,h,g)}),X}function lm(a,l,h,g,b){var k=h._reactRootContainer;if(k){var O=k;if(typeof b=="function"){var K=b;b=function(){var X=im(O);K.call(X)}}rm(l,O,a,b)}else O=KC(h,l,a,b,g);return im(O)}rh=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=ua(l.pendingLanes);h!==0&&(pa(l,h|1),Vn(l,$t()),(Nt&6)===0&&(Gl=$t()+500,ja()))}break;case 13:wo(function(){var g=Oi(a,1);if(g!==null){var b=jn();Qr(g,a,1,b)}}),Og(a,1)}},fl=function(a){if(a.tag===13){var l=Oi(a,134217728);if(l!==null){var h=jn();Qr(l,a,134217728,h)}Og(a,134217728)}},ih=function(a){if(a.tag===13){var l=Aa(a),h=Oi(a,l);if(h!==null){var g=jn();Qr(h,a,l,g)}Og(a,l)}},ah=function(){return _t},oh=function(a,l){var h=_t;try{return _t=a,l()}finally{_t=h}},Ai=function(a,l,h){switch(l){case"input":if(Gs(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==a&&g.form===a.form){var b=Nh(g);if(!b)throw Error(n(90));Ee(g),Gs(g,b)}}}break;case"textarea":vn(a,h);break;case"select":l=h.value,l!=null&&Ls(a,!!h.multiple,l,!1)}},to=Lg,Oc=wo;var QC={usingClientEntryPoint:!1,Events:[cd,Il,Nh,Yn,Vc,Lg]},jd={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XC={bundleType:jd.bundleType,version:jd.version,rendererPackageName:jd.rendererPackageName,rendererConfig:jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Gc(a),a===null?null:a.stateNode},findFiberByHostInstance:jd.findFiberByHostInstance||qC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{ao=cm.inject(XC),Jn=cm}catch(a){}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC,On.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(l))throw Error(n(200));return WC(a,l,null,h)},On.createRoot=function(a,l){if(!zg(a))throw Error(n(299));var h=!1,g="",b=Gb;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Vg(a,1,!1,null,null,h,!1,g,b),a[Fi]=l.current,ad(a.nodeType===8?a.parentNode:a),new Ug(l)},On.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Gc(l),a=a===null?null:a.stateNode,a},On.flushSync=function(a){return wo(a)},On.hydrate=function(a,l,h){if(!om(l))throw Error(n(200));return lm(null,a,l,!0,h)},On.hydrateRoot=function(a,l,h){if(!zg(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,b=!1,k="",O=Gb;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),l=Ub(l,null,a,1,h!=null?h:null,b,!1,k,O),a[Fi]=l.current,ad(a),g)for(a=0;a<g.length;a++)h=g[a],b=h._getVersion,b=b(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,b]:l.mutableSourceEagerHydrationData.push(h,b);return new am(l)},On.render=function(a,l,h){if(!om(l))throw Error(n(200));return lm(null,a,l,!1,h)},On.unmountComponentAtNode=function(a){if(!om(a))throw Error(n(40));return a._reactRootContainer?(wo(function(){lm(null,null,a,!1,function(){a._reactRootContainer=null,a[Fi]=null})}),!0):!1},On.unstable_batchedUpdates=Lg,On.unstable_renderSubtreeIntoContainer=function(a,l,h,g){if(!om(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return lm(a,l,h,!1,g)},On.version="18.3.1-next-f1338f8080-20240426",On}var Zb;function Jj(){if(Zb)return Wg.exports;Zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wg.exports=n4(),Wg.exports}var e_;function r4(){if(e_)return dm;e_=1;var t=Jj();return dm.createRoot=t.createRoot,dm.hydrateRoot=t.hydrateRoot,dm}var i4=r4();const a4=Yv(i4),o4={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License"},l4={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},c4={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},d4={nav:o4,topbar:l4,profile:c4},u4={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen"},h4={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},m4={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},p4={nav:u4,topbar:h4,profile:m4},f4={en:d4,de:p4};function Ze(t,e="en"){const n=t.split(".");let r=f4[e];for(const i of n)if(r=r==null?void 0:r[i],r==null)return t;return String(r)}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t_="popstate";function g4(t={}){function e(i,o){let{pathname:c="/",search:d="",hash:u=""}=Zo(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Zx("",{pathname:c,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let u=i.location.href,m=u.indexOf("#");d=m===-1?u:u.slice(0,m)}return d+"#"+(typeof o=="string"?o:lu(o))}function r(i,o){cr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return v4(e,n,r,t)}function Zt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function cr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function x4(){return Math.random().toString(36).substring(2,10)}function s_(t,e){return{usr:t.state,key:t.key,idx:e}}function Zx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:n,key:e&&e.key||r||x4()}}function lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function v4(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",u=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function x(){d="POP";let R=p(),B=R==null?null:R-m;m=R,u&&u({action:d,location:P.location,delta:B})}function v(R,B){d="PUSH";let D=Zx(P.location,R,B);n&&n(D,R),m=p()+1;let T=s_(D,m),y=P.createHref(D);try{c.pushState(T,"",y)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(y)}o&&u&&u({action:d,location:P.location,delta:1})}function w(R,B){d="REPLACE";let D=Zx(P.location,R,B);n&&n(D,R),m=p();let T=s_(D,m),y=P.createHref(D);c.replaceState(T,"",y),o&&u&&u({action:d,location:P.location,delta:0})}function S(R){return y4(R)}let P={get action(){return d},get location(){return t(i,c)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(t_,x),u=R,()=>{i.removeEventListener(t_,x),u=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let B=S(R);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:v,replace:w,go(R){return c.go(R)}};return P}function y4(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:lu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Zj(t,e,n="/"){return b4(t,e,n,!1)}function b4(t,e,n,r){let i=typeof e=="string"?Zo(e):e,o=sa(i.pathname||"/",n);if(o==null)return null;let c=eS(t);_4(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let m=R4(o);d=E4(c[u],m,r)}return d}function eS(t,e=[],n=[],r="",i=!1){let o=(c,d,u=i,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let x=ea([r,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),eS(c.children,e,v,x,u)),!(c.path==null&&!c.index)&&e.push({path:x,score:T4(x,c.index),routesMeta:v})};return t.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,d);else for(let m of tS(c.path))o(c,d,!0,m)}),e}function tS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=tS(r.join("/")),d=[];return d.push(...c.map(u=>u===""?o:[o,u].join("/"))),i&&d.push(...c),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function _4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:A4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var w4=/^:[\w-]+$/,j4=3,S4=2,N4=1,k4=10,C4=-2,n_=t=>t==="*";function T4(t,e){let n=t.split("/"),r=n.length;return n.some(n_)&&(r+=C4),e&&(r+=S4),n.filter(i=>!n_(i)).reduce((i,o)=>i+(w4.test(o)?j4:o===""?N4:k4),r)}function A4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function E4(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],m=d===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",x=rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},p),v=u.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:ea([o,x.pathname]),pathnameBase:M4(ea([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=ea([o,x.pathnameBase]))}return c}function rp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=I4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:x},v)=>{if(p==="*"){let S=d[v]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[v];return x&&!w?m[p]=void 0:m[p]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function I4(t,e=!1,n=!0){cr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function sa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P4(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zo(t):t;return{pathname:n?n.startsWith("/")?n:L4(n,e):e,search:F4(r),hash:B4(i)}}function L4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zv(t){let e=D4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ey(t,e,n,r=!1){let i;typeof t=="string"?i=Zo(t):(i={...t},Zt(!i.pathname||!i.pathname.includes("?"),Qg("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),Qg("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),Qg("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}d=x>=0?e[x]:"/"}let u=P4(i,d),m=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(m||p)&&(u.pathname+="/"),u}var ea=t=>t.join("/").replace(/\/\/+/g,"/"),M4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var V4=["GET",...sS];new Set(V4);var Tc=E.createContext(null);Tc.displayName="DataRouter";var Lp=E.createContext(null);Lp.displayName="DataRouterState";E.createContext(!1);var nS=E.createContext({isTransitioning:!1});nS.displayName="ViewTransition";var O4=E.createContext(new Map);O4.displayName="Fetchers";var U4=E.createContext(null);U4.displayName="Await";var ni=E.createContext(null);ni.displayName="Navigation";var Tu=E.createContext(null);Tu.displayName="Location";var Ir=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var ty=E.createContext(null);ty.displayName="RouteError";function z4(t,{relative:e}={}){Zt(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ni),{hash:i,pathname:o,search:c}=Au(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:ea([n,o])),r.createHref({pathname:d,search:c,hash:i})}function Ac(){return E.useContext(Tu)!=null}function Kn(){return Zt(Ac(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Tu).location}var rS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iS(t){E.useContext(ni).static||E.useLayoutEffect(t)}function Rr(){let{isDataRoute:t}=E.useContext(Ir);return t?rT():G4()}function G4(){Zt(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Tc),{basename:e,navigator:n}=E.useContext(ni),{matches:r}=E.useContext(Ir),{pathname:i}=Kn(),o=JSON.stringify(Zv(r)),c=E.useRef(!1);return iS(()=>{c.current=!0}),E.useCallback((u,m={})=>{if(cr(c.current,rS),!c.current)return;if(typeof u=="number"){n.go(u);return}let p=ey(u,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ea([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,o,i,t])}var H4=E.createContext(null);function W4(t){let e=E.useContext(Ir).outlet;return e&&E.createElement(H4.Provider,{value:t},e)}function Dp(){let{matches:t}=E.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function Au(t,{relative:e}={}){let{matches:n}=E.useContext(Ir),{pathname:r}=Kn(),i=JSON.stringify(Zv(n));return E.useMemo(()=>ey(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function q4(t,e){return aS(t,e)}function aS(t,e,n,r,i){var D;Zt(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(ni),{matches:c}=E.useContext(Ir),d=c[c.length-1],u=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",x=d&&d.route;{let T=x&&x.path||"";oS(m,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Kn(),w;if(e){let T=typeof e=="string"?Zo(e):e;Zt(p==="/"||((D=T.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=v;let S=w.pathname||"/",P=S;if(p!=="/"){let T=p.replace(/^\//,"").split("/");P="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=Zj(t,{pathname:P});cr(x||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),cr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=J4(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ea([p,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:ea([p,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,n,r,i);return e&&B?E.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},B):B}function K4(){let t=nT(),e=$4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,c)}var Q4=E.createElement(K4,null),X4=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Ir.Provider,{value:this.props.routeContext},E.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y4({routeContext:t,match:e,children:n}){let r=E.useContext(Tc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ir.Provider,{value:t},n)}function J4(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n==null?void 0:n.errors;if(c!=null){let m=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);Zt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,u=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:x,errors:v}=n,w=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,p,x)=>{let v,w=!1,S=null,P=null;n&&(v=c&&p.route.id?c[p.route.id]:void 0,S=p.route.errorElement||Q4,d&&(u<0&&x===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):u===x&&(w=!0,P=p.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,x+1)),B=()=>{let D;return v?D=S:w?D=P:p.route.Component?D=E.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=m,E.createElement(Y4,{match:p,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?E.createElement(X4,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:B(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):B()},null)}function sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z4(t){let e=E.useContext(Tc);return Zt(e,sy(t)),e}function eT(t){let e=E.useContext(Lp);return Zt(e,sy(t)),e}function tT(t){let e=E.useContext(Ir);return Zt(e,sy(t)),e}function ny(t){let e=tT(t),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sT(){return ny("useRouteId")}function nT(){var r;let t=E.useContext(ty),e=eT("useRouteError"),n=ny("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function rT(){let{router:t}=Z4("useNavigate"),e=ny("useNavigate"),n=E.useRef(!1);return iS(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{cr(n.current,rS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var r_={};function oS(t,e,n){!e&&!r_[t]&&(r_[t]=!0,cr(!1,n))}E.memo(iT);function iT({routes:t,future:e,state:n,unstable_onError:r}){return aS(t,void 0,n,r,e)}function um({to:t,replace:e,state:n,relative:r}){Zt(Ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(ni);cr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Ir),{pathname:c}=Kn(),d=Rr(),u=ey(t,Zv(o),c,r==="path"),m=JSON.stringify(u);return E.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function lS(t){return W4(t.context)}function me(t){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aT({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Zt(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=Zo(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:v="default"}=n,w=E.useMemo(()=>{let S=sa(u,c);return S==null?null:{location:{pathname:S,search:m,hash:p,state:x,key:v},navigationType:r}},[c,u,m,p,x,v,r]);return cr(w!=null,`<Router basename="${c}"> is not able to match the URL "${u}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(ni.Provider,{value:d},E.createElement(Tu.Provider,{children:e,value:w}))}function oT({children:t,location:e}){return q4(ev(t),e)}function ev(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,ev(r.props.children,o));return}Zt(r.type===me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ev(r.props.children,o)),n.push(c)}),n}var $m="get",Vm="application/x-www-form-urlencoded";function Mp(t){return t!=null&&typeof t.tagName=="string"}function lT(t){return Mp(t)&&t.tagName.toLowerCase()==="button"}function cT(t){return Mp(t)&&t.tagName.toLowerCase()==="form"}function dT(t){return Mp(t)&&t.tagName.toLowerCase()==="input"}function uT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hT(t,e){return t.button===0&&(!e||e==="_self")&&!uT(t)}function tv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function mT(t,e){let n=tv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var hm=null;function pT(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch(t){hm=!0}return hm}var fT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xg(t){return t!=null&&!fT.has(t)?(cr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vm}"`),null):t}function gT(t,e){let n,r,i,o,c;if(cT(t)){let d=t.getAttribute("action");r=d?sa(d,e):null,n=t.getAttribute("method")||$m,i=Xg(t.getAttribute("enctype"))||Vm,o=new FormData(t)}else if(lT(t)||dT(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(r=u?sa(u,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||$m,i=Xg(t.getAttribute("formenctype"))||Xg(d.getAttribute("enctype"))||Vm,o=new FormData(d,t),!pT()){let{name:m,type:p,value:x}=t;if(p==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,x)}}else{if(Mp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$m,r=null,i=Vm,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ry(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function xT(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&sa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function vT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bT(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await vT(o,n);return c.links?c.links():[]}return[]}));return ST(r.flat(1).filter(yT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function i_(t,e,n,r,i,o){let c=(u,m)=>n[m]?u.route.id!==n[m].route.id:!0,d=(u,m)=>{var p;return n[m].pathname!==u.pathname||((p=n[m].route.path)==null?void 0:p.endsWith("*"))&&n[m].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,m)=>c(u,m)||d(u,m)):o==="data"?e.filter((u,m)=>{var x;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(c(u,m)||d(u,m))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _T(t,e,{includeHydrateFallback:n}={}){return wT(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function wT(t){return[...new Set(t)]}function jT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ST(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(jT(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function cS(){let t=E.useContext(Tc);return ry(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NT(){let t=E.useContext(Lp);return ry(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iy=E.createContext(void 0);iy.displayName="FrameworkContext";function dS(){let t=E.useContext(iy);return ry(t,"You must render this element inside a <HydratedRouter> element"),t}function kT(t,e){let n=E.useContext(iy),[r,i]=E.useState(!1),[o,c]=E.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:m,onMouseLeave:p,onTouchStart:x}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=B=>{B.forEach(D=>{c(D.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),E.useEffect(()=>{if(r){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[r]);let w=()=>{i(!0)},S=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:Nd(d,w),onBlur:Nd(u,S),onMouseEnter:Nd(m,w),onMouseLeave:Nd(p,S),onTouchStart:Nd(x,w)}]:[!1,v,{}]}function Nd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function CT({page:t,...e}){let{router:n}=cS(),r=E.useMemo(()=>Zj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(AT,{page:t,matches:r,...e}):null}function TT(t){let{manifest:e,routeModules:n}=dS(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return bT(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function AT({page:t,matches:e,...n}){let r=Kn(),{manifest:i,routeModules:o}=dS(),{basename:c}=cS(),{loaderData:d,matches:u}=NT(),m=E.useMemo(()=>i_(t,e,u,i,r,"data"),[t,e,u,i,r]),p=E.useMemo(()=>i_(t,e,u,i,r,"assets"),[t,e,u,i,r]),x=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,P=!1;if(e.forEach(B=>{var T;let D=i.routes[B.route.id];!D||!D.hasLoader||(!m.some(y=>y.route.id===B.route.id)&&B.route.id in d&&((T=o[B.route.id])!=null&&T.shouldRevalidate)||D.hasClientLoader?P=!0:S.add(B.route.id))}),S.size===0)return[];let R=xT(t,c,"data");return P&&S.size>0&&R.searchParams.set("_routes",e.filter(B=>S.has(B.route.id)).map(B=>B.route.id).join(",")),[R.pathname+R.search]},[c,d,r,i,m,e,t,o]),v=E.useMemo(()=>_T(p,i),[p,i]),w=TT(p);return E.createElement(E.Fragment,null,x.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:P})=>E.createElement("link",{key:S,nonce:n.nonce,...P})))}function ET(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uS=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{uS&&(window.__reactRouterVersion="7.9.1")}catch(t){}function IT({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=g4({window:n,v5Compat:!0}));let i=r.current,[o,c]=E.useState({action:i.action,location:i.location}),d=E.useCallback(u=>{E.startTransition(()=>c(u))},[c]);return E.useLayoutEffect(()=>i.listen(d),[i,d]),E.createElement(aT,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var hS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:u,to:m,preventScrollReset:p,viewTransition:x,...v},w){let{basename:S}=E.useContext(ni),P=typeof m=="string"&&hS.test(m),R,B=!1;if(typeof m=="string"&&P&&(R=m,uS))try{let A=new URL(window.location.href),L=m.startsWith("//")?new URL(A.protocol+m):new URL(m),I=sa(L.pathname,S);L.origin===A.origin&&I!=null?m=I+L.search+L.hash:B=!0}catch(A){cr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=z4(m,{relative:i}),[T,y,j]=kT(r,v),M=LT(m,{replace:c,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:x});function C(A){e&&e(A),A.defaultPrevented||M(A)}let _=E.createElement("a",{...v,...j,href:R||D,onClick:B||o?e:C,ref:ET(w,y),target:u,"data-discover":!P&&n==="render"?"true":void 0});return T&&!P?E.createElement(E.Fragment,null,_,E.createElement(CT,{page:D})):_});Dt.displayName="Link";var us=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:u,...m},p){let x=Au(c,{relative:m.relative}),v=Kn(),w=E.useContext(Lp),{navigator:S,basename:P}=E.useContext(ni),R=w!=null&&$T(x)&&d===!0,B=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,D=v.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(D=D.toLowerCase(),T=T?T.toLowerCase():null,B=B.toLowerCase()),T&&P&&(T=sa(T,P)||T);const y=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let j=D===B||!i&&D.startsWith(B)&&D.charAt(y)==="/",M=T!=null&&(T===B||!i&&T.startsWith(B)&&T.charAt(B.length)==="/"),C={isActive:j,isPending:M,isTransitioning:R},_=j?e:void 0,A;typeof r=="function"?A=r(C):A=[r,j?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(C):o;return E.createElement(Dt,{...m,"aria-current":_,className:A,ref:p,style:L,to:c,viewTransition:d},typeof u=="function"?u(C):u)});us.displayName="NavLink";var RT=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=$m,action:d,onSubmit:u,relative:m,preventScrollReset:p,viewTransition:x,...v},w)=>{let S=FT(),P=BT(d,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&hS.test(d),D=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let y=T.nativeEvent.submitter,j=(y==null?void 0:y.getAttribute("formmethod"))||c;S(y||T.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:i,state:o,relative:m,preventScrollReset:p,viewTransition:x})};return E.createElement("form",{ref:w,method:R,action:P,onSubmit:r?u:D,...v,"data-discover":!B&&t==="render"?"true":void 0})});RT.displayName="Form";function PT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(t){let e=E.useContext(Tc);return Zt(e,PT(t)),e}function LT(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Rr(),u=Kn(),m=Au(t,{relative:o});return E.useCallback(p=>{if(hT(p,e)){p.preventDefault();let x=n!==void 0?n:lu(u)===lu(m);d(t,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[u,d,m,n,r,e,t,i,o,c])}function el(t){cr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(tv(t)),n=E.useRef(!1),r=Kn(),i=E.useMemo(()=>mT(r.search,n.current?null:e.current),[r.search]),o=Rr(),c=E.useCallback((d,u)=>{const m=tv(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,o("?"+m,u)},[o,i]);return[i,c]}var DT=0,MT=()=>`__${String(++DT)}__`;function FT(){let{router:t}=mS("useSubmit"),{basename:e}=E.useContext(ni),n=sT();return E.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:u,body:m}=gT(r,e);if(i.navigate===!1){let p=i.fetcherKey||MT();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function BT(t,{relative:e}={}){let{basename:n}=E.useContext(ni),r=E.useContext(Ir);Zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Au(t||".",{relative:e})},c=Kn();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ea([n,o.pathname])),lu(o)}function $T(t,{relative:e}={}){let n=E.useContext(nS);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mS("useViewTransitionState"),i=Au(t,{relative:e});if(!n.isTransitioning)return!1;let o=sa(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=sa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rp(i.pathname,c)!=null||rp(i.pathname,o)!=null}var VT=Jj();const OT=Yv(VT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),a_=t=>{const e=zT(t);return e.charAt(0).toUpperCase()+e.slice(1)},pS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),GT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...d},u)=>E.createElement("svg",{ref:u,...HT,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pS("lucide",i),...!o&&!GT(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,p])=>E.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=E.forwardRef(({className:r,...i},o)=>E.createElement(WT,{ref:o,iconNode:e,className:pS(`lucide-${UT(a_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=a_(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Fp=nt("aperture",qT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],QT=nt("arrow-up-right",KT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YT=nt("ban",XT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ZT=nt("bell",JT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tA=nt("book-open",eA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nA=nt("chart-column",sA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iA=nt("chevron-right",rA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qd=nt("circle-alert",aA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lA=nt("circle-check",oA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Om=nt("circle-dot",cA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uA=nt("circle-user-round",dA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mA=nt("clock-3",hA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],fA=nt("cloud-upload",pA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xA=nt("compass",gA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],yA=nt("database",vA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],fS=nt("diamond",bA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wA=nt("file-text",_A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],SA=nt("folder-search",jA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kA=nt("globe",NA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],gS=nt("hexagon",CA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],AA=nt("house",TA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],IA=nt("layers",EA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],PA=nt("layout-dashboard",RA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],za=nt("loader-circle",LA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],MA=nt("messages-square",DA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],BA=nt("pin-off",FA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],VA=nt("pin",$A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Bp=nt("refresh-ccw",OA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],zA=nt("scroll-text",UA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sv=nt("search",GA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],WA=nt("server-cog",HA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KA=nt("settings",qA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],xS=nt("shapes",QA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vS=nt("shield-alert",XA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],JA=nt("shield-check",YA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],eE=nt("shield-off",ZA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tl=nt("shield",tE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],nE=nt("square-activity",sE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iE=nt("star",rE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],oE=nt("sticky-note",aE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ay=nt("triangle-alert",lE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dE=nt("trophy",cE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hE=nt("upload",uE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$p=nt("users",mE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yS=nt("zap",pE),fE="_topbar_c79qf_3",gE="_topbarLeft_c79qf_39",xE="_searchWrap_c79qf_55",vE="_topbarRight_c79qf_109",yE="_ico_c79qf_125",bE="_btnIco_c79qf_139",_E="_pill_c79qf_173",wE="_onlyExpanded_c79qf_195",jE="_upload_c79qf_201",SE="_label_c79qf_231",NE="_avatarBtn_c79qf_237",kE="_avatar_c79qf_237",CE="_avatarSpinnerShell_c79qf_265",TE="_avatarSpinner_c79qf_265",AE="_srOnly_c79qf_301",EE="_accountRoot_c79qf_327",IE="_accountDropdown_c79qf_335",RE="_accountHeader_c79qf_365",PE="_accountName_c79qf_377",LE="_accountSub_c79qf_389",DE="_accountStatusText_c79qf_399",ME="_accountPrimary_c79qf_409",FE="_accountHint_c79qf_431",BE="_accountItem_c79qf_441",$E="_accountDivider_c79qf_471",VE="_accountMiniAvatar_c79qf_483",OE="_accountLogout_c79qf_495",yt={topbar:fE,topbarLeft:gE,searchWrap:xE,topbarRight:vE,ico:yE,btnIco:bE,pill:_E,onlyExpanded:wE,upload:jE,label:SE,avatarBtn:NE,avatar:kE,avatarSpinnerShell:CE,avatarSpinner:TE,srOnly:AE,accountRoot:EE,accountDropdown:IE,accountHeader:RE,accountName:PE,accountSub:LE,accountStatusText:DE,accountPrimary:ME,accountHint:FE,accountItem:BE,accountDivider:$E,accountMiniAvatar:VE,accountLogout:OE},sl="https://auth.sfdatahub.com",bS=E.createContext(void 0),o_=`${sl}/auth/session`,l_=`${sl}/auth/logout`,UE=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState("idle"),o=E.useCallback(S=>{S!=null&&S.authenticated&&S.user?(n(S.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),c=E.useCallback(async()=>{if(i("loading"),!o_){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated");return}try{const S=await fetch(o_,{credentials:"include"});if(!S.ok)throw new Error(`Failed to fetch session (${S.status})`);const P=await S.json();o(P)}catch(S){console.error("[Auth] Failed to refresh session.",S),n(null),i("unauthenticated")}},[o]);E.useEffect(()=>{c()},[c]);const d=E.useCallback(S=>{window.location.href=`${sl}/auth/${S}/login`},[]),u=E.useCallback(()=>d("discord"),[d]),m=E.useCallback(()=>d("google"),[d]),p=E.useCallback(async()=>{if(!l_){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const S=await fetch(l_,{method:"POST",credentials:"include"});if(!S.ok)throw new Error(`Logout failed (${S.status})`)}catch(S){console.error("[Auth] Failed to logout. Clearing local session anyway.",S)}finally{n(null),i("unauthenticated")}},[]),x=E.useCallback(async()=>{await c()},[c]),v=r==="idle"||r==="loading",w=E.useMemo(()=>({user:e,status:r,isLoading:v,loginWithDiscord:u,loginWithGoogle:m,logout:p,refreshSession:x}),[e,r,v,u,m,p,x]);return s.jsx(bS.Provider,{value:w,children:t})},Ec=()=>{const t=E.useContext(bS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zE="https://i.pravatar.cc/72",GE=({fallbackName:t})=>{var D,T;const{user:e,status:n,logout:r,isLoading:i}=Ec(),o=Rr(),[c,d]=E.useState(!1),u=E.useRef(null),m=n==="authenticated",p=m?(T=(D=e==null?void 0:e.displayName)!=null?D:t)!=null?T:"Player":t!=null?t:"Guest",x=m&&(e!=null&&e.avatarUrl)?e.avatarUrl:zE;E.useEffect(()=>{const y=j=>{u.current&&!u.current.contains(j.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),E.useEffect(()=>{i&&d(!1)},[i]);const v=E.useCallback(()=>d(!1),[]),w=()=>{d(y=>!y)},S=()=>{o("/login"),v()},P=()=>{o("/settings/account"),v()},R=E.useCallback(async()=>{try{await r()}finally{v(),o("/")}},[v,r,o]),B=()=>{var y;if(i)return s.jsx("p",{className:yt.accountStatusText,children:"Checking session..."});if(n==="unauthenticated")return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:yt.accountHeader,children:[s.jsx("p",{className:yt.accountName,children:"Not signed in"}),s.jsx("p",{className:yt.accountSub,children:"Your scans stay synced when you log in."})]}),s.jsx("button",{type:"button",className:yt.accountPrimary,onClick:S,children:"Sign in"}),s.jsx("p",{className:yt.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(n==="authenticated"){const j=!!((y=e==null?void 0:e.roles)!=null&&y.includes("admin"));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:yt.accountHeader,children:[s.jsx("img",{className:yt.accountMiniAvatar,src:x,alt:p}),s.jsxs("div",{children:[s.jsx("p",{className:yt.accountName,children:p}),s.jsxs("p",{className:yt.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),s.jsx("button",{type:"button",className:yt.accountItem,onClick:P,children:"Account & Profile"}),j?s.jsx("a",{className:yt.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,s.jsx("hr",{className:yt.accountDivider}),s.jsx("button",{type:"button",className:`${yt.accountItem} ${yt.accountLogout}`,onClick:R,children:"Logout"})]})}return null};return s.jsxs("div",{className:yt.accountRoot,ref:u,children:[i?s.jsxs("div",{className:yt.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[s.jsx("span",{className:yt.avatarSpinner,"aria-hidden":"true"}),s.jsx("span",{className:yt.srOnly,children:"Checking login status"})]}):s.jsx("button",{type:"button",className:yt.avatarBtn,"aria-haspopup":"menu","aria-expanded":c,"aria-label":p,onClick:w,children:s.jsx("img",{className:yt.avatar,src:x,alt:p})}),!i&&c&&s.jsx("div",{className:yt.accountDropdown,role:"menu",children:B()})]})},_S=E.createContext(null);function HE({children:t,role:e}){const[n,r]=E.useState(!1),[i,o]=E.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=E.useCallback(p=>{c&&(p!=null&&p.tab?o(p.tab):o("csv"),r(!0))},[c]),u=E.useCallback(()=>r(!1),[]),m=E.useMemo(()=>({isOpen:n,open:d,close:u,activeTab:i,setTab:o,canUse:c}),[n,d,u,i,c]);return s.jsx(_S.Provider,{value:m,children:t})}function wS(){const t=E.useContext(_S);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],d=t[n++],u=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,d=c?t[i+1]:0,u=i+2<t.length,m=u?t[i+2]:0,p=o>>2,x=(o&3)<<4|d>>4;let v=(d&15)<<2|m>>6,w=m&63;u||(w=64,c||(v=64)),r.push(n[p],n[x],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||d==null||m==null||x==null)throw new qE;const v=o<<2|d>>4;if(r.push(v),m!==64){const w=d<<4&240|m>>2;if(r.push(w),x!==64){const S=m<<6&192|x;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(t){const e=jS(t);return SS.encodeByteArray(e,!0)},ip=function(t){return KE(t).replace(/\./g,"")},QE=function(t){try{return SS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=()=>XE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process=="undefined"||typeof c_=="undefined")return;const t=c_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZE=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&QE(t[1]);return e&&JSON.parse(e)},oy=()=>{try{return YE()||JE()||ZE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e6=t=>{var e,n;return(n=(e=oy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t6=t=>{const e=e6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NS=()=>{var t;return(t=oy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ip(JSON.stringify(n)),ip(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i6(){var t;const e=(t=oy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function a6(){return!i6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o6(){try{return typeof indexedDB=="object"}catch(t){return!1}}function l6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="FirebaseError";class Ic extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c6,Object.setPrototypeOf(this,Ic.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kS.prototype.create)}}class kS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?d6(o,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Ic(i,d,r)}}function d6(t,e){return t.replace(u6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u6=/\{\$([^}]+)}/g;function nv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(d_(o)&&d_(c)){if(!nv(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){return t&&t._delegate?t._delegate:t}class cu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p6(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m6(t){return t===Mo?void 0:t}function p6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tt||(Tt={}));const g6={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},x6=Tt.INFO,v6={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},y6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CS{constructor(e){this.name=e,this._logLevel=x6,this._logHandler=y6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}}const b6=(t,e)=>e.some(n=>t instanceof n);let u_,h_;function _6(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w6(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TS=new WeakMap,rv=new WeakMap,AS=new WeakMap,Yg=new WeakMap,ly=new WeakMap;function j6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ga(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&TS.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function S6(t){if(rv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});rv.set(t,e)}let iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ga(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N6(t){iv=t(iv)}function k6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jg(this),e,...n);return AS.set(r,e.sort?e.sort():[e]),Ga(r)}:w6().includes(t)?function(...e){return t.apply(Jg(this),e),Ga(TS.get(this))}:function(...e){return Ga(t.apply(Jg(this),e))}}function C6(t){return typeof t=="function"?k6(t):(t instanceof IDBTransaction&&S6(t),b6(t,_6())?new Proxy(t,iv):t)}function Ga(t){if(t instanceof IDBRequest)return j6(t);if(Yg.has(t))return Yg.get(t);const e=C6(t);return e!==t&&(Yg.set(t,e),ly.set(e,t)),e}const Jg=t=>ly.get(t);function T6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),d=Ga(c);return r&&c.addEventListener("upgradeneeded",u=>{r(Ga(c.result),u.oldVersion,u.newVersion,Ga(c.transaction),u)}),n&&c.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),d.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const A6=["get","getKey","getAll","getAllKeys","count"],E6=["put","add","delete","clear"],Zg=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A6.includes(n)))return;const o=async function(c,...d){const u=this.transaction(c,i?"readwrite":"readonly");let m=u.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&u.done]))[0]};return Zg.set(e,o),o}N6(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const av="@firebase/app",p_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new CS("@firebase/app"),P6="@firebase/app-compat",L6="@firebase/analytics-compat",D6="@firebase/analytics",M6="@firebase/app-check-compat",F6="@firebase/app-check",B6="@firebase/auth",$6="@firebase/auth-compat",V6="@firebase/database",O6="@firebase/data-connect",U6="@firebase/database-compat",z6="@firebase/functions",G6="@firebase/functions-compat",H6="@firebase/installations",W6="@firebase/installations-compat",q6="@firebase/messaging",K6="@firebase/messaging-compat",Q6="@firebase/performance",X6="@firebase/performance-compat",Y6="@firebase/remote-config",J6="@firebase/remote-config-compat",Z6="@firebase/storage",eI="@firebase/storage-compat",tI="@firebase/firestore",sI="@firebase/vertexai-preview",nI="@firebase/firestore-compat",rI="firebase",iI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="[DEFAULT]",aI={[av]:"fire-core",[P6]:"fire-core-compat",[D6]:"fire-analytics",[L6]:"fire-analytics-compat",[F6]:"fire-app-check",[M6]:"fire-app-check-compat",[B6]:"fire-auth",[$6]:"fire-auth-compat",[V6]:"fire-rtdb",[O6]:"fire-data-connect",[U6]:"fire-rtdb-compat",[z6]:"fire-fn",[G6]:"fire-fn-compat",[H6]:"fire-iid",[W6]:"fire-iid-compat",[q6]:"fire-fcm",[K6]:"fire-fcm-compat",[Q6]:"fire-perf",[X6]:"fire-perf-compat",[Y6]:"fire-rc",[J6]:"fire-rc-compat",[Z6]:"fire-gcs",[eI]:"fire-gcs-compat",[tI]:"fire-fst",[nI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[rI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Map,oI=new Map,lv=new Map;function f_(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ap(t){const e=t.name;if(lv.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;lv.set(e,t);for(const n of du.values())f_(n,t);for(const n of oI.values())f_(n,t);return!0}function lI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new kS("app","Firebase",cI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=iI;function ES(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ov,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(n||(n=NS()),!n)throw Ha.create("no-options");const o=du.get(i);if(o){if(nv(n,o.options)&&nv(r,o.config))return o;throw Ha.create("duplicate-app",{appName:i})}const c=new f6(i);for(const u of lv.values())c.addComponent(u);const d=new dI(n,r,c);return du.set(i,d),d}function IS(t=ov){const e=du.get(t);if(!e&&t===ov&&NS())return ES();if(!e)throw Ha.create("no-app",{appName:t});return e}function hI(){return Array.from(du.values())}function lc(t,e,n){var r;let i=(r=aI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(d.join(" "));return}ap(new cu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebase-heartbeat-database",pI=1,uu="firebase-heartbeat-store";let ex=null;function RS(){return ex||(ex=T6(mI,pI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),ex}async function fI(t){try{const n=(await RS()).transaction(uu),r=await n.objectStore(uu).get(PS(t));return await n.done,r}catch(e){if(e instanceof Ic)na.warn(e.message);else{const n=Ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});na.warn(n.message)}}}async function g_(t,e){try{const r=(await RS()).transaction(uu,"readwrite");await r.objectStore(uu).put(e,PS(t)),await r.done}catch(n){if(n instanceof Ic)na.warn(n.message);else{const r=Ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});na.warn(r.message)}}}function PS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,xI=720*60*60*1e3;class vI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=x_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=xI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){na.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x_(),{heartbeatsToSend:r,unsentEntries:i}=yI(this._heartbeatsCache.heartbeats),o=ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return na.warn(n),""}}}function x_(){return new Date().toISOString().substring(0,10)}function yI(t,e=gI){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),v_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),v_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o6()?l6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v_(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){ap(new cu("platform-logger",e=>new I6(e),"PRIVATE")),ap(new cu("heartbeat",e=>new vI(e),"PRIVATE")),lc(av,p_,t),lc(av,p_,"esm2017"),lc("fire-js","")}_I("");var y_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,LS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function A(){}A.prototype=_.prototype,C.D=_.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(L,I,V){for(var $=Array(arguments.length-2),W=2;W<arguments.length;W++)$[W-2]=arguments[W];return _.prototype[I].apply(L,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,A){A||(A=0);var L=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)L[I]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(I=0;16>I;++I)L[I]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=C.g[0],A=C.g[1],I=C.g[2];var V=C.g[3],$=_+(V^A&(I^V))+L[0]+3614090360&4294967295;_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+L[1]+3905402710&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+L[2]+606105819&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+L[3]+3250441966&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(V^A&(I^V))+L[4]+4118548399&4294967295,_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+L[5]+1200080426&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+L[6]+2821735955&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+L[7]+4249261313&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(V^A&(I^V))+L[8]+1770035416&4294967295,_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+L[9]+2336552879&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+L[10]+4294925233&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+L[11]+2304563134&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(V^A&(I^V))+L[12]+1804603682&4294967295,_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+L[13]+4254626195&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+L[14]+2792965006&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+L[15]+1236535329&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(I^V&(A^I))+L[1]+4129170786&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+L[6]+3225465664&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+L[11]+643717713&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+L[0]+3921069994&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(I^V&(A^I))+L[5]+3593408605&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+L[10]+38016083&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+L[15]+3634488961&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+L[4]+3889429448&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(I^V&(A^I))+L[9]+568446438&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+L[14]+3275163606&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+L[3]+4107603335&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+L[8]+1163531501&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(I^V&(A^I))+L[13]+2850285829&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+L[2]+4243563512&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+L[7]+1735328473&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+L[12]+2368359562&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(A^I^V)+L[5]+4294588738&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+L[8]+2272392833&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+L[11]+1839030562&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+L[14]+4259657740&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(A^I^V)+L[1]+2763975236&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+L[4]+1272893353&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+L[7]+4139469664&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+L[10]+3200236656&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(A^I^V)+L[13]+681279174&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+L[0]+3936430074&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+L[3]+3572445317&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+L[6]+76029189&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(A^I^V)+L[9]+3654602809&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+L[12]+3873151461&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+L[15]+530742520&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+L[2]+3299628645&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(I^(A|~V))+L[0]+4096336452&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+L[7]+1126891415&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+L[14]+2878612391&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+L[5]+4237533241&4294967295,A=I+($<<21&4294967295|$>>>11),$=_+(I^(A|~V))+L[12]+1700485571&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+L[3]+2399980690&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+L[10]+4293915773&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+L[1]+2240044497&4294967295,A=I+($<<21&4294967295|$>>>11),$=_+(I^(A|~V))+L[8]+1873313359&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+L[15]+4264355552&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+L[6]+2734768916&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+L[13]+1309151649&4294967295,A=I+($<<21&4294967295|$>>>11),$=_+(I^(A|~V))+L[4]+4149444226&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+L[11]+3174756917&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+L[2]+718787259&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(I+($<<21&4294967295|$>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var A=_-this.blockSize,L=this.B,I=this.h,V=0;V<_;){if(I==0)for(;V<=A;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<_;)if(L[I++]=C.charCodeAt(V++),I==this.blockSize){i(this,L),I=0;break}}else for(;V<_;)if(L[I++]=C[V++],I==this.blockSize){i(this,L),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var A=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=A&255,A/=256;for(this.u(C),C=Array(16),_=A=0;4>_;++_)for(var L=0;32>L;L+=8)C[A++]=this.g[_]>>>L&255;return C};function o(C,_){var A=d;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=_(C)}function c(C,_){this.h=_;for(var A=[],L=!0,I=C.length-1;0<=I;I--){var V=C[I]|0;L&&V==_||(A[I]=V,L=!1)}this.g=A}var d={};function u(C){return-128<=C&&128>C?o(C,function(_){return new c([_|0],0>_?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return x;if(0>C)return R(m(-C));for(var _=[],A=1,L=0;C>=A;L++)_[L]=C/A|0,A*=4294967296;return new c(_,0)}function p(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return R(p(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(_,8)),L=x,I=0;I<C.length;I+=8){var V=Math.min(8,C.length-I),$=parseInt(C.substring(I,I+V),_);8>V?(V=m(Math.pow(_,V)),L=L.j(V).add(m($))):(L=L.j(A),L=L.add(m($)))}return L}var x=u(0),v=u(1),w=u(16777216);t=c.prototype,t.m=function(){if(P(this))return-R(this).m();for(var C=0,_=1,A=0;A<this.g.length;A++){var L=this.i(A);C+=(0<=L?L:4294967296+L)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(P(this))return"-"+R(this).toString(C);for(var _=m(Math.pow(C,6)),A=this,L="";;){var I=y(A,_).g;A=B(A,I.j(_));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=I,S(A))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=B(this,C),P(C)?-1:S(C)?0:1};function R(C){for(var _=C.g.length,A=[],L=0;L<_;L++)A[L]=~C.g[L];return new c(A,~C.h).add(v)}t.abs=function(){return P(this)?R(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],L=0,I=0;I<=_;I++){var V=L+(this.i(I)&65535)+(C.i(I)&65535),$=(V>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);L=$>>>16,V&=65535,$&=65535,A[I]=$<<16|V}return new c(A,A[A.length-1]&-2147483648?-1:0)};function B(C,_){return C.add(R(_))}t.j=function(C){if(S(this)||S(C))return x;if(P(this))return P(C)?R(this).j(R(C)):R(R(this).j(C));if(P(C))return R(this.j(R(C)));if(0>this.l(w)&&0>C.l(w))return m(this.m()*C.m());for(var _=this.g.length+C.g.length,A=[],L=0;L<2*_;L++)A[L]=0;for(L=0;L<this.g.length;L++)for(var I=0;I<C.g.length;I++){var V=this.i(L)>>>16,$=this.i(L)&65535,W=C.i(I)>>>16,z=C.i(I)&65535;A[2*L+2*I]+=$*z,D(A,2*L+2*I),A[2*L+2*I+1]+=V*z,D(A,2*L+2*I+1),A[2*L+2*I+1]+=$*W,D(A,2*L+2*I+1),A[2*L+2*I+2]+=V*W,D(A,2*L+2*I+2)}for(L=0;L<_;L++)A[L]=A[2*L+1]<<16|A[2*L];for(L=_;L<2*_;L++)A[L]=0;return new c(A,0)};function D(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function T(C,_){this.g=C,this.h=_}function y(C,_){if(S(_))throw Error("division by zero");if(S(C))return new T(x,x);if(P(C))return _=y(R(C),_),new T(R(_.g),R(_.h));if(P(_))return _=y(C,R(_)),new T(R(_.g),_.h);if(30<C.g.length){if(P(C)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var A=v,L=_;0>=L.l(C);)A=j(A),L=j(L);var I=M(A,1),V=M(L,1);for(L=M(L,2),A=M(A,2);!S(L);){var $=V.add(L);0>=$.l(C)&&(I=I.add(A),V=$),L=M(L,1),A=M(A,1)}return _=B(C,I.j(_)),new T(I,_)}for(I=x;0<=C.l(_);){for(A=Math.max(1,Math.floor(C.m()/_.m())),L=Math.ceil(Math.log(A)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=m(A),$=V.j(_);P($)||0<$.l(C);)A-=L,V=m(A),$=V.j(_);S(V)&&(V=v),I=I.add(V),C=B(C,$)}return new T(I,C)}t.A=function(C){return y(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],L=0;L<_;L++)A[L]=this.i(L)&C.i(L);return new c(A,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],L=0;L<_;L++)A[L]=this.i(L)|C.i(L);return new c(A,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],L=0;L<_;L++)A[L]=this.i(L)^C.i(L);return new c(A,this.h^C.h)};function j(C){for(var _=C.g.length+1,A=[],L=0;L<_;L++)A[L]=C.i(L)<<1|C.i(L-1)>>>31;return new c(A,C.h)}function M(C,_){var A=_>>5;_%=32;for(var L=C.g.length-A,I=[],V=0;V<L;V++)I[V]=0<_?C.i(V+A)>>>_|C.i(V+A+1)<<32-_:C.i(V+A);return new c(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=p,Go=c}).apply(typeof y_!="undefined"?y_:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var mm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DS,Fd,MS,Um,cv,FS,BS,$S;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,N,F){return f==Array.prototype||f==Object.prototype||(f[N]=F.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof mm=="object"&&mm];for(var N=0;N<f.length;++N){var F=f[N];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(f,N){if(N)e:{var F=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var ae=f[U];if(!(ae in F))break e;F=F[ae]}f=f[f.length-1],U=F[f],N=N(U),N!=U&&N!=null&&e(F,f,{configurable:!0,writable:!0,value:N})}}function o(f,N){f instanceof String&&(f+="");var F=0,U=!1,ae={next:function(){if(!U&&F<f.length){var he=F++;return{value:N(he,f[he]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(f){return f||function(){return o(this,function(N,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function u(f){var N=typeof f;return N=N!="object"?N:f?Array.isArray(f)?"array":N:"null",N=="array"||N=="object"&&typeof f.length=="number"}function m(f){var N=typeof f;return N=="object"&&f!=null||N=="function"}function p(f,N,F){return f.call.apply(f.bind,arguments)}function x(f,N,F){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,U),f.apply(N,ae)}}return function(){return f.apply(N,arguments)}}function v(f,N,F){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:x,v.apply(null,arguments)}function w(f,N){var F=Array.prototype.slice.call(arguments,1);return function(){var U=F.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function S(f,N){function F(){}F.prototype=N.prototype,f.aa=N.prototype,f.prototype=new F,f.prototype.constructor=f,f.Qb=function(U,ae,he){for(var Re=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)Re[Rt-2]=arguments[Rt];return N.prototype[ae].apply(U,Re)}}function P(f){const N=f.length;if(0<N){const F=Array(N);for(let U=0;U<N;U++)F[U]=f[U];return F}return[]}function R(f,N){for(let F=1;F<arguments.length;F++){const U=arguments[F];if(u(U)){const ae=f.length||0,he=U.length||0;f.length=ae+he;for(let Re=0;Re<he;Re++)f[ae+Re]=U[Re]}else f.push(U)}}class B{constructor(N,F){this.i=N,this.j=F,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function D(f){return/^[\s\xa0]*$/.test(f)}function T(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(f,N,F){for(const U in f)N.call(F,f[U],U,f)}function C(f,N){for(const F in f)N.call(void 0,f[F],F,f)}function _(f){const N={};for(const F in f)N[F]=f[F];return N}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,N){let F,U;for(let ae=1;ae<arguments.length;ae++){U=arguments[ae];for(F in U)f[F]=U[F];for(let he=0;he<A.length;he++)F=A[he],Object.prototype.hasOwnProperty.call(U,F)&&(f[F]=U[F])}}function I(f){var N=1;f=f.split(":");const F=[];for(;0<N&&f.length;)F.push(f.shift()),N--;return f.length&&F.push(f.join(":")),F}function V(f){d.setTimeout(()=>{throw f},0)}function $(){var f=te;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}class W{constructor(){this.h=this.g=null}add(N,F){const U=z.get();U.set(N,F),this.h?this.h.next=U:this.g=U,this.h=U}}var z=new B(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(N,F){this.h=N,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,G=!1,te=new W,re=()=>{const f=d.Promise.resolve(void 0);Q=()=>{f.then(H)}};var H=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(F){V(F)}var N=z;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}G=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const F=()=>{};d.addEventListener("test",F,N),d.removeEventListener("test",F,N)}catch(F){}return f})();function fe(f,N){if(de.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var F=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(j){e:{try{y(N.nodeName);var ae=!0;break e}catch(he){}ae=!1}ae||(N=null)}}else F=="mouseover"?N=f.fromElement:F=="mouseout"&&(N=f.toElement);this.relatedTarget=N,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}S(fe,de);var Te={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ne(f,N,F,U,ae){this.listener=f,this.proxy=null,this.src=N,this.type=F,this.capture=!!U,this.ha=ae,this.key=++Ce,this.da=this.fa=!1}function ue(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}De.prototype.add=function(f,N,F,U,ae){var he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);var Re=tt(f,N,U,ae);return-1<Re?(N=f[Re],F||(N.fa=!1)):(N=new Ne(N,this.src,he,!!U,ae),N.fa=F,f.push(N)),N};function Ee(f,N){var F=N.type;if(F in f.g){var U=f.g[F],ae=Array.prototype.indexOf.call(U,N,void 0),he;(he=0<=ae)&&Array.prototype.splice.call(U,ae,1),he&&(ue(N),f.g[F].length==0&&(delete f.g[F],f.h--))}}function tt(f,N,F,U){for(var ae=0;ae<f.length;++ae){var he=f[ae];if(!he.da&&he.listener==N&&he.capture==!!F&&he.ha==U)return ae}return-1}var ut="closure_lm_"+(1e6*Math.random()|0),ts={};function zs(f,N,F,U,ae){if(Array.isArray(N)){for(var he=0;he<N.length;he++)zs(f,N[he],F,U,ae);return null}return F=ls(F),f&&f[xe]?f.K(N,F,m(U)?!!U.capture:!1,ae):Gs(f,N,F,!1,U,ae)}function Gs(f,N,F,U,ae,he){if(!N)throw Error("Invalid event type");var Re=m(ae)?!!ae.capture:!!ae,Rt=xn(f);if(Rt||(f[ut]=Rt=new De(f)),F=Rt.add(N,F,U,Re,he),F.proxy)return F;if(U=Rn(),F.proxy=U,U.src=f,U.listener=F,f.addEventListener)ee||(ae=Re),ae===void 0&&(ae=!1),f.addEventListener(N.toString(),U,ae);else if(f.attachEvent)f.attachEvent(Ls(N.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Rn(){function f(F){return N.call(f.src,f.listener,F)}const N=Pn;return f}function Hs(f,N,F,U,ae){if(Array.isArray(N))for(var he=0;he<N.length;he++)Hs(f,N[he],F,U,ae);else U=m(U)?!!U.capture:!!U,F=ls(F),f&&f[xe]?(f=f.i,N=String(N).toString(),N in f.g&&(he=f.g[N],F=tt(he,F,U,ae),-1<F&&(ue(he[F]),Array.prototype.splice.call(he,F,1),he.length==0&&(delete f.g[N],f.h--)))):f&&(f=xn(f))&&(N=f.g[N.toString()],f=-1,N&&(f=tt(N,F,U,ae)),(F=-1<f?N[f]:null)&&Ps(F))}function Ps(f){if(typeof f!="number"&&f&&!f.da){var N=f.src;if(N&&N[xe])Ee(N.i,f);else{var F=f.type,U=f.proxy;N.removeEventListener?N.removeEventListener(F,U,f.capture):N.detachEvent?N.detachEvent(Ls(F),U):N.addListener&&N.removeListener&&N.removeListener(U),(F=xn(N))?(Ee(F,f),F.h==0&&(F.src=null,N[ut]=null)):ue(f)}}}function Ls(f){return f in ts?ts[f]:ts[f]="on"+f}function Pn(f,N){if(f.da)f=!0;else{N=new fe(N,this);var F=f.listener,U=f.ha||f.src;f.fa&&Ps(f),f=F.call(U,N)}return f}function xn(f){return f=f[ut],f instanceof De?f:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(f){return typeof f=="function"?f:(f[vn]||(f[vn]=function(N){return f.handleEvent(N)}),f[vn])}function Qt(){se.call(this),this.i=new De(this),this.M=this,this.F=null}S(Qt,se),Qt.prototype[xe]=!0,Qt.prototype.removeEventListener=function(f,N,F,U){Hs(this,f,N,F,U)};function Gt(f,N){var F,U=f.F;if(U)for(F=[];U;U=U.F)F.push(U);if(f=f.M,U=N.type||N,typeof N=="string")N=new de(N,f);else if(N instanceof de)N.target=N.target||f;else{var ae=N;N=new de(U,f),L(N,ae)}if(ae=!0,F)for(var he=F.length-1;0<=he;he--){var Re=N.g=F[he];ae=Lt(Re,U,!0,N)&&ae}if(Re=N.g=f,ae=Lt(Re,U,!0,N)&&ae,ae=Lt(Re,U,!1,N)&&ae,F)for(he=0;he<F.length;he++)Re=N.g=F[he],ae=Lt(Re,U,!1,N)&&ae}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var f=this.i,N;for(N in f.g){for(var F=f.g[N],U=0;U<F.length;U++)ue(F[U]);delete f.g[N],f.h--}}this.F=null},Qt.prototype.K=function(f,N,F,U){return this.i.add(String(f),N,!1,F,U)},Qt.prototype.L=function(f,N,F,U){return this.i.add(String(f),N,!0,F,U)};function Lt(f,N,F,U){if(N=f.i.g[String(N)],!N)return!0;N=N.concat();for(var ae=!0,he=0;he<N.length;++he){var Re=N[he];if(Re&&!Re.da&&Re.capture==F){var Rt=Re.listener,Ts=Re.ha||Re.src;Re.fa&&Ee(f.i,Re),ae=Rt.call(Ts,U)!==!1&&ae}}return ae&&!U.defaultPrevented}function ii(f,N,F){if(typeof f=="function")F&&(f=v(f,F));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:d.setTimeout(f,N||0)}function Qn(f){f.g=ii(()=>{f.g=null,f.i&&(f.i=!1,Qn(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}class hr extends se{constructor(N,F){super(),this.m=N,this.l=F,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(f){se.call(this),this.h=f,this.g={}}S(mr,se);var ai=[];function Ci(f){M(f.g,function(N,F){this.g.hasOwnProperty(F)&&Ps(N)},f),f.g={}}mr.prototype.N=function(){mr.aa.N.call(this),Ci(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=d.JSON.stringify,Lr=d.JSON.parse,Ht=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function pr(){}pr.prototype.h=null;function Ti(f){return f.h||(f.h=f.i())}function Ai(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){de.call(this,"d")}S(Xn,de);function Ei(){de.call(this,"c")}S(Ei,de);var Yn={},Vc=null;function to(){return Vc=Vc||new Qt}Yn.La="serverreachability";function Oc(f){de.call(this,Yn.La,f)}S(Oc,de);function Ii(f){const N=to();Gt(N,new Oc(N))}Yn.STAT_EVENT="statevent";function Uc(f,N){de.call(this,Yn.STAT_EVENT,f),this.stat=N}S(Uc,de);function fs(f){const N=to();Gt(N,new Uc(N,f))}Yn.Ma="timingevent";function ll(f,N){de.call(this,Yn.Ma,f),this.size=N}S(ll,de);function Dr(f,N){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},N)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function no(f,N,F,U,ae,he){f.info(function(){if(f.g)if(he)for(var Re="",Rt=he.split("&"),Ts=0;Ts<Rt.length;Ts++){var jt=Rt[Ts].split("=");if(1<jt.length){var Ds=jt[0];jt=jt[1];var bs=Ds.split("_");Re=2<=bs.length&&bs[1]=="type"?Re+(Ds+"="+jt+"&"):Re+(Ds+"=redacted&")}}else Re=null;else Re=he;return"XMLHTTP REQ ("+U+") [attempt "+ae+"]: "+N+`
`+F+`
`+Re})}function cl(f,N,F,U,ae,he,Re){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ae+"]: "+N+`
`+F+`
`+he+" "+Re})}function Mr(f,N,F,U){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+vf(f,F)+(U?" "+U:"")})}function zc(f,N){f.info(function(){return"TIMEOUT: "+N})}so.prototype.info=function(){};function vf(f,N){if(!f.g)return N;if(!N)return null;try{var F=JSON.parse(N);if(F){for(f=0;f<F.length;f++)if(Array.isArray(F[f])){var U=F[f];if(!(2>U.length)){var ae=U[1];if(Array.isArray(ae)&&!(1>ae.length)){var he=ae[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Re=1;Re<ae.length;Re++)ae[Re]=""}}}}return oi(F)}catch(Rt){return N}}var dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function ro(){}S(ro,pr),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},Fr=new ro;function Br(f,N,F,U){this.j=f,this.i=N,this.l=F,this.R=U||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yu}function Yu(){this.i=null,this.g="",this.h=!1}var Gc={},ul={};function hl(f,N,F){f.L=1,f.v=pa(Zn(N)),f.m=F,f.P=!0,Hc(f,null)}function Hc(f,N){f.F=Date.now(),$t(f),f.A=Zn(f.v);var F=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),ga(F.i,"t",U),f.C=0,F=f.j.J,f.h=new Yu,f.g=fh(f.j,F?N:null,!f.m),0<f.O&&(f.M=new hr(v(f.Y,f,f.g),f.O)),N=f.U,F=f.g,U=f.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ai[0]=ae.toString()),ae=ai);for(var he=0;he<ae.length;he++){var Re=zs(F,ae[he],U||N.handleEvent,!1,N.h||N);if(!Re)break;N.g[Re.key]=Re}N=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),Ii(),no(f.i,f.u,f.A,f.l,f.R,f.m)}Br.prototype.ca=function(f){f=f.target;const N=this.M;N&&Dn(f)==3?N.j():this.Y(f)},Br.prototype.Y=function(f){try{if(f==this.g)e:{const bs=Dn(this.g);var N=this.g.Ba();const xr=this.g.Z();if(!(3>bs)&&(bs!=3||this.g&&(this.h.h||this.g.oa()||Yc(this.g)))){this.J||bs!=4||N==7||(N==8||0>=xr?Ii(3):Ii(2)),io(this);var F=this.g.Z();this.X=F;t:if(Ju(this)){var U=Yc(this.g);f="";var ae=U.length,he=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){fr(this),da(this);var Re="";break t}this.h.i=new d.TextDecoder}for(N=0;N<ae;N++)this.h.h=!0,f+=this.h.i.decode(U[N],{stream:!(he&&N==ae-1)});U.length=0,this.h.g+=f,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=F==200,cl(this.i,this.u,this.A,this.l,this.R,bs,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,Ts=this.g;if((Rt=Ts.g?Ts.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Rt)){var jt=Rt;break t}}jt=null}if(F=jt)Mr(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wc(this,F);else{this.o=!1,this.s=3,fs(12),fr(this),da(this);break e}}if(this.P){F=!0;let tr;for(;!this.J&&this.C<Re.length;)if(tr=yf(this,Re),tr==ul){bs==4&&(this.s=4,fs(14),F=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==Gc){this.s=4,fs(15),Mr(this.i,this.l,Re,"[Invalid Chunk]"),F=!1;break}else Mr(this.i,this.l,tr,null),Wc(this,tr);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bs!=4||Re.length!=0||this.h.h||(this.s=1,fs(16),F=!1),this.o=this.o&&F,!F)Mr(this.i,this.l,Re,"[Invalid Chunked Response]"),fr(this),da(this);else if(0<Re.length&&!this.W){this.W=!0;var Ds=this.j;Ds.g==this&&Ds.ba&&!Ds.M&&(Ds.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Zc(Ds),Ds.M=!0,fs(11))}}else Mr(this.i,this.l,Re,null),Wc(this,Re);bs==4&&fr(this),this.o&&!this.J&&(bs==4?jl(this.j,this):(this.o=!1,$t(this)))}else vl(this.g),F==400&&0<Re.indexOf("Unknown SID")?(this.s=3,fs(12)):(this.s=0,fs(13)),fr(this),da(this)}}}catch(bs){}finally{}};function Ju(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function yf(f,N){var F=f.C,U=N.indexOf(`
`,F);return U==-1?ul:(F=Number(N.substring(F,U)),isNaN(F)?Gc:(U+=1,U+F>N.length?ul:(N=N.slice(U,U+F),f.C=U+F,N)))}Br.prototype.cancel=function(){this.J=!0,fr(this)};function $t(f){f.S=Date.now()+f.I,Zu(f,f.I)}function Zu(f,N){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Dr(v(f.ba,f),N)}function io(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Br.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(zc(this.i,this.A),this.L!=2&&(Ii(),fs(17)),fr(this),this.s=2,da(this)):Zu(this,this.S-f)};function da(f){f.j.G==0||f.J||jl(f.j,f)}function fr(f){io(f);var N=f.M;N&&typeof N.ma=="function"&&N.ma(),f.M=null,Ci(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function Wc(f,N){try{var F=f.j;if(F.G!=0&&(F.g==f||bn(F.h,f))){if(!f.K&&bn(F.h,f)&&F.G==3){try{var U=F.Da.g.parse(N)}catch(jt){U=null}if(Array.isArray(U)&&U.length==3){var ae=U;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<f.F)wl(F),zr(F);else break e;_l(F),fs(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=Dr(v(F.Za,F),6e3));if(1>=th(F.h)&&F.ca){try{F.ca()}catch(jt){}F.ca=void 0}}else Mi(F,11)}else if((f.K||F.g==f)&&wl(F),!D(N))for(ae=F.Da.g.parse(N),N=0;N<ae.length;N++){let jt=ae[N];if(F.T=jt[0],jt=jt[1],F.G==2)if(jt[0]=="c"){F.K=jt[1],F.ia=jt[2];const Ds=jt[3];Ds!=null&&(F.la=Ds,F.j.info("VER="+F.la));const bs=jt[4];bs!=null&&(F.Aa=bs,F.j.info("SVER="+F.Aa));const xr=jt[5];xr!=null&&typeof xr=="number"&&0<xr&&(U=1.5*xr,F.L=U,F.j.info("backChannelRequestTimeoutMs_="+U)),U=F;const tr=f.g;if(tr){const mo=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var he=U.h;he.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(qc(he,he.h),he.h=null))}if(U.D){const Nl=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(U.ya=Nl,Mt(U.I,U.D,Nl))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-f.F,F.j.info("Handshake RTT: "+F.R+"ms")),U=F;var Re=f;if(U.qa=ph(U,U.J?U.ia:null,U.W),Re.K){sh(U.h,Re);var Rt=Re,Ts=U.L;Ts&&(Rt.I=Ts),Rt.B&&(io(Rt),$t(Rt)),U.g=Re}else ho(U);0<F.i.length&&ui(F)}else jt[0]!="stop"&&jt[0]!="close"||Mi(F,7);else F.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Mi(F,7):qs(F):jt[0]!="noop"&&F.l&&F.l.ta(jt),F.v=0)}}Ii(4)}catch(jt){}}var eh=class{constructor(f,N){this.g=f,this.map=N}};function ao(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function th(f){return f.h?1:f.g?f.g.size:0}function bn(f,N){return f.h?f.h==N:f.g?f.g.has(N):!1}function qc(f,N){f.g?f.g.add(N):f.h=N}function sh(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}ao.prototype.cancel=function(){if(this.i=nh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function nh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let N=f.i;for(const F of f.g.values())N=N.concat(F.D);return N}return P(f.i)}function ml(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var N=[],F=f.length,U=0;U<F;U++)N.push(f[U]);return N}N=[],F=0;for(U in f)N[F++]=f[U];return N}function pl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var N=[];f=f.length;for(var F=0;F<f;F++)N.push(F);return N}N=[],F=0;for(const U in f)N[F++]=U;return N}}}function ua(f,N){if(f.forEach&&typeof f.forEach=="function")f.forEach(N,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,N,void 0);else for(var F=pl(f),U=ml(f),ae=U.length,he=0;he<ae;he++)N.call(void 0,U[he],F&&F[he],f)}var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bf(f,N){if(f){f=f.split("&");for(var F=0;F<f.length;F++){var U=f[F].indexOf("="),ae=null;if(0<=U){var he=f[F].substring(0,U);ae=f[F].substring(U+1)}else he=f[F];N(he,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ri(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ri){this.h=f.h,lo(this,f.j),this.o=f.o,this.g=f.g,ha(this,f.s),this.l=f.l;var N=f.i,F=new li;F.i=N.i,N.g&&(F.g=new Map(N.g),F.h=N.h),ma(this,F),this.m=f.m}else f&&(N=String(f).match(oo))?(this.h=!1,lo(this,N[1]||"",!0),this.o=_t(N[2]||""),this.g=_t(N[3]||"",!0),ha(this,N[4]),this.l=_t(N[5]||"",!0),ma(this,N[6]||"",!0),this.m=_t(N[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Ri.prototype.toString=function(){var f=[],N=this.j;N&&f.push(fa(N,fl,!0),":");var F=this.g;return(F||N=="file")&&(f.push("//"),(N=this.o)&&f.push(fa(N,fl,!0),"@"),f.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&f.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&f.push("/"),f.push(fa(F,F.charAt(0)=="/"?ah:ih,!0))),(F=this.i.toString())&&f.push("?",F),(F=this.m)&&f.push("#",fa(F,Kc)),f.join("")};function Zn(f){return new Ri(f)}function lo(f,N,F){f.j=F?_t(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function ha(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function ma(f,N,F){N instanceof li?(f.i=N,ci(f.i,f.h)):(F||(N=fa(N,oh)),f.i=new li(N,f.h))}function Mt(f,N,F){f.i.set(N,F)}function pa(f){return Mt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function _t(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fa(f,N,F){return typeof f=="string"?(f=encodeURI(f).replace(N,rh),F&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function rh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fl=/[#\/\?@]/g,ih=/[#\?:]/g,ah=/[#\?]/g,oh=/[#\?@]/g,Kc=/#/g;function li(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function Ws(f){f.g||(f.g=new Map,f.h=0,f.i&&bf(f.i,function(N,F){f.add(decodeURIComponent(N.replace(/\+/g," ")),F)}))}t=li.prototype,t.add=function(f,N){Ws(this),this.i=null,f=gr(this,f);var F=this.g.get(f);return F||this.g.set(f,F=[]),F.push(N),this.h+=1,this};function $r(f,N){Ws(f),N=gr(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function Vr(f,N){return Ws(f),N=gr(f,N),f.g.has(N)}t.forEach=function(f,N){Ws(this),this.g.forEach(function(F,U){F.forEach(function(ae){f.call(N,ae,U,this)},this)},this)},t.na=function(){Ws(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),F=[];for(let U=0;U<N.length;U++){const ae=f[U];for(let he=0;he<ae.length;he++)F.push(N[U])}return F},t.V=function(f){Ws(this);let N=[];if(typeof f=="string")Vr(this,f)&&(N=N.concat(this.g.get(gr(this,f))));else{f=Array.from(this.g.values());for(let F=0;F<f.length;F++)N=N.concat(f[F])}return N},t.set=function(f,N){return Ws(this),this.i=null,f=gr(this,f),Vr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},t.get=function(f,N){return f?(f=this.V(f),0<f.length?String(f[0]):N):N};function ga(f,N,F){$r(f,N),0<F.length&&(f.i=null,f.g.set(gr(f,N),P(F)),f.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var F=0;F<N.length;F++){var U=N[F];const he=encodeURIComponent(String(U)),Re=this.V(U);for(U=0;U<Re.length;U++){var ae=he;Re[U]!==""&&(ae+="="+encodeURIComponent(String(Re[U]))),f.push(ae)}}return this.i=f.join("&")};function gr(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function ci(f,N){N&&!f.j&&(Ws(f),f.i=null,f.g.forEach(function(F,U){var ae=U.toLowerCase();U!=ae&&($r(this,U),ga(this,ae,F))},f)),f.j=N}function _f(f,N){const F=new so;if(d.Image){const U=new Image;U.onload=w(Ln,F,"TestLoadImage: loaded",!0,N,U),U.onerror=w(Ln,F,"TestLoadImage: error",!1,N,U),U.onabort=w(Ln,F,"TestLoadImage: abort",!1,N,U),U.ontimeout=w(Ln,F,"TestLoadImage: timeout",!1,N,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else N(!1)}function lh(f,N){const F=new so,U=new AbortController,ae=setTimeout(()=>{U.abort(),Ln(F,"TestPingServer: timeout",!1,N)},1e4);fetch(f,{signal:U.signal}).then(he=>{clearTimeout(ae),he.ok?Ln(F,"TestPingServer: ok",!0,N):Ln(F,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ae),Ln(F,"TestPingServer: error",!1,N)})}function Ln(f,N,F,U,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),U(F)}catch(he){}}function wf(){this.g=new Ht}function ch(f,N,F){const U=F||"";try{ua(f,function(ae,he){let Re=ae;m(ae)&&(Re=oi(ae)),N.push(U+he+"="+encodeURIComponent(Re))})}catch(ae){throw N.push(U+"type="+encodeURIComponent("_badmap")),ae}}function Pi(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Pi,pr),Pi.prototype.g=function(){return new co(this.l,this.j)},Pi.prototype.i=(function(f){return function(){return f}})({});function co(f,N){Qt.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(co,Qt),t=co.prototype,t.open=function(f,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,Ur(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||d).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function dh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Or(this):Ur(this),this.readyState==3&&dh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Or(this))},t.Qa=function(f){this.g&&(this.response=f,Or(this))},t.ga=function(){this.g&&Or(this)};function Or(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ur(f)}t.setRequestHeader=function(f,N){this.u.append(f,N)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var F=N.next();!F.done;)F=F.value,f.push(F[0]+": "+F[1]),F=N.next();return f.join(`\r
`)};function Ur(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Li(f){let N="";return M(f,function(F,U){N+=U,N+=":",N+=F,N+=`\r
`}),N}function xa(f,N,F){e:{for(U in F){var U=!1;break e}U=!0}U||(F=Li(F),typeof f=="string"?F!=null&&encodeURIComponent(String(F)):Mt(f,N,F))}function Xt(f){Qt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xt,Qt);var jf=/^https?$/i,Qc=["POST","PUT"];t=Xt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,N,F,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?Ti(this.o):Ti(Fr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(he){uo(this,he);return}if(f=F||"",F=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ae in U)F.set(ae,U[ae]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const he of U.keys())F.set(he,U.get(he));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(F.keys()).find(he=>he.toLowerCase()=="content-type"),ae=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qc,N,void 0))||U||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Re]of F)this.g.setRequestHeader(he,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xl(this),this.u=!0,this.g.send(f),this.u=!1}catch(he){uo(this,he)}};function uo(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,gl(f),er(f)}function gl(f){f.A||(f.A=!0,Gt(f,"complete"),Gt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Gt(this,"complete"),Gt(this,"abort"),er(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xc(this):this.bb())},t.bb=function(){Xc(this)};function Xc(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||Dn(f)!=4||f.Z()!=2)){if(f.u&&Dn(f)==4)ii(f.Ea,0,f);else if(Gt(f,"readystatechange"),Dn(f)==4){f.h=!1;try{const Re=f.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var F;if(!(F=N)){var U;if(U=Re===0){var ae=String(f.D).match(oo)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),U=!jf.test(ae?ae.toLowerCase():"")}F=U}if(F)Gt(f,"complete"),Gt(f,"success");else{f.m=6;try{var he=2<Dn(f)?f.g.statusText:""}catch(Rt){he=""}f.l=he+" ["+f.Z()+"]",gl(f)}}finally{er(f)}}}}function er(f,N){if(f.g){xl(f);const F=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||Gt(f,"ready");try{F.onreadystatechange=U}catch(ae){}}}function xl(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Dn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&N.indexOf(f)==0&&(N=N.substring(f.length)),Lr(N)}};function Yc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(N){return null}}function vl(f){const N={};f=(f.g&&2<=Dn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(D(f[U]))continue;var F=I(f[U]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const he=N[ae]||[];N[ae]=he,he.push(F)}C(N,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(f,N,F){return F&&F.internalChannelParams&&F.internalChannelParams[f]||N}function Jc(f){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=di("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=di("baseRetryDelayMs",5e3,f),this.cb=di("retryDelaySeedMs",1e4,f),this.Wa=di("forwardChannelMaxRetries",2,f),this.wa=di("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ao(f&&f.concurrentRequestLimit),this.Da=new wf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jc.prototype,t.la=8,t.G=1,t.connect=function(f,N,F,U){fs(0),this.W=f,this.H=N||{},F&&U!==void 0&&(this.H.OSID=F,this.H.OAID=U),this.F=this.X,this.I=ph(this,null,this.W),ui(this)};function qs(f){if(yl(f),f.G==3){var N=f.U++,F=Zn(f.I);if(Mt(F,"SID",f.K),Mt(F,"RID",N),Mt(F,"TYPE","terminate"),Di(f,F),N=new Br(f,f.j,N),N.L=2,N.v=pa(Zn(F)),F=!1,d.navigator&&d.navigator.sendBeacon)try{F=d.navigator.sendBeacon(N.v.toString(),"")}catch(U){}!F&&d.Image&&(new Image().src=N.v,F=!0),F||(N.g=fh(N.j,null),N.g.ea(N.v)),N.F=Date.now(),$t(N)}mh(f)}function zr(f){f.g&&(Zc(f),f.g.cancel(),f.g=null)}function yl(f){zr(f),f.u&&(d.clearTimeout(f.u),f.u=null),wl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function ui(f){if(!Jn(f.h)&&!f.s){f.s=!0;var N=f.Ga;Q||re(),G||(Q(),G=!0),te.add(N,f),f.B=0}}function Sf(f,N){return th(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=N.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Dr(v(f.Ga,f,N),hh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ae=new Br(this,this.j,f);let he=this.o;if(this.S&&(he?(he=_(he),L(he,this.S)):he=this.S),this.m!==null||this.O||(ae.H=he,he=null),this.P)e:{for(var N=0,F=0;F<this.i.length;F++){t:{var U=this.i[F];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(N+=U,4096<N){N=F;break e}if(N===4096||F===this.i.length-1){N=F+1;break e}}N=1e3}else N=1e3;N=va(this,ae,N),F=Zn(this.I),Mt(F,"RID",f),Mt(F,"CVER",22),this.D&&Mt(F,"X-HTTP-Session-Id",this.D),Di(this,F),he&&(this.O?N="headers="+encodeURIComponent(String(Li(he)))+"&"+N:this.m&&xa(F,this.m,he)),qc(this.h,ae),this.Ua&&Mt(F,"TYPE","init"),this.P?(Mt(F,"$req",N),Mt(F,"SID","null"),ae.T=!0,hl(ae,F,null)):hl(ae,F,N),this.G=2}}else this.G==3&&(f?bl(this,f):this.i.length==0||Jn(this.h)||bl(this))};function bl(f,N){var F;N?F=N.l:F=f.U++;const U=Zn(f.I);Mt(U,"SID",f.K),Mt(U,"RID",F),Mt(U,"AID",f.T),Di(f,U),f.m&&f.o&&xa(U,f.m,f.o),F=new Br(f,f.j,F,f.B+1),f.m===null&&(F.H=f.o),N&&(f.i=N.D.concat(f.i)),N=va(f,F,1e3),F.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),qc(f.h,F),hl(F,U,N)}function Di(f,N){f.H&&M(f.H,function(F,U){Mt(N,U,F)}),f.l&&ua({},function(F,U){Mt(N,U,F)})}function va(f,N,F){F=Math.min(f.i.length,F);var U=f.l?v(f.l.Na,f.l,f):null;e:{var ae=f.i;let he=-1;for(;;){const Re=["count="+F];he==-1?0<F?(he=ae[0].g,Re.push("ofs="+he)):he=0:Re.push("ofs="+he);let Rt=!0;for(let Ts=0;Ts<F;Ts++){let jt=ae[Ts].g;const Ds=ae[Ts].map;if(jt-=he,0>jt)he=Math.max(0,ae[Ts].g-100),Rt=!1;else try{ch(Ds,Re,"req"+jt+"_")}catch(bs){U&&U(Ds)}}if(Rt){U=Re.join("&");break e}}}return f=f.i.splice(0,F),N.D=f,U}function ho(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;Q||re(),G||(Q(),G=!0),te.add(N,f),f.v=0}}function _l(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Dr(v(f.Fa,f),hh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Dr(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fs(10),zr(this),uh(this))};function Zc(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function uh(f){f.g=new Br(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var N=Zn(f.qa);Mt(N,"RID","rpc"),Mt(N,"SID",f.K),Mt(N,"AID",f.T),Mt(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&Mt(N,"TO",f.ja),Mt(N,"TYPE","xmlhttp"),Di(f,N),f.m&&f.o&&xa(N,f.m,f.o),f.L&&(f.g.I=f.L);var F=f.g;f=f.ia,F.L=1,F.v=pa(Zn(N)),F.m=null,F.P=!0,Hc(F,f)}t.Za=function(){this.C!=null&&(this.C=null,zr(this),_l(this),fs(19))};function wl(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function jl(f,N){var F=null;if(f.g==N){wl(f),Zc(f),f.g=null;var U=2}else if(bn(f.h,N))F=N.D,sh(f.h,N),U=1;else return;if(f.G!=0){if(N.o)if(U==1){F=N.m?N.m.length:0,N=Date.now()-N.F;var ae=f.B;U=to(),Gt(U,new ll(U,F)),ui(f)}else ho(f);else if(ae=N.s,ae==3||ae==0&&0<N.X||!(U==1&&Sf(f,N)||U==2&&_l(f)))switch(F&&0<F.length&&(N=f.h,N.i=N.i.concat(F)),ae){case 1:Mi(f,5);break;case 4:Mi(f,10);break;case 3:Mi(f,6);break;default:Mi(f,2)}}}function hh(f,N){let F=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(F*=2),F*N}function Mi(f,N){if(f.j.info("Error code "+N),N==2){var F=v(f.fb,f),U=f.Xa;const ae=!U;U=new Ri(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||lo(U,"https"),pa(U),ae?_f(U.toString(),F):lh(U.toString(),F)}else fs(2);f.G=0,f.l&&f.l.sa(N),mh(f),yl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),fs(2)):(this.j.info("Failed to ping google.com"),fs(1))};function mh(f){if(f.G=0,f.ka=[],f.l){const N=nh(f.h);(N.length!=0||f.i.length!=0)&&(R(f.ka,N),R(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function ph(f,N,F){var U=F instanceof Ri?Zn(F):new Ri(F);if(U.g!="")N&&(U.g=N+"."+U.g),ha(U,U.s);else{var ae=d.location;U=ae.protocol,N=N?N+"."+ae.hostname:ae.hostname,ae=+ae.port;var he=new Ri(null);U&&lo(he,U),N&&(he.g=N),ae&&ha(he,ae),F&&(he.l=F),U=he}return F=f.D,N=f.ya,F&&N&&Mt(U,F,N),Mt(U,"VER",f.la),Di(f,U),U}function fh(f,N,F){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=f.Ca&&!f.pa?new Xt(new Pi({eb:F})):new Xt(f.pa),N.Ha(f.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}t=ed.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sl(){}Sl.prototype.g=function(f,N){return new _n(f,N)};function _n(f,N){Qt.call(this),this.g=new Jc(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!D(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!D(N)&&(this.g.D=N,f=this.h,f!==null&&N in f&&(f=this.h,N in f&&delete f[N])),this.j=new hi(this)}S(_n,Qt),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){qs(this.g)},_n.prototype.o=function(f){var N=this.g;if(typeof f=="string"){var F={};F.__data__=f,f=F}else this.u&&(F={},F.__data__=oi(f),f=F);N.i.push(new eh(N.Ya++,f)),N.G==3&&ui(N)},_n.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,_n.aa.N.call(this)};function gh(f){Xn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const F in N){f=F;break e}f=void 0}(this.i=f)&&(f=this.i,N=N!==null&&f in N?N[f]:void 0),this.data=N}else this.data=f}S(gh,Xn);function xh(){Ei.call(this),this.status=1}S(xh,Ei);function hi(f){this.g=f}S(hi,ed),hi.prototype.ua=function(){Gt(this.g,"a")},hi.prototype.ta=function(f){Gt(this.g,new gh(f))},hi.prototype.sa=function(f){Gt(this.g,new xh)},hi.prototype.ra=function(){Gt(this.g,"b")},Sl.prototype.createWebChannel=Sl.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$S=function(){return new Sl},BS=function(){return to()},FS=Yn,cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dl.NO_ERROR=0,dl.TIMEOUT=8,dl.HTTP_ERROR=6,Um=dl,Xu.COMPLETE="complete",MS=Xu,Ai.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,Fd=Ai,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,DS=Xt}).apply(typeof mm!="undefined"?mm:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const b_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new CS("@firebase/firestore");function kd(){return Ko.logLevel}function Ue(t,...e){if(Ko.logLevel<=Tt.DEBUG){const n=e.map(cy);Ko.debug(`Firestore (${Rc}): ${t}`,...n)}}function ra(t,...e){if(Ko.logLevel<=Tt.ERROR){const n=e.map(cy);Ko.error(`Firestore (${Rc}): ${t}`,...n)}}function mc(t,...e){if(Ko.logLevel<=Tt.WARN){const n=e.map(cy);Ko.warn(`Firestore (${Rc}): ${t}`,...n)}}function cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: `+t;throw ra(e),new Error(e)}function Pt(t,e){t||et()}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Ic{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class jI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SI{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ta,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},d=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>d(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?d(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ta)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string"),new VS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string"),new pn(e)}}class NI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new NI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pt(this.o===void 0);const r=o=>{o.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Pt(typeof n.token=="string"),this.R=n.token,new CI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Et(t,e){return t<e?-1:t>e?1:0}function pc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ps.fromMillis(Date.now())}static fromDate(e){return ps.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ps(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.timestamp=e}static fromTimestamp(e){return new it(e)}static min(){return new it(new ps(0,0))}static max(){return new it(new ps(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(),r===void 0?r=e.length-n:r>e.length-n&&et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),c=n.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends hu{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Bt(n)}static emptyPath(){return new Bt([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends hu{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return EI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Pe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Pe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(o(),i++)}if(o(),c)throw new Pe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Bt.fromString(e))}static fromName(e){return new qe(Bt.fromString(e).popFirst(5))}static empty(){return new qe(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Bt(e.slice()))}}function II(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new ps(n+1,0):new ps(n,r));return new qa(i,qe.empty(),e)}function RI(t){return new qa(t.readTime,t.key,-1)}class qa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qa(it.min(),qe.empty(),-1)}static max(){return new qa(it.max(),qe.empty(),-1)}}function PI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==LI)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let i=0,o=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++o,c&&o===i&&n()}),(u=>r(u)))})),c=!0,o===i&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((i=>i?we.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,i)=>{const o=e.length,c=new Array(o);let d=0;for(let u=0;u<o;u++){const m=u;n(e[m]).next((p=>{c[m]=p,++d,d===o&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new we(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function MI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dy.oe=-1;function Vp(t){return t==null}function op(t){return t===0&&1/t==-1/0}function FI(t){return typeof t=="number"&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function US(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.comparator=e,this.root=n||Zs.EMPTY}insert(e,n){return new as(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zs.BLACK,null,null))}remove(e){return new as(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pm(this.root,e,this.comparator,!0)}}class pm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zs{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:Zs.RED,this.left=i!=null?i:Zs.EMPTY,this.right=o!=null?o:Zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zs(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}Zs.EMPTY=null,Zs.RED=!0,Zs.BLACK=!1;Zs.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new as(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new or([])}unionWith(e){let n=new an(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException!="undefined"&&o instanceof DOMException?new zS("Invalid base64 string: "+o):o}})(e);return new on(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const BI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(t){if(Pt(!!t),typeof t=="string"){let e=0;const n=BI.exec(t);if(Pt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ys(t.seconds),nanos:ys(t.nanos)}}function ys(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qo(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uy(t){const e=t.mapValue.fields.__previous_value__;return Op(e)?uy(e):e}function mu(t){const e=Ka(t.mapValue.fields.__local_write_time__.timestampValue);return new ps(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,i,o,c,d,u,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=u,this.useFetchStreams=m}}class pu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm={mapValue:{}};function Xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Op(t)?4:OI(t)?9007199254740991:VI(t)?10:11:et()}function Ni(t,e){if(t===e)return!0;const n=Xo(t);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Ka(i.timestampValue),d=Ka(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Qo(i.bytesValue).isEqual(Qo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return ys(i.geoPointValue.latitude)===ys(o.geoPointValue.latitude)&&ys(i.geoPointValue.longitude)===ys(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ys(i.integerValue)===ys(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=ys(i.doubleValue),d=ys(o.doubleValue);return c===d?op(c)===op(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return pc(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},d=o.mapValue.fields||{};if(__(c)!==__(d))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(d[u]===void 0||!Ni(c[u],d[u])))return!1;return!0})(t,e);default:return et()}}function fu(t,e){return(t.values||[]).find((n=>Ni(n,e)))!==void 0}function fc(t,e){if(t===e)return 0;const n=Xo(t),r=Xo(e);if(n!==r)return Et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=ys(o.integerValue||o.doubleValue),u=ys(c.integerValue||c.doubleValue);return d<u?-1:d>u?1:d===u?0:isNaN(d)?isNaN(u)?0:-1:1})(t,e);case 3:return j_(t.timestampValue,e.timestampValue);case 4:return j_(mu(t),mu(e));case 5:return Et(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Qo(o),u=Qo(c);return d.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),u=c.split("/");for(let m=0;m<d.length&&m<u.length;m++){const p=Et(d[m],u[m]);if(p!==0)return p}return Et(d.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Et(ys(o.latitude),ys(c.latitude));return d!==0?d:Et(ys(o.longitude),ys(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return S_(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var d,u,m,p;const x=o.fields||{},v=c.fields||{},w=(d=x.value)===null||d===void 0?void 0:d.arrayValue,S=(u=v.value)===null||u===void 0?void 0:u.arrayValue,P=Et(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:S_(w,S)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===fm.mapValue&&c===fm.mapValue)return 0;if(o===fm.mapValue)return 1;if(c===fm.mapValue)return-1;const d=o.fields||{},u=Object.keys(d),m=c.fields||{},p=Object.keys(m);u.sort(),p.sort();for(let x=0;x<u.length&&x<p.length;++x){const v=Et(u[x],p[x]);if(v!==0)return v;const w=fc(d[u[x]],m[p[x]]);if(w!==0)return w}return Et(u.length,p.length)})(t.mapValue,e.mapValue);default:throw et()}}function j_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const n=Ka(t),r=Ka(e),i=Et(n.seconds,r.seconds);return i!==0?i:Et(n.nanos,r.nanos)}function S_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=fc(n[i],r[i]);if(o)return o}return Et(n.length,r.length)}function gc(t){return dv(t)}function dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ka(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=dv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${dv(n.fields[c])}`;return i+"}"})(t.mapValue):et()}function lp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uv(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function N_(t){return!!t&&"nullValue"in t}function k_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zm(t){return!!t&&"mapValue"in t}function VI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return nl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=Kd(c):i.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());zm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){nl(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Wn(Kd(this.value))}}function GS(t){const e=[];return nl(t.fields,((n,r)=>{const i=new sn([n]);if(zm(r)){const o=GS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,it.min(),it.min(),it.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,it.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,it.min(),it.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,it.min(),it.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.position=e,this.inclusive=n}}function C_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(c.referenceValue),n.key):r=fc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function T_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function UI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class Cs extends HS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GI(e,n,r):n==="array-contains"?new qI(e,r):n==="in"?new KI(e,r):n==="not-in"?new QI(e,r):n==="array-contains-any"?new XI(e,r):new Cs(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HI(e,r):new WI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fc(n,this.value)):n!==null&&Xo(this.value)===Xo(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends HS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new si(e,n)}matches(e){return WS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WS(t){return t.op==="and"}function qS(t){return zI(t)&&WS(t)}function zI(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function hv(t){if(t instanceof Cs)return t.field.canonicalString()+t.op.toString()+gc(t.value);if(qS(t))return t.filters.map((e=>hv(e))).join(",");{const e=t.filters.map((n=>hv(n))).join(",");return`${t.op}(${e})`}}function KS(t,e){return t instanceof Cs?(function(r,i){return i instanceof Cs&&r.op===i.op&&r.field.isEqual(i.field)&&Ni(r.value,i.value)})(t,e):t instanceof si?(function(r,i){return i instanceof si&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,d)=>o&&KS(c,i.filters[d])),!0):!1})(t,e):void et()}function QS(t){return t instanceof Cs?(function(n){return`${n.field.canonicalString()} ${n.op} ${gc(n.value)}`})(t):t instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(QS).join(" ,")+"}"})(t):"Filter"}class GI extends Cs{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class HI extends Cs{constructor(e,n){super(e,"in",n),this.keys=XS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WI extends Cs{constructor(e,n){super(e,"not-in",n),this.keys=XS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function XS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>qe.fromName(r.referenceValue)))}class qI extends Cs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&fu(n.arrayValue,this.value)}}class KI extends Cs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class QI extends Cs{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fu(this.value.arrayValue,n)}}class XI extends Cs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n=null,r=[],i=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function A_(t,e=null,n=[],r=[],i=null,o=null,c=null){return new YI(t,e,n,r,i,o,c)}function my(t){const e=at(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gc(r))).join(",")),e.ue=n}return e.ue}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T_(t.startAt,e.startAt)&&T_(t.endAt,e.endAt)}function mv(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n=null,r=[],i=[],o=null,c="F",d=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JI(t,e,n,r,i,o,c,d){return new ca(t,e,n,r,i,o,c,d)}function fy(t){return new ca(t)}function E_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gy(t){return t.collectionGroup!==null}function cc(t){const e=at(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new an(sn.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new gu(o,r))})),n.has(sn.keyField().canonicalString())||e.ce.push(new gu(sn.keyField(),r))}return e.ce}function yi(t){const e=at(t);return e.le||(e.le=ZI(e,cc(t))),e.le}function ZI(t,e){if(t.limitType==="F")return A_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new gu(i.field,o)}));const n=t.endAt?new xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xc(t.startAt.position,t.startAt.inclusive):null;return A_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pv(t,e){const n=t.filters.concat([e]);return new ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cp(t,e,n){return new ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Up(t,e){return py(yi(t),yi(e))&&t.limitType===e.limitType}function YS(t){return`${my(yi(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QS(i))).join(", ")}]`),Vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>gc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>gc(i))).join(",")),`Target(${r})`})(yi(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of cc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,u){const m=C_(c,d,u);return c.inclusive?m<=0:m<0})(r.startAt,cc(r),i)||r.endAt&&!(function(c,d,u){const m=C_(c,d,u);return c.inclusive?m>=0:m>0})(r.endAt,cc(r),i))})(t,e)}function eR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JS(t){return(e,n)=>{let r=!1;for(const i of cc(t)){const o=tR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function tR(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(o,c,d){const u=c.data.field(o),m=d.data.field(o);return u!==null&&m!==null?fc(u,m):et()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return US(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new as(qe.comparator);function ia(){return sR}const ZS=new as(qe.comparator);function Bd(...t){let e=ZS;for(const n of t)e=e.insert(n.key,n);return e}function eN(t){let e=ZS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Vo(){return Qd()}function tN(){return Qd()}function Qd(){return new Pc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nR=new as(qe.comparator),rR=new an(qe.comparator);function bt(...t){let e=rR;for(const n of t)e=e.add(n);return e}const iR=new an(Et);function aR(){return iR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function sN(t){return{integerValue:""+t}}function oR(t,e){return FI(e)?sN(e):xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this._=void 0}}function lR(t,e,n){return t instanceof xu?(function(i,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Op(o)&&(o=uy(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}})(n,e):t instanceof vu?rN(t,e):t instanceof yu?iN(t,e):(function(i,o){const c=nN(i,o),d=I_(c)+I_(i.Pe);return uv(c)&&uv(i.Pe)?sN(d):xy(i.serializer,d)})(t,e)}function cR(t,e,n){return t instanceof vu?rN(t,e):t instanceof yu?iN(t,e):n}function nN(t,e){return t instanceof dp?(function(r){return uv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class xu extends Gp{}class vu extends Gp{constructor(e){super(),this.elements=e}}function rN(t,e){const n=aN(e);for(const r of t.elements)n.some((i=>Ni(i,r)))||n.push(r);return{arrayValue:{values:n}}}class yu extends Gp{constructor(e){super(),this.elements=e}}function iN(t,e){let n=aN(e);for(const r of t.elements)n=n.filter((i=>!Ni(i,r)));return{arrayValue:{values:n}}}class dp extends Gp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function I_(t){return ys(t.integerValue||t.doubleValue)}function aN(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.field=e,this.transform=n}}function uR(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof vu&&i instanceof vu||r instanceof yu&&i instanceof yu?pc(r.elements,i.elements,Ni):r instanceof dp&&i instanceof dp?Ni(r.Pe,i.Pe):r instanceof xu&&i instanceof xu})(t.transform,e.transform)}class hR{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hp{}function oN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vy(t.key,Er.none()):new Ru(t.key,t.data,Er.none());{const n=t.data,r=Wn.empty();let i=new an(sn.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new Ja(t.key,r,new or(i.toArray()),Er.none())}}function mR(t,e,n){t instanceof Ru?(function(i,o,c){const d=i.value.clone(),u=P_(i.fieldTransforms,o,c.transformResults);d.setAll(u),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ja?(function(i,o,c){if(!Gm(i.precondition,o))return void o.convertToUnknownDocument(c.version);const d=P_(i.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(lN(i)),u.setAll(d),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Xd(t,e,n,r){return t instanceof Ru?(function(o,c,d,u){if(!Gm(o.precondition,c))return d;const m=o.value.clone(),p=L_(o.fieldTransforms,u,c);return m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ja?(function(o,c,d,u){if(!Gm(o.precondition,c))return d;const m=L_(o.fieldTransforms,u,c),p=c.data;return p.setAll(lN(o)),p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(o,c,d){return Gm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function pR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=nN(r.transform,i||null);o!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,o))}return n||null}function R_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pc(r,i,((o,c)=>uR(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends Hp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends Hp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function lN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function P_(t,e,n){const r=new Map;Pt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,d=e.data.field(o.field);r.set(o.field,cR(c,d,n[i]))}return r}function L_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,lR(o,c,e))}return r}class vy extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fR extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&mR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tN();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(i.key)?null:d;const u=oN(c,d);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(it.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),bt())}isEqual(e){return this.batchId===e.batchId&&pc(this.mutations,e.mutations,((n,r)=>R_(n,r)))&&pc(this.baseMutations,e.baseMutations,((n,r)=>R_(n,r)))}}class yy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pt(e.mutations.length===r.length);let i=(function(){return nR})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new yy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var js,St;function yR(t){switch(t){default:return et();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function cN(t){if(t===void 0)return ra("GRPC error has no .code"),pe.UNKNOWN;switch(t){case js.OK:return pe.OK;case js.CANCELLED:return pe.CANCELLED;case js.UNKNOWN:return pe.UNKNOWN;case js.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case js.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case js.INTERNAL:return pe.INTERNAL;case js.UNAVAILABLE:return pe.UNAVAILABLE;case js.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case js.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case js.NOT_FOUND:return pe.NOT_FOUND;case js.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case js.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case js.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case js.ABORTED:return pe.ABORTED;case js.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case js.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case js.DATA_LOSS:return pe.DATA_LOSS;default:return et()}}(St=js||(js={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Go([4294967295,4294967295],0);function D_(t){const e=bR().encode(t),n=new LS;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Go([n,r],0),new Go([i,o],0)]}class by{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $d(`Invalid padding: ${n}`);if(r<0)throw new $d(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $d(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $d(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Go.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Go.fromNumber(r)));return i.compare(_R)===1&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=D_(e),[r,i]=M_(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new by(o,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=D_(e),[r,i]=M_(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wp(it.min(),i,new as(Et),ia(),bt())}}class Pu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pu(r,n,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class dN{constructor(e,n){this.targetId=e,this.me=n}}class uN{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F_{constructor(){this.fe=0,this.ge=$_(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=bt(),n=bt(),r=bt();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et()}})),new Pu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wR{constructor(e){this.Le=e,this.Be=new Map,this.ke=ia(),this.qe=B_(),this.Qe=new as(Et)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:et()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(mv(o))if(r===0){const c=new qe(o.path);this.Ue(n,c,gn.newNoDocument(c,it.min()))}else Pt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),u=d?this.Xe(d,e,c):1;if(u!==0){this.je(n);const m=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,d;try{c=Qo(r).toUint8Array()}catch(u){if(u instanceof zS)return mc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{d=new by(c,i,o)}catch(u){return mc(u instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,o,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((o,c)=>{const d=this.Je(c);if(d){if(o.current&&mv(d.target)){const u=new qe(d.target.path);this.ke.get(u)!==null||this.it(c,u)||this.Ue(c,u,gn.newNoDocument(u,e))}o.be&&(n.set(c,o.ve()),o.Ce())}}));let r=bt();this.qe.forEach(((o,c)=>{let d=!0;c.forEachWhile((u=>{const m=this.Je(u);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.ke.forEach(((o,c)=>c.setReadTime(e)));const i=new Wp(e,n,this.Qe,this.ke,r);return this.ke=ia(),this.qe=B_(),this.Qe=new as(Et),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new F_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(Et),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new F_),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function B_(){return new as(qe.comparator)}function $_(){return new as(qe.comparator)}const jR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class kR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fv(t,e){return t.useProto3Json||Vp(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CR(t,e){return up(t,e.toTimestamp())}function bi(t){return Pt(!!t),it.fromTimestamp((function(n){const r=Ka(n);return new ps(r.seconds,r.nanos)})(t))}function _y(t,e){return gv(t,e).canonicalString()}function gv(t,e){const n=(function(i){return new Bt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mN(t){const e=Bt.fromString(t);return Pt(vN(e)),e}function xv(t,e){return _y(t.databaseId,e.path)}function tx(t,e){const n=mN(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(fN(n))}function pN(t,e){return _y(t.databaseId,e)}function TR(t){const e=mN(t);return e.length===4?Bt.emptyPath():fN(e)}function vv(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fN(t){return Pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V_(t,e,n){return{name:xv(t,e),fields:n.value.mapValue.fields}}function AR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:et()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(m,p){return m.useProto3Json?(Pt(p===void 0||typeof p=="string"),on.fromBase64String(p||"")):(Pt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),on.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const p=m.code===void 0?pe.UNKNOWN:cN(m.code);return new Pe(p,m.message||"")})(c);n=new uN(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tx(t,r.document.name),o=bi(r.document.updateTime),c=r.document.createTime?bi(r.document.createTime):it.min(),d=new Wn({mapValue:{fields:r.document.fields}}),u=gn.newFoundDocument(i,o,c,d),m=r.targetIds||[],p=r.removedTargetIds||[];n=new Hm(m,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tx(t,r.document),o=r.readTime?bi(r.readTime):it.min(),c=gn.newNoDocument(i,o),d=r.removedTargetIds||[];n=new Hm([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tx(t,r.document),o=r.removedTargetIds||[];n=new Hm([],o,i,null)}else{if(!("filter"in e))return et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new vR(i,o),d=r.targetId;n=new dN(d,c)}}return n}function ER(t,e){let n;if(e instanceof Ru)n={update:V_(t,e.key,e.value)};else if(e instanceof vy)n={delete:xv(t,e.key)};else if(e instanceof Ja)n={update:V_(t,e.key,e.data),updateMask:$R(e.fieldMask)};else{if(!(e instanceof fR))return et();n={verify:xv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dp)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw et()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:CR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:et()})(t,e.precondition)),n}function IR(t,e){return t&&t.length>0?(Pt(e!==void 0),t.map((n=>(function(i,o){let c=i.updateTime?bi(i.updateTime):bi(o);return c.isEqual(it.min())&&(c=bi(o)),new hR(c,i.transformResults||[])})(n,e)))):[]}function RR(t,e){return{documents:[pN(t,e.path)]}}function PR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pN(t,i);const o=(function(m){if(m.length!==0)return xN(si.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((p=>(function(v){return{field:Zl(v.field),direction:MR(v.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=fv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:i}}function LR(t){let e=TR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(x){const v=gN(x);return v instanceof si&&qS(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((v=>(function(S){return new gu(ec(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let v;return v=typeof x=="object"?x.value:x,Vp(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(x){const v=!!x.before,w=x.values||[];return new xc(w,v)})(n.startAt));let m=null;return n.endAt&&(m=(function(x){const v=!x.before,w=x.values||[];return new xc(w,v)})(n.endAt)),JI(e,i,c,o,d,"F",u,m)}function DR(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ec(n.unaryFilter.field);return Cs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ec(n.unaryFilter.field);return Cs.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ec(n.unaryFilter.field);return Cs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ec(n.unaryFilter.field);return Cs.create(c,"!=",{nullValue:"NULL_VALUE"});default:return et()}})(t):t.fieldFilter!==void 0?(function(n){return Cs.create(ec(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((r=>gN(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et()}})(n.compositeFilter.op))})(t):et()}function MR(t){return jR[t]}function FR(t){return SR[t]}function BR(t){return NR[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function ec(t){return sn.fromServerFormat(t.fieldPath)}function xN(t){return t instanceof Cs?(function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(N_(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(N_(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:FR(n.op),value:n.value}}})(t):t instanceof si?(function(n){const r=n.getFilters().map((i=>xN(i)));return r.length===1?r[0]:{compositeFilter:{op:BR(n.op),filters:r}}})(t):et()}function $R(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r,i,o=it.min(),c=it.min(),d=on.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=u}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.ct=e}}function OR(t){const e=LR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.un=new zR}addToCollectionParentIndex(e,n){return this.un.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(qa.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class zR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(Bt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vc(0)}static kn(){return new vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.changes=new Pc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Xd(r.mutation,i,or.empty(),ps.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,bt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=bt()){const i=Vo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let c=Bd();return o.forEach(((d,u)=>{c=c.insert(d,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Vo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,bt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let o=ia();const c=Qd(),d=(function(){return Qd()})();return n.forEach(((u,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof Ja)?o=o.insert(m.key,m):p!==void 0?(c.set(m.key,p.mutation.getFieldMask()),Xd(p.mutation,m,p.mutation.getFieldMask(),ps.now())):c.set(m.key,or.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((m,p)=>c.set(m,p))),n.forEach(((m,p)=>{var x;return d.set(m,new HR(p,(x=c.get(m))!==null&&x!==void 0?x:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Qd();let i=new as(((c,d)=>c-d)),o=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((u=>{const m=n.get(u);if(m===null)return;let p=r.get(u)||or.empty();p=d.applyToLocalView(m,p),r.set(u,p);const x=(i.get(d.batchId)||bt()).add(u);i=i.insert(d.batchId,x)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const u=d.getNext(),m=u.key,p=u.value,x=tN();p.forEach((v=>{if(!o.has(v)){const w=oN(n.get(v),r.get(v));w!==null&&x.set(v,w),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,x))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):we.resolve(Vo());let d=-1,u=o;return c.next((m=>we.forEach(m,((p,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{u=u.insert(p,v)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,u,m,bt()))).next((p=>({batchId:d,changes:eN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=Bd();return this.indexManager.getCollectionParents(e,o).next((d=>we.forEach(d,(u=>{const m=(function(x,v){return new ca(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((x,v)=>{c=c.insert(x,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((c=>{o.forEach(((u,m)=>{const p=m.getKey();c.get(p)===null&&(c=c.insert(p,gn.newInvalidDocument(p)))}));let d=Bd();return c.forEach(((u,m)=>{const p=o.get(u);p!==void 0&&Xd(p.mutation,m,or.empty(),ps.now()),zp(n,m)&&(d=d.insert(u,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return we.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:bi(i.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:OR(i.bundledQuery),readTime:bi(i.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.overlays=new as(qe.comparator),this.Ir=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vo();return we.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.ht(e,n,o)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=Vo(),o=n.length+1,c=new qe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const u=d.getNext().value,m=u.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new as(((m,p)=>m-p));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=o.get(m.largestBatchId);p===null&&(p=Vo(),o=o.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const d=Vo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((m,p)=>d.set(m,p))),!(d.size()>=i)););return we.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new xR(n,r));let o=this.Ir.get(n);o===void 0&&(o=bt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Tr=new an(Vs.Er),this.dr=new an(Vs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Vs(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Vs(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new qe(new Bt([])),r=new Vs(n,e),i=new Vs(n,e+1),o=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),o.push(c.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new qe(new Bt([])),r=new Vs(n,e),i=new Vs(n,e+1);let o=bt();return this.dr.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new Vs(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vs{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return qe.comparator(e.key,n.key)||Et(e.wr,n.wr)}static Ar(e,n){return Et(e.wr,n.wr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Vs.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gR(o,n,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new Vs(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,n){return we.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return we.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vs(n,0),i=new Vs(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);o.push(d)})),we.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Et);return n.forEach((i=>{const o=new Vs(i,0),c=new Vs(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],(d=>{r=r.add(d.wr)}))})),we.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const c=new Vs(new qe(o),0);let d=new an(Et);return this.br.forEachWhile((u=>{const m=u.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(u.wr)),!0)}),c),we.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Pt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return we.forEach(n.mutations,(i=>{const o=new Vs(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Vs(n,0),i=this.br.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.Mr=e,this.docs=(function(){return new as(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=ia();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ia();const c=n.path,d=new qe(c.child("")),u=this.docs.getIteratorFrom(d);for(;u.hasNext();){const{key:m,value:{document:p}}=u.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||PI(RI(p),r)<=0||(i.has(p.key)||zp(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,n,r,i){et()}Or(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JR(this)}getSize(e){return we.resolve(this.size)}}class JR extends GR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.persistence=e,this.Nr=new Pc((n=>my(n)),py),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wy,this.targetCount=0,this.kr=vc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),we.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Kn(n),we.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),we.waitFor(o).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),we.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dy(0),this.Kr=!1,this.Kr=!0,this.$r=new QR,this.referenceDelegate=e(this),this.Ur=new ZR(this),this.indexManager=new UR,this.remoteDocumentCache=(function(i){return new YR(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new VR(n),this.Gr=new qR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new XR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new tP(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,n){return we.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class tP extends DI{constructor(e){super(),this.currentSequenceNumber=e}}class jy{constructor(e){this.persistence=e,this.Jr=new wy,this.Yr=null}static Zr(e){return new jy(e)}get Xr(){if(this.Yr)return this.Yr;throw et()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),we.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,(r=>{const i=qe.fromPath(r);return this.ei(e,i).next((o=>{o||n.removeEntry(i,it.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return we.or([()=>we.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=bt(),i=bt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return a6()?8:MI(r6())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.Zi(e,n,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new sP;return this.Xi(e,n,c).next((d=>{if(o.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>o.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(kd()<=Tt.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(kd()<=Tt.DEBUG&&Ue("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(kd()<=Tt.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):we.resolve())}Yi(e,n){if(E_(n))return we.resolve(null);let r=yi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=cp(n,null,"F"),r=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=bt(...o);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((u=>{const m=this.ts(n,d);return this.ns(n,m,c,u.readTime)?this.Yi(e,cp(n,null,"F")):this.rs(e,m,n,u)}))))})))))}Zi(e,n,r,i){return E_(n)||i.isEqual(it.min())?we.resolve(null):this.Ji.getDocuments(e,r).next((o=>{const c=this.ts(n,o);return this.ns(n,c,r,i)?we.resolve(null):(kd()<=Tt.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jl(n)),this.rs(e,c,n,II(i,-1)).next((d=>d)))}))}ts(e,n){let r=new an(JS(e));return n.forEach(((i,o)=>{zp(e,o)&&(r=r.add(o))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return kd()<=Tt.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.Ji.getDocumentsMatchingQuery(e,n,qa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new as(Et),this._s=new Pc((o=>my(o)),py),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function iP(t,e,n,r){return new rP(t,e,n,r)}async function yN(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let u=bt();for(const m of i){c.push(m.batchId);for(const p of m.mutations)u=u.add(p.key)}for(const m of o){d.push(m.batchId);for(const p of m.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function aP(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,u,m,p){const x=m.batch,v=x.keys();let w=we.resolve();return v.forEach((S=>{w=w.next((()=>p.getEntry(u,S))).next((P=>{const R=m.docVersions.get(S);Pt(R!==null),P.version.compareTo(R)<0&&(x.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),p.addEntry(P)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(u,x)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let u=bt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(u=u.add(d.batch.mutations[m].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function bN(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function oP(t,e){const n=at(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((p,x)=>{const v=i.get(x);if(!v)return;d.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,x).next((()=>n.Ur.addMatchingKeys(o,p.addedDocuments,x))));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(on.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(x,w),(function(P,R,B){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(v,w,p)&&d.push(n.Ur.updateTargetData(o,w))}));let u=ia(),m=bt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),d.push(lP(o,c,e.documentUpdates).next((p=>{u=p.Ps,m=p.Is}))),!r.isEqual(it.min())){const p=n.Ur.getLastRemoteSnapshotVersion(o).next((x=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(p)}return we.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,m))).next((()=>u))})).then((o=>(n.os=i,o)))}function lP(t,e,n){let r=bt(),i=bt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=ia();return n.forEach(((d,u)=>{const m=o.get(d);u.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),u.isNoDocument()&&u.version.isEqual(it.min())?(e.removeEntry(d,u.readTime),c=c.insert(d,u)):!m.isValidDocument()||u.version.compareTo(m.version)>0||u.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(u),c=c.insert(d,u)):Ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",u.version)})),{Ps:c,Is:i}}))}function cP(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dP(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((o=>o?(i=o,we.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new Va(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function yv(t,e,n){const r=at(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Iu(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function O_(t,e,n){const r=at(t);let i=it.min(),o=bt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,m,p){const x=at(u),v=x._s.get(p);return v!==void 0?we.resolve(x.os.get(v)):x.Ur.getTargetData(m,p)})(r,c,yi(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((u=>{o=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:it.min(),n?o:bt()))).next((d=>(uP(r,eR(e),d),{documents:d,Ts:o})))))}function uP(t,e,n){let r=t.us.get(e)||it.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.us.set(e,r)}class U_{constructor(){this.activeTargetIds=aR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hP{constructor(){this.so=new U_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm=null;function sx(){return gm===null?gm=(function(){return 268435456+Math.round(2147483648*Math.random())})():gm++,"0x"+gm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class gP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,c){const d=sx(),u=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${d}:`,u,i);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,c),this.No(n,u,m,i).then((p=>(Ue("RestConnection",`Received RPC '${n}' ${d}: `,p),p)),(p=>{throw mc("RestConnection",`RPC '${n}' ${d} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(n,r,i,o,c,d){return this.Mo(n,r,i,o,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rc})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,c)=>n[c]=o)),i&&i.headers.forEach(((o,c)=>n[c]=o))}xo(n,r){const i=pP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=sx();return new Promise(((c,d)=>{const u=new DS;u.setWithCredentials(!0),u.listenOnce(MS.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Um.NO_ERROR:const p=u.getResponseJson();Ue(hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Um.TIMEOUT:Ue(hn,`RPC '${e}' ${o} timed out`),d(new Pe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Um.HTTP_ERROR:const x=u.getStatus();if(Ue(hn,`RPC '${e}' ${o} failed with status:`,x,"response text:",u.getResponseText()),x>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const S=(function(R){const B=R.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(B)>=0?B:pe.UNKNOWN})(w.status);d(new Pe(S,w.message))}else d(new Pe(pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new Pe(pe.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Ue(hn,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);Ue(hn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",m,r,15)}))}Bo(e,n,r){const i=sx(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$S(),d=BS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(u.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");Ue(hn,`Creating RPC '${e}' stream ${i}: ${p}`,u);const x=c.createWebChannel(p,u);let v=!1,w=!1;const S=new fP({Io:R=>{w?Ue(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(Ue(hn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),v=!0),Ue(hn,`RPC '${e}' stream ${i} sending:`,R),x.send(R))},To:()=>x.close()}),P=(R,B,D)=>{R.listen(B,(T=>{try{D(T)}catch(y){setTimeout((()=>{throw y}),0)}}))};return P(x,Fd.EventType.OPEN,(()=>{w||(Ue(hn,`RPC '${e}' stream ${i} transport opened.`),S.yo())})),P(x,Fd.EventType.CLOSE,(()=>{w||(w=!0,Ue(hn,`RPC '${e}' stream ${i} transport closed`),S.So())})),P(x,Fd.EventType.ERROR,(R=>{w||(w=!0,mc(hn,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new Pe(pe.UNAVAILABLE,"The operation could not be completed")))})),P(x,Fd.EventType.MESSAGE,(R=>{var B;if(!w){const D=R.data[0];Pt(!!D);const T=D,y=T.error||((B=T[0])===null||B===void 0?void 0:B.error);if(y){Ue(hn,`RPC '${e}' stream ${i} received error:`,y);const j=y.status;let M=(function(A){const L=js[A];if(L!==void 0)return cN(L)})(j),C=y.message;M===void 0&&(M=pe.INTERNAL,C="Unknown error status: "+j+" with message "+y.message),w=!0,S.So(new Pe(M,C)),x.close()}else Ue(hn,`RPC '${e}' stream ${i} received:`,D),S.bo(D)}})),P(d,FS.STAT_EVENT,(R=>{R.stat===cv.PROXY?Ue(hn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===cv.NOPROXY&&Ue(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.wo()}),0),S}}function nx(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new kR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,i,o,c,d,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _N(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(ra(n.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Pe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xP extends wN{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=AR(this.serializer,e),r=(function(o){if(!("targetChange"in o))return it.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?it.min():c.readTime?bi(c.readTime):it.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=vv(this.serializer),n.addTarget=(function(o,c){let d;const u=c.target;if(d=mv(u)?{documents:RR(o,u)}:{query:PR(o,u)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=hN(o,c.resumeToken);const m=fv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(it.min())>0){d.readTime=up(o,c.snapshotVersion.toTimestamp());const m=fv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=DR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=vv(this.serializer),n.removeTarget=e,this.a_(n)}}class vP extends wN{constructor(e,n,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=IR(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=vv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ER(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Mo(e,gv(n,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(pe.UNKNOWN,o.toString())}))}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,gv(n,r),i,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(pe.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class bP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ra(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((c=>{r.enqueueAndForget((async()=>{rl(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const m=at(u);m.L_.add(4),await Lu(m),m.q_.set("Unknown"),m.L_.delete(4),await Kp(m)})(this))}))})),this.q_=new bP(r,i)}}async function Kp(t){if(rl(t))for(const e of t.B_)await e(!0)}async function Lu(t){for(const e of t.B_)await e(!1)}function jN(t,e){const n=at(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ty(n)?Cy(n):Lc(n).r_()&&ky(n,e))}function Ny(t,e){const n=at(t),r=Lc(n);n.N_.delete(e),r.r_()&&SN(n,e),n.N_.size===0&&(r.r_()?r.o_():rl(n)&&n.q_.set("Unknown"))}function ky(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lc(t).A_(e)}function SN(t,e){t.Q_.xe(e),Lc(t).R_(e)}function Cy(t){t.Q_=new wR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lc(t).start(),t.q_.v_()}function Ty(t){return rl(t)&&!Lc(t).n_()&&t.N_.size>0}function rl(t){return at(t).L_.size===0}function NN(t){t.Q_=void 0}async function wP(t){t.q_.set("Online")}async function jP(t){t.N_.forEach(((e,n)=>{ky(t,e)}))}async function SP(t,e){NN(t),Ty(t)?(t.q_.M_(e),Cy(t)):t.q_.set("Unknown")}async function NP(t,e,n){if(t.q_.set("Online"),e instanceof uN&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const d of o.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof Hm?t.Q_.Ke(e):e instanceof dN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(it.min()))try{const r=await bN(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.Q_.rt(c);return d.targetChanges.forEach(((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.N_.get(m);p&&o.N_.set(m,p.withResumeToken(u.resumeToken,c))}})),d.targetMismatches.forEach(((u,m)=>{const p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(on.EMPTY_BYTE_STRING,p.snapshotVersion)),SN(o,u);const x=new Va(p.target,u,m,p.sequenceNumber);ky(o,x)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!Iu(e))throw e;t.L_.add(1),await Lu(t),t.q_.set("Offline"),n||(n=()=>bN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kp(t)}))}function kN(t,e){return e().catch((n=>hp(t,n,e)))}async function Qp(t){const e=at(t),n=Qa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;kP(e);)try{const i=await cP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,CP(e,i)}catch(i){await hp(e,i)}CN(e)&&TN(e)}function kP(t){return rl(t)&&t.O_.length<10}function CP(t,e){t.O_.push(e);const n=Qa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function CN(t){return rl(t)&&!Qa(t).n_()&&t.O_.length>0}function TN(t){Qa(t).start()}async function TP(t){Qa(t).p_()}async function AP(t){const e=Qa(t);for(const n of t.O_)e.m_(n.mutations)}async function EP(t,e,n){const r=t.O_.shift(),i=yy.from(r,e,n);await kN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Qp(t)}async function IP(t,e){e&&Qa(t).V_&&await(async function(r,i){if((function(c){return yR(c)&&c!==pe.ABORTED})(i.code)){const o=r.O_.shift();Qa(r).s_(),await kN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Qp(r)}})(t,e),CN(t)&&TN(t)}async function G_(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=rl(n);n.L_.add(3),await Lu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kp(n)}async function RP(t,e){const n=at(t);e?(n.L_.delete(2),await Kp(n)):e||(n.L_.add(2),await Lu(n),n.q_.set("Unknown"))}function Lc(t){return t.K_||(t.K_=(function(n,r,i){const o=at(n);return o.w_(),new xP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:wP.bind(null,t),Ro:jP.bind(null,t),mo:SP.bind(null,t),d_:NP.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Ty(t)?Cy(t):t.q_.set("Unknown")):(await t.K_.stop(),NN(t))}))),t.K_}function Qa(t){return t.U_||(t.U_=(function(n,r,i){const o=at(n);return o.w_(),new vP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TP.bind(null,t),mo:IP.bind(null,t),f_:AP.bind(null,t),g_:EP.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Qp(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,d=new Ay(e,n,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(t,e){if(ra("AsyncQueue",`${e}: ${t}`),Iu(t))return new Pe(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Bd(),this.sortedSet=new as(this.comparator)}static emptySet(e){return new dc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.W_=new as(qe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):et():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yc{constructor(e,n,r,i,o,c,d,u,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=u,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new yc(e,n,dc.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class LP{constructor(){this.queries=W_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=at(n),o=i.queries;i.queries=W_(),o.forEach(((c,d)=>{for(const u of d.j_)u.onError(r)}))})(this,new Pe(pe.ABORTED,"Firestore shutting down"))}}function W_(){return new Pc((t=>YS(t)),Up)}async function AN(t,e){const n=at(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new PP,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=Ey(c,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Iy(n)}async function EN(t,e){const n=at(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DP(t,e){const n=at(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&Iy(n)}function MP(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Iy(t){t.Y_.forEach((e=>{e.next()}))}var bv,q_;(q_=bv||(bv={})).ea="default",q_.Cache="cache";class IN{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.key=e}}class PN{constructor(e){this.key=e}}class FP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=bt(),this.mutatedKeys=bt(),this.Aa=JS(e),this.Ra=new dc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new H_,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,x)=>{const v=i.get(p),w=zp(this.query,x)?x:null,S=!!v&&this.mutatedKeys.has(v.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;v&&w?v.data.isEqual(w.data)?S!==P&&(r.track({type:3,doc:w}),R=!0):this.ga(v,w)||(r.track({type:2,doc:w}),R=!0,(u&&this.Aa(w,u)>0||m&&this.Aa(w,m)<0)&&(d=!0)):!v&&w?(r.track({type:0,doc:w}),R=!0):v&&!w&&(r.track({type:1,doc:v}),R=!0,(u||m)&&(d=!0)),R&&(w?(c=c.add(w),o=P?o.add(p):o.delete(p)):(c=c.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:c,fa:r,ns:d,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((p,x)=>(function(w,S){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return P(w)-P(S)})(p.type,x.type)||this.Aa(p.doc,x.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,m=u!==this.Ea;return this.Ea=u,c.length!==0||m?{snapshot:new yc(this.query,e.Ra,o,c,e.mutatedKeys,u===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new H_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=bt(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new PN(r))})),this.da.forEach((r=>{e.has(r)||n.push(new RN(r))})),n}ba(e){this.Ta=e.Ts,this.da=bt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class BP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $P{constructor(e){this.key=e,this.va=!1}}class VP{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Pc((d=>YS(d)),Up),this.Ma=new Map,this.xa=new Set,this.Oa=new as(qe.comparator),this.Na=new Map,this.La=new wy,this.Ba={},this.ka=new Map,this.qa=vc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function OP(t,e,n=!0){const r=$N(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await LN(r,e,n,!0),i}async function UP(t,e){const n=$N(t);await LN(n,e,!0,!1)}async function LN(t,e,n,r){const i=await dP(t.localStore,yi(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await zP(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&jN(t.remoteStore,i),d}async function zP(t,e,n,r,i){t.Ka=(x,v,w)=>(async function(P,R,B,D){let T=R.view.ma(B);T.ns&&(T=await O_(P.localStore,R.query,!1).then((({documents:C})=>R.view.ma(C,T))));const y=D&&D.targetChanges.get(R.targetId),j=D&&D.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(T,P.isPrimaryClient,y,j);return Q_(P,R.targetId,M.wa),M.snapshot})(t,x,v,w);const o=await O_(t.localStore,e,!0),c=new FP(e,o.Ts),d=c.ma(o.documents),u=Pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=c.applyChanges(d,t.isPrimaryClient,u);Q_(t,n,m.wa);const p=new BP(e,n,c);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function GP(t,e,n){const r=at(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((c=>!Up(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ny(r.remoteStore,i.targetId),_v(r,i.targetId)})).catch(Eu)):(_v(r,i.targetId),await yv(r.localStore,i.targetId,!0))}async function HP(t,e){const n=at(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ny(n.remoteStore,r.targetId))}async function WP(t,e,n){const r=ZP(t);try{const i=await(function(c,d){const u=at(c),m=ps.now(),p=d.reduce(((w,S)=>w.add(S.key)),bt());let x,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let S=ia(),P=bt();return u.cs.getEntries(w,p).next((R=>{S=R,S.forEach(((B,D)=>{D.isValidDocument()||(P=P.add(B))}))})).next((()=>u.localDocuments.getOverlayedDocuments(w,S))).next((R=>{x=R;const B=[];for(const D of d){const T=pR(D,x.get(D.key).overlayedDocument);T!=null&&B.push(new Ja(D.key,T,GS(T.value.mapValue),Er.exists(!0)))}return u.mutationQueue.addMutationBatch(w,m,B,d)})).next((R=>{v=R;const B=R.applyToLocalDocumentSet(x,P);return u.documentOverlayCache.saveOverlays(w,R.batchId,B)}))})).then((()=>({batchId:v.batchId,changes:eN(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,u){let m=c.Ba[c.currentUser.toKey()];m||(m=new as(Et)),m=m.insert(d,u),c.Ba[c.currentUser.toKey()]=m})(r,i.batchId,n),await Du(r,i.changes),await Qp(r.remoteStore)}catch(i){const o=Ey(i,"Failed to persist write");n.reject(o)}}async function DN(t,e){const n=at(t);try{const r=await oP(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=n.Na.get(o);c&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?Pt(c.va):i.removedDocuments.size>0&&(Pt(c.va),c.va=!1))})),await Du(n,r,e)}catch(r){await Eu(r)}}function K_(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((o,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const u=at(c);u.onlineState=d;let m=!1;u.queries.forEach(((p,x)=>{for(const v of x.j_)v.Z_(d)&&(m=!0)})),m&&Iy(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qP(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let c=new as(qe.comparator);c=c.insert(o,gn.newNoDocument(o,it.min()));const d=bt().add(o),u=new Wp(it.min(),new Map,new as(Et),c,d);await DN(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Ry(r)}else await yv(r.localStore,e,!1).then((()=>_v(r,e,n))).catch(Eu)}async function KP(t,e){const n=at(t),r=e.batch.batchId;try{const i=await aP(n.localStore,e);FN(n,r,null),MN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,i)}catch(i){await Eu(i)}}async function QP(t,e,n){const r=at(t);try{const i=await(function(c,d){const u=at(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return u.mutationQueue.lookupMutationBatch(m,d).next((x=>(Pt(x!==null),p=x.keys(),u.mutationQueue.removeMutationBatch(m,x)))).next((()=>u.mutationQueue.performConsistencyCheck(m))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(m,p,d))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>u.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);FN(r,e,n),MN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Du(r,i)}catch(i){await Eu(i)}}function MN(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function FN(t,e,n){const r=at(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||BN(t,r)}))}function BN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Ny(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ry(t))}function Q_(t,e,n){for(const r of n)r instanceof RN?(t.La.addReference(r.key,e),XP(t,r)):r instanceof PN?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||BN(t,r.key)):et()}function XP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ry(t))}function Ry(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new qe(Bt.fromString(e)),r=t.qa.next();t.Na.set(r,new $P(n)),t.Oa=t.Oa.insert(n,r),jN(t.remoteStore,new Va(yi(fy(n.path)),r,"TargetPurposeLimboResolution",dy.oe))}}async function Du(t,e,n){const r=at(t),i=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,u)=>{c.push(r.Ka(u,e,n).then((m=>{var p;if((m||n)&&r.isPrimaryClient){const x=m?!m.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,x?"current":"not-current")}if(m){i.push(m);const x=Sy.Wi(u.targetId,m);o.push(x)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(u,m){const p=at(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>we.forEach(m,(v=>we.forEach(v.$i,(w=>p.persistence.referenceDelegate.addReference(x,v.targetId,w))).next((()=>we.forEach(v.Ui,(w=>p.persistence.referenceDelegate.removeReference(x,v.targetId,w)))))))))}catch(x){if(!Iu(x))throw x;Ue("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const v=x.targetId;if(!x.fromCache){const w=p.os.get(v),S=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(v,P)}}})(r.localStore,o))}async function YP(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await yN(n.localStore,e);n.currentUser=e,(function(o,c){o.ka.forEach((d=>{d.forEach((u=>{u.reject(new Pe(pe.CANCELLED,c))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(n,r.hs)}}function JP(t,e){const n=at(t),r=n.Na.get(e);if(r&&r.va)return bt().add(r.key);{let i=bt();const o=n.Ma.get(e);if(!o)return i;for(const c of o){const d=n.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function $N(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.Ca.d_=DP.bind(null,e.eventManager),e.Ca.$a=MP.bind(null,e.eventManager),e}function ZP(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QP.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return iP(this.persistence,new nP,e.initialUser,this.serializer)}Ga(e){return new eP(jy.Zr,this.serializer)}Wa(e){return new hP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class wv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YP.bind(null,this.syncEngine),await RP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LP})()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=(function(o){return new gP(o)})(e.databaseInfo);return(function(o,c,d,u){return new yP(o,c,d,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,c,d){return new _P(r,i,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>K_(this.syncEngine,n,0)),(function(){return z_.D()?new z_:new mP})())}createSyncEngine(e,n){return(function(i,o,c,d,u,m,p){const x=new VP(i,o,c,d,u,m);return p&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=at(i);Ue("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Lu(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ra("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=OS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Ue("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ey(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rx(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await yN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function X_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t8(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>G_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>G_(e.remoteStore,i))),t._onlineComponents=e}async function t8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await rx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;mc("Error using user provided cache. Falling back to memory cache: "+n),await rx(t,new mp)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await rx(t,new mp);return t._offlineComponents}async function ON(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await X_(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await X_(t,new wv))),t._onlineComponents}function s8(t){return ON(t).then((e=>e.syncEngine))}async function UN(t){const e=await ON(t),n=e.eventManager;return n.onListen=OP.bind(null,e.syncEngine),n.onUnlisten=GP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HP.bind(null,e.syncEngine),n}function n8(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,m){const p=new VN({next:v=>{p.Za(),c.enqueueAndForget((()=>EN(o,x)));const w=v.docs.has(d);!w&&v.fromCache?m.reject(new Pe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?m.reject(new Pe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),x=new IN(fy(d.path),p,{includeMetadataChanges:!0,_a:!0});return AN(o,x)})(await UN(t),t.asyncQueue,e,n,r))),r.promise}function r8(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,m){const p=new VN({next:v=>{p.Za(),c.enqueueAndForget((()=>EN(o,x))),v.fromCache&&u.source==="server"?m.reject(new Pe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),x=new IN(d,p,{includeMetadataChanges:!0,_a:!0});return AN(o,x)})(await UN(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e,n){if(!n)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i8(t,e,n,r){if(e===!0&&r===!0)throw new Pe(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!qe.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(qe.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function aa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new Pe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function a8(t,e){if(e<=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e2(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wI;switch(r.type){case"firstParty":return new kI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Y_.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),Y_.delete(n),r.terminate())})(this),Promise.resolve()}}function o8(t,e,n,r={}){var i;const o=(t=aa(t,Mu))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=pn.MOCK_USER;else{d=n6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Pe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pn(m)}t._authCredentials=new jI(new VS(d,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class Wa extends ri{constructor(e,n,r){super(e,n,fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new qe(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function Fu(t,e,...n){if(t=ti(t),Py("collection","path",e),t instanceof Mu){const r=Bt.fromString(e,...n);return Z_(r),new Wa(t,null,r)}{if(!(t instanceof qn||t instanceof Wa))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return Z_(r),new Wa(t.firestore,null,r)}}function Yp(t,e){if(t=aa(t,Mu),Py("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ri(t,null,(function(r){return new ca(Bt.emptyPath(),r)})(e))}function ms(t,e,...n){if(t=ti(t),arguments.length===1&&(e=OS.newId()),Py("doc","path",e),t instanceof Mu){const r=Bt.fromString(e,...n);return J_(r),new qn(t,null,new qe(r))}{if(!(t instanceof qn||t instanceof Wa))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return J_(r),new qn(t.firestore,t instanceof Wa?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _N(this,"async_queue_retry"),this.Vu=()=>{const r=nx();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=nx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=nx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ta;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Iu(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw ra("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ay.createAndSchedule(this,e,n,r,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&et()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Bu extends Mu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new t2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t2(e),this._firestoreClient=void 0,await e}}}function l8(t,e){const n=typeof t=="object"?t:IS(),r=typeof t=="string"?t:"(default)",i=lI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=t6("firestore");o&&o8(i,...o)}return i}function Jp(t){if(t._terminated)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c8(t),t._firestoreClient}function c8(t){var e,n,r;const i=t._freezeSettings(),o=(function(d,u,m,p){return new $I(d,u,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zN(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new e8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(d){const u=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(on.fromBase64String(e))}catch(n){throw new Pe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bc(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=/^__.*__$/;class u8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class GN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class My{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new My(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(HN(this.Cu)&&d8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class h8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}Qu(e,n,r,i=!1){return new My({Cu:e,methodName:n,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new h8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WN(t,e,n,r,i,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);By("Data must be an object, but it was:",c,r);const d=KN(r,c);let u,m;if(o.merge)u=new or(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const p=[];for(const x of o.mergeFields){const v=jv(e,x,n);if(!c.contains(v))throw new Pe(pe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);XN(p,v)||p.push(v)}u=new or(p),m=c.fieldTransforms.filter((x=>u.covers(x.field)))}else u=null,m=c.fieldTransforms;return new u8(new Wn(d),u,m)}class sf extends ef{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}class Fy extends ef{_toFieldTransform(e){return new dR(e.path,new xu)}isEqual(e){return e instanceof Fy}}function m8(t,e,n,r){const i=t.Qu(1,e,n);By("Data must be an object, but it was:",i,r);const o=[],c=Wn.empty();nl(r,((u,m)=>{const p=$y(e,u,n);m=ti(m);const x=i.Nu(p);if(m instanceof sf)o.push(p);else{const v=$u(m,x);v!=null&&(o.push(p),c.set(p,v))}}));const d=new or(o);return new GN(c,d,i.fieldTransforms)}function p8(t,e,n,r,i,o){const c=t.Qu(1,e,n),d=[jv(e,r,n)],u=[i];if(o.length%2!=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(jv(e,o[v])),u.push(o[v+1]);const m=[],p=Wn.empty();for(let v=d.length-1;v>=0;--v)if(!XN(m,d[v])){const w=d[v];let S=u[v];S=ti(S);const P=c.Nu(w);if(S instanceof sf)m.push(w);else{const R=$u(S,P);R!=null&&(m.push(w),p.set(w,R))}}const x=new or(m);return new GN(p,x,c.fieldTransforms)}function qN(t,e,n,r=!1){return $u(n,t.Qu(r?4:3,e))}function $u(t,e){if(QN(t=ti(t)))return By("Unsupported field value:",e,t),KN(t,e);if(t instanceof ef)return(function(r,i){if(!HN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const d of r){let u=$u(d,i.Lu(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ps.fromDate(r);return{timestampValue:up(i.serializer,o)}}if(r instanceof ps){const o=new ps(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(i.serializer,o)}}if(r instanceof Ly)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bc)return{bytesValue:hN(i.serializer,r._byteString)};if(r instanceof qn){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_y(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dy)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((u=>{if(typeof u!="number")throw d.Bu("VectorValues must only contain numeric values.");return xy(d.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Xp(r)}`)})(t,e)}function KN(t,e){const n={};return US(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(t,((r,i)=>{const o=$u(i,e.Mu(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function QN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ps||t instanceof Ly||t instanceof bc||t instanceof qn||t instanceof ef||t instanceof Dy)}function By(t,e,n){if(!QN(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Xp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jv(t,e,n){if((e=ti(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return $y(t,e);throw pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const f8=new RegExp("[~\\*/\\[\\]]");function $y(t,e,n){if(e.search(f8)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch(r){throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pp(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new Pe(pe.INVALID_ARGUMENT,d+t+u)}function XN(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g8 extends Vy{data(){return super.data()}}function nf(t,e){return typeof e=="string"?$y(t,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oy{}class Vu extends Oy{}function An(t,e,...n){let r=[];e instanceof Oy&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((u=>u instanceof Uy)).length,d=o.filter((u=>u instanceof rf)).length;if(c>1||c>0&&d>0)throw new Pe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class rf extends Vu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rf(e,n,r)}_apply(e){const n=this._parse(e);return JN(e._query,n),new ri(e.firestore,e.converter,pv(e._query,n))}_parse(e){const n=tf(e.firestore);return(function(o,c,d,u,m,p,x){let v;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){n2(x,p);const w=[];for(const S of x)w.push(s2(u,o,S));v={arrayValue:{values:w}}}else v=s2(u,o,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||n2(x,p),v=qN(d,c,x,p==="in"||p==="not-in");return Cs.create(m,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ho(t,e,n){const r=e,i=nf("where",t);return rf._create(i,r,n)}class Uy extends Oy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Uy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let c=i;const d=o.getFlattenedFilters();for(const u of d)JN(c,u),c=pv(c,u)})(e._query,n),new ri(e.firestore,e.converter,pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zy extends Vu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zy(e,n)}_apply(e){const n=(function(i,o,c){if(i.startAt!==null)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(o,c)})(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,(function(i,o){const c=i.explicitOrderBy.concat([o]);return new ca(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Oa(t,e="asc"){const n=e,r=nf("orderBy",t);return zy._create(r,n)}class Gy extends Vu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Gy(e,n,r)}_apply(e){return new ri(e.firestore,e.converter,cp(e._query,this._limit,this._limitType))}}function En(t){return a8("limit",t),Gy._create("limit",t,"F")}class Hy extends Vu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Hy(e,n,r)}_apply(e){const n=YN(e,this.type,this._docOrFields,this._inclusive);return new ri(e.firestore,e.converter,(function(i,o){return new ca(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}}function Oo(...t){return Hy._create("startAt",t,!0)}class Wy extends Vu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Wy(e,n,r)}_apply(e){const n=YN(e,this.type,this._docOrFields,this._inclusive);return new ri(e.firestore,e.converter,(function(i,o){return new ca(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)})(e._query,n))}}function Uo(...t){return Wy._create("endAt",t,!0)}function YN(t,e,n,r){if(n[0]=ti(n[0]),n[0]instanceof Vy)return(function(o,c,d,u,m){if(!u)throw new Pe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const p=[];for(const x of cc(o))if(x.field.isKeyField())p.push(lp(c,u.key));else{const v=u.data.field(x.field);if(Op(v))throw new Pe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const w=x.field.canonicalString();throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(v)}return new xc(p,m)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=tf(t.firestore);return(function(c,d,u,m,p,x){const v=c.explicitOrderBy;if(p.length>v.length)throw new Pe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let S=0;S<p.length;S++){const P=p[S];if(v[S].field.isKeyField()){if(typeof P!="string")throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!gy(c)&&P.indexOf("/")!==-1)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const R=c.path.child(Bt.fromString(P));if(!qe.isDocumentKey(R))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const B=new qe(R);w.push(lp(d,B))}else{const R=qN(u,m,P);w.push(R)}}return new xc(w,x)})(t._query,t.firestore._databaseId,i,e,n,r)}}function s2(t,e,n){if(typeof(n=ti(n))=="string"){if(n==="")throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gy(e)&&n.indexOf("/")!==-1)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!qe.isDocumentKey(r))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lp(t,new qe(r))}if(n instanceof qn)return lp(t,n._key);throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function n2(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JN(t,e){const n=(function(i,o){for(const c of i)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Pe(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v8{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ys(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return nl(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>ys(c.doubleValue)));return new Dy(o)}convertGeoPoint(e){return new Ly(ys(e.latitude),ys(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=Ka(e);return new ps(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);Pt(vN(r));const i=new pu(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return i.isEqual(n)||ra(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ek extends Vy{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wm extends ek{data(e={}){return super.data(e)}}class y8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Wm(this._firestore,this._userDataWriter,r.key,r,new Vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const u=new Wm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Vd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const u=new Wm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Vd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:b8(d.type),doc:u,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){t=aa(t,qn);const e=aa(t.firestore,Bu);return n8(Jp(e),t._key).then((n=>_8(e,t,n)))}class tk extends v8{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function nn(t){t=aa(t,ri);const e=aa(t.firestore,Bu),n=Jp(e),r=new tk(e);return x8(t._query),r8(n,t._query).then((i=>new y8(e,r,t,i)))}function fp(t,e,n){t=aa(t,qn);const r=aa(t.firestore,Bu),i=ZN(t.converter,e,n);return sk(r,[WN(tf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function sk(t,e){return(function(r,i){const o=new ta;return r.asyncQueue.enqueueAndForget((async()=>WP(await s8(r),i,o))),o.promise})(Jp(t),e)}function _8(t,e,n){const r=n.docs.get(e._key),i=new tk(t);return new ek(t,i,e._key,r,new Vd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tf(e)}set(e,n,r){this._verifyNotCommitted();const i=ix(e,this._firestore),o=ZN(i.converter,n,r),c=WN(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Er.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=ix(e,this._firestore);let c;return c=typeof(n=ti(n))=="string"||n instanceof Zp?p8(this._dataReader,"WriteBatch.update",o._key,n,r,i):m8(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ix(e,this._firestore);return this._mutations=this._mutations.concat(new vy(n._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ix(t,e){if((t=ti(t)).firestore!==e)throw new Pe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Yi(){return new Fy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){return Jp(t=aa(t,Bu)),new w8(t,(e=>sk(t,e)))}(function(e,n=!0){(function(i){Rc=i})(uI),ap(new cu("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Bu(new SI(r.getProvider("auth-internal")),new TI(r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Pe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(m.options.projectId,p)})(c,i),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),lc(b_,"4.7.3",e),lc(b_,"4.7.3","esm2017")})();var S8="firebase",N8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lc(S8,N8,"app");const nk={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};nk.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const k8=hI().length?IS():ES(nk),It=l8(k8),Xr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Yr=t=>`https://drive.google.com/uc?export=view&id=${t}`,rk=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Rs=[{key:"warrior",label:"Warrior",iconUrl:Yr(Xr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Yr(Xr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Yr(Xr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Yr(Xr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Yr(Xr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Yr(Xr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Yr(Xr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Yr(Xr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Yr(Xr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Yr(Xr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Yr(Xr.paladin),fallback:""}],Sv=Object.fromEntries(Rs.map(t=>[t.key,t])),Nv=new Map;function os(t,e){Nv.set(rk(t),e)}for(const t of Rs)os(t.key,t.key),os(t.label,t.key);os("war","warrior");os("krieger","warrior");os("magier","mage");os("jaeger","scout");os("jger","scout");os("assa","assassin");os("meuchelmoerder","assassin");os("meuchelmrder","assassin");os("demonhunter","demon-hunter");os("dh","demon-hunter");os("daemonenjaeger","demon-hunter");os("dmonenjger","demon-hunter");os("zerker","berserker");os("battlemage","battle-mage");os("kampfmagier","battle-mage");os("bm","battle-mage");os("druide","druid");os("barde","bard");os("necro","necromancer");os("nekromant","necromancer");os("pala","paladin");function C8(t){const e=rk(t);if(!e)return{};const n=Nv.get(e);if(n){const r=Sv[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Nv.entries())if(r.startsWith(e)||e.startsWith(r)){const o=Sv[i];return{url:o.iconUrl,fallback:o.fallback}}return{}}const T8=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Rs,CLASS_BY_KEY:Sv,iconForClassName:C8},Symbol.toStringTag,{value:"Module"}));function af(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function qm(t){if(t==null)return;const e=af(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function ik(t,e=64){if(t==null)return;const n=af(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function ak(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function ok(t,e,n,r){const i=qm(t);return i?ak(i,{w:e,h:n,fit:r}):void 0}function Pr(t,e=64){const n=ik(t,e);return n?ak(n,{w:e,h:e,fit:"contain"}):void 0}function ax(t){if(t==null)return;const e=af(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function A8(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const Yo=Object.assign(t=>qm(t),{id:af,direct:qm,thumb:ik,proxy:ok,thumbProxy:Pr,raw:ax,gif:ax,gifProxy:t=>{const e=ax(t);return e&&/^https?:\/\//i.test(e)?A8(e):qm(t)}}),ox=t=>Number.isFinite(t),Wl=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},E8=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function I8(t,e=64){if(!t)return;const n=o=>o.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=Rs.find(o=>n(o.label)===r);if(i||(i=Rs.find(o=>n(o.label).startsWith(r)||r.startsWith(n(o.label)))),!!i)return Pr(i.iconUrl,e)}function R8(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function P8({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const r=Rr(),[i,o]=J.useState(""),[c,d]=J.useState(""),[u,m]=J.useState(!1),[p,x]=J.useState(null),[v,w]=J.useState([]),[S,P]=J.useState([]),[R,B]=J.useState([]),[D,T]=J.useState(-1),y=J.useRef(null);J.useEffect(()=>{const _=setTimeout(()=>d(i.trim()),200);return()=>clearTimeout(_)},[i]),J.useEffect(()=>{async function _(){x(null);const A=c;if(A.length<1){w([]),P([]),B([]),T(-1);return}m(!0);try{let L=function(Te){var De,Ee,tt,ut,ts,zs,Gs,Rn,Hs,Ps,Ls,Pn,xn,vn,ls,Qt,Gt,Lt,ii,Qn,hr,mr,ai,Ci,oi,Lr,Ht,pr,Ti,Ai,yn,Xn,Ei,Yn;const xe=Te.data(),{root:Ce,id:Ne}=R8(Te),ue=Ne||xe.playerId||xe.guildIdentifier||"";if(Ce==="players"||xe.playerId&&!xe.guildIdentifier){if(!ue||z.has(ue))return;z.add(ue),Q.push({kind:"player",id:ue,name:(tt=(Ee=xe.name)!=null?Ee:(De=xe.values)==null?void 0:De.Name)!=null?tt:null,nameFold:(ut=xe.nameFold)!=null?ut:null,server:(Gs=(zs=xe.server)!=null?zs:(ts=xe.values)==null?void 0:ts.Server)!=null?Gs:null,guildName:(Ps=(Hs=xe.guildName)!=null?Hs:(Rn=xe.values)==null?void 0:Rn.Guild)!=null?Ps:null,className:(xn=(Pn=xe.className)!=null?Pn:(Ls=xe.values)==null?void 0:Ls.Class)!=null?xn:null,level:Wl((ls=xe.level)!=null?ls:(vn=xe.values)==null?void 0:vn.Level),ts:Wl(xe.timestamp)});return}if(Ce==="guilds"||xe.guildIdentifier&&!xe.playerId){if(!ue||q.has(ue))return;q.add(ue),G.push({kind:"guild",id:ue,name:(Lt=(Gt=xe.name)!=null?Gt:(Qt=xe.values)==null?void 0:Qt.Name)!=null?Lt:null,nameFold:(ii=xe.nameFold)!=null?ii:null,server:(mr=(hr=xe.server)!=null?hr:(Qn=xe.values)==null?void 0:Qn.Server)!=null?mr:null,memberCount:Wl((Lr=(Ci=xe.memberCount)!=null?Ci:(ai=xe.values)==null?void 0:ai["Guild Member Count"])!=null?Lr:(oi=xe.values)==null?void 0:oi.GuildMemberCount),hofRank:Wl((Yn=(Xn=(Ai=(pr=xe.hofRank)!=null?pr:(Ht=xe.values)==null?void 0:Ht["Hall of Fame Rank"])!=null?Ai:(Ti=xe.values)==null?void 0:Ti.HoF)!=null?Xn:(yn=xe.values)==null?void 0:yn.Rank)!=null?Yn:(Ei=xe.values)==null?void 0:Ei["Guild Rank"]),ts:Wl(xe.timestamp)});return}};const I=E8(A),V=Yp(It,"latest"),$=await nn(An(V,Oa("nameFold"),Oo(I),Uo(I+""),En(e*6))),W=await nn(An(V,Ho("nameNgrams","array-contains",I),En(e*6))),z=new Set,q=new Set,Q=[],G=[];$.forEach(L),W.forEach(L);const te=Fu(It,"servers"),re=A.toLowerCase(),H=A.toUpperCase(),se=[nn(An(te,Oa("displayName"),Oo(A),Uo(A+""),En(e*4))),nn(An(te,Oa("code"),Oo(H),Uo(H+""),En(e*4))),nn(An(te,Oa("host"),Oo(re),Uo(re+""),En(e*4)))],de=await Promise.allSettled(se),ee=new Set,fe=[];for(const Te of de)Te.status==="fulfilled"&&Te.value.forEach(xe=>{var ue,De,Ee,tt,ut;const Ce=xe.data(),Ne=xe.id;!Ne||ee.has(Ne)||(ee.add(Ne),fe.push({kind:"server",id:Ne,displayName:(ue=Ce.displayName)!=null?ue:null,code:(De=Ce.code)!=null?De:null,host:(Ee=Ce.host)!=null?Ee:null,region:(tt=Ce.region)!=null?tt:null,type:(ut=Ce.type)!=null?ut:null,numericId:Wl(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});w(Q.slice(0,e)),P(G.slice(0,e)),B(fe.slice(0,e)),T(Q.length+G.length+fe.length?0:-1)}catch(L){x((L==null?void 0:L.message)||"Unbekannter Fehler bei der Suche."),w([]),P([]),B([]),T(-1)}finally{m(!1)}}return _(),()=>{}},[c,e]),J.useEffect(()=>{const _=A=>{y.current&&(y.current.contains(A.target)||(w([]),P([]),B([]),T(-1)))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const j=[...v,...S,...R],M=_=>{_.kind==="player"?r(`/player/${encodeURIComponent(_.id)}`):_.kind==="guild"?r(`/guild/${encodeURIComponent(_.id)}`):r(`/server/${encodeURIComponent(_.id)}`),w([]),P([]),B([]),T(-1),o("")},C=_=>{if(j.length)if(_.key==="ArrowDown")_.preventDefault(),T(A=>(A+1)%j.length);else if(_.key==="ArrowUp")_.preventDefault(),T(A=>(A-1+j.length)%j.length);else if(_.key==="Enter"){_.preventDefault();const A=j[D>=0?D:0];A&&M(A)}else _.key==="Escape"&&(w([]),P([]),B([]),T(-1))};return s.jsxs("div",{ref:y,style:ot.wrap,children:[s.jsx("input",{style:ot.input,placeholder:t,value:i,onChange:_=>o(_.target.value),onKeyDown:C,"aria-label":"Spieler, Gilden und Server suchen"}),(u||p||v.length||S.length||R.length)&&s.jsxs("div",{style:ot.dropdown,children:[u&&s.jsx("div",{style:ot.hint,children:"Suche"}),p&&!u&&s.jsxs("div",{style:ot.err,children:[" ",p]}),!u&&!p&&(v.length>0||S.length>0||R.length>0)&&s.jsxs(s.Fragment,{children:[v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Spieler"}),v.map((_,A)=>{var V,$,W,z;const L=A===D,I=(V=n==null?void 0:n(_.className,64))!=null?V:I8(_.className,64);return s.jsxs("button",{onClick:()=>M(_),style:L?ot.itemActive:ot.item,title:_.name||"",onMouseEnter:()=>T(A),children:[s.jsx("div",{style:ot.iconBoxPlain,children:I?s.jsx("img",{src:I,alt:"",style:ot.iconImgShadow,onError:q=>{const Q=q.currentTarget.parentElement;Q&&(Q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:ot.iconFallback,children:(_.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:($=_.name)!=null?$:"Unbekannt"}),ox(_.level)&&s.jsxs("span",{style:ot.badge,children:["Lvl ",_.level]})]}),s.jsxs("div",{style:ot.line2,children:[_.guildName?s.jsxs("span",{children:["",_.guildName,""]}):s.jsx("span",{style:ot.muted,children:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(W=_.className)!=null?W:"Klasse ?"}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(z=_.server)!=null?z:"Server ?"})]})]})]},`p-${_.id}-${A}`)})]}),S.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Gilden"}),S.map((_,A)=>{var V,$;const L=v.length+A,I=L===D;return s.jsxs("button",{onClick:()=>M(_),style:I?ot.itemActive:ot.item,title:_.name||"",onMouseEnter:()=>T(L),children:[s.jsx("div",{style:ot.iconBox,children:""}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:(V=_.name)!=null?V:"Unbekannt"}),ox(_.hofRank)&&s.jsxs("span",{style:ot.badge,children:["HoF #",_.hofRank]})]}),s.jsxs("div",{style:ot.line2,children:[s.jsx("span",{children:($=_.server)!=null?$:"Server ?"}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:ox(_.memberCount)?`${_.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${_.id}-${A}`)})]}),R.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Server"}),R.map((_,A)=>{var V,$,W,z,q,Q;const L=v.length+S.length+A,I=L===D;return s.jsxs("button",{onClick:()=>M(_),style:I?ot.itemActive:ot.item,title:_.displayName||_.code||_.host||"",onMouseEnter:()=>T(L),children:[s.jsx("div",{style:ot.iconBoxPlain,children:s.jsx("div",{style:ot.serverGlyph,children:""})}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:(W=($=(V=_.displayName)!=null?V:_.code)!=null?$:_.host)!=null?W:_.id}),_.active!=null&&s.jsx("span",{style:ot.badge,children:_.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:ot.line2,children:[s.jsx("span",{children:(z=_.code)!=null?z:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(q=_.host)!=null?q:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(Q=_.region)!=null?Q:""}),_.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:_.type.toUpperCase()})]}):null]})]})]},`s-${_.id}-${A}`)})]})]}),!u&&!p&&v.length===0&&S.length===0&&R.length===0&&c.length>=1&&s.jsx("div",{style:ot.hint,children:"Keine Treffer"})]})]})}const ot={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function L8(t){var d,u,m;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),o=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,T8];for(const p of c){if(!p)continue;const x=(m=(u=(d=p[n])!=null?d:p[r])!=null?u:p[i])!=null?m:p[o];if(typeof x=="string")return x}}function D8({user:t}){const{open:e,canUse:n}=wS(),r=()=>{e({tab:"json"})};return s.jsxs("header",{className:yt.topbar,children:[s.jsxs("div",{className:yt.topbarLeft,children:[s.jsx("button",{className:yt.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(ZT,{className:yt.ico})}),s.jsx("button",{className:yt.btnIco,"aria-label":"Favoriten",children:s.jsx(iE,{className:yt.ico})})]}),s.jsx("div",{className:yt.searchWrap,children:s.jsx(P8,{placeholder:"Suchen (Spieler)",getClassIcon:L8,maxPerSection:10})}),s.jsxs("div",{className:yt.topbarRight,children:[s.jsxs("a",{className:`${yt.pill} ${yt.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(kA,{className:yt.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:yt.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(hE,{className:yt.ico}),s.jsx("span",{className:yt.label,children:"Scan hochladen"})]}),s.jsx(GE,{fallbackName:t==null?void 0:t.name})]})]})}const M8="_root_11g8l_3",F8="_expanded_11g8l_45",B8="_headRow_11g8l_55",$8="_headTitle_11g8l_63",V8="_headDot_11g8l_65",O8="_headLabel_11g8l_67",U8="_pinBtn_11g8l_69",z8="_navScroll_11g8l_81",G8="_pad_11g8l_83",H8="_segCard_11g8l_89",W8="_segTitle_11g8l_121",q8="_navCol_11g8l_139",K8="_navItemWrap_11g8l_141",Q8="_navBtn_11g8l_147",X8="_navBtnActive_11g8l_171",Y8="_label_11g8l_175",J8="_trailing_11g8l_205",Z8="_isOpen_11g8l_253",eL="_footer_11g8l_279",tL="_login_11g8l_281",sL="_userMeta_11g8l_303",nL="_legal_11g8l_317",rL="_labelText_11g8l_341",iL="_char_11g8l_351",aL="_mainNavCard_11g8l_419",Ct={root:M8,expanded:F8,headRow:B8,headTitle:$8,headDot:V8,headLabel:O8,pinBtn:U8,navScroll:z8,pad:G8,segCard:H8,segTitle:W8,navCol:q8,navItemWrap:K8,navBtn:Q8,navBtnActive:X8,label:Y8,trailing:J8,isOpen:Z8,footer:eL,login:tL,userMeta:sL,legal:nL,labelText:rL,char:iL,mainNavCard:aL},oL="_panel_90cjk_1",lL="_open_90cjk_31",cL="_col_90cjk_43",lx={panel:oL,open:lL,col:cL};function dL(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function uL({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:o}){const[c,d]=J.useState({left:0,top:0});return J.useEffect(()=>{if(!e||!t)return;const u=()=>d(dL(t));u();const m=new ResizeObserver(u);return m.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{m.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(u=>u.label)),OT.createPortal(s.jsx("div",{className:`${lx.panel} ${e?lx.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:o,role:"menu",children:s.jsx("div",{className:lx.col,children:n.map(u=>r(u))})}),document.body))}const hL=[{route:"/admin",minRole:"moderator",status:"active"},{route:"/playground",minRole:"developer",status:"beta"},{route:"/admin/users",allowedRoles:["admin"],status:"hidden"}],r2=["user","moderator","developer","admin"];function qy(t){const e=t.trim();if(!e)return"/";const n=e.startsWith("/")?e:`/${e}`;return n==="/"?n:n.replace(/\/+$/,"").toLowerCase()}const mL=hL.reduce((t,e)=>(t[qy(e.route)]=e,t),{});function lk(t){if(typeof t!="string")return;const e=t.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user"}function pL(t){if(!Array.isArray(t))return;const e=t.map(n=>lk(n)).filter(Boolean);return e.length?e:void 0}function fL(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function gL(t){if(!t||typeof t!="object")return null;const e=t,n=typeof e.route=="string"?e.route:"";return n?{route:n,minRole:lk(e.minRole),allowedRoles:pL(e.allowedRoles),status:typeof e.status=="string"?e.status:void 0,allowedGroups:fL(e.allowedGroups)}:null}const ck=J.createContext(void 0),xL=({children:t})=>{const[e,n]=J.useState({rulesByRoute:{},loading:!0,error:null});J.useEffect(()=>{let i=!0;return(async()=>{try{const c=await nn(Fu(It,"feature_access")),d={};c.forEach(u=>{const m=gL(u.data());if(!m)return;const p=qy(m.route);d[p]=m}),i&&n({rulesByRoute:d,loading:!1,error:null})}catch(c){console.error("[FeatureAccess] Failed to load rules from Firestore.",c),i&&n({rulesByRoute:{},loading:!1,error:c instanceof Error?c.message:"Failed to load feature access rules"})}})(),()=>{i=!1}},[]);const r=J.useMemo(()=>e,[e]);return s.jsx(ck.Provider,{value:r,children:t})};function dk(){const t=J.useContext(ck);if(!t)throw new Error("useFeatureAccessStore must be used within a FeatureAccessProvider");return t}function uk(t,e){var r;const n=qy(t);return(r=e[n])!=null?r:mL[n]}function hk(t){return!t||t.length===0?null:t.includes("admin")?"admin":t.includes("dev")||t.includes("developer")?"developer":t.includes("mod")||t.includes("moderator")?"moderator":"user"}function mk(t,e,n){if(n)return!0;if(t.status==="hidden"||!e&&(t.minRole||t.allowedRoles))return!1;if(t.allowedRoles&&t.allowedRoles.length>0)return!!e&&t.allowedRoles.includes(e);if(t.minRole){const r=e?r2.indexOf(e):-1,i=r2.indexOf(t.minRole);return r>=i&&r!==-1}return!0}function vL(t){const{route:e,userRole:n,isAdminOverride:r,storeRules:i={}}=t,o=uk(e,i);return o?mk(o,n,r):!0}const yL=[{to:"/",label:"Home",icon:s.jsx(AA,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:s.jsx(PA,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(tl,{className:"ico"})},{to:"/admin",label:"Admin",icon:s.jsx(JA,{className:"ico"})},{to:"/playground",label:"Playground",icon:s.jsx(Fp,{className:"ico"})}],bL=[{to:"/discover",label:"Discover",icon:s.jsx(xA,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:s.jsx(dE,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(tA,{className:"ico"})},{to:"/community",label:"Community",icon:s.jsx(MA,{className:"ico"})},{to:"/scans",label:"Scans",icon:s.jsx(SA,{className:"ico"})},{to:"/settings",label:"Settings",icon:s.jsx(KA,{className:"ico"})}],_L={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function wL(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function jL(t,e){return t?t.filter(n=>wL(e,n.minRole)):[]}const SL=220;function NL(t=SL){const[e,n]=J.useState(!1),r=J.useRef(null),i=J.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),o=J.useCallback(()=>{i(),n(!0)},[i]),c=J.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return J.useEffect(()=>()=>i(),[i]),{open:e,onEnter:o,onLeave:c,setOpen:n}}function Ky({text:t,isOpen:e,duration:n=1,step:r=45}){const i=J.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:Ct.label,children:s.jsx("span",{className:Ct.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((o,c)=>s.jsx("span",{className:Ct.char,style:{"--i":c},"aria-hidden":"true",children:o===" "?"":o},`${t}-${c}`))})})}function kL({it:t,collapsed:e,allowSubmenus:n,subItems:r}){const i=r.length>0,{open:o,onEnter:c,onLeave:d,setOpen:u}=NL(),m=J.useRef(null),p=J.useCallback(()=>{if(!n||!i){u(!1);return}c()},[n,i,c,u]);return s.jsxs("div",{ref:m,className:`${Ct.navItemWrap} ${o?Ct.isOpen:""}`,onMouseEnter:p,onMouseLeave:d,children:[s.jsxs(us,{to:t.to,end:!!t.end,className:({isActive:x})=>`${Ct.navBtn} ${x?Ct.navBtnActive:""}`,children:[t.icon,s.jsx(Ky,{text:t.label,isOpen:!e}),i&&!e&&s.jsx("span",{className:Ct.trailing,"aria-hidden":"true",children:s.jsx(iA,{className:"ico"})})]}),i&&s.jsx(uL,{anchorEl:m.current,open:o,items:r.map(({to:x,label:v})=>({to:x,label:v})),renderLink:x=>s.jsx(us,{to:x.to,className:({isActive:v})=>`link ${v?"linkActive":""}`,children:x.label},x.to),onMouseEnter:c,onMouseLeave:d})]})}function i2({title:t,items:e,collapsed:n,allowSubmenus:r,userRoles:i,appRole:o,isAdminOverride:c,storeRules:d}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${Ct.navTitle} ${Ct.segTitle}`,children:t}),s.jsx("div",{className:Ct.navCol,children:e.map(u=>{if((u.to==="/admin"||u.to==="/playground")&&!vL({route:u.to,userRole:o,isAdminOverride:c,storeRules:d}))return null;const p=jL(_L[u.to],i);return p.length?s.jsx(kL,{it:u,collapsed:n,allowSubmenus:r,subItems:p},u.to):s.jsxs(us,{to:u.to,end:!!u.end,className:({isActive:x})=>`${Ct.navBtn} ${x?Ct.navBtnActive:""}`,children:[u.icon,s.jsx(Ky,{text:u.label,isOpen:!n})]},u.to)})})]})}const CL=90,TL=180;function AL({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){var A;const o=J.useRef(null),c=J.useRef(null),[d,u]=J.useState(!1),m=J.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),p=J.useCallback(()=>{!i||n||(m(),u(!1),o.current=window.setTimeout(()=>e(!0),CL))},[i,n,m,e]),x=J.useCallback(()=>{!i||n||(m(),c.current=window.setTimeout(()=>{e(!1),u(!1)},TL))},[i,n,m,e]);J.useEffect(()=>()=>m(),[m]),J.useEffect(()=>{n&&u(!0)},[n]);const v=L=>{L.propertyName==="width"&&t&&!n&&u(!0)};J.useEffect(()=>{if(t&&!n){const L=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(L)}},[t,n]);const w=!t,S=n||t&&d,P=Rr(),{status:R,user:B,logout:D}=Ec(),T=R==="authenticated",y=(A=B==null?void 0:B.roles)!=null?A:[],j=hk(y),M=y.includes("admin"),{rulesByRoute:C}=dk(),_=()=>{T?D():P("/login")};return s.jsxs("aside",{id:"sidebar-root",className:`${Ct.root} ${t?Ct.expanded:""}`,"data-collapsed":w?"true":"false",onMouseEnter:p,onMouseLeave:x,onTransitionEnd:v,"aria-label":"Navigation",children:[s.jsxs("div",{className:Ct.headRow,children:[s.jsxs("div",{className:Ct.headTitle,children:[s.jsx("span",{className:Ct.headDot})," ",s.jsx("span",{className:Ct.headLabel,children:"Navigation"})]}),s.jsx("button",{className:Ct.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(VA,{className:"ico"}):s.jsx(BA,{className:"ico"})})]}),s.jsx("div",{className:Ct.navScroll,children:s.jsxs("div",{className:Ct.pad,children:[s.jsx("div",{className:`${Ct.segCard} ${Ct.mainNavCard}`,children:s.jsx(i2,{items:yL,collapsed:w,allowSubmenus:S,userRoles:y,appRole:j,isAdminOverride:M,storeRules:C})}),s.jsx("div",{className:Ct.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${Ct.segCard} ${Ct.mainNavCard}`,children:s.jsx(i2,{items:bL,collapsed:w,allowSubmenus:S,userRoles:y,appRole:j,isAdminOverride:M,storeRules:C})})]})}),s.jsxs("div",{className:`${Ct.footer} ${Ct.segCard} ${Ct.mainNavCard}`,children:[s.jsxs("button",{className:Ct.login,type:"button",onClick:_,children:[s.jsx(tl,{className:"ico"}),s.jsx(Ky,{text:T?"Logout":"Login",isOpen:!w})]}),T&&(B!=null&&B.displayName)?s.jsx("div",{className:Ct.userMeta,title:B.displayName,children:B.displayName}):null,s.jsx("div",{className:Ct.legal,children:"(c) 2025 SFDataHub - Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Km="/assets/logo-sfdatahub-CUdhlsEb.png";function EL({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:o="async"}){const c=t!=null?t:Km;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(us,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:o,onError:d=>{const u=d.currentTarget;u.src!==Km&&(u.src=Km)}})}),n]})}function IL(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),i=n||t,o=E.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return s.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":o},children:[s.jsx(EL,{src:"/logo.png"}),s.jsx(D8,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(AL,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(lS,{})})})})]})}const pk=E.createContext({});function Qy(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xy=E.createContext(null),Yy=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function RL(t=!0){const e=E.useContext(Xy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=E.useId();E.useEffect(()=>{t&&i(o)},[t]);const c=E.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const Jy=typeof window!="undefined",fk=Jy?E.useLayoutEffect:E.useEffect,lr=t=>t;let gk=lr;function Zy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},_i=t=>t*1e3,wi=t=>t/1e3,PL={useManualTiming:!1};function LL(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(u.schedule(m),t()),m(c)}const u={schedule:(m,p=!1,x=!1)=>{const w=x&&r?e:n;return p&&o.add(m),w.has(m)||w.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,u.process(m))}};return u}const xm=["read","resolveKeyframes","update","preRender","render","postRender"],DL=40;function xk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=xm.reduce((B,D)=>(B[D]=LL(o),B),{}),{read:d,resolveKeyframes:u,update:m,preRender:p,render:x,postRender:v}=c,w=()=>{const B=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(B-i.timestamp,DL),1),i.timestamp=B,i.isProcessing=!0,d.process(i),u.process(i),m.process(i),p.process(i),x.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},S=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:xm.reduce((B,D)=>{const T=c[D];return B[D]=(y,j=!1,M=!1)=>(n||S(),T.schedule(y,j,M)),B},{}),cancel:B=>{for(let D=0;D<xm.length;D++)c[xm[D]].cancel(B)},state:i,steps:c}}const{schedule:zt,cancel:oa,state:Js,steps:cx}=xk(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:lr,!0),vk=E.createContext({strict:!1}),a2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_c={};for(const t in a2)_c[t]={isEnabled:e=>a2[t].some(n=>!!e[n])};function ML(t){for(const e in t)_c[e]={..._c[e],...t[e]}}const FL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FL.has(t)}let yk=t=>!gp(t);function BL(t){t&&(yk=e=>e.startsWith("on")?!gp(e):t(e))}try{BL(require("@emotion/is-prop-valid").default)}catch(t){}function $L(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(yk(i)||n===!0&&gp(i)||!e&&!gp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function VL(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const of=E.createContext({});function bu(t){return typeof t=="string"||Array.isArray(t)}function lf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const e0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t0=["initial",...e0];function cf(t){return lf(t.animate)||t0.some(e=>bu(t[e]))}function bk(t){return!!(cf(t)||t.variants)}function OL(t,e){if(cf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||bu(n)?n:void 0,animate:bu(r)?r:void 0}}return t.inherit!==!1?e:{}}function UL(t){const{initial:e,animate:n}=OL(t,E.useContext(of));return E.useMemo(()=>({initial:e,animate:n}),[o2(e),o2(n)])}function o2(t){return Array.isArray(t)?t.join(" "):t}const zL=Symbol.for("motionComponentSymbol");function tc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GL(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tc(n)&&(n.current=r))},[e])}const s0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HL="framerAppearId",_k="data-"+s0(HL),{schedule:n0}=xk(queueMicrotask,!1),wk=E.createContext({});function WL(t,e,n,r,i){var o,c;const{visualElement:d}=E.useContext(of),u=E.useContext(vk),m=E.useContext(Xy),p=E.useContext(Yy).reducedMotion,x=E.useRef(null);r=r||u.renderer,!x.current&&r&&(x.current=r(t,{visualState:e,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=x.current,w=E.useContext(wk);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&qL(x.current,n,i,w);const S=E.useRef(!1);E.useInsertionEffect(()=>{v&&S.current&&v.update(n,m)});const P=n[_k],R=E.useRef(!!P&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,P))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,P)));return fk(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),n0.render(v.render),R.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)===null||B===void 0||B.call(window,P)}),R.current=!1))}),v}function qL(t,e,n,r){const{layoutId:i,layout:o,drag:c,dragConstraints:d,layoutScroll:u,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jk(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||d&&tc(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:m})}function jk(t){if(t)return t.options.allowProjection!==!1?t.projection:jk(t.parent)}function KL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,c;t&&ML(t);function d(m,p){let x;const v={...E.useContext(Yy),...m,layoutId:QL(m)},{isStatic:w}=v,S=UL(m),P=r(m,w);if(!w&&Jy){XL();const R=YL(v);x=R.MeasureLayout,S.visualElement=WL(i,P,v,e,R.ProjectionNode)}return s.jsxs(of.Provider,{value:S,children:[x&&S.visualElement?s.jsx(x,{visualElement:S.visualElement,...v}):null,n(i,m,GL(P,S.visualElement,p),P,w,S.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&c!==void 0?c:""})`}`;const u=E.forwardRef(d);return u[zL]=i,u}function QL({layoutId:t}){const e=E.useContext(pk).id;return e&&t!==void 0?e+"-"+t:t}function XL(t,e){E.useContext(vk).strict}function YL(t){const{drag:e,layout:n}=_c;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const JL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r0(t){return typeof t!="string"||t.includes("-")?!1:!!(JL.indexOf(t)>-1||/[A-Z]/u.test(t))}function l2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function i0(t,e,n,r){if(typeof e=="function"){const[i,o]=l2(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=l2(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const kv=t=>Array.isArray(t),ZL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),e9=t=>kv(t)?t[t.length-1]||0:t,Os=t=>!!(t&&t.getVelocity);function Qm(t){const e=Os(t)?t.get():t;return ZL(e)?e.toValue():e}function t9({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const c={latestValues:s9(r,i,o,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const Sk=t=>(e,n)=>{const r=E.useContext(of),i=E.useContext(Xy),o=()=>t9(t,e,r,i);return n?o():Qy(o)};function s9(t,e,n,r){const i={},o=r(t,{});for(const v in o)i[v]=Qm(o[v]);let{initial:c,animate:d}=t;const u=cf(t),m=bk(t);e&&m&&!u&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const x=p?d:c;if(x&&typeof x!="boolean"&&!lf(x)){const v=Array.isArray(x)?x:[x];for(let w=0;w<v.length;w++){const S=i0(t,v[w]);if(S){const{transitionEnd:P,transition:R,...B}=S;for(const D in B){let T=B[D];if(Array.isArray(T)){const y=p?T.length-1:0;T=T[y]}T!==null&&(i[D]=T)}for(const D in P)i[D]=P[D]}}}return i}const Dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(Dc),Nk=t=>e=>typeof e=="string"&&e.startsWith(t),kk=Nk("--"),n9=Nk("var(--"),a0=t=>n9(t)?r9.test(t.split("/*")[0].trim()):!1,r9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ck=(t,e)=>e&&typeof t=="number"?e.transform(t):t,la=(t,e,n)=>n>e?e:n<t?t:n,Mc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_u={...Mc,transform:t=>la(0,1,t)},vm={...Mc,default:1},Ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ba=Ou("deg"),ji=Ou("%"),Xe=Ou("px"),i9=Ou("vh"),a9=Ou("vw"),c2={...ji,parse:t=>ji.parse(t)/100,transform:t=>ji.transform(t*100)},o9={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe},l9={rotate:Ba,rotateX:Ba,rotateY:Ba,rotateZ:Ba,scale:vm,scaleX:vm,scaleY:vm,scaleZ:vm,skew:Ba,skewX:Ba,skewY:Ba,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:_u,originX:c2,originY:c2,originZ:Xe},d2={...Mc,transform:Math.round},o0={...o9,...l9,zIndex:d2,size:Xe,fillOpacity:_u,strokeOpacity:_u,numOctaves:d2},c9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d9=Dc.length;function u9(t,e,n){let r="",i=!0;for(let o=0;o<d9;o++){const c=Dc[o],d=t[c];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(c.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const m=Ck(d,o0[c]);if(!u){i=!1;const p=c9[c]||c;r+=`${p}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function l0(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let c=!1,d=!1;for(const u in e){const m=e[u];if(il.has(u)){c=!0;continue}else if(kk(u)){i[u]=m;continue}else{const p=Ck(m,o0[u]);u.startsWith("origin")?(d=!0,o[u]=p):r[u]=p}}if(e.transform||(c||n?r.transform=u9(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:m="50%",originZ:p=0}=o;r.transformOrigin=`${u} ${m} ${p}`}}const h9={offset:"stroke-dashoffset",array:"stroke-dasharray"},m9={offset:"strokeDashoffset",array:"strokeDasharray"};function p9(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?h9:m9;t[o.offset]=Xe.transform(-r);const c=Xe.transform(e),d=Xe.transform(n);t[o.array]=`${c} ${d}`}function u2(t,e,n){return typeof t=="string"?t:Xe.transform(e+n*t)}function f9(t,e,n){const r=u2(e,t.x,t.width),i=u2(n,t.y,t.height);return`${r} ${i}`}function c0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:c,pathSpacing:d=1,pathOffset:u=0,...m},p,x){if(l0(t,m,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w,dimensions:S}=t;v.transform&&(S&&(w.transform=v.transform),delete v.transform),S&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=f9(S,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),c!==void 0&&p9(v,c,d,u,!1)}const d0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Tk=()=>({...d0(),attrs:{}}),u0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ak(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Ek=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ik(t,e,n,r){Ak(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ek.has(i)?i:s0(i),e.attrs[i])}const xp={};function g9(t){Object.assign(xp,t)}function Rk(t,{layout:e,layoutId:n}){return il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xp[t]||t==="opacity")}function h0(t,e,n){var r;const{style:i}=t,o={};for(const c in i)(Os(i[c])||e.style&&Os(e.style[c])||Rk(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[c]=i[c]);return o}function Pk(t,e,n){const r=h0(t,e,n);for(const i in t)if(Os(t[i])||Os(e[i])){const o=Dc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function x9(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const h2=["x","y","width","height","cx","cy","r"],v9={useVisualState:Sk({scrapeMotionValuesFromProps:Pk,createRenderState:Tk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const d in i)if(il.has(d)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let d=0;d<h2.length;d++){const u=h2[d];t[u]!==e[u]&&(c=!0)}c&&zt.read(()=>{x9(n,r),zt.render(()=>{c0(r,i,u0(n.tagName),t.transformTemplate),Ik(n,r)})})}})},y9={useVisualState:Sk({scrapeMotionValuesFromProps:h0,createRenderState:d0})};function Lk(t,e,n){for(const r in e)!Os(e[r])&&!Rk(r,n)&&(t[r]=e[r])}function b9({transformTemplate:t},e){return E.useMemo(()=>{const n=d0();return l0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _9(t,e){const n=t.style||{},r={};return Lk(r,n,t),Object.assign(r,b9(t,e)),r}function w9(t,e){const n={},r=_9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function j9(t,e,n,r){const i=E.useMemo(()=>{const o=Tk();return c0(o,e,u0(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Lk(o,t.style,t),i.style={...o,...i.style}}return i}function S9(t=!1){return(n,r,i,{latestValues:o},c)=>{const u=(r0(n)?j9:w9)(r,o,c,n),m=$L(r,typeof n=="string",t),p=n!==E.Fragment?{...m,...u,ref:i}:{},{children:x}=r,v=E.useMemo(()=>Os(x)?x.get():x,[x]);return E.createElement(n,{...p,children:v})}}function N9(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...r0(r)?v9:y9,preloadedFeatures:t,useRender:S9(i),createVisualElement:e,Component:r};return KL(c)}}function Dk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function df(t,e,n){const r=t.getProps();return i0(r,e,n!==void 0?n:r.custom,t)}const k9=Zy(()=>window.ScrollTimeline!==void 0);class C9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(k9()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Mk extends C9{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function m0(t,e){return t?t[e]||t.default||t:void 0}const vp=2e4;function p0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<vp;)e+=n,r=t.next(e);return e>=vp?1/0:e}function T9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(p0(r),vp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:wi(i)}}function uf(t){return typeof t=="function"}function m2(t,e){t.timeline=e,t.onfinish=null}const f0=t=>Array.isArray(t)&&typeof t[0]=="number",A9={linearEasing:void 0};function E9(t,e){const n=Zy(t);return()=>{var r;return(r=A9[e])!==null&&r!==void 0?r:n()}}const yp=E9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),Fk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(Jo(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Bk(t){return!!(typeof t=="function"&&yp()||!t||typeof t=="string"&&(t in Cv||yp())||f0(t)||Array.isArray(t)&&t.every(Bk))}const Od=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Cv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Od([0,.65,.55,1]),circOut:Od([.55,0,1,.45]),backIn:Od([.31,.01,.66,-.59]),backOut:Od([.33,1.53,.69,.99])};function $k(t,e){if(t)return typeof t=="function"&&yp()?Fk(t,e):f0(t)?Od(t):Array.isArray(t)?t.map(n=>$k(n,e)||Cv.easeOut):Cv[t]}const Jr={x:!1,y:!1};function Vk(){return Jr.x||Jr.y}function Ok(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Uk(t,e){const n=Ok(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function p2(t){return e=>{e.pointerType==="touch"||Vk()||t(e)}}function I9(t,e,n={}){const[r,i,o]=Uk(t,n),c=p2(d=>{const{target:u}=d,m=e(d);if(typeof m!="function"||!u)return;const p=p2(x=>{m(x),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),o}const zk=(t,e)=>e?t===e?!0:zk(t,e.parentElement):!1,g0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P9(t){return R9.has(t.tagName)||t.tabIndex!==-1}const Ud=new WeakSet;function f2(t){return e=>{e.key==="Enter"&&t(e)}}function dx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const L9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=f2(()=>{if(Ud.has(n))return;dx(n,"down");const i=f2(()=>{dx(n,"up")}),o=()=>dx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function g2(t){return g0(t)&&!Vk()}function D9(t,e,n={}){const[r,i,o]=Uk(t,n),c=d=>{const u=d.currentTarget;if(!g2(d)||Ud.has(u))return;Ud.add(u);const m=e(d),p=(w,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),!(!g2(w)||!Ud.has(u))&&(Ud.delete(u),typeof m=="function"&&m(w,{success:S}))},x=w=>{p(w,n.useGlobalTarget||zk(u,w.target))},v=w=>{p(w,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!P9(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",m=>L9(m,i),i)}),o}function M9(t){return t==="x"||t==="y"?Jr[t]?null:(Jr[t]=!0,()=>{Jr[t]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}const Gk=new Set(["width","height","top","left","right","bottom",...Dc]);let Xm;function F9(){Xm=void 0}const Si={now:()=>(Xm===void 0&&Si.set(Js.isProcessing||PL.useManualTiming?Js.timestamp:performance.now()),Xm),set:t=>{Xm=t,queueMicrotask(F9)}};function x0(t,e){t.indexOf(e)===-1&&t.push(e)}function hf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class v0{constructor(){this.subscriptions=[]}add(e){return x0(this.subscriptions,e),()=>hf(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Hk(t,e){return e?t*(1e3/e):0}const x2=30,B9=t=>!isNaN(parseFloat(t)),Yd={current:void 0};class $9{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Si.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Si.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new v0);const r=this.events[e].add(n);return e==="change"?()=>{r(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Yd.current&&Yd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>x2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,x2);return Hk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wc(t,e){return new $9(t,e)}function V9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wc(n))}function O9(t,e){const n=df(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const c in o){const d=e9(o[c]);V9(t,c,d)}}function U9(t){return!!(Os(t)&&t.add)}function Tv(t,e){const n=t.getValue("willChange");if(U9(n))return n.add(e)}function Wk(t){return t.props[_k]}const qk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,z9=1e-7,G9=12;function H9(t,e,n,r,i){let o,c,d=0;do c=e+(n-e)/2,o=qk(c,r,i)-t,o>0?n=c:e=c;while(Math.abs(o)>z9&&++d<G9);return c}function Uu(t,e,n,r){if(t===e&&n===r)return lr;const i=o=>H9(o,0,1,t,n);return o=>o===0||o===1?o:qk(i(o),e,r)}const Kk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qk=t=>e=>1-t(1-e),Xk=Uu(.33,1.53,.69,.99),y0=Qk(Xk),Yk=Kk(y0),Jk=t=>(t*=2)<1?.5*y0(t):.5*(2-Math.pow(2,-10*(t-1))),b0=t=>1-Math.sin(Math.acos(t)),Zk=Qk(b0),e5=Kk(b0),t5=t=>/^0[^.\s]+$/u.test(t);function W9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||t5(t):!0}const Jd=t=>Math.round(t*1e5)/1e5,_0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q9(t){return t==null}const K9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w0=(t,e)=>n=>!!(typeof n=="string"&&K9.test(n)&&n.startsWith(t)||e&&!q9(n)&&Object.prototype.hasOwnProperty.call(n,e)),s5=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,c,d]=r.match(_0);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Q9=t=>la(0,255,t),ux={...Mc,transform:t=>Math.round(Q9(t))},zo={test:w0("rgb","red"),parse:s5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ux.transform(t)+", "+ux.transform(e)+", "+ux.transform(n)+", "+Jd(_u.transform(r))+")"};function X9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Av={test:w0("#"),parse:X9,transform:zo.transform},sc={test:w0("hsl","hue"),parse:s5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ji.transform(Jd(e))+", "+ji.transform(Jd(n))+", "+Jd(_u.transform(r))+")"},mn={test:t=>zo.test(t)||Av.test(t)||sc.test(t),parse:t=>zo.test(t)?zo.parse(t):sc.test(t)?sc.parse(t):Av.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zo.transform(t):sc.transform(t)},Y9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function J9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Y9))===null||n===void 0?void 0:n.length)||0)>0}const n5="number",r5="color",Z9="var",eD="var(",v2="${}",tD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(tD,u=>(mn.test(u)?(r.color.push(o),i.push(r5),n.push(mn.parse(u))):u.startsWith(eD)?(r.var.push(o),i.push(Z9),n.push(u)):(r.number.push(o),i.push(n5),n.push(parseFloat(u))),++o,v2)).split(v2);return{values:n,split:d,indexes:r,types:i}}function i5(t){return wu(t).values}function a5(t){const{split:e,types:n}=wu(t),r=e.length;return i=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],i[c]!==void 0){const d=n[c];d===n5?o+=Jd(i[c]):d===r5?o+=mn.transform(i[c]):o+=i[c]}return o}}const sD=t=>typeof t=="number"?0:t;function nD(t){const e=i5(t);return a5(t)(e.map(sD))}const Xa={test:J9,parse:i5,createTransformer:a5,getAnimatableNone:nD},rD=new Set(["brightness","contrast","saturate","opacity"]);function iD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_0)||[];if(!r)return t;const i=n.replace(r,"");let o=rD.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const aD=/\b([a-z-]*)\(.*?\)/gu,Ev={...Xa,getAnimatableNone:t=>{const e=t.match(aD);return e?e.map(iD).join(" "):t}},oD={...o0,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:Ev,WebkitFilter:Ev},j0=t=>oD[t];function o5(t,e){let n=j0(t);return n!==Ev&&(n=Xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lD=new Set(["auto","none","0"]);function cD(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!lD.has(o)&&wu(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=o5(n,i)}const y2=t=>t===Mc||t===Xe,b2=(t,e)=>parseFloat(t.split(", ")[e]),_2=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return b2(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?b2(o[1],t):0}},dD=new Set(["x","y","z"]),uD=Dc.filter(t=>!dD.has(t));function hD(t){const e=[];return uD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_2(4,13),y:_2(5,14)};jc.translateX=jc.x;jc.translateY=jc.y;const Wo=new Set;let Iv=!1,Rv=!1;function l5(){if(Rv){const t=Array.from(Wo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=hD(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,c])=>{var d;(d=r.getValue(o))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rv=!1,Iv=!1,Wo.forEach(t=>t.complete()),Wo.clear()}function c5(){Wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rv=!0)})}function mD(){c5(),l5()}class S0{constructor(e,n,r,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wo.add(this),Iv||(Iv=!0,zt.read(c5),zt.resolveKeyframes(l5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const u=r.readValue(n,d);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const d5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),pD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fD(t){const e=pD.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function u5(t,e,n=1){const[r,i]=fD(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return d5(c)?parseFloat(c):c}return a0(i)?u5(i,e,n+1):i}const h5=t=>e=>e.test(t),gD={test:t=>t==="auto",parse:t=>t},m5=[Mc,Xe,ji,Ba,a9,i9,gD],w2=t=>m5.find(h5(t));class p5 extends S0{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let m=e[u];if(typeof m=="string"&&(m=m.trim(),a0(m))){const p=u5(m,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Gk.has(r)||e.length!==2)return;const[i,o]=e,c=w2(i),d=w2(o);if(c!==d)if(y2(c)&&y2(d))for(let u=0;u<e.length;u++){const m=e[u];typeof m=="string"&&(e[u]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)W9(e[i])&&r.push(i);r.length&&cD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=jc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,m])=>{n.getValue(u).set(m)}),this.resolveNoneKeyframes()}}const j2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xa.test(t)||t==="0")&&!t.startsWith("url("));function xD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vD(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=j2(i,e),d=j2(o,e);return!c||!d?!1:xD(t)||(n==="spring"||uf(n))&&r}const yD=t=>t!==null;function mf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(yD),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const bD=40;class f5{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Si.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>bD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Si.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:c,onComplete:d,onUpdate:u,isGenerator:m}=this.options;if(!m&&!vD(e,r,i,o))if(c)this.options.duration=0;else{u&&u(mf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Jt=(t,e,n)=>t+(e-t)*n;function hx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _D({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,u=2*n-d;i=hx(u,d,t+1/3),o=hx(u,d,t),c=hx(u,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function bp(t,e){return n=>n>0?e:t}const mx=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},wD=[Av,zo,sc],jD=t=>wD.find(e=>e.test(t));function S2(t){const e=jD(t);if(!e)return!1;let n=e.parse(t);return e===sc&&(n=_D(n)),n}const N2=(t,e)=>{const n=S2(t),r=S2(e);if(!n||!r)return bp(t,e);const i={...n};return o=>(i.red=mx(n.red,r.red,o),i.green=mx(n.green,r.green,o),i.blue=mx(n.blue,r.blue,o),i.alpha=Jt(n.alpha,r.alpha,o),zo.transform(i))},SD=(t,e)=>n=>e(t(n)),zu=(...t)=>t.reduce(SD),Pv=new Set(["none","hidden"]);function ND(t,e){return Pv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kD(t,e){return n=>Jt(t,e,n)}function N0(t){return typeof t=="number"?kD:typeof t=="string"?a0(t)?bp:mn.test(t)?N2:AD:Array.isArray(t)?g5:typeof t=="object"?mn.test(t)?N2:CD:bp}function g5(t,e){const n=[...t],r=n.length,i=t.map((o,c)=>N0(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=i[c](o);return n}}function CD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=N0(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function TD(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],d=t.indexes[c][i[c]],u=(n=t.values[d])!==null&&n!==void 0?n:0;r[o]=u,i[c]++}return r}const AD=(t,e)=>{const n=Xa.createTransformer(e),r=wu(t),i=wu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Pv.has(t)&&!i.values.length||Pv.has(e)&&!r.values.length?ND(t,e):zu(g5(TD(r,i),i.values),n):bp(t,e)};function x5(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Jt(t,e,n):N0(t)(t,e)}const ED=5;function v5(t,e,n){const r=Math.max(e-ED,0);return Hk(n-t(r),e-r)}const hs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},px=.001;function ID({duration:t=hs.duration,bounce:e=hs.bounce,velocity:n=hs.velocity,mass:r=hs.mass}){let i,o,c=1-e;c=la(hs.minDamping,hs.maxDamping,c),t=la(hs.minDuration,hs.maxDuration,wi(t)),c<1?(i=m=>{const p=m*c,x=p*t,v=p-n,w=Lv(m,c),S=Math.exp(-x);return px-v/w*S},o=m=>{const x=m*c*t,v=x*n+n,w=Math.pow(c,2)*Math.pow(m,2)*t,S=Math.exp(-x),P=Lv(Math.pow(m,2),c);return(-i(m)+px>0?-1:1)*((v-w)*S)/P}):(i=m=>{const p=Math.exp(-m*t),x=(m-n)*t+1;return-px+p*x},o=m=>{const p=Math.exp(-m*t),x=(n-m)*(t*t);return p*x});const d=5/t,u=PD(i,o,d);if(t=_i(t),isNaN(u))return{stiffness:hs.stiffness,damping:hs.damping,duration:t};{const m=Math.pow(u,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const RD=12;function PD(t,e,n){let r=n;for(let i=1;i<RD;i++)r=r-t(r)/e(r);return r}function Lv(t,e){return t*Math.sqrt(1-e*e)}const LD=["duration","bounce"],DD=["stiffness","damping","mass"];function k2(t,e){return e.some(n=>t[n]!==void 0)}function MD(t){let e={velocity:hs.velocity,stiffness:hs.stiffness,damping:hs.damping,mass:hs.mass,isResolvedFromDuration:!1,...t};if(!k2(t,DD)&&k2(t,LD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*la(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:hs.mass,stiffness:i,damping:o}}else{const n=ID(t);e={...e,...n,mass:hs.mass},e.isResolvedFromDuration=!0}return e}function k0(t=hs.visualDuration,e=hs.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:u,damping:m,mass:p,duration:x,velocity:v,isResolvedFromDuration:w}=MD({...n,velocity:-wi(n.velocity||0)}),S=v||0,P=m/(2*Math.sqrt(u*p)),R=c-o,B=wi(Math.sqrt(u/p)),D=Math.abs(R)<5;r||(r=D?hs.restSpeed.granular:hs.restSpeed.default),i||(i=D?hs.restDelta.granular:hs.restDelta.default);let T;if(P<1){const j=Lv(B,P);T=M=>{const C=Math.exp(-P*B*M);return c-C*((S+P*B*R)/j*Math.sin(j*M)+R*Math.cos(j*M))}}else if(P===1)T=j=>c-Math.exp(-B*j)*(R+(S+B*R)*j);else{const j=B*Math.sqrt(P*P-1);T=M=>{const C=Math.exp(-P*B*M),_=Math.min(j*M,300);return c-C*((S+P*B*R)*Math.sinh(_)+j*R*Math.cosh(_))/j}}const y={calculatedDuration:w&&x||null,next:j=>{const M=T(j);if(w)d.done=j>=x;else{let C=0;P<1&&(C=j===0?_i(S):v5(T,j,M));const _=Math.abs(C)<=r,A=Math.abs(c-M)<=i;d.done=_&&A}return d.value=d.done?c:M,d},toString:()=>{const j=Math.min(p0(y),vp),M=Fk(C=>y.next(j*C).value,j,30);return j+"ms "+M}};return y}function C2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:u,restDelta:m=.5,restSpeed:p}){const x=t[0],v={done:!1,value:x},w=_=>d!==void 0&&_<d||u!==void 0&&_>u,S=_=>d===void 0?u:u===void 0||Math.abs(d-_)<Math.abs(u-_)?d:u;let P=n*e;const R=x+P,B=c===void 0?R:c(R);B!==R&&(P=B-x);const D=_=>-P*Math.exp(-_/r),T=_=>B+D(_),y=_=>{const A=D(_),L=T(_);v.done=Math.abs(A)<=m,v.value=v.done?B:L};let j,M;const C=_=>{w(v.value)&&(j=_,M=k0({keyframes:[v.value,S(v.value)],velocity:v5(T,_,v.value),damping:i,stiffness:o,restDelta:m,restSpeed:p}))};return C(0),{calculatedDuration:null,next:_=>{let A=!1;return!M&&j===void 0&&(A=!0,y(_),C(_)),j!==void 0&&_>=j?M.next(_-j):(!A&&y(_),v)}}}const FD=Uu(.42,0,1,1),BD=Uu(0,0,.58,1),y5=Uu(.42,0,.58,1),b5=t=>Array.isArray(t)&&typeof t[0]!="number",$D={linear:lr,easeIn:FD,easeInOut:y5,easeOut:BD,circIn:b0,circInOut:e5,circOut:Zk,backIn:y0,backInOut:Yk,backOut:Xk,anticipate:Jk},T2=t=>{if(f0(t)){gk(t.length===4);const[e,n,r,i]=t;return Uu(e,n,r,i)}else if(typeof t=="string")return $D[t];return t};function VD(t,e,n){const r=[],i=n||x5,o=t.length-1;for(let c=0;c<o;c++){let d=i(t[c],t[c+1]);if(e){const u=Array.isArray(e)?e[c]||lr:e;d=zu(u,d)}r.push(d)}return r}function _5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(gk(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=VD(e,r,i),u=d.length,m=p=>{if(c&&p<t[0])return e[0];let x=0;if(u>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const v=Jo(t[x],t[x+1],p);return d[x](v)};return n?p=>m(la(t[0],t[o-1],p)):m}function w5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Jo(0,e,r);t.push(Jt(n,1,i))}}function j5(t){const e=[0];return w5(e,t.length-1),e}function OD(t,e){return t.map(n=>n*e)}function UD(t,e){return t.map(()=>e||y5).splice(0,t.length-1)}function _p({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=b5(r)?r.map(T2):T2(r),o={done:!1,value:e[0]},c=OD(n&&n.length===e.length?n:j5(e),t),d=_5(c,e,{ease:Array.isArray(i)?i:UD(e,i)});return{calculatedDuration:t,next:u=>(o.value=d(u),o.done=u>=t,o)}}const zD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>zt.update(e,!0),stop:()=>oa(e),now:()=>Js.isProcessing?Js.timestamp:Si.now()}},GD={decay:C2,inertia:C2,tween:_p,keyframes:_p,spring:k0},HD=t=>t/100;class C0 extends f5{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,c=(i==null?void 0:i.KeyframeResolver)||S0,d=(u,m)=>this.onKeyframesResolved(u,m);this.resolver=new c(o,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=this.options,d=uf(n)?n:GD[n]||_p;let u,m;d!==_p&&typeof e[0]!="number"&&(u=zu(HD,x5(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});o==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=p0(p));const{calculatedDuration:x}=p,v=x+i,w=v*(r+1)-i;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:u,calculatedDuration:x,resolvedDuration:v,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:u,calculatedDuration:m,totalDuration:p,resolvedDuration:x}=r;if(this.startTime===null)return o.next(0);const{delay:v,repeat:w,repeatType:S,repeatDelay:P,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const B=this.currentTime-v*(this.speed>=0?1:-1),D=this.speed>=0?B<0:B>p;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let T=this.currentTime,y=o;if(w){const _=Math.min(this.currentTime,p)/x;let A=Math.floor(_),L=_%1;!L&&_>=1&&(L=1),L===1&&A--,A=Math.min(A,w+1),!!(A%2)&&(S==="reverse"?(L=1-L,P&&(L-=P/x)):S==="mirror"&&(y=c)),T=la(0,1,L)*x}const j=D?{done:!1,value:u[0]}:y.next(T);d&&(j.value=d(j.value));let{done:M}=j;!D&&m!==null&&(M=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(j.value=mf(u,this.options,i)),R&&R(j.value),C&&this.finish(),j}get duration(){const{resolved:e}=this;return e?wi(e.calculatedDuration):0}get time(){return wi(this.currentTime)}set time(e){e=_i(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const WD=new Set(["opacity","clipPath","filter","transform"]);function qD(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:d="easeInOut",times:u}={}){const m={[e]:n};u&&(m.offset=u);const p=$k(d,i);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const KD=Zy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wp=10,QD=2e4;function XD(t){return uf(t.type)||t.type==="spring"||!Bk(t.ease)}function YD(t,e){const n=new C0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<QD;)r=n.sample(o),i.push(r.value),o+=wp;return{times:void 0,keyframes:i,duration:o-wp,ease:"linear"}}const S5={anticipate:Jk,backInOut:Yk,circInOut:e5};function JD(t){return t in S5}class A2 extends f5{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new p5(o,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:c,motionValue:d,name:u,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&yp()&&JD(o)&&(o=S5[o]),XD(this.options)){const{onComplete:x,onUpdate:v,motionValue:w,element:S,...P}=this.options,R=YD(e,P);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,i=R.times,o=R.ease,c="keyframes"}const p=qD(d.owner.current,u,e,{...this.options,duration:r,times:i,ease:o});return p.startTime=m!=null?m:this.calcStartTime(),this.pendingTimeline?(m2(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:x}=this.options;d.set(mf(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=_i(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return lr;const{animation:r}=n;m2(r,e)}return lr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:x,element:v,...w}=this.options,S=new C0({...w,keyframes:r,duration:i,type:o,ease:c,times:d,isGenerator:!0}),P=_i(this.time);m.setWithVelocity(S.sample(P-wp).value,S.sample(P).value,wp)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:m}=n.owner.getProps();return KD()&&r&&WD.has(r)&&!u&&!m&&!i&&o!=="mirror"&&c!==0&&d!=="inertia"}}const ZD={type:"spring",stiffness:500,damping:25,restSpeed:10},e7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),t7={type:"keyframes",duration:.8},s7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n7=(t,{keyframes:e})=>e.length>2?t7:il.has(t)?t.startsWith("scale")?e7(e[1]):ZD:s7;function r7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:d,from:u,elapsed:m,...p}){return!!Object.keys(p).length}const T0=(t,e,n,r={},i,o)=>c=>{const d=m0(r,t)||{},u=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-_i(u);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};r7(d)||(p={...p,...n7(t,p)}),p.duration&&(p.duration=_i(p.duration)),p.repeatDelay&&(p.repeatDelay=_i(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const v=mf(p.keyframes,d);if(v!==void 0)return zt.update(()=>{p.onUpdate(v),p.onComplete()}),new Mk([])}return!o&&A2.supports(p)?new A2(p):new C0(p)};function i7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function A0(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...u}=e;r&&(c=r);const m=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const x in u){const v=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),w=u[x];if(w===void 0||p&&i7(p,x))continue;const S={delay:n,...m0(c||{},x)};let P=!1;if(window.MotionHandoffAnimation){const B=Wk(t);if(B){const D=window.MotionHandoffAnimation(B,x,zt);D!==null&&(S.startTime=D,P=!0)}}Tv(t,x),v.start(T0(x,v,w,t.shouldReduceMotion&&Gk.has(x)?{type:!1}:S,t,P));const R=v.animation;R&&m.push(R)}return d&&Promise.all(m).then(()=>{zt.update(()=>{d&&O9(t,d)})}),m}function Dv(t,e,n={}){var r;const i=df(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const c=i?()=>Promise.all(A0(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:v}=o;return a7(t,e,p+m,x,v,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[m,p]=u==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(n.delay)])}function a7(t,e,n=0,r=0,i=1,o){const c=[],d=(t.variantChildren.size-1)*r,u=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(o7).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(Dv(m,e,{...o,delay:n+u(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function o7(t,e){return t.sortNodePosition(e)}function l7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Dv(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Dv(t,e,n);else{const i=typeof e=="function"?df(t,e,n.custom):e;r=Promise.all(A0(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const c7=t0.length;function N5(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?N5(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c7;n++){const r=t0[n],i=t.props[r];(bu(i)||i===!1)&&(e[r]=i)}return e}const d7=[...e0].reverse(),u7=e0.length;function h7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>l7(t,n,r)))}function m7(t){let e=h7(t),n=E2(),r=!0;const i=u=>(m,p)=>{var x;const v=df(t,p,u==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:S,...P}=v;m={...m,...P,...S}}return m};function o(u){e=u(t)}function c(u){const{props:m}=t,p=N5(t.parent)||{},x=[],v=new Set;let w={},S=1/0;for(let R=0;R<u7;R++){const B=d7[R],D=n[B],T=m[B]!==void 0?m[B]:p[B],y=bu(T),j=B===u?D.isActive:null;j===!1&&(S=R);let M=T===p[B]&&T!==m[B]&&y;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),D.protectedKeys={...w},!D.isActive&&j===null||!T&&!D.prevProp||lf(T)||typeof T=="boolean")continue;const C=p7(D.prevProp,T);let _=C||B===u&&D.isActive&&!M&&y||R>S&&y,A=!1;const L=Array.isArray(T)?T:[T];let I=L.reduce(i(B),{});j===!1&&(I={});const{prevResolvedValues:V={}}=D,$={...V,...I},W=Q=>{_=!0,v.has(Q)&&(A=!0,v.delete(Q)),D.needsAnimating[Q]=!0;const G=t.getValue(Q);G&&(G.liveStyle=!1)};for(const Q in $){const G=I[Q],te=V[Q];if(w.hasOwnProperty(Q))continue;let re=!1;kv(G)&&kv(te)?re=!Dk(G,te):re=G!==te,re?G!=null?W(Q):v.add(Q):G!==void 0&&v.has(Q)?W(Q):D.protectedKeys[Q]=!0}D.prevProp=T,D.prevResolvedValues=I,D.isActive&&(w={...w,...I}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(M&&C)||A)&&x.push(...L.map(Q=>({animation:Q,options:{type:B}})))}if(v.size){const R={};v.forEach(B=>{const D=t.getBaseTarget(B),T=t.getValue(B);T&&(T.liveStyle=!0),R[B]=D!=null?D:null}),x.push({animation:R})}let P=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(x):Promise.resolve()}function d(u,m){var p;if(n[u].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var w;return(w=v.animationState)===null||w===void 0?void 0:w.setActive(u,m)}),n[u].isActive=m;const x=c(u);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=E2(),r=!0}}}function p7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Dk(e,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E2(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}class Za{constructor(e){this.isMounted=!1,this.node=e}update(){}}class f7 extends Za{constructor(e){super(e),e.animationState||(e.animationState=m7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let g7=0;class x7 extends Za{constructor(){super(...arguments),this.id=g7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const v7={animation:{Feature:f7},exit:{Feature:x7}};function ju(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gu(t){return{point:{x:t.pageX,y:t.pageY}}}const y7=t=>e=>g0(e)&&t(e,Gu(e));function Zd(t,e,n,r){return ju(t,e,y7(n),r)}const I2=(t,e)=>Math.abs(t-e);function b7(t,e){const n=I2(t.x,e.x),r=I2(t.y,e.y);return Math.sqrt(n**2+r**2)}class k5{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gx(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=b7(x.offset,{x:0,y:0})>=3;if(!v&&!w)return;const{point:S}=x,{timestamp:P}=Js;this.history.push({...S,timestamp:P});const{onStart:R,onMove:B}=this.handlers;v||(R&&R(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=fx(v,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=gx(x.type==="pointercancel"?this.lastMoveEventInfo:fx(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,R),S&&S(x,R)},!g0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=Gu(e),d=fx(c,this.transformPagePoint),{point:u}=d,{timestamp:m}=Js;this.history=[{...u,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,gx(d,this.history)),this.removeListeners=zu(Zd(this.contextWindow,"pointermove",this.handlePointerMove),Zd(this.contextWindow,"pointerup",this.handlePointerUp),Zd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oa(this.updatePoint)}}function fx(t,e){return e?{point:e(t.point)}:t}function R2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gx({point:t},e){return{point:t,delta:R2(t,C5(e)),offset:R2(t,_7(e)),velocity:w7(e,.1)}}function _7(t){return t[0]}function C5(t){return t[t.length-1]}function w7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=C5(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_i(e)));)n--;if(!r)return{x:0,y:0};const o=wi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const T5=1e-4,j7=1-T5,S7=1+T5,A5=.01,N7=0-A5,k7=0+A5;function ur(t){return t.max-t.min}function C7(t,e,n){return Math.abs(t-e)<=n}function P2(t,e,n,r=.5){t.origin=r,t.originPoint=Jt(e.min,e.max,t.origin),t.scale=ur(n)/ur(e),t.translate=Jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=j7&&t.scale<=S7||isNaN(t.scale))&&(t.scale=1),(t.translate>=N7&&t.translate<=k7||isNaN(t.translate))&&(t.translate=0)}function eu(t,e,n,r){P2(t.x,e.x,n.x,r?r.originX:void 0),P2(t.y,e.y,n.y,r?r.originY:void 0)}function L2(t,e,n){t.min=n.min+e.min,t.max=t.min+ur(e)}function T7(t,e,n){L2(t.x,e.x,n.x),L2(t.y,e.y,n.y)}function D2(t,e,n){t.min=e.min-n.min,t.max=t.min+ur(e)}function tu(t,e,n){D2(t.x,e.x,n.x),D2(t.y,e.y,n.y)}function A7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Jt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Jt(n,t,r.max):Math.min(t,n)),t}function M2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function E7(t,{top:e,left:n,bottom:r,right:i}){return{x:M2(t.x,n,i),y:M2(t.y,e,r)}}function F2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function I7(t,e){return{x:F2(t.x,e.x),y:F2(t.y,e.y)}}function R7(t,e){let n=.5;const r=ur(t),i=ur(e);return i>r?n=Jo(e.min,e.max-r,t.min):r>i&&(n=Jo(t.min,t.max-i,e.min)),la(0,1,n)}function P7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mv=.35;function L7(t=Mv){return t===!1?t=0:t===!0&&(t=Mv),{x:B2(t,"left","right"),y:B2(t,"top","bottom")}}function B2(t,e,n){return{min:$2(t,e),max:$2(t,n)}}function $2(t,e){return typeof t=="number"?t:t[e]||0}const V2=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:V2(),y:V2()}),O2=()=>({min:0,max:0}),ds=()=>({x:O2(),y:O2()});function kr(t){return[t("x"),t("y")]}function E5({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function D7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function M7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xx(t){return t===void 0||t===1}function Fv({scale:t,scaleX:e,scaleY:n}){return!xx(t)||!xx(e)||!xx(n)}function Fo(t){return Fv(t)||I5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function I5(t){return U2(t.x)||U2(t.y)}function U2(t){return t&&t!=="0%"}function jp(t,e,n){const r=t-n,i=e*r;return n+i}function z2(t,e,n,r,i){return i!==void 0&&(t=jp(t,i,r)),jp(t,n,r)+e}function Bv(t,e=0,n=1,r,i){t.min=z2(t.min,e,n,r,i),t.max=z2(t.max,e,n,r,i)}function R5(t,{x:e,y:n}){Bv(t.x,e.translate,e.scale,e.originPoint),Bv(t.y,n.translate,n.scale,n.originPoint)}const G2=.999999999999,H2=1.0000000000001;function F7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let d=0;d<i;d++){o=n[d],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ic(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,R5(t,c)),r&&Fo(o.latestValues)&&ic(t,o.latestValues))}e.x<H2&&e.x>G2&&(e.x=1),e.y<H2&&e.y>G2&&(e.y=1)}function rc(t,e){t.min=t.min+e,t.max=t.max+e}function W2(t,e,n,r,i=.5){const o=Jt(t.min,t.max,i);Bv(t,e,n,o,r)}function ic(t,e){W2(t.x,e.x,e.scaleX,e.scale,e.originX),W2(t.y,e.y,e.scaleY,e.scale,e.originY)}function P5(t,e){return E5(M7(t.getBoundingClientRect(),e))}function B7(t,e,n){const r=P5(t,n),{scroll:i}=e;return i&&(rc(r.x,i.offset.x),rc(r.y,i.offset.y)),r}const L5=({current:t})=>t?t.ownerDocument.defaultView:null,$7=new WeakMap;class V7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ds(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gu(p).point)},o=(p,x)=>{const{drag:v,dragPropagation:w,onDragStart:S}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=M9(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kr(R=>{let B=this.getAxisMotionValue(R).get()||0;if(ji.test(B)){const{projection:D}=this.visualElement;if(D&&D.layout){const T=D.layout.layoutBox[R];T&&(B=ur(T)*(parseFloat(B)/100))}}this.originPoint[R]=B}),S&&zt.postRender(()=>S(p,x)),Tv(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(p,x)=>{const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:S,onDrag:P}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:R}=x;if(w&&this.currentDirection===null){this.currentDirection=O7(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,R),this.updateAxis("y",x.point,R),this.visualElement.render(),P&&P(p,x)},d=(p,x)=>this.stop(p,x),u=()=>kr(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new k5(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:L5(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&zt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ym(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=A7(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&tc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=E7(i.layoutBox,n):this.constraints=!1,this.elastic=L7(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&kr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=P7(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=B7(r,i.root,this.visualElement.getTransformPagePoint());let c=I7(i.layout.layoutBox,o);if(n){const d=n(D7(c));this.hasMutatedConstraints=!!d,d&&(c=E5(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},m=kr(p=>{if(!ym(p,n,this.currentDirection))return;let x=u&&u[p]||{};c&&(x={min:0,max:0});const v=i?200:1e6,w=i?40:1e7,S={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,S)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Tv(this.visualElement,e),r.start(T0(e,r,0,n,this.visualElement,!1))}stopAnimation(){kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kr(n=>{const{drag:r}=this.getProps();if(!ym(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];o.set(e[n]-Jt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const u=d.get();i[c]=R7({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kr(c=>{if(!ym(c,e,null))return;const d=this.getAxisMotionValue(c),{min:u,max:m}=this.constraints[c];d.set(Jt(u,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;$7.set(this.visualElement,this);const e=this.visualElement.current,n=Zd(e,"pointerdown",u=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();tc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),zt.read(r);const c=ju(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:m})=>{this.isDragging&&m&&(kr(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=u[p].translate,x.set(x.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=Mv,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function ym(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function O7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class U7 extends Za{constructor(e){super(e),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new V7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const q2=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class z7 extends Za{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(e){this.session=new k5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:q2(e),onStart:q2(n),onMove:r,onEnd:(o,c)=>{delete this.session,i&&zt.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=Zd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xe.test(t))t=parseFloat(t);else return t;const n=K2(t,e.target.x),r=K2(t,e.target.y);return`${n}% ${r}%`}},G7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Xa.parse(t);if(i.length>5)return r;const o=Xa.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,u=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=u;const m=Jt(d,u,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),o(i)}};class H7 extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;g9(W7),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,c=r.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||zt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function D5(t){const[e,n]=RL(),r=E.useContext(pk);return s.jsx(H7,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(wk),isPresent:e,safeToRemove:n})}const W7={borderRadius:{...Cd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cd,borderTopRightRadius:Cd,borderBottomLeftRadius:Cd,borderBottomRightRadius:Cd,boxShadow:G7};function M5(t,e,n){const r=Os(t)?t:wc(t);return r.start(T0("",r,e,n)),r.animation}function F5(t){return t instanceof SVGElement&&t.tagName!=="svg"}const q7=(t,e)=>t.depth-e.depth;class K7{constructor(){this.children=[],this.isDirty=!1}add(e){x0(this.children,e),this.isDirty=!0}remove(e){hf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q7),this.isDirty=!1,this.children.forEach(e)}}function Q7(t,e){const n=Si.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(oa(r),t(o-e))};return zt.read(r,!0),()=>oa(r)}const B5=["TopLeft","TopRight","BottomLeft","BottomRight"],X7=B5.length,Q2=t=>typeof t=="string"?parseFloat(t):t,X2=t=>typeof t=="number"||Xe.test(t);function Y7(t,e,n,r,i,o){i?(t.opacity=Jt(0,n.opacity!==void 0?n.opacity:1,J7(r)),t.opacityExit=Jt(e.opacity!==void 0?e.opacity:1,0,Z7(r))):o&&(t.opacity=Jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<X7;c++){const d=`border${B5[c]}Radius`;let u=Y2(e,d),m=Y2(n,d);if(u===void 0&&m===void 0)continue;u||(u=0),m||(m=0),u===0||m===0||X2(u)===X2(m)?(t[d]=Math.max(Jt(Q2(u),Q2(m),r),0),(ji.test(m)||ji.test(u))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Jt(e.rotate||0,n.rotate||0,r))}function Y2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J7=$5(0,.5,Zk),Z7=$5(.5,.95,lr);function $5(t,e,n){return r=>r<t?0:r>e?1:n(Jo(t,e,r))}function J2(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){J2(t.x,e.x),J2(t.y,e.y)}function Z2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ew(t,e,n,r,i){return t-=e,t=jp(t,1/n,r),i!==void 0&&(t=jp(t,1/i,r)),t}function eM(t,e=0,n=1,r=.5,i,o=t,c=t){if(ji.test(e)&&(e=parseFloat(e),e=Jt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Jt(o.min,o.max,r);t===o&&(d-=e),t.min=ew(t.min,e,n,d,i),t.max=ew(t.max,e,n,d,i)}function tw(t,e,[n,r,i],o,c){eM(t,e[n],e[r],e[i],e.scale,o,c)}const tM=["x","scaleX","originX"],sM=["y","scaleY","originY"];function sw(t,e,n,r){tw(t.x,e,tM,n?n.x:void 0,r?r.x:void 0),tw(t.y,e,sM,n?n.y:void 0,r?r.y:void 0)}function nw(t){return t.translate===0&&t.scale===1}function V5(t){return nw(t.x)&&nw(t.y)}function rw(t,e){return t.min===e.min&&t.max===e.max}function nM(t,e){return rw(t.x,e.x)&&rw(t.y,e.y)}function iw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function O5(t,e){return iw(t.x,e.x)&&iw(t.y,e.y)}function aw(t){return ur(t.x)/ur(t.y)}function ow(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rM{constructor(){this.members=[]}add(e){x0(this.members,e),e.scheduleRender()}remove(e){if(hf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iM(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(r=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:v,skewX:w,skewY:S}=n;m&&(r=`perspective(${m}px) ${r}`),p&&(r+=`rotate(${p}deg) `),x&&(r+=`rotateX(${x}deg) `),v&&(r+=`rotateY(${v}deg) `),w&&(r+=`skewX(${w}deg) `),S&&(r+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,u=t.y.scale*e.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const Bo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zd=typeof window!="undefined"&&window.MotionDebug!==void 0,vx=["","X","Y","Z"],aM={visibility:"hidden"},lw=1e3;let oM=0;function yx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function U5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Wk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&U5(r)}function z5({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=oM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zd&&(Bo.totalNodes=Bo.resolvedTargetDeltas=Bo.recalculatedProjection=0),this.nodes.forEach(dM),this.nodes.forEach(fM),this.nodes.forEach(gM),this.nodes.forEach(uM),zd&&window.MotionDebug.record(Bo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new K7)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new v0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const u=this.eventHandlers.get(c);u&&u.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F5(c),this.instance=c;const{layoutId:u,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||u)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=Q7(v,250),Ym.hasAnimatedSinceResize&&(Ym.hasAnimatedSinceResize=!1,this.nodes.forEach(dw))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeTargetChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||_M,{onLayoutAnimationStart:R,onLayoutAnimationComplete:B}=p.getProps(),D=!this.targetLayout||!O5(this.targetLayout,S)||w,T=!v&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,T);const y={...m0(P,"layout"),onPlay:R,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else v||dw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cw);return}this.isUpdating||this.nodes.forEach(mM),this.isUpdating=!1,this.nodes.forEach(pM),this.nodes.forEach(lM),this.nodes.forEach(cM),this.clearAllSnapshots();const d=Si.now();Js.delta=la(0,1e3/60,d-Js.timestamp),Js.timestamp=d,Js.isProcessing=!0,cx.update.process(Js),cx.preRender.process(Js),cx.render.process(Js),Js.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hM),this.sharedNodes.forEach(vM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ds(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!V5(this.projectionDelta),u=this.getTransformTemplate(),m=u?u(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||Fo(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return c&&(u=this.removeTransform(u)),wM(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return ds();const u=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(jM))){const{scroll:p}=this.root;p&&(rc(u.x,p.offset.x),rc(u.y,p.offset.y))}return u}removeElementScroll(c){var d;const u=ds();if(Sr(u,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return u;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:v}=p;p!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&Sr(u,c),rc(u.x,x.offset.x),rc(u.y,x.offset.y))}return u}applyTransform(c,d=!1){const u=ds();Sr(u,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ic(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Fo(p.latestValues)&&ic(u,p.latestValues)}return Fo(this.latestValues)&&ic(u,this.latestValues),u}removeTransform(c){const d=ds();Sr(d,c);for(let u=0;u<this.path.length;u++){const m=this.path[u];if(!m.instance||!Fo(m.latestValues))continue;Fv(m.latestValues)&&m.updateSnapshot();const p=ds(),x=m.measurePageBox();Sr(p,x),sw(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Fo(this.latestValues)&&sw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Js.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=Js.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ds(),this.relativeTargetOrigin=ds(),tu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ds(),this.targetWithTransforms=ds()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),R5(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ds(),this.relativeTargetOrigin=ds(),tu(this.relativeTargetOrigin,this.target,w.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zd&&Bo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fv(this.parent.latestValues)||I5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),u=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Js.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;Sr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;F7(this.layoutCorrected,this.treeScale,this.path,u),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ds());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z2(this.prevProjectionDelta.x,this.projectionDelta.x),Z2(this.prevProjectionDelta.y,this.projectionDelta.y)),eu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!ow(this.projectionDelta.x,this.prevProjectionDelta.x)||!ow(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),zd&&Bo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(c,d=!1){const u=this.snapshot,m=u?u.latestValues:{},p={...this.latestValues},x=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=ds(),w=u?u.source:void 0,S=this.layout?this.layout.source:void 0,P=w!==S,R=this.getStack(),B=!R||R.members.length<=1,D=!!(P&&!B&&this.options.crossfade===!0&&!this.path.some(bM));this.animationProgress=0;let T;this.mixTargetDelta=y=>{const j=y/1e3;uw(x.x,c.x,j),uw(x.y,c.y,j),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yM(this.relativeTarget,this.relativeTargetOrigin,v,j),T&&nM(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=ds()),Sr(T,this.relativeTarget)),P&&(this.animationValues=p,Y7(p,m,this.latestValues,j,D,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{Ym.hasAnimatedSinceResize=!0,this.currentAnimation=M5(0,lw,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:u,layout:m,latestValues:p}=c;if(!(!d||!u||!m)){if(this!==c&&this.layout&&m&&G5(this.options.animationType,this.layout.layoutBox,m.layoutBox)){u=this.target||ds();const x=ur(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+x;const v=ur(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}Sr(d,u),ic(d,p),eu(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new rM),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:u}={}){const m=this.getStack();m&&m.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const m={};u.z&&yx("z",c,m,this.animationValues);for(let p=0;p<vx.length;p++)yx(`rotate${vx[p]}`,c,m,this.animationValues),yx(`skew${vx[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){var d,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aM;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Qm(c==null?void 0:c.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Qm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(P.transform=p?p({},""):"none",this.hasProjected=!1),P}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=iM(this.projectionDeltaWithTransform,this.treeScale,v),p&&(m.transform=p(v,m.transform));const{x:w,y:S}=this.projectionDelta;m.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,x.animationValues?m.opacity=x===this?(u=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in xp){if(v[P]===void 0)continue;const{correct:R,applyTo:B}=xp[P],D=m.transform==="none"?v[P]:R(v[P],x);if(B){const T=B.length;for(let y=0;y<T;y++)m[B[y]]=D}else m[P]=D}return this.options.layoutId&&(m.pointerEvents=x===this?Qm(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(cw),this.root.sharedNodes.clear()}}}function lM(t){t.updateLayout()}function cM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,c=n.source!==t.layout.source;o==="size"?kr(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],w=ur(v);v.min=r[x].min,v.max=v.min+w}):G5(o,n.layoutBox,r)&&kr(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],w=ur(r[x]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+w)});const d=nc();eu(d,r,n.layoutBox);const u=nc();c?eu(u,t.applyTransform(i,!0),n.measuredBox):eu(u,r,n.layoutBox);const m=!V5(d);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:w}=x;if(v&&w){const S=ds();tu(S,n.layoutBox,v.layoutBox);const P=ds();tu(P,r,w.layoutBox),O5(S,P)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=S,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dM(t){zd&&Bo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hM(t){t.clearSnapshot()}function cw(t){t.clearMeasurements()}function mM(t){t.isLayoutDirty=!1}function pM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fM(t){t.resolveTargetDelta()}function gM(t){t.calcProjection()}function xM(t){t.resetSkewAndRotation()}function vM(t){t.removeLeadSnapshot()}function uw(t,e,n){t.translate=Jt(e.translate,0,n),t.scale=Jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hw(t,e,n,r){t.min=Jt(e.min,n.min,r),t.max=Jt(e.max,n.max,r)}function yM(t,e,n,r){hw(t.x,e.x,n.x,r),hw(t.y,e.y,n.y,r)}function bM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _M={duration:.45,ease:[.4,0,.1,1]},mw=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pw=mw("applewebkit/")&&!mw("chrome/")?Math.round:lr;function fw(t){t.min=pw(t.min),t.max=pw(t.max)}function wM(t){fw(t.x),fw(t.y)}function G5(t,e,n){return t==="position"||t==="preserve-aspect"&&!C7(aw(e),aw(n),.2)}function jM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const SM=z5({attachResizeListener:(t,e)=>ju(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bx={current:void 0},H5=z5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bx.current){const t=new SM({});t.mount(window),t.setOptions({layoutScroll:!0}),bx.current=t}return bx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NM={pan:{Feature:z7},drag:{Feature:U7,ProjectionNode:H5,MeasureLayout:D5}};function gw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&zt.postRender(()=>o(e,Gu(e)))}class kM extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=I9(e,n=>(gw(this.node,n,"Start"),r=>gw(this.node,r,"End"))))}unmount(){}}class CM extends Za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zu(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&zt.postRender(()=>o(e,Gu(e)))}class TM extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=D9(e,n=>(xw(this.node,n,"Start"),(r,{success:i})=>xw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $v=new WeakMap,_x=new WeakMap,AM=t=>{const e=$v.get(t.target);e&&e(t)},EM=t=>{t.forEach(AM)};function IM({root:t,...e}){const n=t||document;_x.has(n)||_x.set(n,{});const r=_x.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(EM,{root:t,...e})),r[i]}function RM(t,e,n){const r=IM(e);return $v.set(t,n),r.observe(t),()=>{$v.delete(t),r.unobserve(t)}}const PM={some:0,all:1};class LM extends Za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:PM[i]},d=u=>{const{isIntersecting:m}=u;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),v=m?p:x;v&&v(u)};return RM(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DM(e,n))&&this.startObserver()}unmount(){}}function DM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const MM={inView:{Feature:LM},tap:{Feature:TM},focus:{Feature:CM},hover:{Feature:kM}},FM={layout:{ProjectionNode:H5,MeasureLayout:D5}},Sp={current:null},E0={current:!1};function W5(){if(E0.current=!0,!!Jy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sp.current=t.matches;t.addListener(e),e()}else Sp.current=!1}const BM=[...m5,mn,Xa],$M=t=>BM.find(h5(t)),Sc=new WeakMap;function VM(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Os(i))t.addValue(r,i);else if(Os(o))t.addValue(r,wc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,wc(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Si.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,zt.render(this.render,!1,!0))};const{latestValues:u,renderState:m,onUpdate:p}=c;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=cf(n),this.isVariantNode=bk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];u[w]!==void 0&&Os(S)&&S.set(u[w],!1)}}mount(e){this.current=e,Sc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),E0.current||W5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sc.delete(this.current),this.projection&&this.projection.unmount(),oa(this.notifyUpdate),oa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=il.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&zt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _c){const n=_c[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ds()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vw.length;r++){const i=vw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=VM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=wc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(d5(i)||t5(i))?i=parseFloat(i):!$M(i)&&Xa.test(n)&&(i=o5(e,n)),this.setBaseTarget(e,Os(i)?i.get():i)),Os(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=i0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Os(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new v0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class K5 extends q5{constructor(){super(...arguments),this.KeyframeResolver=p5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Os(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OM(t){return window.getComputedStyle(t)}class Q5 extends K5{constructor(){super(...arguments),this.type="html",this.renderInstance=Ak}readValueFromInstance(e,n){if(il.has(n)){const r=j0(n);return r&&r.default||0}else{const r=OM(e),i=(kk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P5(e,n)}build(e,n,r){l0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return h0(e,n,r)}}class X5 extends K5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ds}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(il.has(n)){const r=j0(n);return r&&r.default||0}return n=Ek.has(n)?n:s0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Pk(e,n,r)}build(e,n,r){c0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Ik(e,n,r,i)}mount(e){this.isSVGTag=u0(e.tagName),super.mount(e)}}const UM=(t,e)=>r0(t)?new X5(e):new Q5(e,{allowProjection:t!==E.Fragment}),zM=N9({...v7,...MM,...NM,...FM},UM),Y5=VL(zM);function Gd(t){const e=Qy(()=>wc(t)),{isStatic:n}=E.useContext(Yy);if(n){const[,r]=E.useState(t);E.useEffect(()=>e.on("change",r),[])}return e}function J5(t,e){const n=Gd(e()),r=()=>n.set(e());return r(),fk(()=>{const i=()=>zt.preRender(r,!1,!0),o=t.map(c=>c.on("change",i));return()=>{o.forEach(c=>c()),oa(r)}}),n}const GM=t=>t&&typeof t=="object"&&t.mix,HM=t=>GM(t)?t.mix:void 0;function WM(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],c=t[3+n],d=_5(i,o,{mixer:HM(o[0]),...c});return e?d(r):d}function qM(t){Yd.current=[],t();const e=J5(Yd.current,t);return Yd.current=void 0,e}function bm(t,e,n,r){if(typeof t=="function")return qM(t);const i=typeof e=="function"?e:WM(e,n,r);return Array.isArray(t)?yw(t,i):yw([t],([o])=>i(o))}function yw(t,e){const n=Qy(()=>[]);return J5(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Z5(){!E0.current&&W5();const[t]=E.useState(Sp.current);return t}const KM=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function e3(t,e){return b5(t)?t[KM(0,t.length,e)]:t}function I0(t){return typeof t=="object"&&!Array.isArray(t)}function t3(t,e,n,r){return typeof t=="string"&&I0(e)?Ok(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function QM(t,e,n){return t*(e+1)}function bw(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function XM(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(hf(t,i),r--)}}function YM(t,e,n,r,i,o){XM(t,i,o);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Jt(i,o,r[c]),easing:e3(n,c)})}function JM(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function ZM(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const eF="easeInOut";function tF(t,{defaultTransition:e={},...n}={},r,i){const o=e.duration||.3,c=new Map,d=new Map,u={},m=new Map;let p=0,x=0,v=0;for(let w=0;w<t.length;w++){const S=t[w];if(typeof S=="string"){m.set(S,x);continue}else if(!Array.isArray(S)){m.set(S.name,bw(x,S.at,p,m));continue}let[P,R,B={}]=S;B.at!==void 0&&(x=bw(x,B.at,p,m));let D=0;const T=(y,j,M,C=0,_=0)=>{const A=sF(y),{delay:L=0,times:I=j5(A),type:V="keyframes",repeat:$,repeatType:W,repeatDelay:z=0,...q}=j;let{ease:Q=e.ease||"easeOut",duration:G}=j;const te=typeof L=="function"?L(C,_):L,re=A.length,H=uf(V)?V:i==null?void 0:i[V];if(re<=2&&H){let fe=100;if(re===2&&iF(A)){const Ce=A[1]-A[0];fe=Math.abs(Ce)}const Te={...q};G!==void 0&&(Te.duration=_i(G));const xe=T9(Te,fe,H);Q=xe.ease,G=xe.duration}G!=null||(G=o);const se=x+te;I.length===1&&I[0]===0&&(I[1]=1);const de=I.length-A.length;if(de>0&&w5(I,de),A.length===1&&A.unshift(null),$){G=QM(G,$);const fe=[...A],Te=[...I];Q=Array.isArray(Q)?[...Q]:[Q];const xe=[...Q];for(let Ce=0;Ce<$;Ce++){A.push(...fe);for(let Ne=0;Ne<fe.length;Ne++)I.push(Te[Ne]+(Ce+1)),Q.push(Ne===0?"linear":e3(xe,Ne-1))}JM(I,$)}const ee=se+G;YM(M,A,Q,I,se,ee),D=Math.max(te+G,D),v=Math.max(ee,v)};if(Os(P)){const y=_w(P,d);T(R,B,ww("default",y))}else{const y=t3(P,R,r,u),j=y.length;for(let M=0;M<j;M++){R=R,B=B;const C=y[M],_=_w(C,d);for(const A in R)T(R[A],nF(B,A),ww(A,_),M,j)}}p=x,x+=D}return d.forEach((w,S)=>{for(const P in w){const R=w[P];R.sort(ZM);const B=[],D=[],T=[];for(let j=0;j<R.length;j++){const{at:M,value:C,easing:_}=R[j];B.push(C),D.push(Jo(0,v,M)),T.push(_||"easeOut")}D[0]!==0&&(D.unshift(0),B.unshift(B[0]),T.unshift(eF)),D[D.length-1]!==1&&(D.push(1),B.push(null)),c.has(S)||c.set(S,{keyframes:{},transition:{}});const y=c.get(S);y.keyframes[P]=B,y.transition[P]={...e,duration:v,ease:T,times:D,...n}}}),c}function _w(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function ww(t,e){return e[t]||(e[t]=[]),e[t]}function sF(t){return Array.isArray(t)?t:[t]}function nF(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const rF=t=>typeof t=="number",iF=t=>t.every(rF);function aF(t,e){return t in e}class oF extends q5{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(aF(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return ds()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function lF(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=F5(t)?new X5(e):new Q5(e);n.mount(t),Sc.set(t,n)}function cF(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new oF(e);n.mount(t),Sc.set(t,n)}function dF(t,e){return Os(t)||typeof t=="number"||typeof t=="string"&&!I0(e)}function s3(t,e,n,r){const i=[];if(dF(t,e))i.push(M5(t,I0(e)&&e.default||e,n&&(n.default||n)));else{const o=t3(t,e,r),c=o.length;for(let d=0;d<c;d++){const u=o[d],m=u instanceof Element?lF:cF;Sc.has(u)||m(u);const p=Sc.get(u),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),i.push(...A0(p,{...e,transition:x},{}))}}return i}function uF(t,e,n){const r=[];return tF(t,e,n,{spring:k0}).forEach(({keyframes:o,transition:c},d)=>{r.push(...s3(d,o,c))}),r}function hF(t){return Array.isArray(t)&&t.some(Array.isArray)}function mF(t){function e(n,r,i){let o=[];return hF(n)?o=uF(n,r,t):o=s3(n,r,i,t),new Mk(o)}return e}const _m=mF(),Zi={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function pF(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Zi.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function fF(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Zi.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Zi.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Zi.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Zi.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function jw({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=Z5();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Zi.border,background:"var(--nav, "+Zi.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(pF,{}),s.jsx(Y5.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(fF,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const wx={borderColor:"#2B4C73",background:"#1A2F4A"},wm={borderColor:"#2B4C73",background:"#152A42"};function gt({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:o,right:c,children:d,rounded:u="rounded-3xl",padded:m=!0,centerFramed:p=!1,leftWidth:x=0,rightWidth:v=0,stickyRails:w=!0,mode:S="card",outerPadding:P="px-4 py-3",leftPlacement:R="inside",stickyTopbar:B=!0,stickySubheader:D=!0,shellViewportOffset:T="var(--app-topbar-h,72px)",topbarHeight:y=56}){const j={"--left":typeof x=="number"?`${x}px`:x,"--right":typeof v=="number"?`${v}px`:v},M=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:wx,children:t}),(e||n||r)&&s.jsxs("div",{className:[B?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:wx,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&s.jsx("div",{className:[D?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...D?{top:B?`${y}px`:0}:{},...wx},children:i})]}),C=S==="card"?({children:A})=>s.jsx(jw,{rounded:u,padded:m,children:A}):({children:A})=>s.jsx("div",{className:`w-full ${P}`,children:A}),_=s.jsx("div",{className:"relative min-h-0 h-full",style:j,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[o?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...wm,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),p?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:wm,children:d}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...wm,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return R==="bleed"&&S==="card"?s.jsx("div",{className:`w-full ${P}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[M,s.jsx("div",{className:"flex-1 min-h-0",style:j,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[o?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...wm,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(jw,{rounded:u,padded:m,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:_})})]})})]})}):s.jsx(C,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${T})`},children:[M,s.jsx("div",{className:"flex-1 min-h-0",children:_})]})})}const gF="_row_x5rfq_3",xF="_colFull_x5rfq_17",vF="_colCommunity_x5rfq_31",yF="_colGuides_x5rfq_33",bF="_card_x5rfq_129",_F="_header_x5rfq_143",wF="_title_x5rfq_155",jF="_subtitle_x5rfq_157",SF="_empty_x5rfq_159",NF="_errorNote_x5rfq_161",kF="_linkBtn_x5rfq_163",CF="_primaryBtn_x5rfq_163",TF="_navBtn_x5rfq_163",AF="_closeBtn_x5rfq_163",EF="_actionsRight_x5rfq_179",IF="_tileGrid_x5rfq_185",RF="_tile_x5rfq_185",PF="_tileIcon_x5rfq_211",LF="_tileIconFallback_x5rfq_213",DF="_tileLabel_x5rfq_215",MF="_newsList_x5rfq_221",FF="_newsItem_x5rfq_223",BF="_newsMeta_x5rfq_225",$F="_newsAuthor_x5rfq_227",VF="_newsTime_x5rfq_229",OF="_newsText_x5rfq_231",UF="_newsImage_x5rfq_233",zF="_carouselCtrls_x5rfq_241",GF="_carousel_x5rfq_241",HF="_slide_x5rfq_249",WF="_slideActive_x5rfq_251",qF="_slideInactive_x5rfq_253",KF="_slideThumb_x5rfq_255",QF="_slideFallback_x5rfq_257",XF="_slideCaption_x5rfq_259",YF="_liveCard_x5rfq_265",JF="_liveAvatar_x5rfq_267",ZF="_liveAvatarFallback_x5rfq_269",eB="_liveInfo_x5rfq_271",tB="_liveName_x5rfq_273",sB="_liveMeta_x5rfq_275",nB="_liveBadge_x5rfq_277",rB="_liveViewers_x5rfq_279",iB="_modalOverlay_x5rfq_285",aB="_modal_x5rfq_285",oB="_modalHeader_x5rfq_289",lB="_modalTitle_x5rfq_291",cB="_modalFilters_x5rfq_295",dB="_formRow_x5rfq_297",uB="_formRowCheckbox_x5rfq_299",hB="_select_x5rfq_301",mB="_input_x5rfq_301",pB="_tableWrap_x5rfq_303",fB="_table_x5rfq_303",Le={row:gF,colFull:xF,colCommunity:vF,colGuides:yF,card:bF,header:_F,title:wF,subtitle:jF,empty:SF,errorNote:NF,linkBtn:kF,primaryBtn:CF,navBtn:TF,closeBtn:AF,actionsRight:EF,tileGrid:IF,tile:RF,tileIcon:PF,tileIconFallback:LF,tileLabel:DF,newsList:MF,newsItem:FF,newsMeta:BF,newsAuthor:$F,newsTime:VF,newsText:OF,newsImage:UF,carouselCtrls:zF,carousel:GF,slide:HF,slideActive:WF,slideInactive:qF,slideThumb:KF,slideFallback:QF,slideCaption:XF,liveCard:YF,liveAvatar:JF,liveAvatarFallback:ZF,liveInfo:eB,liveName:tB,liveMeta:sB,liveBadge:nB,liveViewers:rB,modalOverlay:iB,modal:aB,modalHeader:oB,modalTitle:lB,modalFilters:cB,formRow:dB,formRowCheckbox:uB,select:hB,input:mB,tableWrap:pB,table:fB},gB=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function n3(){const t=[];for(const n of gB)try{const i=await(await fetch(n,{cache:"no-store"})).text(),o=xB(i);t.push(...o)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function Sw(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const o=t[i];o==='"'?r&&t[i+1]==='"'?(n+='"',i++):r=!r:o===","&&!r?(e.push(n),n=""):n+=o}return e.push(n),e}function xB(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=Sw(e[0]);return e.slice(1).map(r=>{const i=Sw(r),o={};return n.forEach((c,d)=>{var u;return o[c.trim()]=((u=i[d])!=null?u:"").trim()}),o})}function vB(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const o=Math.floor(i/60);if(o<60)return`${o}m`;const c=Math.floor(o/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`}catch(e){return""}}function yB(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const bB=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],Nw={},_B=()=>s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.tiles",children:[s.jsxs("header",{className:Le.header,children:[s.jsx("span",{className:Le.title,"data-i18n":"home.title",children:"Home"}),s.jsx("span",{className:Le.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),s.jsx("div",{className:Le.tileGrid,role:"list",children:bB.map(t=>s.jsxs(Dt,{to:t.to,role:"listitem",className:Le.tile,"aria-label":t.label,children:[Nw[t.to]?s.jsx("img",{src:Nw[t.to],alt:"",className:Le.tileIcon}):s.jsx("div",{className:Le.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),s.jsx("div",{className:Le.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),wB=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(null);E.useEffect(()=>{async function o(){{e([]);return}}return o(),()=>{}},[]);const i=!t||t.length===0;return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsxs("div",{className:Le.newsList,children:[t==null?void 0:t.map(o=>{var c;return s.jsxs("article",{className:Le.newsItem,children:[s.jsxs("div",{className:Le.newsMeta,children:[s.jsx("span",{className:Le.newsAuthor,children:o.author||"Discord"}),s.jsx("span",{className:Le.newsTime,children:vB(o.timestamp)})]}),s.jsx("p",{className:Le.newsText,children:o.text}),o.image&&s.jsx("img",{src:o.image,alt:"",className:Le.newsImage}),o.url&&s.jsx("a",{href:o.url,target:"_blank",rel:"noreferrer",className:Le.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(c=o.id)!=null?c:`${o.author}-${o.timestamp}`)}),i&&s.jsx("div",{className:Le.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&s.jsx("div",{className:Le.errorNote,"aria-live":"polite",children:n})]})},jB=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(0),i=E.useRef(null);E.useEffect(()=>{let u=!0;async function m(){try{const x=(await n3()).map(v=>{const w=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),S=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!S)return null;const P=yB(S),R=P?`https://i.ytimg.com/vi/${P}/hqdefault.jpg`:void 0;return{title:w,url:S,thumb:R}}).filter(Boolean).slice(0,12);u&&e(x)}catch(p){u&&e([])}}return m(),()=>{u=!1}},[]),E.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const o=()=>r(u=>(u-1+t.length)%Math.max(t.length,1)),c=()=>r(u=>(u+1)%Math.max(t.length,1)),d=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),o()),u.key==="ArrowRight"&&(u.preventDefault(),c())};return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:Le.header,children:[s.jsx("span",{className:Le.title,"data-i18n":"home.youtube.title",children:"YouTube"}),s.jsxs("div",{className:Le.carouselCtrls,children:[s.jsx("button",{className:Le.navBtn,onClick:o,"aria-label":"Prev",children:""}),s.jsx("button",{className:Le.navBtn,onClick:c,"aria-label":"Next",children:""})]})]}),s.jsx("div",{className:Le.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:t.length===0?s.jsx("div",{className:Le.empty,children:"No videos"}):t.map((u,m)=>s.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[Le.slide,m===n?Le.slideActive:Le.slideInactive].join(" "),children:[u.thumb?s.jsx("img",{src:u.thumb,alt:"",className:Le.slideThumb}):s.jsx("div",{className:Le.slideFallback,children:u.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:Le.slideCaption,children:u.title})]},u.url))})]})},SB=({onOpenSchedule:t})=>{var p;const[e,n]=E.useState(null),[r,i]=E.useState(new Map),[o,c]=E.useState(0),d=E.useRef(null);if(E.useEffect(()=>{async function x(){{n([]);return}}return x(),()=>{}},[]),E.useEffect(()=>{let x=!0;async function v(){try{const w=await n3(),S=new Map;for(const P of w){const R=String(P["Creator Name"]||P.creator_name||P.name||"").trim(),B=String(P["Twitch Link"]||P.twitch||P.Twitch||"").trim();if(!R||!B)continue;const D=(()=>{try{return new URL(B).pathname.replace(/^\//,"").toLowerCase()}catch(T){return B.toLowerCase()}})();D&&S.set(D,B),S.set(R.toLowerCase(),B)}x&&i(S)}catch(w){x&&i(new Map)}}return v(),()=>{x=!1}},[]),E.useEffect(()=>{if(!(!e||e.length<=1))return d.current=window.setInterval(()=>c(x=>(x+1)%e.length),8e3),()=>{d.current&&window.clearInterval(d.current)}},[e]),!e||e.length===0)return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsx("div",{className:Le.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),s.jsx("div",{className:Le.actionsRight,children:s.jsx("button",{className:Le.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[o],m=(()=>{const x=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(x)return r.has(x)?r.get(x):r.has(x.replace(/^@/,""))?r.get(x.replace(/^@/,"")):`https://www.twitch.tv/${x}`})();return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsxs("div",{className:Le.liveCard,children:[u!=null&&u.avatar?s.jsx("img",{src:u.avatar,alt:"",className:Le.liveAvatar}):s.jsx("div",{className:Le.liveAvatarFallback,"aria-hidden":!0,children:(p=u==null?void 0:u.name)==null?void 0:p.slice(0,2).toUpperCase()}),s.jsxs("div",{className:Le.liveInfo,children:[s.jsx("div",{className:Le.liveName,children:u==null?void 0:u.name}),s.jsxs("div",{className:Le.liveMeta,children:[s.jsx("span",{className:Le.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&s.jsxs("span",{className:Le.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),m&&s.jsx("a",{href:m,target:"_blank",rel:"noreferrer",className:Le.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),s.jsxs("div",{className:Le.carouselCtrls,children:[s.jsx("button",{className:Le.navBtn,onClick:()=>c(x=>(x-1+e.length)%e.length),"aria-label":"Prev",children:""}),s.jsx("button",{className:Le.navBtn,onClick:()=>c(x=>(x+1)%e.length),"aria-label":"Next",children:""})]})]})},NB=({open:t,onClose:e})=>{var w;const[n,r]=E.useState(null),[i,o]=E.useState("All"),[c,d]=E.useState(""),[u,m]=E.useState(!1);if(E.useEffect(()=>{if(!t)return;async function S(){{r([]);return}}return S(),()=>{}},[t]),E.useEffect(()=>{const S=P=>{P.key==="Escape"&&e()};return t&&window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),!t)return null;const p=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),x=(n||[]).filter(S=>{if(i!=="All"&&S.platform.toLowerCase()!==i.toLowerCase()||u&&S.weekday&&S.weekday.toLowerCase()!==p.toLowerCase())return!1;if(c){const P=c.toLowerCase();if(!`${S.streamer} ${S.title}`.toLowerCase().includes(P))return!1}return!0}),v=((w=n==null?void 0:n.length)!=null?w:0)===0;return s.jsx("div",{className:Le.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:Le.modal,children:[s.jsxs("header",{className:Le.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:Le.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),s.jsx("button",{className:Le.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),s.jsxs("div",{className:Le.modalFilters,children:[s.jsxs("label",{className:Le.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),s.jsxs("select",{value:i,onChange:S=>o(S.target.value),className:Le.select,children:[s.jsx("option",{value:"All",children:"All"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),s.jsxs("label",{className:Le.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),s.jsx("input",{value:c,onChange:S=>d(S.target.value),className:Le.input,placeholder:"Streamer / Title"})]}),s.jsxs("label",{className:Le.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:u,onChange:S=>m(S.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),s.jsx("div",{className:Le.tableWrap,children:s.jsxs("table",{className:Le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"weekday"}),s.jsx("th",{children:"start_utc"}),s.jsx("th",{children:"end_utc"}),s.jsx("th",{children:"timezone"}),s.jsx("th",{children:"platform"}),s.jsx("th",{children:"channel_url"}),s.jsx("th",{children:"streamer"}),s.jsx("th",{children:"title"})]})}),s.jsx("tbody",{children:v?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:Le.empty,children:"No schedule yet"})}):x.map((S,P)=>s.jsxs("tr",{children:[s.jsx("td",{children:S.weekday}),s.jsx("td",{children:S.start_utc}),s.jsx("td",{children:S.end_utc}),s.jsx("td",{children:S.timezone}),s.jsx("td",{children:S.platform}),s.jsx("td",{children:S.channel_url?s.jsx("a",{href:S.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),s.jsx("td",{children:S.streamer}),s.jsx("td",{children:S.title})]},P))})]})})]})})},kB=()=>{const[t,e]=E.useState(!1);return s.jsxs(gt,{title:"home.title",subtitle:"home.subtitle",children:[s.jsx("div",{className:Le.row,children:s.jsx("div",{className:Le.colFull,children:s.jsx(_B,{})})}),s.jsxs("div",{className:Le.row,children:[s.jsx("div",{className:Le.colCommunity,children:s.jsx(wB,{})}),s.jsx("div",{className:Le.colGuides,children:s.jsx(jB,{})})]}),s.jsx("div",{className:Le.row,children:s.jsx("div",{className:Le.colFull,children:s.jsx(SB,{onOpenSchedule:()=>e(!0)})})}),s.jsx(NB,{open:t,onClose:()=>e(!1)})]})},CB="_wrapper_125p4_1",TB="_card_125p4_19",AB="_logo_125p4_45",EB="_heading_125p4_61",IB="_subcopy_125p4_73",RB="_buttonStack_125p4_83",PB="_providerButton_125p4_97",LB="_discord_125p4_145",DB="_google_125p4_153",MB="_disclaimer_125p4_161",FB="_status_125p4_173",BB="_sessionBlock_125p4_183",$B="_logoutButton_125p4_197",VB="_linkButton_125p4_227",OB="_loading_125p4_245",UB="_spinner_125p4_261",Xs={wrapper:CB,card:TB,logo:AB,heading:EB,subcopy:IB,buttonStack:RB,providerButton:PB,discord:LB,google:DB,disclaimer:MB,status:FB,sessionBlock:BB,logoutButton:$B,linkButton:VB,loading:OB,spinner:UB},zB=()=>{const t=Rr(),{status:e,user:n,loginWithDiscord:r,loginWithGoogle:i,logout:o}=Ec(),c=e==="loading"||e==="idle",d=e==="authenticated"&&!!n,u=()=>{c||r()},m=()=>{c||i()},p=async()=>{await o()},x=()=>{t("/")};let v;return c?v=s.jsxs("div",{className:Xs.loading,children:[s.jsx("div",{className:Xs.spinner}),s.jsx("div",{children:"Checking session"})]}):d&&n?v=s.jsxs("div",{className:Xs.sessionBlock,children:[s.jsxs("div",{className:Xs.status,children:["You are logged in as ",n.displayName,"."]}),s.jsx("button",{className:Xs.logoutButton,type:"button",onClick:p,children:"Logout"}),s.jsx("button",{className:Xs.linkButton,type:"button",onClick:x,children:"Back to dashboard"})]}):v=s.jsxs("div",{className:Xs.buttonStack,children:[s.jsx("button",{className:`${Xs.providerButton} ${Xs.discord}`,type:"button",onClick:u,children:"Login with Discord"}),s.jsx("button",{className:`${Xs.providerButton} ${Xs.google}`,type:"button",onClick:m,children:"Login with Google"})]}),s.jsx(gt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:s.jsx("div",{className:Xs.wrapper,children:s.jsxs("div",{className:Xs.card,children:[s.jsx("img",{className:Xs.logo,src:Km,alt:"SFDataHub logo"}),s.jsx("h1",{className:Xs.heading,children:"Sign in"}),s.jsx("p",{className:Xs.subcopy,children:"Choose a method to access SFDataHub."}),v,s.jsx("p",{className:Xs.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function GB(){return s.jsx(gt,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(HB,{}),right:s.jsx(WB,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(jx,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(jx,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(jx,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function HB(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Sx,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(Sx,{to:"/dashboard/activity",children:"Activity"}),s.jsx(Sx,{to:"/dashboard/progression",children:"Progression"})]})]})}function WB(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function jx({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Sx({to:t,children:e}){return s.jsx(Dt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function qB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Nx,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(Nx,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(Nx,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Nx({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function KB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function QB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(kx,{title:"Scrapbook 100%",progress:72}),s.jsx(kx,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(kx,{title:"Underworld Boss",progress:35})]})]})}function kx({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function XB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Co,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(Co,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(Co,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(Co,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(Co,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(Co,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),s.jsx(Co,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function Co({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function YB({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Zi.border,backgroundColor:Zi.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function JB(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const ZB=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:o,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:m=!0})=>{const[p,x]=E.useState(!1),v=E.useMemo(()=>JB(t,m),[t,m]),w=i?"lazy":"eager",S={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},P={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},R=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},B={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:o,style:S,children:s.jsx("div",{style:P,children:s.jsxs("div",{style:R,children:[s.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:w,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>x(D=>!D),style:B,title:"Info",children:"i"}),p&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",s.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},e$="#0C1C2E",t$=()=>s.jsx(gt,{children:s.jsx(YB,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:e$,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(ZB,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),s$="_pageWrap_72re9_7",n$="_infoLine_72re9_17",r$="_viewerHost_72re9_43",i$="_overlay_72re9_99",a$="_dragZoneLeft_72re9_101",o$="_dragZoneRight_72re9_103",l$="_inbookLink_72re9_105",Pa={pageWrap:s$,infoLine:n$,viewerHost:r$,overlay:i$,dragZoneLeft:a$,dragZoneRight:o$,inbookLink:l$};var Hd={exports:{}},c$=Hd.exports,kw;function d$(){return kw||(kw=1,(function(t,e){(function(n,r){r(e)})(c$,(function(n){class r{constructor(y,j){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=j,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,j,M){super(y,M),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=j}draw(y){const j=this.render.getContext(),M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,_=this.render.getRect().height;j.save(),j.translate(M.x,M.y),j.beginPath();for(let A of this.state.area)A!==null&&(A=this.render.convertToGlobal(A),j.lineTo(A.x-M.x,A.y-M.y));j.rotate(this.state.angle),j.clip(),this.isLoad?j.drawImage(this.image,0,0,C,_):this.drawLoader(j,{x:0,y:0},C,_),j.restore()}simpleDraw(y){const j=this.render.getRect(),M=this.render.getContext(),C=j.pageWidth,_=j.height,A=y===1?j.left+j.pageWidth:j.left,L=j.top;this.isLoad?M.drawImage(this.image,A,L,C,_):this.drawLoader(M,{x:A,y:L},C,_)}drawLoader(y,j,M,C){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(j.x+1,j.y+1,M-1,C-1),y.stroke(),y.fill();const _={x:j.x+M/2,y:j.y+C/2};y.beginPath(),y.lineWidth=10,y.arc(_.x,_.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class o{constructor(y,j){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=j,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let j=0;j<this.pages.length;j++)this.portraitSpread.push([j]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let j=y;j<this.pages.length;j+=2)j<this.pages.length-1?this.landscapeSpread.push([j,j+1]):(this.landscapeSpread.push([j]),this.pages[j].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const j=this.getSpread();for(let M=0;M<j.length;M++)if(y===j[M][0]||y===j[M][1])return M;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const j=this.pages.indexOf(y);return j<this.pages.length-1?this.pages[j+1]:null}prevBy(y){const j=this.pages.indexOf(y);return j>0?this.pages[j-1]:null}getFlippingPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j].newTemporaryCopy():this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1||y===0?this.pages[M[0]]:this.pages[M[1]]}}getBottomPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j+1]:this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1?this.pages[M[0]]:y===0?this.pages[M[1]]:this.pages[M[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const j=this.getSpreadIndexByPage(y);j!==null&&(this.currentSpreadIndex=j,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends o{constructor(y,j,M){super(y,j),this.imagesHref=M}load(){for(const y of this.imagesHref){const j=new i(this.render,y,"soft");j.load(),this.pages.push(j)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(y,j){return y===null||j===null?1/0:Math.sqrt(Math.pow(j.x-y.x,2)+Math.pow(j.y-y.y,2))}static GetSegmentLength(y){return d.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,j){const M=y[0].y-y[1].y,C=j[0].y-j[1].y,_=y[1].x-y[0].x,A=j[1].x-j[0].x;return Math.acos((M*C+_*A)/(Math.sqrt(M*M+_*_)*Math.sqrt(C*C+A*A)))}static PointInRect(y,j){return j===null?null:j.x>=y.left&&j.x<=y.width+y.left&&j.y>=y.top&&j.y<=y.top+y.height?j:null}static GetRotatedPoint(y,j,M){return{x:y.x*Math.cos(M)+y.y*Math.sin(M)+j.x,y:y.y*Math.cos(M)-y.x*Math.sin(M)+j.y}}static LimitPointToCircle(y,j,M){if(d.GetDistanceBetweenTwoPoint(y,M)<=j)return M;const C=y.x,_=y.y,A=M.x,L=M.y;let I=Math.sqrt(Math.pow(j,2)*Math.pow(C-A,2)/(Math.pow(C-A,2)+Math.pow(_-L,2)))+C;M.x<0&&(I*=-1);let V=(I-C)*(_-L)/(C-A)+_;return C-A+_===0&&(V=j),{x:I,y:V}}static GetIntersectBetweenTwoSegment(y,j,M){return d.PointInRect(y,d.GetIntersectBeetwenTwoLine(j,M))}static GetIntersectBeetwenTwoLine(y,j){const M=y[0].y-y[1].y,C=j[0].y-j[1].y,_=y[1].x-y[0].x,A=j[1].x-j[0].x,L=y[0].x*y[1].y-y[1].x*y[0].y,I=j[0].x*j[1].y-j[1].x*j[0].y,V=M*I-C*L,$=_*I-A*L,W=-(L*A-I*_)/(M*A-C*_),z=-(M*I-C*L)/(M*A-C*_);if(isFinite(W)&&isFinite(z))return{x:W,y:z};if(Math.abs(V-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,j){const M=Math.abs(y.x-j.x),C=Math.abs(y.y-j.y),_=Math.max(M,C),A=[y];function L(I,V,$,W,z){return V>I?I+z*($/W):V<I?I-z*($/W):I}for(let I=1;I<=_;I+=1)A.push({x:L(y.x,j.x,M,_,I),y:L(y.y,j.y,C,_,I)});return A}}class u extends r{constructor(y,j,M){super(y,M),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=j,this.element.classList.add("stf__item"),this.element.classList.add("--"+M)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const j=y||this.nowDrawingDensity,M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,_=this.render.getRect().height;this.element.classList.remove("--simple");const A=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${C}px;
            height: ${_}px;
        `;j==="hard"?this.drawHard(A):this.drawSoft(M,A)}drawHard(y=""){const j=this.render.getRect().left+this.render.getRect().width/2,M=this.state.hardDrawingAngle,C=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${M}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${j}px, 0, 0) rotateY(${M}deg);`);this.element.style.cssText=C}drawSoft(y,j=""){let M="polygon( ";for(const _ of this.state.area)if(_!==null){let A=this.render.getDirection()===1?{x:-_.x+this.state.position.x,y:_.y-this.state.position.y}:{x:_.x-this.state.position.x,y:_.y-this.state.position.y};A=d.GetRotatedPoint(A,{x:0,y:0},this.state.angle),M+=A.x+"px "+A.y+"px, "}M=M.slice(0,-2),M+=")";const C=j+`transform-origin: 0 0; clip-path: ${M}; -webkit-clip-path: ${M};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=C}simpleDraw(y){const j=this.render.getRect(),M=j.pageWidth,C=j.height,_=y===1?j.left+j.pageWidth:j.left,A=j.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${C}px; 
            left: ${_}px; 
            top: ${A}px; 
            width: ${M}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class m extends o{constructor(y,j,M,C){super(y,j),this.element=M,this.pagesElement=C}load(){for(const y of this.pagesElement){const j=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");j.load(),this.pages.push(j)}this.createSpread()}}class p{constructor(y,j,M,C){this.direction=y,this.corner=j,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(M,10),this.pageHeight=parseInt(C,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(j){return!1}}getFlippingClipArea(){const y=[];let j=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?j=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(j=!1)),y.push(this.bottomIntersectPoint),(j||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let j=y;if(this.updateAngleAndGeometry(j),j=this.corner==="top"?this.checkPositionAtCenterLine(j,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(j,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(j.x-this.pageWidth)<1&&Math.abs(j.y)<1)throw new Error("Point is too small");return j}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const j=this.pageWidth-y.x+1,M=this.corner==="bottom"?this.pageHeight-y.y:y.y;let C=2*Math.acos(j/Math.sqrt(M*M+j*j));M<0&&(C=-C);const _=Math.PI-C;if(!isFinite(C)||_>=0&&_<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(C=-C),C}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,j){return{topLeft:this.getRotatedPoint(y[0],j),topRight:this.getRotatedPoint(y[1],j),bottomLeft:this.getRotatedPoint(y[2],j),bottomRight:this.getRotatedPoint(y[3],j)}}getRotatedPoint(y,j){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+j.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+j.y}}calculateIntersectPoint(y){const j={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,j,M){let C=y;const _=d.LimitPointToCircle(j,this.pageWidth,C);C!==_&&(C=_,this.updateAngleAndGeometry(C));const A=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let L=this.rect.bottomRight,I=this.rect.topLeft;if(this.corner==="bottom"&&(L=this.rect.topRight,I=this.rect.bottomLeft),L.x<=0){const V=d.LimitPointToCircle(M,A,I);V!==C&&(C=V,this.updateAngleAndGeometry(C))}return C}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class x{constructor(y,j){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=j}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const j=this.getBoundsRect();this.setState("flipping");const M=j.height/10,C=this.calc.getCorner()==="bottom"?j.height-M:M,_=this.calc.getCorner()==="bottom"?j.height:0;this.calc.calc({x:j.pageWidth-M,y:C}),this.animateFlippingTo({x:j.pageWidth-M,y:C},{x:-j.pageWidth,y:_},!0)}start(y){this.reset();const j=this.render.convertToBook(y),M=this.getBoundsRect(),C=this.getDirectionByPoint(j),_=j.y>=M.height/2?"bottom":"top";if(!this.checkDirection(C))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(C),this.bottomPage=this.app.getPageCollection().getBottomPage(C),this.render.getOrientation()==="landscape")if(C===1){const A=this.app.getPageCollection().nextBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}else{const A=this.app.getPageCollection().prevBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}return this.render.setDirection(C),this.calc=new p(C,_,M.pageWidth.toString(10),M.height.toString(10)),!0}catch(A){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const j=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*j)/100):this.flippingPage.setHardAngle(-90*(200-2*j)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),j,this.calc.getDirection())}}flipToPage(y,j){const M=this.app.getPageCollection().getCurrentSpreadIndex(),C=this.app.getPageCollection().getSpreadIndexByPage(y);try{C>M&&(this.app.getPageCollection().setCurrentSpreadIndex(C-1),this.flipNext(j)),C<M&&(this.app.getPageCollection().setCurrentSpreadIndex(C+1),this.flipPrev(j))}catch(_){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),j=this.getBoundsRect(),M=this.calc.getCorner()==="bottom"?j.height:0;y.x<=0?this.animateFlippingTo(y,{x:-j.pageWidth,y:M},!0):this.animateFlippingTo(y,{x:j.pageWidth,y:M},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const j=this.getBoundsRect(),M=j.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:M-1,y:1});const C=50,_=this.calc.getCorner()==="bottom"?j.height-1:1,A=this.calc.getCorner()==="bottom"?j.height-C:C;this.animateFlippingTo({x:M-1,y:_},{x:M-C,y:A},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,j,M,C=!0){const _=d.GetCordsFromTwoPoint(y,j),A=[];for(const I of _)A.push(()=>this.do(I));const L=this.getAnimationDuration(_.length);this.render.startAnimation(A,L,()=>{this.calc&&(M&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),C&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const j=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-j.pageWidth<=j.width/5)return 1}else if(y.x<j.width/2)return 1;return 0}getAnimationDuration(y){const j=this.app.getSettings().flippingTime;return y>=1e3?j:y/1e3*j}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const j of y)if(this.state===j)return!0;return!1}isPointOnCorners(y){const j=this.getBoundsRect(),M=j.pageWidth,C=Math.sqrt(Math.pow(M,2)+Math.pow(j.height,2))/5,_=this.render.convertToBook(y);return _.x>0&&_.y>0&&_.x<j.width&&_.y<j.height&&(_.x<C||_.x>j.width-C)&&(_.y<C||_.y>j.height-C)}}class v{constructor(y,j){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=j,this.app=y;const M=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=M.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const j=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);j<this.animation.frames.length?this.animation.frames[j]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=j=>{this.render(j),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,j,M){this.finishAnimation(),this.animation={frames:y,duration:j,durationFrame:j/y.length,onAnimateEnd:M,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const j=this.getBlockWidth(),M=j/2,C=this.getBlockHeight()/2,_=this.setting.width/this.setting.height;let A=this.setting.width,L=this.setting.height,I=M-A;return this.setting.size==="stretch"?(j<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),A=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,A>this.setting.maxWidth&&(A=this.setting.maxWidth),L=A/_,L>this.getBlockHeight()&&(L=this.getBlockHeight(),A=L*_),I=y==="portrait"?M-A/2-A:M-A):j<2*A&&this.app.getSettings().usePortrait&&(y="portrait",I=M-A/2-A),this.boundsRect={left:I,top:C-L/2,width:2*A,height:L,pageWidth:A},y}setShadowData(y,j,M,C){if(!this.app.getSettings().drawShadow)return;const _=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:j,width:3*this.getRect().pageWidth/4*M/100,opacity:(100-M)*_/100/100,direction:C,progress:2*M}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const j=this.getRect();return{x:y.x-j.left,y:y.y-j.top}}isSafari(){return this.safari}convertToPage(y,j){j||(j=this.direction);const M=this.getRect();return{x:j===0?y.x-M.left-M.width/2:M.width/2-y.x+M.left,y:y.y-M.top}}convertToGlobal(y,j){if(j||(j=this.direction),y==null)return null;const M=this.getRect();return{x:j===0?y.x+M.left+M.width/2:M.width/2-y.x+M.left,y:y.y+M.top}}convertRectToGlobal(y,j){return j||(j=this.direction),{topLeft:this.convertToGlobal(y.topLeft,j),topRight:this.convertToGlobal(y.topRight,j),bottomLeft:this.convertToGlobal(y.bottomLeft,j),bottomRight:this.convertToGlobal(y.bottomRight,j)}}}class w extends v{constructor(y,j,M){super(y,j),this.canvas=M,this.ctx=M.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const M={x:y.left+y.width/2-j/2,y:0};this.ctx.translate(M.x,M.y);const C=this.ctx.createLinearGradient(0,0,j,0);C.addColorStop(0,"rgba(0, 0, 0, 0)"),C.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),C.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),C.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),C.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),C.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=C,this.ctx.fillRect(0,0,j,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const M=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),M.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),M.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),M.addColorStop(0,"rgba(0, 0, 0, 0)"),M.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=M,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(M.topLeft.x,M.topLeft.y),this.ctx.lineTo(M.topRight.x,M.topRight.y),this.ctx.lineTo(M.bottomRight.x,M.bottomRight.y),this.ctx.lineTo(M.bottomLeft.x,M.bottomLeft.y),this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const C=3*this.shadow.width/4,_=this.ctx.createLinearGradient(0,0,C,0);this.shadow.direction===0?(this.ctx.translate(-C,-100),_.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),_.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,C,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class S{constructor(y,j,M){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=_=>{if(this.checkTarget(_.target)){const A=this.getMousePos(_.clientX,_.clientY);this.app.startUserTouch(A),_.preventDefault()}},this.onTouchStart=_=>{if(this.checkTarget(_.target)&&_.changedTouches.length>0){const A=_.changedTouches[0],L=this.getMousePos(A.clientX,A.clientY);this.touchPoint={point:L,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(L)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||_.preventDefault()}},this.onMouseUp=_=>{const A=this.getMousePos(_.clientX,_.clientY);this.app.userStop(A)},this.onMouseMove=_=>{const A=this.getMousePos(_.clientX,_.clientY);this.app.userMove(A,!1)},this.onTouchMove=_=>{if(_.changedTouches.length>0){const A=_.changedTouches[0],L=this.getMousePos(A.clientX,A.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-L.x)>10||this.app.getState()!=="read")&&_.cancelable&&this.app.userMove(L,!0),this.app.getState()!=="read"&&_.preventDefault()):this.app.userMove(L,!0)}},this.onTouchEnd=_=>{if(_.changedTouches.length>0){const A=_.changedTouches[0],L=this.getMousePos(A.clientX,A.clientY);let I=!1;if(this.touchPoint!==null){const V=L.x-this.touchPoint.point.x,$=Math.abs(L.y-this.touchPoint.point.y);Math.abs(V)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(V>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),I=!0),this.touchPoint=null}this.app.userStop(L,I)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=j;const C=this.app.getSettings().usePortrait?1:2;y.style.minWidth=M.minWidth*C+"px",y.style.minHeight=M.minHeight+"px",M.size==="fixed"&&(y.style.minWidth=M.width*C+"px",y.style.minHeight=M.height+"px"),M.autoSize&&(y.style.width="100%",y.style.maxWidth=2*M.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=M.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,j){const M=this.distElement.getBoundingClientRect();return{x:y-M.left,y:j-M.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class P extends S{constructor(y,j,M,C){super(y,j,M),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=C;for(const _ of C)this.distElement.appendChild(_);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const j of y)this.distElement.appendChild(j);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class R extends S{constructor(y,j,M){super(y,j,M),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),j=parseInt(y.getPropertyValue("width"),10),M=parseInt(y.getPropertyValue("height"),10);this.canvas.width=j,this.canvas.height=M}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class B extends v{constructor(y,j,M){super(y,j),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=M,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),j=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let M=(100-j)*(2.5*y.pageWidth)/100+20;M>y.pageWidth&&(M=y.pageWidth);let C=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${M}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*j/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;C+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=C}drawHardOuterShadow(){const y=this.getRect();let j=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;j>y.pageWidth&&(j=y.pageWidth);let M=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${j}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;M+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=M}drawInnerShadow(){const y=this.getRect(),j=3*this.shadow.width/4,M=this.getDirection()===0?j:0,C=this.getDirection()===0?"to left":"to right",_=this.convertToGlobal(this.shadow.pos),A=this.shadow.angle+3*Math.PI/2,L=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let I="polygon( ";for(const $ of L){let W=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};W=d.GetRotatedPoint(W,{x:M,y:100},A),I+=W.x+"px "+W.y+"px, "}I=I.slice(0,-2),I+=")";const V=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${j}px;
            height: ${2*y.height}px;
            background: linear-gradient(${C},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${M}px 100px;
            transform: translate3d(${_.x-M}px, ${_.y-100}px, 0) rotate(${A}rad);
            clip-path: ${I};
            -webkit-clip-path: ${I};
        `;this.innerShadow.style.cssText=V}drawOuterShadow(){const y=this.getRect(),j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.shadow.angle+3*Math.PI/2,C=this.getDirection()===1?this.shadow.width:0,_=this.getDirection()===0?"to right":"to left",A=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let L="polygon( ";for(const V of A)if(V!==null){let $=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:C,y:100},M),L+=$.x+"px "+$.y+"px, "}L=L.slice(0,-2),L+=")";const I=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${_}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${C}px 100px;
            transform: translate3d(${j.x-C}px, ${j.y-100}px, 0) rotate(${M}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.outerShadow.style.cssText=I}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class D{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const j=this._default;if(Object.assign(j,y),j.size!=="stretch"&&j.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(j.width<=0||j.height<=0)throw new Error("Invalid width or height");if(j.flippingTime<=0)throw new Error("Invalid flipping time");return j.size==="stretch"?(j.minWidth<=0&&(j.minWidth=100),j.maxWidth<j.minWidth&&(j.maxWidth=2e3),j.minHeight<=0&&(j.minHeight=100),j.maxHeight<j.minHeight&&(j.maxHeight=2e3)):(j.minWidth=j.width,j.maxWidth=j.width,j.minHeight=j.height,j.maxHeight=j.height),j}}(function(T,y){y===void 0&&(y={});var j=y.insertAt;if(typeof document!="undefined"){var M=document.head||document.getElementsByTagName("head")[0],C=document.createElement("style");C.type="text/css",j==="top"&&M.firstChild?M.insertBefore(C,M.firstChild):M.appendChild(C),C.styleSheet?C.styleSheet.cssText=T:C.appendChild(document.createTextNode(T))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(T,y){return this.events.has(T)?this.events.get(T).push(y):this.events.set(T,[y]),this}off(T){this.events.delete(T)}trigger(T,y,j=null){if(this.events.has(T))for(const M of this.events.get(T))M({data:j,object:y})}}{constructor(T,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new D().getSettings(y),this.block=T}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(T){this.ui=new R(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new w(this,this.setting,y),this.flipController=new x(this.render,this),this.pages=new c(this,this.render,T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(T){this.ui=new P(this.block,this,this.setting,T),this.render=new B(this,this.setting,this.ui.getDistElement()),this.flipController=new x(this.render,this),this.pages=new m(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,T),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new m(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.ui.updateItems(T),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(T){this.pages.show(T)}flipNext(T="top"){this.flipController.flipNext(T)}flipPrev(T="top"){this.flipController.flipPrev(T)}flip(T,y="top"){this.flipController.flipToPage(T,y)}updateState(T){this.trigger("changeState",this,T)}updatePageIndex(T){this.trigger("flip",this,T)}updateOrientation(T){this.ui.setOrientationStyle(T),this.update(),this.trigger("changeOrientation",this,T)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(T){return this.pages.getPage(T)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(T){this.mousePosition=T,this.isUserTouch=!0,this.isUserMove=!1}userMove(T,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,T)>5&&(this.isUserMove=!0,this.flipController.fold(T)):this.flipController.showCorner(T)}userStop(T,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(T)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(Hd,Hd.exports)),Hd.exports}var u$=d$();const h$="_viewerRoot_hj39c_5",m$="_stage_hj39c_17",p$="_host_hj39c_43",f$="_hud_hj39c_91",g$="_hBtn_hj39c_125",x$="_hText_hj39c_153",v$="_title_hj39c_167",y$="_sep_hj39c_169",b$="_spacer_hj39c_171",_$="_errorBox_hj39c_175",ir={viewerRoot:h$,stage:m$,host:p$,hud:f$,hBtn:g$,hText:x$,title:v$,sep:y$,spacer:b$,errorBox:_$},w$="/".endsWith("/")?"/":"//",r3=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${w$}${e}`.replace(/\/{2,}/g,"/")},j$=async t=>{const e=r3(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},S$=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},N$=(t,e,n)=>Math.max(e,Math.min(n,t)),ws={hostEl:null,pf:null,slug:null},Zr={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},k$=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function C$(t){for(const e of t)e&&(Zr.cache.has(e)||Zr.inFlight.has(e)||Zr.queue.includes(e)||Zr.queue.push(e));i3()}function i3(){k$(()=>{for(;Zr.inFlight.size<Zr.maxParallel&&Zr.queue.length>0;){const t=Zr.queue.shift();Zr.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{Zr.inFlight.delete(t),Zr.cache.add(t),i3()},e.src=t}})}const T$=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const o=E.useRef(null),c=E.useRef(null),[d,u]=E.useState(null),[m,p]=E.useState(null),x=E.useRef(),v=E.useRef(),w=E.useRef(e);E.useEffect(()=>{x.current=n},[n]),E.useEffect(()=>{v.current=r},[r]),E.useEffect(()=>{w.current=e},[e]);const S=E.useMemo(()=>r3(`flipbooks/${t}`),[t]),P=E.useCallback(T=>{var y,j;if((y=T.srcset)!=null&&y.length){const M=[...T.srcset].sort((_,A)=>_.width-A.width),C=(j=M.find(_=>_.width>=1600))!=null?j:M[M.length-1];return/^https?:\/\//i.test(C.src)||C.src.startsWith("/")?C.src:`${S}/${C.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(T.src)||T.src.startsWith("/")?T.src:`${S}/${T.src}`.replace(/\/{2,}/g,"/")},[S]);E.useEffect(()=>{let T=!0;return p(null),j$(t).then(y=>{T&&u(y)}).catch(y=>{T&&p(y.message||"Failed to load flipbook manifest.")}),()=>{T=!1}},[t]),E.useEffect(()=>{const T=c.current,y=o.current;if(!T||!y||!d||(ws.hostEl||(ws.hostEl=document.createElement("div"),ws.hostEl.className=ir.host),ws.hostEl.parentElement!==T&&T.appendChild(ws.hostEl),!ws.hostEl.isConnected))return;if(!(!ws.pf||ws.slug!==t)){try{ws.pf.update()}catch($){}return}if(ws.pf){try{ws.pf.destroy()}catch($){}ws.pf=null}const M={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},C=new u$.PageFlip(ws.hostEl,M);ws.pf=C,ws.slug=t;const _=d.pages.map(P);C.loadFromImages(_);const A=$=>{const W=[],z=$+1,q=$+2;d.pages[z]&&W.push(P(d.pages[z])),d.pages[q]&&W.push(P(d.pages[q])),C$(W)},L=()=>{var W;const $=N$(w.current,1,d.pageCount)-1;C.turnToPage($,"hard"),setTimeout(()=>A($),220),(W=x.current)==null||W.call(x,C)};C.on("init",L),C.on("flip",$=>{var z;const W=$.data;(z=v.current)==null||z.call(v,W),setTimeout(()=>A(W),220)});const I=new ResizeObserver(()=>{var $;try{($=ws.pf)==null||$.update()}catch(W){}});I.observe(y);const V=$=>{var W,z;$.key==="ArrowLeft"&&($.preventDefault(),(W=ws.pf)==null||W.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(z=ws.pf)==null||z.flipNext())};return window.addEventListener("keydown",V,{passive:!1}),()=>{window.removeEventListener("keydown",V),I.disconnect()}},[d,P,t]);const R=()=>{var T;return(T=ws.pf)==null?void 0:T.flipPrev()},B=()=>{var T;return(T=ws.pf)==null?void 0:T.flipNext()},D=()=>{var j;const T=o.current;if(!T)return;const y=T;(j=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||j.call(y)};return m?s.jsxs("div",{className:ir.errorBox,children:["Flipbook konnte nicht geladen werden: ",m]}):d?s.jsxs("div",{className:ir.viewerRoot,ref:o,"aria-label":d.title,children:[s.jsx("div",{className:ir.stage,ref:c}),s.jsxs("div",{className:ir.hud,children:[s.jsx("button",{className:ir.hBtn,onClick:R,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:ir.hText,children:[s.jsx("span",{className:ir.title,children:d.title}),s.jsx("span",{className:ir.sep,children:""}),s.jsxs("span",{children:[d.pageCount," Seiten"]})]}),s.jsx("div",{className:ir.spacer}),S$()&&s.jsx("button",{className:ir.hBtn,onClick:D,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:ir.hBtn,onClick:B,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:ir.errorBox,children:"Lade Flipbook"})},A$=J.memo(T$),E$={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},I$=()=>{const t="sf-history-book",[e,n]=E.useState(1),r=E.useRef(null),i=E.useMemo(()=>{var p;return(p=E$[e])!=null?p:[]},[e]),o=E.useCallback(p=>{r.current=p},[]),c=E.useCallback(p=>{n(p+1)},[]),d=E.useCallback(p=>{const x=r.current;if(x)try{x.turnToPage(Math.max(0,p-1))}catch(v){}},[]),u=E.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipPrev()},[]),m=E.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipNext()},[]);return s.jsx(gt,{title:"SF History Book",children:s.jsxs("div",{className:Pa.pageWrap,children:[s.jsx("div",{className:Pa.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:Pa.viewerHost,children:[s.jsx(A$,{slug:t,initialPage:1,onReady:o,onPageChange:c,noSound:!0}),s.jsxs("div",{className:Pa.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:Pa.dragZoneLeft,onClick:u}),s.jsx("div",{className:Pa.dragZoneRight,onClick:m}),i.map((p,x)=>{const v={"--t":`${p.t}%`,"--l":`${p.l}%`,"--w":`${p.w}%`,"--h":`${p.h}%`};return p.kind==="goto"?s.jsx("button",{className:Pa.inbookLink,style:v,"aria-label":p.label,onClick:()=>d(p.toPage)},x):s.jsx("a",{className:Pa.inbookLink,style:v,"aria-label":p.label,href:p.href,target:"_blank",rel:"noopener noreferrer"},x)})]})]})]})})},a3=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(a3.map(t=>[t.id,t]));const o3="TL_FILTERS_V2",Hn={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function R$(){var t;try{const e=localStorage.getItem(o3);if(!e)return Hn;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:Hn.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:Hn.listView,o=["hud","sheet"].includes(n.filterMode)?n.filterMode:Hn.filterMode,c=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,d=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...Hn,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:c,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:d,quickFav:c,quickActive:d,days:r,listView:i,filterMode:o,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Hn.sortBy,searchText:typeof n.searchText=="string"?n.searchText:Hn.searchText}}catch(e){return Hn}}function P$(t){try{localStorage.setItem(o3,JSON.stringify(t))}catch(e){}}const l3=E.createContext(null),Cw=t=>Array.from(new Set(t));function jm(t,e){return typeof t=="function"?t(e):t}function L$({children:t}){const[e,n]=E.useState(()=>R$());E.useEffect(()=>{P$(e)},[e]);const r=_=>n(A=>({...A,servers:Cw(jm(_,A.servers))})),i=_=>n(A=>{const L=new Set(A.servers);return L.has(_)?L.delete(_):L.add(_),{...A,servers:Array.from(L)}}),o=()=>n(_=>({..._,servers:[]})),c=_=>n(A=>({...A,classes:Cw(jm(_,A.classes))})),d=_=>n(A=>{const L=new Set(A.classes);return L.has(_)?L.delete(_):L.add(_),{...A,classes:Array.from(L)}}),u=()=>n(_=>({..._,classes:[]})),m=_=>n(A=>({...A,days:_})),p=_=>m(_),x=_=>n(A=>({...A,sortBy:_||"level"})),v=_=>n(A=>({...A,favoritesOnly:!!_,quickFav:!!_})),w=_=>n(A=>({...A,activeOnly:!!_,quickActive:!!_})),S=_=>n(A=>({...A,searchText:_})),P=_=>n(A=>{const L=jm(_,A.quickFav);return{...A,quickFav:L,favoritesOnly:L}}),R=_=>n(A=>{const L=jm(_,A.quickActive);return{...A,quickActive:L,activeOnly:L}}),B=_=>n(A=>({...A,filterMode:_})),D=_=>n(A=>({...A,listView:_})),T=_=>n(A=>({...A,bottomFilterOpen:!!_})),y=_=>n(A=>({...A,serverSheetOpen:!!_})),j=()=>n(Hn),M=()=>j(),C=E.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:o,setClasses:c,toggleClass:d,clearClasses:u,setDays:m,setRange:p,setSortBy:x,setFavoritesOnly:v,setActiveOnly:w,setSearchText:S,setQuickFav:P,setQuickActive:R,setFilterMode:B,setListView:D,setBottomFilterOpen:T,setServerSheetOpen:y,resetFilters:j,resetAll:M}),[e]);return s.jsx(l3.Provider,{value:C,children:t})}function Hu(){const t=E.useContext(l3);return t||{...Hn,range:Hn.days,searchText:Hn.searchText,quickFav:Hn.quickFav,quickActive:Hn.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const D$="_hudWrap_107o7_9",M$="_hudBtn_107o7_11",F$="_hudSubBtn_107o7_15",B$="_iconRow_107o7_19",$$="_segmented_107o7_21",V$="_sortLabel_107o7_27",O$="_sortSelect_107o7_29",U$="_chip_107o7_31",z$="_isActive_107o7_33",Un={hudWrap:D$,hudBtn:M$,hudSubBtn:F$,iconRow:B$,segmented:$$,sortLabel:V$,sortSelect:O$,chip:U$,isActive:z$};function G$({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:o}){const c=Math.round(i*.7),d=J.useMemo(()=>{const B=[],D=ok(n,c*2,c*2,"contain");D&&B.push(D);const T=Pr(n,c*2);return T&&T!==D&&B.push(T),!B.length&&n&&B.push(n),B},[n,c]),[u,m]=J.useState(0),[p,x]=J.useState(!1),[v,w]=J.useState(!1);J.useEffect(()=>m(0),[d]);const S=d[u]||"",P={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};p&&(P.background="rgba(255,255,255,.04)"),t&&(P.outline="2px solid #5C8BC6");const R={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:o,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onFocus:()=>w(!0),onBlur:()=>w(!1),style:P,children:S?s.jsx("img",{src:S,alt:e||"class",width:c,height:c,loading:"lazy",style:R,onError:()=>{m(B=>B+1<d.length?B+1:B)}}):s.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const H$=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function W$(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:o,setSortBy:c,quickFav:d,setQuickFav:u,quickActive:m,setQuickActive:p,filterMode:x,setBottomFilterOpen:v,serverSheetOpen:w,setServerSheetOpen:S,resetAll:P}=Hu();return s.jsxs("div",{className:Un.hudWrap,children:[s.jsxs("button",{type:"button",className:Un.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),S(!0)},"aria-haspopup":"dialog","aria-expanded":w||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:Un.iconRow,children:[Rs.map(R=>s.jsx(G$,{active:e.includes(R.key),title:R.label,iconUrl:R.iconUrl,fallback:R.fallback,size:40,onClick:()=>n(B=>B.includes(R.key)?B.filter(D=>D!==R.key):[...B,R.key])},R.key)),s.jsx("button",{type:"button",className:Un.hudSubBtn,onClick:()=>n(Rs.map(R=>R.key)),children:"All"}),s.jsx("button",{type:"button",className:Un.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:Un.segmented,role:"group","aria-label":"Range",children:H$.map(R=>s.jsx("button",{type:"button","aria-pressed":r===R.value,onClick:()=>i(R.value),children:R.label},R.label))}),s.jsx("label",{className:Un.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:o,onChange:R=>c(R.target.value),className:Un.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${Un.chip} ${d?Un.isActive:""}`,onClick:()=>u(R=>!R),children:" Favorites"}),s.jsx("button",{type:"button",className:`${Un.chip} ${m?Un.isActive:""}`,onClick:()=>p(R=>!R),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:Un.hudSubBtn,onClick:P,children:"Reset"}),x==="sheet"&&s.jsx("button",{type:"button",className:Un.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const Us={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function q$({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:o,onSelectAllInRegion:c,onClearAll:d}){const[u,m]=E.useState(""),p=E.useRef(null),[x,v]=E.useState(null),[w,S]=E.useState(!1);E.useEffect(()=>{if(!t)return;const T=y=>{y.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),E.useEffect(()=>{if(t&&p.current){const T=p.current.querySelector("#sheet-serversearch");T==null||T.focus()}},[t]);const P=E.useMemo(()=>["EU","US","INT","Fusion"].every(y=>{var j;return!((j=r==null?void 0:r[y])!=null&&j.length)}),[r]);E.useEffect(()=>{if(!t||!P)return;let T=!0;return(async()=>{try{S(!0);const y=await dr(ms(It,"stats_public","toplists_bundle_v1"));if(!T)return;const j=y.data()||{},M=Array.isArray(j.servers)?j.servers:JSON.parse(j.servers||"[]");v(K$(M))}catch(y){v(null)}finally{T&&S(!1)}})(),()=>{T=!1}},[t,P]);const R=E.useMemo(()=>P?x!=null?x:{EU:[],US:[],INT:[],Fusion:[]}:r,[P,r,x]),B=E.useMemo(()=>Object.keys(R),[R]),D=T=>{const y=u.trim().toLowerCase();return y?T.toLowerCase().includes(y):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:X$,onClick:T=>{T.target===T.currentTarget&&e()},children:s.jsxs("div",{ref:p,style:n==="modal"?c3:Y$,className:"sf-server-sheet",children:[s.jsxs("div",{style:J$,children:[s.jsx("h2",{id:"server-dialog-title",style:Z$,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:d,style:Tw,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:aV,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:u,onChange:T=>m(T.target.value),"aria-label":"Search servers",autoComplete:"off",style:tV})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:B.map(T=>{const y=(R[T]||[]).filter(D);return s.jsxs("section",{"aria-labelledby":`region-${T}`,children:[s.jsxs("div",{style:sV,children:[s.jsxs("h3",{id:`region-${T}`,style:eV,children:[T," ",w&&P?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:Us.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:Tw,onClick:()=>{c?c(T):y.filter(M=>!i.includes(M)).forEach(o)},children:"Select all"})})]}),s.jsxs("div",{style:nV,children:[y.map(j=>{const M=i.includes(j);return s.jsx("button",{type:"button",onClick:()=>o(j),"aria-pressed":M,title:j,style:{...rV,...M?iV:null},children:j},j)}),y.length===0&&s.jsx("div",{style:{color:Us.text2,fontSize:13,padding:"4px 2px"},children:w&&P?"Loading":"No servers found"})]})]},T)})})]})}):null}function K$(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(Q$)),e}function Q$(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const X$={position:"fixed",inset:0,background:Us.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},c3={width:"min(900px, 100%)",background:Us.tile,border:`1px solid ${Us.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Us.text},Y$={...c3,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},J$={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},Z$={fontSize:18,margin:0},eV={fontSize:14,margin:0,color:Us.text2},tV={width:"100%",background:Us.input,color:Us.text,border:`1px solid ${Us.line}`,borderRadius:12,padding:"10px 12px"},sV={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},nV={display:"flex",flexWrap:"wrap",gap:8},rV={background:Us.chip,border:`1px solid ${Us.line}`,padding:"6px 10px",borderRadius:999,color:Us.text},iV={outline:`2px solid ${Us.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},aV={background:"#25456B",color:Us.text,border:`1px solid ${Us.accent}`,borderRadius:10,padding:"8px 12px"},Tw={background:"transparent",color:Us.text,border:`1px solid ${Us.line}`,borderRadius:10,padding:"8px 12px"},oV=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=oV,document.head.appendChild(e)}}const rn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function lV({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:o,sortBy:c,setSortBy:d,quickFav:u,setQuickFav:m,quickActive:p,setQuickActive:x}=Hu(),v=E.useRef(null);if(E.useEffect(()=>{if(!t)return;const S=P=>{P.key==="Escape"&&e()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),E.useEffect(()=>{if(t&&v.current){const S=v.current.querySelector("#sheet-search");S==null||S.focus()}},[t]),!t)return null;const w=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:cV,onClick:S=>{S.target===S.currentTarget&&e()},children:s.jsxs("div",{ref:v,style:dV,children:[s.jsxs("div",{style:uV,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:rn.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:mV,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:S=>r(S.target.value),"aria-label":"Search",autoComplete:"off",style:d3})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:rn.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:w.map(S=>s.jsx("button",{type:"button","aria-pressed":i===S.value,onClick:()=>o(S.value),style:{...Cx,...i===S.value?Tx:null},children:S.label},S.label))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:rn.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:S=>d(S.target.value),"aria-label":"Sort",autoComplete:"off",style:hV,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>m(S=>!S),"aria-pressed":u,style:{...Cx,...u?Tx:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>x(S=>!S),"aria-pressed":p,style:{...Cx,...p?Tx:null},children:" Active"})]})]})})}const cV={position:"fixed",inset:0,background:rn.backdrop,zIndex:60,display:"grid",alignItems:"end"},dV={background:rn.tile,borderTop:`1px solid ${rn.line}`,borderLeft:`1px solid ${rn.line}`,borderRight:`1px solid ${rn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:rn.text,maxHeight:"80vh",overflow:"auto"},uV={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},d3={width:"100%",background:rn.input,color:rn.text,border:`1px solid ${rn.line}`,borderRadius:12,padding:"10px 12px"},hV={...d3,appearance:"none"},Cx={background:"#14273E",border:`1px solid ${rn.line}`,padding:"6px 10px",borderRadius:999,color:rn.text},Tx={outline:`2px solid ${rn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},mV={background:"#25456B",color:rn.text,border:`1px solid ${rn.accent}`,borderRadius:10,padding:"8px 12px"},pV=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=pV,document.head.appendChild(e)}}function fV(){var i;const t=Hu(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(o=>{var c,d,u,m,p,x,v;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=o.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=o.server)!=null?d:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(u=o.class)!=null?u:""}),"  Lv ",(m=o.level)!=null?m:"","  Scrap ",(p=o.scrapbook)!=null?p:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(Ax,{children:o.active?"Active":"Idle"}),o.favorite&&s.jsx(Ax,{children:" Fav"}),s.jsx(Ax,{children:`Scan ${(x=o.lastScanDays)!=null?x:"?"}d`})]})]},(v=o.id)!=null?v:`${o.name}-${o.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(o=>{var c,d,u,m;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[o.favorite&&" ",(c=o.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=o.server)!=null?d:"","  Lv ",(u=o.level)!=null?u:"",")"]})]},(m=o.id)!=null?m:`${o.name}-${o.server}`)})})]})}function Ax({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const u3=E.createContext(null),Aw=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function gV(t,e){return t.timeRange===e.timeRange&&Aw(t.servers,e.servers)&&Aw(t.classes,e.classes)}function xV(t,e){return t.field===e.field&&t.dir===e.dir}function vV({children:t}){const[e,n]=E.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=E.useState({field:"Level",dir:"desc"}),[o,c]=E.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=E.useCallback(x=>{n(v=>{const w=typeof x=="function"?x(v):{...v,...x};return gV(v,w)?v:w})},[]),u=E.useCallback(x=>{i(v=>{const w=typeof x=="function"?x(v):x;return xV(v,w)?v:w})},[]),m=E.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);E.useEffect(()=>{let x=!1;return x||c(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{x=!0}},[m]);const p=E.useMemo(()=>({state:o,filters:e,sort:r,setFilters:d,setSort:u}),[o,e,r,d,u]);return s.jsx(u3.Provider,{value:p,children:t})}function yV(){const t=E.useContext(u3);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const Ew=(()=>{const t={EU:[],US:[],INT:[],Fusion:[]},e=(n,r)=>{t[n].includes(r)||t[n].push(r)};return a3.forEach(n=>{var o;const r=(o=n.id)!=null?o:"",i=r.toUpperCase();i.startsWith("EU")?e("EU",r):i.startsWith("US")||i.startsWith("NA")||i.startsWith("AM")?e("US",r):i.startsWith("F")?e("Fusion",r):e("INT",r)}),Object.keys(t).forEach(n=>{t[n].sort((r,i)=>r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}))}),t})();function bV(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function _V(){const t=Hu(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:o,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:u,servers:m,setServers:p,classes:x,range:v,sortBy:w}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(gt,{mode:"card",title:"Top Lists",actions:s.jsx(jV,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(W$,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(fV,{}),r==="table"&&s.jsx(vV,{children:s.jsx(wV,{servers:m!=null?m:[],classes:x!=null?x:[],range:v!=null?v:"all",sortKey:w!=null?w:"level"})})]}),s.jsx(q$,{mode:"modal",open:d,onClose:()=>u(!1),serversByRegion:Ew,selected:m,onToggle:S=>p(P=>P.includes(S)?P.filter(R=>R!==S):[...P,S]),onSelectAllInRegion:S=>p(Ew[S]),onClearAll:()=>p([])}),s.jsx(lV,{open:e==="sheet"&&o,onClose:()=>c(!1)})]})}function wV({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:o,setSort:c}=yV(),{loading:d,error:u,data:m,lastUpdated:p}=i;E.useEffect(()=>{const v=n==="all"?"all":n===60?"30d":`${n}d`;o({servers:t,classes:e,timeRange:v})},[t,e,n,o]),E.useEffect(()=>{const v=bV(r);c(v)},[r,c]);const x=v=>v==null?"":new Intl.NumberFormat("en").format(v);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[d?"Loading":u?"Error":"Ready","  ",m.length," rows"]}),s.jsx("div",{children:p?`Updated: ${new Date(p*1e3).toLocaleString()}`:null})]}),u&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:u}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[m.map((v,w)=>{var S,P,R;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(S=v.Guild)!=null?S:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(P=v.Ratio)!=null?P:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(R=v["Last Scan"])!=null?R:""}),s.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${w}`)}),d&&m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!u&&m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function jV(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:o}=Hu();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(Iw,{to:"/toplists/players",label:"Players"}),s.jsx(Iw,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function Iw({to:t,label:e}){return s.jsx(us,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const SV=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function NV(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),SV.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function kV(t="players"){const e=Rr(),{search:n,pathname:r}=Kn();return[new URLSearchParams(n).get("tab")||t,d=>{const u=new URLSearchParams(n);u.set("tab",d),e(`${r}?${u.toString()}`,{replace:!1})}]}function CV(){const[t]=kV("players");return s.jsx(L$,{children:t==="players"?s.jsx(_V,{}):s.jsx(NV,{})})}function TV(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function AV(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function EV(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const Sm={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},IV={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},zn=(t,e)=>Math.min(Math.max(Math.round(t),0),e),RV=t=>{var n,r,i,o;const e={...Sm,...t||{}};return{...e,class:zn(e.class,15),race:zn(e.race,8),mouth:zn(e.mouth,30),hair:zn(e.hair,40),hairColor:zn(e.hairColor,12),horn:zn(e.horn,10),hornColor:zn(e.hornColor,10),brows:zn(e.brows,10),eyes:zn(e.eyes,20),beard:zn(e.beard,15),nose:zn(e.nose,10),ears:zn(e.ears,10),extra:zn(e.extra,20),special:zn(e.special,200),showBorder:(n=e.showBorder)!=null?n:!0,background:(r=e.background)!=null?r:Sm.background,frame:(i=e.frame)!=null?i:Sm.frame,mirrorHorizontal:(o=e.mirrorHorizontal)!=null?o:Sm.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function h3({config:t,label:e}){const n=E.useRef(null),r=E.useRef(null),[i,o]=E.useState("idle"),c=E.useMemo(()=>({...RV(t),background:"",frame:"",showBorder:!1}),[JSON.stringify(t||{})]);E.useEffect(()=>{let u=!1;o("loading");try{const m=n.current;if(!m){o("error");return}const p=new Yj(m,c);r.current=p,o("ready")}catch(m){console.error("[PortraitMaker] failed to initialize",m),u||o("error")}return()=>{var m,p;u=!0;try{(p=(m=r.current)==null?void 0:m.dispose)==null||p.call(m)}catch(x){}r.current=null}},[c]);const d=i!=="ready"?IV[i]:null;return s.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[s.jsx("div",{className:"avatar-portrait__canvas-shell",children:s.jsx("canvas",{ref:n,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`})}),d&&s.jsx("span",{className:"avatar-portrait__status",children:d})]})}function PV({label:t,size:e=40}){const n=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return s.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function LV({className:t,label:e,size:n=40}){const r=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),o=Rs.find(d=>r(d.label)===i)||Rs.find(d=>r(d.label).startsWith(i)||i.startsWith(r(d.label))),c=o?Pr(o.iconUrl,n*2):null;return c?s.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:s.jsx("img",{src:c,alt:"",draggable:!1})}):s.jsx(PV,{label:e,size:n})}function DV({data:t,loading:e,actionFeedback:n,onAction:r}){return s.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[s.jsx(h3,{config:t.portrait,label:t.playerName}),s.jsxs("div",{className:"player-profile__hero-body",children:[s.jsxs("div",{className:"player-profile__identity",children:[s.jsx(LV,{className:t.className,label:t.playerName,size:48}),s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__player-name",children:t.playerName}),s.jsxs("div",{className:"player-profile__player-meta",children:[s.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&s.jsxs("span",{children:[" ",t.guild]}),t.server&&s.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&s.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&s.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),s.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>s.jsxs("div",{className:"player-profile__hero-metric",children:[s.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),s.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&s.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&s.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>s.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&s.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),s.jsx("span",{children:i.label}),s.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&s.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>s.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),n&&s.jsx("p",{className:"player-profile__hero-feedback",children:n})]})]})]})}function MV({data:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>s.jsxs("article",{className:"player-profile__card",children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&s.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),s.jsxs("div",{className:"player-profile__section",children:[s.jsxs("header",{className:"player-profile__section-head",children:[s.jsx("h3",{children:"Attribute"}),s.jsx("span",{children:"Basis vs. Gesamt"})]}),s.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>s.jsxs("div",{className:"player-profile__attr-card",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__attr-label",children:e.label}),s.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&s.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),s.jsxs("div",{className:"player-profile__split",children:[s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Resistenzen"})}),s.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]}),s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"konomie"})}),s.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function FV({items:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>s.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[s.jsxs("div",{className:"player-profile__progress-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),s.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),s.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:s.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&s.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function BV({series:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var n;return s.jsxs("article",{className:"player-profile__trend-card",children:[s.jsxs("div",{className:"player-profile__trend-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&s.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),s.jsxs("div",{className:"player-profile__card-value",children:[(n=e.points[e.points.length-1])==null?void 0:n.toLocaleString("de-DE"),e.unit||""]})]}),s.jsx(OV,{points:e.points})]},e.label)})})}function $V({rows:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Serververgleich"})}),s.jsx("div",{className:"player-profile__comparison-wrapper",children:s.jsxs("table",{className:"player-profile__comparison",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"Spieler"}),s.jsx("th",{children:"Cluster"}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.label}),s.jsx("td",{children:e.playerValue}),s.jsx("td",{children:e.benchmark}),s.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function VV({entries:t}){return s.jsx("div",{className:"player-profile__tab-panel",children:s.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>s.jsxs("li",{children:[s.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),s.jsxs("div",{className:"player-profile__timeline-card",children:[s.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),s.jsx("div",{className:"player-profile__timeline-title",children:e.title}),s.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function OV({points:t}){if(!t.length)return s.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),n=Math.max(...t),r=Math.max(1,n-e||1),o=t.map((c,d)=>{const u=t.length>1?d/(t.length-1)*100:0,m=100-(c-e)/r*100;return`${d===0?"M":"L"}${u},${m}`}).join(" ");return s.jsx("div",{className:"player-profile__trend-chart",children:s.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:s.jsx("path",{d:o})})})}const UV=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Ex(){const t=Dp(),e=t.id||t.pid||t.playerId||t.player||"",n=Rr(),[r,i]=E.useState(!0),[o,c]=E.useState(null),[d,u]=E.useState(null),[m,p]=E.useState("Statistiken"),[x,v]=E.useState(null),w=E.useRef(null);E.useEffect(()=>{let T=!1;async function y(){var j,M,C,_,A,L,I,V,$,W,z,q,Q,G,te;i(!0),c(null);try{const re=(e||"").trim();if(!re)throw new Error("Kein Spieler gewhlt.");const H=ms(It,`players/${re}/latest/latest`),se=await dr(H);if(!se.exists())throw new Error("Spieler nicht gefunden.");const de=se.data(),ee=typeof de.values=="object"&&de.values?de.values:{},fe=(M=Wd((j=de.level)!=null?j:ee==null?void 0:ee.Level))!=null?M:null,Te=((_=(C=de.className)!=null?C:ee==null?void 0:ee.Class)!=null?_:null)||null,xe=((L=(A=de.guildName)!=null?A:ee==null?void 0:ee.Guild)!=null?L:null)||null,Ce=(V=(I=de.name)!=null?I:ee==null?void 0:ee.Name)!=null?V:re,Ne=(W=($=de.server)!=null?$:ee==null?void 0:ee.Server)!=null?W:null,ue=(q=Wd((z=de.totalStats)!=null?z:ee==null?void 0:ee["Total Stats"]))!=null?q:null,De=(te=Wd((G=(Q=ee==null?void 0:ee.Album)!=null?Q:ee==null?void 0:ee["Album %"])!=null?G:ee==null?void 0:ee.AlbumPct))!=null?te:null,Ee=zV(Wd(de.timestamp)),tt=typeof de.portrait=="object"?de.portrait:typeof de.portraitOptions=="object"?de.portraitOptions:typeof(ee==null?void 0:ee.portraitOptions)=="object"?ee.portraitOptions:void 0;T||u({id:re,name:Ce,className:Te,level:fe,guild:xe,server:Ne,scrapbookPct:De,totalStats:ue,lastScanDays:Ee,values:ee,portraitConfig:tt})}catch(re){T||(u(null),c((re==null?void 0:re.message)||"Unbekannter Fehler beim Laden."))}finally{T||i(!1)}}return y(),()=>{T=!0}},[e]),E.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const S=E.useMemo(()=>d?qV(d):null,[d]),P=T=>{v(T),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>v(null),3500)},R=async T=>{if(d){if(T==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const y=`${window.location.origin}/players/profile/${d.id}`;try{await navigator.clipboard.writeText(y),P("Profil-Link wurde kopiert.")}catch(j){P("Konnte Link nicht kopieren.")}}return}if(T==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:d.name,text:`Shakes & Fidget Charakter ${d.name}`,url:window.location.href}),P("Profil geteilt.")}catch(y){P("Teilen abgebrochen.")}return}if(T==="guild"&&d.guild){n(`/guilds?search=${encodeURIComponent(d.guild)}`);return}if(T==="rescan"){P("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},B=()=>{if(!S)return null;switch(m){case"Statistiken":return s.jsx(MV,{data:S.stats});case"Charts":return s.jsx(BV,{series:S.charts});case"Fortschritt":return s.jsx(FV,{items:S.progress});case"Vergleich":return s.jsx($V,{rows:S.comparison});case"Historie":return s.jsx(VV,{entries:S.history});default:return null}},D=()=>s.jsxs("div",{className:"player-profile__loading",children:[s.jsx("p",{children:o!=null?o:"Spieler nicht gefunden."}),s.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return s.jsx(gt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsxs("div",{className:"player-profile",children:[r&&!d&&s.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!d||!S)&&D(),S&&s.jsxs(s.Fragment,{children:[s.jsx(DV,{data:S.hero,loading:r,actionFeedback:x,onAction:R}),s.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:UV.map(T=>{const y=m===T;return s.jsx("button",{type:"button",role:"tab","aria-selected":y,className:`player-profile__tab-button ${y?"player-profile__tab-button--active":""}`,onClick:()=>p(T),children:T},T)})}),B()]})]})})}const Wd=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),n=Number(e);return Number.isFinite(n)?n:null},zV=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},Ix=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),GV=t=>{const e=new Map;return Object.entries(t||{}).forEach(([n,r])=>e.set(Ix(n),r)),{number(n,r=null){for(const i of n){const o=Wd(e.get(Ix(i)));if(o!=null)return o}return r},text(n,r=null){for(const i of n){const o=e.get(Ix(i));if(o!=null&&String(o).trim())return String(o).trim()}return r}}},m3=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Is=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),Jm=t=>t==null?"":`${Math.round(t)}%`,Rw=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,HV={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},WV=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=m3(t.id||t.name),n=HV[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:n,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},qV=t=>{var W,z,q,Q,G,te,re,H,se,de,ee;const e=t.values||{},n=GV(e),r=m3(t.id),i=(W=t.level)!=null?W:n.number(["level"]),o=(z=t.scrapbookPct)!=null?z:n.number(["album","scrapbook","albumpct"]),c=n.number(["honor","ehre"]),d=(q=t.totalStats)!=null?q:n.number(["totalstats","stats"]),p=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(fe=>{var Te;return(Te=n.number(fe,0))!=null?Te:0}).reduce((fe,Te)=>fe+(Te!=null?Te:0),0),x=o!=null?o:Math.round(r()*80+10),v=(Q=n.number(["fortresslevel","fortress"]))!=null?Q:Math.round(r()*20)+30,w=(G=n.number(["underworld","underworldlevel"]))!=null?G:Math.round(r()*10)+20,S=(te=n.number(["tower","towerfloor"]))!=null?te:Math.round(r()*90)+10,P=(re=n.number(["pets","petprogress"]))!=null?re:Math.round(r()*50)+25,R=(i!=null?i:0)*1200+p+Math.round((o!=null?o:0)*3200),B=(H=n.text(["mount","reittier"]))!=null?H:"Greifendrachen (280%)",D=(se=n.text(["guildrole","role"]))!=null?se:"Member",T=n.number(["hofrank","halloffamerank","hofposition"]),y=[{label:"Level",value:i?`Lvl ${Is(i)}`:""},{label:"Power Score",value:Is(R)},{label:"Scrapbook",value:Jm(x)},{label:"Total Stats",value:Is(d)}],j=[{label:"Mount",value:B,tone:"neutral"},{label:"Honor",value:Is(c),tone:"success"},{label:"Gildenrolle",value:D,tone:"warning"},{label:"HoF",value:T?`#${Is(T)}`:"",tone:"neutral"}],M={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${Is(i)}`:void 0,lastScanLabel:(de=Rw(t.lastScanDays))!=null?de:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:y,badges:j,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:WV(t)},C=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],_={summary:[{label:"Power Score",value:Is(R),hint:"Level * SumBase"},{label:"Honor",value:Is(c)},{label:"HoF Platz",value:T?`#${Is(T)}`:""},{label:"Letzter Scan",value:(ee=Rw(t.lastScanDays))!=null?ee:""}],attributes:C.map(fe=>({label:fe.label,baseLabel:Is(n.number(fe.base)),totalLabel:n.number(fe.total)!=null?`Gesamt ${Is(n.number(fe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Is(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${Is(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:B},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},A=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(x!=null?x:0)/100),targetLabel:`${Jm(x)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:x!=null&&x>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,S/100),targetLabel:`Ebene ${Math.round(S)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,w/30),targetLabel:`Lvl ${Math.round(w)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,P/100),targetLabel:`${Math.round(P)} / 100`,meta:"Habitate offen"}],L=(fe,Te=.12)=>{const xe=fe!=null?fe:Math.round(r()*100),Ce=[];let Ne=xe*.85;for(let ue=0;ue<8;ue++)Ne+=Ne*(r()*Te-Te/2),Ce.push(Math.max(0,Math.round(Ne)));return Ce[Ce.length-1]=xe,Ce},I=[{label:"Level Verlauf",points:L(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:L(d!=null?d:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:L(c!=null?c:0,.25),unit:"",subLabel:"Hall of Fame"}],V=[{label:"Level",playerValue:i?`Lvl ${Is(i)}`:"",benchmark:i?`Lvl ${Is(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:Is(R),benchmark:Is(Math.round(R*.9)),diffLabel:`+${Is(Math.round(R*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:Jm(x),benchmark:`${Math.min(100,Math.round((x!=null?x:60)-8))}%`,diffLabel:x!=null?`+${Math.round(x-60)}%`:"",trend:x!=null&&x>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(w)}`,benchmark:`Lvl ${Math.round(w-2)}`,diffLabel:"+2",trend:"neutral"}],$=KV(t,n,r);return{hero:M,stats:_,progress:A,charts:I,comparison:V,history:$}},KV=(t,e,n)=>{var c,d;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const o=e.text(["lastdungeon","lastfight"]);return o&&r.push({dateLabel:Nm(Math.round(n()*15)+5),title:"Dungeon Clear",description:o,tag:"Dungeon"}),r.push({dateLabel:Nm(2),title:"Level-Up",description:`Erreichte Level ${Is(t.level)}`,tag:"Level"}),r.push({dateLabel:Nm(10),title:"Scrapbook Meilenstein",description:`${Jm((c=t.scrapbookPct)!=null?c:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:Nm(18),title:"Festung",description:`Fortress Level ${Math.round((d=e.number(["fortress"],Math.round(n()*20+15)))!=null?d:0)}`,tag:"Festung"}),r},Nm=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function Nc(t,e=300){const[n,r]=J.useState(t);return J.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function kc(t){const e=J.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[n,r]=J.useState(()=>e());return J.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),o=c=>r(c.matches);return r(i.matches),i.addEventListener("change",o),()=>i.removeEventListener("change",o)},[t]),n}const QV='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function Cc(t,e){J.useEffect(()=>{var c;if(!e)return;const n=t.current;if(!n)return;const r=()=>n.querySelectorAll(QV);(c=r()[0])==null||c.focus();const o=d=>{if(d.key!=="Tab")return;const u=r();if(u.length===0)return;const m=u[0],p=u[u.length-1];d.shiftKey?document.activeElement===m&&(d.preventDefault(),p.focus()):document.activeElement===p&&(d.preventDefault(),m.focus())};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[t,e])}const XV="_page_1jzf5_1",YV="_header_1jzf5_13",JV="_headerStack_1jzf5_25",ZV="_kicker_1jzf5_37",eO="_title_1jzf5_53",tO="_subtitle_1jzf5_65",sO="_headerActions_1jzf5_79",nO="_secondaryAction_1jzf5_89",rO="_infoStrip_1jzf5_131",iO="_infoCard_1jzf5_143",aO="_infoLabel_1jzf5_163",oO="_inlineFilters_1jzf5_177",lO="_filterField_1jzf5_197",cO="_select_1jzf5_227",dO="_searchInput_1jzf5_229",uO="_layout_1jzf5_249",hO="_selectionColumn_1jzf5_261",mO="_selectionCard_1jzf5_273",pO="_slotHeader_1jzf5_293",fO="_slotLabel_1jzf5_307",gO="_slotStatus_1jzf5_323",xO="_clearButton_1jzf5_335",vO="_slotBody_1jzf5_355",yO="_resultList_1jzf5_367",bO="_emptyResult_1jzf5_385",_O="_resultItem_1jzf5_397",wO="_resultName_1jzf5_421",jO="_resultMeta_1jzf5_433",SO="_selectButton_1jzf5_445",NO="_selectedCard_1jzf5_465",kO="_selectedName_1jzf5_479",CO="_selectedMeta_1jzf5_489",TO="_selectedTagline_1jzf5_491",AO="_comparisonColumn_1jzf5_503",EO="_comparisonCard_1jzf5_515",IO="_comparisonHeader_1jzf5_535",RO="_sectionTitle_1jzf5_551",PO="_diffBadge_1jzf5_561",LO="_metricGrid_1jzf5_579",DO="_metricCard_1jzf5_591",MO="_metricLabel_1jzf5_611",FO="_metricValues_1jzf5_627",BO="_metricDivider_1jzf5_643",$O="_metricDelta_1jzf5_653",VO="_freshnessRow_1jzf5_665",OO="_freshnessItem_1jzf5_677",UO="_freshnessBadge_1jzf5_685",zO="_freshnessPopover_1jzf5_733",GO="_popoverTitle_1jzf5_757",HO="_classCard_1jzf5_807",WO="_classGrid_1jzf5_827",qO="_classColumn_1jzf5_837",KO="_classBar_1jzf5_857",QO="_classSlice_1jzf5_873",XO="_classLegend_1jzf5_907",YO="_emptyState_1jzf5_931",JO="_supportPanels_1jzf5_947",ZO="_checklistCard_1jzf5_959",eU="_infoCardExtended_1jzf5_961",tU="_checklist_1jzf5_959",sU="_infoNote_1jzf5_1033",nU="_sheetOverlay_1jzf5_1045",rU="_sheetOpen_1jzf5_1073",iU="_sheet_1jzf5_1045",aU="_sheetHeader_1jzf5_1105",oU="_sheetBody_1jzf5_1119",ie={page:XV,header:YV,headerStack:JV,kicker:ZV,title:eO,subtitle:tO,headerActions:sO,secondaryAction:nO,infoStrip:rO,infoCard:iO,infoLabel:aO,inlineFilters:oO,filterField:lO,select:cO,searchInput:dO,layout:uO,selectionColumn:hO,selectionCard:mO,slotHeader:pO,slotLabel:fO,slotStatus:gO,clearButton:xO,slotBody:vO,resultList:yO,emptyResult:bO,resultItem:_O,resultName:wO,resultMeta:jO,selectButton:SO,selectedCard:NO,selectedName:kO,selectedMeta:CO,selectedTagline:TO,comparisonColumn:AO,comparisonCard:EO,comparisonHeader:IO,sectionTitle:RO,diffBadge:PO,metricGrid:LO,metricCard:DO,metricLabel:MO,metricValues:FO,metricDivider:BO,metricDelta:$O,freshnessRow:VO,freshnessItem:OO,freshnessBadge:UO,freshnessPopover:zO,popoverTitle:GO,classCard:HO,classGrid:WO,classColumn:qO,classBar:KO,classSlice:QO,classLegend:XO,emptyState:YO,supportPanels:JO,checklistCard:ZO,infoCardExtended:eU,checklist:tU,infoNote:sU,sheetOverlay:nU,sheetOpen:rU,sheet:iU,sheetHeader:aU,sheetBody:oU},p3=["Ari","Borin","Celeste","Doran","Lena","Nix"],lU={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},R0={raid:"Raid",event:"Event",task:"Task"},P0={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},Pw={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},Lw={urgent:4,high:3,medium:2,low:1},cU={"7d":7,"30d":30,"90d":90,all:null},Rx={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},dU=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:To(5,20),createdAt:Sn(2,14),updatedAt:Sn(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:Cm(3),nextUpdateAt:km(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:To(2,12),createdAt:Sn(4,9),updatedAt:Sn(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:Cm(8),nextUpdateAt:km(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:To(7,17),createdAt:Sn(1,10),updatedAt:Sn(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:Cm(22),nextUpdateAt:km(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:Sn(1,19),createdAt:Sn(9,10),updatedAt:Sn(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:Sn(1,19),nextUpdateAt:To(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:To(12,18),createdAt:Sn(6,15),updatedAt:Sn(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:Cm(1),nextUpdateAt:km(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:To(18,13),createdAt:Sn(12,18),updatedAt:Sn(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:Sn(2,16),nextUpdateAt:To(4,9)}];function To(t,e=12){const n=new Date;return n.setDate(n.getDate()+t),n.setHours(e,0,0,0),n.toISOString()}function km(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function Sn(t,e=12){const n=new Date;return n.setDate(n.getDate()-t),n.setHours(e,0,0,0),n.toISOString()}function Cm(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function Dw(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function uU(t,e,n){const r=Date.now(),i=cU[e.range];return t.filter(o=>{const c=n===""||o.title.toLowerCase().includes(n.toLowerCase())||o.description.toLowerCase().includes(n.toLowerCase()),d=e.type==="all"||o.type===e.type,u=e.status==="all"||o.status===e.status,m=e.owner.length===0||e.owner.includes(o.owner)||o.assignees.some(x=>e.owner.includes(x));let p=!0;if(i!==null){const x=new Date(o.dueAt).getTime(),v=r+i*24*60*60*1e3;p=x<=v}return c&&d&&u&&m&&p})}function hU(t,e,n){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"dueAt":c=new Date(i.dueAt).getTime()-new Date(o.dueAt).getTime();break;case"updatedAt":c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break;case"priority":c=Lw[i.priority]-Lw[o.priority];break;case"title":c=i.title.localeCompare(o.title);break;default:c=0}return n==="asc"?c:-c}),r}function mU(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function ki(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Wu(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Su(t,e){const n=new Date(t).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function pU(t){return t.length===0?null:t.reduce((e,n)=>e?Pw[n.freshness]>Pw[e.freshness]?n:e:n,null)}const Vv=["EU-01","EU-02","US-01","US-02","ASIA-01"],su=new Intl.NumberFormat("de-DE");function fU(){const t=kc("(min-width: 768px)"),[e,n]=J.useState("all"),[r,i]=J.useState(null),[o,c]=J.useState(null),[d,u]=J.useState(null),[m,p]=J.useState(null),x=[r,o].filter(Boolean).length,v=J.useMemo(()=>{const I=[d,m].filter(Boolean);if(!I.length)return 0;const V=I.reduce(($,W)=>{var z;return $+((z=W.level)!=null?z:0)},0);return Math.round(V/I.length)},[d,m]),[w,S]=J.useState(null),[P,R]=J.useState(!1),B=J.useRef(null);Cc(B,P&&!t),J.useEffect(()=>{t&&R(!1)},[t]),J.useEffect(()=>{if(!w)return;const I=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},V=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",V)}},[w]);const D=J.useMemo(()=>d?Su(d.nextUpdateAt,Date.now()):"",[d]),T=J.useMemo(()=>m?Su(m.nextUpdateAt,Date.now()):"",[m]),y=()=>R(!0),j=()=>R(!1),M=I=>{n(I)},C=(I,V)=>{I==="playerA"?(i(V.id),u(V)):(c(V.id),p(V))},_=I=>{I==="playerA"?(i(null),u(null)):(c(null),p(null))},A=I=>{S(V=>V===I?null:I)},L=d&&m;return s.jsxs(gt,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[s.jsxs("div",{className:ie.page,children:[s.jsxs("header",{className:ie.header,children:[s.jsxs("div",{className:ie.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Players"}),s.jsx("h1",{className:ie.title,children:"Spieler vergleichen"}),s.jsx("p",{className:ie.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),s.jsx("div",{className:ie.headerActions,children:!t&&s.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),s.jsxs("div",{className:ie.infoStrip,children:[s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Slots gefuellt"}),s.jsxs("strong",{children:[su.format(x)," Spieler"]})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Durchschnittslevel"}),s.jsx("strong",{children:su.format(v)})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ie.inlineFilters,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Vv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:ie.layout,children:[s.jsxs("section",{className:ie.selectionColumn,children:[s.jsx(Mw,{title:"Spieler A",slot:"playerA",selectedPlayer:d,excludeId:o,onSelect:C,onClear:_,serverFilter:e,onServerChange:M}),s.jsx(Mw,{title:"Spieler B",slot:"playerB",selectedPlayer:m,excludeId:r,onSelect:C,onClear:_,serverFilter:e,onServerChange:M})]}),s.jsxs("section",{className:ie.comparisonColumn,children:[s.jsxs("div",{className:ie.comparisonCard,children:[s.jsxs("div",{className:ie.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Vergleich"}),s.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),L&&s.jsxs("span",{className:ie.diffBadge,children:["Delta Level: ",su.format(d.level-m.level)]})]}),L?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ie.metricGrid,children:[s.jsx(Fw,{label:"Level",aValue:d.level,bValue:m.level}),s.jsx(Fw,{label:"Scrapbook (%)",aValue:d.scrapbookPct,bValue:m.scrapbookPct,isDecimal:!0}),s.jsx(gU,{playerA:d,playerB:m,countdownA:D,countdownB:T,activePopover:w,onToggle:A})]}),s.jsx(xU,{playerA:d,playerB:m})]}):s.jsx("div",{className:ie.emptyState,children:s.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ie.supportPanels,children:[s.jsx(vU,{}),s.jsx(yU,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ie.sheetOverlay} ${P?ie.sheetOpen:""}`,children:s.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:B,children:[s.jsxs("header",{className:ie.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ie.clearButton,onClick:j,children:"Schliessen"})]}),s.jsx("div",{className:ie.sheetBody,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Vv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function Mw({title:t,slot:e,selectedPlayer:n,excludeId:r,onSelect:i,onClear:o,serverFilter:c,onServerChange:d}){const[u,m]=J.useState(""),p=Nc(u,300);J.useEffect(()=>{m("")},[n,c]);const{results:x,loading:v}=bU(p,c,r);return s.jsxs("article",{className:ie.selectionCard,children:[s.jsxs("div",{className:ie.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.slotLabel,children:t}),s.jsx("p",{className:ie.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>o(e),children:"Reset"})]}),s.jsxs("div",{className:ie.slotBody,children:[s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:c,onChange:w=>d(w.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Vv.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ie.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:w=>m(w.target.value)})]}),s.jsxs("div",{className:ie.resultList,role:"list",children:[v&&s.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&x.length===0&&s.jsx("div",{className:ie.emptyResult,children:"Kein Spieler gefunden."}),!v&&x.map(w=>s.jsxs("div",{className:ie.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.resultName,children:w.name}),s.jsxs("p",{className:ie.resultMeta,children:[w.server," - Level ",w.level," - ",w.className]})]}),s.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,w),children:"Waehlen"})]},w.id))]}),n&&s.jsxs("div",{className:ie.selectedCard,children:[s.jsx("p",{className:ie.selectedName,children:n.name}),s.jsxs("p",{className:ie.selectedMeta,children:[n.server," - Level ",n.level," - ",n.className," -"," ",n.guildName||"ohne Gilde"]}),s.jsx("p",{className:ie.selectedTagline,children:n.tagline})]})]})]})}function Fw({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):su.format(d),o=e-n;let c="gleich";if(o!==0){const d=r?Math.abs(o).toFixed(1).replace(".",","):su.format(Math.abs(o));c=o>0?`+${d}`:`-${d}`}return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:t}),s.jsxs("div",{className:ie.metricValues,children:[s.jsx("span",{"aria-label":"Spieler A",children:i(e)}),s.jsx("span",{className:ie.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Spieler B",children:i(n)})]}),s.jsx("p",{className:ie.metricDelta,children:c})]})}function gU({playerA:t,playerB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:o}){return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Freshness"}),s.jsx("div",{className:ie.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?n:r,u=`fresh-${c.id}`,m=i===u;return s.jsxs("div",{className:ie.freshnessItem,children:[s.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":m,onClick:()=>o(u),children:[s.jsx("span",{children:c.freshness.toUpperCase()}),s.jsx("small",{children:Wu(c.lastScanAt)})]}),m&&s.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ie.popoverTitle,children:c.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:P0[c.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:ki(c.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[ki(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function xU({playerA:t,playerB:e}){const n=J.useMemo(()=>Array.from(new Set([...t.stats,...e.stats].map(i=>i.label))),[t.stats,e.stats]),r=i=>{const o=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return s.jsxs("div",{className:ie.classColumn,children:[s.jsx("h3",{children:i.name}),s.jsx("div",{className:ie.classBar,"aria-label":`Statverteilung ${i.name}`,children:o.map(c=>s.jsxs("span",{style:{width:`${c.percent}%`},className:ie.classSlice,children:[s.jsx("small",{children:c.label}),s.jsxs("strong",{children:[c.percent,"%"]})]},`${i.id}-${c.label}`))})]})};return s.jsxs("div",{className:ie.classCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Stat-Verteilung"}),s.jsx("div",{className:ie.classGrid,children:[t,e].map(r)}),n.length>0&&s.jsx("ul",{className:ie.classLegend,children:n.map(i=>s.jsx("li",{children:i},i))})]})}function vU(){const t=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return s.jsxs("section",{className:ie.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ie.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function yU(){return s.jsxs("section",{className:ie.infoCardExtended,children:[s.jsx("h3",{children:"Matchup-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ie.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),s.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function bU(t,e,n){const[r,i]=J.useState([]),[o,c]=J.useState(!1);return J.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let u=!1;async function m(){c(!0);try{const p=d.toLowerCase(),x=Yp(It,"latest"),v=await nn(An(x,Oa("nameFold"),Oo(p),Uo(p+""),En(15))),w=await nn(An(x,Ho("nameNgrams","array-contains",p),En(15))),S=new Set,P=[],R=B=>{var Q,G,te,re,H,se,de,ee,fe,Te,xe,Ce,Ne,ue,De,Ee,tt,ut,ts,zs,Gs,Rn,Hs,Ps,Ls,Pn,xn,vn,ls;const D=B.data(),y=(Q=B.ref.parent)==null?void 0:Q.parent,j=y==null?void 0:y.parent;if((j==null?void 0:j.id)!=="players")return;const C=(te=(G=y==null?void 0:y.id)!=null?G:D.playerIdentifier)!=null?te:B.id;if(!C||S.has(C)||n&&C===n)return;const _=(se=(H=D.name)!=null?H:(re=D.values)==null?void 0:re.Name)!=null?se:"Unbekannter Spieler",A=(fe=(ee=D.server)!=null?ee:(de=D.values)==null?void 0:de.Server)!=null?fe:"Unknown";if(e!=="all"&&A!==e)return;const L=(ue=(Ne=(xe=D.className)!=null?xe:(Te=D.values)==null?void 0:Te.Class)!=null?Ne:(Ce=D.values)==null?void 0:Ce.Class)!=null?ue:"Unbekannte Klasse",I=(tt=(Ee=D.guildName)!=null?Ee:(De=D.values)==null?void 0:De.Guild)!=null?tt:"",V=$a(D.level)||$a((ut=D.values)==null?void 0:ut.Level)||$a((ts=D.values)==null?void 0:ts.Level),$=$a(D.scrapbookPct)||$a((zs=D.values)==null?void 0:zs["Album %"])||$a((Gs=D.values)==null?void 0:Gs.AlbumPct)||$a((Rn=D.values)==null?void 0:Rn["Scrapbook %"]),W=(Ls=(Ps=D.updatedAt)!=null?Ps:(Hs=D.values)==null?void 0:Hs.UpdatedAt)!=null?Ls:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString(),z=(Pn=D.nextUpdateAt)!=null?Pn:wU(12),q=_U((xn=D.values)!=null?xn:D.stats);S.add(C),P.push({id:C,name:_,tagline:(vn=D.tagline)!=null?vn:I?`Mitglied in ${I}`:L,server:A,className:L,guildName:I,level:V||0,scrapbookPct:$,lastScanAt:W,updatedAt:W,nextUpdateAt:z,freshness:(ls=D.freshness)!=null?ls:"unknown",stats:q})};v.forEach(R),w.forEach(R),u||(P.sort((B,D)=>B.name.localeCompare(D.name)),i(P))}catch(p){console.error("[Players Compare] player search failed",p),u||i([])}finally{u||c(!1)}}return m(),()=>{u=!0}},[t,e,n]),{results:r,loading:o}}const Bw={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function _U(t={}){const e=Object.keys(Bw).map(r=>{var o;const i=(o=t==null?void 0:t[r])!=null?o:t==null?void 0:t[r.toLowerCase()];return{label:Bw[r],value:$a(i)}}).filter(r=>r.value>0),n=e.reduce((r,i)=>r+i.value,0);return n?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/n*100))})):[]}function $a(t){const e=Number(t);return Number.isFinite(e)?e:0}function wU(t){const e=new Date;return e.setHours(e.getHours()+t),e.toISOString()}function jU(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx($w,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx($w,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function $w({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function SU(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function NU(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function kU(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const CU={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function TU(t){var n;const e=kU(t);return(n=CU[e])!=null?n:null}function AU(t,e=128){var o,c;const n=TU(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(o=Yo(n))!=null?o:null,i=r&&(c=Pr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function Nu(t,e=128){return AU(t,e).thumb}const al={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},pf=(t,e)=>({...t||{},...e||{}}),Vw=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},EU=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),Ys=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function IU(t){var v,w,S,P,R,B,D,T;const e=Ys(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=Ys(t==null?void 0:t.baseMain),r=Ys(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},o=Ys(i==null?void 0:i.sumBaseTotal);if(o!=null)return o;const c=Ys(i==null?void 0:i.main),d=Ys(i==null?void 0:i.con);if(c!=null&&d!=null)return c+d;const u=(t==null?void 0:t.values)||{},m=(w=(v=Ys(u==null?void 0:u.SumBaseTotal))!=null?v:Ys(u==null?void 0:u.sumBaseTotal))!=null?w:Ys(u==null?void 0:u["Sum Base Total"]);if(m!=null)return m;const p=(R=(P=(S=Ys(u==null?void 0:u.Main))!=null?S:Ys(u==null?void 0:u.main))!=null?P:Ys(u==null?void 0:u.BaseMain))!=null?R:Ys(u==null?void 0:u.baseMain),x=(T=(D=(B=Ys(u==null?void 0:u.Con))!=null?B:Ys(u==null?void 0:u.con))!=null?D:Ys(u==null?void 0:u.ConBase))!=null?T:Ys(u==null?void 0:u.conBase);return p!=null&&x!=null?p+x:null}function Ao(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function RU(t,e=56){if(!t)return;const n=Ao(t),r=Rs.find(i=>Ao(i.label)===n||Ao(i.key)===n)||Rs.find(i=>Ao(i.label).startsWith(n)||n.startsWith(Ao(i.label))||Ao(i.key).startsWith(n)||n.startsWith(Ao(i.key)));return r?Pr(r.iconUrl,e):void 0}function PU({name:t,memberClass:e,online:n,theme:r=al}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=RU(e,56);return s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const LU={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},DU=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(LU[t]||""),children:t});function Ow(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function MU(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function Tm({label:t,value:e,theme:n=al}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function FU({member:t,theme:e,actions:n,extraKPIs:r}){var p,x,v,w,S,P,R,B,D;if(!t)return null;const i=pf(al,e),o=t,c=Ow((x=(p=o.guildJoined)!=null?p:o.joinedAt)!=null?x:null,(v=o.guildJoinedMs)!=null?v:null),d=Ow((w=o.lastActivity)!=null?w:null,(S=o.lastActivityMs)!=null?S:typeof o.lastOnline=="number"?o.lastOnline:null),u=MU(o),m=typeof o.totalStats=="number"?o.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(PU,{name:t.name,memberClass:(B=(R=o.class)!=null?R:(P=o.values)==null?void 0:P.Class)!=null?B:null,online:o.online,theme:i})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),o.role&&s.jsx(DU,{role:o.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[o.class||"",o.server?`  ${o.server}`:"","  Joined ",c,"  Last ",d]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Tm,{label:"Level",value:(D=o.level)!=null?D:"",theme:i}),typeof o.scrapbook=="number"&&s.jsx(Tm,{label:"Scrapbook",value:`${o.scrapbook}%`,theme:i}),s.jsx(Tm,{label:"Sum Base",value:u,theme:i}),s.jsx(Tm,{label:"Total Stats",value:m,theme:i}),r]})]})}function Eo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function BU(t,e=40){if(!t)return;const n=Eo(t);let r=Rs.find(i=>Eo(i.label)===n||Eo(i.key)===n)||Rs.find(i=>Eo(i.label).startsWith(n)||n.startsWith(Eo(i.label))||Eo(i.key).startsWith(n)||n.startsWith(Eo(i.key)));return r?Pr(r.iconUrl,e):void 0}function $U({name:t,memberClass:e,online:n,theme:r=al}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=BU(e,40);return s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const VU=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function OU({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const o=pf(al,i);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:o.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:o.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:o.header}}),t.map((c,d)=>{var u,m,p;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx($U,{name:c.name,memberClass:(p=(m=c.class)!=null?m:(u=c.values)==null?void 0:u.Class)!=null?p:null,online:c.online,theme:o}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:o.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(VU,{role:c.role})}),r(c)]},c.id)})]})]})}function Io(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function UU(t,e=40){if(!t)return;const n=Io(t);let r=Rs.find(i=>Io(i.label)===n||Io(i.key)===n)||Rs.find(i=>Io(i.label).startsWith(n)||n.startsWith(Io(i.label))||Io(i.key).startsWith(n)||n.startsWith(Io(i.key)));return r?Pr(r.iconUrl,e):void 0}function zU({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const o=pf(al,i);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var v,w,S,P,R,B,D,T,y;const d=c,u=c.name.slice(0,2).toUpperCase(),m=UU((S=(w=d.class)!=null?w:(v=d.values)==null?void 0:v.Class)!=null?S:null,40),p=typeof d.level=="number"?d.level:typeof((P=d.values)==null?void 0:P.Level)=="number"?d.values.Level:"",x=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((R=d.values)==null?void 0:R.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${o.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m?s.jsx("img",{src:m,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:o.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:j=>{const M=j.currentTarget.parentElement;M&&(M.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${o.tile};color:${o.title};border-color:${o.border}">${u}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:o.tile,color:o.title,borderColor:o.border},children:u}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:o.sub},children:[(T=(D=d.class)!=null?D:(B=d.values)==null?void 0:B.Class)!=null?T:"",d.server?`  ${d.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:o.border},children:(y=d.role)!=null?y:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:o.title},children:p})]}),x&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:o.title},children:x})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}const GU=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=t[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function HU({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:o,onSelect:c,renderActions:d,renderKPIs:u,theme:m}){var L;const p=E.useMemo(()=>pf(al,m),[m]),[x,v]=E.useState(e),[w,S]=E.useState(n),[P,R]=E.useState(r.key),[B,D]=E.useState(r.dir),[T,y]=E.useState((L=t[0])==null?void 0:L.id),j=o!=null?o:T,M=I=>{o||y(I);const V=t.find($=>$.id===I);V&&c&&c(V)},C=E.useMemo(()=>{const I=w.trim().toLowerCase();return I?t.filter(V=>V.name.toLowerCase().includes(I)||V.class.toLowerCase().includes(I)||String(V.role).toLowerCase().includes(I)):t},[t,w]),_=E.useMemo(()=>{const I=B==="asc"?1:-1,V=$=>{var W,z;switch(P){case"sumBaseStats":{const q=IU($);return q==null?-1/0:q}case"totalStats":return(z=(W=$.totalStats)!=null?W:EU(GU($.baseStats)))!=null?z:-1/0;default:return $[P]}};return[...C].sort(($,W)=>{const z=V($),q=V(W);return z===q?0:z>q?I:-I})},[C,P,B]),A=E.useMemo(()=>_.find(I=>I.id===j)||_[0],[_,j]);return s.jsxs("div",{children:[i&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:p.tile,borderColor:p.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"View"}),s.jsxs("select",{value:x,onChange:I=>v(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Search"}),s.jsx("input",{value:w,onChange:I=>S(I.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:p.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Sort by"}),s.jsxs("select",{value:String(P),onChange:I=>R(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>D(I=>I==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:p.border},children:B==="asc"?"":""})]})]}),s.jsx(FU,{member:A,actions:A&&(d?d(A):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Message"})]})),extraKPIs:A&&u?u(A):null,theme:p}),x==="list"?s.jsx(OU,{rows:_,selId:j,onSelect:M,theme:p,rightCols:I=>{var V;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(V=I.level)!=null?V:""}),s.jsx("div",{className:"text-right text-xs",style:{color:p.sub},children:Vw(I.lastOnline)})]})}}):s.jsx(zU,{rows:_,selId:j,onSelect:M,theme:p,footer:I=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:p.sub},children:s.jsxs("span",{children:["Last ",Vw(I.lastOnline)]})})})]})}function WU({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:o,totalPower:c,activity7d:d,topClasses:u,tickerItems:m,href:p,onClick:x,className:v}){const w=!!Z5(),S=E.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(V/6e4));if($<60)return`${$}m`;const W=Math.floor($/60);return W<24?`${W}h`:`${Math.floor(W/24)}d`},[r]),P=Gd(0),R=Gd(0),B=Gd(0),D=Gd(0),T=bm(P,V=>Math.round(V).toString()),y=bm(R,V=>Math.round(V).toString()),j=bm(B,V=>Math.round(V).toLocaleString()),M=bm(D,V=>`${Math.round(V)}%`);E.useEffect(()=>{const V=w?0:.6;if(V===0){P.set(i),R.set(o),B.set(c!=null?c:0),D.set(d!=null?d:0);return}const $=[_m(P,i,{duration:V}),_m(R,o,{duration:V}),_m(B,c!=null?c:0,{duration:V}),_m(D,d!=null?d:0,{duration:V})];return()=>$.forEach(W=>W.stop())},[i,o,c,d,w]);const C=E.useRef(null);E.useEffect(()=>{if(w||!C.current)return;const V=C.current;let $=0,W=0;const z=()=>{W+=.016;const q=W*14%140-20;V.style.setProperty("--s-x",`${q}%`),$=requestAnimationFrame(z)};return $=requestAnimationFrame(z),()=>cancelAnimationFrame($)},[w]);const _={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},A=100,L=p?"a":"div",I=p?{href:p}:{onClick:x};return s.jsxs(L,{...I,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${_.bgFrom}, ${_.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:C,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),S&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:_.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${_.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",S]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${A}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${A}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${A}deg, transparent 0 46px, ${_.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:_.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:_.soft,border:`1px solid ${_.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Am,{label:"Members",value:T}),s.jsx(Am,{label:" Level",value:y}),s.jsx(Am,{label:"Total Power",value:j}),typeof d=="number"&&s.jsx(Am,{label:"Activity (7d)",value:M})]}),u!=null&&u.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:_.soft},children:"Top Classes"}),u.slice(0,3).map(V=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${_.border}`,color:_.text},children:[V.iconUrl?s.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:_.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[V.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),m!=null&&m.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${_.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(qU,{items:m,muted:w,color:_.soft})}):null]})}function Am({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(Y5.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function qU({items:t,muted:e,color:n}){const r=E.useRef(null);return E.useEffect(()=>{if(e||!r.current)return;const i=r.current;let o=0,c=0;const d=()=>{o+=.016;const u=o*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,o)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:i},o))})})}const KU="_wrap_q5gkc_53",QU="_banner_q5gkc_59",XU="_bannerRowTop_q5gkc_61",YU="_bannerStripe_q5gkc_71",JU="_bannerTitle_q5gkc_79",ZU="_bannerRowBottom_q5gkc_93",ez="_bannerSub_q5gkc_95",tz="_monthPickerWrap_q5gkc_101",sz="_monthPickerLabel_q5gkc_113",nz="_monthPicker_q5gkc_101",rz="_monthButton_q5gkc_131",iz="_monthButtonText_q5gkc_159",az="_chev_q5gkc_161",oz="_monthList_q5gkc_165",lz="_monthOption_q5gkc_195",cz="_monthBadge_q5gkc_221",dz="_gridRow_q5gkc_237",uz="_gridRowBottom_q5gkc_239",hz="_sideImage_q5gkc_253",mz="_sideImagePh_q5gkc_271",pz="_emblemPanel_q5gkc_275",fz="_emblemFrame_q5gkc_295",gz="_emblemImg_q5gkc_297",xz="_emblemPlaceholder_q5gkc_299",vz="_emblemShimmer_q5gkc_307",yz="_emblemCaption_q5gkc_315",bz="_card_q5gkc_319",_z="_cardHeader_q5gkc_331",wz="_cardTitle_q5gkc_339",jz="_cardSubtitle_q5gkc_341",Sz="_headerRight_q5gkc_343",Nz="_cardBody_q5gkc_345",kz="_tableWrap_q5gkc_349",Cz="_tableTitle_q5gkc_351",Tz="_table_q5gkc_349",Az="_th_q5gkc_355",Ez="_td_q5gkc_355",Iz="_tdEmpty_q5gkc_365",Rz="_sectionDivider_q5gkc_375",Pz="_sectionStripe_q5gkc_389",Lz="_sectionTitle_q5gkc_397",st={wrap:KU,banner:QU,bannerRowTop:XU,bannerStripe:YU,bannerTitle:JU,bannerRowBottom:ZU,bannerSub:ez,monthPickerWrap:tz,monthPickerLabel:sz,monthPicker:nz,monthButton:rz,monthButtonText:iz,chev:az,monthList:oz,monthOption:lz,monthBadge:cz,gridRow:dz,gridRowBottom:uz,sideImage:hz,sideImagePh:mz,emblemPanel:pz,emblemFrame:fz,emblemImg:gz,emblemPlaceholder:xz,emblemShimmer:vz,emblemCaption:yz,card:bz,cardHeader:_z,cardTitle:wz,cardSubtitle:jz,headerRight:Sz,cardBody:Nz,tableWrap:kz,tableTitle:Cz,table:Tz,th:Az,td:Ez,tdEmpty:Iz,sectionDivider:Rz,sectionStripe:Pz,sectionTitle:Lz};function Dz(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function Uw(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const zw=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:st.card,children:[(t||e||r)&&s.jsxs("header",{className:st.cardHeader,children:[s.jsxs("div",{className:st.headerTitles,children:[t&&s.jsx("h3",{className:st.cardTitle,children:t}),e&&s.jsx("div",{className:st.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:st.headerRight,children:r})]}),s.jsx("div",{className:st.cardBody,children:n})]}),Gw=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:st.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&s.jsx("div",{className:st.tableTitle,children:t.title}),s.jsxs("table",{className:st.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(o=>s.jsx("th",{className:st.th,style:{width:o.width},children:o.label},o.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:st.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((o,c)=>{var d;return s.jsx("tr",{children:e.map(u=>{var v;const m=o[u.key],p=typeof m=="number"||typeof m=="string"?m:"",x=u.format==="num"?Dz(p):p;return s.jsx("td",{className:st.td,"data-align":(v=u.align)!=null?v:"left",children:u.render?u.render(o):x},u.key)})},(d=o.id)!=null?d:c)})})]}),t.footer&&s.jsx("div",{className:st.tableFooter,children:t.footer})]})},Mz=(t,e)=>{E.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},Fz=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var p;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:st.bannerSub,children:r!=null?r:""});const o=E.useRef(null),[c,d]=E.useState(!1);Mz(o,()=>d(!1));const u=t.find(x=>x.key===e),m=u?`${Uw(u.fromISO)}${Uw(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:st.monthPickerWrap,children:[s.jsx("div",{className:st.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:st.monthPicker,ref:o,children:[s.jsxs("button",{type:"button",className:st.monthButton,onClick:()=>d(x=>!x),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:st.monthButtonText,children:(p=u==null?void 0:u.label)!=null?p:""}),s.jsx("svg",{className:st.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:st.monthList,role:"listbox",children:t.map(x=>s.jsx("li",{children:s.jsx("button",{type:"button",className:st.monthOption,onClick:()=>{d(!1),n==null||n(x.key)},role:"option","aria-selected":x.key===e,children:x.label})},x.key))})]}),m&&s.jsx("span",{className:st.monthBadge,children:m})]})},Bz=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>s.jsxs("div",{className:st.banner,children:[s.jsxs("div",{className:st.bannerRowTop,children:[s.jsx("div",{className:st.bannerStripe}),s.jsx("div",{className:st.bannerTitle,children:t}),s.jsx("div",{className:st.bannerStripe})]}),s.jsx("div",{className:st.bannerRowBottom,children:s.jsx(Fz,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),$z=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:st.emblemPanel,children:[s.jsxs("div",{className:st.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:st.emblemImg}):s.jsx("div",{className:st.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:st.emblemShimmer})]}),e&&s.jsx("div",{className:st.emblemCaption,children:e})]}),Hw=({imgUrl:t,alt:e})=>s.jsx("div",{className:st.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:st.sideImagePh,children:"Image"})}),Px=({children:t,className:e})=>s.jsx("div",{className:`${st.gridRow} ${e!=null?e:""}`,children:t}),Vz=({children:t})=>s.jsxs("div",{className:st.sectionDivider,children:[s.jsx("div",{className:st.sectionStripe}),s.jsx("div",{className:st.sectionTitle,children:t}),s.jsx("div",{className:st.sectionStripe})]}),Oz=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:o}=t;return s.jsxs("div",{className:st.wrap,children:[s.jsx(Bz,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(Px,{children:[s.jsx(Hw,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx($z,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(Hw,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(Px,{children:i.map((c,d)=>s.jsx(zw,{title:c.title,subtitle:c.subtitle,children:s.jsx(Gw,{block:c})},d))}),s.jsx(Vz,{children:"Guild Overview"}),s.jsx(Px,{className:st.gridRowBottom,children:o.map((c,d)=>s.jsx(zw,{title:c.title,subtitle:c.subtitle,children:s.jsx(Gw,{block:c})},d))})]})},Uz=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=E.useState(!0),[o,c]=E.useState(null),[d,u]=E.useState(void 0),m=E.useRef({}),[p,x]=E.useState(()=>Em(e,n));E.useEffect(()=>{let w=!1;async function S(){var P,R,B,D,T;i(!0);try{const y=Fu(It,`guilds/${t}/history_monthly`),j=await nn(y),M=[];for(const A of j.docs){const L=A.id,I=A.data();if(!I)continue;m.current[L]=I;const V=(P=I==null?void 0:I.meta)!=null?P:{},$=V.fromISO||V.baselineISO||V.firstISO||"",W=V.toISO||V.latestISO||V.nowISO||"",z=Number((R=V.daysSpan)!=null?R:Math.floor((+new Date(W)-+new Date($))/864e5))||0,q=!!((D=(B=I==null?void 0:I.status)==null?void 0:B.available)!=null?D:$&&W&&z<=40),Q=V.label||new Date(L+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});M.push({key:L,label:Q,fromISO:$||new Date(L+"-01").toISOString(),toISO:W||new Date(L+"-28").toISOString(),daysSpan:z,available:q,reason:q||(T=I==null?void 0:I.status)==null?void 0:T.reason})}if(M.sort((A,L)=>A.key<L.key?1:-1),w)return;if(M.length===0){c(null),u(void 0),x(Em(e,n)),i(!1);return}c(M);const C=M[0].key;u(C);const _=m.current[C];x(Ww(_,{guildName:e,guildServer:n,currentMonthKey:C,months:M}))}catch(y){console.error(y),c(null),u(void 0),x(Em(e,n))}finally{w||i(!1)}}return S(),()=>{w=!0}},[t,e,n]);async function v(w){u(w);let S=m.current[w];if(!S)try{const P=ms(It,`guilds/${t}/history_monthly/${w}`),R=await dr(P);R.exists()?(S=R.data(),m.current[w]=S):S=null}catch(P){console.error(P),S=null}if(!S){x(Em(e,n,{currentMonthKey:w,months:o!=null?o:void 0}));return}x(Ww(S,{guildName:e,guildServer:n,currentMonthKey:w,months:o!=null?o:void 0}))}return s.jsx(Oz,{data:p,onMonthChange:v})};function Em(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Nu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Ro("Most Base Stats gained",e?`Server ${e}`:void 0),Ro("Sum Base Stats"),Ro("Highest Base Stats")],tablesBottom:[Ro("Main & Con"),Ro("Sum Base Stats"),Ro("Highest Base Stats"),Ro("Highest Total Stats")]}}function Ro(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function Ww(t,e){var c,d,u,m,p,x,v,w;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Nu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((S,P)=>{var R,B,D,T,y,j,M,C;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",level:(T=(D=S.levelLatest)!=null?D:S.level)!=null?T:null,base:(j=(y=S.baseLatest)!=null?y:S.base)!=null?j:null,delta:(C=(M=S.baseDelta)!=null?M:S.delta)!=null?C:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=t==null?void 0:t.sumBaseStats)!=null?u:[]).map((S,P)=>{var R,B,D,T,y,j,M;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",base:(D=S.base)!=null?D:null,stam:(y=(T=S.stamDelta)!=null?T:S.staminaDelta)!=null?y:null,sho:(M=(j=S.shoDelta)!=null?j:S.shootingDelta)!=null?M:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((m=t==null?void 0:t.highestBaseStats)!=null?m:[]).map((S,P)=>{var R,B,D,T,y;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",stats:(T=(D=S.stats)!=null?D:S.base)!=null?T:null,delta:(y=S.delta)!=null?y:null}})}],o=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.mainAndCon)!=null?p:[]).map((S,P)=>{var R,B,D,T,y,j;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",class:(T=(D=S.class)!=null?D:S.className)!=null?T:"",stats:(y=S.stats)!=null?y:null,delta:(j=S.delta)!=null?j:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((x=t==null?void 0:t.sumBaseStats)!=null?x:[]).map((S,P)=>{var R,B,D,T,y;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",base:(D=S.base)!=null?D:null,stam:(T=S.stamDelta)!=null?T:null,sho:(y=S.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((S,P)=>{var R,B,D,T;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",stats:(D=S.stats)!=null?D:null,delta:(T=S.delta)!=null?T:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((w=t==null?void 0:t.highestTotalStats)!=null?w:[]).map((S,P)=>{var R,B,D,T;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",total:(D=S.total)!=null?D:null,delta:(T=S.delta)!=null?T:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:o}}const zz="_root_r1uj3_5",Gz="_sectionDivider_r1uj3_17",Hz="_sectionStripe_r1uj3_31",Wz="_sectionTitle_r1uj3_33",Td={root:zz,sectionDivider:Gz,sectionStripe:Hz,sectionTitle:Wz},qz="_root_4jywc_1",Kz="_accent_4jywc_31",qw={root:qz,default:"_default_4jywc_29",accent:Kz};function Ya({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${qw.root} ${qw[e]} ${n!=null?n:""}`.trim(),children:t})}const Im=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function f3(t,e=64){if(!t)return;const n=Im(t);let r=Rs.find(i=>Im(i.label)===n);return r||(r=Rs.find(i=>Im(i.label).startsWith(n)||n.startsWith(Im(i.label)))),r?Pr(r.iconUrl,e):void 0}const Qz="_card_vvv3s_3",Xz="_wrap_vvv3s_31",Yz="_divider_vvv3s_45",Jz="_rows_vvv3s_77",Zz="_row_vvv3s_77",eG="_left_vvv3s_109",tG="_label_vvv3s_111",sG="_avgHead_vvv3s_113",nG="_avgNum_vvv3s_115",rG="_top3_vvv3s_121",iG="_chip_vvv3s_123",aG="_badge_vvv3s_151",oG="_name_vvv3s_159",lG="_score_vvv3s_161",cG="_headerSpacer_vvv3s_167",kn={card:Qz,wrap:Xz,divider:Yz,rows:Jz,row:Zz,left:eG,label:tG,avgHead:sG,avgNum:nG,top3:rG,chip:iG,badge:aG,name:oG,score:lG,headerSpacer:cG};function dG({name:t,value:e,classLabel:n,colors:r}){const i=f3(n,64);return s.jsxs("div",{className:kn.chip,children:[s.jsx("span",{className:kn.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:kn.name,children:t!=null?t:""}),s.jsx("span",{className:kn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function uG({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,m)=>{var p,x;return((p=m[d])!=null?p:0)-((x=u[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:kn.card,children:[s.jsx(Ya,{text:n}),s.jsx("div",{className:kn.headerSpacer}),s.jsxs("div",{className:kn.wrap,children:[s.jsx("div",{className:kn.divider}),s.jsx("div",{className:kn.rows,children:o.map((d,u)=>s.jsxs("div",{className:kn.row,children:[s.jsxs("div",{className:kn.left,children:[s.jsx("div",{className:kn.label,children:d.label}),s.jsx("div",{className:kn.avgHead,children:""}),s.jsx("div",{className:kn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:kn.top3,children:d.list.map((m,p)=>s.jsx(dG,{name:m.name,value:m[d.key],classLabel:m.class,colors:e},p))})]},u))})]})]})}const hG="_card_1enwc_1",mG="_wrap_1enwc_1",pG="_divider_1enwc_1",fG="_rows_1enwc_1",gG="_row_1enwc_1",xG="_left_1enwc_1",vG="_label_1enwc_1",yG="_avgHead_1enwc_1",bG="_avgNum_1enwc_1",_G="_top3_1enwc_1",wG="_chip_1enwc_1",jG="_badge_1enwc_1",SG="_name_1enwc_1",NG="_score_1enwc_1",kG="_headerSpacer_1enwc_1",Cn={card:hG,wrap:mG,divider:pG,rows:fG,row:gG,left:xG,label:vG,avgHead:yG,avgNum:bG,top3:_G,chip:wG,badge:jG,name:SG,score:NG,headerSpacer:kG};function CG({name:t,value:e,classLabel:n,colors:r}){const i=f3(n,64);return s.jsxs("div",{className:Cn.chip,children:[s.jsx("span",{className:Cn.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:Cn.name,children:t!=null?t:""}),s.jsx("span",{className:Cn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function TG({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,m)=>{var p,x;return((p=m[d])!=null?p:0)-((x=u[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:Cn.card,children:[s.jsx(Ya,{text:n}),s.jsx("div",{className:Cn.headerSpacer}),s.jsxs("div",{className:Cn.wrap,children:[s.jsx("div",{className:Cn.divider}),s.jsx("div",{className:Cn.rows,children:o.map((d,u)=>s.jsxs("div",{className:Cn.row,children:[s.jsxs("div",{className:Cn.left,children:[s.jsx("div",{className:Cn.label,children:d.label}),s.jsx("div",{className:Cn.avgHead,children:""}),s.jsx("div",{className:Cn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Cn.top3,children:d.list.map((m,p)=>s.jsx(CG,{name:m.name,value:m[d.key],classLabel:m.class,colors:e},p))})]},u))})]})]})}function AG({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ya,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function EG({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ya,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function IG({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ya,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function RG({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ya,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const PG=E.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const o=i.icon,c=({text:d})=>s.jsxs("div",{className:Td.sectionDivider,children:[s.jsx("div",{className:Td.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}}),s.jsx("div",{className:Td.sectionTitle,style:{color:i.soft},children:d}),s.jsx("div",{className:Td.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}})]});return s.jsxs("div",{className:Td.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(AG,{guild:e,snapshot:n,colors:i}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(uG,{snapshot:n,colors:i}),s.jsx(TG,{snapshot:n,colors:i})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(EG,{colors:i}),s.jsx(IG,{colors:i})]}),s.jsx("div",{className:"mt-4",children:s.jsx(RG,{colors:i})})]})}),LG="_wrapper_zqchq_3",DG="_grid_zqchq_9",MG="_tile_zqchq_13",FG="_disabled_zqchq_37",BG="_crestWrap_zqchq_41",$G="_crest_zqchq_41",VG="_ring_zqchq_53",OG="_badge_zqchq_55",UG="_meta_zqchq_67",zG="_nameRow_zqchq_69",GG="_name_zqchq_69",HG="_share_zqchq_73",WG="_sub_zqchq_75",qG="_tileButton_zqchq_79",KG="_donutCard_zqchq_85",QG="_donutHeader_zqchq_87",XG="_legend_zqchq_91",YG="_legendItem_zqchq_93",JG="_legendSwatch_zqchq_95",ZG="_legendRight_zqchq_97",eH="_centerLabel_zqchq_101",is={wrapper:LG,grid:DG,tile:MG,disabled:FG,crestWrap:BG,crest:$G,ring:VG,badge:OG,meta:UG,nameRow:zG,name:GG,share:HG,sub:WG,tileButton:qG,donutCard:KG,donutHeader:QG,legend:XG,legendItem:YG,legendSwatch:JG,legendRight:ZG,centerLabel:eH},Ov=56;function Np(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function Kw(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const tH=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function sH(t){return t?/drive\.google\.com/.test(t):!1}function Qw(t,e=Ov){if(t)return sH(t)?Pr(t,e):t}function nH(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function rH(t){var p,x,v,w,S,P;if(!t)return null;const e=t,n=t,r=(p=e.key)!=null?p:n.id,i=(x=e.label)!=null?x:n.name,o=(w=(v=n.crestUrl)!=null?v:e.iconUrl)!=null?w:n.iconUrl,c=(S=e.iconUrl)!=null?S:n.iconUrl,d=(P=e.fallback)!=null?P:n.fallback;if(!r||!i)return null;const u=Qw(o,Ov),m=Qw(c,Ov);return{id:r,name:String(i),crestUrl:u||m,iconUrl:m||u,fallback:d?String(d):void 0}}function g3(t,e){var p,x,v,w,S,P,R,B,D,T,y,j,M,C,_,A,L,I,V,$,W;const n={},r={},i={},o={},c=e.map(z=>z.id);for(const z of c)n[z]=0,r[z]=0,i[z]=0,o[z]=null;for(const z of Array.isArray(t)?t:[]){const q=(j=(T=(B=(P=(w=(v=(x=(p=z.classId)!=null?p:z.class)!=null?x:z.klass)!=null?v:z.playerClass)!=null?w:z.cls)!=null?P:(S=z.values)==null?void 0:S.Class)!=null?B:(R=z.values)==null?void 0:R.class)!=null?T:(D=z.values)==null?void 0:D.Klasse)!=null?j:(y=z.values)==null?void 0:y.klasse,Q=nH(q);if(!Q||!c.includes(Q))continue;n[Q]+=1;const G=tH((A=(C=z.level)!=null?C:(M=z.values)==null?void 0:M.Level)!=null?A:(_=z.values)==null?void 0:_.level);G!=null&&(r[Q]+=G,i[Q]+=1,(!o[Q]||((I=(L=o[Q])==null?void 0:L.level)!=null?I:-1/0)<G)&&(o[Q]={id:z.id,name:(W=($=z.name)!=null?$:(V=z.values)==null?void 0:V.Name)!=null?W:null,level:G}))}const d=Object.values(n).reduce((z,q)=>z+q,0),u={},m={};return c.forEach(z=>{u[z]=d>0?n[z]/d*100:0,m[z]=i[z]>0?r[z]/i[z]:null}),{counts:n,shares:u,avg:m,top:o}}const iH=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:is.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},aH=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=E.useState({}),o=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:u,avg:m,top:p}=E.useMemo(()=>g3(o,c),[o,c]);return s.jsx("section",{className:is.wrapper,children:s.jsx("div",{className:is.grid,style:{gridTemplateColumns:"1fr"},children:c.map(x=>{var D,T,y;const v=(D=d[x.id])!=null?D:0,w=(T=u[x.id])!=null?T:0,S=m[x.id],P=p[x.id],R=v<=0,B=r[x.id]?void 0:x.crestUrl||x.iconUrl;return s.jsxs("div",{className:`${is.tile} ${R?is.disabled:""}`,title:R?`${x.name}: kein Mitglied`:`${x.name}  ${Kw(v)}  ${Np(w)}${S?`   ${S.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:is.crestWrap,children:[B?s.jsx("img",{className:is.crest,src:B,alt:x.name,onError:()=>i(j=>({...j,[x.id]:!0}))}):s.jsx("div",{className:is.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=x.fallback)!=null?y:""}),s.jsx(iH,{valuePct:w}),s.jsx("div",{className:is.badge,children:Kw(v)})]}),s.jsxs("div",{className:is.meta,children:[s.jsxs("div",{className:is.nameRow,children:[s.jsx("div",{className:is.name,children:x.name}),s.jsx("div",{className:is.share,children:Np(w)})]}),s.jsxs("div",{className:is.sub,children:[S?` Lvl ${S.toFixed(1)}`:"",P?`  Top: ${P.name}${P.level?` (Lv ${P.level})`:""}`:""]})]}),!R&&n&&s.jsx("button",{className:is.tileButton,onClick:()=>n(x.id),"aria-label":`${x.name} filtern`})]},x.id)})})})},oH=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:o}=E.useMemo(()=>g3(n,r),[n,r]),c=E.useMemo(()=>Object.values(o).reduce((d,u)=>d+u,0),[o]);return s.jsxs("div",{className:is.donutCard,children:[s.jsxs("div",{className:is.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:is.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const x=Math.PI*2,v=r.map((S,P)=>{var R;return{id:S.id,pct:(R=i[S.id])!=null?R:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*P)} 60% 55%)`}});let w=0;return v.map(S=>{const P=(S.pct||0)/100;if(P<=0)return null;const R=w,B=w+x*P;w=B;const D=B-R>Math.PI?1:0,T=130+100*Math.cos(R),y=130+100*Math.sin(R),j=130+100*Math.cos(B),M=130+100*Math.sin(B),C=130+64*Math.cos(B),_=130+64*Math.sin(B),A=130+64*Math.cos(R),L=130+64*Math.sin(R),I=`M ${T} ${y} A 100 100 0 ${D} 1 ${j} ${M} L ${C} ${_} A 64 64 0 ${D} 0 ${A} ${L} Z`;return s.jsx("path",{d:I,fill:S.color,opacity:.95},S.id)})})()]}),s.jsx("div",{className:is.legend,children:r.map((d,u)=>{var x,v;const m=(x=i[d.id])!=null?x:0,p=(v=o[d.id])!=null?v:0;return s.jsxs("div",{className:is.legendItem,title:`${d.name}: ${p}  ${Np(m)}`,children:[s.jsx("span",{className:is.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:d.name}),s.jsxs("span",{className:is.legendRight,children:[p,"  ",Np(m)]})]},d.id)})})]}),s.jsx("div",{className:is.centerLabel,children:"Anteile je Klasse"})]})},Ns={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},lH=t=>{var e,n,r,i,o,c,d,u,m,p,x,v,w,S,P;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(n=t.class)!=null?n:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(o=t.lastActivityMs)!=null?o:null,server:null,baseStats:{main:(c=t.baseMain)!=null?c:void 0,con:(d=t.conBase)!=null?d:void 0,sumBaseTotal:(u=t.sumBaseTotal)!=null?u:void 0},totalStats:(m=t.totalStats)!=null?m:void 0,values:{treasury:(p=t.treasury)!=null?p:void 0,mine:(x=t.mine)!=null?x:void 0,attrTotal:(v=t.attrTotal)!=null?v:void 0,conTotal:(w=t.conTotal)!=null?w:void 0,lastScan:(S=t.lastScan)!=null?S:void 0,lastActivity:(P=t.lastActivity)!=null?P:void 0}}},Lx=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},cH=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function x3({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Ns.tile,border:`1px solid ${Ns.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Ns.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Ns.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Ad({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:Ns.title},children:e})]})}function dH({guild:t}){var n,r;const e=Nu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(x3,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Ad,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Ad,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Ad,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Ad,{k:"Inaktiv",v:"0"}),s.jsx(Ad,{k:"Aktivitt",v:"100%"})]})})]})}function Dx(){var R,B,D,T,y,j;const t=Dp(),e=t.id||t.gid||t.guildId||t.guild||"",n=Rr(),[r,i]=E.useState(!0),[o,c]=E.useState(null),[d,u]=E.useState(null),[m,p]=E.useState(null),[x,v]=E.useState("grid"),w=E.useMemo(()=>(Array.isArray(Rs)?Rs:[]).map(rH).filter(Boolean),[]);E.useEffect(()=>{let M=!1;async function C(){var _,A,L,I,V,$,W,z,q,Q,G,te,re,H,se,de,ee,fe,Te,xe,Ce,Ne,ue,De,Ee,tt,ut,ts,zs,Gs,Rn,Hs,Ps,Ls,Pn,xn,vn;i(!0),c(null);try{const ls=e.trim();if(!ls){c("Keine Gilde gewhlt."),i(!1);return}const Qt=ms(It,`guilds/${ls}/latest/latest`),Gt=await dr(Qt);if(!Gt.exists()){c("Gilde nicht gefunden."),i(!1);return}const Lt=Gt.data(),ii=(L=(A=Lt.name)!=null?A:(_=Lt.values)==null?void 0:_.Name)!=null?L:ls,Qn=($=(V=Lt.server)!=null?V:(I=Lt.values)==null?void 0:I.Server)!=null?$:null,hr=(G=Lx((Q=(z=Lt.memberCount)!=null?z:(W=Lt.values)==null?void 0:W["Guild Member Count"])!=null?Q:(q=Lt.values)==null?void 0:q.GuildMemberCount))!=null?G:null,mr=(xe=Lx((Te=(ee=(se=(re=Lt.hofRank)!=null?re:(te=Lt.values)==null?void 0:te["Hall of Fame Rank"])!=null?se:(H=Lt.values)==null?void 0:H.HoF)!=null?ee:(de=Lt.values)==null?void 0:de.Rank)!=null?Te:(fe=Lt.values)==null?void 0:fe["Guild Rank"]))!=null?xe:null,ai=cH(Lx(Lt.timestamp));M||u({id:ls,name:ii,server:Qn,memberCount:hr,hofRank:mr,lastScanDays:ai});const oi=ms(It,`guilds/${ls}/snapshots/members_summary`),Lr=await dr(oi);if(Lr.exists()&&!M){const Ht=Lr.data(),pr={guildId:String((Ce=Ht.guildId)!=null?Ce:ls),updatedAt:String((De=(ue=Ht.updatedAt)!=null?ue:(Ne=Lt.values)==null?void 0:Ne.Timestamp)!=null?De:""),updatedAtMs:Number((tt=(Ee=Ht.updatedAtMs)!=null?Ee:Lt.timestamp*1e3)!=null?tt:0),count:Number((ut=Ht.count)!=null?ut:0),hash:String((ts=Ht.hash)!=null?ts:""),avgLevel:(zs=Ht.avgLevel)!=null?zs:null,avgTreasury:(Gs=Ht.avgTreasury)!=null?Gs:null,avgMine:(Rn=Ht.avgMine)!=null?Rn:null,avgBaseMain:(Hs=Ht.avgBaseMain)!=null?Hs:null,avgConBase:(Ps=Ht.avgConBase)!=null?Ps:null,avgSumBaseTotal:(Ls=Ht.avgSumBaseTotal)!=null?Ls:null,avgAttrTotal:(Pn=Ht.avgAttrTotal)!=null?Pn:null,avgConTotal:(xn=Ht.avgConTotal)!=null?xn:null,avgTotalStats:(vn=Ht.avgTotalStats)!=null?vn:null,members:Array.isArray(Ht.members)?Ht.members:[]};p(pr)}}catch(ls){M||c((ls==null?void 0:ls.message)||"Fehler beim Laden.")}finally{M||i(!1)}}return C(),()=>{M=!0}},[e]);const S=E.useMemo(()=>{var M;return((M=m==null?void 0:m.members)!=null?M:[]).map(C=>lH(C))},[m]);if(r)return s.jsx(gt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:Ns.soft},children:"Lade Gildenprofil"})});if(!d)return s.jsx(gt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:Ns.soft},children:[o!=null?o:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const P=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Ns.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Ns.tile,border:`1px solid ${Ns.line}`,color:Ns.title},children:(R=d.server)!=null?R:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:Ns.title,fontSize:26,lineHeight:1.15},children:d.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Ns.soft},children:["Zuletzt aktualisiert:",m!=null&&m.updatedAt?m.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:Ns.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(gt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[P,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(dH,{guild:d})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(PG,{guild:d,snapshot:m,emblemUrl:Nu(d.name,512)||void 0,colors:Ns}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(WU,{guildName:d.name,server:(B=d.server)!=null?B:"",emblemUrl:Nu(d.name,512)||void 0,lastScanISO:m!=null&&m.updatedAtMs?new Date(m.updatedAtMs).toISOString():void 0,members:(D=d.memberCount)!=null?D:0,avgLevel:(T=m==null?void 0:m.avgLevel)!=null?T:0,totalPower:(y=m==null?void 0:m.avgTotalStats)!=null?y:void 0,tickerItems:m!=null&&m.updatedAt?[`Updated ${m.updatedAt}`,`Members ${(j=d.memberCount)!=null?j:0}`]:void 0})})}),s.jsx(uH,{members:S,guildId:d.id,guildName:d.name,guildServer:d.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:s.jsx(Ya,{text:"Klassenbersicht",tone:x==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:s.jsx(Ya,{text:"Klassenverteilung",tone:x==="donut"?"accent":"default"})})]}),x==="grid"?s.jsx(aH,{data:S,classMeta:w,onPickClass:M=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",M),window.location.href=C.toString()}}):s.jsx(oH,{data:S,classMeta:w})]})]})})]})}function uH({members:t,guildId:e,guildName:n,guildServer:r}){const[i,o]=E.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Ns.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===i;return s.jsx("button",{role:"tab","aria-selected":d,onClick:()=>o(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Ns.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Ns.title},children:c},c)})}),s.jsxs(x3,{children:[i==="bersicht"&&s.jsx(HU,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:Ns.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&s.jsx(Uz,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:Ns.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function hH(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Xw,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(Xw,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function Xw({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function mH(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function pH(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const $s={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Yw({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function fH({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function ql({label:t,value:e}){return s.jsxs("div",{style:{background:$s.tileAlt,border:`1px solid ${$s.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:$s.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:$s.title,fontWeight:700},children:e})]})}function gH(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),o=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const u=d[1],m=String(parseInt(d[2],10)),p=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();c=`s${m}.sfgame.${p}`}return Array.from(new Set([e,n,r,i,o,c].filter(Boolean)))}function Mx(){var P,R,B,D;const t=Dp(),e=Rr(),n=Kn(),r=t.id||t.sid||t.serverId||t.server||"",[i,o]=E.useState(!0),[c,d]=E.useState(null),[u,m]=E.useState(null),[p,x]=E.useState(null);E.useEffect(()=>{let T=!1;async function y(){o(!0),d(null),m(null),x(null);try{const j=r.trim();if(!j)throw new Error("Kein Server gewhlt.");const M=ms(It,`servers/${j}`),C=await dr(M);if(C.exists()){T||(m(C.id),x(C.data()));return}const _=Fu(It,"servers"),A=gH(j),L=[];for(const W of A)L.push(nn(An(_,Ho("code","==",W),En(1)))),L.push(nn(An(_,Ho("displayName","==",W),En(1)))),L.push(nn(An(_,Ho("host","==",W),En(1))));const I=await Promise.allSettled(L);let V=null,$=null;for(const W of I){if(W.status!=="fulfilled")continue;const z=W.value;if(!z.empty){const q=z.docs[0];V=q.id,$=q.data();break}}if(!V||!$)throw new Error("Server nicht gefunden.");T||(m(V),x($),V!==j&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:n.pathname}}))}catch(j){T||d((j==null?void 0:j.message)||"Fehler beim Laden.")}finally{T||o(!1)}}return y(),()=>{T=!0}},[r,e,n.pathname]);const v=E.useMemo(()=>s.jsxs("div",{style:{padding:24,color:$s.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:$s.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return s.jsx(gt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:$s.textSoft},children:"Lade Serverprofil"})});if(!p)return s.jsx(gt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const w=p.displayName||p.code||u||r,S=p.active===!0?"Aktiv":p.active===!1?"Inaktiv":"";return s.jsxs(gt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${$s.line}`},children:s.jsxs(Yw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(fH,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:$s.title,fontWeight:700},children:w}),s.jsxs("div",{style:{fontSize:12,color:$s.textSoft},children:[p.host||"","  ",p.region||"","  ",((P=p.type)==null?void 0:P.toUpperCase())||""]})]})]})}),s.jsxs(Yw,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:$s.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${$s.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:$s.title,fontSize:24,fontWeight:800},children:w}),s.jsxs("div",{style:{marginTop:6,color:$s.textSoft,fontSize:13},children:[p.host||"","  ",p.region||"","  ",((R=p.type)==null?void 0:R.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:$s.textSoft},children:["Status: ",S]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:p.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(ql,{label:"Code",value:p.code||""}),s.jsx(ql,{label:"Host",value:p.host||""}),s.jsx(ql,{label:"Region",value:p.region||""}),s.jsx(ql,{label:"Typ",value:((B=p.type)==null?void 0:B.toUpperCase())||""}),s.jsx(ql,{label:"Numeric ID",value:(D=p.numericId)!=null?D:""}),s.jsx(ql,{label:"Status",value:S})]}),s.jsxs("div",{style:{marginTop:16,background:$s.tileAlt,padding:15,borderRadius:12,border:`1px solid ${$s.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:$s.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const xH="_page_177kv_1",vH="_sectionCard_177kv_15",yH="_identityCard_177kv_29",bH="_identityGrid_177kv_39",_H="_profileName_177kv_63",wH="_identityMeta_177kv_77",jH="_mainCharacter_177kv_95",SH="_characterHeader_177kv_117",NH="_characterTitle_177kv_131",kH="_characterSubtitle_177kv_143",CH="_classIcon_177kv_153",TH="_metaGrid_177kv_181",AH="_metaLabel_177kv_193",EH="_metaValue_177kv_207",IH="_portrait_177kv_217",RH="_sectionHeader_177kv_245",PH="_sectionHint_177kv_265",LH="_bioText_177kv_275",DH="_tagGroups_177kv_295",MH="_tagGroupLabel_177kv_309",FH="_tagList_177kv_323",BH="_tag_177kv_295",$H="_showcaseGrid_177kv_353",VH="_characterCard_177kv_365",OH="_characterCardHeader_177kv_385",UH="_characterName_177kv_399",zH="_badge_177kv_411",GH="_characterMeta_177kv_433",HH="_characterStats_177kv_449",WH="_statGrid_177kv_465",qH="_statTile_177kv_477",KH="_statLabel_177kv_491",QH="_statValue_177kv_505",XH="_statSubtext_177kv_519",YH="_emptyState_177kv_531",JH="_recordsHighlights_177kv_551",ZH="_highlightCard_177kv_565",eW="_recordType_177kv_579",tW="_recordTitle_177kv_593",sW="_timeline_177kv_607",nW="_timelineItem_177kv_625",rW="_timelineBullet_177kv_635",iW="_timelineContent_177kv_653",aW="_timelineTitle_177kv_661",oW="_timelineMeta_177kv_673",lW="_achievementsHighlights_177kv_685",cW="_achievementCard_177kv_699",dW="_achievementIcon_177kv_723",uW="_achievementName_177kv_747",hW="_achievementDesc_177kv_759",mW="_achievementTier_177kv_771",pW="_achievementDate_177kv_785",fW="_achievementsGrid_177kv_795",gW="_achievementBadge_177kv_807",xW="_tierGold_177kv_831",vW="_tierSilver_177kv_839",yW="_tierBronze_177kv_847",Ae={page:xH,sectionCard:vH,identityCard:yH,identityGrid:bH,profileName:_H,identityMeta:wH,mainCharacter:jH,characterHeader:SH,characterTitle:NH,characterSubtitle:kH,classIcon:CH,metaGrid:TH,metaLabel:AH,metaValue:EH,portrait:IH,sectionHeader:RH,sectionHint:PH,bioText:LH,tagGroups:DH,tagGroupLabel:MH,tagList:FH,tag:BH,showcaseGrid:$H,characterCard:VH,characterCardHeader:OH,characterName:UH,badge:zH,characterMeta:GH,characterStats:HH,statGrid:WH,statTile:qH,statLabel:KH,statValue:QH,statSubtext:XH,emptyState:YH,recordsHighlights:JH,highlightCard:ZH,recordType:eW,recordTitle:tW,timeline:sW,timelineItem:nW,timelineBullet:rW,timelineContent:iW,timelineTitle:aW,timelineMeta:oW,achievementsHighlights:lW,achievementCard:cW,achievementIcon:dW,achievementName:uW,achievementDesc:hW,achievementTier:mW,achievementDate:pW,achievementsGrid:fW,achievementBadge:gW,tierGold:xW,tierSilver:vW,tierBronze:yW},bW={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},_W=1e3*60*60*24,Jw={gold:3,silver:2,bronze:1};function wW(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/_W)}function Rm(t){const e=new Date(t);return Number.isNaN(e.getTime())?Ze("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function jW(){const{profileId:t}=Dp(),e=bW,n=wW(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(p=>p.type==="record").slice(0,3),o=[...e.achievements].sort((p,x)=>Jw[x.tier]-Jw[p.tier]).slice(0,3),c=[{label:Ze("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:Ze("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:Ze("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:Ze("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],d=n==null?Ze("profile.public.identity.dateUnknown"):n===0?Ze("profile.public.identity.lastScanToday"):`${n} ${Ze("profile.public.identity.daysAgoSuffix")}`,u=Ze("profile.public.identity.portraitPlaceholder"),m=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):Ze("profile.public.identity.unknownValue");return s.jsx(gt,{title:Ze("profile.public.title"),subtitle:Ze("profile.public.subtitle"),centerFramed:!1,padded:!0,children:s.jsxs("div",{className:Ae.page,children:[s.jsx("section",{className:`${Ae.sectionCard} ${Ae.identityCard}`,children:s.jsxs("div",{className:Ae.identityGrid,children:[s.jsxs("div",{children:[s.jsx("h1",{className:Ae.profileName,children:e.profileUser.displayName}),s.jsxs("div",{className:Ae.identityMeta,children:[s.jsxs("span",{children:[Ze("profile.public.identity.profileIdLabel"),": ",t!=null?t:Ze("profile.public.identity.unknownValue")]}),s.jsxs("span",{children:[Ze("profile.public.identity.lastScanLabel"),": ",d]})]}),s.jsxs("article",{className:Ae.mainCharacter,children:[s.jsxs("div",{className:Ae.characterHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.metaLabel,children:Ze("profile.public.identity.mainCharacterLabel")}),s.jsx("div",{className:Ae.characterTitle,children:e.mainCharacter.name}),s.jsxs("div",{className:Ae.characterSubtitle,children:[e.mainCharacter.class,"  ",Ze("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),s.jsx("div",{className:Ae.classIcon,children:e.mainCharacter.class.charAt(0)})]}),s.jsxs("div",{className:Ae.metaGrid,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.metaLabel,children:Ze("profile.public.identity.serverLabel")}),s.jsx("div",{className:Ae.metaValue,children:e.mainCharacter.server})]}),s.jsxs("div",{children:[s.jsx("div",{className:Ae.metaLabel,children:Ze("profile.public.identity.guildLabel")}),s.jsx("div",{className:Ae.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),s.jsx("div",{className:Ae.portrait,children:u})]})}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsx("div",{className:Ae.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.bio.title")})}),s.jsx("p",{className:Ae.bioText,children:e.bio}),s.jsxs("div",{className:Ae.tagGroups,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.tagGroupLabel,children:Ze("profile.public.bio.languagesLabel")}),s.jsx("div",{className:Ae.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(p=>s.jsx("span",{className:Ae.tag,children:p.toUpperCase()},p)):s.jsx("span",{className:Ae.tag,children:Ze("profile.public.identity.unknownValue")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:Ae.tagGroupLabel,children:Ze("profile.public.bio.rolesLabel")}),s.jsx("div",{className:Ae.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(p=>s.jsx("span",{className:Ae.tag,children:Ze(`profile.public.roles.${p}`)},p)):s.jsx("span",{className:Ae.tag,children:Ze("profile.public.identity.unknownValue")})})]})]})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsxs("div",{className:Ae.sectionHeader,children:[s.jsx("span",{children:Ze("profile.public.showcase.title")}),s.jsx("span",{className:Ae.sectionHint,children:Ze("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?s.jsx("div",{className:Ae.emptyState,children:Ze("profile.public.showcase.empty")}):s.jsx("div",{className:Ae.showcaseGrid,children:e.showcaseCharacters.map(p=>s.jsxs("article",{className:Ae.characterCard,children:[s.jsxs("div",{className:Ae.characterCardHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.characterName,children:p.name}),s.jsxs("div",{className:Ae.characterMeta,children:[s.jsx("span",{children:p.class}),s.jsxs("span",{children:[Ze("profile.public.identity.levelShort")," ",p.level]})]})]}),s.jsx("span",{className:Ae.badge,children:Ze(`profile.public.showcase.tags.${p.tag}`)})]}),s.jsxs("div",{className:Ae.characterMeta,children:[s.jsx("span",{children:p.server}),s.jsx("span",{children:p.guildName})]}),s.jsxs("div",{className:Ae.characterStats,children:[s.jsxs("span",{children:[Ze("profile.public.showcase.scrapbookLabel")," ",p.scrapbookPercent,"%"]}),s.jsxs("span",{children:[Ze("profile.public.showcase.highlightLabel"),": ",p.highlightProgress]})]})]},p.id))})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsx("div",{className:Ae.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.stats.title")})}),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ae.statGrid,children:c.map(p=>s.jsxs("article",{className:Ae.statTile,children:[s.jsx("div",{className:Ae.statLabel,children:p.label}),s.jsx("div",{className:Ae.statValue,children:p.value})]},p.label))}),s.jsxs("div",{className:Ae.statSubtext,children:[Ze("profile.public.stats.topServersLabel"),": ",m]}),s.jsxs("div",{className:Ae.statSubtext,children:[Ze("profile.public.stats.firstScanLabel"),": ",Rm(e.scanStats.firstScanAt)]})]})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsx("div",{className:Ae.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.records.title")})}),e.recordsAndMilestones.length===0?s.jsx("div",{className:Ae.emptyState,children:Ze("profile.public.records.empty")}):s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx("div",{className:Ae.recordsHighlights,children:i.map(p=>s.jsxs("article",{className:Ae.highlightCard,children:[s.jsx("div",{className:Ae.recordType,children:Ze(`profile.public.records.type.${p.type}`)}),s.jsx("div",{className:Ae.recordTitle,children:p.title}),s.jsxs("div",{className:Ae.timelineMeta,children:[Rm(p.when),"  ",p.context]})]},p.id))}),s.jsx("ul",{className:Ae.timeline,children:e.recordsAndMilestones.map(p=>s.jsxs("li",{className:Ae.timelineItem,children:[s.jsx("div",{className:Ae.timelineBullet}),s.jsxs("div",{className:Ae.timelineContent,children:[s.jsx("div",{className:Ae.timelineTitle,children:p.title}),s.jsxs("div",{className:Ae.timelineMeta,children:[Rm(p.when),"  ",p.context]})]})]},p.id))})]})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsxs("div",{className:Ae.sectionHeader,children:[s.jsx("span",{children:Ze("profile.public.achievements.title")}),e.achievements.length>0&&s.jsx("span",{className:Ae.sectionHint,children:Ze("profile.public.achievements.highlights")})]}),e.achievements.length===0?s.jsx("div",{className:Ae.emptyState,children:Ze("profile.public.achievements.empty")}):s.jsxs(s.Fragment,{children:[o.length>0&&s.jsx("div",{className:Ae.achievementsHighlights,children:o.map(p=>s.jsxs("article",{className:Ae.achievementCard,children:[s.jsx("div",{className:[Ae.achievementIcon,p.tier==="gold"?Ae.tierGold:p.tier==="silver"?Ae.tierSilver:Ae.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Ae.achievementTier,children:Ze(`profile.public.achievements.tiers.${p.tier}`)}),s.jsx("div",{className:Ae.achievementName,children:Ze(p.nameKey)}),s.jsx("div",{className:Ae.achievementDesc,children:Ze(p.descriptionKey)}),p.unlockedAt&&s.jsx("div",{className:Ae.achievementDate,children:Rm(p.unlockedAt)})]},p.id))}),s.jsx("div",{className:Ae.achievementsGrid,children:e.achievements.map(p=>s.jsxs("article",{className:Ae.achievementBadge,children:[s.jsx("div",{className:[Ae.achievementIcon,p.tier==="gold"?Ae.tierGold:p.tier==="silver"?Ae.tierSilver:Ae.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Ae.achievementName,children:Ze(p.nameKey)}),s.jsx("div",{className:Ae.achievementDesc,children:Ze(p.descriptionKey)})]},p.id))})]})]})]})})}const SW="_wrap_k6pqt_1",NW="_centerLogoWrap_k6pqt_21",kW="_centerLogoLink_k6pqt_37",CW="_centerLogo_k6pqt_21",TW="_arc_k6pqt_55",AW="_left_k6pqt_57",EW="_right_k6pqt_59",IW="_sub_k6pqt_61",RW="_full_k6pqt_63",PW="_arcItem_k6pqt_65",LW="_iconBtn_k6pqt_71",DW="_active_k6pqt_125",MW="_iconImg_k6pqt_135",FW="_placeholderIcon_k6pqt_139",BW="_placeholderText_k6pqt_157",$W="_iconLabel_k6pqt_161",en={wrap:SW,centerLogoWrap:NW,centerLogoLink:kW,centerLogo:CW,arc:TW,left:AW,right:EW,sub:IW,full:RW,arcItem:PW,iconBtn:LW,active:DW,iconImg:MW,placeholderIcon:FW,placeholderText:BW,iconLabel:$W},VW=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Kn();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),m=c.get("sub2"),p=new URL(t,window.location.origin).searchParams,x=p.get("tab"),v=p.get("sub"),w=p.get("sub2");r==="main"?o=d===x:r==="sub"?o=d===x&&!!v&&u===v:o=d===x&&!!v&&u===v&&!!w&&m===w}catch(c){o=!1}return s.jsxs(Dt,{to:t,"aria-label":e,className:[en.iconBtn,o?en.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:en.iconImg}):s.jsx("div",{className:en.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:en.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:en.iconLabel,children:e})]})},Pm=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const u=E.useMemo(()=>{const x=t.length;if(x===0)return[];let v=-90,w=90;e==="left"?(v=90,w=270):e==="sub"||e==="sub2"?n==="left"?(v=90,w=270):(v=-90,w=90):e==="full"&&(v=0,w=360);const S=(w-v)/(x+1),P=r?190:250;return t.map((R,B)=>{const T=(v+S*(B+1))*Math.PI/180;return{it:R,x:Math.cos(T)*P,y:Math.sin(T)*P}})},[t,e,n,r]),m=(()=>{const x={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?x.left=`calc(50% - ${o}px)`:e==="right"?x.left=`calc(50% + ${o}px)`:e==="sub"?x.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(x.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),x})(),p=e==="sub"?"sub":e==="sub2"?"sub2":"main";return s.jsx("div",{className:[en.arc,e==="left"?en.left:"",e==="right"?en.right:"",e==="sub"?en.sub:"",e==="sub2"?en.sub2:"",e==="full"?en.full:""].join(" "),style:m,children:u.map(({it:x,x:v,y:w})=>s.jsx("div",{className:en.arcItem,style:{transform:`translate(${v}px, ${w}px)`},children:s.jsx(VW,{to:x.to,label:x.label,icon:x.icon,variant:p})},x.key))})},OW=({logoSrc:t,categories:e})=>{const[n]=el(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const o=E.useMemo(()=>e.find(T=>T.key===r)||null,[e,r]),c=(o==null?void 0:o.sub)||[],d=E.useMemo(()=>c.find(T=>T.key===i)||null,[c,i]),u=(d==null?void 0:d.sub2)||[],m=(o==null?void 0:o.side)==="left"||(o==null?void 0:o.side)==="right"?o.side:"right",p=E.useRef(null),[x,v]=E.useState(!1),[w,S]=E.useState(220),[P,R]=E.useState(440),[B,D]=E.useState(660);return E.useLayoutEffect(()=>{(()=>{var L,I;const j=((I=(L=p.current)==null?void 0:L.getBoundingClientRect().width)!=null?I:380)/2,C=Math.round(j+60),_=Math.round(C+220),A=Math.round(_+220);S(C),R(_),D(A),v(!0)})()},[]),E.useEffect(()=>{let T=0,y=null,j={main:w,out:P,sup:B};const M=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{T=requestAnimationFrame(()=>{var q,Q;const _=((Q=(q=p.current)==null?void 0:q.getBoundingClientRect().width)!=null?Q:380)/2,L=Math.round(_+60),I=Math.round(L+220),V=Math.round(I+220),$=Math.abs(L-j.main),W=Math.abs(I-j.out),z=Math.abs(V-j.sup);$>1&&S(L),W>1&&R(I),z>1&&D(V),j={main:L,out:I,sup:V}})},120)};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),y!=null&&window.clearTimeout(y),T&&cancelAnimationFrame(T)}},[w,P,B]),s.jsxs("div",{className:en.wrap,children:[s.jsx("div",{className:en.centerLogoWrap,children:s.jsx(Dt,{to:"/guidehub",className:en.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:p,src:t,alt:"Guide Hub",className:en.centerLogo})})}),x&&s.jsxs(s.Fragment,{children:[s.jsx(Pm,{items:e.filter(T=>T.side==="left").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"left",variant:"main",arcOffset:w}),s.jsx(Pm,{items:e.filter(T=>T.side==="right").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"right",variant:"main",arcOffset:w}),m&&c.length>0&&s.jsx(Pm,{items:c.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub",anchorSide:m,variant:"sub",outerOffset:P,compact:!0}),m&&u.length>0&&s.jsx(Pm,{items:u.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub2",anchorSide:m,variant:"sub2",superOffset:B,compact:!0})]})]})},Zw=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],UW="_topWrap_1vr4p_1",zW="_divider_1vr4p_19",GW="_contentArea_1vr4p_53",HW="_placeholder_1vr4p_65",WW="_placeholderTitle_1vr4p_79",qW="_placeholderText_1vr4p_93",Kl={topWrap:UW,divider:zW,contentArea:GW,placeholder:HW,placeholderTitle:WW,placeholderText:qW},KW="/assets/logo_guidehub-c4zKGdF-.png";function ol({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const QW=()=>s.jsx(ol,{title:"Game Features"});function es({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const XW=()=>s.jsx(es,{title:"Progression"}),YW=()=>s.jsx(es,{title:"Hellevator"}),JW=()=>s.jsx(es,{title:"Legendary Dungeon"}),ZW=()=>s.jsx(es,{title:"Events"}),eq="_card_1rxdx_21",tq="_hoverLift_1rxdx_51",sq="_title_1rxdx_63",nq="_body_1rxdx_89",rq="_iconStack_1rxdx_99",Ed={card:eq,hoverLift:tq,title:sq,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:nq,iconStack:rq};function iq({title:t,padding:e="md",hover:n=!0,className:r="",children:i}){return s.jsxs("div",{className:[Ed.card,Ed[`pad-${e}`],n?Ed.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Ed.title,children:t}):null,s.jsx("div",{className:Ed.body,children:i})]})}const aq=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],oq="_grid_1amcc_3",lq="_tileBtn_1amcc_45",cq="_wrap_1amcc_87",dq="_headerBar_1amcc_99",uq="_title_1amcc_117",Id={grid:oq,tileBtn:lq,wrap:cq,headerBar:dq,title:uq};function hq(){const[t,e]=el(),n=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return s.jsxs("div",{className:Id.wrap,children:[s.jsx("div",{className:Id.headerBar,children:s.jsx("h2",{className:Id.title,children:"Calculators"})}),s.jsx("div",{className:Id.grid,children:aq.map(r=>s.jsx("button",{className:Id.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(iq,{title:r.title,padding:"md",hover:!0,children:s.jsx(s.Fragment,{children:" "})})},r.slug))})]})}const mq=()=>s.jsx(es,{title:"Infographics (Dropdown inside page)"}),pq=()=>s.jsx(es,{title:"Class book"}),fq=()=>s.jsx(es,{title:"Dungeons"}),gq=()=>s.jsx(ol,{title:"Fortress"}),xq=()=>s.jsx(ol,{title:"Fortress Calculator"}),vq="_wrap_1skhh_7",yq="_headerBar_1skhh_21",bq="_title_1skhh_39",_q="_meta_1skhh_55",wq="_description_1skhh_67",jq="_contentWrapper_1skhh_83",Sq="_tableSection_1skhh_97",Nq="_table_1skhh_97",kq="_infoBox_1skhh_151",Cq="_sectionTitle_1skhh_165",Tq="_divider_1skhh_181",Gn={wrap:vq,headerBar:yq,title:bq,meta:_q,description:wq,contentWrapper:jq,tableSection:Sq,table:Nq,infoBox:kq,sectionTitle:Cq,divider:Tq};function Aq(){return s.jsxs("div",{className:Gn.wrap,children:[s.jsxs("div",{className:Gn.headerBar,children:[s.jsx("h2",{className:Gn.title,children:"Fortress Package skip order"}),s.jsx("span",{className:Gn.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:Gn.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:Gn.contentWrapper,children:[s.jsxs("section",{className:Gn.tableSection,children:[s.jsx("h3",{className:Gn.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:Gn.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:Gn.infoBox,children:[s.jsx("h3",{className:Gn.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:Gn.divider}),s.jsx("h3",{className:Gn.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:Gn.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const Eq=()=>s.jsx(ol,{title:"Fortress attack duplication guide"}),Iq=()=>s.jsx(ol,{title:"Underworld"}),Rq=()=>s.jsx(ol,{title:"Underworld Calculator"}),Pq=()=>s.jsx(ol,{title:"Underworld Pro Package skip order"}),Lq=()=>s.jsx(es,{title:"Arena / AM"}),Dq="_wrap_mm7x0_5",Mq="_headerBar_mm7x0_19",Fq="_title_mm7x0_37",Bq="_meta_mm7x0_51",$q="_description_mm7x0_63",Vq="_controls_mm7x0_79",Oq="_search_mm7x0_83",Uq="_tableWrap_mm7x0_119",zq="_table_mm7x0_119",Gq="_thead_mm7x0_143",Hq="_th_mm7x0_143",Wq="_td_mm7x0_167",qq="_tierCell_mm7x0_179",Kq="_amountCell_mm7x0_181",Qq="_bonusCell_mm7x0_183",Xq="_tags_mm7x0_185",Yq="_tierBox_mm7x0_191",Jq="_tierIcon_mm7x0_193",Zq="_tierTexts_mm7x0_203",eK="_tierName_mm7x0_205",tK="_badge_mm7x0_211",sK="_badgeMax_mm7x0_231",nK="_badgeAchiev_mm7x0_233",rK="_badgeX2_mm7x0_235",iK="_badgeX12_mm7x0_237",aK="_badgeX60_mm7x0_239",oK="_iconHead_mm7x0_245",lK="_achiev_mm7x0_261",cK="_achievImg_mm7x0_263",dK="_dataRow_mm7x0_291",uK="_tierCellHover_mm7x0_311",Be={wrap:Dq,headerBar:Mq,title:Fq,meta:Bq,description:$q,controls:Vq,search:Oq,tableWrap:Uq,table:zq,thead:Gq,th:Hq,td:Wq,tierCell:qq,amountCell:Kq,bonusCell:Qq,tags:Xq,tierBox:Yq,tierIcon:Jq,tierTexts:Zq,tierName:eK,badge:tK,badgeMax:sK,badgeAchiev:nK,badgeX2:rK,badgeX12:iK,badgeX60:aK,iconHead:oK,achiev:lK,achievImg:cK,dataRow:dK,tierCellHover:uK};function v3(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function hK(t){const e=t.filter(Boolean).join(" ");return v3(e)}const mK={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function pK(t){var n;const e=Array.isArray(t)?hK(t):v3(t!=null?t:"");return(n=mK[e])!=null?n:null}function ff(t,e=512){var o,c;const n=pK(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(o=Yo(n))!=null?o:null,i=r&&(c=Pr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function qo(t,e=512){return ff(t,e).thumb}const La={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},ej={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Da({keyName:t,label:e}){const n=ff(t,36);return s.jsxs("div",{className:Be.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function fK({name:t}){const e=Object.keys(ej).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=ff(e?ej[e]:"achiev_generic",16);return s.jsxs("div",{className:Be.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:Be.achievImg}),s.jsx("span",{children:t})]})}const kp=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function Fx(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function gK(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function xK(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const tj={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},vK="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function yK(t){const e=t.trim().toLowerCase();return e?kp.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):kp}function bK(){const[t,e]=E.useState(""),[n,r]=E.useState(null),i=yK(t),o=E.useMemo(()=>Math.max(...kp.map(d=>Fx(d.amount))),[]),c=E.useMemo(()=>{const d=new Map;for(const m of i)d.has(m.tier)||d.set(m.tier,[]),d.get(m.tier).push(m);const u=Array.from(new Set(kp.map(m=>m.tier)));return Array.from(d.entries()).sort((m,p)=>u.indexOf(m[0])-u.indexOf(p[0]))},[i]);return s.jsxs("div",{className:Be.wrap,children:[s.jsxs("div",{className:Be.headerBar,children:[s.jsx("h2",{className:Be.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:Be.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:Be.description,children:vK}),s.jsx("div",{className:Be.controls,children:s.jsx("input",{className:Be.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),s.jsx("div",{className:Be.tableWrap,children:s.jsxs("table",{className:Be.table,children:[s.jsx("thead",{className:Be.thead,children:s.jsxs("tr",{className:Be.headRow,children:[s.jsx("th",{className:`${Be.th} ${Be.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${Be.th} ${Be.amountCell}`,children:"Amount"}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.gold,label:"Gold Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.xp,label:"XP Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.hp,label:"HP Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.elem,label:"Elemental Damage"})}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.item,label:"Improved Item Quality"})}),s.jsx("th",{className:Be.th,children:s.jsx(Da,{keyName:La.epics,label:"Chances of Epics"})}),s.jsx("th",{className:Be.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([d,u])=>{const m=Math.max(...u.map(p=>Fx(p.amount)));return u.map((p,x)=>{var S,P,R,B,D,T,y,j;const v=Math.abs(Fx(p.amount)-o)<1e-6,w=xK(p.note);return s.jsxs("tr",{className:Be.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[x===0&&s.jsx("td",{className:`${Be.td} ${Be.tierCell} ${Math.abs(m-o)<1e-6?Be.tierMax:""} ${n===d?Be.tierCellHover:""}`,rowSpan:u.length,children:s.jsxs("div",{className:Be.tierBox,children:[s.jsx("div",{className:Be.tierIcon,children:d.slice(0,1).toUpperCase()}),s.jsxs("div",{className:Be.tierTexts,children:[s.jsx("div",{className:Be.tierName,children:d}),tj[d]&&s.jsx(fK,{name:tj[d]})]})]})}),s.jsx("td",{className:`${Be.td} ${Be.amountCell}`,children:p.amount}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(S=p.gold)!=null?S:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(P=p.xp)!=null?P:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(R=p.hp)!=null?R:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(B=p.totalRes)!=null?B:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(D=p.singleRes)!=null?D:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(T=p.elemDmg)!=null?T:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(y=p.itemQuality)!=null?y:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(j=p.epics)!=null?j:""}),s.jsxs("td",{className:`${Be.td} ${Be.tags}`,children:[v&&s.jsx("span",{className:`${Be.badge} ${Be.badgeMax}`,children:"MAX"}),gK(p.note)&&s.jsx("span",{className:`${Be.badge} ${Be.badgeAchiev}`,children:"Achievement"}),w==="x2"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX2}`,children:"x2"}),w==="x12"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX12}`,children:"x12"}),w==="x60"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX60}`,children:"x60"}),w==="x8"&&s.jsx("span",{className:Be.badge,children:"x8"})]})]},`${d}-${x}`)})})})]})})]})}const _K="_wrap_zrza7_11",wK="_headerBar_zrza7_15",jK="_title_zrza7_31",SK="_meta_zrza7_33",NK="_centerCol_zrza7_37",kK="_text_zrza7_53",CK="_imageBox_zrza7_55",TK="_imageFallback_zrza7_57",AK="_credit_zrza7_59",Hi={wrap:_K,headerBar:wK,title:jK,meta:SK,centerCol:NK,text:kK,imageBox:CK,imageFallback:TK,credit:AK};function EK(){const t=ff("ambuildorder"),e=E.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=E.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||n||r;return s.jsxs("div",{className:Hi.wrap,children:[s.jsxs("div",{className:Hi.headerBar,children:[s.jsx("h2",{className:Hi.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:Hi.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:Hi.centerCol,children:[s.jsxs("div",{className:Hi.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?s.jsx("div",{className:Hi.imageBox,children:s.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:Hi.imageFallback,children:""}),s.jsxs("p",{className:Hi.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const IK=()=>s.jsx(es,{title:"Hellevator Guide"}),RK=()=>s.jsx(es,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),PK=()=>s.jsx(es,{title:"Event List"}),LK=()=>s.jsx(es,{title:"Event Cycle"}),DK="_foCalc_18a5w_3",MK="_panel_18a5w_211",FK="_panelHead_18a5w_227",BK="_panelTitle_18a5w_241",$K="_controls_18a5w_243",VK="_ctrlLabel_18a5w_245",OK="_ctrlSelect_18a5w_249",UK="_tableWrap_18a5w_291",zK="_table_18a5w_291",GK="_th_18a5w_305",HK="_td_18a5w_321",WK="_row_18a5w_333",qK="_note_18a5w_335",rs={foCalc:DK,panel:MK,panelHead:FK,panelTitle:BK,controls:$K,ctrlLabel:VK,ctrlSelect:OK,tableWrap:UK,table:zK,th:GK,td:HK,row:WK,note:qK},y3={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},xs=(t,e=0)=>t*3600+e*60,ne=[xs(0,15),xs(0,31),xs(1,6),xs(2,20),xs(5,0),xs(8,0),xs(11,25),xs(18,27),xs(40,0),xs(87,16),xs(190,46),xs(320,0),xs(480,0),xs(615,33),xs(800,0)],wt=[xs(1054,17),xs(1122,51),xs(1245,42),xs(1343,20),xs(1440,0)],KK={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:ne[0]},{level:2,wood:150,stone:50,gold:20,timeSec:ne[1]},{level:3,wood:440,stone:140,gold:30,timeSec:ne[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:ne[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:ne[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:ne[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:ne[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:ne[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:ne[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:ne[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:ne[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:ne[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:wt[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:wt[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:wt[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:wt[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:wt[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:ne[0]},{level:2,wood:138,stone:46,gold:10,timeSec:ne[1]},{level:3,wood:406,stone:129,gold:15,timeSec:ne[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:ne[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:ne[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:ne[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:ne[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:ne[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:ne[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:ne[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:ne[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:ne[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:ne[0]},{level:2,wood:28,stone:37,gold:14,timeSec:ne[1]},{level:3,wood:81,stone:103,gold:21,timeSec:ne[2]},{level:4,wood:203,stone:246,gold:28,timeSec:ne[3]},{level:5,wood:462,stone:591,gold:35,timeSec:ne[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:ne[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:ne[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:ne[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:ne[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:ne[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:ne[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:ne[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:ne[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:ne[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:ne[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:wt[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:wt[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:wt[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:wt[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:wt[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:ne[0]},{level:2,wood:160,stone:53,gold:50,timeSec:ne[1]},{level:3,wood:469,stone:149,gold:75,timeSec:ne[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:ne[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:ne[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:ne[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:ne[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:ne[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:ne[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:ne[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:ne[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:ne[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:ne[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:ne[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:ne[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:ne[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:ne[0]},{level:2,wood:200,stone:67,gold:30,timeSec:ne[1]},{level:3,wood:587,stone:187,gold:45,timeSec:ne[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:ne[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:ne[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:ne[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:ne[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:ne[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:ne[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:ne[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:ne[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:ne[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:wt[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:wt[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:wt[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:wt[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:wt[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:xs(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:ne[0]},{level:2,wood:30,stone:20,gold:4,timeSec:ne[1]},{level:3,wood:88,stone:56,gold:6,timeSec:ne[2]},{level:4,wood:220,stone:133,gold:8,timeSec:ne[3]},{level:5,wood:500,stone:320,gold:10,timeSec:ne[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:ne[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:ne[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:ne[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:ne[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:ne[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:ne[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:ne[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:ne[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:ne[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:ne[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:wt[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:wt[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:wt[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:wt[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:wt[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:ne[0]},{level:2,wood:90,stone:16,gold:6,timeSec:ne[1]},{level:3,wood:264,stone:45,gold:9,timeSec:ne[2]},{level:4,wood:660,stone:107,gold:12,timeSec:ne[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:ne[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:ne[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:ne[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:ne[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:ne[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:ne[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:ne[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:ne[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:ne[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:ne[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:ne[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:wt[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:wt[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:wt[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:wt[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:wt[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:ne[0]},{level:2,wood:82,stone:55,gold:8,timeSec:ne[1]},{level:3,wood:240,stone:153,gold:12,timeSec:ne[2]},{level:4,wood:600,stone:364,gold:16,timeSec:ne[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:ne[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:ne[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:ne[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:ne[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:ne[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:ne[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:ne[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:ne[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:ne[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:ne[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:ne[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:ne[0]},{level:2,wood:100,stone:33,gold:8,timeSec:ne[1]},{level:3,wood:293,stone:93,gold:12,timeSec:ne[2]},{level:4,wood:733,stone:222,gold:16,timeSec:ne[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:ne[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:ne[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:ne[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:ne[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:ne[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:ne[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:ne[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:ne[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:ne[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:ne[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:ne[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:wt[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:wt[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:wt[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:wt[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:wt[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:ne[0]},{level:2,wood:240,stone:61,gold:12,timeSec:ne[1]},{level:3,wood:675,stone:205,gold:18,timeSec:ne[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:ne[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:ne[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:ne[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:ne[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:ne[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:ne[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:ne[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:ne[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:ne[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:ne[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:ne[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:ne[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:ne[0]},{level:2,wood:164,stone:27,gold:10,timeSec:ne[1]},{level:3,wood:480,stone:76,gold:15,timeSec:ne[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:ne[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:ne[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:ne[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:ne[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:ne[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:ne[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:ne[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:ne[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:ne[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:ne[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:ne[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:ne[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:ne[0]},{level:2,wood:120,stone:53,gold:30,timeSec:ne[1]},{level:3,wood:352,stone:149,gold:45,timeSec:ne[2]},{level:4,wood:880,stone:356,gold:60,timeSec:ne[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:ne[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:ne[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:ne[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:ne[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:ne[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:ne[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:ne[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:ne[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:ne[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:ne[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:ne[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:wt[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:wt[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:wt[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:wt[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:wt[4]}]}},QK=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],XK="fortress",YK={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function JK(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function sj(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,o=c=>c.toString().padStart(2,"0");return`${o(n)}:${o(r)}:${o(i)}`}const ZK=()=>{const[t,e]=E.useState(XK),[n,r]=E.useState(1),i=E.useMemo(()=>{var p;const d=YK[t],u=y3[d],m=(p=u==null?void 0:u.id)!=null?p:u;return Yo.gifProxy(m)||Yo.gif(m)||""},[t]),o=E.useMemo(()=>{var d,u;return(u=(d=KK[t])==null?void 0:d.costs)!=null?u:[]},[t]),c=E.useMemo(()=>JK(n),[n]);return s.jsxs("div",{className:`${rs.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:QK.map(d=>s.jsx("option",{value:d.key,children:d.label},d.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:rs.panel,children:[s.jsxs("div",{className:rs.panelHead,children:[s.jsxs("div",{className:rs.panelTitle,children:["Fortress  ",t]}),s.jsxs("div",{className:rs.controls,children:[s.jsx("span",{className:rs.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{className:rs.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:16},(d,u)=>u).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:rs.tableWrap,children:s.jsxs("table",{className:rs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:rs.th,children:"Level"}),s.jsx("th",{className:rs.th,children:"Wood"}),s.jsx("th",{className:rs.th,children:"Stone"}),s.jsx("th",{className:rs.th,children:"Build Time"}),s.jsx("th",{className:rs.th,children:"Build Time (L2)"}),s.jsx("th",{className:rs.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:o.map(d=>{var x,v,w,S,P,R,B;const u=(x=d.timeSec)!=null?x:0,m=Math.round(u*(1-c)),p=Math.ceil(Math.ceil(m/60)/10);return s.jsxs("tr",{className:rs.row,children:[s.jsx("td",{className:rs.td,children:d.level}),s.jsx("td",{className:rs.td,children:(S=(w=(v=d.wood)==null?void 0:v.toLocaleString)==null?void 0:w.call(v))!=null?S:d.wood}),s.jsx("td",{className:rs.td,children:(B=(R=(P=d.stone)==null?void 0:P.toLocaleString)==null?void 0:R.call(P))!=null?B:d.stone}),s.jsx("td",{className:rs.td,children:sj(u)}),s.jsx("td",{className:rs.td,children:sj(m)}),s.jsx("td",{className:rs.td,children:p.toLocaleString()})]},d.level)})})]})}),s.jsx("div",{className:rs.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},eQ="_uwCalc_64lws_3",tQ="_panel_64lws_211",sQ="_panelHead_64lws_227",nQ="_panelTitle_64lws_241",rQ="_controls_64lws_243",iQ="_ctrlLabel_64lws_245",aQ="_ctrlSelect_64lws_251",oQ="_tableWrap_64lws_295",lQ="_table_64lws_295",cQ="_th_64lws_309",dQ="_td_64lws_325",uQ="_row_64lws_337",hQ="_note_64lws_339",Kt={uwCalc:eQ,panel:tQ,panelHead:sQ,panelTitle:nQ,controls:rQ,ctrlLabel:iQ,ctrlSelect:aQ,tableWrap:oQ,table:lQ,th:cQ,td:dQ,row:uQ,note:hQ},mQ={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},pQ={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function fQ(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function gQ(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),o=n%60;return{h:r,m:i,s:o}}function nj(t){const{h:e,m:n,s:r}=gQ(t),i=o=>String(o).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function xQ(t,e){var i,o;const n=fQ(e);return((o=(i=pQ[t])==null?void 0:i.costs)!=null?o:[]).map(c=>{const d=c.timeSec*(1-n),u=Math.ceil(Math.ceil(d/60)/10);return{...c,timeAdjSec:d,skipMushroomsAdj:u}})}const vQ=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],yQ=()=>{const[t,e]=E.useState("hearthofdarkngif"),[n,r]=E.useState(1),i=E.useMemo(()=>{var m;const d=y3[t],u=(m=d==null?void 0:d.id)!=null?m:d;return Yo.gifProxy(u)||Yo.gif(u)||""},[t]),o=E.useMemo(()=>{var d;return(d=mQ[t])!=null?d:"hearthofdarkn"},[t]),c=E.useMemo(()=>xQ(o,n),[o,n]);return s.jsxs("div",{className:Kt.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:vQ.map(d=>s.jsx("option",{value:d,children:d.replace(/gif$/i,"")},d))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:Kt.panel,children:[s.jsxs("div",{className:Kt.panelHead,children:[s.jsxs("div",{className:Kt.panelTitle,children:["Underworld  ",o]}),s.jsxs("div",{className:Kt.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:Kt.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{id:"uw-l2",className:Kt.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:15},(d,u)=>u+1).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:Kt.tableWrap,children:s.jsxs("table",{className:Kt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Kt.th,children:"Level"}),s.jsx("th",{className:Kt.th,children:"Soul"}),s.jsx("th",{className:Kt.th,children:"Gold"}),s.jsx("th",{className:Kt.th,children:"Build Time"}),s.jsx("th",{className:Kt.th,children:"Build Time (L2)"}),s.jsx("th",{className:Kt.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:c.length===0?s.jsx("tr",{className:Kt.row,children:s.jsx("td",{className:Kt.td,colSpan:6,children:"No data for this building yet."})}):c.map(d=>s.jsxs("tr",{className:Kt.row,children:[s.jsx("td",{className:Kt.td,children:d.level}),s.jsx("td",{className:Kt.td,children:d.soul}),s.jsx("td",{className:Kt.td,children:d.gold}),s.jsx("td",{className:Kt.td,children:nj(d.timeSec)}),s.jsx("td",{className:Kt.td,children:nj(d.timeAdjSec)}),s.jsx("td",{className:Kt.td,children:d.skipMushroomsAdj})]},d.level))})]})}),s.jsx("p",{className:Kt.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},bQ=()=>s.jsx(es,{title:"Max Item Stats Calculator"}),_Q="_wrap_mnr0g_1",wQ="_card_mnr0g_13",jQ="_title_mnr0g_33",SQ="_form_mnr0g_45",NQ="_field_mnr0g_57",kQ="_input_mnr0g_71",CQ="_gemsRow_mnr0g_87",TQ="_gemBox_mnr0g_101",AQ="_disabled_mnr0g_127",EQ="_gemImg_mnr0g_135",IQ="_gemFallback_mnr0g_149",RQ="_normalGem_mnr0g_165",PQ="_blackGem_mnr0g_173",LQ="_legendaryGem_mnr0g_181",DQ="_gemLabel_mnr0g_189",MQ="_gemValue_mnr0g_199",FQ="_hint_mnr0g_211",kt={wrap:_Q,card:wQ,title:jQ,form:SQ,field:NQ,input:kQ,gemsRow:CQ,gemBox:TQ,disabled:AQ,gemImg:EQ,gemFallback:IQ,normalGem:RQ,blackGem:PQ,legendaryGem:LQ,gemLabel:DQ,gemValue:MQ,hint:FQ},BQ={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},$Q=.25,Cp=t=>Math.round(Number.isFinite(t)?t:0);function VQ(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const R=e*$Q*(1+(n-1)*.25)+r/3;return Cp(R)}const{A:i,B:o,C:c,D:d,E:u,F:m,G:p,H:x,I:v,J:w}=BQ,P=i+o*e+c/n+d*e**2+u/n**2+m*e/n+p*e**3+x/n**3+v*e/n**2+w*e**2/n+r/3;return Cp(P)}function OQ(t){return Cp(t*(2/3))}function UQ(t){return Cp(t)}const Bx={char:1e3,mine:100,hok:1e3},zQ=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,o]=E.useState(""),c=E.useMemo(()=>t===""||n===""||i===""?null:VQ({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(i)}),[t,n,i]),d=E.useMemo(()=>c==null?null:OQ(c),[c]),u=E.useMemo(()=>c==null?null:UQ(c),[c]),m=qo("luckbig"),p=qo("blackbig"),x=qo("legendarybig");return s.jsx("div",{className:kt.wrap,children:s.jsxs("div",{className:kt.card,children:[s.jsx("h2",{className:kt.title,children:"Gem Calculator"}),s.jsxs("div",{className:kt.form,children:[s.jsxs("label",{className:kt.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:kt.input,placeholder:"e.g., 360",value:t,onChange:v=>{const w=v.currentTarget.value;if(w==="")return e("");const S=Number(w);e(Number.isFinite(S)?S:"")},max:Bx.char})]}),s.jsxs("label",{className:kt.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:kt.input,placeholder:"e.g., 10",value:n,onChange:v=>{const w=v.currentTarget.value;if(w==="")return r("");const S=Number(w);r(Number.isFinite(S)?S:"")},max:Bx.mine})]}),s.jsxs("label",{className:kt.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:kt.input,placeholder:"e.g., 840",value:i,onChange:v=>{const w=v.currentTarget.value;if(w==="")return o("");const S=Number(w);o(Number.isFinite(S)?S:"")},max:Bx.hok})]})]}),s.jsxs("div",{className:kt.gemsRow,children:[s.jsxs("div",{className:`${kt.gemBox} ${c==null?kt.disabled:""}`,children:[m?s.jsx("img",{className:kt.gemImg,src:m,alt:"Normal Gem"}):s.jsx("div",{className:`${kt.gemFallback} ${kt.normalGem}`}),s.jsx("div",{className:kt.gemLabel,children:"Normal"}),s.jsx("div",{className:kt.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${kt.gemBox} ${d==null?kt.disabled:""}`,children:[p?s.jsx("img",{className:kt.gemImg,src:p,alt:"Black Gem"}):s.jsx("div",{className:`${kt.gemFallback} ${kt.blackGem}`}),s.jsx("div",{className:kt.gemLabel,children:"Black"}),s.jsx("div",{className:kt.gemValue,children:d!=null?d:""})]}),s.jsxs("div",{className:`${kt.gemBox} ${u==null?kt.disabled:""}`,children:[x?s.jsx("img",{className:kt.gemImg,src:x,alt:"Legendary Gem"}):s.jsx("div",{className:`${kt.gemFallback} ${kt.legendaryGem}`}),s.jsx("div",{className:kt.gemLabel,children:"Legendary"}),s.jsx("div",{className:kt.gemValue,children:u!=null?u:""})]})]}),s.jsxs("p",{className:kt.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},GQ="_container_19zdf_1",HQ="_headerBar_19zdf_13",WQ="_title_19zdf_31",qQ="_meta_19zdf_47",KQ="_description_19zdf_59",Rd={container:GQ,headerBar:HQ,title:WQ,meta:qQ,description:KQ},b3=({title:t,meta:e,description:n})=>s.jsxs("header",{className:Rd.container,children:[s.jsxs("div",{className:Rd.headerBar,children:[s.jsx("h2",{className:Rd.title,children:t}),e&&s.jsx("span",{className:Rd.meta,children:e})]}),n&&s.jsx("p",{className:Rd.description,children:n})]}),QQ=()=>s.jsxs(s.Fragment,{children:[s.jsx(b3,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:s.jsxs(s.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]})}),s.jsx(zQ,{})]}),XQ="_wrapper_67xyv_1",YQ="_panel_67xyv_11",JQ="_header_67xyv_27",ZQ="_title_67xyv_41",eX="_resetBtn_67xyv_53",tX="_table_67xyv_73",sX="_row_67xyv_99",nX="_name_67xyv_115",rX="_selectCell_67xyv_125",iX="_sumCell_67xyv_143",aX="_footer_67xyv_155",oX="_footerLine_67xyv_175",lX="_note_67xyv_187",vs={wrapper:XQ,panel:YQ,header:JQ,title:ZQ,resetBtn:eX,table:tX,row:sX,name:nX,selectCell:rX,sumCell:iX,footer:aX,footerLine:oX,note:lX};function nu(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let o=0;for(let d=r;d<=i;d++)o+=(c=t[d])!=null?c:0;return o}function cX(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function lt(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const dX=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:lt([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:lt([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:lt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:lt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:lt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:lt([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:lt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:lt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:lt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)}],uX=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:lt([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:lt([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:lt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:lt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:lt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:lt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:lt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:lt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)}],rj=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],hX=(()=>{const t=[0,...rj],e=1e3-rj.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),mX=lt([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),pX=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),Ji={light:dX.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:uX.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:hX,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:mX,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:pX,specialType:"sandstorm"}]},Tp=t=>t.toLocaleString("en-US");function ij(){const t={},e={},n={};return Ji.light.forEach(r=>t[r.key]={from:0,to:0}),Ji.shadow.forEach(r=>e[r.key]={from:0,to:0}),Ji.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function _3({row:t,range:e,onChange:n}){var d,u;const r=E.useMemo(()=>cX(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,o=(u=e.to)!=null?u:0,c=E.useMemo(()=>i===0||o===0?0:nu(t.levels,i,o),[t.levels,i,o]);return s.jsxs("tr",{className:vs.row,children:[s.jsx("td",{className:vs.name,children:t.name}),s.jsx("td",{className:vs.selectCell,children:s.jsx("select",{value:i,onChange:m=>n({from:Number(m.target.value),to:o}),children:r.map(m=>s.jsx("option",{value:m,children:m===0?"":m},m))})}),s.jsx("td",{className:vs.selectCell,children:s.jsx("select",{value:o,onChange:m=>n({from:i,to:Number(m.target.value)}),children:r.map(m=>s.jsx("option",{value:m,children:m===0?"":m},m))})}),s.jsxs("td",{className:vs.sumCell,children:[Tp(c)," XP"]})]})}function aj({title:t,rows:e,ranges:n,setRanges:r}){const i=E.useMemo(()=>e.reduce((o,c)=>{const d=n[c.key]||{from:0,to:0};return o+nu(c.levels,d.from,d.to)},0),[e,n]);return s.jsxs("div",{className:vs.panel,children:[s.jsx("div",{className:vs.header,children:s.jsx("div",{className:vs.title,children:t})}),s.jsxs("table",{className:vs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(o=>{var c;return s.jsx(_3,{row:o,range:(c=n[o.key])!=null?c:{from:0,to:0},onChange:d=>r(o.key,d)},o.key)})})]}),s.jsx("div",{className:vs.footer,children:s.jsxs("div",{className:vs.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[Tp(i)," XP"]})]})})]})}function fX(){const t=ij(),[e,n]=E.useState(t.light),[r,i]=E.useState(t.shadow),[o,c]=E.useState(t.special),d=E.useMemo(()=>Ji.light.reduce((v,w)=>{const S=e[w.key];return v+(S?nu(w.levels,S.from,S.to):0)},0),[e]),u=E.useMemo(()=>Ji.shadow.reduce((v,w)=>{const S=r[w.key];return v+(S?nu(w.levels,S.from,S.to):0)},0),[r]),m=E.useMemo(()=>Ji.special.reduce((v,w)=>{const S=o[w.key];return v+(S?nu(w.levels,S.from,S.to):0)},0),[o]),p=d+u+m,x=()=>{const v=ij();n(v.light),i(v.shadow),c(v.special)};return s.jsxs("div",{className:vs.wrapper,children:[s.jsx(aj,{title:"Light World",rows:Ji.light,ranges:e,setRanges:(v,w)=>n(S=>({...S,[v]:w}))}),s.jsx(aj,{title:"Shadow World",rows:Ji.shadow,ranges:r,setRanges:(v,w)=>i(S=>({...S,[v]:w}))}),s.jsxs("div",{className:vs.panel,children:[s.jsxs("div",{className:vs.header,children:[s.jsx("div",{className:vs.title,children:"Special Dungeons"}),s.jsx("button",{className:vs.resetBtn,onClick:x,children:"RESET"})]}),s.jsxs("table",{className:vs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:Ji.special.map(v=>{var w;return s.jsx(_3,{row:v,range:(w=o[v.key])!=null?w:{from:0,to:0},onChange:S=>c(P=>({...P,[v.key]:S}))},v.key)})})]}),s.jsxs("div",{className:vs.footer,children:[s.jsxs("div",{className:vs.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[Tp(m)," XP"]})]}),s.jsxs("div",{className:vs.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[Tp(p)," XP"]})]}),s.jsxs("div",{className:vs.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function gX(){return s.jsx("div",{style:{padding:12},children:s.jsx(fX,{})})}const xX=()=>s.jsx(es,{title:"Progression  Early Game"}),vX="_wrap_n2poq_31",yX="_title_n2poq_33",bX="_infoBox_n2poq_39",_X="_infoTitle_n2poq_63",wX="_infoList_n2poq_73",jX="_section_n2poq_89",SX="_h2_n2poq_101",NX="_h3_n2poq_103",kX="_intro_n2poq_105",CX="_ul_n2poq_107",TX="_img_n2poq_113",Ft={wrap:vX,title:yX,infoBox:bX,infoTitle:_X,infoList:wX,section:jX,h2:SX,h3:NX,intro:kX,ul:CX,img:TX},AX=()=>{el();const t=[qo("first-weekend-guide-day1",900),qo("first-weekend-guide-day2",900),qo("first-weekend-guide-day3",900)];return s.jsxs("div",{className:Ft.wrap,children:[s.jsx("h1",{className:Ft.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:Ft.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:Ft.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:Ft.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:Ft.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:Ft.section,children:[s.jsx("h2",{className:Ft.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:Ft.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:Ft.section,children:[s.jsx("h2",{className:Ft.h2,children:"Day 1"}),s.jsx("h3",{className:Ft.h3,children:"Level 13"}),s.jsxs("ul",{className:Ft.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:Ft.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:Ft.section,children:[s.jsx("h3",{className:Ft.h3,children:"Level 410"}),s.jsxs("ul",{className:Ft.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:Ft.section,children:[s.jsx("h2",{className:Ft.h2,children:"Day 2"}),s.jsx("h3",{className:Ft.h3,children:"Level 1015"}),s.jsxs("ul",{className:Ft.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:Ft.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:Ft.section,children:[s.jsx("h2",{className:Ft.h2,children:"Day 3"}),s.jsx("h3",{className:Ft.h3,children:"Level 1520"}),s.jsxs("ul",{className:Ft.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:Ft.img,src:t[2],alt:"Day 3 overview"})]})]})},EX=()=>s.jsx(es,{title:"Max Item Stats Calculator"}),IX=()=>s.jsx(es,{title:"Fortress Package skip order (Early)"}),RX=()=>s.jsx(es,{title:"Underworld Pro Package skip order (Early)"}),PX=()=>s.jsx(es,{title:"Gem Calculator (Early)"}),LX=()=>s.jsx(es,{title:"Fortress attack duplication guide (Early)"}),DX=()=>s.jsx(es,{title:"Progression  Mid Game"}),MX="_wrap_1x7jo_31",FX="_header_1x7jo_35",BX="_titles_1x7jo_55",$X="_h1_1x7jo_57",VX="_lead_1x7jo_59",OX="_ctaRow_1x7jo_63",UX="_cta_1x7jo_63",zX="_section_1x7jo_85",GX="_sectionGrid_1x7jo_87",HX="_card_1x7jo_99",WX="_h2_1x7jo_103",qX="_h3_1x7jo_105",KX="_p_1x7jo_107",QX="_ul_1x7jo_111",XX="_ol_1x7jo_111",YX="_figure_1x7jo_117",JX="_figureNarrow_1x7jo_139",ZX="_img_1x7jo_149",eY="_fallbackImg_1x7jo_151",tY="_figCaption_1x7jo_159",sY="_tableWrap_1x7jo_163",nY="_table_1x7jo_163",rY="_footer_1x7jo_217",iY="_tools_1x7jo_219",aY="_toolBtn_1x7jo_221",xt={wrap:MX,header:FX,titles:BX,h1:$X,lead:VX,ctaRow:OX,cta:UX,section:zX,sectionGrid:GX,card:HX,h2:WX,h3:qX,p:KX,ul:QX,ol:XX,figure:YX,figureNarrow:JX,img:ZX,fallbackImg:eY,figCaption:tY,tableWrap:sY,table:nY,footer:rY,tools:iY,toolBtn:aY},oY=1400;function lY(){const t=E.useMemo(()=>qo("goldxpcurve",oY),[]);return s.jsxs("div",{className:xt.wrap,children:[s.jsxs("header",{className:xt.header,children:[s.jsxs("div",{className:xt.titles,children:[s.jsx("h1",{className:xt.h1,children:"Dungeon Pause"}),s.jsx("p",{className:xt.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:xt.ctaRow,children:[s.jsx(Dt,{className:xt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(Dt,{className:xt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:xt.section,children:[s.jsx("h2",{className:xt.h2,children:"Worum gehts?"}),s.jsxs("p",{className:xt.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:xt.section,children:[s.jsx("h3",{className:xt.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${xt.figure} ${xt.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:xt.img}):s.jsx("div",{className:xt.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:xt.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:xt.sectionGrid,children:[s.jsxs("div",{className:xt.card,children:[s.jsx("h3",{className:xt.h3,children:"Start & Ende"}),s.jsxs("ul",{className:xt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:xt.card,children:[s.jsx("h3",{className:xt.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:xt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:xt.section,children:[s.jsx("h3",{className:xt.h3,children:"Vorgehen"}),s.jsxs("ol",{className:xt.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:xt.section,children:[s.jsx("h3",{className:xt.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:xt.tableWrap,children:s.jsxs("table",{className:xt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:xt.footer,children:s.jsxs("div",{className:xt.tools,children:[s.jsx(Dt,{className:xt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(Dt,{className:xt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const cY=()=>s.jsx(es,{title:"Dungeon Pause open XP Calculator"}),dY="_wrap_1uhww_3",uY="_headerBar_1uhww_15",hY="_title_1uhww_33",mY="_meta_1uhww_45",pY="_description_1uhww_55",fY="_section_1uhww_69",gY="_sectionTitle_1uhww_77",xY="_steps_1uhww_87",xi={wrap:dY,headerBar:uY,title:hY,meta:mY,description:pY,section:fY,sectionTitle:gY,steps:xY};function vY(){return s.jsxs("div",{className:xi.wrap,children:[s.jsxs("div",{className:xi.headerBar,children:[s.jsx("h2",{className:xi.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:xi.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:xi.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:xi.section,children:[s.jsx("h3",{className:xi.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:xi.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:xi.section,children:[s.jsx("h3",{className:xi.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const yY=()=>s.jsx(es,{title:"Gem Calculator (Mid)"}),bY=()=>s.jsx(es,{title:"Calendar Skip"}),_Y=()=>s.jsx(es,{title:"Progression  Late Game"}),wY="_layout_13sgm_29",jY="_side_13sgm_49",SY="_sideHead_13sgm_61",NY="_search_13sgm_71",kY="_spotBtn_13sgm_89",CY="_sideList_13sgm_109",TY="_sideItem_13sgm_111",AY="_active_13sgm_119",EY="_sideTitle_13sgm_121",IY="_ico_13sgm_123",RY="_badge_13sgm_125",PY="_detail_13sgm_139",LY="_detailInner_13sgm_141",DY="_detailHead_13sgm_143",MY="_detailTitle_13sgm_145",FY="_empty_13sgm_147",BY="_grid_13sgm_151",$Y="_card_13sgm_157",VY="_cardHead_13sgm_175",OY="_btnGrid_13sgm_177",UY="_itemBtn_13sgm_179",zY="_spotWrap_13sgm_203",GY="_spot_13sgm_89",HY="_spotHead_13sgm_227",WY="_spotSearch_13sgm_235",qY="_spotClose_13sgm_243",KY="_spotList_13sgm_253",QY="_spotItem_13sgm_255",XY="_spotItemEmpty_13sgm_259",YY="_spotCat_13sgm_261",JY="_spotLabel_13sgm_263",ZY="_mark_13sgm_267",mt={layout:wY,side:jY,sideHead:SY,search:NY,spotBtn:kY,sideList:CY,sideItem:TY,active:AY,sideTitle:EY,ico:IY,badge:RY,detail:PY,detailInner:LY,detailHead:DY,detailTitle:MY,empty:FY,grid:BY,card:$Y,cardHead:VY,btnGrid:OY,itemBtn:UY,spotWrap:zY,spot:GY,spotHead:HY,spotSearch:WY,spotClose:qY,spotList:KY,spotItem:QY,spotItemEmpty:XY,spotCat:YY,spotLabel:JY,mark:ZY};function eJ(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pd(t,e){if(!e)return t;const n=new RegExp(`(${eJ(e)})`,"ig");return t.replace(n,`<mark class="${mt.mark}">$1</mark>`)}function oj(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function tJ(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of i.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${i.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:i.key,sub2Key:d.key});else e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else for(const c of i.sub2)e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function sJ(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const nJ=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=E.useState(()=>{var D;return((D=t==null?void 0:t[0])==null?void 0:D.key)||""}),[o,c]=E.useState(""),[d,u]=E.useState(!1),m=E.useRef(null),p=E.useMemo(()=>{const D=o.trim().toLowerCase();if(!D)return t;const T=y=>y.toLowerCase().includes(D);return t.map(y=>{const j=T(y.label),M=[];for(const C of y.sub||[]){const _=T(C.label);if(C.sub2&&C.sub2.length)if(C.sub2.some(L=>L.sub2&&L.sub2.length)){const L=[];for(const I of C.sub2)if(I.sub2&&I.sub2.length){const V=I.sub2.filter($=>T($.label));V.length&&L.push({...I,sub2:V})}else T(I.label)&&L.push(I);(_||L.length)&&M.push({...C,sub2:L})}else{const L=C.sub2.filter(I=>T(I.label));(_||L.length)&&M.push({...C,sub2:L})}else _&&M.push(C)}return j||M.length?{...y,sub:M.length?M:y.sub}:null}).filter(Boolean)},[t,o]),x=E.useMemo(()=>{const D=p.length?p:t,T=sJ(D,r);return D.find(y=>y.key===T)||D[0]||null},[p,t,r]),v=E.useMemo(()=>tJ(t),[t]),[w,S]=E.useState(""),P=E.useMemo(()=>{const D=w.trim().toLowerCase();return D?v.filter(T=>T.full.toLowerCase().includes(D)):v},[v,w]);E.useEffect(()=>{const D=T=>{const y=T.key.toLowerCase()==="k";(T.metaKey||T.ctrlKey)&&y&&(T.preventDefault(),u(!0),setTimeout(()=>{var j;return(j=m.current)==null?void 0:j.focus()},0)),T.key==="Escape"&&u(!1)};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[]);const R=E.useRef(null);E.useEffect(()=>{var D;n&&((D=R.current)==null||D.focus())},[n]);const B=()=>{var M;const D=o.trim().toLowerCase(),T=(D?v.find(C=>C.full.toLowerCase().includes(D)):v[0])||null;if(T){e({tab:T.catKey,sub:T.subKey,sub2:T.sub2Key});return}const y=x,j=(M=y==null?void 0:y.sub)==null?void 0:M[0];if(!(!y||!j))if(j.sub2&&j.sub2.length)if(j.sub2.some(_=>_.sub2&&_.sub2.length)){const _=j.sub2[0];_.sub2&&_.sub2.length?e({tab:y.key,sub:j.key,sub2:_.sub2[0].key}):e({tab:y.key,sub:j.key,sub2:_.key})}else e({tab:y.key,sub:j.key,sub2:j.sub2[0].key});else e({tab:y.key,sub:j.key})};return s.jsxs("div",{className:mt.layout,children:[s.jsxs("div",{className:mt.side,children:[s.jsxs("div",{className:mt.sideHead,children:[s.jsx("input",{ref:R,className:mt.search,type:"search",placeholder:"Suche",value:o,onChange:D=>c(D.target.value),onKeyDown:D=>{D.key==="Enter"&&B()}}),s.jsx("button",{className:mt.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var D;return(D=m.current)==null?void 0:D.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:mt.sideList,children:(p.length?p:t).map(D=>s.jsxs("div",{className:`${mt.sideItem} ${(x==null?void 0:x.key)===D.key?mt.active:""}`,onClick:()=>i(D.key),children:[s.jsxs("span",{className:mt.sideTitle,children:[D.icon?s.jsx("span",{className:mt.ico,"aria-hidden":!0,children:D.icon}):null,D.label]}),s.jsx("span",{className:mt.badge,children:oj(D.sub)})]},D.key))})]}),s.jsx("div",{className:mt.detail,children:x?s.jsxs("div",{className:mt.detailInner,children:[s.jsxs("div",{className:mt.detailHead,children:[s.jsxs("h3",{className:mt.detailTitle,children:[x.icon?s.jsx("span",{className:mt.ico,"aria-hidden":!0,children:x.icon}):null,x.label]}),s.jsxs("div",{className:mt.badge,children:[oj(x.sub)," Eintrge"]})]}),s.jsx("div",{className:mt.grid,children:(x.sub||[]).map(D=>{const T=D.sub2&&D.sub2.length>0,y=T&&D.sub2.some(j=>j.sub2&&j.sub2.length);return s.jsxs("div",{className:mt.card,children:[s.jsx("div",{className:mt.cardHead,dangerouslySetInnerHTML:{__html:Pd(D.label,o)}}),T?s.jsx("div",{className:mt.btnGrid,children:y?D.sub2.flatMap(j=>j.sub2&&j.sub2.length?j.sub2.map(M=>s.jsx("button",{className:mt.itemBtn,onClick:()=>e({tab:x.key,sub:D.key,sub2:M.key}),dangerouslySetInnerHTML:{__html:Pd(`${j.label}  ${M.label}`,o)}},`${j.key}__${M.key}`)):[s.jsx("button",{className:mt.itemBtn,onClick:()=>e({tab:x.key,sub:D.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:Pd(j.label,o)}},j.key)]):D.sub2.map(j=>s.jsx("button",{className:mt.itemBtn,onClick:()=>e({tab:x.key,sub:D.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:Pd(j.label,o)}},j.key))}):s.jsx("div",{className:mt.btnGrid,children:s.jsx("button",{className:mt.itemBtn,onClick:()=>e({tab:x.key,sub:D.key}),dangerouslySetInnerHTML:{__html:Pd(D.label,o)}})})]},D.key)})}),o&&x.sub&&x.sub.length>0&&x.sub.every(D=>!D.sub2||!D.sub2.length?!D.label.toLowerCase().includes(o.trim().toLowerCase()):D.sub2.some(y=>y.sub2&&y.sub2.length)?D.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(j=>!j.label.toLowerCase().includes(o.trim().toLowerCase())):!y.label.toLowerCase().includes(o.trim().toLowerCase())):D.sub2.every(y=>!y.label.toLowerCase().includes(o.trim().toLowerCase())))?s.jsxs("div",{className:mt.empty,children:["Keine Treffer in ",x.label,"."]}):null]}):s.jsx("div",{className:mt.empty,children:"Keine Kategorie gefunden."})}),d&&s.jsx("div",{className:mt.spotWrap,onClick:()=>u(!1),children:s.jsxs("div",{className:mt.spot,onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:mt.spotHead,children:[s.jsx("input",{ref:m,className:mt.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:w,onChange:D=>S(D.target.value)}),s.jsx("button",{className:mt.spotClose,onClick:()=>u(!1),children:"Esc"})]}),s.jsx("div",{className:mt.spotList,children:P.length===0?s.jsx("div",{className:mt.spotItemEmpty,children:"Keine Treffer"}):P.map((D,T)=>s.jsxs("div",{className:mt.spotItem,onClick:()=>{u(!1),e({tab:D.catKey,sub:D.subKey,sub2:D.sub2Key})},children:[s.jsx("div",{className:mt.spotCat,children:D.catKey}),s.jsx("div",{className:mt.spotLabel,children:D.full})]},T))})]})})]})},rJ={gamefeatures:QW,progression:XW,hellevator:YW,"legendary-dungeon":JW,events:ZW,calculators:hq,infographics:mq,"class-book":pq,dungeons:fq},lj={gamefeatures:{fortress:gq,underworld:Iq,arenaam:Lq},hellevator:{"hellevator-guide":IK},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":RK},events:{"event-list":PK,"event-cycle":LK},calculators:{"fortress-calculator":ZK,"underworld-calculator":yQ,"max-item-stats-calculator":bQ,"gem-calculator":QQ,"dungeon-pause-open-xp-calculator":gX},progression:{early:xX,mid:DX,late:_Y}},$x={gamefeatures:{arenaam:{"am-rune-bonuses":bK,"am-build-order":EK},underworld:{"underworld-calculator":Rq,"underworld-pro-package-skip-order":Pq},fortress:{"fortress-calculator":xq,"fortress-package-skip-order":Aq,"fortress-attack-duplication":Eq}},progression:{early:{"first-weekend-guide":AX,"max-item-stats-calculator":EX,"fortress-package-skip-order":IX,"underworld-pro-package-skip-order":RX,"gem-calculator":PX,"fortress-attack-duplication":LX},mid:{"dungeon-pause":lY,"dungeon-pause-open-xp-calculator":cY,"dungeon-pause-exit":vY,"gem-calculator":yY,"calendar-skip":bY}}};function iJ(){const[t,e]=el(),n=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let o=null;n?n&&!r?o=rJ[n]||null:n&&r&&!i?o=lj[n]&&lj[n][r]||null:n&&r&&i&&(o=$x[n]&&$x[n][r]&&$x[n][r][i]||null):o=null;const c=d=>{const u=new URLSearchParams(t);u.set("tab",d.tab),d.sub?u.set("sub",d.sub):u.delete("sub"),d.sub2?u.set("sub2",d.sub2):u.delete("sub2"),e(u,{replace:!1})};return s.jsxs(gt,{children:[s.jsx("div",{className:Kl.topWrap,children:s.jsx(OW,{logoSrc:KW,categories:Zw,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:Kl.divider}),s.jsx("div",{className:Kl.contentArea,children:o?s.jsx(o,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Kl.placeholder,children:[s.jsx("h2",{className:Kl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:Kl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(nJ,{categories:Zw,onNavigate:c,autoFocusSearch:!1})]})})]})}const aJ="_wrap_1353r_1",oJ="_centerLogoWrap_1353r_21",lJ="_centerLogoLink_1353r_37",cJ="_centerLogo_1353r_21",dJ="_arc_1353r_71",uJ="_left_1353r_73",hJ="_right_1353r_75",mJ="_sub_1353r_77",pJ="_full_1353r_79",fJ="_arcItem_1353r_81",gJ="_iconBtn_1353r_87",xJ="_active_1353r_141",vJ="_iconImg_1353r_151",yJ="_placeholderIcon_1353r_155",bJ="_placeholderText_1353r_173",_J="_iconLabel_1353r_177",tn={wrap:aJ,centerLogoWrap:oJ,centerLogoLink:lJ,centerLogo:cJ,arc:dJ,left:uJ,right:hJ,sub:mJ,full:pJ,arcItem:fJ,iconBtn:gJ,active:xJ,iconImg:vJ,placeholderIcon:yJ,placeholderText:bJ,iconLabel:_J},wJ=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Kn();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),p=new URL(t,window.location.origin).searchParams,x=p.get("tab"),v=p.get("sub");o=r==="sub"?d===x&&!!v&&u===v:d===x}catch(c){o=!1}return s.jsxs(Dt,{to:t,"aria-label":e,className:[tn.iconBtn,r==="sub"?tn.muted:"",o?tn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:tn.iconImg}):s.jsx("div",{className:tn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:tn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:tn.iconLabel,children:e})]})},Vx=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440})=>{const d=E.useMemo(()=>{const m=t.length;if(m===0)return[];let p=-90,x=90;e==="left"?(p=90,x=270):e==="sub"?n==="left"?(p=90,x=270):(p=-90,x=90):e==="full"&&(p=0,x=360);const v=(x-p)/(m+1),w=r?190:250;return t.map((S,P)=>{const B=(p+v*(P+1))*Math.PI/180;return{it:S,x:Math.cos(B)*w,y:Math.sin(B)*w}})},[t,e,n,r]),u=(()=>{const m={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?m.left=`calc(50% - ${o}px)`:e==="right"?m.left=`calc(50% + ${o}px)`:e==="sub"&&(m.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),m})();return s.jsx("div",{className:[tn.arc,e==="left"?tn.left:"",e==="right"?tn.right:"",e==="sub"?tn.sub:"",e==="full"?tn.full:""].join(" "),style:u,children:d.map(({it:m,x:p,y:x})=>s.jsx("div",{className:tn.arcItem,style:{transform:`translate(${p}px, ${x}px)`},children:s.jsx(wJ,{to:m.to,label:m.label,icon:m.icon,variant:i})},m.key))})},jJ=["creators","scans","predictions","news","records","feedback"],Uv=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],SJ={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},NJ=new Set(jJ),kJ=Uv.reduce((t,e)=>(t[e.key]=e,t),{}),CJ=t=>typeof t=="string"&&NJ.has(t),TJ=({logoSrc:t})=>{const[e]=el(),n=e.get("tab")||null,r=E.useMemo(()=>Uv.filter(w=>w.side==="left"),[]),i=E.useMemo(()=>Uv.filter(w=>w.side==="right"),[]),o=CJ(n)?n:null,c=o?SJ[o]:[],d=o?kJ[o].side:"right",u=E.useRef(null),[m,p]=E.useState(220),[x,v]=E.useState(440);return E.useEffect(()=>{const w=()=>{var T,y;const P=((y=(T=u.current)==null?void 0:T.offsetWidth)!=null?y:380)/2,B=Math.round(P+60),D=Math.round(B+220);p(B),v(D)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),s.jsxs("div",{className:tn.wrap,children:[s.jsx("div",{className:tn.centerLogoWrap,children:s.jsx(Dt,{to:"/community",className:tn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:u,src:t,alt:"Community Hub",className:tn.centerLogo})})}),s.jsx(Vx,{items:r.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"left",variant:"main",arcOffset:m}),s.jsx(Vx,{items:i.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"right",variant:"main",arcOffset:m}),c.length>0&&s.jsx(Vx,{items:c.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:x})]})},AJ="_topWrap_1rivx_1",EJ="_divider_1rivx_19",IJ="_contentArea_1rivx_53",RJ="_placeholder_1rivx_63",PJ="_placeholderTitle_1rivx_77",LJ="_placeholderText_1rivx_91",Ql={topWrap:AJ,divider:EJ,contentArea:IJ,placeholder:RJ,placeholderTitle:PJ,placeholderText:LJ},DJ="/assets/logo_communityhub-LVMLHRD6.png",MJ=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function w3(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function FJ(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,o]=e.map(c=>parseInt(c,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o))return new Date(o,i-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function Ox(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function BJ(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function $J(t){return t.avatar?t.avatar:`/avatars/${w3(t.code||t.name||"creator")}.png`}function VJ(t){const e=w3(t.code||t.name||"creator"),n=[],r=Ox(t.youtube);r&&n.push({type:"YouTube",url:r});const i=Ox(t.twitch);i&&n.push({type:"Twitch",url:i});const o=Ox(t.discord);return o&&n.push({type:"Discord",url:o}),{id:`sheet-${e}`,name:t.name,avatar:$J(t),description:BJ(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:FJ(t.latestActivity),platforms:n}}function OJ(t){var n,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(n=t==null?void 0:t.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function j3(t="/data/creators-live.json"){const[e,n]=E.useState(null),[r,i]=E.useState(""),[o,c]=E.useState(!1),[d,u]=E.useState(0);return E.useEffect(()=>{let m=!1;async function p(){c(!0),i("");try{const x=await fetch(t,{cache:"no-store"});if(!x.ok)throw new Error(`HTTP ${x.status}`);const v=await x.json();m||n(OJ(v))}catch(x){m||(i((x==null?void 0:x.message)||"Failed to load creator snapshot"),n(null))}finally{m||c(!1)}}return p(),()=>{m=!0}},[t,d]),{snapshot:e,error:r,loading:o,refresh:()=>u(m=>m+1)}}const UJ=MJ,zJ=UJ.map(VJ),GJ=[...zJ];function S3(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function Ua(t,e,n=S3){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function ku(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function HJ(t,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(ku(r.lastActive)-ku(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function WJ(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function cj({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[WJ(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:Ua(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:Ua(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:Ua(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:Ua(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",ku(t.lastActive),"d ago"]})]})]},t.id)}function qJ({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:Ua(e.subscribers)}),s.jsx("td",{children:Ua(e.totalViews)}),s.jsx("td",{children:Ua(e.weeklyViews)}),s.jsx("td",{children:Ua(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[ku(e.lastActive),"d"]})]},e.id))})]})})}function N3(){var se,de;const[t,e]=E.useState("static"),[n,r]=E.useState("cards"),[i,o]=E.useState("subs"),[c,d]=E.useState("desc"),[u,m]=E.useState("all"),[p,x]=E.useState("all"),[v,w]=E.useState(0),[S,P]=E.useState(365),[R,B]=E.useState(null),[D,T]=E.useState(""),[y,j]=E.useState(!1),[M,C]=E.useState(""),[_,A]=E.useState(null),{snapshot:L,error:I}=j3(),V=(se=L==null?void 0:L.data)!=null&&se.length?L.data:null,$=V!=null?V:GJ,W=t==="static"?$:(de=_!=null?_:V)!=null?de:[],z=E.useMemo(()=>{const ee=new Set(W.map(fe=>fe.language));return Array.from(ee).sort()},[W]),q=E.useMemo(()=>W.filter(ee=>u==="all"?!0:ee.language===u).filter(ee=>p==="all"?!0:ee.platforms.some(fe=>fe.type===p)).filter(ee=>ee.subscribers>=v).filter(ee=>ku(ee.lastActive)<=S).slice().sort(HJ(i,c)),[W,u,p,v,S,i,c]);E.useEffect(()=>{if(!R&&q.length){const ee=q[Math.floor(Math.random()*q.length)];B(ee.id)}},[q,R]);const Q=E.useMemo(()=>q.find(ee=>ee.id===R)||null,[q,R]),G=E.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyViews-ee.weeklyViews).slice(0,5),[q]),te=E.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyPosts-ee.weeklyPosts).slice(0,5),[q]);async function re(){C(""),j(!0);try{const ee=await fetch(D,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const fe=await ee.json(),Te=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.data)?fe.data:[];A(Te)}catch(ee){C((ee==null?void 0:ee.message)||"Fetch failed")}finally{j(!1)}}const H=q.length===0;return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),L&&s.jsxs("p",{className:"cc-sync",children:[s.jsxs("span",{children:["Live stats synced ",new Date(L.generatedAt).toLocaleString()]}),s.jsxs("span",{children:[L.data.length," profiles"]})]}),I&&s.jsx("p",{className:"cc-sync-error",children:I})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:ee=>e(ee.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:ee=>r(ee.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:i,onChange:ee=>o(ee.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:c,onChange:ee=>d(ee.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:u,onChange:ee=>m(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),z.map(ee=>s.jsx("option",{value:ee,children:ee.toUpperCase()},ee))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:p,onChange:ee=>x(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:v,onChange:ee=>w(Number(ee.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:S,onChange:ee=>P(Number(ee.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:D,onChange:ee=>T(ee.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:re,disabled:!D||y,children:y?"Loading":"Fetch"})]}),M&&s.jsx("div",{className:"cc-api-error",children:M}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),Q&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!q.length)return;const ee=q[Math.floor(Math.random()*q.length)];B(ee.id)},children:"Shuffle"})]}),s.jsx(cj,{c:Q})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[H&&s.jsxs("div",{className:"cc-empty",children:[s.jsx("h3",{children:"No creators match the filters"}),s.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!H&&n==="cards"&&s.jsx("div",{className:"cc-grid",children:q.map(ee=>s.jsx(cj,{c:ee},ee.id))}),!H&&n==="table"&&s.jsx(qJ,{data:q}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(q,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:G.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:S3(ee.weeklyViews)})]},ee.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:te.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:ee.weeklyPosts})]},ee.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function k3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function C3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function T3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function A3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const KJ=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],Ux=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],QJ={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},XJ=t=>QJ[t],YJ=(t,e=64)=>{var i;const n=XJ(t),r=Yo(n);return r&&(i=Pr(r,e))!=null?i:null},JJ="_recordsPage_kdw96_1",ZJ="_navArea_kdw96_15",eZ="_tabList_kdw96_27",tZ="_tabButton_kdw96_55",sZ="_tabButtonActive_kdw96_101",nZ="_sectionContent_kdw96_115",rZ="_placeholderPanel_kdw96_127",iZ="_placeholderTitle_kdw96_143",aZ="_placeholderText_kdw96_157",oZ="_milestoneSection_kdw96_171",lZ="_sectionHeader_kdw96_183",cZ="_filterBar_kdw96_197",dZ="_filterButtons_kdw96_231",uZ="_filterButton_kdw96_231",hZ="_filterButtonActive_kdw96_295",mZ="_filterSelectWrapper_kdw96_309",pZ="_filterLabel_kdw96_321",fZ="_filterSelect_kdw96_309",gZ="_emptyFilterMessage_kdw96_355",xZ="_currentSection_kdw96_369",vZ="_currentGrid_kdw96_381",yZ="_currentCard_kdw96_393",bZ="_categoryLabel_kdw96_419",_Z="_recordTitle_kdw96_433",wZ="_currentDetails_kdw96_445",jZ="_notes_kdw96_457",SZ="_infoPanel_kdw96_469",NZ="_infoCard_kdw96_481",kZ="_disclaimerCard_kdw96_483",CZ="_infoHeader_kdw96_525",TZ="_infoAuthor_kdw96_539",AZ="_authorName_kdw96_557",EZ="_authorBadge_kdw96_565",IZ="_infoAuthorIcon_kdw96_591",RZ="_infoDate_kdw96_623",PZ="_infoBody_kdw96_633",LZ="_infoTitle_kdw96_645",DZ="_infoLink_kdw96_665",MZ="_milestoneGrid_kdw96_719",FZ="_milestoneCard_kdw96_731",BZ="_milestoneCategory_kdw96_757",$Z="_milestoneTitle_kdw96_771",VZ="_milestoneDetails_kdw96_785",OZ="_detailRow_kdw96_797",UZ="_detailLabel_kdw96_809",zZ="_detailValue_kdw96_823",GZ="_sourceLink_kdw96_833",HZ="_emptyState_kdw96_855",Me={recordsPage:JJ,navArea:ZJ,tabList:eZ,tabButton:tZ,tabButtonActive:sZ,sectionContent:nZ,placeholderPanel:rZ,placeholderTitle:iZ,placeholderText:aZ,milestoneSection:oZ,sectionHeader:lZ,filterBar:cZ,filterButtons:dZ,filterButton:uZ,filterButtonActive:hZ,filterSelectWrapper:mZ,filterLabel:pZ,filterSelect:fZ,emptyFilterMessage:gZ,currentSection:xZ,currentGrid:vZ,currentCard:yZ,categoryLabel:bZ,recordTitle:_Z,currentDetails:wZ,notes:jZ,infoPanel:SZ,infoCard:NZ,disclaimerCard:kZ,infoHeader:CZ,infoAuthor:TZ,authorName:AZ,authorBadge:EZ,infoAuthorIcon:IZ,infoDate:RZ,infoBody:PZ,infoTitle:LZ,infoLink:DZ,milestoneGrid:MZ,milestoneCard:FZ,milestoneCategory:BZ,milestoneTitle:$Z,milestoneDetails:VZ,detailRow:OZ,detailLabel:UZ,detailValue:zZ,sourceLink:GZ,emptyState:HZ},WZ=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],qZ={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},KZ=({title:t,description:e,hint:n})=>s.jsxs("article",{className:Me.placeholderPanel,children:[s.jsx("h2",{className:Me.placeholderTitle,children:t}),s.jsx("p",{className:Me.placeholderText,children:e}),n&&s.jsx("p",{className:Me.emptyState,children:n})]}),QZ=()=>{const[t,e]=E.useState("all"),n=E.useMemo(()=>{const o=new Set,c=[];for(const d of Ux)o.has(d.category)||(o.add(d.category),c.push(d.category));return["all",...c]},[]),r=t==="all"?Ux:Ux.filter(o=>o.category===t),i=o=>{e(o)};return s.jsxs("section",{className:Me.milestoneSection,"aria-label":"Records milestones",children:[s.jsxs("div",{className:Me.sectionHeader,children:[s.jsx("p",{children:"Milestones"}),s.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),s.jsxs("div",{className:Me.filterBar,children:[s.jsx("div",{className:Me.filterButtons,children:n.map(o=>s.jsx("button",{type:"button",className:[Me.filterButton,t===o&&Me.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(o),"aria-pressed":t===o,children:o==="all"?"All Categories":o},o))}),s.jsxs("label",{className:Me.filterSelectWrapper,children:[s.jsx("span",{className:Me.filterLabel,children:"Category"}),s.jsx("select",{value:t,onChange:o=>i(o.target.value),className:Me.filterSelect,children:n.map(o=>s.jsx("option",{value:o,children:o==="all"?"All Categories":o},o))})]})]}),r.length===0?s.jsx("p",{className:Me.emptyFilterMessage,children:"No milestones fall into this category yet."}):s.jsx("div",{className:Me.milestoneGrid,children:r.map(o=>s.jsxs("article",{className:Me.milestoneCard,children:[s.jsx("span",{className:Me.milestoneCategory,children:o.category}),s.jsx("h3",{className:Me.milestoneTitle,children:o.achievement}),s.jsxs("div",{className:Me.milestoneDetails,children:[s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Name"}),s.jsx("span",{className:Me.detailValue,children:o.name})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Server"}),s.jsx("span",{className:Me.detailValue,children:o.server})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Date"}),s.jsx("span",{className:Me.detailValue,children:o.date})]}),o.notes&&s.jsx("p",{className:Me.notes,children:o.notes}),o.source&&s.jsx("a",{href:o.source,target:"_blank",rel:"noreferrer",className:Me.sourceLink,children:"Source"})]})]},`${o.achievement}-${o.name}`))})]})},XZ=()=>s.jsxs("section",{className:Me.currentSection,"aria-label":"Current community records",children:[s.jsxs("div",{className:Me.sectionHeader,children:[s.jsx("p",{children:"Current Records"}),s.jsx("h2",{children:"The latest verified achievements"})]}),s.jsx("div",{className:Me.currentGrid,children:KJ.map((t,e)=>s.jsxs("article",{className:Me.currentCard,children:[s.jsx("span",{className:Me.categoryLabel,children:t.category}),s.jsx("h3",{className:Me.recordTitle,children:t.record}),s.jsxs("div",{className:Me.currentDetails,children:[s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Class"}),s.jsx("span",{className:Me.detailValue,children:t.classType})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Player"}),s.jsx("span",{className:Me.detailValue,children:t.playerName})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Server"}),s.jsx("span",{className:Me.detailValue,children:t.server})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Days"}),s.jsx("span",{className:Me.detailValue,children:t.days})]}),t.release&&s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Release"}),s.jsx("span",{className:Me.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&s.jsxs("p",{className:Me.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&s.jsx("p",{className:Me.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),Ld={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function E3(){const[t,e]=E.useState("current"),n=YJ("infoCard",32),r=()=>{if(t==="current")return s.jsx(XZ,{});if(t==="milestones")return s.jsx(QZ,{});const i=qZ[t];return s.jsx(KZ,{title:i.title,description:i.description,hint:i.hint})};return s.jsxs("section",{className:Me.recordsPage,children:[s.jsx(b3,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),s.jsxs("div",{className:Me.infoPanel,children:[s.jsxs("div",{className:Me.infoCard,children:[s.jsxs("div",{className:Me.infoHeader,children:[s.jsxs("div",{className:Me.infoAuthor,children:[n?s.jsx("img",{src:n,alt:"Community Data",className:Me.infoAuthorIcon}):null,s.jsx("span",{className:Me.authorName,children:"S&F Tavern Info"}),s.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Me.authorBadge,children:"Discord"})]}),s.jsx("span",{className:Me.infoDate,children:"11.12.2020 14:08"})]}),s.jsxs("div",{className:Me.infoBody,children:[s.jsx("h3",{className:Me.infoTitle,children:Ld.title}),Ld.paragraphs.map(i=>s.jsx("p",{children:i},i))]}),s.jsxs("div",{className:Me.infoLink,children:[s.jsx("span",{children:Ld.linkLabel}),s.jsx("a",{href:Ld.linkUrl,target:"_blank",rel:"noreferrer",children:Ld.linkUrl})]})]}),s.jsxs("div",{className:Me.disclaimerCard,children:[s.jsx("h3",{className:Me.infoTitle,children:"Disclaimer"}),s.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),s.jsx("div",{className:Me.navArea,children:s.jsx("nav",{className:Me.tabList,"aria-label":"Records navigation",children:WZ.map(i=>s.jsx("button",{type:"button",className:`${Me.tabButton} ${t===i.key?Me.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),s.jsx("div",{className:Me.sectionContent,children:r()})]})}const YZ={creators:N3,scans:k3,predictions:C3,news:T3,records:E3,feedback:A3};function JZ(){const[t]=el(),e=t.get("tab")||"",n=YZ[e];return s.jsxs(gt,{children:[s.jsx("div",{className:Ql.topWrap,children:s.jsx(TJ,{logoSrc:DJ})}),s.jsx("div",{className:Ql.divider}),s.jsx("div",{className:Ql.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:Ql.placeholder,children:[s.jsx("h2",{className:Ql.placeholderTitle,children:"Community"}),s.jsx("p",{className:Ql.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function ZZ(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(Dt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(Dt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function eee(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function tee(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function see(){return s.jsx(gt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(nee,{}),right:s.jsx(ree,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(Dt,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),s.jsx(Dt,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Lm,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Lm,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),s.jsx(Lm,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),s.jsx(Lm,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function nee(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(Dd,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(Dd,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),s.jsx(Dd,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),s.jsx(Dd,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(Dd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function ree(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function Lm({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Dd({to:t,children:e}){return s.jsx(us,{to:t,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const iee="_page_1mlmy_1",aee="_header_1mlmy_13",oee="_headerStack_1mlmy_25",lee="_kicker_1mlmy_37",cee="_title_1mlmy_53",dee="_headerActions_1mlmy_65",uee="_primaryAction_1mlmy_77",hee="_secondaryAction_1mlmy_79",mee="_infoStrip_1mlmy_127",pee="_infoBlock_1mlmy_147",fee="_infoLabel_1mlmy_161",gee="_freshnessWrapper_1mlmy_181",xee="_freshnessBadge_1mlmy_189",vee="_badge_f0_1mlmy_213",yee="_badge_f1_1mlmy_215",bee="_badge_f2_1mlmy_217",_ee="_badge_f3_1mlmy_219",wee="_badge_f4_1mlmy_221",jee="_badge_f5_1mlmy_223",See="_badge_f6_1mlmy_225",Nee="_badge_f7_1mlmy_227",kee="_badge_unknown_1mlmy_229",Cee="_popover_1mlmy_233",Tee="_popoverLabel_1mlmy_265",Aee="_filterToolbar_1mlmy_275",Eee="_filterSheetButton_1mlmy_285",Iee="_inlineFilters_1mlmy_303",Ree="_searchInput_1mlmy_315",Pee="_select_1mlmy_317",Lee="_ownerGroup_1mlmy_335",Dee="_ownerChip_1mlmy_347",Mee="_ownerChipActive_1mlmy_365",Fee="_sortGroup_1mlmy_375",Bee="_sortLabel_1mlmy_387",$ee="_directionButton_1mlmy_397",Vee="_listBody_1mlmy_415",Oee="_tableWrapper_1mlmy_427",Uee="_table_1mlmy_427",zee="_stickyColumn_1mlmy_481",Gee="_rowTitleButton_1mlmy_495",Hee="_tableStatus_1mlmy_513",Wee="_cardList_1mlmy_533",qee="_card_1mlmy_533",Kee="_cardHeader_1mlmy_565",Qee="_cardTitle_1mlmy_577",Xee="_cardMeta_1mlmy_595",Yee="_cardDescription_1mlmy_611",Jee="_cardFooter_1mlmy_623",Zee="_cardLabel_1mlmy_639",ete="_scanBadge_1mlmy_649",tte="_emptyState_1mlmy_665",ste="_sheetBackdrop_1mlmy_681",nte="_sheet_1mlmy_681",rte="_sheetHandle_1mlmy_721",ite="_sheetBody_1mlmy_739",ate="_sheetLabel_1mlmy_755",ote="_sheetActions_1mlmy_793",lte="_overlay_1mlmy_807",cte="_panel_1mlmy_825",dte="_modal_1mlmy_851",ute="_drawer_1mlmy_861",hte="_panelHeader_1mlmy_869",mte="_panelControls_1mlmy_883",pte="_panelDescription_1mlmy_913",fte="_detailGrid_1mlmy_925",gte="_panelFooter_1mlmy_957",xte="_formOverlay_1mlmy_969",vte="_formPanel_1mlmy_991",yte="_formGrid_1mlmy_1017",bte="_menuWrapper_1mlmy_1029",_te="_dotsButton_1mlmy_1037",wte="_menu_1mlmy_1029",jte="_pagination_1mlmy_1109",be={page:iee,header:aee,headerStack:oee,kicker:lee,title:cee,headerActions:dee,primaryAction:uee,secondaryAction:hee,infoStrip:mee,infoBlock:pee,infoLabel:fee,freshnessWrapper:gee,freshnessBadge:xee,badge_f0:vee,badge_f1:yee,badge_f2:bee,badge_f3:_ee,badge_f4:wee,badge_f5:jee,badge_f6:See,badge_f7:Nee,badge_unknown:kee,popover:Cee,popoverLabel:Tee,filterToolbar:Aee,filterSheetButton:Eee,inlineFilters:Iee,searchInput:Ree,select:Pee,ownerGroup:Lee,ownerChip:Dee,ownerChipActive:Mee,sortGroup:Fee,sortLabel:Bee,directionButton:$ee,listBody:Vee,tableWrapper:Oee,table:Uee,stickyColumn:zee,rowTitleButton:Gee,tableStatus:Hee,cardList:Wee,card:qee,cardHeader:Kee,cardTitle:Qee,cardMeta:Xee,cardDescription:Yee,cardFooter:Jee,cardLabel:Zee,scanBadge:ete,emptyState:tte,sheetBackdrop:ste,sheet:nte,sheetHandle:rte,sheetBody:ite,sheetLabel:ate,sheetActions:ote,overlay:lte,panel:cte,modal:dte,drawer:ute,panelHeader:hte,panelControls:mte,panelDescription:pte,detailGrid:fte,panelFooter:gte,formOverlay:xte,formPanel:vte,formGrid:yte,menuWrapper:bte,dotsButton:_te,menu:wte,pagination:jte};function Ste(){var re;const[t,e]=J.useState(dU),[n,r]=J.useState(Rx),[i,o]=J.useState(Rx),c=Nc(n.q,300),d=J.useMemo(()=>{const H=uU(t,n,c);return hU(H,n.sort,n.dir)},[t,n,c]),u=J.useMemo(()=>mU(d,n.page,n.pageSize),[d,n.page,n.pageSize]),m=Math.max(1,Math.ceil(d.length/n.pageSize)),p=J.useMemo(()=>Array.from(new Set(t.map(H=>H.owner))),[t]),x=kc("(min-width: 768px)"),v=kc("(min-width: 1024px)"),[w,S]=J.useState(!1),[P,R]=J.useState(null),B=(re=t.find(H=>H.id===P))!=null?re:null,D=J.useRef(null);Cc(D,!!B&&!v);const[T,y]=J.useState(null),[j,M]=J.useState(!1),C=J.useRef(null);Cc(C,j);const _=J.useMemo(()=>pU(t),[t]),A=J.useMemo(()=>_?Su(_.nextUpdateAt,Date.now()):"",[_]),L=x,I=v,V=s.jsxs("div",{className:be.headerActions,children:[s.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>{y(null),M(!0)},children:"Neuer Eintrag"}),!x&&s.jsx("button",{type:"button",className:be.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>S(!0),children:"Filter"})]}),$=H=>{const se=Dw(H);r(se),o(se)},W=(H,se)=>{const de=Dw({...n,[H]:se,page:H==="page"||H==="pageSize"?se:1});$(de)},z=()=>{$(i),S(!1)},q=()=>{$(Rx),S(!1)},Q=(H,se=!1)=>{if(se)o(de=>{const fe=de.owner.includes(H)?de.owner.filter(Te=>Te!==H):[...de.owner,H];return{...de,owner:fe}});else{const ee=n.owner.includes(H)?n.owner.filter(fe=>fe!==H):[...n.owner,H];W("owner",ee)}},G=(H,se)=>{e(de=>de.map(ee=>ee.id===H?{...ee,status:se,updatedAt:new Date().toISOString()}:ee))},te=H=>{e(se=>se.some(ee=>ee.id===H.id)?se.map(ee=>ee.id===H.id?H:ee):[H,...se]),M(!1)};return s.jsxs(gt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[s.jsxs("div",{className:be.page,children:[s.jsxs("header",{className:be.header,children:[s.jsxs("div",{className:be.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.kicker,children:"Deployment"}),s.jsx("h1",{className:be.title,children:"Planer"})]}),V]}),s.jsxs("div",{className:be.infoStrip,children:[s.jsxs("div",{className:be.infoBlock,children:[s.jsx("span",{className:be.infoLabel,children:"Offen"}),s.jsx("strong",{children:d.filter(H=>H.status==="open").length})]}),s.jsxs("div",{className:be.infoBlock,children:[s.jsx("span",{className:be.infoLabel,children:"In Arbeit"}),s.jsx("strong",{children:d.filter(H=>H.status==="in_progress").length})]}),_&&s.jsx(Nte,{code:_.freshness,label:P0[_.freshness],updatedAt:_.lastScanAt,nextUpdateAt:_.nextUpdateAt,countdown:A})]})]}),s.jsx("section",{className:be.filterToolbar,children:x?s.jsx(kte,{filters:n,owners:p,onChange:W,onOwnerToggle:H=>Q(H,!1)}):s.jsx("button",{type:"button",className:be.filterSheetButton,onClick:()=>S(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),s.jsx("section",{className:be.listBody,children:L?s.jsx(Cte,{items:u,sort:n.sort,dir:n.dir,onSortChange:H=>{const se=n.sort===H&&n.dir==="asc"?"desc":"asc";W("sort",H),W("dir",se)},onSelect:H=>R(H.id),onStatusChange:G,onEdit:H=>{y(H),M(!0)}}):s.jsx(Tte,{items:u,onSelect:H=>R(H.id),onStatusChange:G,onEdit:H=>{y(H),M(!0)}})}),s.jsx(Ete,{page:n.page,totalPages:m,onChange:H=>W("page",H)})]}),w&&s.jsx(Ate,{filters:i,owners:p,onChange:o,onOwnerToggle:H=>Q(H,!0),onClose:()=>S(!1),onApply:z,onReset:q}),B&&s.jsx(R3,{ref:D,item:B,mode:I?"drawer":"modal",onClose:()=>R(null),onEdit:()=>{y(B),M(!0),R(null)},onStatusChange:G}),j&&s.jsx(P3,{ref:C,owners:p.length?p:p3,item:T,onClose:()=>M(!1),onSubmit:te})]})}function Nte({code:t,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var d;const[o,c]=J.useState(!1);return s.jsxs("div",{className:be.freshnessWrapper,children:[s.jsx("button",{type:"button",className:`${be.freshnessBadge} ${(d=be[`badge_${t}`])!=null?d:""}`,"aria-label":`Freshness ${e}`,onClick:()=>c(u=>!u),children:e}),o&&s.jsxs("div",{className:be.popover,role:"dialog","aria-label":"Freshness Details",children:[s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Zuletzt gescannt"}),s.jsx("strong",{children:ki(n)})]}),s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Naechster Scan"}),s.jsx("strong",{children:ki(r)})]}),s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Countdown"}),s.jsx("strong",{children:i})]})]})]})}function kte({filters:t,owners:e,onChange:n,onOwnerToggle:r}){return s.jsxs("div",{className:be.inlineFilters,children:[s.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:be.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>n("q",i.target.value)}),s.jsxs("select",{className:be.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>n("type",i.target.value),children:[s.jsx("option",{value:"all",children:"Typ (alle)"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]}),s.jsxs("select",{className:be.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>n("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("select",{className:be.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>n("range",i.target.value),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]}),s.jsx("div",{className:be.ownerGroup,children:e.map(i=>{const o=t.owner.includes(i);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${o?be.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:be.sortGroup,children:[s.jsx("label",{htmlFor:"planner-sort",className:be.sortLabel,children:"Sortieren"}),s.jsxs("select",{id:"planner-sort",name:"plannerSort",className:be.select,value:t.sort,onChange:i=>n("sort",i.target.value),children:[s.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),s.jsx("option",{value:"priority",children:"Prioritaet"}),s.jsx("option",{value:"title",children:"Titel"})]}),s.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:be.directionButton,onClick:()=>n("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function Cte({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:o,onEdit:c}){const d=u=>e===u?n==="asc"?" ":" ":"";return t.length===0?s.jsx(I3,{}):s.jsx("div",{className:be.tableWrapper,children:s.jsxs("table",{className:be.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:be.stickyColumn,onClick:()=>r("title"),children:["Titel",d("title")]}),s.jsx("th",{children:"Typ"}),s.jsx("th",{children:"Owner"}),s.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",d("dueAt")]}),s.jsx("th",{children:"Status"}),s.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",d("updatedAt")]}),s.jsx("th",{})]})}),s.jsx("tbody",{children:t.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:be.stickyColumn,children:s.jsx("button",{type:"button",className:be.rowTitleButton,onClick:()=>i(u),children:u.title})}),s.jsx("td",{children:R0[u.type]}),s.jsx("td",{children:u.owner}),s.jsx("td",{children:ki(u.dueAt)}),s.jsx("td",{children:s.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:be.tableStatus,value:u.status,onChange:m=>o(u.id,m.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),s.jsx("td",{children:Wu(u.updatedAt)}),s.jsx("td",{children:s.jsx(L3,{onEdit:()=>c(u),onComplete:()=>o(u.id,"done")})})]},u.id))})]})})}function Tte({items:t,onSelect:e,onStatusChange:n,onEdit:r}){return t.length===0?s.jsx(I3,{}):s.jsx("div",{className:be.cardList,children:t.map(i=>s.jsxs("article",{className:be.card,children:[s.jsxs("div",{className:be.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:be.cardTitle,onClick:()=>e(i),children:i.title}),s.jsxs("div",{className:be.cardMeta,children:[s.jsx("span",{children:R0[i.type]}),s.jsx("span",{children:lU[i.status]}),s.jsxs("span",{children:["Due ",ki(i.dueAt)]})]})]}),s.jsx(L3,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),s.jsx("p",{className:be.cardDescription,children:i.description}),s.jsxs("div",{className:be.cardFooter,children:[s.jsxs("div",{children:[s.jsx("span",{className:be.cardLabel,children:"Owner"}),s.jsx("strong",{children:i.owner})]}),s.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:be.tableStatus,value:i.status,onChange:o=>n(i.id,o.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("span",{className:be.scanBadge,children:["Letzter Scan ",Wu(i.lastScanAt)]})]})]},i.id))})}function I3(){return s.jsx("div",{className:be.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function Ate({filters:t,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:o,onReset:c}){return s.jsx("div",{className:be.sheetBackdrop,role:"presentation",onClick:i,children:s.jsxs("div",{className:be.sheet,role:"dialog","aria-label":"Filter",onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:be.sheetHandle}),s.jsxs("div",{className:be.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:be.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:d=>n(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:be.sheetLabel,children:["Typ",s.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:d=>n(u=>({...u,type:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Status",s.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:d=>n(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Zeitraum",s.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:d=>n(u=>({...u,range:d.target.value})),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]})]}),s.jsxs("div",{className:be.sheetLabel,children:["Owner",s.jsx("div",{className:be.ownerGroup,children:e.map(d=>{const u=t.owner.includes(d);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${u?be.ownerChipActive:""}`,onClick:()=>r(d),children:d},d)})})]})]}),s.jsxs("div",{className:be.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const R3=J.forwardRef(({item:t,mode:e,onClose:n,onEdit:r,onStatusChange:i},o)=>s.jsx("div",{className:be.overlay,children:s.jsxs("div",{ref:o,className:`${be.panel} ${e==="drawer"?be.drawer:be.modal}`,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.cardLabel,children:R0[t.type]}),s.jsx("h2",{children:t.title})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("div",{className:be.panelControls,children:[s.jsxs("label",{children:["Status",s.jsxs("select",{value:t.status,onChange:c=>i(t.id,c.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{disabled:!0,value:t.priority,children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsx("p",{className:be.panelDescription,children:t.description}),s.jsxs("dl",{className:be.detailGrid,children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Owner"}),s.jsx("dd",{children:t.owner})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Assignees"}),s.jsx("dd",{children:t.assignees.join(", ")})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Termin"}),s.jsx("dd",{children:ki(t.dueAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt aktualisiert"}),s.jsx("dd",{children:Wu(t.updatedAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Erstellt"}),s.jsx("dd",{children:ki(t.createdAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Tags"}),s.jsx("dd",{children:t.tags.join(", ")})]})]}),s.jsxs("div",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));R3.displayName="DetailPanel";const P3=J.forwardRef(({owners:t,item:e,onClose:n,onSubmit:r},i)=>{const[o,c]=J.useState(()=>{var m;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(m=t[0])!=null?m:p3[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});J.useEffect(()=>{e&&c(e)},[JSON.stringify(e)]);const d=m=>{m.preventDefault(),o.title.trim()&&r({...o,updatedAt:new Date().toISOString()})},u=m=>{c(p=>{const v=p.tags.includes(m)?p.tags.filter(w=>w!==m):[...p.tags,m];return{...p,tags:v}})};return s.jsx("div",{className:be.formOverlay,children:s.jsxs("form",{ref:i,className:be.formPanel,onSubmit:d,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),s.jsx("h2",{children:e?e.title:"Planner Task"})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("label",{className:be.sheetLabel,children:["Titel",s.jsx("input",{name:"plannerFormTitle",value:o.title,onChange:m=>c(p=>({...p,title:m.target.value})),required:!0})]}),s.jsxs("label",{className:be.sheetLabel,children:["Beschreibung",s.jsx("textarea",{name:"plannerFormDescription",value:o.description,onChange:m=>c(p=>({...p,description:m.target.value})),rows:4})]}),s.jsxs("div",{className:be.formGrid,children:[s.jsxs("label",{children:["Typ",s.jsxs("select",{name:"plannerFormType",value:o.type,onChange:m=>c(p=>({...p,type:m.target.value})),children:[s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"plannerFormStatus",value:o.status,onChange:m=>c(p=>({...p,status:m.target.value})),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Owner",s.jsx("select",{name:"plannerFormOwner",value:o.owner,onChange:m=>c(p=>({...p,owner:m.target.value})),children:t.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{name:"plannerFormPriority",value:o.priority,onChange:m=>c(p=>({...p,priority:m.target.value})),children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Termin",s.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:o.dueAt.slice(0,16),onChange:m=>c(p=>({...p,dueAt:new Date(m.target.value).toISOString()}))})]}),s.jsxs("div",{className:be.sheetLabel,children:["Tags",s.jsx("div",{className:be.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(m=>{const p=o.tags.includes(m);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${p?be.ownerChipActive:""}`,onClick:()=>u(m),children:m},m)})})]}),s.jsxs("footer",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:be.primaryAction,children:"Speichern"})]})]})})});P3.displayName="PlannerFormOverlay";function L3({onEdit:t,onComplete:e}){const[n,r]=J.useState(!1),i=J.useRef(null);return J.useEffect(()=>{if(!n)return;const o=c=>{var d;(d=i.current)!=null&&d.contains(c.target)||r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n]),s.jsxs("div",{className:be.menuWrapper,ref:i,children:[s.jsx("button",{type:"button",className:be.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(o=>!o),children:"..."}),n&&s.jsxs("div",{className:be.menu,role:"menu",children:[s.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),s.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),s.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function Ete({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:be.pagination,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const Ite="_page_1cvuk_1",Rte="_header_1cvuk_13",Pte="_headerLeading_1cvuk_29",Lte="_backLink_1cvuk_41",Dte="_headerStack_1cvuk_77",Mte="_kicker_1cvuk_89",Fte="_title_1cvuk_105",Bte="_subtitle_1cvuk_117",$te="_headerActions_1cvuk_129",Vte="_plannerNotice_1cvuk_141",Ote="_noticeItem_1cvuk_163",Ute="_noticeWarning_1cvuk_185",zte="_noticeDot_1cvuk_197",Gte="_tabSection_1cvuk_213",Hte="_tabBar_1cvuk_225",Wte="_tabItem_1cvuk_239",qte="_tabItemActive_1cvuk_279",Kte="_tabLabel_1cvuk_291",Qte="_tabHelper_1cvuk_301",Xte="_tabPanel_1cvuk_311",Yte="_tabBadge_1cvuk_331",Jte="_primaryAction_1cvuk_1331",Zte="_secondaryAction_1cvuk_1333",ese="_infoStrip_1cvuk_1383",tse="_infoBlock_1cvuk_1403",sse="_infoLabel_1cvuk_1415",nse="_infoHint_1cvuk_1441",rse="_stageGrid_1cvuk_1453",ise="_panel_1cvuk_1465",ase="_panelHeader_1cvuk_1487",ose="_panelKicker_1cvuk_1501",lse="_panelTitle_1cvuk_1517",cse="_panelLead_1cvuk_1529",dse="_badge_1cvuk_1541",use="_panelBody_1cvuk_1563",hse="_placeholderGrid_1cvuk_1575",mse="_placeholderCard_1cvuk_1587",pse="_placeholderTitle_1cvuk_1609",fse="_placeholderText_1cvuk_1619",gse="_helperSection_1cvuk_1631",xse="_helperCard_1cvuk_1639",vse="_helperKicker_1cvuk_1661",yse="_helperTitle_1cvuk_1677",bse="_helperText_1cvuk_1689",_se="_helperActions_1cvuk_1701",We={page:Ite,header:Rte,headerLeading:Pte,backLink:Lte,headerStack:Dte,kicker:Mte,title:Fte,subtitle:Bte,headerActions:$te,plannerNotice:Vte,noticeItem:Ote,noticeWarning:Ute,noticeDot:zte,tabSection:Gte,tabBar:Hte,tabItem:Wte,tabItemActive:qte,tabLabel:Kte,tabHelper:Qte,tabPanel:Xte,tabBadge:Yte,primaryAction:Jte,secondaryAction:Zte,infoStrip:ese,infoBlock:tse,infoLabel:sse,infoHint:nse,stageGrid:rse,panel:ise,panelHeader:ase,panelKicker:ose,panelTitle:lse,panelLead:cse,badge:dse,panelBody:use,placeholderGrid:hse,placeholderCard:mse,placeholderTitle:pse,placeholderText:fse,helperSection:gse,helperCard:xse,helperKicker:vse,helperTitle:yse,helperText:bse,helperActions:_se},wse="_setupGrid_rdp6l_1",jse="_setupLeft_rdp6l_13",Sse="_setupRight_rdp6l_15",Nse="_card_rdp6l_27",kse="_cardHeader_rdp6l_49",Cse="_cardKicker_rdp6l_61",Tse="_cardTitle_rdp6l_77",Ase="_cardText_rdp6l_89",Ese="_toggleGroup_rdp6l_101",Ise="_toggleButton_rdp6l_113",Rse="_toggleButtonActive_rdp6l_143",Pse="_modeHint_rdp6l_155",Lse="_formGrid_rdp6l_167",Dse="_formField_rdp6l_179",Mse="_formLabel_rdp6l_191",Fse="_input_rdp6l_201",Bse="_suggestions_rdp6l_231",$se="_suggestionBtn_rdp6l_257",Vse="_suggestionName_rdp6l_297",Ose="_suggestionMeta_rdp6l_305",Use="_partnerActions_rdp6l_315",zse="_primaryAction_rdp6l_329",Gse="_secondaryAction_rdp6l_331",Hse="_partnerList_rdp6l_381",Wse="_partnerRow_rdp6l_393",qse="_partnerName_rdp6l_413",Kse="_partnerMeta_rdp6l_423",Qse="_removeButton_rdp6l_433",Xse="_emptyState_rdp6l_463",Yse="_previewBlock_rdp6l_473",Jse="_previewLabel_rdp6l_485",Zse="_previewValue_rdp6l_499",ene="_previewCard_rdp6l_509",tne="_previewTitle_rdp6l_523",sne="_previewMeta_rdp6l_533",nne="_previewList_rdp6l_543",rne="_previewItem_rdp6l_555",ine="_setupInfo_rdp6l_569",ane="_setupWarning_rdp6l_593",one="_setupInfoIcon_rdp6l_605",lne="_setupInfoTitle_rdp6l_629",cne="_setupInfoText_rdp6l_639",Ie={setupGrid:wse,setupLeft:jse,setupRight:Sse,card:Nse,cardHeader:kse,cardKicker:Cse,cardTitle:Tse,cardText:Ase,toggleGroup:Ese,toggleButton:Ise,toggleButtonActive:Rse,modeHint:Pse,formGrid:Lse,formField:Dse,formLabel:Mse,input:Fse,suggestions:Bse,suggestionBtn:$se,suggestionName:Vse,suggestionMeta:Ose,partnerActions:Use,primaryAction:zse,secondaryAction:Gse,partnerList:Hse,partnerRow:Wse,partnerName:qse,partnerMeta:Kse,removeButton:Qse,emptyState:Xse,previewBlock:Yse,previewLabel:Jse,previewValue:Zse,previewCard:ene,previewTitle:tne,previewMeta:sne,previewList:nne,previewItem:rne,setupInfo:ine,setupWarning:ane,setupInfoIcon:one,setupInfoTitle:lne,setupInfoText:cne};function dne({setupState:t,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var R,B,D,T,y,j,M,C,_,A;const[o,c]=J.useState(()=>{var L,I,V,$;return{name:(I=(L=t.baseGuild)==null?void 0:L.name)!=null?I:"",server:($=(V=t.baseGuild)==null?void 0:V.server)!=null?$:""}}),[d,u]=J.useState({id:void 0,name:"",server:""}),m=Nc(o.name,250),p=Nc(d.name,250),x=dj(m,o.server||"all"),v=dj(p,d.server||"all"),w=!!((B=(R=t.baseGuild)==null?void 0:R.name)!=null&&B.trim()&&((T=(D=t.baseGuild)==null?void 0:D.server)!=null&&T.trim())),S=t.partnerGuilds.length>0;J.useEffect(()=>{var I,V,$,W;const L={name:(V=(I=t.baseGuild)==null?void 0:I.name)!=null?V:"",server:(W=($=t.baseGuild)==null?void 0:$.server)!=null?W:""};(L.name!==o.name||L.server!==o.server)&&c(L)},[(y=t.baseGuild)==null?void 0:y.name,(j=t.baseGuild)==null?void 0:j.server]);const P=()=>{!d.name.trim()||!d.server.trim()||(r(d),u({id:void 0,name:"",server:""}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ie.setupGrid,children:[s.jsxs("div",{className:Ie.setupLeft,children:[s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Modus"}),s.jsx("h3",{className:Ie.cardTitle,children:"Scan-based oder manuell"}),s.jsx("p",{className:Ie.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),s.jsxs("div",{className:Ie.toggleGroup,role:"group","aria-label":"Setup Modus",children:[s.jsx("button",{type:"button",className:`${Ie.toggleButton} ${t.mode==="scan"?Ie.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),s.jsx("button",{type:"button",className:`${Ie.toggleButton} ${t.mode==="manual"?Ie.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),s.jsx("p",{className:Ie.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Base Guild"}),s.jsx("h3",{className:Ie.cardTitle,children:"Stammdaten"}),s.jsx("p",{className:Ie.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),s.jsxs("div",{className:Ie.formGrid,children:[s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Guild name"}),s.jsx("input",{type:"text",className:Ie.input,value:o.name,onChange:L=>{const I=L.target.value;c(V=>({...V,name:I}))},onBlur:()=>n({name:o.name}),placeholder:"z.B. Solaris"}),x.length>0&&s.jsx("div",{className:Ie.suggestions,children:x.map(L=>s.jsxs("button",{type:"button",className:Ie.suggestionBtn,onClick:()=>{c({name:L.name,server:L.server}),n({id:L.id,name:L.name,server:L.server})},children:[s.jsx("span",{className:Ie.suggestionName,children:L.name}),s.jsx("span",{className:Ie.suggestionMeta,children:L.server})]},L.id))})]}),s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ie.input,value:o.server,onChange:L=>{const I=L.target.value;c(V=>({...V,server:I}))},onBlur:()=>n({server:o.server}),placeholder:"z.B. EU-01"})]})]})]}),s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Partner Guilds"}),s.jsx("h3",{className:Ie.cardTitle,children:"Partner hinzufuegen"}),s.jsx("p",{className:Ie.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),s.jsxs("div",{className:Ie.formGrid,children:[s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Name"}),s.jsx("input",{type:"text",className:Ie.input,value:d.name,onChange:L=>u(I=>({...I,name:L.target.value})),placeholder:"z.B. Nova Alliance"}),v.length>0&&s.jsx("div",{className:Ie.suggestions,children:v.map(L=>s.jsxs("button",{type:"button",className:Ie.suggestionBtn,onClick:()=>u({id:L.id,name:L.name,server:L.server}),children:[s.jsx("span",{className:Ie.suggestionName,children:L.name}),s.jsx("span",{className:Ie.suggestionMeta,children:L.server})]},L.id))})]}),s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ie.input,value:d.server,onChange:L=>u(I=>({...I,server:L.target.value})),placeholder:"z.B. EU-02"})]})]}),s.jsxs("div",{className:Ie.partnerActions,children:[s.jsx("button",{type:"button",className:Ie.primaryAction,onClick:P,children:"Add partner guild"}),s.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),s.jsx("div",{className:Ie.partnerList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ie.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>s.jsxs("div",{className:Ie.partnerRow,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ie.partnerName,children:L.name||"Unbenannt"}),s.jsx("div",{className:Ie.partnerMeta,children:L.server||"Server n/a"})]}),s.jsx("button",{type:"button",className:Ie.removeButton,onClick:()=>i(L.id),children:"Remove"})]},L.id))})]})]}),s.jsx("aside",{className:Ie.setupRight,children:s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Preview"}),s.jsx("h3",{className:Ie.cardTitle,children:"Uebersicht"}),s.jsx("p",{className:Ie.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Modus"}),s.jsx("div",{className:Ie.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Base Guild"}),s.jsx("div",{className:Ie.previewCard,children:(M=t.baseGuild)!=null&&M.name||(C=t.baseGuild)!=null&&C.server?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ie.previewTitle,children:((_=t.baseGuild)==null?void 0:_.name)||"Unbenannt"}),s.jsx("div",{className:Ie.previewMeta,children:((A=t.baseGuild)==null?void 0:A.server)||"Server n/a"})]}):s.jsx("div",{className:Ie.emptyState,children:"No base guild selected yet."})})]}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Partner Guilds"}),s.jsx("div",{className:Ie.previewList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ie.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>s.jsxs("div",{className:Ie.previewItem,children:[s.jsx("div",{className:Ie.previewTitle,children:L.name||"Unbenannt"}),s.jsx("div",{className:Ie.previewMeta,children:L.server||"Server n/a"})]},L.id))})]})]})})]}),w?S?null:s.jsxs("div",{className:Ie.setupInfo,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ie.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ie.setupInfoTitle,children:"Optional: add partner guilds."}),s.jsx("p",{className:Ie.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):s.jsxs("div",{className:`${Ie.setupInfo} ${Ie.setupWarning}`,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ie.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ie.setupInfoTitle,children:"No base guild selected yet."}),s.jsx("p",{className:Ie.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function dj(t,e){const[n,r]=J.useState([]);return J.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let o=!1;async function c(){try{const d=Yp(It,"latest"),u=await nn(An(d,Oa("nameFold"),Oo(i),Uo(i+""),En(12))),m=await nn(An(d,Ho("nameNgrams","array-contains",i),En(12))),p=new Set,x=[],v=w=>{var j,M,C,_,A,L,I,V,$,W;const S=w.data(),R=(j=w.ref.parent)==null?void 0:j.parent;if(((M=R==null?void 0:R.parent)==null?void 0:M.id)!=="guilds")return;const D=(_=(C=R==null?void 0:R.id)!=null?C:S.guildIdentifier)!=null?_:w.id;if(!D||p.has(D))return;const T=(I=(L=S.server)!=null?L:(A=S.values)==null?void 0:A.Server)!=null?I:"Unknown";if(e!=="all"&&T!==e)return;const y=(W=($=S.name)!=null?$:(V=S.values)==null?void 0:V.Name)!=null?W:"Unbekannte Gilde";p.add(D),x.push({id:D,name:y,server:T})};u.forEach(v),m.forEach(v),o||(x.sort((w,S)=>w.name.localeCompare(S.name)),r(x))}catch(d){console.error("[FusionPlanner] guild search failed",d),o||r([])}}return c(),()=>{o=!0}},[t,e]),n}const une="_membersContainer_1ctw8_1",hne="_scenarioSwitcher_1ctw8_13",mne="_scenarioButton_1ctw8_25",pne="_scenarioButtonActive_1ctw8_63",fne="_scenarioButtonName_1ctw8_75",gne="_scenarioButtonDesc_1ctw8_83",xne="_setupInfo_1ctw8_93",vne="_setupInfoHeader_1ctw8_113",yne="_setupInfoTitle_1ctw8_127",bne="_setupInfoMode_1ctw8_139",_ne="_setupInfoRow_1ctw8_163",wne="_setupInfoLabel_1ctw8_175",jne="_setupInfoValue_1ctw8_189",Sne="_setupInfoMeta_1ctw8_199",Nne="_setupInfoPartners_1ctw8_209",kne="_setupInfoBadge_1ctw8_221",Cne="_setupInfoEmpty_1ctw8_245",Tne="_membersSummary_1ctw8_255",Ane="_membersSummaryItem_1ctw8_275",Ene="_membersSummaryLabel_1ctw8_287",Ine="_membersSummaryValue_1ctw8_301",Rne="_maxSlotsInput_1ctw8_313",Pne="_membersTable_1ctw8_331",Lne="_membersRow_1ctw8_349",Dne="_membersHead_1ctw8_375",Mne="_membersCell_1ctw8_385",Fne="_memberName_1ctw8_395",Bne="_memberBadge_1ctw8_403",$ne="_assignmentCell_1ctw8_427",Vne="_assignmentBadge_1ctw8_439",One="_assignmentBadgeMain_1ctw8_463",Une="_assignmentBadgePartner_1ctw8_475",zne="_assignmentBadgeWatch_1ctw8_487",Gne="_assignmentBadgeIdle_1ctw8_499",Hne="_assignmentActions_1ctw8_507",Wne="_assignmentButton_1ctw8_519",qne="_assignmentButtonActive_1ctw8_551",Kne="_decisionGroup_1ctw8_563",Qne="_decisionButton_1ctw8_575",Xne="_decisionButtonActive_1ctw8_607",Yne="_emptyWrap_1ctw8_619",Jne="_emptyTitle_1ctw8_633",Zne="_emptyText_1ctw8_641",ere="_contextMenuBackdrop_1ctw8_651",tre="_contextMenu_1ctw8_651",sre="_contextMenuItem_1ctw8_693",nre="_partnerPickerCell_1ctw8_725",rre="_partnerLabel_1ctw8_737",ire="_partnerSelect_1ctw8_751",Se={membersContainer:une,scenarioSwitcher:hne,scenarioButton:mne,scenarioButtonActive:pne,scenarioButtonName:fne,scenarioButtonDesc:gne,setupInfo:xne,setupInfoHeader:vne,setupInfoTitle:yne,setupInfoMode:bne,setupInfoRow:_ne,setupInfoLabel:wne,setupInfoValue:jne,setupInfoMeta:Sne,setupInfoPartners:Nne,setupInfoBadge:kne,setupInfoEmpty:Cne,membersSummary:Tne,membersSummaryItem:Ane,membersSummaryLabel:Ene,membersSummaryValue:Ine,maxSlotsInput:Rne,membersTable:Pne,membersRow:Lne,membersHead:Dne,membersCell:Mne,memberName:Fne,memberBadge:Bne,assignmentCell:$ne,assignmentBadge:Vne,assignmentBadgeMain:One,assignmentBadgePartner:Une,assignmentBadgeWatch:zne,assignmentBadgeIdle:Gne,assignmentActions:Hne,assignmentButton:Wne,assignmentButtonActive:qne,decisionGroup:Kne,decisionButton:Qne,decisionButtonActive:Xne,emptyWrap:Yne,emptyTitle:Jne,emptyText:Zne,contextMenuBackdrop:ere,contextMenu:tre,contextMenuItem:sre,partnerPickerCell:nre,partnerLabel:rre,partnerSelect:ire};function are({members:t,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:o}){var C,_,A,L,I,V;const[c,d]=J.useState(null),u=J.useRef(null),m=o.partnerGuilds.length>0?o.partnerGuilds.map(($,W)=>({id:$.id,label:$.name||`Partner ${W+1}`})):[{id:"partner-default",label:"Partner guild"}],p=J.useCallback(($,W)=>{d({memberId:$,...W})},[]),x=J.useCallback(()=>{d(null)},[]),v=J.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),w=J.useCallback(($,W,z)=>{v(),u.current=window.setTimeout(()=>{p($,{x:W,y:z})},550)},[v,p]);J.useEffect(()=>()=>v(),[v]);const S=J.useCallback(($,W,z)=>{if(W==="main")n($,"take"),r($,"main");else if(W==="partner"){const q=z?`partner:${z}`:"partner";n($,"take"),r($,q)}else n($,"bench"),r($,"none");x()},[x,n,r]),P=J.useCallback(($,W)=>{n($,W),W==="take"?r($,"main"):r($,"none")},[n,r]);if(!!!((_=(C=o.baseGuild)==null?void 0:C.name)!=null&&_.trim()&&((L=(A=o.baseGuild)==null?void 0:A.server)!=null&&L.trim())))return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"No base guild configured"}),s.jsx("p",{className:Se.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"Members & Slots"}),s.jsx("p",{className:Se.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"No members found"}),s.jsx("p",{className:Se.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const B=(I=e.decisions)!=null?I:{},D=(V=e.targetGuildAssignments)!=null?V:{},T=t.filter($=>B[$.id]==="take").length,y=t.filter($=>B[$.id]==="bench").length,j=t.filter($=>B[$.id]==="drop").length,M=Math.max(0,e.maxSlots-e.reservedSlots-T);return s.jsxs("div",{className:Se.membersContainer,children:[s.jsx("div",{className:Se.scenarioSwitcher,children:s.jsxs("div",{className:`${Se.scenarioButton} ${Se.scenarioButtonActive}`,children:[s.jsx("span",{className:Se.scenarioButtonName,children:e.name}),e.description?s.jsx("span",{className:Se.scenarioButtonDesc,children:e.description}):null]})}),s.jsxs("div",{className:Se.setupInfo,children:[s.jsxs("div",{className:Se.setupInfoHeader,children:[s.jsx("div",{className:Se.setupInfoTitle,children:"Planning for"}),s.jsx("span",{className:Se.setupInfoMode,children:o.mode==="scan"?"Scan":"Manual"})]}),o.baseGuild?s.jsxs("div",{className:Se.setupInfoRow,children:[s.jsx("span",{className:Se.setupInfoLabel,children:"Base Guild"}),s.jsxs("span",{className:Se.setupInfoValue,children:[o.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Se.setupInfoMeta,children:["(",o.baseGuild.server||"Server n/a",")"]})]})]}):s.jsx("div",{className:Se.setupInfoEmpty,children:"No base guild selected in Setup tab."}),s.jsxs("div",{className:Se.setupInfoRow,children:[s.jsx("span",{className:Se.setupInfoLabel,children:"Partner Guilds"}),o.partnerGuilds.length?s.jsx("div",{className:Se.setupInfoPartners,children:o.partnerGuilds.map($=>s.jsxs("span",{className:Se.setupInfoBadge,children:[$.name||"Unbenannt",s.jsxs("span",{className:Se.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):s.jsx("span",{className:Se.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),s.jsxs("div",{className:Se.membersSummary,children:[s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Selected"}),s.jsxs("div",{className:Se.membersSummaryValue,children:[T," / ",e.maxSlots]})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Free slots"}),s.jsx("div",{className:Se.membersSummaryValue,children:M})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Bench"}),s.jsx("div",{className:Se.membersSummaryValue,children:y})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Drop"}),s.jsx("div",{className:Se.membersSummaryValue,children:j})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Reserved"}),s.jsx("div",{className:Se.membersSummaryValue,children:e.reservedSlots})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Max slots"}),s.jsx("input",{type:"number",className:Se.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),s.jsxs("div",{className:Se.membersTable,children:[s.jsxs("div",{className:`${Se.membersRow} ${Se.membersHead}`,children:[s.jsx("div",{className:Se.membersCell,children:"Name"}),s.jsx("div",{className:Se.membersCell,children:"Level"}),s.jsx("div",{className:Se.membersCell,children:"Guild"}),s.jsx("div",{className:Se.membersCell,children:"Class"}),s.jsx("div",{className:Se.membersCell,children:"Plan"}),s.jsx("div",{className:Se.membersCell,children:"Decision"}),s.jsx("div",{className:Se.membersCell,children:"Partner"})]}),t.map($=>{var re,H,se,de,ee,fe,Te,xe,Ce;const W=(re=B[$.id])!=null?re:"undecided",z=(H=D[$.id])!=null?H:"none",q=z&&z.toString().startsWith("partner:")?z.split(":")[1]:null,Q=(fe=(se=m.find(Ne=>Ne.id===q))==null?void 0:se.label)!=null?fe:z==="partner"?(ee=(de=m[0])==null?void 0:de.label)!=null?ee:"Partner guild":null,G=W==="take"&&z==="main"?"main":W==="take"&&(z==="partner"||q)?"partner":W==="bench"?"watch":"unassigned",te=G==="main"?"Main guild":G==="partner"?Q||"Partner guild":G==="watch"?"Watchlist":"Not planned";return s.jsxs("div",{className:Se.membersRow,onContextMenu:Ne=>{Ne.preventDefault(),p($.id,{x:Ne.clientX,y:Ne.clientY})},onTouchStart:Ne=>{const ue=Ne.touches[0];ue&&w($.id,ue.clientX,ue.clientY)},onTouchEnd:v,onTouchCancel:v,children:[s.jsx("div",{className:Se.membersCell,children:s.jsx("div",{className:Se.memberName,children:$.name})}),s.jsx("div",{className:Se.membersCell,children:s.jsxs("span",{className:Se.memberBadge,children:["Lvl ",$.level]})}),s.jsx("div",{className:Se.membersCell,children:$.guildName}),s.jsx("div",{className:Se.membersCell,children:(xe=(Te=$.className)!=null?Te:$.class)!=null?xe:"?"}),s.jsxs("div",{className:`${Se.membersCell} ${Se.assignmentCell}`,children:[s.jsx("span",{className:`${Se.assignmentBadge} ${G==="main"?Se.assignmentBadgeMain:G==="partner"?Se.assignmentBadgePartner:G==="watch"?Se.assignmentBadgeWatch:Se.assignmentBadgeIdle}`,children:te}),s.jsxs("div",{className:Se.assignmentActions,role:"group","aria-label":"Target guild selection",children:[s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${G==="main"?Se.assignmentButtonActive:""}`,onClick:()=>S($.id,"main"),children:"Main"}),s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${G==="watch"?Se.assignmentButtonActive:""}`,onClick:()=>S($.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${G==="partner"?Se.assignmentButtonActive:""}`,onClick:()=>S($.id,"partner"),children:"Partner"})]})]}),s.jsx("div",{className:Se.membersCell,children:s.jsx("div",{className:Se.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(Ne=>s.jsx("button",{type:"button",className:`${Se.decisionButton} ${W===Ne?Se.decisionButtonActive:""}`,onClick:()=>P($.id,Ne),children:Ne==="take"?"Take":Ne==="bench"?"Bench":Ne==="drop"?"Drop":"?"},Ne))})}),s.jsxs("div",{className:`${Se.membersCell} ${Se.partnerPickerCell}`,children:[s.jsx("label",{className:Se.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),s.jsx("select",{id:`partner-select-${$.id}`,className:Se.partnerSelect,value:q!=null?q:(Ce=m[0])==null?void 0:Ce.id,onChange:Ne=>S($.id,"partner",Ne.target.value),children:m.map(Ne=>s.jsx("option",{value:Ne.id,children:Ne.label},Ne.id))})]})]},$.id)})]}),c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Se.contextMenuBackdrop,onClick:x}),s.jsxs("div",{className:Se.contextMenu,style:{top:c.y,left:c.x},children:[s.jsx("button",{type:"button",className:Se.contextMenuItem,onClick:()=>S(c.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:Se.contextMenuItem,onClick:()=>S(c.memberId,"watch"),children:"Move to Watchlist"}),m.map($=>s.jsxs("button",{type:"button",className:Se.contextMenuItem,onClick:()=>S(c.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const ore="_overview_6ytw3_1",lre="_contextBox_6ytw3_15",cre="_contextKicker_6ytw3_35",dre="_contextTitle_6ytw3_51",ure="_contextText_6ytw3_61",hre="_contextDetails_6ytw3_71",mre="_detailItem_6ytw3_85",pre="_detailLabel_6ytw3_99",fre="_detailValue_6ytw3_113",gre="_kpiGrid_6ytw3_121",xre="_kpiCard_6ytw3_133",vre="_kpiLabel_6ytw3_153",yre="_kpiValue_6ytw3_167",bre="_columnsWrapper_6ytw3_177",_re="_column_6ytw3_177",wre="_columnDropTarget_6ytw3_213",jre="_columnHeader_6ytw3_223",Sre="_columnKicker_6ytw3_235",Nre="_columnTitle_6ytw3_251",kre="_columnCount_6ytw3_259",Cre="_columnBody_6ytw3_281",Tre="_memberCard_6ytw3_293",Are="_memberTop_6ytw3_337",Ere="_memberName_6ytw3_349",Ire="_memberMeta_6ytw3_357",Rre="_memberBadge_6ytw3_369",Pre="_memberBottom_6ytw3_395",Lre="_memberGuild_6ytw3_409",Dre="_memberServer_6ytw3_419",Mre="_memberActions_6ytw3_427",Fre="_emptyList_6ytw3_469",Bre="_emptyWrap_6ytw3_487",$re="_emptyTitle_6ytw3_501",Vre="_emptyText_6ytw3_509",Ore="_addPartnerCard_6ytw3_519",Ure="_contextMenuBackdrop_6ytw3_559",zre="_contextMenu_6ytw3_559",Gre="_contextMenuItem_6ytw3_601",ze={overview:ore,contextBox:lre,contextKicker:cre,contextTitle:dre,contextText:ure,contextDetails:hre,detailItem:mre,detailLabel:pre,detailValue:fre,kpiGrid:gre,kpiCard:xre,kpiLabel:vre,kpiValue:yre,columnsWrapper:bre,column:_re,columnDropTarget:wre,columnHeader:jre,columnKicker:Sre,columnTitle:Nre,columnCount:kre,columnBody:Cre,memberCard:Tre,memberTop:Are,memberName:Ere,memberMeta:Ire,memberBadge:Rre,memberBottom:Pre,memberGuild:Lre,memberServer:Dre,memberActions:Mre,emptyList:Fre,emptyWrap:Bre,emptyTitle:$re,emptyText:Vre,addPartnerCard:Ore,contextMenuBackdrop:Ure,contextMenu:zre,contextMenuItem:Gre};function Hre({members:t,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:o}){var z,q,Q;const c=(z=e==null?void 0:e.decisions)!=null?z:{},d=(q=e==null?void 0:e.targetGuildAssignments)!=null?q:{},u=n.partnerGuilds.length>0?n.partnerGuilds.map((G,te)=>({id:G.id,label:G.name||`Partner ${te+1}`})):[{id:"partner-default",label:"Partner guild"}],m=t.filter(G=>c[G.id]==="take"&&d[G.id]==="main"),p=t.filter(G=>c[G.id]==="bench"),x=u.reduce((G,te)=>(G[te.id]=t.filter(re=>{const H=d[re.id];return c[re.id]==="take"&&(H===`partner:${te.id}`||H==="partner")}),G),{}),v=t.filter(G=>!m.includes(G)&&!p.includes(G)&&!Object.values(x).some(te=>te.includes(G))),[w,S]=J.useState(null),[P,R]=J.useState(null),B=J.useRef(null),D=t.length,T=m.length,y=p.length,j=Object.values(x).reduce((G,te)=>G+te.length,0),M=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-T-j):0,C=J.useCallback((G,te,re)=>{G&&(te==="main"?(r(G,"take"),i(G,"main")):te==="partner"?(r(G,"take"),i(G,re?`partner:${re}`:"partner")):te==="unassigned"?(r(G,"undecided"),i(G,"none")):(r(G,"bench"),i(G,"none")),R(null))},[r,i]),_=J.useCallback((G,te)=>re=>{re.preventDefault();const H=re.dataTransfer.getData("text/plain");H&&C(H,G,te),S(null)},[C]),A=J.useCallback(G=>te=>{te.preventDefault(),S(G)},[]),L=J.useCallback(()=>S(null),[]),I=J.useCallback((G,te)=>{R({memberId:G,...te})},[]),V=J.useCallback(()=>{B.current!==null&&(window.clearTimeout(B.current),B.current=null)},[]),$=J.useCallback((G,te,re)=>{V(),B.current=window.setTimeout(()=>{I(G,{x:te,y:re})},550)},[V,I]);if(J.useEffect(()=>()=>V(),[V]),!e)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"Overview"}),s.jsx("p",{className:ze.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"No members loaded"}),s.jsx("p",{className:ze.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const W=(G,te,re,H,se)=>s.jsxs("div",{className:`${ze.column} ${w===G?ze.columnDropTarget:""}`,onDragOver:A(G),onDragEnter:A(G),onDragLeave:L,onDrop:_(G,se),children:[s.jsxs("div",{className:ze.columnHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.columnKicker,children:re}),s.jsx("h4",{className:ze.columnTitle,children:te})]}),s.jsx("span",{className:ze.columnCount,children:H.length})]}),s.jsx("div",{className:ze.columnBody,children:H.length?H.map(de=>{var ee,fe,Te,xe;return s.jsxs("div",{className:ze.memberCard,draggable:!0,onDragStart:Ce=>Ce.dataTransfer.setData("text/plain",de.id),onContextMenu:Ce=>{Ce.preventDefault(),I(de.id,{x:Ce.clientX,y:Ce.clientY})},onTouchStart:Ce=>{const Ne=Ce.touches[0];Ne&&$(de.id,Ne.clientX,Ne.clientY)},onTouchEnd:V,onTouchCancel:V,children:[s.jsxs("div",{className:ze.memberTop,children:[s.jsxs("div",{children:[s.jsx("div",{className:ze.memberName,children:de.name}),s.jsxs("p",{className:ze.memberMeta,children:[(fe=(ee=de.className)!=null?ee:de.class)!=null?fe:"Unknown","  ",(Te=de.role)!=null?Te:"Unknown"]})]}),s.jsxs("span",{className:ze.memberBadge,children:["Lvl ",(xe=de.level)!=null?xe:"?"]})]}),s.jsxs("div",{className:ze.memberBottom,children:[s.jsxs("span",{className:ze.memberGuild,children:[de.guildName," ",s.jsxs("span",{className:ze.memberServer,children:["(",de.server||"Server n/a",")"]})]}),s.jsxs("div",{className:ze.memberActions,children:[s.jsx("button",{type:"button",onClick:()=>C(de.id,"main"),children:"Main"}),s.jsx("button",{type:"button",onClick:()=>C(de.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",onClick:()=>C(de.id,"partner"),children:"Partner"})]})]})]},de.id)}):s.jsx("div",{className:ze.emptyList,children:"No players in this list yet."})})]});return s.jsxs("div",{className:ze.overview,children:[s.jsxs("div",{className:ze.contextBox,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.contextKicker,children:"Setup"}),s.jsx("h3",{className:ze.contextTitle,children:"Fusion Overview"}),s.jsx("p",{className:ze.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),s.jsxs("div",{className:ze.contextDetails,children:[s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Base Guild"}),s.jsx("strong",{className:ze.detailValue,children:((Q=n.baseGuild)==null?void 0:Q.name)||"Unbenannt"})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Partner Guilds"}),s.jsx("strong",{className:ze.detailValue,children:n.partnerGuilds.length})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Max Slots"}),s.jsx("strong",{className:ze.detailValue,children:e.maxSlots})]})]})]}),s.jsxs("div",{className:ze.kpiGrid,children:[s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Total players"}),s.jsx("strong",{className:ze.kpiValue,children:D})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Main guild"}),s.jsx("strong",{className:ze.kpiValue,children:T})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Watchlist"}),s.jsx("strong",{className:ze.kpiValue,children:y})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Partner guild"}),s.jsx("strong",{className:ze.kpiValue,children:j})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Free slots"}),s.jsx("strong",{className:ze.kpiValue,children:M})]})]}),s.jsxs("div",{className:ze.columnsWrapper,children:[W("unassigned","Unassigned","Noch ohne Planung",v),W("main","Main guild","Take & Assign main",m),W("watch","Watchlist","Bench for review",p),u.map(G=>{var te;return W("partner",G.label,"Take & Assign partner",(te=x[G.id])!=null?te:[],G.id)}),s.jsx("button",{type:"button",className:ze.addPartnerCard,onClick:()=>o(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),P?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ze.contextMenuBackdrop,onClick:()=>R(null)}),s.jsxs("div",{className:ze.contextMenu,style:{top:P.y,left:P.x},children:[s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"watch"),children:"Move to Watchlist"}),u.map(G=>s.jsxs("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"partner",G.id),children:["Move to ",G.label]},G.id))]})]}):null]})}const Wre="_scenariosTab_3v4iw_1",qre="_scenariosHeader_3v4iw_13",Kre="_scenariosTitle_3v4iw_35",Qre="_scenariosText_3v4iw_45",Xre="_scenarioInfo_3v4iw_57",Yre="_headerActions_3v4iw_71",Jre="_createButton_3v4iw_81",Zre="_scenarioList_3v4iw_115",eie="_scenarioCard_3v4iw_127",tie="_scenarioCardActive_3v4iw_147",sie="_scenarioCardTop_3v4iw_157",nie="_cardKicker_3v4iw_169",rie="_cardTitle_3v4iw_185",iie="_cardText_3v4iw_197",aie="_scenarioActiveBadge_3v4iw_209",oie="_scenarioMeta_3v4iw_231",lie="_scenarioMetaLabel_3v4iw_243",cie="_scenarioMetaValue_3v4iw_259",die="_scenarioStats_3v4iw_269",uie="_scenarioStatItem_3v4iw_281",hie="_scenarioStatLabel_3v4iw_295",mie="_scenarioStatValue_3v4iw_311",pie="_scenarioActions_3v4iw_321",fie="_scenarioActionButton_3v4iw_337",gie="_scenarioActionActive_3v4iw_367",xie="_scenarioActionGroup_3v4iw_377",vie="_secondaryActionButton_3v4iw_389",yie="_deleteActionButton_3v4iw_391",bie="_deleteActionDisabled_3v4iw_443",ct={scenariosTab:Wre,scenariosHeader:qre,scenariosTitle:Kre,scenariosText:Qre,scenarioInfo:Xre,headerActions:Yre,createButton:Jre,scenarioList:Zre,scenarioCard:eie,scenarioCardActive:tie,scenarioCardTop:sie,cardKicker:nie,cardTitle:rie,cardText:iie,scenarioActiveBadge:aie,scenarioMeta:oie,scenarioMetaLabel:lie,scenarioMetaValue:cie,scenarioStats:die,scenarioStatItem:uie,scenarioStatLabel:hie,scenarioStatValue:mie,scenarioActions:pie,scenarioActionButton:fie,scenarioActionActive:gie,scenarioActionGroup:xie,secondaryActionButton:vie,deleteActionButton:yie,deleteActionDisabled:bie};function _ie({scenarios:t,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:o,onDeleteScenario:c}){const d=J.useCallback(p=>{const x=Object.values(p.decisions),v=x.filter(R=>R==="take").length,w=x.filter(R=>R==="bench").length,S=x.filter(R=>R==="drop").length,P=Math.max(0,p.maxSlots-p.reservedSlots-v);return{selected:v,bench:w,drop:S,free:P}},[]),u=p=>{const x=window.prompt("Neuer Szenario-Name",p.name);x!==null&&o(p.id,x)},m=p=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&c(p.id)};return s.jsxs("div",{className:ct.scenariosTab,children:[s.jsxs("div",{className:ct.scenariosHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ct.cardKicker,children:"Scenarios"}),s.jsx("h3",{className:ct.scenariosTitle,children:"Fusion Plans verwalten"}),s.jsx("p",{className:ct.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),s.jsx("div",{className:ct.headerActions,children:s.jsx("button",{type:"button",className:ct.createButton,onClick:r,children:"Neues Szenario"})})]}),s.jsx("p",{className:ct.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),s.jsx("div",{className:ct.scenarioList,children:t.map(p=>{const x=d(p),v=p.id===e,w=t.length<=1;return s.jsxs("article",{className:`${ct.scenarioCard} ${v?ct.scenarioCardActive:""}`,children:[s.jsxs("div",{className:ct.scenarioCardTop,children:[s.jsxs("div",{children:[s.jsx("p",{className:ct.cardKicker,children:"Scenario"}),s.jsx("h3",{className:ct.cardTitle,children:p.name}),p.description?s.jsx("p",{className:ct.cardText,children:p.description}):null]}),v?s.jsx("span",{className:ct.scenarioActiveBadge,children:"Active"}):null]}),s.jsxs("div",{className:ct.scenarioMeta,children:[s.jsxs("div",{children:[s.jsx("span",{className:ct.scenarioMetaLabel,children:"Max slots"}),s.jsx("span",{className:ct.scenarioMetaValue,children:p.maxSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:ct.scenarioMetaLabel,children:"Reserved"}),s.jsx("span",{className:ct.scenarioMetaValue,children:p.reservedSlots})]})]}),s.jsxs("div",{className:ct.scenarioStats,children:[s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Selected"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.selected})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Free"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.free})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Bench"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.bench})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Drop"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.drop})]})]}),s.jsxs("div",{className:ct.scenarioActions,children:[s.jsx("button",{type:"button",className:`${ct.scenarioActionButton} ${v?ct.scenarioActionActive:""}`,onClick:()=>n(p.id),children:"Set active"}),s.jsxs("div",{className:ct.scenarioActionGroup,children:[s.jsx("button",{type:"button",className:ct.secondaryActionButton,onClick:()=>i(p.id),children:"Duplicate"}),s.jsx("button",{type:"button",className:ct.secondaryActionButton,onClick:()=>u(p),children:"Rename"}),s.jsx("button",{type:"button",className:`${ct.deleteActionButton} ${w?ct.deleteActionDisabled:""}`,onClick:()=>m(p),disabled:w,children:"Delete"})]})]})]},p.id)})})]})}const wie="_resultWrap_179wi_1",jie="_emptyState_179wi_13",Sie="_emptyTitle_179wi_35",Nie="_emptyText_179wi_43",kie="_resultHeader_179wi_55",Cie="_resultKicker_179wi_79",Tie="_resultTitle_179wi_95",Aie="_resultText_179wi_107",Eie="_emptyNote_179wi_119",Iie="_setupSummary_179wi_131",Rie="_setupSummaryTitle_179wi_149",Pie="_setupSummaryRow_179wi_159",Lie="_setupSummaryLabel_179wi_171",Die="_setupSummaryValue_179wi_185",Mie="_setupSummaryMeta_179wi_195",Fie="_setupSummaryTags_179wi_205",Bie="_setupSummaryTag_179wi_205",$ie="_classDistribution_179wi_241",Vie="_resultStats_179wi_253",Oie="_resultStatBadge_179wi_267",Uie="_resultStatBadgeMuted_179wi_269",zie="_group_179wi_307",Gie="_groupHeader_179wi_327",Hie="_groupTitle_179wi_341",Wie="_groupHint_179wi_351",qie="_groupBadge_179wi_361",Kie="_badgeSuccess_179wi_387",Qie="_badgeMuted_179wi_399",Xie="_badgeDanger_179wi_409",Yie="_groupEmpty_179wi_421",Jie="_groupTable_179wi_437",Zie="_groupRow_179wi_455",eae="_groupHead_179wi_327",tae="_groupCell_179wi_491",sae="_memberName_179wi_501",nae="_memberBadge_179wi_509",He={resultWrap:wie,emptyState:jie,emptyTitle:Sie,emptyText:Nie,resultHeader:kie,resultKicker:Cie,resultTitle:Tie,resultText:Aie,emptyNote:Eie,setupSummary:Iie,setupSummaryTitle:Rie,setupSummaryRow:Pie,setupSummaryLabel:Lie,setupSummaryValue:Die,setupSummaryMeta:Mie,setupSummaryTags:Fie,setupSummaryTag:Bie,classDistribution:$ie,resultStats:Vie,resultStatBadge:Oie,resultStatBadgeMuted:Uie,group:zie,groupHeader:Gie,groupTitle:Hie,groupHint:Wie,groupBadge:qie,badgeSuccess:Kie,badgeMuted:Qie,badgeDanger:Xie,groupEmpty:Yie,groupTable:Jie,groupRow:Zie,groupHead:eae,groupCell:tae,memberName:sae,memberBadge:nae};function rae({members:t,scenario:e,setupState:n}){var S;if(!e)return s.jsxs("div",{className:He.emptyState,children:[s.jsx("h3",{className:He.emptyTitle,children:"No scenario selected"}),s.jsx("p",{className:He.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return s.jsxs("div",{className:He.emptyState,children:[s.jsx("h3",{className:He.emptyTitle,children:"No members available"}),s.jsx("p",{className:He.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:o,undecidedMembers:c}=J.useMemo(()=>{const P=[],R=[],B=[],D=[];return t.forEach(T=>{var j;const y=(j=e.decisions[T.id])!=null?j:"undecided";y==="take"?P.push(T):y==="bench"?R.push(T):y==="drop"?B.push(T):D.push(T)}),{takeMembers:P,benchMembers:R,dropMembers:B,undecidedMembers:D}},[t,e.decisions]),d=r.length,u=i.length,m=o.length,p=Math.max(0,e.maxSlots-d),x=e.maxSlots?Math.round(d/e.maxSlots*100):0,v=J.useMemo(()=>{const P=r.reduce((B,D)=>{var y,j;const T=(y=D.className)!=null?y:D.class;return T&&(B[T]=((j=B[T])!=null?j:0)+1),B},{});return Object.entries(P).map(([B,D])=>`${B}: ${D}`).join(" | ")},[r]),w=(P,R,B,D)=>s.jsxs("div",{className:He.group,children:[s.jsxs("div",{className:He.groupHeader,children:[s.jsxs("div",{children:[s.jsx("h4",{className:He.groupTitle,children:P}),s.jsx("span",{className:He.groupHint,children:R})]}),s.jsx("span",{className:`${He.groupBadge} ${D}`,children:B.length})]}),B.length===0?s.jsx("div",{className:He.groupEmpty,children:"No players in this group."}):s.jsxs("div",{className:He.groupTable,role:"table",children:[s.jsxs("div",{className:`${He.groupRow} ${He.groupHead}`,role:"row",children:[s.jsx("div",{className:He.groupCell,role:"columnheader",children:"Name"}),s.jsx("div",{className:He.groupCell,role:"columnheader",children:"Level"}),s.jsx("div",{className:He.groupCell,role:"columnheader",children:"Guild"}),s.jsx("div",{className:He.groupCell,role:"columnheader",children:"Class"})]}),B.map(T=>{var y,j;return s.jsxs("div",{className:He.groupRow,role:"row",children:[s.jsx("div",{className:He.groupCell,role:"cell",children:s.jsx("span",{className:He.memberName,children:T.name})}),s.jsx("div",{className:He.groupCell,role:"cell",children:s.jsxs("span",{className:He.memberBadge,children:["Lvl ",T.level]})}),s.jsx("div",{className:He.groupCell,role:"cell",children:T.guildName}),s.jsx("div",{className:He.groupCell,role:"cell",children:(j=(y=T.className)!=null?y:T.class)!=null?j:"-"})]},T.id)})]})]});return s.jsxs("div",{className:He.resultWrap,children:[s.jsxs("div",{className:He.resultHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:He.resultKicker,children:"Final Plan"}),s.jsx("h3",{className:He.resultTitle,children:e.name}),s.jsx("p",{className:He.resultText,children:(S=e.description)!=null?S:"Zusammenfassung des aktuellen Plans."}),r.length===0?s.jsx("p",{className:He.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,v?s.jsxs("p",{className:He.classDistribution,children:["Class distribution: ",v]}):null,s.jsxs("div",{className:He.setupSummary,children:[s.jsx("div",{className:He.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?s.jsxs("div",{className:He.setupSummaryRow,children:[s.jsx("span",{className:He.setupSummaryLabel,children:"Base"}),s.jsxs("span",{className:He.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:He.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):s.jsxs("div",{className:He.setupSummaryRow,children:[s.jsx("span",{className:He.setupSummaryLabel,children:"Base"}),s.jsx("span",{className:He.setupSummaryMeta,children:"No base guild selected."})]}),s.jsxs("div",{className:He.setupSummaryRow,children:[s.jsx("span",{className:He.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?s.jsx("div",{className:He.setupSummaryTags,children:n.partnerGuilds.map(P=>s.jsxs("span",{className:He.setupSummaryTag,children:[P.name||"Unbenannt"," ",s.jsxs("span",{className:He.setupSummaryMeta,children:["(",P.server||"Server n/a",")"]})]},P.id))}):s.jsx("span",{className:He.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),s.jsxs("div",{className:He.resultStats,children:[s.jsxs("span",{className:He.resultStatBadge,children:["Members selected: ",d," / ",e.maxSlots]}),s.jsxs("span",{className:He.resultStatBadge,children:["Bench: ",u]}),s.jsxs("span",{className:He.resultStatBadge,children:["Drop: ",m]}),s.jsxs("span",{className:He.resultStatBadge,children:["Free slots: ",p]}),s.jsxs("span",{className:He.resultStatBadge,children:["Utilization: ",x,"%"]}),c.length>0?s.jsxs("span",{className:He.resultStatBadgeMuted,children:["Undecided: ",c.length]}):null]})]}),w("Final roster (selected)","Take",r,He.badgeSuccess),w("Bench (waiting list)","Bench",i,He.badgeMuted),w("Not included","Drop",o,He.badgeDanger)]})}const Dm=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],uj=t=>t.reduce((e,n)=>(e[n.id]="undecided",e),{}),hj=t=>t.reduce((e,n)=>(e[n.id]="none",e),{}),iae=(t,e,n)=>{var r,i,o,c,d,u,m,p,x,v,w,S,P,R,B,D;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(o=t.class)!=null?o:void 0,role:(c=t.role)!=null?c:"Unknown",level:(d=t.level)!=null?d:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(u=t.lastActivityMs)!=null?u:null,baseStats:{main:(m=t.baseMain)!=null?m:void 0,con:(p=t.conBase)!=null?p:void 0,sumBaseTotal:(x=t.sumBaseTotal)!=null?x:void 0},totalStats:(v=t.totalStats)!=null?v:void 0,values:{treasury:(w=t.treasury)!=null?w:void 0,mine:(S=t.mine)!=null?S:void 0,attrTotal:(P=t.attrTotal)!=null?P:void 0,conTotal:(R=t.conTotal)!=null?R:void 0,lastScan:(B=t.lastScan)!=null?B:void 0,lastActivity:(D=t.lastActivity)!=null?D:void 0}}},aae=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=t.name)==null?void 0:i.trim();return n||null},mj=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,pj=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],oae=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function lae(){var $;const[t,e]=J.useState("setup"),[n,r]=J.useState(Dm),[i,o]=J.useState(!1),[c,d]=J.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,m]=J.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:uj(Dm),targetGuildAssignments:hj(Dm),isDefault:!0}]),[p,x]=J.useState("plan-a"),v=J.useMemo(()=>{var W,z;return(z=(W=u.find(q=>q.id===p))!=null?W:u[0])!=null?z:null},[p,u]),w=J.useMemo(()=>{var Q,G;const W=c.baseGuild,z=(Q=W==null?void 0:W.name)==null?void 0:Q.trim(),q=(G=W==null?void 0:W.server)==null?void 0:G.trim();return!!(z&&q)},[c.baseGuild]),S=J.useMemo(()=>n.length>0,[n.length]),P=J.useMemo(()=>u.length>0,[u.length]),R=J.useMemo(()=>{const W=[];return w||W.push("Setup incomplete - no base guild selected."),w&&!S&&W.push("No members loaded yet. Check scans or setup."),P||W.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),W},[w,S,P]),B=(W,z)=>{m(q=>q.map(Q=>Q.id===p?{...Q,decisions:{...Q.decisions,[W]:z}}:Q))},D=(W,z)=>{m(q=>q.map(Q=>{var G;return Q.id===p?{...Q,targetGuildAssignments:{...(G=Q.targetGuildAssignments)!=null?G:{},[W]:z}}:Q}))},T=W=>{const z=Number(W)||0;m(q=>q.map(Q=>Q.id===p?{...Q,maxSlots:Math.max(0,z)}:Q))},y=()=>{m(W=>{const z={id:mj(),name:`Plan ${W.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:uj(n),targetGuildAssignments:hj(n)};return x(z.id),[...W,z]})},j=W=>{m(z=>{var G;const q=z.find(te=>te.id===W);if(!q)return z;const Q={...q,id:mj(),name:`${q.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...q.decisions},targetGuildAssignments:{...(G=q.targetGuildAssignments)!=null?G:{}}};return x(Q.id),[...z,Q]})},M=(W,z)=>{const q=z.trim();q&&m(Q=>Q.map(G=>G.id===W?{...G,name:q}:G))},C=W=>{m(z=>{if(z.length<=1)return z;const q=z.filter(Q=>Q.id!==W);return q.length?(p===W&&x(q[0].id),q):z})};J.useEffect(()=>{if(c.mode!=="scan"){o(!1),r(Dm);return}const W=[c.baseGuild,...c.partnerGuilds].filter(Boolean);if(W.length===0){o(!1),r([]);return}let z=!1;async function q(){var Q,G,te,re,H,se,de,ee,fe,Te;o(!0);try{const xe=[];for(const Ce of W){const Ne=aae(Ce);if(!Ne)continue;const ue=ms(It,`guilds/${Ne}/latest/latest`),De=await dr(ue),Ee=De.exists()?De.data():null,tt=(H=(re=(G=(Q=Ce.name)==null?void 0:Q.trim())!=null?G:Ee==null?void 0:Ee.name)!=null?re:(te=Ee==null?void 0:Ee.values)==null?void 0:te.Name)!=null?H:Ne,ut=(Te=(fe=(de=(se=Ce.server)==null?void 0:se.trim())!=null?de:Ee==null?void 0:Ee.server)!=null?fe:(ee=Ee==null?void 0:Ee.values)==null?void 0:ee.Server)!=null?Te:null,ts=ms(It,`guilds/${Ne}/snapshots/members_summary`),zs=await dr(ts);if(!zs.exists())continue;const Gs=zs.data();(Array.isArray(Gs.members)?Gs.members:[]).forEach(Hs=>{xe.push(iae(Hs,tt,ut))})}z||r(xe)}catch(xe){console.error("[FusionPlanner] Failed to load members",xe),z||r([])}finally{z||o(!1)}}return r([]),q(),()=>{z=!0}},[c.baseGuild,c.partnerGuilds,c.mode]),J.useEffect(()=>{i||m(W=>W.map(z=>{var te;const q=new Set(n.map(re=>re.id)),Q={...z.decisions},G={...(te=z.targetGuildAssignments)!=null?te:{}};return n.forEach(re=>{Q[re.id]||(Q[re.id]="undecided"),G[re.id]||(G[re.id]="none")}),Object.keys(Q).forEach(re=>{q.has(re)||delete Q[re]}),Object.keys(G).forEach(re=>{q.has(re)||delete G[re]}),{...z,decisions:Q,targetGuildAssignments:G}}))},[n,i]);const _=W=>{d(z=>({...z,mode:W}))},A=W=>{d(z=>{var Q,G,te;const q=(Q=z.baseGuild)!=null?Q:{id:"base-1",kind:"base",name:"",server:""};return{...z,baseGuild:{...q,...W.id?{id:W.id}:{},name:(G=W.name)!=null?G:q.name,server:(te=W.server)!=null?te:q.server}}})},L=W=>{var G;if(!W.name.trim()||!W.server.trim())return;const z=W.name.trim(),q=W.server.trim(),Q=(G=W.id)==null?void 0:G.trim();d(te=>({...te,partnerGuilds:[...te.partnerGuilds,{id:Q&&!Q.startsWith("partner-")?Q:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:z,server:q,kind:"partner"}]}))},I=W=>{d(z=>({...z,partnerGuilds:z.partnerGuilds.filter(q=>q.id!==W)}))},V=()=>{switch(t){case"setup":return s.jsx(dne,{setupState:c,onChangeMode:_,onChangeBaseGuild:A,onAddPartnerGuild:L,onRemovePartnerGuild:I});case"members":return s.jsx(are,{members:n,scenario:v,onChangeScenarioDecision:B,onChangeScenarioTargetGuild:D,onChangeScenarioMaxSlots:T,setupState:c});case"overview":return s.jsx(Hre,{members:n,scenario:v,setupState:c,onChangeScenarioDecision:B,onChangeScenarioTargetGuild:D,onAddPartnerGuild:W=>L({name:W,server:"tbd"})});case"scenarios":return s.jsx(_ie,{scenarios:u,activeScenarioId:p,onSetActiveScenario:x,onCreateScenario:y,onDuplicateScenario:j,onRenameScenario:M,onDeleteScenario:C});case"result":return s.jsx(rae,{members:n,scenario:v,setupState:c});default:return null}};return s.jsx(gt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:s.jsxs("div",{className:We.page,children:[s.jsxs("header",{className:We.header,children:[s.jsxs("div",{className:We.headerLeading,children:[s.jsx(Dt,{to:"/guild-hub",className:We.backLink,children:"Back to Guild Hub"}),s.jsxs("div",{className:We.headerStack,children:[s.jsx("p",{className:We.kicker,children:"Guild Hub"}),s.jsx("h1",{className:We.title,children:"Fusion Planner"}),s.jsx("p",{className:We.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),s.jsxs("div",{className:We.headerActions,children:[s.jsx("button",{type:"button",className:We.primaryAction,children:"Neues Setup"}),s.jsx("button",{type:"button",className:We.secondaryAction,children:"Checkliste"})]})]}),R.length?s.jsx("div",{className:We.plannerNotice,role:"status","aria-live":"polite",children:R.map(W=>s.jsxs("div",{className:`${We.noticeItem} ${W.toLowerCase().includes("no base guild")?We.noticeWarning:""}`,children:[s.jsx("span",{className:We.noticeDot,"aria-hidden":!0}),s.jsx("span",{children:W})]},W))}):null,s.jsxs("section",{className:We.tabSection,"aria-label":"Fusion Planner Tabs",children:[s.jsx("div",{className:We.tabBar,children:pj.map(W=>{const z=W.key===t;return s.jsxs("button",{type:"button",className:`${We.tabItem} ${z?We.tabItemActive:""}`,onClick:()=>e(W.key),"aria-pressed":z,children:[s.jsx("span",{className:We.tabLabel,children:W.label}),s.jsx("span",{className:We.tabHelper,children:W.helper})]},W.key)})}),s.jsxs("div",{className:We.tabPanel,children:[s.jsx("span",{className:We.tabBadge,children:($=pj.find(W=>W.key===t))==null?void 0:$.label}),V()]})]}),s.jsxs("section",{className:We.infoStrip,children:[s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Status"}),s.jsx("strong",{children:"Entwurf"}),s.jsx("p",{className:We.infoHint,children:"Bereit fuer weitere Eingaben."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Slots geplant"}),s.jsx("strong",{children:"0 / 40"}),s.jsx("p",{className:We.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Szenarien"}),s.jsx("strong",{children:"3"}),s.jsx("p",{className:We.infoHint,children:"Baseline, Optimistic, Risiko."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Letztes Update"}),s.jsx("strong",{children:"vor wenigen Minuten"}),s.jsx("p",{className:We.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),s.jsx("section",{className:We.stageGrid,children:oae.map(W=>s.jsxs("article",{className:We.panel,children:[s.jsxs("div",{className:We.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.panelKicker,children:W.step}),s.jsx("h2",{className:We.panelTitle,children:W.title}),s.jsx("p",{className:We.panelLead,children:W.description})]}),W.badge?s.jsx("span",{className:We.badge,children:W.badge}):null]}),s.jsx("div",{className:We.panelBody,children:s.jsx("div",{className:We.placeholderGrid,children:W.placeholders.map(z=>s.jsxs("div",{className:We.placeholderCard,children:[s.jsx("div",{className:We.placeholderTitle,children:z}),s.jsx("p",{className:We.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},z))})})]},W.key))}),s.jsx("section",{className:We.helperSection,children:s.jsxs("div",{className:We.helperCard,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.helperKicker,children:"Result"}),s.jsx("h3",{className:We.helperTitle,children:"Finaler Merge-Plan"}),s.jsx("p",{className:We.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),s.jsxs("div",{className:We.helperActions,children:[s.jsx("button",{type:"button",className:We.secondaryAction,children:"Teilen"}),s.jsx("button",{type:"button",className:We.primaryAction,children:"Review starten"})]})]})})]})})}const zv=["EU-01","EU-02","US-01","US-02","ASIA-01"],ru=new Intl.NumberFormat("de-DE");function cae(){const t=kc("(min-width: 768px)"),[e,n]=J.useState("all"),[r,i]=J.useState(null),[o,c]=J.useState(null),[d,u]=J.useState(null),[m,p]=J.useState(null),x=[r,o].filter(Boolean).length,v=J.useMemo(()=>{const I=[d,m].filter(Boolean);if(!I.length)return 0;const V=I.reduce(($,W)=>{var z;return $+((z=W.members)!=null?z:0)},0);return Math.round(V/I.length)},[d,m]),[w,S]=J.useState(null),[P,R]=J.useState(!1),B=J.useRef(null);Cc(B,P&&!t),J.useEffect(()=>{t&&R(!1)},[t]),J.useEffect(()=>{if(!w)return;const I=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},V=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",V)}},[w]);const D=J.useMemo(()=>d?Su(d.nextUpdateAt,Date.now()):"",[d]),T=J.useMemo(()=>m?Su(m.nextUpdateAt,Date.now()):"",[m]),y=()=>R(!0),j=()=>R(!1),M=I=>{n(I)},C=(I,V)=>{I==="guildA"?(i(V.id),u(V)):(c(V.id),p(V))},_=I=>{I==="guildA"?(i(null),u(null)):(c(null),p(null))},A=I=>{S(V=>V===I?null:I)},L=d&&m;return s.jsxs(gt,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[s.jsxs("div",{className:ie.page,children:[s.jsxs("header",{className:ie.header,children:[s.jsxs("div",{className:ie.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Guild Hub"}),s.jsx("h1",{className:ie.title,children:"Gilden vergleichen"}),s.jsx("p",{className:ie.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),s.jsx("div",{className:ie.headerActions,children:!t&&s.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),s.jsxs("div",{className:ie.infoStrip,children:[s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Pool"}),s.jsxs("strong",{children:[ru.format(x)," Gilden"]})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Durchschnitt Mitglieder"}),s.jsx("strong",{children:ru.format(v)})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ie.inlineFilters,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),zv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:ie.layout,children:[s.jsxs("section",{className:ie.selectionColumn,children:[s.jsx(fj,{title:"Gilde A",slot:"guildA",selectedGuild:d,excludeId:o,onSelect:C,onClear:_,serverFilter:e,onServerChange:M}),s.jsx(fj,{title:"Gilde B",slot:"guildB",selectedGuild:m,excludeId:r,onSelect:C,onClear:_,serverFilter:e,onServerChange:M})]}),s.jsxs("section",{className:ie.comparisonColumn,children:[s.jsxs("div",{className:ie.comparisonCard,children:[s.jsxs("div",{className:ie.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Vergleich"}),s.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),L&&s.jsxs("span",{className:ie.diffBadge,children:["Delta Mitglieder:"," ",ru.format(d.members-m.members)]})]}),L?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ie.metricGrid,children:[s.jsx(gj,{label:"Mitglieder",aValue:d.members,bValue:m.members}),s.jsx(gj,{label:"Durchschnittslevel",aValue:d.avgLevel,bValue:m.avgLevel,isDecimal:!0}),s.jsx(dae,{guildA:d,guildB:m,countdownA:D,countdownB:T,activePopover:w,onToggle:A})]}),s.jsx(uae,{guildA:d,guildB:m})]}):s.jsx("div",{className:ie.emptyState,children:s.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ie.supportPanels,children:[s.jsx(hae,{}),s.jsx(mae,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ie.sheetOverlay} ${P?ie.sheetOpen:""}`,children:s.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:B,children:[s.jsxs("header",{className:ie.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ie.clearButton,onClick:j,children:"Schliessen"})]}),s.jsx("div",{className:ie.sheetBody,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),zv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function fj({title:t,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:o,serverFilter:c,onServerChange:d}){const[u,m]=J.useState(""),p=Nc(u,300);J.useEffect(()=>{m("")},[n,c]);const{results:x,loading:v}=pae(p,c,r);return s.jsxs("article",{className:ie.selectionCard,children:[s.jsxs("div",{className:ie.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.slotLabel,children:t}),s.jsx("p",{className:ie.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>o(e),children:"Reset"})]}),s.jsxs("div",{className:ie.slotBody,children:[s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:c,onChange:w=>d(w.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),zv.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ie.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:w=>m(w.target.value)})]}),s.jsxs("div",{className:ie.resultList,role:"list",children:[v&&s.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&x.length===0&&s.jsx("div",{className:ie.emptyResult,children:"Keine Gilde gefunden."}),!v&&x.map(w=>s.jsxs("div",{className:ie.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.resultName,children:w.name}),s.jsxs("p",{className:ie.resultMeta,children:[w.server," - ",w.members," Mitglieder"]})]}),s.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,w),children:"Waehlen"})]},w.id))]}),n&&s.jsxs("div",{className:ie.selectedCard,children:[s.jsx("p",{className:ie.selectedName,children:n.name}),s.jsxs("p",{className:ie.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),s.jsx("p",{className:ie.selectedTagline,children:n.tagline})]})]})]})}function gj({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):ru.format(d),o=e-n;let c="gleich";if(o!==0){const d=r?Math.abs(o).toFixed(1).replace(".",","):ru.format(Math.abs(o));c=o>0?`+${d}`:`-${d}`}return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:t}),s.jsxs("div",{className:ie.metricValues,children:[s.jsx("span",{"aria-label":"Gilde A",children:i(e)}),s.jsx("span",{className:ie.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),s.jsx("p",{className:ie.metricDelta,children:c})]})}function dae({guildA:t,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:o}){return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Freshness"}),s.jsx("div",{className:ie.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?n:r,u=`fresh-${c.id}`,m=i===u;return s.jsxs("div",{className:ie.freshnessItem,children:[s.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":m,onClick:()=>o(u),children:[s.jsx("span",{children:c.freshness.toUpperCase()}),s.jsx("small",{children:Wu(c.lastScanAt)})]}),m&&s.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ie.popoverTitle,children:c.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:P0[c.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:ki(c.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[ki(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function uae({guildA:t,guildB:e}){const n=J.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return s.jsxs("div",{className:ie.classCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Klassenverteilung"}),s.jsx("div",{className:ie.classGrid,children:[t,e].map(r=>s.jsxs("div",{className:ie.classColumn,children:[s.jsx("h3",{children:r.name}),s.jsx("div",{className:ie.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>s.jsxs("span",{style:{width:`${i.percent}%`},className:ie.classSlice,children:[s.jsx("small",{children:i.label}),s.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),s.jsx("ul",{className:ie.classLegend,children:n.map(r=>s.jsx("li",{children:r},r))})]})}function hae(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return s.jsxs("section",{className:ie.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ie.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function mae(){return s.jsxs("section",{className:ie.infoCardExtended,children:[s.jsx("h3",{children:"Transfers-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ie.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),s.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function pae(t,e,n){const[r,i]=J.useState([]),[o,c]=J.useState(!1);return J.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let u=!1;async function m(){c(!0);try{const p=d.toLowerCase(),x=Yp(It,"latest"),v=await nn(An(x,Oa("nameFold"),Oo(p),Uo(p+""),En(15))),w=await nn(An(x,Ho("nameNgrams","array-contains",p),En(15))),S=new Set,P=[],R=B=>{var V,$,W,z,q,Q,G,te,re,H,se,de,ee,fe,Te,xe,Ce,Ne,ue,De,Ee;const D=B.data(),y=(V=B.ref.parent)==null?void 0:V.parent,j=y==null?void 0:y.parent;if((j==null?void 0:j.id)!=="guilds")return;const C=(W=($=y==null?void 0:y.id)!=null?$:D.guildIdentifier)!=null?W:B.id;if(!C||S.has(C)||n&&C===n)return;const _=(Q=(q=D.name)!=null?q:(z=D.values)==null?void 0:z.Name)!=null?Q:"Unbekannte Gilde",A=(re=(te=D.server)!=null?te:(G=D.values)==null?void 0:G.Server)!=null?re:"Unknown";if(e!=="all"&&A!==e)return;const L=(fe=(ee=(se=D.memberCount)!=null?se:(H=D.values)==null?void 0:H["Guild Member Count"])!=null?ee:(de=D.values)==null?void 0:de.GuildMemberCount)!=null?fe:0,I=(Ce=(xe=D.updatedAt)!=null?xe:(Te=D.values)==null?void 0:Te.UpdatedAt)!=null?Ce:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString();S.add(C),P.push({id:C,name:_,tagline:(Ne=D.tagline)!=null?Ne:"",server:A,members:L,avgLevel:(Ee=(De=D.avgLevel)!=null?De:(ue=D.values)==null?void 0:ue.AvgLevel)!=null?Ee:0,lastScanAt:I,updatedAt:I,nextUpdateAt:I,freshness:"unknown",classes:[]})};v.forEach(R),w.forEach(R),u||(P.sort((B,D)=>B.name.localeCompare(D.name)),i(P))}catch(p){console.error("[GuildHub CompareGuilds] guild search failed",p),u||i([])}finally{u||c(!1)}}return m(),()=>{u=!0}},[t,e,n]),{results:r,loading:o}}const fae="_page_o27vc_1",gae="_header_o27vc_13",xae="_headerStack_o27vc_25",vae="_kicker_o27vc_37",yae="_title_o27vc_53",bae="_headerActions_o27vc_65",_ae="_primaryAction_o27vc_77",wae="_secondaryAction_o27vc_79",jae="_infoStrip_o27vc_109",Sae="_infoPill_o27vc_129",Nae="_freshnessWrapper_o27vc_163",kae="_freshnessBadge_o27vc_171",Cae="_popover_o27vc_191",Tae="_popoverLabel_o27vc_221",Aae="_filterToolbar_o27vc_231",Eae="_filterSheetButton_o27vc_241",Iae="_inlineFilters_o27vc_259",Rae="_searchInput_o27vc_271",Pae="_select_o27vc_273",Lae="_chipGroup_o27vc_295",Dae="_chip_o27vc_295",Mae="_chipActive_o27vc_325",Fae="_levelRow_o27vc_335",Bae="_sortControls_o27vc_363",$ae="_sortLabel_o27vc_375",Vae="_directionButton_o27vc_385",Oae="_listBody_o27vc_403",Uae="_tableWrapper_o27vc_415",zae="_table_o27vc_415",Gae="_cardFooter_o27vc_459",Hae="_panel_o27vc_461",Wae="_formPanel_o27vc_463",qae="_statusSelect_o27vc_481",Kae="_stickyColumn_o27vc_515",Qae="_rowButton_o27vc_529",Xae="_scanBadge_o27vc_545",Yae="_cardList_o27vc_561",Jae="_card_o27vc_459",Zae="_cardHeader_o27vc_593",eoe="_cardTitle_o27vc_605",toe="_cardMeta_o27vc_623",soe="_cardNotes_o27vc_635",noe="_emptyState_o27vc_659",roe="_sheetBackdrop_o27vc_675",ioe="_sheet_o27vc_675",aoe="_sheetHandle_o27vc_717",ooe="_sheetBody_o27vc_733",loe="_sheetLabel_o27vc_749",coe="_sheetActions_o27vc_785",doe="_overlay_o27vc_797",uoe="_drawer_o27vc_837",hoe="_modal_o27vc_845",moe="_panelHeader_o27vc_853",poe="_section_o27vc_867",foe="_tagRow_o27vc_899",goe="_historyList_o27vc_913",xoe="_panelFooter_o27vc_943",voe="_formOverlay_o27vc_955",yoe="_formGrid_o27vc_1003",boe="_warning_o27vc_1015",_oe="_pagination_o27vc_1033",_e={page:fae,header:gae,headerStack:xae,kicker:vae,title:yae,headerActions:bae,primaryAction:_ae,secondaryAction:wae,infoStrip:jae,infoPill:Sae,freshnessWrapper:Nae,freshnessBadge:kae,popover:Cae,popoverLabel:Tae,filterToolbar:Aae,filterSheetButton:Eae,inlineFilters:Iae,searchInput:Rae,select:Pae,chipGroup:Lae,chip:Dae,chipActive:Mae,levelRow:Fae,sortControls:Bae,sortLabel:$ae,directionButton:Vae,listBody:Oae,tableWrapper:Uae,table:zae,cardFooter:Gae,panel:Hae,formPanel:Wae,statusSelect:qae,stickyColumn:Kae,rowButton:Qae,scanBadge:Xae,cardList:Yae,card:Jae,cardHeader:Zae,cardTitle:eoe,cardMeta:toe,cardNotes:soe,emptyState:noe,sheetBackdrop:roe,sheet:ioe,sheetHandle:aoe,sheetBody:ooe,sheetLabel:loe,sheetActions:coe,overlay:doe,drawer:uoe,modal:hoe,panelHeader:moe,section:poe,tagRow:foe,historyList:goe,panelFooter:xoe,formOverlay:voe,formGrid:yoe,warning:boe,pagination:_oe},Ap=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],Ep=["EU-01","EU-02","US-01","US-02","ASIA-01"],L0={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},xj={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},zx={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},woe=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:Ma(2),updatedAt:Ma(3),freshness:"f1",history:[{date:ar(1),message:"Interview abgeschlossen"},{date:ar(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:Ma(10),updatedAt:Ma(11),freshness:"f3",history:[{date:ar(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:Ma(20),updatedAt:Ma(5),freshness:"f4",history:[{date:ar(4),message:"Probe erfolgreich"},{date:ar(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:ar(2),updatedAt:ar(2),freshness:"f5",history:[{date:ar(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:ar(3),updatedAt:ar(1),freshness:"f6",history:[{date:ar(1),message:"Bewerbung zurueckgezogen"},{date:ar(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:Ma(5),updatedAt:Ma(5),freshness:"f2",history:[{date:ar(1),message:"Profil verifiziert"}]}];function vj(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function joe(t,e,n){const r=n.toLowerCase();return t.filter(i=>{const o=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),c=e.status==="all"||i.status===e.status,d=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),m=i.level>=e.lvMin&&i.level<=e.lvMax;return o&&c&&d&&u&&m})}function Soe(t,e,n){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"name":c=i.name.localeCompare(o.name);break;case"level":c=i.level-o.level;break;case"status":c=i.status.localeCompare(o.status);break;case"lastScan":c=new Date(i.lastScanAt).getTime()-new Date(o.lastScanAt).getTime();break;case"updatedAt":default:c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break}return n==="asc"?c:-c}),r}function Noe(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function Zm(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function koe(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Coe(t){return t.length?t.reduce((e,n)=>e?xj[n.freshness]>xj[e.freshness]?n:e:n,null):null}function ar(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function Ma(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function Toe(){var z;const[t,e]=J.useState(woe),[n,r]=J.useState(zx),[i,o]=J.useState(zx),c=Nc(n.q,300),d=J.useMemo(()=>{const q=joe(t,n,c);return Soe(q,n.sort,n.dir)},[t,n,c]),u=J.useMemo(()=>Noe(d,n.page,n.pageSize),[d,n.page,n.pageSize]),m=Math.max(1,Math.ceil(d.length/n.pageSize)),p=kc("(min-width: 768px)"),x=kc("(min-width: 1024px)"),[v,w]=J.useState(!1),[S,P]=J.useState(null),R=(z=t.find(q=>q.id===S))!=null?z:null,B=J.useRef(null);Cc(B,!!R&&!x);const[D,T]=J.useState(null),[y,j]=J.useState(!1),M=J.useRef(null);Cc(M,y);const C=J.useMemo(()=>Coe(t),[t]),_=C&&C.lastScanAt?koe(C.lastScanAt):"unbekannt",A=q=>{const Q=vj(q);r(Q),o(Q)},L=(q,Q)=>{const G=vj({...n,[q]:Q,page:q==="page"?Q:1});A(G)},I=()=>{A(i),w(!1)},V=()=>{A(zx),w(!1)},$=(q,Q)=>{e(G=>G.map(te=>te.id===q?{...te,status:Q,updatedAt:new Date().toISOString()}:te))},W=q=>{e(Q=>Q.some(te=>te.id===q.id)?Q.map(te=>te.id===q.id?q:te):[q,...Q]),j(!1)};return s.jsxs(gt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[s.jsxs("div",{className:_e.page,children:[s.jsxs("header",{className:_e.header,children:[s.jsxs("div",{className:_e.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:_e.kicker,children:"Recruiting"}),s.jsx("h1",{className:_e.title,children:"Waitlist"})]}),s.jsxs("div",{className:_e.headerActions,children:[s.jsx("button",{type:"button",className:_e.primaryAction,onClick:()=>{T(null),j(!0)},children:"Neuer Eintrag"}),!p&&s.jsx("button",{type:"button",className:_e.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>w(!0),children:"Filter"})]})]}),s.jsxs("div",{className:_e.infoStrip,children:[s.jsx(Gx,{label:"Neu",value:d.filter(q=>q.status==="new").length}),s.jsx(Gx,{label:"In Review",value:d.filter(q=>q.status==="in_review").length}),s.jsx(Gx,{label:"Zugesagt",value:d.filter(q=>q.status==="accepted").length}),C&&s.jsx(Aoe,{label:L0[C.freshness],updatedAt:C.lastScanAt,countdown:_})]})]}),s.jsx("section",{className:_e.filterToolbar,children:p?s.jsx(Eoe,{filters:n,onChange:L,onToggleClass:q=>{const Q=n.classes.includes(q)?n.classes.filter(G=>G!==q):[...n.classes,q];L("classes",Q)},onToggleServer:q=>{const Q=n.servers.includes(q)?n.servers.filter(G=>G!==q):[...n.servers,q];L("servers",Q)}}):s.jsx("button",{type:"button",className:_e.filterSheetButton,onClick:()=>w(!0),children:"Filter & Sortierung"})}),s.jsx("section",{className:_e.listBody,children:p?s.jsx(Ioe,{items:u,sort:n.sort,dir:n.dir,onSortChange:q=>{const Q=n.sort===q&&n.dir==="asc"?"desc":"asc";L("sort",q),L("dir",Q)},onSelect:P,onStatusChange:$}):s.jsx(Roe,{items:u,onSelect:P,onStatusChange:$})}),s.jsx(Loe,{page:n.page,totalPages:m,onChange:q=>L("page",q)})]}),v&&s.jsx(Poe,{filters:i,onChange:o,onToggleClass:q=>o(Q=>({...Q,classes:Q.classes.includes(q)?Q.classes.filter(G=>G!==q):[...Q.classes,q]})),onToggleServer:q=>o(Q=>({...Q,servers:Q.servers.includes(q)?Q.servers.filter(G=>G!==q):[...Q.servers,q]})),onClose:()=>w(!1),onApply:I,onReset:V}),R&&s.jsx(M3,{ref:B,item:R,mode:x?"drawer":"modal",onClose:()=>P(null),onEdit:()=>{T(R),j(!0),P(null)}}),y&&s.jsx(F3,{ref:M,item:D,entries:t,onClose:()=>j(!1),onSubmit:W})]})}function Gx({label:t,value:e}){return s.jsxs("div",{className:_e.infoPill,children:[s.jsx("span",{children:t}),s.jsx("strong",{children:e})]})}function Aoe({label:t,updatedAt:e,countdown:n}){const[r,i]=J.useState(!1);return s.jsxs("div",{className:_e.freshnessWrapper,children:[s.jsx("button",{type:"button",className:_e.freshnessBadge,onClick:()=>i(o=>!o),"aria-expanded":r,children:t}),r&&s.jsxs("div",{className:_e.popover,children:[s.jsxs("div",{children:[s.jsx("span",{className:_e.popoverLabel,children:"Letzter Scan"}),s.jsx("strong",{children:Zm(e)})]}),s.jsxs("div",{children:[s.jsx("span",{className:_e.popoverLabel,children:"Aktualisiert"}),s.jsx("strong",{children:n})]})]})]})}function Eoe({filters:t,onChange:e,onToggleClass:n,onToggleServer:r}){return s.jsxs("div",{className:_e.inlineFilters,children:[s.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:_e.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),s.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:_e.select,value:t.status,onChange:i=>e("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("div",{className:_e.chipGroup,children:Ap.map(i=>{const o=t.classes.includes(i);return s.jsx("button",{type:"button",className:`${_e.chip} ${o?_e.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),s.jsx("div",{className:_e.chipGroup,children:Ep.map(i=>{const o=t.servers.includes(i);return s.jsx("button",{type:"button",className:`${_e.chip} ${o?_e.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:_e.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),s.jsxs("div",{className:_e.sortControls,children:[s.jsx("label",{className:_e.sortLabel,children:"Sortieren"}),s.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"lastScan",children:"Letzter Scan"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),s.jsx("button",{type:"button",className:_e.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function Ioe({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:o}){const c=d=>e===d?n==="asc"?" ":" ":"";return t.length?s.jsx("div",{className:_e.tableWrapper,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:_e.stickyColumn,onClick:()=>r("name"),children:["Name",c("name")]}),s.jsx("th",{children:"Klasse"}),s.jsxs("th",{onClick:()=>r("level"),children:["Level",c("level")]}),s.jsx("th",{children:"Server"}),s.jsxs("th",{onClick:()=>r("status"),children:["Status",c("status")]}),s.jsx("th",{children:"Notizen"}),s.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",c("lastScan")]})]})}),s.jsx("tbody",{children:t.map(d=>s.jsxs("tr",{children:[s.jsx("td",{className:_e.stickyColumn,children:s.jsx("button",{type:"button",className:_e.rowButton,onClick:()=>i(d.id),children:d.name})}),s.jsx("td",{children:d.classRole}),s.jsx("td",{children:d.level}),s.jsx("td",{children:d.server}),s.jsx("td",{children:s.jsxs("select",{className:_e.statusSelect,name:`waitlistStatus-${d.id}`,"aria-label":`Status fuer ${d.name}`,value:d.status,onChange:u=>o(d.id,u.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),s.jsxs("td",{children:[d.notes.slice(0,64),"..."]}),s.jsx("td",{children:s.jsx("span",{className:_e.scanBadge,children:L0[d.freshness]})})]},d.id))})]})}):s.jsx(D3,{})}function Roe({items:t,onSelect:e,onStatusChange:n}){return t.length?s.jsx("div",{className:_e.cardList,children:t.map(r=>s.jsxs("article",{className:_e.card,children:[s.jsxs("div",{className:_e.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:_e.cardTitle,onClick:()=>e(r.id),children:r.name}),s.jsxs("p",{className:_e.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),s.jsx("span",{className:_e.scanBadge,children:L0[r.freshness]})]}),s.jsxs("p",{className:_e.cardNotes,children:[r.notes.slice(0,160),"..."]}),s.jsxs("div",{className:_e.cardFooter,children:[s.jsxs("select",{className:_e.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):s.jsx(D3,{})}function D3(){return s.jsx("div",{className:_e.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function Poe({filters:t,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:o,onReset:c}){return s.jsx("div",{className:_e.sheetBackdrop,onClick:i,children:s.jsxs("div",{className:_e.sheet,onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:_e.sheetHandle}),s.jsxs("div",{className:_e.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:_e.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:d=>e(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Status",s.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:d=>e(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),s.jsxs("div",{className:_e.sheetLabel,children:["Klassen",s.jsx("div",{className:_e.chipGroup,children:Ap.map(d=>{const u=t.classes.includes(d);return s.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Klasse ${d}`,onClick:()=>n(d),children:d},d)})})]}),s.jsxs("div",{className:_e.sheetLabel,children:["Server",s.jsx("div",{className:_e.chipGroup,children:Ep.map(d=>{const u=t.servers.includes(d);return s.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Server ${d}`,onClick:()=>r(d),children:d},d)})})]}),s.jsxs("div",{className:_e.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:d=>e(u=>({...u,lvMin:Number(d.target.value)}))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:d=>e(u=>({...u,lvMax:Number(d.target.value)}))})]})]})]}),s.jsxs("div",{className:_e.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:_e.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const M3=J.forwardRef(({item:t,mode:e,onClose:n,onEdit:r},i)=>s.jsx("div",{className:_e.overlay,children:s.jsxs("div",{ref:i,className:`${_e.panel} ${e==="drawer"?_e.drawer:_e.modal}`,children:[s.jsxs("header",{className:_e.panelHeader,children:[s.jsxs("div",{children:[s.jsxs("p",{className:_e.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),s.jsx("h2",{children:t.name})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Kontakt"}),s.jsx("p",{children:t.contact}),s.jsxs("p",{children:["Quelle: ",t.source]})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Notizen"}),s.jsx("p",{children:t.notes})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Tags"}),s.jsx("div",{className:_e.tagRow,children:t.tags.length?t.tags.map(o=>s.jsx("span",{children:o},o)):s.jsx("span",{children:"Keine"})})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Historie"}),s.jsx("ul",{className:_e.historyList,children:t.history.map(o=>s.jsxs("li",{children:[s.jsx("span",{children:Zm(o.date)}),s.jsx("p",{children:o.message})]},`${o.date}-${o.message}`))})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Scan-Infos"}),s.jsxs("p",{children:["Letzter Scan: ",Zm(t.lastScanAt)]}),s.jsxs("p",{children:["Aktualisiert: ",Zm(t.updatedAt)]})]}),s.jsxs("footer",{className:_e.panelFooter,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:_e.primaryAction,onClick:n,children:"Schliessen"})]})]})}));M3.displayName="DetailPanel";const F3=J.forwardRef(({item:t,entries:e,onClose:n,onSubmit:r},i)=>{const[o,c]=J.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:Ap[0],level:1,server:Ep[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});J.useEffect(()=>{t&&c(t)},[JSON.stringify(t)]);const d=m=>{m.preventDefault(),r({...o,updatedAt:new Date().toISOString()})},u=e.some(m=>m.id!==o.id&&m.name.toLowerCase()===o.name.toLowerCase()&&m.server===o.server);return s.jsx("div",{className:_e.formOverlay,children:s.jsxs("form",{ref:i,className:_e.formPanel,onSubmit:d,children:[s.jsxs("header",{className:_e.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:_e.cardMeta,children:t?"Bearbeiten":"Neu"}),s.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Schliessen"})]}),u&&s.jsx("div",{className:_e.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),s.jsxs("label",{className:_e.sheetLabel,children:["Name",s.jsx("input",{name:"waitlistFormName",value:o.name,onChange:m=>c(p=>({...p,name:m.target.value}))})]}),s.jsxs("div",{className:_e.formGrid,children:[s.jsxs("label",{children:["Klasse",s.jsx("select",{name:"waitlistFormClass",value:o.classRole,onChange:m=>c(p=>({...p,classRole:m.target.value})),children:Ap.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Level",s.jsx("input",{type:"number",name:"waitlistFormLevel",value:o.level,min:1,max:200,onChange:m=>c(p=>({...p,level:Number(m.target.value)}))})]}),s.jsxs("label",{children:["Server",s.jsx("select",{name:"waitlistFormServer",value:o.server,onChange:m=>c(p=>({...p,server:m.target.value})),children:Ep.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"waitlistFormStatus",value:o.status,onChange:m=>c(p=>({...p,status:m.target.value})),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Kontakt",s.jsx("input",{name:"waitlistFormContact",value:o.contact,onChange:m=>c(p=>({...p,contact:m.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Quelle",s.jsx("input",{name:"waitlistFormSource",value:o.source,onChange:m=>c(p=>({...p,source:m.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Notizen",s.jsx("textarea",{name:"waitlistFormNotes",value:o.notes,onChange:m=>c(p=>({...p,notes:m.target.value})),rows:4})]}),s.jsxs("footer",{className:_e.panelFooter,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:_e.primaryAction,children:"Speichern"})]})]})})});F3.displayName="WaitlistForm";function Loe({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:_e.pagination,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const Doe=["tab","sub","sub2","q","sort","dir","page","pageSize"];function Fc(t=[]){const[e,n]=el(),r=J.useMemo(()=>[...t].sort().join("|"),[t]),i=J.useMemo(()=>{const p=new Set([...Doe]);return t.forEach(x=>p.add(x)),Array.from(p)},[r]),o=J.useMemo(()=>{const p={};return i.forEach(x=>{const v=e.get(x);v!==null&&(p[x]=v)}),p},[e,i]),c=J.useCallback((p,x)=>{var w;const v=new URLSearchParams(e);Object.entries(p).forEach(([S,P])=>{P==null||P===""?v.delete(S):v.set(S,String(P))}),n(v,{replace:(w=x==null?void 0:x.replace)!=null?w:!1})},[e,n]),d=J.useCallback(p=>{const x=new URLSearchParams(e);(p&&p.length>0?p:i).forEach(w=>x.delete(w)),n(x,{replace:!0})},[e,n,i]),u=J.useCallback((p,x="")=>{var v;return(v=o[p])!=null?v:x},[o]),m=J.useCallback((p,x=0)=>{const v=o[p],w=v?Number(v):NaN;return Number.isFinite(w)?w:x},[o]);return{params:o,getParam:u,getNumberParam:m,writeParams:c,resetParams:d}}function Moe(){return Fc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Activity"})})}function Foe(){return Fc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Imports"})})}function Boe(){return Fc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Announcements"})})}function $oe(){return Fc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Events"})})}function Voe(){return Fc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Roles"})})}function Ooe(){return Fc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Settings"})})}const Uoe=[{icon:s.jsx($p,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(nE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(WA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],zoe=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],Goe=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function Hoe(){return s.jsx(gt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Dt,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(Woe,{}),right:s.jsx(qoe,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Uoe.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(Dt,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:zoe.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(ay,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function Woe(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(Dt,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(Dt,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(Dt,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),s.jsx(Dt,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function qoe(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:Goe.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const Koe=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function Qoe(){return s.jsx(gt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:Koe.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:Xoe(t.severity)},children:t.severity})]},t.id))})]})})}function Xoe(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const ei={background:"#152A42",borderColor:"#2B4C73"},ac={background:"#1A2F4A",borderColor:"#2B4C73"},Hx=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function Yoe(){const{data:t,loading:e,refreshing:n,error:r,refresh:i}=tle(),o=J.useMemo(()=>[{label:"Total uploads",value:Cr(t.metrics.totalUploads),hint:`${Cr(t.metrics.last24h)} in the last 24h`,icon:s.jsx(fA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:Cu(t.metrics.successRate),hint:`${Cr(t.metrics.failed)} failed`,icon:s.jsx(nA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?Wx(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${Wx(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(mA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:yj(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx(yA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Cr(t.metrics.uniqueUploaders),hint:`${Cr(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx($p,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Cr(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(vS,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(gt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx(Joe,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:s.jsx(Zoe,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:o.map(c=>s.jsxs("article",{className:"rounded-2xl border p-4",style:ei,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[c.icon,c.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:c.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:c.hint})]},c.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:ei,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:oc(c.status)},"aria-hidden":"true"}),D0(c.status)]}),s.jsx("span",{className:"font-semibold",children:Cr(c.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(c.share*100,100).toFixed(1)}%`,backgroundColor:oc(c.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[Cu(c.share)," of window"]})]},c.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ei,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:c.hourLabel}),s.jsxs("span",{children:[Cr(c.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:oc("success")},"aria-hidden":"true"}),"Success ",Cr(c.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:oc("failed")},"aria-hidden":"true"}),"Failed ",Cr(c.failed)]})]})]},c.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:ei,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(za,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(ay,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(QT,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(c=>{var d,u,m,p;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:c.id}),s.jsx("span",{children:s.jsx(ele,{status:c.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(d=c.uploaderName)!=null?d:c.uploaderId)!=null?u:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.uploadedAt?c.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(p=(m=c.guildName)!=null?m:c.guildId)!=null?p:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.errorCode?`Issue: ${c.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.processingMs?Wx(c.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.fileSizeBytes?yj(c.fileSizeBytes):""})]},c.id)})})]})]})})}function Joe({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:ei,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(Bp,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:ei,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:oc(i.status)},"aria-hidden":"true"}),D0(i.status)]}),s.jsx("span",{children:Cu(i.share)})]},i.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(za,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:ei,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Om,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Om,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Om,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function Zoe({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:ei,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(vS,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:i.code}),s.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ei,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(ay,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var o;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),s.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(o=i.errorCode)!=null?o:"No error code provided"})]},i.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ei,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx($p,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Cu(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Cr(i.count)})]},i.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ei,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(wA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Cu(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Cr(i.count)})]},i.id))})]})]})}function ele({status:t}){const e=oc(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(Om,{className:"h-3 w-3","aria-hidden":"true"}),D0(t)]})}function tle(){const[t,e]=J.useState(Hx),[n,r]=J.useState(!0),[i,o]=J.useState(!1),[c,d]=J.useState(null),u=J.useCallback(async(p=!1)=>{p?o(!0):r(!0);try{const x=Fu(It,"scanUploads"),v=An(x,Oa("uploadedAt","desc"),En(100)),S=(await nn(v)).docs.map(P=>sle(P.id,P.data()));S.length>0?(e(S),d(null)):(e(Hx),d("No uploads in window  showing fallback snapshot"))}catch(x){console.error("[ScansUploaded] Failed to load Firestore data",x),d("Live data unavailable  fallback snapshot active"),e(Hx)}finally{p?o(!1):r(!1)}},[]);J.useEffect(()=>{u(!1)},[u]);const m=J.useMemo(()=>rle(t),[t]);return{loading:n,refreshing:i,error:c,data:m,refresh:J.useCallback(()=>u(!0),[u])}}function sle(t,e){const n=nle(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof ps?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function nle(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function rle(t){var A,L;const e=new Map,n=new Map,r=new Map,i=new Map,o=[];let c=0,d=0;const m=Date.now()-1440*60*1e3,p=new Map;t.forEach(I=>{var z,q,Q,G,te,re,H,se,de,ee,fe,Te,xe,Ce,Ne,ue,De;const V=(z=e.get(I.status))!=null?z:0;if(e.set(I.status,V+1),I.uploadedAt&&I.uploadedAt.getTime()>=m&&(d+=1),I.processingMs!=null&&o.push(I.processingMs),I.fileSizeBytes!=null&&(c+=I.fileSizeBytes),I.status==="failed"&&I.errorCode){const Ee=(q=n.get(I.errorCode))!=null?q:{count:0,lastSeen:null};n.set(I.errorCode,{count:Ee.count+1,lastSeen:!Ee.lastSeen||I.uploadedAt&&Ee.lastSeen<I.uploadedAt?I.uploadedAt:Ee.lastSeen})}const $=(G=(Q=I.uploaderId)!=null?Q:I.uploaderName)!=null?G:`anon-${I.id}`,W=(H=r.get($))!=null?H:{name:(re=(te=I.uploaderName)!=null?te:I.uploaderId)!=null?re:"Unknown",success:0,total:0};if(r.set($,{name:(de=(se=I.uploaderName)!=null?se:I.uploaderId)!=null?de:"Unknown",success:W.success+(I.status==="success"?1:0),total:W.total+1}),I.guildId||I.guildName){const Ee=(fe=(ee=I.guildId)!=null?ee:I.guildName)!=null?fe:`guild-${I.id}`,tt=(Ce=i.get(Ee))!=null?Ce:{name:(xe=(Te=I.guildName)!=null?Te:I.guildId)!=null?xe:"Unknown",success:0,total:0};i.set(Ee,{name:(ue=(Ne=I.guildName)!=null?Ne:I.guildId)!=null?ue:"Unknown",success:tt.success+(I.status==="success"?1:0),total:tt.total+1})}if(I.uploadedAt){const Ee=new Date(I.uploadedAt);Ee.setMinutes(0,0,0);const tt=Ee.toISOString(),ut=(De=p.get(tt))!=null?De:{hourLabel:ale(Ee),timestamp:Ee,total:0,success:0,failed:0};p.set(tt,{hourLabel:ut.hourLabel,timestamp:ut.timestamp,total:ut.total+1,success:ut.success+(I.status==="success"?1:0),failed:ut.failed+(I.status==="failed"?1:0)})}});const x=t.length,v=(A=e.get("success"))!=null?A:0,w=(L=e.get("failed"))!=null?L:0,S=o.length?o.reduce((I,V)=>I+V,0)/o.length:null,P=o.length?ile(o,95):null,R=r.size,B=i.size,D=Array.from(e.entries()).map(([I,V])=>({status:I,count:V,share:x?V/x:0})).sort((I,V)=>V.count-I.count),T=Array.from(p.values()).sort((I,V)=>V.timestamp.getTime()-I.timestamp.getTime()).slice(0,12),y=Array.from(n.entries()).map(([I,V])=>({code:I,...V})).sort((I,V)=>V.count-I.count).slice(0,6),j=[...t].sort((I,V)=>{var $,W,z,q;return((W=($=V.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(z=I.uploadedAt)==null?void 0:z.getTime())!=null?q:0)}).slice(0,12),M=t.filter(I=>I.status==="failed").sort((I,V)=>{var $,W,z,q;return((W=($=V.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(z=I.uploadedAt)==null?void 0:z.getTime())!=null?q:0)}),C=Array.from(r.entries()).map(([I,V])=>({id:I,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((I,V)=>V.count-I.count).slice(0,5),_=Array.from(i.entries()).map(([I,V])=>({id:I,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((I,V)=>V.count-I.count).slice(0,5);return{metrics:{totalUploads:x,last24h:d,successRate:x?v/x:0,failed:w,avgProcessingMs:S,p95ProcessingMs:P,uniqueUploaders:R,uniqueGuilds:B,totalFileSizeBytes:c},statusBreakdown:D,timeline:T,issues:y,recentFailures:M,recentUploads:j,topUploaders:C,topGuilds:_}}function ile(t,e){const n=[...t].sort((d,u)=>d-u);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),o=Math.ceil(r);if(i===o)return n[i];const c=r-i;return n[i]*(1-c)+n[o]*c}function Cr(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function Cu(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function Wx(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function yj(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function oc(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function D0(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function ale(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function qx({label:t,value:e,hint:n}){return s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),s.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function ole(){var d,u,m,p,x,v;const{snapshot:t,error:e,loading:n,refresh:r}=j3(),i=(d=t==null?void 0:t.warnings)!=null?d:[],o=(m=(u=t==null?void 0:t.data)==null?void 0:u.length)!=null?m:0,c=(p=t==null?void 0:t.stats)!=null?p:{};return s.jsx(gt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(qx,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),s.jsx(qx,{label:"Creators tracked",value:o?o.toString():"0"}),s.jsx(qx,{label:"API lookups",value:`${(x=c.youtubeLookups)!=null?x:0}  ${(v=c.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?s.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):s.jsx("ul",{className:"space-y-2",children:i.map((w,S)=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[w.creator,"  ",w.scope]}),s.jsx("div",{className:"text-xs text-[#B0C4D9]",children:w.message}),w.source&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:w.source})]},`${w.scope}-${S}`))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),s.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{children:["Add the following environment variables (e.g. in ",s.jsx("code",{children:".env.local"}),"):",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),s.jsxs("li",{children:["Execute the sync script:",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),s.jsxs("li",{children:["Commit/deploy the generated ",s.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&s.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const gf=`${sl}/admin/users`,lle=25,M0=()=>{if(!gf)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},bj=t=>typeof t!="number"?null:ps.fromMillis(t),F0=t=>{var e;return{id:t.id,userId:t.userId,displayName:t.displayName,avatarUrl:t.avatarUrl,primaryProvider:(e=t.primaryProvider)!=null?e:"discord",roles:t.roles,providers:t.providers,profile:t.profile,createdAt:bj(t.createdAt),lastLoginAt:bj(t.lastLoginAt),status:t.status,notes:t.notes}},cle=t=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=t.pageSize)!=null?r:lle)),t.cursor&&e.set("cursor",t.cursor),t.role&&e.set("role",t.role),t.status&&e.set("status",t.status),t.provider&&e.set("provider",t.provider),t.search&&e.set("search",t.search);const n=e.toString();return n?`?${n}`:""},B0=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function _j(t={}){var r;M0();const e=cle(t),n=`${gf}${e}`;try{const i=await fetch(n,{credentials:"include"});if(!i.ok)throw await B0(i);const o=await i.json();return{users:o.users.map(F0),nextPageCursor:(r=o.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function dle(t){M0();const e=await fetch(`${gf}/${encodeURIComponent(t)}`,{credentials:"include"});if(!e.ok)throw await B0(e);const n=await e.json();return F0(n.user)}async function ule(t,e){M0();const n=await fetch(`${gf}/${encodeURIComponent(t)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw await B0(n);const r=await n.json();return F0(r.user)}const B3=`${sl}/admin/audit-events`,hle=50,mle=()=>{if(!B3)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},ple=t=>typeof t!="number"?null:ps.fromMillis(t),fle=t=>{var e,n;return{id:t.id,createdAt:ple(t.createdAt),actorUserId:t.actorUserId,actorDisplayName:(e=t.actorDisplayName)!=null?e:null,targetUserId:t.targetUserId,action:t.action,summary:t.summary,changes:(n=t.changes)!=null?n:{},context:t.context}},gle=t=>{var r;const e=new URLSearchParams;e.set("limit",String((r=t.limit)!=null?r:hle)),t.cursor&&e.set("cursor",t.cursor),t.actorUserId&&e.set("actorUserId",t.actorUserId),t.targetUserId&&e.set("targetUserId",t.targetUserId),t.action&&e.set("action",t.action);const n=e.toString();return n?`?${n}`:""},xle=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function Gv(t={}){var i;mle();const e=`${B3}${gle(t)}`,n=await fetch(e,{credentials:"include"});if(!n.ok)throw await xle(n);const r=await n.json();return{events:r.events.map(fle),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function vle(t,e=10){return Gv({targetUserId:t,limit:e})}const yle=20,ble=50,iu={borderColor:"#2B4C73",background:"#152A42"},$3={background:"#1A2F4A"};function _le(){var d;const{status:t,user:e}=Ec(),n=(d=e==null?void 0:e.roles)!=null?d:[],r=n.includes("admin"),i=r||n.includes("mod"),[o,c]=E.useState("users");return t==="loading"||t==="idle"?s.jsx(gt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?s.jsx(gt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:s.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[s.jsx(tl,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:s.jsx(wle,{activeTab:o,onChange:c}),children:o==="users"?s.jsx(jle,{isAdmin:r}):s.jsx(Sle,{isAdmin:r,onSelectUser:u=>{c("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):s.jsx(gt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[s.jsx(eE,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),s.jsxs("p",{children:["You need at least the ",s.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function wle({activeTab:t,onChange:e}){const n=[{key:"users",label:"Users",icon:s.jsx($p,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:s.jsx(zA,{className:"h-4 w-4"})}];return s.jsx("div",{className:"flex gap-2",children:n.map(r=>s.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function jle({isAdmin:t}){const[e,n]=E.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=E.useState(""),o=Wv(r,350);E.useEffect(()=>{n(ue=>ue.search===o?ue:{...ue,search:o})},[o]);const[c,d]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,m]=E.useState(0),p=E.useMemo(()=>({pageSize:yle,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);E.useEffect(()=>{let ue=!1;return d(De=>({...De,loading:!0,error:null})),_j(p).then(De=>{ue||d({items:De.users,cursor:De.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(De=>{ue||d(Ee=>({...Ee,loading:!1,loadingMore:!1,error:De instanceof Error?De.message:"Failed to load users"}))}),()=>{ue=!0}},[p,u]);const x=()=>m(ue=>ue+1),v=async()=>{if(c.cursor){d(ue=>({...ue,loadingMore:!0,error:null}));try{const ue=await _j({...p,cursor:c.cursor});d(De=>({items:[...De.items,...ue.users],cursor:ue.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(ue){d(De=>{var Ee;return{...De,loadingMore:!1,error:(Ee=ue==null?void 0:ue.message)!=null?Ee:"Failed to load additional users"}})}}},[w,S]=E.useState(null),[P,R]=E.useState(null),[B,D]=E.useState(!1),[T,y]=E.useState(null),[j,M]=E.useState(""),[C,_]=E.useState(!1),[A,L]=E.useState(null),[I,V]=E.useState(!1),[$,W]=E.useState(!1),[z,q]=E.useState([]),[Q,G]=E.useState(!1),[te,re]=E.useState(null),H=E.useRef(null);E.useEffect(()=>{H.current=w},[w]);const se=E.useRef(!1);E.useEffect(()=>{se.current=C},[C]);const de=E.useCallback(async ue=>{var De;G(!0),re(null);try{const Ee=await vle(ue,12);H.current===ue&&q(Ee.events)}catch(Ee){H.current===ue&&re((De=Ee==null?void 0:Ee.message)!=null?De:"Failed to load audit history")}finally{H.current===ue&&G(!1)}},[]);E.useEffect(()=>{var tt;if(!w){R(null),M(""),_(!1),q([]),re(null),W(!1);return}const ue=w,De=c.items.find(ut=>ut.id===ue);De?(R(De),M((tt=De.notes)!=null?tt:"")):(R(null),M("")),_(!1),D(!0),y(null);let Ee=!1;return dle(ue).then(ut=>{var ts;Ee||H.current!==ue||(R(ut),M((ts=ut.notes)!=null?ts:""),_(!1),D(!1))}).catch(ut=>{var ts;Ee||H.current!==ue||(D(!1),y((ts=ut==null?void 0:ut.message)!=null?ts:"Failed to load user"))}),de(ue),()=>{Ee=!0}},[w,c.items,de]),E.useEffect(()=>{var De;if(!w)return;const ue=c.items.find(Ee=>Ee.id===w);ue&&(R(Ee=>Ee&&Ee.id===ue.id?{...Ee,...ue}:ue),se.current||M((De=ue.notes)!=null?De:""))},[c.items,w]);const ee=E.useCallback(ue=>{d(De=>({...De,items:De.items.map(Ee=>Ee.id===ue.id?ue:Ee)}))},[]),fe=E.useCallback(async ue=>{var De,Ee;if(P){V(!0),L(null);try{const tt=await ule(P.id,ue);R(tt),ee(tt),"notes"in ue&&(_(!1),M((De=tt.notes)!=null?De:"")),await de(tt.id)}catch(tt){L((Ee=tt==null?void 0:tt.message)!=null?Ee:"Failed to update user")}finally{V(!1)}}},[P,de,ee]),Te=ue=>{if(!P||!t||ue==="user")return;const De=new Set(P.roles);De.has(ue)?De.delete(ue):De.add(ue),De.add("user"),fe({roles:Array.from(De)})},xe=ue=>{!P||!t||Hv(P.status)===ue||ue==="banned"&&!window.confirm(`Ban ${au(P)}? They will lose access to the control panel.`)||fe({status:ue})},Ce=ue=>{M(ue),_(!0)},Ne=()=>{!P||!t||!C||fe({notes:j.trim().length?j:null})};return E.useEffect(()=>{if(typeof window=="undefined")return;const ue=De=>{const Ee=De.detail;Ee!=null&&Ee.userId&&S(Ee.userId)};return window.addEventListener("sf-admin-open-user",ue),()=>{window.removeEventListener("sf-admin-open-user",ue)}},[]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:iu,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(sv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:ue=>i(ue.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(ep,{label:"Role",value:e.role,onChange:ue=>n(De=>({...De,role:ue})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),s.jsx(ep,{label:"Status",value:e.status,onChange:ue=>n(De=>({...De,status:ue})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),s.jsx(ep,{label:"Provider",value:e.provider,onChange:ue=>n(De=>({...De,provider:ue})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:x,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Bp,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[s.jsxs("div",{className:"rounded-2xl border",style:iu,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#B0C4D9]",children:[c.items.length," users ",e.search?"filtered":""]}),c.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(za,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:$3,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"User ID"}),s.jsx("th",{className:"px-4 py-2",children:"Display name"}),s.jsx("th",{className:"px-4 py-2",children:"Role"}),s.jsx("th",{className:"px-4 py-2",children:"Status"}),s.jsx("th",{className:"px-4 py-2",children:"Providers"}),s.jsx("th",{className:"px-4 py-2",children:"Created"}),s.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),s.jsx("tbody",{children:c.items.map(ue=>{var Ee,tt,ut;const De=ue.id===w;return s.jsxs("tr",{onClick:()=>S(ue.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${De?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:ue.userId}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O3,{url:G3(ue),name:au(ue)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:au(ue)}),(Ee=ue.profile)!=null&&Ee.displayName&&ue.profile.displayName!==ue.displayName?s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:ue.profile.displayName}):null]})]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(U3,{role:z3(ue.roles)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(kle,{status:Hv(ue.status)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ip,{provider:"discord",active:!!((tt=ue.providers)!=null&&tt.discord)}),s.jsx(Ip,{provider:"google",active:!!((ut=ue.providers)!=null&&ut.google)})]})}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:uc(ue.createdAt)}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:uc(ue.lastLoginAt)})]},ue.id)})})]}),!c.loading&&!c.items.length&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),c.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(qd,{className:"h-3.5 w-3.5"}),c.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:c.cursor?"More users available":"End of list"}),s.jsx("button",{type:"button",onClick:v,disabled:!c.cursor||c.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:c.loadingMore?"Loading...":"Load more"})]})]}),s.jsx("aside",{className:"rounded-2xl border p-3",style:iu,children:P?s.jsx(Nle,{user:P,isAdmin:t,detailLoading:B,detailError:T,notesValue:j,notesDirty:C,onNotesChange:Ce,onNotesSave:Ne,onRoleToggle:Te,onStatusChange:xe,actionError:A,actionPending:I,auditEntries:z,auditLoading:Q,auditError:te,onRefreshAudit:()=>P&&de(P.id),showRawJson:$,toggleRawJson:()=>W(ue=>!ue)}):s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[s.jsx(uA,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function Sle({isAdmin:t,onSelectUser:e}){const[n,r]=E.useState({actor:"",target:"",action:"all"}),[i,o]=E.useState(""),[c,d]=E.useState(""),u=Wv(i,350),m=Wv(c,350);E.useEffect(()=>{r(B=>B.actor===u&&B.target===m?B:{...B,actor:u,target:m})},[u,m]);const[p,x]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[v,w]=E.useState(0),S=E.useMemo(()=>{const B=n.action==="all"?void 0:n.action,D=n.actor.includes(":")?n.actor:void 0,T=n.target.includes(":")?n.target:void 0;return{limit:ble,action:B,actorUserId:D,targetUserId:T}},[n]);E.useEffect(()=>{let B=!1;return x(D=>({...D,loading:!0,error:null})),Gv(S).then(D=>{B||x({items:D.events,cursor:D.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(D=>{B||x(T=>{var y;return{...T,loading:!1,loadingMore:!1,error:(y=D==null?void 0:D.message)!=null?y:"Failed to load audit log"}})}),()=>{B=!0}},[S,v]);const P=async()=>{if(p.cursor){x(B=>({...B,loadingMore:!0,error:null}));try{const B=await Gv({...S,cursor:p.cursor});x(D=>({items:[...D.items,...B.events],cursor:B.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(B){x(D=>{var T;return{...D,loadingMore:!1,error:(T=B==null?void 0:B.message)!=null?T:"Failed to load more events"}})}}},R=E.useMemo(()=>{const B=n.actor.trim().toLowerCase(),D=n.target.trim().toLowerCase();return p.items.filter(T=>{var M;const y=!B||T.actorUserId.toLowerCase().includes(B)||((M=T.actorDisplayName)!=null?M:"").toLowerCase().includes(B),j=!D||T.targetUserId.toLowerCase().includes(D);return y&&j})},[p.items,n.actor,n.target]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:iu,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(sv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:B=>o(B.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(sv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Target user id",value:c,onChange:B=>d(B.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(ep,{label:"Action",value:n.action,onChange:B=>r(D=>({...D,action:B})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:()=>w(B=>B+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Bp,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"rounded-2xl border",style:iu,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#8AA5C4]",children:[R.length," events"]}),p.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(za,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:$3,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"Time"}),s.jsx("th",{className:"px-4 py-2",children:"Actor"}),s.jsx("th",{className:"px-4 py-2",children:"Target User"}),s.jsx("th",{className:"px-4 py-2",children:"Action"}),s.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),s.jsx("tbody",{children:R.map(B=>{var D;return s.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:uc(B.createdAt)}),s.jsxs("td",{className:"px-4 py-2",children:[s.jsx("div",{className:"text-white",children:(D=B.actorDisplayName)!=null?D:"N/A"}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:B.actorUserId})]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(B.targetUserId),children:B.targetUserId})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(V3,{action:B.action})}),s.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:B.summary})]},B.id)})})]}),!R.length&&!p.loading&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),p.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(qd,{className:"h-3.5 w-3.5"}),p.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:p.cursor?"More events available":"End of audit log"}),s.jsx("button",{type:"button",onClick:P,disabled:!p.cursor||p.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:p.loadingMore?"Loading...":"Load more"})]})]}),!t&&s.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function Nle({user:t,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:o,onNotesChange:c,onNotesSave:d,onRoleToggle:u,onStatusChange:m,actionError:p,actionPending:x,auditEntries:v,auditLoading:w,auditError:S,onRefreshAudit:P,showRawJson:R,toggleRawJson:B}){var T,y;const D=z3(t.roles);return s.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[s.jsx(za,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[s.jsx(qd,{className:"h-3.5 w-3.5"}),r]}),s.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(O3,{url:G3(t),name:au(t),size:56}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-base text-white",children:au(t)}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),s.jsxs("div",{className:"mt-1 flex gap-1",children:[s.jsx(U3,{role:D}),s.jsx(Ip,{provider:"discord",active:!!((T=t.providers)!=null&&T.discord)}),s.jsx(Ip,{provider:"google",active:!!((y=t.providers)!=null&&y.google)})]})]})]})}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(j=>s.jsx("button",{type:"button",onClick:()=>u(j),disabled:!e||j==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(j)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:j},j))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),s.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(j=>s.jsx("button",{type:"button",onClick:()=>m(j),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${Hv(t.status)===j?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:j},j))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&s.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),s.jsx("textarea",{value:i,onChange:j=>c(j.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[x&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(za,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),o&&e&&s.jsx("button",{type:"button",onClick:d,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),p&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(qd,{className:"h-3 w-3"}),p]})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),s.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsx(Bp,{className:"h-3 w-3"}),"Refresh"]})]}),w&&s.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[s.jsx(za,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),S&&s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(qd,{className:"h-3 w-3"}),S]}),!w&&!v.length&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),s.jsx("ul",{className:"space-y-2",children:v.map(j=>{var M;return s.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[s.jsx("span",{children:uc(j.createdAt)}),s.jsx(V3,{action:j.action})]}),s.jsx("div",{className:"mt-1 text-white",children:(M=j.actorDisplayName)!=null?M:j.actorUserId}),s.jsx("div",{className:"text-[#C8D6EC]",children:j.summary})]},j.id)})})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),s.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[s.jsx(oE,{className:"h-3 w-3"}),R?"Hide raw JSON":"Show raw JSON"]})]}),s.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[s.jsx(Mm,{label:"Created",value:uc(t.createdAt)}),s.jsx(Mm,{label:"Last login",value:uc(t.lastLoginAt)}),s.jsx(Mm,{label:"Primary provider",value:t.primaryProvider}),s.jsx(Mm,{label:"Roles",value:t.roles.join(", ")})]}),R&&s.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function V3({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return s.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Mm({label:t,value:e}){return e?s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx("span",{className:"text-[#6E86A6]",children:t}),s.jsx("span",{className:"text-white",children:e})]}):null}function ep({label:t,value:e,options:n,onChange:r}){return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#8AA5C4]",children:t}),s.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))})]})}function O3({url:t,name:e,size:n=32}){return t?s.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):s.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function U3({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return s.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function kle({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:s.jsx(lA,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:s.jsx(tl,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:s.jsx(YT,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[t];return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function Ip({provider:t,active:e}){const n=t==="discord"?"D":"G";return s.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:n})}function z3(t){const e=["admin","mod","creator","user"];for(const n of e)if(t.includes(n))return n;return"user"}function au(t){var e,n,r,i,o,c,d,u,m;return(m=(u=(o=(n=t.displayName)!=null?n:(e=t.profile)==null?void 0:e.displayName)!=null?o:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(d=(c=t.providers)==null?void 0:c.google)==null?void 0:d.displayName)!=null?m:t.userId}function G3(t){var e,n,r,i,o,c,d;return(d=(c=(r=t.avatarUrl)!=null?r:(n=(e=t.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?c:(o=(i=t.providers)==null?void 0:i.google)==null?void 0:o.avatarUrl)!=null?d:null}function Hv(t){return t!=null?t:"active"}function uc(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function Wv(t,e){const[n,r]=E.useState(t);return E.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function Cle(){return s.jsx(gt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Tle="_page_jgozr_1",Ale="_banner_jgozr_17",Ele="_bannerSuccess_jgozr_31",Ile="_bannerError_jgozr_43",Rle="_card_jgozr_55",Ple="_cardTitle_jgozr_75",Lle="_cardSubtitle_jgozr_89",Dle="_identityHeader_jgozr_101",Mle="_identityAvatar_jgozr_115",Fle="_identityName_jgozr_129",Ble="_identityProvider_jgozr_143",$le="_identityForm_jgozr_155",Vle="_nameInputWrap_jgozr_171",Ole="_nameLabel_jgozr_187",Ule="_nameInput_jgozr_171",zle="_nameSaveButton_jgozr_219",Gle="_feedbackError_jgozr_263",Hle="_feedbackSuccess_jgozr_275",Wle="_metaGrid_jgozr_287",qle="_metaItem_jgozr_299",Kle="_metaLabel_jgozr_313",Qle="_metaValue_jgozr_327",Xle="_serviceList_jgozr_341",Yle="_serviceRow_jgozr_351",Jle="_serviceName_jgozr_379",Zle="_serviceStatus_jgozr_393",ece="_serviceAction_jgozr_405",tce="_securityText_jgozr_437",sce="_securityNote_jgozr_449",nce="_logoutButton_jgozr_461",rce="_loadingState_jgozr_493",ice="_emptyState_jgozr_495",ace="_emptyStateTitle_jgozr_513",oce="_emptyStateText_jgozr_525",lce="_primaryButton_jgozr_537",dt={page:Tle,banner:Ale,bannerSuccess:Ele,bannerError:Ile,card:Rle,cardTitle:Ple,cardSubtitle:Lle,identityHeader:Dle,identityAvatar:Mle,identityName:Fle,identityProvider:Ble,identityForm:$le,nameInputWrap:Vle,nameLabel:Ole,nameInput:Ule,nameSaveButton:zle,feedbackError:Gle,feedbackSuccess:Hle,metaGrid:Wle,metaItem:qle,metaLabel:Kle,metaValue:Qle,serviceList:Xle,serviceRow:Yle,serviceName:Jle,serviceStatus:Zle,serviceAction:ece,securityText:tce,securityNote:sce,logoutButton:nce,loadingState:rce,emptyState:ice,emptyStateTitle:ace,emptyStateText:oce,primaryButton:lce},cce="https://i.pravatar.cc/72",Fm=`${sl}/auth/account/profile`,Kx=`${sl}/auth/google/link/start`,wj=3,jj=32,Sj=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},dce=()=>{const{status:t,user:e,logout:n,refreshSession:r}=Ec(),i=Rr(),o=Kn(),c=E.useMemo(()=>{const D=new URLSearchParams(o.search);return D.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:D.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[o.search]),d=t==="loading"||t==="idle",u=t==="authenticated"&&!!e,m=()=>{i("/login")},p=async()=>{await n(),i("/")},x=()=>{if(!Kx){window.alert("Auth service is not configured for Google linking.");return}window.location.href=Kx},v=()=>s.jsx("div",{className:dt.loadingState,children:"Checking session..."}),w=()=>s.jsxs("div",{className:dt.emptyState,children:[s.jsx("p",{className:dt.emptyStateTitle,children:"You are not signed in."}),s.jsx("p",{className:dt.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),s.jsx("button",{type:"button",className:dt.primaryButton,onClick:m,children:"Go to sign-in"})]}),S=()=>{if(!c)return null;const D=c.type==="success"?`${dt.banner} ${dt.bannerSuccess}`:`${dt.banner} ${dt.bannerError}`;return s.jsx("div",{className:D,children:c.message})},P=()=>{var A,L,I;if(!e)return null;const D=(A=e.providers)==null?void 0:A.discord,T=(L=e.providers)==null?void 0:L.google,y=!!D,j=!!T,M=!!Kx,C=M?j?T!=null&&T.displayName?`Connected as ${T.displayName}`:"Connected":"Not connected":"Auth service not configured",_=[{key:"discord",name:"Discord",status:y?`Connected as ${(I=D==null?void 0:D.displayName)!=null?I:e.displayName}`:"Not connected",actionLabel:y?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:C,actionLabel:j?"Connected":"Connect",disabled:j||!M,onClick:j||!M?void 0:x},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return s.jsxs("section",{className:dt.card,children:[s.jsx("h2",{className:dt.cardTitle,children:"Connected services"}),s.jsx("p",{className:dt.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),s.jsx("div",{className:dt.serviceList,children:_.map(V=>s.jsxs("div",{className:dt.serviceRow,children:[s.jsxs("div",{children:[s.jsx("p",{className:dt.serviceName,children:V.name}),s.jsx("p",{className:dt.serviceStatus,children:V.status})]}),s.jsx("button",{type:"button",className:dt.serviceAction,disabled:V.disabled,onClick:V.onClick,children:V.actionLabel})]},V.key))})]})},R=()=>s.jsxs("section",{className:dt.card,children:[s.jsx("h2",{className:dt.cardTitle,children:"Security & session"}),s.jsx("p",{className:dt.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),s.jsx("p",{className:dt.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),s.jsx("button",{type:"button",className:dt.logoutButton,onClick:p,children:"Log out from this device"}),s.jsx("p",{className:dt.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),B=()=>d?v():u?s.jsxs(s.Fragment,{children:[s.jsx(uce,{user:e,refreshSession:r}),P(),R()]}):w();return s.jsx(gt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:s.jsxs("div",{className:dt.page,children:[S(),B()]})})};function uce({user:t,refreshSession:e}){var M;const[n,r]=E.useState(()=>{var C;return(C=t==null?void 0:t.displayName)!=null?C:""}),[i,o]=E.useState(!1),[c,d]=E.useState(null),[u,m]=E.useState(!1),p=(t==null?void 0:t.avatarUrl)||cce,x=(t==null?void 0:t.provider)==="google"?"Google":"Discord",v=(M=t==null?void 0:t.displayName)!=null?M:"",w=n.trim(),S=w.length===0||w.length>=wj&&w.length<=jj,P=!!t&&w.length>0&&w!==v,R=!!(Fm&&S&&P&&!i),B=w.length>0&&!S?`Name must be between ${wj} and ${jj} characters.`:null;E.useEffect(()=>{var C;r((C=t==null?void 0:t.displayName)!=null?C:""),m(!1),d(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const D=E.useMemo(()=>{var C;return t?[{label:"SFDataHub ID",value:t.id},(C=t.roles)!=null&&C.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:Sj(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:Sj(t.lastLoginAt)}:null].filter(_=>!!(_!=null&&_.value)):[]},[t]),T=async()=>{var C,_;if(!R||!Fm){Fm||d("Auth service is not configured.");return}try{o(!0),d(null),m(!1);const A=await fetch(Fm,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:w})});if(!A.ok){const L=await A.json().catch(()=>null);throw new Error((C=L==null?void 0:L.error)!=null?C:"Failed to update name.")}await e(),m(!0),r(w)}catch(A){const L=(_=A==null?void 0:A.message)!=null?_:"Failed to update name.";d(L)}finally{o(!1)}},y=C=>{C.key==="Enter"&&(C.preventDefault(),R&&T())},j=()=>{R&&T()};return t?s.jsxs("section",{className:dt.card,children:[s.jsxs("div",{className:dt.identityHeader,children:[s.jsx("img",{src:p,alt:"",className:dt.identityAvatar}),s.jsxs("div",{children:[s.jsx("p",{className:dt.identityName,children:t.displayName||"Unbenannter Nutzer"}),s.jsxs("p",{className:dt.identityProvider,children:[x," sign-in"]})]}),s.jsx("span",{className:dt.statusBadge,children:"Verified"})]}),s.jsxs("div",{className:dt.identityForm,children:[s.jsxs("div",{className:dt.nameInputWrap,children:[s.jsx("label",{className:dt.nameLabel,children:"Display name"}),s.jsx("input",{type:"text",className:dt.nameInput,value:n,onChange:C=>r(C.target.value),onKeyDown:y,onBlur:j,placeholder:"Enter your display name"})]}),s.jsx("button",{type:"button",className:dt.nameSaveButton,disabled:!R,onClick:T,children:i?"Saving...":"Save"})]}),B&&s.jsx("p",{className:dt.feedbackError,children:B}),c&&s.jsx("p",{className:dt.feedbackError,children:c}),u&&s.jsx("p",{className:dt.feedbackSuccess,children:"Name updated."}),D.length>0&&s.jsx("div",{className:dt.metaGrid,children:D.map(C=>s.jsxs("div",{className:dt.metaItem,children:[s.jsx("span",{className:dt.metaLabel,children:C.label}),s.jsx("span",{className:dt.metaValue,children:C.value})]},C.label))})]}):null}const ft={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function hce(){return s.jsx("div",{style:ft.wrap,children:s.jsxs("div",{style:ft.grid,children:[s.jsxs("aside",{style:ft.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:ft.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:ft.groupLabel,children:"Allgemein"}),s.jsx(us,{to:"list-views",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"List-View Switcher"}),s.jsx(us,{to:"rescan-widget",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(us,{to:"upload-sim",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Upload Simulator"}),s.jsx(us,{to:"hud/game-buttons",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"HUD  Game Buttons"}),s.jsx(us,{to:"theme-maker",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Theme / Template Maker"}),s.jsx(us,{to:"theme-maker-pro",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:ft.groupLabel,children:"Templates"}),s.jsx(us,{to:"templates/content-shell",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"ContentShell Template"}),s.jsx(us,{to:"templates/blank",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Leere Vorlage"}),s.jsx(us,{to:"templates/blank-alt",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Leere Vorlage (Neu)"}),s.jsx(us,{to:"templates/blank-layout-2",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Leere Vorlage  Layout 2"}),s.jsx(us,{to:"templates/blank-layout-3",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Leere Vorlage  Layout 3"}),s.jsx(us,{to:"templates/blank-layout-4",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"Leere Vorlage  Layout 4"}),s.jsx("div",{style:ft.groupLabel,children:"Guide Hub Demos"}),s.jsx(us,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:ft.groupLabel,children:"Graphics / Portraits"}),s.jsx(us,{to:"portrait-maker",style:({isActive:t})=>({...ft.link,...t?ft.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:ft.tile,children:s.jsx(lS,{})})]})})}const mce="_page_1kokx_1",pce="_topBar_1kokx_17",fce="_tabs_1kokx_31",gce="_tab_1kokx_31",xce="_tabActive_1kokx_63",vce="_searchWrap_1kokx_73",yce="_input_1kokx_85",bce="_stickyIcons_1kokx_105",_ce="_iconBtn_1kokx_129",wce="_tableWrap_1kokx_161",jce="_table_1kokx_161",Sce="_th_1kokx_181",Nce="_td_1kokx_181",kce="_row_1kokx_201",Cce="_chips_1kokx_219",Tce="_chip_1kokx_219",Ace="_badges_1kokx_249",Ece="_badge_1kokx_249",Ice="_badgeMax_1kokx_275",Rce="_badgeAchiev_1kokx_277",Pce="_badgeX2_1kokx_279",Lce="_badgeX12_1kokx_281",Dce="_badgeX60_1kokx_283",Mce="_section_1kokx_289",Fce="_sectionHeader_1kokx_297",Bce="_cardList_1kokx_315",$ce="_card_1kokx_315",Vce="_cardMax_1kokx_353",Oce="_iconXL_1kokx_355",Uce="_split_1kokx_369",zce="_left_1kokx_379",Gce="_leftBtn_1kokx_399",Hce="_leftBtnActive_1kokx_411",Wce="_detail_1kokx_413",qce="_grid_1kokx_433",Kce="_tile_1kokx_443",Qce="_drawer_1kokx_457",Xce="_timeline_1kokx_487",Yce="_node_1kokx_493",Jce="_dot_1kokx_501",Ye={page:mce,topBar:pce,tabs:fce,tab:gce,tabActive:xce,searchWrap:vce,input:yce,stickyIcons:bce,iconBtn:_ce,tableWrap:wce,table:jce,th:Sce,td:Nce,row:kce,chips:Cce,chip:Tce,badges:Ace,badge:Ece,badgeMax:Ice,badgeAchiev:Rce,badgeX2:Pce,badgeX12:Lce,badgeX60:Dce,section:Mce,sectionHeader:Fce,cardList:Bce,card:$ce,cardMax:Vce,iconXL:Oce,split:Uce,left:zce,leftBtn:Gce,leftBtnActive:Hce,detail:Wce,grid:qce,tile:Kce,drawer:Qce,timeline:Xce,node:Yce,dot:Jce},Nj=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Ar(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function Zce(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function ede(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Rp({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Ye.iconBtn,title:t||"Rune",children:e})}function $0({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Ye.iconXL,title:t||"Rune",children:e})}function tde(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function qu({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Ye.chips,children:e.map((n,r)=>s.jsx("span",{className:Ye.chip,children:n},r))})}function Ku({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Ye.badgeMax}),Zce(t)&&n.push({label:"Achievement",cls:Ye.badgeAchiev});const r=ede(t);return r==="x2"&&n.push({label:"x2",cls:Ye.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Ye.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Ye.badgeX60}),n.length===0?null:s.jsx("div",{className:Ye.badges,children:n.map((i,o)=>{var c;return s.jsx("span",{className:`${Ye.badge} ${(c=i.cls)!=null?c:""}`,children:i.label},o)})})}function sde(t){const e=t.trim().toLowerCase();return e?Nj.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Nj}function nde({data:t}){const e=Math.max(...t.map(i=>Ar(i.amount))),n=E.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const o=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ye.stickyIcons,children:n.map((i,o)=>s.jsx("div",{onClick:()=>r(i),children:s.jsx(Rp,{label:i||"(no tier)"})},o))}),s.jsx("div",{className:Ye.tableWrap,children:s.jsxs("table",{className:Ye.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ye.th,style:{width:42}}),s.jsx("th",{className:Ye.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Ye.th,children:"Bonuses"}),s.jsx("th",{className:Ye.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((i,o)=>{const c=Math.abs(Ar(i.amount)-e)<1e-6;return s.jsxs("tr",{className:Ye.row,"data-tier":i.tier||"(no tier)",children:[s.jsx("td",{className:Ye.td,children:s.jsx(Rp,{label:i.tier||""})}),s.jsx("td",{className:Ye.td,children:i.amount}),s.jsx("td",{className:Ye.td,children:s.jsx(qu,{r:i})}),s.jsx("td",{className:Ye.td,children:s.jsx(Ku,{r:i,isMax:c})})]},o)})})]})})]})}function rde({data:t}){const e=tde(t),n=Math.max(...t.map(r=>Ar(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,i])=>s.jsxs("section",{className:Ye.section,children:[s.jsx("div",{className:Ye.sectionHeader,children:r}),s.jsx("div",{className:Ye.cardList,children:i.map((o,c)=>{const d=Math.abs(Ar(o.amount)-n)<1e-6;return s.jsxs("div",{className:`${Ye.card} ${d?Ye.cardMax:""}`,children:[s.jsx($0,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:o.amount}),s.jsx(Ku,{r:o,isMax:d})]}),s.jsx(qu,{r:o})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function ide({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=E.useState((c=e[0])!=null?c:""),i=t.filter(d=>(d.tier||"(no tier)")===n),o=Math.max(...t.map(d=>Ar(d.amount)));return s.jsxs("div",{className:Ye.split,children:[s.jsx("div",{className:Ye.left,children:e.map(d=>s.jsxs("button",{className:`${Ye.leftBtn} ${d===n?Ye.leftBtnActive:""}`,onClick:()=>r(d),children:[s.jsx(Rp,{label:d}),s.jsx("span",{children:d})]},d))}),s.jsxs("div",{className:Ye.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx($0,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((d,u)=>{const m=Math.abs(Ar(d.amount)-o)<1e-6;return s.jsxs("div",{className:Ye.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:d.amount}),s.jsx(Ku,{r:d,isMax:m})]}),s.jsx(qu,{r:d})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function ade({data:t}){const[e,n]=E.useState(null),r=Math.max(...t.map(i=>Ar(i.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ye.grid,children:t.map((i,o)=>s.jsx("div",{className:Ye.tile,onClick:()=>n(i),title:i.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(Rp,{label:i.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},o))}),e&&s.jsxs("div",{className:Ye.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx($0,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Ye.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(Ku,{r:e,isMax:Math.abs(Ar(e.amount)-r)<1e-6})}),s.jsx(qu,{r:e})]})]})}function ode({data:t}){const e=Math.max(...t.map(r=>Ar(r.amount))),n=[...t].sort((r,i)=>Ar(r.amount)-Ar(i.amount));return s.jsx("div",{className:Ye.timeline,children:n.map((r,i)=>{const o=Math.abs(Ar(r.amount)-e)<1e-6;return s.jsxs("div",{className:Ye.node,children:[s.jsx("div",{className:Ye.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(Ku,{r,isMax:o})]}),s.jsx(qu,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const lde=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function cde(){const[t,e]=E.useState("A: Compact Table"),[n,r]=E.useState(""),i=sde(n);return s.jsxs("div",{className:Ye.page,children:[s.jsxs("div",{className:Ye.topBar,children:[s.jsx("div",{className:Ye.tabs,children:lde.map(o=>s.jsx("button",{onClick:()=>e(o),className:`${Ye.tab} ${t===o?Ye.tabActive:""}`,children:o},o))}),s.jsx("div",{className:Ye.searchWrap,children:s.jsx("input",{className:Ye.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:o=>r(o.target.value)})})]}),t==="A: Compact Table"&&s.jsx(nde,{data:i}),t==="B: Card Track"&&s.jsx(rde,{data:i}),t==="C: Two-Pane"&&s.jsx(ide,{data:i}),t==="D: Icon Grid + Drawer"&&s.jsx(ade,{data:i}),t==="E: Timeline"&&s.jsx(ode,{data:i})]})}function dde(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(us,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const ge={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},ude=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),$o={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function hde(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Bc(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",hde(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function H3(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},o={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},m={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},p={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},x={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},w={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:o,gold:c,obsidian:d,neon:u,plasma:m,aurora:p,satin:x,matte:v,holo:w}[t.material]}function eo(t){const e={color:ge.title,borderColor:ge.border,...H3(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Qu=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function $c({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function mde({fx:t,children:e}){const n=Bc(t),r=eo(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx($c,{fx:t,clip:i}),t.withIcon&&s.jsx(fS,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function pde({fx:t,children:e}){const n=Bc(t),r=eo(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx($c,{fx:t,clip:i}),t.withIcon&&s.jsx(gS,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function fde({fx:t,children:e}){const n=Bc(t),r=eo(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx($c,{fx:t,clip:i}),t.withIcon&&s.jsx(tl,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function gde({fx:t,children:e}){const n=Bc(t),r=eo(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${ge.tile}, ${ge.active})`}}),s.jsx($c,{fx:t,clip:i}),t.withIcon&&s.jsx(xS,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function xde({fx:t,children:e}){const n=Bc(t),r=eo(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx($c,{fx:t}),t.withIcon&&s.jsx(Fp,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function vde({fx:t,tabs:e}){const[n,r]=E.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:e.map((i,o)=>s.jsxs("button",{onClick:()=>r(o),className:`px-4 py-2 rounded-lg text-sm transition-colors ${o===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:o===n?ge.active:"transparent",border:o===n&&t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[t.withIcon&&o===n&&s.jsx(Fp,{size:14,className:"inline mr-1"}),i]},o))})}function yde({fx:t}){const e=Bc(t),n=eo(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(yS,{})})}const qv={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function bde({fx:t,setFx:e}){const n=(d,u)=>e(m=>({...m,[d]:u})),r=d=>e(u=>({...u,[d]:!u[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],o=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Presets"}),Object.keys(qv).map(d=>s.jsx("button",{onClick:()=>e(u=>qv[d](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:ge.btn,borderColor:ge.border,color:ge.title},children:d},d))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Material"}),i.map(d=>s.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:d},d)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:ge.title},children:"Size"}),["sm","md","lg"].map(d=>s.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:d.toUpperCase()},d)),s.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Core FX"}),o.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:u},d))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Advanced"}),c.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:u},d))]}),s.jsx("button",{onClick:()=>e($o),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:ge.btn,borderColor:ge.border,color:ge.title},children:"Reset"})]})}function Ut({fx:t,className:e="",style:n={},children:r,clip:i}){const o=eo(t);return s.jsxs("div",{className:`relative ${e}`,style:{...o,...n},children:[s.jsx($c,{fx:t,clip:i}),s.jsx("div",{className:"relative z-10",children:r})]})}function In({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:n})}function _de({fx:t}){const[e,n]=E.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const o=e.includes(i);return s.jsx(Ut,{fx:t,className:`rounded-full border ${o?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(c=>o?c.filter(d=>d!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function wde({fx:t}){return s.jsxs(In,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:ge.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(Ut,{fx:t,className:"rounded-xl border p-2",style:{borderColor:ge.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(yS,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function jde({fx:t}){return s.jsxs(Ut,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(Ut,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:ge.border},children:e},e))})]})}function Sde({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(Ut,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:ge.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function Nde({fx:t}){const[e,n]=E.useState(.66);return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Meter / Energy Bar"}),s.jsx(Ut,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:ge.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(Ut,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function kde({fx:t}){return s.jsxs(In,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Badge / Medal"}),s.jsxs(Ut,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:ge.border},children:[s.jsx(tl,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function Cde({fx:t}){const[e,n]=E.useState(!1);return s.jsxs(In,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Toast / Notification"}),s.jsx(Ut,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(Ut,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:ge.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function Tde({fx:t}){const[e,n]=E.useState(!0);return s.jsxs(In,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Toggle Switch"}),s.jsxs(Ut,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:ge.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function Ade({fx:t}){const[e,n]=E.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Dropdown HUD"}),s.jsx(Ut,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(Ut,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:ge.border},children:r.map(i=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function Ede({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,o=56,c=56+Math.cos(i)*o,d=56+Math.sin(i)*o;return s.jsx(Ut,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:ge.border},children:n},n)}),s.jsx(Ut,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:ge.border},children:"Menu"})]})]})}function Ide({fx:t}){const e=[1,2,3,4,5],[n,r]=E.useState(2);return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>s.jsx(Ut,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function Rde({fx:t}){const[e,n]=E.useState(!1);return s.jsxs(In,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Modal HUD"}),s.jsx(Ut,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(Ut,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:ge.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(Ut,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(Ut,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function Pde({fx:t}){const[e,n]=E.useState("");return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Search HUD"}),s.jsx(Ut,{fx:t,className:"rounded-lg border p-2",style:{borderColor:ge.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function Lde({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=E.useState("Bravo");return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(i=>s.jsx(Ut,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function Dde({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=E.useState(1);return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((i,o)=>s.jsxs(J.Fragment,{children:[s.jsx(Ut,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${o<=n?"":"opacity-70"}`,style:{borderColor:ge.border},children:o+1}),o<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(Ut,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(Ut,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function Mde({fx:t}){const e=["","","","","",""];return s.jsxs(In,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(Ut,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:ge.border},children:n},r))})]})}function Fde(){const[t,e]=E.useState($o);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:ge.bg,color:ge.txt},children:[s.jsx(ude,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(IA,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:ge.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:ge.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(bde,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ge.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(mde,{fx:t,children:[s.jsx(fS,{size:16})," Diamond"]}),s.jsxs(pde,{fx:t,children:[s.jsx(gS,{size:16})," Hex"]}),s.jsxs(fde,{fx:t,children:[s.jsx(tl,{size:16})," Octagon/Shield"]}),s.jsxs(gde,{fx:t,children:[s.jsx(xS,{size:16})," Shard"]}),s.jsxs(xde,{fx:t,children:[s.jsx(Fp,{size:16})," Pill/Chip"]}),s.jsx(yde,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:ge.title},children:"Tabs"}),s.jsx(vde,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ge.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(_de,{fx:t}),s.jsx(wde,{fx:t}),s.jsx(jde,{fx:t}),s.jsx(Sde,{fx:t}),s.jsx(Nde,{fx:t}),s.jsx(kde,{fx:t}),s.jsx(Cde,{fx:t}),s.jsx(Tde,{fx:t}),s.jsx(Ade,{fx:t}),s.jsx(Ede,{fx:t}),s.jsx(Ide,{fx:t}),s.jsx(Rde,{fx:t}),s.jsx(Pde,{fx:t}),s.jsx(Lde,{fx:t}),s.jsx(Dde,{fx:t}),s.jsx(Mde,{fx:t})]})]})}),s.jsx(Bde,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:ge.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function Bde(){return E.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes($o.material),"Material type present");const e=eo($o);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=H3({...$o,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof $o[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(qv).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const o=i({...$o});console.assert(o&&typeof o=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const ou={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},kj={Arcade:{...ou,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...ou,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Xl={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},W3={display:"grid",gap:8,alignItems:"center"};function Wi({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...W3,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Qx({label:t,value:e,min:n,max:r,onChange:i}){return s.jsxs("label",{style:{...W3,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:o=>i(parseInt(o.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:o=>i(parseInt(o.target.value||"0"))})]})}function Cj(){const[t,e]=J.useState(ou),n=J.useRef(null),r=u=>{const m=n.current;m&&(m.style.setProperty("--page",u.page),m.style.setProperty("--tile",u.tile),m.style.setProperty("--tile-hover",u.tileHover),m.style.setProperty("--nav",u.nav),m.style.setProperty("--active",u.active),m.style.setProperty("--text",u.text),m.style.setProperty("--text-soft",u.textSoft),m.style.setProperty("--title",u.title),m.style.setProperty("--line",u.line),m.style.setProperty("--radius",`${u.radius}px`),m.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),m.style.setProperty("--gap",`${u.gap}px`))};J.useEffect(()=>{r(t)},[t]);const i=u=>e(kj[u]),o=()=>e(ou),c=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(u),m.download="sfdatahub-theme.json",m.click()},d=async u=>{const m=await u.text();e({...ou,...JSON.parse(m)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(kj).map(u=>s.jsx("button",{style:Xl,onClick:()=>i(u),children:u},u)),s.jsx("button",{style:Xl,onClick:o,children:"Default"}),s.jsx("button",{style:Xl,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...Xl,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&d(u.target.files[0]),style:{display:"none"}})]})]}),s.jsx(Wi,{label:"Page",value:t.page,onChange:u=>e(m=>({...m,page:u}))}),s.jsx(Wi,{label:"Tile",value:t.tile,onChange:u=>e(m=>({...m,tile:u}))}),s.jsx(Wi,{label:"Tile Hover",value:t.tileHover,onChange:u=>e(m=>({...m,tileHover:u}))}),s.jsx(Wi,{label:"Nav",value:t.nav,onChange:u=>e(m=>({...m,nav:u}))}),s.jsx(Wi,{label:"Active",value:t.active,onChange:u=>e(m=>({...m,active:u}))}),s.jsx(Wi,{label:"Text",value:t.text,onChange:u=>e(m=>({...m,text:u}))}),s.jsx(Wi,{label:"Text Soft",value:t.textSoft,onChange:u=>e(m=>({...m,textSoft:u}))}),s.jsx(Wi,{label:"Title",value:t.title,onChange:u=>e(m=>({...m,title:u}))}),s.jsx(Wi,{label:"Line",value:t.line,onChange:u=>e(m=>({...m,line:u}))}),s.jsx(Qx,{label:"Radius",value:t.radius,min:8,max:28,onChange:u=>e(m=>({...m,radius:u}))}),s.jsx(Qx,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:u=>e(m=>({...m,shadow:u}))}),s.jsx(Qx,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:u=>e(m=>({...m,gap:u}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...Xl,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:Xl,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,m)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",m+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},m))})]})]})]})}const Kv={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},Tj={"SFDataHub (Default)":{...Kv},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},xf={display:"grid",gap:8,alignItems:"center"},Po={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Lo={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Nr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...xf,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function qi({label:t,value:e,min:n,max:r,step:i=1,onChange:o,suffix:c}){return s.jsxs("label",{style:{...xf,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value||"0"))})]})}function $de({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...xf,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function Aj(){const[t,e]=J.useState(Kv),n=J.useRef(null),r=m=>{const p=n.current;p&&(p.style.setProperty("--page",m.page),p.style.setProperty("--tile",m.tile),p.style.setProperty("--tile-hover",m.tileHover),p.style.setProperty("--nav",m.nav),p.style.setProperty("--active",m.active),p.style.setProperty("--text",m.text),p.style.setProperty("--text-soft",m.textSoft),p.style.setProperty("--title",m.title),p.style.setProperty("--line",m.line),p.style.setProperty("--accent",m.accent),p.style.setProperty("--success",m.success),p.style.setProperty("--warning",m.warning),p.style.setProperty("--danger",m.danger),p.style.setProperty("--radius",`${m.radius}px`),p.style.setProperty("--border",`${m.border}px`),p.style.setProperty("--gap",`${m.gap}px`),p.style.setProperty("--shadow",`0 10px ${m.shadow}px rgba(0,0,0,0.30)`),p.style.setProperty("--surface-opacity",`${m.surfaceOpacity}%`),p.style.setProperty("--noise",`${m.noise}%`),p.style.setProperty("--font",m.fontFamily),p.style.setProperty("--font-size",`${m.fontSize}px`),p.style.setProperty("--heading-tight",m.headingsTight?"1.1":"1.3"),p.style.setProperty("--glow",`${m.glow}`),p.style.setProperty("--scanlines",`${m.scanlines}`))};J.useEffect(()=>{r(t)},[t]);const i=(m,p)=>e(x=>({...x,[m]:p})),o=m=>e(p=>({...p,...Tj[m]})),c=()=>{const m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(m),p.download="sfdatahub-theme-pro.json",p.click()},d=async m=>{try{const p=await m.text(),x=JSON.parse(p);e({...t,...x})}catch(p){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Tj).map(m=>s.jsx("button",{style:Po,onClick:()=>o(m),children:m},m)),s.jsx("button",{style:Po,onClick:()=>e(Kv),children:"Reset"}),s.jsx("button",{style:Po,onClick:c,children:"Export"}),s.jsxs("label",{style:{...Po,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:m=>m.target.files&&d(m.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Nr,{label:"Page",value:t.page,onChange:m=>i("page",m)}),s.jsx(Nr,{label:"Tile",value:t.tile,onChange:m=>i("tile",m)}),s.jsx(Nr,{label:"Tile Hover",value:t.tileHover,onChange:m=>i("tileHover",m)}),s.jsx(Nr,{label:"Active",value:t.active,onChange:m=>i("active",m)}),s.jsx(Nr,{label:"Text",value:t.text,onChange:m=>i("text",m)}),s.jsx(Nr,{label:"Text Soft",value:t.textSoft,onChange:m=>i("textSoft",m)}),s.jsx(Nr,{label:"Title",value:t.title,onChange:m=>i("title",m)}),s.jsx(Nr,{label:"Line",value:t.line,onChange:m=>i("line",m)}),s.jsx(Nr,{label:"Accent",value:t.accent,onChange:m=>i("accent",m)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(Nr,{label:"Success",value:t.success,onChange:m=>i("success",m)}),s.jsx(Nr,{label:"Warning",value:t.warning,onChange:m=>i("warning",m)}),s.jsx(Nr,{label:"Danger",value:t.danger,onChange:m=>i("danger",m)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(qi,{label:"Radius",min:0,max:28,value:t.radius,onChange:m=>i("radius",m)}),s.jsx(qi,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:m=>i("border",m)}),s.jsx(qi,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:m=>i("gap",m)}),s.jsx(qi,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:m=>i("shadow",m)}),s.jsx(qi,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:m=>i("surfaceOpacity",m),suffix:"%"}),s.jsx(qi,{label:"Noise",min:0,max:20,value:t.noise,onChange:m=>i("noise",m),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...xf,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:m=>i("fontFamily",m.target.value)})]}),s.jsx(qi,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:m=>i("fontSize",m)}),s.jsx($de,{label:"Headings tighter",checked:t.headingsTight,onChange:m=>i("headingsTight",m)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(qi,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:m=>i("glow",m)}),s.jsx(qi,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:m=>i("scanlines",m)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:Lo,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...Lo,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...Lo,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...Lo,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:Lo,children:["Radius: ",t.radius]}),s.jsxs("span",{style:Lo,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:Lo,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((m,p)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:m.label}),s.jsx("span",{style:{color:"var(--title)"},children:m.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(m.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${m.color} 75%, transparent), ${m.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${m.color} 40%, transparent)`}})})]},p))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...Po,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...Po,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((m,p)=>s.jsx("button",{style:{...Po,background:p===0?"var(--tile-hover)":"transparent",borderColor:p===0?"var(--active)":"var(--line)",boxShadow:p===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:m},m))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((m,p)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:m.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:m.v}),s.jsx("div",{style:{fontSize:12,color:m.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:m.trend})]},p))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((m,p)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:p%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:m[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:m[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:m[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:m[2]})]},p))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const Ej=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function Vde(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:Ej[n%Ej.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Xx={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function Ij(){const[t,e]=E.useState("rows"),[n,r]=E.useState(0),[i,o]=E.useState(""),[c,d]=E.useState(60),u=E.useMemo(()=>Vde(240),[]),m=E.useMemo(()=>u.filter(p=>p.level>=n).filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[u,n,i,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:p=>e(p.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:i,onChange:p=>o(p.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:p=>r(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:p=>d(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...Xx,padding:0,overflow:"hidden"},children:m.map(p=>{var x;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[p.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(x=p.kpi)==null?void 0:x.toFixed(1)})]})]},p.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(p=>{var x;return s.jsxs("div",{style:Xx,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(x=p.kpi)==null?void 0:x.toFixed(1)})]})]},p.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(p=>s.jsxs("div",{style:{...Xx,height:140+parseInt(p.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},p.id))})]})}function Rj(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function Pj(){const[t,e]=E.useState(120),[n,r]=E.useState(()=>Rj(24));E.useEffect(()=>{const o=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),u=[...c];return u[d]={...u[d],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(o)},[]),E.useEffect(()=>{const o=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(o)},[]);const i=E.useMemo(()=>n.filter(o=>o.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:o=>e(parseInt(o.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(Rj(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(o=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[o.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:o.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[o.lastScanMinsAgo," min ago"]})]},o.id)),i.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Ode(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function Lj(){const[t,e]=E.useState("idle"),[n,r]=E.useState(null),[i,o]=E.useState(!1),c=E.useCallback(async d=>{var m;d.preventDefault(),o(!1);const u=(m=d.dataTransfer.files)==null?void 0:m[0];if(u){e("validating");try{const p=await u.text(),{isHar:x,isSf:v}=Ode(p);if(e("parsing"),await new Promise(w=>setTimeout(w,600)),!x&&!v){e("error"),r({isHar:x,isSf:v,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:x,isSf:v,sizeKB:Math.round(u.size/1024),summary:`Detected: ${x?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(p.length/2500)} (rough).`})}catch(p){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(p==null?void 0:p.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:d=>{d.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const Ude="_wrap_hxkkn_3",zde="_left_hxkkn_17",Gde="_right_hxkkn_25",Hde="_canvasCard_hxkkn_33",Wde="_hint_hxkkn_83",qde="_panel_hxkkn_95",Kde="_panelTitle_hxkkn_109",Qde="_panelBody_hxkkn_121",Ki={wrap:Ude,left:zde,right:Gde,canvasCard:Hde,hint:Wde,panel:qde,panelTitle:Kde,panelBody:Qde},Xde=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],Yde=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function Jde(){const[t,e]=E.useState("Canvas ist vorbereitet (526526)."),n=E.useRef(null),[r,i]=E.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[o,c]=E.useState(!0);E.useEffect(()=>{const p=document.getElementById("PortraitCanvas");if(!p){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(w){}let x=console.error;o&&(console.error=(...w)=>{var P;const S=String((P=w==null?void 0:w[0])!=null?P:"");S.includes("Failed to load URL")&&S.includes("PortraitMaker-res/portraits/")||x(...w)});let v=null;try{v=new Yj(p,{...r}),n.current=v,e("Rendering")}catch(w){o&&(console.error=x),x("Error initializing PortraitMaker:",w),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{o&&(console.error=x),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{o&&(console.error=x)}}},[r,o]);const d=()=>{const p=document.getElementById("PortraitCanvas");if(!p)return;const x=p.toDataURL("image/png"),v=document.createElement("a");v.href=x,v.download="portrait.png",v.click()},u=p=>{i(x=>({...x,genderName:p,beard:p==="female"?0:x.beard}))},m=r.special!==0;return s.jsxs("div",{className:Ki.wrap,children:[s.jsx("div",{className:Ki.left,children:s.jsxs("div",{className:Ki.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:Ki.hint,children:t})]})}),s.jsx("div",{className:Ki.right,children:s.jsxs("div",{className:Ki.panel,children:[s.jsx("h2",{className:Ki.panelTitle,children:"Controls"}),s.jsx("div",{className:Ki.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:p=>i(x=>({...x,special:Number(p.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:m,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:p=>u(p.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:p=>i(x=>({...x,class:Number(p.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:p=>i(x=>({...x,race:Number(p.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:p=>i(x=>({...x,background:p.target.value})),children:Xde.map(p=>s.jsx("option",{value:p,children:p===""?"transparent":p},p))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:p=>i(x=>({...x,frame:p.target.value})),children:Yde.map(p=>s.jsx("option",{value:p,children:p===""?"none":p},p))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:p=>i(x=>({...x,showBorder:p.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:o,onChange:p=>c(p.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:d,children:"Export PNG"})}),m&&s.jsxs("div",{className:Ki.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const Zde=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],eue=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],tue=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function sue(){return s.jsx(gt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),s.jsx("ul",{className:"mt-2 space-y-2",children:Zde.map(t=>s.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[s.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),s.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[s.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),s.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),s.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),s.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:eue.map(t=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),s.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),s.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),s.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:tue.map(t=>s.jsx("li",{children:t},t))})]})]}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),s.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),s.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),s.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),s.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),s.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),s.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),s.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const nue={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function rue(){return s.jsx(gt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:s.jsx("div",{className:"flex w-full justify-center pt-10",children:s.jsx(h3,{config:nue,label:"Playground Avatar"})})})}const iue=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function aue(){return s.jsx(gt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:iue.map(t=>s.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),s.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),s.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const oue="_avatarFrameMask_1pzs8_5",lue="_avatarFrameOverlay_1pzs8_7",Dj={avatarFrameMask:oue,avatarFrameOverlay:lue},cue=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function due(){return s.jsx(gt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:s.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[s.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:cue.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),s.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),s.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),s.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:Dj.avatarFrameMask,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:Dj.avatarFrameOverlay,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const uue=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function hue(){return s.jsx(gt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"flex w-full flex-col gap-4",children:uue.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,s.jsx("span",{children:"Leer"})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),s.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function mue(){return s.jsx(gt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),s.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const Y={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},pue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},fue={maxWidth:1200,margin:"0 auto"},gue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function xue(){return s.jsx("div",{style:pue,children:s.jsxs("div",{style:fue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:gue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${Y.line}`,borderRadius:12,padding:24,textAlign:"center",background:Y.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const vue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},yue={maxWidth:1200,margin:"0 auto"},bue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function _ue(){return s.jsx("div",{style:vue,children:s.jsxs("div",{style:yue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:bue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const wue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},jue={maxWidth:1200,margin:"0 auto"},Sue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Nue(){return s.jsx("div",{style:wue,children:s.jsxs("div",{style:jue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Sue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const kue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Cue={maxWidth:1200,margin:"0 auto"},Tue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Aue(){return s.jsx("div",{style:kue,children:s.jsxs("div",{style:Cue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Tue,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${Y.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:Y.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Eue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Iue={maxWidth:1200,margin:"0 auto"},Rue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Pue(){return s.jsx("div",{style:Eue,children:s.jsxs("div",{style:Iue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Rue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const Lue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Due={maxWidth:1200,margin:"0 auto"},Mue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Fue(){return s.jsx("div",{style:Lue,children:s.jsxs("div",{style:Due,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Mue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const Bue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},$ue={maxWidth:1200,margin:"0 auto"},Vue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Oue(){return s.jsx("div",{style:Bue,children:s.jsxs("div",{style:$ue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Vue,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${Y.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:Y.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const Uue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},zue={maxWidth:1200,margin:"0 auto"},Gue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Hue(){return s.jsx("div",{style:Uue,children:s.jsxs("div",{style:zue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Gue,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const Wue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},que={maxWidth:1200,margin:"0 auto"},Kue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Que(){return s.jsx("div",{style:Wue,children:s.jsxs("div",{style:que,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Kue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const Xue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Yue={maxWidth:1200,margin:"0 auto"},Jue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Zue(){return s.jsx("div",{style:Xue,children:s.jsxs("div",{style:Yue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Jue,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const ehe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},the={maxWidth:1200,margin:"0 auto"},she={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function nhe(){return s.jsx("div",{style:ehe,children:s.jsxs("div",{style:the,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:she,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const rhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ihe={maxWidth:1200,margin:"0 auto"},ahe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ohe(){return s.jsx("div",{style:rhe,children:s.jsxs("div",{style:ihe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ahe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const lhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},che={maxWidth:1200,margin:"0 auto"},dhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function uhe(){return s.jsx("div",{style:lhe,children:s.jsxs("div",{style:che,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${Y.line}`,borderRadius:10},children:"Send"})]})})]})})}const hhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},mhe={maxWidth:1200,margin:"0 auto"},phe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function fhe(){return s.jsx("div",{style:hhe,children:s.jsxs("div",{style:mhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:phe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const ghe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},xhe={maxWidth:1200,margin:"0 auto"},vhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function yhe(){return s.jsx("div",{style:ghe,children:s.jsxs("div",{style:xhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:vhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const bhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},_he={maxWidth:1200,margin:"0 auto"},whe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function jhe(){return s.jsx("div",{style:bhe,children:s.jsxs("div",{style:_he,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:whe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const She={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Nhe={maxWidth:1200,margin:"0 auto"},khe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Che(){return s.jsx("div",{style:She,children:s.jsxs("div",{style:Nhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:khe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const The={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ahe={maxWidth:1200,margin:"0 auto"},Ehe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ihe(){return s.jsx("div",{style:The,children:s.jsxs("div",{style:Ahe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Ehe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const Rhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Phe={maxWidth:1200,margin:"0 auto"},Lhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Dhe(){return s.jsx("div",{style:Rhe,children:s.jsxs("div",{style:Phe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Lhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const Mhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Fhe={maxWidth:1200,margin:"0 auto"},Bhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function $he(){return s.jsx("div",{style:Mhe,children:s.jsxs("div",{style:Fhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Bhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const Vhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ohe={maxWidth:1200,margin:"0 auto"},Uhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function zhe(){return s.jsx("div",{style:Vhe,children:s.jsxs("div",{style:Ohe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Uhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:Y.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Ghe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hhe={maxWidth:1200,margin:"0 auto"},Whe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function qhe(){return s.jsx("div",{style:Ghe,children:s.jsxs("div",{style:Hhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Whe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:Y.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const Khe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Qhe={maxWidth:1200,margin:"0 auto"},Xhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Yhe(){return s.jsx("div",{style:Khe,children:s.jsxs("div",{style:Qhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Xhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const Jhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Zhe={maxWidth:1200,margin:"0 auto"},eme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function tme(){return s.jsx("div",{style:Jhe,children:s.jsxs("div",{style:Zhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:eme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const sme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},nme={maxWidth:1200,margin:"0 auto"},rme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ime(){return s.jsx("div",{style:sme,children:s.jsxs("div",{style:nme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:rme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const ame={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ome={maxWidth:1200,margin:"0 auto"},lme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function cme(){return s.jsx("div",{style:ame,children:s.jsxs("div",{style:ome,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:lme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const dme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ume={maxWidth:1200,margin:"0 auto"},hme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function mme(){return s.jsx("div",{style:dme,children:s.jsxs("div",{style:ume,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:hme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const pme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},fme={maxWidth:1200,margin:"0 auto"},gme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function xme(){return s.jsx("div",{style:pme,children:s.jsxs("div",{style:fme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:gme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const vme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},yme={maxWidth:1200,margin:"0 auto"},bme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function _me(){return s.jsx("div",{style:vme,children:s.jsxs("div",{style:yme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:bme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const wme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},jme={maxWidth:1200,margin:"0 auto"},Sme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Nme(){return s.jsx("div",{style:wme,children:s.jsxs("div",{style:jme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Sme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const kme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Cme={maxWidth:1200,margin:"0 auto"},Tme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ame(){return s.jsx("div",{style:kme,children:s.jsxs("div",{style:Cme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Tme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const Eme="_backdrop_19xh2_1",Ime="_panel_19xh2_19",Rme="_header_19xh2_43",Pme="_tabs_19xh2_63",Lme="_tabBtn_19xh2_75",Dme="_tabActive_19xh2_97",Mme="_closeBtn_19xh2_101",Fme="_content_19xh2_123",vi={backdrop:Eme,panel:Ime,header:Rme,tabs:Pme,tabBtn:Lme,tabActive:Dme,closeBtn:Mme,content:Fme},tp=t=>String(t!=null?t:"").trim(),Fa=t=>tp(t).toUpperCase(),Ot=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),sp=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),Mj=t=>{const e=sp(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},Fj=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Yx=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},ht={PLAYERS:{IDENTIFIER:Ot("Identifier"),PID:Ot("ID"),GUILD_IDENTIFIER:Ot("Guild Identifier"),SERVER:Ot("Server"),NAME:Ot("Name"),TIMESTAMP:Ot("Timestamp"),LEVEL:Ot("Level"),CLASS:Ot("Class"),GUILD:Ot("Guild")},GUILDS:{GUILD_IDENTIFIER:Ot("Guild Identifier"),SERVER:Ot("Server"),NAME:Ot("Name"),MEMBER_COUNT:Ot("Guild Member Count"),TIMESTAMP:Ot("Timestamp"),HOF:Ot("Hall of Fame Rank"),HOF_ALT:Ot("HoF"),RANK:Ot("Rank"),GUILD_RANK:Ot("Guild Rank")}},Bme=new Set([Ot("Strength"),Ot("Dexterity"),Ot("Intelligence"),Ot("Constitution"),Ot("Luck"),Ot("Attribute")]),$me=["equipment"],Vme=t=>Bme.has(t)||$me.some(e=>t.includes(e)),vt=(t,e)=>{for(const n of Object.keys(t))if(Ot(n)===e)return t[n]},Ome=(t,e)=>e.map(n=>vt(t,n)).find(n=>n!=null&&String(n)!=="");function Pp(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),o=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),m=n[6]?Number(n[6]):0,p=new Date(c,o,i,d,u,m);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function Bj(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),o=Math.ceil(((+n-+i)/864e5+1)/7),c=n.getUTCFullYear(),d=o.toString().padStart(2,"0");return`${c}-W${d}`}function $j(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),o=i+7*86400-1;return{start:i,end:o}}function Vj(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function Oj(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function Ume(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(n=i,r=o)}return n}function zme(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=Ume((u=n[0])!=null?u:""),i=m=>{const p=[];let x="",v=!1;for(let w=0;w<m.length;w++){const S=m[w];S==='"'?v&&m[w+1]==='"'?(x+='"',w++):v=!v:S===r&&!v?(p.push(x),x=""):x+=S}return p.push(x),p},c=(n[0]?i(n[0]).map(tp):[]).map((m,p)=>m||`col${p}`),d=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const p=i(n[m]);if(p.every(v=>tp(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=p[v]!=null?tp(p[v]):"";d.push(x)}return{headers:c,rows:d}}const Uj=120,zj=40,Gj=120;async function Yl(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const o=j8(It),c=t.slice(i,i+e);for(const d of c)d(o);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:n}),await o.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Bm(t,e){const n={};for(const r of e){const i=Ot(r);if(Vme(i)){let o=null,c;for(const d of t){const u=d.row[r];if(u==null||u==="")continue;const m=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(m)||(o==null||m>o)&&(o=m,c=u)}n[r]=c!=null?c:""}else{let o="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){o=d;break}}n[r]=o}}return n}async function Hj(t){var i;const e=await dr(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const o=Pp(n.values.Timestamp);if(o!=null)return o}if((n==null?void 0:n.timestampRaw)!=null){const o=Pp(n.timestampRaw);if(o!=null)return o}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const o=Date.parse(r);return Number.isFinite(o)?Math.floor(o/1e3):0}return 0}async function Wj(t,e){var p,x,v,w,S;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],o={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=zme(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const P of c)Object.keys(P).forEach(R=>d.add(R));const u=Array.from(d);if(e.kind==="players"){const P=[],R=[],B=[],D=new Map;for(const T of c){const y=(p=vt(T,ht.PLAYERS.PID))!=null?p:vt(T,ht.PLAYERS.IDENTIFIER),j=String(y!=null?y:"").trim();if(!j){o.skippedMissingIdentifier++;continue}const M=Pp(vt(T,ht.PLAYERS.TIMESTAMP));if(M==null){o.skippedBadTs++;continue}const C=(()=>{const _=vt(T,ht.PLAYERS.SERVER);return _&&String(_).trim()!==""?Fa(_):void 0})();if(!C){o.skippedMissingServer++;continue}P.push(_=>{const A=ms(It,`players/${j}/scans/${M}`);_.set(A,{playerId:j,server:C,timestamp:M,timestampRaw:vt(T,ht.PLAYERS.TIMESTAMP),name:vt(T,ht.PLAYERS.NAME)||null,values:T,createdAt:Yi()},{merge:!0})}),o.writtenScanPlayers++,D.has(j)||D.set(j,[]),D.get(j).push({row:T,ts:M})}for(const[T,y]of D){y.sort((G,te)=>G.ts-te.ts);const j=y[y.length-1],M=Fa(vt(j.row,ht.PLAYERS.SERVER)||""),C=vt(j.row,ht.PLAYERS.NAME)||null,_=vt(j.row,ht.PLAYERS.LEVEL),A=vt(j.row,ht.PLAYERS.CLASS),L=vt(j.row,ht.PLAYERS.GUILD),I=(v=(x=vt(j.row,ht.PLAYERS.NAME))!=null?x:C)!=null?v:"",V=Mj(I),$=Fj(V),W=ms(It,`players/${T}/latest/latest`),z=await Hj(W);j.ts>z&&(R.push(G=>{G.set(W,{playerId:T,server:M,timestamp:j.ts,timestampRaw:vt(j.row,ht.PLAYERS.TIMESTAMP),name:C,values:j.row,updatedAt:Yi(),nameFold:sp(I),nameTokens:V,nameNgrams:$,level:Yx(_),className:A!=null&&String(A).trim()!==""?String(A):null,guildName:L!=null&&String(L).trim()!==""?String(L):null,guildNameFold:L?sp(L):null},{merge:!0})}),o.writtenLatestPlayers++);const q=new Map,Q=new Map;for(const G of y){const te=Bj(G.ts),re=Vj(G.ts);q.has(te)||q.set(te,[]),Q.has(re)||Q.set(re,[]),q.get(te).push(G),Q.get(re).push(G)}for(const[G,te]of q){te.sort((de,ee)=>de.ts-ee.ts);const re=Bm(te,u),H=$j(te[te.length-1].ts),se=te[te.length-1];B.push(de=>{const ee=ms(It,`players/${T}/history_weekly/${G}`);de.set(ee,{playerId:T,weekId:G,periodStartSec:H.start,periodEndSec:H.end,lastTs:se.ts,lastTimestampRaw:vt(se.row,ht.PLAYERS.TIMESTAMP),server:Fa(vt(se.row,ht.PLAYERS.SERVER)||""),name:vt(se.row,ht.PLAYERS.NAME)||null,values:re,updatedAt:Yi()},{merge:!0})}),o.writtenWeeklyPlayers++}for(const[G,te]of Q){te.sort((de,ee)=>de.ts-ee.ts);const re=Bm(te,u),H=Oj(te[te.length-1].ts),se=te[te.length-1];B.push(de=>{const ee=ms(It,`players/${T}/history_monthly/${G}`);de.set(ee,{playerId:T,monthId:G,periodStartSec:H.start,periodEndSec:H.end,lastTs:se.ts,lastTimestampRaw:vt(se.row,ht.PLAYERS.TIMESTAMP),server:Fa(vt(se.row,ht.PLAYERS.SERVER)||""),name:vt(se.row,ht.PLAYERS.NAME)||null,values:re,updatedAt:Yi()},{merge:!0})}),o.writtenMonthlyPlayers++}}await Yl(P,Uj,"scans",e.onProgress),await Yl(R,zj,"latest",e.onProgress),await Yl(B,Gj,"history",e.onProgress)}if(e.kind==="guilds"){const P=[],R=[],B=[],D=new Map;for(const T of c){const y=String((w=vt(T,ht.GUILDS.GUILD_IDENTIFIER))!=null?w:"").trim();if(!y){o.skippedMissingGuildIdentifier++;continue}const j=Pp(vt(T,ht.GUILDS.TIMESTAMP));if(j==null){o.skippedBadTsGuild++;continue}const M=(()=>{const C=vt(T,ht.GUILDS.SERVER);return C&&String(C).trim()!==""?Fa(C):void 0})();if(!M){o.skippedMissingServer++;continue}P.push(C=>{const _=ms(It,`guilds/${y}/scans/${j}`);C.set(_,{guildIdentifier:y,server:M,timestamp:j,timestampRaw:vt(T,ht.GUILDS.TIMESTAMP),name:vt(T,ht.GUILDS.NAME)||null,values:T,createdAt:Yi()},{merge:!0})}),o.writtenScanGuilds++,D.has(y)||D.set(y,[]),D.get(y).push({row:T,ts:j})}for(const[T,y]of D){y.sort((z,q)=>z.ts-q.ts);const j=y[y.length-1],M=(S=vt(j.row,ht.GUILDS.NAME))!=null?S:"",C=Mj(M),_=Fj(C),A=Yx(vt(j.row,ht.GUILDS.MEMBER_COUNT)),L=Yx(Ome(j.row,[ht.GUILDS.HOF,ht.GUILDS.HOF_ALT,ht.GUILDS.RANK,ht.GUILDS.GUILD_RANK])),I=ms(It,`guilds/${T}/latest/latest`),V=await Hj(I);j.ts>V&&(R.push(z=>{z.set(I,{guildIdentifier:T,server:Fa(vt(j.row,ht.GUILDS.SERVER)||""),timestamp:j.ts,timestampRaw:vt(j.row,ht.GUILDS.TIMESTAMP),name:vt(j.row,ht.GUILDS.NAME)||null,values:j.row,updatedAt:Yi(),nameFold:sp(M),nameTokens:C,nameNgrams:_,memberCount:A,hofRank:L},{merge:!0})}),o.writtenLatestGuilds++);const $=new Map,W=new Map;for(const z of y){const q=Bj(z.ts),Q=Vj(z.ts);$.has(q)||$.set(q,[]),W.has(Q)||W.set(Q,[]),$.get(q).push(z),W.get(Q).push(z)}for(const[z,q]of $){q.sort((re,H)=>re.ts-H.ts);const Q=Bm(q,u),G=$j(q[q.length-1].ts),te=q[q.length-1];B.push(re=>{const H=ms(It,`guilds/${T}/history_weekly/${z}`);re.set(H,{guildIdentifier:T,weekId:z,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:vt(te.row,ht.GUILDS.TIMESTAMP),server:Fa(vt(te.row,ht.GUILDS.SERVER)||""),name:vt(te.row,ht.GUILDS.NAME)||null,values:Q,updatedAt:Yi()},{merge:!0})}),o.writtenWeeklyGuilds++}for(const[z,q]of W){q.sort((re,H)=>re.ts-H.ts);const Q=Bm(q,u),G=Oj(q[q.length-1].ts),te=q[q.length-1];B.push(re=>{const H=ms(It,`guilds/${T}/history_monthly/${z}`);re.set(H,{guildIdentifier:T,monthId:z,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:vt(te.row,ht.GUILDS.TIMESTAMP),server:Fa(vt(te.row,ht.GUILDS.SERVER)||""),name:vt(te.row,ht.GUILDS.NAME)||null,values:Q,updatedAt:Yi()},{merge:!0})}),o.writtenMonthlyGuilds++}}await Yl(P,Uj,"scans",e.onProgress),await Yl(R,zj,"latest",e.onProgress),await Yl(B,Gj,"history",e.onProgress)}const m=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:o,errors:r,warnings:i,durationMs:m-n}}const rt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Gme=t=>String(t!=null?t:"").trim(),Qv=t=>Gme(t).toUpperCase(),Xv=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function fn(t,e){for(const n of Object.keys(t))if(rt(n)===e)return t[n]}function Qi(t,e){for(const n of e){const r=fn(t,n);if(r!=null&&String(r)!=="")return r}}function Do(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function hc(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),o=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),m=n[6]?Number(n[6]):0,p=new Date(c,o,i,d,u,m);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Ss={GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name"),TIMESTAMP:rt("Timestamp"),LEVEL:rt("Level"),CLASS:rt("Class"),GUILD:rt("Guild"),GUILD_ROLE:[rt("Role"),rt("Guild Role")],TREASURY:[rt("Treasury"),rt("Fortress Treasury"),rt("Treasury Level"),rt("Festungsschatzkammer")],MINE:[rt("Mine"),rt("Gem Mine"),rt("Mine Level"),rt("Festungsmine")],BASE_MAIN:[rt("Base"),rt("Base Attribute"),rt("BaseMain"),rt("Basis Attribut")],CON_BASE:[rt("Con Base"),rt("Constitution Base"),rt("Base Constitution"),rt("Basis Konstitution"),rt("conbase")],ATTR_TOT:[rt("Attribute"),rt("Attr Total"),rt("Attribut"),rt("Attribut Gesamt")],CON_TOT:[rt("Constitution"),rt("Constitution Total"),rt("Konstitution"),rt("Konstitution Gesamt")],LAST_ACTIVE:[rt("Last Active"),rt("LastActivity"),rt("Letzte Aktivitt")],GUILD_JOINED:[rt("Guild Joined"),rt("Joined Guild"),rt("Gildenbeitritt")]},np={GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name")};function qj(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function Hme(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function Wme(t){var n;const e=new Map;for(const r of t){const i=String((n=fn(r,np.GUILD_IDENTIFIER))!=null?n:"").trim(),o=fn(r,np.SERVER),c=fn(r,np.NAME);if(!i||!o||!c)continue;const d=`${Qv(o)}__${Xv(String(c))}`;e.set(d,i)}return e}function qme(t){var T,y;const e=fn(t,Ss.TIMESTAMP),n=hc(e),r=Qi(t,Ss.LAST_ACTIVE),i=hc(r),o=Qi(t,Ss.GUILD_JOINED),c=hc(o),d=Do(fn(t,Ss.LEVEL)),u=(()=>{const j=fn(t,Ss.CLASS);return j!=null&&String(j).trim()!==""?String(j):null})(),m=(()=>{const j=Qi(t,Ss.GUILD_ROLE);return j!=null&&String(j).trim()!==""?String(j):null})(),p=Do(Qi(t,Ss.TREASURY)),x=Do(Qi(t,Ss.MINE)),v=Do(Qi(t,Ss.BASE_MAIN)),w=Do(Qi(t,Ss.CON_BASE)),S=Do(Qi(t,Ss.ATTR_TOT)),P=Do(Qi(t,Ss.CON_TOT)),R=v!=null&&w!=null?v+w:null,B=S!=null&&P!=null?S+P:null,D=(()=>{const j=fn(t,Ss.NAME);return j!=null&&String(j).trim()!==""?String(j):null})();return{id:String((y=(T=t==null?void 0:t.ID)!=null?T:t==null?void 0:t.Identifier)!=null?y:""),name:D,class:u,role:m,level:d,treasury:p,mine:x,baseMain:v,conBase:w,sumBaseTotal:R,attrTotal:S,conTotal:P,totalStats:B,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:o!=null?String(o):null,guildJoinedMs:c!=null?c*1e3:null}}function Xi(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function Kme(t){var c,d,u;const e=ms(It,`guilds/${t}/latest/latest`),n=await dr(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(u=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?u:null;let o=null;return typeof r.timestamp=="number"?o=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(o=hc(i)),{sec:o,raw:i}}async function Qme(t){const e=ms(It,`guilds/${t}/snapshots/members_summary`),n=await dr(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=hc(r.updatedAt);if(i!=null)return i}return 0}async function Xme(t,e){var o,c,d,u,m,p,x;const n=Wme(e||[]),r=new Set;for(const v of e||[]){const w=String((o=fn(v,np.GUILD_IDENTIFIER))!=null?o:"").trim();w&&r.add(w)}for(const v of t||[]){const w=fn(v,Ss.SERVER);let S=String((c=fn(v,Ss.GUILD_IDENTIFIER))!=null?c:"").trim();if(!S){const P=(d=fn(v,Ss.GUILD))!=null?d:v.Guild;if(P&&w){const R=`${Qv(w)}__${Xv(String(P))}`,B=n.get(R);B&&(S=B)}}S&&r.add(S)}let i=0;for(const v of r){const{sec:w,raw:S}=await Kme(v);if(w==null)continue;const P=await Qme(v);if(w<=P)continue;const R=new Map;for(const z of t||[]){const q=fn(z,Ss.SERVER);let Q=String((u=fn(z,Ss.GUILD_IDENTIFIER))!=null?u:"").trim();if(!Q){const re=(m=fn(z,Ss.GUILD))!=null?m:z.Guild;if(re&&q){const H=`${Qv(q)}__${Xv(String(re))}`,se=n.get(H);se&&(Q=se)}}if(Q!==v)continue;const G=hc(fn(z,Ss.TIMESTAMP));if(G==null||G!==w)continue;const te=String((x=(p=z==null?void 0:z.ID)!=null?p:z==null?void 0:z.Identifier)!=null?x:"").trim();te&&(R.has(te)||R.set(te,z))}const B=Array.from(R.values()),D=[];for(const z of B)D.push(qme(z));D.sort((z,q)=>{var te,re;const Q=qj(z.role),G=qj(q.role);return Q!==G?Q-G:((te=z.name)!=null?te:"").toLowerCase().localeCompare(((re=q.name)!=null?re:"").toLowerCase())});const T=Xi(D,"level"),y=Xi(D,"treasury"),j=Xi(D,"mine"),M=Xi(D,"baseMain"),C=Xi(D,"conBase"),_=Xi(D,"sumBaseTotal"),A=Xi(D,"attrTotal"),L=Xi(D,"conTotal"),I=Xi(D,"totalStats"),V=JSON.stringify({gid:v,tsSec:w,members:D.map(z=>{var q,Q,G,te,re,H,se,de,ee,fe,Te,xe,Ce;return{id:z.id,name:(q=z.name)!=null?q:"",class:(Q=z.class)!=null?Q:"",role:(G=z.role)!=null?G:"",level:(te=z.level)!=null?te:null,treasury:(re=z.treasury)!=null?re:null,mine:(H=z.mine)!=null?H:null,baseMain:(se=z.baseMain)!=null?se:null,conBase:(de=z.conBase)!=null?de:null,sumBaseTotal:(ee=z.sumBaseTotal)!=null?ee:null,attrTotal:(fe=z.attrTotal)!=null?fe:null,conTotal:(Te=z.conTotal)!=null?Te:null,totalStats:(xe=z.totalStats)!=null?xe:null,guildJoinedMs:(Ce=z.guildJoinedMs)!=null?Ce:null}})}),$=Hme(V),W=ms(It,`guilds/${v}/snapshots/members_summary`);await fp(W,{guildId:v,count:D.length,updatedAt:S!=null?S:String(w),updatedAtMs:w*1e3,hash:$,avgLevel:T,avgTreasury:y,avgMine:j,avgBaseMain:M,avgConBase:C,avgSumBaseTotal:_,avgAttrTotal:A,avgConTotal:L,avgTotalStats:I,members:D,updatedAtServer:Yi()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function Yme(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function Jme(t,e,n,r){var u,m,p;const i=ms(It,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),o=await dr(i);if(!o.exists())return await fp(i,n,{merge:!1}),{first:n,firstTsMs:(u=n.updatedAtMs)!=null?u:n.timestamp?n.timestamp*1e3:r};const c=o.data(),d=(m=c.updatedAtMs)!=null?m:c.timestamp?c.timestamp*1e3:r;return r<d?(await fp(i,n,{merge:!1}),{first:n,firstTsMs:(p=n.updatedAtMs)!=null?p:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function Zme(t,e,n){const r=ms(It,`guilds/${t}/history_monthly/${e}`);await fp(r,n,{merge:!0})}function epe(t){var D,T,y,j,M,C,_,A,L,I,V,$,W;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:o,latest:c,latestTsMs:d}=t,u=o!=null?Math.floor((d-o)/864e5):null,m=u!=null&&u<=40,p={available:m};m||(p.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const x={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:o?new Date(o).toISOString():null,toISO:new Date(d).toISOString(),fromTs:o?Math.floor(o/1e3):null,toTs:Math.floor(d/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:p};if(!m||!i)return x;const v=new Map;for(const z of i.members||[])z.playerId&&v.set(z.playerId,z);const w=[],S=[],P=[],R=[],B=[];for(const z of c.members||[]){if(!z.playerId)continue;const q=v.get(z.playerId)||null,Q=(D=z.sumBaseTotal)!=null?D:null,G=(T=q==null?void 0:q.sumBaseTotal)!=null?T:null,te=Q!=null&&G!=null?Q-G:0,re=(y=z.totalStats)!=null?y:null,H=(j=q==null?void 0:q.totalStats)!=null?j:null,se=re!=null&&H!=null?re-H:0;w.push({playerId:z.playerId,name:(M=z.name)!=null?M:null,class:(C=z.class)!=null?C:null,levelLatest:(_=z.level)!=null?_:null,baseLatest:Q,baseDelta:te}),S.push({playerId:z.playerId,name:(A=z.name)!=null?A:null,base:Q,stamDelta:null,shoDelta:null}),P.push({playerId:z.playerId,name:(L=z.name)!=null?L:null,stats:Q,delta:te}),R.push({playerId:z.playerId,name:(I=z.name)!=null?I:null,total:re,delta:se}),B.push({playerId:z.playerId,name:(V=z.name)!=null?V:null,class:($=z.class)!=null?$:null,stats:(W=z.baseMain)!=null?W:null,delta:(q==null?void 0:q.baseMain)!=null&&z.baseMain!=null?z.baseMain-q.baseMain:0})}return w.sort((z,q)=>{var Q,G;return((Q=q.baseDelta)!=null?Q:-1/0)-((G=z.baseDelta)!=null?G:-1/0)}),P.sort((z,q)=>{var Q,G;return((Q=q.stats)!=null?Q:-1/0)-((G=z.stats)!=null?G:-1/0)}),R.sort((z,q)=>{var Q,G;return((Q=q.total)!=null?Q:-1/0)-((G=z.total)!=null?G:-1/0)}),S.sort((z,q)=>{var Q,G;return((Q=q.base)!=null?Q:-1/0)-((G=z.base)!=null?G:-1/0)}),B.sort((z,q)=>{var Q,G;return((Q=q.stats)!=null?Q:-1/0)-((G=z.stats)!=null?G:-1/0)}),{...x,mostBaseGained:w.slice(0,50),sumBaseStats:S.slice(0,50),highestBaseStats:P.slice(0,50),highestTotalStats:R.slice(0,50),mainAndCon:B.slice(0,50)}}const Jx=t=>String(t!=null?t:"").trim(),Tn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function tpe(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(n=i,r=o)}return n}function Kj(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=tpe((u=n[0])!=null?u:""),i=m=>{const p=[];let x="",v=!1;for(let w=0;w<m.length;w++){const S=m[w];S==='"'?v&&m[w+1]==='"'?(x+='"',w++):v=!v:S===r&&!v?(p.push(x),x=""):x+=S}return p.push(x),p},c=(n[0]?i(n[0]).map(Jx):[]).map((m,p)=>m||`col${p}`),d=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const p=i(n[m]);if(p.every(v=>Jx(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=p[v]!=null?Jx(p[v]):"";d.push(x)}return{headers:c,rows:d,delimiter:r}}const ks={PLAYERS:{IDENTIFIER:Tn("Identifier"),GUILD_IDENTIFIER:Tn("Guild Identifier"),TIMESTAMP:Tn("Timestamp"),NAME:Tn("Name"),SERVER:Tn("Server"),OWN:Tn("Own")},GUILDS:{GUILD_IDENTIFIER:Tn("Guild Identifier"),GUILD_MEMBER_COUNT:Tn("Guild Member Count"),NAME:Tn("Name"),TIMESTAMP:Tn("Timestamp")}},q3=(t,e)=>{const n=new Set(t.map(Tn));return e.every(r=>n.has(r))},Tr=(t,e)=>{for(const n of Object.keys(t))if(Tn(n)===e)return t[n]};function spe(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function Qj(t){const e=t.map(Tn),n=o=>e.includes(o);let r=0,i=0;return n(ks.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(ks.PLAYERS.IDENTIFIER)&&(r+=2),n(ks.PLAYERS.TIMESTAMP)&&(r+=1),n(ks.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(ks.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(ks.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(ks.PLAYERS.IDENTIFIER)?"players":"guilds"}function Xj(t,e){const n=spe(t);if(n!=="unknown"){const i=Qj(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=Qj(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function K3(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function npe(t,e){var r;const n=[];if(!q3(e,[ks.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const o=Tr(i,ks.PLAYERS.GUILD_IDENTIFIER);if(!o)continue;const c=Tr(i,ks.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(o),id:Tr(i,ks.PLAYERS.IDENTIFIER)||void 0,name:Tr(i,ks.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Tr(i,ks.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=K3(Tr(i,ks.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function rpe(t,e){const n=[];if(!q3(e,[ks.GUILDS.GUILD_IDENTIFIER,ks.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=Tr(r,ks.GUILDS.GUILD_IDENTIFIER),o=Number(Tr(r,ks.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(o))continue;const c=K3(Tr(r,ks.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:Tr(r,ks.GUILDS.NAME)||void 0,memberCount:o,tsSec:c!=null?c:void 0})}return n}function ipe(t,e){var R,B,D,T,y,j;const n=[],r=new Map;for(const M of t){const C=M.id||"",_=(R=M.server)==null?void 0:R.toUpperCase();if(C){const A=`${_!=null?_:"NO"}::${C}`;r.has(A)||r.set(A,{server:_,id:C,name:M.name||"",own:!!M.own})}}const i=r.size,o=t.length,c=Array.from(r.values()).filter(M=>M.own).length,d=new Map;for(const M of r.values())M.server&&d.set(M.server,((B=d.get(M.server))!=null?B:0)+1);const u=Array.from(d.entries()).map(([M,C])=>({server:M,players:C})).sort((M,C)=>C.players-M.players),m=u.length,p=new Map;for(const M of t)p.set(M.guildIdentifier,((D=p.get(M.guildIdentifier))!=null?D:0)+1);const x=new Set,v=new Map;for(const M of e)x.add(M.guildIdentifier),v.set(M.guildIdentifier,{name:M.name||"",declared:M.memberCount});for(const M of p.keys())x.add(M);let w=0;const S=[];for(const M of x){const C=(T=v.get(M))==null?void 0:T.declared,_=(y=p.get(M))!=null?y:0,A=C!=null&&_===C;A&&w++,S.push({id:M,name:((j=v.get(M))==null?void 0:j.name)||"",declaredCount:C!=null?C:0,playersCount:_,full:A})}[...v.values()].some(M=>Number.isFinite(M.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),S.sort((M,C)=>M.name?M.name.localeCompare(C.name):M.id.localeCompare(C.id));const P=Array.from(r.values()).sort((M,C)=>(M.server||"")===(C.server||"")?M.name.localeCompare(C.name):(M.server||"").localeCompare(C.server||""));return{totalPlayers:o,uniquePlayerIds:i,ownPlayers:c,servers:m,perServer:u,guildsRepresented:x.size,fullyScannedGuilds:w,notes:n,playersList:P,guildsList:S}}function ape(){const[t,e]=E.useState([]),[n,r]=E.useState(null),[i,o]=E.useState(!1),[c,d]=E.useState(null),[u,m]=E.useState(!1),[p,x]=E.useState(null),[v,w]=E.useState([]),[S,P]=E.useState(null);E.useEffect(()=>{const C=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=C}},[]);const R=E.useCallback(async C=>{var _;o(!0),d(null),r(null),w([]),x(null);try{const A=Array.from(C).slice(0,2),L=[];let I=[],V=[];for(const $ of A){const W=$,z=await W.text(),q=Kj(z),{kind:Q,warn:G}=Xj(W.name,q.headers);L.push({name:W.name,size:W.size||z.length,rows:q.rows.length,delimiter:q.delimiter,text:z,kind:Q,warn:G}),Q==="players"?I=I.concat(npe(q.rows,q.headers)):Q==="guilds"&&(V=V.concat(rpe(q.rows,q.headers)))}e(L),r(ipe(I,V))}catch(A){d(String((_=A==null?void 0:A.message)!=null?_:A))}finally{o(!1)}},[]),B=E.useCallback(async C=>{!C||C.length===0||await R(C)},[R]),D=E.useCallback(async C=>{C.preventDefault();const _=C.dataTransfer.files;!_||!_.length||await R(_)},[R]);async function T(){var C,_,A;if(t.length){m(!0),P({phase:"prepare",current:0,total:0}),x(null),w([]);try{let L=[],I=[];for(const z of t){const q=Kj(z.text),{kind:Q}=Xj(z.name,q.headers);Q==="players"&&(L=L.concat(q.rows)),Q==="guilds"&&(I=I.concat(q.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!L.length,hasGuildsCsv:!!I.length,playersRows:L.length,guildsRows:I.length}),!I.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!L.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await Wj(null,{kind:"guilds",rows:I,onProgress:z=>P(z)});console.info("[Import Report] guilds",V);const $=await Wj(null,{kind:"players",rows:L,onProgress:z=>P(z)});console.info("[Import Report] players",$),await Xme(L,I);const W=new Set;for(const z of I){const q=Tr(z,Tn("Guild Identifier"));q&&W.add(String(q))}for(const z of L){const q=Tr(z,Tn("Guild Identifier"));q&&W.add(String(q))}for(const z of W){const q=ms(It,`guilds/${z}/snapshots/members_summary`),Q=await dr(q);if(!Q.exists())continue;const G=Q.data(),te=Number((C=G.updatedAtMs)!=null?C:G.timestamp?G.timestamp*1e3:Date.now()),re=Yme(te),{first:H,firstTsMs:se}=await Jme(z,re,G,te),de=epe({guildId:z,monthKey:re,server:(_=G.server)!=null?_:null,first:H,firstTsMs:se,latest:G,latestTsMs:te});await Zme(z,re,de)}P({phase:"done",current:1,total:1}),w([V,$]),x("Import abgeschlossen.")}catch(L){console.error("[UploadCenter] Import error:",L),x(`Fehler beim Import: ${(A=L==null?void 0:L.message)!=null?A:L}`)}finally{m(!1),setTimeout(()=>P(null),1200)}}}const y=E.useMemo(()=>t.map(C=>`${C.name} (${C.rows} rows, ${C.delimiter}, ${C.kind}${C.warn?" ":""})`),[t]),j=E.useMemo(()=>t.reduce((C,_)=>C+_.rows,0),[t]),M=S?Math.floor(100*S.current/Math.max(1,S.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.map((C,_)=>s.jsx("span",{className:"uc-chip",title:t[_].warn||"",children:C},_)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",j," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[S&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${M}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[M,"%"]})]}),s.jsx("button",{onClick:T,disabled:!t.length||!n||u,className:"uc-btn",children:u?"Loading":"Load to DB"}),p&&s.jsx("span",{style:{color:p.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:p})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:C=>B(C.target.files),disabled:i})]}),s.jsx("div",{onDragOver:C=>C.preventDefault(),onDrop:D,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(Md,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(Md,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(Md,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(Md,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(Md,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(C=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.server}),s.jsx("td",{style:{textAlign:"right"},children:C.players})]},C.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((C,_)=>{var A,L;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(A=C.server)!=null?A:""}),s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{children:C.own?"":""})]},`${(L=C.server)!=null?L:"NO"}-${C.id}-${_}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((C,_)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{style:{textAlign:"right"},children:C.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:C.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:C.full?"":""})]},`${C.id}-${_}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((C,_)=>s.jsx("li",{children:C},_))})]})]})]})}function Md({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function ope(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function lpe(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=wS();return!t||!i?null:s.jsx("div",{className:vi.backdrop,onClick:e,children:s.jsxs("div",{className:vi.panel,onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:vi.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:vi.tabs,children:[s.jsx("button",{type:"button",className:`${vi.tabBtn} ${n==="csv"?vi.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${vi.tabBtn} ${n==="json"?vi.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:vi.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:vi.content,children:n==="csv"?s.jsx(ape,{}):s.jsx(ope,{})})]})})}function cpe({route:t,fallback:e=null,children:n}){const{user:r}=Ec(),{rulesByRoute:i,loading:o}=dk(),c=J.useMemo(()=>hk(r==null?void 0:r.roles),[r==null?void 0:r.roles]),d=J.useMemo(()=>{var p;return!!((p=r==null?void 0:r.roles)!=null&&p.includes("admin"))},[r==null?void 0:r.roles]),u=J.useMemo(()=>uk(t,i),[t,i]);return J.useEffect(()=>{!o&&!u&&console.debug(`[FeatureGate] No rule found for route "${t}", allowing by default.`)},[o,u,t]),J.useMemo(()=>o||!u?!0:mk(u,c,d),[o,u,c,d])?s.jsx(s.Fragment,{children:n}):s.jsx(s.Fragment,{children:e})}const dpe=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),Nn=dpe("Diese Unterseite existiert in der neuen Struktur nicht mehr.");a4.createRoot(document.getElementById("root")).render(s.jsx(J.StrictMode,{children:s.jsx(UE,{children:s.jsx(xL,{children:s.jsxs(HE,{role:"admin",children:[s.jsx(IT,{children:s.jsx(oT,{children:s.jsxs(me,{element:s.jsx(IL,{}),children:[s.jsx(me,{path:"/",element:s.jsx(kB,{})}),s.jsx(me,{path:"/login",element:s.jsx(zB,{})}),s.jsx(me,{path:"/dashboard",element:s.jsx(GB,{})}),s.jsx(me,{path:"/dashboard/kpis",element:s.jsx(qB,{})}),s.jsx(me,{path:"/dashboard/activity",element:s.jsx(KB,{})}),s.jsx(me,{path:"/dashboard/progression",element:s.jsx(QB,{})}),s.jsx(me,{path:"/discover",element:s.jsx(XB,{})}),s.jsx(me,{path:"/toplists",element:s.jsx(CV,{})}),s.jsx(me,{path:"/sfmagazine",element:s.jsx(t$,{})}),s.jsx(me,{path:"/sfmagazine/historybook",element:s.jsx(I$,{})}),s.jsx(me,{path:"/players",element:s.jsx(TV,{})}),s.jsx(me,{path:"/players/rankings",element:s.jsx(AV,{})}),s.jsx(me,{path:"/players/stats",element:s.jsx(EV,{})}),s.jsx(me,{path:"/players/profile",element:s.jsx(Ex,{})}),s.jsx(me,{path:"/players/profile/:playerId",element:s.jsx(Ex,{})}),s.jsx(me,{path:"/players/compare",element:s.jsx(fU,{})}),s.jsx(me,{path:"/player/:playerId",element:s.jsx(Ex,{})}),s.jsx(me,{path:"/guilds",element:s.jsx(jU,{})}),s.jsx(me,{path:"/guilds/rankings",element:s.jsx(SU,{})}),s.jsx(me,{path:"/guilds/stats",element:s.jsx(NU,{})}),s.jsx(me,{path:"/guilds/profile",element:s.jsx(Dx,{})}),s.jsx(me,{path:"/guilds/profile/:guildId",element:s.jsx(Dx,{})}),s.jsx(me,{path:"/guild/:guildId",element:s.jsx(Dx,{})}),s.jsx(me,{path:"/servers",element:s.jsx(hH,{})}),s.jsx(me,{path:"/servers/rankings",element:s.jsx(mH,{})}),s.jsx(me,{path:"/servers/stats",element:s.jsx(pH,{})}),s.jsx(me,{path:"/servers/profile",element:s.jsx(Mx,{})}),"               ",s.jsx(me,{path:"/servers/profile/:serverId",element:s.jsx(Mx,{})}),"     ",s.jsx(me,{path:"/server/:serverId",element:s.jsx(Mx,{})}),"              ",s.jsx(me,{path:"/u/:profileId",element:s.jsx(jW,{})}),s.jsx(me,{path:"/guidehub/*",element:s.jsx(iJ,{})}),s.jsx(me,{path:"/community",element:s.jsx(JZ,{})}),s.jsx(me,{path:"/community/scans",element:s.jsx(k3,{})}),s.jsx(me,{path:"/community/predictions",element:s.jsx(C3,{})}),s.jsx(me,{path:"/community/creators",element:s.jsx(N3,{})}),s.jsx(me,{path:"/community/feedback",element:s.jsx(A3,{})}),s.jsx(me,{path:"/community/news",element:s.jsx(T3,{})}),s.jsx(me,{path:"/community/records",element:s.jsx(E3,{})}),s.jsx(me,{path:"/scans",element:s.jsx(ZZ,{})}),s.jsx(me,{path:"/scans/latest",element:s.jsx(eee,{})}),s.jsx(me,{path:"/scans/archive",element:s.jsx(tee,{})}),s.jsx(me,{path:"/guild-hub",element:s.jsx(see,{})}),s.jsx(me,{path:"/guild-hub/planner",element:s.jsx(Ste,{})}),s.jsx(me,{path:"/guild-hub/fusion-planner",element:s.jsx(lae,{})}),s.jsx(me,{path:"/guild-hub/compare-guilds",element:s.jsx(cae,{})}),s.jsx(me,{path:"/guild-hub/waitlist",element:s.jsx(Toe,{})}),s.jsx(me,{path:"/guild-hub/activity",element:s.jsx(Moe,{})}),s.jsx(me,{path:"/guild-hub/imports",element:s.jsx(Foe,{})}),s.jsx(me,{path:"/guild-hub/announcements",element:s.jsx(Boe,{})}),s.jsx(me,{path:"/guild-hub/events",element:s.jsx($oe,{})}),s.jsx(me,{path:"/guild-hub/roles",element:s.jsx(Voe,{})}),s.jsx(me,{path:"/guild-hub/settings",element:s.jsx(Ooe,{})}),s.jsx(me,{path:"/admin",element:s.jsx(Hoe,{})}),s.jsx(me,{path:"/admin/errors",element:s.jsx(Qoe,{})}),s.jsx(me,{path:"/admin/scans-uploaded",element:s.jsx(Yoe,{})}),s.jsx(me,{path:"/admin/creators-api",element:s.jsx(ole,{})}),s.jsx(me,{path:"/admin/users",element:s.jsx(_le,{})}),s.jsx(me,{path:"/settings",element:s.jsx(Cle,{})}),s.jsx(me,{path:"/settings/account",element:s.jsx(dce,{})}),s.jsxs(me,{path:"/playground",element:s.jsx(cpe,{route:"/playground",fallback:s.jsx(um,{to:"/",replace:!0}),children:s.jsx(hce,{})}),children:[s.jsx(me,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(me,{path:"list-views",element:s.jsx(Ij,{})}),s.jsx(me,{path:"rescan-widget",element:s.jsx(Pj,{})}),s.jsx(me,{path:"upload-sim",element:s.jsx(Lj,{})}),s.jsx(me,{path:"theme-maker",element:s.jsx(Cj,{})}),s.jsx(me,{path:"theme-maker-pro",element:s.jsx(Aj,{})}),s.jsx(me,{path:"am-rune-bonuses-demos",element:s.jsx(cde,{})}),s.jsx(me,{path:"templates/content-shell",element:s.jsx(sue,{})}),s.jsx(me,{path:"templates/blank",element:s.jsx(rue,{})}),s.jsx(me,{path:"templates/blank-alt",element:s.jsx(aue,{})}),s.jsx(me,{path:"templates/blank-layout-2",element:s.jsx(due,{})}),s.jsx(me,{path:"templates/blank-layout-3",element:s.jsx(hue,{})}),s.jsx(me,{path:"templates/blank-layout-4",element:s.jsx(mue,{})}),s.jsx(me,{path:"portrait-maker",element:s.jsx(Jde,{})}),s.jsx(me,{path:"hud",element:s.jsx(dde,{})}),s.jsx(me,{path:"hud/game-buttons",element:s.jsx(Fde,{})}),s.jsx(me,{path:"core-ui/theme-maker",element:s.jsx(Cj,{})}),s.jsx(me,{path:"core-ui/theme-maker-pro",element:s.jsx(Aj,{})}),s.jsx(me,{path:"core-ui/list-views",element:s.jsx(Ij,{})}),s.jsx(me,{path:"sync/rescan",element:s.jsx(Pj,{})}),s.jsx(me,{path:"upload/sim",element:s.jsx(Lj,{})}),s.jsx(me,{path:"import/har",element:s.jsx(xue,{})}),s.jsx(me,{path:"import/json-csv",element:s.jsx(_ue,{})}),s.jsx(me,{path:"import/schema",element:s.jsx(Nue,{})}),s.jsx(me,{path:"hubs/player-contained",element:s.jsx(Aue,{})}),s.jsx(me,{path:"hubs/guilds",element:s.jsx(Pue,{})}),s.jsx(me,{path:"hubs/servers",element:s.jsx(Fue,{})}),s.jsx(me,{path:"rankings/views",element:s.jsx(Oue,{})}),s.jsx(me,{path:"analytics/kpi",element:s.jsx(Hue,{})}),s.jsx(me,{path:"analytics/progression",element:s.jsx(Que,{})}),s.jsx(me,{path:"analytics/legendary-pets",element:s.jsx(Zue,{})}),s.jsx(me,{path:"community/scans",element:s.jsx(nhe,{})}),s.jsx(me,{path:"community/creators",element:s.jsx(ohe,{})}),s.jsx(me,{path:"feedback/form",element:s.jsx(uhe,{})}),s.jsx(me,{path:"feedback/admin",element:s.jsx(fhe,{})}),s.jsx(me,{path:"help/tutorials",element:s.jsx(yhe,{})}),s.jsx(me,{path:"help/wiki",element:s.jsx(jhe,{})}),s.jsx(me,{path:"legal/tos",element:s.jsx(Ihe,{})}),s.jsx(me,{path:"legal/transparency",element:s.jsx(Dhe,{})}),s.jsx(me,{path:"settings",element:s.jsx(Che,{})}),s.jsx(me,{path:"pwa/update",element:s.jsx($he,{})}),s.jsx(me,{path:"pwa/install",element:s.jsx(zhe,{})}),s.jsx(me,{path:"connect/manual",element:s.jsx(qhe,{})}),s.jsx(me,{path:"connect/userscript",element:s.jsx(Yhe,{})}),s.jsx(me,{path:"interop/exports",element:s.jsx(tme,{})}),s.jsx(me,{path:"interop/deeplinks",element:s.jsx(ime,{})}),s.jsx(me,{path:"admin/servers",element:s.jsx(cme,{})}),s.jsx(me,{path:"admin/jobs",element:s.jsx(mme,{})}),s.jsx(me,{path:"admin/flags",element:s.jsx(xme,{})}),s.jsx(me,{path:"perf/table-lab",element:s.jsx(_me,{})}),s.jsx(me,{path:"mobile/filters",element:s.jsx(Nme,{})}),s.jsx(me,{path:"qa/a11y",element:s.jsx(Ame,{})})]}),s.jsx(me,{path:"/latest-scan",element:s.jsx(um,{to:"/scans/latest",replace:!0})}),s.jsx(me,{path:"/old-scans",element:s.jsx(um,{to:"/scans/archive",replace:!0})}),s.jsx(me,{path:"/favorites",element:Nn()}),s.jsx(me,{path:"/notifications",element:Nn()}),s.jsx(me,{path:"/guilds/planner",element:Nn()}),s.jsx(me,{path:"/guilds/fusion",element:Nn()}),s.jsx(me,{path:"/guilds/academy",element:Nn()}),s.jsx(me,{path:"/toplists/players",element:Nn()}),s.jsx(me,{path:"/toplists/guilds",element:Nn()}),s.jsx(me,{path:"/toplists/servers",element:Nn()}),s.jsx(me,{path:"/settings/profile",element:Nn()}),s.jsx(me,{path:"/settings/appearance",element:Nn()}),s.jsx(me,{path:"/players/search",element:Nn()}),s.jsx(me,{path:"/servers/list",element:Nn()}),s.jsx(me,{path:"/servers/trend",element:Nn()}),s.jsx(me,{path:"/scans/upload",element:Nn()}),s.jsx(me,{path:"/scans/history",element:Nn()}),s.jsx(me,{path:"*",element:s.jsx(um,{to:"/",replace:!0})})]})})}),s.jsx(lpe,{})]})})})}));
