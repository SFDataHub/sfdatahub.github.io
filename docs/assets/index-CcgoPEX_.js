import oS from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ny(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kg={exports:{}},Cd={},Qg={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function u4(){if(Zb)return ft;Zb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function R(G,se,de){this.props=G,this.context=se,this.refs=P,this.updater=de||w}R.prototype.isReactComponent={},R.prototype.setState=function(G,se){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,se,"setState")},R.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function B(){}B.prototype=R.prototype;function L(G,se,de){this.props=G,this.context=se,this.refs=P,this.updater=de||w}var T=L.prototype=new B;T.constructor=L,S(T,R.prototype),T.isPureReactComponent=!0;var y=Array.isArray,j=Object.prototype.hasOwnProperty,M={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function _(G,se,de){var ee,fe={},Te=null,xe=null;if(se!=null)for(ee in se.ref!==void 0&&(xe=se.ref),se.key!==void 0&&(Te=""+se.key),se)j.call(se,ee)&&!C.hasOwnProperty(ee)&&(fe[ee]=se[ee]);var Ce=arguments.length-2;if(Ce===1)fe.children=de;else if(1<Ce){for(var Ne=Array(Ce),ue=0;ue<Ce;ue++)Ne[ue]=arguments[ue+2];fe.children=Ne}if(G&&G.defaultProps)for(ee in Ce=G.defaultProps,Ce)fe[ee]===void 0&&(fe[ee]=Ce[ee]);return{$$typeof:t,type:G,key:Te,ref:xe,props:fe,_owner:M.current}}function A(G,se){return{$$typeof:t,type:G.type,key:se,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function I(G){var se={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(de){return se[de]})}var V=/\/+/g;function $(G,se){return typeof G=="object"&&G!==null&&G.key!=null?I(""+G.key):se.toString(36)}function W(G,se,de,ee,fe){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var xe=!1;if(G===null)xe=!0;else switch(Te){case"string":case"number":xe=!0;break;case"object":switch(G.$$typeof){case t:case e:xe=!0}}if(xe)return xe=G,fe=fe(xe),G=ee===""?"."+$(xe,0):ee,y(fe)?(de="",G!=null&&(de=G.replace(V,"$&/")+"/"),W(fe,se,de,"",function(ue){return ue})):fe!=null&&(D(fe)&&(fe=A(fe,de+(!fe.key||xe&&xe.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+G)),se.push(fe)),1;if(xe=0,ee=ee===""?".":ee+":",y(G))for(var Ce=0;Ce<G.length;Ce++){Te=G[Ce];var Ne=ee+$(Te,Ce);xe+=W(Te,se,de,Ne,fe)}else if(Ne=v(G),typeof Ne=="function")for(G=Ne.call(G),Ce=0;!(Te=G.next()).done;)Te=Te.value,Ne=ee+$(Te,Ce++),xe+=W(Te,se,de,Ne,fe);else if(Te==="object")throw se=String(G),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return xe}function z(G,se,de){if(G==null)return G;var ee=[],fe=0;return W(G,ee,"","",function(Te){return se.call(de,Te,fe++)}),ee}function q(G){if(G._status===-1){var se=G._result;se=se(),se.then(function(de){(G._status===0||G._status===-1)&&(G._status=1,G._result=de)},function(de){(G._status===0||G._status===-1)&&(G._status=2,G._result=de)}),G._status===-1&&(G._status=0,G._result=se)}if(G._status===1)return G._result.default;throw G._result}var Q={current:null},H={transition:null},te={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:H,ReactCurrentOwner:M};function re(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:z,forEach:function(G,se,de){z(G,function(){se.apply(this,arguments)},de)},count:function(G){var se=0;return z(G,function(){se++}),se},toArray:function(G){return z(G,function(se){return se})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ft.Component=R,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=L,ft.StrictMode=r,ft.Suspense=u,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ft.act=re,ft.cloneElement=function(G,se,de){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ee=S({},G.props),fe=G.key,Te=G.ref,xe=G._owner;if(se!=null){if(se.ref!==void 0&&(Te=se.ref,xe=M.current),se.key!==void 0&&(fe=""+se.key),G.type&&G.type.defaultProps)var Ce=G.type.defaultProps;for(Ne in se)j.call(se,Ne)&&!C.hasOwnProperty(Ne)&&(ee[Ne]=se[Ne]===void 0&&Ce!==void 0?Ce[Ne]:se[Ne])}var Ne=arguments.length-2;if(Ne===1)ee.children=de;else if(1<Ne){Ce=Array(Ne);for(var ue=0;ue<Ne;ue++)Ce[ue]=arguments[ue+2];ee.children=Ce}return{$$typeof:t,type:G.type,key:fe,ref:Te,props:ee,_owner:xe}},ft.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},ft.createElement=_,ft.createFactory=function(G){var se=_.bind(null,G);return se.type=G,se},ft.createRef=function(){return{current:null}},ft.forwardRef=function(G){return{$$typeof:d,render:G}},ft.isValidElement=D,ft.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:q}},ft.memo=function(G,se){return{$$typeof:m,type:G,compare:se===void 0?null:se}},ft.startTransition=function(G){var se=H.transition;H.transition={};try{G()}finally{H.transition=se}},ft.unstable_act=re,ft.useCallback=function(G,se){return Q.current.useCallback(G,se)},ft.useContext=function(G){return Q.current.useContext(G)},ft.useDebugValue=function(){},ft.useDeferredValue=function(G){return Q.current.useDeferredValue(G)},ft.useEffect=function(G,se){return Q.current.useEffect(G,se)},ft.useId=function(){return Q.current.useId()},ft.useImperativeHandle=function(G,se,de){return Q.current.useImperativeHandle(G,se,de)},ft.useInsertionEffect=function(G,se){return Q.current.useInsertionEffect(G,se)},ft.useLayoutEffect=function(G,se){return Q.current.useLayoutEffect(G,se)},ft.useMemo=function(G,se){return Q.current.useMemo(G,se)},ft.useReducer=function(G,se,de){return Q.current.useReducer(G,se,de)},ft.useRef=function(G){return Q.current.useRef(G)},ft.useState=function(G){return Q.current.useState(G)},ft.useSyncExternalStore=function(G,se,de){return Q.current.useSyncExternalStore(G,se,de)},ft.useTransition=function(){return Q.current.useTransition()},ft.version="18.3.1",ft}var e_;function ry(){return e_||(e_=1,Qg.exports=u4()),Qg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function h4(){if(t_)return Cd;t_=1;var t=ry(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,m){var p,x={},v=null,w=null;m!==void 0&&(v=""+m),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(p in u)r.call(u,p)&&!o.hasOwnProperty(p)&&(x[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)x[p]===void 0&&(x[p]=u[p]);return{$$typeof:e,type:d,key:v,ref:w,props:x,_owner:i.current}}return Cd.Fragment=n,Cd.jsx=c,Cd.jsxs=c,Cd}var s_;function m4(){return s_||(s_=1,Kg.exports=h4()),Kg.exports}var s=m4(),E=ry();const J=ny(E);var fm={},Xg={exports:{}},Un={},Yg={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function p4(){return n_||(n_=1,(function(t){function e(H,te){var re=H.length;H.push(te);e:for(;0<re;){var G=re-1>>>1,se=H[G];if(0<i(se,te))H[G]=te,H[re]=se,re=G;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],re=H.pop();if(re!==te){H[0]=re;e:for(var G=0,se=H.length,de=se>>>1;G<de;){var ee=2*(G+1)-1,fe=H[ee],Te=ee+1,xe=H[Te];if(0>i(fe,re))Te<se&&0>i(xe,fe)?(H[G]=xe,H[Te]=re,G=Te):(H[G]=fe,H[ee]=re,G=ee);else if(Te<se&&0>i(xe,re))H[G]=xe,H[Te]=re,G=Te;else break e}}return te}function i(H,te){var re=H.sortIndex-te.sortIndex;return re!==0?re:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var u=[],m=[],p=1,x=null,v=3,w=!1,S=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var te=n(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=H)r(m),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(m)}}function y(H){if(P=!1,T(H),!S)if(n(u)!==null)S=!0,q(j);else{var te=n(m);te!==null&&Q(y,te.startTime-H)}}function j(H,te){S=!1,P&&(P=!1,B(_),_=-1),w=!0;var re=v;try{for(T(te),x=n(u);x!==null&&(!(x.expirationTime>te)||H&&!I());){var G=x.callback;if(typeof G=="function"){x.callback=null,v=x.priorityLevel;var se=G(x.expirationTime<=te);te=t.unstable_now(),typeof se=="function"?x.callback=se:x===n(u)&&r(u),T(te)}else r(u);x=n(u)}if(x!==null)var de=!0;else{var ee=n(m);ee!==null&&Q(y,ee.startTime-te),de=!1}return de}finally{x=null,v=re,w=!1}}var M=!1,C=null,_=-1,A=5,D=-1;function I(){return!(t.unstable_now()-D<A)}function V(){if(C!==null){var H=t.unstable_now();D=H;var te=!0;try{te=C(!0,H)}finally{te?$():(M=!1,C=null)}}else M=!1}var $;if(typeof L=="function")$=function(){L(V)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,z=W.port2;W.port1.onmessage=V,$=function(){z.postMessage(null)}}else $=function(){R(V,0)};function q(H){C=H,M||(M=!0,$())}function Q(H,te){_=R(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,q(j))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var re=v;v=te;try{return H()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=v;v=H;try{return te()}finally{v=re}},t.unstable_scheduleCallback=function(H,te,re){var G=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?G+re:G):re=G,H){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,H={id:p++,callback:te,priorityLevel:H,startTime:re,expirationTime:se,sortIndex:-1},re>G?(H.sortIndex=re,e(m,H),n(u)===null&&H===n(m)&&(P?(B(_),_=-1):P=!0,Q(y,re-G))):(H.sortIndex=se,e(u,H),S||w||(S=!0,q(j))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var te=v;return function(){var re=v;v=te;try{return H.apply(this,arguments)}finally{v=re}}}})(Jg)),Jg}var r_;function f4(){return r_||(r_=1,Yg.exports=p4()),Yg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function g4(){if(i_)return Un;i_=1;var t=ry(),e=f4();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function v(a){return u.call(x,a)?!0:u.call(p,a)?!1:m.test(a)?x[a]=!0:(p[a]=!0,!1)}function w(a,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,h,g){if(l===null||typeof l=="undefined"||w(a,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(a,l,h,g,b,k,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=k,this.removeEmptyString=O}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){R[a]=new P(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];R[l]=new P(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){R[a]=new P(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){R[a]=new P(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){R[a]=new P(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){R[a]=new P(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){R[a]=new P(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){R[a]=new P(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){R[a]=new P(a,5,!1,a.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function L(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(B,L);R[l]=new P(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(B,L);R[l]=new P(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(B,L);R[l]=new P(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){R[a]=new P(a,1,!1,a.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){R[a]=new P(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,l,h,g){var b=R.hasOwnProperty(l)?R[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,h,b,g)&&(h=null),g||b===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):b.mustUseProperty?a[b.propertyName]=h===null?b.type===3?!1:"":h:(l=b.attributeName,g=b.attributeNamespace,h===null?a.removeAttribute(l):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?a.setAttributeNS(g,l,h):a.setAttribute(l,h))))}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),I=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),H=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var re=Object.assign,G;function se(a){if(G===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+a}var de=!1;function ee(a,l){if(!a||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ce){var g=ce}Reflect.construct(a,[],l)}else{try{l.call()}catch(ce){g=ce}a.call(l.prototype)}else{try{throw Error()}catch(ce){g=ce}a()}}catch(ce){if(ce&&g&&typeof ce.stack=="string"){for(var b=ce.stack.split(`
`),k=g.stack.split(`
`),O=b.length-1,K=k.length-1;1<=O&&0<=K&&b[O]!==k[K];)K--;for(;1<=O&&0<=K;O--,K--)if(b[O]!==k[K]){if(O!==1||K!==1)do if(O--,K--,0>K||b[O]!==k[K]){var X=`
`+b[O].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=O&&0<=K);break}}}finally{de=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?se(a):""}function fe(a){switch(a.tag){case 5:return se(a.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function Te(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case M:return"Portal";case A:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case D:return(a._context.displayName||"Context")+".Provider";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return l=a.displayName||null,l!==null?l:Te(a.type)||"Memo";case q:l=a._payload,a=a._init;try{return Te(a(l))}catch(h){}}return null}function xe(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(l);case 8:return l===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ce(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ne(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(a){var l=Ne(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof h!="undefined"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,k=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){g=""+O,k.call(this,O)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function De(a){a._valueTracker||(a._valueTracker=ue(a))}function Ee(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return a&&(g=Ne(a)?a.checked?"true":"false":a.value),a=g,a!==h?(l.setValue(a),!0):!1}function st(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(l){return a.body}}function ut(a,l){var h=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h!=null?h:a._wrapperState.initialChecked})}function ss(a,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Ce(l.value!=null?l.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Hs(a,l){l=l.checked,l!=null&&T(a,"checked",l,!1)}function Gs(a,l){Hs(a,l);var h=Ce(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Ws(a,l.type,h):l.hasOwnProperty("defaultValue")&&Ws(a,l.type,Ce(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Pn(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Ws(a,l,h){(l!=="number"||st(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Ls=Array.isArray;function Ds(a,l,h,g){if(a=a.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=l.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Ce(h),l=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Ln(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function vn(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Ls(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:Ce(h)}}function yn(a,l){var h=Ce(l.value),g=Ce(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function ds(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Xt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Xt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Dt,ai=(function(a){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(l,h,g,b){MSApp.execUnsafeLocalFunction(function(){return a(l,h,g,b)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Dt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Xn(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pr=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(a){pr.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),mr[l]=mr[a]})});function oi(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||mr.hasOwnProperty(a)&&mr[a]?(""+l).trim():l+"px"}function Ti(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=oi(h,l[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,b):a[h]=b}}var li=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dr(a,l){if(l){if(li[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Wt(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=null;function Ai(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ei=null,bn=null,Yn=null;function Ii(a){if(a=hd(a)){if(typeof Ei!="function")throw Error(n(280));var l=a.stateNode;l&&(l=Eh(l),Ei(a.stateNode,a.type,l))}}function Jn(a){bn?Yn?Yn.push(a):Yn=[a]:bn=a}function zc(){if(bn){var a=bn,l=Yn;if(Yn=bn=null,Ii(a),l)for(a=0;a<l.length;a++)Ii(l[a])}}function no(a,l){return a(l)}function Hc(){}var Ri=!1;function Gc(a,l,h){if(Ri)return a(l,h);Ri=!0;try{return no(a,l,h)}finally{Ri=!1,(bn!==null||Yn!==null)&&(Hc(),zc())}}function gs(a,l){var h=a.stateNode;if(h===null)return null;var g=Eh(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var hl=!1;if(d)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch(a){hl=!1}function ro(a,l,h,g,b,k,O,K,X){var ce=Array.prototype.slice.call(arguments,3);try{l.apply(h,ce)}catch(ye){this.onError(ye)}}var io=!1,ml=null,Fr=!1,Wc=null,wf={onError:function(a){io=!0,ml=a}};function pl(a,l,h,g,b,k,O,K,X){io=!1,ml=null,ro.apply(wf,arguments)}function th(a,l,h,g,b,k,O,K,X){if(pl.apply(this,arguments),io){if(io){var ce=ml;io=!1,ml=null}else throw Error(n(198));Fr||(Fr=!0,Wc=ce)}}function Br(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function ao(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function $r(a){if(Br(a)!==a)throw Error(n(188))}function sh(a){var l=a.alternate;if(!l){if(l=Br(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,g=l;;){var b=h.return;if(b===null)break;var k=b.alternate;if(k===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===h)return $r(b),a;if(k===g)return $r(b),l;k=k.sibling}throw Error(n(188))}if(h.return!==g.return)h=b,g=k;else{for(var O=!1,K=b.child;K;){if(K===h){O=!0,h=b,g=k;break}if(K===g){O=!0,g=b,h=k;break}K=K.sibling}if(!O){for(K=k.child;K;){if(K===h){O=!0,h=k,g=b;break}if(K===g){O=!0,g=k,h=b;break}K=K.sibling}if(!O)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function qc(a){return a=sh(a),a!==null?fl(a):null}function fl(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=fl(a);if(l!==null)return l;a=a.sibling}return null}var gl=e.unstable_scheduleCallback,Kc=e.unstable_cancelCallback,nh=e.unstable_shouldYield,jf=e.unstable_requestPaint,Vt=e.unstable_now,rh=e.unstable_getCurrentPriorityLevel,oo=e.unstable_ImmediatePriority,ha=e.unstable_UserBlockingPriority,gr=e.unstable_NormalPriority,Qc=e.unstable_LowPriority,ih=e.unstable_IdlePriority,lo=null,Zn=null;function ah(a){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(lo,a,void 0,(a.current.flags&128)===128)}catch(l){}}var _n=Math.clz32?Math.clz32:lh,Xc=Math.log,oh=Math.LN2;function lh(a){return a>>>=0,a===0?32:31-(Xc(a)/oh|0)|0}var xl=64,vl=4194304;function ma(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function co(a,l){var h=a.pendingLanes;if(h===0)return 0;var g=0,b=a.suspendedLanes,k=a.pingedLanes,O=h&268435455;if(O!==0){var K=O&~b;K!==0?g=ma(K):(k&=O,k!==0&&(g=ma(k)))}else O=h&~b,O!==0?g=ma(O):k!==0&&(g=ma(k));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,k=l&-l,b>=k||b===16&&(k&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)h=31-_n(l),b=1<<h,g|=a[h],l&=~b;return g}function Sf(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(a,l){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,k=a.pendingLanes;0<k;){var O=31-_n(k),K=1<<O,X=b[O];X===-1?((K&h)===0||(K&g)!==0)&&(b[O]=Sf(K,l)):X<=l&&(a.expiredLanes|=K),k&=~K}}function er(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function uo(){var a=xl;return xl<<=1,(xl&4194240)===0&&(xl=64),a}function pa(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function fa(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-_n(l),a[l]=h}function Ft(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var b=31-_n(h),k=1<<b;l[b]=0,g[b]=-1,a[b]=-1,h&=~k}}function ga(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var g=31-_n(h),b=1<<g;b&l|a[g]&l&&(a[g]|=l),h&=~b}}var wt=0;function xa(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ch,yl,dh,uh,hh,Yc=!1,ci=[],qs=null,Vr=null,Or=null,va=new Map,xr=new Map,di=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mh(a,l){switch(a){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":va.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(l.pointerId)}}function Dn(a,l,h,g,b,k){return a===null||a.nativeEvent!==k?(a={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:k,targetContainers:[b]},l!==null&&(l=hd(l),l!==null&&yl(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function kf(a,l,h,g,b){switch(l){case"focusin":return qs=Dn(qs,a,l,h,g,b),!0;case"dragenter":return Vr=Dn(Vr,a,l,h,g,b),!0;case"mouseover":return Or=Dn(Or,a,l,h,g,b),!0;case"pointerover":var k=b.pointerId;return va.set(k,Dn(va.get(k)||null,a,l,h,g,b)),!0;case"gotpointercapture":return k=b.pointerId,xr.set(k,Dn(xr.get(k)||null,a,l,h,g,b)),!0}return!1}function ph(a){var l=go(a.target);if(l!==null){var h=Br(l);if(h!==null){if(l=h.tag,l===13){if(l=ao(h),l!==null){a.blockedOn=l,hh(a.priority,function(){dh(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Li(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=bl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);fr=g,h.target.dispatchEvent(g),fr=null}else return l=hd(h),l!==null&&yl(l),a.blockedOn=h,!1;l.shift()}return!0}function ho(a,l,h){Li(a)&&h.delete(l)}function fh(){Yc=!1,qs!==null&&Li(qs)&&(qs=null),Vr!==null&&Li(Vr)&&(Vr=null),Or!==null&&Li(Or)&&(Or=null),va.forEach(ho),xr.forEach(ho)}function Ur(a,l){a.blockedOn===l&&(a.blockedOn=null,Yc||(Yc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fh)))}function zr(a){function l(b){return Ur(b,a)}if(0<ci.length){Ur(ci[0],a);for(var h=1;h<ci.length;h++){var g=ci[h];g.blockedOn===a&&(g.blockedOn=null)}}for(qs!==null&&Ur(qs,a),Vr!==null&&Ur(Vr,a),Or!==null&&Ur(Or,a),va.forEach(l),xr.forEach(l),h=0;h<di.length;h++)g=di[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<di.length&&(h=di[0],h.blockedOn===null);)ph(h),h.blockedOn===null&&di.shift()}var Di=y.ReactCurrentBatchConfig,ya=!0;function Yt(a,l,h,g){var b=wt,k=Di.transition;Di.transition=null;try{wt=1,Jc(a,l,h,g)}finally{wt=b,Di.transition=k}}function Cf(a,l,h,g){var b=wt,k=Di.transition;Di.transition=null;try{wt=4,Jc(a,l,h,g)}finally{wt=b,Di.transition=k}}function Jc(a,l,h,g){if(ya){var b=bl(a,l,h,g);if(b===null)Bf(a,l,g,mo,h),mh(a,g);else if(kf(b,a,l,h,g))g.stopPropagation();else if(mh(a,g),l&4&&-1<Nf.indexOf(a)){for(;b!==null;){var k=hd(b);if(k!==null&&ch(k),k=bl(a,l,h,g),k===null&&Bf(a,l,g,mo,h),k===b)break;b=k}b!==null&&g.stopPropagation()}else Bf(a,l,g,null,h)}}var mo=null;function bl(a,l,h,g){if(mo=null,a=Ai(g),a=go(a),a!==null)if(l=Br(a),l===null)a=null;else if(h=l.tag,h===13){if(a=ao(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return mo=a,null}function Zc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rh()){case oo:return 1;case ha:return 4;case gr:case Qc:return 16;case ih:return 536870912;default:return 16}default:return 16}}var tr=null,_l=null,Mn=null;function ed(){if(Mn)return Mn;var a,l=_l,h=l.length,g,b="value"in tr?tr.value:tr.textContent,k=b.length;for(a=0;a<h&&l[a]===b[a];a++);var O=h-a;for(g=1;g<=O&&l[h-g]===b[k-g];g++);return Mn=b.slice(a,1<g?1-g:void 0)}function wl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ui(){return!0}function td(){return!1}function Ks(a){function l(h,g,b,k,O){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var K in a)a.hasOwnProperty(K)&&(h=a[K],this[K]=h?h(k):k[K]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?ui:td,this.isPropagationStopped=td,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),l}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Ks(Hr),hi=re({},Hr,{view:0,detail:0}),Tf=Ks(hi),Sl,Mi,ba,po=re({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ba&&(ba&&a.type==="mousemove"?(Sl=a.screenX-ba.screenX,Mi=a.screenY-ba.screenY):Mi=Sl=0,ba=a),Sl)},movementY:function(a){return"movementY"in a?a.movementY:Mi}}),Nl=Ks(po),sd=re({},po,{dataTransfer:0}),gh=Ks(sd),kl=re({},hi,{relatedTarget:0}),Cl=Ks(kl),xh=re({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fi=Ks(xh),vh=re({},Hr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),yh=Ks(vh),bh=re({},Hr,{data:0}),nd=Ks(bh),Tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=_h[a])?!!l[a]:!1}function mi(){return wh}var f=re({},hi,{key:function(a){if(a.key){var l=Tl[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=wl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wn[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(a){return a.type==="keypress"?wl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),N=Ks(f),F=re({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Ks(F),ae=re({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),he=Ks(ae),Re=re({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pt=Ks(Re),As=re({},po,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),St=Ks(As),Ms=[9,13,27,32],_s=d&&"CompositionEvent"in window,vr=null;d&&"documentMode"in document&&(vr=document.documentMode);var sr=d&&"TextEvent"in window&&!vr,fo=d&&(!_s||vr&&8<vr&&11>=vr),Al=" ",q0=!1;function K0(a,l){switch(a){case"keyup":return Ms.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var El=!1;function lC(a,l){switch(a){case"compositionend":return Q0(l);case"keypress":return l.which!==32?null:(q0=!0,Al);case"textInput":return a=l.data,a===Al&&q0?null:a;default:return null}}function cC(a,l){if(El)return a==="compositionend"||!_s&&K0(a,l)?(a=ed(),Mn=_l=tr=null,El=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return fo&&l.locale!=="ko"?null:l.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!dC[a.type]:l==="textarea"}function Y0(a,l,h,g){Jn(g),l=Ch(l,"onChange"),0<l.length&&(h=new jl("onChange","change",null,h,g),a.push({event:h,listeners:l}))}var rd=null,id=null;function uC(a){f1(a,0)}function jh(a){var l=Dl(a);if(Ee(l))return a}function hC(a,l){if(a==="change")return l}var J0=!1;if(d){var Af;if(d){var Ef="oninput"in document;if(!Ef){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),Ef=typeof Z0.oninput=="function"}Af=Ef}else Af=!1;J0=Af&&(!document.documentMode||9<document.documentMode)}function e1(){rd&&(rd.detachEvent("onpropertychange",t1),id=rd=null)}function t1(a){if(a.propertyName==="value"&&jh(id)){var l=[];Y0(l,id,a,Ai(a)),Gc(uC,l)}}function mC(a,l,h){a==="focusin"?(e1(),rd=l,id=h,rd.attachEvent("onpropertychange",t1)):a==="focusout"&&e1()}function pC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jh(id)}function fC(a,l){if(a==="click")return jh(l)}function gC(a,l){if(a==="input"||a==="change")return jh(l)}function xC(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Gr=typeof Object.is=="function"?Object.is:xC;function ad(a,l){if(Gr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!u.call(l,b)||!Gr(a[b],l[b]))return!1}return!0}function s1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function n1(a,l){var h=s1(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=l&&g>=l)return{node:h,offset:l-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=s1(h)}}function r1(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?r1(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function i1(){for(var a=window,l=st();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch(g){h=!1}if(h)a=l.contentWindow;else break;l=st(a.document)}return l}function If(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function vC(a){var l=i1(),h=a.focusedElem,g=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&r1(h.ownerDocument.documentElement,h)){if(g!==null&&If(h)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=h.textContent.length,k=Math.min(g.start,b);g=g.end===void 0?k:Math.min(g.end,b),!a.extend&&k>g&&(b=g,g=k,k=b),b=n1(h,k);var O=n1(h,g);b&&O&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==O.node||a.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),k>g?(a.addRange(l),a.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var yC=d&&"documentMode"in document&&11>=document.documentMode,Il=null,Rf=null,od=null,Pf=!1;function a1(a,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Pf||Il==null||Il!==st(g)||(g=Il,"selectionStart"in g&&If(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),od&&ad(od,g)||(od=g,g=Ch(Rf,"onSelect"),0<g.length&&(l=new jl("onSelect","select",null,l,h),a.push({event:l,listeners:g}),l.target=Il)))}function Sh(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Rl={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Lf={},o1={};d&&(o1=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Nh(a){if(Lf[a])return Lf[a];if(!Rl[a])return a;var l=Rl[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in o1)return Lf[a]=l[h];return a}var l1=Nh("animationend"),c1=Nh("animationiteration"),d1=Nh("animationstart"),u1=Nh("transitionend"),h1=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(a,l){h1.set(a,l),o(l,[a])}for(var Df=0;Df<m1.length;Df++){var Mf=m1[Df],bC=Mf.toLowerCase(),_C=Mf[0].toUpperCase()+Mf.slice(1);_a(bC,"on"+_C)}_a(l1,"onAnimationEnd"),_a(c1,"onAnimationIteration"),_a(d1,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(u1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function p1(a,l,h){var g=a.type||"unknown-event";a.currentTarget=h,th(g,l,void 0,a),a.currentTarget=null}function f1(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var k=void 0;if(l)for(var O=g.length-1;0<=O;O--){var K=g[O],X=K.instance,ce=K.currentTarget;if(K=K.listener,X!==k&&b.isPropagationStopped())break e;p1(b,K,ce),k=X}else for(O=0;O<g.length;O++){if(K=g[O],X=K.instance,ce=K.currentTarget,K=K.listener,X!==k&&b.isPropagationStopped())break e;p1(b,K,ce),k=X}}}if(Fr)throw a=Wc,Fr=!1,Wc=null,a}function qt(a,l){var h=l[Hf];h===void 0&&(h=l[Hf]=new Set);var g=a+"__bubble";h.has(g)||(g1(l,a,2,!1),h.add(g))}function Ff(a,l,h){var g=0;l&&(g|=4),g1(h,a,g,l)}var kh="_reactListening"+Math.random().toString(36).slice(2);function cd(a){if(!a[kh]){a[kh]=!0,r.forEach(function(h){h!=="selectionchange"&&(wC.has(h)||Ff(h,!1,a),Ff(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[kh]||(l[kh]=!0,Ff("selectionchange",!1,l))}}function g1(a,l,h,g){switch(Zc(l)){case 1:var b=Yt;break;case 4:b=Cf;break;default:b=Jc}h=b.bind(null,l,h,a),b=void 0,!hl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(l,h,{capture:!0,passive:b}):a.addEventListener(l,h,!0):b!==void 0?a.addEventListener(l,h,{passive:b}):a.addEventListener(l,h,!1)}function Bf(a,l,h,g,b){var k=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var K=g.stateNode.containerInfo;if(K===b||K.nodeType===8&&K.parentNode===b)break;if(O===4)for(O=g.return;O!==null;){var X=O.tag;if((X===3||X===4)&&(X=O.stateNode.containerInfo,X===b||X.nodeType===8&&X.parentNode===b))return;O=O.return}for(;K!==null;){if(O=go(K),O===null)return;if(X=O.tag,X===5||X===6){g=k=O;continue e}K=K.parentNode}}g=g.return}Gc(function(){var ce=k,ye=Ai(h),je=[];e:{var ve=h1.get(a);if(ve!==void 0){var Fe=jl,Ve=a;switch(a){case"keypress":if(wl(h)===0)break e;case"keydown":case"keyup":Fe=N;break;case"focusin":Ve="focus",Fe=Cl;break;case"focusout":Ve="blur",Fe=Cl;break;case"beforeblur":case"afterblur":Fe=Cl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=he;break;case l1:case c1:case d1:Fe=Fi;break;case u1:Fe=Pt;break;case"scroll":Fe=Tf;break;case"wheel":Fe=St;break;case"copy":case"cut":case"paste":Fe=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=U}var Oe=(l&4)!==0,xs=!Oe&&a==="scroll",oe=Oe?ve!==null?ve+"Capture":null:ve;Oe=[];for(var Z=ce,le;Z!==null;){le=Z;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,oe!==null&&(ke=gs(Z,oe),ke!=null&&Oe.push(dd(Z,ke,le)))),xs)break;Z=Z.return}0<Oe.length&&(ve=new Fe(ve,Ve,null,h,ye),je.push({event:ve,listeners:Oe}))}}if((l&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",Fe=a==="mouseout"||a==="pointerout",ve&&h!==fr&&(Ve=h.relatedTarget||h.fromElement)&&(go(Ve)||Ve[Bi]))break e;if((Fe||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Fe?(Ve=h.relatedTarget||h.toElement,Fe=ce,Ve=Ve?go(Ve):null,Ve!==null&&(xs=Br(Ve),Ve!==xs||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Fe=null,Ve=ce),Fe!==Ve)){if(Oe=Nl,ke="onMouseLeave",oe="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=U,ke="onPointerLeave",oe="onPointerEnter",Z="pointer"),xs=Fe==null?ve:Dl(Fe),le=Ve==null?ve:Dl(Ve),ve=new Oe(ke,Z+"leave",Fe,h,ye),ve.target=xs,ve.relatedTarget=le,ke=null,go(ye)===ce&&(Oe=new Oe(oe,Z+"enter",Ve,h,ye),Oe.target=le,Oe.relatedTarget=xs,ke=Oe),xs=ke,Fe&&Ve)t:{for(Oe=Fe,oe=Ve,Z=0,le=Oe;le;le=Pl(le))Z++;for(le=0,ke=oe;ke;ke=Pl(ke))le++;for(;0<Z-le;)Oe=Pl(Oe),Z--;for(;0<le-Z;)oe=Pl(oe),le--;for(;Z--;){if(Oe===oe||oe!==null&&Oe===oe.alternate)break t;Oe=Pl(Oe),oe=Pl(oe)}Oe=null}else Oe=null;Fe!==null&&x1(je,ve,Fe,Oe,!1),Ve!==null&&xs!==null&&x1(je,xs,Ve,Oe,!0)}}e:{if(ve=ce?Dl(ce):window,Fe=ve.nodeName&&ve.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ve.type==="file")var He=hC;else if(X0(ve))if(J0)He=gC;else{He=pC;var Ke=mC}else(Fe=ve.nodeName)&&Fe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(He=fC);if(He&&(He=He(a,ce))){Y0(je,He,h,ye);break e}Ke&&Ke(a,ve,ce),a==="focusout"&&(Ke=ve._wrapperState)&&Ke.controlled&&ve.type==="number"&&Ws(ve,"number",ve.value)}switch(Ke=ce?Dl(ce):window,a){case"focusin":(X0(Ke)||Ke.contentEditable==="true")&&(Il=Ke,Rf=ce,od=null);break;case"focusout":od=Rf=Il=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,a1(je,h,ye);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":a1(je,h,ye)}var Qe;if(_s)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else El?K0(a,h)&&(Je="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Je="onCompositionStart");Je&&(fo&&h.locale!=="ko"&&(El||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&El&&(Qe=ed()):(tr=ye,_l="value"in tr?tr.value:tr.textContent,El=!0)),Ke=Ch(ce,Je),0<Ke.length&&(Je=new nd(Je,a,null,h,ye),je.push({event:Je,listeners:Ke}),Qe?Je.data=Qe:(Qe=Q0(h),Qe!==null&&(Je.data=Qe)))),(Qe=sr?lC(a,h):cC(a,h))&&(ce=Ch(ce,"onBeforeInput"),0<ce.length&&(ye=new nd("onBeforeInput","beforeinput",null,h,ye),je.push({event:ye,listeners:ce}),ye.data=Qe))}f1(je,l)})}function dd(a,l,h){return{instance:a,listener:l,currentTarget:h}}function Ch(a,l){for(var h=l+"Capture",g=[];a!==null;){var b=a,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=gs(a,h),k!=null&&g.unshift(dd(a,k,b)),k=gs(a,l),k!=null&&g.push(dd(a,k,b))),a=a.return}return g}function Pl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function x1(a,l,h,g,b){for(var k=l._reactName,O=[];h!==null&&h!==g;){var K=h,X=K.alternate,ce=K.stateNode;if(X!==null&&X===g)break;K.tag===5&&ce!==null&&(K=ce,b?(X=gs(h,k),X!=null&&O.unshift(dd(h,X,K))):b||(X=gs(h,k),X!=null&&O.push(dd(h,X,K)))),h=h.return}O.length!==0&&a.push({event:l,listeners:O})}var jC=/\r\n?/g,SC=/\u0000|\uFFFD/g;function v1(a){return(typeof a=="string"?a:""+a).replace(jC,`
`).replace(SC,"")}function Th(a,l,h){if(l=v1(l),v1(a)!==l&&h)throw Error(n(425))}function Ah(){}var $f=null,Vf=null;function Of(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Uf=typeof setTimeout=="function"?setTimeout:void 0,NC=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof y1!="undefined"?function(a){return y1.resolve(null).then(a).catch(CC)}:Uf;function CC(a){setTimeout(function(){throw a})}function zf(a,l){var h=l,g=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){a.removeChild(b),zr(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);zr(l)}function wa(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function b1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),pi="__reactFiber$"+Ll,ud="__reactProps$"+Ll,Bi="__reactContainer$"+Ll,Hf="__reactEvents$"+Ll,TC="__reactListeners$"+Ll,AC="__reactHandles$"+Ll;function go(a){var l=a[pi];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Bi]||h[pi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=b1(a);a!==null;){if(h=a[pi])return h;a=b1(a)}return l}a=h,h=a.parentNode}return null}function hd(a){return a=a[pi]||a[Bi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Dl(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Eh(a){return a[ud]||null}var Gf=[],Ml=-1;function ja(a){return{current:a}}function Kt(a){0>Ml||(a.current=Gf[Ml],Gf[Ml]=null,Ml--)}function Ot(a,l){Ml++,Gf[Ml]=a.current,a.current=l}var Sa={},cn=ja(Sa),Fn=ja(!1),xo=Sa;function Fl(a,l){var h=a.type.contextTypes;if(!h)return Sa;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in h)b[k]=l[k];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function Bn(a){return a=a.childContextTypes,a!=null}function Ih(){Kt(Fn),Kt(cn)}function _1(a,l,h){if(cn.current!==Sa)throw Error(n(168));Ot(cn,l),Ot(Fn,h)}function w1(a,l,h){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(n(108,xe(a)||"Unknown",b));return re({},h,g)}function Rh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Sa,xo=cn.current,Ot(cn,a),Ot(Fn,Fn.current),!0}function j1(a,l,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=w1(a,l,xo),g.__reactInternalMemoizedMergedChildContext=a,Kt(Fn),Kt(cn),Ot(cn,a)):Kt(Fn),Ot(Fn,h)}var $i=null,Ph=!1,Wf=!1;function S1(a){$i===null?$i=[a]:$i.push(a)}function EC(a){Ph=!0,S1(a)}function Na(){if(!Wf&&$i!==null){Wf=!0;var a=0,l=wt;try{var h=$i;for(wt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}$i=null,Ph=!1}catch(b){throw $i!==null&&($i=$i.slice(a+1)),gl(oo,Na),b}finally{wt=l,Wf=!1}}return null}var Bl=[],$l=0,Lh=null,Dh=0,yr=[],br=0,vo=null,Vi=1,Oi="";function yo(a,l){Bl[$l++]=Dh,Bl[$l++]=Lh,Lh=a,Dh=l}function N1(a,l,h){yr[br++]=Vi,yr[br++]=Oi,yr[br++]=vo,vo=a;var g=Vi;a=Oi;var b=32-_n(g)-1;g&=~(1<<b),h+=1;var k=32-_n(l)+b;if(30<k){var O=b-b%5;k=(g&(1<<O)-1).toString(32),g>>=O,b-=O,Vi=1<<32-_n(l)+b|h<<b|g,Oi=k+a}else Vi=1<<k|h<<b|g,Oi=a}function qf(a){a.return!==null&&(yo(a,1),N1(a,1,0))}function Kf(a){for(;a===Lh;)Lh=Bl[--$l],Bl[$l]=null,Dh=Bl[--$l],Bl[$l]=null;for(;a===vo;)vo=yr[--br],yr[br]=null,Oi=yr[--br],yr[br]=null,Vi=yr[--br],yr[br]=null}var nr=null,rr=null,Jt=!1,Wr=null;function k1(a,l){var h=Sr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function C1(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,nr=a,rr=wa(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,nr=a,rr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=vo!==null?{id:Vi,overflow:Oi}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Sr(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,nr=a,rr=null,!0):!1;default:return!1}}function Qf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Xf(a){if(Jt){var l=rr;if(l){var h=l;if(!C1(a,l)){if(Qf(a))throw Error(n(418));l=wa(h.nextSibling);var g=nr;l&&C1(a,l)?k1(g,h):(a.flags=a.flags&-4097|2,Jt=!1,nr=a)}}else{if(Qf(a))throw Error(n(418));a.flags=a.flags&-4097|2,Jt=!1,nr=a}}}function T1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;nr=a}function Mh(a){if(a!==nr)return!1;if(!Jt)return T1(a),Jt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Of(a.type,a.memoizedProps)),l&&(l=rr)){if(Qf(a))throw A1(),Error(n(418));for(;l;)k1(a,l),l=wa(l.nextSibling)}if(T1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){rr=wa(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}rr=null}}else rr=nr?wa(a.stateNode.nextSibling):null;return!0}function A1(){for(var a=rr;a;)a=wa(a.nextSibling)}function Vl(){rr=nr=null,Jt=!1}function Yf(a){Wr===null?Wr=[a]:Wr.push(a)}var IC=y.ReactCurrentBatchConfig;function md(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var b=g,k=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(O){var K=b.refs;O===null?delete K[k]:K[k]=O},l._stringRef=k,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Fh(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function E1(a){var l=a._init;return l(a._payload)}function I1(a){function l(oe,Z){if(a){var le=oe.deletions;le===null?(oe.deletions=[Z],oe.flags|=16):le.push(Z)}}function h(oe,Z){if(!a)return null;for(;Z!==null;)l(oe,Z),Z=Z.sibling;return null}function g(oe,Z){for(oe=new Map;Z!==null;)Z.key!==null?oe.set(Z.key,Z):oe.set(Z.index,Z),Z=Z.sibling;return oe}function b(oe,Z){return oe=Pa(oe,Z),oe.index=0,oe.sibling=null,oe}function k(oe,Z,le){return oe.index=le,a?(le=oe.alternate,le!==null?(le=le.index,le<Z?(oe.flags|=2,Z):le):(oe.flags|=2,Z)):(oe.flags|=1048576,Z)}function O(oe){return a&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,Z,le,ke){return Z===null||Z.tag!==6?(Z=Ug(le,oe.mode,ke),Z.return=oe,Z):(Z=b(Z,le),Z.return=oe,Z)}function X(oe,Z,le,ke){var He=le.type;return He===C?ye(oe,Z,le.props.children,ke,le.key):Z!==null&&(Z.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===q&&E1(He)===Z.type)?(ke=b(Z,le.props),ke.ref=md(oe,Z,le),ke.return=oe,ke):(ke=om(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=md(oe,Z,le),ke.return=oe,ke)}function ce(oe,Z,le,ke){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=zg(le,oe.mode,ke),Z.return=oe,Z):(Z=b(Z,le.children||[]),Z.return=oe,Z)}function ye(oe,Z,le,ke,He){return Z===null||Z.tag!==7?(Z=Co(le,oe.mode,ke,He),Z.return=oe,Z):(Z=b(Z,le),Z.return=oe,Z)}function je(oe,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Ug(""+Z,oe.mode,le),Z.return=oe,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return le=om(Z.type,Z.key,Z.props,null,oe.mode,le),le.ref=md(oe,null,Z),le.return=oe,le;case M:return Z=zg(Z,oe.mode,le),Z.return=oe,Z;case q:var ke=Z._init;return je(oe,ke(Z._payload),le)}if(Ls(Z)||te(Z))return Z=Co(Z,oe.mode,le,null),Z.return=oe,Z;Fh(oe,Z)}return null}function ve(oe,Z,le,ke){var He=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return He!==null?null:K(oe,Z,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return le.key===He?X(oe,Z,le,ke):null;case M:return le.key===He?ce(oe,Z,le,ke):null;case q:return He=le._init,ve(oe,Z,He(le._payload),ke)}if(Ls(le)||te(le))return He!==null?null:ye(oe,Z,le,ke,null);Fh(oe,le)}return null}function Fe(oe,Z,le,ke,He){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return oe=oe.get(le)||null,K(Z,oe,""+ke,He);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case j:return oe=oe.get(ke.key===null?le:ke.key)||null,X(Z,oe,ke,He);case M:return oe=oe.get(ke.key===null?le:ke.key)||null,ce(Z,oe,ke,He);case q:var Ke=ke._init;return Fe(oe,Z,le,Ke(ke._payload),He)}if(Ls(ke)||te(ke))return oe=oe.get(le)||null,ye(Z,oe,ke,He,null);Fh(Z,ke)}return null}function Ve(oe,Z,le,ke){for(var He=null,Ke=null,Qe=Z,Je=Z=0,$s=null;Qe!==null&&Je<le.length;Je++){Qe.index>Je?($s=Qe,Qe=null):$s=Qe.sibling;var Et=ve(oe,Qe,le[Je],ke);if(Et===null){Qe===null&&(Qe=$s);break}a&&Qe&&Et.alternate===null&&l(oe,Qe),Z=k(Et,Z,Je),Ke===null?He=Et:Ke.sibling=Et,Ke=Et,Qe=$s}if(Je===le.length)return h(oe,Qe),Jt&&yo(oe,Je),He;if(Qe===null){for(;Je<le.length;Je++)Qe=je(oe,le[Je],ke),Qe!==null&&(Z=k(Qe,Z,Je),Ke===null?He=Qe:Ke.sibling=Qe,Ke=Qe);return Jt&&yo(oe,Je),He}for(Qe=g(oe,Qe);Je<le.length;Je++)$s=Fe(Qe,oe,Je,le[Je],ke),$s!==null&&(a&&$s.alternate!==null&&Qe.delete($s.key===null?Je:$s.key),Z=k($s,Z,Je),Ke===null?He=$s:Ke.sibling=$s,Ke=$s);return a&&Qe.forEach(function(La){return l(oe,La)}),Jt&&yo(oe,Je),He}function Oe(oe,Z,le,ke){var He=te(le);if(typeof He!="function")throw Error(n(150));if(le=He.call(le),le==null)throw Error(n(151));for(var Ke=He=null,Qe=Z,Je=Z=0,$s=null,Et=le.next();Qe!==null&&!Et.done;Je++,Et=le.next()){Qe.index>Je?($s=Qe,Qe=null):$s=Qe.sibling;var La=ve(oe,Qe,Et.value,ke);if(La===null){Qe===null&&(Qe=$s);break}a&&Qe&&La.alternate===null&&l(oe,Qe),Z=k(La,Z,Je),Ke===null?He=La:Ke.sibling=La,Ke=La,Qe=$s}if(Et.done)return h(oe,Qe),Jt&&yo(oe,Je),He;if(Qe===null){for(;!Et.done;Je++,Et=le.next())Et=je(oe,Et.value,ke),Et!==null&&(Z=k(Et,Z,Je),Ke===null?He=Et:Ke.sibling=Et,Ke=Et);return Jt&&yo(oe,Je),He}for(Qe=g(oe,Qe);!Et.done;Je++,Et=le.next())Et=Fe(Qe,oe,Je,Et.value,ke),Et!==null&&(a&&Et.alternate!==null&&Qe.delete(Et.key===null?Je:Et.key),Z=k(Et,Z,Je),Ke===null?He=Et:Ke.sibling=Et,Ke=Et);return a&&Qe.forEach(function(d4){return l(oe,d4)}),Jt&&yo(oe,Je),He}function xs(oe,Z,le,ke){if(typeof le=="object"&&le!==null&&le.type===C&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case j:e:{for(var He=le.key,Ke=Z;Ke!==null;){if(Ke.key===He){if(He=le.type,He===C){if(Ke.tag===7){h(oe,Ke.sibling),Z=b(Ke,le.props.children),Z.return=oe,oe=Z;break e}}else if(Ke.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===q&&E1(He)===Ke.type){h(oe,Ke.sibling),Z=b(Ke,le.props),Z.ref=md(oe,Ke,le),Z.return=oe,oe=Z;break e}h(oe,Ke);break}else l(oe,Ke);Ke=Ke.sibling}le.type===C?(Z=Co(le.props.children,oe.mode,ke,le.key),Z.return=oe,oe=Z):(ke=om(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=md(oe,Z,le),ke.return=oe,oe=ke)}return O(oe);case M:e:{for(Ke=le.key;Z!==null;){if(Z.key===Ke)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){h(oe,Z.sibling),Z=b(Z,le.children||[]),Z.return=oe,oe=Z;break e}else{h(oe,Z);break}else l(oe,Z);Z=Z.sibling}Z=zg(le,oe.mode,ke),Z.return=oe,oe=Z}return O(oe);case q:return Ke=le._init,xs(oe,Z,Ke(le._payload),ke)}if(Ls(le))return Ve(oe,Z,le,ke);if(te(le))return Oe(oe,Z,le,ke);Fh(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,Z!==null&&Z.tag===6?(h(oe,Z.sibling),Z=b(Z,le),Z.return=oe,oe=Z):(h(oe,Z),Z=Ug(le,oe.mode,ke),Z.return=oe,oe=Z),O(oe)):h(oe,Z)}return xs}var Ol=I1(!0),R1=I1(!1),Bh=ja(null),$h=null,Ul=null,Jf=null;function Zf(){Jf=Ul=$h=null}function eg(a){var l=Bh.current;Kt(Bh),a._currentValue=l}function tg(a,l,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===h)break;a=a.return}}function zl(a,l){$h=a,Jf=Ul=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&($n=!0),a.firstContext=null)}function _r(a){var l=a._currentValue;if(Jf!==a)if(a={context:a,memoizedValue:l,next:null},Ul===null){if($h===null)throw Error(n(308));Ul=a,$h.dependencies={lanes:0,firstContext:a}}else Ul=Ul.next=a;return l}var bo=null;function sg(a){bo===null?bo=[a]:bo.push(a)}function P1(a,l,h,g){var b=l.interleaved;return b===null?(h.next=h,sg(l)):(h.next=b.next,b.next=h),l.interleaved=h,Ui(a,g)}function Ui(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var ka=!1;function ng(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ca(a,l,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(kt&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Ui(a,h)}return b=g.interleaved,b===null?(l.next=l,sg(g)):(l.next=b.next,b.next=l),g.interleaved=l,Ui(a,h)}function Vh(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,ga(a,h)}}function D1(a,l){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var O={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?b=k=O:k=k.next=O,h=h.next}while(h!==null);k===null?b=k=l:k=k.next=l}else b=k=l;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function Oh(a,l,h,g){var b=a.updateQueue;ka=!1;var k=b.firstBaseUpdate,O=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var X=K,ce=X.next;X.next=null,O===null?k=ce:O.next=ce,O=X;var ye=a.alternate;ye!==null&&(ye=ye.updateQueue,K=ye.lastBaseUpdate,K!==O&&(K===null?ye.firstBaseUpdate=ce:K.next=ce,ye.lastBaseUpdate=X))}if(k!==null){var je=b.baseState;O=0,ye=ce=X=null,K=k;do{var ve=K.lane,Fe=K.eventTime;if((g&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Fe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ve=a,Oe=K;switch(ve=l,Fe=h,Oe.tag){case 1:if(Ve=Oe.payload,typeof Ve=="function"){je=Ve.call(Fe,je,ve);break e}je=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Oe.payload,ve=typeof Ve=="function"?Ve.call(Fe,je,ve):Ve,ve==null)break e;je=re({},je,ve);break e;case 2:ka=!0}}K.callback!==null&&K.lane!==0&&(a.flags|=64,ve=b.effects,ve===null?b.effects=[K]:ve.push(K))}else Fe={eventTime:Fe,lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ye===null?(ce=ye=Fe,X=je):ye=ye.next=Fe,O|=ve;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,b.lastBaseUpdate=ve,b.shared.pending=null}}while(!0);if(ye===null&&(X=je),b.baseState=X,b.firstBaseUpdate=ce,b.lastBaseUpdate=ye,l=b.shared.interleaved,l!==null){b=l;do O|=b.lane,b=b.next;while(b!==l)}else k===null&&(b.shared.lanes=0);jo|=O,a.lanes=O,a.memoizedState=je}}function M1(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var pd={},fi=ja(pd),fd=ja(pd),gd=ja(pd);function _o(a){if(a===pd)throw Error(n(174));return a}function rg(a,l){switch(Ot(gd,l),Ot(fd,a),Ot(fi,pd),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Gt(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Gt(l,a)}Kt(fi),Ot(fi,l)}function Hl(){Kt(fi),Kt(fd),Kt(gd)}function F1(a){_o(gd.current);var l=_o(fi.current),h=Gt(l,a.type);l!==h&&(Ot(fd,a),Ot(fi,h))}function ig(a){fd.current===a&&(Kt(fi),Kt(fd))}var ns=ja(0);function Uh(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ag=[];function og(){for(var a=0;a<ag.length;a++)ag[a]._workInProgressVersionPrimary=null;ag.length=0}var zh=y.ReactCurrentDispatcher,lg=y.ReactCurrentBatchConfig,wo=0,rs=null,Es=null,Fs=null,Hh=!1,xd=!1,vd=0,RC=0;function dn(){throw Error(n(321))}function cg(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Gr(a[h],l[h]))return!1;return!0}function dg(a,l,h,g,b,k){if(wo=k,rs=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,zh.current=a===null||a.memoizedState===null?MC:FC,a=h(g,b),xd){k=0;do{if(xd=!1,vd=0,25<=k)throw Error(n(301));k+=1,Fs=Es=null,l.updateQueue=null,zh.current=BC,a=h(g,b)}while(xd)}if(zh.current=qh,l=Es!==null&&Es.next!==null,wo=0,Fs=Es=rs=null,Hh=!1,l)throw Error(n(300));return a}function ug(){var a=vd!==0;return vd=0,a}function gi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fs===null?rs.memoizedState=Fs=a:Fs=Fs.next=a,Fs}function wr(){if(Es===null){var a=rs.alternate;a=a!==null?a.memoizedState:null}else a=Es.next;var l=Fs===null?rs.memoizedState:Fs.next;if(l!==null)Fs=l,Es=a;else{if(a===null)throw Error(n(310));Es=a,a={memoizedState:Es.memoizedState,baseState:Es.baseState,baseQueue:Es.baseQueue,queue:Es.queue,next:null},Fs===null?rs.memoizedState=Fs=a:Fs=Fs.next=a}return Fs}function yd(a,l){return typeof l=="function"?l(a):l}function hg(a){var l=wr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=Es,b=g.baseQueue,k=h.pending;if(k!==null){if(b!==null){var O=b.next;b.next=k.next,k.next=O}g.baseQueue=b=k,h.pending=null}if(b!==null){k=b.next,g=g.baseState;var K=O=null,X=null,ce=k;do{var ye=ce.lane;if((wo&ye)===ye)X!==null&&(X=X.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),g=ce.hasEagerState?ce.eagerState:a(g,ce.action);else{var je={lane:ye,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};X===null?(K=X=je,O=g):X=X.next=je,rs.lanes|=ye,jo|=ye}ce=ce.next}while(ce!==null&&ce!==k);X===null?O=g:X.next=K,Gr(g,l.memoizedState)||($n=!0),l.memoizedState=g,l.baseState=O,l.baseQueue=X,h.lastRenderedState=g}if(a=h.interleaved,a!==null){b=a;do k=b.lane,rs.lanes|=k,jo|=k,b=b.next;while(b!==a)}else b===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function mg(a){var l=wr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,k=l.memoizedState;if(b!==null){h.pending=null;var O=b=b.next;do k=a(k,O.action),O=O.next;while(O!==b);Gr(k,l.memoizedState)||($n=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,g]}function B1(){}function $1(a,l){var h=rs,g=wr(),b=l(),k=!Gr(g.memoizedState,b);if(k&&(g.memoizedState=b,$n=!0),g=g.queue,pg(U1.bind(null,h,g,a),[a]),g.getSnapshot!==l||k||Fs!==null&&Fs.memoizedState.tag&1){if(h.flags|=2048,bd(9,O1.bind(null,h,g,b,l),void 0,null),Bs===null)throw Error(n(349));(wo&30)!==0||V1(h,l,b)}return b}function V1(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=rs.updateQueue,l===null?(l={lastEffect:null,stores:null},rs.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function O1(a,l,h,g){l.value=h,l.getSnapshot=g,z1(l)&&H1(a)}function U1(a,l,h){return h(function(){z1(l)&&H1(a)})}function z1(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Gr(a,h)}catch(g){return!0}}function H1(a){var l=Ui(a,1);l!==null&&Xr(l,a,1,-1)}function G1(a){var l=gi();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:a},l.queue=a,a=a.dispatch=DC.bind(null,rs,a),[l.memoizedState,a]}function bd(a,l,h,g){return a={tag:a,create:l,destroy:h,deps:g,next:null},l=rs.updateQueue,l===null?(l={lastEffect:null,stores:null},rs.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,l.lastEffect=a)),a}function W1(){return wr().memoizedState}function Gh(a,l,h,g){var b=gi();rs.flags|=a,b.memoizedState=bd(1|l,h,void 0,g===void 0?null:g)}function Wh(a,l,h,g){var b=wr();g=g===void 0?null:g;var k=void 0;if(Es!==null){var O=Es.memoizedState;if(k=O.destroy,g!==null&&cg(g,O.deps)){b.memoizedState=bd(l,h,k,g);return}}rs.flags|=a,b.memoizedState=bd(1|l,h,k,g)}function q1(a,l){return Gh(8390656,8,a,l)}function pg(a,l){return Wh(2048,8,a,l)}function K1(a,l){return Wh(4,2,a,l)}function Q1(a,l){return Wh(4,4,a,l)}function X1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Y1(a,l,h){return h=h!=null?h.concat([a]):null,Wh(4,4,X1.bind(null,l,a),h)}function fg(){}function J1(a,l){var h=wr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&cg(l,g[1])?g[0]:(h.memoizedState=[a,l],a)}function Z1(a,l){var h=wr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&cg(l,g[1])?g[0]:(a=a(),h.memoizedState=[a,l],a)}function eb(a,l,h){return(wo&21)===0?(a.baseState&&(a.baseState=!1,$n=!0),a.memoizedState=h):(Gr(h,l)||(h=uo(),rs.lanes|=h,jo|=h,a.baseState=!0),l)}function PC(a,l){var h=wt;wt=h!==0&&4>h?h:4,a(!0);var g=lg.transition;lg.transition={};try{a(!1),l()}finally{wt=h,lg.transition=g}}function tb(){return wr().memoizedState}function LC(a,l,h){var g=Ia(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},sb(a))nb(l,h);else if(h=P1(a,l,h,g),h!==null){var b=Sn();Xr(h,a,g,b),rb(h,l,g)}}function DC(a,l,h){var g=Ia(a),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(sb(a))nb(l,b);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var O=l.lastRenderedState,K=k(O,h);if(b.hasEagerState=!0,b.eagerState=K,Gr(K,O)){var X=l.interleaved;X===null?(b.next=b,sg(l)):(b.next=X.next,X.next=b),l.interleaved=b;return}}catch(ce){}finally{}h=P1(a,l,b,g),h!==null&&(b=Sn(),Xr(h,a,g,b),rb(h,l,g))}}function sb(a){var l=a.alternate;return a===rs||l!==null&&l===rs}function nb(a,l){xd=Hh=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function rb(a,l,h){if((h&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,ga(a,h)}}var qh={readContext:_r,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},MC={readContext:_r,useCallback:function(a,l){return gi().memoizedState=[a,l===void 0?null:l],a},useContext:_r,useEffect:q1,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,Gh(4194308,4,X1.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Gh(4194308,4,a,l)},useInsertionEffect:function(a,l){return Gh(4,2,a,l)},useMemo:function(a,l){var h=gi();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var g=gi();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=LC.bind(null,rs,a),[g.memoizedState,a]},useRef:function(a){var l=gi();return a={current:a},l.memoizedState=a},useState:G1,useDebugValue:fg,useDeferredValue:function(a){return gi().memoizedState=a},useTransition:function(){var a=G1(!1),l=a[0];return a=PC.bind(null,a[1]),gi().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var g=rs,b=gi();if(Jt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Bs===null)throw Error(n(349));(wo&30)!==0||V1(g,l,h)}b.memoizedState=h;var k={value:h,getSnapshot:l};return b.queue=k,q1(U1.bind(null,g,k,a),[a]),g.flags|=2048,bd(9,O1.bind(null,g,k,h,l),void 0,null),h},useId:function(){var a=gi(),l=Bs.identifierPrefix;if(Jt){var h=Oi,g=Vi;h=(g&~(1<<32-_n(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=vd++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=RC++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},FC={readContext:_r,useCallback:J1,useContext:_r,useEffect:pg,useImperativeHandle:Y1,useInsertionEffect:K1,useLayoutEffect:Q1,useMemo:Z1,useReducer:hg,useRef:W1,useState:function(){return hg(yd)},useDebugValue:fg,useDeferredValue:function(a){var l=wr();return eb(l,Es.memoizedState,a)},useTransition:function(){var a=hg(yd)[0],l=wr().memoizedState;return[a,l]},useMutableSource:B1,useSyncExternalStore:$1,useId:tb,unstable_isNewReconciler:!1},BC={readContext:_r,useCallback:J1,useContext:_r,useEffect:pg,useImperativeHandle:Y1,useInsertionEffect:K1,useLayoutEffect:Q1,useMemo:Z1,useReducer:mg,useRef:W1,useState:function(){return mg(yd)},useDebugValue:fg,useDeferredValue:function(a){var l=wr();return Es===null?l.memoizedState=a:eb(l,Es.memoizedState,a)},useTransition:function(){var a=mg(yd)[0],l=wr().memoizedState;return[a,l]},useMutableSource:B1,useSyncExternalStore:$1,useId:tb,unstable_isNewReconciler:!1};function qr(a,l){if(a&&a.defaultProps){l=re({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function gg(a,l,h,g){l=a.memoizedState,h=h(g,l),h=h==null?l:re({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Kh={isMounted:function(a){return(a=a._reactInternals)?Br(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var g=Sn(),b=Ia(a),k=zi(g,b);k.payload=l,h!=null&&(k.callback=h),l=Ca(a,k,b),l!==null&&(Xr(l,a,b,g),Vh(l,a,b))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var g=Sn(),b=Ia(a),k=zi(g,b);k.tag=1,k.payload=l,h!=null&&(k.callback=h),l=Ca(a,k,b),l!==null&&(Xr(l,a,b,g),Vh(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=Sn(),g=Ia(a),b=zi(h,g);b.tag=2,l!=null&&(b.callback=l),l=Ca(a,b,g),l!==null&&(Xr(l,a,g,h),Vh(l,a,g))}};function ib(a,l,h,g,b,k,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,k,O):l.prototype&&l.prototype.isPureReactComponent?!ad(h,g)||!ad(b,k):!0}function ab(a,l,h){var g=!1,b=Sa,k=l.contextType;return typeof k=="object"&&k!==null?k=_r(k):(b=Bn(l)?xo:cn.current,g=l.contextTypes,k=(g=g!=null)?Fl(a,b):Sa),l=new l(h,k),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Kh,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=k),l}function ob(a,l,h,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==a&&Kh.enqueueReplaceState(l,l.state,null)}function xg(a,l,h,g){var b=a.stateNode;b.props=h,b.state=a.memoizedState,b.refs={},ng(a);var k=l.contextType;typeof k=="object"&&k!==null?b.context=_r(k):(k=Bn(l)?xo:cn.current,b.context=Fl(a,k)),b.state=a.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(gg(a,l,k,h),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Kh.enqueueReplaceState(b,b.state,null),Oh(a,h,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function Gl(a,l){try{var h="",g=l;do h+=fe(g),g=g.return;while(g);var b=h}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:l,stack:b,digest:null}}function vg(a,l,h){return{value:a,source:null,stack:h!=null?h:null,digest:l!=null?l:null}}function yg(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var $C=typeof WeakMap=="function"?WeakMap:Map;function lb(a,l,h){h=zi(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){tm||(tm=!0,Lg=g),yg(a,l)},h}function cb(a,l,h){h=zi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;h.payload=function(){return g(b)},h.callback=function(){yg(a,l)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){yg(a,l),typeof g!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),h}function db(a,l,h){var g=a.pingCache;if(g===null){g=a.pingCache=new $C;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(h)||(b.add(h),a=ZC.bind(null,a,l,h),l.then(a,a))}function ub(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function hb(a,l,h,g,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=zi(-1,1),l.tag=2,Ca(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var VC=y.ReactCurrentOwner,$n=!1;function jn(a,l,h,g){l.child=a===null?R1(l,null,h,g):Ol(l,a.child,h,g)}function mb(a,l,h,g,b){h=h.render;var k=l.ref;return zl(l,b),g=dg(a,l,h,g,k,b),h=ug(),a!==null&&!$n?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,Hi(a,l,b)):(Jt&&h&&qf(l),l.flags|=1,jn(a,l,g,b),l.child)}function pb(a,l,h,g,b){if(a===null){var k=h.type;return typeof k=="function"&&!Og(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=k,fb(a,l,k,g,b)):(a=om(h.type,null,g,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(k=a.child,(a.lanes&b)===0){var O=k.memoizedProps;if(h=h.compare,h=h!==null?h:ad,h(O,g)&&a.ref===l.ref)return Hi(a,l,b)}return l.flags|=1,a=Pa(k,g),a.ref=l.ref,a.return=l,l.child=a}function fb(a,l,h,g,b){if(a!==null){var k=a.memoizedProps;if(ad(k,g)&&a.ref===l.ref)if($n=!1,l.pendingProps=g=k,(a.lanes&b)!==0)(a.flags&131072)!==0&&($n=!0);else return l.lanes=a.lanes,Hi(a,l,b)}return bg(a,l,h,g,b)}function gb(a,l,h){var g=l.pendingProps,b=g.children,k=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ql,ir),ir|=h;else{if((h&1073741824)===0)return a=k!==null?k.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ot(ql,ir),ir|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:h,Ot(ql,ir),ir|=g}else k!==null?(g=k.baseLanes|h,l.memoizedState=null):g=h,Ot(ql,ir),ir|=g;return jn(a,l,b,h),l.child}function xb(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function bg(a,l,h,g,b){var k=Bn(h)?xo:cn.current;return k=Fl(l,k),zl(l,b),h=dg(a,l,h,g,k,b),g=ug(),a!==null&&!$n?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,Hi(a,l,b)):(Jt&&g&&qf(l),l.flags|=1,jn(a,l,h,b),l.child)}function vb(a,l,h,g,b){if(Bn(h)){var k=!0;Rh(l)}else k=!1;if(zl(l,b),l.stateNode===null)Xh(a,l),ab(l,h,g),xg(l,h,g,b),g=!0;else if(a===null){var O=l.stateNode,K=l.memoizedProps;O.props=K;var X=O.context,ce=h.contextType;typeof ce=="object"&&ce!==null?ce=_r(ce):(ce=Bn(h)?xo:cn.current,ce=Fl(l,ce));var ye=h.getDerivedStateFromProps,je=typeof ye=="function"||typeof O.getSnapshotBeforeUpdate=="function";je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==g||X!==ce)&&ob(l,O,g,ce),ka=!1;var ve=l.memoizedState;O.state=ve,Oh(l,g,O,b),X=l.memoizedState,K!==g||ve!==X||Fn.current||ka?(typeof ye=="function"&&(gg(l,h,ye,g),X=l.memoizedState),(K=ka||ib(l,h,K,g,ve,X,ce))?(je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),O.props=g,O.state=X,O.context=ce,g=K):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{O=l.stateNode,L1(a,l),K=l.memoizedProps,ce=l.type===l.elementType?K:qr(l.type,K),O.props=ce,je=l.pendingProps,ve=O.context,X=h.contextType,typeof X=="object"&&X!==null?X=_r(X):(X=Bn(h)?xo:cn.current,X=Fl(l,X));var Fe=h.getDerivedStateFromProps;(ye=typeof Fe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==je||ve!==X)&&ob(l,O,g,X),ka=!1,ve=l.memoizedState,O.state=ve,Oh(l,g,O,b);var Ve=l.memoizedState;K!==je||ve!==Ve||Fn.current||ka?(typeof Fe=="function"&&(gg(l,h,Fe,g),Ve=l.memoizedState),(ce=ka||ib(l,h,ce,g,ve,Ve,X)||!1)?(ye||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,Ve,X),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,Ve,X)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ve),O.props=g,O.state=Ve,O.context=X,g=ce):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&ve===a.memoizedState||(l.flags|=1024),g=!1)}return _g(a,l,h,g,k,b)}function _g(a,l,h,g,b,k){xb(a,l);var O=(l.flags&128)!==0;if(!g&&!O)return b&&j1(l,h,!1),Hi(a,l,k);g=l.stateNode,VC.current=l;var K=O&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&O?(l.child=Ol(l,a.child,null,k),l.child=Ol(l,null,K,k)):jn(a,l,K,k),l.memoizedState=g.state,b&&j1(l,h,!0),l.child}function yb(a){var l=a.stateNode;l.pendingContext?_1(a,l.pendingContext,l.pendingContext!==l.context):l.context&&_1(a,l.context,!1),rg(a,l.containerInfo)}function bb(a,l,h,g,b){return Vl(),Yf(b),l.flags|=256,jn(a,l,h,g),l.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function jg(a){return{baseLanes:a,cachePool:null,transitions:null}}function _b(a,l,h){var g=l.pendingProps,b=ns.current,k=!1,O=(l.flags&128)!==0,K;if((K=O)||(K=a!==null&&a.memoizedState===null?!1:(b&2)!==0),K?(k=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),Ot(ns,b&1),a===null)return Xf(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=g.children,a=g.fallback,k?(g=l.mode,k=l.child,O={mode:"hidden",children:O},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=O):k=lm(O,g,0,null),a=Co(a,g,h,null),k.return=l,a.return=l,k.sibling=a,l.child=k,l.child.memoizedState=jg(h),l.memoizedState=wg,a):Sg(l,O));if(b=a.memoizedState,b!==null&&(K=b.dehydrated,K!==null))return OC(a,l,O,g,K,b,h);if(k){k=g.fallback,O=l.mode,b=a.child,K=b.sibling;var X={mode:"hidden",children:g.children};return(O&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=X,l.deletions=null):(g=Pa(b,X),g.subtreeFlags=b.subtreeFlags&14680064),K!==null?k=Pa(K,k):(k=Co(k,O,h,null),k.flags|=2),k.return=l,g.return=l,g.sibling=k,l.child=g,g=k,k=l.child,O=a.child.memoizedState,O=O===null?jg(h):{baseLanes:O.baseLanes|h,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=a.childLanes&~h,l.memoizedState=wg,g}return k=a.child,a=k.sibling,g=Pa(k,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=g,l.memoizedState=null,g}function Sg(a,l){return l=lm({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Qh(a,l,h,g){return g!==null&&Yf(g),Ol(l,a.child,null,h),a=Sg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function OC(a,l,h,g,b,k,O){if(h)return l.flags&256?(l.flags&=-257,g=vg(Error(n(422))),Qh(a,l,O,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(k=g.fallback,b=l.mode,g=lm({mode:"visible",children:g.children},b,0,null),k=Co(k,b,O,null),k.flags|=2,g.return=l,k.return=l,g.sibling=k,l.child=g,(l.mode&1)!==0&&Ol(l,a.child,null,O),l.child.memoizedState=jg(O),l.memoizedState=wg,k);if((l.mode&1)===0)return Qh(a,l,O,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var K=g.dgst;return g=K,k=Error(n(419)),g=vg(k,g,void 0),Qh(a,l,O,g)}if(K=(O&a.childLanes)!==0,$n||K){if(g=Bs,g!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|O))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Ui(a,b),Xr(g,a,b,-1))}return Vg(),g=vg(Error(n(421))),Qh(a,l,O,g)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=e4.bind(null,a),b._reactRetry=l,null):(a=k.treeContext,rr=wa(b.nextSibling),nr=l,Jt=!0,Wr=null,a!==null&&(yr[br++]=Vi,yr[br++]=Oi,yr[br++]=vo,Vi=a.id,Oi=a.overflow,vo=l),l=Sg(l,g.children),l.flags|=4096,l)}function wb(a,l,h){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),tg(a.return,l,h)}function Ng(a,l,h,g,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=h,k.tailMode=b)}function jb(a,l,h){var g=l.pendingProps,b=g.revealOrder,k=g.tail;if(jn(a,l,g.children,h),g=ns.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wb(a,h,l);else if(a.tag===19)wb(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Ot(ns,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(h=l.child,b=null;h!==null;)a=h.alternate,a!==null&&Uh(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),Ng(l,!1,b,h,k);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&Uh(a)===null){l.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}Ng(l,!0,h,null,k);break;case"together":Ng(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Xh(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Hi(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),jo|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Pa(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Pa(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function UC(a,l,h){switch(l.tag){case 3:yb(l),Vl();break;case 5:F1(l);break;case 1:Bn(l.type)&&Rh(l);break;case 4:rg(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Ot(Bh,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ot(ns,ns.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?_b(a,l,h):(Ot(ns,ns.current&1),a=Hi(a,l,h),a!==null?a.sibling:null);Ot(ns,ns.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(a.flags&128)!==0){if(g)return jb(a,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ot(ns,ns.current),g)break;return null;case 22:case 23:return l.lanes=0,gb(a,l,h)}return Hi(a,l,h)}var Sb,kg,Nb,kb;Sb=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},kg=function(){},Nb=function(a,l,h,g){var b=a.memoizedProps;if(b!==g){a=l.stateNode,_o(fi.current);var k=null;switch(h){case"input":b=ut(a,b),g=ut(a,g),k=[];break;case"select":b=re({},b,{value:void 0}),g=re({},g,{value:void 0}),k=[];break;case"textarea":b=Ln(a,b),g=Ln(a,g),k=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Ah)}Dr(h,g);var O;h=null;for(ce in b)if(!g.hasOwnProperty(ce)&&b.hasOwnProperty(ce)&&b[ce]!=null)if(ce==="style"){var K=b[ce];for(O in K)K.hasOwnProperty(O)&&(h||(h={}),h[O]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?k||(k=[]):(k=k||[]).push(ce,null));for(ce in g){var X=g[ce];if(K=b!=null?b[ce]:void 0,g.hasOwnProperty(ce)&&X!==K&&(X!=null||K!=null))if(ce==="style")if(K){for(O in K)!K.hasOwnProperty(O)||X&&X.hasOwnProperty(O)||(h||(h={}),h[O]="");for(O in X)X.hasOwnProperty(O)&&K[O]!==X[O]&&(h||(h={}),h[O]=X[O])}else h||(k||(k=[]),k.push(ce,h)),h=X;else ce==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(k=k||[]).push(ce,X)):ce==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(ce,""+X):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(X!=null&&ce==="onScroll"&&qt("scroll",a),k||K===X||(k=[])):(k=k||[]).push(ce,X))}h&&(k=k||[]).push("style",h);var ce=k;(l.updateQueue=ce)&&(l.flags|=4)}},kb=function(a,l,h,g){h!==g&&(l.flags|=4)};function _d(a,l){if(!Jt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function un(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(l)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,l}function zC(a,l,h){var g=l.pendingProps;switch(Kf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(l),null;case 1:return Bn(l.type)&&Ih(),un(l),null;case 3:return g=l.stateNode,Hl(),Kt(Fn),Kt(cn),og(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Mh(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Wr!==null&&(Fg(Wr),Wr=null))),kg(a,l),un(l),null;case 5:ig(l);var b=_o(gd.current);if(h=l.type,a!==null&&l.stateNode!=null)Nb(a,l,h,g,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return un(l),null}if(a=_o(fi.current),Mh(l)){g=l.stateNode,h=l.type;var k=l.memoizedProps;switch(g[pi]=l,g[ud]=k,a=(l.mode&1)!==0,h){case"dialog":qt("cancel",g),qt("close",g);break;case"iframe":case"object":case"embed":qt("load",g);break;case"video":case"audio":for(b=0;b<ld.length;b++)qt(ld[b],g);break;case"source":qt("error",g);break;case"img":case"image":case"link":qt("error",g),qt("load",g);break;case"details":qt("toggle",g);break;case"input":ss(g,k),qt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},qt("invalid",g);break;case"textarea":vn(g,k),qt("invalid",g)}Dr(h,k),b=null;for(var O in k)if(k.hasOwnProperty(O)){var K=k[O];O==="children"?typeof K=="string"?g.textContent!==K&&(k.suppressHydrationWarning!==!0&&Th(g.textContent,K,a),b=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(k.suppressHydrationWarning!==!0&&Th(g.textContent,K,a),b=["children",""+K]):i.hasOwnProperty(O)&&K!=null&&O==="onScroll"&&qt("scroll",g)}switch(h){case"input":De(g),Pn(g,k,!0);break;case"textarea":De(g),ds(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=Ah)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Xt(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=O.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=O.createElement(h,{is:g.is}):(a=O.createElement(h),h==="select"&&(O=a,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):a=O.createElementNS(a,h),a[pi]=l,a[ud]=g,Sb(a,l,!1,!1),l.stateNode=a;e:{switch(O=Wt(h,g),h){case"dialog":qt("cancel",a),qt("close",a),b=g;break;case"iframe":case"object":case"embed":qt("load",a),b=g;break;case"video":case"audio":for(b=0;b<ld.length;b++)qt(ld[b],a);b=g;break;case"source":qt("error",a),b=g;break;case"img":case"image":case"link":qt("error",a),qt("load",a),b=g;break;case"details":qt("toggle",a),b=g;break;case"input":ss(a,g),b=ut(a,g),qt("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=re({},g,{value:void 0}),qt("invalid",a);break;case"textarea":vn(a,g),b=Ln(a,g),qt("invalid",a);break;default:b=g}Dr(h,b),K=b;for(k in K)if(K.hasOwnProperty(k)){var X=K[k];k==="style"?Ti(a,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&ai(a,X)):k==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&Xn(a,X):typeof X=="number"&&Xn(a,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&qt("scroll",a):X!=null&&T(a,k,X,O))}switch(h){case"input":De(a),Pn(a,g,!1);break;case"textarea":De(a),ds(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Ce(g.value));break;case"select":a.multiple=!!g.multiple,k=g.value,k!=null?Ds(a,!!g.multiple,k,!1):g.defaultValue!=null&&Ds(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Ah)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return un(l),null;case 6:if(a&&l.stateNode!=null)kb(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(h=_o(gd.current),_o(fi.current),Mh(l)){if(g=l.stateNode,h=l.memoizedProps,g[pi]=l,(k=g.nodeValue!==h)&&(a=nr,a!==null))switch(a.tag){case 3:Th(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Th(g.nodeValue,h,(a.mode&1)!==0)}k&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[pi]=l,l.stateNode=g}return un(l),null;case 13:if(Kt(ns),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Jt&&rr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)A1(),Vl(),l.flags|=98560,k=!1;else if(k=Mh(l),g!==null&&g.dehydrated!==null){if(a===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[pi]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;un(l),k=!1}else Wr!==null&&(Fg(Wr),Wr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(ns.current&1)!==0?Is===0&&(Is=3):Vg())),l.updateQueue!==null&&(l.flags|=4),un(l),null);case 4:return Hl(),kg(a,l),a===null&&cd(l.stateNode.containerInfo),un(l),null;case 10:return eg(l.type._context),un(l),null;case 17:return Bn(l.type)&&Ih(),un(l),null;case 19:if(Kt(ns),k=l.memoizedState,k===null)return un(l),null;if(g=(l.flags&128)!==0,O=k.rendering,O===null)if(g)_d(k,!1);else{if(Is!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(O=Uh(a),O!==null){for(l.flags|=128,_d(k,!1),g=O.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)k=h,a=g,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,a=O.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return Ot(ns,ns.current&1|2),l.child}a=a.sibling}k.tail!==null&&Vt()>Kl&&(l.flags|=128,g=!0,_d(k,!1),l.lanes=4194304)}else{if(!g)if(a=Uh(O),a!==null){if(l.flags|=128,g=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),_d(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!Jt)return un(l),null}else 2*Vt()-k.renderingStartTime>Kl&&h!==1073741824&&(l.flags|=128,g=!0,_d(k,!1),l.lanes=4194304);k.isBackwards?(O.sibling=l.child,l.child=O):(h=k.last,h!==null?h.sibling=O:l.child=O,k.last=O)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Vt(),l.sibling=null,h=ns.current,Ot(ns,g?h&1|2:h&1),l):(un(l),null);case 22:case 23:return $g(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(ir&1073741824)!==0&&(un(l),l.subtreeFlags&6&&(l.flags|=8192)):un(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function HC(a,l){switch(Kf(l),l.tag){case 1:return Bn(l.type)&&Ih(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Hl(),Kt(Fn),Kt(cn),og(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return ig(l),null;case 13:if(Kt(ns),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Vl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Kt(ns),null;case 4:return Hl(),null;case 10:return eg(l.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var Yh=!1,hn=!1,GC=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Wl(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){us(a,l,g)}else h.current=null}function Cg(a,l,h){try{h()}catch(g){us(a,l,g)}}var Cb=!1;function WC(a,l){if($f=ya,a=i1(),If(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{h.nodeType,k.nodeType}catch(ke){h=null;break e}var O=0,K=-1,X=-1,ce=0,ye=0,je=a,ve=null;t:for(;;){for(var Fe;je!==h||b!==0&&je.nodeType!==3||(K=O+b),je!==k||g!==0&&je.nodeType!==3||(X=O+g),je.nodeType===3&&(O+=je.nodeValue.length),(Fe=je.firstChild)!==null;)ve=je,je=Fe;for(;;){if(je===a)break t;if(ve===h&&++ce===b&&(K=O),ve===k&&++ye===g&&(X=O),(Fe=je.nextSibling)!==null)break;je=ve,ve=je.parentNode}je=Fe}h=K===-1||X===-1?null:{start:K,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Vf={focusedElem:a,selectionRange:h},ya=!1,$e=l;$e!==null;)if(l=$e,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,$e=a;else for(;$e!==null;){l=$e;try{var Ve=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Oe=Ve.memoizedProps,xs=Ve.memoizedState,oe=l.stateNode,Z=oe.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:qr(l.type,Oe),xs);oe.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var le=l.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){us(l,l.return,ke)}if(a=l.sibling,a!==null){a.return=l.return,$e=a;break}$e=l.return}return Ve=Cb,Cb=!1,Ve}function wd(a,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var k=b.destroy;b.destroy=void 0,k!==void 0&&Cg(l,h,k)}b=b.next}while(b!==g)}}function Jh(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function Tg(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function Tb(a){var l=a.alternate;l!==null&&(a.alternate=null,Tb(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[pi],delete l[ud],delete l[Hf],delete l[TC],delete l[AC])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Ab(a){return a.tag===5||a.tag===3||a.tag===4}function Eb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ab(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ag(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Ah));else if(g!==4&&(a=a.child,a!==null))for(Ag(a,l,h),a=a.sibling;a!==null;)Ag(a,l,h),a=a.sibling}function Eg(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Eg(a,l,h),a=a.sibling;a!==null;)Eg(a,l,h),a=a.sibling}var Qs=null,Kr=!1;function Ta(a,l,h){for(h=h.child;h!==null;)Ib(a,l,h),h=h.sibling}function Ib(a,l,h){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(lo,h)}catch(K){}switch(h.tag){case 5:hn||Wl(h,l);case 6:var g=Qs,b=Kr;Qs=null,Ta(a,l,h),Qs=g,Kr=b,Qs!==null&&(Kr?(a=Qs,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Qs.removeChild(h.stateNode));break;case 18:Qs!==null&&(Kr?(a=Qs,h=h.stateNode,a.nodeType===8?zf(a.parentNode,h):a.nodeType===1&&zf(a,h),zr(a)):zf(Qs,h.stateNode));break;case 4:g=Qs,b=Kr,Qs=h.stateNode.containerInfo,Kr=!0,Ta(a,l,h),Qs=g,Kr=b;break;case 0:case 11:case 14:case 15:if(!hn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var k=b,O=k.destroy;k=k.tag,O!==void 0&&((k&2)!==0||(k&4)!==0)&&Cg(h,l,O),b=b.next}while(b!==g)}Ta(a,l,h);break;case 1:if(!hn&&(Wl(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(K){us(h,l,K)}Ta(a,l,h);break;case 21:Ta(a,l,h);break;case 22:h.mode&1?(hn=(g=hn)||h.memoizedState!==null,Ta(a,l,h),hn=g):Ta(a,l,h);break;default:Ta(a,l,h)}}function Rb(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new GC),l.forEach(function(g){var b=t4.bind(null,a,g);h.has(g)||(h.add(g),g.then(b,b))})}}function Qr(a,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var k=a,O=l,K=O;e:for(;K!==null;){switch(K.tag){case 5:Qs=K.stateNode,Kr=!1;break e;case 3:Qs=K.stateNode.containerInfo,Kr=!0;break e;case 4:Qs=K.stateNode.containerInfo,Kr=!0;break e}K=K.return}if(Qs===null)throw Error(n(160));Ib(k,O,b),Qs=null,Kr=!1;var X=b.alternate;X!==null&&(X.return=null),b.return=null}catch(ce){us(b,l,ce)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Pb(l,a),l=l.sibling}function Pb(a,l){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Qr(l,a),xi(a),g&4){try{wd(3,a,a.return),Jh(3,a)}catch(Oe){us(a,a.return,Oe)}try{wd(5,a,a.return)}catch(Oe){us(a,a.return,Oe)}}break;case 1:Qr(l,a),xi(a),g&512&&h!==null&&Wl(h,h.return);break;case 5:if(Qr(l,a),xi(a),g&512&&h!==null&&Wl(h,h.return),a.flags&32){var b=a.stateNode;try{Xn(b,"")}catch(Oe){us(a,a.return,Oe)}}if(g&4&&(b=a.stateNode,b!=null)){var k=a.memoizedProps,O=h!==null?h.memoizedProps:k,K=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{K==="input"&&k.type==="radio"&&k.name!=null&&Hs(b,k),Wt(K,O);var ce=Wt(K,k);for(O=0;O<X.length;O+=2){var ye=X[O],je=X[O+1];ye==="style"?Ti(b,je):ye==="dangerouslySetInnerHTML"?ai(b,je):ye==="children"?Xn(b,je):T(b,ye,je,ce)}switch(K){case"input":Gs(b,k);break;case"textarea":yn(b,k);break;case"select":var ve=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Fe=k.value;Fe!=null?Ds(b,!!k.multiple,Fe,!1):ve!==!!k.multiple&&(k.defaultValue!=null?Ds(b,!!k.multiple,k.defaultValue,!0):Ds(b,!!k.multiple,k.multiple?[]:"",!1))}b[ud]=k}catch(Oe){us(a,a.return,Oe)}}break;case 6:if(Qr(l,a),xi(a),g&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,k=a.memoizedProps;try{b.nodeValue=k}catch(Oe){us(a,a.return,Oe)}}break;case 3:if(Qr(l,a),xi(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{zr(l.containerInfo)}catch(Oe){us(a,a.return,Oe)}break;case 4:Qr(l,a),xi(a);break;case 13:Qr(l,a),xi(a),b=a.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Pg=Vt())),g&4&&Rb(a);break;case 22:if(ye=h!==null&&h.memoizedState!==null,a.mode&1?(hn=(ce=hn)||ye,Qr(l,a),hn=ce):Qr(l,a),xi(a),g&8192){if(ce=a.memoizedState!==null,(a.stateNode.isHidden=ce)&&!ye&&(a.mode&1)!==0)for($e=a,ye=a.child;ye!==null;){for(je=$e=ye;$e!==null;){switch(ve=$e,Fe=ve.child,ve.tag){case 0:case 11:case 14:case 15:wd(4,ve,ve.return);break;case 1:Wl(ve,ve.return);var Ve=ve.stateNode;if(typeof Ve.componentWillUnmount=="function"){g=ve,h=ve.return;try{l=g,Ve.props=l.memoizedProps,Ve.state=l.memoizedState,Ve.componentWillUnmount()}catch(Oe){us(g,h,Oe)}}break;case 5:Wl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Mb(je);continue}}Fe!==null?(Fe.return=ve,$e=Fe):Mb(je)}ye=ye.sibling}e:for(ye=null,je=a;;){if(je.tag===5){if(ye===null){ye=je;try{b=je.stateNode,ce?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(K=je.stateNode,X=je.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=oi("display",O))}catch(Oe){us(a,a.return,Oe)}}}else if(je.tag===6){if(ye===null)try{je.stateNode.nodeValue=ce?"":je.memoizedProps}catch(Oe){us(a,a.return,Oe)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===a)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===a)break e;for(;je.sibling===null;){if(je.return===null||je.return===a)break e;ye===je&&(ye=null),je=je.return}ye===je&&(ye=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Qr(l,a),xi(a),g&4&&Rb(a);break;case 21:break;default:Qr(l,a),xi(a)}}function xi(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(Ab(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Xn(b,""),g.flags&=-33);var k=Eb(a);Eg(a,k,b);break;case 3:case 4:var O=g.stateNode.containerInfo,K=Eb(a);Ag(a,K,O);break;default:throw Error(n(161))}}catch(X){us(a,a.return,X)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function qC(a,l,h){$e=a,Lb(a)}function Lb(a,l,h){for(var g=(a.mode&1)!==0;$e!==null;){var b=$e,k=b.child;if(b.tag===22&&g){var O=b.memoizedState!==null||Yh;if(!O){var K=b.alternate,X=K!==null&&K.memoizedState!==null||hn;K=Yh;var ce=hn;if(Yh=O,(hn=X)&&!ce)for($e=b;$e!==null;)O=$e,X=O.child,O.tag===22&&O.memoizedState!==null?Fb(b):X!==null?(X.return=O,$e=X):Fb(b);for(;k!==null;)$e=k,Lb(k),k=k.sibling;$e=b,Yh=K,hn=ce}Db(a)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,$e=k):Db(a)}}function Db(a){for(;$e!==null;){var l=$e;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:hn||Jh(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!hn)if(h===null)g.componentDidMount();else{var b=l.elementType===l.type?h.memoizedProps:qr(l.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&M1(l,k,g);break;case 3:var O=l.updateQueue;if(O!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}M1(l,O,h)}break;case 5:var K=l.stateNode;if(h===null&&l.flags&4){h=K;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ce=l.alternate;if(ce!==null){var ye=ce.memoizedState;if(ye!==null){var je=ye.dehydrated;je!==null&&zr(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hn||l.flags&512&&Tg(l)}catch(ve){us(l,l.return,ve)}}if(l===a){$e=null;break}if(h=l.sibling,h!==null){h.return=l.return,$e=h;break}$e=l.return}}function Mb(a){for(;$e!==null;){var l=$e;if(l===a){$e=null;break}var h=l.sibling;if(h!==null){h.return=l.return,$e=h;break}$e=l.return}}function Fb(a){for(;$e!==null;){var l=$e;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Jh(4,l)}catch(X){us(l,h,X)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(X){us(l,b,X)}}var k=l.return;try{Tg(l)}catch(X){us(l,k,X)}break;case 5:var O=l.return;try{Tg(l)}catch(X){us(l,O,X)}}}catch(X){us(l,l.return,X)}if(l===a){$e=null;break}var K=l.sibling;if(K!==null){K.return=l.return,$e=K;break}$e=l.return}}var KC=Math.ceil,Zh=y.ReactCurrentDispatcher,Ig=y.ReactCurrentOwner,jr=y.ReactCurrentBatchConfig,kt=0,Bs=null,ws=null,Xs=0,ir=0,ql=ja(0),Is=0,jd=null,jo=0,em=0,Rg=0,Sd=null,Vn=null,Pg=0,Kl=1/0,Gi=null,tm=!1,Lg=null,Aa=null,sm=!1,Ea=null,nm=0,Nd=0,Dg=null,rm=-1,im=0;function Sn(){return(kt&6)!==0?Vt():rm!==-1?rm:rm=Vt()}function Ia(a){return(a.mode&1)===0?1:(kt&2)!==0&&Xs!==0?Xs&-Xs:IC.transition!==null?(im===0&&(im=uo()),im):(a=wt,a!==0||(a=window.event,a=a===void 0?16:Zc(a.type)),a)}function Xr(a,l,h,g){if(50<Nd)throw Nd=0,Dg=null,Error(n(185));fa(a,h,g),((kt&2)===0||a!==Bs)&&(a===Bs&&((kt&2)===0&&(em|=h),Is===4&&Ra(a,Xs)),On(a,g),h===1&&kt===0&&(l.mode&1)===0&&(Kl=Vt()+500,Ph&&Na()))}function On(a,l){var h=a.callbackNode;Pi(a,l);var g=co(a,a===Bs?Xs:0);if(g===0)h!==null&&Kc(h),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(h!=null&&Kc(h),l===1)a.tag===0?EC($b.bind(null,a)):S1($b.bind(null,a)),kC(function(){(kt&6)===0&&Na()}),h=null;else{switch(xa(g)){case 1:h=oo;break;case 4:h=ha;break;case 16:h=gr;break;case 536870912:h=ih;break;default:h=gr}h=qb(h,Bb.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function Bb(a,l){if(rm=-1,im=0,(kt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Ql()&&a.callbackNode!==h)return null;var g=co(a,a===Bs?Xs:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=am(a,g);else{l=g;var b=kt;kt|=2;var k=Ob();(Bs!==a||Xs!==l)&&(Gi=null,Kl=Vt()+500,No(a,l));do try{YC();break}catch(K){Vb(a,K)}while(!0);Zf(),Zh.current=k,kt=b,ws!==null?l=0:(Bs=null,Xs=0,l=Is)}if(l!==0){if(l===2&&(b=er(a),b!==0&&(g=b,l=Mg(a,b))),l===1)throw h=jd,No(a,0),Ra(a,g),On(a,Vt()),h;if(l===6)Ra(a,g);else{if(b=a.current.alternate,(g&30)===0&&!QC(b)&&(l=am(a,g),l===2&&(k=er(a),k!==0&&(g=k,l=Mg(a,k))),l===1))throw h=jd,No(a,0),Ra(a,g),On(a,Vt()),h;switch(a.finishedWork=b,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:ko(a,Vn,Gi);break;case 3:if(Ra(a,g),(g&130023424)===g&&(l=Pg+500-Vt(),10<l)){if(co(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){Sn(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Uf(ko.bind(null,a,Vn,Gi),l);break}ko(a,Vn,Gi);break;case 4:if(Ra(a,g),(g&4194240)===g)break;for(l=a.eventTimes,b=-1;0<g;){var O=31-_n(g);k=1<<O,O=l[O],O>b&&(b=O),g&=~k}if(g=b,g=Vt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*KC(g/1960))-g,10<g){a.timeoutHandle=Uf(ko.bind(null,a,Vn,Gi),g);break}ko(a,Vn,Gi);break;case 5:ko(a,Vn,Gi);break;default:throw Error(n(329))}}}return On(a,Vt()),a.callbackNode===h?Bb.bind(null,a):null}function Mg(a,l){var h=Sd;return a.current.memoizedState.isDehydrated&&(No(a,l).flags|=256),a=am(a,l),a!==2&&(l=Vn,Vn=h,l!==null&&Fg(l)),a}function Fg(a){Vn===null?Vn=a:Vn.push.apply(Vn,a)}function QC(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],k=b.getSnapshot;b=b.value;try{if(!Gr(k(),b))return!1}catch(O){return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ra(a,l){for(l&=~Rg,l&=~em,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-_n(l),g=1<<h;a[h]=-1,l&=~g}}function $b(a){if((kt&6)!==0)throw Error(n(327));Ql();var l=co(a,0);if((l&1)===0)return On(a,Vt()),null;var h=am(a,l);if(a.tag!==0&&h===2){var g=er(a);g!==0&&(l=g,h=Mg(a,g))}if(h===1)throw h=jd,No(a,0),Ra(a,l),On(a,Vt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,ko(a,Vn,Gi),On(a,Vt()),null}function Bg(a,l){var h=kt;kt|=1;try{return a(l)}finally{kt=h,kt===0&&(Kl=Vt()+500,Ph&&Na())}}function So(a){Ea!==null&&Ea.tag===0&&(kt&6)===0&&Ql();var l=kt;kt|=1;var h=jr.transition,g=wt;try{if(jr.transition=null,wt=1,a)return a()}finally{wt=g,jr.transition=h,kt=l,(kt&6)===0&&Na()}}function $g(){ir=ql.current,Kt(ql)}function No(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,NC(h)),ws!==null)for(h=ws.return;h!==null;){var g=h;switch(Kf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ih();break;case 3:Hl(),Kt(Fn),Kt(cn),og();break;case 5:ig(g);break;case 4:Hl();break;case 13:Kt(ns);break;case 19:Kt(ns);break;case 10:eg(g.type._context);break;case 22:case 23:$g()}h=h.return}if(Bs=a,ws=a=Pa(a.current,null),Xs=ir=l,Is=0,jd=null,Rg=em=jo=0,Vn=Sd=null,bo!==null){for(l=0;l<bo.length;l++)if(h=bo[l],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,k=h.pending;if(k!==null){var O=k.next;k.next=b,g.next=O}h.pending=g}bo=null}return a}function Vb(a,l){do{var h=ws;try{if(Zf(),zh.current=qh,Hh){for(var g=rs.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Hh=!1}if(wo=0,Fs=Es=rs=null,xd=!1,vd=0,Ig.current=null,h===null||h.return===null){Is=1,jd=l,ws=null;break}e:{var k=a,O=h.return,K=h,X=l;if(l=Xs,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ce=X,ye=K,je=ye.tag;if((ye.mode&1)===0&&(je===0||je===11||je===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Fe=ub(O);if(Fe!==null){Fe.flags&=-257,hb(Fe,O,K,k,l),Fe.mode&1&&db(k,ce,l),l=Fe,X=ce;var Ve=l.updateQueue;if(Ve===null){var Oe=new Set;Oe.add(X),l.updateQueue=Oe}else Ve.add(X);break e}else{if((l&1)===0){db(k,ce,l),Vg();break e}X=Error(n(426))}}else if(Jt&&K.mode&1){var xs=ub(O);if(xs!==null){(xs.flags&65536)===0&&(xs.flags|=256),hb(xs,O,K,k,l),Yf(Gl(X,K));break e}}k=X=Gl(X,K),Is!==4&&(Is=2),Sd===null?Sd=[k]:Sd.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var oe=lb(k,X,l);D1(k,oe);break e;case 1:K=X;var Z=k.type,le=k.stateNode;if((k.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Aa===null||!Aa.has(le)))){k.flags|=65536,l&=-l,k.lanes|=l;var ke=cb(k,K,l);D1(k,ke);break e}}k=k.return}while(k!==null)}zb(h)}catch(He){l=He,ws===h&&h!==null&&(ws=h=h.return);continue}break}while(!0)}function Ob(){var a=Zh.current;return Zh.current=qh,a===null?qh:a}function Vg(){(Is===0||Is===3||Is===2)&&(Is=4),Bs===null||(jo&268435455)===0&&(em&268435455)===0||Ra(Bs,Xs)}function am(a,l){var h=kt;kt|=2;var g=Ob();(Bs!==a||Xs!==l)&&(Gi=null,No(a,l));do try{XC();break}catch(b){Vb(a,b)}while(!0);if(Zf(),kt=h,Zh.current=g,ws!==null)throw Error(n(261));return Bs=null,Xs=0,Is}function XC(){for(;ws!==null;)Ub(ws)}function YC(){for(;ws!==null&&!nh();)Ub(ws)}function Ub(a){var l=Wb(a.alternate,a,ir);a.memoizedProps=a.pendingProps,l===null?zb(a):ws=l,Ig.current=null}function zb(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=zC(h,l,ir),h!==null){ws=h;return}}else{if(h=HC(h,l),h!==null){h.flags&=32767,ws=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Is=6,ws=null;return}}if(l=l.sibling,l!==null){ws=l;return}ws=l=a}while(l!==null);Is===0&&(Is=5)}function ko(a,l,h){var g=wt,b=jr.transition;try{jr.transition=null,wt=1,JC(a,l,h,g)}finally{jr.transition=b,wt=g}return null}function JC(a,l,h,g){do Ql();while(Ea!==null);if((kt&6)!==0)throw Error(n(327));h=a.finishedWork;var b=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var k=h.lanes|h.childLanes;if(Ft(a,k),a===Bs&&(ws=Bs=null,Xs=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||sm||(sm=!0,qb(gr,function(){return Ql(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=jr.transition,jr.transition=null;var O=wt;wt=1;var K=kt;kt|=4,Ig.current=null,WC(a,h),Pb(h,a),vC(Vf),ya=!!$f,Vf=$f=null,a.current=h,qC(h),jf(),kt=K,wt=O,jr.transition=k}else a.current=h;if(sm&&(sm=!1,Ea=a,nm=b),k=a.pendingLanes,k===0&&(Aa=null),ah(h.stateNode),On(a,Vt()),l!==null)for(g=a.onRecoverableError,h=0;h<l.length;h++)b=l[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(tm)throw tm=!1,a=Lg,Lg=null,a;return(nm&1)!==0&&a.tag!==0&&Ql(),k=a.pendingLanes,(k&1)!==0?a===Dg?Nd++:(Nd=0,Dg=a):Nd=0,Na(),null}function Ql(){if(Ea!==null){var a=xa(nm),l=jr.transition,h=wt;try{if(jr.transition=null,wt=16>a?16:a,Ea===null)var g=!1;else{if(a=Ea,Ea=null,nm=0,(kt&6)!==0)throw Error(n(331));var b=kt;for(kt|=4,$e=a.current;$e!==null;){var k=$e,O=k.child;if(($e.flags&16)!==0){var K=k.deletions;if(K!==null){for(var X=0;X<K.length;X++){var ce=K[X];for($e=ce;$e!==null;){var ye=$e;switch(ye.tag){case 0:case 11:case 15:wd(8,ye,k)}var je=ye.child;if(je!==null)je.return=ye,$e=je;else for(;$e!==null;){ye=$e;var ve=ye.sibling,Fe=ye.return;if(Tb(ye),ye===ce){$e=null;break}if(ve!==null){ve.return=Fe,$e=ve;break}$e=Fe}}}var Ve=k.alternate;if(Ve!==null){var Oe=Ve.child;if(Oe!==null){Ve.child=null;do{var xs=Oe.sibling;Oe.sibling=null,Oe=xs}while(Oe!==null)}}$e=k}}if((k.subtreeFlags&2064)!==0&&O!==null)O.return=k,$e=O;else e:for(;$e!==null;){if(k=$e,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:wd(9,k,k.return)}var oe=k.sibling;if(oe!==null){oe.return=k.return,$e=oe;break e}$e=k.return}}var Z=a.current;for($e=Z;$e!==null;){O=$e;var le=O.child;if((O.subtreeFlags&2064)!==0&&le!==null)le.return=O,$e=le;else e:for(O=Z;$e!==null;){if(K=$e,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Jh(9,K)}}catch(He){us(K,K.return,He)}if(K===O){$e=null;break e}var ke=K.sibling;if(ke!==null){ke.return=K.return,$e=ke;break e}$e=K.return}}if(kt=b,Na(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(lo,a)}catch(He){}g=!0}return g}finally{wt=h,jr.transition=l}}return!1}function Hb(a,l,h){l=Gl(h,l),l=lb(a,l,1),a=Ca(a,l,1),l=Sn(),a!==null&&(fa(a,1,l),On(a,l))}function us(a,l,h){if(a.tag===3)Hb(a,a,h);else for(;l!==null;){if(l.tag===3){Hb(l,a,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Aa===null||!Aa.has(g))){a=Gl(h,a),a=cb(l,a,1),l=Ca(l,a,1),a=Sn(),l!==null&&(fa(l,1,a),On(l,a));break}}l=l.return}}function ZC(a,l,h){var g=a.pingCache;g!==null&&g.delete(l),l=Sn(),a.pingedLanes|=a.suspendedLanes&h,Bs===a&&(Xs&h)===h&&(Is===4||Is===3&&(Xs&130023424)===Xs&&500>Vt()-Pg?No(a,0):Rg|=h),On(a,l)}function Gb(a,l){l===0&&((a.mode&1)===0?l=1:(l=vl,vl<<=1,(vl&130023424)===0&&(vl=4194304)));var h=Sn();a=Ui(a,l),a!==null&&(fa(a,l,h),On(a,h))}function e4(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Gb(a,h)}function t4(a,l){var h=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),Gb(a,h)}var Wb;Wb=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||Fn.current)$n=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return $n=!1,UC(a,l,h);$n=(a.flags&131072)!==0}else $n=!1,Jt&&(l.flags&1048576)!==0&&N1(l,Dh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Xh(a,l),a=l.pendingProps;var b=Fl(l,cn.current);zl(l,h),b=dg(null,l,g,a,b,h);var k=ug();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Bn(g)?(k=!0,Rh(l)):k=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ng(l),b.updater=Kh,l.stateNode=b,b._reactInternals=l,xg(l,g,a,h),l=_g(null,l,g,!0,k,h)):(l.tag=0,Jt&&k&&qf(l),jn(null,l,b,h),l=l.child),l;case 16:g=l.elementType;e:{switch(Xh(a,l),a=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=n4(g),a=qr(g,a),b){case 0:l=bg(null,l,g,a,h);break e;case 1:l=vb(null,l,g,a,h);break e;case 11:l=mb(null,l,g,a,h);break e;case 14:l=pb(null,l,g,qr(g.type,a),h);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:qr(g,b),bg(a,l,g,b,h);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:qr(g,b),vb(a,l,g,b,h);case 3:e:{if(yb(l),a===null)throw Error(n(387));g=l.pendingProps,k=l.memoizedState,b=k.element,L1(a,l),Oh(l,g,null,h);var O=l.memoizedState;if(g=O.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){b=Gl(Error(n(423)),l),l=bb(a,l,g,h,b);break e}else if(g!==b){b=Gl(Error(n(424)),l),l=bb(a,l,g,h,b);break e}else for(rr=wa(l.stateNode.containerInfo.firstChild),nr=l,Jt=!0,Wr=null,h=R1(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Vl(),g===b){l=Hi(a,l,h);break e}jn(a,l,g,h)}l=l.child}return l;case 5:return F1(l),a===null&&Xf(l),g=l.type,b=l.pendingProps,k=a!==null?a.memoizedProps:null,O=b.children,Of(g,b)?O=null:k!==null&&Of(g,k)&&(l.flags|=32),xb(a,l),jn(a,l,O,h),l.child;case 6:return a===null&&Xf(l),null;case 13:return _b(a,l,h);case 4:return rg(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Ol(l,null,g,h):jn(a,l,g,h),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:qr(g,b),mb(a,l,g,b,h);case 7:return jn(a,l,l.pendingProps,h),l.child;case 8:return jn(a,l,l.pendingProps.children,h),l.child;case 12:return jn(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,k=l.memoizedProps,O=b.value,Ot(Bh,g._currentValue),g._currentValue=O,k!==null)if(Gr(k.value,O)){if(k.children===b.children&&!Fn.current){l=Hi(a,l,h);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var K=k.dependencies;if(K!==null){O=k.child;for(var X=K.firstContext;X!==null;){if(X.context===g){if(k.tag===1){X=zi(-1,h&-h),X.tag=2;var ce=k.updateQueue;if(ce!==null){ce=ce.shared;var ye=ce.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),ce.pending=X}}k.lanes|=h,X=k.alternate,X!==null&&(X.lanes|=h),tg(k.return,h,l),K.lanes|=h;break}X=X.next}}else if(k.tag===10)O=k.type===l.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(n(341));O.lanes|=h,K=O.alternate,K!==null&&(K.lanes|=h),tg(O,h,l),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===l){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}jn(a,l,b.children,h),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,zl(l,h),b=_r(b),g=g(b),l.flags|=1,jn(a,l,g,h),l.child;case 14:return g=l.type,b=qr(g,l.pendingProps),b=qr(g.type,b),pb(a,l,g,b,h);case 15:return fb(a,l,l.type,l.pendingProps,h);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:qr(g,b),Xh(a,l),l.tag=1,Bn(g)?(a=!0,Rh(l)):a=!1,zl(l,h),ab(l,g,b),xg(l,g,b,h),_g(null,l,g,!0,a,h);case 19:return jb(a,l,h);case 22:return gb(a,l,h)}throw Error(n(156,l.tag))};function qb(a,l){return gl(a,l)}function s4(a,l,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(a,l,h,g){return new s4(a,l,h,g)}function Og(a){return a=a.prototype,!(!a||!a.isReactComponent)}function n4(a){if(typeof a=="function")return Og(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===z)return 14}return 2}function Pa(a,l){var h=a.alternate;return h===null?(h=Sr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function om(a,l,h,g,b,k){var O=2;if(g=a,typeof a=="function")Og(a)&&(O=1);else if(typeof a=="string")O=5;else e:switch(a){case C:return Co(h.children,b,k,l);case _:O=8,b|=8;break;case A:return a=Sr(12,h,l,b|2),a.elementType=A,a.lanes=k,a;case $:return a=Sr(13,h,l,b),a.elementType=$,a.lanes=k,a;case W:return a=Sr(19,h,l,b),a.elementType=W,a.lanes=k,a;case Q:return lm(h,b,k,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:O=10;break e;case I:O=9;break e;case V:O=11;break e;case z:O=14;break e;case q:O=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=Sr(O,h,l,b),l.elementType=a,l.type=g,l.lanes=k,l}function Co(a,l,h,g){return a=Sr(7,a,g,l),a.lanes=h,a}function lm(a,l,h,g){return a=Sr(22,a,g,l),a.elementType=Q,a.lanes=h,a.stateNode={isHidden:!1},a}function Ug(a,l,h){return a=Sr(6,a,null,l),a.lanes=h,a}function zg(a,l,h){return l=Sr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function r4(a,l,h,g,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Hg(a,l,h,g,b,k,O,K,X){return a=new r4(a,l,h,K,X),l===1?(l=1,k===!0&&(l|=8)):l=0,k=Sr(3,null,null,l),a.current=k,k.stateNode=a,k.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},ng(k),a}function i4(a,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:g==null?null:""+g,children:a,containerInfo:l,implementation:h}}function Kb(a){if(!a)return Sa;a=a._reactInternals;e:{if(Br(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Bn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Bn(h))return w1(a,h,l)}return l}function Qb(a,l,h,g,b,k,O,K,X){return a=Hg(h,g,!0,a,b,k,O,K,X),a.context=Kb(null),h=a.current,g=Sn(),b=Ia(h),k=zi(g,b),k.callback=l!=null?l:null,Ca(h,k,b),a.current.lanes=b,fa(a,b,g),On(a,g),a}function cm(a,l,h,g){var b=l.current,k=Sn(),O=Ia(b);return h=Kb(h),l.context===null?l.context=h:l.pendingContext=h,l=zi(k,O),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=Ca(b,l,O),a!==null&&(Xr(a,b,O,k),Vh(a,b,O)),O}function dm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Xb(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Gg(a,l){Xb(a,l),(a=a.alternate)&&Xb(a,l)}function a4(){return null}var Yb=typeof reportError=="function"?reportError:function(a){console.error(a)};function Wg(a){this._internalRoot=a}um.prototype.render=Wg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));cm(a,l,null,null)},um.prototype.unmount=Wg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;So(function(){cm(null,a,null,null)}),l[Bi]=null}};function um(a){this._internalRoot=a}um.prototype.unstable_scheduleHydration=function(a){if(a){var l=uh();a={blockedOn:null,target:a,priority:l};for(var h=0;h<di.length&&l!==0&&l<di[h].priority;h++);di.splice(h,0,a),h===0&&ph(a)}};function qg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function hm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Jb(){}function o4(a,l,h,g,b){if(b){if(typeof g=="function"){var k=g;g=function(){var ce=dm(O);k.call(ce)}}var O=Qb(l,g,a,0,null,!1,!1,"",Jb);return a._reactRootContainer=O,a[Bi]=O.current,cd(a.nodeType===8?a.parentNode:a),So(),O}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var K=g;g=function(){var ce=dm(X);K.call(ce)}}var X=Hg(a,0,!1,null,null,!1,!1,"",Jb);return a._reactRootContainer=X,a[Bi]=X.current,cd(a.nodeType===8?a.parentNode:a),So(function(){cm(l,X,h,g)}),X}function mm(a,l,h,g,b){var k=h._reactRootContainer;if(k){var O=k;if(typeof b=="function"){var K=b;b=function(){var X=dm(O);K.call(X)}}cm(l,O,a,b)}else O=o4(h,l,a,b,g);return dm(O)}ch=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=ma(l.pendingLanes);h!==0&&(ga(l,h|1),On(l,Vt()),(kt&6)===0&&(Kl=Vt()+500,Na()))}break;case 13:So(function(){var g=Ui(a,1);if(g!==null){var b=Sn();Xr(g,a,1,b)}}),Gg(a,1)}},yl=function(a){if(a.tag===13){var l=Ui(a,134217728);if(l!==null){var h=Sn();Xr(l,a,134217728,h)}Gg(a,134217728)}},dh=function(a){if(a.tag===13){var l=Ia(a),h=Ui(a,l);if(h!==null){var g=Sn();Xr(h,a,l,g)}Gg(a,l)}},uh=function(){return wt},hh=function(a,l){var h=wt;try{return wt=a,l()}finally{wt=h}},Ei=function(a,l,h){switch(l){case"input":if(Gs(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==a&&g.form===a.form){var b=Eh(g);if(!b)throw Error(n(90));Ee(g),Gs(g,b)}}}break;case"textarea":yn(a,h);break;case"select":l=h.value,l!=null&&Ds(a,!!h.multiple,l,!1)}},no=Bg,Hc=So;var l4={usingClientEntryPoint:!1,Events:[hd,Dl,Eh,Jn,zc,Bg]},kd={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c4={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=qc(a),a===null?null:a.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||a4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{lo=pm.inject(c4),Zn=pm}catch(a){}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l4,Un.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qg(l))throw Error(n(200));return i4(a,l,null,h)},Un.createRoot=function(a,l){if(!qg(a))throw Error(n(299));var h=!1,g="",b=Yb;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Hg(a,1,!1,null,null,h,!1,g,b),a[Bi]=l.current,cd(a.nodeType===8?a.parentNode:a),new Wg(l)},Un.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=qc(l),a=a===null?null:a.stateNode,a},Un.flushSync=function(a){return So(a)},Un.hydrate=function(a,l,h){if(!hm(l))throw Error(n(200));return mm(null,a,l,!0,h)},Un.hydrateRoot=function(a,l,h){if(!qg(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,b=!1,k="",O=Yb;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),l=Qb(l,null,a,1,h!=null?h:null,b,!1,k,O),a[Bi]=l.current,cd(a),g)for(a=0;a<g.length;a++)h=g[a],b=h._getVersion,b=b(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,b]:l.mutableSourceEagerHydrationData.push(h,b);return new um(l)},Un.render=function(a,l,h){if(!hm(l))throw Error(n(200));return mm(null,a,l,!1,h)},Un.unmountComponentAtNode=function(a){if(!hm(a))throw Error(n(40));return a._reactRootContainer?(So(function(){mm(null,null,a,!1,function(){a._reactRootContainer=null,a[Bi]=null})}),!0):!1},Un.unstable_batchedUpdates=Bg,Un.unstable_renderSubtreeIntoContainer=function(a,l,h,g){if(!hm(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return mm(a,l,h,!1,g)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var a_;function lS(){if(a_)return Xg.exports;a_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xg.exports=g4(),Xg.exports}var o_;function x4(){if(o_)return fm;o_=1;var t=lS();return fm.createRoot=t.createRoot,fm.hydrateRoot=t.hydrateRoot,fm}var v4=x4();const y4=ny(v4),b4={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",tools:"Tools"},_4={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."}},w4={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},j4={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},S4={nav:b4,tools:_4,topbar:w4,profile:j4},N4={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",tools:"Tools"},k4={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."}},C4={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},T4={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},A4={nav:N4,tools:k4,topbar:C4,profile:T4},E4={en:S4,de:A4};function Ze(t,e="en"){const n=t.split(".");let r=E4[e];for(const i of n)if(r=r==null?void 0:r[i],r==null)return t;return String(r)}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function I4(t={}){function e(i,o){let{pathname:c="/",search:d="",hash:u=""}=sl(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),nv("",{pathname:c,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let u=i.location.href,m=u.indexOf("#");d=m===-1?u:u.slice(0,m)}return d+"#"+(typeof o=="string"?o:mu(o))}function r(i,o){dr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return P4(e,n,r,t)}function es(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function dr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function R4(){return Math.random().toString(36).substring(2,10)}function c_(t,e){return{usr:t.state,key:t.key,idx:e}}function nv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:n,key:e&&e.key||r||R4()}}function mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function P4(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",u=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function x(){d="POP";let R=p(),B=R==null?null:R-m;m=R,u&&u({action:d,location:P.location,delta:B})}function v(R,B){d="PUSH";let L=nv(P.location,R,B);n&&n(L,R),m=p()+1;let T=c_(L,m),y=P.createHref(L);try{c.pushState(T,"",y)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(y)}o&&u&&u({action:d,location:P.location,delta:1})}function w(R,B){d="REPLACE";let L=nv(P.location,R,B);n&&n(L,R),m=p();let T=c_(L,m),y=P.createHref(L);c.replaceState(T,"",y),o&&u&&u({action:d,location:P.location,delta:0})}function S(R){return L4(R)}let P={get action(){return d},get location(){return t(i,c)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(l_,x),u=R,()=>{i.removeEventListener(l_,x),u=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let B=S(R);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:v,replace:w,go(R){return c.go(R)}};return P}function L4(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),es(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:mu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cS(t,e,n="/"){return D4(t,e,n,!1)}function D4(t,e,n,r){let i=typeof e=="string"?sl(e):e,o=ra(i.pathname||"/",n);if(o==null)return null;let c=dS(t);M4(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let m=q4(o);d=G4(c[u],m,r)}return d}function dS(t,e=[],n=[],r="",i=!1){let o=(c,d,u=i,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;es(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let x=ta([r,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(es(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),dS(c.children,e,v,x,u)),!(c.path==null&&!c.index)&&e.push({path:x,score:z4(x,c.index),routesMeta:v})};return t.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,d);else for(let m of uS(c.path))o(c,d,!0,m)}),e}function uS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=uS(r.join("/")),d=[];return d.push(...c.map(u=>u===""?o:[o,u].join("/"))),i&&d.push(...c),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function M4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F4=/^:[\w-]+$/,B4=3,$4=2,V4=1,O4=10,U4=-2,d_=t=>t==="*";function z4(t,e){let n=t.split("/"),r=n.length;return n.some(d_)&&(r+=U4),e&&(r+=$4),n.filter(i=>!d_(i)).reduce((i,o)=>i+(F4.test(o)?B4:o===""?V4:O4),r)}function H4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function G4(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],m=d===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",x=lp({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},p),v=u.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=lp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:ta([o,x.pathname]),pathnameBase:Y4(ta([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=ta([o,x.pathnameBase]))}return c}function lp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:x},v)=>{if(p==="*"){let S=d[v]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[v];return x&&!w?m[p]=void 0:m[p]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function W4(t,e=!1,n=!0){dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function q4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ra(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K4(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sl(t):t;return{pathname:n?n.startsWith("/")?n:Q4(n,e):e,search:J4(r),hash:Z4(i)}}function Q4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t){let e=X4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ay(t,e,n,r=!1){let i;typeof t=="string"?i=sl(t):(i={...t},es(!i.pathname||!i.pathname.includes("?"),Zg("?","pathname","search",i)),es(!i.pathname||!i.pathname.includes("#"),Zg("#","pathname","hash",i)),es(!i.search||!i.search.includes("#"),Zg("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}d=x>=0?e[x]:"/"}let u=K4(i,d),m=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(m||p)&&(u.pathname+="/"),u}var ta=t=>t.join("/").replace(/\/\/+/g,"/"),Y4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Z4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hS=["POST","PUT","PATCH","DELETE"];new Set(hS);var tT=["GET",...hS];new Set(tT);var Rc=E.createContext(null);Rc.displayName="DataRouter";var Bp=E.createContext(null);Bp.displayName="DataRouterState";E.createContext(!1);var mS=E.createContext({isTransitioning:!1});mS.displayName="ViewTransition";var sT=E.createContext(new Map);sT.displayName="Fetchers";var nT=E.createContext(null);nT.displayName="Await";var ri=E.createContext(null);ri.displayName="Navigation";var Pu=E.createContext(null);Pu.displayName="Location";var Rr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var oy=E.createContext(null);oy.displayName="RouteError";function rT(t,{relative:e}={}){es(Pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ri),{hash:i,pathname:o,search:c}=Lu(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:ta([n,o])),r.createHref({pathname:d,search:c,hash:i})}function Pc(){return E.useContext(Pu)!=null}function Qn(){return es(Pc(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Pu).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fS(t){E.useContext(ri).static||E.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=E.useContext(Rr);return t?yT():iT()}function iT(){es(Pc(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Rc),{basename:e,navigator:n}=E.useContext(ri),{matches:r}=E.useContext(Rr),{pathname:i}=Qn(),o=JSON.stringify(iy(r)),c=E.useRef(!1);return fS(()=>{c.current=!0}),E.useCallback((u,m={})=>{if(dr(c.current,pS),!c.current)return;if(typeof u=="number"){n.go(u);return}let p=ay(u,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ta([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,o,i,t])}var aT=E.createContext(null);function oT(t){let e=E.useContext(Rr).outlet;return e&&E.createElement(aT.Provider,{value:t},e)}function $p(){let{matches:t}=E.useContext(Rr),e=t[t.length-1];return e?e.params:{}}function Lu(t,{relative:e}={}){let{matches:n}=E.useContext(Rr),{pathname:r}=Qn(),i=JSON.stringify(iy(n));return E.useMemo(()=>ay(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function lT(t,e){return gS(t,e)}function gS(t,e,n,r,i){var L;es(Pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(ri),{matches:c}=E.useContext(Rr),d=c[c.length-1],u=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",x=d&&d.route;{let T=x&&x.path||"";xS(m,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Qn(),w;if(e){let T=typeof e=="string"?sl(e):e;es(p==="/"||((L=T.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=v;let S=w.pathname||"/",P=S;if(p!=="/"){let T=p.replace(/^\//,"").split("/");P="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=cS(t,{pathname:P});dr(x||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),dr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=mT(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ta([p,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:ta([p,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,n,r,i);return e&&B?E.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},B):B}function cT(){let t=vT(),e=eT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,c)}var dT=E.createElement(cT,null),uT=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Rr.Provider,{value:this.props.routeContext},E.createElement(oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hT({routeContext:t,match:e,children:n}){let r=E.useContext(Rc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Rr.Provider,{value:t},n)}function mT(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n==null?void 0:n.errors;if(c!=null){let m=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);es(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,u=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:x,errors:v}=n,w=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,p,x)=>{let v,w=!1,S=null,P=null;n&&(v=c&&p.route.id?c[p.route.id]:void 0,S=p.route.errorElement||dT,d&&(u<0&&x===0?(xS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):u===x&&(w=!0,P=p.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,x+1)),B=()=>{let L;return v?L=S:w?L=P:p.route.Component?L=E.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=m,E.createElement(hT,{match:p,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?E.createElement(uT,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:B(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):B()},null)}function ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(t){let e=E.useContext(Rc);return es(e,ly(t)),e}function fT(t){let e=E.useContext(Bp);return es(e,ly(t)),e}function gT(t){let e=E.useContext(Rr);return es(e,ly(t)),e}function cy(t){let e=gT(t),n=e.matches[e.matches.length-1];return es(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xT(){return cy("useRouteId")}function vT(){var r;let t=E.useContext(oy),e=fT("useRouteError"),n=cy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function yT(){let{router:t}=pT("useNavigate"),e=cy("useNavigate"),n=E.useRef(!1);return fS(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{dr(n.current,pS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var u_={};function xS(t,e,n){!e&&!u_[t]&&(u_[t]=!0,dr(!1,n))}E.memo(bT);function bT({routes:t,future:e,state:n,unstable_onError:r}){return gS(t,void 0,n,r,e)}function Od({to:t,replace:e,state:n,relative:r}){es(Pc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(ri);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Rr),{pathname:c}=Qn(),d=Pr(),u=ay(t,iy(o),c,r==="path"),m=JSON.stringify(u);return E.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function vS(t){return oT(t.context)}function me(t){es(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _T({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){es(!Pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=sl(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:v="default"}=n,w=E.useMemo(()=>{let S=ra(u,c);return S==null?null:{location:{pathname:S,search:m,hash:p,state:x,key:v},navigationType:r}},[c,u,m,p,x,v,r]);return dr(w!=null,`<Router basename="${c}"> is not able to match the URL "${u}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(ri.Provider,{value:d},E.createElement(Pu.Provider,{children:e,value:w}))}function wT({children:t,location:e}){return lT(rv(t),e)}function rv(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,rv(r.props.children,o));return}es(r.type===me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),es(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=rv(r.props.children,o)),n.push(c)}),n}var zm="get",Hm="application/x-www-form-urlencoded";function Vp(t){return t!=null&&typeof t.tagName=="string"}function jT(t){return Vp(t)&&t.tagName.toLowerCase()==="button"}function ST(t){return Vp(t)&&t.tagName.toLowerCase()==="form"}function NT(t){return Vp(t)&&t.tagName.toLowerCase()==="input"}function kT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CT(t,e){return t.button===0&&(!e||e==="_self")&&!kT(t)}function iv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function TT(t,e){let n=iv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var gm=null;function AT(){if(gm===null)try{new FormData(document.createElement("form"),0),gm=!1}catch(t){gm=!0}return gm}var ET=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ex(t){return t!=null&&!ET.has(t)?(dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hm}"`),null):t}function IT(t,e){let n,r,i,o,c;if(ST(t)){let d=t.getAttribute("action");r=d?ra(d,e):null,n=t.getAttribute("method")||zm,i=ex(t.getAttribute("enctype"))||Hm,o=new FormData(t)}else if(jT(t)||NT(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(r=u?ra(u,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||zm,i=ex(t.getAttribute("formenctype"))||ex(d.getAttribute("enctype"))||Hm,o=new FormData(d,t),!AT()){let{name:m,type:p,value:x}=t;if(p==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,x)}}else{if(Vp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zm,r=null,i=Hm,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dy(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function RT(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ra(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function PT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DT(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await PT(o,n);return c.links?c.links():[]}return[]}));return $T(r.flat(1).filter(LT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function h_(t,e,n,r,i,o){let c=(u,m)=>n[m]?u.route.id!==n[m].route.id:!0,d=(u,m)=>{var p;return n[m].pathname!==u.pathname||((p=n[m].route.path)==null?void 0:p.endsWith("*"))&&n[m].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,m)=>c(u,m)||d(u,m)):o==="data"?e.filter((u,m)=>{var x;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(c(u,m)||d(u,m))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function MT(t,e,{includeHydrateFallback:n}={}){return FT(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function FT(t){return[...new Set(t)]}function BT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $T(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(BT(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function yS(){let t=E.useContext(Rc);return dy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VT(){let t=E.useContext(Bp);return dy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uy=E.createContext(void 0);uy.displayName="FrameworkContext";function bS(){let t=E.useContext(uy);return dy(t,"You must render this element inside a <HydratedRouter> element"),t}function OT(t,e){let n=E.useContext(uy),[r,i]=E.useState(!1),[o,c]=E.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:m,onMouseLeave:p,onTouchStart:x}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=B=>{B.forEach(L=>{c(L.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),E.useEffect(()=>{if(r){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[r]);let w=()=>{i(!0)},S=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:Td(d,w),onBlur:Td(u,S),onMouseEnter:Td(m,w),onMouseLeave:Td(p,S),onTouchStart:Td(x,w)}]:[!1,v,{}]}function Td(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UT({page:t,...e}){let{router:n}=yS(),r=E.useMemo(()=>cS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(HT,{page:t,matches:r,...e}):null}function zT(t){let{manifest:e,routeModules:n}=bS(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return DT(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function HT({page:t,matches:e,...n}){let r=Qn(),{manifest:i,routeModules:o}=bS(),{basename:c}=yS(),{loaderData:d,matches:u}=VT(),m=E.useMemo(()=>h_(t,e,u,i,r,"data"),[t,e,u,i,r]),p=E.useMemo(()=>h_(t,e,u,i,r,"assets"),[t,e,u,i,r]),x=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,P=!1;if(e.forEach(B=>{var T;let L=i.routes[B.route.id];!L||!L.hasLoader||(!m.some(y=>y.route.id===B.route.id)&&B.route.id in d&&((T=o[B.route.id])!=null&&T.shouldRevalidate)||L.hasClientLoader?P=!0:S.add(B.route.id))}),S.size===0)return[];let R=RT(t,c,"data");return P&&S.size>0&&R.searchParams.set("_routes",e.filter(B=>S.has(B.route.id)).map(B=>B.route.id).join(",")),[R.pathname+R.search]},[c,d,r,i,m,e,t,o]),v=E.useMemo(()=>MT(p,i),[p,i]),w=zT(p);return E.createElement(E.Fragment,null,x.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:P})=>E.createElement("link",{key:S,nonce:n.nonce,...P})))}function GT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _S=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{_S&&(window.__reactRouterVersion="7.9.1")}catch(t){}function WT({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=I4({window:n,v5Compat:!0}));let i=r.current,[o,c]=E.useState({action:i.action,location:i.location}),d=E.useCallback(u=>{E.startTransition(()=>c(u))},[c]);return E.useLayoutEffect(()=>i.listen(d),[i,d]),E.createElement(_T,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:u,to:m,preventScrollReset:p,viewTransition:x,...v},w){let{basename:S}=E.useContext(ri),P=typeof m=="string"&&wS.test(m),R,B=!1;if(typeof m=="string"&&P&&(R=m,_S))try{let A=new URL(window.location.href),D=m.startsWith("//")?new URL(A.protocol+m):new URL(m),I=ra(D.pathname,S);D.origin===A.origin&&I!=null?m=I+D.search+D.hash:B=!0}catch(A){dr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=rT(m,{relative:i}),[T,y,j]=OT(r,v),M=QT(m,{replace:c,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:x});function C(A){e&&e(A),A.defaultPrevented||M(A)}let _=E.createElement("a",{...v,...j,href:R||L,onClick:B||o?e:C,ref:GT(w,y),target:u,"data-discover":!P&&n==="render"?"true":void 0});return T&&!P?E.createElement(E.Fragment,null,_,E.createElement(UT,{page:L})):_});Mt.displayName="Link";var as=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:u,...m},p){let x=Lu(c,{relative:m.relative}),v=Qn(),w=E.useContext(Bp),{navigator:S,basename:P}=E.useContext(ri),R=w!=null&&eA(x)&&d===!0,B=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,L=v.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(L=L.toLowerCase(),T=T?T.toLowerCase():null,B=B.toLowerCase()),T&&P&&(T=ra(T,P)||T);const y=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let j=L===B||!i&&L.startsWith(B)&&L.charAt(y)==="/",M=T!=null&&(T===B||!i&&T.startsWith(B)&&T.charAt(B.length)==="/"),C={isActive:j,isPending:M,isTransitioning:R},_=j?e:void 0,A;typeof r=="function"?A=r(C):A=[r,j?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(C):o;return E.createElement(Mt,{...m,"aria-current":_,className:A,ref:p,style:D,to:c,viewTransition:d},typeof u=="function"?u(C):u)});as.displayName="NavLink";var qT=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=zm,action:d,onSubmit:u,relative:m,preventScrollReset:p,viewTransition:x,...v},w)=>{let S=JT(),P=ZT(d,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&wS.test(d),L=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let y=T.nativeEvent.submitter,j=(y==null?void 0:y.getAttribute("formmethod"))||c;S(y||T.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:i,state:o,relative:m,preventScrollReset:p,viewTransition:x})};return E.createElement("form",{ref:w,method:R,action:P,onSubmit:r?u:L,...v,"data-discover":!B&&t==="render"?"true":void 0})});qT.displayName="Form";function KT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(t){let e=E.useContext(Rc);return es(e,KT(t)),e}function QT(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Pr(),u=Qn(),m=Lu(t,{relative:o});return E.useCallback(p=>{if(CT(p,e)){p.preventDefault();let x=n!==void 0?n:mu(u)===mu(m);d(t,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[u,d,m,n,r,e,t,i,o,c])}function nl(t){dr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(iv(t)),n=E.useRef(!1),r=Qn(),i=E.useMemo(()=>TT(r.search,n.current?null:e.current),[r.search]),o=Pr(),c=E.useCallback((d,u)=>{const m=iv(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,o("?"+m,u)},[o,i]);return[i,c]}var XT=0,YT=()=>`__${String(++XT)}__`;function JT(){let{router:t}=jS("useSubmit"),{basename:e}=E.useContext(ri),n=xT();return E.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:u,body:m}=IT(r,e);if(i.navigate===!1){let p=i.fetcherKey||YT();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZT(t,{relative:e}={}){let{basename:n}=E.useContext(ri),r=E.useContext(Rr);es(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Lu(t||".",{relative:e})},c=Qn();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ta([n,o.pathname])),mu(o)}function eA(t,{relative:e}={}){let n=E.useContext(mS);es(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jS("useViewTransitionState"),i=Lu(t,{relative:e});if(!n.isTransitioning)return!1;let o=ra(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ra(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lp(i.pathname,c)!=null||lp(i.pathname,o)!=null}var tA=lS();const sA=ny(tA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),m_=t=>{const e=rA(t);return e.charAt(0).toUpperCase()+e.slice(1)},SS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),iA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...d},u)=>E.createElement("svg",{ref:u,...aA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:SS("lucide",i),...!o&&!iA(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,p])=>E.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=E.forwardRef(({className:r,...i},o)=>E.createElement(oA,{ref:o,iconNode:e,className:SS(`lucide-${nA(m_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=m_(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Op=tt("aperture",lA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],dA=tt("arrow-up-right",cA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hA=tt("ban",uA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pA=tt("bell",mA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gA=tt("book-open",fA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vA=tt("chart-column",xA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bA=tt("chevron-right",yA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jd=tt("circle-alert",_A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jA=tt("circle-check",wA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Gm=tt("circle-dot",SA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kA=tt("circle-user-round",NA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TA=tt("clock-3",CA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],EA=tt("cloud-upload",AA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RA=tt("compass",IA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],LA=tt("database",PA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],NS=tt("diamond",DA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FA=tt("file-text",MA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],$A=tt("folder-search",BA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OA=tt("globe",VA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],kS=tt("hexagon",UA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],HA=tt("house",zA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],WA=tt("layers",GA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],KA=tt("layout-dashboard",qA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ga=tt("loader-circle",QA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],YA=tt("messages-square",XA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],ZA=tt("pin-off",JA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],tE=tt("pin",eE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Up=tt("refresh-ccw",sE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],rE=tt("scroll-text",nE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],av=tt("search",iE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],oE=tt("server-cog",aE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cE=tt("settings",lE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],CS=tt("shapes",dE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],TS=tt("shield-alert",uE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mE=tt("shield-check",hE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],fE=tt("shield-off",pE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rl=tt("shield",gE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],vE=tt("square-activity",xE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bE=tt("star",yE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],wE=tt("sticky-note",_E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hy=tt("triangle-alert",jE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],NE=tt("trophy",SE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],CE=tt("upload",kE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zp=tt("users",TE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],EE=tt("wrench",AE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AS=tt("zap",IE),RE="_topbar_1lc6k_3",PE="_topbarLeft_1lc6k_39",LE="_searchWrap_1lc6k_55",DE="_topbarRight_1lc6k_109",ME="_ico_1lc6k_125",FE="_btnIco_1lc6k_139",BE="_pill_1lc6k_173",$E="_pillActive_1lc6k_195",VE="_onlyExpanded_1lc6k_203",OE="_topbarNav_1lc6k_205",UE="_topbarLink_1lc6k_215",zE="_upload_1lc6k_225",HE="_label_1lc6k_255",GE="_avatarBtn_1lc6k_261",WE="_avatar_1lc6k_261",qE="_avatarSpinnerShell_1lc6k_289",KE="_avatarSpinner_1lc6k_289",QE="_srOnly_1lc6k_325",XE="_accountRoot_1lc6k_351",YE="_accountDropdown_1lc6k_359",JE="_accountHeader_1lc6k_389",ZE="_accountName_1lc6k_401",e6="_accountSub_1lc6k_413",t6="_accountStatusText_1lc6k_423",s6="_accountPrimary_1lc6k_433",n6="_accountHint_1lc6k_455",r6="_accountItem_1lc6k_465",i6="_accountDivider_1lc6k_495",a6="_accountMiniAvatar_1lc6k_507",o6="_accountLogout_1lc6k_519",ht={topbar:RE,topbarLeft:PE,searchWrap:LE,topbarRight:DE,ico:ME,btnIco:FE,pill:BE,pillActive:$E,onlyExpanded:VE,topbarNav:OE,topbarLink:UE,upload:zE,label:HE,avatarBtn:GE,avatar:WE,avatarSpinnerShell:qE,avatarSpinner:KE,srOnly:QE,accountRoot:XE,accountDropdown:YE,accountHeader:JE,accountName:ZE,accountSub:e6,accountStatusText:t6,accountPrimary:s6,accountHint:n6,accountItem:r6,accountDivider:i6,accountMiniAvatar:a6,accountLogout:o6},il="https://auth.sfdatahub.com",ES=E.createContext(void 0),p_=`${il}/auth/session`,f_=`${il}/auth/logout`,l6=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState("idle"),o=E.useCallback(S=>{S!=null&&S.authenticated&&S.user?(n(S.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),c=E.useCallback(async()=>{if(i("loading"),!p_){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated");return}try{const S=await fetch(p_,{credentials:"include"});if(!S.ok)throw new Error(`Failed to fetch session (${S.status})`);const P=await S.json();o(P)}catch(S){console.error("[Auth] Failed to refresh session.",S),n(null),i("unauthenticated")}},[o]);E.useEffect(()=>{c()},[c]);const d=E.useCallback(S=>{window.location.href=`${il}/auth/${S}/login`},[]),u=E.useCallback(()=>d("discord"),[d]),m=E.useCallback(()=>d("google"),[d]),p=E.useCallback(async()=>{if(!f_){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const S=await fetch(f_,{method:"POST",credentials:"include"});if(!S.ok)throw new Error(`Logout failed (${S.status})`)}catch(S){console.error("[Auth] Failed to logout. Clearing local session anyway.",S)}finally{n(null),i("unauthenticated")}},[]),x=E.useCallback(async()=>{await c()},[c]),v=r==="idle"||r==="loading",w=E.useMemo(()=>({user:e,status:r,isLoading:v,loginWithDiscord:u,loginWithGoogle:m,logout:p,refreshSession:x}),[e,r,v,u,m,p,x]);return s.jsx(ES.Provider,{value:w,children:t})},al=()=>{const t=E.useContext(ES);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},c6="https://i.pravatar.cc/72",d6=({fallbackName:t})=>{var L,T;const{user:e,status:n,logout:r,isLoading:i}=al(),o=Pr(),[c,d]=E.useState(!1),u=E.useRef(null),m=n==="authenticated",p=m?(T=(L=e==null?void 0:e.displayName)!=null?L:t)!=null?T:"Player":t!=null?t:"Guest",x=m&&(e!=null&&e.avatarUrl)?e.avatarUrl:c6;E.useEffect(()=>{const y=j=>{u.current&&!u.current.contains(j.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),E.useEffect(()=>{i&&d(!1)},[i]);const v=E.useCallback(()=>d(!1),[]),w=()=>{d(y=>!y)},S=()=>{o("/login"),v()},P=()=>{o("/settings/account"),v()},R=E.useCallback(async()=>{try{await r()}finally{v(),o("/")}},[v,r,o]),B=()=>{var y;if(i)return s.jsx("p",{className:ht.accountStatusText,children:"Checking session..."});if(n==="unauthenticated")return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ht.accountHeader,children:[s.jsx("p",{className:ht.accountName,children:"Not signed in"}),s.jsx("p",{className:ht.accountSub,children:"Your scans stay synced when you log in."})]}),s.jsx("button",{type:"button",className:ht.accountPrimary,onClick:S,children:"Sign in"}),s.jsx("p",{className:ht.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(n==="authenticated"){const j=!!((y=e==null?void 0:e.roles)!=null&&y.includes("admin"));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ht.accountHeader,children:[s.jsx("img",{className:ht.accountMiniAvatar,src:x,alt:p}),s.jsxs("div",{children:[s.jsx("p",{className:ht.accountName,children:p}),s.jsxs("p",{className:ht.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),s.jsx("button",{type:"button",className:ht.accountItem,onClick:P,children:"Account & Profile"}),j?s.jsx("a",{className:ht.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,s.jsx("hr",{className:ht.accountDivider}),s.jsx("button",{type:"button",className:`${ht.accountItem} ${ht.accountLogout}`,onClick:R,children:"Logout"})]})}return null};return s.jsxs("div",{className:ht.accountRoot,ref:u,children:[i?s.jsxs("div",{className:ht.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[s.jsx("span",{className:ht.avatarSpinner,"aria-hidden":"true"}),s.jsx("span",{className:ht.srOnly,children:"Checking login status"})]}):s.jsx("button",{type:"button",className:ht.avatarBtn,"aria-haspopup":"menu","aria-expanded":c,"aria-label":p,onClick:w,children:s.jsx("img",{className:ht.avatar,src:x,alt:p})}),!i&&c&&s.jsx("div",{className:ht.accountDropdown,role:"menu",children:B()})]})},IS=E.createContext(null);function u6({children:t,role:e}){const[n,r]=E.useState(!1),[i,o]=E.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=E.useCallback(p=>{c&&(p!=null&&p.tab?o(p.tab):o("csv"),r(!0))},[c]),u=E.useCallback(()=>r(!1),[]),m=E.useMemo(()=>({isOpen:n,open:d,close:u,activeTab:i,setTab:o,canUse:c}),[n,d,u,i,c]);return s.jsx(IS.Provider,{value:m,children:t})}function RS(){const t=E.useContext(IS);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],d=t[n++],u=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,d=c?t[i+1]:0,u=i+2<t.length,m=u?t[i+2]:0,p=o>>2,x=(o&3)<<4|d>>4;let v=(d&15)<<2|m>>6,w=m&63;u||(w=64,c||(v=64)),r.push(n[p],n[x],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||d==null||m==null||x==null)throw new m6;const v=o<<2|d>>4;if(r.push(v),m!==64){const w=d<<4&240|m>>2;if(r.push(w),x!==64){const S=m<<6&192|x;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p6=function(t){const e=PS(t);return LS.encodeByteArray(e,!0)},cp=function(t){return p6(t).replace(/\./g,"")},f6=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=()=>g6().__FIREBASE_DEFAULTS__,v6=()=>{if(typeof process=="undefined"||typeof g_=="undefined")return;const t=g_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y6=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&f6(t[1]);return e&&JSON.parse(e)},my=()=>{try{return x6()||v6()||y6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},b6=t=>{var e,n;return(n=(e=my())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_6=t=>{const e=b6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DS=()=>{var t;return(t=my())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cp(JSON.stringify(n)),cp(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N6(){var t;const e=(t=my())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function k6(){return!N6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C6(){try{return typeof indexedDB=="object"}catch(t){return!1}}function T6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="FirebaseError";class Lc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A6,Object.setPrototypeOf(this,Lc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,MS.prototype.create)}}class MS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?E6(o,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Lc(i,d,r)}}function E6(t,e){return t.replace(I6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I6=/\{\$([^}]+)}/g;function ov(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(x_(o)&&x_(c)){if(!ov(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function x_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class pu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L6(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P6(t){return t===Bo?void 0:t}function L6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(At||(At={}));const M6={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},F6=At.INFO,B6={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},$6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=B6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FS{constructor(e){this.name=e,this._logLevel=F6,this._logHandler=$6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...e),this._logHandler(this,At.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...e),this._logHandler(this,At.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,At.INFO,...e),this._logHandler(this,At.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,At.WARN,...e),this._logHandler(this,At.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...e),this._logHandler(this,At.ERROR,...e)}}const V6=(t,e)=>e.some(n=>t instanceof n);let v_,y_;function O6(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U6(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,lv=new WeakMap,$S=new WeakMap,tx=new WeakMap,py=new WeakMap;function z6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Wa(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),py.set(e,t),e}function H6(t){if(lv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});lv.set(t,e)}let cv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G6(t){cv=t(cv)}function W6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sx(this),e,...n);return $S.set(r,e.sort?e.sort():[e]),Wa(r)}:U6().includes(t)?function(...e){return t.apply(sx(this),e),Wa(BS.get(this))}:function(...e){return Wa(t.apply(sx(this),e))}}function q6(t){return typeof t=="function"?W6(t):(t instanceof IDBTransaction&&H6(t),V6(t,O6())?new Proxy(t,cv):t)}function Wa(t){if(t instanceof IDBRequest)return z6(t);if(tx.has(t))return tx.get(t);const e=q6(t);return e!==t&&(tx.set(t,e),py.set(e,t)),e}const sx=t=>py.get(t);function K6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),d=Wa(c);return r&&c.addEventListener("upgradeneeded",u=>{r(Wa(c.result),u.oldVersion,u.newVersion,Wa(c.transaction),u)}),n&&c.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),d.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Q6=["get","getKey","getAll","getAllKeys","count"],X6=["put","add","delete","clear"],nx=new Map;function b_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nx.get(e))return nx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=X6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q6.includes(n)))return;const o=async function(c,...d){const u=this.transaction(c,i?"readwrite":"readonly");let m=u.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&u.done]))[0]};return nx.set(e,o),o}G6(t=>({...t,get:(e,n,r)=>b_(e,n)||t.get(e,n,r),has:(e,n)=>!!b_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function J6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dv="@firebase/app",__="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new FS("@firebase/app"),Z6="@firebase/app-compat",eI="@firebase/analytics-compat",tI="@firebase/analytics",sI="@firebase/app-check-compat",nI="@firebase/app-check",rI="@firebase/auth",iI="@firebase/auth-compat",aI="@firebase/database",oI="@firebase/data-connect",lI="@firebase/database-compat",cI="@firebase/functions",dI="@firebase/functions-compat",uI="@firebase/installations",hI="@firebase/installations-compat",mI="@firebase/messaging",pI="@firebase/messaging-compat",fI="@firebase/performance",gI="@firebase/performance-compat",xI="@firebase/remote-config",vI="@firebase/remote-config-compat",yI="@firebase/storage",bI="@firebase/storage-compat",_I="@firebase/firestore",wI="@firebase/vertexai-preview",jI="@firebase/firestore-compat",SI="firebase",NI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="[DEFAULT]",kI={[dv]:"fire-core",[Z6]:"fire-core-compat",[tI]:"fire-analytics",[eI]:"fire-analytics-compat",[nI]:"fire-app-check",[sI]:"fire-app-check-compat",[rI]:"fire-auth",[iI]:"fire-auth-compat",[aI]:"fire-rtdb",[oI]:"fire-data-connect",[lI]:"fire-rtdb-compat",[cI]:"fire-fn",[dI]:"fire-fn-compat",[uI]:"fire-iid",[hI]:"fire-iid-compat",[mI]:"fire-fcm",[pI]:"fire-fcm-compat",[fI]:"fire-perf",[gI]:"fire-perf-compat",[xI]:"fire-rc",[vI]:"fire-rc-compat",[yI]:"fire-gcs",[bI]:"fire-gcs-compat",[_I]:"fire-fst",[jI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[SI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,CI=new Map,hv=new Map;function w_(t,e){try{t.container.addComponent(e)}catch(n){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dp(t){const e=t.name;if(hv.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;hv.set(e,t);for(const n of fu.values())w_(n,t);for(const n of CI.values())w_(n,t);return!0}function TI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new MS("app","Firebase",AI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=NI;function VS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qa.create("bad-app-name",{appName:String(i)});if(n||(n=DS()),!n)throw qa.create("no-options");const o=fu.get(i);if(o){if(ov(n,o.options)&&ov(r,o.config))return o;throw qa.create("duplicate-app",{appName:i})}const c=new D6(i);for(const u of hv.values())c.addComponent(u);const d=new EI(n,r,c);return fu.set(i,d),d}function OS(t=uv){const e=fu.get(t);if(!e&&t===uv&&DS())return VS();if(!e)throw qa.create("no-app",{appName:t});return e}function RI(){return Array.from(fu.values())}function hc(t,e,n){var r;let i=(r=kI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(d.join(" "));return}dp(new pu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebase-heartbeat-database",LI=1,gu="firebase-heartbeat-store";let rx=null;function US(){return rx||(rx=K6(PI,LI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qa.create("idb-open",{originalErrorMessage:t.message})})),rx}async function DI(t){try{const n=(await US()).transaction(gu),r=await n.objectStore(gu).get(zS(t));return await n.done,r}catch(e){if(e instanceof Lc)ia.warn(e.message);else{const n=qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ia.warn(n.message)}}}async function j_(t,e){try{const r=(await US()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,zS(t)),await r.done}catch(n){if(n instanceof Lc)ia.warn(n.message);else{const r=qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(r.message)}}}function zS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1024,FI=720*60*60*1e3;class BI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=S_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=FI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ia.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S_(),{heartbeatsToSend:r,unsentEntries:i}=$I(this._heartbeatsCache.heartbeats),o=cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ia.warn(n),""}}}function S_(){return new Date().toISOString().substring(0,10)}function $I(t,e=MI){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),N_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C6()?T6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function N_(t){return cp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){dp(new pu("platform-logger",e=>new Y6(e),"PRIVATE")),dp(new pu("heartbeat",e=>new BI(e),"PRIVATE")),hc(dv,__,t),hc(dv,__,"esm2017"),hc("fire-js","")}OI("");var k_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,HS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function A(){}A.prototype=_.prototype,C.D=_.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(D,I,V){for(var $=Array(arguments.length-2),W=2;W<arguments.length;W++)$[W-2]=arguments[W];return _.prototype[I].apply(D,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,A){A||(A=0);var D=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)D[I]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(I=0;16>I;++I)D[I]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=C.g[0],A=C.g[1],I=C.g[2];var V=C.g[3],$=_+(V^A&(I^V))+D[0]+3614090360&4294967295;_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+D[1]+3905402710&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+D[2]+606105819&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+D[3]+3250441966&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(V^A&(I^V))+D[4]+4118548399&4294967295,_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+D[5]+1200080426&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+D[6]+2821735955&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+D[7]+4249261313&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(V^A&(I^V))+D[8]+1770035416&4294967295,_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+D[9]+2336552879&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+D[10]+4294925233&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+D[11]+2304563134&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(V^A&(I^V))+D[12]+1804603682&4294967295,_=A+($<<7&4294967295|$>>>25),$=V+(I^_&(A^I))+D[13]+4254626195&4294967295,V=_+($<<12&4294967295|$>>>20),$=I+(A^V&(_^A))+D[14]+2792965006&4294967295,I=V+($<<17&4294967295|$>>>15),$=A+(_^I&(V^_))+D[15]+1236535329&4294967295,A=I+($<<22&4294967295|$>>>10),$=_+(I^V&(A^I))+D[1]+4129170786&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+D[6]+3225465664&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+D[11]+643717713&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+D[0]+3921069994&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(I^V&(A^I))+D[5]+3593408605&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+D[10]+38016083&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+D[15]+3634488961&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+D[4]+3889429448&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(I^V&(A^I))+D[9]+568446438&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+D[14]+3275163606&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+D[3]+4107603335&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+D[8]+1163531501&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(I^V&(A^I))+D[13]+2850285829&4294967295,_=A+($<<5&4294967295|$>>>27),$=V+(A^I&(_^A))+D[2]+4243563512&4294967295,V=_+($<<9&4294967295|$>>>23),$=I+(_^A&(V^_))+D[7]+1735328473&4294967295,I=V+($<<14&4294967295|$>>>18),$=A+(V^_&(I^V))+D[12]+2368359562&4294967295,A=I+($<<20&4294967295|$>>>12),$=_+(A^I^V)+D[5]+4294588738&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+D[8]+2272392833&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+D[11]+1839030562&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+D[14]+4259657740&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(A^I^V)+D[1]+2763975236&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+D[4]+1272893353&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+D[7]+4139469664&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+D[10]+3200236656&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(A^I^V)+D[13]+681279174&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+D[0]+3936430074&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+D[3]+3572445317&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+D[6]+76029189&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(A^I^V)+D[9]+3654602809&4294967295,_=A+($<<4&4294967295|$>>>28),$=V+(_^A^I)+D[12]+3873151461&4294967295,V=_+($<<11&4294967295|$>>>21),$=I+(V^_^A)+D[15]+530742520&4294967295,I=V+($<<16&4294967295|$>>>16),$=A+(I^V^_)+D[2]+3299628645&4294967295,A=I+($<<23&4294967295|$>>>9),$=_+(I^(A|~V))+D[0]+4096336452&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+D[7]+1126891415&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+D[14]+2878612391&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+D[5]+4237533241&4294967295,A=I+($<<21&4294967295|$>>>11),$=_+(I^(A|~V))+D[12]+1700485571&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+D[3]+2399980690&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+D[10]+4293915773&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+D[1]+2240044497&4294967295,A=I+($<<21&4294967295|$>>>11),$=_+(I^(A|~V))+D[8]+1873313359&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+D[15]+4264355552&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+D[6]+2734768916&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+D[13]+1309151649&4294967295,A=I+($<<21&4294967295|$>>>11),$=_+(I^(A|~V))+D[4]+4149444226&4294967295,_=A+($<<6&4294967295|$>>>26),$=V+(A^(_|~I))+D[11]+3174756917&4294967295,V=_+($<<10&4294967295|$>>>22),$=I+(_^(V|~A))+D[2]+718787259&4294967295,I=V+($<<15&4294967295|$>>>17),$=A+(V^(I|~_))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(I+($<<21&4294967295|$>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var A=_-this.blockSize,D=this.B,I=this.h,V=0;V<_;){if(I==0)for(;V<=A;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<_;)if(D[I++]=C.charCodeAt(V++),I==this.blockSize){i(this,D),I=0;break}}else for(;V<_;)if(D[I++]=C[V++],I==this.blockSize){i(this,D),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var A=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=A&255,A/=256;for(this.u(C),C=Array(16),_=A=0;4>_;++_)for(var D=0;32>D;D+=8)C[A++]=this.g[_]>>>D&255;return C};function o(C,_){var A=d;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=_(C)}function c(C,_){this.h=_;for(var A=[],D=!0,I=C.length-1;0<=I;I--){var V=C[I]|0;D&&V==_||(A[I]=V,D=!1)}this.g=A}var d={};function u(C){return-128<=C&&128>C?o(C,function(_){return new c([_|0],0>_?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return x;if(0>C)return R(m(-C));for(var _=[],A=1,D=0;C>=A;D++)_[D]=C/A|0,A*=4294967296;return new c(_,0)}function p(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return R(p(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(_,8)),D=x,I=0;I<C.length;I+=8){var V=Math.min(8,C.length-I),$=parseInt(C.substring(I,I+V),_);8>V?(V=m(Math.pow(_,V)),D=D.j(V).add(m($))):(D=D.j(A),D=D.add(m($)))}return D}var x=u(0),v=u(1),w=u(16777216);t=c.prototype,t.m=function(){if(P(this))return-R(this).m();for(var C=0,_=1,A=0;A<this.g.length;A++){var D=this.i(A);C+=(0<=D?D:4294967296+D)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(P(this))return"-"+R(this).toString(C);for(var _=m(Math.pow(C,6)),A=this,D="";;){var I=y(A,_).g;A=B(A,I.j(_));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=I,S(A))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=B(this,C),P(C)?-1:S(C)?0:1};function R(C){for(var _=C.g.length,A=[],D=0;D<_;D++)A[D]=~C.g[D];return new c(A,~C.h).add(v)}t.abs=function(){return P(this)?R(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],D=0,I=0;I<=_;I++){var V=D+(this.i(I)&65535)+(C.i(I)&65535),$=(V>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);D=$>>>16,V&=65535,$&=65535,A[I]=$<<16|V}return new c(A,A[A.length-1]&-2147483648?-1:0)};function B(C,_){return C.add(R(_))}t.j=function(C){if(S(this)||S(C))return x;if(P(this))return P(C)?R(this).j(R(C)):R(R(this).j(C));if(P(C))return R(this.j(R(C)));if(0>this.l(w)&&0>C.l(w))return m(this.m()*C.m());for(var _=this.g.length+C.g.length,A=[],D=0;D<2*_;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<C.g.length;I++){var V=this.i(D)>>>16,$=this.i(D)&65535,W=C.i(I)>>>16,z=C.i(I)&65535;A[2*D+2*I]+=$*z,L(A,2*D+2*I),A[2*D+2*I+1]+=V*z,L(A,2*D+2*I+1),A[2*D+2*I+1]+=$*W,L(A,2*D+2*I+1),A[2*D+2*I+2]+=V*W,L(A,2*D+2*I+2)}for(D=0;D<_;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=_;D<2*_;D++)A[D]=0;return new c(A,0)};function L(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function T(C,_){this.g=C,this.h=_}function y(C,_){if(S(_))throw Error("division by zero");if(S(C))return new T(x,x);if(P(C))return _=y(R(C),_),new T(R(_.g),R(_.h));if(P(_))return _=y(C,R(_)),new T(R(_.g),_.h);if(30<C.g.length){if(P(C)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var A=v,D=_;0>=D.l(C);)A=j(A),D=j(D);var I=M(A,1),V=M(D,1);for(D=M(D,2),A=M(A,2);!S(D);){var $=V.add(D);0>=$.l(C)&&(I=I.add(A),V=$),D=M(D,1),A=M(A,1)}return _=B(C,I.j(_)),new T(I,_)}for(I=x;0<=C.l(_);){for(A=Math.max(1,Math.floor(C.m()/_.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=m(A),$=V.j(_);P($)||0<$.l(C);)A-=D,V=m(A),$=V.j(_);S(V)&&(V=v),I=I.add(V),C=B(C,$)}return new T(I,C)}t.A=function(C){return y(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],D=0;D<_;D++)A[D]=this.i(D)&C.i(D);return new c(A,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],D=0;D<_;D++)A[D]=this.i(D)|C.i(D);return new c(A,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],D=0;D<_;D++)A[D]=this.i(D)^C.i(D);return new c(A,this.h^C.h)};function j(C){for(var _=C.g.length+1,A=[],D=0;D<_;D++)A[D]=C.i(D)<<1|C.i(D-1)>>>31;return new c(A,C.h)}function M(C,_){var A=_>>5;_%=32;for(var D=C.g.length-A,I=[],V=0;V<D;V++)I[V]=0<_?C.i(V+A)>>>_|C.i(V+A+1)<<32-_:C.i(V+A);return new c(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=p,Wo=c}).apply(typeof k_!="undefined"?k_:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var xm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,Ud,WS,Wm,mv,qS,KS,QS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,N,F){return f==Array.prototype||f==Object.prototype||(f[N]=F.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xm=="object"&&xm];for(var N=0;N<f.length;++N){var F=f[N];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(f,N){if(N)e:{var F=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var ae=f[U];if(!(ae in F))break e;F=F[ae]}f=f[f.length-1],U=F[f],N=N(U),N!=U&&N!=null&&e(F,f,{configurable:!0,writable:!0,value:N})}}function o(f,N){f instanceof String&&(f+="");var F=0,U=!1,ae={next:function(){if(!U&&F<f.length){var he=F++;return{value:N(he,f[he]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(f){return f||function(){return o(this,function(N,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function u(f){var N=typeof f;return N=N!="object"?N:f?Array.isArray(f)?"array":N:"null",N=="array"||N=="object"&&typeof f.length=="number"}function m(f){var N=typeof f;return N=="object"&&f!=null||N=="function"}function p(f,N,F){return f.call.apply(f.bind,arguments)}function x(f,N,F){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,U),f.apply(N,ae)}}return function(){return f.apply(N,arguments)}}function v(f,N,F){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:x,v.apply(null,arguments)}function w(f,N){var F=Array.prototype.slice.call(arguments,1);return function(){var U=F.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function S(f,N){function F(){}F.prototype=N.prototype,f.aa=N.prototype,f.prototype=new F,f.prototype.constructor=f,f.Qb=function(U,ae,he){for(var Re=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Re[Pt-2]=arguments[Pt];return N.prototype[ae].apply(U,Re)}}function P(f){const N=f.length;if(0<N){const F=Array(N);for(let U=0;U<N;U++)F[U]=f[U];return F}return[]}function R(f,N){for(let F=1;F<arguments.length;F++){const U=arguments[F];if(u(U)){const ae=f.length||0,he=U.length||0;f.length=ae+he;for(let Re=0;Re<he;Re++)f[ae+Re]=U[Re]}else f.push(U)}}class B{constructor(N,F){this.i=N,this.j=F,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function L(f){return/^[\s\xa0]*$/.test(f)}function T(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(f,N,F){for(const U in f)N.call(F,f[U],U,f)}function C(f,N){for(const F in f)N.call(void 0,f[F],F,f)}function _(f){const N={};for(const F in f)N[F]=f[F];return N}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(f,N){let F,U;for(let ae=1;ae<arguments.length;ae++){U=arguments[ae];for(F in U)f[F]=U[F];for(let he=0;he<A.length;he++)F=A[he],Object.prototype.hasOwnProperty.call(U,F)&&(f[F]=U[F])}}function I(f){var N=1;f=f.split(":");const F=[];for(;0<N&&f.length;)F.push(f.shift()),N--;return f.length&&F.push(f.join(":")),F}function V(f){d.setTimeout(()=>{throw f},0)}function $(){var f=te;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}class W{constructor(){this.h=this.g=null}add(N,F){const U=z.get();U.set(N,F),this.h?this.h.next=U:this.g=U,this.h=U}}var z=new B(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(N,F){this.h=N,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,H=!1,te=new W,re=()=>{const f=d.Promise.resolve(void 0);Q=()=>{f.then(G)}};var G=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(F){V(F)}var N=z;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}H=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const F=()=>{};d.addEventListener("test",F,N),d.removeEventListener("test",F,N)}catch(F){}return f})();function fe(f,N){if(de.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var F=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(j){e:{try{y(N.nodeName);var ae=!0;break e}catch(he){}ae=!1}ae||(N=null)}}else F=="mouseover"?N=f.fromElement:F=="mouseout"&&(N=f.toElement);this.relatedTarget=N,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}S(fe,de);var Te={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ne(f,N,F,U,ae){this.listener=f,this.proxy=null,this.src=N,this.type=F,this.capture=!!U,this.ha=ae,this.key=++Ce,this.da=this.fa=!1}function ue(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}De.prototype.add=function(f,N,F,U,ae){var he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);var Re=st(f,N,U,ae);return-1<Re?(N=f[Re],F||(N.fa=!1)):(N=new Ne(N,this.src,he,!!U,ae),N.fa=F,f.push(N)),N};function Ee(f,N){var F=N.type;if(F in f.g){var U=f.g[F],ae=Array.prototype.indexOf.call(U,N,void 0),he;(he=0<=ae)&&Array.prototype.splice.call(U,ae,1),he&&(ue(N),f.g[F].length==0&&(delete f.g[F],f.h--))}}function st(f,N,F,U){for(var ae=0;ae<f.length;++ae){var he=f[ae];if(!he.da&&he.listener==N&&he.capture==!!F&&he.ha==U)return ae}return-1}var ut="closure_lm_"+(1e6*Math.random()|0),ss={};function Hs(f,N,F,U,ae){if(Array.isArray(N)){for(var he=0;he<N.length;he++)Hs(f,N[he],F,U,ae);return null}return F=ds(F),f&&f[xe]?f.K(N,F,m(U)?!!U.capture:!1,ae):Gs(f,N,F,!1,U,ae)}function Gs(f,N,F,U,ae,he){if(!N)throw Error("Invalid event type");var Re=m(ae)?!!ae.capture:!!ae,Pt=vn(f);if(Pt||(f[ut]=Pt=new De(f)),F=Pt.add(N,F,U,Re,he),F.proxy)return F;if(U=Pn(),F.proxy=U,U.src=f,U.listener=F,f.addEventListener)ee||(ae=Re),ae===void 0&&(ae=!1),f.addEventListener(N.toString(),U,ae);else if(f.attachEvent)f.attachEvent(Ds(N.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Pn(){function f(F){return N.call(f.src,f.listener,F)}const N=Ln;return f}function Ws(f,N,F,U,ae){if(Array.isArray(N))for(var he=0;he<N.length;he++)Ws(f,N[he],F,U,ae);else U=m(U)?!!U.capture:!!U,F=ds(F),f&&f[xe]?(f=f.i,N=String(N).toString(),N in f.g&&(he=f.g[N],F=st(he,F,U,ae),-1<F&&(ue(he[F]),Array.prototype.splice.call(he,F,1),he.length==0&&(delete f.g[N],f.h--)))):f&&(f=vn(f))&&(N=f.g[N.toString()],f=-1,N&&(f=st(N,F,U,ae)),(F=-1<f?N[f]:null)&&Ls(F))}function Ls(f){if(typeof f!="number"&&f&&!f.da){var N=f.src;if(N&&N[xe])Ee(N.i,f);else{var F=f.type,U=f.proxy;N.removeEventListener?N.removeEventListener(F,U,f.capture):N.detachEvent?N.detachEvent(Ds(F),U):N.addListener&&N.removeListener&&N.removeListener(U),(F=vn(N))?(Ee(F,f),F.h==0&&(F.src=null,N[ut]=null)):ue(f)}}}function Ds(f){return f in ss?ss[f]:ss[f]="on"+f}function Ln(f,N){if(f.da)f=!0;else{N=new fe(N,this);var F=f.listener,U=f.ha||f.src;f.fa&&Ls(f),f=F.call(U,N)}return f}function vn(f){return f=f[ut],f instanceof De?f:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ds(f){return typeof f=="function"?f:(f[yn]||(f[yn]=function(N){return f.handleEvent(N)}),f[yn])}function Xt(){se.call(this),this.i=new De(this),this.M=this,this.F=null}S(Xt,se),Xt.prototype[xe]=!0,Xt.prototype.removeEventListener=function(f,N,F,U){Ws(this,f,N,F,U)};function Gt(f,N){var F,U=f.F;if(U)for(F=[];U;U=U.F)F.push(U);if(f=f.M,U=N.type||N,typeof N=="string")N=new de(N,f);else if(N instanceof de)N.target=N.target||f;else{var ae=N;N=new de(U,f),D(N,ae)}if(ae=!0,F)for(var he=F.length-1;0<=he;he--){var Re=N.g=F[he];ae=Dt(Re,U,!0,N)&&ae}if(Re=N.g=f,ae=Dt(Re,U,!0,N)&&ae,ae=Dt(Re,U,!1,N)&&ae,F)for(he=0;he<F.length;he++)Re=N.g=F[he],ae=Dt(Re,U,!1,N)&&ae}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var f=this.i,N;for(N in f.g){for(var F=f.g[N],U=0;U<F.length;U++)ue(F[U]);delete f.g[N],f.h--}}this.F=null},Xt.prototype.K=function(f,N,F,U){return this.i.add(String(f),N,!1,F,U)},Xt.prototype.L=function(f,N,F,U){return this.i.add(String(f),N,!0,F,U)};function Dt(f,N,F,U){if(N=f.i.g[String(N)],!N)return!0;N=N.concat();for(var ae=!0,he=0;he<N.length;++he){var Re=N[he];if(Re&&!Re.da&&Re.capture==F){var Pt=Re.listener,As=Re.ha||Re.src;Re.fa&&Ee(f.i,Re),ae=Pt.call(As,U)!==!1&&ae}}return ae&&!U.defaultPrevented}function ai(f,N,F){if(typeof f=="function")F&&(f=v(f,F));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:d.setTimeout(f,N||0)}function Xn(f){f.g=ai(()=>{f.g=null,f.i&&(f.i=!1,Xn(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}class mr extends se{constructor(N,F){super(),this.m=N,this.l=F,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(f){se.call(this),this.h=f,this.g={}}S(pr,se);var oi=[];function Ti(f){M(f.g,function(N,F){this.g.hasOwnProperty(F)&&Ls(N)},f),f.g={}}pr.prototype.N=function(){pr.aa.N.call(this),Ti(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=d.JSON.stringify,Dr=d.JSON.parse,Wt=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function fr(){}fr.prototype.h=null;function Ai(f){return f.h||(f.h=f.i())}function Ei(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){de.call(this,"d")}S(Yn,de);function Ii(){de.call(this,"c")}S(Ii,de);var Jn={},zc=null;function no(){return zc=zc||new Xt}Jn.La="serverreachability";function Hc(f){de.call(this,Jn.La,f)}S(Hc,de);function Ri(f){const N=no();Gt(N,new Hc(N))}Jn.STAT_EVENT="statevent";function Gc(f,N){de.call(this,Jn.STAT_EVENT,f),this.stat=N}S(Gc,de);function gs(f){const N=no();Gt(N,new Gc(N,f))}Jn.Ma="timingevent";function hl(f,N){de.call(this,Jn.Ma,f),this.size=N}S(hl,de);function Mr(f,N){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},N)}function ro(){this.g=!0}ro.prototype.xa=function(){this.g=!1};function io(f,N,F,U,ae,he){f.info(function(){if(f.g)if(he)for(var Re="",Pt=he.split("&"),As=0;As<Pt.length;As++){var St=Pt[As].split("=");if(1<St.length){var Ms=St[0];St=St[1];var _s=Ms.split("_");Re=2<=_s.length&&_s[1]=="type"?Re+(Ms+"="+St+"&"):Re+(Ms+"=redacted&")}}else Re=null;else Re=he;return"XMLHTTP REQ ("+U+") [attempt "+ae+"]: "+N+`
`+F+`
`+Re})}function ml(f,N,F,U,ae,he,Re){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ae+"]: "+N+`
`+F+`
`+he+" "+Re})}function Fr(f,N,F,U){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+wf(f,F)+(U?" "+U:"")})}function Wc(f,N){f.info(function(){return"TIMEOUT: "+N})}ro.prototype.info=function(){};function wf(f,N){if(!f.g)return N;if(!N)return null;try{var F=JSON.parse(N);if(F){for(f=0;f<F.length;f++)if(Array.isArray(F[f])){var U=F[f];if(!(2>U.length)){var ae=U[1];if(Array.isArray(ae)&&!(1>ae.length)){var he=ae[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Re=1;Re<ae.length;Re++)ae[Re]=""}}}}return li(F)}catch(Pt){return N}}var pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},th={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function ao(){}S(ao,fr),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},Br=new ao;function $r(f,N,F,U){this.j=f,this.i=N,this.l=F,this.R=U||1,this.U=new pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sh}function sh(){this.i=null,this.g="",this.h=!1}var qc={},fl={};function gl(f,N,F){f.L=1,f.v=ga(er(N)),f.m=F,f.P=!0,Kc(f,null)}function Kc(f,N){f.F=Date.now(),Vt(f),f.A=er(f.v);var F=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),va(F.i,"t",U),f.C=0,F=f.j.J,f.h=new sh,f.g=bh(f.j,F?N:null,!f.m),0<f.O&&(f.M=new mr(v(f.Y,f,f.g),f.O)),N=f.U,F=f.g,U=f.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(oi[0]=ae.toString()),ae=oi);for(var he=0;he<ae.length;he++){var Re=Hs(F,ae[he],U||N.handleEvent,!1,N.h||N);if(!Re)break;N.g[Re.key]=Re}N=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),Ri(),io(f.i,f.u,f.A,f.l,f.R,f.m)}$r.prototype.ca=function(f){f=f.target;const N=this.M;N&&Mn(f)==3?N.j():this.Y(f)},$r.prototype.Y=function(f){try{if(f==this.g)e:{const _s=Mn(this.g);var N=this.g.Ba();const vr=this.g.Z();if(!(3>_s)&&(_s!=3||this.g&&(this.h.h||this.g.oa()||ed(this.g)))){this.J||_s!=4||N==7||(N==8||0>=vr?Ri(3):Ri(2)),oo(this);var F=this.g.Z();this.X=F;t:if(nh(this)){var U=ed(this.g);f="";var ae=U.length,he=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){gr(this),ha(this);var Re="";break t}this.h.i=new d.TextDecoder}for(N=0;N<ae;N++)this.h.h=!0,f+=this.h.i.decode(U[N],{stream:!(he&&N==ae-1)});U.length=0,this.h.g+=f,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=F==200,ml(this.i,this.u,this.A,this.l,this.R,_s,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,As=this.g;if((Pt=As.g?As.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Pt)){var St=Pt;break t}}St=null}if(F=St)Fr(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qc(this,F);else{this.o=!1,this.s=3,gs(12),gr(this),ha(this);break e}}if(this.P){F=!0;let sr;for(;!this.J&&this.C<Re.length;)if(sr=jf(this,Re),sr==fl){_s==4&&(this.s=4,gs(14),F=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==qc){this.s=4,gs(15),Fr(this.i,this.l,Re,"[Invalid Chunk]"),F=!1;break}else Fr(this.i,this.l,sr,null),Qc(this,sr);if(nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_s!=4||Re.length!=0||this.h.h||(this.s=1,gs(16),F=!1),this.o=this.o&&F,!F)Fr(this.i,this.l,Re,"[Invalid Chunked Response]"),gr(this),ha(this);else if(0<Re.length&&!this.W){this.W=!0;var Ms=this.j;Ms.g==this&&Ms.ba&&!Ms.M&&(Ms.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),sd(Ms),Ms.M=!0,gs(11))}}else Fr(this.i,this.l,Re,null),Qc(this,Re);_s==4&&gr(this),this.o&&!this.J&&(_s==4?Cl(this.j,this):(this.o=!1,Vt(this)))}else wl(this.g),F==400&&0<Re.indexOf("Unknown SID")?(this.s=3,gs(12)):(this.s=0,gs(13)),gr(this),ha(this)}}}catch(_s){}finally{}};function nh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function jf(f,N){var F=f.C,U=N.indexOf(`
`,F);return U==-1?fl:(F=Number(N.substring(F,U)),isNaN(F)?qc:(U+=1,U+F>N.length?fl:(N=N.slice(U,U+F),f.C=U+F,N)))}$r.prototype.cancel=function(){this.J=!0,gr(this)};function Vt(f){f.S=Date.now()+f.I,rh(f,f.I)}function rh(f,N){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Mr(v(f.ba,f),N)}function oo(f){f.B&&(d.clearTimeout(f.B),f.B=null)}$r.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Wc(this.i,this.A),this.L!=2&&(Ri(),gs(17)),gr(this),this.s=2,ha(this)):rh(this,this.S-f)};function ha(f){f.j.G==0||f.J||Cl(f.j,f)}function gr(f){oo(f);var N=f.M;N&&typeof N.ma=="function"&&N.ma(),f.M=null,Ti(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function Qc(f,N){try{var F=f.j;if(F.G!=0&&(F.g==f||_n(F.h,f))){if(!f.K&&_n(F.h,f)&&F.G==3){try{var U=F.Da.g.parse(N)}catch(St){U=null}if(Array.isArray(U)&&U.length==3){var ae=U;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<f.F)kl(F),Hr(F);else break e;Nl(F),gs(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=Mr(v(F.Za,F),6e3));if(1>=ah(F.h)&&F.ca){try{F.ca()}catch(St){}F.ca=void 0}}else Fi(F,11)}else if((f.K||F.g==f)&&kl(F),!L(N))for(ae=F.Da.g.parse(N),N=0;N<ae.length;N++){let St=ae[N];if(F.T=St[0],St=St[1],F.G==2)if(St[0]=="c"){F.K=St[1],F.ia=St[2];const Ms=St[3];Ms!=null&&(F.la=Ms,F.j.info("VER="+F.la));const _s=St[4];_s!=null&&(F.Aa=_s,F.j.info("SVER="+F.Aa));const vr=St[5];vr!=null&&typeof vr=="number"&&0<vr&&(U=1.5*vr,F.L=U,F.j.info("backChannelRequestTimeoutMs_="+U)),U=F;const sr=f.g;if(sr){const fo=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fo){var he=U.h;he.g||fo.indexOf("spdy")==-1&&fo.indexOf("quic")==-1&&fo.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Xc(he,he.h),he.h=null))}if(U.D){const Al=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(U.ya=Al,Ft(U.I,U.D,Al))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-f.F,F.j.info("Handshake RTT: "+F.R+"ms")),U=F;var Re=f;if(U.qa=yh(U,U.J?U.ia:null,U.W),Re.K){oh(U.h,Re);var Pt=Re,As=U.L;As&&(Pt.I=As),Pt.B&&(oo(Pt),Vt(Pt)),U.g=Re}else po(U);0<F.i.length&&hi(F)}else St[0]!="stop"&&St[0]!="close"||Fi(F,7);else F.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Fi(F,7):Ks(F):St[0]!="noop"&&F.l&&F.l.ta(St),F.v=0)}}Ri(4)}catch(St){}}var ih=class{constructor(f,N){this.g=f,this.map=N}};function lo(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ah(f){return f.h?1:f.g?f.g.size:0}function _n(f,N){return f.h?f.h==N:f.g?f.g.has(N):!1}function Xc(f,N){f.g?f.g.add(N):f.h=N}function oh(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}lo.prototype.cancel=function(){if(this.i=lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function lh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let N=f.i;for(const F of f.g.values())N=N.concat(F.D);return N}return P(f.i)}function xl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var N=[],F=f.length,U=0;U<F;U++)N.push(f[U]);return N}N=[],F=0;for(U in f)N[F++]=f[U];return N}function vl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var N=[];f=f.length;for(var F=0;F<f;F++)N.push(F);return N}N=[],F=0;for(const U in f)N[F++]=U;return N}}}function ma(f,N){if(f.forEach&&typeof f.forEach=="function")f.forEach(N,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,N,void 0);else for(var F=vl(f),U=xl(f),ae=U.length,he=0;he<ae;he++)N.call(void 0,U[he],F&&F[he],f)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(f,N){if(f){f=f.split("&");for(var F=0;F<f.length;F++){var U=f[F].indexOf("="),ae=null;if(0<=U){var he=f[F].substring(0,U);ae=f[F].substring(U+1)}else he=f[F];N(he,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Pi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Pi){this.h=f.h,uo(this,f.j),this.o=f.o,this.g=f.g,pa(this,f.s),this.l=f.l;var N=f.i,F=new ci;F.i=N.i,N.g&&(F.g=new Map(N.g),F.h=N.h),fa(this,F),this.m=f.m}else f&&(N=String(f).match(co))?(this.h=!1,uo(this,N[1]||"",!0),this.o=wt(N[2]||""),this.g=wt(N[3]||"",!0),pa(this,N[4]),this.l=wt(N[5]||"",!0),fa(this,N[6]||"",!0),this.m=wt(N[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Pi.prototype.toString=function(){var f=[],N=this.j;N&&f.push(xa(N,yl,!0),":");var F=this.g;return(F||N=="file")&&(f.push("//"),(N=this.o)&&f.push(xa(N,yl,!0),"@"),f.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&f.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&f.push("/"),f.push(xa(F,F.charAt(0)=="/"?uh:dh,!0))),(F=this.i.toString())&&f.push("?",F),(F=this.m)&&f.push("#",xa(F,Yc)),f.join("")};function er(f){return new Pi(f)}function uo(f,N,F){f.j=F?wt(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function pa(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function fa(f,N,F){N instanceof ci?(f.i=N,di(f.i,f.h)):(F||(N=xa(N,hh)),f.i=new ci(N,f.h))}function Ft(f,N,F){f.i.set(N,F)}function ga(f){return Ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function wt(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xa(f,N,F){return typeof f=="string"?(f=encodeURI(f).replace(N,ch),F&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ch(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var yl=/[#\/\?@]/g,dh=/[#\?:]/g,uh=/[#\?]/g,hh=/[#\?@]/g,Yc=/#/g;function ci(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function qs(f){f.g||(f.g=new Map,f.h=0,f.i&&Sf(f.i,function(N,F){f.add(decodeURIComponent(N.replace(/\+/g," ")),F)}))}t=ci.prototype,t.add=function(f,N){qs(this),this.i=null,f=xr(this,f);var F=this.g.get(f);return F||this.g.set(f,F=[]),F.push(N),this.h+=1,this};function Vr(f,N){qs(f),N=xr(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function Or(f,N){return qs(f),N=xr(f,N),f.g.has(N)}t.forEach=function(f,N){qs(this),this.g.forEach(function(F,U){F.forEach(function(ae){f.call(N,ae,U,this)},this)},this)},t.na=function(){qs(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),F=[];for(let U=0;U<N.length;U++){const ae=f[U];for(let he=0;he<ae.length;he++)F.push(N[U])}return F},t.V=function(f){qs(this);let N=[];if(typeof f=="string")Or(this,f)&&(N=N.concat(this.g.get(xr(this,f))));else{f=Array.from(this.g.values());for(let F=0;F<f.length;F++)N=N.concat(f[F])}return N},t.set=function(f,N){return qs(this),this.i=null,f=xr(this,f),Or(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},t.get=function(f,N){return f?(f=this.V(f),0<f.length?String(f[0]):N):N};function va(f,N,F){Vr(f,N),0<F.length&&(f.i=null,f.g.set(xr(f,N),P(F)),f.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var F=0;F<N.length;F++){var U=N[F];const he=encodeURIComponent(String(U)),Re=this.V(U);for(U=0;U<Re.length;U++){var ae=he;Re[U]!==""&&(ae+="="+encodeURIComponent(String(Re[U]))),f.push(ae)}}return this.i=f.join("&")};function xr(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function di(f,N){N&&!f.j&&(qs(f),f.i=null,f.g.forEach(function(F,U){var ae=U.toLowerCase();U!=ae&&(Vr(this,U),va(this,ae,F))},f)),f.j=N}function Nf(f,N){const F=new ro;if(d.Image){const U=new Image;U.onload=w(Dn,F,"TestLoadImage: loaded",!0,N,U),U.onerror=w(Dn,F,"TestLoadImage: error",!1,N,U),U.onabort=w(Dn,F,"TestLoadImage: abort",!1,N,U),U.ontimeout=w(Dn,F,"TestLoadImage: timeout",!1,N,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else N(!1)}function mh(f,N){const F=new ro,U=new AbortController,ae=setTimeout(()=>{U.abort(),Dn(F,"TestPingServer: timeout",!1,N)},1e4);fetch(f,{signal:U.signal}).then(he=>{clearTimeout(ae),he.ok?Dn(F,"TestPingServer: ok",!0,N):Dn(F,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ae),Dn(F,"TestPingServer: error",!1,N)})}function Dn(f,N,F,U,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),U(F)}catch(he){}}function kf(){this.g=new Wt}function ph(f,N,F){const U=F||"";try{ma(f,function(ae,he){let Re=ae;m(ae)&&(Re=li(ae)),N.push(U+he+"="+encodeURIComponent(Re))})}catch(ae){throw N.push(U+"type="+encodeURIComponent("_badmap")),ae}}function Li(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Li,fr),Li.prototype.g=function(){return new ho(this.l,this.j)},Li.prototype.i=(function(f){return function(){return f}})({});function ho(f,N){Xt.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ho,Xt),t=ho.prototype,t.open=function(f,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,zr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||d).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function fh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Ur(this):zr(this),this.readyState==3&&fh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ur(this))},t.Qa=function(f){this.g&&(this.response=f,Ur(this))},t.ga=function(){this.g&&Ur(this)};function Ur(f){f.readyState=4,f.l=null,f.j=null,f.v=null,zr(f)}t.setRequestHeader=function(f,N){this.u.append(f,N)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var F=N.next();!F.done;)F=F.value,f.push(F[0]+": "+F[1]),F=N.next();return f.join(`\r
`)};function zr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Di(f){let N="";return M(f,function(F,U){N+=U,N+=":",N+=F,N+=`\r
`}),N}function ya(f,N,F){e:{for(U in F){var U=!1;break e}U=!0}U||(F=Di(F),typeof f=="string"?F!=null&&encodeURIComponent(String(F)):Ft(f,N,F))}function Yt(f){Xt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Yt,Xt);var Cf=/^https?$/i,Jc=["POST","PUT"];t=Yt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,N,F,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?Ai(this.o):Ai(Br),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(he){mo(this,he);return}if(f=F||"",F=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ae in U)F.set(ae,U[ae]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const he of U.keys())F.set(he,U.get(he));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(F.keys()).find(he=>he.toLowerCase()=="content-type"),ae=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Jc,N,void 0))||U||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Re]of F)this.g.setRequestHeader(he,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_l(this),this.u=!0,this.g.send(f),this.u=!1}catch(he){mo(this,he)}};function mo(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,bl(f),tr(f)}function bl(f){f.A||(f.A=!0,Gt(f,"complete"),Gt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Gt(this,"complete"),Gt(this,"abort"),tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),Yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)};function Zc(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||Mn(f)!=4||f.Z()!=2)){if(f.u&&Mn(f)==4)ai(f.Ea,0,f);else if(Gt(f,"readystatechange"),Mn(f)==4){f.h=!1;try{const Re=f.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var F;if(!(F=N)){var U;if(U=Re===0){var ae=String(f.D).match(co)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),U=!Cf.test(ae?ae.toLowerCase():"")}F=U}if(F)Gt(f,"complete"),Gt(f,"success");else{f.m=6;try{var he=2<Mn(f)?f.g.statusText:""}catch(Pt){he=""}f.l=he+" ["+f.Z()+"]",bl(f)}}finally{tr(f)}}}}function tr(f,N){if(f.g){_l(f);const F=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||Gt(f,"ready");try{F.onreadystatechange=U}catch(ae){}}}function _l(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Mn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&N.indexOf(f)==0&&(N=N.substring(f.length)),Dr(N)}};function ed(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(N){return null}}function wl(f){const N={};f=(f.g&&2<=Mn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(L(f[U]))continue;var F=I(f[U]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const he=N[ae]||[];N[ae]=he,he.push(F)}C(N,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(f,N,F){return F&&F.internalChannelParams&&F.internalChannelParams[f]||N}function td(f){this.Aa=0,this.i=[],this.j=new ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ui("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ui("baseRetryDelayMs",5e3,f),this.cb=ui("retryDelaySeedMs",1e4,f),this.Wa=ui("forwardChannelMaxRetries",2,f),this.wa=ui("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new lo(f&&f.concurrentRequestLimit),this.Da=new kf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=td.prototype,t.la=8,t.G=1,t.connect=function(f,N,F,U){gs(0),this.W=f,this.H=N||{},F&&U!==void 0&&(this.H.OSID=F,this.H.OAID=U),this.F=this.X,this.I=yh(this,null,this.W),hi(this)};function Ks(f){if(jl(f),f.G==3){var N=f.U++,F=er(f.I);if(Ft(F,"SID",f.K),Ft(F,"RID",N),Ft(F,"TYPE","terminate"),Mi(f,F),N=new $r(f,f.j,N),N.L=2,N.v=ga(er(F)),F=!1,d.navigator&&d.navigator.sendBeacon)try{F=d.navigator.sendBeacon(N.v.toString(),"")}catch(U){}!F&&d.Image&&(new Image().src=N.v,F=!0),F||(N.g=bh(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Vt(N)}vh(f)}function Hr(f){f.g&&(sd(f),f.g.cancel(),f.g=null)}function jl(f){Hr(f),f.u&&(d.clearTimeout(f.u),f.u=null),kl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function hi(f){if(!Zn(f.h)&&!f.s){f.s=!0;var N=f.Ga;Q||re(),H||(Q(),H=!0),te.add(N,f),f.B=0}}function Tf(f,N){return ah(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=N.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Mr(v(f.Ga,f,N),xh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ae=new $r(this,this.j,f);let he=this.o;if(this.S&&(he?(he=_(he),D(he,this.S)):he=this.S),this.m!==null||this.O||(ae.H=he,he=null),this.P)e:{for(var N=0,F=0;F<this.i.length;F++){t:{var U=this.i[F];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(N+=U,4096<N){N=F;break e}if(N===4096||F===this.i.length-1){N=F+1;break e}}N=1e3}else N=1e3;N=ba(this,ae,N),F=er(this.I),Ft(F,"RID",f),Ft(F,"CVER",22),this.D&&Ft(F,"X-HTTP-Session-Id",this.D),Mi(this,F),he&&(this.O?N="headers="+encodeURIComponent(String(Di(he)))+"&"+N:this.m&&ya(F,this.m,he)),Xc(this.h,ae),this.Ua&&Ft(F,"TYPE","init"),this.P?(Ft(F,"$req",N),Ft(F,"SID","null"),ae.T=!0,gl(ae,F,null)):gl(ae,F,N),this.G=2}}else this.G==3&&(f?Sl(this,f):this.i.length==0||Zn(this.h)||Sl(this))};function Sl(f,N){var F;N?F=N.l:F=f.U++;const U=er(f.I);Ft(U,"SID",f.K),Ft(U,"RID",F),Ft(U,"AID",f.T),Mi(f,U),f.m&&f.o&&ya(U,f.m,f.o),F=new $r(f,f.j,F,f.B+1),f.m===null&&(F.H=f.o),N&&(f.i=N.D.concat(f.i)),N=ba(f,F,1e3),F.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Xc(f.h,F),gl(F,U,N)}function Mi(f,N){f.H&&M(f.H,function(F,U){Ft(N,U,F)}),f.l&&ma({},function(F,U){Ft(N,U,F)})}function ba(f,N,F){F=Math.min(f.i.length,F);var U=f.l?v(f.l.Na,f.l,f):null;e:{var ae=f.i;let he=-1;for(;;){const Re=["count="+F];he==-1?0<F?(he=ae[0].g,Re.push("ofs="+he)):he=0:Re.push("ofs="+he);let Pt=!0;for(let As=0;As<F;As++){let St=ae[As].g;const Ms=ae[As].map;if(St-=he,0>St)he=Math.max(0,ae[As].g-100),Pt=!1;else try{ph(Ms,Re,"req"+St+"_")}catch(_s){U&&U(Ms)}}if(Pt){U=Re.join("&");break e}}}return f=f.i.splice(0,F),N.D=f,U}function po(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;Q||re(),H||(Q(),H=!0),te.add(N,f),f.v=0}}function Nl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Mr(v(f.Fa,f),xh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,gh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Mr(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gs(10),Hr(this),gh(this))};function sd(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function gh(f){f.g=new $r(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var N=er(f.qa);Ft(N,"RID","rpc"),Ft(N,"SID",f.K),Ft(N,"AID",f.T),Ft(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ft(N,"TO",f.ja),Ft(N,"TYPE","xmlhttp"),Mi(f,N),f.m&&f.o&&ya(N,f.m,f.o),f.L&&(f.g.I=f.L);var F=f.g;f=f.ia,F.L=1,F.v=ga(er(N)),F.m=null,F.P=!0,Kc(F,f)}t.Za=function(){this.C!=null&&(this.C=null,Hr(this),Nl(this),gs(19))};function kl(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Cl(f,N){var F=null;if(f.g==N){kl(f),sd(f),f.g=null;var U=2}else if(_n(f.h,N))F=N.D,oh(f.h,N),U=1;else return;if(f.G!=0){if(N.o)if(U==1){F=N.m?N.m.length:0,N=Date.now()-N.F;var ae=f.B;U=no(),Gt(U,new hl(U,F)),hi(f)}else po(f);else if(ae=N.s,ae==3||ae==0&&0<N.X||!(U==1&&Tf(f,N)||U==2&&Nl(f)))switch(F&&0<F.length&&(N=f.h,N.i=N.i.concat(F)),ae){case 1:Fi(f,5);break;case 4:Fi(f,10);break;case 3:Fi(f,6);break;default:Fi(f,2)}}}function xh(f,N){let F=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(F*=2),F*N}function Fi(f,N){if(f.j.info("Error code "+N),N==2){var F=v(f.fb,f),U=f.Xa;const ae=!U;U=new Pi(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||uo(U,"https"),ga(U),ae?Nf(U.toString(),F):mh(U.toString(),F)}else gs(2);f.G=0,f.l&&f.l.sa(N),vh(f),jl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),gs(2)):(this.j.info("Failed to ping google.com"),gs(1))};function vh(f){if(f.G=0,f.ka=[],f.l){const N=lh(f.h);(N.length!=0||f.i.length!=0)&&(R(f.ka,N),R(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function yh(f,N,F){var U=F instanceof Pi?er(F):new Pi(F);if(U.g!="")N&&(U.g=N+"."+U.g),pa(U,U.s);else{var ae=d.location;U=ae.protocol,N=N?N+"."+ae.hostname:ae.hostname,ae=+ae.port;var he=new Pi(null);U&&uo(he,U),N&&(he.g=N),ae&&pa(he,ae),F&&(he.l=F),U=he}return F=f.D,N=f.ya,F&&N&&Ft(U,F,N),Ft(U,"VER",f.la),Mi(f,U),U}function bh(f,N,F){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=f.Ca&&!f.pa?new Yt(new Li({eb:F})):new Yt(f.pa),N.Ha(f.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nd(){}t=nd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(f,N){return new wn(f,N)};function wn(f,N){Xt.call(this),this.g=new td(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!L(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!L(N)&&(this.g.D=N,f=this.h,f!==null&&N in f&&(f=this.h,N in f&&delete f[N])),this.j=new mi(this)}S(wn,Xt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ks(this.g)},wn.prototype.o=function(f){var N=this.g;if(typeof f=="string"){var F={};F.__data__=f,f=F}else this.u&&(F={},F.__data__=li(f),f=F);N.i.push(new ih(N.Ya++,f)),N.G==3&&hi(N)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,wn.aa.N.call(this)};function _h(f){Yn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const F in N){f=F;break e}f=void 0}(this.i=f)&&(f=this.i,N=N!==null&&f in N?N[f]:void 0),this.data=N}else this.data=f}S(_h,Yn);function wh(){Ii.call(this),this.status=1}S(wh,Ii);function mi(f){this.g=f}S(mi,nd),mi.prototype.ua=function(){Gt(this.g,"a")},mi.prototype.ta=function(f){Gt(this.g,new _h(f))},mi.prototype.sa=function(f){Gt(this.g,new wh)},mi.prototype.ra=function(){Gt(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,QS=function(){return new Tl},KS=function(){return no()},qS=Jn,mv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,Wm=pl,th.COMPLETE="complete",WS=th,Ei.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,Ud=Ei,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,GS=Yt}).apply(typeof xm!="undefined"?xm:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const C_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new FS("@firebase/firestore");function Ad(){return Yo.logLevel}function Ue(t,...e){if(Yo.logLevel<=At.DEBUG){const n=e.map(fy);Yo.debug(`Firestore (${Dc}): ${t}`,...n)}}function aa(t,...e){if(Yo.logLevel<=At.ERROR){const n=e.map(fy);Yo.error(`Firestore (${Dc}): ${t}`,...n)}}function xc(t,...e){if(Yo.logLevel<=At.WARN){const n=e.map(fy);Yo.warn(`Firestore (${Dc}): ${t}`,...n)}}function fy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: `+t;throw aa(e),new Error(e)}function Lt(t,e){t||et()}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Lc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class zI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HI{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sa,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},d=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>d(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?d(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sa)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt(typeof r.accessToken=="string"),new XS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string"),new fn(e)}}class GI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Lt(this.o===void 0);const r=o=>{o.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Lt(typeof n.token=="string"),this.R=n.token,new qI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function It(t,e){return t<e?-1:t>e?1:0}function vc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fs.fromMillis(Date.now())}static fromDate(e){return fs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fs(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.timestamp=e}static fromTimestamp(e){return new it(e)}static min(){return new it(new fs(0,0))}static max(){return new it(new fs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(),r===void 0?r=e.length-n:r>e.length-n&&et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),c=n.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $t extends xu{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const XI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends xu{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return XI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Pe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Pe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(o(),i++)}if(o(),c)throw new Pe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe($t.fromString(e))}static fromName(e){return new qe($t.fromString(e).popFirst(5))}static empty(){return new qe($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new $t(e.slice()))}}function YI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new fs(n+1,0):new fs(n,r));return new Qa(i,qe.empty(),e)}function JI(t){return new Qa(t.readTime,t.key,-1)}class Qa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qa(it.min(),qe.empty(),-1)}static max(){return new Qa(it.max(),qe.empty(),-1)}}function ZI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==eR)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let i=0,o=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++o,c&&o===i&&n()}),(u=>r(u)))})),c=!0,o===i&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((i=>i?we.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,i)=>{const o=e.length,c=new Array(o);let d=0;for(let u=0;u<o;u++){const m=u;n(e[m]).next((p=>{c[m]=p,++d,d===o&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new we(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function sR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gy.oe=-1;function Hp(t){return t==null}function up(t){return t===0&&1/t==-1/0}function nR(t){return typeof t=="number"&&Number.isInteger(t)&&!up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new ls(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ls(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vm(this.root,e,this.comparator,!1)}getReverseIterator(){return new vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vm(this.root,e,this.comparator,!0)}}class vm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:en.RED,this.left=i!=null?i:en.EMPTY,this.right=o!=null?o:en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new en(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,n,r,i,o){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new ls(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(e){return new A_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class A_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new lr([])}unionWith(e){let n=new on(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException!="undefined"&&o instanceof DOMException?new ZS("Invalid base64 string: "+o):o}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const rR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(t){if(Lt(!!t),typeof t=="string"){let e=0;const n=rR.exec(t);if(Lt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bs(t.seconds),nanos:bs(t.nanos)}}function bs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xy(t){const e=t.mapValue.fields.__previous_value__;return Gp(e)?xy(e):e}function vu(t){const e=Xa(t.mapValue.fields.__local_write_time__.timestampValue);return new fs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i,o,c,d,u,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=u,this.useFetchStreams=m}}class yu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym={mapValue:{}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gp(t)?4:oR(t)?9007199254740991:aR(t)?10:11:et()}function ki(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Xa(i.timestampValue),d=Xa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Jo(i.bytesValue).isEqual(Jo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return bs(i.geoPointValue.latitude)===bs(o.geoPointValue.latitude)&&bs(i.geoPointValue.longitude)===bs(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return bs(i.integerValue)===bs(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=bs(i.doubleValue),d=bs(o.doubleValue);return c===d?up(c)===up(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return vc(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},d=o.mapValue.fields||{};if(T_(c)!==T_(d))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(d[u]===void 0||!ki(c[u],d[u])))return!1;return!0})(t,e);default:return et()}}function bu(t,e){return(t.values||[]).find((n=>ki(n,e)))!==void 0}function yc(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=bs(o.integerValue||o.doubleValue),u=bs(c.integerValue||c.doubleValue);return d<u?-1:d>u?1:d===u?0:isNaN(d)?isNaN(u)?0:-1:1})(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(vu(t),vu(e));case 5:return It(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Jo(o),u=Jo(c);return d.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),u=c.split("/");for(let m=0;m<d.length&&m<u.length;m++){const p=It(d[m],u[m]);if(p!==0)return p}return It(d.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=It(bs(o.latitude),bs(c.latitude));return d!==0?d:It(bs(o.longitude),bs(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return I_(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var d,u,m,p;const x=o.fields||{},v=c.fields||{},w=(d=x.value)===null||d===void 0?void 0:d.arrayValue,S=(u=v.value)===null||u===void 0?void 0:u.arrayValue,P=It(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:I_(w,S)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===ym.mapValue&&c===ym.mapValue)return 0;if(o===ym.mapValue)return 1;if(c===ym.mapValue)return-1;const d=o.fields||{},u=Object.keys(d),m=c.fields||{},p=Object.keys(m);u.sort(),p.sort();for(let x=0;x<u.length&&x<p.length;++x){const v=It(u[x],p[x]);if(v!==0)return v;const w=yc(d[u[x]],m[p[x]]);if(w!==0)return w}return It(u.length,p.length)})(t.mapValue,e.mapValue);default:throw et()}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);const n=Xa(t),r=Xa(e),i=It(n.seconds,r.seconds);return i!==0?i:It(n.nanos,r.nanos)}function I_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=yc(n[i],r[i]);if(o)return o}return It(n.length,r.length)}function bc(t){return pv(t)}function pv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Xa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=pv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${pv(n.fields[c])}`;return i+"}"})(t.mapValue):et()}function hp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fv(t){return!!t&&"integerValue"in t}function vy(t){return!!t&&"arrayValue"in t}function R_(t){return!!t&&"nullValue"in t}function P_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qm(t){return!!t&&"mapValue"in t}function aR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=Zd(c):i.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());qm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ol(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new qn(Zd(this.value))}}function eN(t){const e=[];return ol(t.fields,((n,r)=>{const i=new nn([n]);if(qm(r)){const o=eN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r,i,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,it.min(),it.min(),it.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new xn(e,1,n,it.min(),r,i,0)}static newNoDocument(e,n){return new xn(e,2,n,it.min(),it.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,it.min(),it.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.position=e,this.inclusive=n}}function L_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(c.referenceValue),n.key):r=yc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function D_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function lR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class Ts extends tN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dR(e,n,r):n==="array-contains"?new mR(e,r):n==="in"?new pR(e,r):n==="not-in"?new fR(e,r):n==="array-contains-any"?new gR(e,r):new Ts(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uR(e,r):new hR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yc(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends tN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ni(e,n)}matches(e){return sN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sN(t){return t.op==="and"}function nN(t){return cR(t)&&sN(t)}function cR(t){for(const e of t.filters)if(e instanceof ni)return!1;return!0}function gv(t){if(t instanceof Ts)return t.field.canonicalString()+t.op.toString()+bc(t.value);if(nN(t))return t.filters.map((e=>gv(e))).join(",");{const e=t.filters.map((n=>gv(n))).join(",");return`${t.op}(${e})`}}function rN(t,e){return t instanceof Ts?(function(r,i){return i instanceof Ts&&r.op===i.op&&r.field.isEqual(i.field)&&ki(r.value,i.value)})(t,e):t instanceof ni?(function(r,i){return i instanceof ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,d)=>o&&rN(c,i.filters[d])),!0):!1})(t,e):void et()}function iN(t){return t instanceof Ts?(function(n){return`${n.field.canonicalString()} ${n.op} ${bc(n.value)}`})(t):t instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(iN).join(" ,")+"}"})(t):"Filter"}class dR extends Ts{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class uR extends Ts{constructor(e,n){super(e,"in",n),this.keys=aN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hR extends Ts{constructor(e,n){super(e,"not-in",n),this.keys=aN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>qe.fromName(r.referenceValue)))}class mR extends Ts{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vy(n)&&bu(n.arrayValue,this.value)}}class pR extends Ts{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class fR extends Ts{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bu(this.value.arrayValue,n)}}class gR extends Ts{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n=null,r=[],i=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function M_(t,e=null,n=[],r=[],i=null,o=null,c=null){return new xR(t,e,n,r,i,o,c)}function yy(t){const e=at(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>gv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bc(r))).join(",")),e.ue=n}return e.ue}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D_(t.startAt,e.startAt)&&D_(t.endAt,e.endAt)}function xv(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n=null,r=[],i=[],o=null,c="F",d=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vR(t,e,n,r,i,o,c,d){return new ua(t,e,n,r,i,o,c,d)}function _y(t){return new ua(t)}function F_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wy(t){return t.collectionGroup!==null}function mc(t){const e=at(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new on(nn.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new _u(o,r))})),n.has(nn.keyField().canonicalString())||e.ce.push(new _u(nn.keyField(),r))}return e.ce}function bi(t){const e=at(t);return e.le||(e.le=yR(e,mc(t))),e.le}function yR(t,e){if(t.limitType==="F")return M_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new _u(i.field,o)}));const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return M_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vv(t,e){const n=t.filters.concat([e]);return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,n){return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wp(t,e){return by(bi(t),bi(e))&&t.limitType===e.limitType}function oN(t){return`${yy(bi(t))}|lt:${t.limitType}`}function sc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>iN(i))).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>bc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>bc(i))).join(",")),`Target(${r})`})(bi(t))}; limitType=${t.limitType})`}function qp(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of mc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,u){const m=L_(c,d,u);return c.inclusive?m<=0:m<0})(r.startAt,mc(r),i)||r.endAt&&!(function(c,d,u){const m=L_(c,d,u);return c.inclusive?m>=0:m>0})(r.endAt,mc(r),i))})(t,e)}function bR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lN(t){return(e,n)=>{let r=!1;for(const i of mc(t)){const o=_R(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _R(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(o,c,d){const u=c.data.field(o),m=d.data.field(o);return u!==null&&m!==null?yc(u,m):et()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new ls(qe.comparator);function oa(){return wR}const cN=new ls(qe.comparator);function zd(...t){let e=cN;for(const n of t)e=e.insert(n.key,n);return e}function dN(t){let e=cN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Uo(){return eu()}function uN(){return eu()}function eu(){return new Mc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jR=new ls(qe.comparator),SR=new on(qe.comparator);function _t(...t){let e=SR;for(const n of t)e=e.add(n);return e}const NR=new on(It);function kR(){return NR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function hN(t){return{integerValue:""+t}}function CR(t,e){return nR(e)?hN(e):jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this._=void 0}}function TR(t,e,n){return t instanceof wu?(function(i,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Gp(o)&&(o=xy(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}})(n,e):t instanceof ju?pN(t,e):t instanceof Su?fN(t,e):(function(i,o){const c=mN(i,o),d=B_(c)+B_(i.Pe);return fv(c)&&fv(i.Pe)?hN(d):jy(i.serializer,d)})(t,e)}function AR(t,e,n){return t instanceof ju?pN(t,e):t instanceof Su?fN(t,e):n}function mN(t,e){return t instanceof pp?(function(r){return fv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class wu extends Kp{}class ju extends Kp{constructor(e){super(),this.elements=e}}function pN(t,e){const n=gN(e);for(const r of t.elements)n.some((i=>ki(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Su extends Kp{constructor(e){super(),this.elements=e}}function fN(t,e){let n=gN(e);for(const r of t.elements)n=n.filter((i=>!ki(i,r)));return{arrayValue:{values:n}}}class pp extends Kp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function B_(t){return bs(t.integerValue||t.doubleValue)}function gN(t){return vy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.field=e,this.transform=n}}function IR(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ju&&i instanceof ju||r instanceof Su&&i instanceof Su?vc(r.elements,i.elements,ki):r instanceof pp&&i instanceof pp?ki(r.Pe,i.Pe):r instanceof wu&&i instanceof wu})(t.transform,e.transform)}class RR{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qp{}function xN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sy(t.key,Ir.none()):new Fu(t.key,t.data,Ir.none());{const n=t.data,r=qn.empty();let i=new on(nn.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new eo(t.key,r,new lr(i.toArray()),Ir.none())}}function PR(t,e,n){t instanceof Fu?(function(i,o,c){const d=i.value.clone(),u=V_(i.fieldTransforms,o,c.transformResults);d.setAll(u),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof eo?(function(i,o,c){if(!Km(i.precondition,o))return void o.convertToUnknownDocument(c.version);const d=V_(i.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(vN(i)),u.setAll(d),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function tu(t,e,n,r){return t instanceof Fu?(function(o,c,d,u){if(!Km(o.precondition,c))return d;const m=o.value.clone(),p=O_(o.fieldTransforms,u,c);return m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof eo?(function(o,c,d,u){if(!Km(o.precondition,c))return d;const m=O_(o.fieldTransforms,u,c),p=c.data;return p.setAll(vN(o)),p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(o,c,d){return Km(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function LR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=mN(r.transform,i||null);o!=null&&(n===null&&(n=qn.empty()),n.set(r.field,o))}return n||null}function $_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vc(r,i,((o,c)=>IR(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends Qp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends Qp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function V_(t,e,n){const r=new Map;Lt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,d=e.data.field(o.field);r.set(o.field,AR(c,d,n[i]))}return r}function O_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,TR(o,c,e))}return r}class Sy extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&PR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uN();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(i.key)?null:d;const u=xN(c,d);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(it.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),_t())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,((n,r)=>$_(n,r)))&&vc(this.baseMutations,e.baseMutations,((n,r)=>$_(n,r)))}}class Ny{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Lt(e.mutations.length===r.length);let i=(function(){return jR})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new Ny(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss,Nt;function $R(t){switch(t){default:return et();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function yN(t){if(t===void 0)return aa("GRPC error has no .code"),pe.UNKNOWN;switch(t){case Ss.OK:return pe.OK;case Ss.CANCELLED:return pe.CANCELLED;case Ss.UNKNOWN:return pe.UNKNOWN;case Ss.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ss.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ss.INTERNAL:return pe.INTERNAL;case Ss.UNAVAILABLE:return pe.UNAVAILABLE;case Ss.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ss.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ss.NOT_FOUND:return pe.NOT_FOUND;case Ss.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ss.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ss.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ss.ABORTED:return pe.ABORTED;case Ss.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ss.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ss.DATA_LOSS:return pe.DATA_LOSS;default:return et()}}(Nt=Ss||(Ss={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Wo([4294967295,4294967295],0);function U_(t){const e=VR().encode(t),n=new HS;return n.update(e),new Uint8Array(n.digest())}function z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wo([n,r],0),new Wo([i,o],0)]}class ky{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hd(`Invalid padding: ${n}`);if(r<0)throw new Hd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wo.fromNumber(r)));return i.compare(OR)===1&&(i=new Wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=U_(e),[r,i]=z_(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ky(o,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=U_(e),[r,i]=z_(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xp(it.min(),i,new ls(It),oa(),_t())}}class Bu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bu(r,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class bN{constructor(e,n){this.targetId=e,this.me=n}}class _N{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class H_{constructor(){this.fe=0,this.ge=W_(),this.pe=ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_t(),n=_t(),r=_t();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et()}})),new Bu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=W_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UR{constructor(e){this.Le=e,this.Be=new Map,this.ke=oa(),this.qe=G_(),this.Qe=new ls(It)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:et()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(xv(o))if(r===0){const c=new qe(o.path);this.Ue(n,c,xn.newNoDocument(c,it.min()))}else Lt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),u=d?this.Xe(d,e,c):1;if(u!==0){this.je(n);const m=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,d;try{c=Jo(r).toUint8Array()}catch(u){if(u instanceof ZS)return xc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{d=new ky(c,i,o)}catch(u){return xc(u instanceof Hd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,o,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((o,c)=>{const d=this.Je(c);if(d){if(o.current&&xv(d.target)){const u=new qe(d.target.path);this.ke.get(u)!==null||this.it(c,u)||this.Ue(c,u,xn.newNoDocument(u,e))}o.be&&(n.set(c,o.ve()),o.Ce())}}));let r=_t();this.qe.forEach(((o,c)=>{let d=!0;c.forEachWhile((u=>{const m=this.Je(u);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.ke.forEach(((o,c)=>c.setReadTime(e)));const i=new Xp(e,n,this.Qe,this.ke,r);return this.ke=oa(),this.qe=G_(),this.Qe=new ls(It),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new H_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new on(It),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new H_),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function G_(){return new ls(qe.comparator)}function W_(){return new ls(qe.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},HR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GR={and:"AND",or:"OR"};class WR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yv(t,e){return t.useProto3Json||Hp(e)?e:{value:e}}function fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qR(t,e){return fp(t,e.toTimestamp())}function _i(t){return Lt(!!t),it.fromTimestamp((function(n){const r=Xa(n);return new fs(r.seconds,r.nanos)})(t))}function Cy(t,e){return bv(t,e).canonicalString()}function bv(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jN(t){const e=$t.fromString(t);return Lt(TN(e)),e}function _v(t,e){return Cy(t.databaseId,e.path)}function ix(t,e){const n=jN(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(NN(n))}function SN(t,e){return Cy(t.databaseId,e)}function KR(t){const e=jN(t);return e.length===4?$t.emptyPath():NN(e)}function wv(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NN(t){return Lt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function q_(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function QR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:et()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(m,p){return m.useProto3Json?(Lt(p===void 0||typeof p=="string"),ln.fromBase64String(p||"")):(Lt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),ln.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const p=m.code===void 0?pe.UNKNOWN:yN(m.code);return new Pe(p,m.message||"")})(c);n=new _N(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ix(t,r.document.name),o=_i(r.document.updateTime),c=r.document.createTime?_i(r.document.createTime):it.min(),d=new qn({mapValue:{fields:r.document.fields}}),u=xn.newFoundDocument(i,o,c,d),m=r.targetIds||[],p=r.removedTargetIds||[];n=new Qm(m,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ix(t,r.document),o=r.readTime?_i(r.readTime):it.min(),c=xn.newNoDocument(i,o),d=r.removedTargetIds||[];n=new Qm([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ix(t,r.document),o=r.removedTargetIds||[];n=new Qm([],o,i,null)}else{if(!("filter"in e))return et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new BR(i,o),d=r.targetId;n=new bN(d,c)}}return n}function XR(t,e){let n;if(e instanceof Fu)n={update:q_(t,e.key,e.value)};else if(e instanceof Sy)n={delete:_v(t,e.key)};else if(e instanceof eo)n={update:q_(t,e.key,e.data),updateMask:iP(e.fieldMask)};else{if(!(e instanceof DR))return et();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof wu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Su)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof pp)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw et()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:qR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:et()})(t,e.precondition)),n}function YR(t,e){return t&&t.length>0?(Lt(e!==void 0),t.map((n=>(function(i,o){let c=i.updateTime?_i(i.updateTime):_i(o);return c.isEqual(it.min())&&(c=_i(o)),new RR(c,i.transformResults||[])})(n,e)))):[]}function JR(t,e){return{documents:[SN(t,e.path)]}}function ZR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SN(t,i);const o=(function(m){if(m.length!==0)return CN(ni.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((p=>(function(v){return{field:nc(v.field),direction:sP(v.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=yv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:i}}function eP(t){let e=KR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(x){const v=kN(x);return v instanceof ni&&nN(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((v=>(function(S){return new _u(rc(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let v;return v=typeof x=="object"?x.value:x,Hp(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(x){const v=!!x.before,w=x.values||[];return new _c(w,v)})(n.startAt));let m=null;return n.endAt&&(m=(function(x){const v=!x.before,w=x.values||[];return new _c(w,v)})(n.endAt)),vR(e,i,c,o,d,"F",u,m)}function tP(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rc(n.unaryFilter.field);return Ts.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rc(n.unaryFilter.field);return Ts.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rc(n.unaryFilter.field);return Ts.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rc(n.unaryFilter.field);return Ts.create(c,"!=",{nullValue:"NULL_VALUE"});default:return et()}})(t):t.fieldFilter!==void 0?(function(n){return Ts.create(rc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((r=>kN(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et()}})(n.compositeFilter.op))})(t):et()}function sP(t){return zR[t]}function nP(t){return HR[t]}function rP(t){return GR[t]}function nc(t){return{fieldPath:t.canonicalString()}}function rc(t){return nn.fromServerFormat(t.fieldPath)}function CN(t){return t instanceof Ts?(function(n){if(n.op==="=="){if(P_(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P_(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(n.field),op:nP(n.op),value:n.value}}})(t):t instanceof ni?(function(n){const r=n.getFilters().map((i=>CN(i)));return r.length===1?r[0]:{compositeFilter:{op:rP(n.op),filters:r}}})(t):et()}function iP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r,i,o=it.min(),c=it.min(),d=ln.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=u}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.ct=e}}function oP(t){const e=eP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.un=new cP}addToCollectionParentIndex(e,n){return this.un.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(Qa.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(Qa.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class cP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on($t.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wc(0)}static kn(){return new wc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new Mc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&tu(r.mutation,i,lr.empty(),fs.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,_t()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=_t()){const i=Uo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let c=zd();return o.forEach(((d,u)=>{c=c.insert(d,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Uo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,_t())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let o=oa();const c=eu(),d=(function(){return eu()})();return n.forEach(((u,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof eo)?o=o.insert(m.key,m):p!==void 0?(c.set(m.key,p.mutation.getFieldMask()),tu(p.mutation,m,p.mutation.getFieldMask(),fs.now())):c.set(m.key,lr.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((m,p)=>c.set(m,p))),n.forEach(((m,p)=>{var x;return d.set(m,new uP(p,(x=c.get(m))!==null&&x!==void 0?x:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=eu();let i=new ls(((c,d)=>c-d)),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((u=>{const m=n.get(u);if(m===null)return;let p=r.get(u)||lr.empty();p=d.applyToLocalView(m,p),r.set(u,p);const x=(i.get(d.batchId)||_t()).add(u);i=i.insert(d.batchId,x)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const u=d.getNext(),m=u.key,p=u.value,x=uN();p.forEach((v=>{if(!o.has(v)){const w=xN(n.get(v),r.get(v));w!==null&&x.set(v,w),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,x))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):we.resolve(Uo());let d=-1,u=o;return c.next((m=>we.forEach(m,((p,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{u=u.insert(p,v)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,u,m,_t()))).next((p=>({batchId:d,changes:dN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=zd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=zd();return this.indexManager.getCollectionParents(e,o).next((d=>we.forEach(d,(u=>{const m=(function(x,v){return new ua(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((x,v)=>{c=c.insert(x,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((c=>{o.forEach(((u,m)=>{const p=m.getKey();c.get(p)===null&&(c=c.insert(p,xn.newInvalidDocument(p)))}));let d=zd();return c.forEach(((u,m)=>{const p=o.get(u);p!==void 0&&tu(p.mutation,m,lr.empty(),fs.now()),qp(n,m)&&(d=d.insert(u,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return we.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:_i(i.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:oP(i.bundledQuery),readTime:_i(i.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.overlays=new ls(qe.comparator),this.Ir=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Uo();return we.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.ht(e,n,o)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=Uo(),o=n.length+1,c=new qe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const u=d.getNext().value,m=u.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ls(((m,p)=>m-p));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=o.get(m.largestBatchId);p===null&&(p=Uo(),o=o.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const d=Uo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((m,p)=>d.set(m,p))),!(d.size()>=i)););return we.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new FR(n,r));let o=this.Ir.get(n);o===void 0&&(o=_t(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.Tr=new on(Os.Er),this.dr=new on(Os.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Os(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Os(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new qe(new $t([])),r=new Os(n,e),i=new Os(n,e+1),o=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),o.push(c.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new qe(new $t([])),r=new Os(n,e),i=new Os(n,e+1);let o=_t();return this.dr.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new Os(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Os{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return qe.comparator(e.key,n.key)||It(e.wr,n.wr)}static Ar(e,n){return It(e.wr,n.wr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new on(Os.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new MR(o,n,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new Os(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,n){return we.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return we.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Os(n,0),i=new Os(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);o.push(d)})),we.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(It);return n.forEach((i=>{const o=new Os(i,0),c=new Os(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],(d=>{r=r.add(d.wr)}))})),we.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const c=new Os(new qe(o),0);let d=new on(It);return this.br.forEachWhile((u=>{const m=u.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(u.wr)),!0)}),c),we.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Lt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return we.forEach(n.mutations,(i=>{const o=new Os(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Os(n,0),i=this.br.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.Mr=e,this.docs=(function(){return new ls(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():xn.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oa();const c=n.path,d=new qe(c.child("")),u=this.docs.getIteratorFrom(d);for(;u.hasNext();){const{key:m,value:{document:p}}=u.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||ZI(JI(p),r)<=0||(i.has(p.key)||qp(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,n,r,i){et()}Or(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vP(this)}getSize(e){return we.resolve(this.size)}}class vP extends dP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.persistence=e,this.Nr=new Mc((n=>yy(n)),by),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ty,this.targetCount=0,this.kr=wc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),we.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Kn(n),we.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),we.waitFor(o).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),we.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gy(0),this.Kr=!1,this.Kr=!0,this.$r=new fP,this.referenceDelegate=e(this),this.Ur=new yP(this),this.indexManager=new lP,this.remoteDocumentCache=(function(i){return new xP(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new aP(n),this.Gr=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gP(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new _P(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,n){return we.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class _P extends tR{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.Jr=new Ty,this.Yr=null}static Zr(e){return new Ay(e)}get Xr(){if(this.Yr)return this.Yr;throw et()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),we.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,(r=>{const i=qe.fromPath(r);return this.ei(e,i).next((o=>{o||n.removeEntry(i,it.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return we.or([()=>we.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_t(),i=_t();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return k6()?8:sR(S6())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.Zi(e,n,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new wP;return this.Xi(e,n,c).next((d=>{if(o.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>o.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(Ad()<=At.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(Ad()<=At.DEBUG&&Ue("QueryEngine","Query:",sc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ad()<=At.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):we.resolve())}Yi(e,n){if(F_(n))return we.resolve(null);let r=bi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=mp(n,null,"F"),r=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=_t(...o);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((u=>{const m=this.ts(n,d);return this.ns(n,m,c,u.readTime)?this.Yi(e,mp(n,null,"F")):this.rs(e,m,n,u)}))))})))))}Zi(e,n,r,i){return F_(n)||i.isEqual(it.min())?we.resolve(null):this.Ji.getDocuments(e,r).next((o=>{const c=this.ts(n,o);return this.ns(n,c,r,i)?we.resolve(null):(Ad()<=At.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sc(n)),this.rs(e,c,n,YI(i,-1)).next((d=>d)))}))}ts(e,n){let r=new on(lN(e));return n.forEach(((i,o)=>{qp(e,o)&&(r=r.add(o))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ad()<=At.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",sc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ls(It),this._s=new Mc((o=>yy(o)),by),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function NP(t,e,n,r){return new SP(t,e,n,r)}async function AN(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let u=_t();for(const m of i){c.push(m.batchId);for(const p of m.mutations)u=u.add(p.key)}for(const m of o){d.push(m.batchId);for(const p of m.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function kP(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,u,m,p){const x=m.batch,v=x.keys();let w=we.resolve();return v.forEach((S=>{w=w.next((()=>p.getEntry(u,S))).next((P=>{const R=m.docVersions.get(S);Lt(R!==null),P.version.compareTo(R)<0&&(x.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),p.addEntry(P)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(u,x)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let u=_t();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(u=u.add(d.batch.mutations[m].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function EN(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function CP(t,e){const n=at(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((p,x)=>{const v=i.get(x);if(!v)return;d.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,x).next((()=>n.Ur.addMatchingKeys(o,p.addedDocuments,x))));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(ln.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(x,w),(function(P,R,B){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(v,w,p)&&d.push(n.Ur.updateTargetData(o,w))}));let u=oa(),m=_t();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),d.push(TP(o,c,e.documentUpdates).next((p=>{u=p.Ps,m=p.Is}))),!r.isEqual(it.min())){const p=n.Ur.getLastRemoteSnapshotVersion(o).next((x=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(p)}return we.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,m))).next((()=>u))})).then((o=>(n.os=i,o)))}function TP(t,e,n){let r=_t(),i=_t();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=oa();return n.forEach(((d,u)=>{const m=o.get(d);u.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),u.isNoDocument()&&u.version.isEqual(it.min())?(e.removeEntry(d,u.readTime),c=c.insert(d,u)):!m.isValidDocument()||u.version.compareTo(m.version)>0||u.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(u),c=c.insert(d,u)):Ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",u.version)})),{Ps:c,Is:i}}))}function AP(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function EP(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((o=>o?(i=o,we.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new Ua(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function jv(t,e,n){const r=at(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Mu(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function K_(t,e,n){const r=at(t);let i=it.min(),o=_t();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,m,p){const x=at(u),v=x._s.get(p);return v!==void 0?we.resolve(x.os.get(v)):x.Ur.getTargetData(m,p)})(r,c,bi(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((u=>{o=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:it.min(),n?o:_t()))).next((d=>(IP(r,bR(e),d),{documents:d,Ts:o})))))}function IP(t,e,n){let r=t.us.get(e)||it.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.us.set(e,r)}class Q_{constructor(){this.activeTargetIds=kR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RP{constructor(){this.so=new Q_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Q_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=null;function ax(){return bm===null?bm=(function(){return 268435456+Math.round(2147483648*Math.random())})():bm++,"0x"+bm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class MP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,c){const d=ax(),u=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${d}:`,u,i);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,c),this.No(n,u,m,i).then((p=>(Ue("RestConnection",`Received RPC '${n}' ${d}: `,p),p)),(p=>{throw xc("RestConnection",`RPC '${n}' ${d} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(n,r,i,o,c,d){return this.Mo(n,r,i,o,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dc})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,c)=>n[c]=o)),i&&i.headers.forEach(((o,c)=>n[c]=o))}xo(n,r){const i=LP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ax();return new Promise(((c,d)=>{const u=new GS;u.setWithCredentials(!0),u.listenOnce(WS.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Wm.NO_ERROR:const p=u.getResponseJson();Ue(mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Wm.TIMEOUT:Ue(mn,`RPC '${e}' ${o} timed out`),d(new Pe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Wm.HTTP_ERROR:const x=u.getStatus();if(Ue(mn,`RPC '${e}' ${o} failed with status:`,x,"response text:",u.getResponseText()),x>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const S=(function(R){const B=R.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(B)>=0?B:pe.UNKNOWN})(w.status);d(new Pe(S,w.message))}else d(new Pe(pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new Pe(pe.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Ue(mn,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);Ue(mn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",m,r,15)}))}Bo(e,n,r){const i=ax(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=QS(),d=KS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(u.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");Ue(mn,`Creating RPC '${e}' stream ${i}: ${p}`,u);const x=c.createWebChannel(p,u);let v=!1,w=!1;const S=new DP({Io:R=>{w?Ue(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(Ue(mn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),v=!0),Ue(mn,`RPC '${e}' stream ${i} sending:`,R),x.send(R))},To:()=>x.close()}),P=(R,B,L)=>{R.listen(B,(T=>{try{L(T)}catch(y){setTimeout((()=>{throw y}),0)}}))};return P(x,Ud.EventType.OPEN,(()=>{w||(Ue(mn,`RPC '${e}' stream ${i} transport opened.`),S.yo())})),P(x,Ud.EventType.CLOSE,(()=>{w||(w=!0,Ue(mn,`RPC '${e}' stream ${i} transport closed`),S.So())})),P(x,Ud.EventType.ERROR,(R=>{w||(w=!0,xc(mn,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new Pe(pe.UNAVAILABLE,"The operation could not be completed")))})),P(x,Ud.EventType.MESSAGE,(R=>{var B;if(!w){const L=R.data[0];Lt(!!L);const T=L,y=T.error||((B=T[0])===null||B===void 0?void 0:B.error);if(y){Ue(mn,`RPC '${e}' stream ${i} received error:`,y);const j=y.status;let M=(function(A){const D=Ss[A];if(D!==void 0)return yN(D)})(j),C=y.message;M===void 0&&(M=pe.INTERNAL,C="Unknown error status: "+j+" with message "+y.message),w=!0,S.So(new Pe(M,C)),x.close()}else Ue(mn,`RPC '${e}' stream ${i} received:`,L),S.bo(L)}})),P(d,qS.STAT_EVENT,(R=>{R.stat===mv.PROXY?Ue(mn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===mv.NOPROXY&&Ue(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.wo()}),0),S}}function ox(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){return new WR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,i,o,c,d,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IN(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Pe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FP extends RN{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=QR(this.serializer,e),r=(function(o){if(!("targetChange"in o))return it.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?it.min():c.readTime?_i(c.readTime):it.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wv(this.serializer),n.addTarget=(function(o,c){let d;const u=c.target;if(d=xv(u)?{documents:JR(o,u)}:{query:ZR(o,u)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=wN(o,c.resumeToken);const m=yv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(it.min())>0){d.readTime=fp(o,c.snapshotVersion.toTimestamp());const m=yv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=tP(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wv(this.serializer),n.removeTarget=e,this.a_(n)}}class BP extends RN{constructor(e,n,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=YR(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>XR(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Mo(e,bv(n,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(pe.UNKNOWN,o.toString())}))}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,bv(n,r),i,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(pe.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class VP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(aa(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((c=>{r.enqueueAndForget((async()=>{ll(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const m=at(u);m.L_.add(4),await $u(m),m.q_.set("Unknown"),m.L_.delete(4),await Jp(m)})(this))}))})),this.q_=new VP(r,i)}}async function Jp(t){if(ll(t))for(const e of t.B_)await e(!0)}async function $u(t){for(const e of t.B_)await e(!1)}function PN(t,e){const n=at(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ly(n)?Py(n):Fc(n).r_()&&Ry(n,e))}function Iy(t,e){const n=at(t),r=Fc(n);n.N_.delete(e),r.r_()&&LN(n,e),n.N_.size===0&&(r.r_()?r.o_():ll(n)&&n.q_.set("Unknown"))}function Ry(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).A_(e)}function LN(t,e){t.Q_.xe(e),Fc(t).R_(e)}function Py(t){t.Q_=new UR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.q_.v_()}function Ly(t){return ll(t)&&!Fc(t).n_()&&t.N_.size>0}function ll(t){return at(t).L_.size===0}function DN(t){t.Q_=void 0}async function UP(t){t.q_.set("Online")}async function zP(t){t.N_.forEach(((e,n)=>{Ry(t,e)}))}async function HP(t,e){DN(t),Ly(t)?(t.q_.M_(e),Py(t)):t.q_.set("Unknown")}async function GP(t,e,n){if(t.q_.set("Online"),e instanceof _N&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const d of o.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gp(t,r)}else if(e instanceof Qm?t.Q_.Ke(e):e instanceof bN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(it.min()))try{const r=await EN(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.Q_.rt(c);return d.targetChanges.forEach(((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.N_.get(m);p&&o.N_.set(m,p.withResumeToken(u.resumeToken,c))}})),d.targetMismatches.forEach(((u,m)=>{const p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(ln.EMPTY_BYTE_STRING,p.snapshotVersion)),LN(o,u);const x=new Ua(p.target,u,m,p.sequenceNumber);Ry(o,x)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await gp(t,r)}}async function gp(t,e,n){if(!Mu(e))throw e;t.L_.add(1),await $u(t),t.q_.set("Offline"),n||(n=()=>EN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Jp(t)}))}function MN(t,e){return e().catch((n=>gp(t,n,e)))}async function Zp(t){const e=at(t),n=Ya(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;WP(e);)try{const i=await AP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,qP(e,i)}catch(i){await gp(e,i)}FN(e)&&BN(e)}function WP(t){return ll(t)&&t.O_.length<10}function qP(t,e){t.O_.push(e);const n=Ya(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FN(t){return ll(t)&&!Ya(t).n_()&&t.O_.length>0}function BN(t){Ya(t).start()}async function KP(t){Ya(t).p_()}async function QP(t){const e=Ya(t);for(const n of t.O_)e.m_(n.mutations)}async function XP(t,e,n){const r=t.O_.shift(),i=Ny.from(r,e,n);await MN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Zp(t)}async function YP(t,e){e&&Ya(t).V_&&await(async function(r,i){if((function(c){return $R(c)&&c!==pe.ABORTED})(i.code)){const o=r.O_.shift();Ya(r).s_(),await MN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Zp(r)}})(t,e),FN(t)&&BN(t)}async function Y_(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=ll(n);n.L_.add(3),await $u(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Jp(n)}async function JP(t,e){const n=at(t);e?(n.L_.delete(2),await Jp(n)):e||(n.L_.add(2),await $u(n),n.q_.set("Unknown"))}function Fc(t){return t.K_||(t.K_=(function(n,r,i){const o=at(n);return o.w_(),new FP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:UP.bind(null,t),Ro:zP.bind(null,t),mo:HP.bind(null,t),d_:GP.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Ly(t)?Py(t):t.q_.set("Unknown")):(await t.K_.stop(),DN(t))}))),t.K_}function Ya(t){return t.U_||(t.U_=(function(n,r,i){const o=at(n);return o.w_(),new BP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:KP.bind(null,t),mo:YP.bind(null,t),f_:QP.bind(null,t),g_:XP.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Zp(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,d=new Dy(e,n,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(t,e){if(aa("AsyncQueue",`${e}: ${t}`),Mu(t))return new Pe(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=zd(),this.sortedSet=new ls(this.comparator)}static emptySet(e){return new pc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.W_=new ls(qe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):et():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class jc{constructor(e,n,r,i,o,c,d,u,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=u,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new jc(e,n,pc.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class e8{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=at(n),o=i.queries;i.queries=Z_(),o.forEach(((c,d)=>{for(const u of d.j_)u.onError(r)}))})(this,new Pe(pe.ABORTED,"Firestore shutting down"))}}function Z_(){return new Mc((t=>oN(t)),Wp)}async function $N(t,e){const n=at(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new ZP,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=My(c,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Fy(n)}async function VN(t,e){const n=at(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t8(t,e){const n=at(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&Fy(n)}function s8(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Fy(t){t.Y_.forEach((e=>{e.next()}))}var Sv,e2;(e2=Sv||(Sv={})).ea="default",e2.Cache="cache";class ON{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.key=e}}class zN{constructor(e){this.key=e}}class n8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_t(),this.mutatedKeys=_t(),this.Aa=lN(e),this.Ra=new pc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new J_,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,x)=>{const v=i.get(p),w=qp(this.query,x)?x:null,S=!!v&&this.mutatedKeys.has(v.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;v&&w?v.data.isEqual(w.data)?S!==P&&(r.track({type:3,doc:w}),R=!0):this.ga(v,w)||(r.track({type:2,doc:w}),R=!0,(u&&this.Aa(w,u)>0||m&&this.Aa(w,m)<0)&&(d=!0)):!v&&w?(r.track({type:0,doc:w}),R=!0):v&&!w&&(r.track({type:1,doc:v}),R=!0,(u||m)&&(d=!0)),R&&(w?(c=c.add(w),o=P?o.add(p):o.delete(p)):(c=c.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:c,fa:r,ns:d,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((p,x)=>(function(w,S){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return P(w)-P(S)})(p.type,x.type)||this.Aa(p.doc,x.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,m=u!==this.Ea;return this.Ea=u,c.length!==0||m?{snapshot:new jc(this.query,e.Ra,o,c,e.mutatedKeys,u===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new J_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_t(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new zN(r))})),this.da.forEach((r=>{e.has(r)||n.push(new UN(r))})),n}ba(e){this.Ta=e.Ts,this.da=_t();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return jc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class r8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class i8{constructor(e){this.key=e,this.va=!1}}class a8{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Mc((d=>oN(d)),Wp),this.Ma=new Map,this.xa=new Set,this.Oa=new ls(qe.comparator),this.Na=new Map,this.La=new Ty,this.Ba={},this.ka=new Map,this.qa=wc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function o8(t,e,n=!0){const r=QN(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await HN(r,e,n,!0),i}async function l8(t,e){const n=QN(t);await HN(n,e,!0,!1)}async function HN(t,e,n,r){const i=await EP(t.localStore,bi(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await c8(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&PN(t.remoteStore,i),d}async function c8(t,e,n,r,i){t.Ka=(x,v,w)=>(async function(P,R,B,L){let T=R.view.ma(B);T.ns&&(T=await K_(P.localStore,R.query,!1).then((({documents:C})=>R.view.ma(C,T))));const y=L&&L.targetChanges.get(R.targetId),j=L&&L.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(T,P.isPrimaryClient,y,j);return s2(P,R.targetId,M.wa),M.snapshot})(t,x,v,w);const o=await K_(t.localStore,e,!0),c=new n8(e,o.Ts),d=c.ma(o.documents),u=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=c.applyChanges(d,t.isPrimaryClient,u);s2(t,n,m.wa);const p=new r8(e,n,c);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function d8(t,e,n){const r=at(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((c=>!Wp(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iy(r.remoteStore,i.targetId),Nv(r,i.targetId)})).catch(Du)):(Nv(r,i.targetId),await jv(r.localStore,i.targetId,!0))}async function u8(t,e){const n=at(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iy(n.remoteStore,r.targetId))}async function h8(t,e,n){const r=y8(t);try{const i=await(function(c,d){const u=at(c),m=fs.now(),p=d.reduce(((w,S)=>w.add(S.key)),_t());let x,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let S=oa(),P=_t();return u.cs.getEntries(w,p).next((R=>{S=R,S.forEach(((B,L)=>{L.isValidDocument()||(P=P.add(B))}))})).next((()=>u.localDocuments.getOverlayedDocuments(w,S))).next((R=>{x=R;const B=[];for(const L of d){const T=LR(L,x.get(L.key).overlayedDocument);T!=null&&B.push(new eo(L.key,T,eN(T.value.mapValue),Ir.exists(!0)))}return u.mutationQueue.addMutationBatch(w,m,B,d)})).next((R=>{v=R;const B=R.applyToLocalDocumentSet(x,P);return u.documentOverlayCache.saveOverlays(w,R.batchId,B)}))})).then((()=>({batchId:v.batchId,changes:dN(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,u){let m=c.Ba[c.currentUser.toKey()];m||(m=new ls(It)),m=m.insert(d,u),c.Ba[c.currentUser.toKey()]=m})(r,i.batchId,n),await Vu(r,i.changes),await Zp(r.remoteStore)}catch(i){const o=My(i,"Failed to persist write");n.reject(o)}}async function GN(t,e){const n=at(t);try{const r=await CP(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=n.Na.get(o);c&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?Lt(c.va):i.removedDocuments.size>0&&(Lt(c.va),c.va=!1))})),await Vu(n,r,e)}catch(r){await Du(r)}}function t2(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((o,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const u=at(c);u.onlineState=d;let m=!1;u.queries.forEach(((p,x)=>{for(const v of x.j_)v.Z_(d)&&(m=!0)})),m&&Fy(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m8(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let c=new ls(qe.comparator);c=c.insert(o,xn.newNoDocument(o,it.min()));const d=_t().add(o),u=new Xp(it.min(),new Map,new ls(It),c,d);await GN(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),By(r)}else await jv(r.localStore,e,!1).then((()=>Nv(r,e,n))).catch(Du)}async function p8(t,e){const n=at(t),r=e.batch.batchId;try{const i=await kP(n.localStore,e);qN(n,r,null),WN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(n,i)}catch(i){await Du(i)}}async function f8(t,e,n){const r=at(t);try{const i=await(function(c,d){const u=at(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return u.mutationQueue.lookupMutationBatch(m,d).next((x=>(Lt(x!==null),p=x.keys(),u.mutationQueue.removeMutationBatch(m,x)))).next((()=>u.mutationQueue.performConsistencyCheck(m))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(m,p,d))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>u.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);qN(r,e,n),WN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vu(r,i)}catch(i){await Du(i)}}function WN(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function qN(t,e,n){const r=at(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||KN(t,r)}))}function KN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Iy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),By(t))}function s2(t,e,n){for(const r of n)r instanceof UN?(t.La.addReference(r.key,e),g8(t,r)):r instanceof zN?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||KN(t,r.key)):et()}function g8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),By(t))}function By(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new qe($t.fromString(e)),r=t.qa.next();t.Na.set(r,new i8(n)),t.Oa=t.Oa.insert(n,r),PN(t.remoteStore,new Ua(bi(_y(n.path)),r,"TargetPurposeLimboResolution",gy.oe))}}async function Vu(t,e,n){const r=at(t),i=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,u)=>{c.push(r.Ka(u,e,n).then((m=>{var p;if((m||n)&&r.isPrimaryClient){const x=m?!m.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,x?"current":"not-current")}if(m){i.push(m);const x=Ey.Wi(u.targetId,m);o.push(x)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(u,m){const p=at(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>we.forEach(m,(v=>we.forEach(v.$i,(w=>p.persistence.referenceDelegate.addReference(x,v.targetId,w))).next((()=>we.forEach(v.Ui,(w=>p.persistence.referenceDelegate.removeReference(x,v.targetId,w)))))))))}catch(x){if(!Mu(x))throw x;Ue("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const v=x.targetId;if(!x.fromCache){const w=p.os.get(v),S=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(v,P)}}})(r.localStore,o))}async function x8(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await AN(n.localStore,e);n.currentUser=e,(function(o,c){o.ka.forEach((d=>{d.forEach((u=>{u.reject(new Pe(pe.CANCELLED,c))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(n,r.hs)}}function v8(t,e){const n=at(t),r=n.Na.get(e);if(r&&r.va)return _t().add(r.key);{let i=_t();const o=n.Ma.get(e);if(!o)return i;for(const c of o){const d=n.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function QN(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m8.bind(null,e),e.Ca.d_=t8.bind(null,e.eventManager),e.Ca.$a=s8.bind(null,e.eventManager),e}function y8(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f8.bind(null,e),e}class xp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return NP(this.persistence,new jP,e.initialUser,this.serializer)}Ga(e){return new bP(Ay.Zr,this.serializer)}Wa(e){return new RP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xp.provider={build:()=>new xp};class kv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x8.bind(null,this.syncEngine),await JP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new e8})()}createDatastore(e){const n=Yp(e.databaseInfo.databaseId),r=(function(o){return new MP(o)})(e.databaseInfo);return(function(o,c,d,u){return new $P(o,c,d,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,c,d){return new OP(r,i,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>t2(this.syncEngine,n,0)),(function(){return X_.D()?new X_:new PP})())}createSyncEngine(e,n){return(function(i,o,c,d,u,m,p){const x=new a8(i,o,c,d,u,m);return p&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=at(i);Ue("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await $u(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}kv.provider={build:()=>new kv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=YS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Ue("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=My(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function lx(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await AN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function n2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _8(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Y_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Y_(e.remoteStore,i))),t._onlineComponents=e}async function _8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await lx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xc("Error using user provided cache. Falling back to memory cache: "+n),await lx(t,new xp)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await lx(t,new xp);return t._offlineComponents}async function YN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await n2(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await n2(t,new kv))),t._onlineComponents}function w8(t){return YN(t).then((e=>e.syncEngine))}async function JN(t){const e=await YN(t),n=e.eventManager;return n.onListen=o8.bind(null,e.syncEngine),n.onUnlisten=d8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u8.bind(null,e.syncEngine),n}function j8(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,m){const p=new XN({next:v=>{p.Za(),c.enqueueAndForget((()=>VN(o,x)));const w=v.docs.has(d);!w&&v.fromCache?m.reject(new Pe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?m.reject(new Pe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),x=new ON(_y(d.path),p,{includeMetadataChanges:!0,_a:!0});return $N(o,x)})(await JN(t),t.asyncQueue,e,n,r))),r.promise}function S8(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,m){const p=new XN({next:v=>{p.Za(),c.enqueueAndForget((()=>VN(o,x))),v.fromCache&&u.source==="server"?m.reject(new Pe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),x=new ON(d,p,{includeMetadataChanges:!0,_a:!0});return $N(o,x)})(await JN(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e,n){if(!n)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N8(t,e,n,r){if(e===!0&&r===!0)throw new Pe(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i2(t){if(!qe.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a2(t){if(qe.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function la(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(t);throw new Pe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function k8(t,e){if(e<=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ou{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o2(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UI;switch(r.type){case"firstParty":return new WI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=r2.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),r2.delete(n),r.terminate())})(this),Promise.resolve()}}function C8(t,e,n,r={}){var i;const o=(t=la(t,Ou))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=fn.MOCK_USER;else{d=j6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Pe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new fn(m)}t._authCredentials=new zI(new XS(d,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ii(this.firestore,e,this._query)}}class Kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class Ka extends ii{constructor(e,n,r){super(e,n,_y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new qe(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function Uu(t,e,...n){if(t=si(t),$y("collection","path",e),t instanceof Ou){const r=$t.fromString(e,...n);return a2(r),new Ka(t,null,r)}{if(!(t instanceof Kn||t instanceof Ka))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return a2(r),new Ka(t.firestore,null,r)}}function tf(t,e){if(t=la(t,Ou),$y("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ii(t,null,(function(r){return new ua($t.emptyPath(),r)})(e))}function ps(t,e,...n){if(t=si(t),arguments.length===1&&(e=YS.newId()),$y("doc","path",e),t instanceof Ou){const r=$t.fromString(e,...n);return i2(r),new Kn(t,null,new qe(r))}{if(!(t instanceof Kn||t instanceof Ka))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return i2(r),new Kn(t.firestore,t instanceof Ka?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IN(this,"async_queue_retry"),this.Vu=()=>{const r=ox();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ox();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ox();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new sa;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mu(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw aa("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Dy.createAndSchedule(this,e,n,r,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&et()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class zu extends Ou{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new l2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l2(e),this._firestoreClient=void 0,await e}}}function T8(t,e){const n=typeof t=="object"?t:OS(),r=typeof t=="string"?t:"(default)",i=TI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=_6("firestore");o&&C8(i,...o)}return i}function sf(t){if(t._terminated)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A8(t),t._firestoreClient}function A8(t){var e,n,r;const i=t._freezeSettings(),o=(function(d,u,m,p){return new iR(d,u,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ZN(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new b8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(d){const u=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(ln.fromBase64String(e))}catch(n){throw new Pe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sc(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=/^__.*__$/;class I8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class ek{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class Uy{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tk(this.Cu)&&E8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class R8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yp(e)}Qu(e,n,r,i=!1){return new Uy({Cu:e,methodName:n,qu:r,path:nn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(t){const e=t._freezeSettings(),n=Yp(t._databaseId);return new R8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sk(t,e,n,r,i,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Hy("Data must be an object, but it was:",c,r);const d=rk(r,c);let u,m;if(o.merge)u=new lr(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const p=[];for(const x of o.mergeFields){const v=Cv(e,x,n);if(!c.contains(v))throw new Pe(pe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ak(p,v)||p.push(v)}u=new lr(p),m=c.fieldTransforms.filter((x=>u.covers(x.field)))}else u=null,m=c.fieldTransforms;return new I8(new qn(d),u,m)}class of extends rf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}class zy extends rf{_toFieldTransform(e){return new ER(e.path,new wu)}isEqual(e){return e instanceof zy}}function P8(t,e,n,r){const i=t.Qu(1,e,n);Hy("Data must be an object, but it was:",i,r);const o=[],c=qn.empty();ol(r,((u,m)=>{const p=Gy(e,u,n);m=si(m);const x=i.Nu(p);if(m instanceof of)o.push(p);else{const v=Hu(m,x);v!=null&&(o.push(p),c.set(p,v))}}));const d=new lr(o);return new ek(c,d,i.fieldTransforms)}function L8(t,e,n,r,i,o){const c=t.Qu(1,e,n),d=[Cv(e,r,n)],u=[i];if(o.length%2!=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(Cv(e,o[v])),u.push(o[v+1]);const m=[],p=qn.empty();for(let v=d.length-1;v>=0;--v)if(!ak(m,d[v])){const w=d[v];let S=u[v];S=si(S);const P=c.Nu(w);if(S instanceof of)m.push(w);else{const R=Hu(S,P);R!=null&&(m.push(w),p.set(w,R))}}const x=new lr(m);return new ek(p,x,c.fieldTransforms)}function nk(t,e,n,r=!1){return Hu(n,t.Qu(r?4:3,e))}function Hu(t,e){if(ik(t=si(t)))return Hy("Unsupported field value:",e,t),rk(t,e);if(t instanceof rf)return(function(r,i){if(!tk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const d of r){let u=Hu(d,i.Lu(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fs.fromDate(r);return{timestampValue:fp(i.serializer,o)}}if(r instanceof fs){const o=new fs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fp(i.serializer,o)}}if(r instanceof Vy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sc)return{bytesValue:wN(i.serializer,r._byteString)};if(r instanceof Kn){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oy)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((u=>{if(typeof u!="number")throw d.Bu("VectorValues must only contain numeric values.");return jy(d.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${ef(r)}`)})(t,e)}function rk(t,e){const n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,((r,i)=>{const o=Hu(i,e.Mu(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function ik(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fs||t instanceof Vy||t instanceof Sc||t instanceof Kn||t instanceof rf||t instanceof Oy)}function Hy(t,e,n){if(!ik(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=ef(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Cv(t,e,n){if((e=si(e))instanceof nf)return e._internalPath;if(typeof e=="string")return Gy(t,e);throw vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const D8=new RegExp("[~\\*/\\[\\]]");function Gy(t,e,n){if(e.search(D8)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch(r){throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vp(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new Pe(pe.INVALID_ARGUMENT,d+t+u)}function ak(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M8 extends Wy{data(){return super.data()}}function lf(t,e){return typeof e=="string"?Gy(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qy{}class Gu extends qy{}function En(t,e,...n){let r=[];e instanceof qy&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((u=>u instanceof Ky)).length,d=o.filter((u=>u instanceof cf)).length;if(c>1||c>0&&d>0)throw new Pe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class cf extends Gu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cf(e,n,r)}_apply(e){const n=this._parse(e);return lk(e._query,n),new ii(e.firestore,e.converter,vv(e._query,n))}_parse(e){const n=af(e.firestore);return(function(o,c,d,u,m,p,x){let v;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){d2(x,p);const w=[];for(const S of x)w.push(c2(u,o,S));v={arrayValue:{values:w}}}else v=c2(u,o,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||d2(x,p),v=nk(d,c,x,p==="in"||p==="not-in");return Ts.create(m,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qo(t,e,n){const r=e,i=lf("where",t);return cf._create(i,r,n)}class Ky extends qy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ky(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let c=i;const d=o.getFlattenedFilters();for(const u of d)lk(c,u),c=vv(c,u)})(e._query,n),new ii(e.firestore,e.converter,vv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qy extends Gu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qy(e,n)}_apply(e){const n=(function(i,o,c){if(i.startAt!==null)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(o,c)})(e._query,this._field,this._direction);return new ii(e.firestore,e.converter,(function(i,o){const c=i.explicitOrderBy.concat([o]);return new ua(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function za(t,e="asc"){const n=e,r=lf("orderBy",t);return Qy._create(r,n)}class Xy extends Gu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xy(e,n,r)}_apply(e){return new ii(e.firestore,e.converter,mp(e._query,this._limit,this._limitType))}}function In(t){return k8("limit",t),Xy._create("limit",t,"F")}class Yy extends Gu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Yy(e,n,r)}_apply(e){const n=ok(e,this.type,this._docOrFields,this._inclusive);return new ii(e.firestore,e.converter,(function(i,o){return new ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}}function zo(...t){return Yy._create("startAt",t,!0)}class Jy extends Gu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Jy(e,n,r)}_apply(e){const n=ok(e,this.type,this._docOrFields,this._inclusive);return new ii(e.firestore,e.converter,(function(i,o){return new ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)})(e._query,n))}}function Ho(...t){return Jy._create("endAt",t,!0)}function ok(t,e,n,r){if(n[0]=si(n[0]),n[0]instanceof Wy)return(function(o,c,d,u,m){if(!u)throw new Pe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const p=[];for(const x of mc(o))if(x.field.isKeyField())p.push(hp(c,u.key));else{const v=u.data.field(x.field);if(Gp(v))throw new Pe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const w=x.field.canonicalString();throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(v)}return new _c(p,m)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=af(t.firestore);return(function(c,d,u,m,p,x){const v=c.explicitOrderBy;if(p.length>v.length)throw new Pe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let S=0;S<p.length;S++){const P=p[S];if(v[S].field.isKeyField()){if(typeof P!="string")throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!wy(c)&&P.indexOf("/")!==-1)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const R=c.path.child($t.fromString(P));if(!qe.isDocumentKey(R))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const B=new qe(R);w.push(hp(d,B))}else{const R=nk(u,m,P);w.push(R)}}return new _c(w,x)})(t._query,t.firestore._databaseId,i,e,n,r)}}function c2(t,e,n){if(typeof(n=si(n))=="string"){if(n==="")throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wy(e)&&n.indexOf("/")!==-1)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!qe.isDocumentKey(r))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hp(t,new qe(r))}if(n instanceof Kn)return hp(t,n._key);throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function d2(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lk(t,e){const n=(function(i,o){for(const c of i)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Pe(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B8{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ol(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>bs(c.doubleValue)));return new Oy(o)}convertGeoPoint(e){return new Vy(bs(e.latitude),bs(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=Xa(e);return new fs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Lt(TN(r));const i=new yu(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return i.isEqual(n)||aa(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dk extends Wy{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xm extends dk{data(e={}){return super.data(e)}}class $8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xm(this._firestore,this._userDataWriter,r.key,r,new Gd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const u=new Xm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const u=new Xm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:V8(d.type),doc:u,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t){t=la(t,Kn);const e=la(t.firestore,zu);return j8(sf(e),t._key).then((n=>O8(e,t,n)))}class uk extends B8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function rn(t){t=la(t,ii);const e=la(t.firestore,zu),n=sf(e),r=new uk(e);return F8(t._query),S8(n,t._query).then((i=>new $8(e,r,t,i)))}function yp(t,e,n){t=la(t,Kn);const r=la(t.firestore,zu),i=ck(t.converter,e,n);return hk(r,[sk(af(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function hk(t,e){return(function(r,i){const o=new sa;return r.asyncQueue.enqueueAndForget((async()=>h8(await w8(r),i,o))),o.promise})(sf(t),e)}function O8(t,e,n){const r=n.docs.get(e._key),i=new uk(t);return new dk(t,i,e._key,r,new Gd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=af(e)}set(e,n,r){this._verifyNotCommitted();const i=cx(e,this._firestore),o=ck(i.converter,n,r),c=sk(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Ir.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=cx(e,this._firestore);let c;return c=typeof(n=si(n))=="string"||n instanceof nf?L8(this._dataReader,"WriteBatch.update",o._key,n,r,i):P8(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cx(e,this._firestore);return this._mutations=this._mutations.concat(new Sy(n._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cx(t,e){if((t=si(t)).firestore!==e)throw new Pe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ji(){return new zy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){return sf(t=la(t,zu)),new U8(t,(e=>hk(t,e)))}(function(e,n=!0){(function(i){Dc=i})(II),dp(new pu("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new zu(new HI(r.getProvider("auth-internal")),new KI(r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Pe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(m.options.projectId,p)})(c,i),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),hc(C_,"4.7.3",e),hc(C_,"4.7.3","esm2017")})();var H8="firebase",G8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hc(H8,G8,"app");const mk={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};mk.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const W8=RI().length?OS():VS(mk),Rt=T8(W8),Yr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Jr=t=>`https://drive.google.com/uc?export=view&id=${t}`,pk=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Ps=[{key:"warrior",label:"Warrior",iconUrl:Jr(Yr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Jr(Yr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Jr(Yr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Jr(Yr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Jr(Yr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Jr(Yr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Jr(Yr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Jr(Yr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Jr(Yr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Jr(Yr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Jr(Yr.paladin),fallback:""}],Tv=Object.fromEntries(Ps.map(t=>[t.key,t])),Av=new Map;function cs(t,e){Av.set(pk(t),e)}for(const t of Ps)cs(t.key,t.key),cs(t.label,t.key);cs("war","warrior");cs("krieger","warrior");cs("magier","mage");cs("jaeger","scout");cs("jger","scout");cs("assa","assassin");cs("meuchelmoerder","assassin");cs("meuchelmrder","assassin");cs("demonhunter","demon-hunter");cs("dh","demon-hunter");cs("daemonenjaeger","demon-hunter");cs("dmonenjger","demon-hunter");cs("zerker","berserker");cs("battlemage","battle-mage");cs("kampfmagier","battle-mage");cs("bm","battle-mage");cs("druide","druid");cs("barde","bard");cs("necro","necromancer");cs("nekromant","necromancer");cs("pala","paladin");function q8(t){const e=pk(t);if(!e)return{};const n=Av.get(e);if(n){const r=Tv[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Av.entries())if(r.startsWith(e)||e.startsWith(r)){const o=Tv[i];return{url:o.iconUrl,fallback:o.fallback}}return{}}const K8=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Ps,CLASS_BY_KEY:Tv,iconForClassName:q8},Symbol.toStringTag,{value:"Module"}));function df(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function Ym(t){if(t==null)return;const e=df(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function fk(t,e=64){if(t==null)return;const n=df(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function gk(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function xk(t,e,n,r){const i=Ym(t);return i?gk(i,{w:e,h:n,fit:r}):void 0}function Lr(t,e=64){const n=fk(t,e);return n?gk(n,{w:e,h:e,fit:"contain"}):void 0}function dx(t){if(t==null)return;const e=df(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function Q8(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const el=Object.assign(t=>Ym(t),{id:df,direct:Ym,thumb:fk,proxy:xk,thumbProxy:Lr,raw:dx,gif:dx,gifProxy:t=>{const e=dx(t);return e&&/^https?:\/\//i.test(e)?Q8(e):Ym(t)}}),ux=t=>Number.isFinite(t),Xl=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},X8=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Y8(t,e=64){if(!t)return;const n=o=>o.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=Ps.find(o=>n(o.label)===r);if(i||(i=Ps.find(o=>n(o.label).startsWith(r)||r.startsWith(n(o.label)))),!!i)return Lr(i.iconUrl,e)}function J8(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function Z8({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const r=Pr(),[i,o]=J.useState(""),[c,d]=J.useState(""),[u,m]=J.useState(!1),[p,x]=J.useState(null),[v,w]=J.useState([]),[S,P]=J.useState([]),[R,B]=J.useState([]),[L,T]=J.useState(-1),y=J.useRef(null);J.useEffect(()=>{const _=setTimeout(()=>d(i.trim()),200);return()=>clearTimeout(_)},[i]),J.useEffect(()=>{async function _(){x(null);const A=c;if(A.length<1){w([]),P([]),B([]),T(-1);return}m(!0);try{let D=function(Te){var De,Ee,st,ut,ss,Hs,Gs,Pn,Ws,Ls,Ds,Ln,vn,yn,ds,Xt,Gt,Dt,ai,Xn,mr,pr,oi,Ti,li,Dr,Wt,fr,Ai,Ei,bn,Yn,Ii,Jn;const xe=Te.data(),{root:Ce,id:Ne}=J8(Te),ue=Ne||xe.playerId||xe.guildIdentifier||"";if(Ce==="players"||xe.playerId&&!xe.guildIdentifier){if(!ue||z.has(ue))return;z.add(ue),Q.push({kind:"player",id:ue,name:(st=(Ee=xe.name)!=null?Ee:(De=xe.values)==null?void 0:De.Name)!=null?st:null,nameFold:(ut=xe.nameFold)!=null?ut:null,server:(Gs=(Hs=xe.server)!=null?Hs:(ss=xe.values)==null?void 0:ss.Server)!=null?Gs:null,guildName:(Ls=(Ws=xe.guildName)!=null?Ws:(Pn=xe.values)==null?void 0:Pn.Guild)!=null?Ls:null,className:(vn=(Ln=xe.className)!=null?Ln:(Ds=xe.values)==null?void 0:Ds.Class)!=null?vn:null,level:Xl((ds=xe.level)!=null?ds:(yn=xe.values)==null?void 0:yn.Level),ts:Xl(xe.timestamp)});return}if(Ce==="guilds"||xe.guildIdentifier&&!xe.playerId){if(!ue||q.has(ue))return;q.add(ue),H.push({kind:"guild",id:ue,name:(Dt=(Gt=xe.name)!=null?Gt:(Xt=xe.values)==null?void 0:Xt.Name)!=null?Dt:null,nameFold:(ai=xe.nameFold)!=null?ai:null,server:(pr=(mr=xe.server)!=null?mr:(Xn=xe.values)==null?void 0:Xn.Server)!=null?pr:null,memberCount:Xl((Dr=(Ti=xe.memberCount)!=null?Ti:(oi=xe.values)==null?void 0:oi["Guild Member Count"])!=null?Dr:(li=xe.values)==null?void 0:li.GuildMemberCount),hofRank:Xl((Jn=(Yn=(Ei=(fr=xe.hofRank)!=null?fr:(Wt=xe.values)==null?void 0:Wt["Hall of Fame Rank"])!=null?Ei:(Ai=xe.values)==null?void 0:Ai.HoF)!=null?Yn:(bn=xe.values)==null?void 0:bn.Rank)!=null?Jn:(Ii=xe.values)==null?void 0:Ii["Guild Rank"]),ts:Xl(xe.timestamp)});return}};const I=X8(A),V=tf(Rt,"latest"),$=await rn(En(V,za("nameFold"),zo(I),Ho(I+""),In(e*6))),W=await rn(En(V,qo("nameNgrams","array-contains",I),In(e*6))),z=new Set,q=new Set,Q=[],H=[];$.forEach(D),W.forEach(D);const te=Uu(Rt,"servers"),re=A.toLowerCase(),G=A.toUpperCase(),se=[rn(En(te,za("displayName"),zo(A),Ho(A+""),In(e*4))),rn(En(te,za("code"),zo(G),Ho(G+""),In(e*4))),rn(En(te,za("host"),zo(re),Ho(re+""),In(e*4)))],de=await Promise.allSettled(se),ee=new Set,fe=[];for(const Te of de)Te.status==="fulfilled"&&Te.value.forEach(xe=>{var ue,De,Ee,st,ut;const Ce=xe.data(),Ne=xe.id;!Ne||ee.has(Ne)||(ee.add(Ne),fe.push({kind:"server",id:Ne,displayName:(ue=Ce.displayName)!=null?ue:null,code:(De=Ce.code)!=null?De:null,host:(Ee=Ce.host)!=null?Ee:null,region:(st=Ce.region)!=null?st:null,type:(ut=Ce.type)!=null?ut:null,numericId:Xl(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});w(Q.slice(0,e)),P(H.slice(0,e)),B(fe.slice(0,e)),T(Q.length+H.length+fe.length?0:-1)}catch(D){x((D==null?void 0:D.message)||"Unbekannter Fehler bei der Suche."),w([]),P([]),B([]),T(-1)}finally{m(!1)}}return _(),()=>{}},[c,e]),J.useEffect(()=>{const _=A=>{y.current&&(y.current.contains(A.target)||(w([]),P([]),B([]),T(-1)))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const j=[...v,...S,...R],M=_=>{_.kind==="player"?r(`/player/${encodeURIComponent(_.id)}`):_.kind==="guild"?r(`/guild/${encodeURIComponent(_.id)}`):r(`/server/${encodeURIComponent(_.id)}`),w([]),P([]),B([]),T(-1),o("")},C=_=>{if(j.length)if(_.key==="ArrowDown")_.preventDefault(),T(A=>(A+1)%j.length);else if(_.key==="ArrowUp")_.preventDefault(),T(A=>(A-1+j.length)%j.length);else if(_.key==="Enter"){_.preventDefault();const A=j[L>=0?L:0];A&&M(A)}else _.key==="Escape"&&(w([]),P([]),B([]),T(-1))};return s.jsxs("div",{ref:y,style:ot.wrap,children:[s.jsx("input",{style:ot.input,placeholder:t,value:i,onChange:_=>o(_.target.value),onKeyDown:C,"aria-label":"Spieler, Gilden und Server suchen"}),(u||p||v.length||S.length||R.length)&&s.jsxs("div",{style:ot.dropdown,children:[u&&s.jsx("div",{style:ot.hint,children:"Suche"}),p&&!u&&s.jsxs("div",{style:ot.err,children:[" ",p]}),!u&&!p&&(v.length>0||S.length>0||R.length>0)&&s.jsxs(s.Fragment,{children:[v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Spieler"}),v.map((_,A)=>{var V,$,W,z;const D=A===L,I=(V=n==null?void 0:n(_.className,64))!=null?V:Y8(_.className,64);return s.jsxs("button",{onClick:()=>M(_),style:D?ot.itemActive:ot.item,title:_.name||"",onMouseEnter:()=>T(A),children:[s.jsx("div",{style:ot.iconBoxPlain,children:I?s.jsx("img",{src:I,alt:"",style:ot.iconImgShadow,onError:q=>{const Q=q.currentTarget.parentElement;Q&&(Q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:ot.iconFallback,children:(_.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:($=_.name)!=null?$:"Unbekannt"}),ux(_.level)&&s.jsxs("span",{style:ot.badge,children:["Lvl ",_.level]})]}),s.jsxs("div",{style:ot.line2,children:[_.guildName?s.jsxs("span",{children:["",_.guildName,""]}):s.jsx("span",{style:ot.muted,children:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(W=_.className)!=null?W:"Klasse ?"}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(z=_.server)!=null?z:"Server ?"})]})]})]},`p-${_.id}-${A}`)})]}),S.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Gilden"}),S.map((_,A)=>{var V,$;const D=v.length+A,I=D===L;return s.jsxs("button",{onClick:()=>M(_),style:I?ot.itemActive:ot.item,title:_.name||"",onMouseEnter:()=>T(D),children:[s.jsx("div",{style:ot.iconBox,children:""}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:(V=_.name)!=null?V:"Unbekannt"}),ux(_.hofRank)&&s.jsxs("span",{style:ot.badge,children:["HoF #",_.hofRank]})]}),s.jsxs("div",{style:ot.line2,children:[s.jsx("span",{children:($=_.server)!=null?$:"Server ?"}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:ux(_.memberCount)?`${_.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${_.id}-${A}`)})]}),R.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Server"}),R.map((_,A)=>{var V,$,W,z,q,Q;const D=v.length+S.length+A,I=D===L;return s.jsxs("button",{onClick:()=>M(_),style:I?ot.itemActive:ot.item,title:_.displayName||_.code||_.host||"",onMouseEnter:()=>T(D),children:[s.jsx("div",{style:ot.iconBoxPlain,children:s.jsx("div",{style:ot.serverGlyph,children:""})}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:(W=($=(V=_.displayName)!=null?V:_.code)!=null?$:_.host)!=null?W:_.id}),_.active!=null&&s.jsx("span",{style:ot.badge,children:_.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:ot.line2,children:[s.jsx("span",{children:(z=_.code)!=null?z:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(q=_.host)!=null?q:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(Q=_.region)!=null?Q:""}),_.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:_.type.toUpperCase()})]}):null]})]})]},`s-${_.id}-${A}`)})]})]}),!u&&!p&&v.length===0&&S.length===0&&R.length===0&&c.length>=1&&s.jsx("div",{style:ot.hint,children:"Keine Treffer"})]})]})}const ot={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}},eL=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub",area:"main",titleKey:"nav.guideHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0}],u2=["guest","user","moderator","developer","admin"];function vk(t){const e=t.trim();if(!e)return"/";const n=e.startsWith("/")?e:`/${e}`;return n==="/"?n:n.replace(/\/+$/,"").toLowerCase()}function yk(t){if(typeof t!="string")return;const e=t.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function bk(t){if(!Array.isArray(t))return;const e=t.map(n=>yk(n)).filter(Boolean);return e.length?e:void 0}function _k(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function wk(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function Zy(t){var e,n,r;return{...t,id:t.id.trim(),route:vk(t.route),area:t.area.trim(),allowedRoles:(e=bk(t.allowedRoles))!=null?e:t.allowedRoles,allowedGroups:(n=_k(t.allowedGroups))!=null?n:t.allowedGroups,allowedUserIds:(r=wk(t.allowedUserIds))!=null?r:t.allowedUserIds}}function tL(t,e){if(!e||typeof e!="object")return null;const n=e,r=typeof n.route=="string"?n.route:"",i=typeof n.area=="string"?n.area:"",o=typeof n.id=="string"&&n.id.trim()||t||(r?`feature:${r}`:"");if(!r||!o||!i)return null;const c={id:o,route:r,area:i,titleKey:typeof n.titleKey=="string"?n.titleKey:void 0,status:typeof n.status=="string"?n.status:void 0,minRole:yk(n.minRole),allowedRoles:bk(n.allowedRoles),allowedGroups:_k(n.allowedGroups),allowedUserIds:wk(n.allowedUserIds),showInTopbar:typeof n.showInTopbar=="boolean"?n.showInTopbar:void 0,showInSidebar:typeof n.showInSidebar=="boolean"?n.showInSidebar:void 0,navOrder:typeof n.navOrder=="number"?n.navOrder:void 0,isExperimental:typeof n.isExperimental=="boolean"?n.isExperimental:void 0,description:typeof n.description=="string"?n.description:void 0};return Zy(c)}function sL(t){const e={},n={};return t.forEach(r=>{const i=Zy(r);e[i.id]=i,n[i.route]=i}),{byId:e,byRoute:n}}const na=sL(eL),nL={...na,loading:!1,error:null};function rL(t,e){const n={...t!=null?t:{}};return Object.entries(e).forEach(([i,o])=>{if(o!==void 0){const c=i;n[c]=o}}),n}function iL(t){const e={...na.byId},n={...na.byRoute};return t.forEach(r=>{const i=Zy(r),o=e[i.id],c=rL(o,i);e[c.id]=c,n[c.route]=c}),{byId:e,byRoute:n}}const jk=J.createContext(nL),aL=({children:t})=>{const[e,n]=J.useState({...na,loading:!0,error:null});J.useEffect(()=>{let i=!0;return(async()=>{try{const c=await rn(Uu(Rt,"feature_access")),d=[];c.forEach(m=>{const p=tL(m.id,m.data());p&&d.push(p)});const u=iL(d);i&&n({...u,loading:!1,error:null})}catch(c){const d=c,u=d==null?void 0:d.code,m=u==="permission-denied"||u==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore feature_access ${m?"not readable":"load failed"}. Falling back to defaults.`,c),i&&n(x=>({...x,loading:!1,error:c instanceof Error?c.message:"Failed to load feature access rules"}))}})(),()=>{i=!1}},[]);const r=J.useMemo(()=>e,[e]);return s.jsx(jk.Provider,{value:r,children:t})};function oL(){return J.useContext(jk)}function lL(t,e){var i,o,c;if(!t)return;const n=e!=null?e:na,r=vk(t);return(c=(o=(i=n.byId[t])!=null?i:n.byRoute[r])!=null?o:na.byId[t])!=null?c:na.byRoute[r]}function cL(t){return!t||t.length===0?"user":t.includes("admin")?"admin":t.includes("dev")||t.includes("developer")?"developer":t.includes("mod")||t.includes("moderator")?"moderator":"user"}function dL(t,e,n,r,i){if(n)return!0;const o=e!=null?e:"user";if(t.status==="hidden"||t.status==="dev_only"&&o!=="developer"&&o!=="admin"||t.allowedUserIds&&t.allowedUserIds.length>0&&(!r||!t.allowedUserIds.includes(r))||t.allowedGroups&&t.allowedGroups.length>0&&!(i!=null?i:[]).some(d=>t.allowedGroups.includes(d)))return!1;if(t.allowedRoles&&t.allowedRoles.length>0)return!!o&&t.allowedRoles.includes(o);if(t.minRole){const c=u2.indexOf(o),d=u2.indexOf(t.minRole);return c>=d&&c!==-1}return!0}function e0(){var P;let t=null;try{t=al().user}catch(R){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:n,loading:r,error:i}=oL(),o=J.useMemo(()=>({byId:e!=null?e:na.byId,byRoute:n!=null?n:na.byRoute}),[e,n]),c=J.useMemo(()=>cL(t==null?void 0:t.roles),[t==null?void 0:t.roles]),d=J.useMemo(()=>{var R;return!!((R=t==null?void 0:t.roles)!=null&&R.includes("admin"))},[t==null?void 0:t.roles]),u=J.useMemo(()=>{var R;return(R=t==null?void 0:t.accessGroups)!=null?R:[]},[t==null?void 0:t.accessGroups]),m=(P=t==null?void 0:t.id)!=null?P:null,p=J.useCallback(R=>lL(R,o),[o]),x=J.useCallback(R=>R?dL(R,c,d,m,u):!0,[d,u,m,c]),v=J.useCallback(R=>{if(!R)return!0;const B=p(R);return x(B)},[x,p]),w=J.useCallback(R=>{if(!R)return!0;const B=p(R);return B?B.status==="hidden"||B.showInSidebar===!1?!1:x(B):!0},[x,p]),S=J.useCallback(R=>{if(!R)return!0;const B=p(R);return B?B.status==="hidden"||B.showInTopbar===!1?!1:x(B):!0},[x,p]);return{loading:r,error:i,rulesById:e,rulesByRoute:n,storeRules:o,resolveRule:p,canAccessRule:x,canAccessFeature:v,isVisibleInSidebar:w,isVisibleInTopbar:S}}const uL=[{to:"/",label:"Home",featureId:"main.home"},{to:"/dashboard",label:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",featureId:"main.guildHub"},{to:"/community",label:"Community",featureId:"main.community"},{to:"/tools",label:"Tools",featureId:"main.tools"}];function hL(t){var d,u,m;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),o=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,K8];for(const p of c){if(!p)continue;const x=(m=(u=(d=p[n])!=null?d:p[r])!=null?u:p[i])!=null?m:p[o];if(typeof x=="string")return x}}function mL({user:t}){const{open:e,canUse:n}=RS(),{isVisibleInTopbar:r}=e0(),i=J.useMemo(()=>uL.filter(c=>!c.featureId||r(c.featureId)),[r]),o=()=>{e({tab:"json"})};return s.jsxs("header",{className:ht.topbar,children:[s.jsxs("div",{className:ht.topbarLeft,children:[s.jsx("button",{className:ht.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(pA,{className:ht.ico})}),s.jsx("button",{className:ht.btnIco,"aria-label":"Favoriten",children:s.jsx(bE,{className:ht.ico})}),i.length>0?s.jsx("nav",{className:ht.topbarNav,"aria-label":"Schnellzugriff",children:i.map(c=>s.jsx(as,{to:c.to,className:({isActive:d})=>`${ht.pill} ${ht.topbarLink} ${d?ht.pillActive:""}`,children:c.label},c.to))}):null]}),s.jsx("div",{className:ht.searchWrap,children:s.jsx(Z8,{placeholder:"Suchen (Spieler)",getClassIcon:hL,maxPerSection:10})}),s.jsxs("div",{className:ht.topbarRight,children:[s.jsxs("a",{className:`${ht.pill} ${ht.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(OA,{className:ht.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:ht.upload,"aria-label":"Scan hochladen",onClick:o,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(CE,{className:ht.ico}),s.jsx("span",{className:ht.label,children:"Scan hochladen"})]}),s.jsx(d6,{fallbackName:t==null?void 0:t.name})]})]})}const pL="_root_11g8l_3",fL="_expanded_11g8l_45",gL="_headRow_11g8l_55",xL="_headTitle_11g8l_63",vL="_headDot_11g8l_65",yL="_headLabel_11g8l_67",bL="_pinBtn_11g8l_69",_L="_navScroll_11g8l_81",wL="_pad_11g8l_83",jL="_segCard_11g8l_89",SL="_segTitle_11g8l_121",NL="_navCol_11g8l_139",kL="_navItemWrap_11g8l_141",CL="_navBtn_11g8l_147",TL="_navBtnActive_11g8l_171",AL="_label_11g8l_175",EL="_trailing_11g8l_205",IL="_isOpen_11g8l_253",RL="_footer_11g8l_279",PL="_login_11g8l_281",LL="_userMeta_11g8l_303",DL="_legal_11g8l_317",ML="_labelText_11g8l_341",FL="_char_11g8l_351",BL="_mainNavCard_11g8l_419",Tt={root:pL,expanded:fL,headRow:gL,headTitle:xL,headDot:vL,headLabel:yL,pinBtn:bL,navScroll:_L,pad:wL,segCard:jL,segTitle:SL,navCol:NL,navItemWrap:kL,navBtn:CL,navBtnActive:TL,label:AL,trailing:EL,isOpen:IL,footer:RL,login:PL,userMeta:LL,legal:DL,labelText:ML,char:FL,mainNavCard:BL},$L="_panel_90cjk_1",VL="_open_90cjk_31",OL="_col_90cjk_43",hx={panel:$L,open:VL,col:OL};function UL(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function zL({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:o}){const[c,d]=J.useState({left:0,top:0});return J.useEffect(()=>{if(!e||!t)return;const u=()=>d(UL(t));u();const m=new ResizeObserver(u);return m.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{m.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(u=>u.label)),sA.createPortal(s.jsx("div",{className:`${hx.panel} ${e?hx.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:o,role:"menu",children:s.jsx("div",{className:hx.col,children:n.map(u=>r(u))})}),document.body))}const HL=(t,e,n,r)=>{var o,c,d,u;const i=[n,{code:e,...r||{}}];if((c=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&c.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Ko(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(d=t==null?void 0:t.services)==null?void 0:d.logger)!=null&&u.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},h2={},Ev=(t,e,n,r)=>{Ko(n)&&h2[n]||(Ko(n)&&(h2[n]=new Date),HL(t,e,n,r))},Sk=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Iv=(t,e,n)=>{t.loadNamespaces(e,Sk(t,n))},m2=(t,e,n,r)=>{if(Ko(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Iv(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Sk(t,r))},GL=(t,e,n={})=>!e.languages||!e.languages.length?(Ev(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Ko=t=>typeof t=="string",WL=t=>typeof t=="object"&&t!==null,qL=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,KL={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},QL=t=>KL[t],XL=t=>t.replace(qL,QL);let YL={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:XL};const JL=()=>YL;let ZL;const e9=()=>ZL,t9=E.createContext();class s9{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const n9=(t,e)=>{const n=E.useRef();return E.useEffect(()=>{n.current=t},[t,e]),n.current},Nk=(t,e,n,r)=>t.getFixedT(e,n,r),r9=(t,e,n,r)=>E.useCallback(Nk(t,e,n,r),[t,e,n,r]),kk=(t,e={})=>{var y,j,M,C;const{i18n:n}=e,{i18n:r,defaultNS:i}=E.useContext(t9)||{},o=n||r||e9();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new s9),!o){Ev(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const _=(D,I)=>Ko(I)?I:WL(I)&&Ko(I.defaultValue)?I.defaultValue:Array.isArray(D)?D[D.length-1]:D,A=[_,{},!1];return A.t=_,A.i18n={},A.ready=!1,A}(y=o.options.react)!=null&&y.wait&&Ev(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...JL(),...o.options.react,...e},{useSuspense:d,keyPrefix:u}=c;let m=i||((j=o.options)==null?void 0:j.defaultNS);m=Ko(m)?[m]:m||["translation"],(C=(M=o.reportNamespaces).addUsedNamespaces)==null||C.call(M,m);const p=(o.isInitialized||o.initializedStoreOnce)&&m.every(_=>GL(_,o,c)),x=r9(o,e.lng||null,c.nsMode==="fallback"?m:m[0],u),v=()=>x,w=()=>Nk(o,e.lng||null,c.nsMode==="fallback"?m:m[0],u),[S,P]=E.useState(v);let R=m.join();e.lng&&(R=`${e.lng}${R}`);const B=n9(R),L=E.useRef(!0);E.useEffect(()=>{const{bindI18n:_,bindI18nStore:A}=c;L.current=!0,!p&&!d&&(e.lng?m2(o,e.lng,m,()=>{L.current&&P(w)}):Iv(o,m,()=>{L.current&&P(w)})),p&&B&&B!==R&&L.current&&P(w);const D=()=>{L.current&&P(w)};return _&&(o==null||o.on(_,D)),A&&(o==null||o.store.on(A,D)),()=>{L.current=!1,o&&_&&(_==null||_.split(" ").forEach(I=>o.off(I,D))),A&&o&&A.split(" ").forEach(I=>o.store.off(I,D))}},[o,R]),E.useEffect(()=>{L.current&&p&&P(v)},[o,u,p]);const T=[S,o,p];if(T.t=S,T.i18n=o,T.ready=p,p||!p&&!d)return T;throw new Promise(_=>{e.lng?m2(o,e.lng,m,()=>_()):Iv(o,m,()=>_())})},i9=[{to:"/",label:"Home",icon:s.jsx(HA,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/dashboard",label:"Dashboard",icon:s.jsx(KA,{className:"ico"}),featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(rl,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",label:"Admin",icon:s.jsx(mE,{className:"ico"}),featureId:"main.admin"},{to:"/playground",label:"Playground",icon:s.jsx(Op,{className:"ico"}),featureId:"main.playground"}],a9=[{to:"/discover",label:"Discover",icon:s.jsx(RA,{className:"ico"}),featureId:"main.discover"},{to:"/toplists",label:"Toplists",icon:s.jsx(NE,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(gA,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",label:"Tools",icon:s.jsx(EE,{className:"ico"}),i18nKey:"nav.tools",featureId:"main.tools"},{to:"/community",label:"Community",icon:s.jsx(YA,{className:"ico"}),featureId:"main.community"},{to:"/scans",label:"Scans",icon:s.jsx($A,{className:"ico"}),featureId:"main.scans"},{to:"/settings",label:"Settings",icon:s.jsx(cE,{className:"ico"}),featureId:"main.settings"}],o9={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function l9(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function c9(t,e){return t?t.filter(n=>l9(e,n.minRole)):[]}const d9=220;function u9(t=d9){const[e,n]=J.useState(!1),r=J.useRef(null),i=J.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),o=J.useCallback(()=>{i(),n(!0)},[i]),c=J.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return J.useEffect(()=>()=>i(),[i]),{open:e,onEnter:o,onLeave:c,setOpen:n}}function t0({text:t,isOpen:e,duration:n=1,step:r=45}){const i=J.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:Tt.label,children:s.jsx("span",{className:Tt.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((o,c)=>s.jsx("span",{className:Tt.char,style:{"--i":c},"aria-hidden":"true",children:o===" "?"":o},`${t}-${c}`))})})}function h9({it:t,label:e,collapsed:n,allowSubmenus:r,subItems:i}){const o=i.length>0,{open:c,onEnter:d,onLeave:u,setOpen:m}=u9(),p=J.useRef(null),x=J.useCallback(()=>{if(!r||!o){m(!1);return}d()},[r,o,d,m]);return s.jsxs("div",{ref:p,className:`${Tt.navItemWrap} ${c?Tt.isOpen:""}`,onMouseEnter:x,onMouseLeave:u,children:[s.jsxs(as,{to:t.to,end:!!t.end,className:({isActive:v})=>`${Tt.navBtn} ${v?Tt.navBtnActive:""}`,children:[t.icon,s.jsx(t0,{text:e,isOpen:!n}),o&&!n&&s.jsx("span",{className:Tt.trailing,"aria-hidden":"true",children:s.jsx(bA,{className:"ico"})})]}),o&&s.jsx(zL,{anchorEl:p.current,open:c,items:i.map(({to:v,label:w})=>({to:v,label:w})),renderLink:v=>s.jsx(as,{to:v.to,className:({isActive:w})=>`link ${w?"linkActive":""}`,children:v.label},v.to),onMouseEnter:d,onMouseLeave:u})]})}function p2({title:t,items:e,collapsed:n,allowSubmenus:r,userRoles:i,translate:o,isItemVisible:c}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${Tt.navTitle} ${Tt.segTitle}`,children:t}),s.jsx("div",{className:Tt.navCol,children:e.map(d=>{if(!c(d))return null;const u=c9(o9[d.to],i),m=d.i18nKey?o(d.i18nKey):d.label;return u.length?s.jsx(h9,{it:d,label:m,collapsed:n,allowSubmenus:r,subItems:u},d.to):s.jsxs(as,{to:d.to,end:!!d.end,className:({isActive:p})=>`${Tt.navBtn} ${p?Tt.navBtnActive:""}`,children:[d.icon,s.jsx(t0,{text:m,isOpen:!n})]},d.to)})})]})}const m9=90,p9=180;function f9({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){var _;const o=J.useRef(null),c=J.useRef(null),[d,u]=J.useState(!1),m=J.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),p=J.useCallback(()=>{!i||n||(m(),u(!1),o.current=window.setTimeout(()=>e(!0),m9))},[i,n,m,e]),x=J.useCallback(()=>{!i||n||(m(),c.current=window.setTimeout(()=>{e(!1),u(!1)},p9))},[i,n,m,e]);J.useEffect(()=>()=>m(),[m]),J.useEffect(()=>{n&&u(!0)},[n]);const v=A=>{A.propertyName==="width"&&t&&!n&&u(!0)};J.useEffect(()=>{if(t&&!n){const A=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(A)}},[t,n]);const w=!t,S=n||t&&d,P=Pr(),{t:R}=kk(),{status:B,user:L,logout:T}=al(),y=B==="authenticated",j=(_=L==null?void 0:L.roles)!=null?_:[],{isVisibleInSidebar:M}=e0(),C=()=>{y?T():P("/login")};return s.jsxs("aside",{id:"sidebar-root",className:`${Tt.root} ${t?Tt.expanded:""}`,"data-collapsed":w?"true":"false",onMouseEnter:p,onMouseLeave:x,onTransitionEnd:v,"aria-label":"Navigation",children:[s.jsxs("div",{className:Tt.headRow,children:[s.jsxs("div",{className:Tt.headTitle,children:[s.jsx("span",{className:Tt.headDot})," ",s.jsx("span",{className:Tt.headLabel,children:"Navigation"})]}),s.jsx("button",{className:Tt.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(tE,{className:"ico"}):s.jsx(ZA,{className:"ico"})})]}),s.jsx("div",{className:Tt.navScroll,children:s.jsxs("div",{className:Tt.pad,children:[s.jsx("div",{className:`${Tt.segCard} ${Tt.mainNavCard}`,children:s.jsx(p2,{items:i9,collapsed:w,allowSubmenus:S,userRoles:j,translate:R,isItemVisible:A=>{var D;return M((D=A.featureId)!=null?D:A.to)}})}),s.jsx("div",{className:Tt.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${Tt.segCard} ${Tt.mainNavCard}`,children:s.jsx(p2,{items:a9,collapsed:w,allowSubmenus:S,userRoles:j,translate:R,isItemVisible:A=>{var D;return M((D=A.featureId)!=null?D:A.to)}})})]})}),s.jsxs("div",{className:`${Tt.footer} ${Tt.segCard} ${Tt.mainNavCard}`,children:[s.jsxs("button",{className:Tt.login,type:"button",onClick:C,children:[s.jsx(rl,{className:"ico"}),s.jsx(t0,{text:y?"Logout":"Login",isOpen:!w})]}),y&&(L!=null&&L.displayName)?s.jsx("div",{className:Tt.userMeta,title:L.displayName,children:L.displayName}):null,s.jsx("div",{className:Tt.legal,children:"(c) 2025 SFDataHub - Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Jm="/assets/logo-sfdatahub-CUdhlsEb.png";function g9({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:o="async"}){const c=t!=null?t:Jm;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(as,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:o,onError:d=>{const u=d.currentTarget;u.src!==Jm&&(u.src=Jm)}})}),n]})}function x9(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),i=n||t,o=E.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return s.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":o},children:[s.jsx(g9,{src:"/logo.png"}),s.jsx(mL,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(f9,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(vS,{})})})})]})}const Ck=E.createContext({});function s0(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const n0=E.createContext(null),r0=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function v9(t=!0){const e=E.useContext(n0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=E.useId();E.useEffect(()=>{t&&i(o)},[t]);const c=E.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const i0=typeof window!="undefined",Tk=i0?E.useLayoutEffect:E.useEffect,cr=t=>t;let Ak=cr;function a0(t){let e;return()=>(e===void 0&&(e=t()),e)}const tl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},wi=t=>t*1e3,ji=t=>t/1e3,y9={useManualTiming:!1};function b9(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(u.schedule(m),t()),m(c)}const u={schedule:(m,p=!1,x=!1)=>{const w=x&&r?e:n;return p&&o.add(m),w.has(m)||w.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,u.process(m))}};return u}const _m=["read","resolveKeyframes","update","preRender","render","postRender"],_9=40;function Ek(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=_m.reduce((B,L)=>(B[L]=b9(o),B),{}),{read:d,resolveKeyframes:u,update:m,preRender:p,render:x,postRender:v}=c,w=()=>{const B=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(B-i.timestamp,_9),1),i.timestamp=B,i.isProcessing=!0,d.process(i),u.process(i),m.process(i),p.process(i),x.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},S=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:_m.reduce((B,L)=>{const T=c[L];return B[L]=(y,j=!1,M=!1)=>(n||S(),T.schedule(y,j,M)),B},{}),cancel:B=>{for(let L=0;L<_m.length;L++)c[_m[L]].cancel(B)},state:i,steps:c}}const{schedule:Ht,cancel:ca,state:Zs,steps:mx}=Ek(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:cr,!0),Ik=E.createContext({strict:!1}),f2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nc={};for(const t in f2)Nc[t]={isEnabled:e=>f2[t].some(n=>!!e[n])};function w9(t){for(const e in t)Nc[e]={...Nc[e],...t[e]}}const j9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||j9.has(t)}let Rk=t=>!bp(t);function S9(t){t&&(Rk=e=>e.startsWith("on")?!bp(e):t(e))}try{S9(require("@emotion/is-prop-valid").default)}catch(t){}function N9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Rk(i)||n===!0&&bp(i)||!e&&!bp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function k9(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const uf=E.createContext({});function Nu(t){return typeof t=="string"||Array.isArray(t)}function hf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const o0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l0=["initial",...o0];function mf(t){return hf(t.animate)||l0.some(e=>Nu(t[e]))}function Pk(t){return!!(mf(t)||t.variants)}function C9(t,e){if(mf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Nu(n)?n:void 0,animate:Nu(r)?r:void 0}}return t.inherit!==!1?e:{}}function T9(t){const{initial:e,animate:n}=C9(t,E.useContext(uf));return E.useMemo(()=>({initial:e,animate:n}),[g2(e),g2(n)])}function g2(t){return Array.isArray(t)?t.join(" "):t}const A9=Symbol.for("motionComponentSymbol");function ic(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function E9(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ic(n)&&(n.current=r))},[e])}const c0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),I9="framerAppearId",Lk="data-"+c0(I9),{schedule:d0}=Ek(queueMicrotask,!1),Dk=E.createContext({});function R9(t,e,n,r,i){var o,c;const{visualElement:d}=E.useContext(uf),u=E.useContext(Ik),m=E.useContext(n0),p=E.useContext(r0).reducedMotion,x=E.useRef(null);r=r||u.renderer,!x.current&&r&&(x.current=r(t,{visualState:e,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=x.current,w=E.useContext(Dk);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&P9(x.current,n,i,w);const S=E.useRef(!1);E.useInsertionEffect(()=>{v&&S.current&&v.update(n,m)});const P=n[Lk],R=E.useRef(!!P&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,P))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,P)));return Tk(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),d0.render(v.render),R.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)===null||B===void 0||B.call(window,P)}),R.current=!1))}),v}function P9(t,e,n,r){const{layoutId:i,layout:o,drag:c,dragConstraints:d,layoutScroll:u,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Mk(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||d&&ic(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:m})}function Mk(t){if(t)return t.options.allowProjection!==!1?t.projection:Mk(t.parent)}function L9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,c;t&&w9(t);function d(m,p){let x;const v={...E.useContext(r0),...m,layoutId:D9(m)},{isStatic:w}=v,S=T9(m),P=r(m,w);if(!w&&i0){M9();const R=F9(v);x=R.MeasureLayout,S.visualElement=R9(i,P,v,e,R.ProjectionNode)}return s.jsxs(uf.Provider,{value:S,children:[x&&S.visualElement?s.jsx(x,{visualElement:S.visualElement,...v}):null,n(i,m,E9(P,S.visualElement,p),P,w,S.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&c!==void 0?c:""})`}`;const u=E.forwardRef(d);return u[A9]=i,u}function D9({layoutId:t}){const e=E.useContext(Ck).id;return e&&t!==void 0?e+"-"+t:t}function M9(t,e){E.useContext(Ik).strict}function F9(t){const{drag:e,layout:n}=Nc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const B9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u0(t){return typeof t!="string"||t.includes("-")?!1:!!(B9.indexOf(t)>-1||/[A-Z]/u.test(t))}function x2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function h0(t,e,n,r){if(typeof e=="function"){const[i,o]=x2(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=x2(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const Rv=t=>Array.isArray(t),$9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),V9=t=>Rv(t)?t[t.length-1]||0:t,Us=t=>!!(t&&t.getVelocity);function Zm(t){const e=Us(t)?t.get():t;return $9(e)?e.toValue():e}function O9({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const c={latestValues:U9(r,i,o,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const Fk=t=>(e,n)=>{const r=E.useContext(uf),i=E.useContext(n0),o=()=>O9(t,e,r,i);return n?o():s0(o)};function U9(t,e,n,r){const i={},o=r(t,{});for(const v in o)i[v]=Zm(o[v]);let{initial:c,animate:d}=t;const u=mf(t),m=Pk(t);e&&m&&!u&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const x=p?d:c;if(x&&typeof x!="boolean"&&!hf(x)){const v=Array.isArray(x)?x:[x];for(let w=0;w<v.length;w++){const S=h0(t,v[w]);if(S){const{transitionEnd:P,transition:R,...B}=S;for(const L in B){let T=B[L];if(Array.isArray(T)){const y=p?T.length-1:0;T=T[y]}T!==null&&(i[L]=T)}for(const L in P)i[L]=P[L]}}}return i}const Bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cl=new Set(Bc),Bk=t=>e=>typeof e=="string"&&e.startsWith(t),$k=Bk("--"),z9=Bk("var(--"),m0=t=>z9(t)?H9.test(t.split("/*")[0].trim()):!1,H9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,da=(t,e,n)=>n>e?e:n<t?t:n,$c={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ku={...$c,transform:t=>da(0,1,t)},wm={...$c,default:1},Wu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Va=Wu("deg"),Si=Wu("%"),Xe=Wu("px"),G9=Wu("vh"),W9=Wu("vw"),v2={...Si,parse:t=>Si.parse(t)/100,transform:t=>Si.transform(t*100)},q9={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe},K9={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:wm,scaleX:wm,scaleY:wm,scaleZ:wm,skew:Va,skewX:Va,skewY:Va,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:ku,originX:v2,originY:v2,originZ:Xe},y2={...$c,transform:Math.round},p0={...q9,...K9,zIndex:y2,size:Xe,fillOpacity:ku,strokeOpacity:ku,numOctaves:y2},Q9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X9=Bc.length;function Y9(t,e,n){let r="",i=!0;for(let o=0;o<X9;o++){const c=Bc[o],d=t[c];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(c.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const m=Vk(d,p0[c]);if(!u){i=!1;const p=Q9[c]||c;r+=`${p}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function f0(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let c=!1,d=!1;for(const u in e){const m=e[u];if(cl.has(u)){c=!0;continue}else if($k(u)){i[u]=m;continue}else{const p=Vk(m,p0[u]);u.startsWith("origin")?(d=!0,o[u]=p):r[u]=p}}if(e.transform||(c||n?r.transform=Y9(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:m="50%",originZ:p=0}=o;r.transformOrigin=`${u} ${m} ${p}`}}const J9={offset:"stroke-dashoffset",array:"stroke-dasharray"},Z9={offset:"strokeDashoffset",array:"strokeDasharray"};function eD(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?J9:Z9;t[o.offset]=Xe.transform(-r);const c=Xe.transform(e),d=Xe.transform(n);t[o.array]=`${c} ${d}`}function b2(t,e,n){return typeof t=="string"?t:Xe.transform(e+n*t)}function tD(t,e,n){const r=b2(e,t.x,t.width),i=b2(n,t.y,t.height);return`${r} ${i}`}function g0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:c,pathSpacing:d=1,pathOffset:u=0,...m},p,x){if(f0(t,m,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w,dimensions:S}=t;v.transform&&(S&&(w.transform=v.transform),delete v.transform),S&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=tD(S,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),c!==void 0&&eD(v,c,d,u,!1)}const x0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ok=()=>({...x0(),attrs:{}}),v0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Uk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const zk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hk(t,e,n,r){Uk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(zk.has(i)?i:c0(i),e.attrs[i])}const _p={};function sD(t){Object.assign(_p,t)}function Gk(t,{layout:e,layoutId:n}){return cl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_p[t]||t==="opacity")}function y0(t,e,n){var r;const{style:i}=t,o={};for(const c in i)(Us(i[c])||e.style&&Us(e.style[c])||Gk(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[c]=i[c]);return o}function Wk(t,e,n){const r=y0(t,e,n);for(const i in t)if(Us(t[i])||Us(e[i])){const o=Bc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function nD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const _2=["x","y","width","height","cx","cy","r"],rD={useVisualState:Fk({scrapeMotionValuesFromProps:Wk,createRenderState:Ok,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const d in i)if(cl.has(d)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let d=0;d<_2.length;d++){const u=_2[d];t[u]!==e[u]&&(c=!0)}c&&Ht.read(()=>{nD(n,r),Ht.render(()=>{g0(r,i,v0(n.tagName),t.transformTemplate),Hk(n,r)})})}})},iD={useVisualState:Fk({scrapeMotionValuesFromProps:y0,createRenderState:x0})};function qk(t,e,n){for(const r in e)!Us(e[r])&&!Gk(r,n)&&(t[r]=e[r])}function aD({transformTemplate:t},e){return E.useMemo(()=>{const n=x0();return f0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oD(t,e){const n=t.style||{},r={};return qk(r,n,t),Object.assign(r,aD(t,e)),r}function lD(t,e){const n={},r=oD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function cD(t,e,n,r){const i=E.useMemo(()=>{const o=Ok();return g0(o,e,v0(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};qk(o,t.style,t),i.style={...o,...i.style}}return i}function dD(t=!1){return(n,r,i,{latestValues:o},c)=>{const u=(u0(n)?cD:lD)(r,o,c,n),m=N9(r,typeof n=="string",t),p=n!==E.Fragment?{...m,...u,ref:i}:{},{children:x}=r,v=E.useMemo(()=>Us(x)?x.get():x,[x]);return E.createElement(n,{...p,children:v})}}function uD(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...u0(r)?rD:iD,preloadedFeatures:t,useRender:dD(i),createVisualElement:e,Component:r};return L9(c)}}function Kk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function pf(t,e,n){const r=t.getProps();return h0(r,e,n!==void 0?n:r.custom,t)}const hD=a0(()=>window.ScrollTimeline!==void 0);class mD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(hD()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Qk extends mD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function b0(t,e){return t?t[e]||t.default||t:void 0}const wp=2e4;function _0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wp;)e+=n,r=t.next(e);return e>=wp?1/0:e}function pD(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(_0(r),wp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:ji(i)}}function ff(t){return typeof t=="function"}function w2(t,e){t.timeline=e,t.onfinish=null}const w0=t=>Array.isArray(t)&&typeof t[0]=="number",fD={linearEasing:void 0};function gD(t,e){const n=a0(t);return()=>{var r;return(r=fD[e])!==null&&r!==void 0?r:n()}}const jp=gD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),Xk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(tl(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Yk(t){return!!(typeof t=="function"&&jp()||!t||typeof t=="string"&&(t in Pv||jp())||w0(t)||Array.isArray(t)&&t.every(Yk))}const Wd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wd([0,.65,.55,1]),circOut:Wd([.55,0,1,.45]),backIn:Wd([.31,.01,.66,-.59]),backOut:Wd([.33,1.53,.69,.99])};function Jk(t,e){if(t)return typeof t=="function"&&jp()?Xk(t,e):w0(t)?Wd(t):Array.isArray(t)?t.map(n=>Jk(n,e)||Pv.easeOut):Pv[t]}const Zr={x:!1,y:!1};function Zk(){return Zr.x||Zr.y}function e5(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function t5(t,e){const n=e5(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function j2(t){return e=>{e.pointerType==="touch"||Zk()||t(e)}}function xD(t,e,n={}){const[r,i,o]=t5(t,n),c=j2(d=>{const{target:u}=d,m=e(d);if(typeof m!="function"||!u)return;const p=j2(x=>{m(x),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),o}const s5=(t,e)=>e?t===e?!0:s5(t,e.parentElement):!1,j0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yD(t){return vD.has(t.tagName)||t.tabIndex!==-1}const qd=new WeakSet;function S2(t){return e=>{e.key==="Enter"&&t(e)}}function px(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=S2(()=>{if(qd.has(n))return;px(n,"down");const i=S2(()=>{px(n,"up")}),o=()=>px(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function N2(t){return j0(t)&&!Zk()}function _D(t,e,n={}){const[r,i,o]=t5(t,n),c=d=>{const u=d.currentTarget;if(!N2(d)||qd.has(u))return;qd.add(u);const m=e(d),p=(w,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),!(!N2(w)||!qd.has(u))&&(qd.delete(u),typeof m=="function"&&m(w,{success:S}))},x=w=>{p(w,n.useGlobalTarget||s5(u,w.target))},v=w=>{p(w,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!yD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",m=>bD(m,i),i)}),o}function wD(t){return t==="x"||t==="y"?Zr[t]?null:(Zr[t]=!0,()=>{Zr[t]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}const n5=new Set(["width","height","top","left","right","bottom",...Bc]);let ep;function jD(){ep=void 0}const Ni={now:()=>(ep===void 0&&Ni.set(Zs.isProcessing||y9.useManualTiming?Zs.timestamp:performance.now()),ep),set:t=>{ep=t,queueMicrotask(jD)}};function S0(t,e){t.indexOf(e)===-1&&t.push(e)}function gf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class N0{constructor(){this.subscriptions=[]}add(e){return S0(this.subscriptions,e),()=>gf(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function r5(t,e){return e?t*(1e3/e):0}const k2=30,SD=t=>!isNaN(parseFloat(t)),su={current:void 0};class ND{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Ni.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new N0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return su.current&&su.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k2);return r5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kc(t,e){return new ND(t,e)}function kD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kc(n))}function CD(t,e){const n=pf(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const c in o){const d=V9(o[c]);kD(t,c,d)}}function TD(t){return!!(Us(t)&&t.add)}function Lv(t,e){const n=t.getValue("willChange");if(TD(n))return n.add(e)}function i5(t){return t.props[Lk]}const a5=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,AD=1e-7,ED=12;function ID(t,e,n,r,i){let o,c,d=0;do c=e+(n-e)/2,o=a5(c,r,i)-t,o>0?n=c:e=c;while(Math.abs(o)>AD&&++d<ED);return c}function qu(t,e,n,r){if(t===e&&n===r)return cr;const i=o=>ID(o,0,1,t,n);return o=>o===0||o===1?o:a5(i(o),e,r)}const o5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l5=t=>e=>1-t(1-e),c5=qu(.33,1.53,.69,.99),k0=l5(c5),d5=o5(k0),u5=t=>(t*=2)<1?.5*k0(t):.5*(2-Math.pow(2,-10*(t-1))),C0=t=>1-Math.sin(Math.acos(t)),h5=l5(C0),m5=o5(C0),p5=t=>/^0[^.\s]+$/u.test(t);function RD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p5(t):!0}const nu=t=>Math.round(t*1e5)/1e5,T0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PD(t){return t==null}const LD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A0=(t,e)=>n=>!!(typeof n=="string"&&LD.test(n)&&n.startsWith(t)||e&&!PD(n)&&Object.prototype.hasOwnProperty.call(n,e)),f5=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,c,d]=r.match(T0);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},DD=t=>da(0,255,t),fx={...$c,transform:t=>Math.round(DD(t))},Go={test:A0("rgb","red"),parse:f5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fx.transform(t)+", "+fx.transform(e)+", "+fx.transform(n)+", "+nu(ku.transform(r))+")"};function MD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Dv={test:A0("#"),parse:MD,transform:Go.transform},ac={test:A0("hsl","hue"),parse:f5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Si.transform(nu(e))+", "+Si.transform(nu(n))+", "+nu(ku.transform(r))+")"},pn={test:t=>Go.test(t)||Dv.test(t)||ac.test(t),parse:t=>Go.test(t)?Go.parse(t):ac.test(t)?ac.parse(t):Dv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Go.transform(t):ac.transform(t)},FD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(T0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(FD))===null||n===void 0?void 0:n.length)||0)>0}const g5="number",x5="color",$D="var",VD="var(",C2="${}",OD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(OD,u=>(pn.test(u)?(r.color.push(o),i.push(x5),n.push(pn.parse(u))):u.startsWith(VD)?(r.var.push(o),i.push($D),n.push(u)):(r.number.push(o),i.push(g5),n.push(parseFloat(u))),++o,C2)).split(C2);return{values:n,split:d,indexes:r,types:i}}function v5(t){return Cu(t).values}function y5(t){const{split:e,types:n}=Cu(t),r=e.length;return i=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],i[c]!==void 0){const d=n[c];d===g5?o+=nu(i[c]):d===x5?o+=pn.transform(i[c]):o+=i[c]}return o}}const UD=t=>typeof t=="number"?0:t;function zD(t){const e=v5(t);return y5(t)(e.map(UD))}const Ja={test:BD,parse:v5,createTransformer:y5,getAnimatableNone:zD},HD=new Set(["brightness","contrast","saturate","opacity"]);function GD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(T0)||[];if(!r)return t;const i=n.replace(r,"");let o=HD.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const WD=/\b([a-z-]*)\(.*?\)/gu,Mv={...Ja,getAnimatableNone:t=>{const e=t.match(WD);return e?e.map(GD).join(" "):t}},qD={...p0,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Mv,WebkitFilter:Mv},E0=t=>qD[t];function b5(t,e){let n=E0(t);return n!==Mv&&(n=Ja),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KD=new Set(["auto","none","0"]);function QD(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!KD.has(o)&&Cu(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=b5(n,i)}const T2=t=>t===$c||t===Xe,A2=(t,e)=>parseFloat(t.split(", ")[e]),E2=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return A2(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?A2(o[1],t):0}},XD=new Set(["x","y","z"]),YD=Bc.filter(t=>!XD.has(t));function JD(t){const e=[];return YD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Cc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:E2(4,13),y:E2(5,14)};Cc.translateX=Cc.x;Cc.translateY=Cc.y;const Qo=new Set;let Fv=!1,Bv=!1;function _5(){if(Bv){const t=Array.from(Qo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=JD(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,c])=>{var d;(d=r.getValue(o))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bv=!1,Fv=!1,Qo.forEach(t=>t.complete()),Qo.clear()}function w5(){Qo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bv=!0)})}function ZD(){w5(),_5()}class I0{constructor(e,n,r,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qo.add(this),Fv||(Fv=!0,Ht.read(w5),Ht.resolveKeyframes(_5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const u=r.readValue(n,d);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const j5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),e7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t7(t){const e=e7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function S5(t,e,n=1){const[r,i]=t7(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return j5(c)?parseFloat(c):c}return m0(i)?S5(i,e,n+1):i}const N5=t=>e=>e.test(t),s7={test:t=>t==="auto",parse:t=>t},k5=[$c,Xe,Si,Va,W9,G9,s7],I2=t=>k5.find(N5(t));class C5 extends I0{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let m=e[u];if(typeof m=="string"&&(m=m.trim(),m0(m))){const p=S5(m,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!n5.has(r)||e.length!==2)return;const[i,o]=e,c=I2(i),d=I2(o);if(c!==d)if(T2(c)&&T2(d))for(let u=0;u<e.length;u++){const m=e[u];typeof m=="string"&&(e[u]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)RD(e[i])&&r.push(i);r.length&&QD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=Cc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,m])=>{n.getValue(u).set(m)}),this.resolveNoneKeyframes()}}const R2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ja.test(t)||t==="0")&&!t.startsWith("url("));function n7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function r7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=R2(i,e),d=R2(o,e);return!c||!d?!1:n7(t)||(n==="spring"||ff(n))&&r}const i7=t=>t!==null;function xf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(i7),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const a7=40;class T5{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ni.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>a7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ZD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:c,onComplete:d,onUpdate:u,isGenerator:m}=this.options;if(!m&&!r7(e,r,i,o))if(c)this.options.duration=0;else{u&&u(xf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Zt=(t,e,n)=>t+(e-t)*n;function gx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function o7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,u=2*n-d;i=gx(u,d,t+1/3),o=gx(u,d,t),c=gx(u,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function Sp(t,e){return n=>n>0?e:t}const xx=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},l7=[Dv,Go,ac],c7=t=>l7.find(e=>e.test(t));function P2(t){const e=c7(t);if(!e)return!1;let n=e.parse(t);return e===ac&&(n=o7(n)),n}const L2=(t,e)=>{const n=P2(t),r=P2(e);if(!n||!r)return Sp(t,e);const i={...n};return o=>(i.red=xx(n.red,r.red,o),i.green=xx(n.green,r.green,o),i.blue=xx(n.blue,r.blue,o),i.alpha=Zt(n.alpha,r.alpha,o),Go.transform(i))},d7=(t,e)=>n=>e(t(n)),Ku=(...t)=>t.reduce(d7),$v=new Set(["none","hidden"]);function u7(t,e){return $v.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function h7(t,e){return n=>Zt(t,e,n)}function R0(t){return typeof t=="number"?h7:typeof t=="string"?m0(t)?Sp:pn.test(t)?L2:f7:Array.isArray(t)?A5:typeof t=="object"?pn.test(t)?L2:m7:Sp}function A5(t,e){const n=[...t],r=n.length,i=t.map((o,c)=>R0(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=i[c](o);return n}}function m7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=R0(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function p7(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],d=t.indexes[c][i[c]],u=(n=t.values[d])!==null&&n!==void 0?n:0;r[o]=u,i[c]++}return r}const f7=(t,e)=>{const n=Ja.createTransformer(e),r=Cu(t),i=Cu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$v.has(t)&&!i.values.length||$v.has(e)&&!r.values.length?u7(t,e):Ku(A5(p7(r,i),i.values),n):Sp(t,e)};function E5(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zt(t,e,n):R0(t)(t,e)}const g7=5;function I5(t,e,n){const r=Math.max(e-g7,0);return r5(n-t(r),e-r)}const ms={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vx=.001;function x7({duration:t=ms.duration,bounce:e=ms.bounce,velocity:n=ms.velocity,mass:r=ms.mass}){let i,o,c=1-e;c=da(ms.minDamping,ms.maxDamping,c),t=da(ms.minDuration,ms.maxDuration,ji(t)),c<1?(i=m=>{const p=m*c,x=p*t,v=p-n,w=Vv(m,c),S=Math.exp(-x);return vx-v/w*S},o=m=>{const x=m*c*t,v=x*n+n,w=Math.pow(c,2)*Math.pow(m,2)*t,S=Math.exp(-x),P=Vv(Math.pow(m,2),c);return(-i(m)+vx>0?-1:1)*((v-w)*S)/P}):(i=m=>{const p=Math.exp(-m*t),x=(m-n)*t+1;return-vx+p*x},o=m=>{const p=Math.exp(-m*t),x=(n-m)*(t*t);return p*x});const d=5/t,u=y7(i,o,d);if(t=wi(t),isNaN(u))return{stiffness:ms.stiffness,damping:ms.damping,duration:t};{const m=Math.pow(u,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const v7=12;function y7(t,e,n){let r=n;for(let i=1;i<v7;i++)r=r-t(r)/e(r);return r}function Vv(t,e){return t*Math.sqrt(1-e*e)}const b7=["duration","bounce"],_7=["stiffness","damping","mass"];function D2(t,e){return e.some(n=>t[n]!==void 0)}function w7(t){let e={velocity:ms.velocity,stiffness:ms.stiffness,damping:ms.damping,mass:ms.mass,isResolvedFromDuration:!1,...t};if(!D2(t,_7)&&D2(t,b7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*da(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ms.mass,stiffness:i,damping:o}}else{const n=x7(t);e={...e,...n,mass:ms.mass},e.isResolvedFromDuration=!0}return e}function P0(t=ms.visualDuration,e=ms.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:u,damping:m,mass:p,duration:x,velocity:v,isResolvedFromDuration:w}=w7({...n,velocity:-ji(n.velocity||0)}),S=v||0,P=m/(2*Math.sqrt(u*p)),R=c-o,B=ji(Math.sqrt(u/p)),L=Math.abs(R)<5;r||(r=L?ms.restSpeed.granular:ms.restSpeed.default),i||(i=L?ms.restDelta.granular:ms.restDelta.default);let T;if(P<1){const j=Vv(B,P);T=M=>{const C=Math.exp(-P*B*M);return c-C*((S+P*B*R)/j*Math.sin(j*M)+R*Math.cos(j*M))}}else if(P===1)T=j=>c-Math.exp(-B*j)*(R+(S+B*R)*j);else{const j=B*Math.sqrt(P*P-1);T=M=>{const C=Math.exp(-P*B*M),_=Math.min(j*M,300);return c-C*((S+P*B*R)*Math.sinh(_)+j*R*Math.cosh(_))/j}}const y={calculatedDuration:w&&x||null,next:j=>{const M=T(j);if(w)d.done=j>=x;else{let C=0;P<1&&(C=j===0?wi(S):I5(T,j,M));const _=Math.abs(C)<=r,A=Math.abs(c-M)<=i;d.done=_&&A}return d.value=d.done?c:M,d},toString:()=>{const j=Math.min(_0(y),wp),M=Xk(C=>y.next(j*C).value,j,30);return j+"ms "+M}};return y}function M2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:u,restDelta:m=.5,restSpeed:p}){const x=t[0],v={done:!1,value:x},w=_=>d!==void 0&&_<d||u!==void 0&&_>u,S=_=>d===void 0?u:u===void 0||Math.abs(d-_)<Math.abs(u-_)?d:u;let P=n*e;const R=x+P,B=c===void 0?R:c(R);B!==R&&(P=B-x);const L=_=>-P*Math.exp(-_/r),T=_=>B+L(_),y=_=>{const A=L(_),D=T(_);v.done=Math.abs(A)<=m,v.value=v.done?B:D};let j,M;const C=_=>{w(v.value)&&(j=_,M=P0({keyframes:[v.value,S(v.value)],velocity:I5(T,_,v.value),damping:i,stiffness:o,restDelta:m,restSpeed:p}))};return C(0),{calculatedDuration:null,next:_=>{let A=!1;return!M&&j===void 0&&(A=!0,y(_),C(_)),j!==void 0&&_>=j?M.next(_-j):(!A&&y(_),v)}}}const j7=qu(.42,0,1,1),S7=qu(0,0,.58,1),R5=qu(.42,0,.58,1),P5=t=>Array.isArray(t)&&typeof t[0]!="number",N7={linear:cr,easeIn:j7,easeInOut:R5,easeOut:S7,circIn:C0,circInOut:m5,circOut:h5,backIn:k0,backInOut:d5,backOut:c5,anticipate:u5},F2=t=>{if(w0(t)){Ak(t.length===4);const[e,n,r,i]=t;return qu(e,n,r,i)}else if(typeof t=="string")return N7[t];return t};function k7(t,e,n){const r=[],i=n||E5,o=t.length-1;for(let c=0;c<o;c++){let d=i(t[c],t[c+1]);if(e){const u=Array.isArray(e)?e[c]||cr:e;d=Ku(u,d)}r.push(d)}return r}function L5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Ak(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=k7(e,r,i),u=d.length,m=p=>{if(c&&p<t[0])return e[0];let x=0;if(u>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const v=tl(t[x],t[x+1],p);return d[x](v)};return n?p=>m(da(t[0],t[o-1],p)):m}function D5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=tl(0,e,r);t.push(Zt(n,1,i))}}function M5(t){const e=[0];return D5(e,t.length-1),e}function C7(t,e){return t.map(n=>n*e)}function T7(t,e){return t.map(()=>e||R5).splice(0,t.length-1)}function Np({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=P5(r)?r.map(F2):F2(r),o={done:!1,value:e[0]},c=C7(n&&n.length===e.length?n:M5(e),t),d=L5(c,e,{ease:Array.isArray(i)?i:T7(e,i)});return{calculatedDuration:t,next:u=>(o.value=d(u),o.done=u>=t,o)}}const A7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ht.update(e,!0),stop:()=>ca(e),now:()=>Zs.isProcessing?Zs.timestamp:Ni.now()}},E7={decay:M2,inertia:M2,tween:Np,keyframes:Np,spring:P0},I7=t=>t/100;class L0 extends T5{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,c=(i==null?void 0:i.KeyframeResolver)||I0,d=(u,m)=>this.onKeyframesResolved(u,m);this.resolver=new c(o,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=this.options,d=ff(n)?n:E7[n]||Np;let u,m;d!==Np&&typeof e[0]!="number"&&(u=Ku(I7,E5(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});o==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=_0(p));const{calculatedDuration:x}=p,v=x+i,w=v*(r+1)-i;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:u,calculatedDuration:x,resolvedDuration:v,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:u,calculatedDuration:m,totalDuration:p,resolvedDuration:x}=r;if(this.startTime===null)return o.next(0);const{delay:v,repeat:w,repeatType:S,repeatDelay:P,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const B=this.currentTime-v*(this.speed>=0?1:-1),L=this.speed>=0?B<0:B>p;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let T=this.currentTime,y=o;if(w){const _=Math.min(this.currentTime,p)/x;let A=Math.floor(_),D=_%1;!D&&_>=1&&(D=1),D===1&&A--,A=Math.min(A,w+1),!!(A%2)&&(S==="reverse"?(D=1-D,P&&(D-=P/x)):S==="mirror"&&(y=c)),T=da(0,1,D)*x}const j=L?{done:!1,value:u[0]}:y.next(T);d&&(j.value=d(j.value));let{done:M}=j;!L&&m!==null&&(M=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(j.value=xf(u,this.options,i)),R&&R(j.value),C&&this.finish(),j}get duration(){const{resolved:e}=this;return e?ji(e.calculatedDuration):0}get time(){return ji(this.currentTime)}set time(e){e=wi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ji(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=A7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const R7=new Set(["opacity","clipPath","filter","transform"]);function P7(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:d="easeInOut",times:u}={}){const m={[e]:n};u&&(m.offset=u);const p=Jk(d,i);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const L7=a0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kp=10,D7=2e4;function M7(t){return ff(t.type)||t.type==="spring"||!Yk(t.ease)}function F7(t,e){const n=new L0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<D7;)r=n.sample(o),i.push(r.value),o+=kp;return{times:void 0,keyframes:i,duration:o-kp,ease:"linear"}}const F5={anticipate:u5,backInOut:d5,circInOut:m5};function B7(t){return t in F5}class B2 extends T5{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new C5(o,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:c,motionValue:d,name:u,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&jp()&&B7(o)&&(o=F5[o]),M7(this.options)){const{onComplete:x,onUpdate:v,motionValue:w,element:S,...P}=this.options,R=F7(e,P);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,i=R.times,o=R.ease,c="keyframes"}const p=P7(d.owner.current,u,e,{...this.options,duration:r,times:i,ease:o});return p.startTime=m!=null?m:this.calcStartTime(),this.pendingTimeline?(w2(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:x}=this.options;d.set(xf(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ji(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ji(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=wi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return cr;const{animation:r}=n;w2(r,e)}return cr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:x,element:v,...w}=this.options,S=new L0({...w,keyframes:r,duration:i,type:o,ease:c,times:d,isGenerator:!0}),P=wi(this.time);m.setWithVelocity(S.sample(P-kp).value,S.sample(P).value,kp)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:m}=n.owner.getProps();return L7()&&r&&R7.has(r)&&!u&&!m&&!i&&o!=="mirror"&&c!==0&&d!=="inertia"}}const $7={type:"spring",stiffness:500,damping:25,restSpeed:10},V7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O7={type:"keyframes",duration:.8},U7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z7=(t,{keyframes:e})=>e.length>2?O7:cl.has(t)?t.startsWith("scale")?V7(e[1]):$7:U7;function H7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:d,from:u,elapsed:m,...p}){return!!Object.keys(p).length}const D0=(t,e,n,r={},i,o)=>c=>{const d=b0(r,t)||{},u=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-wi(u);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};H7(d)||(p={...p,...z7(t,p)}),p.duration&&(p.duration=wi(p.duration)),p.repeatDelay&&(p.repeatDelay=wi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const v=xf(p.keyframes,d);if(v!==void 0)return Ht.update(()=>{p.onUpdate(v),p.onComplete()}),new Qk([])}return!o&&B2.supports(p)?new B2(p):new L0(p)};function G7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function M0(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...u}=e;r&&(c=r);const m=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const x in u){const v=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),w=u[x];if(w===void 0||p&&G7(p,x))continue;const S={delay:n,...b0(c||{},x)};let P=!1;if(window.MotionHandoffAnimation){const B=i5(t);if(B){const L=window.MotionHandoffAnimation(B,x,Ht);L!==null&&(S.startTime=L,P=!0)}}Lv(t,x),v.start(D0(x,v,w,t.shouldReduceMotion&&n5.has(x)?{type:!1}:S,t,P));const R=v.animation;R&&m.push(R)}return d&&Promise.all(m).then(()=>{Ht.update(()=>{d&&CD(t,d)})}),m}function Ov(t,e,n={}){var r;const i=pf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const c=i?()=>Promise.all(M0(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:v}=o;return W7(t,e,p+m,x,v,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[m,p]=u==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(n.delay)])}function W7(t,e,n=0,r=0,i=1,o){const c=[],d=(t.variantChildren.size-1)*r,u=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(q7).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(Ov(m,e,{...o,delay:n+u(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function q7(t,e){return t.sortNodePosition(e)}function K7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Ov(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Ov(t,e,n);else{const i=typeof e=="function"?pf(t,e,n.custom):e;r=Promise.all(M0(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Q7=l0.length;function B5(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?B5(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Q7;n++){const r=l0[n],i=t.props[r];(Nu(i)||i===!1)&&(e[r]=i)}return e}const X7=[...o0].reverse(),Y7=o0.length;function J7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>K7(t,n,r)))}function Z7(t){let e=J7(t),n=$2(),r=!0;const i=u=>(m,p)=>{var x;const v=pf(t,p,u==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:S,...P}=v;m={...m,...P,...S}}return m};function o(u){e=u(t)}function c(u){const{props:m}=t,p=B5(t.parent)||{},x=[],v=new Set;let w={},S=1/0;for(let R=0;R<Y7;R++){const B=X7[R],L=n[B],T=m[B]!==void 0?m[B]:p[B],y=Nu(T),j=B===u?L.isActive:null;j===!1&&(S=R);let M=T===p[B]&&T!==m[B]&&y;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),L.protectedKeys={...w},!L.isActive&&j===null||!T&&!L.prevProp||hf(T)||typeof T=="boolean")continue;const C=eM(L.prevProp,T);let _=C||B===u&&L.isActive&&!M&&y||R>S&&y,A=!1;const D=Array.isArray(T)?T:[T];let I=D.reduce(i(B),{});j===!1&&(I={});const{prevResolvedValues:V={}}=L,$={...V,...I},W=Q=>{_=!0,v.has(Q)&&(A=!0,v.delete(Q)),L.needsAnimating[Q]=!0;const H=t.getValue(Q);H&&(H.liveStyle=!1)};for(const Q in $){const H=I[Q],te=V[Q];if(w.hasOwnProperty(Q))continue;let re=!1;Rv(H)&&Rv(te)?re=!Kk(H,te):re=H!==te,re?H!=null?W(Q):v.add(Q):H!==void 0&&v.has(Q)?W(Q):L.protectedKeys[Q]=!0}L.prevProp=T,L.prevResolvedValues=I,L.isActive&&(w={...w,...I}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(M&&C)||A)&&x.push(...D.map(Q=>({animation:Q,options:{type:B}})))}if(v.size){const R={};v.forEach(B=>{const L=t.getBaseTarget(B),T=t.getValue(B);T&&(T.liveStyle=!0),R[B]=L!=null?L:null}),x.push({animation:R})}let P=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(x):Promise.resolve()}function d(u,m){var p;if(n[u].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var w;return(w=v.animationState)===null||w===void 0?void 0:w.setActive(u,m)}),n[u].isActive=m;const x=c(u);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=$2(),r=!0}}}function eM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Kk(e,t):!1}function To(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $2(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tM extends to{constructor(e){super(e),e.animationState||(e.animationState=Z7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let sM=0;class nM extends to{constructor(){super(...arguments),this.id=sM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rM={animation:{Feature:tM},exit:{Feature:nM}};function Tu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qu(t){return{point:{x:t.pageX,y:t.pageY}}}const iM=t=>e=>j0(e)&&t(e,Qu(e));function ru(t,e,n,r){return Tu(t,e,iM(n),r)}const V2=(t,e)=>Math.abs(t-e);function aM(t,e){const n=V2(t.x,e.x),r=V2(t.y,e.y);return Math.sqrt(n**2+r**2)}class $5{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=bx(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=aM(x.offset,{x:0,y:0})>=3;if(!v&&!w)return;const{point:S}=x,{timestamp:P}=Zs;this.history.push({...S,timestamp:P});const{onStart:R,onMove:B}=this.handlers;v||(R&&R(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=yx(v,this.transformPagePoint),Ht.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=bx(x.type==="pointercancel"?this.lastMoveEventInfo:yx(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,R),S&&S(x,R)},!j0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=Qu(e),d=yx(c,this.transformPagePoint),{point:u}=d,{timestamp:m}=Zs;this.history=[{...u,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,bx(d,this.history)),this.removeListeners=Ku(ru(this.contextWindow,"pointermove",this.handlePointerMove),ru(this.contextWindow,"pointerup",this.handlePointerUp),ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ca(this.updatePoint)}}function yx(t,e){return e?{point:e(t.point)}:t}function O2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bx({point:t},e){return{point:t,delta:O2(t,V5(e)),offset:O2(t,oM(e)),velocity:lM(e,.1)}}function oM(t){return t[0]}function V5(t){return t[t.length-1]}function lM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=V5(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>wi(e)));)n--;if(!r)return{x:0,y:0};const o=ji(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const O5=1e-4,cM=1-O5,dM=1+O5,U5=.01,uM=0-U5,hM=0+U5;function hr(t){return t.max-t.min}function mM(t,e,n){return Math.abs(t-e)<=n}function U2(t,e,n,r=.5){t.origin=r,t.originPoint=Zt(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=Zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=cM&&t.scale<=dM||isNaN(t.scale))&&(t.scale=1),(t.translate>=uM&&t.translate<=hM||isNaN(t.translate))&&(t.translate=0)}function iu(t,e,n,r){U2(t.x,e.x,n.x,r?r.originX:void 0),U2(t.y,e.y,n.y,r?r.originY:void 0)}function z2(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function pM(t,e,n){z2(t.x,e.x,n.x),z2(t.y,e.y,n.y)}function H2(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function au(t,e,n){H2(t.x,e.x,n.x),H2(t.y,e.y,n.y)}function fM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Zt(n,t,r.max):Math.min(t,n)),t}function G2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gM(t,{top:e,left:n,bottom:r,right:i}){return{x:G2(t.x,n,i),y:G2(t.y,e,r)}}function W2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xM(t,e){return{x:W2(t.x,e.x),y:W2(t.y,e.y)}}function vM(t,e){let n=.5;const r=hr(t),i=hr(e);return i>r?n=tl(e.min,e.max-r,t.min):r>i&&(n=tl(t.min,t.max-i,e.min)),da(0,1,n)}function yM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Uv=.35;function bM(t=Uv){return t===!1?t=0:t===!0&&(t=Uv),{x:q2(t,"left","right"),y:q2(t,"top","bottom")}}function q2(t,e,n){return{min:K2(t,e),max:K2(t,n)}}function K2(t,e){return typeof t=="number"?t:t[e]||0}const Q2=()=>({translate:0,scale:1,origin:0,originPoint:0}),oc=()=>({x:Q2(),y:Q2()}),X2=()=>({min:0,max:0}),hs=()=>({x:X2(),y:X2()});function Cr(t){return[t("x"),t("y")]}function z5({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _M({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _x(t){return t===void 0||t===1}function zv({scale:t,scaleX:e,scaleY:n}){return!_x(t)||!_x(e)||!_x(n)}function $o(t){return zv(t)||H5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function H5(t){return Y2(t.x)||Y2(t.y)}function Y2(t){return t&&t!=="0%"}function Cp(t,e,n){const r=t-n,i=e*r;return n+i}function J2(t,e,n,r,i){return i!==void 0&&(t=Cp(t,i,r)),Cp(t,n,r)+e}function Hv(t,e=0,n=1,r,i){t.min=J2(t.min,e,n,r,i),t.max=J2(t.max,e,n,r,i)}function G5(t,{x:e,y:n}){Hv(t.x,e.translate,e.scale,e.originPoint),Hv(t.y,n.translate,n.scale,n.originPoint)}const Z2=.999999999999,ew=1.0000000000001;function jM(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let d=0;d<i;d++){o=n[d],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&cc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,G5(t,c)),r&&$o(o.latestValues)&&cc(t,o.latestValues))}e.x<ew&&e.x>Z2&&(e.x=1),e.y<ew&&e.y>Z2&&(e.y=1)}function lc(t,e){t.min=t.min+e,t.max=t.max+e}function tw(t,e,n,r,i=.5){const o=Zt(t.min,t.max,i);Hv(t,e,n,o,r)}function cc(t,e){tw(t.x,e.x,e.scaleX,e.scale,e.originX),tw(t.y,e.y,e.scaleY,e.scale,e.originY)}function W5(t,e){return z5(wM(t.getBoundingClientRect(),e))}function SM(t,e,n){const r=W5(t,n),{scroll:i}=e;return i&&(lc(r.x,i.offset.x),lc(r.y,i.offset.y)),r}const q5=({current:t})=>t?t.ownerDocument.defaultView:null,NM=new WeakMap;class kM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hs(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qu(p).point)},o=(p,x)=>{const{drag:v,dragPropagation:w,onDragStart:S}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wD(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(R=>{let B=this.getAxisMotionValue(R).get()||0;if(Si.test(B)){const{projection:L}=this.visualElement;if(L&&L.layout){const T=L.layout.layoutBox[R];T&&(B=hr(T)*(parseFloat(B)/100))}}this.originPoint[R]=B}),S&&Ht.postRender(()=>S(p,x)),Lv(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(p,x)=>{const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:S,onDrag:P}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:R}=x;if(w&&this.currentDirection===null){this.currentDirection=CM(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,R),this.updateAxis("y",x.point,R),this.visualElement.render(),P&&P(p,x)},d=(p,x)=>this.stop(p,x),u=()=>Cr(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new $5(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:q5(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ht.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!jm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=fM(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&ic(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gM(i.layoutBox,n):this.constraints=!1,this.elastic=bM(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=yM(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ic(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=SM(r,i.root,this.visualElement.getTransformPagePoint());let c=xM(i.layout.layoutBox,o);if(n){const d=n(_M(c));this.hasMutatedConstraints=!!d,d&&(c=z5(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},m=Cr(p=>{if(!jm(p,n,this.currentDirection))return;let x=u&&u[p]||{};c&&(x={min:0,max:0});const v=i?200:1e6,w=i?40:1e7,S={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,S)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lv(this.visualElement,e),r.start(D0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cr(n=>{const{drag:r}=this.getProps();if(!jm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];o.set(e[n]-Zt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ic(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const u=d.get();i[c]=vM({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cr(c=>{if(!jm(c,e,null))return;const d=this.getAxisMotionValue(c),{min:u,max:m}=this.constraints[c];d.set(Zt(u,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;NM.set(this.visualElement,this);const e=this.visualElement.current,n=ru(e,"pointerdown",u=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ic(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ht.read(r);const c=Tu(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:m})=>{this.isDragging&&m&&(Cr(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=u[p].translate,x.set(x.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=Uv,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function jm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class TM extends to{constructor(e){super(e),this.removeGroupControls=cr,this.removeListeners=cr,this.controls=new kM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const sw=t=>(e,n)=>{t&&Ht.postRender(()=>t(e,n))};class AM extends to{constructor(){super(...arguments),this.removePointerDownListener=cr}onPointerDown(e){this.session=new $5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:sw(e),onStart:sw(n),onMove:r,onEnd:(o,c)=>{delete this.session,i&&Ht.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=ru(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ed={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xe.test(t))t=parseFloat(t);else return t;const n=nw(t,e.target.x),r=nw(t,e.target.y);return`${n}% ${r}%`}},EM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ja.parse(t);if(i.length>5)return r;const o=Ja.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,u=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=u;const m=Zt(d,u,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),o(i)}};class IM extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;sD(RM),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),tp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,c=r.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Ht.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K5(t){const[e,n]=v9(),r=E.useContext(Ck);return s.jsx(IM,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Dk),isPresent:e,safeToRemove:n})}const RM={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:EM};function Q5(t,e,n){const r=Us(t)?t:kc(t);return r.start(D0("",r,e,n)),r.animation}function X5(t){return t instanceof SVGElement&&t.tagName!=="svg"}const PM=(t,e)=>t.depth-e.depth;class LM{constructor(){this.children=[],this.isDirty=!1}add(e){S0(this.children,e),this.isDirty=!0}remove(e){gf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PM),this.isDirty=!1,this.children.forEach(e)}}function DM(t,e){const n=Ni.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(ca(r),t(o-e))};return Ht.read(r,!0),()=>ca(r)}const Y5=["TopLeft","TopRight","BottomLeft","BottomRight"],MM=Y5.length,rw=t=>typeof t=="string"?parseFloat(t):t,iw=t=>typeof t=="number"||Xe.test(t);function FM(t,e,n,r,i,o){i?(t.opacity=Zt(0,n.opacity!==void 0?n.opacity:1,BM(r)),t.opacityExit=Zt(e.opacity!==void 0?e.opacity:1,0,$M(r))):o&&(t.opacity=Zt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<MM;c++){const d=`border${Y5[c]}Radius`;let u=aw(e,d),m=aw(n,d);if(u===void 0&&m===void 0)continue;u||(u=0),m||(m=0),u===0||m===0||iw(u)===iw(m)?(t[d]=Math.max(Zt(rw(u),rw(m),r),0),(Si.test(m)||Si.test(u))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Zt(e.rotate||0,n.rotate||0,r))}function aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BM=J5(0,.5,h5),$M=J5(.5,.95,cr);function J5(t,e,n){return r=>r<t?0:r>e?1:n(tl(t,e,r))}function ow(t,e){t.min=e.min,t.max=e.max}function Nr(t,e){ow(t.x,e.x),ow(t.y,e.y)}function lw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cw(t,e,n,r,i){return t-=e,t=Cp(t,1/n,r),i!==void 0&&(t=Cp(t,1/i,r)),t}function VM(t,e=0,n=1,r=.5,i,o=t,c=t){if(Si.test(e)&&(e=parseFloat(e),e=Zt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Zt(o.min,o.max,r);t===o&&(d-=e),t.min=cw(t.min,e,n,d,i),t.max=cw(t.max,e,n,d,i)}function dw(t,e,[n,r,i],o,c){VM(t,e[n],e[r],e[i],e.scale,o,c)}const OM=["x","scaleX","originX"],UM=["y","scaleY","originY"];function uw(t,e,n,r){dw(t.x,e,OM,n?n.x:void 0,r?r.x:void 0),dw(t.y,e,UM,n?n.y:void 0,r?r.y:void 0)}function hw(t){return t.translate===0&&t.scale===1}function Z5(t){return hw(t.x)&&hw(t.y)}function mw(t,e){return t.min===e.min&&t.max===e.max}function zM(t,e){return mw(t.x,e.x)&&mw(t.y,e.y)}function pw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function e3(t,e){return pw(t.x,e.x)&&pw(t.y,e.y)}function fw(t){return hr(t.x)/hr(t.y)}function gw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class HM{constructor(){this.members=[]}add(e){S0(this.members,e),e.scheduleRender()}remove(e){if(gf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GM(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(r=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:v,skewX:w,skewY:S}=n;m&&(r=`perspective(${m}px) ${r}`),p&&(r+=`rotate(${p}deg) `),x&&(r+=`rotateX(${x}deg) `),v&&(r+=`rotateY(${v}deg) `),w&&(r+=`skewX(${w}deg) `),S&&(r+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,u=t.y.scale*e.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const Vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Kd=typeof window!="undefined"&&window.MotionDebug!==void 0,wx=["","X","Y","Z"],WM={visibility:"hidden"},xw=1e3;let qM=0;function jx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function t3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=i5(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ht,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&t3(r)}function s3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=qM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kd&&(Vo.totalNodes=Vo.resolvedTargetDeltas=Vo.recalculatedProjection=0),this.nodes.forEach(XM),this.nodes.forEach(tF),this.nodes.forEach(sF),this.nodes.forEach(YM),Kd&&window.MotionDebug.record(Vo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new LM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new N0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const u=this.eventHandlers.get(c);u&&u.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=X5(c),this.instance=c;const{layoutId:u,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||u)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=DM(v,250),tp.hasAnimatedSinceResize&&(tp.hasAnimatedSinceResize=!1,this.nodes.forEach(yw))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeTargetChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||oF,{onLayoutAnimationStart:R,onLayoutAnimationComplete:B}=p.getProps(),L=!this.targetLayout||!e3(this.targetLayout,S)||w,T=!v&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,T);const y={...b0(P,"layout"),onPlay:R,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else v||yw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ca(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nF),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&t3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vw);return}this.isUpdating||this.nodes.forEach(ZM),this.isUpdating=!1,this.nodes.forEach(eF),this.nodes.forEach(KM),this.nodes.forEach(QM),this.clearAllSnapshots();const d=Ni.now();Zs.delta=da(0,1e3/60,d-Zs.timestamp),Zs.timestamp=d,Zs.isProcessing=!0,mx.update.process(Zs),mx.preRender.process(Zs),mx.render.process(Zs),Zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JM),this.sharedNodes.forEach(rF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Z5(this.projectionDelta),u=this.getTransformTemplate(),m=u?u(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||$o(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return c&&(u=this.removeTransform(u)),lF(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return hs();const u=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(cF))){const{scroll:p}=this.root;p&&(lc(u.x,p.offset.x),lc(u.y,p.offset.y))}return u}removeElementScroll(c){var d;const u=hs();if(Nr(u,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return u;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:v}=p;p!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&Nr(u,c),lc(u.x,x.offset.x),lc(u.y,x.offset.y))}return u}applyTransform(c,d=!1){const u=hs();Nr(u,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&cc(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),$o(p.latestValues)&&cc(u,p.latestValues)}return $o(this.latestValues)&&cc(u,this.latestValues),u}removeTransform(c){const d=hs();Nr(d,c);for(let u=0;u<this.path.length;u++){const m=this.path[u];if(!m.instance||!$o(m.latestValues))continue;zv(m.latestValues)&&m.updateSnapshot();const p=hs(),x=m.measurePageBox();Nr(p,x),uw(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return $o(this.latestValues)&&uw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=Zs.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),au(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hs(),this.targetWithTransforms=hs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nr(this.target,this.layout.layoutBox),G5(this.target,this.targetDelta)):Nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),au(this.relativeTargetOrigin,this.target,w.target),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kd&&Vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zv(this.parent.latestValues)||H5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),u=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Zs.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;Nr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;jM(this.layoutCorrected,this.treeScale,this.path,u),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=hs());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lw(this.prevProjectionDelta.x,this.projectionDelta.x),lw(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Kd&&Vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oc(),this.projectionDelta=oc(),this.projectionDeltaWithTransform=oc()}setAnimationOrigin(c,d=!1){const u=this.snapshot,m=u?u.latestValues:{},p={...this.latestValues},x=oc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=hs(),w=u?u.source:void 0,S=this.layout?this.layout.source:void 0,P=w!==S,R=this.getStack(),B=!R||R.members.length<=1,L=!!(P&&!B&&this.options.crossfade===!0&&!this.path.some(aF));this.animationProgress=0;let T;this.mixTargetDelta=y=>{const j=y/1e3;bw(x.x,c.x,j),bw(x.y,c.y,j),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(au(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iF(this.relativeTarget,this.relativeTargetOrigin,v,j),T&&zM(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=hs()),Nr(T,this.relativeTarget)),P&&(this.animationValues=p,FM(p,m,this.latestValues,j,L,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ca(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ht.update(()=>{tp.hasAnimatedSinceResize=!0,this.currentAnimation=Q5(0,xw,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:u,layout:m,latestValues:p}=c;if(!(!d||!u||!m)){if(this!==c&&this.layout&&m&&n3(this.options.animationType,this.layout.layoutBox,m.layoutBox)){u=this.target||hs();const x=hr(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+x;const v=hr(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}Nr(d,u),cc(d,p),iu(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new HM),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:u}={}){const m=this.getStack();m&&m.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const m={};u.z&&jx("z",c,m,this.animationValues);for(let p=0;p<wx.length;p++)jx(`rotate${wx[p]}`,c,m,this.animationValues),jx(`skew${wx[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){var d,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WM;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Zm(c==null?void 0:c.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Zm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(P.transform=p?p({},""):"none",this.hasProjected=!1),P}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=GM(this.projectionDeltaWithTransform,this.treeScale,v),p&&(m.transform=p(v,m.transform));const{x:w,y:S}=this.projectionDelta;m.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,x.animationValues?m.opacity=x===this?(u=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in _p){if(v[P]===void 0)continue;const{correct:R,applyTo:B}=_p[P],L=m.transform==="none"?v[P]:R(v[P],x);if(B){const T=B.length;for(let y=0;y<T;y++)m[B[y]]=L}else m[P]=L}return this.options.layoutId&&(m.pointerEvents=x===this?Zm(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(vw),this.root.sharedNodes.clear()}}}function KM(t){t.updateLayout()}function QM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,c=n.source!==t.layout.source;o==="size"?Cr(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],w=hr(v);v.min=r[x].min,v.max=v.min+w}):n3(o,n.layoutBox,r)&&Cr(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],w=hr(r[x]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+w)});const d=oc();iu(d,r,n.layoutBox);const u=oc();c?iu(u,t.applyTransform(i,!0),n.measuredBox):iu(u,r,n.layoutBox);const m=!Z5(d);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:w}=x;if(v&&w){const S=hs();au(S,n.layoutBox,v.layoutBox);const P=hs();au(P,r,w.layoutBox),e3(S,P)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=S,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function XM(t){Kd&&Vo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JM(t){t.clearSnapshot()}function vw(t){t.clearMeasurements()}function ZM(t){t.isLayoutDirty=!1}function eF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tF(t){t.resolveTargetDelta()}function sF(t){t.calcProjection()}function nF(t){t.resetSkewAndRotation()}function rF(t){t.removeLeadSnapshot()}function bw(t,e,n){t.translate=Zt(e.translate,0,n),t.scale=Zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _w(t,e,n,r){t.min=Zt(e.min,n.min,r),t.max=Zt(e.max,n.max,r)}function iF(t,e,n,r){_w(t.x,e.x,n.x,r),_w(t.y,e.y,n.y,r)}function aF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oF={duration:.45,ease:[.4,0,.1,1]},ww=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jw=ww("applewebkit/")&&!ww("chrome/")?Math.round:cr;function Sw(t){t.min=jw(t.min),t.max=jw(t.max)}function lF(t){Sw(t.x),Sw(t.y)}function n3(t,e,n){return t==="position"||t==="preserve-aspect"&&!mM(fw(e),fw(n),.2)}function cF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const dF=s3({attachResizeListener:(t,e)=>Tu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sx={current:void 0},r3=s3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sx.current){const t=new dF({});t.mount(window),t.setOptions({layoutScroll:!0}),Sx.current=t}return Sx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uF={pan:{Feature:AM},drag:{Feature:TM,ProjectionNode:r3,MeasureLayout:K5}};function Nw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ht.postRender(()=>o(e,Qu(e)))}class hF extends to{mount(){const{current:e}=this.node;e&&(this.unmount=xD(e,n=>(Nw(this.node,n,"Start"),r=>Nw(this.node,r,"End"))))}unmount(){}}class mF extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(Tu(this.node.current,"focus",()=>this.onFocus()),Tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ht.postRender(()=>o(e,Qu(e)))}class pF extends to{mount(){const{current:e}=this.node;e&&(this.unmount=_D(e,n=>(kw(this.node,n,"Start"),(r,{success:i})=>kw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gv=new WeakMap,Nx=new WeakMap,fF=t=>{const e=Gv.get(t.target);e&&e(t)},gF=t=>{t.forEach(fF)};function xF({root:t,...e}){const n=t||document;Nx.has(n)||Nx.set(n,{});const r=Nx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(gF,{root:t,...e})),r[i]}function vF(t,e,n){const r=xF(e);return Gv.set(t,n),r.observe(t),()=>{Gv.delete(t),r.unobserve(t)}}const yF={some:0,all:1};class bF extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yF[i]},d=u=>{const{isIntersecting:m}=u;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),v=m?p:x;v&&v(u)};return vF(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_F(e,n))&&this.startObserver()}unmount(){}}function _F({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wF={inView:{Feature:bF},tap:{Feature:pF},focus:{Feature:mF},hover:{Feature:hF}},jF={layout:{ProjectionNode:r3,MeasureLayout:K5}},Tp={current:null},F0={current:!1};function i3(){if(F0.current=!0,!!i0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tp.current=t.matches;t.addListener(e),e()}else Tp.current=!1}const SF=[...k5,pn,Ja],NF=t=>SF.find(N5(t)),Tc=new WeakMap;function kF(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Us(i))t.addValue(r,i);else if(Us(o))t.addValue(r,kc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,kc(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class a3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=I0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ni.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ht.render(this.render,!1,!0))};const{latestValues:u,renderState:m,onUpdate:p}=c;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=mf(n),this.isVariantNode=Pk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];u[w]!==void 0&&Us(S)&&S.set(u[w],!1)}}mount(e){this.current=e,Tc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),F0.current||i3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Tc.delete(this.current),this.projection&&this.projection.unmount(),ca(this.notifyUpdate),ca(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=cl.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nc){const n=Nc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Cw.length;r++){const i=Cw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=kF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=kc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(j5(i)||p5(i))?i=parseFloat(i):!NF(i)&&Ja.test(n)&&(i=b5(e,n)),this.setBaseTarget(e,Us(i)?i.get():i)),Us(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=h0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Us(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new N0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class o3 extends a3{constructor(){super(...arguments),this.KeyframeResolver=C5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Us(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CF(t){return window.getComputedStyle(t)}class l3 extends o3{constructor(){super(...arguments),this.type="html",this.renderInstance=Uk}readValueFromInstance(e,n){if(cl.has(n)){const r=E0(n);return r&&r.default||0}else{const r=CF(e),i=($k(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return W5(e,n)}build(e,n,r){f0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return y0(e,n,r)}}class c3 extends o3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hs}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cl.has(n)){const r=E0(n);return r&&r.default||0}return n=zk.has(n)?n:c0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Wk(e,n,r)}build(e,n,r){g0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Hk(e,n,r,i)}mount(e){this.isSVGTag=v0(e.tagName),super.mount(e)}}const TF=(t,e)=>u0(t)?new c3(e):new l3(e,{allowProjection:t!==E.Fragment}),AF=uD({...rM,...wF,...uF,...jF},TF),d3=k9(AF);function Qd(t){const e=s0(()=>kc(t)),{isStatic:n}=E.useContext(r0);if(n){const[,r]=E.useState(t);E.useEffect(()=>e.on("change",r),[])}return e}function u3(t,e){const n=Qd(e()),r=()=>n.set(e());return r(),Tk(()=>{const i=()=>Ht.preRender(r,!1,!0),o=t.map(c=>c.on("change",i));return()=>{o.forEach(c=>c()),ca(r)}}),n}const EF=t=>t&&typeof t=="object"&&t.mix,IF=t=>EF(t)?t.mix:void 0;function RF(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],c=t[3+n],d=L5(i,o,{mixer:IF(o[0]),...c});return e?d(r):d}function PF(t){su.current=[],t();const e=u3(su.current,t);return su.current=void 0,e}function Sm(t,e,n,r){if(typeof t=="function")return PF(t);const i=typeof e=="function"?e:RF(e,n,r);return Array.isArray(t)?Tw(t,i):Tw([t],([o])=>i(o))}function Tw(t,e){const n=s0(()=>[]);return u3(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function h3(){!F0.current&&i3();const[t]=E.useState(Tp.current);return t}const LF=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function m3(t,e){return P5(t)?t[LF(0,t.length,e)]:t}function B0(t){return typeof t=="object"&&!Array.isArray(t)}function p3(t,e,n,r){return typeof t=="string"&&B0(e)?e5(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function DF(t,e,n){return t*(e+1)}function Aw(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function MF(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(gf(t,i),r--)}}function FF(t,e,n,r,i,o){MF(t,i,o);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Zt(i,o,r[c]),easing:m3(n,c)})}function BF(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function $F(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const VF="easeInOut";function OF(t,{defaultTransition:e={},...n}={},r,i){const o=e.duration||.3,c=new Map,d=new Map,u={},m=new Map;let p=0,x=0,v=0;for(let w=0;w<t.length;w++){const S=t[w];if(typeof S=="string"){m.set(S,x);continue}else if(!Array.isArray(S)){m.set(S.name,Aw(x,S.at,p,m));continue}let[P,R,B={}]=S;B.at!==void 0&&(x=Aw(x,B.at,p,m));let L=0;const T=(y,j,M,C=0,_=0)=>{const A=UF(y),{delay:D=0,times:I=M5(A),type:V="keyframes",repeat:$,repeatType:W,repeatDelay:z=0,...q}=j;let{ease:Q=e.ease||"easeOut",duration:H}=j;const te=typeof D=="function"?D(C,_):D,re=A.length,G=ff(V)?V:i==null?void 0:i[V];if(re<=2&&G){let fe=100;if(re===2&&GF(A)){const Ce=A[1]-A[0];fe=Math.abs(Ce)}const Te={...q};H!==void 0&&(Te.duration=wi(H));const xe=pD(Te,fe,G);Q=xe.ease,H=xe.duration}H!=null||(H=o);const se=x+te;I.length===1&&I[0]===0&&(I[1]=1);const de=I.length-A.length;if(de>0&&D5(I,de),A.length===1&&A.unshift(null),$){H=DF(H,$);const fe=[...A],Te=[...I];Q=Array.isArray(Q)?[...Q]:[Q];const xe=[...Q];for(let Ce=0;Ce<$;Ce++){A.push(...fe);for(let Ne=0;Ne<fe.length;Ne++)I.push(Te[Ne]+(Ce+1)),Q.push(Ne===0?"linear":m3(xe,Ne-1))}BF(I,$)}const ee=se+H;FF(M,A,Q,I,se,ee),L=Math.max(te+H,L),v=Math.max(ee,v)};if(Us(P)){const y=Ew(P,d);T(R,B,Iw("default",y))}else{const y=p3(P,R,r,u),j=y.length;for(let M=0;M<j;M++){R=R,B=B;const C=y[M],_=Ew(C,d);for(const A in R)T(R[A],zF(B,A),Iw(A,_),M,j)}}p=x,x+=L}return d.forEach((w,S)=>{for(const P in w){const R=w[P];R.sort($F);const B=[],L=[],T=[];for(let j=0;j<R.length;j++){const{at:M,value:C,easing:_}=R[j];B.push(C),L.push(tl(0,v,M)),T.push(_||"easeOut")}L[0]!==0&&(L.unshift(0),B.unshift(B[0]),T.unshift(VF)),L[L.length-1]!==1&&(L.push(1),B.push(null)),c.has(S)||c.set(S,{keyframes:{},transition:{}});const y=c.get(S);y.keyframes[P]=B,y.transition[P]={...e,duration:v,ease:T,times:L,...n}}}),c}function Ew(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Iw(t,e){return e[t]||(e[t]=[]),e[t]}function UF(t){return Array.isArray(t)?t:[t]}function zF(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const HF=t=>typeof t=="number",GF=t=>t.every(HF);function WF(t,e){return t in e}class qF extends a3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(WF(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return hs()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function KF(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=X5(t)?new c3(e):new l3(e);n.mount(t),Tc.set(t,n)}function QF(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new qF(e);n.mount(t),Tc.set(t,n)}function XF(t,e){return Us(t)||typeof t=="number"||typeof t=="string"&&!B0(e)}function f3(t,e,n,r){const i=[];if(XF(t,e))i.push(Q5(t,B0(e)&&e.default||e,n&&(n.default||n)));else{const o=p3(t,e,r),c=o.length;for(let d=0;d<c;d++){const u=o[d],m=u instanceof Element?KF:QF;Tc.has(u)||m(u);const p=Tc.get(u),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),i.push(...M0(p,{...e,transition:x},{}))}}return i}function YF(t,e,n){const r=[];return OF(t,e,n,{spring:P0}).forEach(({keyframes:o,transition:c},d)=>{r.push(...f3(d,o,c))}),r}function JF(t){return Array.isArray(t)&&t.some(Array.isArray)}function ZF(t){function e(n,r,i){let o=[];return JF(n)?o=YF(n,r,t):o=f3(n,r,i,t),new Qk(o)}return e}const Nm=ZF(),ea={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function eB(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+ea.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function tB(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:ea.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:ea.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:ea.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:ea.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function Rw({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=h3();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:ea.border,background:"var(--nav, "+ea.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(eB,{}),s.jsx(d3.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(tB,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const kx={borderColor:"#2B4C73",background:"#1A2F4A"},km={borderColor:"#2B4C73",background:"#152A42"};function xt({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:o,right:c,children:d,rounded:u="rounded-3xl",padded:m=!0,centerFramed:p=!1,leftWidth:x=0,rightWidth:v=0,stickyRails:w=!0,mode:S="card",outerPadding:P="px-4 py-3",leftPlacement:R="inside",stickyTopbar:B=!0,stickySubheader:L=!0,shellViewportOffset:T="var(--app-topbar-h,72px)",topbarHeight:y=56}){const j={"--left":typeof x=="number"?`${x}px`:x,"--right":typeof v=="number"?`${v}px`:v},M=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:kx,children:t}),(e||n||r)&&s.jsxs("div",{className:[B?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:kx,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&s.jsx("div",{className:[L?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...L?{top:B?`${y}px`:0}:{},...kx},children:i})]}),C=S==="card"?({children:A})=>s.jsx(Rw,{rounded:u,padded:m,children:A}):({children:A})=>s.jsx("div",{className:`w-full ${P}`,children:A}),_=s.jsx("div",{className:"relative min-h-0 h-full",style:j,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[o?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...km,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),p?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:km,children:d}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...km,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return R==="bleed"&&S==="card"?s.jsx("div",{className:`w-full ${P}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[M,s.jsx("div",{className:"flex-1 min-h-0",style:j,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[o?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...km,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(Rw,{rounded:u,padded:m,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:_})})]})})]})}):s.jsx(C,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${T})`},children:[M,s.jsx("div",{className:"flex-1 min-h-0",children:_})]})})}const sB="_row_x5rfq_3",nB="_colFull_x5rfq_17",rB="_colCommunity_x5rfq_31",iB="_colGuides_x5rfq_33",aB="_card_x5rfq_129",oB="_header_x5rfq_143",lB="_title_x5rfq_155",cB="_subtitle_x5rfq_157",dB="_empty_x5rfq_159",uB="_errorNote_x5rfq_161",hB="_linkBtn_x5rfq_163",mB="_primaryBtn_x5rfq_163",pB="_navBtn_x5rfq_163",fB="_closeBtn_x5rfq_163",gB="_actionsRight_x5rfq_179",xB="_tileGrid_x5rfq_185",vB="_tile_x5rfq_185",yB="_tileIcon_x5rfq_211",bB="_tileIconFallback_x5rfq_213",_B="_tileLabel_x5rfq_215",wB="_newsList_x5rfq_221",jB="_newsItem_x5rfq_223",SB="_newsMeta_x5rfq_225",NB="_newsAuthor_x5rfq_227",kB="_newsTime_x5rfq_229",CB="_newsText_x5rfq_231",TB="_newsImage_x5rfq_233",AB="_carouselCtrls_x5rfq_241",EB="_carousel_x5rfq_241",IB="_slide_x5rfq_249",RB="_slideActive_x5rfq_251",PB="_slideInactive_x5rfq_253",LB="_slideThumb_x5rfq_255",DB="_slideFallback_x5rfq_257",MB="_slideCaption_x5rfq_259",FB="_liveCard_x5rfq_265",BB="_liveAvatar_x5rfq_267",$B="_liveAvatarFallback_x5rfq_269",VB="_liveInfo_x5rfq_271",OB="_liveName_x5rfq_273",UB="_liveMeta_x5rfq_275",zB="_liveBadge_x5rfq_277",HB="_liveViewers_x5rfq_279",GB="_modalOverlay_x5rfq_285",WB="_modal_x5rfq_285",qB="_modalHeader_x5rfq_289",KB="_modalTitle_x5rfq_291",QB="_modalFilters_x5rfq_295",XB="_formRow_x5rfq_297",YB="_formRowCheckbox_x5rfq_299",JB="_select_x5rfq_301",ZB="_input_x5rfq_301",e$="_tableWrap_x5rfq_303",t$="_table_x5rfq_303",Le={row:sB,colFull:nB,colCommunity:rB,colGuides:iB,card:aB,header:oB,title:lB,subtitle:cB,empty:dB,errorNote:uB,linkBtn:hB,primaryBtn:mB,navBtn:pB,closeBtn:fB,actionsRight:gB,tileGrid:xB,tile:vB,tileIcon:yB,tileIconFallback:bB,tileLabel:_B,newsList:wB,newsItem:jB,newsMeta:SB,newsAuthor:NB,newsTime:kB,newsText:CB,newsImage:TB,carouselCtrls:AB,carousel:EB,slide:IB,slideActive:RB,slideInactive:PB,slideThumb:LB,slideFallback:DB,slideCaption:MB,liveCard:FB,liveAvatar:BB,liveAvatarFallback:$B,liveInfo:VB,liveName:OB,liveMeta:UB,liveBadge:zB,liveViewers:HB,modalOverlay:GB,modal:WB,modalHeader:qB,modalTitle:KB,modalFilters:QB,formRow:XB,formRowCheckbox:YB,select:JB,input:ZB,tableWrap:e$,table:t$},s$=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function g3(){const t=[];for(const n of s$)try{const i=await(await fetch(n,{cache:"no-store"})).text(),o=n$(i);t.push(...o)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function Pw(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const o=t[i];o==='"'?r&&t[i+1]==='"'?(n+='"',i++):r=!r:o===","&&!r?(e.push(n),n=""):n+=o}return e.push(n),e}function n$(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=Pw(e[0]);return e.slice(1).map(r=>{const i=Pw(r),o={};return n.forEach((c,d)=>{var u;return o[c.trim()]=((u=i[d])!=null?u:"").trim()}),o})}function r$(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const o=Math.floor(i/60);if(o<60)return`${o}m`;const c=Math.floor(o/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`}catch(e){return""}}function i$(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const a$=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],Lw={},o$=()=>s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.tiles",children:[s.jsxs("header",{className:Le.header,children:[s.jsx("span",{className:Le.title,"data-i18n":"home.title",children:"Home"}),s.jsx("span",{className:Le.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),s.jsx("div",{className:Le.tileGrid,role:"list",children:a$.map(t=>s.jsxs(Mt,{to:t.to,role:"listitem",className:Le.tile,"aria-label":t.label,children:[Lw[t.to]?s.jsx("img",{src:Lw[t.to],alt:"",className:Le.tileIcon}):s.jsx("div",{className:Le.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),s.jsx("div",{className:Le.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),l$=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(null);E.useEffect(()=>{async function o(){{e([]);return}}return o(),()=>{}},[]);const i=!t||t.length===0;return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsxs("div",{className:Le.newsList,children:[t==null?void 0:t.map(o=>{var c;return s.jsxs("article",{className:Le.newsItem,children:[s.jsxs("div",{className:Le.newsMeta,children:[s.jsx("span",{className:Le.newsAuthor,children:o.author||"Discord"}),s.jsx("span",{className:Le.newsTime,children:r$(o.timestamp)})]}),s.jsx("p",{className:Le.newsText,children:o.text}),o.image&&s.jsx("img",{src:o.image,alt:"",className:Le.newsImage}),o.url&&s.jsx("a",{href:o.url,target:"_blank",rel:"noreferrer",className:Le.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(c=o.id)!=null?c:`${o.author}-${o.timestamp}`)}),i&&s.jsx("div",{className:Le.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&s.jsx("div",{className:Le.errorNote,"aria-live":"polite",children:n})]})},c$=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(0),i=E.useRef(null);E.useEffect(()=>{let u=!0;async function m(){try{const x=(await g3()).map(v=>{const w=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),S=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!S)return null;const P=i$(S),R=P?`https://i.ytimg.com/vi/${P}/hqdefault.jpg`:void 0;return{title:w,url:S,thumb:R}}).filter(Boolean).slice(0,12);u&&e(x)}catch(p){u&&e([])}}return m(),()=>{u=!1}},[]),E.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const o=()=>r(u=>(u-1+t.length)%Math.max(t.length,1)),c=()=>r(u=>(u+1)%Math.max(t.length,1)),d=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),o()),u.key==="ArrowRight"&&(u.preventDefault(),c())};return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:Le.header,children:[s.jsx("span",{className:Le.title,"data-i18n":"home.youtube.title",children:"YouTube"}),s.jsxs("div",{className:Le.carouselCtrls,children:[s.jsx("button",{className:Le.navBtn,onClick:o,"aria-label":"Prev",children:""}),s.jsx("button",{className:Le.navBtn,onClick:c,"aria-label":"Next",children:""})]})]}),s.jsx("div",{className:Le.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:t.length===0?s.jsx("div",{className:Le.empty,children:"No videos"}):t.map((u,m)=>s.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[Le.slide,m===n?Le.slideActive:Le.slideInactive].join(" "),children:[u.thumb?s.jsx("img",{src:u.thumb,alt:"",className:Le.slideThumb}):s.jsx("div",{className:Le.slideFallback,children:u.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:Le.slideCaption,children:u.title})]},u.url))})]})},d$=({onOpenSchedule:t})=>{var p;const[e,n]=E.useState(null),[r,i]=E.useState(new Map),[o,c]=E.useState(0),d=E.useRef(null);if(E.useEffect(()=>{async function x(){{n([]);return}}return x(),()=>{}},[]),E.useEffect(()=>{let x=!0;async function v(){try{const w=await g3(),S=new Map;for(const P of w){const R=String(P["Creator Name"]||P.creator_name||P.name||"").trim(),B=String(P["Twitch Link"]||P.twitch||P.Twitch||"").trim();if(!R||!B)continue;const L=(()=>{try{return new URL(B).pathname.replace(/^\//,"").toLowerCase()}catch(T){return B.toLowerCase()}})();L&&S.set(L,B),S.set(R.toLowerCase(),B)}x&&i(S)}catch(w){x&&i(new Map)}}return v(),()=>{x=!1}},[]),E.useEffect(()=>{if(!(!e||e.length<=1))return d.current=window.setInterval(()=>c(x=>(x+1)%e.length),8e3),()=>{d.current&&window.clearInterval(d.current)}},[e]),!e||e.length===0)return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsx("div",{className:Le.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),s.jsx("div",{className:Le.actionsRight,children:s.jsx("button",{className:Le.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[o],m=(()=>{const x=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(x)return r.has(x)?r.get(x):r.has(x.replace(/^@/,""))?r.get(x.replace(/^@/,"")):`https://www.twitch.tv/${x}`})();return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsxs("div",{className:Le.liveCard,children:[u!=null&&u.avatar?s.jsx("img",{src:u.avatar,alt:"",className:Le.liveAvatar}):s.jsx("div",{className:Le.liveAvatarFallback,"aria-hidden":!0,children:(p=u==null?void 0:u.name)==null?void 0:p.slice(0,2).toUpperCase()}),s.jsxs("div",{className:Le.liveInfo,children:[s.jsx("div",{className:Le.liveName,children:u==null?void 0:u.name}),s.jsxs("div",{className:Le.liveMeta,children:[s.jsx("span",{className:Le.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&s.jsxs("span",{className:Le.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),m&&s.jsx("a",{href:m,target:"_blank",rel:"noreferrer",className:Le.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),s.jsxs("div",{className:Le.carouselCtrls,children:[s.jsx("button",{className:Le.navBtn,onClick:()=>c(x=>(x-1+e.length)%e.length),"aria-label":"Prev",children:""}),s.jsx("button",{className:Le.navBtn,onClick:()=>c(x=>(x+1)%e.length),"aria-label":"Next",children:""})]})]})},u$=({open:t,onClose:e})=>{var w;const[n,r]=E.useState(null),[i,o]=E.useState("All"),[c,d]=E.useState(""),[u,m]=E.useState(!1);if(E.useEffect(()=>{if(!t)return;async function S(){{r([]);return}}return S(),()=>{}},[t]),E.useEffect(()=>{const S=P=>{P.key==="Escape"&&e()};return t&&window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),!t)return null;const p=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),x=(n||[]).filter(S=>{if(i!=="All"&&S.platform.toLowerCase()!==i.toLowerCase()||u&&S.weekday&&S.weekday.toLowerCase()!==p.toLowerCase())return!1;if(c){const P=c.toLowerCase();if(!`${S.streamer} ${S.title}`.toLowerCase().includes(P))return!1}return!0}),v=((w=n==null?void 0:n.length)!=null?w:0)===0;return s.jsx("div",{className:Le.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:Le.modal,children:[s.jsxs("header",{className:Le.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:Le.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),s.jsx("button",{className:Le.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),s.jsxs("div",{className:Le.modalFilters,children:[s.jsxs("label",{className:Le.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),s.jsxs("select",{value:i,onChange:S=>o(S.target.value),className:Le.select,children:[s.jsx("option",{value:"All",children:"All"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),s.jsxs("label",{className:Le.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),s.jsx("input",{value:c,onChange:S=>d(S.target.value),className:Le.input,placeholder:"Streamer / Title"})]}),s.jsxs("label",{className:Le.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:u,onChange:S=>m(S.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),s.jsx("div",{className:Le.tableWrap,children:s.jsxs("table",{className:Le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"weekday"}),s.jsx("th",{children:"start_utc"}),s.jsx("th",{children:"end_utc"}),s.jsx("th",{children:"timezone"}),s.jsx("th",{children:"platform"}),s.jsx("th",{children:"channel_url"}),s.jsx("th",{children:"streamer"}),s.jsx("th",{children:"title"})]})}),s.jsx("tbody",{children:v?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:Le.empty,children:"No schedule yet"})}):x.map((S,P)=>s.jsxs("tr",{children:[s.jsx("td",{children:S.weekday}),s.jsx("td",{children:S.start_utc}),s.jsx("td",{children:S.end_utc}),s.jsx("td",{children:S.timezone}),s.jsx("td",{children:S.platform}),s.jsx("td",{children:S.channel_url?s.jsx("a",{href:S.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),s.jsx("td",{children:S.streamer}),s.jsx("td",{children:S.title})]},P))})]})})]})})},h$=()=>{const[t,e]=E.useState(!1);return s.jsxs(xt,{title:"home.title",subtitle:"home.subtitle",children:[s.jsx("div",{className:Le.row,children:s.jsx("div",{className:Le.colFull,children:s.jsx(o$,{})})}),s.jsxs("div",{className:Le.row,children:[s.jsx("div",{className:Le.colCommunity,children:s.jsx(l$,{})}),s.jsx("div",{className:Le.colGuides,children:s.jsx(c$,{})})]}),s.jsx("div",{className:Le.row,children:s.jsx("div",{className:Le.colFull,children:s.jsx(d$,{onOpenSchedule:()=>e(!0)})})}),s.jsx(u$,{open:t,onClose:()=>e(!1)})]})},m$="_wrapper_125p4_1",p$="_card_125p4_19",f$="_logo_125p4_45",g$="_heading_125p4_61",x$="_subcopy_125p4_73",v$="_buttonStack_125p4_83",y$="_providerButton_125p4_97",b$="_discord_125p4_145",_$="_google_125p4_153",w$="_disclaimer_125p4_161",j$="_status_125p4_173",S$="_sessionBlock_125p4_183",N$="_logoutButton_125p4_197",k$="_linkButton_125p4_227",C$="_loading_125p4_245",T$="_spinner_125p4_261",Ys={wrapper:m$,card:p$,logo:f$,heading:g$,subcopy:x$,buttonStack:v$,providerButton:y$,discord:b$,google:_$,disclaimer:w$,status:j$,sessionBlock:S$,logoutButton:N$,linkButton:k$,loading:C$,spinner:T$},A$=()=>{const t=Pr(),{status:e,user:n,loginWithDiscord:r,loginWithGoogle:i,logout:o}=al(),c=e==="loading"||e==="idle",d=e==="authenticated"&&!!n,u=()=>{c||r()},m=()=>{c||i()},p=async()=>{await o()},x=()=>{t("/")};let v;return c?v=s.jsxs("div",{className:Ys.loading,children:[s.jsx("div",{className:Ys.spinner}),s.jsx("div",{children:"Checking session"})]}):d&&n?v=s.jsxs("div",{className:Ys.sessionBlock,children:[s.jsxs("div",{className:Ys.status,children:["You are logged in as ",n.displayName,"."]}),s.jsx("button",{className:Ys.logoutButton,type:"button",onClick:p,children:"Logout"}),s.jsx("button",{className:Ys.linkButton,type:"button",onClick:x,children:"Back to dashboard"})]}):v=s.jsxs("div",{className:Ys.buttonStack,children:[s.jsx("button",{className:`${Ys.providerButton} ${Ys.discord}`,type:"button",onClick:u,children:"Login with Discord"}),s.jsx("button",{className:`${Ys.providerButton} ${Ys.google}`,type:"button",onClick:m,children:"Login with Google"})]}),s.jsx(xt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:s.jsx("div",{className:Ys.wrapper,children:s.jsxs("div",{className:Ys.card,children:[s.jsx("img",{className:Ys.logo,src:Jm,alt:"SFDataHub logo"}),s.jsx("h1",{className:Ys.heading,children:"Sign in"}),s.jsx("p",{className:Ys.subcopy,children:"Choose a method to access SFDataHub."}),v,s.jsx("p",{className:Ys.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function E$(){return s.jsx(xt,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(I$,{}),right:s.jsx(R$,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Cx,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(Cx,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(Cx,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function I$(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Tx,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(Tx,{to:"/dashboard/activity",children:"Activity"}),s.jsx(Tx,{to:"/dashboard/progression",children:"Progression"})]})]})}function R$(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Cx({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Tx({to:t,children:e}){return s.jsx(Mt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function P$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Ax,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(Ax,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(Ax,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Ax({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function L$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function D$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Ex,{title:"Scrapbook 100%",progress:72}),s.jsx(Ex,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(Ex,{title:"Underworld Boss",progress:35})]})]})}function Ex({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function M$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Ao,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(Ao,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(Ao,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(Ao,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(Ao,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(Ao,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),s.jsx(Ao,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function Ao({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function F$({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:ea.border,backgroundColor:ea.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function B$(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const $$=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:o,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:m=!0})=>{const[p,x]=E.useState(!1),v=E.useMemo(()=>B$(t,m),[t,m]),w=i?"lazy":"eager",S={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},P={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},R=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},B={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:o,style:S,children:s.jsx("div",{style:P,children:s.jsxs("div",{style:R,children:[s.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:w,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>x(L=>!L),style:B,title:"Info",children:"i"}),p&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",s.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},V$="#0C1C2E",O$=()=>s.jsx(xt,{children:s.jsx(F$,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:V$,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx($$,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),U$="_pageWrap_72re9_7",z$="_infoLine_72re9_17",H$="_viewerHost_72re9_43",G$="_overlay_72re9_99",W$="_dragZoneLeft_72re9_101",q$="_dragZoneRight_72re9_103",K$="_inbookLink_72re9_105",Da={pageWrap:U$,infoLine:z$,viewerHost:H$,overlay:G$,dragZoneLeft:W$,dragZoneRight:q$,inbookLink:K$};var Xd={exports:{}},Q$=Xd.exports,Dw;function X$(){return Dw||(Dw=1,(function(t,e){(function(n,r){r(e)})(Q$,(function(n){class r{constructor(y,j){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=j,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,j,M){super(y,M),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=j}draw(y){const j=this.render.getContext(),M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,_=this.render.getRect().height;j.save(),j.translate(M.x,M.y),j.beginPath();for(let A of this.state.area)A!==null&&(A=this.render.convertToGlobal(A),j.lineTo(A.x-M.x,A.y-M.y));j.rotate(this.state.angle),j.clip(),this.isLoad?j.drawImage(this.image,0,0,C,_):this.drawLoader(j,{x:0,y:0},C,_),j.restore()}simpleDraw(y){const j=this.render.getRect(),M=this.render.getContext(),C=j.pageWidth,_=j.height,A=y===1?j.left+j.pageWidth:j.left,D=j.top;this.isLoad?M.drawImage(this.image,A,D,C,_):this.drawLoader(M,{x:A,y:D},C,_)}drawLoader(y,j,M,C){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(j.x+1,j.y+1,M-1,C-1),y.stroke(),y.fill();const _={x:j.x+M/2,y:j.y+C/2};y.beginPath(),y.lineWidth=10,y.arc(_.x,_.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class o{constructor(y,j){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=j,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let j=0;j<this.pages.length;j++)this.portraitSpread.push([j]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let j=y;j<this.pages.length;j+=2)j<this.pages.length-1?this.landscapeSpread.push([j,j+1]):(this.landscapeSpread.push([j]),this.pages[j].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const j=this.getSpread();for(let M=0;M<j.length;M++)if(y===j[M][0]||y===j[M][1])return M;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const j=this.pages.indexOf(y);return j<this.pages.length-1?this.pages[j+1]:null}prevBy(y){const j=this.pages.indexOf(y);return j>0?this.pages[j-1]:null}getFlippingPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j].newTemporaryCopy():this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1||y===0?this.pages[M[0]]:this.pages[M[1]]}}getBottomPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j+1]:this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1?this.pages[M[0]]:y===0?this.pages[M[1]]:this.pages[M[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const j=this.getSpreadIndexByPage(y);j!==null&&(this.currentSpreadIndex=j,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends o{constructor(y,j,M){super(y,j),this.imagesHref=M}load(){for(const y of this.imagesHref){const j=new i(this.render,y,"soft");j.load(),this.pages.push(j)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(y,j){return y===null||j===null?1/0:Math.sqrt(Math.pow(j.x-y.x,2)+Math.pow(j.y-y.y,2))}static GetSegmentLength(y){return d.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,j){const M=y[0].y-y[1].y,C=j[0].y-j[1].y,_=y[1].x-y[0].x,A=j[1].x-j[0].x;return Math.acos((M*C+_*A)/(Math.sqrt(M*M+_*_)*Math.sqrt(C*C+A*A)))}static PointInRect(y,j){return j===null?null:j.x>=y.left&&j.x<=y.width+y.left&&j.y>=y.top&&j.y<=y.top+y.height?j:null}static GetRotatedPoint(y,j,M){return{x:y.x*Math.cos(M)+y.y*Math.sin(M)+j.x,y:y.y*Math.cos(M)-y.x*Math.sin(M)+j.y}}static LimitPointToCircle(y,j,M){if(d.GetDistanceBetweenTwoPoint(y,M)<=j)return M;const C=y.x,_=y.y,A=M.x,D=M.y;let I=Math.sqrt(Math.pow(j,2)*Math.pow(C-A,2)/(Math.pow(C-A,2)+Math.pow(_-D,2)))+C;M.x<0&&(I*=-1);let V=(I-C)*(_-D)/(C-A)+_;return C-A+_===0&&(V=j),{x:I,y:V}}static GetIntersectBetweenTwoSegment(y,j,M){return d.PointInRect(y,d.GetIntersectBeetwenTwoLine(j,M))}static GetIntersectBeetwenTwoLine(y,j){const M=y[0].y-y[1].y,C=j[0].y-j[1].y,_=y[1].x-y[0].x,A=j[1].x-j[0].x,D=y[0].x*y[1].y-y[1].x*y[0].y,I=j[0].x*j[1].y-j[1].x*j[0].y,V=M*I-C*D,$=_*I-A*D,W=-(D*A-I*_)/(M*A-C*_),z=-(M*I-C*D)/(M*A-C*_);if(isFinite(W)&&isFinite(z))return{x:W,y:z};if(Math.abs(V-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,j){const M=Math.abs(y.x-j.x),C=Math.abs(y.y-j.y),_=Math.max(M,C),A=[y];function D(I,V,$,W,z){return V>I?I+z*($/W):V<I?I-z*($/W):I}for(let I=1;I<=_;I+=1)A.push({x:D(y.x,j.x,M,_,I),y:D(y.y,j.y,C,_,I)});return A}}class u extends r{constructor(y,j,M){super(y,M),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=j,this.element.classList.add("stf__item"),this.element.classList.add("--"+M)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const j=y||this.nowDrawingDensity,M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,_=this.render.getRect().height;this.element.classList.remove("--simple");const A=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${C}px;
            height: ${_}px;
        `;j==="hard"?this.drawHard(A):this.drawSoft(M,A)}drawHard(y=""){const j=this.render.getRect().left+this.render.getRect().width/2,M=this.state.hardDrawingAngle,C=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${M}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${j}px, 0, 0) rotateY(${M}deg);`);this.element.style.cssText=C}drawSoft(y,j=""){let M="polygon( ";for(const _ of this.state.area)if(_!==null){let A=this.render.getDirection()===1?{x:-_.x+this.state.position.x,y:_.y-this.state.position.y}:{x:_.x-this.state.position.x,y:_.y-this.state.position.y};A=d.GetRotatedPoint(A,{x:0,y:0},this.state.angle),M+=A.x+"px "+A.y+"px, "}M=M.slice(0,-2),M+=")";const C=j+`transform-origin: 0 0; clip-path: ${M}; -webkit-clip-path: ${M};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=C}simpleDraw(y){const j=this.render.getRect(),M=j.pageWidth,C=j.height,_=y===1?j.left+j.pageWidth:j.left,A=j.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${C}px; 
            left: ${_}px; 
            top: ${A}px; 
            width: ${M}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class m extends o{constructor(y,j,M,C){super(y,j),this.element=M,this.pagesElement=C}load(){for(const y of this.pagesElement){const j=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");j.load(),this.pages.push(j)}this.createSpread()}}class p{constructor(y,j,M,C){this.direction=y,this.corner=j,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(M,10),this.pageHeight=parseInt(C,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(j){return!1}}getFlippingClipArea(){const y=[];let j=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?j=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(j=!1)),y.push(this.bottomIntersectPoint),(j||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let j=y;if(this.updateAngleAndGeometry(j),j=this.corner==="top"?this.checkPositionAtCenterLine(j,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(j,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(j.x-this.pageWidth)<1&&Math.abs(j.y)<1)throw new Error("Point is too small");return j}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const j=this.pageWidth-y.x+1,M=this.corner==="bottom"?this.pageHeight-y.y:y.y;let C=2*Math.acos(j/Math.sqrt(M*M+j*j));M<0&&(C=-C);const _=Math.PI-C;if(!isFinite(C)||_>=0&&_<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(C=-C),C}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,j){return{topLeft:this.getRotatedPoint(y[0],j),topRight:this.getRotatedPoint(y[1],j),bottomLeft:this.getRotatedPoint(y[2],j),bottomRight:this.getRotatedPoint(y[3],j)}}getRotatedPoint(y,j){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+j.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+j.y}}calculateIntersectPoint(y){const j={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,j,M){let C=y;const _=d.LimitPointToCircle(j,this.pageWidth,C);C!==_&&(C=_,this.updateAngleAndGeometry(C));const A=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let D=this.rect.bottomRight,I=this.rect.topLeft;if(this.corner==="bottom"&&(D=this.rect.topRight,I=this.rect.bottomLeft),D.x<=0){const V=d.LimitPointToCircle(M,A,I);V!==C&&(C=V,this.updateAngleAndGeometry(C))}return C}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class x{constructor(y,j){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=j}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const j=this.getBoundsRect();this.setState("flipping");const M=j.height/10,C=this.calc.getCorner()==="bottom"?j.height-M:M,_=this.calc.getCorner()==="bottom"?j.height:0;this.calc.calc({x:j.pageWidth-M,y:C}),this.animateFlippingTo({x:j.pageWidth-M,y:C},{x:-j.pageWidth,y:_},!0)}start(y){this.reset();const j=this.render.convertToBook(y),M=this.getBoundsRect(),C=this.getDirectionByPoint(j),_=j.y>=M.height/2?"bottom":"top";if(!this.checkDirection(C))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(C),this.bottomPage=this.app.getPageCollection().getBottomPage(C),this.render.getOrientation()==="landscape")if(C===1){const A=this.app.getPageCollection().nextBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}else{const A=this.app.getPageCollection().prevBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}return this.render.setDirection(C),this.calc=new p(C,_,M.pageWidth.toString(10),M.height.toString(10)),!0}catch(A){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const j=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*j)/100):this.flippingPage.setHardAngle(-90*(200-2*j)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),j,this.calc.getDirection())}}flipToPage(y,j){const M=this.app.getPageCollection().getCurrentSpreadIndex(),C=this.app.getPageCollection().getSpreadIndexByPage(y);try{C>M&&(this.app.getPageCollection().setCurrentSpreadIndex(C-1),this.flipNext(j)),C<M&&(this.app.getPageCollection().setCurrentSpreadIndex(C+1),this.flipPrev(j))}catch(_){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),j=this.getBoundsRect(),M=this.calc.getCorner()==="bottom"?j.height:0;y.x<=0?this.animateFlippingTo(y,{x:-j.pageWidth,y:M},!0):this.animateFlippingTo(y,{x:j.pageWidth,y:M},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const j=this.getBoundsRect(),M=j.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:M-1,y:1});const C=50,_=this.calc.getCorner()==="bottom"?j.height-1:1,A=this.calc.getCorner()==="bottom"?j.height-C:C;this.animateFlippingTo({x:M-1,y:_},{x:M-C,y:A},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,j,M,C=!0){const _=d.GetCordsFromTwoPoint(y,j),A=[];for(const I of _)A.push(()=>this.do(I));const D=this.getAnimationDuration(_.length);this.render.startAnimation(A,D,()=>{this.calc&&(M&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),C&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const j=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-j.pageWidth<=j.width/5)return 1}else if(y.x<j.width/2)return 1;return 0}getAnimationDuration(y){const j=this.app.getSettings().flippingTime;return y>=1e3?j:y/1e3*j}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const j of y)if(this.state===j)return!0;return!1}isPointOnCorners(y){const j=this.getBoundsRect(),M=j.pageWidth,C=Math.sqrt(Math.pow(M,2)+Math.pow(j.height,2))/5,_=this.render.convertToBook(y);return _.x>0&&_.y>0&&_.x<j.width&&_.y<j.height&&(_.x<C||_.x>j.width-C)&&(_.y<C||_.y>j.height-C)}}class v{constructor(y,j){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=j,this.app=y;const M=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=M.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const j=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);j<this.animation.frames.length?this.animation.frames[j]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=j=>{this.render(j),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,j,M){this.finishAnimation(),this.animation={frames:y,duration:j,durationFrame:j/y.length,onAnimateEnd:M,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const j=this.getBlockWidth(),M=j/2,C=this.getBlockHeight()/2,_=this.setting.width/this.setting.height;let A=this.setting.width,D=this.setting.height,I=M-A;return this.setting.size==="stretch"?(j<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),A=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,A>this.setting.maxWidth&&(A=this.setting.maxWidth),D=A/_,D>this.getBlockHeight()&&(D=this.getBlockHeight(),A=D*_),I=y==="portrait"?M-A/2-A:M-A):j<2*A&&this.app.getSettings().usePortrait&&(y="portrait",I=M-A/2-A),this.boundsRect={left:I,top:C-D/2,width:2*A,height:D,pageWidth:A},y}setShadowData(y,j,M,C){if(!this.app.getSettings().drawShadow)return;const _=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:j,width:3*this.getRect().pageWidth/4*M/100,opacity:(100-M)*_/100/100,direction:C,progress:2*M}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const j=this.getRect();return{x:y.x-j.left,y:y.y-j.top}}isSafari(){return this.safari}convertToPage(y,j){j||(j=this.direction);const M=this.getRect();return{x:j===0?y.x-M.left-M.width/2:M.width/2-y.x+M.left,y:y.y-M.top}}convertToGlobal(y,j){if(j||(j=this.direction),y==null)return null;const M=this.getRect();return{x:j===0?y.x+M.left+M.width/2:M.width/2-y.x+M.left,y:y.y+M.top}}convertRectToGlobal(y,j){return j||(j=this.direction),{topLeft:this.convertToGlobal(y.topLeft,j),topRight:this.convertToGlobal(y.topRight,j),bottomLeft:this.convertToGlobal(y.bottomLeft,j),bottomRight:this.convertToGlobal(y.bottomRight,j)}}}class w extends v{constructor(y,j,M){super(y,j),this.canvas=M,this.ctx=M.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const M={x:y.left+y.width/2-j/2,y:0};this.ctx.translate(M.x,M.y);const C=this.ctx.createLinearGradient(0,0,j,0);C.addColorStop(0,"rgba(0, 0, 0, 0)"),C.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),C.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),C.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),C.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),C.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=C,this.ctx.fillRect(0,0,j,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const M=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),M.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),M.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),M.addColorStop(0,"rgba(0, 0, 0, 0)"),M.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=M,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(M.topLeft.x,M.topLeft.y),this.ctx.lineTo(M.topRight.x,M.topRight.y),this.ctx.lineTo(M.bottomRight.x,M.bottomRight.y),this.ctx.lineTo(M.bottomLeft.x,M.bottomLeft.y),this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const C=3*this.shadow.width/4,_=this.ctx.createLinearGradient(0,0,C,0);this.shadow.direction===0?(this.ctx.translate(-C,-100),_.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),_.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,C,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class S{constructor(y,j,M){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=_=>{if(this.checkTarget(_.target)){const A=this.getMousePos(_.clientX,_.clientY);this.app.startUserTouch(A),_.preventDefault()}},this.onTouchStart=_=>{if(this.checkTarget(_.target)&&_.changedTouches.length>0){const A=_.changedTouches[0],D=this.getMousePos(A.clientX,A.clientY);this.touchPoint={point:D,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(D)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||_.preventDefault()}},this.onMouseUp=_=>{const A=this.getMousePos(_.clientX,_.clientY);this.app.userStop(A)},this.onMouseMove=_=>{const A=this.getMousePos(_.clientX,_.clientY);this.app.userMove(A,!1)},this.onTouchMove=_=>{if(_.changedTouches.length>0){const A=_.changedTouches[0],D=this.getMousePos(A.clientX,A.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-D.x)>10||this.app.getState()!=="read")&&_.cancelable&&this.app.userMove(D,!0),this.app.getState()!=="read"&&_.preventDefault()):this.app.userMove(D,!0)}},this.onTouchEnd=_=>{if(_.changedTouches.length>0){const A=_.changedTouches[0],D=this.getMousePos(A.clientX,A.clientY);let I=!1;if(this.touchPoint!==null){const V=D.x-this.touchPoint.point.x,$=Math.abs(D.y-this.touchPoint.point.y);Math.abs(V)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(V>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),I=!0),this.touchPoint=null}this.app.userStop(D,I)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=j;const C=this.app.getSettings().usePortrait?1:2;y.style.minWidth=M.minWidth*C+"px",y.style.minHeight=M.minHeight+"px",M.size==="fixed"&&(y.style.minWidth=M.width*C+"px",y.style.minHeight=M.height+"px"),M.autoSize&&(y.style.width="100%",y.style.maxWidth=2*M.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=M.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,j){const M=this.distElement.getBoundingClientRect();return{x:y-M.left,y:j-M.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class P extends S{constructor(y,j,M,C){super(y,j,M),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=C;for(const _ of C)this.distElement.appendChild(_);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const j of y)this.distElement.appendChild(j);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class R extends S{constructor(y,j,M){super(y,j,M),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),j=parseInt(y.getPropertyValue("width"),10),M=parseInt(y.getPropertyValue("height"),10);this.canvas.width=j,this.canvas.height=M}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class B extends v{constructor(y,j,M){super(y,j),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=M,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),j=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let M=(100-j)*(2.5*y.pageWidth)/100+20;M>y.pageWidth&&(M=y.pageWidth);let C=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${M}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*j/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;C+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=C}drawHardOuterShadow(){const y=this.getRect();let j=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;j>y.pageWidth&&(j=y.pageWidth);let M=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${j}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;M+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=M}drawInnerShadow(){const y=this.getRect(),j=3*this.shadow.width/4,M=this.getDirection()===0?j:0,C=this.getDirection()===0?"to left":"to right",_=this.convertToGlobal(this.shadow.pos),A=this.shadow.angle+3*Math.PI/2,D=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let I="polygon( ";for(const $ of D){let W=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};W=d.GetRotatedPoint(W,{x:M,y:100},A),I+=W.x+"px "+W.y+"px, "}I=I.slice(0,-2),I+=")";const V=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${j}px;
            height: ${2*y.height}px;
            background: linear-gradient(${C},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${M}px 100px;
            transform: translate3d(${_.x-M}px, ${_.y-100}px, 0) rotate(${A}rad);
            clip-path: ${I};
            -webkit-clip-path: ${I};
        `;this.innerShadow.style.cssText=V}drawOuterShadow(){const y=this.getRect(),j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.shadow.angle+3*Math.PI/2,C=this.getDirection()===1?this.shadow.width:0,_=this.getDirection()===0?"to right":"to left",A=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let D="polygon( ";for(const V of A)if(V!==null){let $=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:C,y:100},M),D+=$.x+"px "+$.y+"px, "}D=D.slice(0,-2),D+=")";const I=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${_}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${C}px 100px;
            transform: translate3d(${j.x-C}px, ${j.y-100}px, 0) rotate(${M}rad);
            clip-path: ${D};
            -webkit-clip-path: ${D};
        `;this.outerShadow.style.cssText=I}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class L{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const j=this._default;if(Object.assign(j,y),j.size!=="stretch"&&j.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(j.width<=0||j.height<=0)throw new Error("Invalid width or height");if(j.flippingTime<=0)throw new Error("Invalid flipping time");return j.size==="stretch"?(j.minWidth<=0&&(j.minWidth=100),j.maxWidth<j.minWidth&&(j.maxWidth=2e3),j.minHeight<=0&&(j.minHeight=100),j.maxHeight<j.minHeight&&(j.maxHeight=2e3)):(j.minWidth=j.width,j.maxWidth=j.width,j.minHeight=j.height,j.maxHeight=j.height),j}}(function(T,y){y===void 0&&(y={});var j=y.insertAt;if(typeof document!="undefined"){var M=document.head||document.getElementsByTagName("head")[0],C=document.createElement("style");C.type="text/css",j==="top"&&M.firstChild?M.insertBefore(C,M.firstChild):M.appendChild(C),C.styleSheet?C.styleSheet.cssText=T:C.appendChild(document.createTextNode(T))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(T,y){return this.events.has(T)?this.events.get(T).push(y):this.events.set(T,[y]),this}off(T){this.events.delete(T)}trigger(T,y,j=null){if(this.events.has(T))for(const M of this.events.get(T))M({data:j,object:y})}}{constructor(T,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new L().getSettings(y),this.block=T}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(T){this.ui=new R(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new w(this,this.setting,y),this.flipController=new x(this.render,this),this.pages=new c(this,this.render,T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(T){this.ui=new P(this.block,this,this.setting,T),this.render=new B(this,this.setting,this.ui.getDistElement()),this.flipController=new x(this.render,this),this.pages=new m(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,T),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new m(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.ui.updateItems(T),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(T){this.pages.show(T)}flipNext(T="top"){this.flipController.flipNext(T)}flipPrev(T="top"){this.flipController.flipPrev(T)}flip(T,y="top"){this.flipController.flipToPage(T,y)}updateState(T){this.trigger("changeState",this,T)}updatePageIndex(T){this.trigger("flip",this,T)}updateOrientation(T){this.ui.setOrientationStyle(T),this.update(),this.trigger("changeOrientation",this,T)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(T){return this.pages.getPage(T)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(T){this.mousePosition=T,this.isUserTouch=!0,this.isUserMove=!1}userMove(T,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,T)>5&&(this.isUserMove=!0,this.flipController.fold(T)):this.flipController.showCorner(T)}userStop(T,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(T)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(Xd,Xd.exports)),Xd.exports}var Y$=X$();const J$="_viewerRoot_hj39c_5",Z$="_stage_hj39c_17",eV="_host_hj39c_43",tV="_hud_hj39c_91",sV="_hBtn_hj39c_125",nV="_hText_hj39c_153",rV="_title_hj39c_167",iV="_sep_hj39c_169",aV="_spacer_hj39c_171",oV="_errorBox_hj39c_175",ar={viewerRoot:J$,stage:Z$,host:eV,hud:tV,hBtn:sV,hText:nV,title:rV,sep:iV,spacer:aV,errorBox:oV},lV="/".endsWith("/")?"/":"//",x3=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${lV}${e}`.replace(/\/{2,}/g,"/")},cV=async t=>{const e=x3(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},dV=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},uV=(t,e,n)=>Math.max(e,Math.min(n,t)),js={hostEl:null,pf:null,slug:null},ei={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},hV=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function mV(t){for(const e of t)e&&(ei.cache.has(e)||ei.inFlight.has(e)||ei.queue.includes(e)||ei.queue.push(e));v3()}function v3(){hV(()=>{for(;ei.inFlight.size<ei.maxParallel&&ei.queue.length>0;){const t=ei.queue.shift();ei.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{ei.inFlight.delete(t),ei.cache.add(t),v3()},e.src=t}})}const pV=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const o=E.useRef(null),c=E.useRef(null),[d,u]=E.useState(null),[m,p]=E.useState(null),x=E.useRef(),v=E.useRef(),w=E.useRef(e);E.useEffect(()=>{x.current=n},[n]),E.useEffect(()=>{v.current=r},[r]),E.useEffect(()=>{w.current=e},[e]);const S=E.useMemo(()=>x3(`flipbooks/${t}`),[t]),P=E.useCallback(T=>{var y,j;if((y=T.srcset)!=null&&y.length){const M=[...T.srcset].sort((_,A)=>_.width-A.width),C=(j=M.find(_=>_.width>=1600))!=null?j:M[M.length-1];return/^https?:\/\//i.test(C.src)||C.src.startsWith("/")?C.src:`${S}/${C.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(T.src)||T.src.startsWith("/")?T.src:`${S}/${T.src}`.replace(/\/{2,}/g,"/")},[S]);E.useEffect(()=>{let T=!0;return p(null),cV(t).then(y=>{T&&u(y)}).catch(y=>{T&&p(y.message||"Failed to load flipbook manifest.")}),()=>{T=!1}},[t]),E.useEffect(()=>{const T=c.current,y=o.current;if(!T||!y||!d||(js.hostEl||(js.hostEl=document.createElement("div"),js.hostEl.className=ar.host),js.hostEl.parentElement!==T&&T.appendChild(js.hostEl),!js.hostEl.isConnected))return;if(!(!js.pf||js.slug!==t)){try{js.pf.update()}catch($){}return}if(js.pf){try{js.pf.destroy()}catch($){}js.pf=null}const M={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},C=new Y$.PageFlip(js.hostEl,M);js.pf=C,js.slug=t;const _=d.pages.map(P);C.loadFromImages(_);const A=$=>{const W=[],z=$+1,q=$+2;d.pages[z]&&W.push(P(d.pages[z])),d.pages[q]&&W.push(P(d.pages[q])),mV(W)},D=()=>{var W;const $=uV(w.current,1,d.pageCount)-1;C.turnToPage($,"hard"),setTimeout(()=>A($),220),(W=x.current)==null||W.call(x,C)};C.on("init",D),C.on("flip",$=>{var z;const W=$.data;(z=v.current)==null||z.call(v,W),setTimeout(()=>A(W),220)});const I=new ResizeObserver(()=>{var $;try{($=js.pf)==null||$.update()}catch(W){}});I.observe(y);const V=$=>{var W,z;$.key==="ArrowLeft"&&($.preventDefault(),(W=js.pf)==null||W.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(z=js.pf)==null||z.flipNext())};return window.addEventListener("keydown",V,{passive:!1}),()=>{window.removeEventListener("keydown",V),I.disconnect()}},[d,P,t]);const R=()=>{var T;return(T=js.pf)==null?void 0:T.flipPrev()},B=()=>{var T;return(T=js.pf)==null?void 0:T.flipNext()},L=()=>{var j;const T=o.current;if(!T)return;const y=T;(j=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||j.call(y)};return m?s.jsxs("div",{className:ar.errorBox,children:["Flipbook konnte nicht geladen werden: ",m]}):d?s.jsxs("div",{className:ar.viewerRoot,ref:o,"aria-label":d.title,children:[s.jsx("div",{className:ar.stage,ref:c}),s.jsxs("div",{className:ar.hud,children:[s.jsx("button",{className:ar.hBtn,onClick:R,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:ar.hText,children:[s.jsx("span",{className:ar.title,children:d.title}),s.jsx("span",{className:ar.sep,children:""}),s.jsxs("span",{children:[d.pageCount," Seiten"]})]}),s.jsx("div",{className:ar.spacer}),dV()&&s.jsx("button",{className:ar.hBtn,onClick:L,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:ar.hBtn,onClick:B,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:ar.errorBox,children:"Lade Flipbook"})},fV=J.memo(pV),gV={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},xV=()=>{const t="sf-history-book",[e,n]=E.useState(1),r=E.useRef(null),i=E.useMemo(()=>{var p;return(p=gV[e])!=null?p:[]},[e]),o=E.useCallback(p=>{r.current=p},[]),c=E.useCallback(p=>{n(p+1)},[]),d=E.useCallback(p=>{const x=r.current;if(x)try{x.turnToPage(Math.max(0,p-1))}catch(v){}},[]),u=E.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipPrev()},[]),m=E.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipNext()},[]);return s.jsx(xt,{title:"SF History Book",children:s.jsxs("div",{className:Da.pageWrap,children:[s.jsx("div",{className:Da.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:Da.viewerHost,children:[s.jsx(fV,{slug:t,initialPage:1,onReady:o,onPageChange:c,noSound:!0}),s.jsxs("div",{className:Da.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:Da.dragZoneLeft,onClick:u}),s.jsx("div",{className:Da.dragZoneRight,onClick:m}),i.map((p,x)=>{const v={"--t":`${p.t}%`,"--l":`${p.l}%`,"--w":`${p.w}%`,"--h":`${p.h}%`};return p.kind==="goto"?s.jsx("button",{className:Da.inbookLink,style:v,"aria-label":p.label,onClick:()=>d(p.toPage)},x):s.jsx("a",{className:Da.inbookLink,style:v,"aria-label":p.label,href:p.href,target:"_blank",rel:"noopener noreferrer"},x)})]})]})]})})},y3=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(y3.map(t=>[t.id,t]));const b3="TL_FILTERS_V2",Wn={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function vV(){var t;try{const e=localStorage.getItem(b3);if(!e)return Wn;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:Wn.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:Wn.listView,o=["hud","sheet"].includes(n.filterMode)?n.filterMode:Wn.filterMode,c=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,d=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...Wn,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:c,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:d,quickFav:c,quickActive:d,days:r,listView:i,filterMode:o,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Wn.sortBy,searchText:typeof n.searchText=="string"?n.searchText:Wn.searchText}}catch(e){return Wn}}function yV(t){try{localStorage.setItem(b3,JSON.stringify(t))}catch(e){}}const _3=E.createContext(null),Mw=t=>Array.from(new Set(t));function Cm(t,e){return typeof t=="function"?t(e):t}function bV({children:t}){const[e,n]=E.useState(()=>vV());E.useEffect(()=>{yV(e)},[e]);const r=_=>n(A=>({...A,servers:Mw(Cm(_,A.servers))})),i=_=>n(A=>{const D=new Set(A.servers);return D.has(_)?D.delete(_):D.add(_),{...A,servers:Array.from(D)}}),o=()=>n(_=>({..._,servers:[]})),c=_=>n(A=>({...A,classes:Mw(Cm(_,A.classes))})),d=_=>n(A=>{const D=new Set(A.classes);return D.has(_)?D.delete(_):D.add(_),{...A,classes:Array.from(D)}}),u=()=>n(_=>({..._,classes:[]})),m=_=>n(A=>({...A,days:_})),p=_=>m(_),x=_=>n(A=>({...A,sortBy:_||"level"})),v=_=>n(A=>({...A,favoritesOnly:!!_,quickFav:!!_})),w=_=>n(A=>({...A,activeOnly:!!_,quickActive:!!_})),S=_=>n(A=>({...A,searchText:_})),P=_=>n(A=>{const D=Cm(_,A.quickFav);return{...A,quickFav:D,favoritesOnly:D}}),R=_=>n(A=>{const D=Cm(_,A.quickActive);return{...A,quickActive:D,activeOnly:D}}),B=_=>n(A=>({...A,filterMode:_})),L=_=>n(A=>({...A,listView:_})),T=_=>n(A=>({...A,bottomFilterOpen:!!_})),y=_=>n(A=>({...A,serverSheetOpen:!!_})),j=()=>n(Wn),M=()=>j(),C=E.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:o,setClasses:c,toggleClass:d,clearClasses:u,setDays:m,setRange:p,setSortBy:x,setFavoritesOnly:v,setActiveOnly:w,setSearchText:S,setQuickFav:P,setQuickActive:R,setFilterMode:B,setListView:L,setBottomFilterOpen:T,setServerSheetOpen:y,resetFilters:j,resetAll:M}),[e]);return s.jsx(_3.Provider,{value:C,children:t})}function Xu(){const t=E.useContext(_3);return t||{...Wn,range:Wn.days,searchText:Wn.searchText,quickFav:Wn.quickFav,quickActive:Wn.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const _V="_hudWrap_107o7_9",wV="_hudBtn_107o7_11",jV="_hudSubBtn_107o7_15",SV="_iconRow_107o7_19",NV="_segmented_107o7_21",kV="_sortLabel_107o7_27",CV="_sortSelect_107o7_29",TV="_chip_107o7_31",AV="_isActive_107o7_33",zn={hudWrap:_V,hudBtn:wV,hudSubBtn:jV,iconRow:SV,segmented:NV,sortLabel:kV,sortSelect:CV,chip:TV,isActive:AV};function EV({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:o}){const c=Math.round(i*.7),d=J.useMemo(()=>{const B=[],L=xk(n,c*2,c*2,"contain");L&&B.push(L);const T=Lr(n,c*2);return T&&T!==L&&B.push(T),!B.length&&n&&B.push(n),B},[n,c]),[u,m]=J.useState(0),[p,x]=J.useState(!1),[v,w]=J.useState(!1);J.useEffect(()=>m(0),[d]);const S=d[u]||"",P={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};p&&(P.background="rgba(255,255,255,.04)"),t&&(P.outline="2px solid #5C8BC6");const R={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:o,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onFocus:()=>w(!0),onBlur:()=>w(!1),style:P,children:S?s.jsx("img",{src:S,alt:e||"class",width:c,height:c,loading:"lazy",style:R,onError:()=>{m(B=>B+1<d.length?B+1:B)}}):s.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const IV=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function RV(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:o,setSortBy:c,quickFav:d,setQuickFav:u,quickActive:m,setQuickActive:p,filterMode:x,setBottomFilterOpen:v,serverSheetOpen:w,setServerSheetOpen:S,resetAll:P}=Xu();return s.jsxs("div",{className:zn.hudWrap,children:[s.jsxs("button",{type:"button",className:zn.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),S(!0)},"aria-haspopup":"dialog","aria-expanded":w||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:zn.iconRow,children:[Ps.map(R=>s.jsx(EV,{active:e.includes(R.key),title:R.label,iconUrl:R.iconUrl,fallback:R.fallback,size:40,onClick:()=>n(B=>B.includes(R.key)?B.filter(L=>L!==R.key):[...B,R.key])},R.key)),s.jsx("button",{type:"button",className:zn.hudSubBtn,onClick:()=>n(Ps.map(R=>R.key)),children:"All"}),s.jsx("button",{type:"button",className:zn.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:zn.segmented,role:"group","aria-label":"Range",children:IV.map(R=>s.jsx("button",{type:"button","aria-pressed":r===R.value,onClick:()=>i(R.value),children:R.label},R.label))}),s.jsx("label",{className:zn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:o,onChange:R=>c(R.target.value),className:zn.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${zn.chip} ${d?zn.isActive:""}`,onClick:()=>u(R=>!R),children:" Favorites"}),s.jsx("button",{type:"button",className:`${zn.chip} ${m?zn.isActive:""}`,onClick:()=>p(R=>!R),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:zn.hudSubBtn,onClick:P,children:"Reset"}),x==="sheet"&&s.jsx("button",{type:"button",className:zn.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const zs={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function PV({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:o,onSelectAllInRegion:c,onClearAll:d}){const[u,m]=E.useState(""),p=E.useRef(null),[x,v]=E.useState(null),[w,S]=E.useState(!1);E.useEffect(()=>{if(!t)return;const T=y=>{y.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),E.useEffect(()=>{if(t&&p.current){const T=p.current.querySelector("#sheet-serversearch");T==null||T.focus()}},[t]);const P=E.useMemo(()=>["EU","US","INT","Fusion"].every(y=>{var j;return!((j=r==null?void 0:r[y])!=null&&j.length)}),[r]);E.useEffect(()=>{if(!t||!P)return;let T=!0;return(async()=>{try{S(!0);const y=await ur(ps(Rt,"stats_public","toplists_bundle_v1"));if(!T)return;const j=y.data()||{},M=Array.isArray(j.servers)?j.servers:JSON.parse(j.servers||"[]");v(LV(M))}catch(y){v(null)}finally{T&&S(!1)}})(),()=>{T=!1}},[t,P]);const R=E.useMemo(()=>P?x!=null?x:{EU:[],US:[],INT:[],Fusion:[]}:r,[P,r,x]),B=E.useMemo(()=>Object.keys(R),[R]),L=T=>{const y=u.trim().toLowerCase();return y?T.toLowerCase().includes(y):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:MV,onClick:T=>{T.target===T.currentTarget&&e()},children:s.jsxs("div",{ref:p,style:n==="modal"?w3:FV,className:"sf-server-sheet",children:[s.jsxs("div",{style:BV,children:[s.jsx("h2",{id:"server-dialog-title",style:$V,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:d,style:Fw,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:WV,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:u,onChange:T=>m(T.target.value),"aria-label":"Search servers",autoComplete:"off",style:OV})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:B.map(T=>{const y=(R[T]||[]).filter(L);return s.jsxs("section",{"aria-labelledby":`region-${T}`,children:[s.jsxs("div",{style:UV,children:[s.jsxs("h3",{id:`region-${T}`,style:VV,children:[T," ",w&&P?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:zs.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:Fw,onClick:()=>{c?c(T):y.filter(M=>!i.includes(M)).forEach(o)},children:"Select all"})})]}),s.jsxs("div",{style:zV,children:[y.map(j=>{const M=i.includes(j);return s.jsx("button",{type:"button",onClick:()=>o(j),"aria-pressed":M,title:j,style:{...HV,...M?GV:null},children:j},j)}),y.length===0&&s.jsx("div",{style:{color:zs.text2,fontSize:13,padding:"4px 2px"},children:w&&P?"Loading":"No servers found"})]})]},T)})})]})}):null}function LV(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(DV)),e}function DV(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const MV={position:"fixed",inset:0,background:zs.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},w3={width:"min(900px, 100%)",background:zs.tile,border:`1px solid ${zs.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:zs.text},FV={...w3,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},BV={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},$V={fontSize:18,margin:0},VV={fontSize:14,margin:0,color:zs.text2},OV={width:"100%",background:zs.input,color:zs.text,border:`1px solid ${zs.line}`,borderRadius:12,padding:"10px 12px"},UV={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},zV={display:"flex",flexWrap:"wrap",gap:8},HV={background:zs.chip,border:`1px solid ${zs.line}`,padding:"6px 10px",borderRadius:999,color:zs.text},GV={outline:`2px solid ${zs.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},WV={background:"#25456B",color:zs.text,border:`1px solid ${zs.accent}`,borderRadius:10,padding:"8px 12px"},Fw={background:"transparent",color:zs.text,border:`1px solid ${zs.line}`,borderRadius:10,padding:"8px 12px"},qV=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=qV,document.head.appendChild(e)}}const an={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function KV({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:o,sortBy:c,setSortBy:d,quickFav:u,setQuickFav:m,quickActive:p,setQuickActive:x}=Xu(),v=E.useRef(null);if(E.useEffect(()=>{if(!t)return;const S=P=>{P.key==="Escape"&&e()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),E.useEffect(()=>{if(t&&v.current){const S=v.current.querySelector("#sheet-search");S==null||S.focus()}},[t]),!t)return null;const w=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:QV,onClick:S=>{S.target===S.currentTarget&&e()},children:s.jsxs("div",{ref:v,style:XV,children:[s.jsxs("div",{style:YV,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:an.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:ZV,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:S=>r(S.target.value),"aria-label":"Search",autoComplete:"off",style:j3})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:an.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:w.map(S=>s.jsx("button",{type:"button","aria-pressed":i===S.value,onClick:()=>o(S.value),style:{...Ix,...i===S.value?Rx:null},children:S.label},S.label))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:an.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:S=>d(S.target.value),"aria-label":"Sort",autoComplete:"off",style:JV,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>m(S=>!S),"aria-pressed":u,style:{...Ix,...u?Rx:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>x(S=>!S),"aria-pressed":p,style:{...Ix,...p?Rx:null},children:" Active"})]})]})})}const QV={position:"fixed",inset:0,background:an.backdrop,zIndex:60,display:"grid",alignItems:"end"},XV={background:an.tile,borderTop:`1px solid ${an.line}`,borderLeft:`1px solid ${an.line}`,borderRight:`1px solid ${an.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:an.text,maxHeight:"80vh",overflow:"auto"},YV={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},j3={width:"100%",background:an.input,color:an.text,border:`1px solid ${an.line}`,borderRadius:12,padding:"10px 12px"},JV={...j3,appearance:"none"},Ix={background:"#14273E",border:`1px solid ${an.line}`,padding:"6px 10px",borderRadius:999,color:an.text},Rx={outline:`2px solid ${an.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},ZV={background:"#25456B",color:an.text,border:`1px solid ${an.accent}`,borderRadius:10,padding:"8px 12px"},eO=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=eO,document.head.appendChild(e)}}function tO(){var i;const t=Xu(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(o=>{var c,d,u,m,p,x,v;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=o.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=o.server)!=null?d:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(u=o.class)!=null?u:""}),"  Lv ",(m=o.level)!=null?m:"","  Scrap ",(p=o.scrapbook)!=null?p:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(Px,{children:o.active?"Active":"Idle"}),o.favorite&&s.jsx(Px,{children:" Fav"}),s.jsx(Px,{children:`Scan ${(x=o.lastScanDays)!=null?x:"?"}d`})]})]},(v=o.id)!=null?v:`${o.name}-${o.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(o=>{var c,d,u,m;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[o.favorite&&" ",(c=o.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=o.server)!=null?d:"","  Lv ",(u=o.level)!=null?u:"",")"]})]},(m=o.id)!=null?m:`${o.name}-${o.server}`)})})]})}function Px({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const S3=E.createContext(null),Bw=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function sO(t,e){return t.timeRange===e.timeRange&&Bw(t.servers,e.servers)&&Bw(t.classes,e.classes)}function nO(t,e){return t.field===e.field&&t.dir===e.dir}function rO({children:t}){const[e,n]=E.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=E.useState({field:"Level",dir:"desc"}),[o,c]=E.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=E.useCallback(x=>{n(v=>{const w=typeof x=="function"?x(v):{...v,...x};return sO(v,w)?v:w})},[]),u=E.useCallback(x=>{i(v=>{const w=typeof x=="function"?x(v):x;return nO(v,w)?v:w})},[]),m=E.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);E.useEffect(()=>{let x=!1;return x||c(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{x=!0}},[m]);const p=E.useMemo(()=>({state:o,filters:e,sort:r,setFilters:d,setSort:u}),[o,e,r,d,u]);return s.jsx(S3.Provider,{value:p,children:t})}function iO(){const t=E.useContext(S3);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const $w=(()=>{const t={EU:[],US:[],INT:[],Fusion:[]},e=(n,r)=>{t[n].includes(r)||t[n].push(r)};return y3.forEach(n=>{var o;const r=(o=n.id)!=null?o:"",i=r.toUpperCase();i.startsWith("EU")?e("EU",r):i.startsWith("US")||i.startsWith("NA")||i.startsWith("AM")?e("US",r):i.startsWith("F")?e("Fusion",r):e("INT",r)}),Object.keys(t).forEach(n=>{t[n].sort((r,i)=>r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}))}),t})();function aO(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function oO(){const t=Xu(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:o,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:u,servers:m,setServers:p,classes:x,range:v,sortBy:w}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(xt,{mode:"card",title:"Top Lists",actions:s.jsx(cO,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(RV,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(tO,{}),r==="table"&&s.jsx(rO,{children:s.jsx(lO,{servers:m!=null?m:[],classes:x!=null?x:[],range:v!=null?v:"all",sortKey:w!=null?w:"level"})})]}),s.jsx(PV,{mode:"modal",open:d,onClose:()=>u(!1),serversByRegion:$w,selected:m,onToggle:S=>p(P=>P.includes(S)?P.filter(R=>R!==S):[...P,S]),onSelectAllInRegion:S=>p($w[S]),onClearAll:()=>p([])}),s.jsx(KV,{open:e==="sheet"&&o,onClose:()=>c(!1)})]})}function lO({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:o,setSort:c}=iO(),{loading:d,error:u,data:m,lastUpdated:p}=i;E.useEffect(()=>{const v=n==="all"?"all":n===60?"30d":`${n}d`;o({servers:t,classes:e,timeRange:v})},[t,e,n,o]),E.useEffect(()=>{const v=aO(r);c(v)},[r,c]);const x=v=>v==null?"":new Intl.NumberFormat("en").format(v);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[d?"Loading":u?"Error":"Ready","  ",m.length," rows"]}),s.jsx("div",{children:p?`Updated: ${new Date(p*1e3).toLocaleString()}`:null})]}),u&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:u}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[m.map((v,w)=>{var S,P,R;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(S=v.Guild)!=null?S:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(P=v.Ratio)!=null?P:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(R=v["Last Scan"])!=null?R:""}),s.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${w}`)}),d&&m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!u&&m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function cO(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:o}=Xu();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(Vw,{to:"/toplists/players",label:"Players"}),s.jsx(Vw,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function Vw({to:t,label:e}){return s.jsx(as,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const dO=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function uO(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),dO.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function hO(t="players"){const e=Pr(),{search:n,pathname:r}=Qn();return[new URLSearchParams(n).get("tab")||t,d=>{const u=new URLSearchParams(n);u.set("tab",d),e(`${r}?${u.toString()}`,{replace:!1})}]}function mO(){const[t]=hO("players");return s.jsx(bV,{children:t==="players"?s.jsx(oO,{}):s.jsx(uO,{})})}function pO(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function fO(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function gO(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const Tm={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},xO={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},Hn=(t,e)=>Math.min(Math.max(Math.round(t),0),e),vO=t=>{var n,r,i,o;const e={...Tm,...t||{}};return{...e,class:Hn(e.class,15),race:Hn(e.race,8),mouth:Hn(e.mouth,30),hair:Hn(e.hair,40),hairColor:Hn(e.hairColor,12),horn:Hn(e.horn,10),hornColor:Hn(e.hornColor,10),brows:Hn(e.brows,10),eyes:Hn(e.eyes,20),beard:Hn(e.beard,15),nose:Hn(e.nose,10),ears:Hn(e.ears,10),extra:Hn(e.extra,20),special:Hn(e.special,200),showBorder:(n=e.showBorder)!=null?n:!0,background:(r=e.background)!=null?r:Tm.background,frame:(i=e.frame)!=null?i:Tm.frame,mirrorHorizontal:(o=e.mirrorHorizontal)!=null?o:Tm.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function N3({config:t,label:e}){const n=E.useRef(null),r=E.useRef(null),[i,o]=E.useState("idle"),c=E.useMemo(()=>({...vO(t),background:"",frame:"",showBorder:!1}),[JSON.stringify(t||{})]);E.useEffect(()=>{let u=!1;o("loading");try{const m=n.current;if(!m){o("error");return}const p=new oS(m,c);r.current=p,o("ready")}catch(m){console.error("[PortraitMaker] failed to initialize",m),u||o("error")}return()=>{var m,p;u=!0;try{(p=(m=r.current)==null?void 0:m.dispose)==null||p.call(m)}catch(x){}r.current=null}},[c]);const d=i!=="ready"?xO[i]:null;return s.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[s.jsx("div",{className:"avatar-portrait__canvas-shell",children:s.jsx("canvas",{ref:n,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`})}),d&&s.jsx("span",{className:"avatar-portrait__status",children:d})]})}function yO({label:t,size:e=40}){const n=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return s.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function bO({className:t,label:e,size:n=40}){const r=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),o=Ps.find(d=>r(d.label)===i)||Ps.find(d=>r(d.label).startsWith(i)||i.startsWith(r(d.label))),c=o?Lr(o.iconUrl,n*2):null;return c?s.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:s.jsx("img",{src:c,alt:"",draggable:!1})}):s.jsx(yO,{label:e,size:n})}function _O({data:t,loading:e,actionFeedback:n,onAction:r}){return s.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[s.jsx(N3,{config:t.portrait,label:t.playerName}),s.jsxs("div",{className:"player-profile__hero-body",children:[s.jsxs("div",{className:"player-profile__identity",children:[s.jsx(bO,{className:t.className,label:t.playerName,size:48}),s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__player-name",children:t.playerName}),s.jsxs("div",{className:"player-profile__player-meta",children:[s.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&s.jsxs("span",{children:[" ",t.guild]}),t.server&&s.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&s.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&s.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),s.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>s.jsxs("div",{className:"player-profile__hero-metric",children:[s.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),s.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&s.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&s.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>s.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&s.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),s.jsx("span",{children:i.label}),s.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&s.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>s.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),n&&s.jsx("p",{className:"player-profile__hero-feedback",children:n})]})]})]})}function wO({data:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>s.jsxs("article",{className:"player-profile__card",children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&s.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),s.jsxs("div",{className:"player-profile__section",children:[s.jsxs("header",{className:"player-profile__section-head",children:[s.jsx("h3",{children:"Attribute"}),s.jsx("span",{children:"Basis vs. Gesamt"})]}),s.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>s.jsxs("div",{className:"player-profile__attr-card",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__attr-label",children:e.label}),s.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&s.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),s.jsxs("div",{className:"player-profile__split",children:[s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Resistenzen"})}),s.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]}),s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"konomie"})}),s.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function jO({items:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>s.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[s.jsxs("div",{className:"player-profile__progress-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),s.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),s.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:s.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&s.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function SO({series:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var n;return s.jsxs("article",{className:"player-profile__trend-card",children:[s.jsxs("div",{className:"player-profile__trend-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&s.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),s.jsxs("div",{className:"player-profile__card-value",children:[(n=e.points[e.points.length-1])==null?void 0:n.toLocaleString("de-DE"),e.unit||""]})]}),s.jsx(CO,{points:e.points})]},e.label)})})}function NO({rows:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Serververgleich"})}),s.jsx("div",{className:"player-profile__comparison-wrapper",children:s.jsxs("table",{className:"player-profile__comparison",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"Spieler"}),s.jsx("th",{children:"Cluster"}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.label}),s.jsx("td",{children:e.playerValue}),s.jsx("td",{children:e.benchmark}),s.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function kO({entries:t}){return s.jsx("div",{className:"player-profile__tab-panel",children:s.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>s.jsxs("li",{children:[s.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),s.jsxs("div",{className:"player-profile__timeline-card",children:[s.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),s.jsx("div",{className:"player-profile__timeline-title",children:e.title}),s.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function CO({points:t}){if(!t.length)return s.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),n=Math.max(...t),r=Math.max(1,n-e||1),o=t.map((c,d)=>{const u=t.length>1?d/(t.length-1)*100:0,m=100-(c-e)/r*100;return`${d===0?"M":"L"}${u},${m}`}).join(" ");return s.jsx("div",{className:"player-profile__trend-chart",children:s.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:s.jsx("path",{d:o})})})}const TO=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Lx(){const t=$p(),e=t.id||t.pid||t.playerId||t.player||"",n=Pr(),[r,i]=E.useState(!0),[o,c]=E.useState(null),[d,u]=E.useState(null),[m,p]=E.useState("Statistiken"),[x,v]=E.useState(null),w=E.useRef(null);E.useEffect(()=>{let T=!1;async function y(){var j,M,C,_,A,D,I,V,$,W,z,q,Q,H,te;i(!0),c(null);try{const re=(e||"").trim();if(!re)throw new Error("Kein Spieler gewhlt.");const G=ps(Rt,`players/${re}/latest/latest`),se=await ur(G);if(!se.exists())throw new Error("Spieler nicht gefunden.");const de=se.data(),ee=typeof de.values=="object"&&de.values?de.values:{},fe=(M=Yd((j=de.level)!=null?j:ee==null?void 0:ee.Level))!=null?M:null,Te=((_=(C=de.className)!=null?C:ee==null?void 0:ee.Class)!=null?_:null)||null,xe=((D=(A=de.guildName)!=null?A:ee==null?void 0:ee.Guild)!=null?D:null)||null,Ce=(V=(I=de.name)!=null?I:ee==null?void 0:ee.Name)!=null?V:re,Ne=(W=($=de.server)!=null?$:ee==null?void 0:ee.Server)!=null?W:null,ue=(q=Yd((z=de.totalStats)!=null?z:ee==null?void 0:ee["Total Stats"]))!=null?q:null,De=(te=Yd((H=(Q=ee==null?void 0:ee.Album)!=null?Q:ee==null?void 0:ee["Album %"])!=null?H:ee==null?void 0:ee.AlbumPct))!=null?te:null,Ee=AO(Yd(de.timestamp)),st=typeof de.portrait=="object"?de.portrait:typeof de.portraitOptions=="object"?de.portraitOptions:typeof(ee==null?void 0:ee.portraitOptions)=="object"?ee.portraitOptions:void 0;T||u({id:re,name:Ce,className:Te,level:fe,guild:xe,server:Ne,scrapbookPct:De,totalStats:ue,lastScanDays:Ee,values:ee,portraitConfig:st})}catch(re){T||(u(null),c((re==null?void 0:re.message)||"Unbekannter Fehler beim Laden."))}finally{T||i(!1)}}return y(),()=>{T=!0}},[e]),E.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const S=E.useMemo(()=>d?PO(d):null,[d]),P=T=>{v(T),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>v(null),3500)},R=async T=>{if(d){if(T==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const y=`${window.location.origin}/players/profile/${d.id}`;try{await navigator.clipboard.writeText(y),P("Profil-Link wurde kopiert.")}catch(j){P("Konnte Link nicht kopieren.")}}return}if(T==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:d.name,text:`Shakes & Fidget Charakter ${d.name}`,url:window.location.href}),P("Profil geteilt.")}catch(y){P("Teilen abgebrochen.")}return}if(T==="guild"&&d.guild){n(`/guilds?search=${encodeURIComponent(d.guild)}`);return}if(T==="rescan"){P("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},B=()=>{if(!S)return null;switch(m){case"Statistiken":return s.jsx(wO,{data:S.stats});case"Charts":return s.jsx(SO,{series:S.charts});case"Fortschritt":return s.jsx(jO,{items:S.progress});case"Vergleich":return s.jsx(NO,{rows:S.comparison});case"Historie":return s.jsx(kO,{entries:S.history});default:return null}},L=()=>s.jsxs("div",{className:"player-profile__loading",children:[s.jsx("p",{children:o!=null?o:"Spieler nicht gefunden."}),s.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return s.jsx(xt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsxs("div",{className:"player-profile",children:[r&&!d&&s.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!d||!S)&&L(),S&&s.jsxs(s.Fragment,{children:[s.jsx(_O,{data:S.hero,loading:r,actionFeedback:x,onAction:R}),s.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:TO.map(T=>{const y=m===T;return s.jsx("button",{type:"button",role:"tab","aria-selected":y,className:`player-profile__tab-button ${y?"player-profile__tab-button--active":""}`,onClick:()=>p(T),children:T},T)})}),B()]})]})})}const Yd=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),n=Number(e);return Number.isFinite(n)?n:null},AO=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},Dx=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),EO=t=>{const e=new Map;return Object.entries(t||{}).forEach(([n,r])=>e.set(Dx(n),r)),{number(n,r=null){for(const i of n){const o=Yd(e.get(Dx(i)));if(o!=null)return o}return r},text(n,r=null){for(const i of n){const o=e.get(Dx(i));if(o!=null&&String(o).trim())return String(o).trim()}return r}}},k3=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Rs=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),sp=t=>t==null?"":`${Math.round(t)}%`,Ow=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,IO={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},RO=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=k3(t.id||t.name),n=IO[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:n,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},PO=t=>{var W,z,q,Q,H,te,re,G,se,de,ee;const e=t.values||{},n=EO(e),r=k3(t.id),i=(W=t.level)!=null?W:n.number(["level"]),o=(z=t.scrapbookPct)!=null?z:n.number(["album","scrapbook","albumpct"]),c=n.number(["honor","ehre"]),d=(q=t.totalStats)!=null?q:n.number(["totalstats","stats"]),p=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(fe=>{var Te;return(Te=n.number(fe,0))!=null?Te:0}).reduce((fe,Te)=>fe+(Te!=null?Te:0),0),x=o!=null?o:Math.round(r()*80+10),v=(Q=n.number(["fortresslevel","fortress"]))!=null?Q:Math.round(r()*20)+30,w=(H=n.number(["underworld","underworldlevel"]))!=null?H:Math.round(r()*10)+20,S=(te=n.number(["tower","towerfloor"]))!=null?te:Math.round(r()*90)+10,P=(re=n.number(["pets","petprogress"]))!=null?re:Math.round(r()*50)+25,R=(i!=null?i:0)*1200+p+Math.round((o!=null?o:0)*3200),B=(G=n.text(["mount","reittier"]))!=null?G:"Greifendrachen (280%)",L=(se=n.text(["guildrole","role"]))!=null?se:"Member",T=n.number(["hofrank","halloffamerank","hofposition"]),y=[{label:"Level",value:i?`Lvl ${Rs(i)}`:""},{label:"Power Score",value:Rs(R)},{label:"Scrapbook",value:sp(x)},{label:"Total Stats",value:Rs(d)}],j=[{label:"Mount",value:B,tone:"neutral"},{label:"Honor",value:Rs(c),tone:"success"},{label:"Gildenrolle",value:L,tone:"warning"},{label:"HoF",value:T?`#${Rs(T)}`:"",tone:"neutral"}],M={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${Rs(i)}`:void 0,lastScanLabel:(de=Ow(t.lastScanDays))!=null?de:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:y,badges:j,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:RO(t)},C=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],_={summary:[{label:"Power Score",value:Rs(R),hint:"Level * SumBase"},{label:"Honor",value:Rs(c)},{label:"HoF Platz",value:T?`#${Rs(T)}`:""},{label:"Letzter Scan",value:(ee=Ow(t.lastScanDays))!=null?ee:""}],attributes:C.map(fe=>({label:fe.label,baseLabel:Rs(n.number(fe.base)),totalLabel:n.number(fe.total)!=null?`Gesamt ${Rs(n.number(fe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Rs(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${Rs(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:B},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},A=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(x!=null?x:0)/100),targetLabel:`${sp(x)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:x!=null&&x>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,S/100),targetLabel:`Ebene ${Math.round(S)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,w/30),targetLabel:`Lvl ${Math.round(w)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,P/100),targetLabel:`${Math.round(P)} / 100`,meta:"Habitate offen"}],D=(fe,Te=.12)=>{const xe=fe!=null?fe:Math.round(r()*100),Ce=[];let Ne=xe*.85;for(let ue=0;ue<8;ue++)Ne+=Ne*(r()*Te-Te/2),Ce.push(Math.max(0,Math.round(Ne)));return Ce[Ce.length-1]=xe,Ce},I=[{label:"Level Verlauf",points:D(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:D(d!=null?d:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:D(c!=null?c:0,.25),unit:"",subLabel:"Hall of Fame"}],V=[{label:"Level",playerValue:i?`Lvl ${Rs(i)}`:"",benchmark:i?`Lvl ${Rs(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:Rs(R),benchmark:Rs(Math.round(R*.9)),diffLabel:`+${Rs(Math.round(R*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:sp(x),benchmark:`${Math.min(100,Math.round((x!=null?x:60)-8))}%`,diffLabel:x!=null?`+${Math.round(x-60)}%`:"",trend:x!=null&&x>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(w)}`,benchmark:`Lvl ${Math.round(w-2)}`,diffLabel:"+2",trend:"neutral"}],$=LO(t,n,r);return{hero:M,stats:_,progress:A,charts:I,comparison:V,history:$}},LO=(t,e,n)=>{var c,d;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const o=e.text(["lastdungeon","lastfight"]);return o&&r.push({dateLabel:Am(Math.round(n()*15)+5),title:"Dungeon Clear",description:o,tag:"Dungeon"}),r.push({dateLabel:Am(2),title:"Level-Up",description:`Erreichte Level ${Rs(t.level)}`,tag:"Level"}),r.push({dateLabel:Am(10),title:"Scrapbook Meilenstein",description:`${sp((c=t.scrapbookPct)!=null?c:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:Am(18),title:"Festung",description:`Fortress Level ${Math.round((d=e.number(["fortress"],Math.round(n()*20+15)))!=null?d:0)}`,tag:"Festung"}),r},Am=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function Ac(t,e=300){const[n,r]=J.useState(t);return J.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function Ec(t){const e=J.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[n,r]=J.useState(()=>e());return J.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),o=c=>r(c.matches);return r(i.matches),i.addEventListener("change",o),()=>i.removeEventListener("change",o)},[t]),n}const DO='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function Ic(t,e){J.useEffect(()=>{var c;if(!e)return;const n=t.current;if(!n)return;const r=()=>n.querySelectorAll(DO);(c=r()[0])==null||c.focus();const o=d=>{if(d.key!=="Tab")return;const u=r();if(u.length===0)return;const m=u[0],p=u[u.length-1];d.shiftKey?document.activeElement===m&&(d.preventDefault(),p.focus()):document.activeElement===p&&(d.preventDefault(),m.focus())};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[t,e])}const MO="_page_1jzf5_1",FO="_header_1jzf5_13",BO="_headerStack_1jzf5_25",$O="_kicker_1jzf5_37",VO="_title_1jzf5_53",OO="_subtitle_1jzf5_65",UO="_headerActions_1jzf5_79",zO="_secondaryAction_1jzf5_89",HO="_infoStrip_1jzf5_131",GO="_infoCard_1jzf5_143",WO="_infoLabel_1jzf5_163",qO="_inlineFilters_1jzf5_177",KO="_filterField_1jzf5_197",QO="_select_1jzf5_227",XO="_searchInput_1jzf5_229",YO="_layout_1jzf5_249",JO="_selectionColumn_1jzf5_261",ZO="_selectionCard_1jzf5_273",eU="_slotHeader_1jzf5_293",tU="_slotLabel_1jzf5_307",sU="_slotStatus_1jzf5_323",nU="_clearButton_1jzf5_335",rU="_slotBody_1jzf5_355",iU="_resultList_1jzf5_367",aU="_emptyResult_1jzf5_385",oU="_resultItem_1jzf5_397",lU="_resultName_1jzf5_421",cU="_resultMeta_1jzf5_433",dU="_selectButton_1jzf5_445",uU="_selectedCard_1jzf5_465",hU="_selectedName_1jzf5_479",mU="_selectedMeta_1jzf5_489",pU="_selectedTagline_1jzf5_491",fU="_comparisonColumn_1jzf5_503",gU="_comparisonCard_1jzf5_515",xU="_comparisonHeader_1jzf5_535",vU="_sectionTitle_1jzf5_551",yU="_diffBadge_1jzf5_561",bU="_metricGrid_1jzf5_579",_U="_metricCard_1jzf5_591",wU="_metricLabel_1jzf5_611",jU="_metricValues_1jzf5_627",SU="_metricDivider_1jzf5_643",NU="_metricDelta_1jzf5_653",kU="_freshnessRow_1jzf5_665",CU="_freshnessItem_1jzf5_677",TU="_freshnessBadge_1jzf5_685",AU="_freshnessPopover_1jzf5_733",EU="_popoverTitle_1jzf5_757",IU="_classCard_1jzf5_807",RU="_classGrid_1jzf5_827",PU="_classColumn_1jzf5_837",LU="_classBar_1jzf5_857",DU="_classSlice_1jzf5_873",MU="_classLegend_1jzf5_907",FU="_emptyState_1jzf5_931",BU="_supportPanels_1jzf5_947",$U="_checklistCard_1jzf5_959",VU="_infoCardExtended_1jzf5_961",OU="_checklist_1jzf5_959",UU="_infoNote_1jzf5_1033",zU="_sheetOverlay_1jzf5_1045",HU="_sheetOpen_1jzf5_1073",GU="_sheet_1jzf5_1045",WU="_sheetHeader_1jzf5_1105",qU="_sheetBody_1jzf5_1119",ie={page:MO,header:FO,headerStack:BO,kicker:$O,title:VO,subtitle:OO,headerActions:UO,secondaryAction:zO,infoStrip:HO,infoCard:GO,infoLabel:WO,inlineFilters:qO,filterField:KO,select:QO,searchInput:XO,layout:YO,selectionColumn:JO,selectionCard:ZO,slotHeader:eU,slotLabel:tU,slotStatus:sU,clearButton:nU,slotBody:rU,resultList:iU,emptyResult:aU,resultItem:oU,resultName:lU,resultMeta:cU,selectButton:dU,selectedCard:uU,selectedName:hU,selectedMeta:mU,selectedTagline:pU,comparisonColumn:fU,comparisonCard:gU,comparisonHeader:xU,sectionTitle:vU,diffBadge:yU,metricGrid:bU,metricCard:_U,metricLabel:wU,metricValues:jU,metricDivider:SU,metricDelta:NU,freshnessRow:kU,freshnessItem:CU,freshnessBadge:TU,freshnessPopover:AU,popoverTitle:EU,classCard:IU,classGrid:RU,classColumn:PU,classBar:LU,classSlice:DU,classLegend:MU,emptyState:FU,supportPanels:BU,checklistCard:$U,infoCardExtended:VU,checklist:OU,infoNote:UU,sheetOverlay:zU,sheetOpen:HU,sheet:GU,sheetHeader:WU,sheetBody:qU},C3=["Ari","Borin","Celeste","Doran","Lena","Nix"],KU={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},$0={raid:"Raid",event:"Event",task:"Task"},V0={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},Uw={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},zw={urgent:4,high:3,medium:2,low:1},QU={"7d":7,"30d":30,"90d":90,all:null},Mx={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},XU=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:Eo(5,20),createdAt:Nn(2,14),updatedAt:Nn(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:Im(3),nextUpdateAt:Em(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:Eo(2,12),createdAt:Nn(4,9),updatedAt:Nn(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:Im(8),nextUpdateAt:Em(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:Eo(7,17),createdAt:Nn(1,10),updatedAt:Nn(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:Im(22),nextUpdateAt:Em(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:Nn(1,19),createdAt:Nn(9,10),updatedAt:Nn(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:Nn(1,19),nextUpdateAt:Eo(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:Eo(12,18),createdAt:Nn(6,15),updatedAt:Nn(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:Im(1),nextUpdateAt:Em(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:Eo(18,13),createdAt:Nn(12,18),updatedAt:Nn(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:Nn(2,16),nextUpdateAt:Eo(4,9)}];function Eo(t,e=12){const n=new Date;return n.setDate(n.getDate()+t),n.setHours(e,0,0,0),n.toISOString()}function Em(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function Nn(t,e=12){const n=new Date;return n.setDate(n.getDate()-t),n.setHours(e,0,0,0),n.toISOString()}function Im(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function Hw(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function YU(t,e,n){const r=Date.now(),i=QU[e.range];return t.filter(o=>{const c=n===""||o.title.toLowerCase().includes(n.toLowerCase())||o.description.toLowerCase().includes(n.toLowerCase()),d=e.type==="all"||o.type===e.type,u=e.status==="all"||o.status===e.status,m=e.owner.length===0||e.owner.includes(o.owner)||o.assignees.some(x=>e.owner.includes(x));let p=!0;if(i!==null){const x=new Date(o.dueAt).getTime(),v=r+i*24*60*60*1e3;p=x<=v}return c&&d&&u&&m&&p})}function JU(t,e,n){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"dueAt":c=new Date(i.dueAt).getTime()-new Date(o.dueAt).getTime();break;case"updatedAt":c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break;case"priority":c=zw[i.priority]-zw[o.priority];break;case"title":c=i.title.localeCompare(o.title);break;default:c=0}return n==="asc"?c:-c}),r}function ZU(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function Ci(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Yu(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Au(t,e){const n=new Date(t).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function ez(t){return t.length===0?null:t.reduce((e,n)=>e?Uw[n.freshness]>Uw[e.freshness]?n:e:n,null)}const Wv=["EU-01","EU-02","US-01","US-02","ASIA-01"],ou=new Intl.NumberFormat("de-DE");function tz(){const t=Ec("(min-width: 768px)"),[e,n]=J.useState("all"),[r,i]=J.useState(null),[o,c]=J.useState(null),[d,u]=J.useState(null),[m,p]=J.useState(null),x=[r,o].filter(Boolean).length,v=J.useMemo(()=>{const I=[d,m].filter(Boolean);if(!I.length)return 0;const V=I.reduce(($,W)=>{var z;return $+((z=W.level)!=null?z:0)},0);return Math.round(V/I.length)},[d,m]),[w,S]=J.useState(null),[P,R]=J.useState(!1),B=J.useRef(null);Ic(B,P&&!t),J.useEffect(()=>{t&&R(!1)},[t]),J.useEffect(()=>{if(!w)return;const I=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},V=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",V)}},[w]);const L=J.useMemo(()=>d?Au(d.nextUpdateAt,Date.now()):"",[d]),T=J.useMemo(()=>m?Au(m.nextUpdateAt,Date.now()):"",[m]),y=()=>R(!0),j=()=>R(!1),M=I=>{n(I)},C=(I,V)=>{I==="playerA"?(i(V.id),u(V)):(c(V.id),p(V))},_=I=>{I==="playerA"?(i(null),u(null)):(c(null),p(null))},A=I=>{S(V=>V===I?null:I)},D=d&&m;return s.jsxs(xt,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[s.jsxs("div",{className:ie.page,children:[s.jsxs("header",{className:ie.header,children:[s.jsxs("div",{className:ie.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Players"}),s.jsx("h1",{className:ie.title,children:"Spieler vergleichen"}),s.jsx("p",{className:ie.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),s.jsx("div",{className:ie.headerActions,children:!t&&s.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),s.jsxs("div",{className:ie.infoStrip,children:[s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Slots gefuellt"}),s.jsxs("strong",{children:[ou.format(x)," Spieler"]})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Durchschnittslevel"}),s.jsx("strong",{children:ou.format(v)})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ie.inlineFilters,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Wv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:ie.layout,children:[s.jsxs("section",{className:ie.selectionColumn,children:[s.jsx(Gw,{title:"Spieler A",slot:"playerA",selectedPlayer:d,excludeId:o,onSelect:C,onClear:_,serverFilter:e,onServerChange:M}),s.jsx(Gw,{title:"Spieler B",slot:"playerB",selectedPlayer:m,excludeId:r,onSelect:C,onClear:_,serverFilter:e,onServerChange:M})]}),s.jsxs("section",{className:ie.comparisonColumn,children:[s.jsxs("div",{className:ie.comparisonCard,children:[s.jsxs("div",{className:ie.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Vergleich"}),s.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),D&&s.jsxs("span",{className:ie.diffBadge,children:["Delta Level: ",ou.format(d.level-m.level)]})]}),D?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ie.metricGrid,children:[s.jsx(Ww,{label:"Level",aValue:d.level,bValue:m.level}),s.jsx(Ww,{label:"Scrapbook (%)",aValue:d.scrapbookPct,bValue:m.scrapbookPct,isDecimal:!0}),s.jsx(sz,{playerA:d,playerB:m,countdownA:L,countdownB:T,activePopover:w,onToggle:A})]}),s.jsx(nz,{playerA:d,playerB:m})]}):s.jsx("div",{className:ie.emptyState,children:s.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ie.supportPanels,children:[s.jsx(rz,{}),s.jsx(iz,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ie.sheetOverlay} ${P?ie.sheetOpen:""}`,children:s.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:B,children:[s.jsxs("header",{className:ie.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ie.clearButton,onClick:j,children:"Schliessen"})]}),s.jsx("div",{className:ie.sheetBody,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Wv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function Gw({title:t,slot:e,selectedPlayer:n,excludeId:r,onSelect:i,onClear:o,serverFilter:c,onServerChange:d}){const[u,m]=J.useState(""),p=Ac(u,300);J.useEffect(()=>{m("")},[n,c]);const{results:x,loading:v}=az(p,c,r);return s.jsxs("article",{className:ie.selectionCard,children:[s.jsxs("div",{className:ie.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.slotLabel,children:t}),s.jsx("p",{className:ie.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>o(e),children:"Reset"})]}),s.jsxs("div",{className:ie.slotBody,children:[s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:c,onChange:w=>d(w.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Wv.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ie.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:w=>m(w.target.value)})]}),s.jsxs("div",{className:ie.resultList,role:"list",children:[v&&s.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&x.length===0&&s.jsx("div",{className:ie.emptyResult,children:"Kein Spieler gefunden."}),!v&&x.map(w=>s.jsxs("div",{className:ie.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.resultName,children:w.name}),s.jsxs("p",{className:ie.resultMeta,children:[w.server," - Level ",w.level," - ",w.className]})]}),s.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,w),children:"Waehlen"})]},w.id))]}),n&&s.jsxs("div",{className:ie.selectedCard,children:[s.jsx("p",{className:ie.selectedName,children:n.name}),s.jsxs("p",{className:ie.selectedMeta,children:[n.server," - Level ",n.level," - ",n.className," -"," ",n.guildName||"ohne Gilde"]}),s.jsx("p",{className:ie.selectedTagline,children:n.tagline})]})]})]})}function Ww({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):ou.format(d),o=e-n;let c="gleich";if(o!==0){const d=r?Math.abs(o).toFixed(1).replace(".",","):ou.format(Math.abs(o));c=o>0?`+${d}`:`-${d}`}return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:t}),s.jsxs("div",{className:ie.metricValues,children:[s.jsx("span",{"aria-label":"Spieler A",children:i(e)}),s.jsx("span",{className:ie.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Spieler B",children:i(n)})]}),s.jsx("p",{className:ie.metricDelta,children:c})]})}function sz({playerA:t,playerB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:o}){return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Freshness"}),s.jsx("div",{className:ie.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?n:r,u=`fresh-${c.id}`,m=i===u;return s.jsxs("div",{className:ie.freshnessItem,children:[s.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":m,onClick:()=>o(u),children:[s.jsx("span",{children:c.freshness.toUpperCase()}),s.jsx("small",{children:Yu(c.lastScanAt)})]}),m&&s.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ie.popoverTitle,children:c.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:V0[c.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:Ci(c.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[Ci(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function nz({playerA:t,playerB:e}){const n=J.useMemo(()=>Array.from(new Set([...t.stats,...e.stats].map(i=>i.label))),[t.stats,e.stats]),r=i=>{const o=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return s.jsxs("div",{className:ie.classColumn,children:[s.jsx("h3",{children:i.name}),s.jsx("div",{className:ie.classBar,"aria-label":`Statverteilung ${i.name}`,children:o.map(c=>s.jsxs("span",{style:{width:`${c.percent}%`},className:ie.classSlice,children:[s.jsx("small",{children:c.label}),s.jsxs("strong",{children:[c.percent,"%"]})]},`${i.id}-${c.label}`))})]})};return s.jsxs("div",{className:ie.classCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Stat-Verteilung"}),s.jsx("div",{className:ie.classGrid,children:[t,e].map(r)}),n.length>0&&s.jsx("ul",{className:ie.classLegend,children:n.map(i=>s.jsx("li",{children:i},i))})]})}function rz(){const t=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return s.jsxs("section",{className:ie.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ie.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function iz(){return s.jsxs("section",{className:ie.infoCardExtended,children:[s.jsx("h3",{children:"Matchup-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ie.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),s.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function az(t,e,n){const[r,i]=J.useState([]),[o,c]=J.useState(!1);return J.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let u=!1;async function m(){c(!0);try{const p=d.toLowerCase(),x=tf(Rt,"latest"),v=await rn(En(x,za("nameFold"),zo(p),Ho(p+""),In(15))),w=await rn(En(x,qo("nameNgrams","array-contains",p),In(15))),S=new Set,P=[],R=B=>{var Q,H,te,re,G,se,de,ee,fe,Te,xe,Ce,Ne,ue,De,Ee,st,ut,ss,Hs,Gs,Pn,Ws,Ls,Ds,Ln,vn,yn,ds;const L=B.data(),y=(Q=B.ref.parent)==null?void 0:Q.parent,j=y==null?void 0:y.parent;if((j==null?void 0:j.id)!=="players")return;const C=(te=(H=y==null?void 0:y.id)!=null?H:L.playerIdentifier)!=null?te:B.id;if(!C||S.has(C)||n&&C===n)return;const _=(se=(G=L.name)!=null?G:(re=L.values)==null?void 0:re.Name)!=null?se:"Unbekannter Spieler",A=(fe=(ee=L.server)!=null?ee:(de=L.values)==null?void 0:de.Server)!=null?fe:"Unknown";if(e!=="all"&&A!==e)return;const D=(ue=(Ne=(xe=L.className)!=null?xe:(Te=L.values)==null?void 0:Te.Class)!=null?Ne:(Ce=L.values)==null?void 0:Ce.Class)!=null?ue:"Unbekannte Klasse",I=(st=(Ee=L.guildName)!=null?Ee:(De=L.values)==null?void 0:De.Guild)!=null?st:"",V=Oa(L.level)||Oa((ut=L.values)==null?void 0:ut.Level)||Oa((ss=L.values)==null?void 0:ss.Level),$=Oa(L.scrapbookPct)||Oa((Hs=L.values)==null?void 0:Hs["Album %"])||Oa((Gs=L.values)==null?void 0:Gs.AlbumPct)||Oa((Pn=L.values)==null?void 0:Pn["Scrapbook %"]),W=(Ds=(Ls=L.updatedAt)!=null?Ls:(Ws=L.values)==null?void 0:Ws.UpdatedAt)!=null?Ds:L.timestamp?new Date(L.timestamp*1e3).toISOString():new Date().toISOString(),z=(Ln=L.nextUpdateAt)!=null?Ln:lz(12),q=oz((vn=L.values)!=null?vn:L.stats);S.add(C),P.push({id:C,name:_,tagline:(yn=L.tagline)!=null?yn:I?`Mitglied in ${I}`:D,server:A,className:D,guildName:I,level:V||0,scrapbookPct:$,lastScanAt:W,updatedAt:W,nextUpdateAt:z,freshness:(ds=L.freshness)!=null?ds:"unknown",stats:q})};v.forEach(R),w.forEach(R),u||(P.sort((B,L)=>B.name.localeCompare(L.name)),i(P))}catch(p){console.error("[Players Compare] player search failed",p),u||i([])}finally{u||c(!1)}}return m(),()=>{u=!0}},[t,e,n]),{results:r,loading:o}}const qw={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function oz(t={}){const e=Object.keys(qw).map(r=>{var o;const i=(o=t==null?void 0:t[r])!=null?o:t==null?void 0:t[r.toLowerCase()];return{label:qw[r],value:Oa(i)}}).filter(r=>r.value>0),n=e.reduce((r,i)=>r+i.value,0);return n?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/n*100))})):[]}function Oa(t){const e=Number(t);return Number.isFinite(e)?e:0}function lz(t){const e=new Date;return e.setHours(e.getHours()+t),e.toISOString()}function cz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Kw,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(Kw,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function Kw({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function dz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function uz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function hz(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const mz={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function pz(t){var n;const e=hz(t);return(n=mz[e])!=null?n:null}function fz(t,e=128){var o,c;const n=pz(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(o=el(n))!=null?o:null,i=r&&(c=Lr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function Eu(t,e=128){return fz(t,e).thumb}const dl={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},vf=(t,e)=>({...t||{},...e||{}}),Qw=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},gz=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),Js=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function xz(t){var v,w,S,P,R,B,L,T;const e=Js(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=Js(t==null?void 0:t.baseMain),r=Js(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},o=Js(i==null?void 0:i.sumBaseTotal);if(o!=null)return o;const c=Js(i==null?void 0:i.main),d=Js(i==null?void 0:i.con);if(c!=null&&d!=null)return c+d;const u=(t==null?void 0:t.values)||{},m=(w=(v=Js(u==null?void 0:u.SumBaseTotal))!=null?v:Js(u==null?void 0:u.sumBaseTotal))!=null?w:Js(u==null?void 0:u["Sum Base Total"]);if(m!=null)return m;const p=(R=(P=(S=Js(u==null?void 0:u.Main))!=null?S:Js(u==null?void 0:u.main))!=null?P:Js(u==null?void 0:u.BaseMain))!=null?R:Js(u==null?void 0:u.baseMain),x=(T=(L=(B=Js(u==null?void 0:u.Con))!=null?B:Js(u==null?void 0:u.con))!=null?L:Js(u==null?void 0:u.ConBase))!=null?T:Js(u==null?void 0:u.conBase);return p!=null&&x!=null?p+x:null}function Io(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function vz(t,e=56){if(!t)return;const n=Io(t),r=Ps.find(i=>Io(i.label)===n||Io(i.key)===n)||Ps.find(i=>Io(i.label).startsWith(n)||n.startsWith(Io(i.label))||Io(i.key).startsWith(n)||n.startsWith(Io(i.key)));return r?Lr(r.iconUrl,e):void 0}function yz({name:t,memberClass:e,online:n,theme:r=dl}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=vz(e,56);return s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const bz={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},_z=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(bz[t]||""),children:t});function Xw(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function wz(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function Rm({label:t,value:e,theme:n=dl}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function jz({member:t,theme:e,actions:n,extraKPIs:r}){var p,x,v,w,S,P,R,B,L;if(!t)return null;const i=vf(dl,e),o=t,c=Xw((x=(p=o.guildJoined)!=null?p:o.joinedAt)!=null?x:null,(v=o.guildJoinedMs)!=null?v:null),d=Xw((w=o.lastActivity)!=null?w:null,(S=o.lastActivityMs)!=null?S:typeof o.lastOnline=="number"?o.lastOnline:null),u=wz(o),m=typeof o.totalStats=="number"?o.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(yz,{name:t.name,memberClass:(B=(R=o.class)!=null?R:(P=o.values)==null?void 0:P.Class)!=null?B:null,online:o.online,theme:i})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),o.role&&s.jsx(_z,{role:o.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[o.class||"",o.server?`  ${o.server}`:"","  Joined ",c,"  Last ",d]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Rm,{label:"Level",value:(L=o.level)!=null?L:"",theme:i}),typeof o.scrapbook=="number"&&s.jsx(Rm,{label:"Scrapbook",value:`${o.scrapbook}%`,theme:i}),s.jsx(Rm,{label:"Sum Base",value:u,theme:i}),s.jsx(Rm,{label:"Total Stats",value:m,theme:i}),r]})]})}function Ro(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function Sz(t,e=40){if(!t)return;const n=Ro(t);let r=Ps.find(i=>Ro(i.label)===n||Ro(i.key)===n)||Ps.find(i=>Ro(i.label).startsWith(n)||n.startsWith(Ro(i.label))||Ro(i.key).startsWith(n)||n.startsWith(Ro(i.key)));return r?Lr(r.iconUrl,e):void 0}function Nz({name:t,memberClass:e,online:n,theme:r=dl}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=Sz(e,40);return s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const kz=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function Cz({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const o=vf(dl,i);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:o.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:o.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:o.header}}),t.map((c,d)=>{var u,m,p;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(Nz,{name:c.name,memberClass:(p=(m=c.class)!=null?m:(u=c.values)==null?void 0:u.Class)!=null?p:null,online:c.online,theme:o}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:o.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(kz,{role:c.role})}),r(c)]},c.id)})]})]})}function Po(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function Tz(t,e=40){if(!t)return;const n=Po(t);let r=Ps.find(i=>Po(i.label)===n||Po(i.key)===n)||Ps.find(i=>Po(i.label).startsWith(n)||n.startsWith(Po(i.label))||Po(i.key).startsWith(n)||n.startsWith(Po(i.key)));return r?Lr(r.iconUrl,e):void 0}function Az({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const o=vf(dl,i);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var v,w,S,P,R,B,L,T,y;const d=c,u=c.name.slice(0,2).toUpperCase(),m=Tz((S=(w=d.class)!=null?w:(v=d.values)==null?void 0:v.Class)!=null?S:null,40),p=typeof d.level=="number"?d.level:typeof((P=d.values)==null?void 0:P.Level)=="number"?d.values.Level:"",x=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((R=d.values)==null?void 0:R.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${o.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m?s.jsx("img",{src:m,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:o.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:j=>{const M=j.currentTarget.parentElement;M&&(M.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${o.tile};color:${o.title};border-color:${o.border}">${u}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:o.tile,color:o.title,borderColor:o.border},children:u}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:o.sub},children:[(T=(L=d.class)!=null?L:(B=d.values)==null?void 0:B.Class)!=null?T:"",d.server?`  ${d.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:o.border},children:(y=d.role)!=null?y:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:o.title},children:p})]}),x&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:o.title},children:x})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}const Ez=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=t[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function Iz({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:o,onSelect:c,renderActions:d,renderKPIs:u,theme:m}){var D;const p=E.useMemo(()=>vf(dl,m),[m]),[x,v]=E.useState(e),[w,S]=E.useState(n),[P,R]=E.useState(r.key),[B,L]=E.useState(r.dir),[T,y]=E.useState((D=t[0])==null?void 0:D.id),j=o!=null?o:T,M=I=>{o||y(I);const V=t.find($=>$.id===I);V&&c&&c(V)},C=E.useMemo(()=>{const I=w.trim().toLowerCase();return I?t.filter(V=>V.name.toLowerCase().includes(I)||V.class.toLowerCase().includes(I)||String(V.role).toLowerCase().includes(I)):t},[t,w]),_=E.useMemo(()=>{const I=B==="asc"?1:-1,V=$=>{var W,z;switch(P){case"sumBaseStats":{const q=xz($);return q==null?-1/0:q}case"totalStats":return(z=(W=$.totalStats)!=null?W:gz(Ez($.baseStats)))!=null?z:-1/0;default:return $[P]}};return[...C].sort(($,W)=>{const z=V($),q=V(W);return z===q?0:z>q?I:-I})},[C,P,B]),A=E.useMemo(()=>_.find(I=>I.id===j)||_[0],[_,j]);return s.jsxs("div",{children:[i&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:p.tile,borderColor:p.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"View"}),s.jsxs("select",{value:x,onChange:I=>v(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Search"}),s.jsx("input",{value:w,onChange:I=>S(I.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:p.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Sort by"}),s.jsxs("select",{value:String(P),onChange:I=>R(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>L(I=>I==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:p.border},children:B==="asc"?"":""})]})]}),s.jsx(jz,{member:A,actions:A&&(d?d(A):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Message"})]})),extraKPIs:A&&u?u(A):null,theme:p}),x==="list"?s.jsx(Cz,{rows:_,selId:j,onSelect:M,theme:p,rightCols:I=>{var V;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(V=I.level)!=null?V:""}),s.jsx("div",{className:"text-right text-xs",style:{color:p.sub},children:Qw(I.lastOnline)})]})}}):s.jsx(Az,{rows:_,selId:j,onSelect:M,theme:p,footer:I=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:p.sub},children:s.jsxs("span",{children:["Last ",Qw(I.lastOnline)]})})})]})}function Rz({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:o,totalPower:c,activity7d:d,topClasses:u,tickerItems:m,href:p,onClick:x,className:v}){const w=!!h3(),S=E.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(V/6e4));if($<60)return`${$}m`;const W=Math.floor($/60);return W<24?`${W}h`:`${Math.floor(W/24)}d`},[r]),P=Qd(0),R=Qd(0),B=Qd(0),L=Qd(0),T=Sm(P,V=>Math.round(V).toString()),y=Sm(R,V=>Math.round(V).toString()),j=Sm(B,V=>Math.round(V).toLocaleString()),M=Sm(L,V=>`${Math.round(V)}%`);E.useEffect(()=>{const V=w?0:.6;if(V===0){P.set(i),R.set(o),B.set(c!=null?c:0),L.set(d!=null?d:0);return}const $=[Nm(P,i,{duration:V}),Nm(R,o,{duration:V}),Nm(B,c!=null?c:0,{duration:V}),Nm(L,d!=null?d:0,{duration:V})];return()=>$.forEach(W=>W.stop())},[i,o,c,d,w]);const C=E.useRef(null);E.useEffect(()=>{if(w||!C.current)return;const V=C.current;let $=0,W=0;const z=()=>{W+=.016;const q=W*14%140-20;V.style.setProperty("--s-x",`${q}%`),$=requestAnimationFrame(z)};return $=requestAnimationFrame(z),()=>cancelAnimationFrame($)},[w]);const _={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},A=100,D=p?"a":"div",I=p?{href:p}:{onClick:x};return s.jsxs(D,{...I,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${_.bgFrom}, ${_.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:C,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),S&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:_.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${_.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",S]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${A}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${A}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${A}deg, transparent 0 46px, ${_.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:_.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:_.soft,border:`1px solid ${_.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Pm,{label:"Members",value:T}),s.jsx(Pm,{label:" Level",value:y}),s.jsx(Pm,{label:"Total Power",value:j}),typeof d=="number"&&s.jsx(Pm,{label:"Activity (7d)",value:M})]}),u!=null&&u.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:_.soft},children:"Top Classes"}),u.slice(0,3).map(V=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${_.border}`,color:_.text},children:[V.iconUrl?s.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:_.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[V.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),m!=null&&m.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${_.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(Pz,{items:m,muted:w,color:_.soft})}):null]})}function Pm({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(d3.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function Pz({items:t,muted:e,color:n}){const r=E.useRef(null);return E.useEffect(()=>{if(e||!r.current)return;const i=r.current;let o=0,c=0;const d=()=>{o+=.016;const u=o*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,o)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:i},o))})})}const Lz="_wrap_q5gkc_53",Dz="_banner_q5gkc_59",Mz="_bannerRowTop_q5gkc_61",Fz="_bannerStripe_q5gkc_71",Bz="_bannerTitle_q5gkc_79",$z="_bannerRowBottom_q5gkc_93",Vz="_bannerSub_q5gkc_95",Oz="_monthPickerWrap_q5gkc_101",Uz="_monthPickerLabel_q5gkc_113",zz="_monthPicker_q5gkc_101",Hz="_monthButton_q5gkc_131",Gz="_monthButtonText_q5gkc_159",Wz="_chev_q5gkc_161",qz="_monthList_q5gkc_165",Kz="_monthOption_q5gkc_195",Qz="_monthBadge_q5gkc_221",Xz="_gridRow_q5gkc_237",Yz="_gridRowBottom_q5gkc_239",Jz="_sideImage_q5gkc_253",Zz="_sideImagePh_q5gkc_271",eH="_emblemPanel_q5gkc_275",tH="_emblemFrame_q5gkc_295",sH="_emblemImg_q5gkc_297",nH="_emblemPlaceholder_q5gkc_299",rH="_emblemShimmer_q5gkc_307",iH="_emblemCaption_q5gkc_315",aH="_card_q5gkc_319",oH="_cardHeader_q5gkc_331",lH="_cardTitle_q5gkc_339",cH="_cardSubtitle_q5gkc_341",dH="_headerRight_q5gkc_343",uH="_cardBody_q5gkc_345",hH="_tableWrap_q5gkc_349",mH="_tableTitle_q5gkc_351",pH="_table_q5gkc_349",fH="_th_q5gkc_355",gH="_td_q5gkc_355",xH="_tdEmpty_q5gkc_365",vH="_sectionDivider_q5gkc_375",yH="_sectionStripe_q5gkc_389",bH="_sectionTitle_q5gkc_397",nt={wrap:Lz,banner:Dz,bannerRowTop:Mz,bannerStripe:Fz,bannerTitle:Bz,bannerRowBottom:$z,bannerSub:Vz,monthPickerWrap:Oz,monthPickerLabel:Uz,monthPicker:zz,monthButton:Hz,monthButtonText:Gz,chev:Wz,monthList:qz,monthOption:Kz,monthBadge:Qz,gridRow:Xz,gridRowBottom:Yz,sideImage:Jz,sideImagePh:Zz,emblemPanel:eH,emblemFrame:tH,emblemImg:sH,emblemPlaceholder:nH,emblemShimmer:rH,emblemCaption:iH,card:aH,cardHeader:oH,cardTitle:lH,cardSubtitle:cH,headerRight:dH,cardBody:uH,tableWrap:hH,tableTitle:mH,table:pH,th:fH,td:gH,tdEmpty:xH,sectionDivider:vH,sectionStripe:yH,sectionTitle:bH};function _H(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function Yw(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const Jw=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:nt.card,children:[(t||e||r)&&s.jsxs("header",{className:nt.cardHeader,children:[s.jsxs("div",{className:nt.headerTitles,children:[t&&s.jsx("h3",{className:nt.cardTitle,children:t}),e&&s.jsx("div",{className:nt.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:nt.headerRight,children:r})]}),s.jsx("div",{className:nt.cardBody,children:n})]}),Zw=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:nt.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&s.jsx("div",{className:nt.tableTitle,children:t.title}),s.jsxs("table",{className:nt.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(o=>s.jsx("th",{className:nt.th,style:{width:o.width},children:o.label},o.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:nt.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((o,c)=>{var d;return s.jsx("tr",{children:e.map(u=>{var v;const m=o[u.key],p=typeof m=="number"||typeof m=="string"?m:"",x=u.format==="num"?_H(p):p;return s.jsx("td",{className:nt.td,"data-align":(v=u.align)!=null?v:"left",children:u.render?u.render(o):x},u.key)})},(d=o.id)!=null?d:c)})})]}),t.footer&&s.jsx("div",{className:nt.tableFooter,children:t.footer})]})},wH=(t,e)=>{E.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},jH=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var p;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:nt.bannerSub,children:r!=null?r:""});const o=E.useRef(null),[c,d]=E.useState(!1);wH(o,()=>d(!1));const u=t.find(x=>x.key===e),m=u?`${Yw(u.fromISO)}${Yw(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:nt.monthPickerWrap,children:[s.jsx("div",{className:nt.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:nt.monthPicker,ref:o,children:[s.jsxs("button",{type:"button",className:nt.monthButton,onClick:()=>d(x=>!x),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:nt.monthButtonText,children:(p=u==null?void 0:u.label)!=null?p:""}),s.jsx("svg",{className:nt.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:nt.monthList,role:"listbox",children:t.map(x=>s.jsx("li",{children:s.jsx("button",{type:"button",className:nt.monthOption,onClick:()=>{d(!1),n==null||n(x.key)},role:"option","aria-selected":x.key===e,children:x.label})},x.key))})]}),m&&s.jsx("span",{className:nt.monthBadge,children:m})]})},SH=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>s.jsxs("div",{className:nt.banner,children:[s.jsxs("div",{className:nt.bannerRowTop,children:[s.jsx("div",{className:nt.bannerStripe}),s.jsx("div",{className:nt.bannerTitle,children:t}),s.jsx("div",{className:nt.bannerStripe})]}),s.jsx("div",{className:nt.bannerRowBottom,children:s.jsx(jH,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),NH=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:nt.emblemPanel,children:[s.jsxs("div",{className:nt.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:nt.emblemImg}):s.jsx("div",{className:nt.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:nt.emblemShimmer})]}),e&&s.jsx("div",{className:nt.emblemCaption,children:e})]}),ej=({imgUrl:t,alt:e})=>s.jsx("div",{className:nt.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:nt.sideImagePh,children:"Image"})}),Fx=({children:t,className:e})=>s.jsx("div",{className:`${nt.gridRow} ${e!=null?e:""}`,children:t}),kH=({children:t})=>s.jsxs("div",{className:nt.sectionDivider,children:[s.jsx("div",{className:nt.sectionStripe}),s.jsx("div",{className:nt.sectionTitle,children:t}),s.jsx("div",{className:nt.sectionStripe})]}),CH=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:o}=t;return s.jsxs("div",{className:nt.wrap,children:[s.jsx(SH,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(Fx,{children:[s.jsx(ej,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(NH,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(ej,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(Fx,{children:i.map((c,d)=>s.jsx(Jw,{title:c.title,subtitle:c.subtitle,children:s.jsx(Zw,{block:c})},d))}),s.jsx(kH,{children:"Guild Overview"}),s.jsx(Fx,{className:nt.gridRowBottom,children:o.map((c,d)=>s.jsx(Jw,{title:c.title,subtitle:c.subtitle,children:s.jsx(Zw,{block:c})},d))})]})},TH=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=E.useState(!0),[o,c]=E.useState(null),[d,u]=E.useState(void 0),m=E.useRef({}),[p,x]=E.useState(()=>Lm(e,n));E.useEffect(()=>{let w=!1;async function S(){var P,R,B,L,T;i(!0);try{const y=Uu(Rt,`guilds/${t}/history_monthly`),j=await rn(y),M=[];for(const A of j.docs){const D=A.id,I=A.data();if(!I)continue;m.current[D]=I;const V=(P=I==null?void 0:I.meta)!=null?P:{},$=V.fromISO||V.baselineISO||V.firstISO||"",W=V.toISO||V.latestISO||V.nowISO||"",z=Number((R=V.daysSpan)!=null?R:Math.floor((+new Date(W)-+new Date($))/864e5))||0,q=!!((L=(B=I==null?void 0:I.status)==null?void 0:B.available)!=null?L:$&&W&&z<=40),Q=V.label||new Date(D+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});M.push({key:D,label:Q,fromISO:$||new Date(D+"-01").toISOString(),toISO:W||new Date(D+"-28").toISOString(),daysSpan:z,available:q,reason:q||(T=I==null?void 0:I.status)==null?void 0:T.reason})}if(M.sort((A,D)=>A.key<D.key?1:-1),w)return;if(M.length===0){c(null),u(void 0),x(Lm(e,n)),i(!1);return}c(M);const C=M[0].key;u(C);const _=m.current[C];x(tj(_,{guildName:e,guildServer:n,currentMonthKey:C,months:M}))}catch(y){console.error(y),c(null),u(void 0),x(Lm(e,n))}finally{w||i(!1)}}return S(),()=>{w=!0}},[t,e,n]);async function v(w){u(w);let S=m.current[w];if(!S)try{const P=ps(Rt,`guilds/${t}/history_monthly/${w}`),R=await ur(P);R.exists()?(S=R.data(),m.current[w]=S):S=null}catch(P){console.error(P),S=null}if(!S){x(Lm(e,n,{currentMonthKey:w,months:o!=null?o:void 0}));return}x(tj(S,{guildName:e,guildServer:n,currentMonthKey:w,months:o!=null?o:void 0}))}return s.jsx(CH,{data:p,onMonthChange:v})};function Lm(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Eu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Lo("Most Base Stats gained",e?`Server ${e}`:void 0),Lo("Sum Base Stats"),Lo("Highest Base Stats")],tablesBottom:[Lo("Main & Con"),Lo("Sum Base Stats"),Lo("Highest Base Stats"),Lo("Highest Total Stats")]}}function Lo(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function tj(t,e){var c,d,u,m,p,x,v,w;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Eu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((S,P)=>{var R,B,L,T,y,j,M,C;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",level:(T=(L=S.levelLatest)!=null?L:S.level)!=null?T:null,base:(j=(y=S.baseLatest)!=null?y:S.base)!=null?j:null,delta:(C=(M=S.baseDelta)!=null?M:S.delta)!=null?C:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=t==null?void 0:t.sumBaseStats)!=null?u:[]).map((S,P)=>{var R,B,L,T,y,j,M;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",base:(L=S.base)!=null?L:null,stam:(y=(T=S.stamDelta)!=null?T:S.staminaDelta)!=null?y:null,sho:(M=(j=S.shoDelta)!=null?j:S.shootingDelta)!=null?M:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((m=t==null?void 0:t.highestBaseStats)!=null?m:[]).map((S,P)=>{var R,B,L,T,y;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",stats:(T=(L=S.stats)!=null?L:S.base)!=null?T:null,delta:(y=S.delta)!=null?y:null}})}],o=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.mainAndCon)!=null?p:[]).map((S,P)=>{var R,B,L,T,y,j;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",class:(T=(L=S.class)!=null?L:S.className)!=null?T:"",stats:(y=S.stats)!=null?y:null,delta:(j=S.delta)!=null?j:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((x=t==null?void 0:t.sumBaseStats)!=null?x:[]).map((S,P)=>{var R,B,L,T,y;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",base:(L=S.base)!=null?L:null,stam:(T=S.stamDelta)!=null?T:null,sho:(y=S.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((S,P)=>{var R,B,L,T;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",stats:(L=S.stats)!=null?L:null,delta:(T=S.delta)!=null?T:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((w=t==null?void 0:t.highestTotalStats)!=null?w:[]).map((S,P)=>{var R,B,L,T;return{id:(R=S.playerId)!=null?R:P,rank:P+1,name:(B=S.name)!=null?B:"-",total:(L=S.total)!=null?L:null,delta:(T=S.delta)!=null?T:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:o}}const AH="_root_r1uj3_5",EH="_sectionDivider_r1uj3_17",IH="_sectionStripe_r1uj3_31",RH="_sectionTitle_r1uj3_33",Id={root:AH,sectionDivider:EH,sectionStripe:IH,sectionTitle:RH},PH="_root_4jywc_1",LH="_accent_4jywc_31",sj={root:PH,default:"_default_4jywc_29",accent:LH};function Za({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${sj.root} ${sj[e]} ${n!=null?n:""}`.trim(),children:t})}const Dm=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function T3(t,e=64){if(!t)return;const n=Dm(t);let r=Ps.find(i=>Dm(i.label)===n);return r||(r=Ps.find(i=>Dm(i.label).startsWith(n)||n.startsWith(Dm(i.label)))),r?Lr(r.iconUrl,e):void 0}const DH="_card_vvv3s_3",MH="_wrap_vvv3s_31",FH="_divider_vvv3s_45",BH="_rows_vvv3s_77",$H="_row_vvv3s_77",VH="_left_vvv3s_109",OH="_label_vvv3s_111",UH="_avgHead_vvv3s_113",zH="_avgNum_vvv3s_115",HH="_top3_vvv3s_121",GH="_chip_vvv3s_123",WH="_badge_vvv3s_151",qH="_name_vvv3s_159",KH="_score_vvv3s_161",QH="_headerSpacer_vvv3s_167",Cn={card:DH,wrap:MH,divider:FH,rows:BH,row:$H,left:VH,label:OH,avgHead:UH,avgNum:zH,top3:HH,chip:GH,badge:WH,name:qH,score:KH,headerSpacer:QH};function XH({name:t,value:e,classLabel:n,colors:r}){const i=T3(n,64);return s.jsxs("div",{className:Cn.chip,children:[s.jsx("span",{className:Cn.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:Cn.name,children:t!=null?t:""}),s.jsx("span",{className:Cn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function YH({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,m)=>{var p,x;return((p=m[d])!=null?p:0)-((x=u[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:Cn.card,children:[s.jsx(Za,{text:n}),s.jsx("div",{className:Cn.headerSpacer}),s.jsxs("div",{className:Cn.wrap,children:[s.jsx("div",{className:Cn.divider}),s.jsx("div",{className:Cn.rows,children:o.map((d,u)=>s.jsxs("div",{className:Cn.row,children:[s.jsxs("div",{className:Cn.left,children:[s.jsx("div",{className:Cn.label,children:d.label}),s.jsx("div",{className:Cn.avgHead,children:""}),s.jsx("div",{className:Cn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Cn.top3,children:d.list.map((m,p)=>s.jsx(XH,{name:m.name,value:m[d.key],classLabel:m.class,colors:e},p))})]},u))})]})]})}const JH="_card_1enwc_1",ZH="_wrap_1enwc_1",eG="_divider_1enwc_1",tG="_rows_1enwc_1",sG="_row_1enwc_1",nG="_left_1enwc_1",rG="_label_1enwc_1",iG="_avgHead_1enwc_1",aG="_avgNum_1enwc_1",oG="_top3_1enwc_1",lG="_chip_1enwc_1",cG="_badge_1enwc_1",dG="_name_1enwc_1",uG="_score_1enwc_1",hG="_headerSpacer_1enwc_1",Tn={card:JH,wrap:ZH,divider:eG,rows:tG,row:sG,left:nG,label:rG,avgHead:iG,avgNum:aG,top3:oG,chip:lG,badge:cG,name:dG,score:uG,headerSpacer:hG};function mG({name:t,value:e,classLabel:n,colors:r}){const i=T3(n,64);return s.jsxs("div",{className:Tn.chip,children:[s.jsx("span",{className:Tn.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:Tn.name,children:t!=null?t:""}),s.jsx("span",{className:Tn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function pG({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,m)=>{var p,x;return((p=m[d])!=null?p:0)-((x=u[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:Tn.card,children:[s.jsx(Za,{text:n}),s.jsx("div",{className:Tn.headerSpacer}),s.jsxs("div",{className:Tn.wrap,children:[s.jsx("div",{className:Tn.divider}),s.jsx("div",{className:Tn.rows,children:o.map((d,u)=>s.jsxs("div",{className:Tn.row,children:[s.jsxs("div",{className:Tn.left,children:[s.jsx("div",{className:Tn.label,children:d.label}),s.jsx("div",{className:Tn.avgHead,children:""}),s.jsx("div",{className:Tn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Tn.top3,children:d.list.map((m,p)=>s.jsx(mG,{name:m.name,value:m[d.key],classLabel:m.class,colors:e},p))})]},u))})]})]})}function fG({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Za,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function gG({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Za,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function xG({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Za,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function vG({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Za,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const yG=E.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const o=i.icon,c=({text:d})=>s.jsxs("div",{className:Id.sectionDivider,children:[s.jsx("div",{className:Id.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}}),s.jsx("div",{className:Id.sectionTitle,style:{color:i.soft},children:d}),s.jsx("div",{className:Id.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}})]});return s.jsxs("div",{className:Id.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(fG,{guild:e,snapshot:n,colors:i}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(YH,{snapshot:n,colors:i}),s.jsx(pG,{snapshot:n,colors:i})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(gG,{colors:i}),s.jsx(xG,{colors:i})]}),s.jsx("div",{className:"mt-4",children:s.jsx(vG,{colors:i})})]})}),bG="_wrapper_zqchq_3",_G="_grid_zqchq_9",wG="_tile_zqchq_13",jG="_disabled_zqchq_37",SG="_crestWrap_zqchq_41",NG="_crest_zqchq_41",kG="_ring_zqchq_53",CG="_badge_zqchq_55",TG="_meta_zqchq_67",AG="_nameRow_zqchq_69",EG="_name_zqchq_69",IG="_share_zqchq_73",RG="_sub_zqchq_75",PG="_tileButton_zqchq_79",LG="_donutCard_zqchq_85",DG="_donutHeader_zqchq_87",MG="_legend_zqchq_91",FG="_legendItem_zqchq_93",BG="_legendSwatch_zqchq_95",$G="_legendRight_zqchq_97",VG="_centerLabel_zqchq_101",os={wrapper:bG,grid:_G,tile:wG,disabled:jG,crestWrap:SG,crest:NG,ring:kG,badge:CG,meta:TG,nameRow:AG,name:EG,share:IG,sub:RG,tileButton:PG,donutCard:LG,donutHeader:DG,legend:MG,legendItem:FG,legendSwatch:BG,legendRight:$G,centerLabel:VG},qv=56;function Ap(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function nj(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const OG=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function UG(t){return t?/drive\.google\.com/.test(t):!1}function rj(t,e=qv){if(t)return UG(t)?Lr(t,e):t}function zG(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function HG(t){var p,x,v,w,S,P;if(!t)return null;const e=t,n=t,r=(p=e.key)!=null?p:n.id,i=(x=e.label)!=null?x:n.name,o=(w=(v=n.crestUrl)!=null?v:e.iconUrl)!=null?w:n.iconUrl,c=(S=e.iconUrl)!=null?S:n.iconUrl,d=(P=e.fallback)!=null?P:n.fallback;if(!r||!i)return null;const u=rj(o,qv),m=rj(c,qv);return{id:r,name:String(i),crestUrl:u||m,iconUrl:m||u,fallback:d?String(d):void 0}}function A3(t,e){var p,x,v,w,S,P,R,B,L,T,y,j,M,C,_,A,D,I,V,$,W;const n={},r={},i={},o={},c=e.map(z=>z.id);for(const z of c)n[z]=0,r[z]=0,i[z]=0,o[z]=null;for(const z of Array.isArray(t)?t:[]){const q=(j=(T=(B=(P=(w=(v=(x=(p=z.classId)!=null?p:z.class)!=null?x:z.klass)!=null?v:z.playerClass)!=null?w:z.cls)!=null?P:(S=z.values)==null?void 0:S.Class)!=null?B:(R=z.values)==null?void 0:R.class)!=null?T:(L=z.values)==null?void 0:L.Klasse)!=null?j:(y=z.values)==null?void 0:y.klasse,Q=zG(q);if(!Q||!c.includes(Q))continue;n[Q]+=1;const H=OG((A=(C=z.level)!=null?C:(M=z.values)==null?void 0:M.Level)!=null?A:(_=z.values)==null?void 0:_.level);H!=null&&(r[Q]+=H,i[Q]+=1,(!o[Q]||((I=(D=o[Q])==null?void 0:D.level)!=null?I:-1/0)<H)&&(o[Q]={id:z.id,name:(W=($=z.name)!=null?$:(V=z.values)==null?void 0:V.Name)!=null?W:null,level:H}))}const d=Object.values(n).reduce((z,q)=>z+q,0),u={},m={};return c.forEach(z=>{u[z]=d>0?n[z]/d*100:0,m[z]=i[z]>0?r[z]/i[z]:null}),{counts:n,shares:u,avg:m,top:o}}const GG=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:os.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},WG=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=E.useState({}),o=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:u,avg:m,top:p}=E.useMemo(()=>A3(o,c),[o,c]);return s.jsx("section",{className:os.wrapper,children:s.jsx("div",{className:os.grid,style:{gridTemplateColumns:"1fr"},children:c.map(x=>{var L,T,y;const v=(L=d[x.id])!=null?L:0,w=(T=u[x.id])!=null?T:0,S=m[x.id],P=p[x.id],R=v<=0,B=r[x.id]?void 0:x.crestUrl||x.iconUrl;return s.jsxs("div",{className:`${os.tile} ${R?os.disabled:""}`,title:R?`${x.name}: kein Mitglied`:`${x.name}  ${nj(v)}  ${Ap(w)}${S?`   ${S.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:os.crestWrap,children:[B?s.jsx("img",{className:os.crest,src:B,alt:x.name,onError:()=>i(j=>({...j,[x.id]:!0}))}):s.jsx("div",{className:os.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=x.fallback)!=null?y:""}),s.jsx(GG,{valuePct:w}),s.jsx("div",{className:os.badge,children:nj(v)})]}),s.jsxs("div",{className:os.meta,children:[s.jsxs("div",{className:os.nameRow,children:[s.jsx("div",{className:os.name,children:x.name}),s.jsx("div",{className:os.share,children:Ap(w)})]}),s.jsxs("div",{className:os.sub,children:[S?` Lvl ${S.toFixed(1)}`:"",P?`  Top: ${P.name}${P.level?` (Lv ${P.level})`:""}`:""]})]}),!R&&n&&s.jsx("button",{className:os.tileButton,onClick:()=>n(x.id),"aria-label":`${x.name} filtern`})]},x.id)})})})},qG=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:o}=E.useMemo(()=>A3(n,r),[n,r]),c=E.useMemo(()=>Object.values(o).reduce((d,u)=>d+u,0),[o]);return s.jsxs("div",{className:os.donutCard,children:[s.jsxs("div",{className:os.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:os.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const x=Math.PI*2,v=r.map((S,P)=>{var R;return{id:S.id,pct:(R=i[S.id])!=null?R:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*P)} 60% 55%)`}});let w=0;return v.map(S=>{const P=(S.pct||0)/100;if(P<=0)return null;const R=w,B=w+x*P;w=B;const L=B-R>Math.PI?1:0,T=130+100*Math.cos(R),y=130+100*Math.sin(R),j=130+100*Math.cos(B),M=130+100*Math.sin(B),C=130+64*Math.cos(B),_=130+64*Math.sin(B),A=130+64*Math.cos(R),D=130+64*Math.sin(R),I=`M ${T} ${y} A 100 100 0 ${L} 1 ${j} ${M} L ${C} ${_} A 64 64 0 ${L} 0 ${A} ${D} Z`;return s.jsx("path",{d:I,fill:S.color,opacity:.95},S.id)})})()]}),s.jsx("div",{className:os.legend,children:r.map((d,u)=>{var x,v;const m=(x=i[d.id])!=null?x:0,p=(v=o[d.id])!=null?v:0;return s.jsxs("div",{className:os.legendItem,title:`${d.name}: ${p}  ${Ap(m)}`,children:[s.jsx("span",{className:os.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:d.name}),s.jsxs("span",{className:os.legendRight,children:[p,"  ",Ap(m)]})]},d.id)})})]}),s.jsx("div",{className:os.centerLabel,children:"Anteile je Klasse"})]})},ks={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},KG=t=>{var e,n,r,i,o,c,d,u,m,p,x,v,w,S,P;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(n=t.class)!=null?n:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(o=t.lastActivityMs)!=null?o:null,server:null,baseStats:{main:(c=t.baseMain)!=null?c:void 0,con:(d=t.conBase)!=null?d:void 0,sumBaseTotal:(u=t.sumBaseTotal)!=null?u:void 0},totalStats:(m=t.totalStats)!=null?m:void 0,values:{treasury:(p=t.treasury)!=null?p:void 0,mine:(x=t.mine)!=null?x:void 0,attrTotal:(v=t.attrTotal)!=null?v:void 0,conTotal:(w=t.conTotal)!=null?w:void 0,lastScan:(S=t.lastScan)!=null?S:void 0,lastActivity:(P=t.lastActivity)!=null?P:void 0}}},Bx=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},QG=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function E3({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:ks.tile,border:`1px solid ${ks.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:ks.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:ks.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Rd({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:ks.title},children:e})]})}function XG({guild:t}){var n,r;const e=Eu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(E3,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Rd,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Rd,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Rd,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Rd,{k:"Inaktiv",v:"0"}),s.jsx(Rd,{k:"Aktivitt",v:"100%"})]})})]})}function $x(){var R,B,L,T,y,j;const t=$p(),e=t.id||t.gid||t.guildId||t.guild||"",n=Pr(),[r,i]=E.useState(!0),[o,c]=E.useState(null),[d,u]=E.useState(null),[m,p]=E.useState(null),[x,v]=E.useState("grid"),w=E.useMemo(()=>(Array.isArray(Ps)?Ps:[]).map(HG).filter(Boolean),[]);E.useEffect(()=>{let M=!1;async function C(){var _,A,D,I,V,$,W,z,q,Q,H,te,re,G,se,de,ee,fe,Te,xe,Ce,Ne,ue,De,Ee,st,ut,ss,Hs,Gs,Pn,Ws,Ls,Ds,Ln,vn,yn;i(!0),c(null);try{const ds=e.trim();if(!ds){c("Keine Gilde gewhlt."),i(!1);return}const Xt=ps(Rt,`guilds/${ds}/latest/latest`),Gt=await ur(Xt);if(!Gt.exists()){c("Gilde nicht gefunden."),i(!1);return}const Dt=Gt.data(),ai=(D=(A=Dt.name)!=null?A:(_=Dt.values)==null?void 0:_.Name)!=null?D:ds,Xn=($=(V=Dt.server)!=null?V:(I=Dt.values)==null?void 0:I.Server)!=null?$:null,mr=(H=Bx((Q=(z=Dt.memberCount)!=null?z:(W=Dt.values)==null?void 0:W["Guild Member Count"])!=null?Q:(q=Dt.values)==null?void 0:q.GuildMemberCount))!=null?H:null,pr=(xe=Bx((Te=(ee=(se=(re=Dt.hofRank)!=null?re:(te=Dt.values)==null?void 0:te["Hall of Fame Rank"])!=null?se:(G=Dt.values)==null?void 0:G.HoF)!=null?ee:(de=Dt.values)==null?void 0:de.Rank)!=null?Te:(fe=Dt.values)==null?void 0:fe["Guild Rank"]))!=null?xe:null,oi=QG(Bx(Dt.timestamp));M||u({id:ds,name:ai,server:Xn,memberCount:mr,hofRank:pr,lastScanDays:oi});const li=ps(Rt,`guilds/${ds}/snapshots/members_summary`),Dr=await ur(li);if(Dr.exists()&&!M){const Wt=Dr.data(),fr={guildId:String((Ce=Wt.guildId)!=null?Ce:ds),updatedAt:String((De=(ue=Wt.updatedAt)!=null?ue:(Ne=Dt.values)==null?void 0:Ne.Timestamp)!=null?De:""),updatedAtMs:Number((st=(Ee=Wt.updatedAtMs)!=null?Ee:Dt.timestamp*1e3)!=null?st:0),count:Number((ut=Wt.count)!=null?ut:0),hash:String((ss=Wt.hash)!=null?ss:""),avgLevel:(Hs=Wt.avgLevel)!=null?Hs:null,avgTreasury:(Gs=Wt.avgTreasury)!=null?Gs:null,avgMine:(Pn=Wt.avgMine)!=null?Pn:null,avgBaseMain:(Ws=Wt.avgBaseMain)!=null?Ws:null,avgConBase:(Ls=Wt.avgConBase)!=null?Ls:null,avgSumBaseTotal:(Ds=Wt.avgSumBaseTotal)!=null?Ds:null,avgAttrTotal:(Ln=Wt.avgAttrTotal)!=null?Ln:null,avgConTotal:(vn=Wt.avgConTotal)!=null?vn:null,avgTotalStats:(yn=Wt.avgTotalStats)!=null?yn:null,members:Array.isArray(Wt.members)?Wt.members:[]};p(fr)}}catch(ds){M||c((ds==null?void 0:ds.message)||"Fehler beim Laden.")}finally{M||i(!1)}}return C(),()=>{M=!0}},[e]);const S=E.useMemo(()=>{var M;return((M=m==null?void 0:m.members)!=null?M:[]).map(C=>KG(C))},[m]);if(r)return s.jsx(xt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:ks.soft},children:"Lade Gildenprofil"})});if(!d)return s.jsx(xt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:ks.soft},children:[o!=null?o:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const P=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${ks.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:ks.tile,border:`1px solid ${ks.line}`,color:ks.title},children:(R=d.server)!=null?R:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:ks.title,fontSize:26,lineHeight:1.15},children:d.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:ks.soft},children:["Zuletzt aktualisiert:",m!=null&&m.updatedAt?m.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:ks.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(xt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[P,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(XG,{guild:d})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(yG,{guild:d,snapshot:m,emblemUrl:Eu(d.name,512)||void 0,colors:ks}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(Rz,{guildName:d.name,server:(B=d.server)!=null?B:"",emblemUrl:Eu(d.name,512)||void 0,lastScanISO:m!=null&&m.updatedAtMs?new Date(m.updatedAtMs).toISOString():void 0,members:(L=d.memberCount)!=null?L:0,avgLevel:(T=m==null?void 0:m.avgLevel)!=null?T:0,totalPower:(y=m==null?void 0:m.avgTotalStats)!=null?y:void 0,tickerItems:m!=null&&m.updatedAt?[`Updated ${m.updatedAt}`,`Members ${(j=d.memberCount)!=null?j:0}`]:void 0})})}),s.jsx(YG,{members:S,guildId:d.id,guildName:d.name,guildServer:d.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:s.jsx(Za,{text:"Klassenbersicht",tone:x==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:s.jsx(Za,{text:"Klassenverteilung",tone:x==="donut"?"accent":"default"})})]}),x==="grid"?s.jsx(WG,{data:S,classMeta:w,onPickClass:M=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",M),window.location.href=C.toString()}}):s.jsx(qG,{data:S,classMeta:w})]})]})})]})}function YG({members:t,guildId:e,guildName:n,guildServer:r}){const[i,o]=E.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:ks.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===i;return s.jsx("button",{role:"tab","aria-selected":d,onClick:()=>o(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?ks.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:ks.title},children:c},c)})}),s.jsxs(E3,{children:[i==="bersicht"&&s.jsx(Iz,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:ks.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&s.jsx(TH,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:ks.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function JG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(ij,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(ij,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function ij({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function ZG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function eW(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Vs={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function aj({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function tW({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function Yl({label:t,value:e}){return s.jsxs("div",{style:{background:Vs.tileAlt,border:`1px solid ${Vs.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:Vs.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:Vs.title,fontWeight:700},children:e})]})}function sW(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),o=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const u=d[1],m=String(parseInt(d[2],10)),p=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();c=`s${m}.sfgame.${p}`}return Array.from(new Set([e,n,r,i,o,c].filter(Boolean)))}function Vx(){var P,R,B,L;const t=$p(),e=Pr(),n=Qn(),r=t.id||t.sid||t.serverId||t.server||"",[i,o]=E.useState(!0),[c,d]=E.useState(null),[u,m]=E.useState(null),[p,x]=E.useState(null);E.useEffect(()=>{let T=!1;async function y(){o(!0),d(null),m(null),x(null);try{const j=r.trim();if(!j)throw new Error("Kein Server gewhlt.");const M=ps(Rt,`servers/${j}`),C=await ur(M);if(C.exists()){T||(m(C.id),x(C.data()));return}const _=Uu(Rt,"servers"),A=sW(j),D=[];for(const W of A)D.push(rn(En(_,qo("code","==",W),In(1)))),D.push(rn(En(_,qo("displayName","==",W),In(1)))),D.push(rn(En(_,qo("host","==",W),In(1))));const I=await Promise.allSettled(D);let V=null,$=null;for(const W of I){if(W.status!=="fulfilled")continue;const z=W.value;if(!z.empty){const q=z.docs[0];V=q.id,$=q.data();break}}if(!V||!$)throw new Error("Server nicht gefunden.");T||(m(V),x($),V!==j&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:n.pathname}}))}catch(j){T||d((j==null?void 0:j.message)||"Fehler beim Laden.")}finally{T||o(!1)}}return y(),()=>{T=!0}},[r,e,n.pathname]);const v=E.useMemo(()=>s.jsxs("div",{style:{padding:24,color:Vs.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Vs.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return s.jsx(xt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:Vs.textSoft},children:"Lade Serverprofil"})});if(!p)return s.jsx(xt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const w=p.displayName||p.code||u||r,S=p.active===!0?"Aktiv":p.active===!1?"Inaktiv":"";return s.jsxs(xt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Vs.line}`},children:s.jsxs(aj,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(tW,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:Vs.title,fontWeight:700},children:w}),s.jsxs("div",{style:{fontSize:12,color:Vs.textSoft},children:[p.host||"","  ",p.region||"","  ",((P=p.type)==null?void 0:P.toUpperCase())||""]})]})]})}),s.jsxs(aj,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:Vs.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Vs.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:Vs.title,fontSize:24,fontWeight:800},children:w}),s.jsxs("div",{style:{marginTop:6,color:Vs.textSoft,fontSize:13},children:[p.host||"","  ",p.region||"","  ",((R=p.type)==null?void 0:R.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:Vs.textSoft},children:["Status: ",S]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:p.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(Yl,{label:"Code",value:p.code||""}),s.jsx(Yl,{label:"Host",value:p.host||""}),s.jsx(Yl,{label:"Region",value:p.region||""}),s.jsx(Yl,{label:"Typ",value:((B=p.type)==null?void 0:B.toUpperCase())||""}),s.jsx(Yl,{label:"Numeric ID",value:(L=p.numericId)!=null?L:""}),s.jsx(Yl,{label:"Status",value:S})]}),s.jsxs("div",{style:{marginTop:16,background:Vs.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Vs.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Vs.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const nW="_page_177kv_1",rW="_sectionCard_177kv_15",iW="_identityCard_177kv_29",aW="_identityGrid_177kv_39",oW="_profileName_177kv_63",lW="_identityMeta_177kv_77",cW="_mainCharacter_177kv_95",dW="_characterHeader_177kv_117",uW="_characterTitle_177kv_131",hW="_characterSubtitle_177kv_143",mW="_classIcon_177kv_153",pW="_metaGrid_177kv_181",fW="_metaLabel_177kv_193",gW="_metaValue_177kv_207",xW="_portrait_177kv_217",vW="_sectionHeader_177kv_245",yW="_sectionHint_177kv_265",bW="_bioText_177kv_275",_W="_tagGroups_177kv_295",wW="_tagGroupLabel_177kv_309",jW="_tagList_177kv_323",SW="_tag_177kv_295",NW="_showcaseGrid_177kv_353",kW="_characterCard_177kv_365",CW="_characterCardHeader_177kv_385",TW="_characterName_177kv_399",AW="_badge_177kv_411",EW="_characterMeta_177kv_433",IW="_characterStats_177kv_449",RW="_statGrid_177kv_465",PW="_statTile_177kv_477",LW="_statLabel_177kv_491",DW="_statValue_177kv_505",MW="_statSubtext_177kv_519",FW="_emptyState_177kv_531",BW="_recordsHighlights_177kv_551",$W="_highlightCard_177kv_565",VW="_recordType_177kv_579",OW="_recordTitle_177kv_593",UW="_timeline_177kv_607",zW="_timelineItem_177kv_625",HW="_timelineBullet_177kv_635",GW="_timelineContent_177kv_653",WW="_timelineTitle_177kv_661",qW="_timelineMeta_177kv_673",KW="_achievementsHighlights_177kv_685",QW="_achievementCard_177kv_699",XW="_achievementIcon_177kv_723",YW="_achievementName_177kv_747",JW="_achievementDesc_177kv_759",ZW="_achievementTier_177kv_771",eq="_achievementDate_177kv_785",tq="_achievementsGrid_177kv_795",sq="_achievementBadge_177kv_807",nq="_tierGold_177kv_831",rq="_tierSilver_177kv_839",iq="_tierBronze_177kv_847",Ae={page:nW,sectionCard:rW,identityCard:iW,identityGrid:aW,profileName:oW,identityMeta:lW,mainCharacter:cW,characterHeader:dW,characterTitle:uW,characterSubtitle:hW,classIcon:mW,metaGrid:pW,metaLabel:fW,metaValue:gW,portrait:xW,sectionHeader:vW,sectionHint:yW,bioText:bW,tagGroups:_W,tagGroupLabel:wW,tagList:jW,tag:SW,showcaseGrid:NW,characterCard:kW,characterCardHeader:CW,characterName:TW,badge:AW,characterMeta:EW,characterStats:IW,statGrid:RW,statTile:PW,statLabel:LW,statValue:DW,statSubtext:MW,emptyState:FW,recordsHighlights:BW,highlightCard:$W,recordType:VW,recordTitle:OW,timeline:UW,timelineItem:zW,timelineBullet:HW,timelineContent:GW,timelineTitle:WW,timelineMeta:qW,achievementsHighlights:KW,achievementCard:QW,achievementIcon:XW,achievementName:YW,achievementDesc:JW,achievementTier:ZW,achievementDate:eq,achievementsGrid:tq,achievementBadge:sq,tierGold:nq,tierSilver:rq,tierBronze:iq},aq={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},oq=1e3*60*60*24,oj={gold:3,silver:2,bronze:1};function lq(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/oq)}function Mm(t){const e=new Date(t);return Number.isNaN(e.getTime())?Ze("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function cq(){const{profileId:t}=$p(),e=aq,n=lq(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(p=>p.type==="record").slice(0,3),o=[...e.achievements].sort((p,x)=>oj[x.tier]-oj[p.tier]).slice(0,3),c=[{label:Ze("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:Ze("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:Ze("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:Ze("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],d=n==null?Ze("profile.public.identity.dateUnknown"):n===0?Ze("profile.public.identity.lastScanToday"):`${n} ${Ze("profile.public.identity.daysAgoSuffix")}`,u=Ze("profile.public.identity.portraitPlaceholder"),m=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):Ze("profile.public.identity.unknownValue");return s.jsx(xt,{title:Ze("profile.public.title"),subtitle:Ze("profile.public.subtitle"),centerFramed:!1,padded:!0,children:s.jsxs("div",{className:Ae.page,children:[s.jsx("section",{className:`${Ae.sectionCard} ${Ae.identityCard}`,children:s.jsxs("div",{className:Ae.identityGrid,children:[s.jsxs("div",{children:[s.jsx("h1",{className:Ae.profileName,children:e.profileUser.displayName}),s.jsxs("div",{className:Ae.identityMeta,children:[s.jsxs("span",{children:[Ze("profile.public.identity.profileIdLabel"),": ",t!=null?t:Ze("profile.public.identity.unknownValue")]}),s.jsxs("span",{children:[Ze("profile.public.identity.lastScanLabel"),": ",d]})]}),s.jsxs("article",{className:Ae.mainCharacter,children:[s.jsxs("div",{className:Ae.characterHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.metaLabel,children:Ze("profile.public.identity.mainCharacterLabel")}),s.jsx("div",{className:Ae.characterTitle,children:e.mainCharacter.name}),s.jsxs("div",{className:Ae.characterSubtitle,children:[e.mainCharacter.class,"  ",Ze("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),s.jsx("div",{className:Ae.classIcon,children:e.mainCharacter.class.charAt(0)})]}),s.jsxs("div",{className:Ae.metaGrid,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.metaLabel,children:Ze("profile.public.identity.serverLabel")}),s.jsx("div",{className:Ae.metaValue,children:e.mainCharacter.server})]}),s.jsxs("div",{children:[s.jsx("div",{className:Ae.metaLabel,children:Ze("profile.public.identity.guildLabel")}),s.jsx("div",{className:Ae.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),s.jsx("div",{className:Ae.portrait,children:u})]})}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsx("div",{className:Ae.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.bio.title")})}),s.jsx("p",{className:Ae.bioText,children:e.bio}),s.jsxs("div",{className:Ae.tagGroups,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.tagGroupLabel,children:Ze("profile.public.bio.languagesLabel")}),s.jsx("div",{className:Ae.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(p=>s.jsx("span",{className:Ae.tag,children:p.toUpperCase()},p)):s.jsx("span",{className:Ae.tag,children:Ze("profile.public.identity.unknownValue")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:Ae.tagGroupLabel,children:Ze("profile.public.bio.rolesLabel")}),s.jsx("div",{className:Ae.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(p=>s.jsx("span",{className:Ae.tag,children:Ze(`profile.public.roles.${p}`)},p)):s.jsx("span",{className:Ae.tag,children:Ze("profile.public.identity.unknownValue")})})]})]})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsxs("div",{className:Ae.sectionHeader,children:[s.jsx("span",{children:Ze("profile.public.showcase.title")}),s.jsx("span",{className:Ae.sectionHint,children:Ze("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?s.jsx("div",{className:Ae.emptyState,children:Ze("profile.public.showcase.empty")}):s.jsx("div",{className:Ae.showcaseGrid,children:e.showcaseCharacters.map(p=>s.jsxs("article",{className:Ae.characterCard,children:[s.jsxs("div",{className:Ae.characterCardHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ae.characterName,children:p.name}),s.jsxs("div",{className:Ae.characterMeta,children:[s.jsx("span",{children:p.class}),s.jsxs("span",{children:[Ze("profile.public.identity.levelShort")," ",p.level]})]})]}),s.jsx("span",{className:Ae.badge,children:Ze(`profile.public.showcase.tags.${p.tag}`)})]}),s.jsxs("div",{className:Ae.characterMeta,children:[s.jsx("span",{children:p.server}),s.jsx("span",{children:p.guildName})]}),s.jsxs("div",{className:Ae.characterStats,children:[s.jsxs("span",{children:[Ze("profile.public.showcase.scrapbookLabel")," ",p.scrapbookPercent,"%"]}),s.jsxs("span",{children:[Ze("profile.public.showcase.highlightLabel"),": ",p.highlightProgress]})]})]},p.id))})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsx("div",{className:Ae.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.stats.title")})}),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ae.statGrid,children:c.map(p=>s.jsxs("article",{className:Ae.statTile,children:[s.jsx("div",{className:Ae.statLabel,children:p.label}),s.jsx("div",{className:Ae.statValue,children:p.value})]},p.label))}),s.jsxs("div",{className:Ae.statSubtext,children:[Ze("profile.public.stats.topServersLabel"),": ",m]}),s.jsxs("div",{className:Ae.statSubtext,children:[Ze("profile.public.stats.firstScanLabel"),": ",Mm(e.scanStats.firstScanAt)]})]})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsx("div",{className:Ae.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.records.title")})}),e.recordsAndMilestones.length===0?s.jsx("div",{className:Ae.emptyState,children:Ze("profile.public.records.empty")}):s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx("div",{className:Ae.recordsHighlights,children:i.map(p=>s.jsxs("article",{className:Ae.highlightCard,children:[s.jsx("div",{className:Ae.recordType,children:Ze(`profile.public.records.type.${p.type}`)}),s.jsx("div",{className:Ae.recordTitle,children:p.title}),s.jsxs("div",{className:Ae.timelineMeta,children:[Mm(p.when),"  ",p.context]})]},p.id))}),s.jsx("ul",{className:Ae.timeline,children:e.recordsAndMilestones.map(p=>s.jsxs("li",{className:Ae.timelineItem,children:[s.jsx("div",{className:Ae.timelineBullet}),s.jsxs("div",{className:Ae.timelineContent,children:[s.jsx("div",{className:Ae.timelineTitle,children:p.title}),s.jsxs("div",{className:Ae.timelineMeta,children:[Mm(p.when),"  ",p.context]})]})]},p.id))})]})]}),s.jsxs("section",{className:Ae.sectionCard,children:[s.jsxs("div",{className:Ae.sectionHeader,children:[s.jsx("span",{children:Ze("profile.public.achievements.title")}),e.achievements.length>0&&s.jsx("span",{className:Ae.sectionHint,children:Ze("profile.public.achievements.highlights")})]}),e.achievements.length===0?s.jsx("div",{className:Ae.emptyState,children:Ze("profile.public.achievements.empty")}):s.jsxs(s.Fragment,{children:[o.length>0&&s.jsx("div",{className:Ae.achievementsHighlights,children:o.map(p=>s.jsxs("article",{className:Ae.achievementCard,children:[s.jsx("div",{className:[Ae.achievementIcon,p.tier==="gold"?Ae.tierGold:p.tier==="silver"?Ae.tierSilver:Ae.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Ae.achievementTier,children:Ze(`profile.public.achievements.tiers.${p.tier}`)}),s.jsx("div",{className:Ae.achievementName,children:Ze(p.nameKey)}),s.jsx("div",{className:Ae.achievementDesc,children:Ze(p.descriptionKey)}),p.unlockedAt&&s.jsx("div",{className:Ae.achievementDate,children:Mm(p.unlockedAt)})]},p.id))}),s.jsx("div",{className:Ae.achievementsGrid,children:e.achievements.map(p=>s.jsxs("article",{className:Ae.achievementBadge,children:[s.jsx("div",{className:[Ae.achievementIcon,p.tier==="gold"?Ae.tierGold:p.tier==="silver"?Ae.tierSilver:Ae.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Ae.achievementName,children:Ze(p.nameKey)}),s.jsx("div",{className:Ae.achievementDesc,children:Ze(p.descriptionKey)})]},p.id))})]})]})]})})}const dq="_wrap_k6pqt_1",uq="_centerLogoWrap_k6pqt_21",hq="_centerLogoLink_k6pqt_37",mq="_centerLogo_k6pqt_21",pq="_arc_k6pqt_55",fq="_left_k6pqt_57",gq="_right_k6pqt_59",xq="_sub_k6pqt_61",vq="_full_k6pqt_63",yq="_arcItem_k6pqt_65",bq="_iconBtn_k6pqt_71",_q="_active_k6pqt_125",wq="_iconImg_k6pqt_135",jq="_placeholderIcon_k6pqt_139",Sq="_placeholderText_k6pqt_157",Nq="_iconLabel_k6pqt_161",tn={wrap:dq,centerLogoWrap:uq,centerLogoLink:hq,centerLogo:mq,arc:pq,left:fq,right:gq,sub:xq,full:vq,arcItem:yq,iconBtn:bq,active:_q,iconImg:wq,placeholderIcon:jq,placeholderText:Sq,iconLabel:Nq},kq=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Qn();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),m=c.get("sub2"),p=new URL(t,window.location.origin).searchParams,x=p.get("tab"),v=p.get("sub"),w=p.get("sub2");r==="main"?o=d===x:r==="sub"?o=d===x&&!!v&&u===v:o=d===x&&!!v&&u===v&&!!w&&m===w}catch(c){o=!1}return s.jsxs(Mt,{to:t,"aria-label":e,className:[tn.iconBtn,o?tn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:tn.iconImg}):s.jsx("div",{className:tn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:tn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:tn.iconLabel,children:e})]})},Fm=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const u=E.useMemo(()=>{const x=t.length;if(x===0)return[];let v=-90,w=90;e==="left"?(v=90,w=270):e==="sub"||e==="sub2"?n==="left"?(v=90,w=270):(v=-90,w=90):e==="full"&&(v=0,w=360);const S=(w-v)/(x+1),P=r?190:250;return t.map((R,B)=>{const T=(v+S*(B+1))*Math.PI/180;return{it:R,x:Math.cos(T)*P,y:Math.sin(T)*P}})},[t,e,n,r]),m=(()=>{const x={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?x.left=`calc(50% - ${o}px)`:e==="right"?x.left=`calc(50% + ${o}px)`:e==="sub"?x.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(x.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),x})(),p=e==="sub"?"sub":e==="sub2"?"sub2":"main";return s.jsx("div",{className:[tn.arc,e==="left"?tn.left:"",e==="right"?tn.right:"",e==="sub"?tn.sub:"",e==="sub2"?tn.sub2:"",e==="full"?tn.full:""].join(" "),style:m,children:u.map(({it:x,x:v,y:w})=>s.jsx("div",{className:tn.arcItem,style:{transform:`translate(${v}px, ${w}px)`},children:s.jsx(kq,{to:x.to,label:x.label,icon:x.icon,variant:p})},x.key))})},Cq=({logoSrc:t,categories:e})=>{const[n]=nl(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const o=E.useMemo(()=>e.find(T=>T.key===r)||null,[e,r]),c=(o==null?void 0:o.sub)||[],d=E.useMemo(()=>c.find(T=>T.key===i)||null,[c,i]),u=(d==null?void 0:d.sub2)||[],m=(o==null?void 0:o.side)==="left"||(o==null?void 0:o.side)==="right"?o.side:"right",p=E.useRef(null),[x,v]=E.useState(!1),[w,S]=E.useState(220),[P,R]=E.useState(440),[B,L]=E.useState(660);return E.useLayoutEffect(()=>{(()=>{var D,I;const j=((I=(D=p.current)==null?void 0:D.getBoundingClientRect().width)!=null?I:380)/2,C=Math.round(j+60),_=Math.round(C+220),A=Math.round(_+220);S(C),R(_),L(A),v(!0)})()},[]),E.useEffect(()=>{let T=0,y=null,j={main:w,out:P,sup:B};const M=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{T=requestAnimationFrame(()=>{var q,Q;const _=((Q=(q=p.current)==null?void 0:q.getBoundingClientRect().width)!=null?Q:380)/2,D=Math.round(_+60),I=Math.round(D+220),V=Math.round(I+220),$=Math.abs(D-j.main),W=Math.abs(I-j.out),z=Math.abs(V-j.sup);$>1&&S(D),W>1&&R(I),z>1&&L(V),j={main:D,out:I,sup:V}})},120)};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),y!=null&&window.clearTimeout(y),T&&cancelAnimationFrame(T)}},[w,P,B]),s.jsxs("div",{className:tn.wrap,children:[s.jsx("div",{className:tn.centerLogoWrap,children:s.jsx(Mt,{to:"/guidehub",className:tn.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:p,src:t,alt:"Guide Hub",className:tn.centerLogo})})}),x&&s.jsxs(s.Fragment,{children:[s.jsx(Fm,{items:e.filter(T=>T.side==="left").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"left",variant:"main",arcOffset:w}),s.jsx(Fm,{items:e.filter(T=>T.side==="right").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"right",variant:"main",arcOffset:w}),m&&c.length>0&&s.jsx(Fm,{items:c.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub",anchorSide:m,variant:"sub",outerOffset:P,compact:!0}),m&&u.length>0&&s.jsx(Fm,{items:u.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub2",anchorSide:m,variant:"sub2",superOffset:B,compact:!0})]})]})},lj=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],Tq="_topWrap_1vr4p_1",Aq="_divider_1vr4p_19",Eq="_contentArea_1vr4p_53",Iq="_placeholder_1vr4p_65",Rq="_placeholderTitle_1vr4p_79",Pq="_placeholderText_1vr4p_93",Jl={topWrap:Tq,divider:Aq,contentArea:Eq,placeholder:Iq,placeholderTitle:Rq,placeholderText:Pq},Lq="/assets/logo_guidehub-c4zKGdF-.png";function ul({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const Dq=()=>s.jsx(ul,{title:"Game Features"});function ts({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const Mq=()=>s.jsx(ts,{title:"Progression"}),Fq=()=>s.jsx(ts,{title:"Hellevator"}),Bq=()=>s.jsx(ts,{title:"Legendary Dungeon"}),$q=()=>s.jsx(ts,{title:"Events"}),Vq="_card_1rxdx_21",Oq="_hoverLift_1rxdx_51",Uq="_title_1rxdx_63",zq="_body_1rxdx_89",Hq="_iconStack_1rxdx_99",Pd={card:Vq,hoverLift:Oq,title:Uq,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:zq,iconStack:Hq};function Gq({title:t,padding:e="md",hover:n=!0,className:r="",children:i}){return s.jsxs("div",{className:[Pd.card,Pd[`pad-${e}`],n?Pd.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Pd.title,children:t}):null,s.jsx("div",{className:Pd.body,children:i})]})}const Wq=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],qq="_grid_1amcc_3",Kq="_tileBtn_1amcc_45",Qq="_wrap_1amcc_87",Xq="_headerBar_1amcc_99",Yq="_title_1amcc_117",Ld={grid:qq,tileBtn:Kq,wrap:Qq,headerBar:Xq,title:Yq};function Jq(){const[t,e]=nl(),n=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return s.jsxs("div",{className:Ld.wrap,children:[s.jsx("div",{className:Ld.headerBar,children:s.jsx("h2",{className:Ld.title,children:"Calculators"})}),s.jsx("div",{className:Ld.grid,children:Wq.map(r=>s.jsx("button",{className:Ld.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(Gq,{title:r.title,padding:"md",hover:!0,children:s.jsx(s.Fragment,{children:" "})})},r.slug))})]})}const Zq=()=>s.jsx(ts,{title:"Infographics (Dropdown inside page)"}),eK=()=>s.jsx(ts,{title:"Class book"}),tK=()=>s.jsx(ts,{title:"Dungeons"}),sK=()=>s.jsx(ul,{title:"Fortress"}),nK=()=>s.jsx(ul,{title:"Fortress Calculator"}),rK="_wrap_1skhh_7",iK="_headerBar_1skhh_21",aK="_title_1skhh_39",oK="_meta_1skhh_55",lK="_description_1skhh_67",cK="_contentWrapper_1skhh_83",dK="_tableSection_1skhh_97",uK="_table_1skhh_97",hK="_infoBox_1skhh_151",mK="_sectionTitle_1skhh_165",pK="_divider_1skhh_181",Gn={wrap:rK,headerBar:iK,title:aK,meta:oK,description:lK,contentWrapper:cK,tableSection:dK,table:uK,infoBox:hK,sectionTitle:mK,divider:pK};function fK(){return s.jsxs("div",{className:Gn.wrap,children:[s.jsxs("div",{className:Gn.headerBar,children:[s.jsx("h2",{className:Gn.title,children:"Fortress Package skip order"}),s.jsx("span",{className:Gn.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:Gn.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:Gn.contentWrapper,children:[s.jsxs("section",{className:Gn.tableSection,children:[s.jsx("h3",{className:Gn.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:Gn.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:Gn.infoBox,children:[s.jsx("h3",{className:Gn.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:Gn.divider}),s.jsx("h3",{className:Gn.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:Gn.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const gK=()=>s.jsx(ul,{title:"Fortress attack duplication guide"}),xK=()=>s.jsx(ul,{title:"Underworld"}),vK=()=>s.jsx(ul,{title:"Underworld Calculator"}),yK=()=>s.jsx(ul,{title:"Underworld Pro Package skip order"}),bK=()=>s.jsx(ts,{title:"Arena / AM"}),_K="_wrap_mm7x0_5",wK="_headerBar_mm7x0_19",jK="_title_mm7x0_37",SK="_meta_mm7x0_51",NK="_description_mm7x0_63",kK="_controls_mm7x0_79",CK="_search_mm7x0_83",TK="_tableWrap_mm7x0_119",AK="_table_mm7x0_119",EK="_thead_mm7x0_143",IK="_th_mm7x0_143",RK="_td_mm7x0_167",PK="_tierCell_mm7x0_179",LK="_amountCell_mm7x0_181",DK="_bonusCell_mm7x0_183",MK="_tags_mm7x0_185",FK="_tierBox_mm7x0_191",BK="_tierIcon_mm7x0_193",$K="_tierTexts_mm7x0_203",VK="_tierName_mm7x0_205",OK="_badge_mm7x0_211",UK="_badgeMax_mm7x0_231",zK="_badgeAchiev_mm7x0_233",HK="_badgeX2_mm7x0_235",GK="_badgeX12_mm7x0_237",WK="_badgeX60_mm7x0_239",qK="_iconHead_mm7x0_245",KK="_achiev_mm7x0_261",QK="_achievImg_mm7x0_263",XK="_dataRow_mm7x0_291",YK="_tierCellHover_mm7x0_311",Be={wrap:_K,headerBar:wK,title:jK,meta:SK,description:NK,controls:kK,search:CK,tableWrap:TK,table:AK,thead:EK,th:IK,td:RK,tierCell:PK,amountCell:LK,bonusCell:DK,tags:MK,tierBox:FK,tierIcon:BK,tierTexts:$K,tierName:VK,badge:OK,badgeMax:UK,badgeAchiev:zK,badgeX2:HK,badgeX12:GK,badgeX60:WK,iconHead:qK,achiev:KK,achievImg:QK,dataRow:XK,tierCellHover:YK};function I3(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function JK(t){const e=t.filter(Boolean).join(" ");return I3(e)}const ZK={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function eQ(t){var n;const e=Array.isArray(t)?JK(t):I3(t!=null?t:"");return(n=ZK[e])!=null?n:null}function yf(t,e=512){var o,c;const n=eQ(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(o=el(n))!=null?o:null,i=r&&(c=Lr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function Xo(t,e=512){return yf(t,e).thumb}const Ma={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},cj={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Fa({keyName:t,label:e}){const n=yf(t,36);return s.jsxs("div",{className:Be.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function tQ({name:t}){const e=Object.keys(cj).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=yf(e?cj[e]:"achiev_generic",16);return s.jsxs("div",{className:Be.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:Be.achievImg}),s.jsx("span",{children:t})]})}const Ep=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function Ox(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function sQ(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function nQ(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const dj={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},rQ="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function iQ(t){const e=t.trim().toLowerCase();return e?Ep.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Ep}function aQ(){const[t,e]=E.useState(""),[n,r]=E.useState(null),i=iQ(t),o=E.useMemo(()=>Math.max(...Ep.map(d=>Ox(d.amount))),[]),c=E.useMemo(()=>{const d=new Map;for(const m of i)d.has(m.tier)||d.set(m.tier,[]),d.get(m.tier).push(m);const u=Array.from(new Set(Ep.map(m=>m.tier)));return Array.from(d.entries()).sort((m,p)=>u.indexOf(m[0])-u.indexOf(p[0]))},[i]);return s.jsxs("div",{className:Be.wrap,children:[s.jsxs("div",{className:Be.headerBar,children:[s.jsx("h2",{className:Be.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:Be.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:Be.description,children:rQ}),s.jsx("div",{className:Be.controls,children:s.jsx("input",{className:Be.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),s.jsx("div",{className:Be.tableWrap,children:s.jsxs("table",{className:Be.table,children:[s.jsx("thead",{className:Be.thead,children:s.jsxs("tr",{className:Be.headRow,children:[s.jsx("th",{className:`${Be.th} ${Be.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${Be.th} ${Be.amountCell}`,children:"Amount"}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.gold,label:"Gold Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.xp,label:"XP Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.hp,label:"HP Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.elem,label:"Elemental Damage"})}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.item,label:"Improved Item Quality"})}),s.jsx("th",{className:Be.th,children:s.jsx(Fa,{keyName:Ma.epics,label:"Chances of Epics"})}),s.jsx("th",{className:Be.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([d,u])=>{const m=Math.max(...u.map(p=>Ox(p.amount)));return u.map((p,x)=>{var S,P,R,B,L,T,y,j;const v=Math.abs(Ox(p.amount)-o)<1e-6,w=nQ(p.note);return s.jsxs("tr",{className:Be.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[x===0&&s.jsx("td",{className:`${Be.td} ${Be.tierCell} ${Math.abs(m-o)<1e-6?Be.tierMax:""} ${n===d?Be.tierCellHover:""}`,rowSpan:u.length,children:s.jsxs("div",{className:Be.tierBox,children:[s.jsx("div",{className:Be.tierIcon,children:d.slice(0,1).toUpperCase()}),s.jsxs("div",{className:Be.tierTexts,children:[s.jsx("div",{className:Be.tierName,children:d}),dj[d]&&s.jsx(tQ,{name:dj[d]})]})]})}),s.jsx("td",{className:`${Be.td} ${Be.amountCell}`,children:p.amount}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(S=p.gold)!=null?S:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(P=p.xp)!=null?P:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(R=p.hp)!=null?R:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(B=p.totalRes)!=null?B:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(L=p.singleRes)!=null?L:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(T=p.elemDmg)!=null?T:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(y=p.itemQuality)!=null?y:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(j=p.epics)!=null?j:""}),s.jsxs("td",{className:`${Be.td} ${Be.tags}`,children:[v&&s.jsx("span",{className:`${Be.badge} ${Be.badgeMax}`,children:"MAX"}),sQ(p.note)&&s.jsx("span",{className:`${Be.badge} ${Be.badgeAchiev}`,children:"Achievement"}),w==="x2"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX2}`,children:"x2"}),w==="x12"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX12}`,children:"x12"}),w==="x60"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX60}`,children:"x60"}),w==="x8"&&s.jsx("span",{className:Be.badge,children:"x8"})]})]},`${d}-${x}`)})})})]})})]})}const oQ="_wrap_zrza7_11",lQ="_headerBar_zrza7_15",cQ="_title_zrza7_31",dQ="_meta_zrza7_33",uQ="_centerCol_zrza7_37",hQ="_text_zrza7_53",mQ="_imageBox_zrza7_55",pQ="_imageFallback_zrza7_57",fQ="_credit_zrza7_59",Wi={wrap:oQ,headerBar:lQ,title:cQ,meta:dQ,centerCol:uQ,text:hQ,imageBox:mQ,imageFallback:pQ,credit:fQ};function gQ(){const t=yf("ambuildorder"),e=E.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=E.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||n||r;return s.jsxs("div",{className:Wi.wrap,children:[s.jsxs("div",{className:Wi.headerBar,children:[s.jsx("h2",{className:Wi.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:Wi.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:Wi.centerCol,children:[s.jsxs("div",{className:Wi.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?s.jsx("div",{className:Wi.imageBox,children:s.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:Wi.imageFallback,children:""}),s.jsxs("p",{className:Wi.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const xQ=()=>s.jsx(ts,{title:"Hellevator Guide"}),vQ=()=>s.jsx(ts,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),yQ=()=>s.jsx(ts,{title:"Event List"}),bQ=()=>s.jsx(ts,{title:"Event Cycle"}),_Q="_foCalc_18a5w_3",wQ="_panel_18a5w_211",jQ="_panelHead_18a5w_227",SQ="_panelTitle_18a5w_241",NQ="_controls_18a5w_243",kQ="_ctrlLabel_18a5w_245",CQ="_ctrlSelect_18a5w_249",TQ="_tableWrap_18a5w_291",AQ="_table_18a5w_291",EQ="_th_18a5w_305",IQ="_td_18a5w_321",RQ="_row_18a5w_333",PQ="_note_18a5w_335",is={foCalc:_Q,panel:wQ,panelHead:jQ,panelTitle:SQ,controls:NQ,ctrlLabel:kQ,ctrlSelect:CQ,tableWrap:TQ,table:AQ,th:EQ,td:IQ,row:RQ,note:PQ},R3={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},vs=(t,e=0)=>t*3600+e*60,ne=[vs(0,15),vs(0,31),vs(1,6),vs(2,20),vs(5,0),vs(8,0),vs(11,25),vs(18,27),vs(40,0),vs(87,16),vs(190,46),vs(320,0),vs(480,0),vs(615,33),vs(800,0)],jt=[vs(1054,17),vs(1122,51),vs(1245,42),vs(1343,20),vs(1440,0)],LQ={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:ne[0]},{level:2,wood:150,stone:50,gold:20,timeSec:ne[1]},{level:3,wood:440,stone:140,gold:30,timeSec:ne[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:ne[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:ne[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:ne[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:ne[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:ne[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:ne[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:ne[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:ne[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:ne[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:jt[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:jt[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:jt[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:jt[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:jt[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:ne[0]},{level:2,wood:138,stone:46,gold:10,timeSec:ne[1]},{level:3,wood:406,stone:129,gold:15,timeSec:ne[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:ne[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:ne[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:ne[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:ne[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:ne[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:ne[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:ne[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:ne[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:ne[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:ne[0]},{level:2,wood:28,stone:37,gold:14,timeSec:ne[1]},{level:3,wood:81,stone:103,gold:21,timeSec:ne[2]},{level:4,wood:203,stone:246,gold:28,timeSec:ne[3]},{level:5,wood:462,stone:591,gold:35,timeSec:ne[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:ne[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:ne[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:ne[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:ne[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:ne[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:ne[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:ne[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:ne[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:ne[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:ne[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:jt[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:jt[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:jt[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:jt[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:jt[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:ne[0]},{level:2,wood:160,stone:53,gold:50,timeSec:ne[1]},{level:3,wood:469,stone:149,gold:75,timeSec:ne[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:ne[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:ne[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:ne[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:ne[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:ne[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:ne[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:ne[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:ne[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:ne[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:ne[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:ne[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:ne[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:ne[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:ne[0]},{level:2,wood:200,stone:67,gold:30,timeSec:ne[1]},{level:3,wood:587,stone:187,gold:45,timeSec:ne[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:ne[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:ne[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:ne[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:ne[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:ne[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:ne[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:ne[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:ne[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:ne[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:jt[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:jt[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:jt[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:jt[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:jt[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:vs(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:ne[0]},{level:2,wood:30,stone:20,gold:4,timeSec:ne[1]},{level:3,wood:88,stone:56,gold:6,timeSec:ne[2]},{level:4,wood:220,stone:133,gold:8,timeSec:ne[3]},{level:5,wood:500,stone:320,gold:10,timeSec:ne[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:ne[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:ne[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:ne[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:ne[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:ne[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:ne[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:ne[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:ne[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:ne[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:ne[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:jt[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:jt[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:jt[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:jt[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:jt[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:ne[0]},{level:2,wood:90,stone:16,gold:6,timeSec:ne[1]},{level:3,wood:264,stone:45,gold:9,timeSec:ne[2]},{level:4,wood:660,stone:107,gold:12,timeSec:ne[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:ne[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:ne[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:ne[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:ne[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:ne[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:ne[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:ne[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:ne[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:ne[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:ne[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:ne[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:jt[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:jt[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:jt[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:jt[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:jt[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:ne[0]},{level:2,wood:82,stone:55,gold:8,timeSec:ne[1]},{level:3,wood:240,stone:153,gold:12,timeSec:ne[2]},{level:4,wood:600,stone:364,gold:16,timeSec:ne[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:ne[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:ne[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:ne[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:ne[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:ne[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:ne[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:ne[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:ne[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:ne[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:ne[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:ne[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:ne[0]},{level:2,wood:100,stone:33,gold:8,timeSec:ne[1]},{level:3,wood:293,stone:93,gold:12,timeSec:ne[2]},{level:4,wood:733,stone:222,gold:16,timeSec:ne[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:ne[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:ne[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:ne[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:ne[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:ne[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:ne[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:ne[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:ne[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:ne[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:ne[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:ne[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:jt[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:jt[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:jt[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:jt[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:jt[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:ne[0]},{level:2,wood:240,stone:61,gold:12,timeSec:ne[1]},{level:3,wood:675,stone:205,gold:18,timeSec:ne[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:ne[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:ne[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:ne[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:ne[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:ne[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:ne[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:ne[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:ne[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:ne[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:ne[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:ne[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:ne[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:ne[0]},{level:2,wood:164,stone:27,gold:10,timeSec:ne[1]},{level:3,wood:480,stone:76,gold:15,timeSec:ne[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:ne[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:ne[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:ne[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:ne[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:ne[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:ne[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:ne[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:ne[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:ne[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:ne[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:ne[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:ne[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:ne[0]},{level:2,wood:120,stone:53,gold:30,timeSec:ne[1]},{level:3,wood:352,stone:149,gold:45,timeSec:ne[2]},{level:4,wood:880,stone:356,gold:60,timeSec:ne[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:ne[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:ne[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:ne[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:ne[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:ne[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:ne[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:ne[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:ne[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:ne[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:ne[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:ne[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:jt[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:jt[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:jt[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:jt[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:jt[4]}]}},DQ=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],MQ="fortress",FQ={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function BQ(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function uj(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,o=c=>c.toString().padStart(2,"0");return`${o(n)}:${o(r)}:${o(i)}`}const $Q=()=>{const[t,e]=E.useState(MQ),[n,r]=E.useState(1),i=E.useMemo(()=>{var p;const d=FQ[t],u=R3[d],m=(p=u==null?void 0:u.id)!=null?p:u;return el.gifProxy(m)||el.gif(m)||""},[t]),o=E.useMemo(()=>{var d,u;return(u=(d=LQ[t])==null?void 0:d.costs)!=null?u:[]},[t]),c=E.useMemo(()=>BQ(n),[n]);return s.jsxs("div",{className:`${is.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:DQ.map(d=>s.jsx("option",{value:d.key,children:d.label},d.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:is.panel,children:[s.jsxs("div",{className:is.panelHead,children:[s.jsxs("div",{className:is.panelTitle,children:["Fortress  ",t]}),s.jsxs("div",{className:is.controls,children:[s.jsx("span",{className:is.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{className:is.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:16},(d,u)=>u).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:is.tableWrap,children:s.jsxs("table",{className:is.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:is.th,children:"Level"}),s.jsx("th",{className:is.th,children:"Wood"}),s.jsx("th",{className:is.th,children:"Stone"}),s.jsx("th",{className:is.th,children:"Build Time"}),s.jsx("th",{className:is.th,children:"Build Time (L2)"}),s.jsx("th",{className:is.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:o.map(d=>{var x,v,w,S,P,R,B;const u=(x=d.timeSec)!=null?x:0,m=Math.round(u*(1-c)),p=Math.ceil(Math.ceil(m/60)/10);return s.jsxs("tr",{className:is.row,children:[s.jsx("td",{className:is.td,children:d.level}),s.jsx("td",{className:is.td,children:(S=(w=(v=d.wood)==null?void 0:v.toLocaleString)==null?void 0:w.call(v))!=null?S:d.wood}),s.jsx("td",{className:is.td,children:(B=(R=(P=d.stone)==null?void 0:P.toLocaleString)==null?void 0:R.call(P))!=null?B:d.stone}),s.jsx("td",{className:is.td,children:uj(u)}),s.jsx("td",{className:is.td,children:uj(m)}),s.jsx("td",{className:is.td,children:p.toLocaleString()})]},d.level)})})]})}),s.jsx("div",{className:is.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},VQ="_uwCalc_64lws_3",OQ="_panel_64lws_211",UQ="_panelHead_64lws_227",zQ="_panelTitle_64lws_241",HQ="_controls_64lws_243",GQ="_ctrlLabel_64lws_245",WQ="_ctrlSelect_64lws_251",qQ="_tableWrap_64lws_295",KQ="_table_64lws_295",QQ="_th_64lws_309",XQ="_td_64lws_325",YQ="_row_64lws_337",JQ="_note_64lws_339",Qt={uwCalc:VQ,panel:OQ,panelHead:UQ,panelTitle:zQ,controls:HQ,ctrlLabel:GQ,ctrlSelect:WQ,tableWrap:qQ,table:KQ,th:QQ,td:XQ,row:YQ,note:JQ},ZQ={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},eX={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function tX(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function sX(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),o=n%60;return{h:r,m:i,s:o}}function hj(t){const{h:e,m:n,s:r}=sX(t),i=o=>String(o).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function nX(t,e){var i,o;const n=tX(e);return((o=(i=eX[t])==null?void 0:i.costs)!=null?o:[]).map(c=>{const d=c.timeSec*(1-n),u=Math.ceil(Math.ceil(d/60)/10);return{...c,timeAdjSec:d,skipMushroomsAdj:u}})}const rX=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],iX=()=>{const[t,e]=E.useState("hearthofdarkngif"),[n,r]=E.useState(1),i=E.useMemo(()=>{var m;const d=R3[t],u=(m=d==null?void 0:d.id)!=null?m:d;return el.gifProxy(u)||el.gif(u)||""},[t]),o=E.useMemo(()=>{var d;return(d=ZQ[t])!=null?d:"hearthofdarkn"},[t]),c=E.useMemo(()=>nX(o,n),[o,n]);return s.jsxs("div",{className:Qt.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:rX.map(d=>s.jsx("option",{value:d,children:d.replace(/gif$/i,"")},d))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:Qt.panel,children:[s.jsxs("div",{className:Qt.panelHead,children:[s.jsxs("div",{className:Qt.panelTitle,children:["Underworld  ",o]}),s.jsxs("div",{className:Qt.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:Qt.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{id:"uw-l2",className:Qt.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:15},(d,u)=>u+1).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:Qt.tableWrap,children:s.jsxs("table",{className:Qt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Qt.th,children:"Level"}),s.jsx("th",{className:Qt.th,children:"Soul"}),s.jsx("th",{className:Qt.th,children:"Gold"}),s.jsx("th",{className:Qt.th,children:"Build Time"}),s.jsx("th",{className:Qt.th,children:"Build Time (L2)"}),s.jsx("th",{className:Qt.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:c.length===0?s.jsx("tr",{className:Qt.row,children:s.jsx("td",{className:Qt.td,colSpan:6,children:"No data for this building yet."})}):c.map(d=>s.jsxs("tr",{className:Qt.row,children:[s.jsx("td",{className:Qt.td,children:d.level}),s.jsx("td",{className:Qt.td,children:d.soul}),s.jsx("td",{className:Qt.td,children:d.gold}),s.jsx("td",{className:Qt.td,children:hj(d.timeSec)}),s.jsx("td",{className:Qt.td,children:hj(d.timeAdjSec)}),s.jsx("td",{className:Qt.td,children:d.skipMushroomsAdj})]},d.level))})]})}),s.jsx("p",{className:Qt.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},aX=()=>s.jsx(ts,{title:"Max Item Stats Calculator"}),oX="_wrap_mnr0g_1",lX="_card_mnr0g_13",cX="_title_mnr0g_33",dX="_form_mnr0g_45",uX="_field_mnr0g_57",hX="_input_mnr0g_71",mX="_gemsRow_mnr0g_87",pX="_gemBox_mnr0g_101",fX="_disabled_mnr0g_127",gX="_gemImg_mnr0g_135",xX="_gemFallback_mnr0g_149",vX="_normalGem_mnr0g_165",yX="_blackGem_mnr0g_173",bX="_legendaryGem_mnr0g_181",_X="_gemLabel_mnr0g_189",wX="_gemValue_mnr0g_199",jX="_hint_mnr0g_211",Ct={wrap:oX,card:lX,title:cX,form:dX,field:uX,input:hX,gemsRow:mX,gemBox:pX,disabled:fX,gemImg:gX,gemFallback:xX,normalGem:vX,blackGem:yX,legendaryGem:bX,gemLabel:_X,gemValue:wX,hint:jX},SX={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},NX=.25,Ip=t=>Math.round(Number.isFinite(t)?t:0);function kX(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const R=e*NX*(1+(n-1)*.25)+r/3;return Ip(R)}const{A:i,B:o,C:c,D:d,E:u,F:m,G:p,H:x,I:v,J:w}=SX,P=i+o*e+c/n+d*e**2+u/n**2+m*e/n+p*e**3+x/n**3+v*e/n**2+w*e**2/n+r/3;return Ip(P)}function CX(t){return Ip(t*(2/3))}function TX(t){return Ip(t)}const Ux={char:1e3,mine:100,hok:1e3},AX=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,o]=E.useState(""),c=E.useMemo(()=>t===""||n===""||i===""?null:kX({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(i)}),[t,n,i]),d=E.useMemo(()=>c==null?null:CX(c),[c]),u=E.useMemo(()=>c==null?null:TX(c),[c]),m=Xo("luckbig"),p=Xo("blackbig"),x=Xo("legendarybig");return s.jsx("div",{className:Ct.wrap,children:s.jsxs("div",{className:Ct.card,children:[s.jsx("h2",{className:Ct.title,children:"Gem Calculator"}),s.jsxs("div",{className:Ct.form,children:[s.jsxs("label",{className:Ct.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ct.input,placeholder:"e.g., 360",value:t,onChange:v=>{const w=v.currentTarget.value;if(w==="")return e("");const S=Number(w);e(Number.isFinite(S)?S:"")},max:Ux.char})]}),s.jsxs("label",{className:Ct.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ct.input,placeholder:"e.g., 10",value:n,onChange:v=>{const w=v.currentTarget.value;if(w==="")return r("");const S=Number(w);r(Number.isFinite(S)?S:"")},max:Ux.mine})]}),s.jsxs("label",{className:Ct.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ct.input,placeholder:"e.g., 840",value:i,onChange:v=>{const w=v.currentTarget.value;if(w==="")return o("");const S=Number(w);o(Number.isFinite(S)?S:"")},max:Ux.hok})]})]}),s.jsxs("div",{className:Ct.gemsRow,children:[s.jsxs("div",{className:`${Ct.gemBox} ${c==null?Ct.disabled:""}`,children:[m?s.jsx("img",{className:Ct.gemImg,src:m,alt:"Normal Gem"}):s.jsx("div",{className:`${Ct.gemFallback} ${Ct.normalGem}`}),s.jsx("div",{className:Ct.gemLabel,children:"Normal"}),s.jsx("div",{className:Ct.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${Ct.gemBox} ${d==null?Ct.disabled:""}`,children:[p?s.jsx("img",{className:Ct.gemImg,src:p,alt:"Black Gem"}):s.jsx("div",{className:`${Ct.gemFallback} ${Ct.blackGem}`}),s.jsx("div",{className:Ct.gemLabel,children:"Black"}),s.jsx("div",{className:Ct.gemValue,children:d!=null?d:""})]}),s.jsxs("div",{className:`${Ct.gemBox} ${u==null?Ct.disabled:""}`,children:[x?s.jsx("img",{className:Ct.gemImg,src:x,alt:"Legendary Gem"}):s.jsx("div",{className:`${Ct.gemFallback} ${Ct.legendaryGem}`}),s.jsx("div",{className:Ct.gemLabel,children:"Legendary"}),s.jsx("div",{className:Ct.gemValue,children:u!=null?u:""})]})]}),s.jsxs("p",{className:Ct.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},EX="_container_19zdf_1",IX="_headerBar_19zdf_13",RX="_title_19zdf_31",PX="_meta_19zdf_47",LX="_description_19zdf_59",Dd={container:EX,headerBar:IX,title:RX,meta:PX,description:LX},P3=({title:t,meta:e,description:n})=>s.jsxs("header",{className:Dd.container,children:[s.jsxs("div",{className:Dd.headerBar,children:[s.jsx("h2",{className:Dd.title,children:t}),e&&s.jsx("span",{className:Dd.meta,children:e})]}),n&&s.jsx("p",{className:Dd.description,children:n})]}),DX=()=>s.jsxs(s.Fragment,{children:[s.jsx(P3,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:s.jsxs(s.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]})}),s.jsx(AX,{})]}),MX="_wrapper_67xyv_1",FX="_panel_67xyv_11",BX="_header_67xyv_27",$X="_title_67xyv_41",VX="_resetBtn_67xyv_53",OX="_table_67xyv_73",UX="_row_67xyv_99",zX="_name_67xyv_115",HX="_selectCell_67xyv_125",GX="_sumCell_67xyv_143",WX="_footer_67xyv_155",qX="_footerLine_67xyv_175",KX="_note_67xyv_187",ys={wrapper:MX,panel:FX,header:BX,title:$X,resetBtn:VX,table:OX,row:UX,name:zX,selectCell:HX,sumCell:GX,footer:WX,footerLine:qX,note:KX};function lu(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let o=0;for(let d=r;d<=i;d++)o+=(c=t[d])!=null?c:0;return o}function QX(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function lt(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const XX=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:lt([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:lt([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:lt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:lt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:lt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:lt([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:lt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:lt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:lt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)}],YX=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:lt([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:lt([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:lt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:lt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:lt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:lt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:lt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:lt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)}],mj=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],JX=(()=>{const t=[0,...mj],e=1e3-mj.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),ZX=lt([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),eY=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),Zi={light:XX.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:YX.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:JX,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:ZX,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:eY,specialType:"sandstorm"}]},Rp=t=>t.toLocaleString("en-US");function pj(){const t={},e={},n={};return Zi.light.forEach(r=>t[r.key]={from:0,to:0}),Zi.shadow.forEach(r=>e[r.key]={from:0,to:0}),Zi.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function L3({row:t,range:e,onChange:n}){var d,u;const r=E.useMemo(()=>QX(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,o=(u=e.to)!=null?u:0,c=E.useMemo(()=>i===0||o===0?0:lu(t.levels,i,o),[t.levels,i,o]);return s.jsxs("tr",{className:ys.row,children:[s.jsx("td",{className:ys.name,children:t.name}),s.jsx("td",{className:ys.selectCell,children:s.jsx("select",{value:i,onChange:m=>n({from:Number(m.target.value),to:o}),children:r.map(m=>s.jsx("option",{value:m,children:m===0?"":m},m))})}),s.jsx("td",{className:ys.selectCell,children:s.jsx("select",{value:o,onChange:m=>n({from:i,to:Number(m.target.value)}),children:r.map(m=>s.jsx("option",{value:m,children:m===0?"":m},m))})}),s.jsxs("td",{className:ys.sumCell,children:[Rp(c)," XP"]})]})}function fj({title:t,rows:e,ranges:n,setRanges:r}){const i=E.useMemo(()=>e.reduce((o,c)=>{const d=n[c.key]||{from:0,to:0};return o+lu(c.levels,d.from,d.to)},0),[e,n]);return s.jsxs("div",{className:ys.panel,children:[s.jsx("div",{className:ys.header,children:s.jsx("div",{className:ys.title,children:t})}),s.jsxs("table",{className:ys.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(o=>{var c;return s.jsx(L3,{row:o,range:(c=n[o.key])!=null?c:{from:0,to:0},onChange:d=>r(o.key,d)},o.key)})})]}),s.jsx("div",{className:ys.footer,children:s.jsxs("div",{className:ys.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[Rp(i)," XP"]})]})})]})}function tY(){const t=pj(),[e,n]=E.useState(t.light),[r,i]=E.useState(t.shadow),[o,c]=E.useState(t.special),d=E.useMemo(()=>Zi.light.reduce((v,w)=>{const S=e[w.key];return v+(S?lu(w.levels,S.from,S.to):0)},0),[e]),u=E.useMemo(()=>Zi.shadow.reduce((v,w)=>{const S=r[w.key];return v+(S?lu(w.levels,S.from,S.to):0)},0),[r]),m=E.useMemo(()=>Zi.special.reduce((v,w)=>{const S=o[w.key];return v+(S?lu(w.levels,S.from,S.to):0)},0),[o]),p=d+u+m,x=()=>{const v=pj();n(v.light),i(v.shadow),c(v.special)};return s.jsxs("div",{className:ys.wrapper,children:[s.jsx(fj,{title:"Light World",rows:Zi.light,ranges:e,setRanges:(v,w)=>n(S=>({...S,[v]:w}))}),s.jsx(fj,{title:"Shadow World",rows:Zi.shadow,ranges:r,setRanges:(v,w)=>i(S=>({...S,[v]:w}))}),s.jsxs("div",{className:ys.panel,children:[s.jsxs("div",{className:ys.header,children:[s.jsx("div",{className:ys.title,children:"Special Dungeons"}),s.jsx("button",{className:ys.resetBtn,onClick:x,children:"RESET"})]}),s.jsxs("table",{className:ys.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:Zi.special.map(v=>{var w;return s.jsx(L3,{row:v,range:(w=o[v.key])!=null?w:{from:0,to:0},onChange:S=>c(P=>({...P,[v.key]:S}))},v.key)})})]}),s.jsxs("div",{className:ys.footer,children:[s.jsxs("div",{className:ys.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[Rp(m)," XP"]})]}),s.jsxs("div",{className:ys.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[Rp(p)," XP"]})]}),s.jsxs("div",{className:ys.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function sY(){return s.jsx("div",{style:{padding:12},children:s.jsx(tY,{})})}const nY=()=>s.jsx(ts,{title:"Progression  Early Game"}),rY="_wrap_n2poq_31",iY="_title_n2poq_33",aY="_infoBox_n2poq_39",oY="_infoTitle_n2poq_63",lY="_infoList_n2poq_73",cY="_section_n2poq_89",dY="_h2_n2poq_101",uY="_h3_n2poq_103",hY="_intro_n2poq_105",mY="_ul_n2poq_107",pY="_img_n2poq_113",Bt={wrap:rY,title:iY,infoBox:aY,infoTitle:oY,infoList:lY,section:cY,h2:dY,h3:uY,intro:hY,ul:mY,img:pY},fY=()=>{nl();const t=[Xo("first-weekend-guide-day1",900),Xo("first-weekend-guide-day2",900),Xo("first-weekend-guide-day3",900)];return s.jsxs("div",{className:Bt.wrap,children:[s.jsx("h1",{className:Bt.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:Bt.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:Bt.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:Bt.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:Bt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Day 1"}),s.jsx("h3",{className:Bt.h3,children:"Level 13"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:Bt.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h3",{className:Bt.h3,children:"Level 410"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Day 2"}),s.jsx("h3",{className:Bt.h3,children:"Level 1015"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:Bt.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Day 3"}),s.jsx("h3",{className:Bt.h3,children:"Level 1520"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:Bt.img,src:t[2],alt:"Day 3 overview"})]})]})},gY=()=>s.jsx(ts,{title:"Max Item Stats Calculator"}),xY=()=>s.jsx(ts,{title:"Fortress Package skip order (Early)"}),vY=()=>s.jsx(ts,{title:"Underworld Pro Package skip order (Early)"}),yY=()=>s.jsx(ts,{title:"Gem Calculator (Early)"}),bY=()=>s.jsx(ts,{title:"Fortress attack duplication guide (Early)"}),_Y=()=>s.jsx(ts,{title:"Progression  Mid Game"}),wY="_wrap_1x7jo_31",jY="_header_1x7jo_35",SY="_titles_1x7jo_55",NY="_h1_1x7jo_57",kY="_lead_1x7jo_59",CY="_ctaRow_1x7jo_63",TY="_cta_1x7jo_63",AY="_section_1x7jo_85",EY="_sectionGrid_1x7jo_87",IY="_card_1x7jo_99",RY="_h2_1x7jo_103",PY="_h3_1x7jo_105",LY="_p_1x7jo_107",DY="_ul_1x7jo_111",MY="_ol_1x7jo_111",FY="_figure_1x7jo_117",BY="_figureNarrow_1x7jo_139",$Y="_img_1x7jo_149",VY="_fallbackImg_1x7jo_151",OY="_figCaption_1x7jo_159",UY="_tableWrap_1x7jo_163",zY="_table_1x7jo_163",HY="_footer_1x7jo_217",GY="_tools_1x7jo_219",WY="_toolBtn_1x7jo_221",yt={wrap:wY,header:jY,titles:SY,h1:NY,lead:kY,ctaRow:CY,cta:TY,section:AY,sectionGrid:EY,card:IY,h2:RY,h3:PY,p:LY,ul:DY,ol:MY,figure:FY,figureNarrow:BY,img:$Y,fallbackImg:VY,figCaption:OY,tableWrap:UY,table:zY,footer:HY,tools:GY,toolBtn:WY},qY=1400;function KY(){const t=E.useMemo(()=>Xo("goldxpcurve",qY),[]);return s.jsxs("div",{className:yt.wrap,children:[s.jsxs("header",{className:yt.header,children:[s.jsxs("div",{className:yt.titles,children:[s.jsx("h1",{className:yt.h1,children:"Dungeon Pause"}),s.jsx("p",{className:yt.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:yt.ctaRow,children:[s.jsx(Mt,{className:yt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(Mt,{className:yt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:yt.section,children:[s.jsx("h2",{className:yt.h2,children:"Worum gehts?"}),s.jsxs("p",{className:yt.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:yt.section,children:[s.jsx("h3",{className:yt.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${yt.figure} ${yt.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:yt.img}):s.jsx("div",{className:yt.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:yt.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:yt.sectionGrid,children:[s.jsxs("div",{className:yt.card,children:[s.jsx("h3",{className:yt.h3,children:"Start & Ende"}),s.jsxs("ul",{className:yt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:yt.card,children:[s.jsx("h3",{className:yt.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:yt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:yt.section,children:[s.jsx("h3",{className:yt.h3,children:"Vorgehen"}),s.jsxs("ol",{className:yt.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:yt.section,children:[s.jsx("h3",{className:yt.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:yt.tableWrap,children:s.jsxs("table",{className:yt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:yt.footer,children:s.jsxs("div",{className:yt.tools,children:[s.jsx(Mt,{className:yt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(Mt,{className:yt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const QY=()=>s.jsx(ts,{title:"Dungeon Pause open XP Calculator"}),XY="_wrap_1uhww_3",YY="_headerBar_1uhww_15",JY="_title_1uhww_33",ZY="_meta_1uhww_45",eJ="_description_1uhww_55",tJ="_section_1uhww_69",sJ="_sectionTitle_1uhww_77",nJ="_steps_1uhww_87",vi={wrap:XY,headerBar:YY,title:JY,meta:ZY,description:eJ,section:tJ,sectionTitle:sJ,steps:nJ};function rJ(){return s.jsxs("div",{className:vi.wrap,children:[s.jsxs("div",{className:vi.headerBar,children:[s.jsx("h2",{className:vi.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:vi.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:vi.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:vi.section,children:[s.jsx("h3",{className:vi.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:vi.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:vi.section,children:[s.jsx("h3",{className:vi.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const iJ=()=>s.jsx(ts,{title:"Gem Calculator (Mid)"}),aJ=()=>s.jsx(ts,{title:"Calendar Skip"}),oJ=()=>s.jsx(ts,{title:"Progression  Late Game"}),lJ="_layout_13sgm_29",cJ="_side_13sgm_49",dJ="_sideHead_13sgm_61",uJ="_search_13sgm_71",hJ="_spotBtn_13sgm_89",mJ="_sideList_13sgm_109",pJ="_sideItem_13sgm_111",fJ="_active_13sgm_119",gJ="_sideTitle_13sgm_121",xJ="_ico_13sgm_123",vJ="_badge_13sgm_125",yJ="_detail_13sgm_139",bJ="_detailInner_13sgm_141",_J="_detailHead_13sgm_143",wJ="_detailTitle_13sgm_145",jJ="_empty_13sgm_147",SJ="_grid_13sgm_151",NJ="_card_13sgm_157",kJ="_cardHead_13sgm_175",CJ="_btnGrid_13sgm_177",TJ="_itemBtn_13sgm_179",AJ="_spotWrap_13sgm_203",EJ="_spot_13sgm_89",IJ="_spotHead_13sgm_227",RJ="_spotSearch_13sgm_235",PJ="_spotClose_13sgm_243",LJ="_spotList_13sgm_253",DJ="_spotItem_13sgm_255",MJ="_spotItemEmpty_13sgm_259",FJ="_spotCat_13sgm_261",BJ="_spotLabel_13sgm_263",$J="_mark_13sgm_267",pt={layout:lJ,side:cJ,sideHead:dJ,search:uJ,spotBtn:hJ,sideList:mJ,sideItem:pJ,active:fJ,sideTitle:gJ,ico:xJ,badge:vJ,detail:yJ,detailInner:bJ,detailHead:_J,detailTitle:wJ,empty:jJ,grid:SJ,card:NJ,cardHead:kJ,btnGrid:CJ,itemBtn:TJ,spotWrap:AJ,spot:EJ,spotHead:IJ,spotSearch:RJ,spotClose:PJ,spotList:LJ,spotItem:DJ,spotItemEmpty:MJ,spotCat:FJ,spotLabel:BJ,mark:$J};function VJ(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Md(t,e){if(!e)return t;const n=new RegExp(`(${VJ(e)})`,"ig");return t.replace(n,`<mark class="${pt.mark}">$1</mark>`)}function gj(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function OJ(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of i.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${i.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:i.key,sub2Key:d.key});else e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else for(const c of i.sub2)e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function UJ(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const zJ=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=E.useState(()=>{var L;return((L=t==null?void 0:t[0])==null?void 0:L.key)||""}),[o,c]=E.useState(""),[d,u]=E.useState(!1),m=E.useRef(null),p=E.useMemo(()=>{const L=o.trim().toLowerCase();if(!L)return t;const T=y=>y.toLowerCase().includes(L);return t.map(y=>{const j=T(y.label),M=[];for(const C of y.sub||[]){const _=T(C.label);if(C.sub2&&C.sub2.length)if(C.sub2.some(D=>D.sub2&&D.sub2.length)){const D=[];for(const I of C.sub2)if(I.sub2&&I.sub2.length){const V=I.sub2.filter($=>T($.label));V.length&&D.push({...I,sub2:V})}else T(I.label)&&D.push(I);(_||D.length)&&M.push({...C,sub2:D})}else{const D=C.sub2.filter(I=>T(I.label));(_||D.length)&&M.push({...C,sub2:D})}else _&&M.push(C)}return j||M.length?{...y,sub:M.length?M:y.sub}:null}).filter(Boolean)},[t,o]),x=E.useMemo(()=>{const L=p.length?p:t,T=UJ(L,r);return L.find(y=>y.key===T)||L[0]||null},[p,t,r]),v=E.useMemo(()=>OJ(t),[t]),[w,S]=E.useState(""),P=E.useMemo(()=>{const L=w.trim().toLowerCase();return L?v.filter(T=>T.full.toLowerCase().includes(L)):v},[v,w]);E.useEffect(()=>{const L=T=>{const y=T.key.toLowerCase()==="k";(T.metaKey||T.ctrlKey)&&y&&(T.preventDefault(),u(!0),setTimeout(()=>{var j;return(j=m.current)==null?void 0:j.focus()},0)),T.key==="Escape"&&u(!1)};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[]);const R=E.useRef(null);E.useEffect(()=>{var L;n&&((L=R.current)==null||L.focus())},[n]);const B=()=>{var M;const L=o.trim().toLowerCase(),T=(L?v.find(C=>C.full.toLowerCase().includes(L)):v[0])||null;if(T){e({tab:T.catKey,sub:T.subKey,sub2:T.sub2Key});return}const y=x,j=(M=y==null?void 0:y.sub)==null?void 0:M[0];if(!(!y||!j))if(j.sub2&&j.sub2.length)if(j.sub2.some(_=>_.sub2&&_.sub2.length)){const _=j.sub2[0];_.sub2&&_.sub2.length?e({tab:y.key,sub:j.key,sub2:_.sub2[0].key}):e({tab:y.key,sub:j.key,sub2:_.key})}else e({tab:y.key,sub:j.key,sub2:j.sub2[0].key});else e({tab:y.key,sub:j.key})};return s.jsxs("div",{className:pt.layout,children:[s.jsxs("div",{className:pt.side,children:[s.jsxs("div",{className:pt.sideHead,children:[s.jsx("input",{ref:R,className:pt.search,type:"search",placeholder:"Suche",value:o,onChange:L=>c(L.target.value),onKeyDown:L=>{L.key==="Enter"&&B()}}),s.jsx("button",{className:pt.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var L;return(L=m.current)==null?void 0:L.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:pt.sideList,children:(p.length?p:t).map(L=>s.jsxs("div",{className:`${pt.sideItem} ${(x==null?void 0:x.key)===L.key?pt.active:""}`,onClick:()=>i(L.key),children:[s.jsxs("span",{className:pt.sideTitle,children:[L.icon?s.jsx("span",{className:pt.ico,"aria-hidden":!0,children:L.icon}):null,L.label]}),s.jsx("span",{className:pt.badge,children:gj(L.sub)})]},L.key))})]}),s.jsx("div",{className:pt.detail,children:x?s.jsxs("div",{className:pt.detailInner,children:[s.jsxs("div",{className:pt.detailHead,children:[s.jsxs("h3",{className:pt.detailTitle,children:[x.icon?s.jsx("span",{className:pt.ico,"aria-hidden":!0,children:x.icon}):null,x.label]}),s.jsxs("div",{className:pt.badge,children:[gj(x.sub)," Eintrge"]})]}),s.jsx("div",{className:pt.grid,children:(x.sub||[]).map(L=>{const T=L.sub2&&L.sub2.length>0,y=T&&L.sub2.some(j=>j.sub2&&j.sub2.length);return s.jsxs("div",{className:pt.card,children:[s.jsx("div",{className:pt.cardHead,dangerouslySetInnerHTML:{__html:Md(L.label,o)}}),T?s.jsx("div",{className:pt.btnGrid,children:y?L.sub2.flatMap(j=>j.sub2&&j.sub2.length?j.sub2.map(M=>s.jsx("button",{className:pt.itemBtn,onClick:()=>e({tab:x.key,sub:L.key,sub2:M.key}),dangerouslySetInnerHTML:{__html:Md(`${j.label}  ${M.label}`,o)}},`${j.key}__${M.key}`)):[s.jsx("button",{className:pt.itemBtn,onClick:()=>e({tab:x.key,sub:L.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:Md(j.label,o)}},j.key)]):L.sub2.map(j=>s.jsx("button",{className:pt.itemBtn,onClick:()=>e({tab:x.key,sub:L.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:Md(j.label,o)}},j.key))}):s.jsx("div",{className:pt.btnGrid,children:s.jsx("button",{className:pt.itemBtn,onClick:()=>e({tab:x.key,sub:L.key}),dangerouslySetInnerHTML:{__html:Md(L.label,o)}})})]},L.key)})}),o&&x.sub&&x.sub.length>0&&x.sub.every(L=>!L.sub2||!L.sub2.length?!L.label.toLowerCase().includes(o.trim().toLowerCase()):L.sub2.some(y=>y.sub2&&y.sub2.length)?L.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(j=>!j.label.toLowerCase().includes(o.trim().toLowerCase())):!y.label.toLowerCase().includes(o.trim().toLowerCase())):L.sub2.every(y=>!y.label.toLowerCase().includes(o.trim().toLowerCase())))?s.jsxs("div",{className:pt.empty,children:["Keine Treffer in ",x.label,"."]}):null]}):s.jsx("div",{className:pt.empty,children:"Keine Kategorie gefunden."})}),d&&s.jsx("div",{className:pt.spotWrap,onClick:()=>u(!1),children:s.jsxs("div",{className:pt.spot,onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{className:pt.spotHead,children:[s.jsx("input",{ref:m,className:pt.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:w,onChange:L=>S(L.target.value)}),s.jsx("button",{className:pt.spotClose,onClick:()=>u(!1),children:"Esc"})]}),s.jsx("div",{className:pt.spotList,children:P.length===0?s.jsx("div",{className:pt.spotItemEmpty,children:"Keine Treffer"}):P.map((L,T)=>s.jsxs("div",{className:pt.spotItem,onClick:()=>{u(!1),e({tab:L.catKey,sub:L.subKey,sub2:L.sub2Key})},children:[s.jsx("div",{className:pt.spotCat,children:L.catKey}),s.jsx("div",{className:pt.spotLabel,children:L.full})]},T))})]})})]})},HJ={gamefeatures:Dq,progression:Mq,hellevator:Fq,"legendary-dungeon":Bq,events:$q,calculators:Jq,infographics:Zq,"class-book":eK,dungeons:tK},xj={gamefeatures:{fortress:sK,underworld:xK,arenaam:bK},hellevator:{"hellevator-guide":xQ},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":vQ},events:{"event-list":yQ,"event-cycle":bQ},calculators:{"fortress-calculator":$Q,"underworld-calculator":iX,"max-item-stats-calculator":aX,"gem-calculator":DX,"dungeon-pause-open-xp-calculator":sY},progression:{early:nY,mid:_Y,late:oJ}},zx={gamefeatures:{arenaam:{"am-rune-bonuses":aQ,"am-build-order":gQ},underworld:{"underworld-calculator":vK,"underworld-pro-package-skip-order":yK},fortress:{"fortress-calculator":nK,"fortress-package-skip-order":fK,"fortress-attack-duplication":gK}},progression:{early:{"first-weekend-guide":fY,"max-item-stats-calculator":gY,"fortress-package-skip-order":xY,"underworld-pro-package-skip-order":vY,"gem-calculator":yY,"fortress-attack-duplication":bY},mid:{"dungeon-pause":KY,"dungeon-pause-open-xp-calculator":QY,"dungeon-pause-exit":rJ,"gem-calculator":iJ,"calendar-skip":aJ}}};function GJ(){const[t,e]=nl(),n=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let o=null;n?n&&!r?o=HJ[n]||null:n&&r&&!i?o=xj[n]&&xj[n][r]||null:n&&r&&i&&(o=zx[n]&&zx[n][r]&&zx[n][r][i]||null):o=null;const c=d=>{const u=new URLSearchParams(t);u.set("tab",d.tab),d.sub?u.set("sub",d.sub):u.delete("sub"),d.sub2?u.set("sub2",d.sub2):u.delete("sub2"),e(u,{replace:!1})};return s.jsxs(xt,{children:[s.jsx("div",{className:Jl.topWrap,children:s.jsx(Cq,{logoSrc:Lq,categories:lj,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:Jl.divider}),s.jsx("div",{className:Jl.contentArea,children:o?s.jsx(o,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Jl.placeholder,children:[s.jsx("h2",{className:Jl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:Jl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(zJ,{categories:lj,onNavigate:c,autoFocusSearch:!1})]})})]})}const WJ="_wrap_1353r_1",qJ="_centerLogoWrap_1353r_21",KJ="_centerLogoLink_1353r_37",QJ="_centerLogo_1353r_21",XJ="_arc_1353r_71",YJ="_left_1353r_73",JJ="_right_1353r_75",ZJ="_sub_1353r_77",eZ="_full_1353r_79",tZ="_arcItem_1353r_81",sZ="_iconBtn_1353r_87",nZ="_active_1353r_141",rZ="_iconImg_1353r_151",iZ="_placeholderIcon_1353r_155",aZ="_placeholderText_1353r_173",oZ="_iconLabel_1353r_177",sn={wrap:WJ,centerLogoWrap:qJ,centerLogoLink:KJ,centerLogo:QJ,arc:XJ,left:YJ,right:JJ,sub:ZJ,full:eZ,arcItem:tZ,iconBtn:sZ,active:nZ,iconImg:rZ,placeholderIcon:iZ,placeholderText:aZ,iconLabel:oZ},lZ=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Qn();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),p=new URL(t,window.location.origin).searchParams,x=p.get("tab"),v=p.get("sub");o=r==="sub"?d===x&&!!v&&u===v:d===x}catch(c){o=!1}return s.jsxs(Mt,{to:t,"aria-label":e,className:[sn.iconBtn,r==="sub"?sn.muted:"",o?sn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:sn.iconImg}):s.jsx("div",{className:sn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:sn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:sn.iconLabel,children:e})]})},Hx=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440})=>{const d=E.useMemo(()=>{const m=t.length;if(m===0)return[];let p=-90,x=90;e==="left"?(p=90,x=270):e==="sub"?n==="left"?(p=90,x=270):(p=-90,x=90):e==="full"&&(p=0,x=360);const v=(x-p)/(m+1),w=r?190:250;return t.map((S,P)=>{const B=(p+v*(P+1))*Math.PI/180;return{it:S,x:Math.cos(B)*w,y:Math.sin(B)*w}})},[t,e,n,r]),u=(()=>{const m={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?m.left=`calc(50% - ${o}px)`:e==="right"?m.left=`calc(50% + ${o}px)`:e==="sub"&&(m.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),m})();return s.jsx("div",{className:[sn.arc,e==="left"?sn.left:"",e==="right"?sn.right:"",e==="sub"?sn.sub:"",e==="full"?sn.full:""].join(" "),style:u,children:d.map(({it:m,x:p,y:x})=>s.jsx("div",{className:sn.arcItem,style:{transform:`translate(${p}px, ${x}px)`},children:s.jsx(lZ,{to:m.to,label:m.label,icon:m.icon,variant:i})},m.key))})},cZ=["creators","scans","predictions","news","records","feedback"],Kv=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],dZ={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},uZ=new Set(cZ),hZ=Kv.reduce((t,e)=>(t[e.key]=e,t),{}),mZ=t=>typeof t=="string"&&uZ.has(t),pZ=({logoSrc:t})=>{const[e]=nl(),n=e.get("tab")||null,r=E.useMemo(()=>Kv.filter(w=>w.side==="left"),[]),i=E.useMemo(()=>Kv.filter(w=>w.side==="right"),[]),o=mZ(n)?n:null,c=o?dZ[o]:[],d=o?hZ[o].side:"right",u=E.useRef(null),[m,p]=E.useState(220),[x,v]=E.useState(440);return E.useEffect(()=>{const w=()=>{var T,y;const P=((y=(T=u.current)==null?void 0:T.offsetWidth)!=null?y:380)/2,B=Math.round(P+60),L=Math.round(B+220);p(B),v(L)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),s.jsxs("div",{className:sn.wrap,children:[s.jsx("div",{className:sn.centerLogoWrap,children:s.jsx(Mt,{to:"/community",className:sn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:u,src:t,alt:"Community Hub",className:sn.centerLogo})})}),s.jsx(Hx,{items:r.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"left",variant:"main",arcOffset:m}),s.jsx(Hx,{items:i.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"right",variant:"main",arcOffset:m}),c.length>0&&s.jsx(Hx,{items:c.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:x})]})},fZ="_topWrap_1rivx_1",gZ="_divider_1rivx_19",xZ="_contentArea_1rivx_53",vZ="_placeholder_1rivx_63",yZ="_placeholderTitle_1rivx_77",bZ="_placeholderText_1rivx_91",Zl={topWrap:fZ,divider:gZ,contentArea:xZ,placeholder:vZ,placeholderTitle:yZ,placeholderText:bZ},_Z="/assets/logo_communityhub-LVMLHRD6.png",wZ=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function D3(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function jZ(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,o]=e.map(c=>parseInt(c,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o))return new Date(o,i-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function Gx(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function SZ(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function NZ(t){return t.avatar?t.avatar:`/avatars/${D3(t.code||t.name||"creator")}.png`}function kZ(t){const e=D3(t.code||t.name||"creator"),n=[],r=Gx(t.youtube);r&&n.push({type:"YouTube",url:r});const i=Gx(t.twitch);i&&n.push({type:"Twitch",url:i});const o=Gx(t.discord);return o&&n.push({type:"Discord",url:o}),{id:`sheet-${e}`,name:t.name,avatar:NZ(t),description:SZ(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:jZ(t.latestActivity),platforms:n}}function CZ(t){var n,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(n=t==null?void 0:t.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function M3(t="/data/creators-live.json"){const[e,n]=E.useState(null),[r,i]=E.useState(""),[o,c]=E.useState(!1),[d,u]=E.useState(0);return E.useEffect(()=>{let m=!1;async function p(){c(!0),i("");try{const x=await fetch(t,{cache:"no-store"});if(!x.ok)throw new Error(`HTTP ${x.status}`);const v=await x.json();m||n(CZ(v))}catch(x){m||(i((x==null?void 0:x.message)||"Failed to load creator snapshot"),n(null))}finally{m||c(!1)}}return p(),()=>{m=!0}},[t,d]),{snapshot:e,error:r,loading:o,refresh:()=>u(m=>m+1)}}const TZ=wZ,AZ=TZ.map(kZ),EZ=[...AZ];function F3(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function Ha(t,e,n=F3){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function Iu(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function IZ(t,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(Iu(r.lastActive)-Iu(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function RZ(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function vj({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[RZ(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:Ha(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:Ha(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:Ha(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:Ha(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",Iu(t.lastActive),"d ago"]})]})]},t.id)}function PZ({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:Ha(e.subscribers)}),s.jsx("td",{children:Ha(e.totalViews)}),s.jsx("td",{children:Ha(e.weeklyViews)}),s.jsx("td",{children:Ha(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[Iu(e.lastActive),"d"]})]},e.id))})]})})}function B3(){var se,de;const[t,e]=E.useState("static"),[n,r]=E.useState("cards"),[i,o]=E.useState("subs"),[c,d]=E.useState("desc"),[u,m]=E.useState("all"),[p,x]=E.useState("all"),[v,w]=E.useState(0),[S,P]=E.useState(365),[R,B]=E.useState(null),[L,T]=E.useState(""),[y,j]=E.useState(!1),[M,C]=E.useState(""),[_,A]=E.useState(null),{snapshot:D,error:I}=M3(),V=(se=D==null?void 0:D.data)!=null&&se.length?D.data:null,$=V!=null?V:EZ,W=t==="static"?$:(de=_!=null?_:V)!=null?de:[],z=E.useMemo(()=>{const ee=new Set(W.map(fe=>fe.language));return Array.from(ee).sort()},[W]),q=E.useMemo(()=>W.filter(ee=>u==="all"?!0:ee.language===u).filter(ee=>p==="all"?!0:ee.platforms.some(fe=>fe.type===p)).filter(ee=>ee.subscribers>=v).filter(ee=>Iu(ee.lastActive)<=S).slice().sort(IZ(i,c)),[W,u,p,v,S,i,c]);E.useEffect(()=>{if(!R&&q.length){const ee=q[Math.floor(Math.random()*q.length)];B(ee.id)}},[q,R]);const Q=E.useMemo(()=>q.find(ee=>ee.id===R)||null,[q,R]),H=E.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyViews-ee.weeklyViews).slice(0,5),[q]),te=E.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyPosts-ee.weeklyPosts).slice(0,5),[q]);async function re(){C(""),j(!0);try{const ee=await fetch(L,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const fe=await ee.json(),Te=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.data)?fe.data:[];A(Te)}catch(ee){C((ee==null?void 0:ee.message)||"Fetch failed")}finally{j(!1)}}const G=q.length===0;return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),D&&s.jsxs("p",{className:"cc-sync",children:[s.jsxs("span",{children:["Live stats synced ",new Date(D.generatedAt).toLocaleString()]}),s.jsxs("span",{children:[D.data.length," profiles"]})]}),I&&s.jsx("p",{className:"cc-sync-error",children:I})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:ee=>e(ee.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:ee=>r(ee.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:i,onChange:ee=>o(ee.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:c,onChange:ee=>d(ee.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:u,onChange:ee=>m(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),z.map(ee=>s.jsx("option",{value:ee,children:ee.toUpperCase()},ee))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:p,onChange:ee=>x(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:v,onChange:ee=>w(Number(ee.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:S,onChange:ee=>P(Number(ee.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:L,onChange:ee=>T(ee.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:re,disabled:!L||y,children:y?"Loading":"Fetch"})]}),M&&s.jsx("div",{className:"cc-api-error",children:M}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),Q&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!q.length)return;const ee=q[Math.floor(Math.random()*q.length)];B(ee.id)},children:"Shuffle"})]}),s.jsx(vj,{c:Q})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[G&&s.jsxs("div",{className:"cc-empty",children:[s.jsx("h3",{children:"No creators match the filters"}),s.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!G&&n==="cards"&&s.jsx("div",{className:"cc-grid",children:q.map(ee=>s.jsx(vj,{c:ee},ee.id))}),!G&&n==="table"&&s.jsx(PZ,{data:q}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(q,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:H.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:F3(ee.weeklyViews)})]},ee.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:te.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:ee.weeklyPosts})]},ee.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function $3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function V3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function O3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function U3(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const LZ=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],Wx=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],DZ={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},MZ=t=>DZ[t],FZ=(t,e=64)=>{var i;const n=MZ(t),r=el(n);return r&&(i=Lr(r,e))!=null?i:null},BZ="_recordsPage_kdw96_1",$Z="_navArea_kdw96_15",VZ="_tabList_kdw96_27",OZ="_tabButton_kdw96_55",UZ="_tabButtonActive_kdw96_101",zZ="_sectionContent_kdw96_115",HZ="_placeholderPanel_kdw96_127",GZ="_placeholderTitle_kdw96_143",WZ="_placeholderText_kdw96_157",qZ="_milestoneSection_kdw96_171",KZ="_sectionHeader_kdw96_183",QZ="_filterBar_kdw96_197",XZ="_filterButtons_kdw96_231",YZ="_filterButton_kdw96_231",JZ="_filterButtonActive_kdw96_295",ZZ="_filterSelectWrapper_kdw96_309",eee="_filterLabel_kdw96_321",tee="_filterSelect_kdw96_309",see="_emptyFilterMessage_kdw96_355",nee="_currentSection_kdw96_369",ree="_currentGrid_kdw96_381",iee="_currentCard_kdw96_393",aee="_categoryLabel_kdw96_419",oee="_recordTitle_kdw96_433",lee="_currentDetails_kdw96_445",cee="_notes_kdw96_457",dee="_infoPanel_kdw96_469",uee="_infoCard_kdw96_481",hee="_disclaimerCard_kdw96_483",mee="_infoHeader_kdw96_525",pee="_infoAuthor_kdw96_539",fee="_authorName_kdw96_557",gee="_authorBadge_kdw96_565",xee="_infoAuthorIcon_kdw96_591",vee="_infoDate_kdw96_623",yee="_infoBody_kdw96_633",bee="_infoTitle_kdw96_645",_ee="_infoLink_kdw96_665",wee="_milestoneGrid_kdw96_719",jee="_milestoneCard_kdw96_731",See="_milestoneCategory_kdw96_757",Nee="_milestoneTitle_kdw96_771",kee="_milestoneDetails_kdw96_785",Cee="_detailRow_kdw96_797",Tee="_detailLabel_kdw96_809",Aee="_detailValue_kdw96_823",Eee="_sourceLink_kdw96_833",Iee="_emptyState_kdw96_855",Me={recordsPage:BZ,navArea:$Z,tabList:VZ,tabButton:OZ,tabButtonActive:UZ,sectionContent:zZ,placeholderPanel:HZ,placeholderTitle:GZ,placeholderText:WZ,milestoneSection:qZ,sectionHeader:KZ,filterBar:QZ,filterButtons:XZ,filterButton:YZ,filterButtonActive:JZ,filterSelectWrapper:ZZ,filterLabel:eee,filterSelect:tee,emptyFilterMessage:see,currentSection:nee,currentGrid:ree,currentCard:iee,categoryLabel:aee,recordTitle:oee,currentDetails:lee,notes:cee,infoPanel:dee,infoCard:uee,disclaimerCard:hee,infoHeader:mee,infoAuthor:pee,authorName:fee,authorBadge:gee,infoAuthorIcon:xee,infoDate:vee,infoBody:yee,infoTitle:bee,infoLink:_ee,milestoneGrid:wee,milestoneCard:jee,milestoneCategory:See,milestoneTitle:Nee,milestoneDetails:kee,detailRow:Cee,detailLabel:Tee,detailValue:Aee,sourceLink:Eee,emptyState:Iee},Ree=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],Pee={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},Lee=({title:t,description:e,hint:n})=>s.jsxs("article",{className:Me.placeholderPanel,children:[s.jsx("h2",{className:Me.placeholderTitle,children:t}),s.jsx("p",{className:Me.placeholderText,children:e}),n&&s.jsx("p",{className:Me.emptyState,children:n})]}),Dee=()=>{const[t,e]=E.useState("all"),n=E.useMemo(()=>{const o=new Set,c=[];for(const d of Wx)o.has(d.category)||(o.add(d.category),c.push(d.category));return["all",...c]},[]),r=t==="all"?Wx:Wx.filter(o=>o.category===t),i=o=>{e(o)};return s.jsxs("section",{className:Me.milestoneSection,"aria-label":"Records milestones",children:[s.jsxs("div",{className:Me.sectionHeader,children:[s.jsx("p",{children:"Milestones"}),s.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),s.jsxs("div",{className:Me.filterBar,children:[s.jsx("div",{className:Me.filterButtons,children:n.map(o=>s.jsx("button",{type:"button",className:[Me.filterButton,t===o&&Me.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(o),"aria-pressed":t===o,children:o==="all"?"All Categories":o},o))}),s.jsxs("label",{className:Me.filterSelectWrapper,children:[s.jsx("span",{className:Me.filterLabel,children:"Category"}),s.jsx("select",{value:t,onChange:o=>i(o.target.value),className:Me.filterSelect,children:n.map(o=>s.jsx("option",{value:o,children:o==="all"?"All Categories":o},o))})]})]}),r.length===0?s.jsx("p",{className:Me.emptyFilterMessage,children:"No milestones fall into this category yet."}):s.jsx("div",{className:Me.milestoneGrid,children:r.map(o=>s.jsxs("article",{className:Me.milestoneCard,children:[s.jsx("span",{className:Me.milestoneCategory,children:o.category}),s.jsx("h3",{className:Me.milestoneTitle,children:o.achievement}),s.jsxs("div",{className:Me.milestoneDetails,children:[s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Name"}),s.jsx("span",{className:Me.detailValue,children:o.name})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Server"}),s.jsx("span",{className:Me.detailValue,children:o.server})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Date"}),s.jsx("span",{className:Me.detailValue,children:o.date})]}),o.notes&&s.jsx("p",{className:Me.notes,children:o.notes}),o.source&&s.jsx("a",{href:o.source,target:"_blank",rel:"noreferrer",className:Me.sourceLink,children:"Source"})]})]},`${o.achievement}-${o.name}`))})]})},Mee=()=>s.jsxs("section",{className:Me.currentSection,"aria-label":"Current community records",children:[s.jsxs("div",{className:Me.sectionHeader,children:[s.jsx("p",{children:"Current Records"}),s.jsx("h2",{children:"The latest verified achievements"})]}),s.jsx("div",{className:Me.currentGrid,children:LZ.map((t,e)=>s.jsxs("article",{className:Me.currentCard,children:[s.jsx("span",{className:Me.categoryLabel,children:t.category}),s.jsx("h3",{className:Me.recordTitle,children:t.record}),s.jsxs("div",{className:Me.currentDetails,children:[s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Class"}),s.jsx("span",{className:Me.detailValue,children:t.classType})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Player"}),s.jsx("span",{className:Me.detailValue,children:t.playerName})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Server"}),s.jsx("span",{className:Me.detailValue,children:t.server})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Days"}),s.jsx("span",{className:Me.detailValue,children:t.days})]}),t.release&&s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Release"}),s.jsx("span",{className:Me.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&s.jsxs("p",{className:Me.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&s.jsx("p",{className:Me.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),Fd={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function z3(){const[t,e]=E.useState("current"),n=FZ("infoCard",32),r=()=>{if(t==="current")return s.jsx(Mee,{});if(t==="milestones")return s.jsx(Dee,{});const i=Pee[t];return s.jsx(Lee,{title:i.title,description:i.description,hint:i.hint})};return s.jsxs("section",{className:Me.recordsPage,children:[s.jsx(P3,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),s.jsxs("div",{className:Me.infoPanel,children:[s.jsxs("div",{className:Me.infoCard,children:[s.jsxs("div",{className:Me.infoHeader,children:[s.jsxs("div",{className:Me.infoAuthor,children:[n?s.jsx("img",{src:n,alt:"Community Data",className:Me.infoAuthorIcon}):null,s.jsx("span",{className:Me.authorName,children:"S&F Tavern Info"}),s.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Me.authorBadge,children:"Discord"})]}),s.jsx("span",{className:Me.infoDate,children:"11.12.2020 14:08"})]}),s.jsxs("div",{className:Me.infoBody,children:[s.jsx("h3",{className:Me.infoTitle,children:Fd.title}),Fd.paragraphs.map(i=>s.jsx("p",{children:i},i))]}),s.jsxs("div",{className:Me.infoLink,children:[s.jsx("span",{children:Fd.linkLabel}),s.jsx("a",{href:Fd.linkUrl,target:"_blank",rel:"noreferrer",children:Fd.linkUrl})]})]}),s.jsxs("div",{className:Me.disclaimerCard,children:[s.jsx("h3",{className:Me.infoTitle,children:"Disclaimer"}),s.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),s.jsx("div",{className:Me.navArea,children:s.jsx("nav",{className:Me.tabList,"aria-label":"Records navigation",children:Ree.map(i=>s.jsx("button",{type:"button",className:`${Me.tabButton} ${t===i.key?Me.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),s.jsx("div",{className:Me.sectionContent,children:r()})]})}const Fee={creators:B3,scans:$3,predictions:V3,news:O3,records:z3,feedback:U3};function Bee(){const[t]=nl(),e=t.get("tab")||"",n=Fee[e];return s.jsxs(xt,{children:[s.jsx("div",{className:Zl.topWrap,children:s.jsx(pZ,{logoSrc:_Z})}),s.jsx("div",{className:Zl.divider}),s.jsx("div",{className:Zl.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:Zl.placeholder,children:[s.jsx("h2",{className:Zl.placeholderTitle,children:"Community"}),s.jsx("p",{className:Zl.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function $ee(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(Mt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(Mt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function Vee(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function Oee(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function Uee(){return s.jsx(xt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(zee,{}),right:s.jsx(Hee,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(Mt,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),s.jsx(Mt,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Bm,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Bm,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),s.jsx(Bm,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),s.jsx(Bm,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function zee(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(Bd,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(Bd,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),s.jsx(Bd,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),s.jsx(Bd,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(Bd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function Hee(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function Bm({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Bd({to:t,children:e}){return s.jsx(as,{to:t,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const Gee="_page_1mlmy_1",Wee="_header_1mlmy_13",qee="_headerStack_1mlmy_25",Kee="_kicker_1mlmy_37",Qee="_title_1mlmy_53",Xee="_headerActions_1mlmy_65",Yee="_primaryAction_1mlmy_77",Jee="_secondaryAction_1mlmy_79",Zee="_infoStrip_1mlmy_127",ete="_infoBlock_1mlmy_147",tte="_infoLabel_1mlmy_161",ste="_freshnessWrapper_1mlmy_181",nte="_freshnessBadge_1mlmy_189",rte="_badge_f0_1mlmy_213",ite="_badge_f1_1mlmy_215",ate="_badge_f2_1mlmy_217",ote="_badge_f3_1mlmy_219",lte="_badge_f4_1mlmy_221",cte="_badge_f5_1mlmy_223",dte="_badge_f6_1mlmy_225",ute="_badge_f7_1mlmy_227",hte="_badge_unknown_1mlmy_229",mte="_popover_1mlmy_233",pte="_popoverLabel_1mlmy_265",fte="_filterToolbar_1mlmy_275",gte="_filterSheetButton_1mlmy_285",xte="_inlineFilters_1mlmy_303",vte="_searchInput_1mlmy_315",yte="_select_1mlmy_317",bte="_ownerGroup_1mlmy_335",_te="_ownerChip_1mlmy_347",wte="_ownerChipActive_1mlmy_365",jte="_sortGroup_1mlmy_375",Ste="_sortLabel_1mlmy_387",Nte="_directionButton_1mlmy_397",kte="_listBody_1mlmy_415",Cte="_tableWrapper_1mlmy_427",Tte="_table_1mlmy_427",Ate="_stickyColumn_1mlmy_481",Ete="_rowTitleButton_1mlmy_495",Ite="_tableStatus_1mlmy_513",Rte="_cardList_1mlmy_533",Pte="_card_1mlmy_533",Lte="_cardHeader_1mlmy_565",Dte="_cardTitle_1mlmy_577",Mte="_cardMeta_1mlmy_595",Fte="_cardDescription_1mlmy_611",Bte="_cardFooter_1mlmy_623",$te="_cardLabel_1mlmy_639",Vte="_scanBadge_1mlmy_649",Ote="_emptyState_1mlmy_665",Ute="_sheetBackdrop_1mlmy_681",zte="_sheet_1mlmy_681",Hte="_sheetHandle_1mlmy_721",Gte="_sheetBody_1mlmy_739",Wte="_sheetLabel_1mlmy_755",qte="_sheetActions_1mlmy_793",Kte="_overlay_1mlmy_807",Qte="_panel_1mlmy_825",Xte="_modal_1mlmy_851",Yte="_drawer_1mlmy_861",Jte="_panelHeader_1mlmy_869",Zte="_panelControls_1mlmy_883",ese="_panelDescription_1mlmy_913",tse="_detailGrid_1mlmy_925",sse="_panelFooter_1mlmy_957",nse="_formOverlay_1mlmy_969",rse="_formPanel_1mlmy_991",ise="_formGrid_1mlmy_1017",ase="_menuWrapper_1mlmy_1029",ose="_dotsButton_1mlmy_1037",lse="_menu_1mlmy_1029",cse="_pagination_1mlmy_1109",be={page:Gee,header:Wee,headerStack:qee,kicker:Kee,title:Qee,headerActions:Xee,primaryAction:Yee,secondaryAction:Jee,infoStrip:Zee,infoBlock:ete,infoLabel:tte,freshnessWrapper:ste,freshnessBadge:nte,badge_f0:rte,badge_f1:ite,badge_f2:ate,badge_f3:ote,badge_f4:lte,badge_f5:cte,badge_f6:dte,badge_f7:ute,badge_unknown:hte,popover:mte,popoverLabel:pte,filterToolbar:fte,filterSheetButton:gte,inlineFilters:xte,searchInput:vte,select:yte,ownerGroup:bte,ownerChip:_te,ownerChipActive:wte,sortGroup:jte,sortLabel:Ste,directionButton:Nte,listBody:kte,tableWrapper:Cte,table:Tte,stickyColumn:Ate,rowTitleButton:Ete,tableStatus:Ite,cardList:Rte,card:Pte,cardHeader:Lte,cardTitle:Dte,cardMeta:Mte,cardDescription:Fte,cardFooter:Bte,cardLabel:$te,scanBadge:Vte,emptyState:Ote,sheetBackdrop:Ute,sheet:zte,sheetHandle:Hte,sheetBody:Gte,sheetLabel:Wte,sheetActions:qte,overlay:Kte,panel:Qte,modal:Xte,drawer:Yte,panelHeader:Jte,panelControls:Zte,panelDescription:ese,detailGrid:tse,panelFooter:sse,formOverlay:nse,formPanel:rse,formGrid:ise,menuWrapper:ase,dotsButton:ose,menu:lse,pagination:cse};function dse(){var re;const[t,e]=J.useState(XU),[n,r]=J.useState(Mx),[i,o]=J.useState(Mx),c=Ac(n.q,300),d=J.useMemo(()=>{const G=YU(t,n,c);return JU(G,n.sort,n.dir)},[t,n,c]),u=J.useMemo(()=>ZU(d,n.page,n.pageSize),[d,n.page,n.pageSize]),m=Math.max(1,Math.ceil(d.length/n.pageSize)),p=J.useMemo(()=>Array.from(new Set(t.map(G=>G.owner))),[t]),x=Ec("(min-width: 768px)"),v=Ec("(min-width: 1024px)"),[w,S]=J.useState(!1),[P,R]=J.useState(null),B=(re=t.find(G=>G.id===P))!=null?re:null,L=J.useRef(null);Ic(L,!!B&&!v);const[T,y]=J.useState(null),[j,M]=J.useState(!1),C=J.useRef(null);Ic(C,j);const _=J.useMemo(()=>ez(t),[t]),A=J.useMemo(()=>_?Au(_.nextUpdateAt,Date.now()):"",[_]),D=x,I=v,V=s.jsxs("div",{className:be.headerActions,children:[s.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>{y(null),M(!0)},children:"Neuer Eintrag"}),!x&&s.jsx("button",{type:"button",className:be.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>S(!0),children:"Filter"})]}),$=G=>{const se=Hw(G);r(se),o(se)},W=(G,se)=>{const de=Hw({...n,[G]:se,page:G==="page"||G==="pageSize"?se:1});$(de)},z=()=>{$(i),S(!1)},q=()=>{$(Mx),S(!1)},Q=(G,se=!1)=>{if(se)o(de=>{const fe=de.owner.includes(G)?de.owner.filter(Te=>Te!==G):[...de.owner,G];return{...de,owner:fe}});else{const ee=n.owner.includes(G)?n.owner.filter(fe=>fe!==G):[...n.owner,G];W("owner",ee)}},H=(G,se)=>{e(de=>de.map(ee=>ee.id===G?{...ee,status:se,updatedAt:new Date().toISOString()}:ee))},te=G=>{e(se=>se.some(ee=>ee.id===G.id)?se.map(ee=>ee.id===G.id?G:ee):[G,...se]),M(!1)};return s.jsxs(xt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[s.jsxs("div",{className:be.page,children:[s.jsxs("header",{className:be.header,children:[s.jsxs("div",{className:be.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.kicker,children:"Deployment"}),s.jsx("h1",{className:be.title,children:"Planer"})]}),V]}),s.jsxs("div",{className:be.infoStrip,children:[s.jsxs("div",{className:be.infoBlock,children:[s.jsx("span",{className:be.infoLabel,children:"Offen"}),s.jsx("strong",{children:d.filter(G=>G.status==="open").length})]}),s.jsxs("div",{className:be.infoBlock,children:[s.jsx("span",{className:be.infoLabel,children:"In Arbeit"}),s.jsx("strong",{children:d.filter(G=>G.status==="in_progress").length})]}),_&&s.jsx(use,{code:_.freshness,label:V0[_.freshness],updatedAt:_.lastScanAt,nextUpdateAt:_.nextUpdateAt,countdown:A})]})]}),s.jsx("section",{className:be.filterToolbar,children:x?s.jsx(hse,{filters:n,owners:p,onChange:W,onOwnerToggle:G=>Q(G,!1)}):s.jsx("button",{type:"button",className:be.filterSheetButton,onClick:()=>S(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),s.jsx("section",{className:be.listBody,children:D?s.jsx(mse,{items:u,sort:n.sort,dir:n.dir,onSortChange:G=>{const se=n.sort===G&&n.dir==="asc"?"desc":"asc";W("sort",G),W("dir",se)},onSelect:G=>R(G.id),onStatusChange:H,onEdit:G=>{y(G),M(!0)}}):s.jsx(pse,{items:u,onSelect:G=>R(G.id),onStatusChange:H,onEdit:G=>{y(G),M(!0)}})}),s.jsx(gse,{page:n.page,totalPages:m,onChange:G=>W("page",G)})]}),w&&s.jsx(fse,{filters:i,owners:p,onChange:o,onOwnerToggle:G=>Q(G,!0),onClose:()=>S(!1),onApply:z,onReset:q}),B&&s.jsx(G3,{ref:L,item:B,mode:I?"drawer":"modal",onClose:()=>R(null),onEdit:()=>{y(B),M(!0),R(null)},onStatusChange:H}),j&&s.jsx(W3,{ref:C,owners:p.length?p:C3,item:T,onClose:()=>M(!1),onSubmit:te})]})}function use({code:t,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var d;const[o,c]=J.useState(!1);return s.jsxs("div",{className:be.freshnessWrapper,children:[s.jsx("button",{type:"button",className:`${be.freshnessBadge} ${(d=be[`badge_${t}`])!=null?d:""}`,"aria-label":`Freshness ${e}`,onClick:()=>c(u=>!u),children:e}),o&&s.jsxs("div",{className:be.popover,role:"dialog","aria-label":"Freshness Details",children:[s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Zuletzt gescannt"}),s.jsx("strong",{children:Ci(n)})]}),s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Naechster Scan"}),s.jsx("strong",{children:Ci(r)})]}),s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Countdown"}),s.jsx("strong",{children:i})]})]})]})}function hse({filters:t,owners:e,onChange:n,onOwnerToggle:r}){return s.jsxs("div",{className:be.inlineFilters,children:[s.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:be.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>n("q",i.target.value)}),s.jsxs("select",{className:be.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>n("type",i.target.value),children:[s.jsx("option",{value:"all",children:"Typ (alle)"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]}),s.jsxs("select",{className:be.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>n("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("select",{className:be.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>n("range",i.target.value),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]}),s.jsx("div",{className:be.ownerGroup,children:e.map(i=>{const o=t.owner.includes(i);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${o?be.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:be.sortGroup,children:[s.jsx("label",{htmlFor:"planner-sort",className:be.sortLabel,children:"Sortieren"}),s.jsxs("select",{id:"planner-sort",name:"plannerSort",className:be.select,value:t.sort,onChange:i=>n("sort",i.target.value),children:[s.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),s.jsx("option",{value:"priority",children:"Prioritaet"}),s.jsx("option",{value:"title",children:"Titel"})]}),s.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:be.directionButton,onClick:()=>n("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function mse({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:o,onEdit:c}){const d=u=>e===u?n==="asc"?" ":" ":"";return t.length===0?s.jsx(H3,{}):s.jsx("div",{className:be.tableWrapper,children:s.jsxs("table",{className:be.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:be.stickyColumn,onClick:()=>r("title"),children:["Titel",d("title")]}),s.jsx("th",{children:"Typ"}),s.jsx("th",{children:"Owner"}),s.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",d("dueAt")]}),s.jsx("th",{children:"Status"}),s.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",d("updatedAt")]}),s.jsx("th",{})]})}),s.jsx("tbody",{children:t.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:be.stickyColumn,children:s.jsx("button",{type:"button",className:be.rowTitleButton,onClick:()=>i(u),children:u.title})}),s.jsx("td",{children:$0[u.type]}),s.jsx("td",{children:u.owner}),s.jsx("td",{children:Ci(u.dueAt)}),s.jsx("td",{children:s.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:be.tableStatus,value:u.status,onChange:m=>o(u.id,m.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),s.jsx("td",{children:Yu(u.updatedAt)}),s.jsx("td",{children:s.jsx(q3,{onEdit:()=>c(u),onComplete:()=>o(u.id,"done")})})]},u.id))})]})})}function pse({items:t,onSelect:e,onStatusChange:n,onEdit:r}){return t.length===0?s.jsx(H3,{}):s.jsx("div",{className:be.cardList,children:t.map(i=>s.jsxs("article",{className:be.card,children:[s.jsxs("div",{className:be.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:be.cardTitle,onClick:()=>e(i),children:i.title}),s.jsxs("div",{className:be.cardMeta,children:[s.jsx("span",{children:$0[i.type]}),s.jsx("span",{children:KU[i.status]}),s.jsxs("span",{children:["Due ",Ci(i.dueAt)]})]})]}),s.jsx(q3,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),s.jsx("p",{className:be.cardDescription,children:i.description}),s.jsxs("div",{className:be.cardFooter,children:[s.jsxs("div",{children:[s.jsx("span",{className:be.cardLabel,children:"Owner"}),s.jsx("strong",{children:i.owner})]}),s.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:be.tableStatus,value:i.status,onChange:o=>n(i.id,o.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("span",{className:be.scanBadge,children:["Letzter Scan ",Yu(i.lastScanAt)]})]})]},i.id))})}function H3(){return s.jsx("div",{className:be.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function fse({filters:t,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:o,onReset:c}){return s.jsx("div",{className:be.sheetBackdrop,role:"presentation",onClick:i,children:s.jsxs("div",{className:be.sheet,role:"dialog","aria-label":"Filter",onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:be.sheetHandle}),s.jsxs("div",{className:be.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:be.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:d=>n(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:be.sheetLabel,children:["Typ",s.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:d=>n(u=>({...u,type:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Status",s.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:d=>n(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Zeitraum",s.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:d=>n(u=>({...u,range:d.target.value})),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]})]}),s.jsxs("div",{className:be.sheetLabel,children:["Owner",s.jsx("div",{className:be.ownerGroup,children:e.map(d=>{const u=t.owner.includes(d);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${u?be.ownerChipActive:""}`,onClick:()=>r(d),children:d},d)})})]})]}),s.jsxs("div",{className:be.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const G3=J.forwardRef(({item:t,mode:e,onClose:n,onEdit:r,onStatusChange:i},o)=>s.jsx("div",{className:be.overlay,children:s.jsxs("div",{ref:o,className:`${be.panel} ${e==="drawer"?be.drawer:be.modal}`,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.cardLabel,children:$0[t.type]}),s.jsx("h2",{children:t.title})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("div",{className:be.panelControls,children:[s.jsxs("label",{children:["Status",s.jsxs("select",{value:t.status,onChange:c=>i(t.id,c.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{disabled:!0,value:t.priority,children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsx("p",{className:be.panelDescription,children:t.description}),s.jsxs("dl",{className:be.detailGrid,children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Owner"}),s.jsx("dd",{children:t.owner})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Assignees"}),s.jsx("dd",{children:t.assignees.join(", ")})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Termin"}),s.jsx("dd",{children:Ci(t.dueAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt aktualisiert"}),s.jsx("dd",{children:Yu(t.updatedAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Erstellt"}),s.jsx("dd",{children:Ci(t.createdAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Tags"}),s.jsx("dd",{children:t.tags.join(", ")})]})]}),s.jsxs("div",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));G3.displayName="DetailPanel";const W3=J.forwardRef(({owners:t,item:e,onClose:n,onSubmit:r},i)=>{const[o,c]=J.useState(()=>{var m;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(m=t[0])!=null?m:C3[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});J.useEffect(()=>{e&&c(e)},[JSON.stringify(e)]);const d=m=>{m.preventDefault(),o.title.trim()&&r({...o,updatedAt:new Date().toISOString()})},u=m=>{c(p=>{const v=p.tags.includes(m)?p.tags.filter(w=>w!==m):[...p.tags,m];return{...p,tags:v}})};return s.jsx("div",{className:be.formOverlay,children:s.jsxs("form",{ref:i,className:be.formPanel,onSubmit:d,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),s.jsx("h2",{children:e?e.title:"Planner Task"})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("label",{className:be.sheetLabel,children:["Titel",s.jsx("input",{name:"plannerFormTitle",value:o.title,onChange:m=>c(p=>({...p,title:m.target.value})),required:!0})]}),s.jsxs("label",{className:be.sheetLabel,children:["Beschreibung",s.jsx("textarea",{name:"plannerFormDescription",value:o.description,onChange:m=>c(p=>({...p,description:m.target.value})),rows:4})]}),s.jsxs("div",{className:be.formGrid,children:[s.jsxs("label",{children:["Typ",s.jsxs("select",{name:"plannerFormType",value:o.type,onChange:m=>c(p=>({...p,type:m.target.value})),children:[s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"plannerFormStatus",value:o.status,onChange:m=>c(p=>({...p,status:m.target.value})),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Owner",s.jsx("select",{name:"plannerFormOwner",value:o.owner,onChange:m=>c(p=>({...p,owner:m.target.value})),children:t.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{name:"plannerFormPriority",value:o.priority,onChange:m=>c(p=>({...p,priority:m.target.value})),children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Termin",s.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:o.dueAt.slice(0,16),onChange:m=>c(p=>({...p,dueAt:new Date(m.target.value).toISOString()}))})]}),s.jsxs("div",{className:be.sheetLabel,children:["Tags",s.jsx("div",{className:be.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(m=>{const p=o.tags.includes(m);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${p?be.ownerChipActive:""}`,onClick:()=>u(m),children:m},m)})})]}),s.jsxs("footer",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:be.primaryAction,children:"Speichern"})]})]})})});W3.displayName="PlannerFormOverlay";function q3({onEdit:t,onComplete:e}){const[n,r]=J.useState(!1),i=J.useRef(null);return J.useEffect(()=>{if(!n)return;const o=c=>{var d;(d=i.current)!=null&&d.contains(c.target)||r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n]),s.jsxs("div",{className:be.menuWrapper,ref:i,children:[s.jsx("button",{type:"button",className:be.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(o=>!o),children:"..."}),n&&s.jsxs("div",{className:be.menu,role:"menu",children:[s.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),s.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),s.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function gse({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:be.pagination,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const xse="_page_1cvuk_1",vse="_header_1cvuk_13",yse="_headerLeading_1cvuk_29",bse="_backLink_1cvuk_41",_se="_headerStack_1cvuk_77",wse="_kicker_1cvuk_89",jse="_title_1cvuk_105",Sse="_subtitle_1cvuk_117",Nse="_headerActions_1cvuk_129",kse="_plannerNotice_1cvuk_141",Cse="_noticeItem_1cvuk_163",Tse="_noticeWarning_1cvuk_185",Ase="_noticeDot_1cvuk_197",Ese="_tabSection_1cvuk_213",Ise="_tabBar_1cvuk_225",Rse="_tabItem_1cvuk_239",Pse="_tabItemActive_1cvuk_279",Lse="_tabLabel_1cvuk_291",Dse="_tabHelper_1cvuk_301",Mse="_tabPanel_1cvuk_311",Fse="_tabBadge_1cvuk_331",Bse="_primaryAction_1cvuk_1331",$se="_secondaryAction_1cvuk_1333",Vse="_infoStrip_1cvuk_1383",Ose="_infoBlock_1cvuk_1403",Use="_infoLabel_1cvuk_1415",zse="_infoHint_1cvuk_1441",Hse="_stageGrid_1cvuk_1453",Gse="_panel_1cvuk_1465",Wse="_panelHeader_1cvuk_1487",qse="_panelKicker_1cvuk_1501",Kse="_panelTitle_1cvuk_1517",Qse="_panelLead_1cvuk_1529",Xse="_badge_1cvuk_1541",Yse="_panelBody_1cvuk_1563",Jse="_placeholderGrid_1cvuk_1575",Zse="_placeholderCard_1cvuk_1587",ene="_placeholderTitle_1cvuk_1609",tne="_placeholderText_1cvuk_1619",sne="_helperSection_1cvuk_1631",nne="_helperCard_1cvuk_1639",rne="_helperKicker_1cvuk_1661",ine="_helperTitle_1cvuk_1677",ane="_helperText_1cvuk_1689",one="_helperActions_1cvuk_1701",We={page:xse,header:vse,headerLeading:yse,backLink:bse,headerStack:_se,kicker:wse,title:jse,subtitle:Sse,headerActions:Nse,plannerNotice:kse,noticeItem:Cse,noticeWarning:Tse,noticeDot:Ase,tabSection:Ese,tabBar:Ise,tabItem:Rse,tabItemActive:Pse,tabLabel:Lse,tabHelper:Dse,tabPanel:Mse,tabBadge:Fse,primaryAction:Bse,secondaryAction:$se,infoStrip:Vse,infoBlock:Ose,infoLabel:Use,infoHint:zse,stageGrid:Hse,panel:Gse,panelHeader:Wse,panelKicker:qse,panelTitle:Kse,panelLead:Qse,badge:Xse,panelBody:Yse,placeholderGrid:Jse,placeholderCard:Zse,placeholderTitle:ene,placeholderText:tne,helperSection:sne,helperCard:nne,helperKicker:rne,helperTitle:ine,helperText:ane,helperActions:one},lne="_setupGrid_rdp6l_1",cne="_setupLeft_rdp6l_13",dne="_setupRight_rdp6l_15",une="_card_rdp6l_27",hne="_cardHeader_rdp6l_49",mne="_cardKicker_rdp6l_61",pne="_cardTitle_rdp6l_77",fne="_cardText_rdp6l_89",gne="_toggleGroup_rdp6l_101",xne="_toggleButton_rdp6l_113",vne="_toggleButtonActive_rdp6l_143",yne="_modeHint_rdp6l_155",bne="_formGrid_rdp6l_167",_ne="_formField_rdp6l_179",wne="_formLabel_rdp6l_191",jne="_input_rdp6l_201",Sne="_suggestions_rdp6l_231",Nne="_suggestionBtn_rdp6l_257",kne="_suggestionName_rdp6l_297",Cne="_suggestionMeta_rdp6l_305",Tne="_partnerActions_rdp6l_315",Ane="_primaryAction_rdp6l_329",Ene="_secondaryAction_rdp6l_331",Ine="_partnerList_rdp6l_381",Rne="_partnerRow_rdp6l_393",Pne="_partnerName_rdp6l_413",Lne="_partnerMeta_rdp6l_423",Dne="_removeButton_rdp6l_433",Mne="_emptyState_rdp6l_463",Fne="_previewBlock_rdp6l_473",Bne="_previewLabel_rdp6l_485",$ne="_previewValue_rdp6l_499",Vne="_previewCard_rdp6l_509",One="_previewTitle_rdp6l_523",Une="_previewMeta_rdp6l_533",zne="_previewList_rdp6l_543",Hne="_previewItem_rdp6l_555",Gne="_setupInfo_rdp6l_569",Wne="_setupWarning_rdp6l_593",qne="_setupInfoIcon_rdp6l_605",Kne="_setupInfoTitle_rdp6l_629",Qne="_setupInfoText_rdp6l_639",Ie={setupGrid:lne,setupLeft:cne,setupRight:dne,card:une,cardHeader:hne,cardKicker:mne,cardTitle:pne,cardText:fne,toggleGroup:gne,toggleButton:xne,toggleButtonActive:vne,modeHint:yne,formGrid:bne,formField:_ne,formLabel:wne,input:jne,suggestions:Sne,suggestionBtn:Nne,suggestionName:kne,suggestionMeta:Cne,partnerActions:Tne,primaryAction:Ane,secondaryAction:Ene,partnerList:Ine,partnerRow:Rne,partnerName:Pne,partnerMeta:Lne,removeButton:Dne,emptyState:Mne,previewBlock:Fne,previewLabel:Bne,previewValue:$ne,previewCard:Vne,previewTitle:One,previewMeta:Une,previewList:zne,previewItem:Hne,setupInfo:Gne,setupWarning:Wne,setupInfoIcon:qne,setupInfoTitle:Kne,setupInfoText:Qne};function Xne({setupState:t,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var R,B,L,T,y,j,M,C,_,A;const[o,c]=J.useState(()=>{var D,I,V,$;return{name:(I=(D=t.baseGuild)==null?void 0:D.name)!=null?I:"",server:($=(V=t.baseGuild)==null?void 0:V.server)!=null?$:""}}),[d,u]=J.useState({id:void 0,name:"",server:""}),m=Ac(o.name,250),p=Ac(d.name,250),x=yj(m,o.server||"all"),v=yj(p,d.server||"all"),w=!!((B=(R=t.baseGuild)==null?void 0:R.name)!=null&&B.trim()&&((T=(L=t.baseGuild)==null?void 0:L.server)!=null&&T.trim())),S=t.partnerGuilds.length>0;J.useEffect(()=>{var I,V,$,W;const D={name:(V=(I=t.baseGuild)==null?void 0:I.name)!=null?V:"",server:(W=($=t.baseGuild)==null?void 0:$.server)!=null?W:""};(D.name!==o.name||D.server!==o.server)&&c(D)},[(y=t.baseGuild)==null?void 0:y.name,(j=t.baseGuild)==null?void 0:j.server]);const P=()=>{!d.name.trim()||!d.server.trim()||(r(d),u({id:void 0,name:"",server:""}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ie.setupGrid,children:[s.jsxs("div",{className:Ie.setupLeft,children:[s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Modus"}),s.jsx("h3",{className:Ie.cardTitle,children:"Scan-based oder manuell"}),s.jsx("p",{className:Ie.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),s.jsxs("div",{className:Ie.toggleGroup,role:"group","aria-label":"Setup Modus",children:[s.jsx("button",{type:"button",className:`${Ie.toggleButton} ${t.mode==="scan"?Ie.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),s.jsx("button",{type:"button",className:`${Ie.toggleButton} ${t.mode==="manual"?Ie.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),s.jsx("p",{className:Ie.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Base Guild"}),s.jsx("h3",{className:Ie.cardTitle,children:"Stammdaten"}),s.jsx("p",{className:Ie.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),s.jsxs("div",{className:Ie.formGrid,children:[s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Guild name"}),s.jsx("input",{type:"text",className:Ie.input,value:o.name,onChange:D=>{const I=D.target.value;c(V=>({...V,name:I}))},onBlur:()=>n({name:o.name}),placeholder:"z.B. Solaris"}),x.length>0&&s.jsx("div",{className:Ie.suggestions,children:x.map(D=>s.jsxs("button",{type:"button",className:Ie.suggestionBtn,onClick:()=>{c({name:D.name,server:D.server}),n({id:D.id,name:D.name,server:D.server})},children:[s.jsx("span",{className:Ie.suggestionName,children:D.name}),s.jsx("span",{className:Ie.suggestionMeta,children:D.server})]},D.id))})]}),s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ie.input,value:o.server,onChange:D=>{const I=D.target.value;c(V=>({...V,server:I}))},onBlur:()=>n({server:o.server}),placeholder:"z.B. EU-01"})]})]})]}),s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Partner Guilds"}),s.jsx("h3",{className:Ie.cardTitle,children:"Partner hinzufuegen"}),s.jsx("p",{className:Ie.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),s.jsxs("div",{className:Ie.formGrid,children:[s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Name"}),s.jsx("input",{type:"text",className:Ie.input,value:d.name,onChange:D=>u(I=>({...I,name:D.target.value})),placeholder:"z.B. Nova Alliance"}),v.length>0&&s.jsx("div",{className:Ie.suggestions,children:v.map(D=>s.jsxs("button",{type:"button",className:Ie.suggestionBtn,onClick:()=>u({id:D.id,name:D.name,server:D.server}),children:[s.jsx("span",{className:Ie.suggestionName,children:D.name}),s.jsx("span",{className:Ie.suggestionMeta,children:D.server})]},D.id))})]}),s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ie.input,value:d.server,onChange:D=>u(I=>({...I,server:D.target.value})),placeholder:"z.B. EU-02"})]})]}),s.jsxs("div",{className:Ie.partnerActions,children:[s.jsx("button",{type:"button",className:Ie.primaryAction,onClick:P,children:"Add partner guild"}),s.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),s.jsx("div",{className:Ie.partnerList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ie.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(D=>s.jsxs("div",{className:Ie.partnerRow,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ie.partnerName,children:D.name||"Unbenannt"}),s.jsx("div",{className:Ie.partnerMeta,children:D.server||"Server n/a"})]}),s.jsx("button",{type:"button",className:Ie.removeButton,onClick:()=>i(D.id),children:"Remove"})]},D.id))})]})]}),s.jsx("aside",{className:Ie.setupRight,children:s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Preview"}),s.jsx("h3",{className:Ie.cardTitle,children:"Uebersicht"}),s.jsx("p",{className:Ie.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Modus"}),s.jsx("div",{className:Ie.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Base Guild"}),s.jsx("div",{className:Ie.previewCard,children:(M=t.baseGuild)!=null&&M.name||(C=t.baseGuild)!=null&&C.server?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ie.previewTitle,children:((_=t.baseGuild)==null?void 0:_.name)||"Unbenannt"}),s.jsx("div",{className:Ie.previewMeta,children:((A=t.baseGuild)==null?void 0:A.server)||"Server n/a"})]}):s.jsx("div",{className:Ie.emptyState,children:"No base guild selected yet."})})]}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Partner Guilds"}),s.jsx("div",{className:Ie.previewList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ie.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(D=>s.jsxs("div",{className:Ie.previewItem,children:[s.jsx("div",{className:Ie.previewTitle,children:D.name||"Unbenannt"}),s.jsx("div",{className:Ie.previewMeta,children:D.server||"Server n/a"})]},D.id))})]})]})})]}),w?S?null:s.jsxs("div",{className:Ie.setupInfo,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ie.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ie.setupInfoTitle,children:"Optional: add partner guilds."}),s.jsx("p",{className:Ie.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):s.jsxs("div",{className:`${Ie.setupInfo} ${Ie.setupWarning}`,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ie.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ie.setupInfoTitle,children:"No base guild selected yet."}),s.jsx("p",{className:Ie.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function yj(t,e){const[n,r]=J.useState([]);return J.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let o=!1;async function c(){try{const d=tf(Rt,"latest"),u=await rn(En(d,za("nameFold"),zo(i),Ho(i+""),In(12))),m=await rn(En(d,qo("nameNgrams","array-contains",i),In(12))),p=new Set,x=[],v=w=>{var j,M,C,_,A,D,I,V,$,W;const S=w.data(),R=(j=w.ref.parent)==null?void 0:j.parent;if(((M=R==null?void 0:R.parent)==null?void 0:M.id)!=="guilds")return;const L=(_=(C=R==null?void 0:R.id)!=null?C:S.guildIdentifier)!=null?_:w.id;if(!L||p.has(L))return;const T=(I=(D=S.server)!=null?D:(A=S.values)==null?void 0:A.Server)!=null?I:"Unknown";if(e!=="all"&&T!==e)return;const y=(W=($=S.name)!=null?$:(V=S.values)==null?void 0:V.Name)!=null?W:"Unbekannte Gilde";p.add(L),x.push({id:L,name:y,server:T})};u.forEach(v),m.forEach(v),o||(x.sort((w,S)=>w.name.localeCompare(S.name)),r(x))}catch(d){console.error("[FusionPlanner] guild search failed",d),o||r([])}}return c(),()=>{o=!0}},[t,e]),n}const Yne="_membersContainer_1ctw8_1",Jne="_scenarioSwitcher_1ctw8_13",Zne="_scenarioButton_1ctw8_25",ere="_scenarioButtonActive_1ctw8_63",tre="_scenarioButtonName_1ctw8_75",sre="_scenarioButtonDesc_1ctw8_83",nre="_setupInfo_1ctw8_93",rre="_setupInfoHeader_1ctw8_113",ire="_setupInfoTitle_1ctw8_127",are="_setupInfoMode_1ctw8_139",ore="_setupInfoRow_1ctw8_163",lre="_setupInfoLabel_1ctw8_175",cre="_setupInfoValue_1ctw8_189",dre="_setupInfoMeta_1ctw8_199",ure="_setupInfoPartners_1ctw8_209",hre="_setupInfoBadge_1ctw8_221",mre="_setupInfoEmpty_1ctw8_245",pre="_membersSummary_1ctw8_255",fre="_membersSummaryItem_1ctw8_275",gre="_membersSummaryLabel_1ctw8_287",xre="_membersSummaryValue_1ctw8_301",vre="_maxSlotsInput_1ctw8_313",yre="_membersTable_1ctw8_331",bre="_membersRow_1ctw8_349",_re="_membersHead_1ctw8_375",wre="_membersCell_1ctw8_385",jre="_memberName_1ctw8_395",Sre="_memberBadge_1ctw8_403",Nre="_assignmentCell_1ctw8_427",kre="_assignmentBadge_1ctw8_439",Cre="_assignmentBadgeMain_1ctw8_463",Tre="_assignmentBadgePartner_1ctw8_475",Are="_assignmentBadgeWatch_1ctw8_487",Ere="_assignmentBadgeIdle_1ctw8_499",Ire="_assignmentActions_1ctw8_507",Rre="_assignmentButton_1ctw8_519",Pre="_assignmentButtonActive_1ctw8_551",Lre="_decisionGroup_1ctw8_563",Dre="_decisionButton_1ctw8_575",Mre="_decisionButtonActive_1ctw8_607",Fre="_emptyWrap_1ctw8_619",Bre="_emptyTitle_1ctw8_633",$re="_emptyText_1ctw8_641",Vre="_contextMenuBackdrop_1ctw8_651",Ore="_contextMenu_1ctw8_651",Ure="_contextMenuItem_1ctw8_693",zre="_partnerPickerCell_1ctw8_725",Hre="_partnerLabel_1ctw8_737",Gre="_partnerSelect_1ctw8_751",Se={membersContainer:Yne,scenarioSwitcher:Jne,scenarioButton:Zne,scenarioButtonActive:ere,scenarioButtonName:tre,scenarioButtonDesc:sre,setupInfo:nre,setupInfoHeader:rre,setupInfoTitle:ire,setupInfoMode:are,setupInfoRow:ore,setupInfoLabel:lre,setupInfoValue:cre,setupInfoMeta:dre,setupInfoPartners:ure,setupInfoBadge:hre,setupInfoEmpty:mre,membersSummary:pre,membersSummaryItem:fre,membersSummaryLabel:gre,membersSummaryValue:xre,maxSlotsInput:vre,membersTable:yre,membersRow:bre,membersHead:_re,membersCell:wre,memberName:jre,memberBadge:Sre,assignmentCell:Nre,assignmentBadge:kre,assignmentBadgeMain:Cre,assignmentBadgePartner:Tre,assignmentBadgeWatch:Are,assignmentBadgeIdle:Ere,assignmentActions:Ire,assignmentButton:Rre,assignmentButtonActive:Pre,decisionGroup:Lre,decisionButton:Dre,decisionButtonActive:Mre,emptyWrap:Fre,emptyTitle:Bre,emptyText:$re,contextMenuBackdrop:Vre,contextMenu:Ore,contextMenuItem:Ure,partnerPickerCell:zre,partnerLabel:Hre,partnerSelect:Gre};function Wre({members:t,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:o}){var C,_,A,D,I,V;const[c,d]=J.useState(null),u=J.useRef(null),m=o.partnerGuilds.length>0?o.partnerGuilds.map(($,W)=>({id:$.id,label:$.name||`Partner ${W+1}`})):[{id:"partner-default",label:"Partner guild"}],p=J.useCallback(($,W)=>{d({memberId:$,...W})},[]),x=J.useCallback(()=>{d(null)},[]),v=J.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),w=J.useCallback(($,W,z)=>{v(),u.current=window.setTimeout(()=>{p($,{x:W,y:z})},550)},[v,p]);J.useEffect(()=>()=>v(),[v]);const S=J.useCallback(($,W,z)=>{if(W==="main")n($,"take"),r($,"main");else if(W==="partner"){const q=z?`partner:${z}`:"partner";n($,"take"),r($,q)}else n($,"bench"),r($,"none");x()},[x,n,r]),P=J.useCallback(($,W)=>{n($,W),W==="take"?r($,"main"):r($,"none")},[n,r]);if(!!!((_=(C=o.baseGuild)==null?void 0:C.name)!=null&&_.trim()&&((D=(A=o.baseGuild)==null?void 0:A.server)!=null&&D.trim())))return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"No base guild configured"}),s.jsx("p",{className:Se.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"Members & Slots"}),s.jsx("p",{className:Se.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"No members found"}),s.jsx("p",{className:Se.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const B=(I=e.decisions)!=null?I:{},L=(V=e.targetGuildAssignments)!=null?V:{},T=t.filter($=>B[$.id]==="take").length,y=t.filter($=>B[$.id]==="bench").length,j=t.filter($=>B[$.id]==="drop").length,M=Math.max(0,e.maxSlots-e.reservedSlots-T);return s.jsxs("div",{className:Se.membersContainer,children:[s.jsx("div",{className:Se.scenarioSwitcher,children:s.jsxs("div",{className:`${Se.scenarioButton} ${Se.scenarioButtonActive}`,children:[s.jsx("span",{className:Se.scenarioButtonName,children:e.name}),e.description?s.jsx("span",{className:Se.scenarioButtonDesc,children:e.description}):null]})}),s.jsxs("div",{className:Se.setupInfo,children:[s.jsxs("div",{className:Se.setupInfoHeader,children:[s.jsx("div",{className:Se.setupInfoTitle,children:"Planning for"}),s.jsx("span",{className:Se.setupInfoMode,children:o.mode==="scan"?"Scan":"Manual"})]}),o.baseGuild?s.jsxs("div",{className:Se.setupInfoRow,children:[s.jsx("span",{className:Se.setupInfoLabel,children:"Base Guild"}),s.jsxs("span",{className:Se.setupInfoValue,children:[o.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Se.setupInfoMeta,children:["(",o.baseGuild.server||"Server n/a",")"]})]})]}):s.jsx("div",{className:Se.setupInfoEmpty,children:"No base guild selected in Setup tab."}),s.jsxs("div",{className:Se.setupInfoRow,children:[s.jsx("span",{className:Se.setupInfoLabel,children:"Partner Guilds"}),o.partnerGuilds.length?s.jsx("div",{className:Se.setupInfoPartners,children:o.partnerGuilds.map($=>s.jsxs("span",{className:Se.setupInfoBadge,children:[$.name||"Unbenannt",s.jsxs("span",{className:Se.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):s.jsx("span",{className:Se.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),s.jsxs("div",{className:Se.membersSummary,children:[s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Selected"}),s.jsxs("div",{className:Se.membersSummaryValue,children:[T," / ",e.maxSlots]})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Free slots"}),s.jsx("div",{className:Se.membersSummaryValue,children:M})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Bench"}),s.jsx("div",{className:Se.membersSummaryValue,children:y})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Drop"}),s.jsx("div",{className:Se.membersSummaryValue,children:j})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Reserved"}),s.jsx("div",{className:Se.membersSummaryValue,children:e.reservedSlots})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Max slots"}),s.jsx("input",{type:"number",className:Se.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),s.jsxs("div",{className:Se.membersTable,children:[s.jsxs("div",{className:`${Se.membersRow} ${Se.membersHead}`,children:[s.jsx("div",{className:Se.membersCell,children:"Name"}),s.jsx("div",{className:Se.membersCell,children:"Level"}),s.jsx("div",{className:Se.membersCell,children:"Guild"}),s.jsx("div",{className:Se.membersCell,children:"Class"}),s.jsx("div",{className:Se.membersCell,children:"Plan"}),s.jsx("div",{className:Se.membersCell,children:"Decision"}),s.jsx("div",{className:Se.membersCell,children:"Partner"})]}),t.map($=>{var re,G,se,de,ee,fe,Te,xe,Ce;const W=(re=B[$.id])!=null?re:"undecided",z=(G=L[$.id])!=null?G:"none",q=z&&z.toString().startsWith("partner:")?z.split(":")[1]:null,Q=(fe=(se=m.find(Ne=>Ne.id===q))==null?void 0:se.label)!=null?fe:z==="partner"?(ee=(de=m[0])==null?void 0:de.label)!=null?ee:"Partner guild":null,H=W==="take"&&z==="main"?"main":W==="take"&&(z==="partner"||q)?"partner":W==="bench"?"watch":"unassigned",te=H==="main"?"Main guild":H==="partner"?Q||"Partner guild":H==="watch"?"Watchlist":"Not planned";return s.jsxs("div",{className:Se.membersRow,onContextMenu:Ne=>{Ne.preventDefault(),p($.id,{x:Ne.clientX,y:Ne.clientY})},onTouchStart:Ne=>{const ue=Ne.touches[0];ue&&w($.id,ue.clientX,ue.clientY)},onTouchEnd:v,onTouchCancel:v,children:[s.jsx("div",{className:Se.membersCell,children:s.jsx("div",{className:Se.memberName,children:$.name})}),s.jsx("div",{className:Se.membersCell,children:s.jsxs("span",{className:Se.memberBadge,children:["Lvl ",$.level]})}),s.jsx("div",{className:Se.membersCell,children:$.guildName}),s.jsx("div",{className:Se.membersCell,children:(xe=(Te=$.className)!=null?Te:$.class)!=null?xe:"?"}),s.jsxs("div",{className:`${Se.membersCell} ${Se.assignmentCell}`,children:[s.jsx("span",{className:`${Se.assignmentBadge} ${H==="main"?Se.assignmentBadgeMain:H==="partner"?Se.assignmentBadgePartner:H==="watch"?Se.assignmentBadgeWatch:Se.assignmentBadgeIdle}`,children:te}),s.jsxs("div",{className:Se.assignmentActions,role:"group","aria-label":"Target guild selection",children:[s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${H==="main"?Se.assignmentButtonActive:""}`,onClick:()=>S($.id,"main"),children:"Main"}),s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${H==="watch"?Se.assignmentButtonActive:""}`,onClick:()=>S($.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${H==="partner"?Se.assignmentButtonActive:""}`,onClick:()=>S($.id,"partner"),children:"Partner"})]})]}),s.jsx("div",{className:Se.membersCell,children:s.jsx("div",{className:Se.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(Ne=>s.jsx("button",{type:"button",className:`${Se.decisionButton} ${W===Ne?Se.decisionButtonActive:""}`,onClick:()=>P($.id,Ne),children:Ne==="take"?"Take":Ne==="bench"?"Bench":Ne==="drop"?"Drop":"?"},Ne))})}),s.jsxs("div",{className:`${Se.membersCell} ${Se.partnerPickerCell}`,children:[s.jsx("label",{className:Se.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),s.jsx("select",{id:`partner-select-${$.id}`,className:Se.partnerSelect,value:q!=null?q:(Ce=m[0])==null?void 0:Ce.id,onChange:Ne=>S($.id,"partner",Ne.target.value),children:m.map(Ne=>s.jsx("option",{value:Ne.id,children:Ne.label},Ne.id))})]})]},$.id)})]}),c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Se.contextMenuBackdrop,onClick:x}),s.jsxs("div",{className:Se.contextMenu,style:{top:c.y,left:c.x},children:[s.jsx("button",{type:"button",className:Se.contextMenuItem,onClick:()=>S(c.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:Se.contextMenuItem,onClick:()=>S(c.memberId,"watch"),children:"Move to Watchlist"}),m.map($=>s.jsxs("button",{type:"button",className:Se.contextMenuItem,onClick:()=>S(c.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const qre="_overview_6ytw3_1",Kre="_contextBox_6ytw3_15",Qre="_contextKicker_6ytw3_35",Xre="_contextTitle_6ytw3_51",Yre="_contextText_6ytw3_61",Jre="_contextDetails_6ytw3_71",Zre="_detailItem_6ytw3_85",eie="_detailLabel_6ytw3_99",tie="_detailValue_6ytw3_113",sie="_kpiGrid_6ytw3_121",nie="_kpiCard_6ytw3_133",rie="_kpiLabel_6ytw3_153",iie="_kpiValue_6ytw3_167",aie="_columnsWrapper_6ytw3_177",oie="_column_6ytw3_177",lie="_columnDropTarget_6ytw3_213",cie="_columnHeader_6ytw3_223",die="_columnKicker_6ytw3_235",uie="_columnTitle_6ytw3_251",hie="_columnCount_6ytw3_259",mie="_columnBody_6ytw3_281",pie="_memberCard_6ytw3_293",fie="_memberTop_6ytw3_337",gie="_memberName_6ytw3_349",xie="_memberMeta_6ytw3_357",vie="_memberBadge_6ytw3_369",yie="_memberBottom_6ytw3_395",bie="_memberGuild_6ytw3_409",_ie="_memberServer_6ytw3_419",wie="_memberActions_6ytw3_427",jie="_emptyList_6ytw3_469",Sie="_emptyWrap_6ytw3_487",Nie="_emptyTitle_6ytw3_501",kie="_emptyText_6ytw3_509",Cie="_addPartnerCard_6ytw3_519",Tie="_contextMenuBackdrop_6ytw3_559",Aie="_contextMenu_6ytw3_559",Eie="_contextMenuItem_6ytw3_601",ze={overview:qre,contextBox:Kre,contextKicker:Qre,contextTitle:Xre,contextText:Yre,contextDetails:Jre,detailItem:Zre,detailLabel:eie,detailValue:tie,kpiGrid:sie,kpiCard:nie,kpiLabel:rie,kpiValue:iie,columnsWrapper:aie,column:oie,columnDropTarget:lie,columnHeader:cie,columnKicker:die,columnTitle:uie,columnCount:hie,columnBody:mie,memberCard:pie,memberTop:fie,memberName:gie,memberMeta:xie,memberBadge:vie,memberBottom:yie,memberGuild:bie,memberServer:_ie,memberActions:wie,emptyList:jie,emptyWrap:Sie,emptyTitle:Nie,emptyText:kie,addPartnerCard:Cie,contextMenuBackdrop:Tie,contextMenu:Aie,contextMenuItem:Eie};function Iie({members:t,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:o}){var z,q,Q;const c=(z=e==null?void 0:e.decisions)!=null?z:{},d=(q=e==null?void 0:e.targetGuildAssignments)!=null?q:{},u=n.partnerGuilds.length>0?n.partnerGuilds.map((H,te)=>({id:H.id,label:H.name||`Partner ${te+1}`})):[{id:"partner-default",label:"Partner guild"}],m=t.filter(H=>c[H.id]==="take"&&d[H.id]==="main"),p=t.filter(H=>c[H.id]==="bench"),x=u.reduce((H,te)=>(H[te.id]=t.filter(re=>{const G=d[re.id];return c[re.id]==="take"&&(G===`partner:${te.id}`||G==="partner")}),H),{}),v=t.filter(H=>!m.includes(H)&&!p.includes(H)&&!Object.values(x).some(te=>te.includes(H))),[w,S]=J.useState(null),[P,R]=J.useState(null),B=J.useRef(null),L=t.length,T=m.length,y=p.length,j=Object.values(x).reduce((H,te)=>H+te.length,0),M=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-T-j):0,C=J.useCallback((H,te,re)=>{H&&(te==="main"?(r(H,"take"),i(H,"main")):te==="partner"?(r(H,"take"),i(H,re?`partner:${re}`:"partner")):te==="unassigned"?(r(H,"undecided"),i(H,"none")):(r(H,"bench"),i(H,"none")),R(null))},[r,i]),_=J.useCallback((H,te)=>re=>{re.preventDefault();const G=re.dataTransfer.getData("text/plain");G&&C(G,H,te),S(null)},[C]),A=J.useCallback(H=>te=>{te.preventDefault(),S(H)},[]),D=J.useCallback(()=>S(null),[]),I=J.useCallback((H,te)=>{R({memberId:H,...te})},[]),V=J.useCallback(()=>{B.current!==null&&(window.clearTimeout(B.current),B.current=null)},[]),$=J.useCallback((H,te,re)=>{V(),B.current=window.setTimeout(()=>{I(H,{x:te,y:re})},550)},[V,I]);if(J.useEffect(()=>()=>V(),[V]),!e)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"Overview"}),s.jsx("p",{className:ze.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"No members loaded"}),s.jsx("p",{className:ze.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const W=(H,te,re,G,se)=>s.jsxs("div",{className:`${ze.column} ${w===H?ze.columnDropTarget:""}`,onDragOver:A(H),onDragEnter:A(H),onDragLeave:D,onDrop:_(H,se),children:[s.jsxs("div",{className:ze.columnHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.columnKicker,children:re}),s.jsx("h4",{className:ze.columnTitle,children:te})]}),s.jsx("span",{className:ze.columnCount,children:G.length})]}),s.jsx("div",{className:ze.columnBody,children:G.length?G.map(de=>{var ee,fe,Te,xe;return s.jsxs("div",{className:ze.memberCard,draggable:!0,onDragStart:Ce=>Ce.dataTransfer.setData("text/plain",de.id),onContextMenu:Ce=>{Ce.preventDefault(),I(de.id,{x:Ce.clientX,y:Ce.clientY})},onTouchStart:Ce=>{const Ne=Ce.touches[0];Ne&&$(de.id,Ne.clientX,Ne.clientY)},onTouchEnd:V,onTouchCancel:V,children:[s.jsxs("div",{className:ze.memberTop,children:[s.jsxs("div",{children:[s.jsx("div",{className:ze.memberName,children:de.name}),s.jsxs("p",{className:ze.memberMeta,children:[(fe=(ee=de.className)!=null?ee:de.class)!=null?fe:"Unknown","  ",(Te=de.role)!=null?Te:"Unknown"]})]}),s.jsxs("span",{className:ze.memberBadge,children:["Lvl ",(xe=de.level)!=null?xe:"?"]})]}),s.jsxs("div",{className:ze.memberBottom,children:[s.jsxs("span",{className:ze.memberGuild,children:[de.guildName," ",s.jsxs("span",{className:ze.memberServer,children:["(",de.server||"Server n/a",")"]})]}),s.jsxs("div",{className:ze.memberActions,children:[s.jsx("button",{type:"button",onClick:()=>C(de.id,"main"),children:"Main"}),s.jsx("button",{type:"button",onClick:()=>C(de.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",onClick:()=>C(de.id,"partner"),children:"Partner"})]})]})]},de.id)}):s.jsx("div",{className:ze.emptyList,children:"No players in this list yet."})})]});return s.jsxs("div",{className:ze.overview,children:[s.jsxs("div",{className:ze.contextBox,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.contextKicker,children:"Setup"}),s.jsx("h3",{className:ze.contextTitle,children:"Fusion Overview"}),s.jsx("p",{className:ze.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),s.jsxs("div",{className:ze.contextDetails,children:[s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Base Guild"}),s.jsx("strong",{className:ze.detailValue,children:((Q=n.baseGuild)==null?void 0:Q.name)||"Unbenannt"})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Partner Guilds"}),s.jsx("strong",{className:ze.detailValue,children:n.partnerGuilds.length})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Max Slots"}),s.jsx("strong",{className:ze.detailValue,children:e.maxSlots})]})]})]}),s.jsxs("div",{className:ze.kpiGrid,children:[s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Total players"}),s.jsx("strong",{className:ze.kpiValue,children:L})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Main guild"}),s.jsx("strong",{className:ze.kpiValue,children:T})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Watchlist"}),s.jsx("strong",{className:ze.kpiValue,children:y})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Partner guild"}),s.jsx("strong",{className:ze.kpiValue,children:j})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Free slots"}),s.jsx("strong",{className:ze.kpiValue,children:M})]})]}),s.jsxs("div",{className:ze.columnsWrapper,children:[W("unassigned","Unassigned","Noch ohne Planung",v),W("main","Main guild","Take & Assign main",m),W("watch","Watchlist","Bench for review",p),u.map(H=>{var te;return W("partner",H.label,"Take & Assign partner",(te=x[H.id])!=null?te:[],H.id)}),s.jsx("button",{type:"button",className:ze.addPartnerCard,onClick:()=>o(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),P?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ze.contextMenuBackdrop,onClick:()=>R(null)}),s.jsxs("div",{className:ze.contextMenu,style:{top:P.y,left:P.x},children:[s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"watch"),children:"Move to Watchlist"}),u.map(H=>s.jsxs("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"partner",H.id),children:["Move to ",H.label]},H.id))]})]}):null]})}const Rie="_scenariosTab_3v4iw_1",Pie="_scenariosHeader_3v4iw_13",Lie="_scenariosTitle_3v4iw_35",Die="_scenariosText_3v4iw_45",Mie="_scenarioInfo_3v4iw_57",Fie="_headerActions_3v4iw_71",Bie="_createButton_3v4iw_81",$ie="_scenarioList_3v4iw_115",Vie="_scenarioCard_3v4iw_127",Oie="_scenarioCardActive_3v4iw_147",Uie="_scenarioCardTop_3v4iw_157",zie="_cardKicker_3v4iw_169",Hie="_cardTitle_3v4iw_185",Gie="_cardText_3v4iw_197",Wie="_scenarioActiveBadge_3v4iw_209",qie="_scenarioMeta_3v4iw_231",Kie="_scenarioMetaLabel_3v4iw_243",Qie="_scenarioMetaValue_3v4iw_259",Xie="_scenarioStats_3v4iw_269",Yie="_scenarioStatItem_3v4iw_281",Jie="_scenarioStatLabel_3v4iw_295",Zie="_scenarioStatValue_3v4iw_311",eae="_scenarioActions_3v4iw_321",tae="_scenarioActionButton_3v4iw_337",sae="_scenarioActionActive_3v4iw_367",nae="_scenarioActionGroup_3v4iw_377",rae="_secondaryActionButton_3v4iw_389",iae="_deleteActionButton_3v4iw_391",aae="_deleteActionDisabled_3v4iw_443",ct={scenariosTab:Rie,scenariosHeader:Pie,scenariosTitle:Lie,scenariosText:Die,scenarioInfo:Mie,headerActions:Fie,createButton:Bie,scenarioList:$ie,scenarioCard:Vie,scenarioCardActive:Oie,scenarioCardTop:Uie,cardKicker:zie,cardTitle:Hie,cardText:Gie,scenarioActiveBadge:Wie,scenarioMeta:qie,scenarioMetaLabel:Kie,scenarioMetaValue:Qie,scenarioStats:Xie,scenarioStatItem:Yie,scenarioStatLabel:Jie,scenarioStatValue:Zie,scenarioActions:eae,scenarioActionButton:tae,scenarioActionActive:sae,scenarioActionGroup:nae,secondaryActionButton:rae,deleteActionButton:iae,deleteActionDisabled:aae};function oae({scenarios:t,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:o,onDeleteScenario:c}){const d=J.useCallback(p=>{const x=Object.values(p.decisions),v=x.filter(R=>R==="take").length,w=x.filter(R=>R==="bench").length,S=x.filter(R=>R==="drop").length,P=Math.max(0,p.maxSlots-p.reservedSlots-v);return{selected:v,bench:w,drop:S,free:P}},[]),u=p=>{const x=window.prompt("Neuer Szenario-Name",p.name);x!==null&&o(p.id,x)},m=p=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&c(p.id)};return s.jsxs("div",{className:ct.scenariosTab,children:[s.jsxs("div",{className:ct.scenariosHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ct.cardKicker,children:"Scenarios"}),s.jsx("h3",{className:ct.scenariosTitle,children:"Fusion Plans verwalten"}),s.jsx("p",{className:ct.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),s.jsx("div",{className:ct.headerActions,children:s.jsx("button",{type:"button",className:ct.createButton,onClick:r,children:"Neues Szenario"})})]}),s.jsx("p",{className:ct.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),s.jsx("div",{className:ct.scenarioList,children:t.map(p=>{const x=d(p),v=p.id===e,w=t.length<=1;return s.jsxs("article",{className:`${ct.scenarioCard} ${v?ct.scenarioCardActive:""}`,children:[s.jsxs("div",{className:ct.scenarioCardTop,children:[s.jsxs("div",{children:[s.jsx("p",{className:ct.cardKicker,children:"Scenario"}),s.jsx("h3",{className:ct.cardTitle,children:p.name}),p.description?s.jsx("p",{className:ct.cardText,children:p.description}):null]}),v?s.jsx("span",{className:ct.scenarioActiveBadge,children:"Active"}):null]}),s.jsxs("div",{className:ct.scenarioMeta,children:[s.jsxs("div",{children:[s.jsx("span",{className:ct.scenarioMetaLabel,children:"Max slots"}),s.jsx("span",{className:ct.scenarioMetaValue,children:p.maxSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:ct.scenarioMetaLabel,children:"Reserved"}),s.jsx("span",{className:ct.scenarioMetaValue,children:p.reservedSlots})]})]}),s.jsxs("div",{className:ct.scenarioStats,children:[s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Selected"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.selected})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Free"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.free})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Bench"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.bench})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Drop"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.drop})]})]}),s.jsxs("div",{className:ct.scenarioActions,children:[s.jsx("button",{type:"button",className:`${ct.scenarioActionButton} ${v?ct.scenarioActionActive:""}`,onClick:()=>n(p.id),children:"Set active"}),s.jsxs("div",{className:ct.scenarioActionGroup,children:[s.jsx("button",{type:"button",className:ct.secondaryActionButton,onClick:()=>i(p.id),children:"Duplicate"}),s.jsx("button",{type:"button",className:ct.secondaryActionButton,onClick:()=>u(p),children:"Rename"}),s.jsx("button",{type:"button",className:`${ct.deleteActionButton} ${w?ct.deleteActionDisabled:""}`,onClick:()=>m(p),disabled:w,children:"Delete"})]})]})]},p.id)})})]})}const lae="_resultWrap_179wi_1",cae="_emptyState_179wi_13",dae="_emptyTitle_179wi_35",uae="_emptyText_179wi_43",hae="_resultHeader_179wi_55",mae="_resultKicker_179wi_79",pae="_resultTitle_179wi_95",fae="_resultText_179wi_107",gae="_emptyNote_179wi_119",xae="_setupSummary_179wi_131",vae="_setupSummaryTitle_179wi_149",yae="_setupSummaryRow_179wi_159",bae="_setupSummaryLabel_179wi_171",_ae="_setupSummaryValue_179wi_185",wae="_setupSummaryMeta_179wi_195",jae="_setupSummaryTags_179wi_205",Sae="_setupSummaryTag_179wi_205",Nae="_classDistribution_179wi_241",kae="_resultStats_179wi_253",Cae="_resultStatBadge_179wi_267",Tae="_resultStatBadgeMuted_179wi_269",Aae="_group_179wi_307",Eae="_groupHeader_179wi_327",Iae="_groupTitle_179wi_341",Rae="_groupHint_179wi_351",Pae="_groupBadge_179wi_361",Lae="_badgeSuccess_179wi_387",Dae="_badgeMuted_179wi_399",Mae="_badgeDanger_179wi_409",Fae="_groupEmpty_179wi_421",Bae="_groupTable_179wi_437",$ae="_groupRow_179wi_455",Vae="_groupHead_179wi_327",Oae="_groupCell_179wi_491",Uae="_memberName_179wi_501",zae="_memberBadge_179wi_509",Ge={resultWrap:lae,emptyState:cae,emptyTitle:dae,emptyText:uae,resultHeader:hae,resultKicker:mae,resultTitle:pae,resultText:fae,emptyNote:gae,setupSummary:xae,setupSummaryTitle:vae,setupSummaryRow:yae,setupSummaryLabel:bae,setupSummaryValue:_ae,setupSummaryMeta:wae,setupSummaryTags:jae,setupSummaryTag:Sae,classDistribution:Nae,resultStats:kae,resultStatBadge:Cae,resultStatBadgeMuted:Tae,group:Aae,groupHeader:Eae,groupTitle:Iae,groupHint:Rae,groupBadge:Pae,badgeSuccess:Lae,badgeMuted:Dae,badgeDanger:Mae,groupEmpty:Fae,groupTable:Bae,groupRow:$ae,groupHead:Vae,groupCell:Oae,memberName:Uae,memberBadge:zae};function Hae({members:t,scenario:e,setupState:n}){var S;if(!e)return s.jsxs("div",{className:Ge.emptyState,children:[s.jsx("h3",{className:Ge.emptyTitle,children:"No scenario selected"}),s.jsx("p",{className:Ge.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return s.jsxs("div",{className:Ge.emptyState,children:[s.jsx("h3",{className:Ge.emptyTitle,children:"No members available"}),s.jsx("p",{className:Ge.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:o,undecidedMembers:c}=J.useMemo(()=>{const P=[],R=[],B=[],L=[];return t.forEach(T=>{var j;const y=(j=e.decisions[T.id])!=null?j:"undecided";y==="take"?P.push(T):y==="bench"?R.push(T):y==="drop"?B.push(T):L.push(T)}),{takeMembers:P,benchMembers:R,dropMembers:B,undecidedMembers:L}},[t,e.decisions]),d=r.length,u=i.length,m=o.length,p=Math.max(0,e.maxSlots-d),x=e.maxSlots?Math.round(d/e.maxSlots*100):0,v=J.useMemo(()=>{const P=r.reduce((B,L)=>{var y,j;const T=(y=L.className)!=null?y:L.class;return T&&(B[T]=((j=B[T])!=null?j:0)+1),B},{});return Object.entries(P).map(([B,L])=>`${B}: ${L}`).join(" | ")},[r]),w=(P,R,B,L)=>s.jsxs("div",{className:Ge.group,children:[s.jsxs("div",{className:Ge.groupHeader,children:[s.jsxs("div",{children:[s.jsx("h4",{className:Ge.groupTitle,children:P}),s.jsx("span",{className:Ge.groupHint,children:R})]}),s.jsx("span",{className:`${Ge.groupBadge} ${L}`,children:B.length})]}),B.length===0?s.jsx("div",{className:Ge.groupEmpty,children:"No players in this group."}):s.jsxs("div",{className:Ge.groupTable,role:"table",children:[s.jsxs("div",{className:`${Ge.groupRow} ${Ge.groupHead}`,role:"row",children:[s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Name"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Level"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Guild"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Class"})]}),B.map(T=>{var y,j;return s.jsxs("div",{className:Ge.groupRow,role:"row",children:[s.jsx("div",{className:Ge.groupCell,role:"cell",children:s.jsx("span",{className:Ge.memberName,children:T.name})}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:s.jsxs("span",{className:Ge.memberBadge,children:["Lvl ",T.level]})}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:T.guildName}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:(j=(y=T.className)!=null?y:T.class)!=null?j:"-"})]},T.id)})]})]});return s.jsxs("div",{className:Ge.resultWrap,children:[s.jsxs("div",{className:Ge.resultHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ge.resultKicker,children:"Final Plan"}),s.jsx("h3",{className:Ge.resultTitle,children:e.name}),s.jsx("p",{className:Ge.resultText,children:(S=e.description)!=null?S:"Zusammenfassung des aktuellen Plans."}),r.length===0?s.jsx("p",{className:Ge.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,v?s.jsxs("p",{className:Ge.classDistribution,children:["Class distribution: ",v]}):null,s.jsxs("div",{className:Ge.setupSummary,children:[s.jsx("div",{className:Ge.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Base"}),s.jsxs("span",{className:Ge.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Ge.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Base"}),s.jsx("span",{className:Ge.setupSummaryMeta,children:"No base guild selected."})]}),s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?s.jsx("div",{className:Ge.setupSummaryTags,children:n.partnerGuilds.map(P=>s.jsxs("span",{className:Ge.setupSummaryTag,children:[P.name||"Unbenannt"," ",s.jsxs("span",{className:Ge.setupSummaryMeta,children:["(",P.server||"Server n/a",")"]})]},P.id))}):s.jsx("span",{className:Ge.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),s.jsxs("div",{className:Ge.resultStats,children:[s.jsxs("span",{className:Ge.resultStatBadge,children:["Members selected: ",d," / ",e.maxSlots]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Bench: ",u]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Drop: ",m]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Free slots: ",p]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Utilization: ",x,"%"]}),c.length>0?s.jsxs("span",{className:Ge.resultStatBadgeMuted,children:["Undecided: ",c.length]}):null]})]}),w("Final roster (selected)","Take",r,Ge.badgeSuccess),w("Bench (waiting list)","Bench",i,Ge.badgeMuted),w("Not included","Drop",o,Ge.badgeDanger)]})}const $m=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],bj=t=>t.reduce((e,n)=>(e[n.id]="undecided",e),{}),_j=t=>t.reduce((e,n)=>(e[n.id]="none",e),{}),Gae=(t,e,n)=>{var r,i,o,c,d,u,m,p,x,v,w,S,P,R,B,L;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(o=t.class)!=null?o:void 0,role:(c=t.role)!=null?c:"Unknown",level:(d=t.level)!=null?d:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(u=t.lastActivityMs)!=null?u:null,baseStats:{main:(m=t.baseMain)!=null?m:void 0,con:(p=t.conBase)!=null?p:void 0,sumBaseTotal:(x=t.sumBaseTotal)!=null?x:void 0},totalStats:(v=t.totalStats)!=null?v:void 0,values:{treasury:(w=t.treasury)!=null?w:void 0,mine:(S=t.mine)!=null?S:void 0,attrTotal:(P=t.attrTotal)!=null?P:void 0,conTotal:(R=t.conTotal)!=null?R:void 0,lastScan:(B=t.lastScan)!=null?B:void 0,lastActivity:(L=t.lastActivity)!=null?L:void 0}}},Wae=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=t.name)==null?void 0:i.trim();return n||null},wj=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,jj=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],qae=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function Kae(){var $;const[t,e]=J.useState("setup"),[n,r]=J.useState($m),[i,o]=J.useState(!1),[c,d]=J.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,m]=J.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:bj($m),targetGuildAssignments:_j($m),isDefault:!0}]),[p,x]=J.useState("plan-a"),v=J.useMemo(()=>{var W,z;return(z=(W=u.find(q=>q.id===p))!=null?W:u[0])!=null?z:null},[p,u]),w=J.useMemo(()=>{var Q,H;const W=c.baseGuild,z=(Q=W==null?void 0:W.name)==null?void 0:Q.trim(),q=(H=W==null?void 0:W.server)==null?void 0:H.trim();return!!(z&&q)},[c.baseGuild]),S=J.useMemo(()=>n.length>0,[n.length]),P=J.useMemo(()=>u.length>0,[u.length]),R=J.useMemo(()=>{const W=[];return w||W.push("Setup incomplete - no base guild selected."),w&&!S&&W.push("No members loaded yet. Check scans or setup."),P||W.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),W},[w,S,P]),B=(W,z)=>{m(q=>q.map(Q=>Q.id===p?{...Q,decisions:{...Q.decisions,[W]:z}}:Q))},L=(W,z)=>{m(q=>q.map(Q=>{var H;return Q.id===p?{...Q,targetGuildAssignments:{...(H=Q.targetGuildAssignments)!=null?H:{},[W]:z}}:Q}))},T=W=>{const z=Number(W)||0;m(q=>q.map(Q=>Q.id===p?{...Q,maxSlots:Math.max(0,z)}:Q))},y=()=>{m(W=>{const z={id:wj(),name:`Plan ${W.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:bj(n),targetGuildAssignments:_j(n)};return x(z.id),[...W,z]})},j=W=>{m(z=>{var H;const q=z.find(te=>te.id===W);if(!q)return z;const Q={...q,id:wj(),name:`${q.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...q.decisions},targetGuildAssignments:{...(H=q.targetGuildAssignments)!=null?H:{}}};return x(Q.id),[...z,Q]})},M=(W,z)=>{const q=z.trim();q&&m(Q=>Q.map(H=>H.id===W?{...H,name:q}:H))},C=W=>{m(z=>{if(z.length<=1)return z;const q=z.filter(Q=>Q.id!==W);return q.length?(p===W&&x(q[0].id),q):z})};J.useEffect(()=>{if(c.mode!=="scan"){o(!1),r($m);return}const W=[c.baseGuild,...c.partnerGuilds].filter(Boolean);if(W.length===0){o(!1),r([]);return}let z=!1;async function q(){var Q,H,te,re,G,se,de,ee,fe,Te;o(!0);try{const xe=[];for(const Ce of W){const Ne=Wae(Ce);if(!Ne)continue;const ue=ps(Rt,`guilds/${Ne}/latest/latest`),De=await ur(ue),Ee=De.exists()?De.data():null,st=(G=(re=(H=(Q=Ce.name)==null?void 0:Q.trim())!=null?H:Ee==null?void 0:Ee.name)!=null?re:(te=Ee==null?void 0:Ee.values)==null?void 0:te.Name)!=null?G:Ne,ut=(Te=(fe=(de=(se=Ce.server)==null?void 0:se.trim())!=null?de:Ee==null?void 0:Ee.server)!=null?fe:(ee=Ee==null?void 0:Ee.values)==null?void 0:ee.Server)!=null?Te:null,ss=ps(Rt,`guilds/${Ne}/snapshots/members_summary`),Hs=await ur(ss);if(!Hs.exists())continue;const Gs=Hs.data();(Array.isArray(Gs.members)?Gs.members:[]).forEach(Ws=>{xe.push(Gae(Ws,st,ut))})}z||r(xe)}catch(xe){console.error("[FusionPlanner] Failed to load members",xe),z||r([])}finally{z||o(!1)}}return r([]),q(),()=>{z=!0}},[c.baseGuild,c.partnerGuilds,c.mode]),J.useEffect(()=>{i||m(W=>W.map(z=>{var te;const q=new Set(n.map(re=>re.id)),Q={...z.decisions},H={...(te=z.targetGuildAssignments)!=null?te:{}};return n.forEach(re=>{Q[re.id]||(Q[re.id]="undecided"),H[re.id]||(H[re.id]="none")}),Object.keys(Q).forEach(re=>{q.has(re)||delete Q[re]}),Object.keys(H).forEach(re=>{q.has(re)||delete H[re]}),{...z,decisions:Q,targetGuildAssignments:H}}))},[n,i]);const _=W=>{d(z=>({...z,mode:W}))},A=W=>{d(z=>{var Q,H,te;const q=(Q=z.baseGuild)!=null?Q:{id:"base-1",kind:"base",name:"",server:""};return{...z,baseGuild:{...q,...W.id?{id:W.id}:{},name:(H=W.name)!=null?H:q.name,server:(te=W.server)!=null?te:q.server}}})},D=W=>{var H;if(!W.name.trim()||!W.server.trim())return;const z=W.name.trim(),q=W.server.trim(),Q=(H=W.id)==null?void 0:H.trim();d(te=>({...te,partnerGuilds:[...te.partnerGuilds,{id:Q&&!Q.startsWith("partner-")?Q:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:z,server:q,kind:"partner"}]}))},I=W=>{d(z=>({...z,partnerGuilds:z.partnerGuilds.filter(q=>q.id!==W)}))},V=()=>{switch(t){case"setup":return s.jsx(Xne,{setupState:c,onChangeMode:_,onChangeBaseGuild:A,onAddPartnerGuild:D,onRemovePartnerGuild:I});case"members":return s.jsx(Wre,{members:n,scenario:v,onChangeScenarioDecision:B,onChangeScenarioTargetGuild:L,onChangeScenarioMaxSlots:T,setupState:c});case"overview":return s.jsx(Iie,{members:n,scenario:v,setupState:c,onChangeScenarioDecision:B,onChangeScenarioTargetGuild:L,onAddPartnerGuild:W=>D({name:W,server:"tbd"})});case"scenarios":return s.jsx(oae,{scenarios:u,activeScenarioId:p,onSetActiveScenario:x,onCreateScenario:y,onDuplicateScenario:j,onRenameScenario:M,onDeleteScenario:C});case"result":return s.jsx(Hae,{members:n,scenario:v,setupState:c});default:return null}};return s.jsx(xt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:s.jsxs("div",{className:We.page,children:[s.jsxs("header",{className:We.header,children:[s.jsxs("div",{className:We.headerLeading,children:[s.jsx(Mt,{to:"/guild-hub",className:We.backLink,children:"Back to Guild Hub"}),s.jsxs("div",{className:We.headerStack,children:[s.jsx("p",{className:We.kicker,children:"Guild Hub"}),s.jsx("h1",{className:We.title,children:"Fusion Planner"}),s.jsx("p",{className:We.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),s.jsxs("div",{className:We.headerActions,children:[s.jsx("button",{type:"button",className:We.primaryAction,children:"Neues Setup"}),s.jsx("button",{type:"button",className:We.secondaryAction,children:"Checkliste"})]})]}),R.length?s.jsx("div",{className:We.plannerNotice,role:"status","aria-live":"polite",children:R.map(W=>s.jsxs("div",{className:`${We.noticeItem} ${W.toLowerCase().includes("no base guild")?We.noticeWarning:""}`,children:[s.jsx("span",{className:We.noticeDot,"aria-hidden":!0}),s.jsx("span",{children:W})]},W))}):null,s.jsxs("section",{className:We.tabSection,"aria-label":"Fusion Planner Tabs",children:[s.jsx("div",{className:We.tabBar,children:jj.map(W=>{const z=W.key===t;return s.jsxs("button",{type:"button",className:`${We.tabItem} ${z?We.tabItemActive:""}`,onClick:()=>e(W.key),"aria-pressed":z,children:[s.jsx("span",{className:We.tabLabel,children:W.label}),s.jsx("span",{className:We.tabHelper,children:W.helper})]},W.key)})}),s.jsxs("div",{className:We.tabPanel,children:[s.jsx("span",{className:We.tabBadge,children:($=jj.find(W=>W.key===t))==null?void 0:$.label}),V()]})]}),s.jsxs("section",{className:We.infoStrip,children:[s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Status"}),s.jsx("strong",{children:"Entwurf"}),s.jsx("p",{className:We.infoHint,children:"Bereit fuer weitere Eingaben."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Slots geplant"}),s.jsx("strong",{children:"0 / 40"}),s.jsx("p",{className:We.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Szenarien"}),s.jsx("strong",{children:"3"}),s.jsx("p",{className:We.infoHint,children:"Baseline, Optimistic, Risiko."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Letztes Update"}),s.jsx("strong",{children:"vor wenigen Minuten"}),s.jsx("p",{className:We.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),s.jsx("section",{className:We.stageGrid,children:qae.map(W=>s.jsxs("article",{className:We.panel,children:[s.jsxs("div",{className:We.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.panelKicker,children:W.step}),s.jsx("h2",{className:We.panelTitle,children:W.title}),s.jsx("p",{className:We.panelLead,children:W.description})]}),W.badge?s.jsx("span",{className:We.badge,children:W.badge}):null]}),s.jsx("div",{className:We.panelBody,children:s.jsx("div",{className:We.placeholderGrid,children:W.placeholders.map(z=>s.jsxs("div",{className:We.placeholderCard,children:[s.jsx("div",{className:We.placeholderTitle,children:z}),s.jsx("p",{className:We.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},z))})})]},W.key))}),s.jsx("section",{className:We.helperSection,children:s.jsxs("div",{className:We.helperCard,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.helperKicker,children:"Result"}),s.jsx("h3",{className:We.helperTitle,children:"Finaler Merge-Plan"}),s.jsx("p",{className:We.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),s.jsxs("div",{className:We.helperActions,children:[s.jsx("button",{type:"button",className:We.secondaryAction,children:"Teilen"}),s.jsx("button",{type:"button",className:We.primaryAction,children:"Review starten"})]})]})})]})})}const Qv=["EU-01","EU-02","US-01","US-02","ASIA-01"],cu=new Intl.NumberFormat("de-DE");function Qae(){const t=Ec("(min-width: 768px)"),[e,n]=J.useState("all"),[r,i]=J.useState(null),[o,c]=J.useState(null),[d,u]=J.useState(null),[m,p]=J.useState(null),x=[r,o].filter(Boolean).length,v=J.useMemo(()=>{const I=[d,m].filter(Boolean);if(!I.length)return 0;const V=I.reduce(($,W)=>{var z;return $+((z=W.members)!=null?z:0)},0);return Math.round(V/I.length)},[d,m]),[w,S]=J.useState(null),[P,R]=J.useState(!1),B=J.useRef(null);Ic(B,P&&!t),J.useEffect(()=>{t&&R(!1)},[t]),J.useEffect(()=>{if(!w)return;const I=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},V=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",V)}},[w]);const L=J.useMemo(()=>d?Au(d.nextUpdateAt,Date.now()):"",[d]),T=J.useMemo(()=>m?Au(m.nextUpdateAt,Date.now()):"",[m]),y=()=>R(!0),j=()=>R(!1),M=I=>{n(I)},C=(I,V)=>{I==="guildA"?(i(V.id),u(V)):(c(V.id),p(V))},_=I=>{I==="guildA"?(i(null),u(null)):(c(null),p(null))},A=I=>{S(V=>V===I?null:I)},D=d&&m;return s.jsxs(xt,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[s.jsxs("div",{className:ie.page,children:[s.jsxs("header",{className:ie.header,children:[s.jsxs("div",{className:ie.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Guild Hub"}),s.jsx("h1",{className:ie.title,children:"Gilden vergleichen"}),s.jsx("p",{className:ie.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),s.jsx("div",{className:ie.headerActions,children:!t&&s.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),s.jsxs("div",{className:ie.infoStrip,children:[s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Pool"}),s.jsxs("strong",{children:[cu.format(x)," Gilden"]})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Durchschnitt Mitglieder"}),s.jsx("strong",{children:cu.format(v)})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ie.inlineFilters,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Qv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:ie.layout,children:[s.jsxs("section",{className:ie.selectionColumn,children:[s.jsx(Sj,{title:"Gilde A",slot:"guildA",selectedGuild:d,excludeId:o,onSelect:C,onClear:_,serverFilter:e,onServerChange:M}),s.jsx(Sj,{title:"Gilde B",slot:"guildB",selectedGuild:m,excludeId:r,onSelect:C,onClear:_,serverFilter:e,onServerChange:M})]}),s.jsxs("section",{className:ie.comparisonColumn,children:[s.jsxs("div",{className:ie.comparisonCard,children:[s.jsxs("div",{className:ie.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Vergleich"}),s.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),D&&s.jsxs("span",{className:ie.diffBadge,children:["Delta Mitglieder:"," ",cu.format(d.members-m.members)]})]}),D?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ie.metricGrid,children:[s.jsx(Nj,{label:"Mitglieder",aValue:d.members,bValue:m.members}),s.jsx(Nj,{label:"Durchschnittslevel",aValue:d.avgLevel,bValue:m.avgLevel,isDecimal:!0}),s.jsx(Xae,{guildA:d,guildB:m,countdownA:L,countdownB:T,activePopover:w,onToggle:A})]}),s.jsx(Yae,{guildA:d,guildB:m})]}):s.jsx("div",{className:ie.emptyState,children:s.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ie.supportPanels,children:[s.jsx(Jae,{}),s.jsx(Zae,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ie.sheetOverlay} ${P?ie.sheetOpen:""}`,children:s.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:B,children:[s.jsxs("header",{className:ie.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ie.clearButton,onClick:j,children:"Schliessen"})]}),s.jsx("div",{className:ie.sheetBody,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:I=>M(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Qv.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function Sj({title:t,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:o,serverFilter:c,onServerChange:d}){const[u,m]=J.useState(""),p=Ac(u,300);J.useEffect(()=>{m("")},[n,c]);const{results:x,loading:v}=eoe(p,c,r);return s.jsxs("article",{className:ie.selectionCard,children:[s.jsxs("div",{className:ie.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.slotLabel,children:t}),s.jsx("p",{className:ie.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>o(e),children:"Reset"})]}),s.jsxs("div",{className:ie.slotBody,children:[s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:c,onChange:w=>d(w.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Qv.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ie.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:w=>m(w.target.value)})]}),s.jsxs("div",{className:ie.resultList,role:"list",children:[v&&s.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&x.length===0&&s.jsx("div",{className:ie.emptyResult,children:"Keine Gilde gefunden."}),!v&&x.map(w=>s.jsxs("div",{className:ie.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.resultName,children:w.name}),s.jsxs("p",{className:ie.resultMeta,children:[w.server," - ",w.members," Mitglieder"]})]}),s.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,w),children:"Waehlen"})]},w.id))]}),n&&s.jsxs("div",{className:ie.selectedCard,children:[s.jsx("p",{className:ie.selectedName,children:n.name}),s.jsxs("p",{className:ie.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),s.jsx("p",{className:ie.selectedTagline,children:n.tagline})]})]})]})}function Nj({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):cu.format(d),o=e-n;let c="gleich";if(o!==0){const d=r?Math.abs(o).toFixed(1).replace(".",","):cu.format(Math.abs(o));c=o>0?`+${d}`:`-${d}`}return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:t}),s.jsxs("div",{className:ie.metricValues,children:[s.jsx("span",{"aria-label":"Gilde A",children:i(e)}),s.jsx("span",{className:ie.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),s.jsx("p",{className:ie.metricDelta,children:c})]})}function Xae({guildA:t,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:o}){return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Freshness"}),s.jsx("div",{className:ie.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?n:r,u=`fresh-${c.id}`,m=i===u;return s.jsxs("div",{className:ie.freshnessItem,children:[s.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":m,onClick:()=>o(u),children:[s.jsx("span",{children:c.freshness.toUpperCase()}),s.jsx("small",{children:Yu(c.lastScanAt)})]}),m&&s.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ie.popoverTitle,children:c.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:V0[c.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:Ci(c.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[Ci(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function Yae({guildA:t,guildB:e}){const n=J.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return s.jsxs("div",{className:ie.classCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Klassenverteilung"}),s.jsx("div",{className:ie.classGrid,children:[t,e].map(r=>s.jsxs("div",{className:ie.classColumn,children:[s.jsx("h3",{children:r.name}),s.jsx("div",{className:ie.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>s.jsxs("span",{style:{width:`${i.percent}%`},className:ie.classSlice,children:[s.jsx("small",{children:i.label}),s.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),s.jsx("ul",{className:ie.classLegend,children:n.map(r=>s.jsx("li",{children:r},r))})]})}function Jae(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return s.jsxs("section",{className:ie.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ie.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function Zae(){return s.jsxs("section",{className:ie.infoCardExtended,children:[s.jsx("h3",{children:"Transfers-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ie.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),s.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function eoe(t,e,n){const[r,i]=J.useState([]),[o,c]=J.useState(!1);return J.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let u=!1;async function m(){c(!0);try{const p=d.toLowerCase(),x=tf(Rt,"latest"),v=await rn(En(x,za("nameFold"),zo(p),Ho(p+""),In(15))),w=await rn(En(x,qo("nameNgrams","array-contains",p),In(15))),S=new Set,P=[],R=B=>{var V,$,W,z,q,Q,H,te,re,G,se,de,ee,fe,Te,xe,Ce,Ne,ue,De,Ee;const L=B.data(),y=(V=B.ref.parent)==null?void 0:V.parent,j=y==null?void 0:y.parent;if((j==null?void 0:j.id)!=="guilds")return;const C=(W=($=y==null?void 0:y.id)!=null?$:L.guildIdentifier)!=null?W:B.id;if(!C||S.has(C)||n&&C===n)return;const _=(Q=(q=L.name)!=null?q:(z=L.values)==null?void 0:z.Name)!=null?Q:"Unbekannte Gilde",A=(re=(te=L.server)!=null?te:(H=L.values)==null?void 0:H.Server)!=null?re:"Unknown";if(e!=="all"&&A!==e)return;const D=(fe=(ee=(se=L.memberCount)!=null?se:(G=L.values)==null?void 0:G["Guild Member Count"])!=null?ee:(de=L.values)==null?void 0:de.GuildMemberCount)!=null?fe:0,I=(Ce=(xe=L.updatedAt)!=null?xe:(Te=L.values)==null?void 0:Te.UpdatedAt)!=null?Ce:L.timestamp?new Date(L.timestamp*1e3).toISOString():new Date().toISOString();S.add(C),P.push({id:C,name:_,tagline:(Ne=L.tagline)!=null?Ne:"",server:A,members:D,avgLevel:(Ee=(De=L.avgLevel)!=null?De:(ue=L.values)==null?void 0:ue.AvgLevel)!=null?Ee:0,lastScanAt:I,updatedAt:I,nextUpdateAt:I,freshness:"unknown",classes:[]})};v.forEach(R),w.forEach(R),u||(P.sort((B,L)=>B.name.localeCompare(L.name)),i(P))}catch(p){console.error("[GuildHub CompareGuilds] guild search failed",p),u||i([])}finally{u||c(!1)}}return m(),()=>{u=!0}},[t,e,n]),{results:r,loading:o}}const toe="_page_o27vc_1",soe="_header_o27vc_13",noe="_headerStack_o27vc_25",roe="_kicker_o27vc_37",ioe="_title_o27vc_53",aoe="_headerActions_o27vc_65",ooe="_primaryAction_o27vc_77",loe="_secondaryAction_o27vc_79",coe="_infoStrip_o27vc_109",doe="_infoPill_o27vc_129",uoe="_freshnessWrapper_o27vc_163",hoe="_freshnessBadge_o27vc_171",moe="_popover_o27vc_191",poe="_popoverLabel_o27vc_221",foe="_filterToolbar_o27vc_231",goe="_filterSheetButton_o27vc_241",xoe="_inlineFilters_o27vc_259",voe="_searchInput_o27vc_271",yoe="_select_o27vc_273",boe="_chipGroup_o27vc_295",_oe="_chip_o27vc_295",woe="_chipActive_o27vc_325",joe="_levelRow_o27vc_335",Soe="_sortControls_o27vc_363",Noe="_sortLabel_o27vc_375",koe="_directionButton_o27vc_385",Coe="_listBody_o27vc_403",Toe="_tableWrapper_o27vc_415",Aoe="_table_o27vc_415",Eoe="_cardFooter_o27vc_459",Ioe="_panel_o27vc_461",Roe="_formPanel_o27vc_463",Poe="_statusSelect_o27vc_481",Loe="_stickyColumn_o27vc_515",Doe="_rowButton_o27vc_529",Moe="_scanBadge_o27vc_545",Foe="_cardList_o27vc_561",Boe="_card_o27vc_459",$oe="_cardHeader_o27vc_593",Voe="_cardTitle_o27vc_605",Ooe="_cardMeta_o27vc_623",Uoe="_cardNotes_o27vc_635",zoe="_emptyState_o27vc_659",Hoe="_sheetBackdrop_o27vc_675",Goe="_sheet_o27vc_675",Woe="_sheetHandle_o27vc_717",qoe="_sheetBody_o27vc_733",Koe="_sheetLabel_o27vc_749",Qoe="_sheetActions_o27vc_785",Xoe="_overlay_o27vc_797",Yoe="_drawer_o27vc_837",Joe="_modal_o27vc_845",Zoe="_panelHeader_o27vc_853",ele="_section_o27vc_867",tle="_tagRow_o27vc_899",sle="_historyList_o27vc_913",nle="_panelFooter_o27vc_943",rle="_formOverlay_o27vc_955",ile="_formGrid_o27vc_1003",ale="_warning_o27vc_1015",ole="_pagination_o27vc_1033",_e={page:toe,header:soe,headerStack:noe,kicker:roe,title:ioe,headerActions:aoe,primaryAction:ooe,secondaryAction:loe,infoStrip:coe,infoPill:doe,freshnessWrapper:uoe,freshnessBadge:hoe,popover:moe,popoverLabel:poe,filterToolbar:foe,filterSheetButton:goe,inlineFilters:xoe,searchInput:voe,select:yoe,chipGroup:boe,chip:_oe,chipActive:woe,levelRow:joe,sortControls:Soe,sortLabel:Noe,directionButton:koe,listBody:Coe,tableWrapper:Toe,table:Aoe,cardFooter:Eoe,panel:Ioe,formPanel:Roe,statusSelect:Poe,stickyColumn:Loe,rowButton:Doe,scanBadge:Moe,cardList:Foe,card:Boe,cardHeader:$oe,cardTitle:Voe,cardMeta:Ooe,cardNotes:Uoe,emptyState:zoe,sheetBackdrop:Hoe,sheet:Goe,sheetHandle:Woe,sheetBody:qoe,sheetLabel:Koe,sheetActions:Qoe,overlay:Xoe,drawer:Yoe,modal:Joe,panelHeader:Zoe,section:ele,tagRow:tle,historyList:sle,panelFooter:nle,formOverlay:rle,formGrid:ile,warning:ale,pagination:ole},Pp=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],Lp=["EU-01","EU-02","US-01","US-02","ASIA-01"],O0={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},kj={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},qx={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},lle=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:Ba(2),updatedAt:Ba(3),freshness:"f1",history:[{date:or(1),message:"Interview abgeschlossen"},{date:or(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:Ba(10),updatedAt:Ba(11),freshness:"f3",history:[{date:or(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:Ba(20),updatedAt:Ba(5),freshness:"f4",history:[{date:or(4),message:"Probe erfolgreich"},{date:or(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:or(2),updatedAt:or(2),freshness:"f5",history:[{date:or(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:or(3),updatedAt:or(1),freshness:"f6",history:[{date:or(1),message:"Bewerbung zurueckgezogen"},{date:or(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:Ba(5),updatedAt:Ba(5),freshness:"f2",history:[{date:or(1),message:"Profil verifiziert"}]}];function Cj(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function cle(t,e,n){const r=n.toLowerCase();return t.filter(i=>{const o=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),c=e.status==="all"||i.status===e.status,d=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),m=i.level>=e.lvMin&&i.level<=e.lvMax;return o&&c&&d&&u&&m})}function dle(t,e,n){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"name":c=i.name.localeCompare(o.name);break;case"level":c=i.level-o.level;break;case"status":c=i.status.localeCompare(o.status);break;case"lastScan":c=new Date(i.lastScanAt).getTime()-new Date(o.lastScanAt).getTime();break;case"updatedAt":default:c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break}return n==="asc"?c:-c}),r}function ule(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function np(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function hle(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function mle(t){return t.length?t.reduce((e,n)=>e?kj[n.freshness]>kj[e.freshness]?n:e:n,null):null}function or(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function Ba(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function ple(){var z;const[t,e]=J.useState(lle),[n,r]=J.useState(qx),[i,o]=J.useState(qx),c=Ac(n.q,300),d=J.useMemo(()=>{const q=cle(t,n,c);return dle(q,n.sort,n.dir)},[t,n,c]),u=J.useMemo(()=>ule(d,n.page,n.pageSize),[d,n.page,n.pageSize]),m=Math.max(1,Math.ceil(d.length/n.pageSize)),p=Ec("(min-width: 768px)"),x=Ec("(min-width: 1024px)"),[v,w]=J.useState(!1),[S,P]=J.useState(null),R=(z=t.find(q=>q.id===S))!=null?z:null,B=J.useRef(null);Ic(B,!!R&&!x);const[L,T]=J.useState(null),[y,j]=J.useState(!1),M=J.useRef(null);Ic(M,y);const C=J.useMemo(()=>mle(t),[t]),_=C&&C.lastScanAt?hle(C.lastScanAt):"unbekannt",A=q=>{const Q=Cj(q);r(Q),o(Q)},D=(q,Q)=>{const H=Cj({...n,[q]:Q,page:q==="page"?Q:1});A(H)},I=()=>{A(i),w(!1)},V=()=>{A(qx),w(!1)},$=(q,Q)=>{e(H=>H.map(te=>te.id===q?{...te,status:Q,updatedAt:new Date().toISOString()}:te))},W=q=>{e(Q=>Q.some(te=>te.id===q.id)?Q.map(te=>te.id===q.id?q:te):[q,...Q]),j(!1)};return s.jsxs(xt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[s.jsxs("div",{className:_e.page,children:[s.jsxs("header",{className:_e.header,children:[s.jsxs("div",{className:_e.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:_e.kicker,children:"Recruiting"}),s.jsx("h1",{className:_e.title,children:"Waitlist"})]}),s.jsxs("div",{className:_e.headerActions,children:[s.jsx("button",{type:"button",className:_e.primaryAction,onClick:()=>{T(null),j(!0)},children:"Neuer Eintrag"}),!p&&s.jsx("button",{type:"button",className:_e.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>w(!0),children:"Filter"})]})]}),s.jsxs("div",{className:_e.infoStrip,children:[s.jsx(Kx,{label:"Neu",value:d.filter(q=>q.status==="new").length}),s.jsx(Kx,{label:"In Review",value:d.filter(q=>q.status==="in_review").length}),s.jsx(Kx,{label:"Zugesagt",value:d.filter(q=>q.status==="accepted").length}),C&&s.jsx(fle,{label:O0[C.freshness],updatedAt:C.lastScanAt,countdown:_})]})]}),s.jsx("section",{className:_e.filterToolbar,children:p?s.jsx(gle,{filters:n,onChange:D,onToggleClass:q=>{const Q=n.classes.includes(q)?n.classes.filter(H=>H!==q):[...n.classes,q];D("classes",Q)},onToggleServer:q=>{const Q=n.servers.includes(q)?n.servers.filter(H=>H!==q):[...n.servers,q];D("servers",Q)}}):s.jsx("button",{type:"button",className:_e.filterSheetButton,onClick:()=>w(!0),children:"Filter & Sortierung"})}),s.jsx("section",{className:_e.listBody,children:p?s.jsx(xle,{items:u,sort:n.sort,dir:n.dir,onSortChange:q=>{const Q=n.sort===q&&n.dir==="asc"?"desc":"asc";D("sort",q),D("dir",Q)},onSelect:P,onStatusChange:$}):s.jsx(vle,{items:u,onSelect:P,onStatusChange:$})}),s.jsx(ble,{page:n.page,totalPages:m,onChange:q=>D("page",q)})]}),v&&s.jsx(yle,{filters:i,onChange:o,onToggleClass:q=>o(Q=>({...Q,classes:Q.classes.includes(q)?Q.classes.filter(H=>H!==q):[...Q.classes,q]})),onToggleServer:q=>o(Q=>({...Q,servers:Q.servers.includes(q)?Q.servers.filter(H=>H!==q):[...Q.servers,q]})),onClose:()=>w(!1),onApply:I,onReset:V}),R&&s.jsx(Q3,{ref:B,item:R,mode:x?"drawer":"modal",onClose:()=>P(null),onEdit:()=>{T(R),j(!0),P(null)}}),y&&s.jsx(X3,{ref:M,item:L,entries:t,onClose:()=>j(!1),onSubmit:W})]})}function Kx({label:t,value:e}){return s.jsxs("div",{className:_e.infoPill,children:[s.jsx("span",{children:t}),s.jsx("strong",{children:e})]})}function fle({label:t,updatedAt:e,countdown:n}){const[r,i]=J.useState(!1);return s.jsxs("div",{className:_e.freshnessWrapper,children:[s.jsx("button",{type:"button",className:_e.freshnessBadge,onClick:()=>i(o=>!o),"aria-expanded":r,children:t}),r&&s.jsxs("div",{className:_e.popover,children:[s.jsxs("div",{children:[s.jsx("span",{className:_e.popoverLabel,children:"Letzter Scan"}),s.jsx("strong",{children:np(e)})]}),s.jsxs("div",{children:[s.jsx("span",{className:_e.popoverLabel,children:"Aktualisiert"}),s.jsx("strong",{children:n})]})]})]})}function gle({filters:t,onChange:e,onToggleClass:n,onToggleServer:r}){return s.jsxs("div",{className:_e.inlineFilters,children:[s.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:_e.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),s.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:_e.select,value:t.status,onChange:i=>e("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("div",{className:_e.chipGroup,children:Pp.map(i=>{const o=t.classes.includes(i);return s.jsx("button",{type:"button",className:`${_e.chip} ${o?_e.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),s.jsx("div",{className:_e.chipGroup,children:Lp.map(i=>{const o=t.servers.includes(i);return s.jsx("button",{type:"button",className:`${_e.chip} ${o?_e.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:_e.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),s.jsxs("div",{className:_e.sortControls,children:[s.jsx("label",{className:_e.sortLabel,children:"Sortieren"}),s.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"lastScan",children:"Letzter Scan"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),s.jsx("button",{type:"button",className:_e.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function xle({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:o}){const c=d=>e===d?n==="asc"?" ":" ":"";return t.length?s.jsx("div",{className:_e.tableWrapper,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:_e.stickyColumn,onClick:()=>r("name"),children:["Name",c("name")]}),s.jsx("th",{children:"Klasse"}),s.jsxs("th",{onClick:()=>r("level"),children:["Level",c("level")]}),s.jsx("th",{children:"Server"}),s.jsxs("th",{onClick:()=>r("status"),children:["Status",c("status")]}),s.jsx("th",{children:"Notizen"}),s.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",c("lastScan")]})]})}),s.jsx("tbody",{children:t.map(d=>s.jsxs("tr",{children:[s.jsx("td",{className:_e.stickyColumn,children:s.jsx("button",{type:"button",className:_e.rowButton,onClick:()=>i(d.id),children:d.name})}),s.jsx("td",{children:d.classRole}),s.jsx("td",{children:d.level}),s.jsx("td",{children:d.server}),s.jsx("td",{children:s.jsxs("select",{className:_e.statusSelect,name:`waitlistStatus-${d.id}`,"aria-label":`Status fuer ${d.name}`,value:d.status,onChange:u=>o(d.id,u.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),s.jsxs("td",{children:[d.notes.slice(0,64),"..."]}),s.jsx("td",{children:s.jsx("span",{className:_e.scanBadge,children:O0[d.freshness]})})]},d.id))})]})}):s.jsx(K3,{})}function vle({items:t,onSelect:e,onStatusChange:n}){return t.length?s.jsx("div",{className:_e.cardList,children:t.map(r=>s.jsxs("article",{className:_e.card,children:[s.jsxs("div",{className:_e.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:_e.cardTitle,onClick:()=>e(r.id),children:r.name}),s.jsxs("p",{className:_e.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),s.jsx("span",{className:_e.scanBadge,children:O0[r.freshness]})]}),s.jsxs("p",{className:_e.cardNotes,children:[r.notes.slice(0,160),"..."]}),s.jsxs("div",{className:_e.cardFooter,children:[s.jsxs("select",{className:_e.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):s.jsx(K3,{})}function K3(){return s.jsx("div",{className:_e.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function yle({filters:t,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:o,onReset:c}){return s.jsx("div",{className:_e.sheetBackdrop,onClick:i,children:s.jsxs("div",{className:_e.sheet,onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:_e.sheetHandle}),s.jsxs("div",{className:_e.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:_e.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:d=>e(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Status",s.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:d=>e(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),s.jsxs("div",{className:_e.sheetLabel,children:["Klassen",s.jsx("div",{className:_e.chipGroup,children:Pp.map(d=>{const u=t.classes.includes(d);return s.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Klasse ${d}`,onClick:()=>n(d),children:d},d)})})]}),s.jsxs("div",{className:_e.sheetLabel,children:["Server",s.jsx("div",{className:_e.chipGroup,children:Lp.map(d=>{const u=t.servers.includes(d);return s.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Server ${d}`,onClick:()=>r(d),children:d},d)})})]}),s.jsxs("div",{className:_e.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:d=>e(u=>({...u,lvMin:Number(d.target.value)}))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:d=>e(u=>({...u,lvMax:Number(d.target.value)}))})]})]})]}),s.jsxs("div",{className:_e.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:_e.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const Q3=J.forwardRef(({item:t,mode:e,onClose:n,onEdit:r},i)=>s.jsx("div",{className:_e.overlay,children:s.jsxs("div",{ref:i,className:`${_e.panel} ${e==="drawer"?_e.drawer:_e.modal}`,children:[s.jsxs("header",{className:_e.panelHeader,children:[s.jsxs("div",{children:[s.jsxs("p",{className:_e.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),s.jsx("h2",{children:t.name})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Kontakt"}),s.jsx("p",{children:t.contact}),s.jsxs("p",{children:["Quelle: ",t.source]})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Notizen"}),s.jsx("p",{children:t.notes})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Tags"}),s.jsx("div",{className:_e.tagRow,children:t.tags.length?t.tags.map(o=>s.jsx("span",{children:o},o)):s.jsx("span",{children:"Keine"})})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Historie"}),s.jsx("ul",{className:_e.historyList,children:t.history.map(o=>s.jsxs("li",{children:[s.jsx("span",{children:np(o.date)}),s.jsx("p",{children:o.message})]},`${o.date}-${o.message}`))})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Scan-Infos"}),s.jsxs("p",{children:["Letzter Scan: ",np(t.lastScanAt)]}),s.jsxs("p",{children:["Aktualisiert: ",np(t.updatedAt)]})]}),s.jsxs("footer",{className:_e.panelFooter,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:_e.primaryAction,onClick:n,children:"Schliessen"})]})]})}));Q3.displayName="DetailPanel";const X3=J.forwardRef(({item:t,entries:e,onClose:n,onSubmit:r},i)=>{const[o,c]=J.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:Pp[0],level:1,server:Lp[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});J.useEffect(()=>{t&&c(t)},[JSON.stringify(t)]);const d=m=>{m.preventDefault(),r({...o,updatedAt:new Date().toISOString()})},u=e.some(m=>m.id!==o.id&&m.name.toLowerCase()===o.name.toLowerCase()&&m.server===o.server);return s.jsx("div",{className:_e.formOverlay,children:s.jsxs("form",{ref:i,className:_e.formPanel,onSubmit:d,children:[s.jsxs("header",{className:_e.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:_e.cardMeta,children:t?"Bearbeiten":"Neu"}),s.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Schliessen"})]}),u&&s.jsx("div",{className:_e.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),s.jsxs("label",{className:_e.sheetLabel,children:["Name",s.jsx("input",{name:"waitlistFormName",value:o.name,onChange:m=>c(p=>({...p,name:m.target.value}))})]}),s.jsxs("div",{className:_e.formGrid,children:[s.jsxs("label",{children:["Klasse",s.jsx("select",{name:"waitlistFormClass",value:o.classRole,onChange:m=>c(p=>({...p,classRole:m.target.value})),children:Pp.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Level",s.jsx("input",{type:"number",name:"waitlistFormLevel",value:o.level,min:1,max:200,onChange:m=>c(p=>({...p,level:Number(m.target.value)}))})]}),s.jsxs("label",{children:["Server",s.jsx("select",{name:"waitlistFormServer",value:o.server,onChange:m=>c(p=>({...p,server:m.target.value})),children:Lp.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"waitlistFormStatus",value:o.status,onChange:m=>c(p=>({...p,status:m.target.value})),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Kontakt",s.jsx("input",{name:"waitlistFormContact",value:o.contact,onChange:m=>c(p=>({...p,contact:m.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Quelle",s.jsx("input",{name:"waitlistFormSource",value:o.source,onChange:m=>c(p=>({...p,source:m.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Notizen",s.jsx("textarea",{name:"waitlistFormNotes",value:o.notes,onChange:m=>c(p=>({...p,notes:m.target.value})),rows:4})]}),s.jsxs("footer",{className:_e.panelFooter,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:_e.primaryAction,children:"Speichern"})]})]})})});X3.displayName="WaitlistForm";function ble({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:_e.pagination,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const _le=["tab","sub","sub2","q","sort","dir","page","pageSize"];function Vc(t=[]){const[e,n]=nl(),r=J.useMemo(()=>[...t].sort().join("|"),[t]),i=J.useMemo(()=>{const p=new Set([..._le]);return t.forEach(x=>p.add(x)),Array.from(p)},[r]),o=J.useMemo(()=>{const p={};return i.forEach(x=>{const v=e.get(x);v!==null&&(p[x]=v)}),p},[e,i]),c=J.useCallback((p,x)=>{var w;const v=new URLSearchParams(e);Object.entries(p).forEach(([S,P])=>{P==null||P===""?v.delete(S):v.set(S,String(P))}),n(v,{replace:(w=x==null?void 0:x.replace)!=null?w:!1})},[e,n]),d=J.useCallback(p=>{const x=new URLSearchParams(e);(p&&p.length>0?p:i).forEach(w=>x.delete(w)),n(x,{replace:!0})},[e,n,i]),u=J.useCallback((p,x="")=>{var v;return(v=o[p])!=null?v:x},[o]),m=J.useCallback((p,x=0)=>{const v=o[p],w=v?Number(v):NaN;return Number.isFinite(w)?w:x},[o]);return{params:o,getParam:u,getNumberParam:m,writeParams:c,resetParams:d}}function wle(){return Vc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Activity"})})}function jle(){return Vc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Imports"})})}function Sle(){return Vc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Announcements"})})}function Nle(){return Vc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Events"})})}function kle(){return Vc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Roles"})})}function Cle(){return Vc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Settings"})})}const Tle=[{icon:s.jsx(zp,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(vE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(oE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],Ale=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],Ele=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function Ile(){return s.jsx(xt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Mt,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(Rle,{}),right:s.jsx(Ple,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Tle.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(Mt,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:Ale.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(hy,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function Rle(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(Mt,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(Mt,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(Mt,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),s.jsx(Mt,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function Ple(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:Ele.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const Lle=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function Dle(){return s.jsx(xt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:Lle.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:Mle(t.severity)},children:t.severity})]},t.id))})]})})}function Mle(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const ti={background:"#152A42",borderColor:"#2B4C73"},dc={background:"#1A2F4A",borderColor:"#2B4C73"},Qx=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function Fle(){const{data:t,loading:e,refreshing:n,error:r,refresh:i}=Ole(),o=J.useMemo(()=>[{label:"Total uploads",value:Tr(t.metrics.totalUploads),hint:`${Tr(t.metrics.last24h)} in the last 24h`,icon:s.jsx(EA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:Ru(t.metrics.successRate),hint:`${Tr(t.metrics.failed)} failed`,icon:s.jsx(vA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?Xx(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${Xx(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(TA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:Tj(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx(LA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Tr(t.metrics.uniqueUploaders),hint:`${Tr(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx(zp,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Tr(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(TS,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(xt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx(Ble,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:s.jsx($le,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:o.map(c=>s.jsxs("article",{className:"rounded-2xl border p-4",style:ti,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[c.icon,c.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:c.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:c.hint})]},c.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:ti,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:dc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:uc(c.status)},"aria-hidden":"true"}),U0(c.status)]}),s.jsx("span",{className:"font-semibold",children:Tr(c.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(c.share*100,100).toFixed(1)}%`,backgroundColor:uc(c.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[Ru(c.share)," of window"]})]},c.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ti,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:dc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:c.hourLabel}),s.jsxs("span",{children:[Tr(c.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:uc("success")},"aria-hidden":"true"}),"Success ",Tr(c.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:uc("failed")},"aria-hidden":"true"}),"Failed ",Tr(c.failed)]})]})]},c.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:ti,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Ga,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(hy,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(dA,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(c=>{var d,u,m,p;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:c.id}),s.jsx("span",{children:s.jsx(Vle,{status:c.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(d=c.uploaderName)!=null?d:c.uploaderId)!=null?u:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.uploadedAt?c.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(p=(m=c.guildName)!=null?m:c.guildId)!=null?p:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.errorCode?`Issue: ${c.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.processingMs?Xx(c.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.fileSizeBytes?Tj(c.fileSizeBytes):""})]},c.id)})})]})]})})}function Ble({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:ti,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(Up,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:ti,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:uc(i.status)},"aria-hidden":"true"}),U0(i.status)]}),s.jsx("span",{children:Ru(i.share)})]},i.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(Ga,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:ti,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Gm,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Gm,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Gm,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function $le({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:ti,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(TS,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:dc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:i.code}),s.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ti,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(hy,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var o;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:dc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),s.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(o=i.errorCode)!=null?o:"No error code provided"})]},i.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ti,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(zp,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:dc,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Ru(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Tr(i.count)})]},i.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ti,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(FA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:dc,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Ru(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Tr(i.count)})]},i.id))})]})]})}function Vle({status:t}){const e=uc(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(Gm,{className:"h-3 w-3","aria-hidden":"true"}),U0(t)]})}function Ole(){const[t,e]=J.useState(Qx),[n,r]=J.useState(!0),[i,o]=J.useState(!1),[c,d]=J.useState(null),u=J.useCallback(async(p=!1)=>{p?o(!0):r(!0);try{const x=Uu(Rt,"scanUploads"),v=En(x,za("uploadedAt","desc"),In(100)),S=(await rn(v)).docs.map(P=>Ule(P.id,P.data()));S.length>0?(e(S),d(null)):(e(Qx),d("No uploads in window  showing fallback snapshot"))}catch(x){console.error("[ScansUploaded] Failed to load Firestore data",x),d("Live data unavailable  fallback snapshot active"),e(Qx)}finally{p?o(!1):r(!1)}},[]);J.useEffect(()=>{u(!1)},[u]);const m=J.useMemo(()=>Hle(t),[t]);return{loading:n,refreshing:i,error:c,data:m,refresh:J.useCallback(()=>u(!0),[u])}}function Ule(t,e){const n=zle(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof fs?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function zle(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function Hle(t){var A,D;const e=new Map,n=new Map,r=new Map,i=new Map,o=[];let c=0,d=0;const m=Date.now()-1440*60*1e3,p=new Map;t.forEach(I=>{var z,q,Q,H,te,re,G,se,de,ee,fe,Te,xe,Ce,Ne,ue,De;const V=(z=e.get(I.status))!=null?z:0;if(e.set(I.status,V+1),I.uploadedAt&&I.uploadedAt.getTime()>=m&&(d+=1),I.processingMs!=null&&o.push(I.processingMs),I.fileSizeBytes!=null&&(c+=I.fileSizeBytes),I.status==="failed"&&I.errorCode){const Ee=(q=n.get(I.errorCode))!=null?q:{count:0,lastSeen:null};n.set(I.errorCode,{count:Ee.count+1,lastSeen:!Ee.lastSeen||I.uploadedAt&&Ee.lastSeen<I.uploadedAt?I.uploadedAt:Ee.lastSeen})}const $=(H=(Q=I.uploaderId)!=null?Q:I.uploaderName)!=null?H:`anon-${I.id}`,W=(G=r.get($))!=null?G:{name:(re=(te=I.uploaderName)!=null?te:I.uploaderId)!=null?re:"Unknown",success:0,total:0};if(r.set($,{name:(de=(se=I.uploaderName)!=null?se:I.uploaderId)!=null?de:"Unknown",success:W.success+(I.status==="success"?1:0),total:W.total+1}),I.guildId||I.guildName){const Ee=(fe=(ee=I.guildId)!=null?ee:I.guildName)!=null?fe:`guild-${I.id}`,st=(Ce=i.get(Ee))!=null?Ce:{name:(xe=(Te=I.guildName)!=null?Te:I.guildId)!=null?xe:"Unknown",success:0,total:0};i.set(Ee,{name:(ue=(Ne=I.guildName)!=null?Ne:I.guildId)!=null?ue:"Unknown",success:st.success+(I.status==="success"?1:0),total:st.total+1})}if(I.uploadedAt){const Ee=new Date(I.uploadedAt);Ee.setMinutes(0,0,0);const st=Ee.toISOString(),ut=(De=p.get(st))!=null?De:{hourLabel:Wle(Ee),timestamp:Ee,total:0,success:0,failed:0};p.set(st,{hourLabel:ut.hourLabel,timestamp:ut.timestamp,total:ut.total+1,success:ut.success+(I.status==="success"?1:0),failed:ut.failed+(I.status==="failed"?1:0)})}});const x=t.length,v=(A=e.get("success"))!=null?A:0,w=(D=e.get("failed"))!=null?D:0,S=o.length?o.reduce((I,V)=>I+V,0)/o.length:null,P=o.length?Gle(o,95):null,R=r.size,B=i.size,L=Array.from(e.entries()).map(([I,V])=>({status:I,count:V,share:x?V/x:0})).sort((I,V)=>V.count-I.count),T=Array.from(p.values()).sort((I,V)=>V.timestamp.getTime()-I.timestamp.getTime()).slice(0,12),y=Array.from(n.entries()).map(([I,V])=>({code:I,...V})).sort((I,V)=>V.count-I.count).slice(0,6),j=[...t].sort((I,V)=>{var $,W,z,q;return((W=($=V.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(z=I.uploadedAt)==null?void 0:z.getTime())!=null?q:0)}).slice(0,12),M=t.filter(I=>I.status==="failed").sort((I,V)=>{var $,W,z,q;return((W=($=V.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(z=I.uploadedAt)==null?void 0:z.getTime())!=null?q:0)}),C=Array.from(r.entries()).map(([I,V])=>({id:I,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((I,V)=>V.count-I.count).slice(0,5),_=Array.from(i.entries()).map(([I,V])=>({id:I,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((I,V)=>V.count-I.count).slice(0,5);return{metrics:{totalUploads:x,last24h:d,successRate:x?v/x:0,failed:w,avgProcessingMs:S,p95ProcessingMs:P,uniqueUploaders:R,uniqueGuilds:B,totalFileSizeBytes:c},statusBreakdown:L,timeline:T,issues:y,recentFailures:M,recentUploads:j,topUploaders:C,topGuilds:_}}function Gle(t,e){const n=[...t].sort((d,u)=>d-u);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),o=Math.ceil(r);if(i===o)return n[i];const c=r-i;return n[i]*(1-c)+n[o]*c}function Tr(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function Ru(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function Xx(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function Tj(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function uc(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function U0(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function Wle(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function Yx({label:t,value:e,hint:n}){return s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),s.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function qle(){var d,u,m,p,x,v;const{snapshot:t,error:e,loading:n,refresh:r}=M3(),i=(d=t==null?void 0:t.warnings)!=null?d:[],o=(m=(u=t==null?void 0:t.data)==null?void 0:u.length)!=null?m:0,c=(p=t==null?void 0:t.stats)!=null?p:{};return s.jsx(xt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Yx,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),s.jsx(Yx,{label:"Creators tracked",value:o?o.toString():"0"}),s.jsx(Yx,{label:"API lookups",value:`${(x=c.youtubeLookups)!=null?x:0}  ${(v=c.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?s.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):s.jsx("ul",{className:"space-y-2",children:i.map((w,S)=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[w.creator,"  ",w.scope]}),s.jsx("div",{className:"text-xs text-[#B0C4D9]",children:w.message}),w.source&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:w.source})]},`${w.scope}-${S}`))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),s.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{children:["Add the following environment variables (e.g. in ",s.jsx("code",{children:".env.local"}),"):",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),s.jsxs("li",{children:["Execute the sync script:",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),s.jsxs("li",{children:["Commit/deploy the generated ",s.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&s.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const bf=`${il}/admin/users`,Kle=25,z0=()=>{if(!bf)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},Aj=t=>typeof t!="number"?null:fs.fromMillis(t),H0=t=>{var e;return{id:t.id,userId:t.userId,displayName:t.displayName,avatarUrl:t.avatarUrl,primaryProvider:(e=t.primaryProvider)!=null?e:"discord",roles:t.roles,providers:t.providers,profile:t.profile,createdAt:Aj(t.createdAt),lastLoginAt:Aj(t.lastLoginAt),status:t.status,notes:t.notes}},Qle=t=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=t.pageSize)!=null?r:Kle)),t.cursor&&e.set("cursor",t.cursor),t.role&&e.set("role",t.role),t.status&&e.set("status",t.status),t.provider&&e.set("provider",t.provider),t.search&&e.set("search",t.search);const n=e.toString();return n?`?${n}`:""},G0=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function Ej(t={}){var r;z0();const e=Qle(t),n=`${bf}${e}`;try{const i=await fetch(n,{credentials:"include"});if(!i.ok)throw await G0(i);const o=await i.json();return{users:o.users.map(H0),nextPageCursor:(r=o.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function Xle(t){z0();const e=await fetch(`${bf}/${encodeURIComponent(t)}`,{credentials:"include"});if(!e.ok)throw await G0(e);const n=await e.json();return H0(n.user)}async function Yle(t,e){z0();const n=await fetch(`${bf}/${encodeURIComponent(t)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw await G0(n);const r=await n.json();return H0(r.user)}const Y3=`${il}/admin/audit-events`,Jle=50,Zle=()=>{if(!Y3)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},ece=t=>typeof t!="number"?null:fs.fromMillis(t),tce=t=>{var e,n;return{id:t.id,createdAt:ece(t.createdAt),actorUserId:t.actorUserId,actorDisplayName:(e=t.actorDisplayName)!=null?e:null,targetUserId:t.targetUserId,action:t.action,summary:t.summary,changes:(n=t.changes)!=null?n:{},context:t.context}},sce=t=>{var r;const e=new URLSearchParams;e.set("limit",String((r=t.limit)!=null?r:Jle)),t.cursor&&e.set("cursor",t.cursor),t.actorUserId&&e.set("actorUserId",t.actorUserId),t.targetUserId&&e.set("targetUserId",t.targetUserId),t.action&&e.set("action",t.action);const n=e.toString();return n?`?${n}`:""},nce=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function Xv(t={}){var i;Zle();const e=`${Y3}${sce(t)}`,n=await fetch(e,{credentials:"include"});if(!n.ok)throw await nce(n);const r=await n.json();return{events:r.events.map(tce),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function rce(t,e=10){return Xv({targetUserId:t,limit:e})}const ice=20,ace=50,du={borderColor:"#2B4C73",background:"#152A42"},J3={background:"#1A2F4A"};function oce(){var d;const{status:t,user:e}=al(),n=(d=e==null?void 0:e.roles)!=null?d:[],r=n.includes("admin"),i=r||n.includes("mod"),[o,c]=E.useState("users");return t==="loading"||t==="idle"?s.jsx(xt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[s.jsx(Ga,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?s.jsx(xt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:s.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[s.jsx(rl,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:s.jsx(lce,{activeTab:o,onChange:c}),children:o==="users"?s.jsx(cce,{isAdmin:r}):s.jsx(dce,{isAdmin:r,onSelectUser:u=>{c("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):s.jsx(xt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[s.jsx(fE,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),s.jsxs("p",{children:["You need at least the ",s.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function lce({activeTab:t,onChange:e}){const n=[{key:"users",label:"Users",icon:s.jsx(zp,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:s.jsx(rE,{className:"h-4 w-4"})}];return s.jsx("div",{className:"flex gap-2",children:n.map(r=>s.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function cce({isAdmin:t}){const[e,n]=E.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=E.useState(""),o=Jv(r,350);E.useEffect(()=>{n(ue=>ue.search===o?ue:{...ue,search:o})},[o]);const[c,d]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,m]=E.useState(0),p=E.useMemo(()=>({pageSize:ice,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);E.useEffect(()=>{let ue=!1;return d(De=>({...De,loading:!0,error:null})),Ej(p).then(De=>{ue||d({items:De.users,cursor:De.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(De=>{ue||d(Ee=>({...Ee,loading:!1,loadingMore:!1,error:De instanceof Error?De.message:"Failed to load users"}))}),()=>{ue=!0}},[p,u]);const x=()=>m(ue=>ue+1),v=async()=>{if(c.cursor){d(ue=>({...ue,loadingMore:!0,error:null}));try{const ue=await Ej({...p,cursor:c.cursor});d(De=>({items:[...De.items,...ue.users],cursor:ue.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(ue){d(De=>{var Ee;return{...De,loadingMore:!1,error:(Ee=ue==null?void 0:ue.message)!=null?Ee:"Failed to load additional users"}})}}},[w,S]=E.useState(null),[P,R]=E.useState(null),[B,L]=E.useState(!1),[T,y]=E.useState(null),[j,M]=E.useState(""),[C,_]=E.useState(!1),[A,D]=E.useState(null),[I,V]=E.useState(!1),[$,W]=E.useState(!1),[z,q]=E.useState([]),[Q,H]=E.useState(!1),[te,re]=E.useState(null),G=E.useRef(null);E.useEffect(()=>{G.current=w},[w]);const se=E.useRef(!1);E.useEffect(()=>{se.current=C},[C]);const de=E.useCallback(async ue=>{var De;H(!0),re(null);try{const Ee=await rce(ue,12);G.current===ue&&q(Ee.events)}catch(Ee){G.current===ue&&re((De=Ee==null?void 0:Ee.message)!=null?De:"Failed to load audit history")}finally{G.current===ue&&H(!1)}},[]);E.useEffect(()=>{var st;if(!w){R(null),M(""),_(!1),q([]),re(null),W(!1);return}const ue=w,De=c.items.find(ut=>ut.id===ue);De?(R(De),M((st=De.notes)!=null?st:"")):(R(null),M("")),_(!1),L(!0),y(null);let Ee=!1;return Xle(ue).then(ut=>{var ss;Ee||G.current!==ue||(R(ut),M((ss=ut.notes)!=null?ss:""),_(!1),L(!1))}).catch(ut=>{var ss;Ee||G.current!==ue||(L(!1),y((ss=ut==null?void 0:ut.message)!=null?ss:"Failed to load user"))}),de(ue),()=>{Ee=!0}},[w,c.items,de]),E.useEffect(()=>{var De;if(!w)return;const ue=c.items.find(Ee=>Ee.id===w);ue&&(R(Ee=>Ee&&Ee.id===ue.id?{...Ee,...ue}:ue),se.current||M((De=ue.notes)!=null?De:""))},[c.items,w]);const ee=E.useCallback(ue=>{d(De=>({...De,items:De.items.map(Ee=>Ee.id===ue.id?ue:Ee)}))},[]),fe=E.useCallback(async ue=>{var De,Ee;if(P){V(!0),D(null);try{const st=await Yle(P.id,ue);R(st),ee(st),"notes"in ue&&(_(!1),M((De=st.notes)!=null?De:"")),await de(st.id)}catch(st){D((Ee=st==null?void 0:st.message)!=null?Ee:"Failed to update user")}finally{V(!1)}}},[P,de,ee]),Te=ue=>{if(!P||!t||ue==="user")return;const De=new Set(P.roles);De.has(ue)?De.delete(ue):De.add(ue),De.add("user"),fe({roles:Array.from(De)})},xe=ue=>{!P||!t||Yv(P.status)===ue||ue==="banned"&&!window.confirm(`Ban ${uu(P)}? They will lose access to the control panel.`)||fe({status:ue})},Ce=ue=>{M(ue),_(!0)},Ne=()=>{!P||!t||!C||fe({notes:j.trim().length?j:null})};return E.useEffect(()=>{if(typeof window=="undefined")return;const ue=De=>{const Ee=De.detail;Ee!=null&&Ee.userId&&S(Ee.userId)};return window.addEventListener("sf-admin-open-user",ue),()=>{window.removeEventListener("sf-admin-open-user",ue)}},[]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:du,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(av,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:ue=>i(ue.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(rp,{label:"Role",value:e.role,onChange:ue=>n(De=>({...De,role:ue})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),s.jsx(rp,{label:"Status",value:e.status,onChange:ue=>n(De=>({...De,status:ue})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),s.jsx(rp,{label:"Provider",value:e.provider,onChange:ue=>n(De=>({...De,provider:ue})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:x,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Up,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[s.jsxs("div",{className:"rounded-2xl border",style:du,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#B0C4D9]",children:[c.items.length," users ",e.search?"filtered":""]}),c.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Ga,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:J3,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"User ID"}),s.jsx("th",{className:"px-4 py-2",children:"Display name"}),s.jsx("th",{className:"px-4 py-2",children:"Role"}),s.jsx("th",{className:"px-4 py-2",children:"Status"}),s.jsx("th",{className:"px-4 py-2",children:"Providers"}),s.jsx("th",{className:"px-4 py-2",children:"Created"}),s.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),s.jsx("tbody",{children:c.items.map(ue=>{var Ee,st,ut;const De=ue.id===w;return s.jsxs("tr",{onClick:()=>S(ue.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${De?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:ue.userId}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eC,{url:nC(ue),name:uu(ue)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:uu(ue)}),(Ee=ue.profile)!=null&&Ee.displayName&&ue.profile.displayName!==ue.displayName?s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:ue.profile.displayName}):null]})]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(tC,{role:sC(ue.roles)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(hce,{status:Yv(ue.status)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Dp,{provider:"discord",active:!!((st=ue.providers)!=null&&st.discord)}),s.jsx(Dp,{provider:"google",active:!!((ut=ue.providers)!=null&&ut.google)})]})}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:fc(ue.createdAt)}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:fc(ue.lastLoginAt)})]},ue.id)})})]}),!c.loading&&!c.items.length&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),c.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(Jd,{className:"h-3.5 w-3.5"}),c.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:c.cursor?"More users available":"End of list"}),s.jsx("button",{type:"button",onClick:v,disabled:!c.cursor||c.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:c.loadingMore?"Loading...":"Load more"})]})]}),s.jsx("aside",{className:"rounded-2xl border p-3",style:du,children:P?s.jsx(uce,{user:P,isAdmin:t,detailLoading:B,detailError:T,notesValue:j,notesDirty:C,onNotesChange:Ce,onNotesSave:Ne,onRoleToggle:Te,onStatusChange:xe,actionError:A,actionPending:I,auditEntries:z,auditLoading:Q,auditError:te,onRefreshAudit:()=>P&&de(P.id),showRawJson:$,toggleRawJson:()=>W(ue=>!ue)}):s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[s.jsx(kA,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function dce({isAdmin:t,onSelectUser:e}){const[n,r]=E.useState({actor:"",target:"",action:"all"}),[i,o]=E.useState(""),[c,d]=E.useState(""),u=Jv(i,350),m=Jv(c,350);E.useEffect(()=>{r(B=>B.actor===u&&B.target===m?B:{...B,actor:u,target:m})},[u,m]);const[p,x]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[v,w]=E.useState(0),S=E.useMemo(()=>{const B=n.action==="all"?void 0:n.action,L=n.actor.includes(":")?n.actor:void 0,T=n.target.includes(":")?n.target:void 0;return{limit:ace,action:B,actorUserId:L,targetUserId:T}},[n]);E.useEffect(()=>{let B=!1;return x(L=>({...L,loading:!0,error:null})),Xv(S).then(L=>{B||x({items:L.events,cursor:L.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(L=>{B||x(T=>{var y;return{...T,loading:!1,loadingMore:!1,error:(y=L==null?void 0:L.message)!=null?y:"Failed to load audit log"}})}),()=>{B=!0}},[S,v]);const P=async()=>{if(p.cursor){x(B=>({...B,loadingMore:!0,error:null}));try{const B=await Xv({...S,cursor:p.cursor});x(L=>({items:[...L.items,...B.events],cursor:B.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(B){x(L=>{var T;return{...L,loadingMore:!1,error:(T=B==null?void 0:B.message)!=null?T:"Failed to load more events"}})}}},R=E.useMemo(()=>{const B=n.actor.trim().toLowerCase(),L=n.target.trim().toLowerCase();return p.items.filter(T=>{var M;const y=!B||T.actorUserId.toLowerCase().includes(B)||((M=T.actorDisplayName)!=null?M:"").toLowerCase().includes(B),j=!L||T.targetUserId.toLowerCase().includes(L);return y&&j})},[p.items,n.actor,n.target]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:du,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(av,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:B=>o(B.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(av,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Target user id",value:c,onChange:B=>d(B.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(rp,{label:"Action",value:n.action,onChange:B=>r(L=>({...L,action:B})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:()=>w(B=>B+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Up,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"rounded-2xl border",style:du,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#8AA5C4]",children:[R.length," events"]}),p.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Ga,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:J3,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"Time"}),s.jsx("th",{className:"px-4 py-2",children:"Actor"}),s.jsx("th",{className:"px-4 py-2",children:"Target User"}),s.jsx("th",{className:"px-4 py-2",children:"Action"}),s.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),s.jsx("tbody",{children:R.map(B=>{var L;return s.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:fc(B.createdAt)}),s.jsxs("td",{className:"px-4 py-2",children:[s.jsx("div",{className:"text-white",children:(L=B.actorDisplayName)!=null?L:"N/A"}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:B.actorUserId})]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(B.targetUserId),children:B.targetUserId})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(Z3,{action:B.action})}),s.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:B.summary})]},B.id)})})]}),!R.length&&!p.loading&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),p.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(Jd,{className:"h-3.5 w-3.5"}),p.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:p.cursor?"More events available":"End of audit log"}),s.jsx("button",{type:"button",onClick:P,disabled:!p.cursor||p.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:p.loadingMore?"Loading...":"Load more"})]})]}),!t&&s.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function uce({user:t,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:o,onNotesChange:c,onNotesSave:d,onRoleToggle:u,onStatusChange:m,actionError:p,actionPending:x,auditEntries:v,auditLoading:w,auditError:S,onRefreshAudit:P,showRawJson:R,toggleRawJson:B}){var T,y;const L=sC(t.roles);return s.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[s.jsx(Ga,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[s.jsx(Jd,{className:"h-3.5 w-3.5"}),r]}),s.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(eC,{url:nC(t),name:uu(t),size:56}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-base text-white",children:uu(t)}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),s.jsxs("div",{className:"mt-1 flex gap-1",children:[s.jsx(tC,{role:L}),s.jsx(Dp,{provider:"discord",active:!!((T=t.providers)!=null&&T.discord)}),s.jsx(Dp,{provider:"google",active:!!((y=t.providers)!=null&&y.google)})]})]})]})}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(j=>s.jsx("button",{type:"button",onClick:()=>u(j),disabled:!e||j==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(j)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:j},j))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),s.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(j=>s.jsx("button",{type:"button",onClick:()=>m(j),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${Yv(t.status)===j?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:j},j))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&s.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),s.jsx("textarea",{value:i,onChange:j=>c(j.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[x&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ga,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),o&&e&&s.jsx("button",{type:"button",onClick:d,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),p&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(Jd,{className:"h-3 w-3"}),p]})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),s.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsx(Up,{className:"h-3 w-3"}),"Refresh"]})]}),w&&s.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[s.jsx(Ga,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),S&&s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(Jd,{className:"h-3 w-3"}),S]}),!w&&!v.length&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),s.jsx("ul",{className:"space-y-2",children:v.map(j=>{var M;return s.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[s.jsx("span",{children:fc(j.createdAt)}),s.jsx(Z3,{action:j.action})]}),s.jsx("div",{className:"mt-1 text-white",children:(M=j.actorDisplayName)!=null?M:j.actorUserId}),s.jsx("div",{className:"text-[#C8D6EC]",children:j.summary})]},j.id)})})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),s.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[s.jsx(wE,{className:"h-3 w-3"}),R?"Hide raw JSON":"Show raw JSON"]})]}),s.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[s.jsx(Vm,{label:"Created",value:fc(t.createdAt)}),s.jsx(Vm,{label:"Last login",value:fc(t.lastLoginAt)}),s.jsx(Vm,{label:"Primary provider",value:t.primaryProvider}),s.jsx(Vm,{label:"Roles",value:t.roles.join(", ")})]}),R&&s.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function Z3({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return s.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Vm({label:t,value:e}){return e?s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx("span",{className:"text-[#6E86A6]",children:t}),s.jsx("span",{className:"text-white",children:e})]}):null}function rp({label:t,value:e,options:n,onChange:r}){return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#8AA5C4]",children:t}),s.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))})]})}function eC({url:t,name:e,size:n=32}){return t?s.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):s.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function tC({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return s.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function hce({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:s.jsx(jA,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:s.jsx(rl,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:s.jsx(hA,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[t];return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function Dp({provider:t,active:e}){const n=t==="discord"?"D":"G";return s.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:n})}function sC(t){const e=["admin","mod","creator","user"];for(const n of e)if(t.includes(n))return n;return"user"}function uu(t){var e,n,r,i,o,c,d,u,m;return(m=(u=(o=(n=t.displayName)!=null?n:(e=t.profile)==null?void 0:e.displayName)!=null?o:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(d=(c=t.providers)==null?void 0:c.google)==null?void 0:d.displayName)!=null?m:t.userId}function nC(t){var e,n,r,i,o,c,d;return(d=(c=(r=t.avatarUrl)!=null?r:(n=(e=t.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?c:(o=(i=t.providers)==null?void 0:i.google)==null?void 0:o.avatarUrl)!=null?d:null}function Yv(t){return t!=null?t:"active"}function fc(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function Jv(t,e){const[n,r]=E.useState(t);return E.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function mce(){return s.jsx(xt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const pce="_page_jgozr_1",fce="_banner_jgozr_17",gce="_bannerSuccess_jgozr_31",xce="_bannerError_jgozr_43",vce="_card_jgozr_55",yce="_cardTitle_jgozr_75",bce="_cardSubtitle_jgozr_89",_ce="_identityHeader_jgozr_101",wce="_identityAvatar_jgozr_115",jce="_identityName_jgozr_129",Sce="_identityProvider_jgozr_143",Nce="_identityForm_jgozr_155",kce="_nameInputWrap_jgozr_171",Cce="_nameLabel_jgozr_187",Tce="_nameInput_jgozr_171",Ace="_nameSaveButton_jgozr_219",Ece="_feedbackError_jgozr_263",Ice="_feedbackSuccess_jgozr_275",Rce="_metaGrid_jgozr_287",Pce="_metaItem_jgozr_299",Lce="_metaLabel_jgozr_313",Dce="_metaValue_jgozr_327",Mce="_serviceList_jgozr_341",Fce="_serviceRow_jgozr_351",Bce="_serviceName_jgozr_379",$ce="_serviceStatus_jgozr_393",Vce="_serviceAction_jgozr_405",Oce="_securityText_jgozr_437",Uce="_securityNote_jgozr_449",zce="_logoutButton_jgozr_461",Hce="_loadingState_jgozr_493",Gce="_emptyState_jgozr_495",Wce="_emptyStateTitle_jgozr_513",qce="_emptyStateText_jgozr_525",Kce="_primaryButton_jgozr_537",dt={page:pce,banner:fce,bannerSuccess:gce,bannerError:xce,card:vce,cardTitle:yce,cardSubtitle:bce,identityHeader:_ce,identityAvatar:wce,identityName:jce,identityProvider:Sce,identityForm:Nce,nameInputWrap:kce,nameLabel:Cce,nameInput:Tce,nameSaveButton:Ace,feedbackError:Ece,feedbackSuccess:Ice,metaGrid:Rce,metaItem:Pce,metaLabel:Lce,metaValue:Dce,serviceList:Mce,serviceRow:Fce,serviceName:Bce,serviceStatus:$ce,serviceAction:Vce,securityText:Oce,securityNote:Uce,logoutButton:zce,loadingState:Hce,emptyState:Gce,emptyStateTitle:Wce,emptyStateText:qce,primaryButton:Kce},Qce="https://i.pravatar.cc/72",Om=`${il}/auth/account/profile`,Jx=`${il}/auth/google/link/start`,Ij=3,Rj=32,Pj=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},Xce=()=>{const{status:t,user:e,logout:n,refreshSession:r}=al(),i=Pr(),o=Qn(),c=E.useMemo(()=>{const L=new URLSearchParams(o.search);return L.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:L.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[o.search]),d=t==="loading"||t==="idle",u=t==="authenticated"&&!!e,m=()=>{i("/login")},p=async()=>{await n(),i("/")},x=()=>{if(!Jx){window.alert("Auth service is not configured for Google linking.");return}window.location.href=Jx},v=()=>s.jsx("div",{className:dt.loadingState,children:"Checking session..."}),w=()=>s.jsxs("div",{className:dt.emptyState,children:[s.jsx("p",{className:dt.emptyStateTitle,children:"You are not signed in."}),s.jsx("p",{className:dt.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),s.jsx("button",{type:"button",className:dt.primaryButton,onClick:m,children:"Go to sign-in"})]}),S=()=>{if(!c)return null;const L=c.type==="success"?`${dt.banner} ${dt.bannerSuccess}`:`${dt.banner} ${dt.bannerError}`;return s.jsx("div",{className:L,children:c.message})},P=()=>{var A,D,I;if(!e)return null;const L=(A=e.providers)==null?void 0:A.discord,T=(D=e.providers)==null?void 0:D.google,y=!!L,j=!!T,M=!!Jx,C=M?j?T!=null&&T.displayName?`Connected as ${T.displayName}`:"Connected":"Not connected":"Auth service not configured",_=[{key:"discord",name:"Discord",status:y?`Connected as ${(I=L==null?void 0:L.displayName)!=null?I:e.displayName}`:"Not connected",actionLabel:y?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:C,actionLabel:j?"Connected":"Connect",disabled:j||!M,onClick:j||!M?void 0:x},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return s.jsxs("section",{className:dt.card,children:[s.jsx("h2",{className:dt.cardTitle,children:"Connected services"}),s.jsx("p",{className:dt.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),s.jsx("div",{className:dt.serviceList,children:_.map(V=>s.jsxs("div",{className:dt.serviceRow,children:[s.jsxs("div",{children:[s.jsx("p",{className:dt.serviceName,children:V.name}),s.jsx("p",{className:dt.serviceStatus,children:V.status})]}),s.jsx("button",{type:"button",className:dt.serviceAction,disabled:V.disabled,onClick:V.onClick,children:V.actionLabel})]},V.key))})]})},R=()=>s.jsxs("section",{className:dt.card,children:[s.jsx("h2",{className:dt.cardTitle,children:"Security & session"}),s.jsx("p",{className:dt.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),s.jsx("p",{className:dt.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),s.jsx("button",{type:"button",className:dt.logoutButton,onClick:p,children:"Log out from this device"}),s.jsx("p",{className:dt.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),B=()=>d?v():u?s.jsxs(s.Fragment,{children:[s.jsx(Yce,{user:e,refreshSession:r}),P(),R()]}):w();return s.jsx(xt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:s.jsxs("div",{className:dt.page,children:[S(),B()]})})};function Yce({user:t,refreshSession:e}){var M;const[n,r]=E.useState(()=>{var C;return(C=t==null?void 0:t.displayName)!=null?C:""}),[i,o]=E.useState(!1),[c,d]=E.useState(null),[u,m]=E.useState(!1),p=(t==null?void 0:t.avatarUrl)||Qce,x=(t==null?void 0:t.provider)==="google"?"Google":"Discord",v=(M=t==null?void 0:t.displayName)!=null?M:"",w=n.trim(),S=w.length===0||w.length>=Ij&&w.length<=Rj,P=!!t&&w.length>0&&w!==v,R=!!(Om&&S&&P&&!i),B=w.length>0&&!S?`Name must be between ${Ij} and ${Rj} characters.`:null;E.useEffect(()=>{var C;r((C=t==null?void 0:t.displayName)!=null?C:""),m(!1),d(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const L=E.useMemo(()=>{var C;return t?[{label:"SFDataHub ID",value:t.id},(C=t.roles)!=null&&C.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:Pj(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:Pj(t.lastLoginAt)}:null].filter(_=>!!(_!=null&&_.value)):[]},[t]),T=async()=>{var C,_;if(!R||!Om){Om||d("Auth service is not configured.");return}try{o(!0),d(null),m(!1);const A=await fetch(Om,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:w})});if(!A.ok){const D=await A.json().catch(()=>null);throw new Error((C=D==null?void 0:D.error)!=null?C:"Failed to update name.")}await e(),m(!0),r(w)}catch(A){const D=(_=A==null?void 0:A.message)!=null?_:"Failed to update name.";d(D)}finally{o(!1)}},y=C=>{C.key==="Enter"&&(C.preventDefault(),R&&T())},j=()=>{R&&T()};return t?s.jsxs("section",{className:dt.card,children:[s.jsxs("div",{className:dt.identityHeader,children:[s.jsx("img",{src:p,alt:"",className:dt.identityAvatar}),s.jsxs("div",{children:[s.jsx("p",{className:dt.identityName,children:t.displayName||"Unbenannter Nutzer"}),s.jsxs("p",{className:dt.identityProvider,children:[x," sign-in"]})]}),s.jsx("span",{className:dt.statusBadge,children:"Verified"})]}),s.jsxs("div",{className:dt.identityForm,children:[s.jsxs("div",{className:dt.nameInputWrap,children:[s.jsx("label",{className:dt.nameLabel,children:"Display name"}),s.jsx("input",{type:"text",className:dt.nameInput,value:n,onChange:C=>r(C.target.value),onKeyDown:y,onBlur:j,placeholder:"Enter your display name"})]}),s.jsx("button",{type:"button",className:dt.nameSaveButton,disabled:!R,onClick:T,children:i?"Saving...":"Save"})]}),B&&s.jsx("p",{className:dt.feedbackError,children:B}),c&&s.jsx("p",{className:dt.feedbackError,children:c}),u&&s.jsx("p",{className:dt.feedbackSuccess,children:"Name updated."}),L.length>0&&s.jsx("div",{className:dt.metaGrid,children:L.map(C=>s.jsxs("div",{className:dt.metaItem,children:[s.jsx("span",{className:dt.metaLabel,children:C.label}),s.jsx("span",{className:dt.metaValue,children:C.value})]},C.label))})]}):null}const vt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function Jce(){return s.jsx("div",{style:vt.wrap,children:s.jsxs("div",{style:vt.grid,children:[s.jsxs("aside",{style:vt.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:vt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:vt.groupLabel,children:"Allgemein"}),s.jsx(as,{to:"list-views",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"List-View Switcher"}),s.jsx(as,{to:"rescan-widget",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(as,{to:"upload-sim",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Upload Simulator"}),s.jsx(as,{to:"hud/game-buttons",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"HUD  Game Buttons"}),s.jsx(as,{to:"theme-maker",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Theme / Template Maker"}),s.jsx(as,{to:"theme-maker-pro",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:vt.groupLabel,children:"Templates"}),s.jsx(as,{to:"templates/content-shell",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"ContentShell Template"}),s.jsx(as,{to:"templates/blank",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Leere Vorlage"}),s.jsx(as,{to:"templates/blank-alt",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Leere Vorlage (Neu)"}),s.jsx(as,{to:"templates/blank-layout-2",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Leere Vorlage  Layout 2"}),s.jsx(as,{to:"templates/blank-layout-3",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Leere Vorlage  Layout 3"}),s.jsx(as,{to:"templates/blank-layout-4",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"Leere Vorlage  Layout 4"}),s.jsx("div",{style:vt.groupLabel,children:"Guide Hub Demos"}),s.jsx(as,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:vt.groupLabel,children:"Graphics / Portraits"}),s.jsx(as,{to:"portrait-maker",style:({isActive:t})=>({...vt.link,...t?vt.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:vt.tile,children:s.jsx(vS,{})})]})})}const Zce="_page_1kokx_1",ede="_topBar_1kokx_17",tde="_tabs_1kokx_31",sde="_tab_1kokx_31",nde="_tabActive_1kokx_63",rde="_searchWrap_1kokx_73",ide="_input_1kokx_85",ade="_stickyIcons_1kokx_105",ode="_iconBtn_1kokx_129",lde="_tableWrap_1kokx_161",cde="_table_1kokx_161",dde="_th_1kokx_181",ude="_td_1kokx_181",hde="_row_1kokx_201",mde="_chips_1kokx_219",pde="_chip_1kokx_219",fde="_badges_1kokx_249",gde="_badge_1kokx_249",xde="_badgeMax_1kokx_275",vde="_badgeAchiev_1kokx_277",yde="_badgeX2_1kokx_279",bde="_badgeX12_1kokx_281",_de="_badgeX60_1kokx_283",wde="_section_1kokx_289",jde="_sectionHeader_1kokx_297",Sde="_cardList_1kokx_315",Nde="_card_1kokx_315",kde="_cardMax_1kokx_353",Cde="_iconXL_1kokx_355",Tde="_split_1kokx_369",Ade="_left_1kokx_379",Ede="_leftBtn_1kokx_399",Ide="_leftBtnActive_1kokx_411",Rde="_detail_1kokx_413",Pde="_grid_1kokx_433",Lde="_tile_1kokx_443",Dde="_drawer_1kokx_457",Mde="_timeline_1kokx_487",Fde="_node_1kokx_493",Bde="_dot_1kokx_501",Ye={page:Zce,topBar:ede,tabs:tde,tab:sde,tabActive:nde,searchWrap:rde,input:ide,stickyIcons:ade,iconBtn:ode,tableWrap:lde,table:cde,th:dde,td:ude,row:hde,chips:mde,chip:pde,badges:fde,badge:gde,badgeMax:xde,badgeAchiev:vde,badgeX2:yde,badgeX12:bde,badgeX60:_de,section:wde,sectionHeader:jde,cardList:Sde,card:Nde,cardMax:kde,iconXL:Cde,split:Tde,left:Ade,leftBtn:Ede,leftBtnActive:Ide,detail:Rde,grid:Pde,tile:Lde,drawer:Dde,timeline:Mde,node:Fde,dot:Bde},Lj=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Er(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function $de(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function Vde(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Mp({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Ye.iconBtn,title:t||"Rune",children:e})}function W0({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Ye.iconXL,title:t||"Rune",children:e})}function Ode(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function Ju({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Ye.chips,children:e.map((n,r)=>s.jsx("span",{className:Ye.chip,children:n},r))})}function Zu({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Ye.badgeMax}),$de(t)&&n.push({label:"Achievement",cls:Ye.badgeAchiev});const r=Vde(t);return r==="x2"&&n.push({label:"x2",cls:Ye.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Ye.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Ye.badgeX60}),n.length===0?null:s.jsx("div",{className:Ye.badges,children:n.map((i,o)=>{var c;return s.jsx("span",{className:`${Ye.badge} ${(c=i.cls)!=null?c:""}`,children:i.label},o)})})}function Ude(t){const e=t.trim().toLowerCase();return e?Lj.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Lj}function zde({data:t}){const e=Math.max(...t.map(i=>Er(i.amount))),n=E.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const o=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ye.stickyIcons,children:n.map((i,o)=>s.jsx("div",{onClick:()=>r(i),children:s.jsx(Mp,{label:i||"(no tier)"})},o))}),s.jsx("div",{className:Ye.tableWrap,children:s.jsxs("table",{className:Ye.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ye.th,style:{width:42}}),s.jsx("th",{className:Ye.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Ye.th,children:"Bonuses"}),s.jsx("th",{className:Ye.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((i,o)=>{const c=Math.abs(Er(i.amount)-e)<1e-6;return s.jsxs("tr",{className:Ye.row,"data-tier":i.tier||"(no tier)",children:[s.jsx("td",{className:Ye.td,children:s.jsx(Mp,{label:i.tier||""})}),s.jsx("td",{className:Ye.td,children:i.amount}),s.jsx("td",{className:Ye.td,children:s.jsx(Ju,{r:i})}),s.jsx("td",{className:Ye.td,children:s.jsx(Zu,{r:i,isMax:c})})]},o)})})]})})]})}function Hde({data:t}){const e=Ode(t),n=Math.max(...t.map(r=>Er(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,i])=>s.jsxs("section",{className:Ye.section,children:[s.jsx("div",{className:Ye.sectionHeader,children:r}),s.jsx("div",{className:Ye.cardList,children:i.map((o,c)=>{const d=Math.abs(Er(o.amount)-n)<1e-6;return s.jsxs("div",{className:`${Ye.card} ${d?Ye.cardMax:""}`,children:[s.jsx(W0,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:o.amount}),s.jsx(Zu,{r:o,isMax:d})]}),s.jsx(Ju,{r:o})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function Gde({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=E.useState((c=e[0])!=null?c:""),i=t.filter(d=>(d.tier||"(no tier)")===n),o=Math.max(...t.map(d=>Er(d.amount)));return s.jsxs("div",{className:Ye.split,children:[s.jsx("div",{className:Ye.left,children:e.map(d=>s.jsxs("button",{className:`${Ye.leftBtn} ${d===n?Ye.leftBtnActive:""}`,onClick:()=>r(d),children:[s.jsx(Mp,{label:d}),s.jsx("span",{children:d})]},d))}),s.jsxs("div",{className:Ye.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(W0,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((d,u)=>{const m=Math.abs(Er(d.amount)-o)<1e-6;return s.jsxs("div",{className:Ye.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:d.amount}),s.jsx(Zu,{r:d,isMax:m})]}),s.jsx(Ju,{r:d})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function Wde({data:t}){const[e,n]=E.useState(null),r=Math.max(...t.map(i=>Er(i.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ye.grid,children:t.map((i,o)=>s.jsx("div",{className:Ye.tile,onClick:()=>n(i),title:i.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(Mp,{label:i.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},o))}),e&&s.jsxs("div",{className:Ye.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(W0,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Ye.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(Zu,{r:e,isMax:Math.abs(Er(e.amount)-r)<1e-6})}),s.jsx(Ju,{r:e})]})]})}function qde({data:t}){const e=Math.max(...t.map(r=>Er(r.amount))),n=[...t].sort((r,i)=>Er(r.amount)-Er(i.amount));return s.jsx("div",{className:Ye.timeline,children:n.map((r,i)=>{const o=Math.abs(Er(r.amount)-e)<1e-6;return s.jsxs("div",{className:Ye.node,children:[s.jsx("div",{className:Ye.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(Zu,{r,isMax:o})]}),s.jsx(Ju,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const Kde=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function Qde(){const[t,e]=E.useState("A: Compact Table"),[n,r]=E.useState(""),i=Ude(n);return s.jsxs("div",{className:Ye.page,children:[s.jsxs("div",{className:Ye.topBar,children:[s.jsx("div",{className:Ye.tabs,children:Kde.map(o=>s.jsx("button",{onClick:()=>e(o),className:`${Ye.tab} ${t===o?Ye.tabActive:""}`,children:o},o))}),s.jsx("div",{className:Ye.searchWrap,children:s.jsx("input",{className:Ye.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:o=>r(o.target.value)})})]}),t==="A: Compact Table"&&s.jsx(zde,{data:i}),t==="B: Card Track"&&s.jsx(Hde,{data:i}),t==="C: Two-Pane"&&s.jsx(Gde,{data:i}),t==="D: Icon Grid + Drawer"&&s.jsx(Wde,{data:i}),t==="E: Timeline"&&s.jsx(qde,{data:i})]})}function Xde(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(as,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const ge={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},Yde=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Oo={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function Jde(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Oc(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",Jde(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function rC(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},o={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},m={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},p={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},x={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},w={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:o,gold:c,obsidian:d,neon:u,plasma:m,aurora:p,satin:x,matte:v,holo:w}[t.material]}function so(t){const e={color:ge.title,borderColor:ge.border,...rC(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const eh=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function Uc({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function Zde({fx:t,children:e}){const n=Oc(t),r=so(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(Uc,{fx:t,clip:i}),t.withIcon&&s.jsx(NS,{size:16,className:"relative z-10"}),s.jsx(eh,{children:e})]})}function eue({fx:t,children:e}){const n=Oc(t),r=so(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(Uc,{fx:t,clip:i}),t.withIcon&&s.jsx(kS,{size:16,className:"relative z-10"}),s.jsx(eh,{children:e})]})}function tue({fx:t,children:e}){const n=Oc(t),r=so(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(Uc,{fx:t,clip:i}),t.withIcon&&s.jsx(rl,{size:16,className:"relative z-10"}),s.jsx(eh,{children:e})]})}function sue({fx:t,children:e}){const n=Oc(t),r=so(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${ge.tile}, ${ge.active})`}}),s.jsx(Uc,{fx:t,clip:i}),t.withIcon&&s.jsx(CS,{size:16,className:"relative z-10"}),s.jsx(eh,{children:e})]})}function nue({fx:t,children:e}){const n=Oc(t),r=so(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(Uc,{fx:t}),t.withIcon&&s.jsx(Op,{size:16,className:"relative z-10"}),s.jsx(eh,{children:e})]})}function rue({fx:t,tabs:e}){const[n,r]=E.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:e.map((i,o)=>s.jsxs("button",{onClick:()=>r(o),className:`px-4 py-2 rounded-lg text-sm transition-colors ${o===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:o===n?ge.active:"transparent",border:o===n&&t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[t.withIcon&&o===n&&s.jsx(Op,{size:14,className:"inline mr-1"}),i]},o))})}function iue({fx:t}){const e=Oc(t),n=so(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(AS,{})})}const Zv={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function aue({fx:t,setFx:e}){const n=(d,u)=>e(m=>({...m,[d]:u})),r=d=>e(u=>({...u,[d]:!u[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],o=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Presets"}),Object.keys(Zv).map(d=>s.jsx("button",{onClick:()=>e(u=>Zv[d](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:ge.btn,borderColor:ge.border,color:ge.title},children:d},d))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Material"}),i.map(d=>s.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:d},d)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:ge.title},children:"Size"}),["sm","md","lg"].map(d=>s.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:d.toUpperCase()},d)),s.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Core FX"}),o.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:u},d))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Advanced"}),c.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:u},d))]}),s.jsx("button",{onClick:()=>e(Oo),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:ge.btn,borderColor:ge.border,color:ge.title},children:"Reset"})]})}function zt({fx:t,className:e="",style:n={},children:r,clip:i}){const o=so(t);return s.jsxs("div",{className:`relative ${e}`,style:{...o,...n},children:[s.jsx(Uc,{fx:t,clip:i}),s.jsx("div",{className:"relative z-10",children:r})]})}function Rn({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:n})}function oue({fx:t}){const[e,n]=E.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const o=e.includes(i);return s.jsx(zt,{fx:t,className:`rounded-full border ${o?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(c=>o?c.filter(d=>d!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function lue({fx:t}){return s.jsxs(Rn,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:ge.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(zt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:ge.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(AS,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function cue({fx:t}){return s.jsxs(zt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(zt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:ge.border},children:e},e))})]})}function due({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(zt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:ge.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function uue({fx:t}){const[e,n]=E.useState(.66);return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Meter / Energy Bar"}),s.jsx(zt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:ge.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(zt,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function hue({fx:t}){return s.jsxs(Rn,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Badge / Medal"}),s.jsxs(zt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:ge.border},children:[s.jsx(rl,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function mue({fx:t}){const[e,n]=E.useState(!1);return s.jsxs(Rn,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Toast / Notification"}),s.jsx(zt,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(zt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:ge.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function pue({fx:t}){const[e,n]=E.useState(!0);return s.jsxs(Rn,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Toggle Switch"}),s.jsxs(zt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:ge.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function fue({fx:t}){const[e,n]=E.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Dropdown HUD"}),s.jsx(zt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(zt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:ge.border},children:r.map(i=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function gue({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,o=56,c=56+Math.cos(i)*o,d=56+Math.sin(i)*o;return s.jsx(zt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:ge.border},children:n},n)}),s.jsx(zt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:ge.border},children:"Menu"})]})]})}function xue({fx:t}){const e=[1,2,3,4,5],[n,r]=E.useState(2);return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>s.jsx(zt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function vue({fx:t}){const[e,n]=E.useState(!1);return s.jsxs(Rn,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Modal HUD"}),s.jsx(zt,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(zt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:ge.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(zt,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(zt,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function yue({fx:t}){const[e,n]=E.useState("");return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Search HUD"}),s.jsx(zt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:ge.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function bue({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=E.useState("Bravo");return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(i=>s.jsx(zt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function _ue({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=E.useState(1);return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((i,o)=>s.jsxs(J.Fragment,{children:[s.jsx(zt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${o<=n?"":"opacity-70"}`,style:{borderColor:ge.border},children:o+1}),o<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(zt,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(zt,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function wue({fx:t}){const e=["","","","","",""];return s.jsxs(Rn,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(zt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:ge.border},children:n},r))})]})}function jue(){const[t,e]=E.useState(Oo);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:ge.bg,color:ge.txt},children:[s.jsx(Yde,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(WA,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:ge.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:ge.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(aue,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ge.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(Zde,{fx:t,children:[s.jsx(NS,{size:16})," Diamond"]}),s.jsxs(eue,{fx:t,children:[s.jsx(kS,{size:16})," Hex"]}),s.jsxs(tue,{fx:t,children:[s.jsx(rl,{size:16})," Octagon/Shield"]}),s.jsxs(sue,{fx:t,children:[s.jsx(CS,{size:16})," Shard"]}),s.jsxs(nue,{fx:t,children:[s.jsx(Op,{size:16})," Pill/Chip"]}),s.jsx(iue,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:ge.title},children:"Tabs"}),s.jsx(rue,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ge.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(oue,{fx:t}),s.jsx(lue,{fx:t}),s.jsx(cue,{fx:t}),s.jsx(due,{fx:t}),s.jsx(uue,{fx:t}),s.jsx(hue,{fx:t}),s.jsx(mue,{fx:t}),s.jsx(pue,{fx:t}),s.jsx(fue,{fx:t}),s.jsx(gue,{fx:t}),s.jsx(xue,{fx:t}),s.jsx(vue,{fx:t}),s.jsx(yue,{fx:t}),s.jsx(bue,{fx:t}),s.jsx(_ue,{fx:t}),s.jsx(wue,{fx:t})]})]})}),s.jsx(Sue,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:ge.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function Sue(){return E.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Oo.material),"Material type present");const e=so(Oo);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=rC({...Oo,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Oo[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(Zv).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const o=i({...Oo});console.assert(o&&typeof o=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const hu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},Dj={Arcade:{...hu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...hu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},ec={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},iC={display:"grid",gap:8,alignItems:"center"};function qi({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...iC,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Zx({label:t,value:e,min:n,max:r,onChange:i}){return s.jsxs("label",{style:{...iC,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:o=>i(parseInt(o.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:o=>i(parseInt(o.target.value||"0"))})]})}function Mj(){const[t,e]=J.useState(hu),n=J.useRef(null),r=u=>{const m=n.current;m&&(m.style.setProperty("--page",u.page),m.style.setProperty("--tile",u.tile),m.style.setProperty("--tile-hover",u.tileHover),m.style.setProperty("--nav",u.nav),m.style.setProperty("--active",u.active),m.style.setProperty("--text",u.text),m.style.setProperty("--text-soft",u.textSoft),m.style.setProperty("--title",u.title),m.style.setProperty("--line",u.line),m.style.setProperty("--radius",`${u.radius}px`),m.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),m.style.setProperty("--gap",`${u.gap}px`))};J.useEffect(()=>{r(t)},[t]);const i=u=>e(Dj[u]),o=()=>e(hu),c=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(u),m.download="sfdatahub-theme.json",m.click()},d=async u=>{const m=await u.text();e({...hu,...JSON.parse(m)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Dj).map(u=>s.jsx("button",{style:ec,onClick:()=>i(u),children:u},u)),s.jsx("button",{style:ec,onClick:o,children:"Default"}),s.jsx("button",{style:ec,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...ec,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&d(u.target.files[0]),style:{display:"none"}})]})]}),s.jsx(qi,{label:"Page",value:t.page,onChange:u=>e(m=>({...m,page:u}))}),s.jsx(qi,{label:"Tile",value:t.tile,onChange:u=>e(m=>({...m,tile:u}))}),s.jsx(qi,{label:"Tile Hover",value:t.tileHover,onChange:u=>e(m=>({...m,tileHover:u}))}),s.jsx(qi,{label:"Nav",value:t.nav,onChange:u=>e(m=>({...m,nav:u}))}),s.jsx(qi,{label:"Active",value:t.active,onChange:u=>e(m=>({...m,active:u}))}),s.jsx(qi,{label:"Text",value:t.text,onChange:u=>e(m=>({...m,text:u}))}),s.jsx(qi,{label:"Text Soft",value:t.textSoft,onChange:u=>e(m=>({...m,textSoft:u}))}),s.jsx(qi,{label:"Title",value:t.title,onChange:u=>e(m=>({...m,title:u}))}),s.jsx(qi,{label:"Line",value:t.line,onChange:u=>e(m=>({...m,line:u}))}),s.jsx(Zx,{label:"Radius",value:t.radius,min:8,max:28,onChange:u=>e(m=>({...m,radius:u}))}),s.jsx(Zx,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:u=>e(m=>({...m,shadow:u}))}),s.jsx(Zx,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:u=>e(m=>({...m,gap:u}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...ec,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:ec,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,m)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",m+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},m))})]})]})]})}const ey={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},Fj={"SFDataHub (Default)":{...ey},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},_f={display:"grid",gap:8,alignItems:"center"},Do={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Mo={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function kr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{..._f,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ki({label:t,value:e,min:n,max:r,step:i=1,onChange:o,suffix:c}){return s.jsxs("label",{style:{..._f,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value||"0"))})]})}function Nue({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{..._f,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function Bj(){const[t,e]=J.useState(ey),n=J.useRef(null),r=m=>{const p=n.current;p&&(p.style.setProperty("--page",m.page),p.style.setProperty("--tile",m.tile),p.style.setProperty("--tile-hover",m.tileHover),p.style.setProperty("--nav",m.nav),p.style.setProperty("--active",m.active),p.style.setProperty("--text",m.text),p.style.setProperty("--text-soft",m.textSoft),p.style.setProperty("--title",m.title),p.style.setProperty("--line",m.line),p.style.setProperty("--accent",m.accent),p.style.setProperty("--success",m.success),p.style.setProperty("--warning",m.warning),p.style.setProperty("--danger",m.danger),p.style.setProperty("--radius",`${m.radius}px`),p.style.setProperty("--border",`${m.border}px`),p.style.setProperty("--gap",`${m.gap}px`),p.style.setProperty("--shadow",`0 10px ${m.shadow}px rgba(0,0,0,0.30)`),p.style.setProperty("--surface-opacity",`${m.surfaceOpacity}%`),p.style.setProperty("--noise",`${m.noise}%`),p.style.setProperty("--font",m.fontFamily),p.style.setProperty("--font-size",`${m.fontSize}px`),p.style.setProperty("--heading-tight",m.headingsTight?"1.1":"1.3"),p.style.setProperty("--glow",`${m.glow}`),p.style.setProperty("--scanlines",`${m.scanlines}`))};J.useEffect(()=>{r(t)},[t]);const i=(m,p)=>e(x=>({...x,[m]:p})),o=m=>e(p=>({...p,...Fj[m]})),c=()=>{const m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(m),p.download="sfdatahub-theme-pro.json",p.click()},d=async m=>{try{const p=await m.text(),x=JSON.parse(p);e({...t,...x})}catch(p){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Fj).map(m=>s.jsx("button",{style:Do,onClick:()=>o(m),children:m},m)),s.jsx("button",{style:Do,onClick:()=>e(ey),children:"Reset"}),s.jsx("button",{style:Do,onClick:c,children:"Export"}),s.jsxs("label",{style:{...Do,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:m=>m.target.files&&d(m.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(kr,{label:"Page",value:t.page,onChange:m=>i("page",m)}),s.jsx(kr,{label:"Tile",value:t.tile,onChange:m=>i("tile",m)}),s.jsx(kr,{label:"Tile Hover",value:t.tileHover,onChange:m=>i("tileHover",m)}),s.jsx(kr,{label:"Active",value:t.active,onChange:m=>i("active",m)}),s.jsx(kr,{label:"Text",value:t.text,onChange:m=>i("text",m)}),s.jsx(kr,{label:"Text Soft",value:t.textSoft,onChange:m=>i("textSoft",m)}),s.jsx(kr,{label:"Title",value:t.title,onChange:m=>i("title",m)}),s.jsx(kr,{label:"Line",value:t.line,onChange:m=>i("line",m)}),s.jsx(kr,{label:"Accent",value:t.accent,onChange:m=>i("accent",m)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(kr,{label:"Success",value:t.success,onChange:m=>i("success",m)}),s.jsx(kr,{label:"Warning",value:t.warning,onChange:m=>i("warning",m)}),s.jsx(kr,{label:"Danger",value:t.danger,onChange:m=>i("danger",m)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ki,{label:"Radius",min:0,max:28,value:t.radius,onChange:m=>i("radius",m)}),s.jsx(Ki,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:m=>i("border",m)}),s.jsx(Ki,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:m=>i("gap",m)}),s.jsx(Ki,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:m=>i("shadow",m)}),s.jsx(Ki,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:m=>i("surfaceOpacity",m),suffix:"%"}),s.jsx(Ki,{label:"Noise",min:0,max:20,value:t.noise,onChange:m=>i("noise",m),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{..._f,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:m=>i("fontFamily",m.target.value)})]}),s.jsx(Ki,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:m=>i("fontSize",m)}),s.jsx(Nue,{label:"Headings tighter",checked:t.headingsTight,onChange:m=>i("headingsTight",m)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ki,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:m=>i("glow",m)}),s.jsx(Ki,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:m=>i("scanlines",m)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:Mo,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...Mo,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...Mo,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...Mo,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:Mo,children:["Radius: ",t.radius]}),s.jsxs("span",{style:Mo,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:Mo,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((m,p)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:m.label}),s.jsx("span",{style:{color:"var(--title)"},children:m.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(m.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${m.color} 75%, transparent), ${m.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${m.color} 40%, transparent)`}})})]},p))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...Do,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...Do,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((m,p)=>s.jsx("button",{style:{...Do,background:p===0?"var(--tile-hover)":"transparent",borderColor:p===0?"var(--active)":"var(--line)",boxShadow:p===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:m},m))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((m,p)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:m.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:m.v}),s.jsx("div",{style:{fontSize:12,color:m.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:m.trend})]},p))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((m,p)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:p%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:m[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:m[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:m[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:m[2]})]},p))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const $j=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function kue(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:$j[n%$j.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const ev={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function Vj(){const[t,e]=E.useState("rows"),[n,r]=E.useState(0),[i,o]=E.useState(""),[c,d]=E.useState(60),u=E.useMemo(()=>kue(240),[]),m=E.useMemo(()=>u.filter(p=>p.level>=n).filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[u,n,i,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:p=>e(p.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:i,onChange:p=>o(p.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:p=>r(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:p=>d(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...ev,padding:0,overflow:"hidden"},children:m.map(p=>{var x;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[p.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(x=p.kpi)==null?void 0:x.toFixed(1)})]})]},p.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(p=>{var x;return s.jsxs("div",{style:ev,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(x=p.kpi)==null?void 0:x.toFixed(1)})]})]},p.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(p=>s.jsxs("div",{style:{...ev,height:140+parseInt(p.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},p.id))})]})}function Oj(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function Uj(){const[t,e]=E.useState(120),[n,r]=E.useState(()=>Oj(24));E.useEffect(()=>{const o=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),u=[...c];return u[d]={...u[d],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(o)},[]),E.useEffect(()=>{const o=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(o)},[]);const i=E.useMemo(()=>n.filter(o=>o.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:o=>e(parseInt(o.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(Oj(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(o=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[o.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:o.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[o.lastScanMinsAgo," min ago"]})]},o.id)),i.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Cue(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function zj(){const[t,e]=E.useState("idle"),[n,r]=E.useState(null),[i,o]=E.useState(!1),c=E.useCallback(async d=>{var m;d.preventDefault(),o(!1);const u=(m=d.dataTransfer.files)==null?void 0:m[0];if(u){e("validating");try{const p=await u.text(),{isHar:x,isSf:v}=Cue(p);if(e("parsing"),await new Promise(w=>setTimeout(w,600)),!x&&!v){e("error"),r({isHar:x,isSf:v,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:x,isSf:v,sizeKB:Math.round(u.size/1024),summary:`Detected: ${x?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(p.length/2500)} (rough).`})}catch(p){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(p==null?void 0:p.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:d=>{d.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const Tue="_wrap_hxkkn_3",Aue="_left_hxkkn_17",Eue="_right_hxkkn_25",Iue="_canvasCard_hxkkn_33",Rue="_hint_hxkkn_83",Pue="_panel_hxkkn_95",Lue="_panelTitle_hxkkn_109",Due="_panelBody_hxkkn_121",Qi={wrap:Tue,left:Aue,right:Eue,canvasCard:Iue,hint:Rue,panel:Pue,panelTitle:Lue,panelBody:Due},Mue=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],Fue=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function Bue(){const[t,e]=E.useState("Canvas ist vorbereitet (526526)."),n=E.useRef(null),[r,i]=E.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[o,c]=E.useState(!0);E.useEffect(()=>{const p=document.getElementById("PortraitCanvas");if(!p){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(w){}let x=console.error;o&&(console.error=(...w)=>{var P;const S=String((P=w==null?void 0:w[0])!=null?P:"");S.includes("Failed to load URL")&&S.includes("PortraitMaker-res/portraits/")||x(...w)});let v=null;try{v=new oS(p,{...r}),n.current=v,e("Rendering")}catch(w){o&&(console.error=x),x("Error initializing PortraitMaker:",w),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{o&&(console.error=x),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{o&&(console.error=x)}}},[r,o]);const d=()=>{const p=document.getElementById("PortraitCanvas");if(!p)return;const x=p.toDataURL("image/png"),v=document.createElement("a");v.href=x,v.download="portrait.png",v.click()},u=p=>{i(x=>({...x,genderName:p,beard:p==="female"?0:x.beard}))},m=r.special!==0;return s.jsxs("div",{className:Qi.wrap,children:[s.jsx("div",{className:Qi.left,children:s.jsxs("div",{className:Qi.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:Qi.hint,children:t})]})}),s.jsx("div",{className:Qi.right,children:s.jsxs("div",{className:Qi.panel,children:[s.jsx("h2",{className:Qi.panelTitle,children:"Controls"}),s.jsx("div",{className:Qi.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:p=>i(x=>({...x,special:Number(p.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:m,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:p=>u(p.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:p=>i(x=>({...x,class:Number(p.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:p=>i(x=>({...x,race:Number(p.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:p=>i(x=>({...x,background:p.target.value})),children:Mue.map(p=>s.jsx("option",{value:p,children:p===""?"transparent":p},p))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:p=>i(x=>({...x,frame:p.target.value})),children:Fue.map(p=>s.jsx("option",{value:p,children:p===""?"none":p},p))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:p=>i(x=>({...x,showBorder:p.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:o,onChange:p=>c(p.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:d,children:"Export PNG"})}),m&&s.jsxs("div",{className:Qi.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const $ue=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],Vue=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],Oue=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function Uue(){return s.jsx(xt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),s.jsx("ul",{className:"mt-2 space-y-2",children:$ue.map(t=>s.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[s.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),s.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[s.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),s.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),s.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),s.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:Vue.map(t=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),s.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),s.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),s.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:Oue.map(t=>s.jsx("li",{children:t},t))})]})]}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),s.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),s.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),s.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),s.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),s.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),s.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),s.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const zue={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function Hue(){return s.jsx(xt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:s.jsx("div",{className:"flex w-full justify-center pt-10",children:s.jsx(N3,{config:zue,label:"Playground Avatar"})})})}const Gue=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function Wue(){return s.jsx(xt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:Gue.map(t=>s.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),s.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),s.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const que="_avatarFrameMask_1pzs8_5",Kue="_avatarFrameOverlay_1pzs8_7",Hj={avatarFrameMask:que,avatarFrameOverlay:Kue},Que=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function Xue(){return s.jsx(xt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:s.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[s.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:Que.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),s.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),s.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),s.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:Hj.avatarFrameMask,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:Hj.avatarFrameOverlay,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const Yue=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function Jue(){return s.jsx(xt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"flex w-full flex-col gap-4",children:Yue.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,s.jsx("span",{children:"Leer"})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),s.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function Zue(){return s.jsx(xt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),s.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const Y={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},ehe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},the={maxWidth:1200,margin:"0 auto"},she={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function nhe(){return s.jsx("div",{style:ehe,children:s.jsxs("div",{style:the,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:she,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${Y.line}`,borderRadius:12,padding:24,textAlign:"center",background:Y.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const rhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ihe={maxWidth:1200,margin:"0 auto"},ahe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ohe(){return s.jsx("div",{style:rhe,children:s.jsxs("div",{style:ihe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ahe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const lhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},che={maxWidth:1200,margin:"0 auto"},dhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function uhe(){return s.jsx("div",{style:lhe,children:s.jsxs("div",{style:che,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const hhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},mhe={maxWidth:1200,margin:"0 auto"},phe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function fhe(){return s.jsx("div",{style:hhe,children:s.jsxs("div",{style:mhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:phe,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${Y.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:Y.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const ghe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},xhe={maxWidth:1200,margin:"0 auto"},vhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function yhe(){return s.jsx("div",{style:ghe,children:s.jsxs("div",{style:xhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:vhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const bhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},_he={maxWidth:1200,margin:"0 auto"},whe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function jhe(){return s.jsx("div",{style:bhe,children:s.jsxs("div",{style:_he,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:whe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const She={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Nhe={maxWidth:1200,margin:"0 auto"},khe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Che(){return s.jsx("div",{style:She,children:s.jsxs("div",{style:Nhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:khe,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${Y.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:Y.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const The={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ahe={maxWidth:1200,margin:"0 auto"},Ehe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ihe(){return s.jsx("div",{style:The,children:s.jsxs("div",{style:Ahe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Ehe,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const Rhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Phe={maxWidth:1200,margin:"0 auto"},Lhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Dhe(){return s.jsx("div",{style:Rhe,children:s.jsxs("div",{style:Phe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Lhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const Mhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Fhe={maxWidth:1200,margin:"0 auto"},Bhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function $he(){return s.jsx("div",{style:Mhe,children:s.jsxs("div",{style:Fhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Bhe,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const Vhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ohe={maxWidth:1200,margin:"0 auto"},Uhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function zhe(){return s.jsx("div",{style:Vhe,children:s.jsxs("div",{style:Ohe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Uhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Hhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ghe={maxWidth:1200,margin:"0 auto"},Whe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function qhe(){return s.jsx("div",{style:Hhe,children:s.jsxs("div",{style:Ghe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Whe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const Khe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Qhe={maxWidth:1200,margin:"0 auto"},Xhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Yhe(){return s.jsx("div",{style:Khe,children:s.jsxs("div",{style:Qhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Xhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${Y.line}`,borderRadius:10},children:"Send"})]})})]})})}const Jhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Zhe={maxWidth:1200,margin:"0 auto"},eme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function tme(){return s.jsx("div",{style:Jhe,children:s.jsxs("div",{style:Zhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:eme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const sme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},nme={maxWidth:1200,margin:"0 auto"},rme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ime(){return s.jsx("div",{style:sme,children:s.jsxs("div",{style:nme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:rme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const ame={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ome={maxWidth:1200,margin:"0 auto"},lme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function cme(){return s.jsx("div",{style:ame,children:s.jsxs("div",{style:ome,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:lme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const dme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ume={maxWidth:1200,margin:"0 auto"},hme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function mme(){return s.jsx("div",{style:dme,children:s.jsxs("div",{style:ume,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:hme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const pme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},fme={maxWidth:1200,margin:"0 auto"},gme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function xme(){return s.jsx("div",{style:pme,children:s.jsxs("div",{style:fme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:gme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const vme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},yme={maxWidth:1200,margin:"0 auto"},bme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function _me(){return s.jsx("div",{style:vme,children:s.jsxs("div",{style:yme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:bme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const wme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},jme={maxWidth:1200,margin:"0 auto"},Sme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Nme(){return s.jsx("div",{style:wme,children:s.jsxs("div",{style:jme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Sme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const kme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Cme={maxWidth:1200,margin:"0 auto"},Tme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ame(){return s.jsx("div",{style:kme,children:s.jsxs("div",{style:Cme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Tme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:Y.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Eme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ime={maxWidth:1200,margin:"0 auto"},Rme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Pme(){return s.jsx("div",{style:Eme,children:s.jsxs("div",{style:Ime,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Rme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:Y.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const Lme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Dme={maxWidth:1200,margin:"0 auto"},Mme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Fme(){return s.jsx("div",{style:Lme,children:s.jsxs("div",{style:Dme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Mme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const Bme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},$me={maxWidth:1200,margin:"0 auto"},Vme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ome(){return s.jsx("div",{style:Bme,children:s.jsxs("div",{style:$me,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Vme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Ume={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},zme={maxWidth:1200,margin:"0 auto"},Hme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Gme(){return s.jsx("div",{style:Ume,children:s.jsxs("div",{style:zme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Hme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Wme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},qme={maxWidth:1200,margin:"0 auto"},Kme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Qme(){return s.jsx("div",{style:Wme,children:s.jsxs("div",{style:qme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Kme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const Xme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Yme={maxWidth:1200,margin:"0 auto"},Jme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Zme(){return s.jsx("div",{style:Xme,children:s.jsxs("div",{style:Yme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Jme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const epe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},tpe={maxWidth:1200,margin:"0 auto"},spe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function npe(){return s.jsx("div",{style:epe,children:s.jsxs("div",{style:tpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:spe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const rpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ipe={maxWidth:1200,margin:"0 auto"},ape={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ope(){return s.jsx("div",{style:rpe,children:s.jsxs("div",{style:ipe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ape,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const lpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},cpe={maxWidth:1200,margin:"0 auto"},dpe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function upe(){return s.jsx("div",{style:lpe,children:s.jsxs("div",{style:cpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dpe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const hpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},mpe={maxWidth:1200,margin:"0 auto"},ppe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function fpe(){return s.jsx("div",{style:hpe,children:s.jsxs("div",{style:mpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ppe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const Gj=[{id:"main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],$d=[{id:"gem-sim",name:"Gem Simulator",description:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeon-pause",name:"Dungeon Pause",description:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xp-dungeon",name:"XP Dungeon",description:"Slide fuer XP-Lauf-Planung als Platzhalter."}];function gpe(){var P,R,B,L;const{t}=kk(),{user:e,status:n,loginWithDiscord:r}=al(),i=n==="authenticated"&&!!e,[o,c]=E.useState(Gj),[d,u]=E.useState((R=(P=Gj[0])==null?void 0:P.id)!=null?R:""),[m,p]=E.useState((L=(B=$d[0])==null?void 0:B.id)!=null?L:""),x=E.useMemo(()=>{var T;return(T=o.find(y=>y.id===d))!=null?T:o[0]},[d,o]),v=E.useMemo(()=>{var T;return(T=$d.find(y=>y.id===m))!=null?T:$d[0]},[m]),w=()=>{if(o.length>=3)return;const T=o.length+1,y={id:`custom-${T}`,name:`New Set ${T}`,classLabel:"Class TBD",serverLabel:"Server TBD"};c(j=>[...j,y]),u(y.id)},S=()=>{r()};return s.jsx(xt,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:s.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),s.jsxs("span",{className:"text-xs text-slate-400",children:[o.length,"/3"]})]}),s.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[o.map(T=>{const y=T.id===d;return s.jsxs("button",{type:"button",onClick:()=>u(T.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",y?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[s.jsx("div",{className:"text-sm font-semibold text-slate-50",children:T.name}),s.jsx("div",{className:"text-xs text-emerald-200/90",children:T.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:T.serverLabel}),y&&s.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]},T.id)}),s.jsxs("button",{type:"button",onClick:w,disabled:o.length>=3,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",o.length>=3?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[s.jsx("span",{className:"text-lg",children:"+"}),s.jsx("span",{children:o.length>=3?"Max erreicht":"Neues Set"})]})]})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[s.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),s.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:$d.map(T=>{const y=T.id===m;return s.jsxs("button",{type:"button",onClick:()=>p(T.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",y?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[s.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),s.jsx("span",{children:T.name})]},T.id)})})]}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:t("tools.banner.accountComingSoon")}),s.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:t("tools.banner.accountTitle")})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(T=>s.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:t("tools.banner.accountComingSoon")}),s.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:T})]},T))})]}):s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.banner.guestTitle")}),s.jsx("p",{className:"text-sm text-slate-400",children:t("tools.banner.guestDescription")}),s.jsx("ul",{className:"text-sm text-slate-300",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(T=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),s.jsx("span",{children:T})]},T))})]}),s.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:s.jsx("button",{type:"button",onClick:S,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:t("tools.banner.guestLoginCta")})})]})}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),s.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:v==null?void 0:v.name}),s.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(x==null?void 0:x.name)||"kein Set"]})]}),s.jsx("div",{className:"flex gap-2",children:$d.map(T=>s.jsx("div",{className:["h-2 w-8 rounded-full transition",m===T.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},T.id))})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-slate-300",children:v==null?void 0:v.description}),s.jsxs("div",{className:"mt-4 rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",s.jsx("br",{}),"(z. B. ",v==null?void 0:v.name,")"]})]}),s.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:x==null?void 0:x.name}),s.jsx("div",{className:"text-sm text-emerald-200/90",children:x==null?void 0:x.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:x==null?void 0:x.serverLabel})]}),s.jsxs("div",{className:"rounded-xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",s.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]})]})})}const xpe="_backdrop_19xh2_1",vpe="_panel_19xh2_19",ype="_header_19xh2_43",bpe="_tabs_19xh2_63",_pe="_tabBtn_19xh2_75",wpe="_tabActive_19xh2_97",jpe="_closeBtn_19xh2_101",Spe="_content_19xh2_123",yi={backdrop:xpe,panel:vpe,header:ype,tabs:bpe,tabBtn:_pe,tabActive:wpe,closeBtn:jpe,content:Spe},ip=t=>String(t!=null?t:"").trim(),$a=t=>ip(t).toUpperCase(),Ut=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),ap=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),Wj=t=>{const e=ap(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},qj=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},tv=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},mt={PLAYERS:{IDENTIFIER:Ut("Identifier"),PID:Ut("ID"),GUILD_IDENTIFIER:Ut("Guild Identifier"),SERVER:Ut("Server"),NAME:Ut("Name"),TIMESTAMP:Ut("Timestamp"),LEVEL:Ut("Level"),CLASS:Ut("Class"),GUILD:Ut("Guild")},GUILDS:{GUILD_IDENTIFIER:Ut("Guild Identifier"),SERVER:Ut("Server"),NAME:Ut("Name"),MEMBER_COUNT:Ut("Guild Member Count"),TIMESTAMP:Ut("Timestamp"),HOF:Ut("Hall of Fame Rank"),HOF_ALT:Ut("HoF"),RANK:Ut("Rank"),GUILD_RANK:Ut("Guild Rank")}},Npe=new Set([Ut("Strength"),Ut("Dexterity"),Ut("Intelligence"),Ut("Constitution"),Ut("Luck"),Ut("Attribute")]),kpe=["equipment"],Cpe=t=>Npe.has(t)||kpe.some(e=>t.includes(e)),bt=(t,e)=>{for(const n of Object.keys(t))if(Ut(n)===e)return t[n]},Tpe=(t,e)=>e.map(n=>bt(t,n)).find(n=>n!=null&&String(n)!=="");function Fp(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),o=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),m=n[6]?Number(n[6]):0,p=new Date(c,o,i,d,u,m);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function Kj(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),o=Math.ceil(((+n-+i)/864e5+1)/7),c=n.getUTCFullYear(),d=o.toString().padStart(2,"0");return`${c}-W${d}`}function Qj(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),o=i+7*86400-1;return{start:i,end:o}}function Xj(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function Yj(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function Ape(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(n=i,r=o)}return n}function Epe(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=Ape((u=n[0])!=null?u:""),i=m=>{const p=[];let x="",v=!1;for(let w=0;w<m.length;w++){const S=m[w];S==='"'?v&&m[w+1]==='"'?(x+='"',w++):v=!v:S===r&&!v?(p.push(x),x=""):x+=S}return p.push(x),p},c=(n[0]?i(n[0]).map(ip):[]).map((m,p)=>m||`col${p}`),d=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const p=i(n[m]);if(p.every(v=>ip(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=p[v]!=null?ip(p[v]):"";d.push(x)}return{headers:c,rows:d}}const Jj=120,Zj=40,eS=120;async function tc(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const o=z8(Rt),c=t.slice(i,i+e);for(const d of c)d(o);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:n}),await o.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Um(t,e){const n={};for(const r of e){const i=Ut(r);if(Cpe(i)){let o=null,c;for(const d of t){const u=d.row[r];if(u==null||u==="")continue;const m=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(m)||(o==null||m>o)&&(o=m,c=u)}n[r]=c!=null?c:""}else{let o="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){o=d;break}}n[r]=o}}return n}async function tS(t){var i;const e=await ur(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const o=Fp(n.values.Timestamp);if(o!=null)return o}if((n==null?void 0:n.timestampRaw)!=null){const o=Fp(n.timestampRaw);if(o!=null)return o}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const o=Date.parse(r);return Number.isFinite(o)?Math.floor(o/1e3):0}return 0}async function sS(t,e){var p,x,v,w,S;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],o={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=Epe(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const P of c)Object.keys(P).forEach(R=>d.add(R));const u=Array.from(d);if(e.kind==="players"){const P=[],R=[],B=[],L=new Map;for(const T of c){const y=(p=bt(T,mt.PLAYERS.PID))!=null?p:bt(T,mt.PLAYERS.IDENTIFIER),j=String(y!=null?y:"").trim();if(!j){o.skippedMissingIdentifier++;continue}const M=Fp(bt(T,mt.PLAYERS.TIMESTAMP));if(M==null){o.skippedBadTs++;continue}const C=(()=>{const _=bt(T,mt.PLAYERS.SERVER);return _&&String(_).trim()!==""?$a(_):void 0})();if(!C){o.skippedMissingServer++;continue}P.push(_=>{const A=ps(Rt,`players/${j}/scans/${M}`);_.set(A,{playerId:j,server:C,timestamp:M,timestampRaw:bt(T,mt.PLAYERS.TIMESTAMP),name:bt(T,mt.PLAYERS.NAME)||null,values:T,createdAt:Ji()},{merge:!0})}),o.writtenScanPlayers++,L.has(j)||L.set(j,[]),L.get(j).push({row:T,ts:M})}for(const[T,y]of L){y.sort((H,te)=>H.ts-te.ts);const j=y[y.length-1],M=$a(bt(j.row,mt.PLAYERS.SERVER)||""),C=bt(j.row,mt.PLAYERS.NAME)||null,_=bt(j.row,mt.PLAYERS.LEVEL),A=bt(j.row,mt.PLAYERS.CLASS),D=bt(j.row,mt.PLAYERS.GUILD),I=(v=(x=bt(j.row,mt.PLAYERS.NAME))!=null?x:C)!=null?v:"",V=Wj(I),$=qj(V),W=ps(Rt,`players/${T}/latest/latest`),z=await tS(W);j.ts>z&&(R.push(H=>{H.set(W,{playerId:T,server:M,timestamp:j.ts,timestampRaw:bt(j.row,mt.PLAYERS.TIMESTAMP),name:C,values:j.row,updatedAt:Ji(),nameFold:ap(I),nameTokens:V,nameNgrams:$,level:tv(_),className:A!=null&&String(A).trim()!==""?String(A):null,guildName:D!=null&&String(D).trim()!==""?String(D):null,guildNameFold:D?ap(D):null},{merge:!0})}),o.writtenLatestPlayers++);const q=new Map,Q=new Map;for(const H of y){const te=Kj(H.ts),re=Xj(H.ts);q.has(te)||q.set(te,[]),Q.has(re)||Q.set(re,[]),q.get(te).push(H),Q.get(re).push(H)}for(const[H,te]of q){te.sort((de,ee)=>de.ts-ee.ts);const re=Um(te,u),G=Qj(te[te.length-1].ts),se=te[te.length-1];B.push(de=>{const ee=ps(Rt,`players/${T}/history_weekly/${H}`);de.set(ee,{playerId:T,weekId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:se.ts,lastTimestampRaw:bt(se.row,mt.PLAYERS.TIMESTAMP),server:$a(bt(se.row,mt.PLAYERS.SERVER)||""),name:bt(se.row,mt.PLAYERS.NAME)||null,values:re,updatedAt:Ji()},{merge:!0})}),o.writtenWeeklyPlayers++}for(const[H,te]of Q){te.sort((de,ee)=>de.ts-ee.ts);const re=Um(te,u),G=Yj(te[te.length-1].ts),se=te[te.length-1];B.push(de=>{const ee=ps(Rt,`players/${T}/history_monthly/${H}`);de.set(ee,{playerId:T,monthId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:se.ts,lastTimestampRaw:bt(se.row,mt.PLAYERS.TIMESTAMP),server:$a(bt(se.row,mt.PLAYERS.SERVER)||""),name:bt(se.row,mt.PLAYERS.NAME)||null,values:re,updatedAt:Ji()},{merge:!0})}),o.writtenMonthlyPlayers++}}await tc(P,Jj,"scans",e.onProgress),await tc(R,Zj,"latest",e.onProgress),await tc(B,eS,"history",e.onProgress)}if(e.kind==="guilds"){const P=[],R=[],B=[],L=new Map;for(const T of c){const y=String((w=bt(T,mt.GUILDS.GUILD_IDENTIFIER))!=null?w:"").trim();if(!y){o.skippedMissingGuildIdentifier++;continue}const j=Fp(bt(T,mt.GUILDS.TIMESTAMP));if(j==null){o.skippedBadTsGuild++;continue}const M=(()=>{const C=bt(T,mt.GUILDS.SERVER);return C&&String(C).trim()!==""?$a(C):void 0})();if(!M){o.skippedMissingServer++;continue}P.push(C=>{const _=ps(Rt,`guilds/${y}/scans/${j}`);C.set(_,{guildIdentifier:y,server:M,timestamp:j,timestampRaw:bt(T,mt.GUILDS.TIMESTAMP),name:bt(T,mt.GUILDS.NAME)||null,values:T,createdAt:Ji()},{merge:!0})}),o.writtenScanGuilds++,L.has(y)||L.set(y,[]),L.get(y).push({row:T,ts:j})}for(const[T,y]of L){y.sort((z,q)=>z.ts-q.ts);const j=y[y.length-1],M=(S=bt(j.row,mt.GUILDS.NAME))!=null?S:"",C=Wj(M),_=qj(C),A=tv(bt(j.row,mt.GUILDS.MEMBER_COUNT)),D=tv(Tpe(j.row,[mt.GUILDS.HOF,mt.GUILDS.HOF_ALT,mt.GUILDS.RANK,mt.GUILDS.GUILD_RANK])),I=ps(Rt,`guilds/${T}/latest/latest`),V=await tS(I);j.ts>V&&(R.push(z=>{z.set(I,{guildIdentifier:T,server:$a(bt(j.row,mt.GUILDS.SERVER)||""),timestamp:j.ts,timestampRaw:bt(j.row,mt.GUILDS.TIMESTAMP),name:bt(j.row,mt.GUILDS.NAME)||null,values:j.row,updatedAt:Ji(),nameFold:ap(M),nameTokens:C,nameNgrams:_,memberCount:A,hofRank:D},{merge:!0})}),o.writtenLatestGuilds++);const $=new Map,W=new Map;for(const z of y){const q=Kj(z.ts),Q=Xj(z.ts);$.has(q)||$.set(q,[]),W.has(Q)||W.set(Q,[]),$.get(q).push(z),W.get(Q).push(z)}for(const[z,q]of $){q.sort((re,G)=>re.ts-G.ts);const Q=Um(q,u),H=Qj(q[q.length-1].ts),te=q[q.length-1];B.push(re=>{const G=ps(Rt,`guilds/${T}/history_weekly/${z}`);re.set(G,{guildIdentifier:T,weekId:z,periodStartSec:H.start,periodEndSec:H.end,lastTs:te.ts,lastTimestampRaw:bt(te.row,mt.GUILDS.TIMESTAMP),server:$a(bt(te.row,mt.GUILDS.SERVER)||""),name:bt(te.row,mt.GUILDS.NAME)||null,values:Q,updatedAt:Ji()},{merge:!0})}),o.writtenWeeklyGuilds++}for(const[z,q]of W){q.sort((re,G)=>re.ts-G.ts);const Q=Um(q,u),H=Yj(q[q.length-1].ts),te=q[q.length-1];B.push(re=>{const G=ps(Rt,`guilds/${T}/history_monthly/${z}`);re.set(G,{guildIdentifier:T,monthId:z,periodStartSec:H.start,periodEndSec:H.end,lastTs:te.ts,lastTimestampRaw:bt(te.row,mt.GUILDS.TIMESTAMP),server:$a(bt(te.row,mt.GUILDS.SERVER)||""),name:bt(te.row,mt.GUILDS.NAME)||null,values:Q,updatedAt:Ji()},{merge:!0})}),o.writtenMonthlyGuilds++}}await tc(P,Jj,"scans",e.onProgress),await tc(R,Zj,"latest",e.onProgress),await tc(B,eS,"history",e.onProgress)}const m=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:o,errors:r,warnings:i,durationMs:m-n}}const rt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Ipe=t=>String(t!=null?t:"").trim(),ty=t=>Ipe(t).toUpperCase(),sy=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function gn(t,e){for(const n of Object.keys(t))if(rt(n)===e)return t[n]}function Xi(t,e){for(const n of e){const r=gn(t,n);if(r!=null&&String(r)!=="")return r}}function Fo(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function gc(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),o=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),m=n[6]?Number(n[6]):0,p=new Date(c,o,i,d,u,m);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Ns={GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name"),TIMESTAMP:rt("Timestamp"),LEVEL:rt("Level"),CLASS:rt("Class"),GUILD:rt("Guild"),GUILD_ROLE:[rt("Role"),rt("Guild Role")],TREASURY:[rt("Treasury"),rt("Fortress Treasury"),rt("Treasury Level"),rt("Festungsschatzkammer")],MINE:[rt("Mine"),rt("Gem Mine"),rt("Mine Level"),rt("Festungsmine")],BASE_MAIN:[rt("Base"),rt("Base Attribute"),rt("BaseMain"),rt("Basis Attribut")],CON_BASE:[rt("Con Base"),rt("Constitution Base"),rt("Base Constitution"),rt("Basis Konstitution"),rt("conbase")],ATTR_TOT:[rt("Attribute"),rt("Attr Total"),rt("Attribut"),rt("Attribut Gesamt")],CON_TOT:[rt("Constitution"),rt("Constitution Total"),rt("Konstitution"),rt("Konstitution Gesamt")],LAST_ACTIVE:[rt("Last Active"),rt("LastActivity"),rt("Letzte Aktivitt")],GUILD_JOINED:[rt("Guild Joined"),rt("Joined Guild"),rt("Gildenbeitritt")]},op={GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name")};function nS(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function Rpe(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function Ppe(t){var n;const e=new Map;for(const r of t){const i=String((n=gn(r,op.GUILD_IDENTIFIER))!=null?n:"").trim(),o=gn(r,op.SERVER),c=gn(r,op.NAME);if(!i||!o||!c)continue;const d=`${ty(o)}__${sy(String(c))}`;e.set(d,i)}return e}function Lpe(t){var T,y;const e=gn(t,Ns.TIMESTAMP),n=gc(e),r=Xi(t,Ns.LAST_ACTIVE),i=gc(r),o=Xi(t,Ns.GUILD_JOINED),c=gc(o),d=Fo(gn(t,Ns.LEVEL)),u=(()=>{const j=gn(t,Ns.CLASS);return j!=null&&String(j).trim()!==""?String(j):null})(),m=(()=>{const j=Xi(t,Ns.GUILD_ROLE);return j!=null&&String(j).trim()!==""?String(j):null})(),p=Fo(Xi(t,Ns.TREASURY)),x=Fo(Xi(t,Ns.MINE)),v=Fo(Xi(t,Ns.BASE_MAIN)),w=Fo(Xi(t,Ns.CON_BASE)),S=Fo(Xi(t,Ns.ATTR_TOT)),P=Fo(Xi(t,Ns.CON_TOT)),R=v!=null&&w!=null?v+w:null,B=S!=null&&P!=null?S+P:null,L=(()=>{const j=gn(t,Ns.NAME);return j!=null&&String(j).trim()!==""?String(j):null})();return{id:String((y=(T=t==null?void 0:t.ID)!=null?T:t==null?void 0:t.Identifier)!=null?y:""),name:L,class:u,role:m,level:d,treasury:p,mine:x,baseMain:v,conBase:w,sumBaseTotal:R,attrTotal:S,conTotal:P,totalStats:B,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:o!=null?String(o):null,guildJoinedMs:c!=null?c*1e3:null}}function Yi(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function Dpe(t){var c,d,u;const e=ps(Rt,`guilds/${t}/latest/latest`),n=await ur(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(u=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?u:null;let o=null;return typeof r.timestamp=="number"?o=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(o=gc(i)),{sec:o,raw:i}}async function Mpe(t){const e=ps(Rt,`guilds/${t}/snapshots/members_summary`),n=await ur(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=gc(r.updatedAt);if(i!=null)return i}return 0}async function Fpe(t,e){var o,c,d,u,m,p,x;const n=Ppe(e||[]),r=new Set;for(const v of e||[]){const w=String((o=gn(v,op.GUILD_IDENTIFIER))!=null?o:"").trim();w&&r.add(w)}for(const v of t||[]){const w=gn(v,Ns.SERVER);let S=String((c=gn(v,Ns.GUILD_IDENTIFIER))!=null?c:"").trim();if(!S){const P=(d=gn(v,Ns.GUILD))!=null?d:v.Guild;if(P&&w){const R=`${ty(w)}__${sy(String(P))}`,B=n.get(R);B&&(S=B)}}S&&r.add(S)}let i=0;for(const v of r){const{sec:w,raw:S}=await Dpe(v);if(w==null)continue;const P=await Mpe(v);if(w<=P)continue;const R=new Map;for(const z of t||[]){const q=gn(z,Ns.SERVER);let Q=String((u=gn(z,Ns.GUILD_IDENTIFIER))!=null?u:"").trim();if(!Q){const re=(m=gn(z,Ns.GUILD))!=null?m:z.Guild;if(re&&q){const G=`${ty(q)}__${sy(String(re))}`,se=n.get(G);se&&(Q=se)}}if(Q!==v)continue;const H=gc(gn(z,Ns.TIMESTAMP));if(H==null||H!==w)continue;const te=String((x=(p=z==null?void 0:z.ID)!=null?p:z==null?void 0:z.Identifier)!=null?x:"").trim();te&&(R.has(te)||R.set(te,z))}const B=Array.from(R.values()),L=[];for(const z of B)L.push(Lpe(z));L.sort((z,q)=>{var te,re;const Q=nS(z.role),H=nS(q.role);return Q!==H?Q-H:((te=z.name)!=null?te:"").toLowerCase().localeCompare(((re=q.name)!=null?re:"").toLowerCase())});const T=Yi(L,"level"),y=Yi(L,"treasury"),j=Yi(L,"mine"),M=Yi(L,"baseMain"),C=Yi(L,"conBase"),_=Yi(L,"sumBaseTotal"),A=Yi(L,"attrTotal"),D=Yi(L,"conTotal"),I=Yi(L,"totalStats"),V=JSON.stringify({gid:v,tsSec:w,members:L.map(z=>{var q,Q,H,te,re,G,se,de,ee,fe,Te,xe,Ce;return{id:z.id,name:(q=z.name)!=null?q:"",class:(Q=z.class)!=null?Q:"",role:(H=z.role)!=null?H:"",level:(te=z.level)!=null?te:null,treasury:(re=z.treasury)!=null?re:null,mine:(G=z.mine)!=null?G:null,baseMain:(se=z.baseMain)!=null?se:null,conBase:(de=z.conBase)!=null?de:null,sumBaseTotal:(ee=z.sumBaseTotal)!=null?ee:null,attrTotal:(fe=z.attrTotal)!=null?fe:null,conTotal:(Te=z.conTotal)!=null?Te:null,totalStats:(xe=z.totalStats)!=null?xe:null,guildJoinedMs:(Ce=z.guildJoinedMs)!=null?Ce:null}})}),$=Rpe(V),W=ps(Rt,`guilds/${v}/snapshots/members_summary`);await yp(W,{guildId:v,count:L.length,updatedAt:S!=null?S:String(w),updatedAtMs:w*1e3,hash:$,avgLevel:T,avgTreasury:y,avgMine:j,avgBaseMain:M,avgConBase:C,avgSumBaseTotal:_,avgAttrTotal:A,avgConTotal:D,avgTotalStats:I,members:L,updatedAtServer:Ji()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function Bpe(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function $pe(t,e,n,r){var u,m,p;const i=ps(Rt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),o=await ur(i);if(!o.exists())return await yp(i,n,{merge:!1}),{first:n,firstTsMs:(u=n.updatedAtMs)!=null?u:n.timestamp?n.timestamp*1e3:r};const c=o.data(),d=(m=c.updatedAtMs)!=null?m:c.timestamp?c.timestamp*1e3:r;return r<d?(await yp(i,n,{merge:!1}),{first:n,firstTsMs:(p=n.updatedAtMs)!=null?p:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function Vpe(t,e,n){const r=ps(Rt,`guilds/${t}/history_monthly/${e}`);await yp(r,n,{merge:!0})}function Ope(t){var L,T,y,j,M,C,_,A,D,I,V,$,W;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:o,latest:c,latestTsMs:d}=t,u=o!=null?Math.floor((d-o)/864e5):null,m=u!=null&&u<=40,p={available:m};m||(p.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const x={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:o?new Date(o).toISOString():null,toISO:new Date(d).toISOString(),fromTs:o?Math.floor(o/1e3):null,toTs:Math.floor(d/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:p};if(!m||!i)return x;const v=new Map;for(const z of i.members||[])z.playerId&&v.set(z.playerId,z);const w=[],S=[],P=[],R=[],B=[];for(const z of c.members||[]){if(!z.playerId)continue;const q=v.get(z.playerId)||null,Q=(L=z.sumBaseTotal)!=null?L:null,H=(T=q==null?void 0:q.sumBaseTotal)!=null?T:null,te=Q!=null&&H!=null?Q-H:0,re=(y=z.totalStats)!=null?y:null,G=(j=q==null?void 0:q.totalStats)!=null?j:null,se=re!=null&&G!=null?re-G:0;w.push({playerId:z.playerId,name:(M=z.name)!=null?M:null,class:(C=z.class)!=null?C:null,levelLatest:(_=z.level)!=null?_:null,baseLatest:Q,baseDelta:te}),S.push({playerId:z.playerId,name:(A=z.name)!=null?A:null,base:Q,stamDelta:null,shoDelta:null}),P.push({playerId:z.playerId,name:(D=z.name)!=null?D:null,stats:Q,delta:te}),R.push({playerId:z.playerId,name:(I=z.name)!=null?I:null,total:re,delta:se}),B.push({playerId:z.playerId,name:(V=z.name)!=null?V:null,class:($=z.class)!=null?$:null,stats:(W=z.baseMain)!=null?W:null,delta:(q==null?void 0:q.baseMain)!=null&&z.baseMain!=null?z.baseMain-q.baseMain:0})}return w.sort((z,q)=>{var Q,H;return((Q=q.baseDelta)!=null?Q:-1/0)-((H=z.baseDelta)!=null?H:-1/0)}),P.sort((z,q)=>{var Q,H;return((Q=q.stats)!=null?Q:-1/0)-((H=z.stats)!=null?H:-1/0)}),R.sort((z,q)=>{var Q,H;return((Q=q.total)!=null?Q:-1/0)-((H=z.total)!=null?H:-1/0)}),S.sort((z,q)=>{var Q,H;return((Q=q.base)!=null?Q:-1/0)-((H=z.base)!=null?H:-1/0)}),B.sort((z,q)=>{var Q,H;return((Q=q.stats)!=null?Q:-1/0)-((H=z.stats)!=null?H:-1/0)}),{...x,mostBaseGained:w.slice(0,50),sumBaseStats:S.slice(0,50),highestBaseStats:P.slice(0,50),highestTotalStats:R.slice(0,50),mainAndCon:B.slice(0,50)}}const sv=t=>String(t!=null?t:"").trim(),An=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function Upe(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(n=i,r=o)}return n}function rS(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=Upe((u=n[0])!=null?u:""),i=m=>{const p=[];let x="",v=!1;for(let w=0;w<m.length;w++){const S=m[w];S==='"'?v&&m[w+1]==='"'?(x+='"',w++):v=!v:S===r&&!v?(p.push(x),x=""):x+=S}return p.push(x),p},c=(n[0]?i(n[0]).map(sv):[]).map((m,p)=>m||`col${p}`),d=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const p=i(n[m]);if(p.every(v=>sv(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=p[v]!=null?sv(p[v]):"";d.push(x)}return{headers:c,rows:d,delimiter:r}}const Cs={PLAYERS:{IDENTIFIER:An("Identifier"),GUILD_IDENTIFIER:An("Guild Identifier"),TIMESTAMP:An("Timestamp"),NAME:An("Name"),SERVER:An("Server"),OWN:An("Own")},GUILDS:{GUILD_IDENTIFIER:An("Guild Identifier"),GUILD_MEMBER_COUNT:An("Guild Member Count"),NAME:An("Name"),TIMESTAMP:An("Timestamp")}},aC=(t,e)=>{const n=new Set(t.map(An));return e.every(r=>n.has(r))},Ar=(t,e)=>{for(const n of Object.keys(t))if(An(n)===e)return t[n]};function zpe(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function iS(t){const e=t.map(An),n=o=>e.includes(o);let r=0,i=0;return n(Cs.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Cs.PLAYERS.IDENTIFIER)&&(r+=2),n(Cs.PLAYERS.TIMESTAMP)&&(r+=1),n(Cs.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(Cs.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(Cs.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(Cs.PLAYERS.IDENTIFIER)?"players":"guilds"}function aS(t,e){const n=zpe(t);if(n!=="unknown"){const i=iS(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=iS(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function oC(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function Hpe(t,e){var r;const n=[];if(!aC(e,[Cs.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const o=Ar(i,Cs.PLAYERS.GUILD_IDENTIFIER);if(!o)continue;const c=Ar(i,Cs.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(o),id:Ar(i,Cs.PLAYERS.IDENTIFIER)||void 0,name:Ar(i,Cs.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Ar(i,Cs.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=oC(Ar(i,Cs.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function Gpe(t,e){const n=[];if(!aC(e,[Cs.GUILDS.GUILD_IDENTIFIER,Cs.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=Ar(r,Cs.GUILDS.GUILD_IDENTIFIER),o=Number(Ar(r,Cs.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(o))continue;const c=oC(Ar(r,Cs.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:Ar(r,Cs.GUILDS.NAME)||void 0,memberCount:o,tsSec:c!=null?c:void 0})}return n}function Wpe(t,e){var R,B,L,T,y,j;const n=[],r=new Map;for(const M of t){const C=M.id||"",_=(R=M.server)==null?void 0:R.toUpperCase();if(C){const A=`${_!=null?_:"NO"}::${C}`;r.has(A)||r.set(A,{server:_,id:C,name:M.name||"",own:!!M.own})}}const i=r.size,o=t.length,c=Array.from(r.values()).filter(M=>M.own).length,d=new Map;for(const M of r.values())M.server&&d.set(M.server,((B=d.get(M.server))!=null?B:0)+1);const u=Array.from(d.entries()).map(([M,C])=>({server:M,players:C})).sort((M,C)=>C.players-M.players),m=u.length,p=new Map;for(const M of t)p.set(M.guildIdentifier,((L=p.get(M.guildIdentifier))!=null?L:0)+1);const x=new Set,v=new Map;for(const M of e)x.add(M.guildIdentifier),v.set(M.guildIdentifier,{name:M.name||"",declared:M.memberCount});for(const M of p.keys())x.add(M);let w=0;const S=[];for(const M of x){const C=(T=v.get(M))==null?void 0:T.declared,_=(y=p.get(M))!=null?y:0,A=C!=null&&_===C;A&&w++,S.push({id:M,name:((j=v.get(M))==null?void 0:j.name)||"",declaredCount:C!=null?C:0,playersCount:_,full:A})}[...v.values()].some(M=>Number.isFinite(M.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),S.sort((M,C)=>M.name?M.name.localeCompare(C.name):M.id.localeCompare(C.id));const P=Array.from(r.values()).sort((M,C)=>(M.server||"")===(C.server||"")?M.name.localeCompare(C.name):(M.server||"").localeCompare(C.server||""));return{totalPlayers:o,uniquePlayerIds:i,ownPlayers:c,servers:m,perServer:u,guildsRepresented:x.size,fullyScannedGuilds:w,notes:n,playersList:P,guildsList:S}}function qpe(){const[t,e]=E.useState([]),[n,r]=E.useState(null),[i,o]=E.useState(!1),[c,d]=E.useState(null),[u,m]=E.useState(!1),[p,x]=E.useState(null),[v,w]=E.useState([]),[S,P]=E.useState(null);E.useEffect(()=>{const C=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=C}},[]);const R=E.useCallback(async C=>{var _;o(!0),d(null),r(null),w([]),x(null);try{const A=Array.from(C).slice(0,2),D=[];let I=[],V=[];for(const $ of A){const W=$,z=await W.text(),q=rS(z),{kind:Q,warn:H}=aS(W.name,q.headers);D.push({name:W.name,size:W.size||z.length,rows:q.rows.length,delimiter:q.delimiter,text:z,kind:Q,warn:H}),Q==="players"?I=I.concat(Hpe(q.rows,q.headers)):Q==="guilds"&&(V=V.concat(Gpe(q.rows,q.headers)))}e(D),r(Wpe(I,V))}catch(A){d(String((_=A==null?void 0:A.message)!=null?_:A))}finally{o(!1)}},[]),B=E.useCallback(async C=>{!C||C.length===0||await R(C)},[R]),L=E.useCallback(async C=>{C.preventDefault();const _=C.dataTransfer.files;!_||!_.length||await R(_)},[R]);async function T(){var C,_,A;if(t.length){m(!0),P({phase:"prepare",current:0,total:0}),x(null),w([]);try{let D=[],I=[];for(const z of t){const q=rS(z.text),{kind:Q}=aS(z.name,q.headers);Q==="players"&&(D=D.concat(q.rows)),Q==="guilds"&&(I=I.concat(q.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!D.length,hasGuildsCsv:!!I.length,playersRows:D.length,guildsRows:I.length}),!I.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!D.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await sS(null,{kind:"guilds",rows:I,onProgress:z=>P(z)});console.info("[Import Report] guilds",V);const $=await sS(null,{kind:"players",rows:D,onProgress:z=>P(z)});console.info("[Import Report] players",$),await Fpe(D,I);const W=new Set;for(const z of I){const q=Ar(z,An("Guild Identifier"));q&&W.add(String(q))}for(const z of D){const q=Ar(z,An("Guild Identifier"));q&&W.add(String(q))}for(const z of W){const q=ps(Rt,`guilds/${z}/snapshots/members_summary`),Q=await ur(q);if(!Q.exists())continue;const H=Q.data(),te=Number((C=H.updatedAtMs)!=null?C:H.timestamp?H.timestamp*1e3:Date.now()),re=Bpe(te),{first:G,firstTsMs:se}=await $pe(z,re,H,te),de=Ope({guildId:z,monthKey:re,server:(_=H.server)!=null?_:null,first:G,firstTsMs:se,latest:H,latestTsMs:te});await Vpe(z,re,de)}P({phase:"done",current:1,total:1}),w([V,$]),x("Import abgeschlossen.")}catch(D){console.error("[UploadCenter] Import error:",D),x(`Fehler beim Import: ${(A=D==null?void 0:D.message)!=null?A:D}`)}finally{m(!1),setTimeout(()=>P(null),1200)}}}const y=E.useMemo(()=>t.map(C=>`${C.name} (${C.rows} rows, ${C.delimiter}, ${C.kind}${C.warn?" ":""})`),[t]),j=E.useMemo(()=>t.reduce((C,_)=>C+_.rows,0),[t]),M=S?Math.floor(100*S.current/Math.max(1,S.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.map((C,_)=>s.jsx("span",{className:"uc-chip",title:t[_].warn||"",children:C},_)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",j," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[S&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${M}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[M,"%"]})]}),s.jsx("button",{onClick:T,disabled:!t.length||!n||u,className:"uc-btn",children:u?"Loading":"Load to DB"}),p&&s.jsx("span",{style:{color:p.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:p})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:C=>B(C.target.files),disabled:i})]}),s.jsx("div",{onDragOver:C=>C.preventDefault(),onDrop:L,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(Vd,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(Vd,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(Vd,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(Vd,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(Vd,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(C=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.server}),s.jsx("td",{style:{textAlign:"right"},children:C.players})]},C.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((C,_)=>{var A,D;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(A=C.server)!=null?A:""}),s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{children:C.own?"":""})]},`${(D=C.server)!=null?D:"NO"}-${C.id}-${_}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((C,_)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{style:{textAlign:"right"},children:C.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:C.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:C.full?"":""})]},`${C.id}-${_}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((C,_)=>s.jsx("li",{children:C},_))})]})]})]})}function Vd({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function Kpe(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function Qpe(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=RS();return!t||!i?null:s.jsx("div",{className:yi.backdrop,onClick:e,children:s.jsxs("div",{className:yi.panel,onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:yi.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:yi.tabs,children:[s.jsx("button",{type:"button",className:`${yi.tabBtn} ${n==="csv"?yi.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${yi.tabBtn} ${n==="json"?yi.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:yi.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:yi.content,children:n==="csv"?s.jsx(qpe,{}):s.jsx(Kpe,{})})]})})}function Xpe({route:t,featureId:e,fallback:n=null,children:r}){var p;const{resolveRule:i,canAccessFeature:o,canAccessRule:c}=e0(),d=(p=e!=null?e:t)!=null?p:"/",u=J.useMemo(()=>i(d),[i,d]);return J.useEffect(()=>{u||console.debug(`[FeatureGate] No rule found for target "${d}", allowing by default.`)},[u,d]),J.useMemo(()=>!e&&!t?!0:u?c(u):o(d),[o,c,e,t,u,d])?s.jsx(s.Fragment,{children:r}):s.jsx(s.Fragment,{children:n})}const Ype=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),kn=Ype("Diese Unterseite existiert in der neuen Struktur nicht mehr."),gt=(t,e,n,r=s.jsx(Od,{to:"/",replace:!0}))=>s.jsx(Xpe,{featureId:t,route:e,fallback:r,children:n});y4.createRoot(document.getElementById("root")).render(s.jsx(J.StrictMode,{children:s.jsx(l6,{children:s.jsx(aL,{children:s.jsxs(u6,{role:"admin",children:[s.jsx(WT,{children:s.jsx(wT,{children:s.jsxs(me,{element:s.jsx(x9,{}),children:[s.jsx(me,{path:"/",element:gt("main.home","/",s.jsx(h$,{}),s.jsx(Od,{to:"/login",replace:!0}))}),s.jsx(me,{path:"/login",element:s.jsx(A$,{})}),s.jsx(me,{path:"/dashboard",element:gt("main.dashboard","/dashboard",s.jsx(E$,{}))}),s.jsx(me,{path:"/dashboard/kpis",element:gt("main.dashboard","/dashboard",s.jsx(P$,{}))}),s.jsx(me,{path:"/dashboard/activity",element:gt("main.dashboard","/dashboard",s.jsx(L$,{}))}),s.jsx(me,{path:"/dashboard/progression",element:gt("main.dashboard","/dashboard",s.jsx(D$,{}))}),s.jsx(me,{path:"/discover",element:gt("main.discover","/discover",s.jsx(M$,{}))}),s.jsx(me,{path:"/toplists",element:gt("main.toplists","/toplists",s.jsx(mO,{}))}),s.jsx(me,{path:"/sfmagazine",element:s.jsx(O$,{})}),s.jsx(me,{path:"/sfmagazine/historybook",element:s.jsx(xV,{})}),s.jsx(me,{path:"/players",element:s.jsx(pO,{})}),s.jsx(me,{path:"/players/rankings",element:s.jsx(fO,{})}),s.jsx(me,{path:"/players/stats",element:s.jsx(gO,{})}),s.jsx(me,{path:"/players/profile",element:s.jsx(Lx,{})}),s.jsx(me,{path:"/players/profile/:playerId",element:s.jsx(Lx,{})}),s.jsx(me,{path:"/players/compare",element:s.jsx(tz,{})}),s.jsx(me,{path:"/player/:playerId",element:s.jsx(Lx,{})}),s.jsx(me,{path:"/guilds",element:s.jsx(cz,{})}),s.jsx(me,{path:"/guilds/rankings",element:s.jsx(dz,{})}),s.jsx(me,{path:"/guilds/stats",element:s.jsx(uz,{})}),s.jsx(me,{path:"/guilds/profile",element:s.jsx($x,{})}),s.jsx(me,{path:"/guilds/profile/:guildId",element:s.jsx($x,{})}),s.jsx(me,{path:"/guild/:guildId",element:s.jsx($x,{})}),s.jsx(me,{path:"/servers",element:s.jsx(JG,{})}),s.jsx(me,{path:"/servers/rankings",element:s.jsx(ZG,{})}),s.jsx(me,{path:"/servers/stats",element:s.jsx(eW,{})}),s.jsx(me,{path:"/servers/profile",element:s.jsx(Vx,{})}),s.jsx(me,{path:"/servers/profile/:serverId",element:s.jsx(Vx,{})}),s.jsx(me,{path:"/server/:serverId",element:s.jsx(Vx,{})}),s.jsx(me,{path:"/u/:profileId",element:s.jsx(cq,{})}),s.jsx(me,{path:"/guidehub/*",element:gt("main.guidehub","/guidehub",s.jsx(GJ,{}))}),s.jsx(me,{path:"/tools",element:gt("main.tools","/tools",s.jsx(gpe,{}))}),s.jsx(me,{path:"/community",element:gt("main.community","/community",s.jsx(Bee,{}))}),s.jsx(me,{path:"/community/scans",element:gt("main.community","/community",s.jsx($3,{}))}),s.jsx(me,{path:"/community/predictions",element:gt("main.community","/community",s.jsx(V3,{}))}),s.jsx(me,{path:"/community/creators",element:gt("main.community","/community",s.jsx(B3,{}))}),s.jsx(me,{path:"/community/feedback",element:gt("main.community","/community",s.jsx(U3,{}))}),s.jsx(me,{path:"/community/news",element:gt("main.community","/community",s.jsx(O3,{}))}),s.jsx(me,{path:"/community/records",element:gt("main.community","/community",s.jsx(z3,{}))}),s.jsx(me,{path:"/scans",element:gt("main.scans","/scans",s.jsx($ee,{}))}),s.jsx(me,{path:"/scans/latest",element:gt("main.scans","/scans",s.jsx(Vee,{}))}),s.jsx(me,{path:"/scans/archive",element:gt("main.scans","/scans",s.jsx(Oee,{}))}),s.jsx(me,{path:"/guild-hub",element:gt("main.guildHub","/guild-hub",s.jsx(Uee,{}))}),s.jsx(me,{path:"/guild-hub/planner",element:gt("main.guildHub","/guild-hub",s.jsx(dse,{}))}),s.jsx(me,{path:"/guild-hub/fusion-planner",element:gt("main.guildHub","/guild-hub",s.jsx(Kae,{}))}),s.jsx(me,{path:"/guild-hub/compare-guilds",element:gt("main.guildHub","/guild-hub",s.jsx(Qae,{}))}),s.jsx(me,{path:"/guild-hub/waitlist",element:gt("main.guildHub","/guild-hub",s.jsx(ple,{}))}),s.jsx(me,{path:"/guild-hub/activity",element:gt("main.guildHub","/guild-hub",s.jsx(wle,{}))}),s.jsx(me,{path:"/guild-hub/imports",element:gt("main.guildHub","/guild-hub",s.jsx(jle,{}))}),s.jsx(me,{path:"/guild-hub/announcements",element:gt("main.guildHub","/guild-hub",s.jsx(Sle,{}))}),s.jsx(me,{path:"/guild-hub/events",element:gt("main.guildHub","/guild-hub",s.jsx(Nle,{}))}),s.jsx(me,{path:"/guild-hub/roles",element:gt("main.guildHub","/guild-hub",s.jsx(kle,{}))}),s.jsx(me,{path:"/guild-hub/settings",element:gt("main.guildHub","/guild-hub",s.jsx(Cle,{}))}),s.jsx(me,{path:"/admin",element:gt("main.admin","/admin",s.jsx(Ile,{}))}),s.jsx(me,{path:"/admin/errors",element:gt("main.admin","/admin",s.jsx(Dle,{}))}),s.jsx(me,{path:"/admin/scans-uploaded",element:gt("main.admin","/admin",s.jsx(Fle,{}))}),s.jsx(me,{path:"/admin/creators-api",element:gt("main.admin","/admin",s.jsx(qle,{}))}),s.jsx(me,{path:"/admin/users",element:gt("main.admin","/admin",s.jsx(oce,{}))}),s.jsx(me,{path:"/settings",element:gt("main.settings","/settings",s.jsx(mce,{}))}),s.jsx(me,{path:"/settings/account",element:gt("main.settings","/settings",s.jsx(Xce,{}))}),s.jsxs(me,{path:"/playground",element:gt("main.playground","/playground",s.jsx(Jce,{})),children:[s.jsx(me,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(me,{path:"list-views",element:s.jsx(Vj,{})}),s.jsx(me,{path:"rescan-widget",element:s.jsx(Uj,{})}),s.jsx(me,{path:"upload-sim",element:s.jsx(zj,{})}),s.jsx(me,{path:"theme-maker",element:s.jsx(Mj,{})}),s.jsx(me,{path:"theme-maker-pro",element:s.jsx(Bj,{})}),s.jsx(me,{path:"am-rune-bonuses-demos",element:s.jsx(Qde,{})}),s.jsx(me,{path:"templates/content-shell",element:s.jsx(Uue,{})}),s.jsx(me,{path:"templates/blank",element:s.jsx(Hue,{})}),s.jsx(me,{path:"templates/blank-alt",element:s.jsx(Wue,{})}),s.jsx(me,{path:"templates/blank-layout-2",element:s.jsx(Xue,{})}),s.jsx(me,{path:"templates/blank-layout-3",element:s.jsx(Jue,{})}),s.jsx(me,{path:"templates/blank-layout-4",element:s.jsx(Zue,{})}),s.jsx(me,{path:"portrait-maker",element:s.jsx(Bue,{})}),s.jsx(me,{path:"hud",element:s.jsx(Xde,{})}),s.jsx(me,{path:"hud/game-buttons",element:s.jsx(jue,{})}),s.jsx(me,{path:"core-ui/theme-maker",element:s.jsx(Mj,{})}),s.jsx(me,{path:"core-ui/theme-maker-pro",element:s.jsx(Bj,{})}),s.jsx(me,{path:"core-ui/list-views",element:s.jsx(Vj,{})}),s.jsx(me,{path:"sync/rescan",element:s.jsx(Uj,{})}),s.jsx(me,{path:"upload/sim",element:s.jsx(zj,{})}),s.jsx(me,{path:"import/har",element:s.jsx(nhe,{})}),s.jsx(me,{path:"import/json-csv",element:s.jsx(ohe,{})}),s.jsx(me,{path:"import/schema",element:s.jsx(uhe,{})}),s.jsx(me,{path:"hubs/player-contained",element:s.jsx(fhe,{})}),s.jsx(me,{path:"hubs/guilds",element:s.jsx(yhe,{})}),s.jsx(me,{path:"hubs/servers",element:s.jsx(jhe,{})}),s.jsx(me,{path:"rankings/views",element:s.jsx(Che,{})}),s.jsx(me,{path:"analytics/kpi",element:s.jsx(Ihe,{})}),s.jsx(me,{path:"analytics/progression",element:s.jsx(Dhe,{})}),s.jsx(me,{path:"analytics/legendary-pets",element:s.jsx($he,{})}),s.jsx(me,{path:"community/scans",element:s.jsx(zhe,{})}),s.jsx(me,{path:"community/creators",element:s.jsx(qhe,{})}),s.jsx(me,{path:"feedback/form",element:s.jsx(Yhe,{})}),s.jsx(me,{path:"feedback/admin",element:s.jsx(tme,{})}),s.jsx(me,{path:"help/tutorials",element:s.jsx(ime,{})}),s.jsx(me,{path:"help/wiki",element:s.jsx(cme,{})}),s.jsx(me,{path:"legal/tos",element:s.jsx(xme,{})}),s.jsx(me,{path:"legal/transparency",element:s.jsx(_me,{})}),s.jsx(me,{path:"settings",element:s.jsx(mme,{})}),s.jsx(me,{path:"pwa/update",element:s.jsx(Nme,{})}),s.jsx(me,{path:"pwa/install",element:s.jsx(Ame,{})}),s.jsx(me,{path:"connect/manual",element:s.jsx(Pme,{})}),s.jsx(me,{path:"connect/userscript",element:s.jsx(Fme,{})}),s.jsx(me,{path:"interop/exports",element:s.jsx(Ome,{})}),s.jsx(me,{path:"interop/deeplinks",element:s.jsx(Gme,{})}),s.jsx(me,{path:"admin/servers",element:s.jsx(Qme,{})}),s.jsx(me,{path:"admin/jobs",element:s.jsx(Zme,{})}),s.jsx(me,{path:"admin/flags",element:s.jsx(npe,{})}),s.jsx(me,{path:"perf/table-lab",element:s.jsx(ope,{})}),s.jsx(me,{path:"mobile/filters",element:s.jsx(upe,{})}),s.jsx(me,{path:"qa/a11y",element:s.jsx(fpe,{})})]}),s.jsx(me,{path:"/latest-scan",element:s.jsx(Od,{to:"/scans/latest",replace:!0})}),s.jsx(me,{path:"/old-scans",element:s.jsx(Od,{to:"/scans/archive",replace:!0})}),s.jsx(me,{path:"/favorites",element:kn()}),s.jsx(me,{path:"/notifications",element:kn()}),s.jsx(me,{path:"/guilds/planner",element:kn()}),s.jsx(me,{path:"/guilds/fusion",element:kn()}),s.jsx(me,{path:"/guilds/academy",element:kn()}),s.jsx(me,{path:"/toplists/players",element:kn()}),s.jsx(me,{path:"/toplists/guilds",element:kn()}),s.jsx(me,{path:"/toplists/servers",element:kn()}),s.jsx(me,{path:"/settings/profile",element:kn()}),s.jsx(me,{path:"/settings/appearance",element:kn()}),s.jsx(me,{path:"/players/search",element:kn()}),s.jsx(me,{path:"/servers/list",element:kn()}),s.jsx(me,{path:"/servers/trend",element:kn()}),s.jsx(me,{path:"/scans/upload",element:kn()}),s.jsx(me,{path:"/scans/history",element:kn()}),s.jsx(me,{path:"*",element:s.jsx(Od,{to:"/",replace:!0})})]})})}),s.jsx(Qpe,{})]})})})}));
