import kF from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function zj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zw={exports:{}},tm={},eb={exports:{}},ys={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN;function D8(){if(BN)return ys;BN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function E(V,X,Z){this.props=V,this.context=X,this.refs=C,this.updater=Z||y}E.prototype.isReactComponent={},E.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function T(){}T.prototype=E.prototype;function B(V,X,Z){this.props=V,this.context=X,this.refs=C,this.updater=Z||y}var S=B.prototype=new T;S.constructor=B,x(S,E.prototype),S.isPureReactComponent=!0;var v=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function j(V,X,Z){var se,le={},we=null,Se=null;if(X!=null)for(se in X.ref!==void 0&&(Se=X.ref),X.key!==void 0&&(we=""+X.key),X)w.call(X,se)&&!_.hasOwnProperty(se)&&(le[se]=X[se]);var te=arguments.length-2;if(te===1)le.children=Z;else if(1<te){for(var ce=Array(te),re=0;re<te;re++)ce[re]=arguments[re+2];le.children=ce}if(V&&V.defaultProps)for(se in te=V.defaultProps,te)le[se]===void 0&&(le[se]=te[se]);return{$$typeof:t,type:V,key:we,ref:Se,props:le,_owner:N.current}}function k(V,X){return{$$typeof:t,type:V.type,key:X,ref:V.ref,props:V.props,_owner:V._owner}}function U(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function I(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Z){return X[Z]})}var P=/\/+/g;function L(V,X){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):X.toString(36)}function H(V,X,Z,se,le){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(we){case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case t:case e:Se=!0}}if(Se)return Se=V,le=le(Se),V=se===""?"."+L(Se,0):se,v(le)?(Z="",V!=null&&(Z=V.replace(P,"$&/")+"/"),H(le,X,Z,"",function(re){return re})):le!=null&&(U(le)&&(le=k(le,Z+(!le.key||Se&&Se.key===le.key?"":(""+le.key).replace(P,"$&/")+"/")+V)),X.push(le)),1;if(Se=0,se=se===""?".":se+":",v(V))for(var te=0;te<V.length;te++){we=V[te];var ce=se+L(we,te);Se+=H(we,X,Z,ce,le)}else if(ce=g(V),typeof ce=="function")for(V=ce.call(V),te=0;!(we=V.next()).done;)we=we.value,ce=se+L(we,te++),Se+=H(we,X,Z,ce,le);else if(we==="object")throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Se}function O(V,X,Z){if(V==null)return V;var se=[],le=0;return H(V,se,"","",function(we){return X.call(Z,we,le++)}),se}function z(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(Z){(V._status===0||V._status===-1)&&(V._status=1,V._result=Z)},function(Z){(V._status===0||V._status===-1)&&(V._status=2,V._result=Z)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var G={current:null},$={transition:null},Y={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:$,ReactCurrentOwner:N};function J(){throw Error("act(...) is not supported in production builds of React.")}return ys.Children={map:O,forEach:function(V,X,Z){O(V,function(){X.apply(this,arguments)},Z)},count:function(V){var X=0;return O(V,function(){X++}),X},toArray:function(V){return O(V,function(X){return X})||[]},only:function(V){if(!U(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ys.Component=E,ys.Fragment=n,ys.Profiler=i,ys.PureComponent=B,ys.StrictMode=r,ys.Suspense=d,ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ys.act=J,ys.cloneElement=function(V,X,Z){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var se=x({},V.props),le=V.key,we=V.ref,Se=V._owner;if(X!=null){if(X.ref!==void 0&&(we=X.ref,Se=N.current),X.key!==void 0&&(le=""+X.key),V.type&&V.type.defaultProps)var te=V.type.defaultProps;for(ce in X)w.call(X,ce)&&!_.hasOwnProperty(ce)&&(se[ce]=X[ce]===void 0&&te!==void 0?te[ce]:X[ce])}var ce=arguments.length-2;if(ce===1)se.children=Z;else if(1<ce){te=Array(ce);for(var re=0;re<ce;re++)te[re]=arguments[re+2];se.children=te}return{$$typeof:t,type:V.type,key:le,ref:we,props:se,_owner:Se}},ys.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},ys.createElement=j,ys.createFactory=function(V){var X=j.bind(null,V);return X.type=V,X},ys.createRef=function(){return{current:null}},ys.forwardRef=function(V){return{$$typeof:l,render:V}},ys.isValidElement=U,ys.lazy=function(V){return{$$typeof:h,_payload:{_status:-1,_result:V},_init:z}},ys.memo=function(V,X){return{$$typeof:u,type:V,compare:X===void 0?null:X}},ys.startTransition=function(V){var X=$.transition;$.transition={};try{V()}finally{$.transition=X}},ys.unstable_act=J,ys.useCallback=function(V,X){return G.current.useCallback(V,X)},ys.useContext=function(V){return G.current.useContext(V)},ys.useDebugValue=function(){},ys.useDeferredValue=function(V){return G.current.useDeferredValue(V)},ys.useEffect=function(V,X){return G.current.useEffect(V,X)},ys.useId=function(){return G.current.useId()},ys.useImperativeHandle=function(V,X,Z){return G.current.useImperativeHandle(V,X,Z)},ys.useInsertionEffect=function(V,X){return G.current.useInsertionEffect(V,X)},ys.useLayoutEffect=function(V,X){return G.current.useLayoutEffect(V,X)},ys.useMemo=function(V,X){return G.current.useMemo(V,X)},ys.useReducer=function(V,X,Z){return G.current.useReducer(V,X,Z)},ys.useRef=function(V){return G.current.useRef(V)},ys.useState=function(V){return G.current.useState(V)},ys.useSyncExternalStore=function(V,X,Z){return G.current.useSyncExternalStore(V,X,Z)},ys.useTransition=function(){return G.current.useTransition()},ys.version="18.3.1",ys}var NN;function Wj(){return NN||(NN=1,eb.exports=D8()),eb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN;function M8(){if(kN)return tm;kN=1;var t=Wj(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,u){var h,m={},g=null,y=null;u!==void 0&&(g=""+u),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)r.call(d,h)&&!a.hasOwnProperty(h)&&(m[h]=d[h]);if(l&&l.defaultProps)for(h in d=l.defaultProps,d)m[h]===void 0&&(m[h]=d[h]);return{$$typeof:e,type:l,key:g,ref:y,props:m,_owner:i.current}}return tm.Fragment=n,tm.jsx=o,tm.jsxs=o,tm}var IN;function Q8(){return IN||(IN=1,Zw.exports=M8()),Zw.exports}var s=Q8(),R=Wj();const W=zj(R);var Tf={},tb={exports:{}},Vi={},sb={exports:{}},nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function H8(){return EN||(EN=1,(function(t){function e($,Y){var J=$.length;$.push(Y);e:for(;0<J;){var V=J-1>>>1,X=$[V];if(0<i(X,Y))$[V]=Y,$[J]=X,J=V;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],J=$.pop();if(J!==Y){$[0]=J;e:for(var V=0,X=$.length,Z=X>>>1;V<Z;){var se=2*(V+1)-1,le=$[se],we=se+1,Se=$[we];if(0>i(le,J))we<X&&0>i(Se,le)?($[V]=Se,$[we]=J,V=we):($[V]=le,$[se]=J,V=se);else if(we<X&&0>i(Se,J))$[V]=Se,$[we]=J,V=we;else break e}}return Y}function i($,Y){var J=$.sortIndex-Y.sortIndex;return J!==0?J:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,m=null,g=3,y=!1,x=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=$)r(u),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=n(u)}}function v($){if(C=!1,S($),!x)if(n(d)!==null)x=!0,z(w);else{var Y=n(u);Y!==null&&G(v,Y.startTime-$)}}function w($,Y){x=!1,C&&(C=!1,T(j),j=-1),y=!0;var J=g;try{for(S(Y),m=n(d);m!==null&&(!(m.expirationTime>Y)||$&&!I());){var V=m.callback;if(typeof V=="function"){m.callback=null,g=m.priorityLevel;var X=V(m.expirationTime<=Y);Y=t.unstable_now(),typeof X=="function"?m.callback=X:m===n(d)&&r(d),S(Y)}else r(d);m=n(d)}if(m!==null)var Z=!0;else{var se=n(u);se!==null&&G(v,se.startTime-Y),Z=!1}return Z}finally{m=null,g=J,y=!1}}var N=!1,_=null,j=-1,k=5,U=-1;function I(){return!(t.unstable_now()-U<k)}function P(){if(_!==null){var $=t.unstable_now();U=$;var Y=!0;try{Y=_(!0,$)}finally{Y?L():(N=!1,_=null)}}else N=!1}var L;if(typeof B=="function")L=function(){B(P)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,O=H.port2;H.port1.onmessage=P,L=function(){O.postMessage(null)}}else L=function(){E(P,0)};function z($){_=$,N||(N=!0,L())}function G($,Y){j=E(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,z(w))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var J=g;g=Y;try{return $()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=g;g=$;try{return Y()}finally{g=J}},t.unstable_scheduleCallback=function($,Y,J){var V=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?V+J:V):J=V,$){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,$={id:h++,callback:Y,priorityLevel:$,startTime:J,expirationTime:X,sortIndex:-1},J>V?($.sortIndex=J,e(u,$),n(d)===null&&$===n(u)&&(C?(T(j),j=-1):C=!0,G(v,J-V))):($.sortIndex=X,e(d,$),x||y||(x=!0,z(w))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var Y=g;return function(){var J=g;g=Y;try{return $.apply(this,arguments)}finally{g=J}}}})(nb)),nb}var TN;function O8(){return TN||(TN=1,sb.exports=H8()),sb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function $8(){if(FN)return Vi;FN=1;var t=Wj(),e=O8();function n(c){for(var A="https://reactjs.org/docs/error-decoder.html?invariant="+c,p=1;p<arguments.length;p++)A+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+c+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(c,A){o(c,A),o(c+"Capture",A)}function o(c,A){for(i[c]=A,c=0;c<A.length;c++)r.add(A[c])}var l=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(c){return d.call(m,c)?!0:d.call(h,c)?!1:u.test(c)?m[c]=!0:(h[c]=!0,!1)}function y(c,A,p,b){if(p!==null&&p.type===0)return!1;switch(typeof A){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function x(c,A,p,b){if(A===null||typeof A=="undefined"||y(c,A,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!A;case 4:return A===!1;case 5:return isNaN(A);case 6:return isNaN(A)||1>A}return!1}function C(c,A,p,b,F,M,K){this.acceptsBooleans=A===2||A===3||A===4,this.attributeName=b,this.attributeNamespace=F,this.mustUseProperty=p,this.propertyName=c,this.type=A,this.sanitizeURL=M,this.removeEmptyString=K}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){E[c]=new C(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var A=c[0];E[A]=new C(A,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){E[c]=new C(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){E[c]=new C(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){E[c]=new C(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){E[c]=new C(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){E[c]=new C(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){E[c]=new C(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){E[c]=new C(c,5,!1,c.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function B(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var A=c.replace(T,B);E[A]=new C(A,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var A=c.replace(T,B);E[A]=new C(A,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var A=c.replace(T,B);E[A]=new C(A,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){E[c]=new C(c,1,!1,c.toLowerCase(),null,!1,!1)}),E.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){E[c]=new C(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,A,p,b){var F=E.hasOwnProperty(A)?E[A]:null;(F!==null?F.type!==0:b||!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N")&&(x(A,p,F,b)&&(p=null),b||F===null?g(A)&&(p===null?c.removeAttribute(A):c.setAttribute(A,""+p)):F.mustUseProperty?c[F.propertyName]=p===null?F.type===3?!1:"":p:(A=F.attributeName,b=F.attributeNamespace,p===null?c.removeAttribute(A):(F=F.type,p=F===3||F===4&&p===!0?"":""+p,b?c.setAttributeNS(b,A,p):c.setAttribute(A,p))))}var v=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),$=Symbol.iterator;function Y(c){return c===null||typeof c!="object"?null:(c=$&&c[$]||c["@@iterator"],typeof c=="function"?c:null)}var J=Object.assign,V;function X(c){if(V===void 0)try{throw Error()}catch(p){var A=p.stack.trim().match(/\n( *(at )?)/);V=A&&A[1]||""}return`
`+V+c}var Z=!1;function se(c,A){if(!c||Z)return"";Z=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(A)if(A=function(){throw Error()},Object.defineProperty(A.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(A,[])}catch(_e){var b=_e}Reflect.construct(c,[],A)}else{try{A.call()}catch(_e){b=_e}c.call(A.prototype)}else{try{throw Error()}catch(_e){b=_e}c()}}catch(_e){if(_e&&b&&typeof _e.stack=="string"){for(var F=_e.stack.split(`
`),M=b.stack.split(`
`),K=F.length-1,ee=M.length-1;1<=K&&0<=ee&&F[K]!==M[ee];)ee--;for(;1<=K&&0<=ee;K--,ee--)if(F[K]!==M[ee]){if(K!==1||ee!==1)do if(K--,ee--,0>ee||F[K]!==M[ee]){var ae=`
`+F[K].replace(" at new "," at ");return c.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",c.displayName)),ae}while(1<=K&&0<=ee);break}}}finally{Z=!1,Error.prepareStackTrace=p}return(c=c?c.displayName||c.name:"")?X(c):""}function le(c){switch(c.tag){case 5:return X(c.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return c=se(c.type,!1),c;case 11:return c=se(c.type.render,!1),c;case 1:return c=se(c.type,!0),c;default:return""}}function we(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case _:return"Fragment";case N:return"Portal";case k:return"Profiler";case j:return"StrictMode";case L:return"Suspense";case H:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case I:return(c.displayName||"Context")+".Consumer";case U:return(c._context.displayName||"Context")+".Provider";case P:var A=c.render;return c=c.displayName,c||(c=A.displayName||A.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case O:return A=c.displayName||null,A!==null?A:we(c.type)||"Memo";case z:A=c._payload,c=c._init;try{return we(c(A))}catch(p){}}return null}function Se(c){var A=c.type;switch(c.tag){case 24:return"Cache";case 9:return(A.displayName||"Context")+".Consumer";case 10:return(A._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=A.render,c=c.displayName||c.name||"",A.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return A;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(A);case 8:return A===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A}return null}function te(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ce(c){var A=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function re(c){var A=ce(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,A),b=""+c[A];if(!c.hasOwnProperty(A)&&typeof p!="undefined"&&typeof p.get=="function"&&typeof p.set=="function"){var F=p.get,M=p.set;return Object.defineProperty(c,A,{configurable:!0,get:function(){return F.call(this)},set:function(K){b=""+K,M.call(this,K)}}),Object.defineProperty(c,A,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(K){b=""+K},stopTracking:function(){c._valueTracker=null,delete c[A]}}}}function ye(c){c._valueTracker||(c._valueTracker=re(c))}function Be(c){if(!c)return!1;var A=c._valueTracker;if(!A)return!0;var p=A.getValue(),b="";return c&&(b=ce(c)?c.checked?"true":"false":c.value),c=b,c!==p?(A.setValue(c),!0):!1}function Le(c){if(c=c||(typeof document!="undefined"?document:void 0),typeof c=="undefined")return null;try{return c.activeElement||c.body}catch(A){return c.body}}function Ee(c,A){var p=A.checked;return J({},A,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p!=null?p:c._wrapperState.initialChecked})}function De(c,A){var p=A.defaultValue==null?"":A.defaultValue,b=A.checked!=null?A.checked:A.defaultChecked;p=te(A.value!=null?A.value:p),c._wrapperState={initialChecked:b,initialValue:p,controlled:A.type==="checkbox"||A.type==="radio"?A.checked!=null:A.value!=null}}function at(c,A){A=A.checked,A!=null&&S(c,"checked",A,!1)}function Ke(c,A){at(c,A);var p=te(A.value),b=A.type;if(p!=null)b==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+p):c.value!==""+p&&(c.value=""+p);else if(b==="submit"||b==="reset"){c.removeAttribute("value");return}A.hasOwnProperty("value")?Ce(c,A.type,p):A.hasOwnProperty("defaultValue")&&Ce(c,A.type,te(A.defaultValue)),A.checked==null&&A.defaultChecked!=null&&(c.defaultChecked=!!A.defaultChecked)}function He(c,A,p){if(A.hasOwnProperty("value")||A.hasOwnProperty("defaultValue")){var b=A.type;if(!(b!=="submit"&&b!=="reset"||A.value!==void 0&&A.value!==null))return;A=""+c._wrapperState.initialValue,p||A===c.value||(c.value=A),c.defaultValue=A}p=c.name,p!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,p!==""&&(c.name=p)}function Ce(c,A,p){(A!=="number"||Le(c.ownerDocument)!==c)&&(p==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+p&&(c.defaultValue=""+p))}var ue=Array.isArray;function Te(c,A,p,b){if(c=c.options,A){A={};for(var F=0;F<p.length;F++)A["$"+p[F]]=!0;for(p=0;p<c.length;p++)F=A.hasOwnProperty("$"+c[p].value),c[p].selected!==F&&(c[p].selected=F),F&&b&&(c[p].defaultSelected=!0)}else{for(p=""+te(p),A=null,F=0;F<c.length;F++){if(c[F].value===p){c[F].selected=!0,b&&(c[F].defaultSelected=!0);return}A!==null||c[F].disabled||(A=c[F])}A!==null&&(A.selected=!0)}}function Fe(c,A){if(A.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},A,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function ct(c,A){var p=A.value;if(p==null){if(p=A.children,A=A.defaultValue,p!=null){if(A!=null)throw Error(n(92));if(ue(p)){if(1<p.length)throw Error(n(93));p=p[0]}A=p}A==null&&(A=""),p=A}c._wrapperState={initialValue:te(p)}}function xt(c,A){var p=te(A.value),b=te(A.defaultValue);p!=null&&(p=""+p,p!==c.value&&(c.value=p),A.defaultValue==null&&c.defaultValue!==p&&(c.defaultValue=p)),b!=null&&(c.defaultValue=""+b)}function ie(c){var A=c.textContent;A===c._wrapperState.initialValue&&A!==""&&A!==null&&(c.value=A)}function Ae(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(c,A){return c==null||c==="http://www.w3.org/1999/xhtml"?Ae(A):c==="http://www.w3.org/2000/svg"&&A==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var ke,jt=(function(c){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(A,p,b,F){MSApp.execUnsafeLocalFunction(function(){return c(A,p,b,F)})}:c})(function(c,A){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=A;else{for(ke=ke||document.createElement("div"),ke.innerHTML="<svg>"+A.valueOf().toString()+"</svg>",A=ke.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;A.firstChild;)c.appendChild(A.firstChild)}});function nt(c,A){if(A){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=A;return}}c.textContent=A}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ut=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(c){ut.forEach(function(A){A=A+c.charAt(0).toUpperCase()+c.substring(1),et[A]=et[c]})});function bt(c,A,p){return A==null||typeof A=="boolean"||A===""?"":p||typeof A!="number"||A===0||et.hasOwnProperty(c)&&et[c]?(""+A).trim():A+"px"}function Ye(c,A){c=c.style;for(var p in A)if(A.hasOwnProperty(p)){var b=p.indexOf("--")===0,F=bt(p,A[p],b);p==="float"&&(p="cssFloat"),b?c.setProperty(p,F):c[p]=F}}var Je=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kt(c,A){if(A){if(Je[c]&&(A.children!=null||A.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(A.dangerouslySetInnerHTML!=null){if(A.children!=null)throw Error(n(60));if(typeof A.dangerouslySetInnerHTML!="object"||!("__html"in A.dangerouslySetInnerHTML))throw Error(n(61))}if(A.style!=null&&typeof A.style!="object")throw Error(n(62))}}function mt(c,A){if(c.indexOf("-")===-1)return typeof A.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ne=null;function Re(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ue=null,dt=null,ze=null;function wt(c){if(c=Qh(c)){if(typeof Ue!="function")throw Error(n(280));var A=c.stateNode;A&&(A=Kg(A),Ue(c.stateNode,c.type,A))}}function Dt(c){dt?ze?ze.push(c):ze=[c]:dt=c}function Et(){if(dt){var c=dt,A=ze;if(ze=dt=null,wt(c),A)for(c=0;c<A.length;c++)wt(A[c])}}function Me(c,A){return c(A)}function pt(){}var os=!1;function je(c,A,p){if(os)return c(A,p);os=!0;try{return Me(c,A,p)}finally{os=!1,(dt!==null||ze!==null)&&(pt(),Et())}}function bs(c,A){var p=c.stateNode;if(p===null)return null;var b=Kg(p);if(b===null)return null;p=b[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,A,typeof p));return p}var Vn=!1;if(l)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch(c){Vn=!1}function hn(c,A,p,b,F,M,K,ee,ae){var _e=Array.prototype.slice.call(arguments,3);try{A.apply(p,_e)}catch(Oe){this.onError(Oe)}}var Ar=!1,hr=null,mn=!1,hs=null,_s={onError:function(c){Ar=!0,hr=c}};function lt(c,A,p,b,F,M,K,ee,ae){Ar=!1,hr=null,hn.apply(_s,arguments)}function Tt(c,A,p,b,F,M,K,ee,ae){if(lt.apply(this,arguments),Ar){if(Ar){var _e=hr;Ar=!1,hr=null}else throw Error(n(198));mn||(mn=!0,hs=_e)}}function ft(c){var A=c,p=c;if(c.alternate)for(;A.return;)A=A.return;else{c=A;do A=c,(A.flags&4098)!==0&&(p=A.return),c=A.return;while(c)}return A.tag===3?p:null}function Ns(c){if(c.tag===13){var A=c.memoizedState;if(A===null&&(c=c.alternate,c!==null&&(A=c.memoizedState)),A!==null)return A.dehydrated}return null}function Zs(c){if(ft(c)!==c)throw Error(n(188))}function Ur(c){var A=c.alternate;if(!A){if(A=ft(c),A===null)throw Error(n(188));return A!==c?null:c}for(var p=c,b=A;;){var F=p.return;if(F===null)break;var M=F.alternate;if(M===null){if(b=F.return,b!==null){p=b;continue}break}if(F.child===M.child){for(M=F.child;M;){if(M===p)return Zs(F),c;if(M===b)return Zs(F),A;M=M.sibling}throw Error(n(188))}if(p.return!==b.return)p=F,b=M;else{for(var K=!1,ee=F.child;ee;){if(ee===p){K=!0,p=F,b=M;break}if(ee===b){K=!0,b=F,p=M;break}ee=ee.sibling}if(!K){for(ee=M.child;ee;){if(ee===p){K=!0,p=M,b=F;break}if(ee===b){K=!0,b=M,p=F;break}ee=ee.sibling}if(!K)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:A}function Pr(c){return c=Ur(c),c!==null?wn(c):null}function wn(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var A=wn(c);if(A!==null)return A;c=c.sibling}return null}var wr=e.unstable_scheduleCallback,br=e.unstable_cancelCallback,ti=e.unstable_shouldYield,Ri=e.unstable_requestPaint,xs=e.unstable_now,gi=e.unstable_getCurrentPriorityLevel,Ui=e.unstable_ImmediatePriority,Ji=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,od=e.unstable_LowPriority,ld=e.unstable_IdlePriority,Ko=null,si=null;function bg(c){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Ko,c,void 0,(c.current.flags&128)===128)}catch(A){}}var fi=Math.clz32?Math.clz32:jg,jh=Math.log,_g=Math.LN2;function jg(c){return c>>>=0,c===0?32:31-(jh(c)/_g|0)|0}var ju=64,Cu=4194304;function Kl(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function cd(c,A){var p=c.pendingLanes;if(p===0)return 0;var b=0,F=c.suspendedLanes,M=c.pingedLanes,K=p&268435455;if(K!==0){var ee=K&~F;ee!==0?b=Kl(ee):(M&=K,M!==0&&(b=Kl(M)))}else K=p&~F,K!==0?b=Kl(K):M!==0&&(b=Kl(M));if(b===0)return 0;if(A!==0&&A!==b&&(A&F)===0&&(F=b&-b,M=A&-A,F>=M||F===16&&(M&4194240)!==0))return A;if((b&4)!==0&&(b|=p&16),A=c.entangledLanes,A!==0)for(c=c.entanglements,A&=b;0<A;)p=31-fi(A),F=1<<p,b|=c[p],A&=~F;return b}function k0(c,A){switch(c){case 1:case 2:case 4:return A+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(c,A){for(var p=c.suspendedLanes,b=c.pingedLanes,F=c.expirationTimes,M=c.pendingLanes;0<M;){var K=31-fi(M),ee=1<<K,ae=F[K];ae===-1?((ee&p)===0||(ee&b)!==0)&&(F[K]=k0(ee,A)):ae<=A&&(c.expiredLanes|=ee),M&=~ee}}function Zi(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function dd(){var c=ju;return ju<<=1,(ju&4194240)===0&&(ju=64),c}function zl(c){for(var A=[],p=0;31>p;p++)A.push(c);return A}function Wl(c,A,p){c.pendingLanes|=A,A!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,A=31-fi(A),c[A]=p}function rn(c,A){var p=c.pendingLanes&~A;c.pendingLanes=A,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=A,c.mutableReadLanes&=A,c.entangledLanes&=A,A=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<p;){var F=31-fi(p),M=1<<F;A[F]=0,b[F]=-1,c[F]=-1,p&=~M}}function ql(c,A){var p=c.entangledLanes|=A;for(c=c.entanglements;p;){var b=31-fi(p),F=1<<b;F&A|c[b]&A&&(c[b]|=A),p&=~F}}var ks=0;function Xl(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Cg,Su,Sg,Bg,Ng,Ch=!1,go=[],Dr=null,$a=null,Va=null,Yl=new Map,ya=new Map,fo=[],I0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(c,A){switch(c){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Yl.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(A.pointerId)}}function Pi(c,A,p,b,F,M){return c===null||c.nativeEvent!==M?(c={blockedOn:A,domEventName:p,eventSystemFlags:b,nativeEvent:M,targetContainers:[F]},A!==null&&(A=Qh(A),A!==null&&Su(A)),c):(c.eventSystemFlags|=b,A=c.targetContainers,F!==null&&A.indexOf(F)===-1&&A.push(F),c)}function E0(c,A,p,b,F){switch(A){case"focusin":return Dr=Pi(Dr,c,A,p,b,F),!0;case"dragenter":return $a=Pi($a,c,A,p,b,F),!0;case"mouseover":return Va=Pi(Va,c,A,p,b,F),!0;case"pointerover":var M=F.pointerId;return Yl.set(M,Pi(Yl.get(M)||null,c,A,p,b,F)),!0;case"gotpointercapture":return M=F.pointerId,ya.set(M,Pi(ya.get(M)||null,c,A,p,b,F)),!0}return!1}function Ig(c){var A=pd(c.target);if(A!==null){var p=ft(A);if(p!==null){if(A=p.tag,A===13){if(A=Ns(p),A!==null){c.blockedOn=A,Ng(c.priority,function(){Sg(p)});return}}else if(A===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Wo(c){if(c.blockedOn!==null)return!1;for(var A=c.targetContainers;0<A.length;){var p=Bu(c.domEventName,c.eventSystemFlags,A[0],c.nativeEvent);if(p===null){p=c.nativeEvent;var b=new p.constructor(p.type,p);ne=b,p.target.dispatchEvent(b),ne=null}else return A=Qh(p),A!==null&&Su(A),c.blockedOn=p,!1;A.shift()}return!0}function ud(c,A,p){Wo(c)&&p.delete(A)}function Eg(){Ch=!1,Dr!==null&&Wo(Dr)&&(Dr=null),$a!==null&&Wo($a)&&($a=null),Va!==null&&Wo(Va)&&(Va=null),Yl.forEach(ud),ya.forEach(ud)}function Ga(c,A){c.blockedOn===A&&(c.blockedOn=null,Ch||(Ch=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eg)))}function Ka(c){function A(F){return Ga(F,c)}if(0<go.length){Ga(go[0],c);for(var p=1;p<go.length;p++){var b=go[p];b.blockedOn===c&&(b.blockedOn=null)}}for(Dr!==null&&Ga(Dr,c),$a!==null&&Ga($a,c),Va!==null&&Ga(Va,c),Yl.forEach(A),ya.forEach(A),p=0;p<fo.length;p++)b=fo[p],b.blockedOn===c&&(b.blockedOn=null);for(;0<fo.length&&(p=fo[0],p.blockedOn===null);)Ig(p),p.blockedOn===null&&fo.shift()}var qo=v.ReactCurrentBatchConfig,Jl=!0;function bn(c,A,p,b){var F=ks,M=qo.transition;qo.transition=null;try{ks=1,Sh(c,A,p,b)}finally{ks=F,qo.transition=M}}function T0(c,A,p,b){var F=ks,M=qo.transition;qo.transition=null;try{ks=4,Sh(c,A,p,b)}finally{ks=F,qo.transition=M}}function Sh(c,A,p,b){if(Jl){var F=Bu(c,A,p,b);if(F===null)$0(c,A,b,Ad,p),kg(c,b);else if(E0(F,c,A,p,b))b.stopPropagation();else if(kg(c,b),A&4&&-1<I0.indexOf(c)){for(;F!==null;){var M=Qh(F);if(M!==null&&Cg(M),M=Bu(c,A,p,b),M===null&&$0(c,A,b,Ad,p),M===F)break;F=M}F!==null&&b.stopPropagation()}else $0(c,A,b,null,p)}}var Ad=null;function Bu(c,A,p,b){if(Ad=null,c=Re(b),c=pd(c),c!==null)if(A=ft(c),A===null)c=null;else if(p=A.tag,p===13){if(c=Ns(A),c!==null)return c;c=null}else if(p===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;c=null}else A!==c&&(c=null);return Ad=c,null}function Bh(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gi()){case Ui:return 1;case Ji:return 4;case on:case od:return 16;case ld:return 536870912;default:return 16}default:return 16}}var ea=null,Nu=null,Di=null;function Nh(){if(Di)return Di;var c,A=Nu,p=A.length,b,F="value"in ea?ea.value:ea.textContent,M=F.length;for(c=0;c<p&&A[c]===F[c];c++);var K=p-c;for(b=1;b<=K&&A[p-b]===F[M-b];b++);return Di=F.slice(c,1<b?1-b:void 0)}function ku(c){var A=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&A===13&&(c=13)):c=A,c===10&&(c=13),32<=c||c===13?c:0}function vo(){return!0}function kh(){return!1}function Mr(c){function A(p,b,F,M,K){this._reactName=p,this._targetInst=F,this.type=b,this.nativeEvent=M,this.target=K,this.currentTarget=null;for(var ee in c)c.hasOwnProperty(ee)&&(p=c[ee],this[ee]=p?p(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?vo:kh,this.isPropagationStopped=kh,this}return J(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),A}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=Mr(za),xo=J({},za,{view:0,detail:0}),F0=Mr(xo),Eu,Xo,Zl,hd=J({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Zl&&(Zl&&c.type==="mousemove"?(Eu=c.screenX-Zl.screenX,Xo=c.screenY-Zl.screenY):Xo=Eu=0,Zl=c),Eu)},movementY:function(c){return"movementY"in c?c.movementY:Xo}}),Tu=Mr(hd),Ih=J({},hd,{dataTransfer:0}),Tg=Mr(Ih),Fu=J({},xo,{relatedTarget:0}),Lu=Mr(Fu),Fg=J({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),Yo=Mr(Fg),Lg=J({},za,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Rg=Mr(Lg),Ug=J({},za,{data:0}),Eh=Mr(Ug),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dg(c){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(c):(c=Pg[c])?!!A[c]:!1}function yo(){return Dg}var f=J({},xo,{key:function(c){if(c.key){var A=Ru[c.key]||c.key;if(A!=="Unidentified")return A}return c.type==="keypress"?(c=ku(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?vi[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(c){return c.type==="keypress"?ku(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ku(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),D=Mr(f),Q=J({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=Mr(Q),ge=J({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),Ne=Mr(ge),rt=J({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),en=Mr(rt),mr=J({},hd,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=Mr(mr),_r=[9,13,27,32],er=l&&"CompositionEvent"in window,wa=null;l&&"documentMode"in document&&(wa=document.documentMode);var ta=l&&"TextEvent"in window&&!wa,md=l&&(!er||wa&&8<wa&&11>=wa),Uu=" ",wS=!1;function bS(c,A){switch(c){case"keyup":return _r.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Pu=!1;function RM(c,A){switch(c){case"compositionend":return _S(A);case"keypress":return A.which!==32?null:(wS=!0,Uu);case"textInput":return c=A.data,c===Uu&&wS?null:c;default:return null}}function UM(c,A){if(Pu)return c==="compositionend"||!er&&bS(c,A)?(c=Nh(),Di=Nu=ea=null,Pu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return md&&A.locale!=="ko"?null:A.data;default:return null}}var PM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jS(c){var A=c&&c.nodeName&&c.nodeName.toLowerCase();return A==="input"?!!PM[c.type]:A==="textarea"}function CS(c,A,p,b){Dt(b),A=$g(A,"onChange"),0<A.length&&(p=new Iu("onChange","change",null,p,b),c.push({event:p,listeners:A}))}var Th=null,Fh=null;function DM(c){$S(c,0)}function Mg(c){var A=Ou(c);if(Be(A))return c}function MM(c,A){if(c==="change")return A}var SS=!1;if(l){var L0;if(l){var R0="oninput"in document;if(!R0){var BS=document.createElement("div");BS.setAttribute("oninput","return;"),R0=typeof BS.oninput=="function"}L0=R0}else L0=!1;SS=L0&&(!document.documentMode||9<document.documentMode)}function NS(){Th&&(Th.detachEvent("onpropertychange",kS),Fh=Th=null)}function kS(c){if(c.propertyName==="value"&&Mg(Fh)){var A=[];CS(A,Fh,c,Re(c)),je(DM,A)}}function QM(c,A,p){c==="focusin"?(NS(),Th=A,Fh=p,Th.attachEvent("onpropertychange",kS)):c==="focusout"&&NS()}function HM(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Mg(Fh)}function OM(c,A){if(c==="click")return Mg(A)}function $M(c,A){if(c==="input"||c==="change")return Mg(A)}function VM(c,A){return c===A&&(c!==0||1/c===1/A)||c!==c&&A!==A}var Wa=typeof Object.is=="function"?Object.is:VM;function Lh(c,A){if(Wa(c,A))return!0;if(typeof c!="object"||c===null||typeof A!="object"||A===null)return!1;var p=Object.keys(c),b=Object.keys(A);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var F=p[b];if(!d.call(A,F)||!Wa(c[F],A[F]))return!1}return!0}function IS(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ES(c,A){var p=IS(c);c=0;for(var b;p;){if(p.nodeType===3){if(b=c+p.textContent.length,c<=A&&b>=A)return{node:p,offset:A-c};c=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=IS(p)}}function TS(c,A){return c&&A?c===A?!0:c&&c.nodeType===3?!1:A&&A.nodeType===3?TS(c,A.parentNode):"contains"in c?c.contains(A):c.compareDocumentPosition?!!(c.compareDocumentPosition(A)&16):!1:!1}function FS(){for(var c=window,A=Le();A instanceof c.HTMLIFrameElement;){try{var p=typeof A.contentWindow.location.href=="string"}catch(b){p=!1}if(p)c=A.contentWindow;else break;A=Le(c.document)}return A}function U0(c){var A=c&&c.nodeName&&c.nodeName.toLowerCase();return A&&(A==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||A==="textarea"||c.contentEditable==="true")}function GM(c){var A=FS(),p=c.focusedElem,b=c.selectionRange;if(A!==p&&p&&p.ownerDocument&&TS(p.ownerDocument.documentElement,p)){if(b!==null&&U0(p)){if(A=b.start,c=b.end,c===void 0&&(c=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(c,p.value.length);else if(c=(A=p.ownerDocument||document)&&A.defaultView||window,c.getSelection){c=c.getSelection();var F=p.textContent.length,M=Math.min(b.start,F);b=b.end===void 0?M:Math.min(b.end,F),!c.extend&&M>b&&(F=b,b=M,M=F),F=ES(p,M);var K=ES(p,b);F&&K&&(c.rangeCount!==1||c.anchorNode!==F.node||c.anchorOffset!==F.offset||c.focusNode!==K.node||c.focusOffset!==K.offset)&&(A=A.createRange(),A.setStart(F.node,F.offset),c.removeAllRanges(),M>b?(c.addRange(A),c.extend(K.node,K.offset)):(A.setEnd(K.node,K.offset),c.addRange(A)))}}for(A=[],c=p;c=c.parentNode;)c.nodeType===1&&A.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<A.length;p++)c=A[p],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var KM=l&&"documentMode"in document&&11>=document.documentMode,Du=null,P0=null,Rh=null,D0=!1;function LS(c,A,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;D0||Du==null||Du!==Le(b)||(b=Du,"selectionStart"in b&&U0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Rh&&Lh(Rh,b)||(Rh=b,b=$g(P0,"onSelect"),0<b.length&&(A=new Iu("onSelect","select",null,A,p),c.push({event:A,listeners:b}),A.target=Du)))}function Qg(c,A){var p={};return p[c.toLowerCase()]=A.toLowerCase(),p["Webkit"+c]="webkit"+A,p["Moz"+c]="moz"+A,p}var Mu={animationend:Qg("Animation","AnimationEnd"),animationiteration:Qg("Animation","AnimationIteration"),animationstart:Qg("Animation","AnimationStart"),transitionend:Qg("Transition","TransitionEnd")},M0={},RS={};l&&(RS=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function Hg(c){if(M0[c])return M0[c];if(!Mu[c])return c;var A=Mu[c],p;for(p in A)if(A.hasOwnProperty(p)&&p in RS)return M0[c]=A[p];return c}var US=Hg("animationend"),PS=Hg("animationiteration"),DS=Hg("animationstart"),MS=Hg("transitionend"),QS=new Map,HS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ec(c,A){QS.set(c,A),a(A,[c])}for(var Q0=0;Q0<HS.length;Q0++){var H0=HS[Q0],zM=H0.toLowerCase(),WM=H0[0].toUpperCase()+H0.slice(1);ec(zM,"on"+WM)}ec(US,"onAnimationEnd"),ec(PS,"onAnimationIteration"),ec(DS,"onAnimationStart"),ec("dblclick","onDoubleClick"),ec("focusin","onFocus"),ec("focusout","onBlur"),ec(MS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uh));function OS(c,A,p){var b=c.type||"unknown-event";c.currentTarget=p,Tt(b,A,void 0,c),c.currentTarget=null}function $S(c,A){A=(A&4)!==0;for(var p=0;p<c.length;p++){var b=c[p],F=b.event;b=b.listeners;e:{var M=void 0;if(A)for(var K=b.length-1;0<=K;K--){var ee=b[K],ae=ee.instance,_e=ee.currentTarget;if(ee=ee.listener,ae!==M&&F.isPropagationStopped())break e;OS(F,ee,_e),M=ae}else for(K=0;K<b.length;K++){if(ee=b[K],ae=ee.instance,_e=ee.currentTarget,ee=ee.listener,ae!==M&&F.isPropagationStopped())break e;OS(F,ee,_e),M=ae}}}if(mn)throw c=hs,mn=!1,hs=null,c}function pn(c,A){var p=A[q0];p===void 0&&(p=A[q0]=new Set);var b=c+"__bubble";p.has(b)||(VS(A,c,2,!1),p.add(b))}function O0(c,A,p){var b=0;A&&(b|=4),VS(p,c,b,A)}var Og="_reactListening"+Math.random().toString(36).slice(2);function Ph(c){if(!c[Og]){c[Og]=!0,r.forEach(function(p){p!=="selectionchange"&&(qM.has(p)||O0(p,!1,c),O0(p,!0,c))});var A=c.nodeType===9?c:c.ownerDocument;A===null||A[Og]||(A[Og]=!0,O0("selectionchange",!1,A))}}function VS(c,A,p,b){switch(Bh(A)){case 1:var F=bn;break;case 4:F=T0;break;default:F=Sh}p=F.bind(null,A,p,c),F=void 0,!Vn||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(F=!0),b?F!==void 0?c.addEventListener(A,p,{capture:!0,passive:F}):c.addEventListener(A,p,!0):F!==void 0?c.addEventListener(A,p,{passive:F}):c.addEventListener(A,p,!1)}function $0(c,A,p,b,F){var M=b;if((A&1)===0&&(A&2)===0&&b!==null)e:for(;;){if(b===null)return;var K=b.tag;if(K===3||K===4){var ee=b.stateNode.containerInfo;if(ee===F||ee.nodeType===8&&ee.parentNode===F)break;if(K===4)for(K=b.return;K!==null;){var ae=K.tag;if((ae===3||ae===4)&&(ae=K.stateNode.containerInfo,ae===F||ae.nodeType===8&&ae.parentNode===F))return;K=K.return}for(;ee!==null;){if(K=pd(ee),K===null)return;if(ae=K.tag,ae===5||ae===6){b=M=K;continue e}ee=ee.parentNode}}b=b.return}je(function(){var _e=M,Oe=Re(p),We=[];e:{var Qe=QS.get(c);if(Qe!==void 0){var vt=Iu,St=c;switch(c){case"keypress":if(ku(p)===0)break e;case"keydown":case"keyup":vt=D;break;case"focusin":St="focus",vt=Lu;break;case"focusout":St="blur",vt=Lu;break;case"beforeblur":case"afterblur":vt=Lu;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Ne;break;case US:case PS:case DS:vt=Yo;break;case MS:vt=en;break;case"scroll":vt=F0;break;case"wheel":vt=Ls;break;case"copy":case"cut":case"paste":vt=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=q}var Bt=(A&4)!==0,Gn=!Bt&&c==="scroll",fe=Bt?Qe!==null?Qe+"Capture":null:Qe;Bt=[];for(var de=_e,ve;de!==null;){ve=de;var Xe=ve.stateNode;if(ve.tag===5&&Xe!==null&&(ve=Xe,fe!==null&&(Xe=bs(de,fe),Xe!=null&&Bt.push(Dh(de,Xe,ve)))),Gn)break;de=de.return}0<Bt.length&&(Qe=new vt(Qe,St,null,p,Oe),We.push({event:Qe,listeners:Bt}))}}if((A&7)===0){e:{if(Qe=c==="mouseover"||c==="pointerover",vt=c==="mouseout"||c==="pointerout",Qe&&p!==ne&&(St=p.relatedTarget||p.fromElement)&&(pd(St)||St[Jo]))break e;if((vt||Qe)&&(Qe=Oe.window===Oe?Oe:(Qe=Oe.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,vt?(St=p.relatedTarget||p.toElement,vt=_e,St=St?pd(St):null,St!==null&&(Gn=ft(St),St!==Gn||St.tag!==5&&St.tag!==6)&&(St=null)):(vt=null,St=_e),vt!==St)){if(Bt=Tu,Xe="onMouseLeave",fe="onMouseEnter",de="mouse",(c==="pointerout"||c==="pointerover")&&(Bt=q,Xe="onPointerLeave",fe="onPointerEnter",de="pointer"),Gn=vt==null?Qe:Ou(vt),ve=St==null?Qe:Ou(St),Qe=new Bt(Xe,de+"leave",vt,p,Oe),Qe.target=Gn,Qe.relatedTarget=ve,Xe=null,pd(Oe)===_e&&(Bt=new Bt(fe,de+"enter",St,p,Oe),Bt.target=ve,Bt.relatedTarget=Gn,Xe=Bt),Gn=Xe,vt&&St)t:{for(Bt=vt,fe=St,de=0,ve=Bt;ve;ve=Qu(ve))de++;for(ve=0,Xe=fe;Xe;Xe=Qu(Xe))ve++;for(;0<de-ve;)Bt=Qu(Bt),de--;for(;0<ve-de;)fe=Qu(fe),ve--;for(;de--;){if(Bt===fe||fe!==null&&Bt===fe.alternate)break t;Bt=Qu(Bt),fe=Qu(fe)}Bt=null}else Bt=null;vt!==null&&GS(We,Qe,vt,Bt,!1),St!==null&&Gn!==null&&GS(We,Gn,St,Bt,!0)}}e:{if(Qe=_e?Ou(_e):window,vt=Qe.nodeName&&Qe.nodeName.toLowerCase(),vt==="select"||vt==="input"&&Qe.type==="file")var Ft=MM;else if(jS(Qe))if(SS)Ft=$M;else{Ft=HM;var $t=QM}else(vt=Qe.nodeName)&&vt.toLowerCase()==="input"&&(Qe.type==="checkbox"||Qe.type==="radio")&&(Ft=OM);if(Ft&&(Ft=Ft(c,_e))){CS(We,Ft,p,Oe);break e}$t&&$t(c,Qe,_e),c==="focusout"&&($t=Qe._wrapperState)&&$t.controlled&&Qe.type==="number"&&Ce(Qe,"number",Qe.value)}switch($t=_e?Ou(_e):window,c){case"focusin":(jS($t)||$t.contentEditable==="true")&&(Du=$t,P0=_e,Rh=null);break;case"focusout":Rh=P0=Du=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,LS(We,p,Oe);break;case"selectionchange":if(KM)break;case"keydown":case"keyup":LS(We,p,Oe)}var Vt;if(er)e:{switch(c){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else Pu?bS(c,p)&&(Zt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Zt="onCompositionStart");Zt&&(md&&p.locale!=="ko"&&(Pu||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&Pu&&(Vt=Nh()):(ea=Oe,Nu="value"in ea?ea.value:ea.textContent,Pu=!0)),$t=$g(_e,Zt),0<$t.length&&(Zt=new Eh(Zt,c,null,p,Oe),We.push({event:Zt,listeners:$t}),Vt?Zt.data=Vt:(Vt=_S(p),Vt!==null&&(Zt.data=Vt)))),(Vt=ta?RM(c,p):UM(c,p))&&(_e=$g(_e,"onBeforeInput"),0<_e.length&&(Oe=new Eh("onBeforeInput","beforeinput",null,p,Oe),We.push({event:Oe,listeners:_e}),Oe.data=Vt))}$S(We,A)})}function Dh(c,A,p){return{instance:c,listener:A,currentTarget:p}}function $g(c,A){for(var p=A+"Capture",b=[];c!==null;){var F=c,M=F.stateNode;F.tag===5&&M!==null&&(F=M,M=bs(c,p),M!=null&&b.unshift(Dh(c,M,F)),M=bs(c,A),M!=null&&b.push(Dh(c,M,F))),c=c.return}return b}function Qu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function GS(c,A,p,b,F){for(var M=A._reactName,K=[];p!==null&&p!==b;){var ee=p,ae=ee.alternate,_e=ee.stateNode;if(ae!==null&&ae===b)break;ee.tag===5&&_e!==null&&(ee=_e,F?(ae=bs(p,M),ae!=null&&K.unshift(Dh(p,ae,ee))):F||(ae=bs(p,M),ae!=null&&K.push(Dh(p,ae,ee)))),p=p.return}K.length!==0&&c.push({event:A,listeners:K})}var XM=/\r\n?/g,YM=/\u0000|\uFFFD/g;function KS(c){return(typeof c=="string"?c:""+c).replace(XM,`
`).replace(YM,"")}function Vg(c,A,p){if(A=KS(A),KS(c)!==A&&p)throw Error(n(425))}function Gg(){}var V0=null,G0=null;function K0(c,A){return c==="textarea"||c==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var z0=typeof setTimeout=="function"?setTimeout:void 0,JM=typeof clearTimeout=="function"?clearTimeout:void 0,zS=typeof Promise=="function"?Promise:void 0,ZM=typeof queueMicrotask=="function"?queueMicrotask:typeof zS!="undefined"?function(c){return zS.resolve(null).then(c).catch(e8)}:z0;function e8(c){setTimeout(function(){throw c})}function W0(c,A){var p=A,b=0;do{var F=p.nextSibling;if(c.removeChild(p),F&&F.nodeType===8)if(p=F.data,p==="/$"){if(b===0){c.removeChild(F),Ka(A);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=F}while(p);Ka(A)}function tc(c){for(;c!=null;c=c.nextSibling){var A=c.nodeType;if(A===1||A===3)break;if(A===8){if(A=c.data,A==="$"||A==="$!"||A==="$?")break;if(A==="/$")return null}}return c}function WS(c){c=c.previousSibling;for(var A=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(A===0)return c;A--}else p==="/$"&&A++}c=c.previousSibling}return null}var Hu=Math.random().toString(36).slice(2),wo="__reactFiber$"+Hu,Mh="__reactProps$"+Hu,Jo="__reactContainer$"+Hu,q0="__reactEvents$"+Hu,t8="__reactListeners$"+Hu,s8="__reactHandles$"+Hu;function pd(c){var A=c[wo];if(A)return A;for(var p=c.parentNode;p;){if(A=p[Jo]||p[wo]){if(p=A.alternate,A.child!==null||p!==null&&p.child!==null)for(c=WS(c);c!==null;){if(p=c[wo])return p;c=WS(c)}return A}c=p,p=c.parentNode}return null}function Qh(c){return c=c[wo]||c[Jo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Ou(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function Kg(c){return c[Mh]||null}var X0=[],$u=-1;function sc(c){return{current:c}}function gn(c){0>$u||(c.current=X0[$u],X0[$u]=null,$u--)}function ln(c,A){$u++,X0[$u]=c.current,c.current=A}var nc={},ni=sc(nc),Mi=sc(!1),gd=nc;function Vu(c,A){var p=c.type.contextTypes;if(!p)return nc;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===A)return b.__reactInternalMemoizedMaskedChildContext;var F={},M;for(M in p)F[M]=A[M];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=A,c.__reactInternalMemoizedMaskedChildContext=F),F}function Qi(c){return c=c.childContextTypes,c!=null}function zg(){gn(Mi),gn(ni)}function qS(c,A,p){if(ni.current!==nc)throw Error(n(168));ln(ni,A),ln(Mi,p)}function XS(c,A,p){var b=c.stateNode;if(A=A.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var F in b)if(!(F in A))throw Error(n(108,Se(c)||"Unknown",F));return J({},p,b)}function Wg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||nc,gd=ni.current,ln(ni,c),ln(Mi,Mi.current),!0}function YS(c,A,p){var b=c.stateNode;if(!b)throw Error(n(169));p?(c=XS(c,A,gd),b.__reactInternalMemoizedMergedChildContext=c,gn(Mi),gn(ni),ln(ni,c)):gn(Mi),ln(Mi,p)}var Zo=null,qg=!1,Y0=!1;function JS(c){Zo===null?Zo=[c]:Zo.push(c)}function n8(c){qg=!0,JS(c)}function rc(){if(!Y0&&Zo!==null){Y0=!0;var c=0,A=ks;try{var p=Zo;for(ks=1;c<p.length;c++){var b=p[c];do b=b(!0);while(b!==null)}Zo=null,qg=!1}catch(F){throw Zo!==null&&(Zo=Zo.slice(c+1)),wr(Ui,rc),F}finally{ks=A,Y0=!1}}return null}var Gu=[],Ku=0,Xg=null,Yg=0,ba=[],_a=0,fd=null,el=1,tl="";function vd(c,A){Gu[Ku++]=Yg,Gu[Ku++]=Xg,Xg=c,Yg=A}function ZS(c,A,p){ba[_a++]=el,ba[_a++]=tl,ba[_a++]=fd,fd=c;var b=el;c=tl;var F=32-fi(b)-1;b&=~(1<<F),p+=1;var M=32-fi(A)+F;if(30<M){var K=F-F%5;M=(b&(1<<K)-1).toString(32),b>>=K,F-=K,el=1<<32-fi(A)+F|p<<F|b,tl=M+c}else el=1<<M|p<<F|b,tl=c}function J0(c){c.return!==null&&(vd(c,1),ZS(c,1,0))}function Z0(c){for(;c===Xg;)Xg=Gu[--Ku],Gu[Ku]=null,Yg=Gu[--Ku],Gu[Ku]=null;for(;c===fd;)fd=ba[--_a],ba[_a]=null,tl=ba[--_a],ba[_a]=null,el=ba[--_a],ba[_a]=null}var sa=null,na=null,_n=!1,qa=null;function eB(c,A){var p=Ba(5,null,null,0);p.elementType="DELETED",p.stateNode=A,p.return=c,A=c.deletions,A===null?(c.deletions=[p],c.flags|=16):A.push(p)}function tB(c,A){switch(c.tag){case 5:var p=c.type;return A=A.nodeType!==1||p.toLowerCase()!==A.nodeName.toLowerCase()?null:A,A!==null?(c.stateNode=A,sa=c,na=tc(A.firstChild),!0):!1;case 6:return A=c.pendingProps===""||A.nodeType!==3?null:A,A!==null?(c.stateNode=A,sa=c,na=null,!0):!1;case 13:return A=A.nodeType!==8?null:A,A!==null?(p=fd!==null?{id:el,overflow:tl}:null,c.memoizedState={dehydrated:A,treeContext:p,retryLane:1073741824},p=Ba(18,null,null,0),p.stateNode=A,p.return=c,c.child=p,sa=c,na=null,!0):!1;default:return!1}}function ew(c){return(c.mode&1)!==0&&(c.flags&128)===0}function tw(c){if(_n){var A=na;if(A){var p=A;if(!tB(c,A)){if(ew(c))throw Error(n(418));A=tc(p.nextSibling);var b=sa;A&&tB(c,A)?eB(b,p):(c.flags=c.flags&-4097|2,_n=!1,sa=c)}}else{if(ew(c))throw Error(n(418));c.flags=c.flags&-4097|2,_n=!1,sa=c}}}function sB(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;sa=c}function Jg(c){if(c!==sa)return!1;if(!_n)return sB(c),_n=!0,!1;var A;if((A=c.tag!==3)&&!(A=c.tag!==5)&&(A=c.type,A=A!=="head"&&A!=="body"&&!K0(c.type,c.memoizedProps)),A&&(A=na)){if(ew(c))throw nB(),Error(n(418));for(;A;)eB(c,A),A=tc(A.nextSibling)}if(sB(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,A=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"){if(A===0){na=tc(c.nextSibling);break e}A--}else p!=="$"&&p!=="$!"&&p!=="$?"||A++}c=c.nextSibling}na=null}}else na=sa?tc(c.stateNode.nextSibling):null;return!0}function nB(){for(var c=na;c;)c=tc(c.nextSibling)}function zu(){na=sa=null,_n=!1}function sw(c){qa===null?qa=[c]:qa.push(c)}var r8=v.ReactCurrentBatchConfig;function Hh(c,A,p){if(c=p.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,c));var F=b,M=""+c;return A!==null&&A.ref!==null&&typeof A.ref=="function"&&A.ref._stringRef===M?A.ref:(A=function(K){var ee=F.refs;K===null?delete ee[M]:ee[M]=K},A._stringRef=M,A)}if(typeof c!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,c))}return c}function Zg(c,A){throw c=Object.prototype.toString.call(A),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":c))}function rB(c){var A=c._init;return A(c._payload)}function iB(c){function A(fe,de){if(c){var ve=fe.deletions;ve===null?(fe.deletions=[de],fe.flags|=16):ve.push(de)}}function p(fe,de){if(!c)return null;for(;de!==null;)A(fe,de),de=de.sibling;return null}function b(fe,de){for(fe=new Map;de!==null;)de.key!==null?fe.set(de.key,de):fe.set(de.index,de),de=de.sibling;return fe}function F(fe,de){return fe=Ac(fe,de),fe.index=0,fe.sibling=null,fe}function M(fe,de,ve){return fe.index=ve,c?(ve=fe.alternate,ve!==null?(ve=ve.index,ve<de?(fe.flags|=2,de):ve):(fe.flags|=2,de)):(fe.flags|=1048576,de)}function K(fe){return c&&fe.alternate===null&&(fe.flags|=2),fe}function ee(fe,de,ve,Xe){return de===null||de.tag!==6?(de=zw(ve,fe.mode,Xe),de.return=fe,de):(de=F(de,ve),de.return=fe,de)}function ae(fe,de,ve,Xe){var Ft=ve.type;return Ft===_?Oe(fe,de,ve.props.children,Xe,ve.key):de!==null&&(de.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===z&&rB(Ft)===de.type)?(Xe=F(de,ve.props),Xe.ref=Hh(fe,de,ve),Xe.return=fe,Xe):(Xe=jf(ve.type,ve.key,ve.props,null,fe.mode,Xe),Xe.ref=Hh(fe,de,ve),Xe.return=fe,Xe)}function _e(fe,de,ve,Xe){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=Ww(ve,fe.mode,Xe),de.return=fe,de):(de=F(de,ve.children||[]),de.return=fe,de)}function Oe(fe,de,ve,Xe,Ft){return de===null||de.tag!==7?(de=Sd(ve,fe.mode,Xe,Ft),de.return=fe,de):(de=F(de,ve),de.return=fe,de)}function We(fe,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number")return de=zw(""+de,fe.mode,ve),de.return=fe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return ve=jf(de.type,de.key,de.props,null,fe.mode,ve),ve.ref=Hh(fe,null,de),ve.return=fe,ve;case N:return de=Ww(de,fe.mode,ve),de.return=fe,de;case z:var Xe=de._init;return We(fe,Xe(de._payload),ve)}if(ue(de)||Y(de))return de=Sd(de,fe.mode,ve,null),de.return=fe,de;Zg(fe,de)}return null}function Qe(fe,de,ve,Xe){var Ft=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Ft!==null?null:ee(fe,de,""+ve,Xe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return ve.key===Ft?ae(fe,de,ve,Xe):null;case N:return ve.key===Ft?_e(fe,de,ve,Xe):null;case z:return Ft=ve._init,Qe(fe,de,Ft(ve._payload),Xe)}if(ue(ve)||Y(ve))return Ft!==null?null:Oe(fe,de,ve,Xe,null);Zg(fe,ve)}return null}function vt(fe,de,ve,Xe,Ft){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return fe=fe.get(ve)||null,ee(de,fe,""+Xe,Ft);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case w:return fe=fe.get(Xe.key===null?ve:Xe.key)||null,ae(de,fe,Xe,Ft);case N:return fe=fe.get(Xe.key===null?ve:Xe.key)||null,_e(de,fe,Xe,Ft);case z:var $t=Xe._init;return vt(fe,de,ve,$t(Xe._payload),Ft)}if(ue(Xe)||Y(Xe))return fe=fe.get(ve)||null,Oe(de,fe,Xe,Ft,null);Zg(de,Xe)}return null}function St(fe,de,ve,Xe){for(var Ft=null,$t=null,Vt=de,Zt=de=0,Sr=null;Vt!==null&&Zt<ve.length;Zt++){Vt.index>Zt?(Sr=Vt,Vt=null):Sr=Vt.sibling;var Os=Qe(fe,Vt,ve[Zt],Xe);if(Os===null){Vt===null&&(Vt=Sr);break}c&&Vt&&Os.alternate===null&&A(fe,Vt),de=M(Os,de,Zt),$t===null?Ft=Os:$t.sibling=Os,$t=Os,Vt=Sr}if(Zt===ve.length)return p(fe,Vt),_n&&vd(fe,Zt),Ft;if(Vt===null){for(;Zt<ve.length;Zt++)Vt=We(fe,ve[Zt],Xe),Vt!==null&&(de=M(Vt,de,Zt),$t===null?Ft=Vt:$t.sibling=Vt,$t=Vt);return _n&&vd(fe,Zt),Ft}for(Vt=b(fe,Vt);Zt<ve.length;Zt++)Sr=vt(Vt,fe,Zt,ve[Zt],Xe),Sr!==null&&(c&&Sr.alternate!==null&&Vt.delete(Sr.key===null?Zt:Sr.key),de=M(Sr,de,Zt),$t===null?Ft=Sr:$t.sibling=Sr,$t=Sr);return c&&Vt.forEach(function(hc){return A(fe,hc)}),_n&&vd(fe,Zt),Ft}function Bt(fe,de,ve,Xe){var Ft=Y(ve);if(typeof Ft!="function")throw Error(n(150));if(ve=Ft.call(ve),ve==null)throw Error(n(151));for(var $t=Ft=null,Vt=de,Zt=de=0,Sr=null,Os=ve.next();Vt!==null&&!Os.done;Zt++,Os=ve.next()){Vt.index>Zt?(Sr=Vt,Vt=null):Sr=Vt.sibling;var hc=Qe(fe,Vt,Os.value,Xe);if(hc===null){Vt===null&&(Vt=Sr);break}c&&Vt&&hc.alternate===null&&A(fe,Vt),de=M(hc,de,Zt),$t===null?Ft=hc:$t.sibling=hc,$t=hc,Vt=Sr}if(Os.done)return p(fe,Vt),_n&&vd(fe,Zt),Ft;if(Vt===null){for(;!Os.done;Zt++,Os=ve.next())Os=We(fe,Os.value,Xe),Os!==null&&(de=M(Os,de,Zt),$t===null?Ft=Os:$t.sibling=Os,$t=Os);return _n&&vd(fe,Zt),Ft}for(Vt=b(fe,Vt);!Os.done;Zt++,Os=ve.next())Os=vt(Vt,fe,Zt,Os.value,Xe),Os!==null&&(c&&Os.alternate!==null&&Vt.delete(Os.key===null?Zt:Os.key),de=M(Os,de,Zt),$t===null?Ft=Os:$t.sibling=Os,$t=Os);return c&&Vt.forEach(function(P8){return A(fe,P8)}),_n&&vd(fe,Zt),Ft}function Gn(fe,de,ve,Xe){if(typeof ve=="object"&&ve!==null&&ve.type===_&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:e:{for(var Ft=ve.key,$t=de;$t!==null;){if($t.key===Ft){if(Ft=ve.type,Ft===_){if($t.tag===7){p(fe,$t.sibling),de=F($t,ve.props.children),de.return=fe,fe=de;break e}}else if($t.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===z&&rB(Ft)===$t.type){p(fe,$t.sibling),de=F($t,ve.props),de.ref=Hh(fe,$t,ve),de.return=fe,fe=de;break e}p(fe,$t);break}else A(fe,$t);$t=$t.sibling}ve.type===_?(de=Sd(ve.props.children,fe.mode,Xe,ve.key),de.return=fe,fe=de):(Xe=jf(ve.type,ve.key,ve.props,null,fe.mode,Xe),Xe.ref=Hh(fe,de,ve),Xe.return=fe,fe=Xe)}return K(fe);case N:e:{for($t=ve.key;de!==null;){if(de.key===$t)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){p(fe,de.sibling),de=F(de,ve.children||[]),de.return=fe,fe=de;break e}else{p(fe,de);break}else A(fe,de);de=de.sibling}de=Ww(ve,fe.mode,Xe),de.return=fe,fe=de}return K(fe);case z:return $t=ve._init,Gn(fe,de,$t(ve._payload),Xe)}if(ue(ve))return St(fe,de,ve,Xe);if(Y(ve))return Bt(fe,de,ve,Xe);Zg(fe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,de!==null&&de.tag===6?(p(fe,de.sibling),de=F(de,ve),de.return=fe,fe=de):(p(fe,de),de=zw(ve,fe.mode,Xe),de.return=fe,fe=de),K(fe)):p(fe,de)}return Gn}var Wu=iB(!0),aB=iB(!1),ef=sc(null),tf=null,qu=null,nw=null;function rw(){nw=qu=tf=null}function iw(c){var A=ef.current;gn(ef),c._currentValue=A}function aw(c,A,p){for(;c!==null;){var b=c.alternate;if((c.childLanes&A)!==A?(c.childLanes|=A,b!==null&&(b.childLanes|=A)):b!==null&&(b.childLanes&A)!==A&&(b.childLanes|=A),c===p)break;c=c.return}}function Xu(c,A){tf=c,nw=qu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&A)!==0&&(Hi=!0),c.firstContext=null)}function ja(c){var A=c._currentValue;if(nw!==c)if(c={context:c,memoizedValue:A,next:null},qu===null){if(tf===null)throw Error(n(308));qu=c,tf.dependencies={lanes:0,firstContext:c}}else qu=qu.next=c;return A}var xd=null;function ow(c){xd===null?xd=[c]:xd.push(c)}function oB(c,A,p,b){var F=A.interleaved;return F===null?(p.next=p,ow(A)):(p.next=F.next,F.next=p),A.interleaved=p,sl(c,b)}function sl(c,A){c.lanes|=A;var p=c.alternate;for(p!==null&&(p.lanes|=A),p=c,c=c.return;c!==null;)c.childLanes|=A,p=c.alternate,p!==null&&(p.childLanes|=A),p=c,c=c.return;return p.tag===3?p.stateNode:null}var ic=!1;function lw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lB(c,A){c=c.updateQueue,A.updateQueue===c&&(A.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function nl(c,A){return{eventTime:c,lane:A,tag:0,payload:null,callback:null,next:null}}function ac(c,A,p){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(Ps&2)!==0){var F=b.pending;return F===null?A.next=A:(A.next=F.next,F.next=A),b.pending=A,sl(c,p)}return F=b.interleaved,F===null?(A.next=A,ow(b)):(A.next=F.next,F.next=A),b.interleaved=A,sl(c,p)}function sf(c,A,p){if(A=A.updateQueue,A!==null&&(A=A.shared,(p&4194240)!==0)){var b=A.lanes;b&=c.pendingLanes,p|=b,A.lanes=p,ql(c,p)}}function cB(c,A){var p=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var F=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var K={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};M===null?F=M=K:M=M.next=K,p=p.next}while(p!==null);M===null?F=M=A:M=M.next=A}else F=M=A;p={baseState:b.baseState,firstBaseUpdate:F,lastBaseUpdate:M,shared:b.shared,effects:b.effects},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=A:c.next=A,p.lastBaseUpdate=A}function nf(c,A,p,b){var F=c.updateQueue;ic=!1;var M=F.firstBaseUpdate,K=F.lastBaseUpdate,ee=F.shared.pending;if(ee!==null){F.shared.pending=null;var ae=ee,_e=ae.next;ae.next=null,K===null?M=_e:K.next=_e,K=ae;var Oe=c.alternate;Oe!==null&&(Oe=Oe.updateQueue,ee=Oe.lastBaseUpdate,ee!==K&&(ee===null?Oe.firstBaseUpdate=_e:ee.next=_e,Oe.lastBaseUpdate=ae))}if(M!==null){var We=F.baseState;K=0,Oe=_e=ae=null,ee=M;do{var Qe=ee.lane,vt=ee.eventTime;if((b&Qe)===Qe){Oe!==null&&(Oe=Oe.next={eventTime:vt,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var St=c,Bt=ee;switch(Qe=A,vt=p,Bt.tag){case 1:if(St=Bt.payload,typeof St=="function"){We=St.call(vt,We,Qe);break e}We=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Bt.payload,Qe=typeof St=="function"?St.call(vt,We,Qe):St,Qe==null)break e;We=J({},We,Qe);break e;case 2:ic=!0}}ee.callback!==null&&ee.lane!==0&&(c.flags|=64,Qe=F.effects,Qe===null?F.effects=[ee]:Qe.push(ee))}else vt={eventTime:vt,lane:Qe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Oe===null?(_e=Oe=vt,ae=We):Oe=Oe.next=vt,K|=Qe;if(ee=ee.next,ee===null){if(ee=F.shared.pending,ee===null)break;Qe=ee,ee=Qe.next,Qe.next=null,F.lastBaseUpdate=Qe,F.shared.pending=null}}while(!0);if(Oe===null&&(ae=We),F.baseState=ae,F.firstBaseUpdate=_e,F.lastBaseUpdate=Oe,A=F.shared.interleaved,A!==null){F=A;do K|=F.lane,F=F.next;while(F!==A)}else M===null&&(F.shared.lanes=0);bd|=K,c.lanes=K,c.memoizedState=We}}function dB(c,A,p){if(c=A.effects,A.effects=null,c!==null)for(A=0;A<c.length;A++){var b=c[A],F=b.callback;if(F!==null){if(b.callback=null,b=p,typeof F!="function")throw Error(n(191,F));F.call(b)}}}var Oh={},bo=sc(Oh),$h=sc(Oh),Vh=sc(Oh);function yd(c){if(c===Oh)throw Error(n(174));return c}function cw(c,A){switch(ln(Vh,A),ln($h,c),ln(bo,Oh),c=A.nodeType,c){case 9:case 11:A=(A=A.documentElement)?A.namespaceURI:me(null,"");break;default:c=c===8?A.parentNode:A,A=c.namespaceURI||null,c=c.tagName,A=me(A,c)}gn(bo),ln(bo,A)}function Yu(){gn(bo),gn($h),gn(Vh)}function uB(c){yd(Vh.current);var A=yd(bo.current),p=me(A,c.type);A!==p&&(ln($h,c),ln(bo,p))}function dw(c){$h.current===c&&(gn(bo),gn($h))}var kn=sc(0);function rf(c){for(var A=c;A!==null;){if(A.tag===13){var p=A.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return A}else if(A.tag===19&&A.memoizedProps.revealOrder!==void 0){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var uw=[];function Aw(){for(var c=0;c<uw.length;c++)uw[c]._workInProgressVersionPrimary=null;uw.length=0}var af=v.ReactCurrentDispatcher,hw=v.ReactCurrentBatchConfig,wd=0,In=null,pr=null,jr=null,of=!1,Gh=!1,Kh=0,i8=0;function ri(){throw Error(n(321))}function mw(c,A){if(A===null)return!1;for(var p=0;p<A.length&&p<c.length;p++)if(!Wa(c[p],A[p]))return!1;return!0}function pw(c,A,p,b,F,M){if(wd=M,In=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,af.current=c===null||c.memoizedState===null?c8:d8,c=p(b,F),Gh){M=0;do{if(Gh=!1,Kh=0,25<=M)throw Error(n(301));M+=1,jr=pr=null,A.updateQueue=null,af.current=u8,c=p(b,F)}while(Gh)}if(af.current=df,A=pr!==null&&pr.next!==null,wd=0,jr=pr=In=null,of=!1,A)throw Error(n(300));return c}function gw(){var c=Kh!==0;return Kh=0,c}function _o(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?In.memoizedState=jr=c:jr=jr.next=c,jr}function Ca(){if(pr===null){var c=In.alternate;c=c!==null?c.memoizedState:null}else c=pr.next;var A=jr===null?In.memoizedState:jr.next;if(A!==null)jr=A,pr=c;else{if(c===null)throw Error(n(310));pr=c,c={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},jr===null?In.memoizedState=jr=c:jr=jr.next=c}return jr}function zh(c,A){return typeof A=="function"?A(c):A}function fw(c){var A=Ca(),p=A.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var b=pr,F=b.baseQueue,M=p.pending;if(M!==null){if(F!==null){var K=F.next;F.next=M.next,M.next=K}b.baseQueue=F=M,p.pending=null}if(F!==null){M=F.next,b=b.baseState;var ee=K=null,ae=null,_e=M;do{var Oe=_e.lane;if((wd&Oe)===Oe)ae!==null&&(ae=ae.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),b=_e.hasEagerState?_e.eagerState:c(b,_e.action);else{var We={lane:Oe,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ae===null?(ee=ae=We,K=b):ae=ae.next=We,In.lanes|=Oe,bd|=Oe}_e=_e.next}while(_e!==null&&_e!==M);ae===null?K=b:ae.next=ee,Wa(b,A.memoizedState)||(Hi=!0),A.memoizedState=b,A.baseState=K,A.baseQueue=ae,p.lastRenderedState=b}if(c=p.interleaved,c!==null){F=c;do M=F.lane,In.lanes|=M,bd|=M,F=F.next;while(F!==c)}else F===null&&(p.lanes=0);return[A.memoizedState,p.dispatch]}function vw(c){var A=Ca(),p=A.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var b=p.dispatch,F=p.pending,M=A.memoizedState;if(F!==null){p.pending=null;var K=F=F.next;do M=c(M,K.action),K=K.next;while(K!==F);Wa(M,A.memoizedState)||(Hi=!0),A.memoizedState=M,A.baseQueue===null&&(A.baseState=M),p.lastRenderedState=M}return[M,b]}function AB(){}function hB(c,A){var p=In,b=Ca(),F=A(),M=!Wa(b.memoizedState,F);if(M&&(b.memoizedState=F,Hi=!0),b=b.queue,xw(gB.bind(null,p,b,c),[c]),b.getSnapshot!==A||M||jr!==null&&jr.memoizedState.tag&1){if(p.flags|=2048,Wh(9,pB.bind(null,p,b,F,A),void 0,null),Cr===null)throw Error(n(349));(wd&30)!==0||mB(p,A,F)}return F}function mB(c,A,p){c.flags|=16384,c={getSnapshot:A,value:p},A=In.updateQueue,A===null?(A={lastEffect:null,stores:null},In.updateQueue=A,A.stores=[c]):(p=A.stores,p===null?A.stores=[c]:p.push(c))}function pB(c,A,p,b){A.value=p,A.getSnapshot=b,fB(A)&&vB(c)}function gB(c,A,p){return p(function(){fB(A)&&vB(c)})}function fB(c){var A=c.getSnapshot;c=c.value;try{var p=A();return!Wa(c,p)}catch(b){return!0}}function vB(c){var A=sl(c,1);A!==null&&Za(A,c,1,-1)}function xB(c){var A=_o();return typeof c=="function"&&(c=c()),A.memoizedState=A.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:c},A.queue=c,c=c.dispatch=l8.bind(null,In,c),[A.memoizedState,c]}function Wh(c,A,p,b){return c={tag:c,create:A,destroy:p,deps:b,next:null},A=In.updateQueue,A===null?(A={lastEffect:null,stores:null},In.updateQueue=A,A.lastEffect=c.next=c):(p=A.lastEffect,p===null?A.lastEffect=c.next=c:(b=p.next,p.next=c,c.next=b,A.lastEffect=c)),c}function yB(){return Ca().memoizedState}function lf(c,A,p,b){var F=_o();In.flags|=c,F.memoizedState=Wh(1|A,p,void 0,b===void 0?null:b)}function cf(c,A,p,b){var F=Ca();b=b===void 0?null:b;var M=void 0;if(pr!==null){var K=pr.memoizedState;if(M=K.destroy,b!==null&&mw(b,K.deps)){F.memoizedState=Wh(A,p,M,b);return}}In.flags|=c,F.memoizedState=Wh(1|A,p,M,b)}function wB(c,A){return lf(8390656,8,c,A)}function xw(c,A){return cf(2048,8,c,A)}function bB(c,A){return cf(4,2,c,A)}function _B(c,A){return cf(4,4,c,A)}function jB(c,A){if(typeof A=="function")return c=c(),A(c),function(){A(null)};if(A!=null)return c=c(),A.current=c,function(){A.current=null}}function CB(c,A,p){return p=p!=null?p.concat([c]):null,cf(4,4,jB.bind(null,A,c),p)}function yw(){}function SB(c,A){var p=Ca();A=A===void 0?null:A;var b=p.memoizedState;return b!==null&&A!==null&&mw(A,b[1])?b[0]:(p.memoizedState=[c,A],c)}function BB(c,A){var p=Ca();A=A===void 0?null:A;var b=p.memoizedState;return b!==null&&A!==null&&mw(A,b[1])?b[0]:(c=c(),p.memoizedState=[c,A],c)}function NB(c,A,p){return(wd&21)===0?(c.baseState&&(c.baseState=!1,Hi=!0),c.memoizedState=p):(Wa(p,A)||(p=dd(),In.lanes|=p,bd|=p,c.baseState=!0),A)}function a8(c,A){var p=ks;ks=p!==0&&4>p?p:4,c(!0);var b=hw.transition;hw.transition={};try{c(!1),A()}finally{ks=p,hw.transition=b}}function kB(){return Ca().memoizedState}function o8(c,A,p){var b=dc(c);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},IB(c))EB(A,p);else if(p=oB(c,A,p,b),p!==null){var F=yi();Za(p,c,b,F),TB(p,A,b)}}function l8(c,A,p){var b=dc(c),F={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(IB(c))EB(A,F);else{var M=c.alternate;if(c.lanes===0&&(M===null||M.lanes===0)&&(M=A.lastRenderedReducer,M!==null))try{var K=A.lastRenderedState,ee=M(K,p);if(F.hasEagerState=!0,F.eagerState=ee,Wa(ee,K)){var ae=A.interleaved;ae===null?(F.next=F,ow(A)):(F.next=ae.next,ae.next=F),A.interleaved=F;return}}catch(_e){}finally{}p=oB(c,A,F,b),p!==null&&(F=yi(),Za(p,c,b,F),TB(p,A,b))}}function IB(c){var A=c.alternate;return c===In||A!==null&&A===In}function EB(c,A){Gh=of=!0;var p=c.pending;p===null?A.next=A:(A.next=p.next,p.next=A),c.pending=A}function TB(c,A,p){if((p&4194240)!==0){var b=A.lanes;b&=c.pendingLanes,p|=b,A.lanes=p,ql(c,p)}}var df={readContext:ja,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useInsertionEffect:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useSyncExternalStore:ri,useId:ri,unstable_isNewReconciler:!1},c8={readContext:ja,useCallback:function(c,A){return _o().memoizedState=[c,A===void 0?null:A],c},useContext:ja,useEffect:wB,useImperativeHandle:function(c,A,p){return p=p!=null?p.concat([c]):null,lf(4194308,4,jB.bind(null,A,c),p)},useLayoutEffect:function(c,A){return lf(4194308,4,c,A)},useInsertionEffect:function(c,A){return lf(4,2,c,A)},useMemo:function(c,A){var p=_o();return A=A===void 0?null:A,c=c(),p.memoizedState=[c,A],c},useReducer:function(c,A,p){var b=_o();return A=p!==void 0?p(A):A,b.memoizedState=b.baseState=A,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:A},b.queue=c,c=c.dispatch=o8.bind(null,In,c),[b.memoizedState,c]},useRef:function(c){var A=_o();return c={current:c},A.memoizedState=c},useState:xB,useDebugValue:yw,useDeferredValue:function(c){return _o().memoizedState=c},useTransition:function(){var c=xB(!1),A=c[0];return c=a8.bind(null,c[1]),_o().memoizedState=c,[A,c]},useMutableSource:function(){},useSyncExternalStore:function(c,A,p){var b=In,F=_o();if(_n){if(p===void 0)throw Error(n(407));p=p()}else{if(p=A(),Cr===null)throw Error(n(349));(wd&30)!==0||mB(b,A,p)}F.memoizedState=p;var M={value:p,getSnapshot:A};return F.queue=M,wB(gB.bind(null,b,M,c),[c]),b.flags|=2048,Wh(9,pB.bind(null,b,M,p,A),void 0,null),p},useId:function(){var c=_o(),A=Cr.identifierPrefix;if(_n){var p=tl,b=el;p=(b&~(1<<32-fi(b)-1)).toString(32)+p,A=":"+A+"R"+p,p=Kh++,0<p&&(A+="H"+p.toString(32)),A+=":"}else p=i8++,A=":"+A+"r"+p.toString(32)+":";return c.memoizedState=A},unstable_isNewReconciler:!1},d8={readContext:ja,useCallback:SB,useContext:ja,useEffect:xw,useImperativeHandle:CB,useInsertionEffect:bB,useLayoutEffect:_B,useMemo:BB,useReducer:fw,useRef:yB,useState:function(){return fw(zh)},useDebugValue:yw,useDeferredValue:function(c){var A=Ca();return NB(A,pr.memoizedState,c)},useTransition:function(){var c=fw(zh)[0],A=Ca().memoizedState;return[c,A]},useMutableSource:AB,useSyncExternalStore:hB,useId:kB,unstable_isNewReconciler:!1},u8={readContext:ja,useCallback:SB,useContext:ja,useEffect:xw,useImperativeHandle:CB,useInsertionEffect:bB,useLayoutEffect:_B,useMemo:BB,useReducer:vw,useRef:yB,useState:function(){return vw(zh)},useDebugValue:yw,useDeferredValue:function(c){var A=Ca();return pr===null?A.memoizedState=c:NB(A,pr.memoizedState,c)},useTransition:function(){var c=vw(zh)[0],A=Ca().memoizedState;return[c,A]},useMutableSource:AB,useSyncExternalStore:hB,useId:kB,unstable_isNewReconciler:!1};function Xa(c,A){if(c&&c.defaultProps){A=J({},A),c=c.defaultProps;for(var p in c)A[p]===void 0&&(A[p]=c[p]);return A}return A}function ww(c,A,p,b){A=c.memoizedState,p=p(b,A),p=p==null?A:J({},A,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var uf={isMounted:function(c){return(c=c._reactInternals)?ft(c)===c:!1},enqueueSetState:function(c,A,p){c=c._reactInternals;var b=yi(),F=dc(c),M=nl(b,F);M.payload=A,p!=null&&(M.callback=p),A=ac(c,M,F),A!==null&&(Za(A,c,F,b),sf(A,c,F))},enqueueReplaceState:function(c,A,p){c=c._reactInternals;var b=yi(),F=dc(c),M=nl(b,F);M.tag=1,M.payload=A,p!=null&&(M.callback=p),A=ac(c,M,F),A!==null&&(Za(A,c,F,b),sf(A,c,F))},enqueueForceUpdate:function(c,A){c=c._reactInternals;var p=yi(),b=dc(c),F=nl(p,b);F.tag=2,A!=null&&(F.callback=A),A=ac(c,F,b),A!==null&&(Za(A,c,b,p),sf(A,c,b))}};function FB(c,A,p,b,F,M,K){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,M,K):A.prototype&&A.prototype.isPureReactComponent?!Lh(p,b)||!Lh(F,M):!0}function LB(c,A,p){var b=!1,F=nc,M=A.contextType;return typeof M=="object"&&M!==null?M=ja(M):(F=Qi(A)?gd:ni.current,b=A.contextTypes,M=(b=b!=null)?Vu(c,F):nc),A=new A(p,M),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=uf,c.stateNode=A,A._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=F,c.__reactInternalMemoizedMaskedChildContext=M),A}function RB(c,A,p,b){c=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(p,b),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(p,b),A.state!==c&&uf.enqueueReplaceState(A,A.state,null)}function bw(c,A,p,b){var F=c.stateNode;F.props=p,F.state=c.memoizedState,F.refs={},lw(c);var M=A.contextType;typeof M=="object"&&M!==null?F.context=ja(M):(M=Qi(A)?gd:ni.current,F.context=Vu(c,M)),F.state=c.memoizedState,M=A.getDerivedStateFromProps,typeof M=="function"&&(ww(c,A,M,p),F.state=c.memoizedState),typeof A.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(A=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),A!==F.state&&uf.enqueueReplaceState(F,F.state,null),nf(c,p,F,b),F.state=c.memoizedState),typeof F.componentDidMount=="function"&&(c.flags|=4194308)}function Ju(c,A){try{var p="",b=A;do p+=le(b),b=b.return;while(b);var F=p}catch(M){F=`
Error generating stack: `+M.message+`
`+M.stack}return{value:c,source:A,stack:F,digest:null}}function _w(c,A,p){return{value:c,source:null,stack:p!=null?p:null,digest:A!=null?A:null}}function jw(c,A){try{console.error(A.value)}catch(p){setTimeout(function(){throw p})}}var A8=typeof WeakMap=="function"?WeakMap:Map;function UB(c,A,p){p=nl(-1,p),p.tag=3,p.payload={element:null};var b=A.value;return p.callback=function(){vf||(vf=!0,Mw=b),jw(c,A)},p}function PB(c,A,p){p=nl(-1,p),p.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var F=A.value;p.payload=function(){return b(F)},p.callback=function(){jw(c,A)}}var M=c.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(p.callback=function(){jw(c,A),typeof b!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var K=A.stack;this.componentDidCatch(A.value,{componentStack:K!==null?K:""})}),p}function DB(c,A,p){var b=c.pingCache;if(b===null){b=c.pingCache=new A8;var F=new Set;b.set(A,F)}else F=b.get(A),F===void 0&&(F=new Set,b.set(A,F));F.has(p)||(F.add(p),c=S8.bind(null,c,A,p),A.then(c,c))}function MB(c){do{var A;if((A=c.tag===13)&&(A=c.memoizedState,A=A!==null?A.dehydrated!==null:!0),A)return c;c=c.return}while(c!==null);return null}function QB(c,A,p,b,F){return(c.mode&1)===0?(c===A?c.flags|=65536:(c.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(A=nl(-1,1),A.tag=2,ac(p,A,1))),p.lanes|=1),c):(c.flags|=65536,c.lanes=F,c)}var h8=v.ReactCurrentOwner,Hi=!1;function xi(c,A,p,b){A.child=c===null?aB(A,null,p,b):Wu(A,c.child,p,b)}function HB(c,A,p,b,F){p=p.render;var M=A.ref;return Xu(A,F),b=pw(c,A,p,b,M,F),p=gw(),c!==null&&!Hi?(A.updateQueue=c.updateQueue,A.flags&=-2053,c.lanes&=~F,rl(c,A,F)):(_n&&p&&J0(A),A.flags|=1,xi(c,A,b,F),A.child)}function OB(c,A,p,b,F){if(c===null){var M=p.type;return typeof M=="function"&&!Kw(M)&&M.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(A.tag=15,A.type=M,$B(c,A,M,b,F)):(c=jf(p.type,null,b,A,A.mode,F),c.ref=A.ref,c.return=A,A.child=c)}if(M=c.child,(c.lanes&F)===0){var K=M.memoizedProps;if(p=p.compare,p=p!==null?p:Lh,p(K,b)&&c.ref===A.ref)return rl(c,A,F)}return A.flags|=1,c=Ac(M,b),c.ref=A.ref,c.return=A,A.child=c}function $B(c,A,p,b,F){if(c!==null){var M=c.memoizedProps;if(Lh(M,b)&&c.ref===A.ref)if(Hi=!1,A.pendingProps=b=M,(c.lanes&F)!==0)(c.flags&131072)!==0&&(Hi=!0);else return A.lanes=c.lanes,rl(c,A,F)}return Cw(c,A,p,b,F)}function VB(c,A,p){var b=A.pendingProps,F=b.children,M=c!==null?c.memoizedState:null;if(b.mode==="hidden")if((A.mode&1)===0)A.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(eA,ra),ra|=p;else{if((p&1073741824)===0)return c=M!==null?M.baseLanes|p:p,A.lanes=A.childLanes=1073741824,A.memoizedState={baseLanes:c,cachePool:null,transitions:null},A.updateQueue=null,ln(eA,ra),ra|=c,null;A.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=M!==null?M.baseLanes:p,ln(eA,ra),ra|=b}else M!==null?(b=M.baseLanes|p,A.memoizedState=null):b=p,ln(eA,ra),ra|=b;return xi(c,A,F,p),A.child}function GB(c,A){var p=A.ref;(c===null&&p!==null||c!==null&&c.ref!==p)&&(A.flags|=512,A.flags|=2097152)}function Cw(c,A,p,b,F){var M=Qi(p)?gd:ni.current;return M=Vu(A,M),Xu(A,F),p=pw(c,A,p,b,M,F),b=gw(),c!==null&&!Hi?(A.updateQueue=c.updateQueue,A.flags&=-2053,c.lanes&=~F,rl(c,A,F)):(_n&&b&&J0(A),A.flags|=1,xi(c,A,p,F),A.child)}function KB(c,A,p,b,F){if(Qi(p)){var M=!0;Wg(A)}else M=!1;if(Xu(A,F),A.stateNode===null)hf(c,A),LB(A,p,b),bw(A,p,b,F),b=!0;else if(c===null){var K=A.stateNode,ee=A.memoizedProps;K.props=ee;var ae=K.context,_e=p.contextType;typeof _e=="object"&&_e!==null?_e=ja(_e):(_e=Qi(p)?gd:ni.current,_e=Vu(A,_e));var Oe=p.getDerivedStateFromProps,We=typeof Oe=="function"||typeof K.getSnapshotBeforeUpdate=="function";We||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ee!==b||ae!==_e)&&RB(A,K,b,_e),ic=!1;var Qe=A.memoizedState;K.state=Qe,nf(A,b,K,F),ae=A.memoizedState,ee!==b||Qe!==ae||Mi.current||ic?(typeof Oe=="function"&&(ww(A,p,Oe,b),ae=A.memoizedState),(ee=ic||FB(A,p,ee,b,Qe,ae,_e))?(We||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(A.flags|=4194308)):(typeof K.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=b,A.memoizedState=ae),K.props=b,K.state=ae,K.context=_e,b=ee):(typeof K.componentDidMount=="function"&&(A.flags|=4194308),b=!1)}else{K=A.stateNode,lB(c,A),ee=A.memoizedProps,_e=A.type===A.elementType?ee:Xa(A.type,ee),K.props=_e,We=A.pendingProps,Qe=K.context,ae=p.contextType,typeof ae=="object"&&ae!==null?ae=ja(ae):(ae=Qi(p)?gd:ni.current,ae=Vu(A,ae));var vt=p.getDerivedStateFromProps;(Oe=typeof vt=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ee!==We||Qe!==ae)&&RB(A,K,b,ae),ic=!1,Qe=A.memoizedState,K.state=Qe,nf(A,b,K,F);var St=A.memoizedState;ee!==We||Qe!==St||Mi.current||ic?(typeof vt=="function"&&(ww(A,p,vt,b),St=A.memoizedState),(_e=ic||FB(A,p,_e,b,Qe,St,ae)||!1)?(Oe||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(b,St,ae),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(b,St,ae)),typeof K.componentDidUpdate=="function"&&(A.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof K.componentDidUpdate!="function"||ee===c.memoizedProps&&Qe===c.memoizedState||(A.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ee===c.memoizedProps&&Qe===c.memoizedState||(A.flags|=1024),A.memoizedProps=b,A.memoizedState=St),K.props=b,K.state=St,K.context=ae,b=_e):(typeof K.componentDidUpdate!="function"||ee===c.memoizedProps&&Qe===c.memoizedState||(A.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ee===c.memoizedProps&&Qe===c.memoizedState||(A.flags|=1024),b=!1)}return Sw(c,A,p,b,M,F)}function Sw(c,A,p,b,F,M){GB(c,A);var K=(A.flags&128)!==0;if(!b&&!K)return F&&YS(A,p,!1),rl(c,A,M);b=A.stateNode,h8.current=A;var ee=K&&typeof p.getDerivedStateFromError!="function"?null:b.render();return A.flags|=1,c!==null&&K?(A.child=Wu(A,c.child,null,M),A.child=Wu(A,null,ee,M)):xi(c,A,ee,M),A.memoizedState=b.state,F&&YS(A,p,!0),A.child}function zB(c){var A=c.stateNode;A.pendingContext?qS(c,A.pendingContext,A.pendingContext!==A.context):A.context&&qS(c,A.context,!1),cw(c,A.containerInfo)}function WB(c,A,p,b,F){return zu(),sw(F),A.flags|=256,xi(c,A,p,b),A.child}var Bw={dehydrated:null,treeContext:null,retryLane:0};function Nw(c){return{baseLanes:c,cachePool:null,transitions:null}}function qB(c,A,p){var b=A.pendingProps,F=kn.current,M=!1,K=(A.flags&128)!==0,ee;if((ee=K)||(ee=c!==null&&c.memoizedState===null?!1:(F&2)!==0),ee?(M=!0,A.flags&=-129):(c===null||c.memoizedState!==null)&&(F|=1),ln(kn,F&1),c===null)return tw(A),c=A.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((A.mode&1)===0?A.lanes=1:c.data==="$!"?A.lanes=8:A.lanes=1073741824,null):(K=b.children,c=b.fallback,M?(b=A.mode,M=A.child,K={mode:"hidden",children:K},(b&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=K):M=Cf(K,b,0,null),c=Sd(c,b,p,null),M.return=A,c.return=A,M.sibling=c,A.child=M,A.child.memoizedState=Nw(p),A.memoizedState=Bw,c):kw(A,K));if(F=c.memoizedState,F!==null&&(ee=F.dehydrated,ee!==null))return m8(c,A,K,b,ee,F,p);if(M){M=b.fallback,K=A.mode,F=c.child,ee=F.sibling;var ae={mode:"hidden",children:b.children};return(K&1)===0&&A.child!==F?(b=A.child,b.childLanes=0,b.pendingProps=ae,A.deletions=null):(b=Ac(F,ae),b.subtreeFlags=F.subtreeFlags&14680064),ee!==null?M=Ac(ee,M):(M=Sd(M,K,p,null),M.flags|=2),M.return=A,b.return=A,b.sibling=M,A.child=b,b=M,M=A.child,K=c.child.memoizedState,K=K===null?Nw(p):{baseLanes:K.baseLanes|p,cachePool:null,transitions:K.transitions},M.memoizedState=K,M.childLanes=c.childLanes&~p,A.memoizedState=Bw,b}return M=c.child,c=M.sibling,b=Ac(M,{mode:"visible",children:b.children}),(A.mode&1)===0&&(b.lanes=p),b.return=A,b.sibling=null,c!==null&&(p=A.deletions,p===null?(A.deletions=[c],A.flags|=16):p.push(c)),A.child=b,A.memoizedState=null,b}function kw(c,A){return A=Cf({mode:"visible",children:A},c.mode,0,null),A.return=c,c.child=A}function Af(c,A,p,b){return b!==null&&sw(b),Wu(A,c.child,null,p),c=kw(A,A.pendingProps.children),c.flags|=2,A.memoizedState=null,c}function m8(c,A,p,b,F,M,K){if(p)return A.flags&256?(A.flags&=-257,b=_w(Error(n(422))),Af(c,A,K,b)):A.memoizedState!==null?(A.child=c.child,A.flags|=128,null):(M=b.fallback,F=A.mode,b=Cf({mode:"visible",children:b.children},F,0,null),M=Sd(M,F,K,null),M.flags|=2,b.return=A,M.return=A,b.sibling=M,A.child=b,(A.mode&1)!==0&&Wu(A,c.child,null,K),A.child.memoizedState=Nw(K),A.memoizedState=Bw,M);if((A.mode&1)===0)return Af(c,A,K,null);if(F.data==="$!"){if(b=F.nextSibling&&F.nextSibling.dataset,b)var ee=b.dgst;return b=ee,M=Error(n(419)),b=_w(M,b,void 0),Af(c,A,K,b)}if(ee=(K&c.childLanes)!==0,Hi||ee){if(b=Cr,b!==null){switch(K&-K){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=(F&(b.suspendedLanes|K))!==0?0:F,F!==0&&F!==M.retryLane&&(M.retryLane=F,sl(c,F),Za(b,c,F,-1))}return Gw(),b=_w(Error(n(421))),Af(c,A,K,b)}return F.data==="$?"?(A.flags|=128,A.child=c.child,A=B8.bind(null,c),F._reactRetry=A,null):(c=M.treeContext,na=tc(F.nextSibling),sa=A,_n=!0,qa=null,c!==null&&(ba[_a++]=el,ba[_a++]=tl,ba[_a++]=fd,el=c.id,tl=c.overflow,fd=A),A=kw(A,b.children),A.flags|=4096,A)}function XB(c,A,p){c.lanes|=A;var b=c.alternate;b!==null&&(b.lanes|=A),aw(c.return,A,p)}function Iw(c,A,p,b,F){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:F}:(M.isBackwards=A,M.rendering=null,M.renderingStartTime=0,M.last=b,M.tail=p,M.tailMode=F)}function YB(c,A,p){var b=A.pendingProps,F=b.revealOrder,M=b.tail;if(xi(c,A,b.children,p),b=kn.current,(b&2)!==0)b=b&1|2,A.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=A.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&XB(c,p,A);else if(c.tag===19)XB(c,p,A);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(ln(kn,b),(A.mode&1)===0)A.memoizedState=null;else switch(F){case"forwards":for(p=A.child,F=null;p!==null;)c=p.alternate,c!==null&&rf(c)===null&&(F=p),p=p.sibling;p=F,p===null?(F=A.child,A.child=null):(F=p.sibling,p.sibling=null),Iw(A,!1,F,p,M);break;case"backwards":for(p=null,F=A.child,A.child=null;F!==null;){if(c=F.alternate,c!==null&&rf(c)===null){A.child=F;break}c=F.sibling,F.sibling=p,p=F,F=c}Iw(A,!0,p,null,M);break;case"together":Iw(A,!1,null,null,void 0);break;default:A.memoizedState=null}return A.child}function hf(c,A){(A.mode&1)===0&&c!==null&&(c.alternate=null,A.alternate=null,A.flags|=2)}function rl(c,A,p){if(c!==null&&(A.dependencies=c.dependencies),bd|=A.lanes,(p&A.childLanes)===0)return null;if(c!==null&&A.child!==c.child)throw Error(n(153));if(A.child!==null){for(c=A.child,p=Ac(c,c.pendingProps),A.child=p,p.return=A;c.sibling!==null;)c=c.sibling,p=p.sibling=Ac(c,c.pendingProps),p.return=A;p.sibling=null}return A.child}function p8(c,A,p){switch(A.tag){case 3:zB(A),zu();break;case 5:uB(A);break;case 1:Qi(A.type)&&Wg(A);break;case 4:cw(A,A.stateNode.containerInfo);break;case 10:var b=A.type._context,F=A.memoizedProps.value;ln(ef,b._currentValue),b._currentValue=F;break;case 13:if(b=A.memoizedState,b!==null)return b.dehydrated!==null?(ln(kn,kn.current&1),A.flags|=128,null):(p&A.child.childLanes)!==0?qB(c,A,p):(ln(kn,kn.current&1),c=rl(c,A,p),c!==null?c.sibling:null);ln(kn,kn.current&1);break;case 19:if(b=(p&A.childLanes)!==0,(c.flags&128)!==0){if(b)return YB(c,A,p);A.flags|=128}if(F=A.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),ln(kn,kn.current),b)break;return null;case 22:case 23:return A.lanes=0,VB(c,A,p)}return rl(c,A,p)}var JB,Ew,ZB,eN;JB=function(c,A){for(var p=A.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ew=function(){},ZB=function(c,A,p,b){var F=c.memoizedProps;if(F!==b){c=A.stateNode,yd(bo.current);var M=null;switch(p){case"input":F=Ee(c,F),b=Ee(c,b),M=[];break;case"select":F=J({},F,{value:void 0}),b=J({},b,{value:void 0}),M=[];break;case"textarea":F=Fe(c,F),b=Fe(c,b),M=[];break;default:typeof F.onClick!="function"&&typeof b.onClick=="function"&&(c.onclick=Gg)}Kt(p,b);var K;p=null;for(_e in F)if(!b.hasOwnProperty(_e)&&F.hasOwnProperty(_e)&&F[_e]!=null)if(_e==="style"){var ee=F[_e];for(K in ee)ee.hasOwnProperty(K)&&(p||(p={}),p[K]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?M||(M=[]):(M=M||[]).push(_e,null));for(_e in b){var ae=b[_e];if(ee=F!=null?F[_e]:void 0,b.hasOwnProperty(_e)&&ae!==ee&&(ae!=null||ee!=null))if(_e==="style")if(ee){for(K in ee)!ee.hasOwnProperty(K)||ae&&ae.hasOwnProperty(K)||(p||(p={}),p[K]="");for(K in ae)ae.hasOwnProperty(K)&&ee[K]!==ae[K]&&(p||(p={}),p[K]=ae[K])}else p||(M||(M=[]),M.push(_e,p)),p=ae;else _e==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ee=ee?ee.__html:void 0,ae!=null&&ee!==ae&&(M=M||[]).push(_e,ae)):_e==="children"?typeof ae!="string"&&typeof ae!="number"||(M=M||[]).push(_e,""+ae):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(ae!=null&&_e==="onScroll"&&pn("scroll",c),M||ee===ae||(M=[])):(M=M||[]).push(_e,ae))}p&&(M=M||[]).push("style",p);var _e=M;(A.updateQueue=_e)&&(A.flags|=4)}},eN=function(c,A,p,b){p!==b&&(A.flags|=4)};function qh(c,A){if(!_n)switch(c.tailMode){case"hidden":A=c.tail;for(var p=null;A!==null;)A.alternate!==null&&(p=A),A=A.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?A||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function ii(c){var A=c.alternate!==null&&c.alternate.child===c.child,p=0,b=0;if(A)for(var F=c.child;F!==null;)p|=F.lanes|F.childLanes,b|=F.subtreeFlags&14680064,b|=F.flags&14680064,F.return=c,F=F.sibling;else for(F=c.child;F!==null;)p|=F.lanes|F.childLanes,b|=F.subtreeFlags,b|=F.flags,F.return=c,F=F.sibling;return c.subtreeFlags|=b,c.childLanes=p,A}function g8(c,A,p){var b=A.pendingProps;switch(Z0(A),A.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(A),null;case 1:return Qi(A.type)&&zg(),ii(A),null;case 3:return b=A.stateNode,Yu(),gn(Mi),gn(ni),Aw(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&(Jg(A)?A.flags|=4:c===null||c.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,qa!==null&&(Ow(qa),qa=null))),Ew(c,A),ii(A),null;case 5:dw(A);var F=yd(Vh.current);if(p=A.type,c!==null&&A.stateNode!=null)ZB(c,A,p,b,F),c.ref!==A.ref&&(A.flags|=512,A.flags|=2097152);else{if(!b){if(A.stateNode===null)throw Error(n(166));return ii(A),null}if(c=yd(bo.current),Jg(A)){b=A.stateNode,p=A.type;var M=A.memoizedProps;switch(b[wo]=A,b[Mh]=M,c=(A.mode&1)!==0,p){case"dialog":pn("cancel",b),pn("close",b);break;case"iframe":case"object":case"embed":pn("load",b);break;case"video":case"audio":for(F=0;F<Uh.length;F++)pn(Uh[F],b);break;case"source":pn("error",b);break;case"img":case"image":case"link":pn("error",b),pn("load",b);break;case"details":pn("toggle",b);break;case"input":De(b,M),pn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!M.multiple},pn("invalid",b);break;case"textarea":ct(b,M),pn("invalid",b)}Kt(p,M),F=null;for(var K in M)if(M.hasOwnProperty(K)){var ee=M[K];K==="children"?typeof ee=="string"?b.textContent!==ee&&(M.suppressHydrationWarning!==!0&&Vg(b.textContent,ee,c),F=["children",ee]):typeof ee=="number"&&b.textContent!==""+ee&&(M.suppressHydrationWarning!==!0&&Vg(b.textContent,ee,c),F=["children",""+ee]):i.hasOwnProperty(K)&&ee!=null&&K==="onScroll"&&pn("scroll",b)}switch(p){case"input":ye(b),He(b,M,!0);break;case"textarea":ye(b),ie(b);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(b.onclick=Gg)}b=F,A.updateQueue=b,b!==null&&(A.flags|=4)}else{K=F.nodeType===9?F:F.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Ae(p)),c==="http://www.w3.org/1999/xhtml"?p==="script"?(c=K.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof b.is=="string"?c=K.createElement(p,{is:b.is}):(c=K.createElement(p),p==="select"&&(K=c,b.multiple?K.multiple=!0:b.size&&(K.size=b.size))):c=K.createElementNS(c,p),c[wo]=A,c[Mh]=b,JB(c,A,!1,!1),A.stateNode=c;e:{switch(K=mt(p,b),p){case"dialog":pn("cancel",c),pn("close",c),F=b;break;case"iframe":case"object":case"embed":pn("load",c),F=b;break;case"video":case"audio":for(F=0;F<Uh.length;F++)pn(Uh[F],c);F=b;break;case"source":pn("error",c),F=b;break;case"img":case"image":case"link":pn("error",c),pn("load",c),F=b;break;case"details":pn("toggle",c),F=b;break;case"input":De(c,b),F=Ee(c,b),pn("invalid",c);break;case"option":F=b;break;case"select":c._wrapperState={wasMultiple:!!b.multiple},F=J({},b,{value:void 0}),pn("invalid",c);break;case"textarea":ct(c,b),F=Fe(c,b),pn("invalid",c);break;default:F=b}Kt(p,F),ee=F;for(M in ee)if(ee.hasOwnProperty(M)){var ae=ee[M];M==="style"?Ye(c,ae):M==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&jt(c,ae)):M==="children"?typeof ae=="string"?(p!=="textarea"||ae!=="")&&nt(c,ae):typeof ae=="number"&&nt(c,""+ae):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ae!=null&&M==="onScroll"&&pn("scroll",c):ae!=null&&S(c,M,ae,K))}switch(p){case"input":ye(c),He(c,b,!1);break;case"textarea":ye(c),ie(c);break;case"option":b.value!=null&&c.setAttribute("value",""+te(b.value));break;case"select":c.multiple=!!b.multiple,M=b.value,M!=null?Te(c,!!b.multiple,M,!1):b.defaultValue!=null&&Te(c,!!b.multiple,b.defaultValue,!0);break;default:typeof F.onClick=="function"&&(c.onclick=Gg)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(A.flags|=4)}A.ref!==null&&(A.flags|=512,A.flags|=2097152)}return ii(A),null;case 6:if(c&&A.stateNode!=null)eN(c,A,c.memoizedProps,b);else{if(typeof b!="string"&&A.stateNode===null)throw Error(n(166));if(p=yd(Vh.current),yd(bo.current),Jg(A)){if(b=A.stateNode,p=A.memoizedProps,b[wo]=A,(M=b.nodeValue!==p)&&(c=sa,c!==null))switch(c.tag){case 3:Vg(b.nodeValue,p,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Vg(b.nodeValue,p,(c.mode&1)!==0)}M&&(A.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[wo]=A,A.stateNode=b}return ii(A),null;case 13:if(gn(kn),b=A.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(_n&&na!==null&&(A.mode&1)!==0&&(A.flags&128)===0)nB(),zu(),A.flags|=98560,M=!1;else if(M=Jg(A),b!==null&&b.dehydrated!==null){if(c===null){if(!M)throw Error(n(318));if(M=A.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[wo]=A}else zu(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;ii(A),M=!1}else qa!==null&&(Ow(qa),qa=null),M=!0;if(!M)return A.flags&65536?A:null}return(A.flags&128)!==0?(A.lanes=p,A):(b=b!==null,b!==(c!==null&&c.memoizedState!==null)&&b&&(A.child.flags|=8192,(A.mode&1)!==0&&(c===null||(kn.current&1)!==0?gr===0&&(gr=3):Gw())),A.updateQueue!==null&&(A.flags|=4),ii(A),null);case 4:return Yu(),Ew(c,A),c===null&&Ph(A.stateNode.containerInfo),ii(A),null;case 10:return iw(A.type._context),ii(A),null;case 17:return Qi(A.type)&&zg(),ii(A),null;case 19:if(gn(kn),M=A.memoizedState,M===null)return ii(A),null;if(b=(A.flags&128)!==0,K=M.rendering,K===null)if(b)qh(M,!1);else{if(gr!==0||c!==null&&(c.flags&128)!==0)for(c=A.child;c!==null;){if(K=rf(c),K!==null){for(A.flags|=128,qh(M,!1),b=K.updateQueue,b!==null&&(A.updateQueue=b,A.flags|=4),A.subtreeFlags=0,b=p,p=A.child;p!==null;)M=p,c=b,M.flags&=14680066,K=M.alternate,K===null?(M.childLanes=0,M.lanes=c,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=K.childLanes,M.lanes=K.lanes,M.child=K.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=K.memoizedProps,M.memoizedState=K.memoizedState,M.updateQueue=K.updateQueue,M.type=K.type,c=K.dependencies,M.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),p=p.sibling;return ln(kn,kn.current&1|2),A.child}c=c.sibling}M.tail!==null&&xs()>tA&&(A.flags|=128,b=!0,qh(M,!1),A.lanes=4194304)}else{if(!b)if(c=rf(K),c!==null){if(A.flags|=128,b=!0,p=c.updateQueue,p!==null&&(A.updateQueue=p,A.flags|=4),qh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!K.alternate&&!_n)return ii(A),null}else 2*xs()-M.renderingStartTime>tA&&p!==1073741824&&(A.flags|=128,b=!0,qh(M,!1),A.lanes=4194304);M.isBackwards?(K.sibling=A.child,A.child=K):(p=M.last,p!==null?p.sibling=K:A.child=K,M.last=K)}return M.tail!==null?(A=M.tail,M.rendering=A,M.tail=A.sibling,M.renderingStartTime=xs(),A.sibling=null,p=kn.current,ln(kn,b?p&1|2:p&1),A):(ii(A),null);case 22:case 23:return Vw(),b=A.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(A.flags|=8192),b&&(A.mode&1)!==0?(ra&1073741824)!==0&&(ii(A),A.subtreeFlags&6&&(A.flags|=8192)):ii(A),null;case 24:return null;case 25:return null}throw Error(n(156,A.tag))}function f8(c,A){switch(Z0(A),A.tag){case 1:return Qi(A.type)&&zg(),c=A.flags,c&65536?(A.flags=c&-65537|128,A):null;case 3:return Yu(),gn(Mi),gn(ni),Aw(),c=A.flags,(c&65536)!==0&&(c&128)===0?(A.flags=c&-65537|128,A):null;case 5:return dw(A),null;case 13:if(gn(kn),c=A.memoizedState,c!==null&&c.dehydrated!==null){if(A.alternate===null)throw Error(n(340));zu()}return c=A.flags,c&65536?(A.flags=c&-65537|128,A):null;case 19:return gn(kn),null;case 4:return Yu(),null;case 10:return iw(A.type._context),null;case 22:case 23:return Vw(),null;case 24:return null;default:return null}}var mf=!1,ai=!1,v8=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Zu(c,A){var p=c.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){Rn(c,A,b)}else p.current=null}function Tw(c,A,p){try{p()}catch(b){Rn(c,A,b)}}var tN=!1;function x8(c,A){if(V0=Jl,c=FS(),U0(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var F=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{p.nodeType,M.nodeType}catch(Xe){p=null;break e}var K=0,ee=-1,ae=-1,_e=0,Oe=0,We=c,Qe=null;t:for(;;){for(var vt;We!==p||F!==0&&We.nodeType!==3||(ee=K+F),We!==M||b!==0&&We.nodeType!==3||(ae=K+b),We.nodeType===3&&(K+=We.nodeValue.length),(vt=We.firstChild)!==null;)Qe=We,We=vt;for(;;){if(We===c)break t;if(Qe===p&&++_e===F&&(ee=K),Qe===M&&++Oe===b&&(ae=K),(vt=We.nextSibling)!==null)break;We=Qe,Qe=We.parentNode}We=vt}p=ee===-1||ae===-1?null:{start:ee,end:ae}}else p=null}p=p||{start:0,end:0}}else p=null;for(G0={focusedElem:c,selectionRange:p},Jl=!1,_t=A;_t!==null;)if(A=_t,c=A.child,(A.subtreeFlags&1028)!==0&&c!==null)c.return=A,_t=c;else for(;_t!==null;){A=_t;try{var St=A.alternate;if((A.flags&1024)!==0)switch(A.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Bt=St.memoizedProps,Gn=St.memoizedState,fe=A.stateNode,de=fe.getSnapshotBeforeUpdate(A.elementType===A.type?Bt:Xa(A.type,Bt),Gn);fe.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var ve=A.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Xe){Rn(A,A.return,Xe)}if(c=A.sibling,c!==null){c.return=A.return,_t=c;break}_t=A.return}return St=tN,tN=!1,St}function Xh(c,A,p){var b=A.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var F=b=b.next;do{if((F.tag&c)===c){var M=F.destroy;F.destroy=void 0,M!==void 0&&Tw(A,p,M)}F=F.next}while(F!==b)}}function pf(c,A){if(A=A.updateQueue,A=A!==null?A.lastEffect:null,A!==null){var p=A=A.next;do{if((p.tag&c)===c){var b=p.create;p.destroy=b()}p=p.next}while(p!==A)}}function Fw(c){var A=c.ref;if(A!==null){var p=c.stateNode;switch(c.tag){case 5:c=p;break;default:c=p}typeof A=="function"?A(c):A.current=c}}function sN(c){var A=c.alternate;A!==null&&(c.alternate=null,sN(A)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(A=c.stateNode,A!==null&&(delete A[wo],delete A[Mh],delete A[q0],delete A[t8],delete A[s8])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function nN(c){return c.tag===5||c.tag===3||c.tag===4}function rN(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||nN(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Lw(c,A,p){var b=c.tag;if(b===5||b===6)c=c.stateNode,A?p.nodeType===8?p.parentNode.insertBefore(c,A):p.insertBefore(c,A):(p.nodeType===8?(A=p.parentNode,A.insertBefore(c,p)):(A=p,A.appendChild(c)),p=p._reactRootContainer,p!=null||A.onclick!==null||(A.onclick=Gg));else if(b!==4&&(c=c.child,c!==null))for(Lw(c,A,p),c=c.sibling;c!==null;)Lw(c,A,p),c=c.sibling}function Rw(c,A,p){var b=c.tag;if(b===5||b===6)c=c.stateNode,A?p.insertBefore(c,A):p.appendChild(c);else if(b!==4&&(c=c.child,c!==null))for(Rw(c,A,p),c=c.sibling;c!==null;)Rw(c,A,p),c=c.sibling}var Qr=null,Ya=!1;function oc(c,A,p){for(p=p.child;p!==null;)iN(c,A,p),p=p.sibling}function iN(c,A,p){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Ko,p)}catch(ee){}switch(p.tag){case 5:ai||Zu(p,A);case 6:var b=Qr,F=Ya;Qr=null,oc(c,A,p),Qr=b,Ya=F,Qr!==null&&(Ya?(c=Qr,p=p.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):Qr.removeChild(p.stateNode));break;case 18:Qr!==null&&(Ya?(c=Qr,p=p.stateNode,c.nodeType===8?W0(c.parentNode,p):c.nodeType===1&&W0(c,p),Ka(c)):W0(Qr,p.stateNode));break;case 4:b=Qr,F=Ya,Qr=p.stateNode.containerInfo,Ya=!0,oc(c,A,p),Qr=b,Ya=F;break;case 0:case 11:case 14:case 15:if(!ai&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){F=b=b.next;do{var M=F,K=M.destroy;M=M.tag,K!==void 0&&((M&2)!==0||(M&4)!==0)&&Tw(p,A,K),F=F.next}while(F!==b)}oc(c,A,p);break;case 1:if(!ai&&(Zu(p,A),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(ee){Rn(p,A,ee)}oc(c,A,p);break;case 21:oc(c,A,p);break;case 22:p.mode&1?(ai=(b=ai)||p.memoizedState!==null,oc(c,A,p),ai=b):oc(c,A,p);break;default:oc(c,A,p)}}function aN(c){var A=c.updateQueue;if(A!==null){c.updateQueue=null;var p=c.stateNode;p===null&&(p=c.stateNode=new v8),A.forEach(function(b){var F=N8.bind(null,c,b);p.has(b)||(p.add(b),b.then(F,F))})}}function Ja(c,A){var p=A.deletions;if(p!==null)for(var b=0;b<p.length;b++){var F=p[b];try{var M=c,K=A,ee=K;e:for(;ee!==null;){switch(ee.tag){case 5:Qr=ee.stateNode,Ya=!1;break e;case 3:Qr=ee.stateNode.containerInfo,Ya=!0;break e;case 4:Qr=ee.stateNode.containerInfo,Ya=!0;break e}ee=ee.return}if(Qr===null)throw Error(n(160));iN(M,K,F),Qr=null,Ya=!1;var ae=F.alternate;ae!==null&&(ae.return=null),F.return=null}catch(_e){Rn(F,A,_e)}}if(A.subtreeFlags&12854)for(A=A.child;A!==null;)oN(A,c),A=A.sibling}function oN(c,A){var p=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Ja(A,c),jo(c),b&4){try{Xh(3,c,c.return),pf(3,c)}catch(Bt){Rn(c,c.return,Bt)}try{Xh(5,c,c.return)}catch(Bt){Rn(c,c.return,Bt)}}break;case 1:Ja(A,c),jo(c),b&512&&p!==null&&Zu(p,p.return);break;case 5:if(Ja(A,c),jo(c),b&512&&p!==null&&Zu(p,p.return),c.flags&32){var F=c.stateNode;try{nt(F,"")}catch(Bt){Rn(c,c.return,Bt)}}if(b&4&&(F=c.stateNode,F!=null)){var M=c.memoizedProps,K=p!==null?p.memoizedProps:M,ee=c.type,ae=c.updateQueue;if(c.updateQueue=null,ae!==null)try{ee==="input"&&M.type==="radio"&&M.name!=null&&at(F,M),mt(ee,K);var _e=mt(ee,M);for(K=0;K<ae.length;K+=2){var Oe=ae[K],We=ae[K+1];Oe==="style"?Ye(F,We):Oe==="dangerouslySetInnerHTML"?jt(F,We):Oe==="children"?nt(F,We):S(F,Oe,We,_e)}switch(ee){case"input":Ke(F,M);break;case"textarea":xt(F,M);break;case"select":var Qe=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!M.multiple;var vt=M.value;vt!=null?Te(F,!!M.multiple,vt,!1):Qe!==!!M.multiple&&(M.defaultValue!=null?Te(F,!!M.multiple,M.defaultValue,!0):Te(F,!!M.multiple,M.multiple?[]:"",!1))}F[Mh]=M}catch(Bt){Rn(c,c.return,Bt)}}break;case 6:if(Ja(A,c),jo(c),b&4){if(c.stateNode===null)throw Error(n(162));F=c.stateNode,M=c.memoizedProps;try{F.nodeValue=M}catch(Bt){Rn(c,c.return,Bt)}}break;case 3:if(Ja(A,c),jo(c),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Ka(A.containerInfo)}catch(Bt){Rn(c,c.return,Bt)}break;case 4:Ja(A,c),jo(c);break;case 13:Ja(A,c),jo(c),F=c.child,F.flags&8192&&(M=F.memoizedState!==null,F.stateNode.isHidden=M,!M||F.alternate!==null&&F.alternate.memoizedState!==null||(Dw=xs())),b&4&&aN(c);break;case 22:if(Oe=p!==null&&p.memoizedState!==null,c.mode&1?(ai=(_e=ai)||Oe,Ja(A,c),ai=_e):Ja(A,c),jo(c),b&8192){if(_e=c.memoizedState!==null,(c.stateNode.isHidden=_e)&&!Oe&&(c.mode&1)!==0)for(_t=c,Oe=c.child;Oe!==null;){for(We=_t=Oe;_t!==null;){switch(Qe=_t,vt=Qe.child,Qe.tag){case 0:case 11:case 14:case 15:Xh(4,Qe,Qe.return);break;case 1:Zu(Qe,Qe.return);var St=Qe.stateNode;if(typeof St.componentWillUnmount=="function"){b=Qe,p=Qe.return;try{A=b,St.props=A.memoizedProps,St.state=A.memoizedState,St.componentWillUnmount()}catch(Bt){Rn(b,p,Bt)}}break;case 5:Zu(Qe,Qe.return);break;case 22:if(Qe.memoizedState!==null){dN(We);continue}}vt!==null?(vt.return=Qe,_t=vt):dN(We)}Oe=Oe.sibling}e:for(Oe=null,We=c;;){if(We.tag===5){if(Oe===null){Oe=We;try{F=We.stateNode,_e?(M=F.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ee=We.stateNode,ae=We.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,ee.style.display=bt("display",K))}catch(Bt){Rn(c,c.return,Bt)}}}else if(We.tag===6){if(Oe===null)try{We.stateNode.nodeValue=_e?"":We.memoizedProps}catch(Bt){Rn(c,c.return,Bt)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===c)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===c)break e;for(;We.sibling===null;){if(We.return===null||We.return===c)break e;Oe===We&&(Oe=null),We=We.return}Oe===We&&(Oe=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:Ja(A,c),jo(c),b&4&&aN(c);break;case 21:break;default:Ja(A,c),jo(c)}}function jo(c){var A=c.flags;if(A&2){try{e:{for(var p=c.return;p!==null;){if(nN(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var F=b.stateNode;b.flags&32&&(nt(F,""),b.flags&=-33);var M=rN(c);Rw(c,M,F);break;case 3:case 4:var K=b.stateNode.containerInfo,ee=rN(c);Lw(c,ee,K);break;default:throw Error(n(161))}}catch(ae){Rn(c,c.return,ae)}c.flags&=-3}A&4096&&(c.flags&=-4097)}function y8(c,A,p){_t=c,lN(c)}function lN(c,A,p){for(var b=(c.mode&1)!==0;_t!==null;){var F=_t,M=F.child;if(F.tag===22&&b){var K=F.memoizedState!==null||mf;if(!K){var ee=F.alternate,ae=ee!==null&&ee.memoizedState!==null||ai;ee=mf;var _e=ai;if(mf=K,(ai=ae)&&!_e)for(_t=F;_t!==null;)K=_t,ae=K.child,K.tag===22&&K.memoizedState!==null?uN(F):ae!==null?(ae.return=K,_t=ae):uN(F);for(;M!==null;)_t=M,lN(M),M=M.sibling;_t=F,mf=ee,ai=_e}cN(c)}else(F.subtreeFlags&8772)!==0&&M!==null?(M.return=F,_t=M):cN(c)}}function cN(c){for(;_t!==null;){var A=_t;if((A.flags&8772)!==0){var p=A.alternate;try{if((A.flags&8772)!==0)switch(A.tag){case 0:case 11:case 15:ai||pf(5,A);break;case 1:var b=A.stateNode;if(A.flags&4&&!ai)if(p===null)b.componentDidMount();else{var F=A.elementType===A.type?p.memoizedProps:Xa(A.type,p.memoizedProps);b.componentDidUpdate(F,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var M=A.updateQueue;M!==null&&dB(A,M,b);break;case 3:var K=A.updateQueue;if(K!==null){if(p=null,A.child!==null)switch(A.child.tag){case 5:p=A.child.stateNode;break;case 1:p=A.child.stateNode}dB(A,K,p)}break;case 5:var ee=A.stateNode;if(p===null&&A.flags&4){p=ee;var ae=A.memoizedProps;switch(A.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&p.focus();break;case"img":ae.src&&(p.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(A.memoizedState===null){var _e=A.alternate;if(_e!==null){var Oe=_e.memoizedState;if(Oe!==null){var We=Oe.dehydrated;We!==null&&Ka(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ai||A.flags&512&&Fw(A)}catch(Qe){Rn(A,A.return,Qe)}}if(A===c){_t=null;break}if(p=A.sibling,p!==null){p.return=A.return,_t=p;break}_t=A.return}}function dN(c){for(;_t!==null;){var A=_t;if(A===c){_t=null;break}var p=A.sibling;if(p!==null){p.return=A.return,_t=p;break}_t=A.return}}function uN(c){for(;_t!==null;){var A=_t;try{switch(A.tag){case 0:case 11:case 15:var p=A.return;try{pf(4,A)}catch(ae){Rn(A,p,ae)}break;case 1:var b=A.stateNode;if(typeof b.componentDidMount=="function"){var F=A.return;try{b.componentDidMount()}catch(ae){Rn(A,F,ae)}}var M=A.return;try{Fw(A)}catch(ae){Rn(A,M,ae)}break;case 5:var K=A.return;try{Fw(A)}catch(ae){Rn(A,K,ae)}}}catch(ae){Rn(A,A.return,ae)}if(A===c){_t=null;break}var ee=A.sibling;if(ee!==null){ee.return=A.return,_t=ee;break}_t=A.return}}var w8=Math.ceil,gf=v.ReactCurrentDispatcher,Uw=v.ReactCurrentOwner,Sa=v.ReactCurrentBatchConfig,Ps=0,Cr=null,tr=null,Hr=0,ra=0,eA=sc(0),gr=0,Yh=null,bd=0,ff=0,Pw=0,Jh=null,Oi=null,Dw=0,tA=1/0,il=null,vf=!1,Mw=null,lc=null,xf=!1,cc=null,yf=0,Zh=0,Qw=null,wf=-1,bf=0;function yi(){return(Ps&6)!==0?xs():wf!==-1?wf:wf=xs()}function dc(c){return(c.mode&1)===0?1:(Ps&2)!==0&&Hr!==0?Hr&-Hr:r8.transition!==null?(bf===0&&(bf=dd()),bf):(c=ks,c!==0||(c=window.event,c=c===void 0?16:Bh(c.type)),c)}function Za(c,A,p,b){if(50<Zh)throw Zh=0,Qw=null,Error(n(185));Wl(c,p,b),((Ps&2)===0||c!==Cr)&&(c===Cr&&((Ps&2)===0&&(ff|=p),gr===4&&uc(c,Hr)),$i(c,b),p===1&&Ps===0&&(A.mode&1)===0&&(tA=xs()+500,qg&&rc()))}function $i(c,A){var p=c.callbackNode;zo(c,A);var b=cd(c,c===Cr?Hr:0);if(b===0)p!==null&&br(p),c.callbackNode=null,c.callbackPriority=0;else if(A=b&-b,c.callbackPriority!==A){if(p!=null&&br(p),A===1)c.tag===0?n8(hN.bind(null,c)):JS(hN.bind(null,c)),ZM(function(){(Ps&6)===0&&rc()}),p=null;else{switch(Xl(b)){case 1:p=Ui;break;case 4:p=Ji;break;case 16:p=on;break;case 536870912:p=ld;break;default:p=on}p=wN(p,AN.bind(null,c))}c.callbackPriority=A,c.callbackNode=p}}function AN(c,A){if(wf=-1,bf=0,(Ps&6)!==0)throw Error(n(327));var p=c.callbackNode;if(sA()&&c.callbackNode!==p)return null;var b=cd(c,c===Cr?Hr:0);if(b===0)return null;if((b&30)!==0||(b&c.expiredLanes)!==0||A)A=_f(c,b);else{A=b;var F=Ps;Ps|=2;var M=pN();(Cr!==c||Hr!==A)&&(il=null,tA=xs()+500,jd(c,A));do try{j8();break}catch(ee){mN(c,ee)}while(!0);rw(),gf.current=M,Ps=F,tr!==null?A=0:(Cr=null,Hr=0,A=gr)}if(A!==0){if(A===2&&(F=Zi(c),F!==0&&(b=F,A=Hw(c,F))),A===1)throw p=Yh,jd(c,0),uc(c,b),$i(c,xs()),p;if(A===6)uc(c,b);else{if(F=c.current.alternate,(b&30)===0&&!b8(F)&&(A=_f(c,b),A===2&&(M=Zi(c),M!==0&&(b=M,A=Hw(c,M))),A===1))throw p=Yh,jd(c,0),uc(c,b),$i(c,xs()),p;switch(c.finishedWork=F,c.finishedLanes=b,A){case 0:case 1:throw Error(n(345));case 2:Cd(c,Oi,il);break;case 3:if(uc(c,b),(b&130023424)===b&&(A=Dw+500-xs(),10<A)){if(cd(c,0)!==0)break;if(F=c.suspendedLanes,(F&b)!==b){yi(),c.pingedLanes|=c.suspendedLanes&F;break}c.timeoutHandle=z0(Cd.bind(null,c,Oi,il),A);break}Cd(c,Oi,il);break;case 4:if(uc(c,b),(b&4194240)===b)break;for(A=c.eventTimes,F=-1;0<b;){var K=31-fi(b);M=1<<K,K=A[K],K>F&&(F=K),b&=~M}if(b=F,b=xs()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*w8(b/1960))-b,10<b){c.timeoutHandle=z0(Cd.bind(null,c,Oi,il),b);break}Cd(c,Oi,il);break;case 5:Cd(c,Oi,il);break;default:throw Error(n(329))}}}return $i(c,xs()),c.callbackNode===p?AN.bind(null,c):null}function Hw(c,A){var p=Jh;return c.current.memoizedState.isDehydrated&&(jd(c,A).flags|=256),c=_f(c,A),c!==2&&(A=Oi,Oi=p,A!==null&&Ow(A)),c}function Ow(c){Oi===null?Oi=c:Oi.push.apply(Oi,c)}function b8(c){for(var A=c;;){if(A.flags&16384){var p=A.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var F=p[b],M=F.getSnapshot;F=F.value;try{if(!Wa(M(),F))return!1}catch(K){return!1}}}if(p=A.child,A.subtreeFlags&16384&&p!==null)p.return=A,A=p;else{if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function uc(c,A){for(A&=~Pw,A&=~ff,c.suspendedLanes|=A,c.pingedLanes&=~A,c=c.expirationTimes;0<A;){var p=31-fi(A),b=1<<p;c[p]=-1,A&=~b}}function hN(c){if((Ps&6)!==0)throw Error(n(327));sA();var A=cd(c,0);if((A&1)===0)return $i(c,xs()),null;var p=_f(c,A);if(c.tag!==0&&p===2){var b=Zi(c);b!==0&&(A=b,p=Hw(c,b))}if(p===1)throw p=Yh,jd(c,0),uc(c,A),$i(c,xs()),p;if(p===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=A,Cd(c,Oi,il),$i(c,xs()),null}function $w(c,A){var p=Ps;Ps|=1;try{return c(A)}finally{Ps=p,Ps===0&&(tA=xs()+500,qg&&rc())}}function _d(c){cc!==null&&cc.tag===0&&(Ps&6)===0&&sA();var A=Ps;Ps|=1;var p=Sa.transition,b=ks;try{if(Sa.transition=null,ks=1,c)return c()}finally{ks=b,Sa.transition=p,Ps=A,(Ps&6)===0&&rc()}}function Vw(){ra=eA.current,gn(eA)}function jd(c,A){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;if(p!==-1&&(c.timeoutHandle=-1,JM(p)),tr!==null)for(p=tr.return;p!==null;){var b=p;switch(Z0(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&zg();break;case 3:Yu(),gn(Mi),gn(ni),Aw();break;case 5:dw(b);break;case 4:Yu();break;case 13:gn(kn);break;case 19:gn(kn);break;case 10:iw(b.type._context);break;case 22:case 23:Vw()}p=p.return}if(Cr=c,tr=c=Ac(c.current,null),Hr=ra=A,gr=0,Yh=null,Pw=ff=bd=0,Oi=Jh=null,xd!==null){for(A=0;A<xd.length;A++)if(p=xd[A],b=p.interleaved,b!==null){p.interleaved=null;var F=b.next,M=p.pending;if(M!==null){var K=M.next;M.next=F,b.next=K}p.pending=b}xd=null}return c}function mN(c,A){do{var p=tr;try{if(rw(),af.current=df,of){for(var b=In.memoizedState;b!==null;){var F=b.queue;F!==null&&(F.pending=null),b=b.next}of=!1}if(wd=0,jr=pr=In=null,Gh=!1,Kh=0,Uw.current=null,p===null||p.return===null){gr=1,Yh=A,tr=null;break}e:{var M=c,K=p.return,ee=p,ae=A;if(A=Hr,ee.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var _e=ae,Oe=ee,We=Oe.tag;if((Oe.mode&1)===0&&(We===0||We===11||We===15)){var Qe=Oe.alternate;Qe?(Oe.updateQueue=Qe.updateQueue,Oe.memoizedState=Qe.memoizedState,Oe.lanes=Qe.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var vt=MB(K);if(vt!==null){vt.flags&=-257,QB(vt,K,ee,M,A),vt.mode&1&&DB(M,_e,A),A=vt,ae=_e;var St=A.updateQueue;if(St===null){var Bt=new Set;Bt.add(ae),A.updateQueue=Bt}else St.add(ae);break e}else{if((A&1)===0){DB(M,_e,A),Gw();break e}ae=Error(n(426))}}else if(_n&&ee.mode&1){var Gn=MB(K);if(Gn!==null){(Gn.flags&65536)===0&&(Gn.flags|=256),QB(Gn,K,ee,M,A),sw(Ju(ae,ee));break e}}M=ae=Ju(ae,ee),gr!==4&&(gr=2),Jh===null?Jh=[M]:Jh.push(M),M=K;do{switch(M.tag){case 3:M.flags|=65536,A&=-A,M.lanes|=A;var fe=UB(M,ae,A);cB(M,fe);break e;case 1:ee=ae;var de=M.type,ve=M.stateNode;if((M.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(lc===null||!lc.has(ve)))){M.flags|=65536,A&=-A,M.lanes|=A;var Xe=PB(M,ee,A);cB(M,Xe);break e}}M=M.return}while(M!==null)}fN(p)}catch(Ft){A=Ft,tr===p&&p!==null&&(tr=p=p.return);continue}break}while(!0)}function pN(){var c=gf.current;return gf.current=df,c===null?df:c}function Gw(){(gr===0||gr===3||gr===2)&&(gr=4),Cr===null||(bd&268435455)===0&&(ff&268435455)===0||uc(Cr,Hr)}function _f(c,A){var p=Ps;Ps|=2;var b=pN();(Cr!==c||Hr!==A)&&(il=null,jd(c,A));do try{_8();break}catch(F){mN(c,F)}while(!0);if(rw(),Ps=p,gf.current=b,tr!==null)throw Error(n(261));return Cr=null,Hr=0,gr}function _8(){for(;tr!==null;)gN(tr)}function j8(){for(;tr!==null&&!ti();)gN(tr)}function gN(c){var A=yN(c.alternate,c,ra);c.memoizedProps=c.pendingProps,A===null?fN(c):tr=A,Uw.current=null}function fN(c){var A=c;do{var p=A.alternate;if(c=A.return,(A.flags&32768)===0){if(p=g8(p,A,ra),p!==null){tr=p;return}}else{if(p=f8(p,A),p!==null){p.flags&=32767,tr=p;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{gr=6,tr=null;return}}if(A=A.sibling,A!==null){tr=A;return}tr=A=c}while(A!==null);gr===0&&(gr=5)}function Cd(c,A,p){var b=ks,F=Sa.transition;try{Sa.transition=null,ks=1,C8(c,A,p,b)}finally{Sa.transition=F,ks=b}return null}function C8(c,A,p,b){do sA();while(cc!==null);if((Ps&6)!==0)throw Error(n(327));p=c.finishedWork;var F=c.finishedLanes;if(p===null)return null;if(c.finishedWork=null,c.finishedLanes=0,p===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var M=p.lanes|p.childLanes;if(rn(c,M),c===Cr&&(tr=Cr=null,Hr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||xf||(xf=!0,wN(on,function(){return sA(),null})),M=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||M){M=Sa.transition,Sa.transition=null;var K=ks;ks=1;var ee=Ps;Ps|=4,Uw.current=null,x8(c,p),oN(p,c),GM(G0),Jl=!!V0,G0=V0=null,c.current=p,y8(p),Ri(),Ps=ee,ks=K,Sa.transition=M}else c.current=p;if(xf&&(xf=!1,cc=c,yf=F),M=c.pendingLanes,M===0&&(lc=null),bg(p.stateNode),$i(c,xs()),A!==null)for(b=c.onRecoverableError,p=0;p<A.length;p++)F=A[p],b(F.value,{componentStack:F.stack,digest:F.digest});if(vf)throw vf=!1,c=Mw,Mw=null,c;return(yf&1)!==0&&c.tag!==0&&sA(),M=c.pendingLanes,(M&1)!==0?c===Qw?Zh++:(Zh=0,Qw=c):Zh=0,rc(),null}function sA(){if(cc!==null){var c=Xl(yf),A=Sa.transition,p=ks;try{if(Sa.transition=null,ks=16>c?16:c,cc===null)var b=!1;else{if(c=cc,cc=null,yf=0,(Ps&6)!==0)throw Error(n(331));var F=Ps;for(Ps|=4,_t=c.current;_t!==null;){var M=_t,K=M.child;if((_t.flags&16)!==0){var ee=M.deletions;if(ee!==null){for(var ae=0;ae<ee.length;ae++){var _e=ee[ae];for(_t=_e;_t!==null;){var Oe=_t;switch(Oe.tag){case 0:case 11:case 15:Xh(8,Oe,M)}var We=Oe.child;if(We!==null)We.return=Oe,_t=We;else for(;_t!==null;){Oe=_t;var Qe=Oe.sibling,vt=Oe.return;if(sN(Oe),Oe===_e){_t=null;break}if(Qe!==null){Qe.return=vt,_t=Qe;break}_t=vt}}}var St=M.alternate;if(St!==null){var Bt=St.child;if(Bt!==null){St.child=null;do{var Gn=Bt.sibling;Bt.sibling=null,Bt=Gn}while(Bt!==null)}}_t=M}}if((M.subtreeFlags&2064)!==0&&K!==null)K.return=M,_t=K;else e:for(;_t!==null;){if(M=_t,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Xh(9,M,M.return)}var fe=M.sibling;if(fe!==null){fe.return=M.return,_t=fe;break e}_t=M.return}}var de=c.current;for(_t=de;_t!==null;){K=_t;var ve=K.child;if((K.subtreeFlags&2064)!==0&&ve!==null)ve.return=K,_t=ve;else e:for(K=de;_t!==null;){if(ee=_t,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:pf(9,ee)}}catch(Ft){Rn(ee,ee.return,Ft)}if(ee===K){_t=null;break e}var Xe=ee.sibling;if(Xe!==null){Xe.return=ee.return,_t=Xe;break e}_t=ee.return}}if(Ps=F,rc(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Ko,c)}catch(Ft){}b=!0}return b}finally{ks=p,Sa.transition=A}}return!1}function vN(c,A,p){A=Ju(p,A),A=UB(c,A,1),c=ac(c,A,1),A=yi(),c!==null&&(Wl(c,1,A),$i(c,A))}function Rn(c,A,p){if(c.tag===3)vN(c,c,p);else for(;A!==null;){if(A.tag===3){vN(A,c,p);break}else if(A.tag===1){var b=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(lc===null||!lc.has(b))){c=Ju(p,c),c=PB(A,c,1),A=ac(A,c,1),c=yi(),A!==null&&(Wl(A,1,c),$i(A,c));break}}A=A.return}}function S8(c,A,p){var b=c.pingCache;b!==null&&b.delete(A),A=yi(),c.pingedLanes|=c.suspendedLanes&p,Cr===c&&(Hr&p)===p&&(gr===4||gr===3&&(Hr&130023424)===Hr&&500>xs()-Dw?jd(c,0):Pw|=p),$i(c,A)}function xN(c,A){A===0&&((c.mode&1)===0?A=1:(A=Cu,Cu<<=1,(Cu&130023424)===0&&(Cu=4194304)));var p=yi();c=sl(c,A),c!==null&&(Wl(c,A,p),$i(c,p))}function B8(c){var A=c.memoizedState,p=0;A!==null&&(p=A.retryLane),xN(c,p)}function N8(c,A){var p=0;switch(c.tag){case 13:var b=c.stateNode,F=c.memoizedState;F!==null&&(p=F.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(A),xN(c,p)}var yN;yN=function(c,A,p){if(c!==null)if(c.memoizedProps!==A.pendingProps||Mi.current)Hi=!0;else{if((c.lanes&p)===0&&(A.flags&128)===0)return Hi=!1,p8(c,A,p);Hi=(c.flags&131072)!==0}else Hi=!1,_n&&(A.flags&1048576)!==0&&ZS(A,Yg,A.index);switch(A.lanes=0,A.tag){case 2:var b=A.type;hf(c,A),c=A.pendingProps;var F=Vu(A,ni.current);Xu(A,p),F=pw(null,A,b,c,F,p);var M=gw();return A.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(A.tag=1,A.memoizedState=null,A.updateQueue=null,Qi(b)?(M=!0,Wg(A)):M=!1,A.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,lw(A),F.updater=uf,A.stateNode=F,F._reactInternals=A,bw(A,b,c,p),A=Sw(null,A,b,!0,M,p)):(A.tag=0,_n&&M&&J0(A),xi(null,A,F,p),A=A.child),A;case 16:b=A.elementType;e:{switch(hf(c,A),c=A.pendingProps,F=b._init,b=F(b._payload),A.type=b,F=A.tag=I8(b),c=Xa(b,c),F){case 0:A=Cw(null,A,b,c,p);break e;case 1:A=KB(null,A,b,c,p);break e;case 11:A=HB(null,A,b,c,p);break e;case 14:A=OB(null,A,b,Xa(b.type,c),p);break e}throw Error(n(306,b,""))}return A;case 0:return b=A.type,F=A.pendingProps,F=A.elementType===b?F:Xa(b,F),Cw(c,A,b,F,p);case 1:return b=A.type,F=A.pendingProps,F=A.elementType===b?F:Xa(b,F),KB(c,A,b,F,p);case 3:e:{if(zB(A),c===null)throw Error(n(387));b=A.pendingProps,M=A.memoizedState,F=M.element,lB(c,A),nf(A,b,null,p);var K=A.memoizedState;if(b=K.element,M.isDehydrated)if(M={element:b,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},A.updateQueue.baseState=M,A.memoizedState=M,A.flags&256){F=Ju(Error(n(423)),A),A=WB(c,A,b,p,F);break e}else if(b!==F){F=Ju(Error(n(424)),A),A=WB(c,A,b,p,F);break e}else for(na=tc(A.stateNode.containerInfo.firstChild),sa=A,_n=!0,qa=null,p=aB(A,null,b,p),A.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(zu(),b===F){A=rl(c,A,p);break e}xi(c,A,b,p)}A=A.child}return A;case 5:return uB(A),c===null&&tw(A),b=A.type,F=A.pendingProps,M=c!==null?c.memoizedProps:null,K=F.children,K0(b,F)?K=null:M!==null&&K0(b,M)&&(A.flags|=32),GB(c,A),xi(c,A,K,p),A.child;case 6:return c===null&&tw(A),null;case 13:return qB(c,A,p);case 4:return cw(A,A.stateNode.containerInfo),b=A.pendingProps,c===null?A.child=Wu(A,null,b,p):xi(c,A,b,p),A.child;case 11:return b=A.type,F=A.pendingProps,F=A.elementType===b?F:Xa(b,F),HB(c,A,b,F,p);case 7:return xi(c,A,A.pendingProps,p),A.child;case 8:return xi(c,A,A.pendingProps.children,p),A.child;case 12:return xi(c,A,A.pendingProps.children,p),A.child;case 10:e:{if(b=A.type._context,F=A.pendingProps,M=A.memoizedProps,K=F.value,ln(ef,b._currentValue),b._currentValue=K,M!==null)if(Wa(M.value,K)){if(M.children===F.children&&!Mi.current){A=rl(c,A,p);break e}}else for(M=A.child,M!==null&&(M.return=A);M!==null;){var ee=M.dependencies;if(ee!==null){K=M.child;for(var ae=ee.firstContext;ae!==null;){if(ae.context===b){if(M.tag===1){ae=nl(-1,p&-p),ae.tag=2;var _e=M.updateQueue;if(_e!==null){_e=_e.shared;var Oe=_e.pending;Oe===null?ae.next=ae:(ae.next=Oe.next,Oe.next=ae),_e.pending=ae}}M.lanes|=p,ae=M.alternate,ae!==null&&(ae.lanes|=p),aw(M.return,p,A),ee.lanes|=p;break}ae=ae.next}}else if(M.tag===10)K=M.type===A.type?null:M.child;else if(M.tag===18){if(K=M.return,K===null)throw Error(n(341));K.lanes|=p,ee=K.alternate,ee!==null&&(ee.lanes|=p),aw(K,p,A),K=M.sibling}else K=M.child;if(K!==null)K.return=M;else for(K=M;K!==null;){if(K===A){K=null;break}if(M=K.sibling,M!==null){M.return=K.return,K=M;break}K=K.return}M=K}xi(c,A,F.children,p),A=A.child}return A;case 9:return F=A.type,b=A.pendingProps.children,Xu(A,p),F=ja(F),b=b(F),A.flags|=1,xi(c,A,b,p),A.child;case 14:return b=A.type,F=Xa(b,A.pendingProps),F=Xa(b.type,F),OB(c,A,b,F,p);case 15:return $B(c,A,A.type,A.pendingProps,p);case 17:return b=A.type,F=A.pendingProps,F=A.elementType===b?F:Xa(b,F),hf(c,A),A.tag=1,Qi(b)?(c=!0,Wg(A)):c=!1,Xu(A,p),LB(A,b,F),bw(A,b,F,p),Sw(null,A,b,!0,c,p);case 19:return YB(c,A,p);case 22:return VB(c,A,p)}throw Error(n(156,A.tag))};function wN(c,A){return wr(c,A)}function k8(c,A,p,b){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(c,A,p,b){return new k8(c,A,p,b)}function Kw(c){return c=c.prototype,!(!c||!c.isReactComponent)}function I8(c){if(typeof c=="function")return Kw(c)?1:0;if(c!=null){if(c=c.$$typeof,c===P)return 11;if(c===O)return 14}return 2}function Ac(c,A){var p=c.alternate;return p===null?(p=Ba(c.tag,A,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=A,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&14680064,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,A=c.dependencies,p.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p}function jf(c,A,p,b,F,M){var K=2;if(b=c,typeof c=="function")Kw(c)&&(K=1);else if(typeof c=="string")K=5;else e:switch(c){case _:return Sd(p.children,F,M,A);case j:K=8,F|=8;break;case k:return c=Ba(12,p,A,F|2),c.elementType=k,c.lanes=M,c;case L:return c=Ba(13,p,A,F),c.elementType=L,c.lanes=M,c;case H:return c=Ba(19,p,A,F),c.elementType=H,c.lanes=M,c;case G:return Cf(p,F,M,A);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case U:K=10;break e;case I:K=9;break e;case P:K=11;break e;case O:K=14;break e;case z:K=16,b=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return A=Ba(K,p,A,F),A.elementType=c,A.type=b,A.lanes=M,A}function Sd(c,A,p,b){return c=Ba(7,c,b,A),c.lanes=p,c}function Cf(c,A,p,b){return c=Ba(22,c,b,A),c.elementType=G,c.lanes=p,c.stateNode={isHidden:!1},c}function zw(c,A,p){return c=Ba(6,c,null,A),c.lanes=p,c}function Ww(c,A,p){return A=Ba(4,c.children!==null?c.children:[],c.key,A),A.lanes=p,A.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},A}function E8(c,A,p,b,F){this.tag=A,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=b,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function qw(c,A,p,b,F,M,K,ee,ae){return c=new E8(c,A,p,ee,ae),A===1?(A=1,M===!0&&(A|=8)):A=0,M=Ba(3,null,null,A),c.current=M,M.stateNode=c,M.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},lw(M),c}function T8(c,A,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:b==null?null:""+b,children:c,containerInfo:A,implementation:p}}function bN(c){if(!c)return nc;c=c._reactInternals;e:{if(ft(c)!==c||c.tag!==1)throw Error(n(170));var A=c;do{switch(A.tag){case 3:A=A.stateNode.context;break e;case 1:if(Qi(A.type)){A=A.stateNode.__reactInternalMemoizedMergedChildContext;break e}}A=A.return}while(A!==null);throw Error(n(171))}if(c.tag===1){var p=c.type;if(Qi(p))return XS(c,p,A)}return A}function _N(c,A,p,b,F,M,K,ee,ae){return c=qw(p,b,!0,c,F,M,K,ee,ae),c.context=bN(null),p=c.current,b=yi(),F=dc(p),M=nl(b,F),M.callback=A!=null?A:null,ac(p,M,F),c.current.lanes=F,Wl(c,F,b),$i(c,b),c}function Sf(c,A,p,b){var F=A.current,M=yi(),K=dc(F);return p=bN(p),A.context===null?A.context=p:A.pendingContext=p,A=nl(M,K),A.payload={element:c},b=b===void 0?null:b,b!==null&&(A.callback=b),c=ac(F,A,K),c!==null&&(Za(c,F,K,M),sf(c,F,K)),K}function Bf(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function jN(c,A){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<A?p:A}}function Xw(c,A){jN(c,A),(c=c.alternate)&&jN(c,A)}function F8(){return null}var CN=typeof reportError=="function"?reportError:function(c){console.error(c)};function Yw(c){this._internalRoot=c}Nf.prototype.render=Yw.prototype.render=function(c){var A=this._internalRoot;if(A===null)throw Error(n(409));Sf(c,A,null,null)},Nf.prototype.unmount=Yw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var A=c.containerInfo;_d(function(){Sf(null,c,null,null)}),A[Jo]=null}};function Nf(c){this._internalRoot=c}Nf.prototype.unstable_scheduleHydration=function(c){if(c){var A=Bg();c={blockedOn:null,target:c,priority:A};for(var p=0;p<fo.length&&A!==0&&A<fo[p].priority;p++);fo.splice(p,0,c),p===0&&Ig(c)}};function Jw(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function kf(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function SN(){}function L8(c,A,p,b,F){if(F){if(typeof b=="function"){var M=b;b=function(){var _e=Bf(K);M.call(_e)}}var K=_N(A,b,c,0,null,!1,!1,"",SN);return c._reactRootContainer=K,c[Jo]=K.current,Ph(c.nodeType===8?c.parentNode:c),_d(),K}for(;F=c.lastChild;)c.removeChild(F);if(typeof b=="function"){var ee=b;b=function(){var _e=Bf(ae);ee.call(_e)}}var ae=qw(c,0,!1,null,null,!1,!1,"",SN);return c._reactRootContainer=ae,c[Jo]=ae.current,Ph(c.nodeType===8?c.parentNode:c),_d(function(){Sf(A,ae,p,b)}),ae}function If(c,A,p,b,F){var M=p._reactRootContainer;if(M){var K=M;if(typeof F=="function"){var ee=F;F=function(){var ae=Bf(K);ee.call(ae)}}Sf(A,K,c,F)}else K=L8(p,A,c,F,b);return Bf(K)}Cg=function(c){switch(c.tag){case 3:var A=c.stateNode;if(A.current.memoizedState.isDehydrated){var p=Kl(A.pendingLanes);p!==0&&(ql(A,p|1),$i(A,xs()),(Ps&6)===0&&(tA=xs()+500,rc()))}break;case 13:_d(function(){var b=sl(c,1);if(b!==null){var F=yi();Za(b,c,1,F)}}),Xw(c,1)}},Su=function(c){if(c.tag===13){var A=sl(c,134217728);if(A!==null){var p=yi();Za(A,c,134217728,p)}Xw(c,134217728)}},Sg=function(c){if(c.tag===13){var A=dc(c),p=sl(c,A);if(p!==null){var b=yi();Za(p,c,A,b)}Xw(c,A)}},Bg=function(){return ks},Ng=function(c,A){var p=ks;try{return ks=c,A()}finally{ks=p}},Ue=function(c,A,p){switch(A){case"input":if(Ke(c,p),A=p.name,p.type==="radio"&&A!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+A)+'][type="radio"]'),A=0;A<p.length;A++){var b=p[A];if(b!==c&&b.form===c.form){var F=Kg(b);if(!F)throw Error(n(90));Be(b),Ke(b,F)}}}break;case"textarea":xt(c,p);break;case"select":A=p.value,A!=null&&Te(c,!!p.multiple,A,!1)}},Me=$w,pt=_d;var R8={usingClientEntryPoint:!1,Events:[Qh,Ou,Kg,Dt,Et,$w]},em={findFiberByHostInstance:pd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U8={bundleType:em.bundleType,version:em.version,rendererPackageName:em.rendererPackageName,rendererConfig:em.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Pr(c),c===null?null:c.stateNode},findFiberByHostInstance:em.findFiberByHostInstance||F8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Ko=Ef.inject(U8),si=Ef}catch(c){}}return Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R8,Vi.createPortal=function(c,A){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(A))throw Error(n(200));return T8(c,A,null,p)},Vi.createRoot=function(c,A){if(!Jw(c))throw Error(n(299));var p=!1,b="",F=CN;return A!=null&&(A.unstable_strictMode===!0&&(p=!0),A.identifierPrefix!==void 0&&(b=A.identifierPrefix),A.onRecoverableError!==void 0&&(F=A.onRecoverableError)),A=qw(c,1,!1,null,null,p,!1,b,F),c[Jo]=A.current,Ph(c.nodeType===8?c.parentNode:c),new Yw(A)},Vi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var A=c._reactInternals;if(A===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=Pr(A),c=c===null?null:c.stateNode,c},Vi.flushSync=function(c){return _d(c)},Vi.hydrate=function(c,A,p){if(!kf(A))throw Error(n(200));return If(null,c,A,!0,p)},Vi.hydrateRoot=function(c,A,p){if(!Jw(c))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,F=!1,M="",K=CN;if(p!=null&&(p.unstable_strictMode===!0&&(F=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onRecoverableError!==void 0&&(K=p.onRecoverableError)),A=_N(A,null,c,1,p!=null?p:null,F,!1,M,K),c[Jo]=A.current,Ph(c),b)for(c=0;c<b.length;c++)p=b[c],F=p._getVersion,F=F(p._source),A.mutableSourceEagerHydrationData==null?A.mutableSourceEagerHydrationData=[p,F]:A.mutableSourceEagerHydrationData.push(p,F);return new Nf(A)},Vi.render=function(c,A,p){if(!kf(A))throw Error(n(200));return If(null,c,A,!1,p)},Vi.unmountComponentAtNode=function(c){if(!kf(c))throw Error(n(40));return c._reactRootContainer?(_d(function(){If(null,null,c,!1,function(){c._reactRootContainer=null,c[Jo]=null})}),!0):!1},Vi.unstable_batchedUpdates=$w,Vi.unstable_renderSubtreeIntoContainer=function(c,A,p,b){if(!kf(p))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return If(c,A,p,!1,b)},Vi.version="18.3.1-next-f1338f8080-20240426",Vi}var LN;function IF(){if(LN)return tb.exports;LN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tb.exports=$8(),tb.exports}var RN;function V8(){if(RN)return Tf;RN=1;var t=IF();return Tf.createRoot=t.createRoot,Tf.hydrateRoot=t.hydrateRoot,Tf}var G8=V8();const K8=zj(G8),ns=t=>typeof t=="string",sm=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},UN=t=>t==null?"":""+t,z8=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},W8=/###/g,PN=t=>t&&t.indexOf("###")>-1?t.replace(W8,"."):t,DN=t=>!t||ns(t),Mm=(t,e,n)=>{const r=ns(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(DN(t))return{};const a=PN(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return DN(t)?{}:{obj:t,k:PN(r[i])}},MN=(t,e,n)=>{const{obj:r,k:i}=Mm(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],o=e.slice(0,e.length-1),l=Mm(t,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=Mm(t,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${a}`]!="undefined"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},q8=(t,e,n,r)=>{const{obj:i,k:a}=Mm(t,e,Object);i[a]=i[a]||[],i[a].push(n)},wx=(t,e)=>{const{obj:n,k:r}=Mm(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},X8=(t,e,n)=>{const r=wx(t,n);return r!==void 0?r:wx(e,n)},EF=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ns(t[r])||t[r]instanceof String||ns(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):EF(t[r],e[r],n):t[r]=e[r]);return t},nA=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Y8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const J8=t=>ns(t)?t.replace(/[&<>"'\/]/g,e=>Y8[e]):t;class Z8{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const eQ=[" ",",","?","!",";"],tQ=new Z8(20),sQ=(t,e,n)=>{e=e||"",n=n||"";const r=eQ.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=tQ.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(t);if(!a){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},p_=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,l="";for(let d=a;d<r.length;++d)if(d!==a&&(l+=n),l+=r[d],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<r.length-1)continue;a+=d-a+1;break}i=o}return i},hp=t=>t==null?void 0:t.replace("_","-"),nQ={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let rQ=class g_{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||nQ,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(ns(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new g_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new g_(this.logger,e)}};var Eo=new rQ;class Ny{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...n])})}}class QN extends Ny{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var u,h;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):ns(r)&&a?l.push(...r.split(a)):l.push(r)));const d=wx(this.data,l);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),d||!o||!ns(r)?d:p_((h=(u=this.data)==null?void 0:u[e])==null?void 0:h[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),MN(this.data,l,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(ns(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,o={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let d=wx(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?EF(d,r,a):d={...d,...r},MN(this.data,l,d),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var TF={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var o,l;e=(l=(o=this.processors[a])==null?void 0:o.process(e,n,r,i))!=null?l:e}),e}};const FF=Symbol("i18next/PATH_KEY");function iQ(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===FF?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function f_(t,e){var r;const{[FF]:n}=t(iQ());return n.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const HN={},ON=t=>!ns(t)&&typeof t!="boolean"&&typeof t!="number";class bx extends Ny{constructor(e,n={}){super(),z8(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Eo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!sQ(e,r,i);if(o&&!l){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:ns(a)?[a]:a};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return{key:e,namespaces:ns(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=f_(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:d}=this.extractFromKey(e[e.length-1],i),u=d[d.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const m=i.lng||this.language,g=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode")return g?a?{res:`${u}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${h}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const y=this.resolve(e,i);let x=y==null?void 0:y.res;const C=(y==null?void 0:y.usedKey)||l,E=(y==null?void 0:y.exactUsedKey)||l,T=["[object Number]","[object Function]","[object RegExp]"],B=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,v=i.count!==void 0&&!ns(i.count),w=bx.hasDefaultValue(i),N=v?this.pluralResolver.getSuffix(m,i.count,i):"",_=i.ordinal&&v?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",j=v&&!i.ordinal&&i.count===0,k=j&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${N}`]||i[`defaultValue${_}`]||i.defaultValue;let U=x;S&&!x&&w&&(U=k);const I=ON(U),P=Object.prototype.toString.apply(U);if(S&&U&&I&&T.indexOf(P)<0&&!(ns(B)&&Array.isArray(U))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,U,{...i,ns:d}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(y.res=L,y.usedParams=this.getUsedParamsDetails(i),y):L}if(o){const L=Array.isArray(U),H=L?[]:{},O=L?E:C;for(const z in U)if(Object.prototype.hasOwnProperty.call(U,z)){const G=`${O}${o}${z}`;w&&!x?H[z]=this.translate(G,{...i,defaultValue:ON(k)?k[z]:void 0,joinArrays:!1,ns:d}):H[z]=this.translate(G,{...i,joinArrays:!1,ns:d}),H[z]===G&&(H[z]=U[z])}x=H}}else if(S&&ns(B)&&Array.isArray(x))x=x.join(B),x&&(x=this.extendTranslation(x,e,i,r));else{let L=!1,H=!1;!this.isValidLookup(x)&&w&&(L=!0,x=k),this.isValidLookup(x)||(H=!0,x=l);const z=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:x,G=w&&k!==x&&this.options.updateMissing;if(H||L||G){if(this.logger.log(G?"updateKey":"missingKey",m,u,l,G?k:x),o){const V=this.resolve(l,{...i,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let V=0;V<Y.length;V++)$.push(Y[V]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(i.lng||this.language):$.push(i.lng||this.language);const J=(V,X,Z)=>{var le;const se=w&&Z!==x?Z:z;this.options.missingKeyHandler?this.options.missingKeyHandler(V,u,X,se,G,i):(le=this.backendConnector)!=null&&le.saveMissing&&this.backendConnector.saveMissing(V,u,X,se,G,i),this.emit("missingKey",V,u,X,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?$.forEach(V=>{const X=this.pluralResolver.getSuffixes(V,i);j&&i[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(Z=>{J([V],l+Z,i[`defaultValue${Z}`]||k)})}):J($,l,k))}x=this.extendTranslation(x,e,i,y,r),H&&x===l&&this.options.appendNamespaceToMissingKey&&(x=`${u}${h}${l}`),(H||L)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${l}`:l,L?x:void 0,i))}return a?(y.res=x,y.usedParams=this.getUsedParamsDetails(i),y):x}extendTranslation(e,n,r,i,a){var d,u;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=ns(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(h){const y=e.match(this.interpolator.nestingRegexp);m=y&&y.length}let g=r.replace&&!ns(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||i.usedLng,r),h){const y=e.match(this.interpolator.nestingRegexp),x=y&&y.length;m<x&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>(a==null?void 0:a[0])===y[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):this.translate(...y,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=ns(o)?[o]:o;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=TF.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,o,l;return ns(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(d,n),h=u.key;i=h;let m=u.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const g=n.count!==void 0&&!ns(n.count),y=g&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(ns(n.context)||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(E=>{var T,B;this.isValidLookup(r)||(l=E,!HN[`${C[0]}-${E}`]&&((T=this.utils)!=null&&T.hasLoadedNamespace)&&!((B=this.utils)!=null&&B.hasLoadedNamespace(l))&&(HN[`${C[0]}-${E}`]=!0,this.logger.warn(`key "${i}" for languages "${C.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(S=>{var N;if(this.isValidLookup(r))return;o=S;const v=[h];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(v,h,S,E,n);else{let _;g&&(_=this.pluralResolver.getSuffix(S,n.count,n));const j=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(n.ordinal&&_.indexOf(k)===0&&v.push(h+_.replace(k,this.options.pluralSeparator)),v.push(h+_),y&&v.push(h+j)),x){const U=`${h}${this.options.contextSeparator||"_"}${n.context}`;v.push(U),g&&(n.ordinal&&_.indexOf(k)===0&&v.push(U+_.replace(k,this.options.pluralSeparator)),v.push(U+_),y&&v.push(U+j))}}let w;for(;w=v.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(S,E,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ns(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class $N{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Eo.create("languageUtils")}getScriptPartFromCode(e){if(e=hp(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=hp(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ns(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(r){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ns(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ns(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):ns(e)&&a(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const VN={zero:0,one:1,two:2,few:3,many:4,other:5},GN={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class aQ{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Eo.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=hp(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:i})}catch(l){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),GN;if(!e.match(/-|_/))return GN;const d=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(d,n)}return this.pluralRulesCache[a]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>VN[i]-VN[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const KN=(t,e,n,r=".",i=!0)=>{let a=X8(t,e,n);return!a&&i&&ns(n)&&(a=p_(t,n,r),a===void 0&&(a=p_(e,n,r))),a},rb=t=>t.replace(/\$/g,"$$$$");class oQ{constructor(e={}){var n;this.logger=Eo.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:d,formatSeparator:u,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:g,nestingPrefixEscaped:y,nestingSuffix:x,nestingSuffixEscaped:C,nestingOptionsSeparator:E,maxReplaces:T,alwaysFormat:B}=e.interpolation;this.escape=n!==void 0?n:J8,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?nA(a):o||"{{",this.suffix=l?nA(l):d||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=g?nA(g):y||nA("$t("),this.nestingSuffix=x?nA(x):C||nA(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=T||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var y;let a,o,l;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=x=>{if(x.indexOf(this.formatSeparator)<0){const B=KN(n,d,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(B,void 0,r,{...i,...n,interpolationkey:x}):B}const C=x.split(this.formatSeparator),E=C.shift().trim(),T=C.join(this.formatSeparator).trim();return this.format(KN(n,d,E,this.options.keySeparator,this.options.ignoreJSONStructure),T,r,{...i,...n,interpolationkey:E})};this.resetRegExp();const h=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=((y=i==null?void 0:i.interpolation)==null?void 0:y.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>rb(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?rb(this.escape(x)):rb(x)}].forEach(x=>{for(l=0;a=x.regex.exec(e);){const C=a[1].trim();if(o=u(C),o===void 0)if(typeof h=="function"){const T=h(e,a,i);o=ns(T)?T:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))o="";else if(m){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),o="";else!ns(o)&&!this.useRawValueToEscape&&(o=UN(o));const E=x.safeValue(o);if(e=e.replace(a[0],E),m?(x.regex.lastIndex+=o.length,x.regex.lastIndex-=a[0].length):x.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,o;const l=(d,u)=>{var C;const h=this.nestingOptionsSeparator;if(d.indexOf(h)<0)return d;const m=d.split(new RegExp(`${h}[ ]*{`));let g=`{${m[1]}`;d=m[0],g=this.interpolate(g,o);const y=g.match(/'/g),x=g.match(/"/g);(((C=y==null?void 0:y.length)!=null?C:0)%2===0&&!x||x.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,E),`${d}${h}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];o={...r},o=o.replace&&!ns(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(d=i[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),a=n(l.call(this,i[1].trim(),o),o),a&&i[0]===e&&!ns(a))return a;ns(a)||(a=UN(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((h,m)=>this.format(h,m,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const lQ=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...d]=o.split(":"),u=d.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();n[h]||(n[h]=u),u==="false"&&(n[h]=!1),u==="true"&&(n[h]=!0),isNaN(u)||(n[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},zN=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=r+JSON.stringify(a);let l=e[o];return l||(l=t(hp(r),i),e[o]=l),l(n)}},cQ=t=>(e,n,r)=>t(hp(n),r)(e);class dQ{constructor(e={}){this.logger=Eo.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?zN:cQ;this.formats={number:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return l=>o.format(l)}),currency:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>o.format(l)}),datetime:r((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return l=>o.format(l)}),relativetime:r((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return l=>o.format(l,a.range||"day")}),list:r((i,a)=>{const o=new Intl.ListFormat(i,{...a});return l=>o.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=zN(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,d)=>{var m;const{formatName:u,formatOptions:h}=lQ(d);if(this.formats[u]){let g=l;try{const y=((m=i==null?void 0:i.formatParams)==null?void 0:m[i.interpolationkey])||{},x=y.locale||y.lng||i.locale||i.lng||r;g=this.formats[u](l,x,{...h,...i,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const uQ=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class AQ extends Ny{constructor(e,n,r,i={}){var a,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Eo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},o={},l={},d={};return e.forEach(u=>{let h=!0;n.forEach(m=>{const g=`${u}|${m}`;!r.reload&&this.store.hasResourceBundle(u,m)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,h=!1,o[g]===void 0&&(o[g]=!0),a[g]===void 0&&(a[g]=!0),d[m]===void 0&&(d[m]=!0)))}),h||(l[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){const i=e.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),!n&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(d=>{q8(d.loaded,[a],o),uQ(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(u=>{l[u]||(l[u]={});const h=d.loaded[u];h.length&&h.forEach(m=>{l[u][m]===void 0&&(l[u][m]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;const l=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(u&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,o)},a);return}o(u,h)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const u=d(e,n);u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}return}return d(e,n,l)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ns(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ns(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,l),this.loaded(e,o,l)})}saveMissing(e,n,r,i,a,o={},l=()=>{}){var d,u,h,m,g;if((u=(d=this.services)==null?void 0:d.utils)!=null&&u.hasLoadedNamespace&&!((m=(h=this.services)==null?void 0:h.utils)!=null&&m.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((g=this.backend)!=null&&g.create){const y={...o,isUpdate:a},x=this.backend.create.bind(this.backend);if(x.length<6)try{let C;x.length===5?C=x(e,n,r,i,y):C=x(e,n,r,i),C&&typeof C.then=="function"?C.then(E=>l(null,E)).catch(l):l(null,C)}catch(C){l(C)}else x(e,n,r,i,l,y)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const WN=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ns(t[1])&&(e.defaultValue=t[1]),ns(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),qN=t=>{var e,n;return ns(t.ns)&&(t.ns=[t.ns]),ns(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ns(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Ff=()=>{},hQ=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class mp extends Ny{constructor(e={},n){if(super(),this.options=qN(e),this.services={},this.logger=Eo,this.modules={external:[]},hQ(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ns(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=WN();this.options={...r,...this.options,...qN(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Eo.init(i(this.modules.logger),this.options):Eo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=dQ;const h=new $N(this.options);this.store=new QN(this.options.resources,this.options);const m=this.services;m.logger=Eo,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new aQ(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=i(u),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new oQ(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new AQ(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new bx(this.services,this.options),this.translator.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ff),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const l=sm(),d=()=>{const u=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),n(h,m)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),l}loadResources(e,n=Ff){var a,o;let r=n;const i=ns(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],d=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>d(h)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,u=>d(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=sm();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Ff),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&TF.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=sm();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{var h,m;!e&&!l&&this.services.languageDetector&&(l=[]);const d=ns(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(ns(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(m=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||m.call(h,u)),this.loadResources(u,g=>{a(g,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(a,o,...l)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([a,o].concat(l)):d={...o},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let h;return d.keyPrefix&&Array.isArray(a)?h=a.map(m=>(typeof m=="function"&&(m=f_(m,{...this.options,...o})),`${d.keyPrefix}${u}${m}`)):(typeof a=="function"&&(a=f_(a,{...this.options,...o})),h=d.keyPrefix?`${d.keyPrefix}${u}${a}`:a),this.t(h,d)};return ns(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,d)=>{const u=this.services.backendConnector.state[`${l}|${d}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(a,e)))}loadNamespaces(e,n){const r=sm();return this.options.ns?(ns(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=sm();ns(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch(o){}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new $N(WN());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new mp(e,n)}cloneInstance(e={},n=Ff){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new mp(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const l=Object.keys(this.store.data).reduce((d,u)=>(d[u]={...this.store.data[u]},d[u]=Object.keys(d[u]).reduce((h,m)=>(h[m]={...d[u][m]},h),d[u]),d),{});a.store=new QN(l,i),a.services.resourceStore=a.store}return a.translator=new bx(a.services,i),a.translator.on("*",(l,...d)=>{a.emit(l,...d)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zn=mp.createInstance();Zn.createInstance=mp.createInstance;Zn.createInstance;Zn.dir;Zn.init;Zn.loadResources;Zn.reloadResources;Zn.use;Zn.changeLanguage;Zn.getFixedT;Zn.t;Zn.exists;Zn.setDefaultNamespace;Zn.hasLoadedNamespace;Zn.loadNamespaces;Zn.loadLanguages;const mQ=(t,e,n,r)=>{var a,o,l,d;const i=[n,{code:e,...r||{}}];if((o=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Yd(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(d=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&d.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},XN={},v_=(t,e,n,r)=>{Yd(n)&&XN[n]||(Yd(n)&&(XN[n]=new Date),mQ(t,e,n,r))},LF=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},x_=(t,e,n)=>{t.loadNamespaces(e,LF(t,n))},YN=(t,e,n,r)=>{if(Yd(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return x_(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,LF(t,r))},pQ=(t,e,n={})=>!e.languages||!e.languages.length?(v_(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Yd=t=>typeof t=="string",gQ=t=>typeof t=="object"&&t!==null,fQ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,vQ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},xQ=t=>vQ[t],yQ=t=>t.replace(fQ,xQ);let y_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:yQ};const wQ=(t={})=>{y_={...y_,...t}},bQ=()=>y_;let RF;const _Q=t=>{RF=t},jQ=()=>RF,CQ={type:"3rdParty",init(t){wQ(t.options.react),_Q(t)}},SQ=R.createContext();class BQ{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const NQ=(t,e)=>{const n=R.useRef();return R.useEffect(()=>{n.current=t},[t,e]),n.current},UF=(t,e,n,r)=>t.getFixedT(e,n,r),kQ=(t,e,n,r)=>R.useCallback(UF(t,e,n,r),[t,e,n,r]),Gs=(t,e={})=>{var v,w,N,_;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(SQ)||{},a=n||r||jQ();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new BQ),!a){v_(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(U,I)=>Yd(I)?I:gQ(I)&&Yd(I.defaultValue)?I.defaultValue:Array.isArray(U)?U[U.length-1]:U,k=[j,{},!1];return k.t=j,k.i18n={},k.ready=!1,k}(v=a.options.react)!=null&&v.wait&&v_(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...bQ(),...a.options.react,...e},{useSuspense:l,keyPrefix:d}=o;let u=i||((w=a.options)==null?void 0:w.defaultNS);u=Yd(u)?[u]:u||["translation"],(_=(N=a.reportNamespaces).addUsedNamespaces)==null||_.call(N,u);const h=(a.isInitialized||a.initializedStoreOnce)&&u.every(j=>pQ(j,a,o)),m=kQ(a,e.lng||null,o.nsMode==="fallback"?u:u[0],d),g=()=>m,y=()=>UF(a,e.lng||null,o.nsMode==="fallback"?u:u[0],d),[x,C]=R.useState(g);let E=u.join();e.lng&&(E=`${e.lng}${E}`);const T=NQ(E),B=R.useRef(!0);R.useEffect(()=>{const{bindI18n:j,bindI18nStore:k}=o;B.current=!0,!h&&!l&&(e.lng?YN(a,e.lng,u,()=>{B.current&&C(y)}):x_(a,u,()=>{B.current&&C(y)})),h&&T&&T!==E&&B.current&&C(y);const U=()=>{B.current&&C(y)};return j&&(a==null||a.on(j,U)),k&&(a==null||a.store.on(k,U)),()=>{B.current=!1,a&&j&&(j==null||j.split(" ").forEach(I=>a.off(I,U))),k&&a&&k.split(" ").forEach(I=>a.store.off(I,U))}},[a,E]),R.useEffect(()=>{B.current&&h&&C(g)},[a,d,h]);const S=[x,a,h];if(S.t=x,S.i18n=a,S.ready=h,h||!h&&!l)return S;throw new Promise(j=>{e.lng?YN(a,e.lng,u,()=>j()):x_(a,u,()=>j())})},IQ={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",help:"Help",tools:"Tools",community:"Community",creatorHub:"Creator Hub",settings:"Settings",discover:"Discover",guildHub:"Guild Hub",admin:"Admin",playground:"Playground",guideHub:"Guide Hub",scans:"Scans",overview:"Overview",guildPlanner:"Guild Planner",fusionPlanner:"Fusion Planner",guildCompare:"Guild comparison",waitlist:"Waitlist",sfMagazine:"SFMagazine",historyBook:"History Book",errorLog:"Error log",feedback:"Feedback",users:"Users",profile:"Profile",account:"Account",appearance:"Appearance",listViews:"List Views",rescanWidget:"Rescan Widget",uploadSimulator:"Upload Simulator",hudGameButtons:"HUD  Game Buttons"},EQ={title:"Home",subtitle:"Welcome back",historybook:{title:"Historybook",credit:"Historybook - created by Resist 2 Exist & DonMuErte",logoAlt:"Historybook logo",coverAlt:"Historybook cover",open:"Open Historybook"},guidehub:{title:"GuideHub",subtitle:"Guides & calculators",logoAlt:"GuideHub logo",previewAlt:"GuideHub preview",open:"Open GuideHub"},sftools:{title:"SFTools",subtitle:"Tools & resources",previewAlt:"SFTools preview"},taverndiscord:{title:"Tavern Discord",subtitle:"Community Discord",previewAlt:"Tavern Discord preview"},discordBanner:{title:"JOIN OUR DISCORD",subtitle:"JOIN HERE",linkLabel:"Invite",linkValue:"discord.gg/2FqSvXC3",aria:"Open the SFDataHub Discord invite",logoAlt:"Discord logo"},news:{title:"Community news",empty:"No news yet.",emptyChannel:"No recent news in this channel.",openOnDiscord:"Open on Discord",prev:"Previous channel",next:"Next channel"},youtube:{title:"YouTube",prev:"Previous video",next:"Next video",empty:"No videos"},live:{title:"Live now",none:"Nobody is live right now.",open_on_twitch:"Open on Twitch",badge:"LIVE",viewers:"{{viewers}} viewers",prev:"Previous stream",next:"Next stream"},schedule:{open:"Show streaming schedule",title:"Streaming schedule",close:"Close",platform:"Platform",platformAll:"All",platformTwitch:"Twitch",platformYouTube:"YouTube",search:"Search",searchPlaceholder:"Streamer / Title",today:"Today only",columns:{weekday:"Weekday",start:"Start (UTC)",end:"End (UTC)",timezone:"Timezone",platform:"Platform",channel:"Channel URL",streamer:"Streamer",title:"Title"},empty:"No schedule yet.",link:"Link"}},TQ={arenaManager:{links:{runeBonuses:"Rune Bonuses",buildOrder:"Build Order"},amRuneBonuses:{description:"Complete overview of Arena Manager runes and their bonus values. Grouped by tier; max, achievements, and breakpoints are highlighted.",searchPlaceholder:"Search (e.g., thousand, E34, x60)...",table:{tier:"Tier",amount:"Amount",goldBonus:"Gold Bonus",xpBonus:"XP Bonus",hpBonus:"HP Bonus",totalResistance:"Total Resistance",singleResistance:"Single Resistance",elementalDamage:"Elemental Damage",improvedItemQuality:"Improved Item Quality",chancesOfEpics:"Chances of Epics",tags:"Tags"},badges:{max:"MAX",achievement:"Achievement",x2:"x2",x12:"x12",x60:"x60",x8:"x8"},achievements:{capitalist:"Capitalist Achievement",stinkingrich:"Stinking Rich Achievement",runemaster:"Rune Master"},tiers:{thousand:"Thousand",million:"Million",billion:"Billion",trillion:"Trillion",quadrillion:"Quadrillion",quintillion:"Quintillion",sextillion:"Sextillion",septillion:"Septillion",octillion:"Octillion",nonillion:"Nonillion",decillion:"Decillion",undecillion:"Undecillion",duodecillion:"Duodecillion",tredecillion:"Tredecillion",quattuordecillion:"Quattuordecillion",quindecillion:"Quindecillion",sexdecillion:"Sexdecillion",septendecillion:"Septendecillion",octodecillion:"Octodecillion",novendecillion:"Novendecillion",vigintillion:"Vigintillion",unvigintillion:"Unvigintillion",duovigintillion:"Duovigintillion",trevigintillion:"Trevigintillion",quattuorvigintillion:"Quattuorvigintillion",quinquavigintillion:"Quinquavigintillion",sesvigintillion:"Sesvigintillion",septemvigintillion:"Septemvigintillion",octovigintillion:"Octovigintillion",novemvigintillion:"Novemvigintillion",trigintillion:"Trigintillion",untrigintillion:"Untrigintillion",duotrigintillion:"Duotrigintillion",trestrigintillion:"Trestrigintillion",quattuortrigintillion:"Quattuortrigintillion",quinquatrigintillion:"Quinquatrigintillion",sextrigintillion:"Sextrigintillion",septentrigintillion:"Septentrigintillion",octotrigintillion:"Octotrigintillion",noventrigintillion:"Noventrigintillion",quadragintillion:"Quadragintillion",unquadragintillion:"Unquadragintillion",duoquadragintillion:"Duoquadragintillion",trequadragintillion:"Trequadragintillion",quattuorquadragintillion:"Quattuorquadragintillion",quinquadragintillion:"Quinquadragintillion",sexquadragintillion:"Sexquadragintillion",septenquadragintillion:"Septenquadragintillion",octoquadragintillion:"Octoquadragintillion",novenquadragintillion:"Novenquadragintillion"}}},calculators:{fortress:{title:"Fortress - {{building}}",inputs:{buildingSelectLabel:"Select building",l2Label:"Laborers Quarter"},table:{level:"Level",wood:"Wood",stone:"Stone",buildTime:"Build Time",buildTimeL2:"Build Time",skip:"Skip (Mushr.)"},hints:{l2Effect:"Note: L2 applies to all buildings (0-15 -> 0-75%). Skip is based on the L2 time (ceil(ceil(sec/60)/10))."},buildings:{woodcutter:"Woodcutter",treasury:"Treasury",smithy:"Smithy",quarry:"Quarry",magetower:"Mage Tower",laborersquarter:"Laborers Quarters",gemmine:"Gem Mine",fortress:"Fortress",fortifications:"Fortification",barracks:"Barracks",archery:"Archery",academy:"Academy"}},underworld:{title:"Underworld - {{building}}",inputs:{buildingSelectLabel:"Select building",l2Label:"Laborers Quarter"},table:{level:"Level",soul:"Soul",gold:"Gold",buildTime:"Build Time",buildTimeL2:"Build Time",skip:"Skip (Mushr.)"},empty:"No data for this building yet.",hints:{l2Effect:"Note: L2 applies to all buildings (1-15 -> up to 75%). Skip is based on the L2 time (ceil(ceil(sec/60)/10))."},buildings:{uwgate:"Underworld Gate",trollblock:"Troll Block",torturechamber:"Torture Chamber",soulextractor:"Soul Extractor",keeper:"Keeper",hearthofdarkn:"Hearth of Darkness",goldpit:"Gold Pit",goblinpit:"Goblin Pit",gladiator:"Gladiator",adventuromatic:"Adventuromatic"}}}},FQ={tiles:{overview:{title:"Server Overview",subtitle:"Fusion tree & active servers"}},overview:{pageTitle:"Server Overview",expandAll:"Expand all",collapseAll:"Collapse all"}},LQ={tabs:{gamified:"Gamified",gamified2:"Gamified 2",gamified3:"Gamified 3"}},RQ={navigation:"Navigation",categories:"Categories",login:"Login",logout:"Logout",pin:"Pin",unpin:"Unpin",languagePreference:"Sidebar language preference",languageSwitchEn:"Switch language to English",languageSwitchDe:"Switch language to German",connectedCharacters:{title:"Connected characters",empty:"No characters linked yet. Link a character in your account to see it here.",loginPrompt:"Sign in to see your linked characters.",ctaGuest:"Open start guide",ctaAuthed:"Open linked characters guide",chip:{server:"Server",class:"Class"}}},UQ={settings:{title:"Settings",subtitle:"Configure your personal preferences.",loading:"Loading settings...",error:"Could not load settings.",retry:"Retry",language:{label:"Preferred language"},defaultSection:{label:"Default section"},compactTables:{label:"Use compact table layout"},experimental:{label:"Enable experimental features"},save:"Save settings",saved:"Settings saved.",noChanges:"No changes to save.",saving:"Saving...",saveError:"Could not save settings. Please try again."},tools:{title:"Tools settings",subtitle:"Configure how tools behave for your account.",loading:"Loading tools settings...",loadError:"Could not load tools settings.",defaultSet:{label:"Default set ID",placeholder:"Enter a default set ID"},showIntro:{label:"Show tools intro"},experimental:{label:"Enable experimental tools"},save:{cta:"Save settings",saving:"Saving...",success:"Settings saved.",noChanges:"No changes to save.",error:"Could not save settings. Please try again."}},connectedCharacters:{title:"Connected characters",subtitle:"These game characters are linked to your SFDataHub account.",loading:"Refreshing characters...",empty:{title:"No characters linked yet",description:'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.',cta:"Click to learn how linking works"},actions:{refresh:"Refresh",refreshing:"Refreshing...",unlink:"Disconnect character"},confirmation:{title:"Are you sure you want to unlink this character?",cancel:"Cancel",confirm:"Yes, unlink",confirming:"Unlinking..."},errors:{serviceUnavailable:"Auth service is not configured for unlinking.",unlink:"Could not unlink character."},columns:{character:"Character",server:"Server",playerId:"Player ID",class:"Class",level:"Level",guild:"Guild",lastVerified:"Last linked",source:"Source",actions:"Actions"},method:{discord:"Discord bot"},help:{title:"How does linking work?",show:"Show",hide:"Hide",steps:{link:'Link a character via the Discord bot using the "!connect char" command.',verify:"We match the character to your latest verified scan; keep your game data up to date.",refresh:"After linking, click Refresh here to sync the latest characters from the auth service.",unlink:"You can unlink any character in the Actions column; the source column shows how it was linked."},footnote:"Tip: Click Refresh after linking or unlinking to update this table."}}},PQ={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Placeholder for future gem calculations.",dungeonPause:"Dummy view for dungeon pause tools.",xpDungeon:"Slide for XP dungeon planning."},sets:{defaultName:"New Set",exportActive:"Export active set",import:"Import set",importErrorInvalid:"This file does not contain a valid tools set.",importErrorMaxReached:"You already use the maximum of 3 sets. Delete one before importing a new one.",delete:"Delete set",deleteConfirmTitle:"Delete this set?",deleteConfirmText:"This will remove the set from your browser and free up a slot. Export it first if you want a backup.",deleteLastForbidden:"You need at least one set. Create a new one before deleting this.",rename:"Rename set",renameTitle:"Rename set",renameLabel:"Set name",renamePlaceholder:"Enter a name for this set",renameSave:"Save",renameCancel:"Cancel",renameErrorEmpty:"Please enter a name."},sync:{buttonSave:"Save changes to account",saving:"Saving",error:"Could not save your changes. Please try again.",statusUnsynced:"Unsynced changes",statusSynced:"All changes synced",statusNever:"Not synced yet",lastSyncLabel:"Last sync",noChanges:"No changes to save",cooldownLabel:"Next sync in {{time}}"}},DQ={quickAccess:"Quick access",upload:"Upload scan",officialGameSite:"Visit the official game website",search:"Search /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},MQ={errors:{noSnapshot:"No snapshot yet for this server."}},QQ={compareMonth:"Progress since",compareOff:"Off",compareMissingSnapshot:"No baseline data for {{key}}.",deltaNew:"NEW",exportDialog:{title:"Export PNG",amount:"Amount",selection:"Selection",currentView:"Current view",guilds:"Guilds",guildsSummary:"Guilds: {{list}}",guildsPlaceholder:"Guilds: none selected",guildsEmpty:"No guilds available",range:{title:"Rank range",enable:"Use rank range",from:"From",to:"To",max:"Max: {{count}}",oneBased:"Ranks are 1-based"},cancel:"Cancel",export:"Export",exporting:"Exporting..."},filters:{guilds:{label:"Guilds",placeholder:"All guilds",empty:"No guilds in snapshot.",clear:"Clear",selected:"{{count}} selected"}}},HQ={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},OQ={title:"Help & Overview",subtitle:"Quick guide to SFDataHub",hero:{eyebrow:"Start guide",heading:"Welcome to SFDataHub",lead:"Learn what you can do, how data freshness works, and where to find settings or legal info.",freshnessLabel:"Data freshness",freshnessBody:"Data is refreshed regularly. You will see the exact scan time directly inside top lists and profiles."},dataFreshness:{title:"How up to date is the data?",body:`SFDataHub relies on community scans. Some servers (for example many EU servers) are scanned roughly once per month by us and a few helpers  depending on our free time. Other servers (for example fusion servers) are scanned by other community projects and may have longer gaps between scans.

This means there can be several weeks or even months between two scans. You can always see the exact data age from the "Last scan: " hint in top lists and profiles.

If you want your own profile to be more up to date, you can link your SFDataHub account and upload your own scans. That way you keep your profile fresh and help the overall database stay more current for the whole community.`},sections:{intro:{title:"What is SFDataHub?",body1:"SFDataHub is a community project around Shakes & Fidget.",body2:"You can analyse scan data, browse top lists, and open detailed player and guild profiles. The goal: a quick overview of progress, rankings, and development  without any official connection to Playa Games."},actions:{title:"What can I do on SFDataHub?",items:{toplists:"Browse top lists: compare players and guilds by level or other metrics.",profiles:"Open profiles: view detailed player and guild profiles with extra information.",guides:"Read guides: use guides and tips to plan your progress.",tools:"Use tools & calculators: run interactive tools such as a dungeon XP calculator."}},freshness:{title:"How up to date is the data?",body1:"SFDataHub is based on scans uploaded or linked by the community.",body2:"Next to many values youll find the time of the last scan (for example Last scan: 2025-12-01).",body3:"Top lists and profiles are updated regularly. If an entry hasnt been scanned for a while, the displayed values might differ from the current state in the game."},login:{title:"Login & Settings",body1:"You can log in with your Discord account to unlock additional features.",body2:"After logging in youll see your profile menu with avatar and name in the header.",body3:"In the settings you can adjust basic options for your SFDataHub account.",body4:"Settings are only relevant for logged-in users  without an account theres nothing to configure."},legal:{title:"Help, feedback & legal information",body1:"If you notice bugs, strange data, or have ideas for new features, were happy to hear from you.",body2:"You can find contact options and more information on the contact or imprint page.",body3:"For legal details please use the linked pages:",items:{tos:"Terms of Service (ToS)",privacy:"Privacy Policy",imprint:"Imprint / Contact"}}}},$Q={quota:{unlimited:"No limit"}},VQ={placeholder:"Search players",inputLabel:"Search players, guilds and servers",loading:"Loading",recents:"Recent searches",minCharsHint:"Type at least 3 characters",noResults:"No results",players:"Players",guilds:"Guilds",servers:"Servers",active:"Active",inactive:"Inactive",guildMembers:"{{count}} members",guildMembersUnknown:"Members ?",moreResults:"More results press Enter",recentLabel:"Recent"},GQ={about:{title:"About SFDataHub",body:`SFDataHub is a non-commercial fan and community project around Shakes & Fidget. It has no official connection to Playa Games GmbH or the operators of Shakes & Fidget.

All mentioned brands, logos and graphics are the property of their respective owners and are used for identification purposes only.`},shortDisclaimer:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners.",copyright:" 2025 SFDataHub  community project around Shakes & Fidget."},KQ={gem:{title:"Gem Calculator",inputs:{charLevel:{label:"Char Level",placeholder:"e.g., 360"},mineLevel:{label:"Mine Level",placeholder:"e.g., 10"},guildHok:{label:"Guild HoK",placeholder:"e.g., 840"}},gems:{normal:{label:"Normal",alt:"Normal Gem"},black:{label:"Black",alt:"Black Gem"},legendary:{label:"Legendary",alt:"Legendary Gem"}},hint:{prefix:"The values are approximations and represent the ",emphasis:"max possible",suffix:" you can find. Actual results may vary slightly."}},calculators:{fortress:{title:"Fortress - {{building}}",inputs:{buildingSelectLabel:"Select building",l2Label:"L2 (Laborers)"},table:{level:"Level",wood:"Wood",stone:"Stone",buildTime:"Build Time",buildTimeL2:"Build Time (L2)",skip:"Skip (Mushr.)"},hints:{l2Effect:"Note: L2 applies to all buildings (0-15 -> 0-75%). Skip is based on the L2 time (ceil(ceil(sec/60)/10))."},buildings:{woodcutter:"Woodcutter",treasury:"Treasury",smithy:"Smithy",quarry:"Quarry",magetower:"Mage Tower",laborersquarter:"Laborers Quarters",gemmine:"Gem Mine",fortress:"Fortress",fortifications:"Fortification",barracks:"Barracks",archery:"Archery",academy:"Academy"}}}},zQ={links:{runeBonuses:"Rune Bonuses",buildOrder:"Build Order"},buildOrder:{title:"Arena Manager  Build Order",updated:"Last updated: {{date}}",body1:"Build your Attractions according to the picture below for maximum efficiency.",body2:"Upgrading to full Platinum on all Attractions will cost you {{mushrooms}}.",imageAlt:"Arena Manager build order",credit:"Credit to {{discord}}."}},WQ={status:{label:"Status",up_to_date:"Up to date",work_in_progress:"Work in progress",outdated:"Outdated"}},qQ={v2:{searchPlaceholder:"Search guides",searchLabel:"Search guides",navHomeLabel:"Home",emptyStateTitle:"Select a guide",emptyStateBody:"Choose an entry from the guide navigation.",loading:"Loading guide...",missingTitle:"Guide not available yet",missingBody:"This guide does not have markdown content yet.",createdLabel:"Created",updatedLabel:"Last edited",sectionsLabel:"Sections",noSections:"No sections",galleryLabel:"Gallery",closeLabel:"Close"}},XQ={nav:IQ,home:EQ,guidehub:TQ,servers:FQ,playground:LQ,sidebar:RQ,account:UQ,tools:PQ,topbar:DQ,toplistsPage:MQ,toplists:QQ,profile:HQ,help:OQ,uploadCenter:$Q,search:VQ,footer:GQ,calculators:KQ,arenaManager:zQ,guide:WQ,guides:qQ},YQ={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",help:"Hilfe",tools:"Tools",community:"Community",creatorHub:"Creator Hub",settings:"Einstellungen",discover:"Discover",guildHub:"Guild Hub",admin:"Admin",playground:"Playground",guideHub:"Guide Hub",scans:"Scans",overview:"Uebersicht",guildPlanner:"Guild Planner",fusionPlanner:"Fusion Planner",guildCompare:"Gildenvergleich",waitlist:"Warteliste",sfMagazine:"SFMagazine",historyBook:"History Book",errorLog:"Fehlerprotokoll",feedback:"Feedback",users:"Nutzer",profile:"Profil",account:"Account",appearance:"Darstellung",listViews:"Listenansichten",rescanWidget:"Rescan-Widget",uploadSimulator:"Upload-Simulator",hudGameButtons:"HUD  Game Buttons"},JQ={title:"Start",subtitle:"Willkommen zurueck",historybook:{title:"Historybook",credit:"Historybook - erstellt von Resist 2 Exist & DonMuErte",logoAlt:"Historybook Logo",coverAlt:"Historybook Cover",open:"Historybook oeffnen"},guidehub:{title:"GuideHub",subtitle:"Guides & Rechner",logoAlt:"GuideHub Logo",previewAlt:"GuideHub Vorschau",open:"GuideHub oeffnen"},sftools:{title:"SFTools",subtitle:"Tools & Ressourcen",previewAlt:"SFTools Vorschau"},taverndiscord:{title:"Tavern Discord",subtitle:"Community-Discord",previewAlt:"Tavern Discord Vorschau"},discordBanner:{title:"JOIN OUR DISCORD",subtitle:"HIER BEITRETEN",linkLabel:"Invite",linkValue:"discord.gg/2FqSvXC3",aria:"SFDataHub Discord-Invite oeffnen",logoAlt:"Discord-Logo"},news:{title:"Community-News",empty:"Noch keine Neuigkeiten.",emptyChannel:"Keine aktuellen News in diesem Kanal.",openOnDiscord:"Auf Discord oeffnen",prev:"Vorheriger Kanal",next:"Naechster Kanal"},youtube:{title:"YouTube",prev:"Vorheriges Video",next:"Naechstes Video",empty:"Keine Videos"},live:{title:"Jetzt live",none:"Niemand ist gerade live.",open_on_twitch:"Auf Twitch oeffnen",badge:"LIVE",viewers:"{{viewers}} Zuschauer",prev:"Vorheriger Stream",next:"Naechster Stream"},schedule:{open:"Streaming-Plan anzeigen",title:"Streaming-Plan",close:"Schliessen",platform:"Plattform",platformAll:"Alle",platformTwitch:"Twitch",platformYouTube:"YouTube",search:"Suche",searchPlaceholder:"Streamer / Titel",today:"Nur heute",columns:{weekday:"Wochentag",start:"Start (UTC)",end:"Ende (UTC)",timezone:"Zeitzone",platform:"Plattform",channel:"Kanal-URL",streamer:"Streamer",title:"Titel"},empty:"Noch kein Streaming-Plan.",link:"Link"}},ZQ={arenaManager:{links:{runeBonuses:"Runen-Boni",buildOrder:"Build Order"},amRuneBonuses:{description:"Komplette Uebersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Errungenschaften und Breakpoints sind markiert.",searchPlaceholder:"Suche (z. B. thousand, E34, x60)...",table:{tier:"Tier",amount:"Menge",goldBonus:"Gold Bonus",xpBonus:"XP Bonus",hpBonus:"HP Bonus",totalResistance:"Gesamtwiderstand",singleResistance:"Einzelwiderstand",elementalDamage:"Elementarschaden",improvedItemQuality:"Verbesserte Item-Qualitaet",chancesOfEpics:"Chance auf Epics",tags:"Tags"},badges:{max:"MAX",achievement:"Errungenschaft",x2:"x2",x12:"x12",x60:"x60",x8:"x8"},achievements:{capitalist:"Kapitalist Errungenschaft",stinkingrich:"Stinkreich Errungenschaft",runemaster:"Runenmeister"},tiers:{thousand:"Thousand",million:"Million",billion:"Billion",trillion:"Trillion",quadrillion:"Quadrillion",quintillion:"Quintillion",sextillion:"Sextillion",septillion:"Septillion",octillion:"Octillion",nonillion:"Nonillion",decillion:"Decillion",undecillion:"Undecillion",duodecillion:"Duodecillion",tredecillion:"Tredecillion",quattuordecillion:"Quattuordecillion",quindecillion:"Quindecillion",sexdecillion:"Sexdecillion",septendecillion:"Septendecillion",octodecillion:"Octodecillion",novendecillion:"Novendecillion",vigintillion:"Vigintillion",unvigintillion:"Unvigintillion",duovigintillion:"Duovigintillion",trevigintillion:"Trevigintillion",quattuorvigintillion:"Quattuorvigintillion",quinquavigintillion:"Quinquavigintillion",sesvigintillion:"Sesvigintillion",septemvigintillion:"Septemvigintillion",octovigintillion:"Octovigintillion",novemvigintillion:"Novemvigintillion",trigintillion:"Trigintillion",untrigintillion:"Untrigintillion",duotrigintillion:"Duotrigintillion",trestrigintillion:"Trestrigintillion",quattuortrigintillion:"Quattuortrigintillion",quinquatrigintillion:"Quinquatrigintillion",sextrigintillion:"Sextrigintillion",septentrigintillion:"Septentrigintillion",octotrigintillion:"Octotrigintillion",noventrigintillion:"Noventrigintillion",quadragintillion:"Quadragintillion",unquadragintillion:"Unquadragintillion",duoquadragintillion:"Duoquadragintillion",trequadragintillion:"Trequadragintillion",quattuorquadragintillion:"Quattuorquadragintillion",quinquadragintillion:"Quinquadragintillion",sexquadragintillion:"Sexquadragintillion",septenquadragintillion:"Septenquadragintillion",octoquadragintillion:"Octoquadragintillion",novenquadragintillion:"Novenquadragintillion"}}},calculators:{fortress:{title:"Festung - {{building}}",inputs:{buildingSelectLabel:"Gebaeude auswaehlen",l2Label:"Laborers Quarter"},table:{level:"Level",wood:"Holz",stone:"Stein",buildTime:"Bauzeit",buildTimeL2:"Bauzeit",skip:"Skip (Pilze)"},hints:{l2Effect:"Hinweis: L2 gilt fuer alle Gebaeude (0-15 -> 0-75%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."},buildings:{woodcutter:"Holzfaeller",treasury:"Schatzkammer",smithy:"Schmiede",quarry:"Steinbruch",magetower:"Magierturm",laborersquarter:"Arbeiterquartier",gemmine:"Edelsteinmine",fortress:"Festung",fortifications:"Befestigung",barracks:"Kaserne",archery:"Bogenschuetzen",academy:"Akademie"}},underworld:{title:"Unterwelt - {{building}}",inputs:{buildingSelectLabel:"Gebaeude auswaehlen",l2Label:"Laborers Quarter"},table:{level:"Level",soul:"Seelen",gold:"Gold",buildTime:"Bauzeit",buildTimeL2:"Bauzeit",skip:"Skip (Pilze)"},empty:"Noch keine Daten fuer dieses Gebaeude.",hints:{l2Effect:"Hinweis: L2 gilt fuer alle Gebaeude (1-15 -> bis zu 75%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."},buildings:{uwgate:"Unterwelt-Tor",trollblock:"Trollblock",torturechamber:"Folterkammer",soulextractor:"Seelenextraktor",keeper:"Waechter",hearthofdarkn:"Herd der Finsternis",goldpit:"Goldgrube",goblinpit:"Goblin-Grube",gladiator:"Gladiator",adventuromatic:"Abenteuer-o-mat"}}}},e7={tiles:{overview:{title:"Server-Uebersicht",subtitle:"Fusion-Tree & aktive Server"}},overview:{pageTitle:"Server-Uebersicht",expandAll:"Alle aufklappen",collapseAll:"Alle einklappen"}},t7={tabs:{gamified:"Gamifiziert",gamified2:"Gamified 2",gamified3:"Gamified 3"}},s7={navigation:"Navigation",categories:"Kategorien",login:"Login",logout:"Logout",pin:"Pin",unpin:"Unpin",languagePreference:"Sidebar-Sprache",languageSwitchEn:"Sprache auf Englisch wechseln",languageSwitchDe:"Sprache auf Deutsch wechseln",connectedCharacters:{title:"Verknuepfte Charaktere",empty:"Noch keine Charaktere verknuepft. Verknuepfe einen Charakter in deinem Account, damit er hier erscheint.",loginPrompt:"Bitte einloggen, um verknuepfte Charaktere zu sehen.",ctaGuest:"Start-Guide oeffnen",ctaAuthed:"Zum Account-Tab wechseln",chip:{server:"Server",class:"Klasse"}}},n7={settings:{title:"Einstellungen",subtitle:"Passe deine persoenlichen Praeferenzen an.",loading:"Einstellungen werden geladen...",error:"Einstellungen konnten nicht geladen werden.",retry:"Erneut versuchen",language:{label:"Bevorzugte Sprache"},defaultSection:{label:"Standardbereich"},compactTables:{label:"Kompaktes Tabellen-Layout nutzen"},experimental:{label:"Experimentelle Features aktivieren"},save:"Einstellungen speichern",saved:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",saving:"Speichern...",saveError:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."},tools:{title:"Tool-Einstellungen",subtitle:"Konfiguriere, wie die Tools fuer deinen Account arbeiten.",loading:"Tool-Einstellungen werden geladen...",loadError:"Tool-Einstellungen konnten nicht geladen werden.",defaultSet:{label:"Standard-Set-ID",placeholder:"Standard-Set-ID eingeben"},showIntro:{label:"Tools-Intro anzeigen"},experimental:{label:"Experimentelle Tools aktivieren"},save:{cta:"Einstellungen speichern",saving:"Speichern...",success:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",error:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."}},connectedCharacters:{title:"Verknuepfte Charaktere",subtitle:"Diese Spielcharaktere sind mit deinem SFDataHub-Account verknuepft.",loading:"Charaktere werden aktualisiert...",empty:{title:"Noch keine Charaktere verknuepft",description:'Nutze den Befehl "!connect char" im Discord-Bot, verknuepfe deinen Account und klicke dann hier auf "Refresh".',cta:"Klicke hier, um zu erfahren, wie das Verknuepfen funktioniert"},actions:{refresh:"Refresh",refreshing:"Aktualisiere...",unlink:"Charakter trennen"},confirmation:{title:"Moechtest du diesen Charakter wirklich trennen?",cancel:"Abbrechen",confirm:"Ja, trennen",confirming:"Trenne..."},errors:{serviceUnavailable:"Auth-Service ist fuer das Trennen nicht konfiguriert.",unlink:"Charakter konnte nicht getrennt werden."},columns:{character:"Charakter",server:"Server",playerId:"Player ID",class:"Klasse",level:"Level",guild:"Gilde",lastVerified:"Zuletzt verknuepft",source:"Quelle",actions:"Aktionen"},method:{discord:"Discord-Bot"},help:{title:"Wie funktioniert das Verknuepfen?",show:"Anzeigen",hide:"Ausblenden",steps:{link:'Verknuepfe einen Charakter ueber den Discord-Bot mit dem Befehl "!connect char".',verify:"Wir gleichen den Charakter mit deinem letzten verifizierten Scan ab; halte deine Daten aktuell.",refresh:"Klicke nach dem Verknuepfen auf Refresh, damit die Liste aktualisiert wird.",unlink:"Du kannst jeden Charakter ueber die Spalte Aktionen trennen; die Quelle zeigt, wie er verknuepft wurde."},footnote:"Tipp: Nach dem Verknuepfen oder Trennen immer kurz auf Refresh klicken."}}},r7={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Platzhalter fuer kuenftige Gem-Berechnungen.",dungeonPause:"Dummy-Ansicht fuer Dungeon-Pausen-Tools.",xpDungeon:"Slide fuer XP-Run-Planung."},sets:{defaultName:"Neues Set",exportActive:"Aktives Set exportieren",import:"Set importieren",importErrorInvalid:"Diese Datei enthlt kein gltiges Tools-Set.",importErrorMaxReached:"Du nutzt bereits das Maximum von 3 Sets. Lsche zuerst ein Set, bevor du ein neues importierst.",delete:"Set l?schen",deleteConfirmTitle:"Dieses Set l?schen?",deleteConfirmText:"Damit wird das Set in diesem Browser entfernt und ein Slot freigegeben. Exportiere es zuerst, wenn du ein Backup behalten m?chtest.",deleteLastForbidden:"Du ben?tigst mindestens ein Set. Erstelle zuerst ein neues, bevor du dieses l?schst.",rename:"Set umbenennen",renameTitle:"Set umbenennen",renameLabel:"Set-Name",renamePlaceholder:"Name f?r dieses Set eingeben",renameSave:"Speichern",renameCancel:"Abbrechen",renameErrorEmpty:"Bitte einen Namen eingeben."},sync:{buttonSave:"nderungen im Account speichern",saving:"Speichere ",error:"Deine nderungen konnten nicht gespeichert werden. Bitte versuche es erneut.",statusUnsynced:"Nicht gespeicherte nderungen",statusSynced:"Alle nderungen synchronisiert",statusNever:"Noch nie synchronisiert",lastSyncLabel:"Letzte Synchronisierung",noChanges:"Keine nderungen zum Speichern",cooldownLabel:"Nchster Sync in {{time}}"}},i7={quickAccess:"Schnellzugriff",upload:"Scan hochladen",officialGameSite:"Besuche die offizielle Spielseite",search:"Suchen /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},a7={errors:{noSnapshot:"Noch kein Snapshot fuer diesen Server."}},o7={compareMonth:"Fortschritt seit",compareOff:"Aus",compareMissingSnapshot:"Keine Basisdaten fr {{key}}.",deltaNew:"NEU",exportDialog:{title:"PNG exportieren",amount:"Menge",selection:"Auswahl",currentView:"Aktuelle Ansicht",guilds:"Gilden",guildsSummary:"Gilden: {{list}}",guildsPlaceholder:"Gilden: keine ausgewaehlt",guildsEmpty:"Keine Gilden verfuegbar",range:{title:"Rangbereich",enable:"Rangbereich verwenden",from:"Von",to:"Bis",max:"Max: {{count}}",oneBased:"Rangwerte sind 1-basiert"},cancel:"Abbrechen",export:"Exportieren",exporting:"Exportiere..."},filters:{guilds:{label:"Gilden",placeholder:"Alle Gilden",empty:"Keine Gilden im Snapshot.",clear:"Leeren",selected:"{{count}} ausgewaehlt"}}},l7={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},c7={title:"Hilfe & bersicht",subtitle:"Kurzer Einstieg in den SFDataHub",hero:{eyebrow:"Start-Guide",heading:"Willkommen im SFDataHub",lead:"Erfahre, was du tun kannst, wie aktuell die Daten sind und wo du Einstellungen oder rechtliche Infos findest.",freshnessLabel:"Datenaktualitt",freshnessBody:"Daten werden regelmig aktualisiert. Den genauen Scan-Zeitpunkt siehst du direkt in Toplisten und Profilen."},dataFreshness:{title:"Wie aktuell sind die Daten?",body:`SFDataHub lebt von Community-Scans. Ein Teil der Server (z. B. die europischen Server) wird von uns und ein paar Helfern ungefhr einmal im Monat gescannt  je nachdem, wie wir Zeit haben. Andere Server (z. B. Fusion-Server) werden von anderen Community-Projekten in greren Abstnden gescannt.

Dadurch knnen zwischen zwei Scans auch mehrere Wochen oder sogar Monate liegen. Den genauen Stand siehst du immer am Hinweis Last scan:  in Toplisten und Profilen.

Wenn du dein Profil besonders aktuell halten mchtest, kannst du dich mit deinem SFDataHub-Account verbinden und eigene Scans hochladen. So hilfst du gleichzeitig mit, dass die Datenbank aktueller bleibt  fr dich selbst und fr die Community.`},sections:{intro:{title:"Was ist SFDataHub?",body1:"SFDataHub ist ein Community-Projekt rund um Shakes & Fidget.",body2:"Du kannst hier Spielerdaten aus Scans auswerten, Toplisten ansehen und detaillierte Spieler- und Gildenprofile ffnen. Ziel ist ein schneller berblick ber Fortschritt, Rankings und Entwicklungen  ohne offizielle Verbindung zu Playa Games."},actions:{title:"Was kann ich auf SFDataHub tun?",items:{toplists:"Toplisten ansehen: Vergleiche Spieler und Gilden nach Level oder anderen Werten.",profiles:"Profile ffnen: Schaue dir detaillierte Spieler- und Gildenprofile mit mehr Informationen an.",guides:"Guides lesen: Nutze Anleitungen und Tipps, um dein Spiel besser zu planen.",tools:"Tools & Rechner verwenden: Berechne z. B. Dungeon-XP oder andere Werte mit interaktiven Tools."}},freshness:{title:"Wie aktuell sind die Daten?",body1:"SFDataHub basiert auf Scans, die von der Community hochgeladen oder verbunden werden.",body2:"Neben vielen Werten findest du einen Hinweis auf den Zeitpunkt des letzten Scans (z. B. Last scan: 2025-12-01).",body3:"Toplisten und Profile werden regelmig aktualisiert. Wenn ein Eintrag lngere Zeit nicht gescannt wurde, knnen die angezeigten Werte vom aktuellen Stand im Spiel abweichen."},login:{title:"Login & Einstellungen",body1:"Du kannst dich mit deinem Discord-Account anmelden, um zustzliche Funktionen nutzen zu knnen.",body2:"Nach dem Login siehst du oben dein Profilmen mit Avatar und Namen.",body3:"In den Einstellungen kannst du grundlegende Optionen fr deinen SFDataHub-Account anpassen.",body4:"Einstellungen sind nur fr eingeloggte Nutzer relevant  ohne Account musst du hier nichts konfigurieren."},legal:{title:"Hilfe, Feedback & rechtliche Infos",body1:"Wenn dir Fehler auffallen, Daten komisch aussehen oder du Ideen fr neue Features hast, freuen wir uns ber Feedback.",body2:"Du findest unsere Kontaktmglichkeiten und weitere Infos auf der Kontakt- oder Impressumsseite.",body3:"Fr rechtliche Details nutze bitte die verlinkten Seiten:",items:{tos:"Terms of Service (ToS)",privacy:"Datenschutz",imprint:"Impressum / Kontakt"}}}},d7={quota:{unlimited:"Kein Limit"}},u7={placeholder:"Suchen (Spieler)",inputLabel:"Spieler, Gilden und Server suchen",loading:"Ldt?",recents:"Letzte Suchen",minCharsHint:"Mindestens 3 Zeichen eingeben?",noResults:"Keine Treffer",players:"Spieler",guilds:"Gilden",servers:"Server",active:"Aktiv",inactive:"Inaktiv",guildMembers:"{{count}} Mitglieder",guildMembersUnknown:"Mitglieder ?",moreResults:"Mehr Ergebnisse? Enter drcken",recentLabel:"Kuerzlich"},A7={about:{title:"ber SFDataHub",body:`SFDataHub ist ein nicht-kommerzielles Fan- und Community-Projekt rund um Shakes & Fidget. Es besteht keine offizielle Verbindung zu Playa Games GmbH oder den Betreibern von Shakes & Fidget.

Alle genannten Marken, Logos und Grafiken sind Eigentum der jeweiligen Rechteinhaber und werden ausschlielich zu identifizierenden Zwecken verwendet.`},shortDisclaimer:"SFDataHub ist ein inoffizielles, nicht-kommerzielles Fanprojekt. Alle Marken und Bilder gehren ihren jeweiligen Rechteinhabern.",copyright:" 2025 SFDataHub  Community-Projekt rund um Shakes & Fidget."},h7={gem:{title:"Edelstein-Rechner",inputs:{charLevel:{label:"Charakterlevel",placeholder:"z. B. 360"},mineLevel:{label:"Minenlevel",placeholder:"z. B. 10"},guildHok:{label:"Gilden-HoK",placeholder:"z. B. 840"}},gems:{normal:{label:"Normal",alt:"Normaler Edelstein"},black:{label:"Schwarz",alt:"Schwarzer Edelstein"},legendary:{label:"Legendaer",alt:"Legendaerer Edelstein"}},hint:{prefix:"Die Werte sind Schaetzwerte und geben das ",emphasis:"maximal Moegliche",suffix:" an, das du finden kannst. Tatsaechliche Ergebnisse koennen leicht abweichen."}},calculators:{fortress:{title:"Festung - {{building}}",inputs:{buildingSelectLabel:"Gebaeude auswaehlen",l2Label:"L2 (Arbeiter)"},table:{level:"Level",wood:"Holz",stone:"Stein",buildTime:"Bauzeit",buildTimeL2:"Bauzeit (L2)",skip:"Skip (Pilze)"},hints:{l2Effect:"Hinweis: L2 gilt fuer alle Gebaeude (0-15 -> 0-75%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."},buildings:{woodcutter:"Holzfaeller",treasury:"Schatzkammer",smithy:"Schmiede",quarry:"Steinbruch",magetower:"Magierturm",laborersquarter:"Arbeiterquartier",gemmine:"Edelsteinmine",fortress:"Festung",fortifications:"Befestigung",barracks:"Kaserne",archery:"Bogenschuetzen",academy:"Akademie"}}}},m7={links:{runeBonuses:"Runen-Boni",buildOrder:"Build Order"},buildOrder:{title:"Arena Manager  Build Order",updated:"Zuletzt aktualisiert: {{date}}",body1:"Baue deine Attraktionen gemaess dem Bild unten fuer maximale Effizienz.",body2:"Das Aufwerten auf vollstaendiges Platin bei allen Attraktionen kostet dich {{mushrooms}}.",imageAlt:"Arena Manager Build Order",credit:"Dank an {{discord}}."}},p7={status:{label:"Status",up_to_date:"Aktuell",work_in_progress:"In Arbeit",outdated:"Veraltet"}},g7={v2:{searchPlaceholder:"Guides suchen",searchLabel:"Guides suchen",navHomeLabel:"Startseite",emptyStateTitle:"Guide auswaehlen",emptyStateBody:"Waehle einen Eintrag in der Guide-Navigation.",loading:"Guide wird geladen...",missingTitle:"Guide noch nicht verfuegbar",missingBody:"Fuer diesen Guide gibt es noch keinen Markdown-Inhalt.",createdLabel:"Erstellt",updatedLabel:"Bearbeitet",sectionsLabel:"Sektionen",noSections:"Keine Sektionen",galleryLabel:"Galerie",closeLabel:"Schliessen"}},f7={nav:YQ,home:JQ,guidehub:ZQ,servers:e7,playground:t7,sidebar:s7,account:n7,tools:r7,topbar:i7,toplistsPage:a7,toplists:o7,profile:l7,help:c7,uploadCenter:d7,search:u7,footer:A7,calculators:h7,arenaManager:m7,guide:p7,guides:g7},v7={en:{translation:XQ},de:{translation:f7}};Zn.use(CQ).init({resources:v7,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});function ts(t,e="en"){return Zn.t(t,{lng:e})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JN="popstate";function x7(t={}){function e(i,a){let{pathname:o="/",search:l="",hash:d=""}=gu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),w_("",{pathname:o,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let d=i.location.href,u=d.indexOf("#");l=u===-1?d:d.slice(0,u)}return l+"#"+(typeof a=="string"?a:pp(a))}function r(i,a){va(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return w7(e,n,r,t)}function Bn(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function va(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function y7(){return Math.random().toString(36).substring(2,10)}function ZN(t,e){return{usr:t.state,key:t.key,idx:e}}function w_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gu(e):e,state:n,key:e&&e.key||r||y7()}}function pp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function w7(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",d=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let E=h(),T=E==null?null:E-u;u=E,d&&d({action:l,location:C.location,delta:T})}function g(E,T){l="PUSH";let B=w_(C.location,E,T);n&&n(B,E),u=h()+1;let S=ZN(B,u),v=C.createHref(B);try{o.pushState(S,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(v)}a&&d&&d({action:l,location:C.location,delta:1})}function y(E,T){l="REPLACE";let B=w_(C.location,E,T);n&&n(B,E),u=h();let S=ZN(B,u),v=C.createHref(B);o.replaceState(S,"",v),a&&d&&d({action:l,location:C.location,delta:0})}function x(E){return b7(E)}let C={get action(){return l},get location(){return t(i,o)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(JN,m),d=E,()=>{i.removeEventListener(JN,m),d=null}},createHref(E){return e(i,E)},createURL:x,encodeLocation(E){let T=x(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:y,go(E){return o.go(E)}};return C}function b7(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:pp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PF(t,e,n="/"){return _7(t,e,n,!1)}function _7(t,e,n,r){let i=typeof e=="string"?gu(e):e,a=Ll(i.pathname||"/",n);if(a==null)return null;let o=DF(t);j7(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=R7(a);l=F7(o[d],u,r)}return l}function DF(t,e=[],n=[],r="",i=!1){let a=(o,l,d=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&d)return;Bn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Il([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&(Bn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),DF(o.children,e,g,m,d)),!(o.path==null&&!o.index)&&e.push({path:m,score:E7(m,o.index),routesMeta:g})};return t.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,l);else for(let u of MF(o.path))a(o,l,!0,u)}),e}function MF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=MF(r.join("/")),l=[];return l.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function j7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C7=/^:[\w-]+$/,S7=3,B7=2,N7=1,k7=10,I7=-2,ek=t=>t==="*";function E7(t,e){let n=t.split("/"),r=n.length;return n.some(ek)&&(r+=I7),e&&(r+=B7),n.filter(i=>!ek(i)).reduce((i,a)=>i+(C7.test(a)?S7:a===""?N7:k7),r)}function T7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function F7(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let l=0;l<r.length;++l){let d=r[l],u=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=_x({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),g=d.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=_x({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Il([a,m.pathname]),pathnameBase:M7(Il([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Il([a,m.pathnameBase]))}return o}function _x(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=L7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:m},g)=>{if(h==="*"){let x=l[g]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[g];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function L7(t,e=!1,n=!0){va(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ll(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U7(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gu(t):t;return{pathname:n?n.startsWith("/")?n:P7(n,e):e,search:Q7(r),hash:H7(i)}}function P7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ib(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qj(t){let e=D7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Xj(t,e,n,r=!1){let i;typeof t=="string"?i=gu(t):(i={...t},Bn(!i.pathname||!i.pathname.includes("?"),ib("?","pathname","search",i)),Bn(!i.pathname||!i.pathname.includes("#"),ib("#","pathname","hash",i)),Bn(!i.search||!i.search.includes("#"),ib("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let d=U7(i,l),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Il=t=>t.join("/").replace(/\/\/+/g,"/"),M7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var QF=["POST","PUT","PATCH","DELETE"];new Set(QF);var $7=["GET",...QF];new Set($7);var oh=R.createContext(null);oh.displayName="DataRouter";var ky=R.createContext(null);ky.displayName="DataRouterState";R.createContext(!1);var HF=R.createContext({isTransitioning:!1});HF.displayName="ViewTransition";var V7=R.createContext(new Map);V7.displayName="Fetchers";var G7=R.createContext(null);G7.displayName="Await";var ho=R.createContext(null);ho.displayName="Navigation";var Op=R.createContext(null);Op.displayName="Location";var Qa=R.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var Yj=R.createContext(null);Yj.displayName="RouteError";function K7(t,{relative:e}={}){Bn(lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(ho),{hash:i,pathname:a,search:o}=$p(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:Il([n,a])),r.createHref({pathname:l,search:o,hash:i})}function lh(){return R.useContext(Op)!=null}function ur(){return Bn(lh(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Op).location}var OF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $F(t){R.useContext(ho).static||R.useLayoutEffect(t)}function pi(){let{isDataRoute:t}=R.useContext(Qa);return t?oH():z7()}function z7(){Bn(lh(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(oh),{basename:e,navigator:n}=R.useContext(ho),{matches:r}=R.useContext(Qa),{pathname:i}=ur(),a=JSON.stringify(qj(r)),o=R.useRef(!1);return $F(()=>{o.current=!0}),R.useCallback((d,u={})=>{if(va(o.current,OF),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=Xj(d,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Il([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,i,t])}var W7=R.createContext(null);function q7(t){let e=R.useContext(Qa).outlet;return e&&R.createElement(W7.Provider,{value:t},e)}function Iy(){let{matches:t}=R.useContext(Qa),e=t[t.length-1];return e?e.params:{}}function $p(t,{relative:e}={}){let{matches:n}=R.useContext(Qa),{pathname:r}=ur(),i=JSON.stringify(qj(n));return R.useMemo(()=>Xj(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function X7(t,e){return VF(t,e)}function VF(t,e,n,r,i){var B;Bn(lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(ho),{matches:o}=R.useContext(Qa),l=o[o.length-1],d=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";GF(u,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=ur(),y;if(e){let S=typeof e=="string"?gu(e):e;Bn(h==="/"||((B=S.pathname)==null?void 0:B.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=g;let x=y.pathname||"/",C=x;if(h!=="/"){let S=h.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=PF(t,{pathname:C});va(m||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),va(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=tH(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:Il([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Il([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r,i);return e&&T?R.createElement(Op.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function Y7(){let t=aH(),e=O7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,o)}var J7=R.createElement(Y7,null),Z7=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Qa.Provider,{value:this.props.routeContext},R.createElement(Yj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eH({routeContext:t,match:e,children:n}){let r=R.useContext(oh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Qa.Provider,{value:t},n)}function tH(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Bn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,d=-1;if(n)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:g}=n,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,h,m)=>{let g,y=!1,x=null,C=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||J7,l&&(d<0&&m===0?(GF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,C=null):d===m&&(y=!0,C=h.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,m+1)),T=()=>{let B;return g?B=x:y?B=C:h.route.Component?B=R.createElement(h.route.Component,null):h.route.element?B=h.route.element:B=u,R.createElement(eH,{match:h,routeContext:{outlet:u,matches:E,isDataRoute:n!=null},children:B})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?R.createElement(Z7,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):T()},null)}function Jj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sH(t){let e=R.useContext(oh);return Bn(e,Jj(t)),e}function nH(t){let e=R.useContext(ky);return Bn(e,Jj(t)),e}function rH(t){let e=R.useContext(Qa);return Bn(e,Jj(t)),e}function Zj(t){let e=rH(t),n=e.matches[e.matches.length-1];return Bn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iH(){return Zj("useRouteId")}function aH(){var r;let t=R.useContext(Yj),e=nH("useRouteError"),n=Zj("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function oH(){let{router:t}=sH("useNavigate"),e=Zj("useNavigate"),n=R.useRef(!1);return $F(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{va(n.current,OF),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var tk={};function GF(t,e,n){!e&&!tk[t]&&(tk[t]=!0,va(!1,n))}R.memo(lH);function lH({routes:t,future:e,state:n,unstable_onError:r}){return VF(t,void 0,n,r,e)}function Io({to:t,replace:e,state:n,relative:r}){Bn(lh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(ho);va(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(Qa),{pathname:o}=ur(),l=pi(),d=Xj(t,qj(a),o,r==="path"),u=JSON.stringify(d);return R.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function KF(t){return q7(t.context)}function be(t){Bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cH({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Bn(!lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=gu(n));let{pathname:d="/",search:u="",hash:h="",state:m=null,key:g="default"}=n,y=R.useMemo(()=>{let x=Ll(d,o);return x==null?null:{location:{pathname:x,search:u,hash:h,state:m,key:g},navigationType:r}},[o,d,u,h,m,g,r]);return va(y!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:R.createElement(ho.Provider,{value:l},R.createElement(Op.Provider,{children:e,value:y}))}function dH({children:t,location:e}){return X7(b_(t),e)}function b_(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,b_(r.props.children,a));return}Bn(r.type===be,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=b_(r.props.children,a)),n.push(o)}),n}var Ov="get",$v="application/x-www-form-urlencoded";function Ey(t){return t!=null&&typeof t.tagName=="string"}function uH(t){return Ey(t)&&t.tagName.toLowerCase()==="button"}function AH(t){return Ey(t)&&t.tagName.toLowerCase()==="form"}function hH(t){return Ey(t)&&t.tagName.toLowerCase()==="input"}function mH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pH(t,e){return t.button===0&&(!e||e==="_self")&&!mH(t)}function __(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function gH(t,e){let n=__(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Lf=null;function fH(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch(t){Lf=!0}return Lf}var vH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ab(t){return t!=null&&!vH.has(t)?(va(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$v}"`),null):t}function xH(t,e){let n,r,i,a,o;if(AH(t)){let l=t.getAttribute("action");r=l?Ll(l,e):null,n=t.getAttribute("method")||Ov,i=ab(t.getAttribute("enctype"))||$v,a=new FormData(t)}else if(uH(t)||hH(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(r=d?Ll(d,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Ov,i=ab(t.getAttribute("formenctype"))||ab(l.getAttribute("enctype"))||$v,a=new FormData(l,t),!fH()){let{name:u,type:h,value:m}=t;if(h==="image"){let g=u?`${u}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else u&&a.append(u,m)}}else{if(Ey(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ov,r=null,i=$v,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function e2(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function yH(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ll(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function wH(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bH(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _H(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await wH(a,n);return o.links?o.links():[]}return[]}));return BH(r.flat(1).filter(bH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sk(t,e,n,r,i,a){let o=(d,u)=>n[u]?d.route.id!==n[u].route.id:!0,l=(d,u)=>{var h;return n[u].pathname!==d.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,u)=>o(d,u)||l(d,u)):a==="data"?e.filter((d,u)=>{var m;let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function jH(t,e,{includeHydrateFallback:n}={}){return CH(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function CH(t){return[...new Set(t)]}function SH(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function BH(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(SH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function zF(){let t=R.useContext(oh);return e2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NH(){let t=R.useContext(ky);return e2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var t2=R.createContext(void 0);t2.displayName="FrameworkContext";function WF(){let t=R.useContext(t2);return e2(t,"You must render this element inside a <HydratedRouter> element"),t}function kH(t,e){let n=R.useContext(t2),[r,i]=R.useState(!1),[a,o]=R.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=e,g=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=T=>{T.forEach(B=>{o(B.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[t]),R.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:nm(l,y),onBlur:nm(d,x),onMouseEnter:nm(u,y),onMouseLeave:nm(h,x),onTouchStart:nm(m,y)}]:[!1,g,{}]}function nm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IH({page:t,...e}){let{router:n}=zF(),r=R.useMemo(()=>PF(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(TH,{page:t,matches:r,...e}):null}function EH(t){let{manifest:e,routeModules:n}=WF(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return _H(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function TH({page:t,matches:e,...n}){let r=ur(),{manifest:i,routeModules:a}=WF(),{basename:o}=zF(),{loaderData:l,matches:d}=NH(),u=R.useMemo(()=>sk(t,e,d,i,r,"data"),[t,e,d,i,r]),h=R.useMemo(()=>sk(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,C=!1;if(e.forEach(T=>{var S;let B=i.routes[T.route.id];!B||!B.hasLoader||(!u.some(v=>v.route.id===T.route.id)&&T.route.id in l&&((S=a[T.route.id])!=null&&S.shouldRevalidate)||B.hasClientLoader?C=!0:x.add(T.route.id))}),x.size===0)return[];let E=yH(t,o,"data");return C&&x.size>0&&E.searchParams.set("_routes",e.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[o,l,r,i,u,e,t,a]),g=R.useMemo(()=>jH(h,i),[h,i]),y=EH(h);return R.createElement(R.Fragment,null,m.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:C})=>R.createElement("link",{key:x,nonce:n.nonce,...C})))}function FH(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qF=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{qF&&(window.__reactRouterVersion="7.9.1")}catch(t){}function LH({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=x7({window:n,v5Compat:!0}));let i=r.current,[a,o]=R.useState({action:i.action,location:i.location}),l=R.useCallback(d=>{R.startTransition(()=>o(d))},[o]);return R.useLayoutEffect(()=>i.listen(l),[i,l]),R.createElement(cH,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var XF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ys=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m,...g},y){let{basename:x}=R.useContext(ho),C=typeof u=="string"&&XF.test(u),E,T=!1;if(typeof u=="string"&&C&&(E=u,qF))try{let k=new URL(window.location.href),U=u.startsWith("//")?new URL(k.protocol+u):new URL(u),I=Ll(U.pathname,x);U.origin===k.origin&&I!=null?u=I+U.search+U.hash:T=!0}catch(k){va(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=K7(u,{relative:i}),[S,v,w]=kH(r,g),N=PH(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:i,viewTransition:m});function _(k){e&&e(k),k.defaultPrevented||N(k)}let j=R.createElement("a",{...g,...w,href:E||B,onClick:T||a?e:_,ref:FH(y,v),target:d,"data-discover":!C&&n==="render"?"true":void 0});return S&&!C?R.createElement(R.Fragment,null,j,R.createElement(IH,{page:B})):j});Ys.displayName="Link";var Ks=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:d,...u},h){let m=$p(o,{relative:u.relative}),g=ur(),y=R.useContext(ky),{navigator:x,basename:C}=R.useContext(ho),E=y!=null&&OH(m)&&l===!0,T=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,B=g.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(B=B.toLowerCase(),S=S?S.toLowerCase():null,T=T.toLowerCase()),S&&C&&(S=Ll(S,C)||S);const v=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let w=B===T||!i&&B.startsWith(T)&&B.charAt(v)==="/",N=S!=null&&(S===T||!i&&S.startsWith(T)&&S.charAt(T.length)==="/"),_={isActive:w,isPending:N,isTransitioning:E},j=w?e:void 0,k;typeof r=="function"?k=r(_):k=[r,w?"active":null,N?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(_):a;return R.createElement(Ys,{...u,"aria-current":j,className:k,ref:h,style:U,to:o,viewTransition:l},typeof d=="function"?d(_):d)});Ks.displayName="NavLink";var RH=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Ov,action:l,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:m,...g},y)=>{let x=QH(),C=HH(l,{relative:u}),E=o.toLowerCase()==="get"?"get":"post",T=typeof l=="string"&&XF.test(l),B=S=>{if(d&&d(S),S.defaultPrevented)return;S.preventDefault();let v=S.nativeEvent.submitter,w=(v==null?void 0:v.getAttribute("formmethod"))||o;x(v||S.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:a,relative:u,preventScrollReset:h,viewTransition:m})};return R.createElement("form",{ref:y,method:E,action:C,onSubmit:r?d:B,...g,"data-discover":!T&&t==="render"?"true":void 0})});RH.displayName="Form";function UH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YF(t){let e=R.useContext(oh);return Bn(e,UH(t)),e}function PH(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let l=pi(),d=ur(),u=$p(t,{relative:a});return R.useCallback(h=>{if(pH(h,e)){h.preventDefault();let m=n!==void 0?n:pp(d)===pp(u);l(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,l,u,n,r,e,t,i,a,o])}function yr(t){va(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(__(t)),n=R.useRef(!1),r=ur(),i=R.useMemo(()=>gH(r.search,n.current?null:e.current),[r.search]),a=pi(),o=R.useCallback((l,d)=>{const u=__(typeof l=="function"?l(new URLSearchParams(i)):l);n.current=!0,a("?"+u,d)},[a,i]);return[i,o]}var DH=0,MH=()=>`__${String(++DH)}__`;function QH(){let{router:t}=YF("useSubmit"),{basename:e}=R.useContext(ho),n=iH();return R.useCallback(async(r,i={})=>{let{action:a,method:o,encType:l,formData:d,body:u}=xH(r,e);if(i.navigate===!1){let h=i.fetcherKey||MH();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function HH(t,{relative:e}={}){let{basename:n}=R.useContext(ho),r=R.useContext(Qa);Bn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...$p(t||".",{relative:e})},o=ur();if(t==null){a.search=o.search;let l=new URLSearchParams(a.search),d=l.getAll("index");if(d.some(h=>h==="")){l.delete("index"),d.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Il([n,a.pathname])),pp(a)}function OH(t,{relative:e}={}){let n=R.useContext(HF);Bn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YF("useViewTransitionState"),i=$p(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ll(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ll(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _x(i.pathname,o)!=null||_x(i.pathname,a)!=null}var $H=IF();const VH=zj($H);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),nk=t=>{const e=KH(t);return e.charAt(0).toUpperCase()+e.slice(1)},JF=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),zH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},d)=>R.createElement("svg",{ref:d,...WH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JF("lucide",i),...!a&&!zH(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>R.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(qH,{ref:a,iconNode:e,className:JF(`lucide-${GH(nk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=nk(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Ty=Xt("aperture",XH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],JH=Xt("arrow-up-right",YH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eO=Xt("ban",ZH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sO=Xt("bell",tO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rO=Xt("book-open",nO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aO=Xt("chart-column",iO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lO=Xt("chevron-right",oO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qm=Xt("circle-alert",cO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uO=Xt("circle-check",dO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Vv=Xt("circle-dot",AO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mO=Xt("circle-user-round",hO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gO=Xt("clock-3",pO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],vO=Xt("cloud-upload",fO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yO=Xt("compass",xO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bO=Xt("database",wO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],ZF=Xt("diamond",_O);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CO=Xt("file-text",jO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],BO=Xt("folder-search",SO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kO=Xt("globe",NO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],e5=Xt("hexagon",IO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],TO=Xt("house",EO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LO=Xt("layers",FO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],UO=Xt("layout-dashboard",RO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vc=Xt("loader-circle",PO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MO=Xt("menu",DO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],HO=Xt("messages-square",QO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],$O=Xt("pencil",OO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],GO=Xt("pin-off",VO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],zO=Xt("pin",KO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Fy=Xt("refresh-ccw",WO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],XO=Xt("scroll-text",qO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jx=Xt("search",YO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],ZO=Xt("server-cog",JO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t9=Xt("settings",e9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],t5=Xt("shapes",s9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],s5=Xt("shield-alert",n9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],i9=Xt("shield-check",r9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],n5=Xt("shield-off",a9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fu=Xt("shield",o9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],c9=Xt("square-activity",l9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u9=Xt("star",d9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],h9=Xt("sticky-note",A9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],p9=Xt("trash-2",m9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s2=Xt("triangle-alert",g9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],v9=Xt("trophy",f9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],y9=Xt("upload",x9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ly=Xt("users",w9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],_9=Xt("wrench",b9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],r5=Xt("zap",j9),C9="_topbar_y7gox_3",S9="_topbarLeft_y7gox_39",B9="_searchWrap_y7gox_55",N9="_topbarRight_y7gox_109",k9="_mobileSearchBtn_y7gox_123",I9="_ico_y7gox_133",E9="_btnIco_y7gox_147",T9="_pill_y7gox_181",F9="_pillActive_y7gox_203",L9="_onlyExpanded_y7gox_211",R9="_topbarNav_y7gox_213",U9="_topbarLink_y7gox_223",P9="_gameLinkButton_y7gox_231",D9="_upload_y7gox_265",M9="_label_y7gox_295",Q9="_avatarBtn_y7gox_301",H9="_avatar_y7gox_301",O9="_avatarSpinnerShell_y7gox_329",$9="_avatarSpinner_y7gox_329",V9="_srOnly_y7gox_365",G9="_accountRoot_y7gox_391",K9="_accountDropdown_y7gox_399",z9="_accountHeader_y7gox_429",W9="_accountName_y7gox_441",q9="_accountSub_y7gox_453",X9="_accountStatusText_y7gox_463",Y9="_accountPrimary_y7gox_473",J9="_accountHint_y7gox_495",Z9="_accountItem_y7gox_505",e$="_accountDivider_y7gox_535",t$="_accountMiniAvatar_y7gox_547",s$="_accountLogout_y7gox_559",n$="_mobileSearchPanel_y7gox_589",r$="_mobileSearchOverlay_y7gox_617",es={topbar:C9,topbarLeft:S9,searchWrap:B9,topbarRight:N9,mobileSearchBtn:k9,ico:I9,btnIco:E9,pill:T9,pillActive:F9,onlyExpanded:L9,topbarNav:R9,topbarLink:U9,gameLinkButton:P9,upload:D9,label:M9,avatarBtn:Q9,avatar:H9,avatarSpinnerShell:O9,avatarSpinner:$9,srOnly:V9,accountRoot:G9,accountDropdown:K9,accountHeader:z9,accountName:W9,accountSub:q9,accountStatusText:X9,accountPrimary:Y9,accountHint:J9,accountItem:Z9,accountDivider:e$,accountMiniAvatar:t$,accountLogout:s$,mobileSearchPanel:n$,mobileSearchOverlay:r$},Ha="https://auth.sfdatahub.com",i$=`${Ha}/auth/firebase-token`;async function a$(){var r,i;const t=await fetch(i$,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch firebase token: ${t.status}`);const e=await t.json(),n=(i=e==null?void 0:e.firebaseToken)!=null?i:(r=e==null?void 0:e.tokens)==null?void 0:r.firebase;if(!n)throw new Error("Firebase token missing in response");return n}var rk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},a5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,d=i+2<t.length,u=d?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let g=(l&15)<<2|u>>6,y=u&63;d||(y=64,o||(g=64)),r.push(n[h],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||m==null)throw new l$;const g=a<<2|l>>4;if(r.push(g),u!==64){const y=l<<4&240|u>>2;if(r.push(y),m!==64){const x=u<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c$=function(t){const e=i5(t);return a5.encodeByteArray(e,!0)},Cx=function(t){return c$(t).replace(/\./g,"")},o5=function(t){try{return a5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=()=>d$().__FIREBASE_DEFAULTS__,A$=()=>{if(typeof process=="undefined"||typeof rk=="undefined")return;const t=rk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h$=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&o5(t[1]);return e&&JSON.parse(e)},Ry=()=>{try{return u$()||A$()||h$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l5=t=>{var e,n;return(n=(e=Ry())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},m$=t=>{const e=l5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},c5=()=>{var t;return(t=Ry())===null||t===void 0?void 0:t.config},d5=t=>{var e;return(e=Ry())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cx(JSON.stringify(n)),Cx(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f$(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function v$(){var t;const e=(t=Ry())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function x$(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function y$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b$(){const t=mi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _$(){return!v$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j$(){try{return typeof indexedDB=="object"}catch(t){return!1}}function C$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="FirebaseError";class Vl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S$,Object.setPrototypeOf(this,Vl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vp.prototype.create)}}class Vp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?B$(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Vl(i,l,r)}}function B$(t,e){return t.replace(N$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const N$=/\{\$([^}]+)}/g;function k$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sx(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(ik(a)&&ik(o)){if(!Sx(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ik(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function I$(t,e){const n=new E$(t,e);return n.subscribe.bind(n)}class E${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ob),i.error===void 0&&(i.error=ob),i.complete===void 0&&(i.complete=ob);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ob(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return t&&t._delegate?t._delegate:t}class ou{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R$(e))try{this.getOrInitializeService({instanceIdentifier:Md})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=Md){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Md){return this.instances.has(e)}getOptions(e=Md){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Md){return this.component?this.component.multipleInstances?e:Md:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L$(t){return t===Md?void 0:t}function R$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fs||(Fs={}));const P$={debug:Fs.DEBUG,verbose:Fs.VERBOSE,info:Fs.INFO,warn:Fs.WARN,error:Fs.ERROR,silent:Fs.SILENT},D$=Fs.INFO,M$={[Fs.DEBUG]:"log",[Fs.VERBOSE]:"log",[Fs.INFO]:"info",[Fs.WARN]:"warn",[Fs.ERROR]:"error"},Q$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let n2=class{constructor(e){this.name=e,this._logLevel=D$,this._logHandler=Q$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fs.DEBUG,...e),this._logHandler(this,Fs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fs.VERBOSE,...e),this._logHandler(this,Fs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fs.INFO,...e),this._logHandler(this,Fs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fs.WARN,...e),this._logHandler(this,Fs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fs.ERROR,...e),this._logHandler(this,Fs.ERROR,...e)}};const H$=(t,e)=>e.some(n=>t instanceof n);let ak,ok;function O$(){return ak||(ak=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $$(){return ok||(ok=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u5=new WeakMap,j_=new WeakMap,A5=new WeakMap,lb=new WeakMap,r2=new WeakMap;function V$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Gc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u5.set(n,t)}).catch(()=>{}),r2.set(e,t),e}function G$(t){if(j_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});j_.set(t,e)}let C_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K$(t){C_=t(C_)}function z$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cb(this),e,...n);return A5.set(r,e.sort?e.sort():[e]),Gc(r)}:$$().includes(t)?function(...e){return t.apply(cb(this),e),Gc(u5.get(this))}:function(...e){return Gc(t.apply(cb(this),e))}}function W$(t){return typeof t=="function"?z$(t):(t instanceof IDBTransaction&&G$(t),H$(t,O$())?new Proxy(t,C_):t)}function Gc(t){if(t instanceof IDBRequest)return V$(t);if(lb.has(t))return lb.get(t);const e=W$(t);return e!==t&&(lb.set(t,e),r2.set(e,t)),e}const cb=t=>r2.get(t);function q$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Gc(o);return r&&o.addEventListener("upgradeneeded",d=>{r(Gc(o.result),d.oldVersion,d.newVersion,Gc(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const X$=["get","getKey","getAll","getAllKeys","count"],Y$=["put","add","delete","clear"],db=new Map;function lk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(db.get(e))return db.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Y$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X$.includes(n)))return;const a=async function(o,...l){const d=this.transaction(o,i?"readwrite":"readonly");let u=d.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&d.done]))[0]};return db.set(e,a),a}K$(t=>({...t,get:(e,n,r)=>lk(e,n)||t.get(e,n,r),has:(e,n)=>!!lk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S_="@firebase/app",ck="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new n2("@firebase/app"),eV="@firebase/app-compat",tV="@firebase/analytics-compat",sV="@firebase/analytics",nV="@firebase/app-check-compat",rV="@firebase/app-check",iV="@firebase/auth",aV="@firebase/auth-compat",oV="@firebase/database",lV="@firebase/data-connect",cV="@firebase/database-compat",dV="@firebase/functions",uV="@firebase/functions-compat",AV="@firebase/installations",hV="@firebase/installations-compat",mV="@firebase/messaging",pV="@firebase/messaging-compat",gV="@firebase/performance",fV="@firebase/performance-compat",vV="@firebase/remote-config",xV="@firebase/remote-config-compat",yV="@firebase/storage",wV="@firebase/storage-compat",bV="@firebase/firestore",_V="@firebase/vertexai-preview",jV="@firebase/firestore-compat",CV="firebase",SV="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="[DEFAULT]",BV={[S_]:"fire-core",[eV]:"fire-core-compat",[sV]:"fire-analytics",[tV]:"fire-analytics-compat",[rV]:"fire-app-check",[nV]:"fire-app-check-compat",[iV]:"fire-auth",[aV]:"fire-auth-compat",[oV]:"fire-rtdb",[lV]:"fire-data-connect",[cV]:"fire-rtdb-compat",[dV]:"fire-fn",[uV]:"fire-fn-compat",[AV]:"fire-iid",[hV]:"fire-iid-compat",[mV]:"fire-fcm",[pV]:"fire-fcm-compat",[gV]:"fire-perf",[fV]:"fire-perf-compat",[vV]:"fire-rc",[xV]:"fire-rc-compat",[yV]:"fire-gcs",[wV]:"fire-gcs-compat",[bV]:"fire-fst",[jV]:"fire-fst-compat",[_V]:"fire-vertex","fire-js":"fire-js",[CV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new Map,NV=new Map,N_=new Map;function dk(t,e){try{t.container.addComponent(e)}catch(n){Rl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function GA(t){const e=t.name;if(N_.has(e))return Rl.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(const n of gp.values())dk(n,t);for(const n of NV.values())dk(n,t);return!0}function i2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function To(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kc=new Vp("app","Firebase",kV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ou("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=SV;function h5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:B_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kc.create("bad-app-name",{appName:String(i)});if(n||(n=c5()),!n)throw Kc.create("no-options");const a=gp.get(i);if(a){if(Sx(n,a.options)&&Sx(r,a.config))return a;throw Kc.create("duplicate-app",{appName:i})}const o=new U$(i);for(const d of N_.values())o.addComponent(d);const l=new IV(n,r,o);return gp.set(i,l),l}function a2(t=B_){const e=gp.get(t);if(!e&&t===B_&&c5())return h5();if(!e)throw Kc.create("no-app",{appName:t});return e}function EV(){return Array.from(gp.values())}function zc(t,e,n){var r;let i=(r=BV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rl.warn(l.join(" "));return}GA(new ou(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebase-heartbeat-database",FV=1,fp="firebase-heartbeat-store";let ub=null;function m5(){return ub||(ub=q$(TV,FV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kc.create("idb-open",{originalErrorMessage:t.message})})),ub}async function LV(t){try{const n=(await m5()).transaction(fp),r=await n.objectStore(fp).get(p5(t));return await n.done,r}catch(e){if(e instanceof Vl)Rl.warn(e.message);else{const n=Kc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rl.warn(n.message)}}}async function uk(t,e){try{const r=(await m5()).transaction(fp,"readwrite");await r.objectStore(fp).put(e,p5(t)),await r.done}catch(n){if(n instanceof Vl)Rl.warn(n.message);else{const r=Kc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rl.warn(r.message)}}}function p5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=1024,UV=720*60*60*1e3;class PV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ak();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=UV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ak(),{heartbeatsToSend:r,unsentEntries:i}=DV(this._heartbeatsCache.heartbeats),a=Cx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Rl.warn(n),""}}}function Ak(){return new Date().toISOString().substring(0,10)}function DV(t,e=RV){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),hk(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j$()?C$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hk(t){return Cx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){GA(new ou("platform-logger",e=>new J$(e),"PRIVATE")),GA(new ou("heartbeat",e=>new PV(e),"PRIVATE")),zc(S_,ck,t),zc(S_,ck,"esm2017"),zc("fire-js","")}QV("");var HV="firebase",OV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zc(HV,OV,"app");function o2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function g5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $V=g5,f5=new Vp("auth","Firebase",g5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new n2("@firebase/auth");function VV(t,...e){Bx.logLevel<=Fs.WARN&&Bx.warn(`Auth (${ch}): ${t}`,...e)}function Gv(t,...e){Bx.logLevel<=Fs.ERROR&&Bx.error(`Auth (${ch}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t,...e){throw c2(t,...e)}function co(t,...e){return c2(t,...e)}function l2(t,e,n){const r=Object.assign(Object.assign({},$V()),{[e]:n});return new Vp("auth","Firebase",r).create(e,{appName:t.name})}function Wc(t){return l2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qo(t,"argument-error"),l2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function c2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f5.create(t,...e)}function rs(t,e,...n){if(!t)throw c2(e,...n)}function Cl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gv(e),new Error(e)}function Ul(t,e){t||Cl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KV(){return mk()==="http:"||mk()==="https:"}function mk(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KV()||y$()||"connection"in navigator)?navigator.onLine:!0}function WV(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ul(n>e,"Short delay should be less than long delay!"),this.isMobile=f$()||w$()}get(){return zV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e){Ul(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;Cl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;Cl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;Cl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new Kp(3e4,6e4);function Uy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function dh(t,e,n,r,i={}){return x5(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=Gp(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:d},a);return x$()||(u.referrerPolicy="no-referrer"),v5.fetch()(w5(t,t.config.apiHost,n,l),u)})}async function x5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qV),e);try{const i=new YV(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Rf(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[d,u]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Rf(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Rf(t,"user-disabled",o);const h=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw l2(t,h,u);Qo(t,h)}}catch(i){if(i instanceof Vl)throw i;Qo(t,"network-request-failed",{message:String(i)})}}async function y5(t,e,n,r,i={}){const a=await dh(t,e,n,r,i);return"mfaPendingCredential"in a&&Qo(t,"multi-factor-auth-required",{_serverResponse:a}),a}function w5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?d2(t.config,i):`${t.config.apiScheme}://${i}`}class YV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(co(this.auth,"network-request-failed")),XV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=co(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return dh(t,"POST","/v1/accounts:delete",e)}async function b5(t,e){return dh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function ZV(t,e=!1){const n=dr(t),r=await n.getIdToken(e),i=u2(r);rs(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Hm(Ab(i.auth_time)),issuedAtTime:Hm(Ab(i.iat)),expirationTime:Hm(Ab(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ab(t){return Number(t)*1e3}function u2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gv("JWT malformed, contained fewer than 3 sections"),null;try{const i=o5(n);return i?JSON.parse(i):(Gv("Failed to decode base64 JWT payload"),null)}catch(i){return Gv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pk(t){const e=u2(t);return rs(e,"internal-error"),rs(typeof e.exp!="undefined","internal-error"),rs(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vl&&eG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hm(this.lastLoginAt),this.creationTime=Hm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vp(t,b5(n,{idToken:r}));rs(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_5(a.providerUserInfo):[],l=nG(t.providerData,o),d=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=d?u:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new I_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function sG(t){const e=dr(t);await Nx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _5(t){return t.map(e=>{var{providerId:n}=e,r=o2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(t,e){const n=await x5(t,{},async()=>{const r=Gp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=w5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",v5.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iG(t,e){return dh(t,"POST","/v2/accounts:revokeToken",Uy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rs(e.idToken,"internal-error"),rs(typeof e.idToken!="undefined","internal-error"),rs(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):pk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rs(e.length!==0,"internal-error");const n=pk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rs(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await rG(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new PA;return r&&(rs(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(rs(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(rs(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new PA,this.toJSON())}_performRefresh(){return Cl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e){rs(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Sl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=o2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new I_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vp(this,this.stsTokenManager.getToken(this.auth,e));return rs(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZV(this,e)}reload(){return sG(this)}_assign(e){this!==e&&(rs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){rs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(To(this.auth.app))return Promise.reject(Wc(this.auth));const e=await this.getIdToken();return await vp(this,JV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,l,d,u,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,B=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:v,isAnonymous:w,providerData:N,stsTokenManager:_}=n;rs(S&&_,e,"internal-error");const j=PA.fromJSON(this.name,_);rs(typeof S=="string",e,"internal-error"),mc(m,e.name),mc(g,e.name),rs(typeof v=="boolean",e,"internal-error"),rs(typeof w=="boolean",e,"internal-error"),mc(y,e.name),mc(x,e.name),mc(C,e.name),mc(E,e.name),mc(T,e.name),mc(B,e.name);const k=new Sl({uid:S,auth:e,email:g,emailVerified:v,displayName:m,isAnonymous:w,photoURL:x,phoneNumber:y,tenantId:C,stsTokenManager:j,createdAt:T,lastLoginAt:B});return N&&Array.isArray(N)&&(k.providerData=N.map(U=>Object.assign({},U))),E&&(k._redirectEventId=E),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new PA;i.updateFromServerResponse(n);const a=new Sl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nx(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rs(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?_5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new PA;l.updateFromIdToken(r);const d=new Sl({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new I_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,u),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Map;function Bl(t){Ul(t instanceof Function,"Expected a class definition");let e=gk.get(t);return e?(Ul(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}j5.type="NONE";const fk=j5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e,n){return`firebase:${t}:${e}:${n}`}class DA{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Kv(this.userKey,i.apiKey,a),this.fullPersistenceKey=Kv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new DA(Bl(fk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Bl(fk);const o=Kv(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){const m=Sl._fromJSON(e,h);u!==a&&(l=m),a=u;break}}catch(h){}const d=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new DA(a,e,r):(a=d[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch(h){}})),new DA(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I5(e))return"Blackberry";if(E5(e))return"Webos";if(S5(e))return"Safari";if((e.includes("chrome/")||B5(e))&&!e.includes("edge/"))return"Chrome";if(k5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C5(t=mi()){return/firefox\//i.test(t)}function S5(t=mi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B5(t=mi()){return/crios\//i.test(t)}function N5(t=mi()){return/iemobile/i.test(t)}function k5(t=mi()){return/android/i.test(t)}function I5(t=mi()){return/blackberry/i.test(t)}function E5(t=mi()){return/webos/i.test(t)}function A2(t=mi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aG(t=mi()){var e;return A2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oG(){return b$()&&document.documentMode===10}function T5(t=mi()){return A2(t)||k5(t)||E5(t)||I5(t)||/windows phone/i.test(t)||N5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e=[]){let n;switch(t){case"Browser":n=vk(mi());break;case"Worker":n=`${vk(mi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ch}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const d=e(a);o(d)}catch(d){l(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cG(t,e={}){return dh(t,"GET","/v2/passwordPolicy",Uy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=6;class uG{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dG,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,l;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xk(this),this.idTokenSubscription=new xk(this),this.beforeStateQueue=new lG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await DA.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await b5(this,{idToken:e}),r=await Sl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(To(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===l)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return rs(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(To(this.app))return Promise.reject(Wc(this));const n=e?dr(e):null;return n&&rs(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rs(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return To(this.app)?Promise.reject(Wc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return To(this.app)?Promise.reject(Wc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cG(this),n=new uG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bl(e)||this._popupRedirectResolver;rs(n,this,"argument-error"),this.redirectPersistenceManager=await DA.create(this,[Bl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(rs(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rs(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zp(t){return dr(t)}class xk{constructor(e){this.auth=e,this.observer=null,this.addObserver=I$(n=>this.observer=n)}get next(){return rs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hG(t){h2=t}function mG(t){return h2.loadJS(t)}function pG(){return h2.gapiScript}function gG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(t,e){const n=i2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Sx(a,e!=null?e:{}))return i;Qo(i,"already-initialized")}return n.initialize({options:e})}function vG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xG(t,e,n){const r=zp(t);rs(r._canInitEmulator,r,"emulator-config-failed"),rs(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=L5(e),{host:o,port:l}=yG(e),d=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${o}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),wG()}function L5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yG(t){const e=L5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:yk(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:yk(o)}}}function yk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cl("not implemented")}_getIdTokenResponse(e){return Cl("not implemented")}_linkToIdToken(e,n){return Cl("not implemented")}_getReauthenticationResolver(e){return Cl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e){return y5(t,"POST","/v1/accounts:signInWithIdp",Uy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG="http://localhost";class lu extends R5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=o2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new lu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return MA(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,MA(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,MA(e,n)}buildRequest(){const e={requestUri:bG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends m2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Wp{constructor(){super("facebook.com")}static credential(e){return lu._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kc.credentialFromTaggedObject(e)}static credentialFromError(e){return kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kc.credential(e.oauthAccessToken)}catch(n){return null}}}kc.FACEBOOK_SIGN_IN_METHOD="facebook.com";kc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lu._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jl.credentialFromTaggedObject(e)}static credentialFromError(e){return jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jl.credential(n,r)}catch(i){return null}}}jl.GOOGLE_SIGN_IN_METHOD="google.com";jl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Wp{constructor(){super("github.com")}static credential(e){return lu._fromParams({providerId:Ic.PROVIDER_ID,signInMethod:Ic.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ic.credentialFromTaggedObject(e)}static credentialFromError(e){return Ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ic.credential(e.oauthAccessToken)}catch(n){return null}}}Ic.GITHUB_SIGN_IN_METHOD="github.com";Ic.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Wp{constructor(){super("twitter.com")}static credential(e,n){return lu._fromParams({providerId:Ec.PROVIDER_ID,signInMethod:Ec.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ec.credentialFromTaggedObject(e)}static credentialFromError(e){return Ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ec.credential(n,r)}catch(i){return null}}}Ec.TWITTER_SIGN_IN_METHOD="twitter.com";Ec.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Sl._fromIdTokenResponse(e,r,i),o=wk(r);return new cu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wk(r);return new cu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends Vl{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kx.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kx(e,n,r,i)}}function U5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kx._fromErrorAndOperation(t,a,e,r):a})}async function _G(t,e,n=!1){const r=await vp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jG(t,e,n=!1){const{auth:r}=t;if(To(r.app))return Promise.reject(Wc(r));const i="reauthenticate";try{const a=await vp(t,U5(r,i,e,t),n);rs(a.idToken,r,"internal-error");const o=u2(a.idToken);rs(o,r,"internal-error");const{sub:l}=o;return rs(t.uid===l,r,"user-mismatch"),cu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Qo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CG(t,e,n=!1){if(To(t.app))return Promise.reject(Wc(t));const r="signIn",i=await U5(t,r,e),a=await cu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SG(t,e){return y5(t,"POST","/v1/accounts:signInWithCustomToken",Uy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e){if(To(t.app))return Promise.reject(Wc(t));const n=zp(t),r=await SG(n,{token:e,returnSecureToken:!0}),i=await cu._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function BG(t,e,n,r){return dr(t).onIdTokenChanged(e,n,r)}function NG(t,e,n){return dr(t).beforeAuthStateChanged(e,n)}function kG(t,e,n,r){return dr(t).onAuthStateChanged(e,n,r)}function IG(t){return dr(t).signOut()}const Ix="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ix,"1"),this.storage.removeItem(Ix),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=1e3,TG=10;class D5 extends P5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);oG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D5.type="LOCAL";const FG=D5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5 extends P5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M5.type="SESSION";const Q5=M5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Py(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,a)),d=await LG(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Py.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,d)=>{const u=p2("",20);i.port1.start();const h=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(h),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(){return window}function UG(t){Fo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return typeof Fo().WorkerGlobalScope!="undefined"&&typeof Fo().importScripts=="function"}async function PG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function DG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MG(){return H5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="firebaseLocalStorageDb",QG=1,Ex="firebaseLocalStorage",$5="fbase_key";class qp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dy(t,e){return t.transaction([Ex],e?"readwrite":"readonly").objectStore(Ex)}function HG(){const t=indexedDB.deleteDatabase(O5);return new qp(t).toPromise()}function E_(){const t=indexedDB.open(O5,QG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ex,{keyPath:$5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ex)?e(r):(r.close(),await HG(),e(await E_()))})})}async function _k(t,e,n){const r=Dy(t,!0).put({[$5]:e,value:n});return new qp(r).toPromise()}async function OG(t,e){const n=Dy(t,!1).get(e),r=await new qp(n).toPromise();return r===void 0?null:r.value}function jk(t,e){const n=Dy(t,!0).delete(e);return new qp(n).toPromise()}const $G=800,VG=3;class V5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Py._getInstance(MG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PG(),!this.activeServiceWorker)return;this.sender=new RG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E_();return await _k(e,Ix,"1"),await jk(e,Ix),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_k(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Dy(i,!1).getAll();return new qp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$G)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V5.type="LOCAL";const GG=V5;new Kp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){return e?Bl(e):(rs(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2 extends R5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return MA(e,this._buildIdpRequest())}_linkToIdToken(e,n){return MA(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return MA(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KG(t){return CG(t.auth,new g2(t),t.bypassAuthState)}function zG(t){const{auth:e,user:n}=t;return rs(n,e,"internal-error"),jG(n,new g2(t),t.bypassAuthState)}async function WG(t){const{auth:e,user:n}=t;return rs(n,e,"internal-error"),_G(n,new g2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(d))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KG;case"linkViaPopup":case"linkViaRedirect":return WG;case"reauthViaPopup":case"reauthViaRedirect":return zG;default:Qo(this.auth,"internal-error")}}resolve(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=new Kp(2e3,1e4);async function XG(t,e,n){if(To(t.app))return Promise.reject(co(t,"operation-not-supported-in-this-environment"));const r=zp(t);GV(t,e,m2);const i=G5(r,n);return new Gd(r,"signInViaPopup",e,i).executeNotNull()}class Gd extends K5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Gd.currentPopupAction&&Gd.currentPopupAction.cancel(),Gd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rs(e,this.auth,"internal-error"),e}async onExecution(){Ul(this.filter.length===1,"Popup operations only handle one event");const e=p2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qG.get())};e()}}Gd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG="pendingRedirect",zv=new Map;class JG extends K5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zv.get(this.auth._key());if(!e){try{const r=await ZG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zv.set(this.auth._key(),e)}return this.bypassAuthState||zv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZG(t,e){const n=sK(e),r=tK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eK(t,e){zv.set(t._key(),e)}function tK(t){return Bl(t._redirectPersistence)}function sK(t){return Kv(YG,t.config.apiKey,t.name)}async function nK(t,e,n=!1){if(To(t.app))return Promise.reject(Wc(t));const r=zp(t),i=G5(r,e),o=await new JG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=600*1e3;class iK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!z5(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(co(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rK&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ck(e))}saveEventToCache(e){this.cachedEventUids.add(Ck(e)),this.lastProcessedEventTime=Date.now()}}function Ck(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function z5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oK(t,e={}){return dh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cK=/^https?/;async function dK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oK(t);for(const n of e)try{if(uK(n))return}catch(r){}Qo(t,"unauthorized-domain")}function uK(t){const e=k_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cK.test(n))return!1;if(lK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=new Kp(3e4,6e4);function Sk(){const t=Fo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hK(t){return new Promise((e,n)=>{var r,i,a;function o(){Sk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sk(),n(co(t,"network-request-failed"))},timeout:AK.get()})}if(!((i=(r=Fo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Fo().gapi)===null||a===void 0)&&a.load)o();else{const l=gG("iframefcb");return Fo()[l]=()=>{gapi.load?o():n(co(t,"network-request-failed"))},mG(`${pG()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw Wv=null,e})}let Wv=null;function mK(t){return Wv=Wv||hK(t),Wv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new Kp(5e3,15e3),gK="__/auth/iframe",fK="emulator/auth/iframe",vK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yK(t){const e=t.config;rs(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d2(e,fK):`https://${t.config.authDomain}/${gK}`,r={apiKey:e.apiKey,appName:t.name,v:ch},i=xK.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Gp(r).slice(1)}`}async function wK(t){const e=await mK(t),n=Fo().gapi;return rs(n,t,"internal-error"),e.open({where:document.body,url:yK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vK,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=co(t,"network-request-failed"),l=Fo().setTimeout(()=>{a(o)},pK.get());function d(){Fo().clearTimeout(l),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_K=500,jK=600,CK="_blank",SK="http://localhost";class Bk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function BK(t,e,n,r=_K,i=jK){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const d=Object.assign(Object.assign({},bK),{width:r.toString(),height:i.toString(),top:a,left:o}),u=mi().toLowerCase();n&&(l=B5(u)?CK:n),C5(u)&&(e=e||SK,d.scrollbars="yes");const h=Object.entries(d).reduce((g,[y,x])=>`${g}${y}=${x},`,"");if(aG(u)&&l!=="_self")return NK(e||"",l),new Bk(null);const m=window.open(e||"",l,h);rs(m,t,"popup-blocked");try{m.focus()}catch(g){}return new Bk(m)}function NK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK="__/auth/handler",IK="emulator/auth/handler",EK=encodeURIComponent("fac");async function Nk(t,e,n,r,i,a){rs(t.config.authDomain,t,"auth-domain-config-required"),rs(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ch,eventId:i};if(e instanceof m2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Wp){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const d=await t._getAppCheckToken(),u=d?`#${EK}=${encodeURIComponent(d)}`:"";return`${TK(t)}?${Gp(l).slice(1)}${u}`}function TK({config:t}){return t.emulator?d2(t,IK):`https://${t.authDomain}/${kK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="webStorageSupport";class FK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q5,this._completeRedirectFn=nK,this._overrideRedirectResult=eK}async _openPopup(e,n,r,i){var a;Ul((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Nk(e,n,r,k_(),i);return BK(e,o,p2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Nk(e,n,r,k_(),i);return UG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ul(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wK(e),r=new iK(e);return n.register("authEvent",i=>(rs(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hb,{type:hb},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[hb];o!==void 0&&n(!!o),Qo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T5()||S5()||A2()}}const LK=FK;var kk="@firebase/auth",Ik="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PK(t){GA(new ou("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;rs(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F5(t)},u=new AG(r,i,a,d);return vG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),GA(new ou("auth-internal",e=>{const n=zp(e.getProvider("auth").getImmediate());return(r=>new RK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zc(kk,Ik,UK(t)),zc(kk,Ik,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=300,MK=d5("authIdTokenMaxAge")||DK;let Ek=null;const QK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MK)return;const i=n==null?void 0:n.token;Ek!==i&&(Ek=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HK(t=a2()){const e=i2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fG(t,{popupRedirectResolver:LK,persistence:[GG,FG,Q5]}),r=d5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=QK(a.toString());NG(n,o,()=>o(n.currentUser)),BG(n,l=>o(l))}}const i=l5("auth");return i&&xG(n,`http://${i}`),n}function OK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=co("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",OK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PK("Browser");var Tk=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jd,W5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,j){function k(){}k.prototype=j.prototype,_.D=j.prototype,_.prototype=new k,_.prototype.constructor=_,_.C=function(U,I,P){for(var L=Array(arguments.length-2),H=2;H<arguments.length;H++)L[H-2]=arguments[H];return j.prototype[I].apply(U,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,j,k){k||(k=0);var U=Array(16);if(typeof j=="string")for(var I=0;16>I;++I)U[I]=j.charCodeAt(k++)|j.charCodeAt(k++)<<8|j.charCodeAt(k++)<<16|j.charCodeAt(k++)<<24;else for(I=0;16>I;++I)U[I]=j[k++]|j[k++]<<8|j[k++]<<16|j[k++]<<24;j=_.g[0],k=_.g[1],I=_.g[2];var P=_.g[3],L=j+(P^k&(I^P))+U[0]+3614090360&4294967295;j=k+(L<<7&4294967295|L>>>25),L=P+(I^j&(k^I))+U[1]+3905402710&4294967295,P=j+(L<<12&4294967295|L>>>20),L=I+(k^P&(j^k))+U[2]+606105819&4294967295,I=P+(L<<17&4294967295|L>>>15),L=k+(j^I&(P^j))+U[3]+3250441966&4294967295,k=I+(L<<22&4294967295|L>>>10),L=j+(P^k&(I^P))+U[4]+4118548399&4294967295,j=k+(L<<7&4294967295|L>>>25),L=P+(I^j&(k^I))+U[5]+1200080426&4294967295,P=j+(L<<12&4294967295|L>>>20),L=I+(k^P&(j^k))+U[6]+2821735955&4294967295,I=P+(L<<17&4294967295|L>>>15),L=k+(j^I&(P^j))+U[7]+4249261313&4294967295,k=I+(L<<22&4294967295|L>>>10),L=j+(P^k&(I^P))+U[8]+1770035416&4294967295,j=k+(L<<7&4294967295|L>>>25),L=P+(I^j&(k^I))+U[9]+2336552879&4294967295,P=j+(L<<12&4294967295|L>>>20),L=I+(k^P&(j^k))+U[10]+4294925233&4294967295,I=P+(L<<17&4294967295|L>>>15),L=k+(j^I&(P^j))+U[11]+2304563134&4294967295,k=I+(L<<22&4294967295|L>>>10),L=j+(P^k&(I^P))+U[12]+1804603682&4294967295,j=k+(L<<7&4294967295|L>>>25),L=P+(I^j&(k^I))+U[13]+4254626195&4294967295,P=j+(L<<12&4294967295|L>>>20),L=I+(k^P&(j^k))+U[14]+2792965006&4294967295,I=P+(L<<17&4294967295|L>>>15),L=k+(j^I&(P^j))+U[15]+1236535329&4294967295,k=I+(L<<22&4294967295|L>>>10),L=j+(I^P&(k^I))+U[1]+4129170786&4294967295,j=k+(L<<5&4294967295|L>>>27),L=P+(k^I&(j^k))+U[6]+3225465664&4294967295,P=j+(L<<9&4294967295|L>>>23),L=I+(j^k&(P^j))+U[11]+643717713&4294967295,I=P+(L<<14&4294967295|L>>>18),L=k+(P^j&(I^P))+U[0]+3921069994&4294967295,k=I+(L<<20&4294967295|L>>>12),L=j+(I^P&(k^I))+U[5]+3593408605&4294967295,j=k+(L<<5&4294967295|L>>>27),L=P+(k^I&(j^k))+U[10]+38016083&4294967295,P=j+(L<<9&4294967295|L>>>23),L=I+(j^k&(P^j))+U[15]+3634488961&4294967295,I=P+(L<<14&4294967295|L>>>18),L=k+(P^j&(I^P))+U[4]+3889429448&4294967295,k=I+(L<<20&4294967295|L>>>12),L=j+(I^P&(k^I))+U[9]+568446438&4294967295,j=k+(L<<5&4294967295|L>>>27),L=P+(k^I&(j^k))+U[14]+3275163606&4294967295,P=j+(L<<9&4294967295|L>>>23),L=I+(j^k&(P^j))+U[3]+4107603335&4294967295,I=P+(L<<14&4294967295|L>>>18),L=k+(P^j&(I^P))+U[8]+1163531501&4294967295,k=I+(L<<20&4294967295|L>>>12),L=j+(I^P&(k^I))+U[13]+2850285829&4294967295,j=k+(L<<5&4294967295|L>>>27),L=P+(k^I&(j^k))+U[2]+4243563512&4294967295,P=j+(L<<9&4294967295|L>>>23),L=I+(j^k&(P^j))+U[7]+1735328473&4294967295,I=P+(L<<14&4294967295|L>>>18),L=k+(P^j&(I^P))+U[12]+2368359562&4294967295,k=I+(L<<20&4294967295|L>>>12),L=j+(k^I^P)+U[5]+4294588738&4294967295,j=k+(L<<4&4294967295|L>>>28),L=P+(j^k^I)+U[8]+2272392833&4294967295,P=j+(L<<11&4294967295|L>>>21),L=I+(P^j^k)+U[11]+1839030562&4294967295,I=P+(L<<16&4294967295|L>>>16),L=k+(I^P^j)+U[14]+4259657740&4294967295,k=I+(L<<23&4294967295|L>>>9),L=j+(k^I^P)+U[1]+2763975236&4294967295,j=k+(L<<4&4294967295|L>>>28),L=P+(j^k^I)+U[4]+1272893353&4294967295,P=j+(L<<11&4294967295|L>>>21),L=I+(P^j^k)+U[7]+4139469664&4294967295,I=P+(L<<16&4294967295|L>>>16),L=k+(I^P^j)+U[10]+3200236656&4294967295,k=I+(L<<23&4294967295|L>>>9),L=j+(k^I^P)+U[13]+681279174&4294967295,j=k+(L<<4&4294967295|L>>>28),L=P+(j^k^I)+U[0]+3936430074&4294967295,P=j+(L<<11&4294967295|L>>>21),L=I+(P^j^k)+U[3]+3572445317&4294967295,I=P+(L<<16&4294967295|L>>>16),L=k+(I^P^j)+U[6]+76029189&4294967295,k=I+(L<<23&4294967295|L>>>9),L=j+(k^I^P)+U[9]+3654602809&4294967295,j=k+(L<<4&4294967295|L>>>28),L=P+(j^k^I)+U[12]+3873151461&4294967295,P=j+(L<<11&4294967295|L>>>21),L=I+(P^j^k)+U[15]+530742520&4294967295,I=P+(L<<16&4294967295|L>>>16),L=k+(I^P^j)+U[2]+3299628645&4294967295,k=I+(L<<23&4294967295|L>>>9),L=j+(I^(k|~P))+U[0]+4096336452&4294967295,j=k+(L<<6&4294967295|L>>>26),L=P+(k^(j|~I))+U[7]+1126891415&4294967295,P=j+(L<<10&4294967295|L>>>22),L=I+(j^(P|~k))+U[14]+2878612391&4294967295,I=P+(L<<15&4294967295|L>>>17),L=k+(P^(I|~j))+U[5]+4237533241&4294967295,k=I+(L<<21&4294967295|L>>>11),L=j+(I^(k|~P))+U[12]+1700485571&4294967295,j=k+(L<<6&4294967295|L>>>26),L=P+(k^(j|~I))+U[3]+2399980690&4294967295,P=j+(L<<10&4294967295|L>>>22),L=I+(j^(P|~k))+U[10]+4293915773&4294967295,I=P+(L<<15&4294967295|L>>>17),L=k+(P^(I|~j))+U[1]+2240044497&4294967295,k=I+(L<<21&4294967295|L>>>11),L=j+(I^(k|~P))+U[8]+1873313359&4294967295,j=k+(L<<6&4294967295|L>>>26),L=P+(k^(j|~I))+U[15]+4264355552&4294967295,P=j+(L<<10&4294967295|L>>>22),L=I+(j^(P|~k))+U[6]+2734768916&4294967295,I=P+(L<<15&4294967295|L>>>17),L=k+(P^(I|~j))+U[13]+1309151649&4294967295,k=I+(L<<21&4294967295|L>>>11),L=j+(I^(k|~P))+U[4]+4149444226&4294967295,j=k+(L<<6&4294967295|L>>>26),L=P+(k^(j|~I))+U[11]+3174756917&4294967295,P=j+(L<<10&4294967295|L>>>22),L=I+(j^(P|~k))+U[2]+718787259&4294967295,I=P+(L<<15&4294967295|L>>>17),L=k+(P^(I|~j))+U[9]+3951481745&4294967295,_.g[0]=_.g[0]+j&4294967295,_.g[1]=_.g[1]+(I+(L<<21&4294967295|L>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+P&4294967295}r.prototype.u=function(_,j){j===void 0&&(j=_.length);for(var k=j-this.blockSize,U=this.B,I=this.h,P=0;P<j;){if(I==0)for(;P<=k;)i(this,_,P),P+=this.blockSize;if(typeof _=="string"){for(;P<j;)if(U[I++]=_.charCodeAt(P++),I==this.blockSize){i(this,U),I=0;break}}else for(;P<j;)if(U[I++]=_[P++],I==this.blockSize){i(this,U),I=0;break}}this.h=I,this.o+=j},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var j=1;j<_.length-8;++j)_[j]=0;var k=8*this.o;for(j=_.length-8;j<_.length;++j)_[j]=k&255,k/=256;for(this.u(_),_=Array(16),j=k=0;4>j;++j)for(var U=0;32>U;U+=8)_[k++]=this.g[j]>>>U&255;return _};function a(_,j){var k=l;return Object.prototype.hasOwnProperty.call(k,_)?k[_]:k[_]=j(_)}function o(_,j){this.h=j;for(var k=[],U=!0,I=_.length-1;0<=I;I--){var P=_[I]|0;U&&P==j||(k[I]=P,U=!1)}this.g=k}var l={};function d(_){return-128<=_&&128>_?a(_,function(j){return new o([j|0],0>j?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return m;if(0>_)return E(u(-_));for(var j=[],k=1,U=0;_>=k;U++)j[U]=_/k|0,k*=4294967296;return new o(j,0)}function h(_,j){if(_.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(_.charAt(0)=="-")return E(h(_.substring(1),j));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(j,8)),U=m,I=0;I<_.length;I+=8){var P=Math.min(8,_.length-I),L=parseInt(_.substring(I,I+P),j);8>P?(P=u(Math.pow(j,P)),U=U.j(P).add(u(L))):(U=U.j(k),U=U.add(u(L)))}return U}var m=d(0),g=d(1),y=d(16777216);t=o.prototype,t.m=function(){if(C(this))return-E(this).m();for(var _=0,j=1,k=0;k<this.g.length;k++){var U=this.i(k);_+=(0<=U?U:4294967296+U)*j,j*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(x(this))return"0";if(C(this))return"-"+E(this).toString(_);for(var j=u(Math.pow(_,6)),k=this,U="";;){var I=v(k,j).g;k=T(k,I.j(j));var P=((0<k.g.length?k.g[0]:k.h)>>>0).toString(_);if(k=I,x(k))return P+U;for(;6>P.length;)P="0"+P;U=P+U}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function x(_){if(_.h!=0)return!1;for(var j=0;j<_.g.length;j++)if(_.g[j]!=0)return!1;return!0}function C(_){return _.h==-1}t.l=function(_){return _=T(this,_),C(_)?-1:x(_)?0:1};function E(_){for(var j=_.g.length,k=[],U=0;U<j;U++)k[U]=~_.g[U];return new o(k,~_.h).add(g)}t.abs=function(){return C(this)?E(this):this},t.add=function(_){for(var j=Math.max(this.g.length,_.g.length),k=[],U=0,I=0;I<=j;I++){var P=U+(this.i(I)&65535)+(_.i(I)&65535),L=(P>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);U=L>>>16,P&=65535,L&=65535,k[I]=L<<16|P}return new o(k,k[k.length-1]&-2147483648?-1:0)};function T(_,j){return _.add(E(j))}t.j=function(_){if(x(this)||x(_))return m;if(C(this))return C(_)?E(this).j(E(_)):E(E(this).j(_));if(C(_))return E(this.j(E(_)));if(0>this.l(y)&&0>_.l(y))return u(this.m()*_.m());for(var j=this.g.length+_.g.length,k=[],U=0;U<2*j;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var I=0;I<_.g.length;I++){var P=this.i(U)>>>16,L=this.i(U)&65535,H=_.i(I)>>>16,O=_.i(I)&65535;k[2*U+2*I]+=L*O,B(k,2*U+2*I),k[2*U+2*I+1]+=P*O,B(k,2*U+2*I+1),k[2*U+2*I+1]+=L*H,B(k,2*U+2*I+1),k[2*U+2*I+2]+=P*H,B(k,2*U+2*I+2)}for(U=0;U<j;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=j;U<2*j;U++)k[U]=0;return new o(k,0)};function B(_,j){for(;(_[j]&65535)!=_[j];)_[j+1]+=_[j]>>>16,_[j]&=65535,j++}function S(_,j){this.g=_,this.h=j}function v(_,j){if(x(j))throw Error("division by zero");if(x(_))return new S(m,m);if(C(_))return j=v(E(_),j),new S(E(j.g),E(j.h));if(C(j))return j=v(_,E(j)),new S(E(j.g),j.h);if(30<_.g.length){if(C(_)||C(j))throw Error("slowDivide_ only works with positive integers.");for(var k=g,U=j;0>=U.l(_);)k=w(k),U=w(U);var I=N(k,1),P=N(U,1);for(U=N(U,2),k=N(k,2);!x(U);){var L=P.add(U);0>=L.l(_)&&(I=I.add(k),P=L),U=N(U,1),k=N(k,1)}return j=T(_,I.j(j)),new S(I,j)}for(I=m;0<=_.l(j);){for(k=Math.max(1,Math.floor(_.m()/j.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),P=u(k),L=P.j(j);C(L)||0<L.l(_);)k-=U,P=u(k),L=P.j(j);x(P)&&(P=g),I=I.add(P),_=T(_,L)}return new S(I,_)}t.A=function(_){return v(this,_).h},t.and=function(_){for(var j=Math.max(this.g.length,_.g.length),k=[],U=0;U<j;U++)k[U]=this.i(U)&_.i(U);return new o(k,this.h&_.h)},t.or=function(_){for(var j=Math.max(this.g.length,_.g.length),k=[],U=0;U<j;U++)k[U]=this.i(U)|_.i(U);return new o(k,this.h|_.h)},t.xor=function(_){for(var j=Math.max(this.g.length,_.g.length),k=[],U=0;U<j;U++)k[U]=this.i(U)^_.i(U);return new o(k,this.h^_.h)};function w(_){for(var j=_.g.length+1,k=[],U=0;U<j;U++)k[U]=_.i(U)<<1|_.i(U-1)>>>31;return new o(k,_.h)}function N(_,j){var k=j>>5;j%=32;for(var U=_.g.length-k,I=[],P=0;P<U;P++)I[P]=0<j?_.i(P+k)>>>j|_.i(P+k+1)<<32-j:_.i(P+k);return new o(I,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,W5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Jd=o}).apply(typeof Tk!="undefined"?Tk:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Uf=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q5,jm,X5,qv,T_,Y5,J5,Z5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,D,Q){return f==Array.prototype||f==Object.prototype||(f[D]=Q.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var D=0;D<f.length;++D){var Q=f[D];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var r=n(this);function i(f,D){if(D)e:{var Q=r;f=f.split(".");for(var q=0;q<f.length-1;q++){var ge=f[q];if(!(ge in Q))break e;Q=Q[ge]}f=f[f.length-1],q=Q[f],D=D(q),D!=q&&D!=null&&e(Q,f,{configurable:!0,writable:!0,value:D})}}function a(f,D){f instanceof String&&(f+="");var Q=0,q=!1,ge={next:function(){if(!q&&Q<f.length){var Ne=Q++;return{value:D(Ne,f[Ne]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}i("Array.prototype.values",function(f){return f||function(){return a(this,function(D,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function d(f){var D=typeof f;return D=D!="object"?D:f?Array.isArray(f)?"array":D:"null",D=="array"||D=="object"&&typeof f.length=="number"}function u(f){var D=typeof f;return D=="object"&&f!=null||D=="function"}function h(f,D,Q){return f.call.apply(f.bind,arguments)}function m(f,D,Q){if(!f)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,q),f.apply(D,ge)}}return function(){return f.apply(D,arguments)}}function g(f,D,Q){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function y(f,D){var Q=Array.prototype.slice.call(arguments,1);return function(){var q=Q.slice();return q.push.apply(q,arguments),f.apply(this,q)}}function x(f,D){function Q(){}Q.prototype=D.prototype,f.aa=D.prototype,f.prototype=new Q,f.prototype.constructor=f,f.Qb=function(q,ge,Ne){for(var rt=Array(arguments.length-2),en=2;en<arguments.length;en++)rt[en-2]=arguments[en];return D.prototype[ge].apply(q,rt)}}function C(f){const D=f.length;if(0<D){const Q=Array(D);for(let q=0;q<D;q++)Q[q]=f[q];return Q}return[]}function E(f,D){for(let Q=1;Q<arguments.length;Q++){const q=arguments[Q];if(d(q)){const ge=f.length||0,Ne=q.length||0;f.length=ge+Ne;for(let rt=0;rt<Ne;rt++)f[ge+rt]=q[rt]}else f.push(q)}}class T{constructor(D,Q){this.i=D,this.j=Q,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function B(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function v(f){return v[" "](f),f}v[" "]=function(){};var w=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function N(f,D,Q){for(const q in f)D.call(Q,f[q],q,f)}function _(f,D){for(const Q in f)D.call(void 0,f[Q],Q,f)}function j(f){const D={};for(const Q in f)D[Q]=f[Q];return D}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,D){let Q,q;for(let ge=1;ge<arguments.length;ge++){q=arguments[ge];for(Q in q)f[Q]=q[Q];for(let Ne=0;Ne<k.length;Ne++)Q=k[Ne],Object.prototype.hasOwnProperty.call(q,Q)&&(f[Q]=q[Q])}}function I(f){var D=1;f=f.split(":");const Q=[];for(;0<D&&f.length;)Q.push(f.shift()),D--;return f.length&&Q.push(f.join(":")),Q}function P(f){l.setTimeout(()=>{throw f},0)}function L(){var f=Y;let D=null;return f.g&&(D=f.g,f.g=f.g.next,f.g||(f.h=null),D.next=null),D}class H{constructor(){this.h=this.g=null}add(D,Q){const q=O.get();q.set(D,Q),this.h?this.h.next=q:this.g=q,this.h=q}}var O=new T(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(D,Q){this.h=D,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let G,$=!1,Y=new H,J=()=>{const f=l.Promise.resolve(void 0);G=()=>{f.then(V)}};var V=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(Q){P(Q)}var D=O;D.j(f),100>D.h&&(D.h++,f.next=D.g,D.g=f)}$=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(f,D){this.type=f,this.g=this.target=D,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,D=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const Q=()=>{};l.addEventListener("test",Q,D),l.removeEventListener("test",Q,D)}catch(Q){}return f})();function le(f,D){if(Z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var Q=this.type=f.type,q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=D,D=f.relatedTarget){if(w){e:{try{v(D.nodeName);var ge=!0;break e}catch(Ne){}ge=!1}ge||(D=null)}}else Q=="mouseover"?D=f.fromElement:Q=="mouseout"&&(D=f.toElement);this.relatedTarget=D,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:we[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&le.aa.h.call(this)}}x(le,Z);var we={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),te=0;function ce(f,D,Q,q,ge){this.listener=f,this.proxy=null,this.src=D,this.type=Q,this.capture=!!q,this.ha=ge,this.key=++te,this.da=this.fa=!1}function re(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ye(f){this.src=f,this.g={},this.h=0}ye.prototype.add=function(f,D,Q,q,ge){var Ne=f.toString();f=this.g[Ne],f||(f=this.g[Ne]=[],this.h++);var rt=Le(f,D,q,ge);return-1<rt?(D=f[rt],Q||(D.fa=!1)):(D=new ce(D,this.src,Ne,!!q,ge),D.fa=Q,f.push(D)),D};function Be(f,D){var Q=D.type;if(Q in f.g){var q=f.g[Q],ge=Array.prototype.indexOf.call(q,D,void 0),Ne;(Ne=0<=ge)&&Array.prototype.splice.call(q,ge,1),Ne&&(re(D),f.g[Q].length==0&&(delete f.g[Q],f.h--))}}function Le(f,D,Q,q){for(var ge=0;ge<f.length;++ge){var Ne=f[ge];if(!Ne.da&&Ne.listener==D&&Ne.capture==!!Q&&Ne.ha==q)return ge}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),De={};function at(f,D,Q,q,ge){if(Array.isArray(D)){for(var Ne=0;Ne<D.length;Ne++)at(f,D[Ne],Q,q,ge);return null}return Q=ie(Q),f&&f[Se]?f.K(D,Q,u(q)?!!q.capture:!1,ge):Ke(f,D,Q,!1,q,ge)}function Ke(f,D,Q,q,ge,Ne){if(!D)throw Error("Invalid event type");var rt=u(ge)?!!ge.capture:!!ge,en=ct(f);if(en||(f[Ee]=en=new ye(f)),Q=en.add(D,Q,q,rt,Ne),Q.proxy)return Q;if(q=He(),Q.proxy=q,q.src=f,q.listener=Q,f.addEventListener)se||(ge=rt),ge===void 0&&(ge=!1),f.addEventListener(D.toString(),q,ge);else if(f.attachEvent)f.attachEvent(Te(D.toString()),q);else if(f.addListener&&f.removeListener)f.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function He(){function f(Q){return D.call(f.src,f.listener,Q)}const D=Fe;return f}function Ce(f,D,Q,q,ge){if(Array.isArray(D))for(var Ne=0;Ne<D.length;Ne++)Ce(f,D[Ne],Q,q,ge);else q=u(q)?!!q.capture:!!q,Q=ie(Q),f&&f[Se]?(f=f.i,D=String(D).toString(),D in f.g&&(Ne=f.g[D],Q=Le(Ne,Q,q,ge),-1<Q&&(re(Ne[Q]),Array.prototype.splice.call(Ne,Q,1),Ne.length==0&&(delete f.g[D],f.h--)))):f&&(f=ct(f))&&(D=f.g[D.toString()],f=-1,D&&(f=Le(D,Q,q,ge)),(Q=-1<f?D[f]:null)&&ue(Q))}function ue(f){if(typeof f!="number"&&f&&!f.da){var D=f.src;if(D&&D[Se])Be(D.i,f);else{var Q=f.type,q=f.proxy;D.removeEventListener?D.removeEventListener(Q,q,f.capture):D.detachEvent?D.detachEvent(Te(Q),q):D.addListener&&D.removeListener&&D.removeListener(q),(Q=ct(D))?(Be(Q,f),Q.h==0&&(Q.src=null,D[Ee]=null)):re(f)}}}function Te(f){return f in De?De[f]:De[f]="on"+f}function Fe(f,D){if(f.da)f=!0;else{D=new le(D,this);var Q=f.listener,q=f.ha||f.src;f.fa&&ue(f),f=Q.call(q,D)}return f}function ct(f){return f=f[Ee],f instanceof ye?f:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ie(f){return typeof f=="function"?f:(f[xt]||(f[xt]=function(D){return f.handleEvent(D)}),f[xt])}function Ae(){X.call(this),this.i=new ye(this),this.M=this,this.F=null}x(Ae,X),Ae.prototype[Se]=!0,Ae.prototype.removeEventListener=function(f,D,Q,q){Ce(this,f,D,Q,q)};function me(f,D){var Q,q=f.F;if(q)for(Q=[];q;q=q.F)Q.push(q);if(f=f.M,q=D.type||D,typeof D=="string")D=new Z(D,f);else if(D instanceof Z)D.target=D.target||f;else{var ge=D;D=new Z(q,f),U(D,ge)}if(ge=!0,Q)for(var Ne=Q.length-1;0<=Ne;Ne--){var rt=D.g=Q[Ne];ge=ke(rt,q,!0,D)&&ge}if(rt=D.g=f,ge=ke(rt,q,!0,D)&&ge,ge=ke(rt,q,!1,D)&&ge,Q)for(Ne=0;Ne<Q.length;Ne++)rt=D.g=Q[Ne],ge=ke(rt,q,!1,D)&&ge}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var f=this.i,D;for(D in f.g){for(var Q=f.g[D],q=0;q<Q.length;q++)re(Q[q]);delete f.g[D],f.h--}}this.F=null},Ae.prototype.K=function(f,D,Q,q){return this.i.add(String(f),D,!1,Q,q)},Ae.prototype.L=function(f,D,Q,q){return this.i.add(String(f),D,!0,Q,q)};function ke(f,D,Q,q){if(D=f.i.g[String(D)],!D)return!0;D=D.concat();for(var ge=!0,Ne=0;Ne<D.length;++Ne){var rt=D[Ne];if(rt&&!rt.da&&rt.capture==Q){var en=rt.listener,mr=rt.ha||rt.src;rt.fa&&Be(f.i,rt),ge=en.call(mr,q)!==!1&&ge}}return ge&&!q.defaultPrevented}function jt(f,D,Q){if(typeof f=="function")Q&&(f=g(f,Q));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:l.setTimeout(f,D||0)}function nt(f){f.g=jt(()=>{f.g=null,f.i&&(f.i=!1,nt(f))},f.l);const D=f.h;f.h=null,f.m.apply(null,D)}class et extends X{constructor(D,Q){super(),this.m=D,this.l=Q,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:nt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(f){X.call(this),this.h=f,this.g={}}x(ut,X);var bt=[];function Ye(f){N(f.g,function(D,Q){this.g.hasOwnProperty(Q)&&ue(D)},f),f.g={}}ut.prototype.N=function(){ut.aa.N.call(this),Ye(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=l.JSON.stringify,Kt=l.JSON.parse,mt=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function ne(){}ne.prototype.h=null;function Re(f){return f.h||(f.h=f.i())}function Ue(){}var dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ze(){Z.call(this,"d")}x(ze,Z);function wt(){Z.call(this,"c")}x(wt,Z);var Dt={},Et=null;function Me(){return Et=Et||new Ae}Dt.La="serverreachability";function pt(f){Z.call(this,Dt.La,f)}x(pt,Z);function os(f){const D=Me();me(D,new pt(D))}Dt.STAT_EVENT="statevent";function je(f,D){Z.call(this,Dt.STAT_EVENT,f),this.stat=D}x(je,Z);function bs(f){const D=Me();me(D,new je(D,f))}Dt.Ma="timingevent";function Vn(f,D){Z.call(this,Dt.Ma,f),this.size=D}x(Vn,Z);function yn(f,D){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},D)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Ar(f,D,Q,q,ge,Ne){f.info(function(){if(f.g)if(Ne)for(var rt="",en=Ne.split("&"),mr=0;mr<en.length;mr++){var Ls=en[mr].split("=");if(1<Ls.length){var _r=Ls[0];Ls=Ls[1];var er=_r.split("_");rt=2<=er.length&&er[1]=="type"?rt+(_r+"="+Ls+"&"):rt+(_r+"=redacted&")}}else rt=null;else rt=Ne;return"XMLHTTP REQ ("+q+") [attempt "+ge+"]: "+D+`
`+Q+`
`+rt})}function hr(f,D,Q,q,ge,Ne,rt){f.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ge+"]: "+D+`
`+Q+`
`+Ne+" "+rt})}function mn(f,D,Q,q){f.info(function(){return"XMLHTTP TEXT ("+D+"): "+_s(f,Q)+(q?" "+q:"")})}function hs(f,D){f.info(function(){return"TIMEOUT: "+D})}hn.prototype.info=function(){};function _s(f,D){if(!f.g)return D;if(!D)return null;try{var Q=JSON.parse(D);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var q=Q[f];if(!(2>q.length)){var ge=q[1];if(Array.isArray(ge)&&!(1>ge.length)){var Ne=ge[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var rt=1;rt<ge.length;rt++)ge[rt]=""}}}}return Je(Q)}catch(en){return D}}var lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ft;function Ns(){}x(Ns,ne),Ns.prototype.g=function(){return new XMLHttpRequest},Ns.prototype.i=function(){return{}},ft=new Ns;function Zs(f,D,Q,q){this.j=f,this.i=D,this.l=Q,this.R=q||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ur}function Ur(){this.i=null,this.g="",this.h=!1}var Pr={},wn={};function wr(f,D,Q){f.L=1,f.v=ql(Zi(D)),f.m=Q,f.P=!0,br(f,null)}function br(f,D){f.F=Date.now(),xs(f),f.A=Zi(f.v);var Q=f.A,q=f.R;Array.isArray(q)||(q=[String(q)]),Yl(Q.i,"t",q),f.C=0,Q=f.j.J,f.h=new Ur,f.g=Ug(f.j,Q?D:null,!f.m),0<f.O&&(f.M=new et(g(f.Y,f,f.g),f.O)),D=f.U,Q=f.g,q=f.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(bt[0]=ge.toString()),ge=bt);for(var Ne=0;Ne<ge.length;Ne++){var rt=at(Q,ge[Ne],q||D.handleEvent,!1,D.h||D);if(!rt)break;D.g[rt.key]=rt}D=f.H?j(f.H):{},f.m?(f.u||(f.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,D)):(f.u="GET",f.g.ea(f.A,f.u,null,D)),os(),Ar(f.i,f.u,f.A,f.l,f.R,f.m)}Zs.prototype.ca=function(f){f=f.target;const D=this.M;D&&Di(f)==3?D.j():this.Y(f)},Zs.prototype.Y=function(f){try{if(f==this.g)e:{const er=Di(this.g);var D=this.g.Ba();const wa=this.g.Z();if(!(3>er)&&(er!=3||this.g&&(this.h.h||this.g.oa()||Nh(this.g)))){this.J||er!=4||D==7||(D==8||0>=wa?os(3):os(2)),Ui(this);var Q=this.g.Z();this.X=Q;t:if(ti(this)){var q=Nh(this.g);f="";var ge=q.length,Ne=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){on(this),Ji(this);var rt="";break t}this.h.i=new l.TextDecoder}for(D=0;D<ge;D++)this.h.h=!0,f+=this.h.i.decode(q[D],{stream:!(Ne&&D==ge-1)});q.length=0,this.h.g+=f,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=Q==200,hr(this.i,this.u,this.A,this.l,this.R,er,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var en,mr=this.g;if((en=mr.g?mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(en)){var Ls=en;break t}}Ls=null}if(Q=Ls)mn(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,od(this,Q);else{this.o=!1,this.s=3,bs(12),on(this),Ji(this);break e}}if(this.P){Q=!0;let ta;for(;!this.J&&this.C<rt.length;)if(ta=Ri(this,rt),ta==wn){er==4&&(this.s=4,bs(14),Q=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(ta==Pr){this.s=4,bs(15),mn(this.i,this.l,rt,"[Invalid Chunk]"),Q=!1;break}else mn(this.i,this.l,ta,null),od(this,ta);if(ti(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),er!=4||rt.length!=0||this.h.h||(this.s=1,bs(16),Q=!1),this.o=this.o&&Q,!Q)mn(this.i,this.l,rt,"[Invalid Chunked Response]"),on(this),Ji(this);else if(0<rt.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Ih(_r),_r.M=!0,bs(11))}}else mn(this.i,this.l,rt,null),od(this,rt);er==4&&on(this),this.o&&!this.J&&(er==4?Lu(this.j,this):(this.o=!1,xs(this)))}else ku(this.g),Q==400&&0<rt.indexOf("Unknown SID")?(this.s=3,bs(12)):(this.s=0,bs(13)),on(this),Ji(this)}}}catch(er){}finally{}};function ti(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ri(f,D){var Q=f.C,q=D.indexOf(`
`,Q);return q==-1?wn:(Q=Number(D.substring(Q,q)),isNaN(Q)?Pr:(q+=1,q+Q>D.length?wn:(D=D.slice(q,q+Q),f.C=q+Q,D)))}Zs.prototype.cancel=function(){this.J=!0,on(this)};function xs(f){f.S=Date.now()+f.I,gi(f,f.I)}function gi(f,D){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yn(g(f.ba,f),D)}function Ui(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Zs.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(hs(this.i,this.A),this.L!=2&&(os(),bs(17)),on(this),this.s=2,Ji(this)):gi(this,this.S-f)};function Ji(f){f.j.G==0||f.J||Lu(f.j,f)}function on(f){Ui(f);var D=f.M;D&&typeof D.ma=="function"&&D.ma(),f.M=null,Ye(f.U),f.g&&(D=f.g,f.g=null,D.abort(),D.ma())}function od(f,D){try{var Q=f.j;if(Q.G!=0&&(Q.g==f||fi(Q.h,f))){if(!f.K&&fi(Q.h,f)&&Q.G==3){try{var q=Q.Da.g.parse(D)}catch(Ls){q=null}if(Array.isArray(q)&&q.length==3){var ge=q;if(ge[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<f.F)Fu(Q),za(Q);else break e;Tu(Q),bs(18)}}else Q.za=ge[1],0<Q.za-Q.T&&37500>ge[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=yn(g(Q.Za,Q),6e3));if(1>=bg(Q.h)&&Q.ca){try{Q.ca()}catch(Ls){}Q.ca=void 0}}else Yo(Q,11)}else if((f.K||Q.g==f)&&Fu(Q),!B(D))for(ge=Q.Da.g.parse(D),D=0;D<ge.length;D++){let Ls=ge[D];if(Q.T=Ls[0],Ls=Ls[1],Q.G==2)if(Ls[0]=="c"){Q.K=Ls[1],Q.ia=Ls[2];const _r=Ls[3];_r!=null&&(Q.la=_r,Q.j.info("VER="+Q.la));const er=Ls[4];er!=null&&(Q.Aa=er,Q.j.info("SVER="+Q.Aa));const wa=Ls[5];wa!=null&&typeof wa=="number"&&0<wa&&(q=1.5*wa,Q.L=q,Q.j.info("backChannelRequestTimeoutMs_="+q)),q=Q;const ta=f.g;if(ta){const md=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(md){var Ne=q.h;Ne.g||md.indexOf("spdy")==-1&&md.indexOf("quic")==-1&&md.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(jh(Ne,Ne.h),Ne.h=null))}if(q.D){const Uu=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;Uu&&(q.ya=Uu,rn(q.I,q.D,Uu))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-f.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),q=Q;var rt=f;if(q.qa=Rg(q,q.J?q.ia:null,q.W),rt.K){_g(q.h,rt);var en=rt,mr=q.L;mr&&(en.I=mr),en.B&&(Ui(en),xs(en)),q.g=rt}else hd(q);0<Q.i.length&&xo(Q)}else Ls[0]!="stop"&&Ls[0]!="close"||Yo(Q,7);else Q.G==3&&(Ls[0]=="stop"||Ls[0]=="close"?Ls[0]=="stop"?Yo(Q,7):Mr(Q):Ls[0]!="noop"&&Q.l&&Q.l.ta(Ls),Q.v=0)}}os(4)}catch(Ls){}}var ld=class{constructor(f,D){this.g=f,this.map=D}};function Ko(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function si(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bg(f){return f.h?1:f.g?f.g.size:0}function fi(f,D){return f.h?f.h==D:f.g?f.g.has(D):!1}function jh(f,D){f.g?f.g.add(D):f.h=D}function _g(f,D){f.h&&f.h==D?f.h=null:f.g&&f.g.has(D)&&f.g.delete(D)}Ko.prototype.cancel=function(){if(this.i=jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function jg(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let D=f.i;for(const Q of f.g.values())D=D.concat(Q.D);return D}return C(f.i)}function ju(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var D=[],Q=f.length,q=0;q<Q;q++)D.push(f[q]);return D}D=[],Q=0;for(q in f)D[Q++]=f[q];return D}function Cu(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(d(f)||typeof f=="string"){var D=[];f=f.length;for(var Q=0;Q<f;Q++)D.push(Q);return D}D=[],Q=0;for(const q in f)D[Q++]=q;return D}}}function Kl(f,D){if(f.forEach&&typeof f.forEach=="function")f.forEach(D,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,D,void 0);else for(var Q=Cu(f),q=ju(f),ge=q.length,Ne=0;Ne<ge;Ne++)D.call(void 0,q[Ne],Q&&Q[Ne],f)}var cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k0(f,D){if(f){f=f.split("&");for(var Q=0;Q<f.length;Q++){var q=f[Q].indexOf("="),ge=null;if(0<=q){var Ne=f[Q].substring(0,q);ge=f[Q].substring(q+1)}else Ne=f[Q];D(Ne,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function zo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof zo){this.h=f.h,dd(this,f.j),this.o=f.o,this.g=f.g,zl(this,f.s),this.l=f.l;var D=f.i,Q=new go;Q.i=D.i,D.g&&(Q.g=new Map(D.g),Q.h=D.h),Wl(this,Q),this.m=f.m}else f&&(D=String(f).match(cd))?(this.h=!1,dd(this,D[1]||"",!0),this.o=ks(D[2]||""),this.g=ks(D[3]||"",!0),zl(this,D[4]),this.l=ks(D[5]||"",!0),Wl(this,D[6]||"",!0),this.m=ks(D[7]||"")):(this.h=!1,this.i=new go(null,this.h))}zo.prototype.toString=function(){var f=[],D=this.j;D&&f.push(Xl(D,Su,!0),":");var Q=this.g;return(Q||D=="file")&&(f.push("//"),(D=this.o)&&f.push(Xl(D,Su,!0),"@"),f.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&f.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&f.push("/"),f.push(Xl(Q,Q.charAt(0)=="/"?Bg:Sg,!0))),(Q=this.i.toString())&&f.push("?",Q),(Q=this.m)&&f.push("#",Xl(Q,Ch)),f.join("")};function Zi(f){return new zo(f)}function dd(f,D,Q){f.j=Q?ks(D,!0):D,f.j&&(f.j=f.j.replace(/:$/,""))}function zl(f,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);f.s=D}else f.s=null}function Wl(f,D,Q){D instanceof go?(f.i=D,fo(f.i,f.h)):(Q||(D=Xl(D,Ng)),f.i=new go(D,f.h))}function rn(f,D,Q){f.i.set(D,Q)}function ql(f){return rn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ks(f,D){return f?D?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xl(f,D,Q){return typeof f=="string"?(f=encodeURI(f).replace(D,Cg),Q&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cg(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Su=/[#\/\?@]/g,Sg=/[#\?:]/g,Bg=/[#\?]/g,Ng=/[#\?@]/g,Ch=/#/g;function go(f,D){this.h=this.g=null,this.i=f||null,this.j=!!D}function Dr(f){f.g||(f.g=new Map,f.h=0,f.i&&k0(f.i,function(D,Q){f.add(decodeURIComponent(D.replace(/\+/g," ")),Q)}))}t=go.prototype,t.add=function(f,D){Dr(this),this.i=null,f=ya(this,f);var Q=this.g.get(f);return Q||this.g.set(f,Q=[]),Q.push(D),this.h+=1,this};function $a(f,D){Dr(f),D=ya(f,D),f.g.has(D)&&(f.i=null,f.h-=f.g.get(D).length,f.g.delete(D))}function Va(f,D){return Dr(f),D=ya(f,D),f.g.has(D)}t.forEach=function(f,D){Dr(this),this.g.forEach(function(Q,q){Q.forEach(function(ge){f.call(D,ge,q,this)},this)},this)},t.na=function(){Dr(this);const f=Array.from(this.g.values()),D=Array.from(this.g.keys()),Q=[];for(let q=0;q<D.length;q++){const ge=f[q];for(let Ne=0;Ne<ge.length;Ne++)Q.push(D[q])}return Q},t.V=function(f){Dr(this);let D=[];if(typeof f=="string")Va(this,f)&&(D=D.concat(this.g.get(ya(this,f))));else{f=Array.from(this.g.values());for(let Q=0;Q<f.length;Q++)D=D.concat(f[Q])}return D},t.set=function(f,D){return Dr(this),this.i=null,f=ya(this,f),Va(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[D]),this.h+=1,this},t.get=function(f,D){return f?(f=this.V(f),0<f.length?String(f[0]):D):D};function Yl(f,D,Q){$a(f,D),0<Q.length&&(f.i=null,f.g.set(ya(f,D),C(Q)),f.h+=Q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],D=Array.from(this.g.keys());for(var Q=0;Q<D.length;Q++){var q=D[Q];const Ne=encodeURIComponent(String(q)),rt=this.V(q);for(q=0;q<rt.length;q++){var ge=Ne;rt[q]!==""&&(ge+="="+encodeURIComponent(String(rt[q]))),f.push(ge)}}return this.i=f.join("&")};function ya(f,D){return D=String(D),f.j&&(D=D.toLowerCase()),D}function fo(f,D){D&&!f.j&&(Dr(f),f.i=null,f.g.forEach(function(Q,q){var ge=q.toLowerCase();q!=ge&&($a(this,q),Yl(this,ge,Q))},f)),f.j=D}function I0(f,D){const Q=new hn;if(l.Image){const q=new Image;q.onload=y(Pi,Q,"TestLoadImage: loaded",!0,D,q),q.onerror=y(Pi,Q,"TestLoadImage: error",!1,D,q),q.onabort=y(Pi,Q,"TestLoadImage: abort",!1,D,q),q.ontimeout=y(Pi,Q,"TestLoadImage: timeout",!1,D,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=f}else D(!1)}function kg(f,D){const Q=new hn,q=new AbortController,ge=setTimeout(()=>{q.abort(),Pi(Q,"TestPingServer: timeout",!1,D)},1e4);fetch(f,{signal:q.signal}).then(Ne=>{clearTimeout(ge),Ne.ok?Pi(Q,"TestPingServer: ok",!0,D):Pi(Q,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(ge),Pi(Q,"TestPingServer: error",!1,D)})}function Pi(f,D,Q,q,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),q(Q)}catch(Ne){}}function E0(){this.g=new mt}function Ig(f,D,Q){const q=Q||"";try{Kl(f,function(ge,Ne){let rt=ge;u(ge)&&(rt=Je(ge)),D.push(q+Ne+"="+encodeURIComponent(rt))})}catch(ge){throw D.push(q+"type="+encodeURIComponent("_badmap")),ge}}function Wo(f){this.l=f.Ub||null,this.j=f.eb||!1}x(Wo,ne),Wo.prototype.g=function(){return new ud(this.l,this.j)},Wo.prototype.i=(function(f){return function(){return f}})({});function ud(f,D){Ae.call(this),this.D=f,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ud,Ae),t=ud.prototype,t.open=function(f,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=D,this.readyState=1,Ka(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(D.body=f),(this.D||l).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eg(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eg(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var D=f.value?f.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!f.done}))&&(this.response=this.responseText+=D)}f.done?Ga(this):Ka(this),this.readyState==3&&Eg(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ga(this))},t.Qa=function(f){this.g&&(this.response=f,Ga(this))},t.ga=function(){this.g&&Ga(this)};function Ga(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ka(f)}t.setRequestHeader=function(f,D){this.u.append(f,D)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],D=this.h.entries();for(var Q=D.next();!Q.done;)Q=Q.value,f.push(Q[0]+": "+Q[1]),Q=D.next();return f.join(`\r
`)};function Ka(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ud.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function qo(f){let D="";return N(f,function(Q,q){D+=q,D+=":",D+=Q,D+=`\r
`}),D}function Jl(f,D,Q){e:{for(q in Q){var q=!1;break e}q=!0}q||(Q=qo(Q),typeof f=="string"?Q!=null&&encodeURIComponent(String(Q)):rn(f,D,Q))}function bn(f){Ae.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(bn,Ae);var T0=/^https?$/i,Sh=["POST","PUT"];t=bn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,D,Q,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);D=D?D.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ft.g(),this.v=this.o?Re(this.o):Re(ft),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(D,String(f),!0),this.B=!1}catch(Ne){Ad(this,Ne);return}if(f=Q||"",Q=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ge in q)Q.set(ge,q[ge]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const Ne of q.keys())Q.set(Ne,q.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(Q.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),ge=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Sh,D,void 0))||q||ge||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,rt]of Q)this.g.setRequestHeader(Ne,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nu(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ne){Ad(this,Ne)}};function Ad(f,D){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=D,f.m=5,Bu(f),ea(f)}function Bu(f){f.A||(f.A=!0,me(f,"complete"),me(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,me(this,"complete"),me(this,"abort"),ea(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ea(this,!0)),bn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bh(this):this.bb())},t.bb=function(){Bh(this)};function Bh(f){if(f.h&&typeof o!="undefined"&&(!f.v[1]||Di(f)!=4||f.Z()!=2)){if(f.u&&Di(f)==4)jt(f.Ea,0,f);else if(me(f,"readystatechange"),Di(f)==4){f.h=!1;try{const rt=f.Z();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var Q;if(!(Q=D)){var q;if(q=rt===0){var ge=String(f.D).match(cd)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),q=!T0.test(ge?ge.toLowerCase():"")}Q=q}if(Q)me(f,"complete"),me(f,"success");else{f.m=6;try{var Ne=2<Di(f)?f.g.statusText:""}catch(en){Ne=""}f.l=Ne+" ["+f.Z()+"]",Bu(f)}}finally{ea(f)}}}}function ea(f,D){if(f.g){Nu(f);const Q=f.g,q=f.v[0]?()=>{}:null;f.g=null,f.v=null,D||me(f,"ready");try{Q.onreadystatechange=q}catch(ge){}}}function Nu(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Di(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var D=this.g.responseText;return f&&D.indexOf(f)==0&&(D=D.substring(f.length)),Kt(D)}};function Nh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(D){return null}}function ku(f){const D={};f=(f.g&&2<=Di(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<f.length;q++){if(B(f[q]))continue;var Q=I(f[q]);const ge=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const Ne=D[ge]||[];D[ge]=Ne,Ne.push(Q)}_(D,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(f,D,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[f]||D}function kh(f){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vo("baseRetryDelayMs",5e3,f),this.cb=vo("retryDelaySeedMs",1e4,f),this.Wa=vo("forwardChannelMaxRetries",2,f),this.wa=vo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(f&&f.concurrentRequestLimit),this.Da=new E0,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kh.prototype,t.la=8,t.G=1,t.connect=function(f,D,Q,q){bs(0),this.W=f,this.H=D||{},Q&&q!==void 0&&(this.H.OSID=Q,this.H.OAID=q),this.F=this.X,this.I=Rg(this,null,this.W),xo(this)};function Mr(f){if(Iu(f),f.G==3){var D=f.U++,Q=Zi(f.I);if(rn(Q,"SID",f.K),rn(Q,"RID",D),rn(Q,"TYPE","terminate"),Xo(f,Q),D=new Zs(f,f.j,D),D.L=2,D.v=ql(Zi(Q)),Q=!1,l.navigator&&l.navigator.sendBeacon)try{Q=l.navigator.sendBeacon(D.v.toString(),"")}catch(q){}!Q&&l.Image&&(new Image().src=D.v,Q=!0),Q||(D.g=Ug(D.j,null),D.g.ea(D.v)),D.F=Date.now(),xs(D)}Lg(f)}function za(f){f.g&&(Ih(f),f.g.cancel(),f.g=null)}function Iu(f){za(f),f.u&&(l.clearTimeout(f.u),f.u=null),Fu(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function xo(f){if(!si(f.h)&&!f.s){f.s=!0;var D=f.Ga;G||J(),$||(G(),$=!0),Y.add(D,f),f.B=0}}function F0(f,D){return bg(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=D.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yn(g(f.Ga,f,D),Fg(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ge=new Zs(this,this.j,f);let Ne=this.o;if(this.S&&(Ne?(Ne=j(Ne),U(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(ge.H=Ne,Ne=null),this.P)e:{for(var D=0,Q=0;Q<this.i.length;Q++){t:{var q=this.i[Q];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(D+=q,4096<D){D=Q;break e}if(D===4096||Q===this.i.length-1){D=Q+1;break e}}D=1e3}else D=1e3;D=Zl(this,ge,D),Q=Zi(this.I),rn(Q,"RID",f),rn(Q,"CVER",22),this.D&&rn(Q,"X-HTTP-Session-Id",this.D),Xo(this,Q),Ne&&(this.O?D="headers="+encodeURIComponent(String(qo(Ne)))+"&"+D:this.m&&Jl(Q,this.m,Ne)),jh(this.h,ge),this.Ua&&rn(Q,"TYPE","init"),this.P?(rn(Q,"$req",D),rn(Q,"SID","null"),ge.T=!0,wr(ge,Q,null)):wr(ge,Q,D),this.G=2}}else this.G==3&&(f?Eu(this,f):this.i.length==0||si(this.h)||Eu(this))};function Eu(f,D){var Q;D?Q=D.l:Q=f.U++;const q=Zi(f.I);rn(q,"SID",f.K),rn(q,"RID",Q),rn(q,"AID",f.T),Xo(f,q),f.m&&f.o&&Jl(q,f.m,f.o),Q=new Zs(f,f.j,Q,f.B+1),f.m===null&&(Q.H=f.o),D&&(f.i=D.D.concat(f.i)),D=Zl(f,Q,1e3),Q.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),jh(f.h,Q),wr(Q,q,D)}function Xo(f,D){f.H&&N(f.H,function(Q,q){rn(D,q,Q)}),f.l&&Kl({},function(Q,q){rn(D,q,Q)})}function Zl(f,D,Q){Q=Math.min(f.i.length,Q);var q=f.l?g(f.l.Na,f.l,f):null;e:{var ge=f.i;let Ne=-1;for(;;){const rt=["count="+Q];Ne==-1?0<Q?(Ne=ge[0].g,rt.push("ofs="+Ne)):Ne=0:rt.push("ofs="+Ne);let en=!0;for(let mr=0;mr<Q;mr++){let Ls=ge[mr].g;const _r=ge[mr].map;if(Ls-=Ne,0>Ls)Ne=Math.max(0,ge[mr].g-100),en=!1;else try{Ig(_r,rt,"req"+Ls+"_")}catch(er){q&&q(_r)}}if(en){q=rt.join("&");break e}}}return f=f.i.splice(0,Q),D.D=f,q}function hd(f){if(!f.g&&!f.u){f.Y=1;var D=f.Fa;G||J(),$||(G(),$=!0),Y.add(D,f),f.v=0}}function Tu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yn(g(f.Fa,f),Fg(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Tg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yn(g(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bs(10),za(this),Tg(this))};function Ih(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Tg(f){f.g=new Zs(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var D=Zi(f.qa);rn(D,"RID","rpc"),rn(D,"SID",f.K),rn(D,"AID",f.T),rn(D,"CI",f.F?"0":"1"),!f.F&&f.ja&&rn(D,"TO",f.ja),rn(D,"TYPE","xmlhttp"),Xo(f,D),f.m&&f.o&&Jl(D,f.m,f.o),f.L&&(f.g.I=f.L);var Q=f.g;f=f.ia,Q.L=1,Q.v=ql(Zi(D)),Q.m=null,Q.P=!0,br(Q,f)}t.Za=function(){this.C!=null&&(this.C=null,za(this),Tu(this),bs(19))};function Fu(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Lu(f,D){var Q=null;if(f.g==D){Fu(f),Ih(f),f.g=null;var q=2}else if(fi(f.h,D))Q=D.D,_g(f.h,D),q=1;else return;if(f.G!=0){if(D.o)if(q==1){Q=D.m?D.m.length:0,D=Date.now()-D.F;var ge=f.B;q=Me(),me(q,new Vn(q,Q)),xo(f)}else hd(f);else if(ge=D.s,ge==3||ge==0&&0<D.X||!(q==1&&F0(f,D)||q==2&&Tu(f)))switch(Q&&0<Q.length&&(D=f.h,D.i=D.i.concat(Q)),ge){case 1:Yo(f,5);break;case 4:Yo(f,10);break;case 3:Yo(f,6);break;default:Yo(f,2)}}}function Fg(f,D){let Q=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(Q*=2),Q*D}function Yo(f,D){if(f.j.info("Error code "+D),D==2){var Q=g(f.fb,f),q=f.Xa;const ge=!q;q=new zo(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||dd(q,"https"),ql(q),ge?I0(q.toString(),Q):kg(q.toString(),Q)}else bs(2);f.G=0,f.l&&f.l.sa(D),Lg(f),Iu(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),bs(2)):(this.j.info("Failed to ping google.com"),bs(1))};function Lg(f){if(f.G=0,f.ka=[],f.l){const D=jg(f.h);(D.length!=0||f.i.length!=0)&&(E(f.ka,D),E(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function Rg(f,D,Q){var q=Q instanceof zo?Zi(Q):new zo(Q);if(q.g!="")D&&(q.g=D+"."+q.g),zl(q,q.s);else{var ge=l.location;q=ge.protocol,D=D?D+"."+ge.hostname:ge.hostname,ge=+ge.port;var Ne=new zo(null);q&&dd(Ne,q),D&&(Ne.g=D),ge&&zl(Ne,ge),Q&&(Ne.l=Q),q=Ne}return Q=f.D,D=f.ya,Q&&D&&rn(q,Q,D),rn(q,"VER",f.la),Xo(f,q),q}function Ug(f,D,Q){if(D&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=f.Ca&&!f.pa?new bn(new Wo({eb:Q})):new bn(f.pa),D.Ha(f.J),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eh(){}t=Eh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ru(){}Ru.prototype.g=function(f,D){return new vi(f,D)};function vi(f,D){Ae.call(this),this.g=new kh(D),this.l=f,this.h=D&&D.messageUrlParams||null,f=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(f?f["X-WebChannel-Content-Type"]=D.messageContentType:f={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(f?f["X-WebChannel-Client-Profile"]=D.va:f={"X-WebChannel-Client-Profile":D.va}),this.g.S=f,(f=D&&D.Sb)&&!B(f)&&(this.g.m=f),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!B(D)&&(this.g.D=D,f=this.h,f!==null&&D in f&&(f=this.h,D in f&&delete f[D])),this.j=new yo(this)}x(vi,Ae),vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){Mr(this.g)},vi.prototype.o=function(f){var D=this.g;if(typeof f=="string"){var Q={};Q.__data__=f,f=Q}else this.u&&(Q={},Q.__data__=Je(f),f=Q);D.i.push(new ld(D.Ya++,f)),D.G==3&&xo(D)},vi.prototype.N=function(){this.g.l=null,delete this.j,Mr(this.g),delete this.g,vi.aa.N.call(this)};function Pg(f){ze.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var D=f.__sm__;if(D){e:{for(const Q in D){f=Q;break e}f=void 0}(this.i=f)&&(f=this.i,D=D!==null&&f in D?D[f]:void 0),this.data=D}else this.data=f}x(Pg,ze);function Dg(){wt.call(this),this.status=1}x(Dg,wt);function yo(f){this.g=f}x(yo,Eh),yo.prototype.ua=function(){me(this.g,"a")},yo.prototype.ta=function(f){me(this.g,new Pg(f))},yo.prototype.sa=function(f){me(this.g,new Dg)},yo.prototype.ra=function(){me(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,Z5=function(){return new Ru},J5=function(){return Me()},Y5=Dt,T_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,qv=lt,Tt.COMPLETE="complete",X5=Tt,Ue.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,jm=Ue,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,q5=bn}).apply(typeof Uf!="undefined"?Uf:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const Fk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new n2("@firebase/firestore");function rm(){return du.logLevel}function Nt(t,...e){if(du.logLevel<=Fs.DEBUG){const n=e.map(f2);du.debug(`Firestore (${uh}): ${t}`,...n)}}function Pl(t,...e){if(du.logLevel<=Fs.ERROR){const n=e.map(f2);du.error(`Firestore (${uh}): ${t}`,...n)}}function KA(t,...e){if(du.logLevel<=Fs.WARN){const n=e.map(f2);du.warn(`Firestore (${uh}): ${t}`,...n)}}function f2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t="Unexpected state"){const e=`FIRESTORE (${uh}) INTERNAL ASSERTION FAILED: `+t;throw Pl(e),new Error(e)}function Qs(t,e){t||qt()}function is(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Vl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ui.UNAUTHENTICATED)))}shutdown(){}}class VK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GK{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qs(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Lo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},l=d=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>l(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qs(typeof r.accessToken=="string"),new eL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qs(e===null||typeof e=="string"),new ui(e)}}class KK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(ui.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qs(this.o===void 0);const r=a=>{a.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Nt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qs(typeof n.token=="string"),this.R=n.token,new WK(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=XK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Vs(t,e){return t<e?-1:t>e?1:0}function zA(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new it(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new it(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vs(this.nanoseconds,e.nanoseconds):Vs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new xn(0,0))}static max(){return new Jt(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r){n===void 0?n=0:n>e.length&&qt(),r===void 0?r=e.length-n:r>e.length-n&&qt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xp?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tn extends xp{construct(e,n,r){return new tn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new tn(n)}static emptyPath(){return new tn([])}}const YK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends xp{construct(e,n,r){return new Wr(e,n,r)}static isValidIdentifier(e){return YK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new it(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new it(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new it(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new it(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(n)}static emptyPath(){return new Wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(tn.fromString(e))}static fromName(e){return new Pt(tn.fromString(e).popFirst(5))}static empty(){return new Pt(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new tn(e.slice()))}}function JK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Jt.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new Jc(i,Pt.empty(),e)}function ZK(t){return new Jc(t.readTime,t.key,-1)}class Jc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jc(Jt.min(),Pt.empty(),-1)}static max(){return new Jc(Jt.max(),Pt.empty(),-1)}}function ez(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pt.comparator(t.documentKey,e.documentKey),n!==0?n:Vs(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==tz)throw t;Nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ge(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ge?n:Ge.resolve(n)}catch(n){return Ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ge.reject(n)}static resolve(e){return new Ge(((n,r)=>{n(e)}))}static reject(e){return new Ge(((n,r)=>{r(e)}))}static waitFor(e){return new Ge(((n,r)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=Ge.resolve(!1);for(const r of e)n=n.next((i=>i?Ge.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Ge(((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let d=0;d<a;d++){const u=d;n(e[u]).next((h=>{o[u]=h,++l,l===a&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new Ge(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function nz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}v2.oe=-1;function Jp(t){return t==null}function Tx(t){return t===0&&1/t==-1/0}function rz(t){return typeof t=="number"&&Number.isInteger(t)&&!Tx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.comparator=e,this.root=n||Gr.EMPTY}insert(e,n){return new Fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gr.BLACK,null,null))}remove(e){return new Fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:Gr.RED,this.left=i!=null?i:Gr.EMPTY,this.right=a!=null?a:Gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Gr(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const e=this.left.check();if(e!==this.right.check())throw qt();return e+(this.isRed()?0:1)}}Gr.EMPTY=null,Gr.RED=!0,Gr.BLACK=!1;Gr.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.comparator=e,this.data=new Fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rk(this.data.getIterator())}getIteratorFrom(e){return new Rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class Rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new ma([])}unionWith(e){let n=new Jr(Wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ma(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zA(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new nL("Invalid base64 string: "+a):a}})(e);return new ei(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new ei(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const iz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(t){if(Qs(!!t),typeof t=="string"){let e=0;const n=iz.exec(t);if(Qs(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xn(t.seconds),nanos:Xn(t.nanos)}}function Xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uu(t){return typeof t=="string"?ei.fromBase64String(t):ei.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x2(t){const e=t.mapValue.fields.__previous_value__;return My(e)?x2(e):e}function yp(t){const e=Zc(t.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r,i,a,o,l,d,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=u}}class wp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df={mapValue:{}};function Au(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?My(t)?4:lz(t)?9007199254740991:oz(t)?10:11:qt()}function Ho(t,e){if(t===e)return!0;const n=Au(t);if(n!==Au(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yp(t).isEqual(yp(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Zc(i.timestampValue),l=Zc(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return uu(i.bytesValue).isEqual(uu(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Xn(i.geoPointValue.latitude)===Xn(a.geoPointValue.latitude)&&Xn(i.geoPointValue.longitude)===Xn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Xn(i.integerValue)===Xn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Xn(i.doubleValue),l=Xn(a.doubleValue);return o===l?Tx(o)===Tx(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return zA(t.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(Lk(o)!==Lk(l))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(l[d]===void 0||!Ho(o[d],l[d])))return!1;return!0})(t,e);default:return qt()}}function bp(t,e){return(t.values||[]).find((n=>Ho(n,e)))!==void 0}function WA(t,e){if(t===e)return 0;const n=Au(t),r=Au(e);if(n!==r)return Vs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vs(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=Xn(a.integerValue||a.doubleValue),d=Xn(o.integerValue||o.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1})(t,e);case 3:return Uk(t.timestampValue,e.timestampValue);case 4:return Uk(yp(t),yp(e));case 5:return Vs(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=uu(a),d=uu(o);return l.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),d=o.split("/");for(let u=0;u<l.length&&u<d.length;u++){const h=Vs(l[u],d[u]);if(h!==0)return h}return Vs(l.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=Vs(Xn(a.latitude),Xn(o.latitude));return l!==0?l:Vs(Xn(a.longitude),Xn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Pk(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var l,d,u,h;const m=a.fields||{},g=o.fields||{},y=(l=m.value)===null||l===void 0?void 0:l.arrayValue,x=(d=g.value)===null||d===void 0?void 0:d.arrayValue,C=Vs(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:Pk(y,x)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Df.mapValue&&o===Df.mapValue)return 0;if(a===Df.mapValue)return 1;if(o===Df.mapValue)return-1;const l=a.fields||{},d=Object.keys(l),u=o.fields||{},h=Object.keys(u);d.sort(),h.sort();for(let m=0;m<d.length&&m<h.length;++m){const g=Vs(d[m],h[m]);if(g!==0)return g;const y=WA(l[d[m]],u[h[m]]);if(y!==0)return y}return Vs(d.length,h.length)})(t.mapValue,e.mapValue);default:throw qt()}}function Uk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vs(t,e);const n=Zc(t),r=Zc(e),i=Vs(n.seconds,r.seconds);return i!==0?i:Vs(n.nanos,r.nanos)}function Pk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=WA(n[i],r[i]);if(a)return a}return Vs(n.length,r.length)}function qA(t){return F_(t)}function F_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return uu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=F_(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${F_(n.fields[o])}`;return i+"}"})(t.mapValue):qt()}function Fx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L_(t){return!!t&&"integerValue"in t}function y2(t){return!!t&&"arrayValue"in t}function Dk(t){return!!t&&"nullValue"in t}function Mk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xv(t){return!!t&&"mapValue"in t}function oz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Om(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Om(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Om(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Om(n)}setAll(e){let n=Wr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Om(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Xv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ti(Om(this.value))}}function rL(t){const e=[];return vu(t.fields,((n,r)=>{const i=new Wr([n]);if(Xv(r)){const a=rL(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new ma(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tr(e,0,Jt.min(),Jt.min(),Jt.min(),Ti.empty(),0)}static newFoundDocument(e,n,r,i){return new Tr(e,1,n,Jt.min(),r,i,0)}static newNoDocument(e,n){return new Tr(e,2,n,Jt.min(),Jt.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,Jt.min(),Jt.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.position=e,this.inclusive=n}}function Qk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Pt.comparator(Pt.fromName(o.referenceValue),n.key):r=WA(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ho(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n="asc"){this.field=e,this.dir=n}}function cz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{}class cr extends iL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uz(e,n,r):n==="array-contains"?new mz(e,r):n==="in"?new pz(e,r):n==="not-in"?new gz(e,r):n==="array-contains-any"?new fz(e,r):new cr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Az(e,r):new hz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(WA(n,this.value)):n!==null&&Au(this.value)===Au(n)&&this.matchesComparison(WA(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ao extends iL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ao(e,n)}matches(e){return aL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function aL(t){return t.op==="and"}function oL(t){return dz(t)&&aL(t)}function dz(t){for(const e of t.filters)if(e instanceof Ao)return!1;return!0}function R_(t){if(t instanceof cr)return t.field.canonicalString()+t.op.toString()+qA(t.value);if(oL(t))return t.filters.map((e=>R_(e))).join(",");{const e=t.filters.map((n=>R_(n))).join(",");return`${t.op}(${e})`}}function lL(t,e){return t instanceof cr?(function(r,i){return i instanceof cr&&r.op===i.op&&r.field.isEqual(i.field)&&Ho(r.value,i.value)})(t,e):t instanceof Ao?(function(r,i){return i instanceof Ao&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,l)=>a&&lL(o,i.filters[l])),!0):!1})(t,e):void qt()}function cL(t){return t instanceof cr?(function(n){return`${n.field.canonicalString()} ${n.op} ${qA(n.value)}`})(t):t instanceof Ao?(function(n){return n.op.toString()+" {"+n.getFilters().map(cL).join(" ,")+"}"})(t):"Filter"}class uz extends cr{constructor(e,n,r){super(e,n,r),this.key=Pt.fromName(r.referenceValue)}matches(e){const n=Pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Az extends cr{constructor(e,n){super(e,"in",n),this.keys=dL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hz extends cr{constructor(e,n){super(e,"not-in",n),this.keys=dL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Pt.fromName(r.referenceValue)))}class mz extends cr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return y2(n)&&bp(n.arrayValue,this.value)}}class pz extends cr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bp(this.value.arrayValue,n)}}class gz extends cr{constructor(e,n){super(e,"not-in",n)}matches(e){if(bp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bp(this.value.arrayValue,n)}}class fz extends cr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!y2(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.ue=null}}function Ok(t,e=null,n=[],r=[],i=null,a=null,o=null){return new vz(t,e,n,r,i,a,o)}function w2(t){const e=is(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>R_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>qA(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>qA(r))).join(",")),e.ue=n}return e.ue}function b2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hk(t.startAt,e.startAt)&&Hk(t.endAt,e.endAt)}function U_(t){return Pt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xz(t,e,n,r,i,a,o,l){return new Gl(t,e,n,r,i,a,o,l)}function _2(t){return new Gl(t)}function $k(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j2(t){return t.collectionGroup!==null}function QA(t){const e=is(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Jr(Wr.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((u=>{u.isInequality()&&(l=l.add(u.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new _p(a,r))})),n.has(Wr.keyField().canonicalString())||e.ce.push(new _p(Wr.keyField(),r))}return e.ce}function Ro(t){const e=is(t);return e.le||(e.le=yz(e,QA(t))),e.le}function yz(t,e){if(t.limitType==="F")return Ok(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new _p(i.field,a)}));const n=t.endAt?new XA(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new XA(t.startAt.position,t.startAt.inclusive):null;return Ok(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function P_(t,e){const n=t.filters.concat([e]);return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lx(t,e,n){return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qy(t,e){return b2(Ro(t),Ro(e))&&t.limitType===e.limitType}function uL(t){return`${w2(Ro(t))}|lt:${t.limitType}`}function xA(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>cL(i))).join(", ")}]`),Jp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>qA(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>qA(i))).join(",")),`Target(${r})`})(Ro(t))}; limitType=${t.limitType})`}function Hy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of QA(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,d){const u=Qk(o,l,d);return o.inclusive?u<=0:u<0})(r.startAt,QA(r),i)||r.endAt&&!(function(o,l,d){const u=Qk(o,l,d);return o.inclusive?u>=0:u>0})(r.endAt,QA(r),i))})(t,e)}function wz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AL(t){return(e,n)=>{let r=!1;for(const i of QA(t)){const a=bz(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function bz(t,e,n){const r=t.field.isKeyField()?Pt.comparator(e.key,n.key):(function(a,o,l){const d=o.data.field(a),u=l.data.field(a);return d!==null&&u!==null?WA(d,u):qt()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return sL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=new Fn(Pt.comparator);function Dl(){return _z}const hL=new Fn(Pt.comparator);function Cm(...t){let e=hL;for(const n of t)e=e.insert(n.key,n);return e}function mL(t){let e=hL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Kd(){return $m()}function pL(){return $m()}function $m(){return new Ah((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jz=new Fn(Pt.comparator),Cz=new Jr(Pt.comparator);function Bs(...t){let e=Cz;for(const n of t)e=e.add(n);return e}const Sz=new Jr(Vs);function Bz(){return Sz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tx(e)?"-0":e}}function gL(t){return{integerValue:""+t}}function Nz(t,e){return rz(e)?gL(e):C2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this._=void 0}}function kz(t,e,n){return t instanceof jp?(function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&My(a)&&(a=x2(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}})(n,e):t instanceof Cp?vL(t,e):t instanceof Sp?xL(t,e):(function(i,a){const o=fL(i,a),l=Vk(o)+Vk(i.Pe);return L_(o)&&L_(i.Pe)?gL(l):C2(i.serializer,l)})(t,e)}function Iz(t,e,n){return t instanceof Cp?vL(t,e):t instanceof Sp?xL(t,e):n}function fL(t,e){return t instanceof Rx?(function(r){return L_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class jp extends Oy{}class Cp extends Oy{constructor(e){super(),this.elements=e}}function vL(t,e){const n=yL(e);for(const r of t.elements)n.some((i=>Ho(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Sp extends Oy{constructor(e){super(),this.elements=e}}function xL(t,e){let n=yL(e);for(const r of t.elements)n=n.filter((i=>!Ho(i,r)));return{arrayValue:{values:n}}}class Rx extends Oy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Vk(t){return Xn(t.integerValue||t.doubleValue)}function yL(t){return y2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n){this.field=e,this.transform=n}}function Tz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Cp&&i instanceof Cp||r instanceof Sp&&i instanceof Sp?zA(r.elements,i.elements,Ho):r instanceof Rx&&i instanceof Rx?Ho(r.Pe,i.Pe):r instanceof jp&&i instanceof jp})(t.transform,e.transform)}class Fz{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $y{}function wL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vy(t.key,qr.none()):new Zp(t.key,t.data,qr.none());{const n=t.data,r=Ti.empty();let i=new Jr(Wr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new rd(t.key,r,new ma(i.toArray()),qr.none())}}function Lz(t,e,n){t instanceof Zp?(function(i,a,o){const l=i.value.clone(),d=Kk(i.fieldTransforms,a,o.transformResults);l.setAll(d),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof rd?(function(i,a,o){if(!Yv(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Kk(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(bL(i)),d.setAll(l),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Vm(t,e,n,r){return t instanceof Zp?(function(a,o,l,d){if(!Yv(a.precondition,o))return l;const u=a.value.clone(),h=zk(a.fieldTransforms,d,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof rd?(function(a,o,l,d){if(!Yv(a.precondition,o))return l;const u=zk(a.fieldTransforms,d,o),h=o.data;return h.setAll(bL(a)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,o,l){return Yv(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function Rz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=fL(r.transform,i||null);a!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,a))}return n||null}function Gk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zA(r,i,((a,o)=>Tz(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zp extends $y{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rd extends $y{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Kk(t,e,n){const r=new Map;Qs(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,Iz(o,l,n[i]))}return r}function zk(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,kz(a,o,e))}return r}class Vy extends $y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _L extends $y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Lz(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pL();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const d=wL(o,l);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Jt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Bs())}isEqual(e){return this.batchId===e.batchId&&zA(this.mutations,e.mutations,((n,r)=>Gk(n,r)))&&zA(this.baseMutations,e.baseMutations,((n,r)=>Gk(n,r)))}}class S2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qs(e.mutations.length===r.length);let i=(function(){return jz})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new S2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr,Rs;function jL(t){switch(t){default:return qt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function CL(t){if(t===void 0)return Pl("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case rr.OK:return Ie.OK;case rr.CANCELLED:return Ie.CANCELLED;case rr.UNKNOWN:return Ie.UNKNOWN;case rr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case rr.INTERNAL:return Ie.INTERNAL;case rr.UNAVAILABLE:return Ie.UNAVAILABLE;case rr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case rr.NOT_FOUND:return Ie.NOT_FOUND;case rr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case rr.ABORTED:return Ie.ABORTED;case rr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case rr.DATA_LOSS:return Ie.DATA_LOSS;default:return qt()}}(Rs=rr||(rr={}))[Rs.OK=0]="OK",Rs[Rs.CANCELLED=1]="CANCELLED",Rs[Rs.UNKNOWN=2]="UNKNOWN",Rs[Rs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rs[Rs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rs[Rs.NOT_FOUND=5]="NOT_FOUND",Rs[Rs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rs[Rs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rs[Rs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rs[Rs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rs[Rs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rs[Rs.ABORTED=10]="ABORTED",Rs[Rs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rs[Rs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rs[Rs.INTERNAL=13]="INTERNAL",Rs[Rs.UNAVAILABLE=14]="UNAVAILABLE",Rs[Rs.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new Jd([4294967295,4294967295],0);function Wk(t){const e=Mz().encode(t),n=new W5;return n.update(e),new Uint8Array(n.digest())}function qk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Jd([n,r],0),new Jd([i,a],0)]}class B2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sm(`Invalid padding: ${n}`);if(r<0)throw new Sm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jd.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jd.fromNumber(r)));return i.compare(Qz)===1&&(i=new Jd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Wk(e),[r,i]=qk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new B2(a,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.Ie===0)return;const n=Wk(e),[r,i]=qk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,eg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gy(Jt.min(),i,new Fn(Vs),Dl(),Bs())}}class eg{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new eg(r,n,Bs(),Bs(),Bs())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SL{constructor(e,n){this.targetId=e,this.me=n}}class BL{constructor(e,n,r=ei.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xk{constructor(){this.fe=0,this.ge=Jk(),this.pe=ei.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Bs(),n=Bs(),r=Bs();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qt()}})),new eg(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Jk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qs(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hz{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dl(),this.qe=Yk(),this.Qe=new Fn(Vs)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:qt()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(U_(a))if(r===0){const o=new Pt(a.path);this.Ue(n,o,Tr.newNoDocument(o,Jt.min()))}else Qs(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),d=l?this.Xe(l,e,o):1;if(d!==0){this.je(n);const u=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=uu(r).toUint8Array()}catch(d){if(d instanceof nL)return KA("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new B2(o,i,a)}catch(d){return KA(d instanceof Sm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,a,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((a,o)=>{const l=this.Je(o);if(l){if(a.current&&U_(l.target)){const d=new Pt(l.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,Tr.newNoDocument(d,e))}a.be&&(n.set(o,a.ve()),a.Ce())}}));let r=Bs();this.qe.forEach(((a,o)=>{let l=!0;o.forEachWhile((d=>{const u=this.Je(d);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.ke.forEach(((a,o)=>o.setReadTime(e)));const i=new Gy(e,n,this.Qe,this.ke,r);return this.ke=Dl(),this.qe=Yk(),this.Qe=new Fn(Vs),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jr(Vs),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Nt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xk),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yk(){return new Fn(Pt.comparator)}function Jk(){return new Fn(Pt.comparator)}const Oz={asc:"ASCENDING",desc:"DESCENDING"},$z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vz={and:"AND",or:"OR"};class Gz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function D_(t,e){return t.useProto3Json||Jp(e)?e:{value:e}}function Ux(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kz(t,e){return Ux(t,e.toTimestamp())}function ga(t){return Qs(!!t),Jt.fromTimestamp((function(n){const r=Zc(n);return new xn(r.seconds,r.nanos)})(t))}function N2(t,e){return M_(t,e).canonicalString()}function M_(t,e){const n=(function(i){return new tn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kL(t){const e=tn.fromString(t);return Qs(RL(e)),e}function Px(t,e){return N2(t.databaseId,e.path)}function Gm(t,e){const n=kL(e);if(n.get(1)!==t.databaseId.projectId)throw new it(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new it(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pt(EL(n))}function IL(t,e){return N2(t.databaseId,e)}function zz(t){const e=kL(t);return e.length===4?tn.emptyPath():EL(e)}function Q_(t){return new tn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EL(t){return Qs(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zk(t,e,n){return{name:Px(t,e),fields:n.value.mapValue.fields}}function Wz(t,e){return"found"in e?(function(r,i){Qs(!!i.found),i.found.name,i.found.updateTime;const a=Gm(r,i.found.name),o=ga(i.found.updateTime),l=i.found.createTime?ga(i.found.createTime):Jt.min(),d=new Ti({mapValue:{fields:i.found.fields}});return Tr.newFoundDocument(a,o,l,d)})(t,e):"missing"in e?(function(r,i){Qs(!!i.missing),Qs(!!i.readTime);const a=Gm(r,i.missing),o=ga(i.readTime);return Tr.newNoDocument(a,o)})(t,e):qt()}function qz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:qt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(u,h){return u.useProto3Json?(Qs(h===void 0||typeof h=="string"),ei.fromBase64String(h||"")):(Qs(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ei.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(u){const h=u.code===void 0?Ie.UNKNOWN:CL(u.code);return new it(h,u.message||"")})(o);n=new BL(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gm(t,r.document.name),a=ga(r.document.updateTime),o=r.document.createTime?ga(r.document.createTime):Jt.min(),l=new Ti({mapValue:{fields:r.document.fields}}),d=Tr.newFoundDocument(i,a,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Jv(u,h,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gm(t,r.document),a=r.readTime?ga(r.readTime):Jt.min(),o=Tr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Jv([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gm(t,r.document),a=r.removedTargetIds||[];n=new Jv([],a,i,null)}else{if(!("filter"in e))return qt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Dz(i,a),l=r.targetId;n=new SL(l,o)}}return n}function TL(t,e){let n;if(e instanceof Zp)n={update:Zk(t,e.key,e.value)};else if(e instanceof Vy)n={delete:Px(t,e.key)};else if(e instanceof rd)n={update:Zk(t,e.key,e.data),updateMask:rW(e.fieldMask)};else{if(!(e instanceof _L))return qt();n={verify:Px(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const l=o.transform;if(l instanceof jp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Sp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Rx)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw qt()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Kz(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qt()})(t,e.precondition)),n}function Xz(t,e){return t&&t.length>0?(Qs(e!==void 0),t.map((n=>(function(i,a){let o=i.updateTime?ga(i.updateTime):ga(a);return o.isEqual(Jt.min())&&(o=ga(a)),new Fz(o,i.transformResults||[])})(n,e)))):[]}function Yz(t,e){return{documents:[IL(t,e.path)]}}function Jz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IL(t,i);const a=(function(u){if(u.length!==0)return LL(Ao.create(u,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(u){if(u.length!==0)return u.map((h=>(function(g){return{field:yA(g.field),direction:tW(g.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=D_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{_t:n,parent:i}}function Zz(t){let e=zz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qs(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const g=FL(m);return g instanceof Ao&&oL(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((g=>(function(x){return new _p(wA(x.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let g;return g=typeof m=="object"?m.value:m,Jp(g)?null:g})(n.limit));let d=null;n.startAt&&(d=(function(m){const g=!!m.before,y=m.values||[];return new XA(y,g)})(n.startAt));let u=null;return n.endAt&&(u=(function(m){const g=!m.before,y=m.values||[];return new XA(y,g)})(n.endAt)),xz(e,i,o,a,l,"F",d,u)}function eW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wA(n.unaryFilter.field);return cr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wA(n.unaryFilter.field);return cr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wA(n.unaryFilter.field);return cr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wA(n.unaryFilter.field);return cr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qt()}})(t):t.fieldFilter!==void 0?(function(n){return cr.create(wA(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ao.create(n.compositeFilter.filters.map((r=>FL(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qt()}})(n.compositeFilter.op))})(t):qt()}function tW(t){return Oz[t]}function sW(t){return $z[t]}function nW(t){return Vz[t]}function yA(t){return{fieldPath:t.canonicalString()}}function wA(t){return Wr.fromServerFormat(t.fieldPath)}function LL(t){return t instanceof cr?(function(n){if(n.op==="=="){if(Mk(n.value))return{unaryFilter:{field:yA(n.field),op:"IS_NAN"}};if(Dk(n.value))return{unaryFilter:{field:yA(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mk(n.value))return{unaryFilter:{field:yA(n.field),op:"IS_NOT_NAN"}};if(Dk(n.value))return{unaryFilter:{field:yA(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yA(n.field),op:sW(n.op),value:n.value}}})(t):t instanceof Ao?(function(n){const r=n.getFilters().map((i=>LL(i)));return r.length===1?r[0]:{compositeFilter:{op:nW(n.op),filters:r}}})(t):qt()}function rW(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function RL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,i,a=Jt.min(),o=Jt.min(),l=ei.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new Lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.ct=e}}function aW(t){const e=Zz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.un=new lW}addToCollectionParentIndex(e,n){return this.un.add(n),Ge.resolve()}getCollectionParents(e,n){return Ge.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ge.resolve()}deleteFieldIndex(e,n){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,n){return Ge.resolve()}getDocumentsMatchingTarget(e,n){return Ge.resolve(null)}getIndexType(e,n){return Ge.resolve(0)}getFieldIndexes(e,n){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,n){return Ge.resolve(Jc.min())}getMinOffsetFromCollectionGroup(e,n){return Ge.resolve(Jc.min())}updateCollectionGroup(e,n,r){return Ge.resolve()}updateIndexEntries(e,n){return Ge.resolve()}}class lW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jr(tn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jr(tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new YA(0)}static kn(){return new YA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(){this.changes=new Ah((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Vm(r.mutation,i,ma.empty(),xn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Bs()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Bs()){const i=Kd();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Cm();return a.forEach(((l,d)=>{o=o.insert(l,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Kd();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Bs())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let a=Dl();const o=$m(),l=(function(){return $m()})();return n.forEach(((d,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof rd)?a=a.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Vm(h.mutation,u,h.mutation.getFieldMask(),xn.now())):o.set(u.key,ma.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>{var m;return l.set(u,new dW(h,(m=o.get(u))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=$m();let i=new Fn(((o,l)=>o-l)),a=Bs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((d=>{const u=n.get(d);if(u===null)return;let h=r.get(d)||ma.empty();h=l.applyToLocalView(u,h),r.set(d,h);const m=(i.get(l.batchId)||Bs()).add(d);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),u=d.key,h=d.value,m=pL();h.forEach((g=>{if(!a.has(g)){const y=wL(n.get(g),r.get(g));y!==null&&m.set(g,y),a=a.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Ge.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Ge.resolve(Kd());let l=-1,d=a;return o.next((u=>Ge.forEach(u,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?Ge.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{d=d.insert(h,g)}))))).next((()=>this.populateOverlays(e,u,a))).next((()=>this.computeViews(e,d,u,Bs()))).next((h=>({batchId:l,changes:mL(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pt(n)).next((r=>{let i=Cm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Cm();return this.indexManager.getCollectionParents(e,a).next((l=>Ge.forEach(l,(d=>{const u=(function(m,g){return new Gl(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next((h=>{h.forEach(((m,g)=>{o=o.insert(m,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Tr.newInvalidDocument(h)))}));let l=Cm();return o.forEach(((d,u)=>{const h=a.get(d);h!==void 0&&Vm(h.mutation,u,ma.empty(),xn.now()),Hy(n,u)&&(l=l.insert(d,u))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ge.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ga(i.createTime)}})(n)),Ge.resolve()}getNamedQuery(e,n){return Ge.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:aW(i.bundledQuery),readTime:ga(i.readTime)}})(n)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.overlays=new Fn(Pt.comparator),this.Ir=new Map}getOverlay(e,n){return Ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kd();return Ge.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.ht(e,n,a)})),Ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),Ge.resolve()}getOverlaysForCollection(e,n,r){const i=Kd(),a=n.length+1,o=new Pt(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const d=l.getNext().value,u=d.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Fn(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=a.get(u.largestBatchId);h===null&&(h=Kd(),a=a.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Kd(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((u,h)=>l.set(u,h))),!(l.size()>=i)););return Ge.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pz(n,r));let a=this.Ir.get(n);a===void 0&&(a=Bs(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(){this.sessionToken=ei.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Tr=new Jr(Er.Er),this.dr=new Jr(Er.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Er(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Er(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Pt(new tn([])),r=new Er(n,e),i=new Er(n,e+1),a=[];return this.dr.forEachInRange([r,i],(o=>{this.Vr(o),a.push(o.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Pt(new tn([])),r=new Er(n,e),i=new Er(n,e+1);let a=Bs();return this.dr.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new Er(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Er{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Pt.comparator(e.key,n.key)||Vs(e.wr,n.wr)}static Ar(e,n){return Vs(e.wr,n.wr)||Pt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jr(Er.Er)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Uz(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Er(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ge.resolve(o)}lookupMutationBatch(e,n){return Ge.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Er(n,0),i=new Er(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(o=>{const l=this.Dr(o.wr);a.push(l)})),Ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jr(Vs);return n.forEach((i=>{const a=new Er(i,0),o=new Er(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],(l=>{r=r.add(l.wr)}))})),Ge.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Pt.isDocumentKey(a)||(a=a.child(""));const o=new Er(new Pt(a),0);let l=new Jr(Vs);return this.br.forEachWhile((d=>{const u=d.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(d.wr)),!0)}),o),Ge.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Qs(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ge.forEach(n.mutations,(i=>{const a=new Er(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Er(n,0),i=this.br.firstAfterOrEqual(r);return Ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.Mr=e,this.docs=(function(){return new Fn(Pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ge.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=Dl();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Tr.newInvalidDocument(i))})),Ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Dl();const o=n.path,l=new Pt(o.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:u,value:{document:h}}=d.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ez(ZK(h),r)<=0||(i.has(h.key)||Hy(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return Ge.resolve(a)}getAllFromCollectionGroup(e,n,r,i){qt()}Or(e,n){return Ge.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fW(this)}getSize(e){return Ge.resolve(this.size)}}class fW extends cW{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),Ge.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.persistence=e,this.Nr=new Ah((n=>w2(n)),b2),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new k2,this.targetCount=0,this.kr=YA.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ge.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new YA(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ge.resolve()}updateTargetData(e,n){return this.Kn(n),Ge.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ge.waitFor(a).next((()=>i))}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ge.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ge.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),Ge.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ge.resolve(r)}containsKey(e,n){return Ge.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n){this.qr={},this.overlays={},this.Qr=new v2(0),this.Kr=!1,this.Kr=!0,this.$r=new mW,this.referenceDelegate=e(this),this.Ur=new vW(this),this.indexManager=new oW,this.remoteDocumentCache=(function(i){return new gW(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new iW(n),this.Gr=new AW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new pW(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Nt("MemoryPersistence","Starting transaction:",e);const i=new yW(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,n){return Ge.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class yW extends sz{constructor(e){super(),this.currentSequenceNumber=e}}class I2{constructor(e){this.persistence=e,this.Jr=new k2,this.Yr=null}static Zr(e){return new I2(e)}get Xr(){if(this.Yr)return this.Yr;throw qt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ge.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ge.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ge.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.Xr,(r=>{const i=Pt.fromPath(r);return this.ei(e,i).next((a=>{a||n.removeEntry(i,Jt.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return Ge.or([()=>Ge.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Bs(),i=Bs();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new E2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return _$()?8:nz(mi())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.Zi(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new wW;return this.Xi(e,n,o).next((l=>{if(a.result=l,this.zi)return this.es(e,n,o,l.size)}))})).next((()=>a.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(rm()<=Fs.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",xA(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ge.resolve()):(rm()<=Fs.DEBUG&&Nt("QueryEngine","Query:",xA(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(rm()<=Fs.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",xA(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ro(n))):Ge.resolve())}Yi(e,n){if($k(n))return Ge.resolve(null);let r=Ro(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Lx(n,null,"F"),r=Ro(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Bs(...a);return this.Ji.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((d=>{const u=this.ts(n,l);return this.ns(n,u,o,d.readTime)?this.Yi(e,Lx(n,null,"F")):this.rs(e,u,n,d)}))))})))))}Zi(e,n,r,i){return $k(n)||i.isEqual(Jt.min())?Ge.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?Ge.resolve(null):(rm()<=Fs.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xA(n)),this.rs(e,o,n,JK(i,-1)).next((l=>l)))}))}ts(e,n){let r=new Jr(AL(e));return n.forEach(((i,a)=>{Hy(e,a)&&(r=r.add(a))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return rm()<=Fs.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",xA(n)),this.Ji.getDocumentsMatchingQuery(e,n,Jc.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fn(Vs),this._s=new Ah((a=>w2(a)),b2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uW(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function jW(t,e,n,r){return new _W(t,e,n,r)}async function UL(t,e){const n=is(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],l=[];let d=Bs();for(const u of i){o.push(u.batchId);for(const h of u.mutations)d=d.add(h.key)}for(const u of a){l.push(u.batchId);for(const h of u.mutations)d=d.add(h.key)}return n.localDocuments.getDocuments(r,d).next((u=>({hs:u,removedBatchIds:o,addedBatchIds:l})))}))}))}function CW(t,e){const n=is(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(l,d,u,h){const m=u.batch,g=m.keys();let y=Ge.resolve();return g.forEach((x=>{y=y.next((()=>h.getEntry(d,x))).next((C=>{const E=u.docVersions.get(x);Qs(E!==null),C.version.compareTo(E)<0&&(m.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),h.addEntry(C)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(d,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let d=Bs();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(d=d.add(l.batch.mutations[u].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function PL(t){const e=is(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function SW(t,e){const n=is(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach(((h,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.Ur.addMatchingKeys(a,h.addedDocuments,m))));let y=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(ei.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),(function(C,E,T){return C.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(g,y,h)&&l.push(n.Ur.updateTargetData(a,y))}));let d=Dl(),u=Bs();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(BW(a,o,e.documentUpdates).next((h=>{d=h.Ps,u=h.Is}))),!r.isEqual(Jt.min())){const h=n.Ur.getLastRemoteSnapshotVersion(a).next((m=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return Ge.waitFor(l).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,u))).next((()=>d))})).then((a=>(n.os=i,a)))}function BW(t,e,n){let r=Bs(),i=Bs();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Dl();return n.forEach(((l,d)=>{const u=a.get(l);d.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),d.isNoDocument()&&d.version.isEqual(Jt.min())?(e.removeEntry(l,d.readTime),o=o.insert(l,d)):!u.isValidDocument()||d.version.compareTo(u.version)>0||d.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(d),o=o.insert(l,d)):Nt("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",d.version)})),{Ps:o,Is:i}}))}function NW(t,e){const n=is(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function kW(t,e){const n=is(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((a=>a?(i=a,Ge.resolve(i)):n.Ur.allocateTargetId(r).next((o=>(i=new Lc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function H_(t,e,n){const r=is(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Yp(o))throw o;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function eI(t,e,n){const r=is(t);let i=Jt.min(),a=Bs();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,u,h){const m=is(d),g=m._s.get(h);return g!==void 0?Ge.resolve(m.os.get(g)):m.Ur.getTargetData(u,h)})(r,o,Ro(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next((d=>{a=d}))})).next((()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Jt.min(),n?a:Bs()))).next((l=>(IW(r,wz(e),l),{documents:l,Ts:a})))))}function IW(t,e,n){let r=t.us.get(e)||Jt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class tI{constructor(){this.activeTargetIds=Bz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EW{constructor(){this.so=new tI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function mb(){return Mf===null?Mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="WebChannelConnection";class RW extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const l=mb(),d=this.xo(n,r.toUriEncodedString());Nt("RestConnection",`Sending RPC '${n}' ${l}:`,d,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,d,u,i).then((h=>(Nt("RestConnection",`Received RPC '${n}' ${l}: `,h),h)),(h=>{throw KA("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",d,"request:",i),h}))}Lo(n,r,i,a,o,l){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uh})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,o)=>n[o]=a)),i&&i.headers.forEach(((a,o)=>n[o]=a))}xo(n,r){const i=FW[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=mb();return new Promise(((o,l)=>{const d=new q5;d.setWithCredentials(!0),d.listenOnce(X5.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case qv.NO_ERROR:const h=d.getResponseJson();Nt(oi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case qv.TIMEOUT:Nt(oi,`RPC '${e}' ${a} timed out`),l(new it(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case qv.HTTP_ERROR:const m=d.getStatus();if(Nt(oi,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const x=(function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(T)>=0?T:Ie.UNKNOWN})(y.status);l(new it(x,y.message))}else l(new it(Ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new it(Ie.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{Nt(oi,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);Nt(oi,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",u,r,15)}))}Bo(e,n,r){const i=mb(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Z5(),l=J5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(d.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const h=a.join("");Nt(oi,`Creating RPC '${e}' stream ${i}: ${h}`,d);const m=o.createWebChannel(h,d);let g=!1,y=!1;const x=new LW({Io:E=>{y?Nt(oi,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(Nt(oi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Nt(oi,`RPC '${e}' stream ${i} sending:`,E),m.send(E))},To:()=>m.close()}),C=(E,T,B)=>{E.listen(T,(S=>{try{B(S)}catch(v){setTimeout((()=>{throw v}),0)}}))};return C(m,jm.EventType.OPEN,(()=>{y||(Nt(oi,`RPC '${e}' stream ${i} transport opened.`),x.yo())})),C(m,jm.EventType.CLOSE,(()=>{y||(y=!0,Nt(oi,`RPC '${e}' stream ${i} transport closed`),x.So())})),C(m,jm.EventType.ERROR,(E=>{y||(y=!0,KA(oi,`RPC '${e}' stream ${i} transport errored:`,E),x.So(new it(Ie.UNAVAILABLE,"The operation could not be completed")))})),C(m,jm.EventType.MESSAGE,(E=>{var T;if(!y){const B=E.data[0];Qs(!!B);const S=B,v=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(v){Nt(oi,`RPC '${e}' stream ${i} received error:`,v);const w=v.status;let N=(function(k){const U=rr[k];if(U!==void 0)return CL(U)})(w),_=v.message;N===void 0&&(N=Ie.INTERNAL,_="Unknown error status: "+w+" with message "+v.message),y=!0,x.So(new it(N,_)),m.close()}else Nt(oi,`RPC '${e}' stream ${i} received:`,B),x.bo(B)}})),C(l,Y5.STAT_EVENT,(E=>{E.stat===T_.PROXY?Nt(oi,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===T_.NOPROXY&&Nt(oi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.wo()}),0),x}}function pb(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return new Gz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i,a,o,l,d){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new T2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Pl(n.toString()),Pl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new it(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UW extends DL{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=qz(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Jt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Jt.min():o.readTime?ga(o.readTime):Jt.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Q_(this.serializer),n.addTarget=(function(a,o){let l;const d=o.target;if(l=U_(d)?{documents:Yz(a,d)}:{query:Jz(a,d)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=NL(a,o.resumeToken);const u=D_(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Jt.min())>0){l.readTime=Ux(a,o.snapshotVersion.toTimestamp());const u=D_(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l})(this.serializer,e);const r=eW(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Q_(this.serializer),n.removeTarget=e,this.a_(n)}}class PW extends DL{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qs(!!e.streamToken),this.lastStreamToken=e.streamToken,Qs(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Xz(e.writeResults,e.commitTime),r=ga(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Q_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>TL(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new it(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Mo(e,M_(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(Ie.UNKNOWN,a.toString())}))}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Lo(e,M_(n,r),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Ie.UNKNOWN,o.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class MW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pl(n),this.D_=!1):Nt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((o=>{r.enqueueAndForget((async()=>{xu(this)&&(Nt("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const u=is(d);u.L_.add(4),await tg(u),u.q_.set("Unknown"),u.L_.delete(4),await zy(u)})(this))}))})),this.q_=new MW(r,i)}}async function zy(t){if(xu(t))for(const e of t.B_)await e(!0)}async function tg(t){for(const e of t.B_)await e(!1)}function ML(t,e){const n=is(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),U2(n)?R2(n):hh(n).r_()&&L2(n,e))}function F2(t,e){const n=is(t),r=hh(n);n.N_.delete(e),r.r_()&&QL(n,e),n.N_.size===0&&(r.r_()?r.o_():xu(n)&&n.q_.set("Unknown"))}function L2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hh(t).A_(e)}function QL(t,e){t.Q_.xe(e),hh(t).R_(e)}function R2(t){t.Q_=new Hz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),hh(t).start(),t.q_.v_()}function U2(t){return xu(t)&&!hh(t).n_()&&t.N_.size>0}function xu(t){return is(t).L_.size===0}function HL(t){t.Q_=void 0}async function HW(t){t.q_.set("Online")}async function OW(t){t.N_.forEach(((e,n)=>{L2(t,e)}))}async function $W(t,e){HL(t),U2(t)?(t.q_.M_(e),R2(t)):t.q_.set("Unknown")}async function VW(t,e,n){if(t.q_.set("Online"),e instanceof BL&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))})(t,e)}catch(r){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dx(t,r)}else if(e instanceof Jv?t.Q_.Ke(e):e instanceof SL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Jt.min()))try{const r=await PL(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const l=a.Q_.rt(o);return l.targetChanges.forEach(((d,u)=>{if(d.resumeToken.approximateByteSize()>0){const h=a.N_.get(u);h&&a.N_.set(u,h.withResumeToken(d.resumeToken,o))}})),l.targetMismatches.forEach(((d,u)=>{const h=a.N_.get(d);if(!h)return;a.N_.set(d,h.withResumeToken(ei.EMPTY_BYTE_STRING,h.snapshotVersion)),QL(a,d);const m=new Lc(h.target,d,u,h.sequenceNumber);L2(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Nt("RemoteStore","Failed to raise snapshot:",r),await Dx(t,r)}}async function Dx(t,e,n){if(!Yp(e))throw e;t.L_.add(1),await tg(t),t.q_.set("Offline"),n||(n=()=>PL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Nt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zy(t)}))}function OL(t,e){return e().catch((n=>Dx(t,n,e)))}async function Wy(t){const e=is(t),n=ed(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GW(e);)try{const i=await NW(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,KW(e,i)}catch(i){await Dx(e,i)}$L(e)&&VL(e)}function GW(t){return xu(t)&&t.O_.length<10}function KW(t,e){t.O_.push(e);const n=ed(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $L(t){return xu(t)&&!ed(t).n_()&&t.O_.length>0}function VL(t){ed(t).start()}async function zW(t){ed(t).p_()}async function WW(t){const e=ed(t);for(const n of t.O_)e.m_(n.mutations)}async function qW(t,e,n){const r=t.O_.shift(),i=S2.from(r,e,n);await OL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Wy(t)}async function XW(t,e){e&&ed(t).V_&&await(async function(r,i){if((function(o){return jL(o)&&o!==Ie.ABORTED})(i.code)){const a=r.O_.shift();ed(r).s_(),await OL(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Wy(r)}})(t,e),$L(t)&&VL(t)}async function nI(t,e){const n=is(t);n.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const r=xu(n);n.L_.add(3),await tg(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zy(n)}async function YW(t,e){const n=is(t);e?(n.L_.delete(2),await zy(n)):e||(n.L_.add(2),await tg(n),n.q_.set("Unknown"))}function hh(t){return t.K_||(t.K_=(function(n,r,i){const a=is(n);return a.w_(),new UW(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:HW.bind(null,t),Ro:OW.bind(null,t),mo:$W.bind(null,t),d_:VW.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),U2(t)?R2(t):t.q_.set("Unknown")):(await t.K_.stop(),HL(t))}))),t.K_}function ed(t){return t.U_||(t.U_=(function(n,r,i){const a=is(n);return a.w_(),new PW(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zW.bind(null,t),mo:XW.bind(null,t),f_:WW.bind(null,t),g_:qW.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Wy(t)):(await t.U_.stop(),t.O_.length>0&&(Nt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new P2(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D2(t,e){if(Pl("AsyncQueue",`${e}: ${t}`),Yp(t))return new it(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pt.comparator(n.key,r.key):(n,r)=>Pt.comparator(n.key,r.key),this.keyedMap=Cm(),this.sortedSet=new Fn(this.comparator)}static emptySet(e){return new HA(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof HA)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new HA;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.W_=new Fn(Pt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):qt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class JA{constructor(e,n,r,i,a,o,l,d,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new JA(e,n,HA.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class ZW{constructor(){this.queries=iI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=is(n),a=i.queries;i.queries=iI(),a.forEach(((o,l)=>{for(const d of l.j_)d.onError(r)}))})(this,new it(Ie.ABORTED,"Firestore shutting down"))}}function iI(){return new Ah((t=>uL(t)),Qy)}async function GL(t,e){const n=is(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new JW,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=D2(o,`Initialization of query '${xA(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&M2(n)}async function KL(t,e){const n=is(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eq(t,e){const n=is(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&M2(n)}function tq(t,e,n){const r=is(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function M2(t){t.Y_.forEach((e=>{e.next()}))}var O_,aI;(aI=O_||(O_={})).ea="default",aI.Cache="cache";class zL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new JA(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=JA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==O_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.key=e}}class qL{constructor(e){this.key=e}}class sq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Bs(),this.mutatedKeys=Bs(),this.Aa=AL(e),this.Ra=new HA(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new rI,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const g=i.get(h),y=Hy(this.query,m)?m:null,x=!!g&&this.mutatedKeys.has(g.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;g&&y?g.data.isEqual(y.data)?x!==C&&(r.track({type:3,doc:y}),E=!0):this.ga(g,y)||(r.track({type:2,doc:y}),E=!0,(d&&this.Aa(y,d)>0||u&&this.Aa(y,u)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),E=!0):g&&!y&&(r.track({type:1,doc:g}),E=!0,(d||u)&&(l=!0)),E&&(y?(o=o.add(y),a=C?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:l,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((h,m)=>(function(y,x){const C=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return C(y)-C(x)})(h.type,m.type)||this.Aa(h.doc,m.doc))),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,u=d!==this.Ea;return this.Ea=d,o.length!==0||u?{snapshot:new JA(this.query,e.Ra,a,o,e.mutatedKeys,d===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Bs(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new qL(r))})),this.da.forEach((r=>{e.has(r)||n.push(new WL(r))})),n}ba(e){this.Ta=e.Ts,this.da=Bs();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return JA.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rq{constructor(e){this.key=e,this.va=!1}}class iq{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ah((l=>uL(l)),Qy),this.Ma=new Map,this.xa=new Set,this.Oa=new Fn(Pt.comparator),this.Na=new Map,this.La=new k2,this.Ba={},this.ka=new Map,this.qa=YA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aq(t,e,n=!0){const r=tR(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await XL(r,e,n,!0),i}async function oq(t,e){const n=tR(t);await XL(n,e,!0,!1)}async function XL(t,e,n,r){const i=await kW(t.localStore,Ro(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await lq(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ML(t.remoteStore,i),l}async function lq(t,e,n,r,i){t.Ka=(m,g,y)=>(async function(C,E,T,B){let S=E.view.ma(T);S.ns&&(S=await eI(C.localStore,E.query,!1).then((({documents:_})=>E.view.ma(_,S))));const v=B&&B.targetChanges.get(E.targetId),w=B&&B.targetMismatches.get(E.targetId)!=null,N=E.view.applyChanges(S,C.isPrimaryClient,v,w);return lI(C,E.targetId,N.wa),N.snapshot})(t,m,g,y);const a=await eI(t.localStore,e,!0),o=new sq(e,a.Ts),l=o.ma(a.documents),d=eg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,d);lI(t,n,u.wa);const h=new nq(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function cq(t,e,n){const r=is(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((o=>!Qy(o,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await H_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&F2(r.remoteStore,i.targetId),$_(r,i.targetId)})).catch(Xp)):($_(r,i.targetId),await H_(r.localStore,i.targetId,!0))}async function dq(t,e){const n=is(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F2(n.remoteStore,r.targetId))}async function uq(t,e,n){const r=vq(t);try{const i=await(function(o,l){const d=is(o),u=xn.now(),h=l.reduce(((y,x)=>y.add(x.key)),Bs());let m,g;return d.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=Dl(),C=Bs();return d.cs.getEntries(y,h).next((E=>{x=E,x.forEach(((T,B)=>{B.isValidDocument()||(C=C.add(T))}))})).next((()=>d.localDocuments.getOverlayedDocuments(y,x))).next((E=>{m=E;const T=[];for(const B of l){const S=Rz(B,m.get(B.key).overlayedDocument);S!=null&&T.push(new rd(B.key,S,rL(S.value.mapValue),qr.exists(!0)))}return d.mutationQueue.addMutationBatch(y,u,T,l)})).next((E=>{g=E;const T=E.applyToLocalDocumentSet(m,C);return d.documentOverlayCache.saveOverlays(y,E.batchId,T)}))})).then((()=>({batchId:g.batchId,changes:mL(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,d){let u=o.Ba[o.currentUser.toKey()];u||(u=new Fn(Vs)),u=u.insert(l,d),o.Ba[o.currentUser.toKey()]=u})(r,i.batchId,n),await sg(r,i.changes),await Wy(r.remoteStore)}catch(i){const a=D2(i,"Failed to persist write");n.reject(a)}}async function YL(t,e){const n=is(t);try{const r=await SW(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Na.get(a);o&&(Qs(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Qs(o.va):i.removedDocuments.size>0&&(Qs(o.va),o.va=!1))})),await sg(n,r,e)}catch(r){await Xp(r)}}function oI(t,e,n){const r=is(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((a,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const d=is(o);d.onlineState=l;let u=!1;d.queries.forEach(((h,m)=>{for(const g of m.j_)g.Z_(l)&&(u=!0)})),u&&M2(d)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Aq(t,e,n){const r=is(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new Fn(Pt.comparator);o=o.insert(a,Tr.newNoDocument(a,Jt.min()));const l=Bs().add(a),d=new Gy(Jt.min(),new Map,new Fn(Vs),o,l);await YL(r,d),r.Oa=r.Oa.remove(a),r.Na.delete(e),Q2(r)}else await H_(r.localStore,e,!1).then((()=>$_(r,e,n))).catch(Xp)}async function hq(t,e){const n=is(t),r=e.batch.batchId;try{const i=await CW(n.localStore,e);ZL(n,r,null),JL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sg(n,i)}catch(i){await Xp(i)}}async function mq(t,e,n){const r=is(t);try{const i=await(function(o,l){const d=is(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return d.mutationQueue.lookupMutationBatch(u,l).next((m=>(Qs(m!==null),h=m.keys(),d.mutationQueue.removeMutationBatch(u,m)))).next((()=>d.mutationQueue.performConsistencyCheck(u))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(u,h,l))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>d.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);ZL(r,e,n),JL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sg(r,i)}catch(i){await Xp(i)}}function JL(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function ZL(t,e,n){const r=is(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||eR(t,r)}))}function eR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(F2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Q2(t))}function lI(t,e,n){for(const r of n)r instanceof WL?(t.La.addReference(r.key,e),pq(t,r)):r instanceof qL?(Nt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eR(t,r.key)):qt()}function pq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Nt("SyncEngine","New document in limbo: "+n),t.xa.add(r),Q2(t))}function Q2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Pt(tn.fromString(e)),r=t.qa.next();t.Na.set(r,new rq(n)),t.Oa=t.Oa.insert(n,r),ML(t.remoteStore,new Lc(Ro(_2(n.path)),r,"TargetPurposeLimboResolution",v2.oe))}}async function sg(t,e,n){const r=is(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((l,d)=>{o.push(r.Ka(d,e,n).then((u=>{var h;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(d.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(u){i.push(u);const m=E2.Wi(d.targetId,u);a.push(m)}})))})),await Promise.all(o),r.Ca.d_(i),await(async function(d,u){const h=is(d);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Ge.forEach(u,(g=>Ge.forEach(g.$i,(y=>h.persistence.referenceDelegate.addReference(m,g.targetId,y))).next((()=>Ge.forEach(g.Ui,(y=>h.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))))))}catch(m){if(!Yp(m))throw m;Nt("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const y=h.os.get(g),x=y.snapshotVersion,C=y.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(g,C)}}})(r.localStore,a))}async function gq(t,e){const n=is(t);if(!n.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const r=await UL(n.localStore,e);n.currentUser=e,(function(a,o){a.ka.forEach((l=>{l.forEach((d=>{d.reject(new it(Ie.CANCELLED,o))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sg(n,r.hs)}}function fq(t,e){const n=is(t),r=n.Na.get(e);if(r&&r.va)return Bs().add(r.key);{let i=Bs();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function tR(t){const e=is(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aq.bind(null,e),e.Ca.d_=eq.bind(null,e.eventManager),e.Ca.$a=tq.bind(null,e.eventManager),e}function vq(t){const e=is(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mq.bind(null,e),e}class Mx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ky(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jW(this.persistence,new bW,e.initialUser,this.serializer)}Ga(e){return new xW(I2.Zr,this.serializer)}Wa(e){return new EW}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mx.provider={build:()=>new Mx};class V_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gq.bind(null,this.syncEngine),await YW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZW})()}createDatastore(e){const n=Ky(e.databaseInfo.databaseId),r=(function(a){return new RW(a)})(e.databaseInfo);return(function(a,o,l,d){return new DW(a,o,l,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,l){return new QW(r,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>oI(this.syncEngine,n,0)),(function(){return sI.D()?new sI:new TW})())}createSyncEngine(e,n){return(function(i,a,o,l,d,u,h){const m=new iq(i,a,o,l,d,u);return h&&(m.Qa=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=is(i);Nt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await tg(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}V_.provider={build:()=>new V_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new it(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const o=is(i),l={documents:a.map((m=>Px(o.serializer,m)))},d=await o.Lo("BatchGetDocuments",o.serializer.databaseId,tn.emptyPath(),l,a.length),u=new Map;d.forEach((m=>{const g=Wz(o.serializer,m);u.set(g.key.toString(),g)}));const h=[];return a.forEach((m=>{const g=u.get(m.toString());Qs(!!g),h.push(g)})),h})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Pt.fromPath(r);this.mutations.push(new _L(i,this.precondition(i)))})),await(async function(r,i){const a=is(r),o={writes:i.map((l=>TL(a.serializer,l)))};await a.Mo("Commit",a.serializer.databaseId,tn.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw qt();n=Jt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new it(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Jt.min())?qr.exists(!1):qr.updateTime(n):qr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Jt.min()))throw new it(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qr.updateTime(n)}return qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this._u=r.maxAttempts,this.t_=new T2(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new xq(this.datastore),n=this.cu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.lu(i)}))))})).catch((r=>{this.lu(r)}))}))}cu(e){try{const n=this.updateFunction(e);return!Jp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!jL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=tL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Nt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Nt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=D2(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gb(t,e){t.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await UL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function cI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bq(t);Nt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>nI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>nI(e.remoteStore,i))),t._onlineComponents=e}async function bq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{await gb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;KA("Error using user provided cache. Falling back to memory cache: "+n),await gb(t,new Mx)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),await gb(t,new Mx);return t._offlineComponents}async function H2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),await cI(t,t._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),await cI(t,new V_))),t._onlineComponents}function _q(t){return H2(t).then((e=>e.syncEngine))}function jq(t){return H2(t).then((e=>e.datastore))}async function nR(t){const e=await H2(t),n=e.eventManager;return n.onListen=aq.bind(null,e.syncEngine),n.onUnlisten=cq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dq.bind(null,e.syncEngine),n}function Cq(t,e,n={}){const r=new Lo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,d,u){const h=new sR({next:g=>{h.Za(),o.enqueueAndForget((()=>KL(a,m)));const y=g.docs.has(l);!y&&g.fromCache?u.reject(new it(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&d&&d.source==="server"?u.reject(new it(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new zL(_2(l.path),h,{includeMetadataChanges:!0,_a:!0});return GL(a,m)})(await nR(t),t.asyncQueue,e,n,r))),r.promise}function Sq(t,e,n={}){const r=new Lo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,d,u){const h=new sR({next:g=>{h.Za(),o.enqueueAndForget((()=>KL(a,m))),g.fromCache&&d.source==="server"?u.reject(new it(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new zL(l,h,{includeMetadataChanges:!0,_a:!0});return GL(a,m)})(await nR(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e,n){if(!n)throw new it(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bq(t,e,n,r){if(e===!0&&r===!0)throw new it(Ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uI(t){if(!Pt.isDocumentKey(t))throw new it(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AI(t){if(Pt.isDocumentKey(t))throw new it(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qt()}function Oo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new it(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qy(t);throw new it(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Nq(t,e){if(e<=0)throw new it(Ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new it(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hI(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $K;switch(r.type){case"firstParty":return new zK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dI.get(n);r&&(Nt("ComponentProvider","Removing Datastore"),dI.delete(n),r.terminate())})(this),Promise.resolve()}}function kq(t,e,n,r={}){var i;const a=(t=Oo(t,ng))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&KA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let l,d;if(typeof r.mockUserToken=="string")l=r.mockUserToken,d=ui.MOCK_USER;else{l=g$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new it(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ui(u)}t._authCredentials=new VK(new eL(l,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Fi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fi(this.firestore,e,this._key)}}class qc extends mo{constructor(e,n,r){super(e,n,_2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fi(this.firestore,null,new Pt(e))}withConverter(e){return new qc(this.firestore,e,this._path)}}function Ml(t,e,...n){if(t=dr(t),O2("collection","path",e),t instanceof ng){const r=tn.fromString(e,...n);return AI(r),new qc(t,null,r)}{if(!(t instanceof Fi||t instanceof qc))throw new it(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tn.fromString(e,...n));return AI(r),new qc(t.firestore,null,r)}}function rg(t,e){if(t=Oo(t,ng),O2("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new it(Ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mo(t,null,(function(r){return new Gl(tn.emptyPath(),r)})(e))}function vs(t,e,...n){if(t=dr(t),arguments.length===1&&(e=tL.newId()),O2("doc","path",e),t instanceof ng){const r=tn.fromString(e,...n);return uI(r),new Fi(t,null,new Pt(r))}{if(!(t instanceof Fi||t instanceof qc))throw new it(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tn.fromString(e,...n));return uI(r),new Fi(t.firestore,t instanceof qc?t.converter:null,new Pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new T2(this,"async_queue_retry"),this.Vu=()=>{const r=pb();r&&Nt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=pb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=pb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Lo;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yp(e))throw e;Nt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l})(r);throw Pl("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=P2.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&qt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class mh extends ng{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mI(e),this._firestoreClient=void 0,await e}}}function Iq(t,e){const n=typeof t=="object"?t:a2(),r=typeof t=="string"?t:"(default)",i=i2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=m$("firestore");a&&kq(i,...a)}return i}function ig(t){if(t._terminated)throw new it(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Eq(t),t._firestoreClient}function Eq(t){var e,n,r;const i=t._freezeSettings(),a=(function(l,d,u,h){return new az(l,d,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rR(h.experimentalLongPollingOptions),h.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wq(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hu(ei.fromBase64String(e))}catch(n){throw new it(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hu(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new it(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function G_(){return new ph("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new it(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new it(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vs(this._lat,e._lat)||Vs(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=/^__.*__$/;class Fq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rd(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zp(e,this.data,n,this.fieldTransforms)}}class iR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new rd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class G2{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new G2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qx(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aR(this.Cu)&&Tq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Lq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ky(e)}Qu(e,n,r,i=!1){return new G2({Cu:e,methodName:n,qu:r,path:Wr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(t){const e=t._freezeSettings(),n=Ky(t._databaseId);return new Lq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K2(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);W2("Data must be an object, but it was:",o,r);const l=dR(r,o);let d,u;if(a.merge)d=new ma(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const g=K_(e,m,n);if(!o.contains(g))throw new it(Ie.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);AR(h,g)||h.push(g)}d=new ma(h),u=o.fieldTransforms.filter((m=>d.covers(m.field)))}else d=null,u=o.fieldTransforms;return new Fq(new Ti(l),d,u)}class Yy extends Xy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yy}}class z2 extends Xy{_toFieldTransform(e){return new Ez(e.path,new jp)}isEqual(e){return e instanceof z2}}function oR(t,e,n,r){const i=t.Qu(1,e,n);W2("Data must be an object, but it was:",i,r);const a=[],o=Ti.empty();vu(r,((d,u)=>{const h=q2(e,d,n);u=dr(u);const m=i.Nu(h);if(u instanceof Yy)a.push(h);else{const g=og(u,m);g!=null&&(a.push(h),o.set(h,g))}}));const l=new ma(a);return new iR(o,l,i.fieldTransforms)}function lR(t,e,n,r,i,a){const o=t.Qu(1,e,n),l=[K_(e,r,n)],d=[i];if(a.length%2!=0)throw new it(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(K_(e,a[g])),d.push(a[g+1]);const u=[],h=Ti.empty();for(let g=l.length-1;g>=0;--g)if(!AR(u,l[g])){const y=l[g];let x=d[g];x=dr(x);const C=o.Nu(y);if(x instanceof Yy)u.push(y);else{const E=og(x,C);E!=null&&(u.push(y),h.set(y,E))}}const m=new ma(u);return new iR(h,m,o.fieldTransforms)}function cR(t,e,n,r=!1){return og(n,t.Qu(r?4:3,e))}function og(t,e){if(uR(t=dr(t)))return W2("Unsupported field value:",e,t),dR(t,e);if(t instanceof Xy)return(function(r,i){if(!aR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const l of r){let d=og(l,i.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=xn.fromDate(r);return{timestampValue:Ux(i.serializer,a)}}if(r instanceof xn){const a=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ux(i.serializer,a)}}if(r instanceof $2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hu)return{bytesValue:NL(i.serializer,r._byteString)};if(r instanceof Fi){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:N2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof V2)return(function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Bu("VectorValues must only contain numeric values.");return C2(l.serializer,d)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${qy(r)}`)})(t,e)}function dR(t,e){const n={};return sL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vu(t,((r,i)=>{const a=og(i,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function uR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof $2||t instanceof hu||t instanceof Fi||t instanceof Xy||t instanceof V2)}function W2(t,e,n){if(!uR(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=qy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function K_(t,e,n){if((e=dr(e))instanceof ph)return e._internalPath;if(typeof e=="string")return q2(t,e);throw Qx("Field path arguments must be of type string or ",t,!1,void 0,n)}const Rq=new RegExp("[~\\*/\\[\\]]");function q2(t,e,n){if(e.search(Rq)>=0)throw Qx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ph(...e.split("."))._internalPath}catch(r){throw Qx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qx(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new it(Ie.INVALID_ARGUMENT,l+t+d)}function AR(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uq extends Bp{data(){return super.data()}}function Jy(t,e){return typeof e=="string"?q2(t,e):e instanceof ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new it(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X2{}class lg extends X2{}function Yn(t,e,...n){let r=[];e instanceof X2&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof Y2)).length,l=a.filter((d=>d instanceof Zy)).length;if(o>1||o>0&&l>0)throw new it(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Zy extends lg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zy(e,n,r)}_apply(e){const n=this._parse(e);return mR(e._query,n),new mo(e.firestore,e.converter,P_(e._query,n))}_parse(e){const n=ag(e.firestore);return(function(a,o,l,d,u,h,m){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new it(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gI(m,h);const y=[];for(const x of m)y.push(pI(d,a,x));g={arrayValue:{values:y}}}else g=pI(d,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gI(m,h),g=cR(l,o,m,h==="in"||h==="not-in");return cr.create(u,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xi(t,e,n){const r=e,i=Jy("where",t);return Zy._create(i,r,n)}class Y2 extends X2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Y2(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ao.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const d of l)mR(o,d),o=P_(o,d)})(e._query,n),new mo(e.firestore,e.converter,P_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J2 extends lg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new J2(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new it(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new it(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _p(a,o)})(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Gl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function pa(t,e="asc"){const n=e,r=Jy("orderBy",t);return J2._create(r,n)}class Z2 extends lg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Z2(e,n,r)}_apply(e){return new mo(e.firestore,e.converter,Lx(e._query,this._limit,this._limitType))}}function Fr(t){return Nq("limit",t),Z2._create("limit",t,"F")}class e0 extends lg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new e0(e,n,r)}_apply(e){const n=hR(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(function(i,a){return new Gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function Rc(...t){return e0._create("startAt",t,!0)}function Dq(...t){return e0._create("startAfter",t,!1)}class eC extends lg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new eC(e,n,r)}_apply(e){const n=hR(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(function(i,a){return new Gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function Uc(...t){return eC._create("endAt",t,!0)}function hR(t,e,n,r){if(n[0]=dr(n[0]),n[0]instanceof Bp)return(function(a,o,l,d,u){if(!d)throw new it(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const h=[];for(const m of QA(a))if(m.field.isKeyField())h.push(Fx(o,d.key));else{const g=d.data.field(m.field);if(My(g))throw new it(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const y=m.field.canonicalString();throw new it(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new XA(h,u)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ag(t.firestore);return(function(o,l,d,u,h,m){const g=o.explicitOrderBy;if(h.length>g.length)throw new it(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let x=0;x<h.length;x++){const C=h[x];if(g[x].field.isKeyField()){if(typeof C!="string")throw new it(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof C}`);if(!j2(o)&&C.indexOf("/")!==-1)throw new it(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${C}' contains a slash.`);const E=o.path.child(tn.fromString(C));if(!Pt.isDocumentKey(E))throw new it(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const T=new Pt(E);y.push(Fx(l,T))}else{const E=cR(d,u,C);y.push(E)}}return new XA(y,m)})(t._query,t.firestore._databaseId,i,e,n,r)}}function pI(t,e,n){if(typeof(n=dr(n))=="string"){if(n==="")throw new it(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j2(e)&&n.indexOf("/")!==-1)throw new it(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tn.fromString(n));if(!Pt.isDocumentKey(r))throw new it(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fx(t,new Pt(r))}if(n instanceof Fi)return Fx(t,n._key);throw new it(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qy(n)}.`)}function gI(t,e){if(!Array.isArray(t)||t.length===0)throw new it(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mR(t,e){const n=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new it(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pR{convertValue(e,n="none"){switch(Au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((o=>Xn(o.doubleValue)));return new V2(a)}convertGeoPoint(e){return new $2(Xn(e.latitude),Xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=x2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yp(e));default:return null}}convertTimestamp(e){const n=Zc(e);return new xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tn.fromString(e);Qs(RL(r));const i=new wp(r.get(1),r.get(3)),a=new Pt(r.popFirst(5));return i.isEqual(n)||Pl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mq extends pR{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sC extends Bp{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zv extends sC{data(e={}){return super.data(e)}}class Qq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new CA(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zv(this._firestore,this._userDataWriter,r.key,r,new CA(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const d=new Zv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new CA(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const d=new Zv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new CA(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:Hq(l.type),doc:d,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){t=Oo(t,Fi);const e=Oo(t.firestore,mh);return Cq(ig(e),t._key).then((n=>Oq(e,t,n)))}class nC extends pR{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,n)}}function Qn(t){t=Oo(t,mo);const e=Oo(t.firestore,mh),n=ig(e),r=new nC(e);return Pq(t._query),Sq(n,t._query).then((i=>new Qq(e,r,t,i)))}function Ql(t,e,n){t=Oo(t,Fi);const r=Oo(t.firestore,mh),i=tC(t.converter,e,n);return gR(r,[K2(ag(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qr.none())])}function gR(t,e){return(function(r,i){const a=new Lo;return r.asyncQueue.enqueueAndForget((async()=>uq(await _q(r),i,a))),a.promise})(ig(t),e)}function Oq(t,e,n){const r=n.docs.get(e._key),i=new nC(t);return new sC(t,i,e._key,r,new CA(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,n,r){this._verifyNotCommitted();const i=Tc(e,this._firestore),a=tC(i.converter,n,r),o=K2(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,qr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Tc(e,this._firestore);let o;return o=typeof(n=dr(n))=="string"||n instanceof ph?lR(this._dataReader,"WriteBatch.update",a._key,n,r,i):oR(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Tc(e,this._firestore);return this._mutations=this._mutations.concat(new Vy(n._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tc(t,e){if((t=dr(t)).firestore!==e)throw new it(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ag(n)}get(n){const r=Tc(n,this._firestore),i=new Mq(this._firestore);return this._transaction.lookup([r._key]).then((a=>{if(!a||a.length!==1)return qt();const o=a[0];if(o.isFoundDocument())return new Bp(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Bp(this._firestore,i,r._key,null,r.converter);throw qt()}))}set(n,r,i){const a=Tc(n,this._firestore),o=tC(a.converter,r,i),l=K2(this._dataReader,"Transaction.set",a._key,o,a.converter!==null,i);return this._transaction.set(a._key,l),this}update(n,r,i,...a){const o=Tc(n,this._firestore);let l;return l=typeof(r=dr(r))=="string"||r instanceof ph?lR(this._dataReader,"Transaction.update",o._key,r,i,a):oR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=Tc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Tc(e,this._firestore),r=new nC(this._firestore);return super.get(e).then((i=>new sC(this._firestore,r,n._key,i._document,new CA(!1,!1),n.converter)))}}function fR(t,e,n){t=Oo(t,mh);const r=Object.assign(Object.assign({},$q),n);return(function(a){if(a.maxAttempts<1)throw new it(Ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,o,l){const d=new Lo;return a.asyncQueue.enqueueAndForget((async()=>{const u=await jq(a);new yq(a.asyncQueue,u,l,o,d).au()})),d.promise})(ig(t),(i=>e(new Gq(t,i))),r)}function ua(){return new z2("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t){return ig(t=Oo(t,mh)),new Vq(t,(e=>gR(t,e)))}(function(e,n=!0){(function(i){uh=i})(ch),GA(new ou("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new mh(new GK(r.getProvider("auth-internal")),new qK(r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new it(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wp(u.options.projectId,h)})(o,i),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),zc(Fk,"4.7.3",e),zc(Fk,"4.7.3","esm2017")})();const rC={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};rC.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const zq=()=>{var i,a;if(typeof window=="undefined")return;const t=(i=window.location.hostname)==null?void 0:i.toLowerCase(),e=String((a=rC.authDomain)!=null?a:"").toLowerCase();if(!t||!e||t===e||t==="localhost"||t==="127.0.0.1"||t.endsWith(".local"))return;const r=e.endsWith(".firebaseapp.com")?e.replace(".firebaseapp.com",".web.app"):e.endsWith(".web.app")?e.replace(".web.app",".firebaseapp.com"):"";if(r&&t===r){const o=window.location.href.replace(t,e);window.location.replace(o)}};zq();const vR=EV().length?a2():h5(rC),Lt=Iq(vR),no=HK(vR),xR=R.createContext(void 0),fI=`${Ha}/auth/session`,vI=`${Ha}/auth/logout`,fb="sfh:authPopupNonce",Wq=2e3,qq=new Set(["auth/popup-blocked","auth/popup-closed-by-user","auth/cancelled-popup-request","auth/operation-not-supported-in-this-environment"]),Xq=()=>{var e;if(typeof window=="undefined")return!1;try{const n=(e=window.localStorage)==null?void 0:e.getItem("sfh:debug:auth");if(n==="1"||n==="true")return!0}catch(n){console.warn("[Auth] Failed to read auth debug flag",n)}return!1},eo=(...t)=>{Xq()&&console.info(...t)},Yq=()=>{var t;try{const e=new Uint8Array(16);if(typeof window!="undefined"&&((t=window.crypto)!=null&&t.getRandomValues))return window.crypto.getRandomValues(e),Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}catch(e){}return Math.random().toString(36).slice(2,14)},xI=(t,e)=>{try{const n=new URL(`${Ha}/auth/${t}/login`);return(e==null?void 0:e.mode)==="popup"&&n.searchParams.set("mode","popup"),e!=null&&e.nonce&&n.searchParams.set("nonce",e.nonce),n.toString()}catch(n){return console.warn("[Auth] Failed to construct login URL",n),""}},Jq=()=>{var e;const t=new Set;typeof window!="undefined"&&((e=window.location)!=null&&e.origin)&&t.add(window.location.origin);try{t.add(new URL(Ha).origin)}catch(n){console.warn("[Auth] Failed to parse AUTH_BASE_URL for allowed origins",n)}return t},Zq=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState("idle"),a=R.useRef({tried:!1}),o=R.useRef(!1),l=R.useRef(!1),d=R.useMemo(()=>{try{return new jl}catch(v){return console.warn("[Auth] Failed to initialize Google provider",v),null}},[]),u=R.useCallback(v=>{v!=null&&v.authenticated&&v.user?(n(v.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),h=R.useCallback(async v=>{if(v!=null&&v.silent||i("loading"),!fI)return console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated"),!1;try{const w=await fetch(fI,{credentials:"include"});if(!w.ok)throw new Error(`Failed to fetch session (${w.status})`);const N=await w.json();return u(N),!!(N!=null&&N.authenticated&&N.user)}catch(w){return console.error("[Auth] Failed to refresh session.",w),n(null),i("unauthenticated"),!1}},[u]);R.useEffect(()=>{h()},[h]),R.useEffect(()=>{console.log("[AuthDebug] session user:",e);const v=no.currentUser;console.log("[AuthDebug] firebase currentUser uid:",v==null?void 0:v.uid),v==null||v.getIdTokenResult().then(w=>{console.log("[AuthDebug] firebase claims:",w.claims)}).catch(w=>{console.warn("[AuthDebug] failed to fetch token claims",w)})},[e]),R.useEffect(()=>{const v=kG(no,w=>{console.log("[AuthDebug] firebase currentUser uid:",w==null?void 0:w.uid)});return()=>v()},[]),R.useEffect(()=>{if(!e){a.current.tried=!1;return}a.current.tried||(a.current.tried=!0,(async()=>{try{const v=await a$();await bk(no,v),console.log("[AuthDebug] signed in to Firebase with custom token")}catch(v){console.error("[AuthDebug] failed to sign in to Firebase",v)}})())},[e]);const m=R.useCallback(v=>{window.location.href=xI(v)},[]),g=R.useCallback(async(v,w)=>{const N=Jq();return new Promise((_,j)=>{let k=!1;const U=window.setTimeout(()=>{k||(P(),j(new Error("auth_popup_timeout")))},18e4),I=window.setInterval(()=>{if(v.closed){if(k||l.current){P(),_({});return}eo("[Auth] Discord popup closed; starting grace window");const H=2200,O=Date.now(),z=window.setInterval(()=>{if(k||l.current){window.clearInterval(z),P(),_({});return}if(no.currentUser||r==="authenticated"&&e){window.clearInterval(z),P(),_({});return}Date.now()-O>=H&&(window.clearInterval(z),P(),j(new Error("auth_popup_closed")))},200)}},500),P=H=>{window.removeEventListener("message",L),window.clearTimeout(U),window.clearInterval(I)},L=H=>{if(!N.has(H.origin))return;const O=H.data;(O==null?void 0:O.type)==="sfh:discordAuth"&&(O!=null&&O.nonce&&O.nonce!==w||(l.current=!0,k=!0,P(),_({customToken:typeof(O==null?void 0:O.customToken)=="string"?O.customToken:void 0})))};window.addEventListener("message",L)})},[]),y=R.useCallback(async()=>{const v=Date.now(),w=2e3,N=200,_=async()=>await h({silent:!0})?!0:Date.now()-v>=w?!1:(await new Promise(k=>setTimeout(k,N)),_());return _()},[h]),x=R.useCallback(async()=>{var k,U,I;if(o.current){eo("[Auth] Discord login already in-flight, ignoring new request");return}o.current=!0,l.current=!1;const v=typeof window!="undefined"?window.location.origin:"N/A",w=typeof window!="undefined"?window.location.host:"N/A";eo("[Auth] Starting Discord auth-api popup login",{origin:v,host:w});const N=Yq();try{(k=window.sessionStorage)==null||k.setItem(fb,N)}catch(P){console.warn("[Auth] Failed to persist popup nonce",P)}const _=xI("discord",{mode:"popup",nonce:N});if(!_){console.warn("[Auth] Missing AUTH_BASE_URL for Discord login.");return}const j=window.open(_,"sfh_discord_oauth","width=520,height=720,menubar=no,toolbar=no,resizable=yes,scrollbars=yes");if(!j||j.closed){eo("[Auth] Popup blocked or failed, redirecting to auth-api flow");try{(U=window.sessionStorage)==null||U.removeItem(fb)}catch(P){}m("discord"),o.current=!1;return}try{const P=await g(j,N);P!=null&&P.customToken?(await bk(no,P.customToken),eo("[Auth] Discord popup custom token received and signed in"),await h({silent:!0})):await y()||(eo("[Auth] Popup login completed but session missing, redirecting for sync"),m("discord"))}catch(P){eo("[Auth] Popup login did not complete, falling back to redirect",{code:P==null?void 0:P.code,message:P==null?void 0:P.message}),m("discord")}finally{try{(I=window.sessionStorage)==null||I.removeItem(fb)}catch(P){}setTimeout(()=>{o.current=!1},Wq)}},[m,g,y]),C=R.useCallback(async()=>{var U,I,P,L,H,O,z;const v=typeof window!="undefined"?window.location.origin:"N/A",w=typeof window!="undefined"?window.location.host:"N/A",N=(P=(I=(U=no.app)==null?void 0:U.options)==null?void 0:I.projectId)!=null?P:"unknown",_=(O=(H=(L=no.app)==null?void 0:L.options)==null?void 0:H.authDomain)!=null?O:"unknown";eo("[Auth] Starting google login",{origin:v,host:w,projectId:N,authDomain:_});const j=d;if(!j||(()=>{var $;if(typeof window=="undefined")return!1;const G=((($=window.navigator)==null?void 0:$.userAgent)||"").toLowerCase();return/mobile|android|iphone|ipad|ipod/.test(G)?!0:typeof window.matchMedia=="function"?window.matchMedia("(max-width: 768px)").matches:!1})()){eo("[Auth] Falling back to redirect for google",{reason:j?"mobile":"provider_unavailable"}),m("google");return}try{await XG(no,j),await h({silent:!0})||(eo("[Auth] Popup login succeeded but session missing, redirecting for sync"),m("google"))}catch(G){const $=typeof(G==null?void 0:G.code)=="string"?G.code:"",Y=typeof(G==null?void 0:G.message)=="string"?G.message:"Auth popup failed",J=qq.has($);if(eo("[Auth] Popup login failed for google",{code:$,message:Y,host:w,origin:v,projectId:N,authDomain:_,email:typeof((z=G==null?void 0:G.customData)==null?void 0:z.email)=="string"?G.customData.email:void 0}),J){m("google");return}console.error("[Auth] Popup login failed for google (no fallback)",{code:$,message:Y});const V=new Error(Y);throw $&&(V.code=$),V}},[h,d,m]),E=R.useCallback(async()=>{if(await IG(no).catch(()=>{}),!vI){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const v=await fetch(vI,{method:"POST",credentials:"include"});if(!v.ok)throw new Error(`Logout failed (${v.status})`)}catch(v){console.error("[Auth] Failed to logout. Clearing local session anyway.",v)}finally{n(null),i("unauthenticated")}},[]),T=R.useCallback(async v=>h(v),[h]),B=r==="idle"||r==="loading",S=R.useMemo(()=>({user:e,status:r,isLoading:B,loginWithDiscord:x,loginWithGoogle:C,logout:E,refreshSession:T}),[e,r,B,x,C,E,T]);return s.jsx(xR.Provider,{value:S,children:t})},Oa=()=>{const t=R.useContext(xR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},eX="https://i.pravatar.cc/72",tX=({fallbackName:t})=>{var B,S;const{user:e,status:n,logout:r,isLoading:i}=Oa(),a=pi(),[o,l]=R.useState(!1),d=R.useRef(null),u=n==="authenticated",h=u?(S=(B=e==null?void 0:e.displayName)!=null?B:t)!=null?S:"Player":t!=null?t:"Guest",m=u&&(e!=null&&e.avatarUrl)?e.avatarUrl:eX;R.useEffect(()=>{const v=w=>{d.current&&!d.current.contains(w.target)&&l(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),R.useEffect(()=>{i&&l(!1)},[i]);const g=R.useCallback(()=>l(!1),[]),y=()=>{l(v=>!v)},x=()=>{typeof window!="undefined"?window.dispatchEvent(new CustomEvent("sfh:openLoginModal")):a("/login"),g()},C=()=>{a("/settings/account"),g()},E=R.useCallback(async()=>{try{await r()}finally{g(),a("/")}},[g,r,a]),T=()=>{var v;if(i)return s.jsx("p",{className:es.accountStatusText,children:"Checking session..."});if(n==="unauthenticated")return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:es.accountHeader,children:[s.jsx("p",{className:es.accountName,children:"Not signed in"}),s.jsx("p",{className:es.accountSub,children:"Your scans stay synced when you log in."})]}),s.jsx("button",{type:"button",className:es.accountPrimary,onClick:x,children:"Sign in"}),s.jsx("p",{className:es.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(n==="authenticated"){const w=!!((v=e==null?void 0:e.roles)!=null&&v.includes("admin"));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:es.accountHeader,children:[s.jsx("img",{className:es.accountMiniAvatar,src:m,alt:h}),s.jsxs("div",{children:[s.jsx("p",{className:es.accountName,children:h}),s.jsxs("p",{className:es.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),s.jsx("button",{type:"button",className:es.accountItem,onClick:C,children:"Account & Profile"}),w?s.jsx("a",{className:es.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,s.jsx("hr",{className:es.accountDivider}),s.jsx("button",{type:"button",className:`${es.accountItem} ${es.accountLogout}`,onClick:E,children:"Logout"})]})}return null};return s.jsxs("div",{className:es.accountRoot,ref:d,children:[i?s.jsxs("div",{className:es.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[s.jsx("span",{className:es.avatarSpinner,"aria-hidden":"true"}),s.jsx("span",{className:es.srOnly,children:"Checking login status"})]}):s.jsx("button",{type:"button",className:es.avatarBtn,"aria-haspopup":"menu","aria-expanded":o,"aria-label":h,onClick:y,children:s.jsx("img",{className:es.avatar,src:m,alt:h})}),!i&&o&&s.jsx("div",{className:es.accountDropdown,role:"menu",children:T()})]})},sX="sfh:debug:firestoreReadsCallsite",nX="sf_debug_firestore_reads_callsite",rX="sfh:debug:firestoreWritesCallsite",iX="sf_debug_firestore_writes_callsite",Hx=new Map,Ox=new Map,Np=new Map,$x=new Map,Vx=new Map,kp=new Map,Gx=new Map,yR=new Map,wR=new Map;let aX=1,bR=0,_R=0,Zd=null;const Ei=(...t)=>{console.log(...t)},yu=()=>!1,cg=()=>!1,jR=()=>!yu()||typeof window=="undefined"||!(window!=null&&window.localStorage)?!1:window.localStorage.getItem(sX)==="1"||window.localStorage.getItem(nX)==="1",CR=()=>!cg()||typeof window=="undefined"||!(window!=null&&window.localStorage)?!1:window.localStorage.getItem(rX)==="1"||window.localStorage.getItem(iX)==="1",iC=(t,e)=>t?t.split("/").filter(Boolean)[0]||e||"unknown":e!=null?e:"unknown",oX=()=>{if(!jR())return;const t=new Error;if(!t.stack)return;const n=t.stack.split(`
`).map(r=>r.trim()).filter(r=>r&&!r.toLowerCase().includes("firestorereadtrace")&&!r.toLowerCase().includes("tracegetdoc")&&!r.toLowerCase().includes("tracegetdocs")&&!r.toLowerCase().includes("traceonsnapshot"));return n[1]||n[0]},lX=()=>{if(!CR())return;const t=new Error;if(!t.stack)return;const n=t.stack.split(`
`).map(r=>r.trim()).filter(r=>r&&!r.toLowerCase().includes("firestorereadtrace")&&!r.toLowerCase().includes("tracewrit")&&!r.toLowerCase().includes("tracesetdoc")&&!r.toLowerCase().includes("traceupdatedoc")&&!r.toLowerCase().includes("traceadddoc")&&!r.toLowerCase().includes("tracedeletedoc")&&!r.toLowerCase().includes("recordwrite")&&!r.toLowerCase().includes("tracebatchcommit")&&!r.toLowerCase().includes("traceruntransaction"));return n[1]||n[0]},SR=t=>(t==null?void 0:t.trim())||"unknown",Jn=t=>yu()?{id:aX++,name:t,startedAt:performance.now(),reads:[]}:null,BR=(t,e)=>{var o,l,d,u,h,m,g;if(!yu())return;const n=SR(e.path),r=iC(e.collection||n),i=(l=(o=e.callsite)!=null?o:e.label)!=null?l:oX();t&&t.reads.push({collection:r,path:n,op:e.op,docCount:e.docCount,startedAt:performance.now(),callsite:i,label:e.label}),Hx.set(r,((d=Hx.get(r))!=null?d:0)+e.docCount);const a=(u=Ox.get(n))!=null?u:{total:0,ops:{}};a.total+=e.docCount,a.ops[e.op]=((h=a.ops[e.op])!=null?h:0)+e.docCount,Ox.set(n,a),Np.set(e.op,((m=Np.get(e.op))!=null?m:0)+e.docCount),i&&$x.set(i,((g=$x.get(i))!=null?g:0)+e.docCount)},gh=t=>{var a,o,l,d,u,h,m;if(!cg())return;const e=SR(t.path),n=(a=t.docCount)!=null?a:1,r=(l=(o=t.callsite)!=null?o:t.label)!=null?l:lX();if(t.includeInPaths!==!1){const g=(d=Vx.get(e))!=null?d:{total:0,ops:{}};g.total+=n,g.ops[t.op]=((u=g.ops[t.op])!=null?u:0)+n,Vx.set(e,g)}kp.set(t.op,((h=kp.get(t.op))!=null?h:0)+n),r&&Gx.set(r,((m=Gx.get(r))!=null?m:0)+n)},Cn=t=>{var o;if(!t)return;t.endedAt=performance.now();const e=Math.round(t.endedAt-t.startedAt),n=t.reads.reduce((l,d)=>{var u;return l[d.collection]=((u=l[d.collection])!=null?u:0)+d.docCount,l},{}),r=t.reads.reduce((l,d)=>l+d.docCount,0),i=t.reads.map(l=>({op:l.op,path:l.path,collection:l.collection,docs:l.docCount,callsite:l.callsite})),a=`[FirestoreTrace] ${t.name} - ${r} reads in ${e}ms`;if(console.groupCollapsed(a),Ei("Breakdown by collection",n),Ei("Entries",i),jR()){const l=(o=t.reads.find(d=>d.callsite))==null?void 0:o.callsite;l&&Ei("Top callsite",l)}Ei("Totals (page lifetime)",Object.fromEntries(Hx.entries())),console.groupEnd()},On=async(t,e,n,r)=>{const i=await n(),a=i!=null&&i.exists?i.exists()?1:0:1;return BR(t,{collection:iC(e.path),path:e.path,op:"getDoc",docCount:a,label:r==null?void 0:r.label}),i},Hn=async(t,e,n,r)=>{var l,d,u;const i=await n(),a=(l=i==null?void 0:i.size)!=null?l:Array.isArray(i==null?void 0:i.docs)?i.docs.length:0,o=(u=(d=e.path)!=null?d:r==null?void 0:r.collectionHint)!=null?u:"unknown";return BR(t,{collection:iC(o,r==null?void 0:r.collectionHint),path:o,op:"getDocs",docCount:typeof a=="number"?a:0,label:r==null?void 0:r.label}),i},aC=async(t,e,n)=>{const r=await e();return gh({path:t.path,op:"setDoc",docCount:1,label:n==null?void 0:n.label}),r},cX=async(t,e)=>{var r;const n=await t();return gh({path:(r=e==null?void 0:e.path)!=null?r:"batchCommit",op:"batchCommit",docCount:1,label:e==null?void 0:e.label,includeInPaths:!1}),n},NR=async(t,e)=>{var r;const n=await t();return gh({path:(r=e==null?void 0:e.path)!=null?r:"transaction",op:"runTransaction",docCount:1,label:e==null?void 0:e.label}),n},dX=()=>{!yu()&&!cg()||(Hx.clear(),Ox.clear(),Np.clear(),$x.clear(),Vx.clear(),kp.clear(),Gx.clear(),yR.clear(),bR=0,_R=0,wR.forEach(t=>{t.callbacks=0,t.docs=0}))},t0=t=>{!yu()&&!cg()||(dX(),Zd={name:t,startedAt:performance.now()})},s0=(t,e)=>{var g,y;if(!yu())return;const n=10,r=t||(Zd==null?void 0:Zd.name),i=r?` (${r})`:"",a={getDoc:(g=Np.get("getDoc"))!=null?g:0,getDocs:(y=Np.get("getDocs"))!=null?y:0},o=a.getDoc+a.getDocs,d=Array.from(Ox.entries()).map(([x,C])=>({path:x,total:C.total,ops:C.ops})).sort((x,C)=>C.total-x.total).slice(0,n),u=Array.from($x.entries()).map(([x,C])=>({callsite:x,count:C})).sort((x,C)=>C.count-x.count).slice(0,n),h=Array.from(wR.values()).map(x=>({path:x.path,callbacks:x.callbacks,docs:x.docs,callsite:x.callsite})).sort((x,C)=>C.callbacks-x.callbacks),m=Array.from(yR.entries()).map(([x,C])=>({path:x,callbacks:C.callbacks,docs:C.docs})).sort((x,C)=>C.callbacks-x.callbacks).slice(0,n);console.groupCollapsed(`[FirestoreTrace] READ SUMMARY${i}`),Ei("Totals",{...a,total:o}),Ei("Top paths",d),u.length>0&&Ei("Top callsites",u),console.groupEnd(),console.groupCollapsed(`[FirestoreTrace] LISTENER SUMMARY${i}`),Ei("Listener callbacks",{total:bR,estimatedReads:_R}),Ei("Listeners active",h.length?h:"None"),m.length>0&&Ei("Top listener paths",m),console.groupEnd()},n0=(t,e)=>{if(!cg())return;const n=10,r=t||(Zd==null?void 0:Zd.name),i=r?` (${r})`:"",a=Object.fromEntries(kp.entries()),o=Array.from(kp.values()).reduce((h,m)=>h+m,0),l=Array.from(Vx.entries()).map(([h,m])=>({path:h,total:m.total,ops:m.ops})).sort((h,m)=>m.total-h.total),d=l.slice(0,n),u=CR()?Array.from(Gx.entries()).map(([h,m])=>({callsite:h,count:m})).sort((h,m)=>m.count-h.count).slice(0,n):[];console.groupCollapsed(`[FirestoreTrace] WRITE SUMMARY${i}`),Ei("Totals",{...a,total:o}),Ei("Top paths",d),Ei("All paths",l),Ei("All paths",l),u.length>0&&Ei("Top callsites",u),console.groupEnd()},uX=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"public",minRole:"guest",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"hidden",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"public",minRole:"guest",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub-v2",area:"main",titleKey:"nav.guideHub",status:"public",minRole:"guest",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"admin.cliCommands",route:"/cli-commands",area:"admin",titleKey:"nav.cliCommands",status:"active",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:95},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0},{id:"main.uploadCenter",route:"/upload-center",area:"main",titleKey:"feature.uploadCenter",status:"logged_in",minRole:"user",showInSidebar:!1,showInTopbar:!1,navOrder:200}],yI=["guest","user","moderator","developer","admin"];function kR(t){const e=t.trim();if(!e)return"/";const n=e.startsWith("/")?e:`/${e}`;return n==="/"?n:n.replace(/\/+$/,"").toLowerCase()}function IR(t){if(typeof t!="string")return;const e=t.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function ER(t){if(!Array.isArray(t))return;const e=t.map(n=>IR(n)).filter(Boolean);return e.length?e:void 0}function TR(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function FR(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function oC(t){var e,n,r;return{...t,id:t.id.trim(),route:kR(t.route),area:t.area.trim(),allowedRoles:(e=ER(t.allowedRoles))!=null?e:t.allowedRoles,allowedGroups:(n=TR(t.allowedGroups))!=null?n:t.allowedGroups,allowedUserIds:(r=FR(t.allowedUserIds))!=null?r:t.allowedUserIds}}function wI(t,e){if(!e||typeof e!="object")return null;const n=e,r=typeof n.route=="string"?n.route:"",i=typeof n.area=="string"?n.area:"",a=typeof n.id=="string"&&n.id.trim()||t||(r?`feature:${r}`:"");if(!r||!a||!i)return null;const o={id:a,route:r,area:i,titleKey:typeof n.titleKey=="string"?n.titleKey:void 0,status:typeof n.status=="string"?n.status:void 0,minRole:IR(n.minRole),allowedRoles:ER(n.allowedRoles),allowedGroups:TR(n.allowedGroups),allowedUserIds:FR(n.allowedUserIds),showInTopbar:typeof n.showInTopbar=="boolean"?n.showInTopbar:void 0,showInSidebar:typeof n.showInSidebar=="boolean"?n.showInSidebar:void 0,navOrder:typeof n.navOrder=="number"?n.navOrder:void 0,isExperimental:typeof n.isExperimental=="boolean"?n.isExperimental:void 0,description:typeof n.description=="string"?n.description:void 0};return oC(o)}function AX(t){if(!t||typeof t!="object")return[];const n=t.items;return Array.isArray(n)?n.map(r=>{if(!r||typeof r!="object")return null;const i=r,a=typeof i.id=="string"?i.id:"";return wI(a,i)}).filter(r=>!!r):n&&typeof n=="object"?Object.entries(n).map(([r,i])=>wI(r,i)).filter(r=>!!r):[]}function hX(t){const e={},n={};return t.forEach(r=>{const i=oC(r);e[i.id]=i,n[i.route]=i}),{byId:e,byRoute:n}}const El=hX(uX),mX={...El,loading:!1,error:null},pX=300*1e3,bI="sf_feature_access_snapshot",_I="sf_feature_access_date",gX="stats_public",fX="feature_access_main_nav";let bA=null,SA=null;const vX=async t=>{const e=Date.now();return SA&&e-SA.fetchedAt<pX?SA:bA||(bA=(async()=>{const n=vs(Lt,gX,fX),r=await On(t,n,()=>Nn(n),{label:"feature_access_snapshot"}),i=r.exists()?AX(r.data()):[],o={rules:yX(i),fetchedAt:Date.now()};return SA=o,o})().finally(()=>{bA=null}),bA)};function xX(t,e){const n={...t!=null?t:{}};return Object.entries(e).forEach(([i,a])=>{if(a!==void 0){const o=i;n[o]=a}}),n}function yX(t){const e={...El.byId},n={...El.byRoute};return t.forEach(r=>{const i=oC(r),a=e[i.id],o=xX(a,i);e[o.id]=o,n[o.route]=o}),{byId:e,byRoute:n}}const LR=W.createContext(mX),wX=({children:t})=>{const[e,n]=W.useState({...El,loading:!0,error:null});W.useEffect(()=>{let i=!0;return(async()=>{const o=new Date().toISOString().split("T")[0];if(typeof window!="undefined")try{const u=window.localStorage.getItem(bI),h=window.localStorage.getItem(_I);if(u&&h===o){const m=JSON.parse(u);if(m&&typeof m=="object"){SA={rules:m,fetchedAt:Date.now()},i&&n({...m,loading:!1,error:null});return}}}catch(u){console.warn("[FeatureAccess] localStorage cache read failed; falling back to Firestore.",u)}const d=yu()&&!SA&&!bA?Jn("FeatureAccess:load"):null;try{const{rules:u}=await vX(d);if(i&&n({...u,loading:!1,error:null}),typeof window!="undefined")try{window.localStorage.setItem(bI,JSON.stringify(u)),window.localStorage.setItem(_I,o)}catch(h){console.warn("[FeatureAccess] localStorage cache write failed.",h)}}catch(u){const h=u,m=h==null?void 0:h.code,g=m==="permission-denied"||m==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore stats_public feature access snapshot ${g?"not readable":"load failed"}. Falling back to defaults.`,u),i&&n(x=>({...x,loading:!1,error:u instanceof Error?u.message:"Failed to load feature access rules"}))}finally{Cn(d)}})(),()=>{i=!1}},[]);const r=W.useMemo(()=>e,[e]);return s.jsx(LR.Provider,{value:r,children:t})};function bX(){return W.useContext(LR)}function _X(t,e){var i,a,o;if(!t)return;const n=e!=null?e:El,r=kR(t);return(o=(a=(i=n.byId[t])!=null?i:n.byRoute[r])!=null?a:El.byId[t])!=null?o:El.byRoute[r]}function jX(t){return!t||t.length===0?"guest":t.includes("admin")?"admin":t.includes("dev")||t.includes("developer")?"developer":t.includes("mod")||t.includes("moderator")?"moderator":"user"}function CX(t,e,n,r,i){if(n)return!0;const a=!!r;if(t.status==="logged_in"&&!a)return!1;const o=e!=null?e:"user";if(t.status==="hidden"||t.status==="dev_only"&&o!=="developer"&&o!=="admin"||t.allowedUserIds&&t.allowedUserIds.length>0&&(!r||!t.allowedUserIds.includes(r))||t.allowedGroups&&t.allowedGroups.length>0&&!(i!=null?i:[]).some(d=>t.allowedGroups.includes(d)))return!1;if(t.allowedRoles&&t.allowedRoles.length>0)return!!o&&t.allowedRoles.includes(o);if(t.minRole){const l=yI.indexOf(o),d=yI.indexOf(t.minRole);return l>=d&&l!==-1}return!0}function r0(){var C;let t=null;try{t=Oa().user}catch(E){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:n,loading:r,error:i}=bX(),a=W.useMemo(()=>({byId:e!=null?e:El.byId,byRoute:n!=null?n:El.byRoute}),[e,n]),o=W.useMemo(()=>jX(t==null?void 0:t.roles),[t==null?void 0:t.roles]),l=W.useMemo(()=>{var E;return!!((E=t==null?void 0:t.roles)!=null&&E.includes("admin"))},[t==null?void 0:t.roles]),d=W.useMemo(()=>{var E;return(E=t==null?void 0:t.accessGroups)!=null?E:[]},[t==null?void 0:t.accessGroups]),u=(C=t==null?void 0:t.id)!=null?C:null,h=W.useCallback(E=>_X(E,a),[a]),m=W.useCallback(E=>E?CX(E,o,l,u,d):!0,[l,d,u,o]),g=W.useCallback(E=>{if(!E)return!0;const T=h(E);return m(T)},[m,h]),y=W.useCallback(E=>{if(!E)return!0;const T=h(E);return T?T.status==="hidden"||T.showInSidebar===!1?!1:m(T):!0},[m,h]),x=W.useCallback(E=>{if(!E)return!0;const T=h(E);return T?T.status==="hidden"||T.showInTopbar===!1?!1:m(T):!0},[m,h]);return{loading:r,error:i,rulesById:e,rulesByRoute:n,storeRules:a,resolveRule:h,canAccessRule:m,canAccessFeature:g,isVisibleInSidebar:y,isVisibleInTopbar:x}}const RR=R.createContext(null);function SX({children:t}){const{canAccessFeature:e}=r0(),[n,r]=R.useState(!1),[i,a]=R.useState("csv"),o=e("main.uploadCenter"),l=R.useCallback(h=>{o&&(h!=null&&h.tab?a(h.tab):a("csv"),r(!0))},[o]),d=R.useCallback(()=>r(!1),[]),u=R.useMemo(()=>({isOpen:n,open:l,close:d,activeTab:i,setTab:a,canUse:o}),[n,l,d,i,o]);return s.jsx(RR.Provider,{value:u,children:t})}function lC(){const t=R.useContext(RR);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}const Na={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB","plague-doctor":"1sRziBjLKnZ-iE7OC44c_mJ_0j62ra9fg",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},ka=t=>`https://drive.google.com/uc?export=view&id=${t}`,UR=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Rr=[{key:"warrior",label:"Warrior",iconUrl:ka(Na.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:ka(Na.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:ka(Na.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:ka(Na.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:ka(Na["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:ka(Na.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:ka(Na["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:ka(Na.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:ka(Na.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:ka(Na.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:ka(Na.paladin),fallback:""},{key:"plague-doctor",label:"Plague Doctor",iconUrl:ka(Na["plague-doctor"]),fallback:"?"}],jI=Object.fromEntries(Rr.map(t=>[t.key,t])),z_=new Map;function An(t,e){z_.set(UR(t),e)}for(const t of Rr)An(t.key,t.key),An(t.label,t.key);An("war","warrior");An("krieger","warrior");An("magier","mage");An("jaeger","scout");An("jger","scout");An("assa","assassin");An("meuchelmoerder","assassin");An("meuchelmrder","assassin");An("demonhunter","demon-hunter");An("dh","demon-hunter");An("daemonenjaeger","demon-hunter");An("dmonenjger","demon-hunter");An("zerker","berserker");An("battlemage","battle-mage");An("kampfmagier","battle-mage");An("bm","battle-mage");An("druide","druid");An("barde","bard");An("necro","necromancer");An("nekromant","necromancer");An("pala","paladin");An("plaguedoctor","plague-doctor");An("plague doctor","plague-doctor");An("plague-doctor","plague-doctor");function PR(t){const e=UR(t);if(!e)return{};const n=z_.get(e);if(n){const r=jI[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of z_.entries())if(r.startsWith(e)||e.startsWith(r)){const a=jI[i];return{url:a.iconUrl,fallback:a.fallback}}return{}}function i0(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function ex(t){if(t==null)return;const e=i0(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function DR(t,e=64){if(t==null)return;const n=i0(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function MR(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function QR(t,e,n,r){const i=ex(t);return i?MR(i,{w:e,h:n,fit:r}):void 0}function Yi(t,e=64){const n=DR(t,e);return n?MR(n,{w:e,h:e,fit:"contain"}):void 0}function vb(t){if(t==null)return;const e=i0(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function BX(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const mu=Object.assign(t=>ex(t),{id:i0,direct:ex,thumb:DR,proxy:QR,thumbProxy:Yi,raw:vb,gif:vb,gifProxy:t=>{const e=vb(t);return e&&/^https?:\/\//i.test(e)?BX(e):ex(t)}}),NX={s5_eu_g136:{fileId:"1Bdhbqru4j6tDoQHNHz7MvCi8hzBL37oj",name:"Tavernenflotte"},s5_eu_g27:{fileId:"1GsXGBDUAp1-pKNvkOs4IDAV_zGPJ6x3g",name:"Heimathafen"},s5_eu_g14:{fileId:"1ePJdIGCxB8yBZrQYVFKEWRX0ExOPvgYc",name:"Order 66"},s5_eu_g28:{fileId:"1v-KYkLEyy8m_CJg2iN0I5P40pUV_JJ8O",name:"EcoLand"},s5_eu_g88:{fileId:"1_jh3vAnndoCneRKrOnnSQbqXvkORBxZQ",name:"Thanedd"},s5_eu_g35:{fileId:"1PBZn-j-t6EK1CNbP3dfGnLTNULPBZke3",name:"Heldenschmiede"},s5_eu_g141:{fileId:"1Q22CR7nqZ4lK3HLfOwIfujHkSMogItVR",name:"Black Wings"},s5_eu_g110:{fileId:"1zlrHtAlwQiLm31R5XgMjKfCeLyg3rxmy",name:"Schattendrachen"},s5_eu_g1390:{fileId:"1t6c44jOw9-CISbIPr9KakY0tCPYe6BDu",name:"Hospudka"},s5_eu_g1037:{fileId:"1EQ1-F5sF3uVUciOyiSlaDUC8KYQlV-wn",name:"Hustlerzy"},s6_eu_g5:{fileId:"1fxmcK3CRW5hTg5jhSUAl8beQeRnMJRAf",name:"Heroes Voice"},s6_eu_g108:{fileId:"1j_kZ_q2Bh8dSt0bj6v2q7a2okQ1Kn6SU",name:"Mandalorians"},s6_eu_g1399:{fileId:"1fnXO0IAJEgmtSCikPOVdiIyqjfLLnN6q",name:"Death Watch"},s6_eu_g57:{fileId:"1nPtVIBC4rSkIKfYIXaXWXukZh5EI5g-u",name:"Anarchy"},s6_eu_g238:{fileId:"1Reax1z_ZkMIjfn-hLJr-1nQTJrMdA_jv",name:"OGRODY"},s6_eu_g140:{fileId:"1MDTCV0mADrzWD8iVAG6yzUNu4-Ld3hPq",name:"Schattendrachen"},s6_eu_g2509:{fileId:"1dPtv2Y8Q893S658sxBiPxIkhW3Jtskye",name:"Libovi Odpadlici"},s6_eu_g1421:{fileId:"1t63a4OhV2ztN22IkUNWMfW3MiRmZ8egh",name:"FINAL FANTASY"},s6_eu_g3559:{fileId:"191QoL27P-E1m67qt4BTljnCX4iohPaYs",name:"YOLO"},s7_eu_g9:{fileId:"1v4Dy9KImbHK8HfmHKJ46Opa9g-wx_jYI",name:"Polarni Vlci"},s7_eu_g11:{fileId:"1_S57KiFRFnljmJsI1d-wx5CbDku0ABa3",name:"Trinity Force"},s7_eu_g91:{fileId:"1TeUlGwjJ_qoNZy5c-mysNM2ZRGIhRqtb",name:"Zmijozel"},s7_eu_g31:{fileId:"1KLxYOm1pFn0V8Pbz-yU2KuJvjYPvHjHs",name:"Trinity Rising"},s7_eu_g168:{fileId:"19IY-MS_Ja5u452QgMNNQ0dVuIz4RWFYt",name:"Baumhaus"},s7_eu_g93:{fileId:"1eu_xS3V91Af_jWh7qGT19LJ07eNJE1Nb",name:"Das Knigreich"},s7_eu_g851:{fileId:"1OvuhXZzc5nnZl-tvgpHhZRDZODT_KqPt",name:"POLANDOS"},s7_eu_g832:{fileId:"1jMiDt1bqG2orYOqL_8ORAgk77RKTvmGP",name:"Winterfell"},s7_eu_g1130:{fileId:"1wt9WD3vwQoVW2alU1JjAOnZ5iHOJzOEO",name:"Black Order"},s7_eu_g416:{fileId:"1gDURC2EpSi_cV4l4402EUEsq9uA_QUvf",name:"WhiteRaven"},s8_eu_g1:{fileId:"1WkSkhHxlKWVBewMxhEZ_m7OQx3KHjAMT",name:"All That Matters"},s8_eu_g46:{fileId:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59",name:"Freedom"},s8_eu_g277:{fileId:"1-oQPkk2VsymVN0zUJd6JQmiVvWlV02HW",name:"Loyal Union"},s8_eu_g41:{fileId:"1Y_1-GSBOfG5rMtywRQGgcRv0s8-osVGv",name:"Necropolis"},s8_eu_g121:{fileId:"13UGTBLdzcVIWpmnUGMuCBFqOWvVDPoAC",name:"Houteiku"},s8_eu_g293:{fileId:"1Nz5ta5NRm0cramjEsEQOyh8zMzaA4kTG",name:"Czarne Wasy"},s8_eu_g878:{fileId:"1cLGnzdrb4NfK84gL4k6VSGSyGuqJ23b5",name:"Shakrs"},s8_eu_g295:{fileId:"1GYpLw8tegTkU-YG7QLLlx_SdAzPDmN5R",name:"PILZHASSER"},s8_eu_g930:{fileId:"1sqKW5yPzxuaJ8uRAvgc_yzEntYp0c-Lh",name:"Lusitanos"},s9_eu_g175:{fileId:"15_H_8es5JnWQ6cBGccMxD6yCNKWHvfyV",name:"Survivors"},s9_eu_g31:{fileId:"1E5GzYKQXR_4-EABt8mkc5JqqiMOgDBot",name:"Die Legenden"},s9_eu_g11:{fileId:"1gYionSgP9CwqY_Si_j7g0u0Q8x3dckP9",name:"Frozen Throne"},s9_eu_g13:{fileId:"1MCC05YmIh71wVUBQzF7Ls8usgQPiM8kz",name:"Ceska Elita"},s9_eu_g2116:{fileId:"1nRphvVIi-XlLJFXWnqCJGKJTK2gcJxUT",name:"DARE-DEVIL"},s9_eu_g3087:{fileId:"145BtVxB58r51_FSdmfLybVQAG-hz8fyA",name:"Albanska mafie"},s9_eu_g55:{fileId:"17OmIApWzC5PXM3rAZMTQK3uo5UkND9-a",name:"Pysiakowo"},s9_eu_g51:{fileId:"1CjmnJYFJJYyAUbh5IXBmmvo_fau6QiPc",name:"RAW POWER"},s9_eu_g3260:{fileId:"1axvgrwlVIuGZYNMDS4ajpxdRnBidCCiY",name:"Schwarzer Stier"},s9_eu_g101:{fileId:"1tXsv83bKbiIJD_XRZ3OPnXnx1hK9HGNt",name:"Alkoholici"},s10_eu_g1:{fileId:"1N_Y0hWRDs-8AjN0XUqtrwLwKmgOFKX8_",name:"Royal Guard"},s10_eu_g194:{fileId:"1WLbb5nAOOlX4_Gae8zgOa_U-QfPe3lML",name:"Immortal Circle"},s10_eu_g65:{fileId:"1RKRP7ArDafsjLscXDXqIcNaWNnd_KomC",name:"BODENSATZ"},s10_eu_g102:{fileId:"1YrMLQP7rKjcDhK2zDXxCG3ePuBqyQOzO",name:"Shadow Syndiacte"},s10_eu_g74:{fileId:"1MLF0PeGIPCmp0zV_dmfbkku18OEqfyYs",name:"Gem Miners"},s10_eu_g12:{fileId:"1T0yZGMTPqCWYVavP6ARQPcoKFtFM9Koq",name:"Soul Hunters"},s10_eu_g5:{fileId:"13hBf7Jh4OB07nY9CwoMJgnpL2_j4760J",name:"Morior Invictus"},s10_eu_g173:{fileId:"1QJMnj8_4RyB8ALPWbkivWlZa6488Qsm5",name:"Das Knigreich"},s10_eu_g46:{fileId:"1ww9-YlkJBYntB_I-LKAkEXDdkvSP9jCs",name:"Die Legion"},s10_eu_g71:{fileId:"1cyUF7h83gwXgvXB_PRTibvMK7PibXEqU",name:"Misfits"},s11_eu_g1:{fileId:"1r2GmSyptQhi1Ldhsv9mmpcALu8xo3hI2",name:"Hell Imperium"},s11_eu_g135:{fileId:"1xyRWEhLFCzHh9vW_VgecGiKa1rVjZe2y",name:"Northern Sky"},s11_eu_g501:{fileId:"12RAUg5DRkh_BSwGMsutPiLYzbmtFAHTM",name:"Pureform"},s11_eu_g3:{fileId:"1o0YF3WzKIg4zzcrByHuheC4mOtvi85JI",name:"Heaven Imperium"},s11_eu_g33:{fileId:"1tyn3p6FExfPJa0b36APjYAYjHsEKGddI",name:"Fekete Gyngy"},s11_eu_g161:{fileId:"1wIU-jn2ggypWdbPdMF6Wn1susyHn02kv",name:"UnityLegion"},s11_eu_g972:{fileId:"1CTaJ-HLRwoJuFjamadwSRudhtTAo5t_0",name:"Mushroom Addicts"},s11_eu_g330:{fileId:"1DmtinML2T3Jj0218lj0lJ64yLwcYskiJ",name:"Die Kter"},s11_eu_g260:{fileId:"1wa3PU6RA5jgHJ2gkfFHvLZOpxeMF8Iu7",name:"Zur Frostfrucht"},s12_eu_g53:{fileId:"17EJpfIWuSSFP3zUVElKOCAud1KCGCi1x",name:"Synergy"},s12_eu_g7:{fileId:"1Uq8Sbmc7O0ayJmFoEo7NFaYnr49vtA6W",name:"Bandycka Jazda"},s12_eu_g31:{fileId:"1C3KVkKtZz34XqF3DLtorqnVuP9sbF5nh",name:"Dothraki Beasts"},s12_eu_g35:{fileId:"1VKcHEonOw1ee7C9Vy7NClmXUheXoK3IE",name:"Order of Phoenix"},s12_eu_g111:{fileId:"1b6eKdsqsyQfyhYiAD-9KOt3Ly50fhjGk",name:"Bincarna"},s12_eu_g346:{fileId:"16E6o-5lGDa88rBxCWS6MAY-8vT4zed9c",name:"Reborn Warriors"},s12_eu_g76:{fileId:"1yVRTRmdPTKHY750tyGnLxslwM4nvHI4B",name:"Cataclysm"},s12_eu_g1831:{fileId:"1wgYp_yVin2sOhDpjZdpxOMktGulzfMeg",name:"Odysseia"},s12_eu_g2638:{fileId:"12eIL72tjjqp8fmN9f5_YSmbyba7lLjRB",name:"Die Gottlosen"},s12_eu_g419:{fileId:"1OU-y1hqS9a7v1baBqaJL7oBESmRgF-a-",name:"EMERITOS"},s13_eu_g11:{fileId:"1HayTGbuIbzlnNzvzx_1y26zcDn2PcL0-",name:"Black Rose"},s13_eu_g6:{fileId:"1Djreygs5bpWjlRFaxPckNOA78QVBbJxh",name:"The Magazine"},s13_eu_g13:{fileId:"1Jnb4Dx-pGNjEbmzmyFdjDHykgLNQYomX",name:"Universum"},s13_eu_g43:{fileId:"1VUz1eh9PWXF5JN8GHEBEDoJ-gjQBV1Op",name:"PILZHASSER"},s13_eu_g875:{fileId:"1TmeRVp8zNomBYuBW8PCt5n96ermoUmbU",name:"LowcySnow"},s13_eu_g99:{fileId:"15OVZoNlXhlsRvLnqPSAIwhaRAHgXfCAu",name:"Maci Csoport"},s13_eu_g40:{fileId:"1xNNC5qM0SduKgkNUCMIoRH8-lcXFEYE9",name:"Hades"},s13_eu_g1613:{fileId:"1C3hnAUhpBXxPuuYGLAELLdbuezrr-g8Y",name:"Wikinger"},s13_eu_g127:{fileId:"11z7iRVXVTEWHdJvKpDDIf6F7JnKzynuN",name:"Die Gottlosen"},s13_eu_g3777:{fileId:"1rAkL-Oo0JS0LWgMVkLkAKw0yteiGI33W",name:"Rakosollo"},s14_eu_g6:{fileId:"1P3S7jBSrQtztuYNI97WE4pbi7sCeorHB",name:"Kratom"},s14_eu_g68:{fileId:"1stITzz7phmu1C6maTrF4PH5HiSGH1Dwk",name:"Shroomoholics"},s14_eu_g63:{fileId:"1nhVKy0ojB1GZAhIQ53Ckd7NvFyhVqHjM",name:"Gtterschmiede"},s14_eu_g584:{fileId:"1LcQHUKwGm0o1ae13trHbhxqSQCyBrlEz",name:"Die Gottlosen"},s14_eu_g11:{fileId:"1fOaIxs-YR1wgevePz-Xjiply-yGS5Wol",name:"DARE-DEVIL"},s14_eu_g264:{fileId:"1_zq5Ac06dxAoqxtRTQWl2gfOKYwJchzi",name:"PolskaGora"},s14_eu_g1933:{fileId:"1MOvB36iRh-PloY6NEECI1JGOkc49Jsrq",name:"A Mergzett Alma"},s14_eu_g20:{fileId:"194o4WWwDFB61IZsZ1ZBq4IQpc_fb85d6",name:"KURDE BOBER"},s14_eu_g195:{fileId:"1K-uVOIOEb6lxQoTQJMAA692EYq847zXp",name:"Fairy Tail"},s14_eu_g121:{fileId:"18cmfmH0ynv9llWesZ7kBNB3JrGe1Jb4e",name:"Sins Of Hell"},am1_net_g6:{fileId:"1NbfGIkiEwWLHTIHcKCYLn-CZE_-11bgi",name:"Primordial"},am1_net_g4:{fileId:"1tSMOUvOqNZMNn-LaFh3phK5qLf8TxDiq",name:"Exterminators"},am1_net_g8:{fileId:"1KZofKQ4c2XSVHysRTLjjwov8W5LczWCO",name:"Lord of the Pigs"},am1_net_g30:{fileId:"1N_Fjv1zUx22_mo7sk-r7QlamoVepzpE5",name:"Black Souls"},am1_net_g69:{fileId:"1IBYAhW7bgeWpC0K1xUl2crFuOwKBIkoJ",name:"The Round Table"},am1_net_g110:{fileId:"1noUACukYyQXYBZnSdp0lzCeI-KJrQRLv",name:"NotForLong"},s15_eu_g1:{fileId:"1mvHQktrC7ZyHhgZJS_3qNfPF78TkLPAZ",name:"HighwayToHell"},s15_eu_g16:{fileId:"1HhMJkb61PYmyAPq9j6HiLaF8YiM8l3vD",name:"Independence"},s15_eu_g9:{fileId:"1wU33YXpccgyXNXpb_CgCukMySyJmjKbN",name:"Soul Hunters"},s15_eu_g89:{fileId:"16MVjcAZ27VJdRym9lE2s_q-KpIZfqbC4",name:"Immortal"},s15_eu_g48:{fileId:"1SJV-6uO_cuYo5BXKda_LCWyFAKqOX3KN",name:"Zmijozel"},s15_eu_g15:{fileId:"19eQJKpHRSQAihL9fjfuL-2hh3UDJx3AE",name:"Zakon Tajemnic"},s15_eu_g40:{fileId:"1R_dstRYTlqVwTkNHOaCFmA9lNSlOGY_e",name:"Duck Valley"},s15_eu_g56:{fileId:"11DxGTWCPGKUtLvwIdc5tHSCzGxaGkvE7",name:"GORZELNIA"},s15_eu_g33:{fileId:"1mJOGl1DKRfLGT_jCr1z9-58vN3-LQsLH",name:"Soul Mates"},s16_eu_g10:{fileId:"1PIa5kfuneQ7-K0EcHxuSQQBiJ7y0HrNU",name:"Gem Miners"},s16_eu_g232:{fileId:"10ZrBfcLZu-W638MlxACaBaBQVBHu2TtZ",name:"Izakaya"},s16_eu_g27:{fileId:"1yo4Cz_lCiSqnVfZrTscnJg7qQXn_ll_K",name:"The Worldguard"},s16_eu_g45:{fileId:"164Hap8psOxqhaqhG0sBNAWskB_anFStr",name:"Lutscher-Legion"},s16_eu_g5:{fileId:"13cdynF8zBwuXwPMvgp4YnSls97hHc1t4",name:"Hrosici"},s16_eu_g56:{fileId:"11CVrtCufzl1th_w5Oxhp0d37wYXiD8rc",name:"Pureform"},s16_eu_g6:{fileId:"1zYFsEqy_XCtVl8ADVJjfuzCaskW7OchF",name:"Game Over"},s16_eu_g73:{fileId:"1QXsZeUez__bc--oVfCNCYkreB9U24-Eu",name:"Die Gottlosen"},s16_eu_g79:{fileId:"1kZWdFVR6OGGCjgSNUflQPgLl3AyfHNRf",name:"Les Chapos dFoin"},s16_eu_g97:{fileId:"1_mP9VDDQASBgx2NYaXDgOfWzQkWonjn7",name:"Freibad"},s17_eu_g186:{fileId:"1pbTCsZ3bU3MEljLOxo3WjIdWsfJ4qAKd",name:"The Magazine"},s17_eu_g107:{fileId:"1nm_E-nXt0e7ty1YdJ6WHbCx9nEQjNGu9",name:"Czarne Wasy"},s17_eu_g154:{fileId:"1BvPABQR-Bm6rY_AHqke1dlEY7ZtHNW_P",name:"DragonHunters"},s17_eu_g9:{fileId:"1D1YtTiTfMbvM2_HUWHi-R-n4lBexQY4_",name:"The Holy Order"},s17_eu_g955:{fileId:"1UagrrLW5LPMgdSpkRynH2GmlpwXNX1-6",name:"Immortal"},s17_eu_g34:{fileId:"1qK9P8hB9JUmHEb2yWUisS7sBG56xWNNS",name:"Rytiri Svetla"},s17_eu_g24:{fileId:"1SIorWKcL8jBWWDO8i7Qt1wjkuDJfIyV7",name:"Wiki Alfa"},s17_eu_g173:{fileId:"1H511rNi9L6dUdeCRynmdoQp85HG",name:"French Beer"},s17_eu_g226:{fileId:"1kxqiPOOra1LdjG5LmcjpAxgeKkRHdBMk",name:"Harcos Legendak"},s17_eu_g238:{fileId:"14qo7bjJ5uEaGQx0RA_ugi5Vzm7HnHA29",name:"Hunnia"},s18_eu_g38:{fileId:"1lvJItlZs_IrFZuz6y32n27-W5WlVKMHO",name:"Primodial"},s18_eu_g13:{fileId:"1tOxPbkqovOb8pjcvYIA9xIhXKIhukdiE",name:"The Worldguard"},s18_eu_g32:{fileId:"1onAICT5iEK14NZ8GWduKASQjS2KBZNhs",name:"Dothraki Beast"},s18_eu_g23:{fileId:"1VXSPSEvEZuXjyLWDZtiVa_RdTbth2oKd",name:"MLEM"},s18_eu_g105:{fileId:"1RjilCSZru6BDjMsQvMEskOLtH7F-t6g_",name:"Psychiatryk"},s18_eu_g266:{fileId:"1yn-A9FiHezmk98wo_MHWt3hhKjz_cTJv",name:"Akatsuki"},s18_eu_g8:{fileId:"1z9MJIAFTSg1Ig5oG8N2IzWuE6hXZBzaU",name:"Mushroom Addicts"},s18_eu_g35:{fileId:"1MxvbFCEGAFuWIQQatmtOyI36lXYMm8Hk",name:"Teehaus"},s18_eu_g676:{fileId:"1Hpx3Ga8N2SVdGVXUV8QsnLakky1JPwQ1",name:"DieUnglaublichen"},s18_eu_g112:{fileId:"1UqMhCJyeP3J_tbl53w0mOLGE6FOb7Lhv",name:"Kingdom XowiQx"},s19_eu_g15:{fileId:"12LEY5kmgNzSAb--UuzFKQImeatORUq1e",name:"Immortal"},s19_eu_g3:{fileId:"1ISbWX_MJCE2DHPPxG8y06hG3wMtlQRNZ",name:"PUREGAME"},s19_eu_g5:{fileId:"1TtRP84O4OM2jzzL7xPcy_EPX_TnhLted",name:"Deserters"},s19_eu_g135:{fileId:"1gfu4q_cRfV4sXH_f6EqDvjDjmTiK-aBY",name:"PROGRES"},s19_eu_g79:{fileId:"14HBiuQfM22vo_Leqpfwuyt9drQfh6_Kn",name:"Die Gottlosen"},s19_eu_g1649:{fileId:"1j8As15DEpaktnEIIQxNSoecFRYFQ4gKI",name:"Wild Forest"},s19_eu_g284:{fileId:"1m_CYnbAxHGseSlXE0kpk4J5l0q1SV3Bp",name:"Ulance"},s19_eu_g231:{fileId:"1T7I4r-R6XLRyH1O6J0e6nlKhVi3mRX7c",name:"Frostveil"},s19_eu_g16:{fileId:"13eq6ZiMHG7QQX41pXzJ-cYJGEkP0qWMI",name:"Szofery z Piekla"},s19_eu_g92:{fileId:"16naI4OVXTBBs37DD2BJbQ8RDViii0hao",name:"Korenovi vezni"},s20_eu_g132:{fileId:"1V8JJ9NxKG9gyndF1J_We48NbyA0sWaMR",name:"Freedomx"},s20_eu_g4:{fileId:"1PTmfWKc9E8WrYYWu8kkjxWKII10G33oI",name:"Imbiss 69"},s20_eu_g65:{fileId:"1yKtFJk7f4hPDWpTXZcvy6cor16xe6i8c",name:"Die Legionre"},s20_eu_g11:{fileId:"1G18cYrqTf1h9chBh0nKmQR7_ujvuaEj1",name:"The Worldguard"},s20_eu_g80:{fileId:"1Zuw_OExiTCvUYYYCHwEDFivgqbpVNDLs",name:"SHADOW DEVILS"},s20_eu_g76:{fileId:"1zCa_WDIGoUnbFfLaE5mGWT7V09liKc-Z",name:"Gem Miners"},s20_eu_g89:{fileId:"1NWgtctWt9hCfIXiWckwNHa4FnIv1F8S5",name:"Food Rush 96"},s20_eu_g28:{fileId:"18UGVC1JAkj5ch37NPkeqfhqhUxkBOzQi",name:"Evil Returns"},s20_eu_g61:{fileId:"14HTUIDFrTTQUoPGZbKlUlLFUFx_wnOzt",name:"Mushroom Addicts"},s21_eu_g1:{fileId:"1m-r1mdWlZOpJ-__-zSwTZ-MlJ7rEP7Ck",name:"La Bella Vita"},s21_eu_g18:{fileId:"1v9VX67VWsrh0Dc-N85NQ4fC37koGvJJV",name:"La Bella Rosa"},s21_eu_g88:{fileId:"1zDlYag0ISghS-YZIEpr-kmhY_fD3wmsY",name:"La Bella Bandito"},s21_eu_g4:{fileId:"1TW90e9LnDrlMIlqyF-vpQY_hRE5SF3D_",name:"Polarni Expres"},s21_eu_g7:{fileId:"1f0ZGIRqUdTtb3N220_FUSYBS37lN7r2D",name:"Dothraki"},s21_eu_g199:{fileId:"1N96TzS9WqrW8ijHFx54Sspd7GOVSbRKV",name:"Abstinentia"},s21_eu_g60:{fileId:"1cVYacN9-gVzUf6T69qdiw8EGUNpYbI7D",name:"Frozzen Valley"},s21_eu_g6:{fileId:"14KMStPuH7QPZJyFhJ-cyDECl0JdK6Wvv",name:"Lightbringer"},s21_eu_g56:{fileId:"1YSktP6PjpxyhgCE9GdOU9UF2EiR-AW5z",name:"Sadistic"},s22_eu_g6:{fileId:"1katzMO7Cl8XqDPJqA9x0y8CPmhtYfaFH",name:"REAPERS"},s22_eu_g7:{fileId:"1LiAKuc4okAzOCFH_bRsESEWB75ueSStJ",name:"Exil"},s22_eu_g8:{fileId:"1gWoQkfSZ4s2M9NcSNyq07fDQmX309zDE",name:"Forever 22"},s22_eu_g9:{fileId:"1g04qMLKc35jgDRPggnZPcdKxybQzfHay",name:"Mages Only"},s22_eu_g15:{fileId:"1MD5cTmPNjNsMWscjAorxAXjis7kcMqGN",name:"Polarni Expres"},s22_eu_g2477:{fileId:"1kpAARvXTQ6e3jJJrMuEA0IphQHOqmMb9",name:"Laughing Coffin"},s22_eu_g3:{fileId:"12AR3FoADVlQFbg7wPh9UFNM981JmFPCf",name:"Sadistic"},s22_eu_g69:{fileId:"1juNcxe__2VtPxL12mX_FjLjAbjAou8MT",name:"UnityLegion"},s22_eu_g195:{fileId:"1JsF-dpD7HGwkkcwPVuRy2ZG4x7vZeRc_",name:"Moravaci"},s22_eu_g4:{fileId:"11SmboairvakRJ_U6Qu5nOOwEICKlEK71",name:"Wildschweinhut"},s23_eu_g18:{fileId:"1lJGmu3xWs_hH_lAVDIG48MpskTmBqLji",name:"OnlyFriends"},s23_eu_g3:{fileId:"1l_Sa6U0apW4QiUafLy2XhCk_8VDeu3M3",name:"Final Judgment"},s23_eu_g5:{fileId:"1GVlUpO6AyDVwMekijbChGo0iTABK-rNz",name:"Gruovo Imperium"},s23_eu_g2:{fileId:"1rFJ24pWozdjJwoAfyRp82tTG4uwqIkai",name:"C R Y"},s23_eu_g22:{fileId:"1Hy8P3u5p1UKckOmEYbGbTbKTIJyBOB_m",name:"Sadistic"},s23_eu_g17:{fileId:"1pRBhzcavndkGGQV46rfaPOwc1xTafeAg",name:"shadowborn"},s23_eu_g6:{fileId:"1likq8oUx4aI38aGJah42ceT8LPHsQLRg",name:"Ruzenky"},s23_eu_g45:{fileId:"17H4SOpU8zL5JVMYQdqKN4g76zQnyYAJ0",name:"Anakonda"},s23_eu_g361:{fileId:"1qzAsr3UBQuegAx1gtSAJNvTzI3Jr9Z_2",name:"Wschodnie Dziki"},s24_eu_g5:{fileId:"1fsm0guL8S6ZLbIQOr6Sizepy0KZ1SR8A",name:"The Worldguard"},s24_eu_g83:{fileId:"1ImLh0hhYGHoXfcVwE5bS6crGSvIJwZ-v",name:"Pestilence"},s24_eu_g2:{fileId:"1wW5n2fjEc13unRS3Ui0jNRtSF4ThciCJ",name:"Quarantne"},s24_eu_g19:{fileId:"1qFniy8hQcR7kVqEcp71zfBks-kEiY9Ki",name:"La Cossa Znossa"},s24_eu_g7:{fileId:"1OiSjaEn-pvmyxf5U10zfmSPtgD-AqQqq",name:"Morova Ilzanice"},s24_eu_g85:{fileId:"1vyqDPbneSkEzZBAN3qj_Bo-WqfkQUCZX",name:"SupremeEvolution"},s24_eu_g8:{fileId:"1OxQtcP7ZXGMkkc1igcXNPnwRo8r844M3",name:"RODINA"},s24_eu_g16:{fileId:"1oCw_HcUlt1aQlypwR52tm-1CLzDrd2qT",name:"Bohemove"},s24_eu_g9:{fileId:"1Hvkz8pLxIXkjE9XP7ZbyjSPwnTigGP8o",name:"PILZHASSER"},s24_eu_g36:{fileId:"1ABWiYzdbZ947cZfvBrXZX7VS1dfTpOT4",name:"Bratri v Kyblu"},f8_net_g27217:{fileId:"1u2iNksbzArhaK0fbdHeMu4ieZO8B6EgJ",name:"ENDGEGNER"},f8_net_g16109:{fileId:"1f7jT_OmHmmhg1Am4p60nVetujbC8Xpdv",name:"Hornys Endgegner"},f8_net_g71777:{fileId:"1IX43Rfunw-8BLY-ACy-c4csuTXJ4GNXs",name:"Risens Endgegner"},f11_net_g5501:{fileId:"1sudYxrebgpMT6nPgsK-zVq8Padbl5MhC",name:"ENDGEGNER Alpha"},f11_net_g11424:{fileId:"1ewzuzDvlGN7b9BeHRh7Sc7YcPel2EJow",name:"ENDGEGNER Omega"},f12_net_g465:{fileId:"1BrnC-DsBTXiaw7Ds7unDP8u4vU4bj8-j",name:"ENDGEGNER I"},f12_net_g81150:{fileId:"1tvWCCAEnAnP4TVKA6VwH54i0XMeFR3uH",name:"ENDGEGNERs Wlfe"},f12_net_g68166:{fileId:"1LnYKjeiJdSL9w4SliieNyEAHb1C-HJgh",name:"ENDGEGNER Semper"},f21_net_g13645:{fileId:"1JF_-vvAUXcKHgZyFYZaouHVee12dGFsf",name:"Rising Phoenix"},f22_net_g21386:{fileId:"19OYwHcO3ZNfTwKxGfYQaEgRTzov7YNYH",name:"Crit Happens"},f23_net_g10202:{fileId:"1vsgQ8qHx9Wjq1QKKt7vgWUfAApYDkd_W",name:"Crit Happens"},f23_net_g11625:{fileId:"1f3RF97OO-GSW6tlrez6ll73ffO6r43oU",name:"Sanctum"},f23_net_g10851:{fileId:"1HI1VEN9G3H7u5Qwg0IdMIMgAKU2Qnn7w",name:"Oblivion"},f24_net_g9309:{fileId:"1dWWYpTMBYqMWL_X25iBmCJqiZguU3DmR",name:"Crit Happens"},f24_net_g9333:{fileId:"136Ki37XLzIxGv6CN2qWzoNdpIaewjue4",name:"Rising Star"},f28_net_g9108:{fileId:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",name:"Welten im Wandel"},f28_net_g22:{fileId:"1L9RiqzxQumXOZ3e-GlG6RCGVAN1kFFBG",name:"Poena Capitis"},f28_net_g5452:{fileId:"13Ud0Wap5YiSAe4tHALOS7JvpLl1g471t",name:"The Void"},f28_net_g15060:{fileId:"1dCKCwHHrCtG1fciKCAeiHXOrTlzAjv0z",name:"Legion Z"},f28_net_g11896:{fileId:"1NiEnFnOglOvvhV1c-kRwIs083zETmDWIp",name:"Die Legion"},f28_net_g179:{fileId:"1YWhfhmS6U4IPc0ydJ3ctSsXJrpKD7fge",name:"Asylum"},f28_net_g110:{fileId:"1Ma_Pm-ed6qgRf-4prgzC71DWn5u2nJ79",name:"IMPERIUM"},f28_net_g62:{fileId:"16UdoSWWP3s9xrB8qFTKDEabDsOrCHFL7",name:"Exil"},maerwynn_net_g36538:{fileId:"1lVyTSwITmpat0IZayiW2BMsQtwCAVA53-GlG6RCGVAN1kFFBG",name:"ENDGEGNER MW"}},kX=t=>typeof t!="string"?null:t.trim().toLowerCase()||null;function IX(t){const e=kX(t);if(!e)return null;const n=NX[e];return n!=null&&n.fileId?n.fileId:null}function HR(t,e=128){var a,o;const n=IX(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=mu(n))!=null?a:null,i=r&&(o=Yi(r,e))!=null?o:null;return{id:n,url:r,thumb:i,fallback:""}}function Ip(t,e=128){return HR(t,e).thumb}const a0="sfh:search:cache:v1:universal:",OR=`${a0}lru`,EX=720*60,Km=150,fh=()=>typeof window!="undefined"&&!!window.localStorage,TX=t=>t.trim().replace(/\s+/g," ").toLowerCase(),$R=(...t)=>{try{fh()&&window.localStorage.getItem("sfh:debug:firestoreReads")==="1"&&console.debug(...t)}catch(e){}},VR=()=>{if(!fh())return[];try{const t=window.localStorage.getItem(OR);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}catch(t){return[]}},GR=t=>{if(fh())try{window.localStorage.setItem(OR,JSON.stringify(t.slice(0,Km)))}catch(e){}},KR=t=>{const e=VR().filter(n=>n!==t);e.unshift(t),GR(e.slice(0,Km))},FX=()=>{const t=VR();if(t.length<=Km)return;const e=t.slice(0,Km);if(GR(e),!!fh())try{t.slice(Km).forEach(r=>window.localStorage.removeItem(a0+r))}catch(n){}},LX=t=>{if(!fh())return null;try{const e=window.localStorage.getItem(a0+t);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.ts!="number"||typeof n.ttlSec!="number"||Date.now()-n.ts>n.ttlSec*1e3?null:($R("[SearchCache] hit",t),KR(t),n)}catch(e){return null}},RX=(t,e,n=EX)=>{if(!fh())return;const r={...e,ts:Date.now(),ttlSec:n};try{window.localStorage.setItem(a0+t,JSON.stringify(r)),KR(t),FX(),$R("[SearchCache] store",t,{players:e.players.length,guilds:e.guilds.length})}catch(i){}},UX=/^[a-z]{1,4}\d+$/i,PX=/^([a-z]{1,4}\d+)[_.-]?(net|eu)$/i,DX=/^([a-z]{1,4}\d+)\.sfgame\.(net|eu)$/i,Qf=t=>{const e=String(t!=null?t:"").trim().toUpperCase();if(!e)return"";const n=e.match(/^S(\d+)$/);return n?`EU${n[1]}`:e},zR=t=>{const e=String(t!=null?t:"").trim();if(!e)return null;const n=e.toLowerCase();if(UX.test(n))return Qf(n);const r=n.match(PX);if(r)return Qf(r[1]);const i=n.match(DX);return Qf(i?i[1]:e)},WR=t=>{var o;const e=String(t!=null?t:"").trim();if(!e)return null;const n=e.match(/^(.+)_p(\d+)$/i);if(!n)return null;const r=(o=n[1])==null?void 0:o.trim(),i=n[2],a=zR(r);return!a||!i?null:{identifier:e,playerId:i,serverKey:a}},o0=(t,e)=>{const n=String(e!=null?e:"").trim();if(!n)return null;const r=zR(t);return r?`${r.toLowerCase()}_p${n}`:null},Hf=3,MX=350,pc=25,Of=10,cC="sfh:search:recents",qR=20,xb=t=>Number.isFinite(t),rA=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},Ni=t=>{if(typeof t!="string")return null;const e=t.trim();return e||null},QX=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),Sc=()=>{try{const t=typeof window!="undefined"?window.localStorage.getItem(cC):null;if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e.slice(0,qR).map(n=>{var r,i,a,o,l,d,u,h,m;return(n==null?void 0:n.kind)==="player"||(n==null?void 0:n.kind)==="guild"?{kind:n.kind,id:String((i=(r=n.id)!=null?r:n.value)!=null?i:""),server:(o=(a=n.server)!=null?a:n.serverId)!=null?o:null,name:(d=(l=n.name)!=null?l:n.label)!=null?d:null,className:(u=n.className)!=null?u:null,level:typeof n.level=="number"?n.level:null,guildName:(h=n.guildName)!=null?h:null}:(n==null?void 0:n.kind)==="query"?{kind:"query",value:String((m=n.value)!=null?m:"")}:null}).filter(Boolean):[]}catch(t){return[]}},eu=t=>{var n;if(t.kind==="query")return`query:${t.value}`;const e=(n=t.server)!=null?n:"";return`${t.kind}:${e}:${t.id}`},CI=t=>{var e,n,r,i,a,o,l,d,u;if(t.kind!=="player"||t.name&&t.className&&t.server||typeof window=="undefined")return t;try{const h=window.localStorage.getItem(`player-profile-cache:${t.id}`);if(!h)return t;const m=JSON.parse(h),g=(m==null?void 0:m.data)||{};return{...t,name:(n=(e=t.name)!=null?e:g.name)!=null?n:null,className:(i=(r=t.className)!=null?r:g.className)!=null?i:null,server:(o=(a=t.server)!=null?a:g.server)!=null?o:null,level:(l=t.level)!=null?l:typeof g.level=="number"?g.level:null,guildName:(u=(d=t.guildName)!=null?d:g.guild)!=null?u:null}}catch(h){return t}},yb=t=>{if(typeof window!="undefined")try{const e=Sc().map(CI),n=t.kind==="player"?CI(t):t,r=eu(n),i=[n,...e.filter(a=>eu(a)!==r)];window.localStorage.setItem(cC,JSON.stringify(i.slice(0,qR)))}catch(e){}},wb=(t,e)=>{try{const n=Sc().filter(r=>eu(r)!==t);window.localStorage.setItem(cC,JSON.stringify(n)),e(n)}catch(n){e(r=>r.filter(i=>eu(i)!==t))}};function HX(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}const OX=(t,e)=>{var o,l,d,u,h,m,g,y;const n=(h=(d=(o=Ni(e==null?void 0:e.identifier))!=null?o:Ni(e==null?void 0:e.playerIdentifier))!=null?d:Ni((l=e==null?void 0:e.values)==null?void 0:l.Identifier))!=null?h:Ni((u=e==null?void 0:e.values)==null?void 0:u.identifier);if(n)return n;const r=Ni(t);if(r&&WR(r))return r;const i=(m=Ni(e==null?void 0:e.playerId))!=null?m:r,a=(y=Ni(e==null?void 0:e.server))!=null?y:Ni((g=e==null?void 0:e.values)==null?void 0:g.Server);return o0(a,i)},$X=(t,e)=>{var n,r,i,a,o,l,d,u,h,m;return(m=(h=(d=(o=(i=(n=Ni(e==null?void 0:e.identifier))!=null?n:Ni(e==null?void 0:e.guildIdentifier))!=null?i:Ni((r=e==null?void 0:e.values)==null?void 0:r.Identifier))!=null?o:Ni((a=e==null?void 0:e.values)==null?void 0:a.identifier))!=null?d:Ni((l=e==null?void 0:e.values)==null?void 0:l["Guild Identifier"]))!=null?h:Ni((u=e==null?void 0:e.values)==null?void 0:u.GuildIdentifier))!=null?m:Ni(t)};function SI({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const{t:r}=Gs(),i=pi(),[a,o]=W.useState(""),[l,d]=W.useState(""),[u,h]=W.useState(!1),[m,g]=W.useState(null),[y,x]=W.useState([]),[C,E]=W.useState([]),[T,B]=W.useState([]),[S,v]=W.useState(!1),[w,N]=W.useState(!1),[_,j]=W.useState(Sc()),[k,U]=W.useState(-1),[I,P]=W.useState(!1),[L,H]=W.useState(!1),[O,z]=W.useState(null),G=W.useRef(null),$=W.useRef(0);W.useEffect(()=>{const te=setTimeout(()=>d(a.trim()),MX);return()=>clearTimeout(te)},[a]),W.useEffect(()=>{let te=!1;async function ce(){const re=l,ye=TX(re);if(re.length<Hf){x([]),E([]),B([]),v(!1),N(!1),U(_.length?0:-1),z(null);return}const Be=LX(ye);if(Be){x(Be.players.slice(0,Of).map(De=>{var at,Ke,He;return{kind:"player",id:String(De.playerId),name:De.name,server:(at=De.server)!=null?at:null,className:(Ke=De.className)!=null?Ke:null,guildName:(He=De.guildName)!=null?He:null,nameFold:null,level:null}})),E(Be.guilds.slice(0,Of).map(De=>{var at;return{kind:"guild",id:De.guildId,name:De.name,nameFold:null,server:(at=De.server)!=null?at:null,memberCount:null,hofRank:null}})),v(Be.playersHasMore),N(Be.guildsHasMore),B([]),U(Be.players.length+Be.guilds.length?0:-1),z("cache");return}P(!0);const Le=Jn("Search:universal");g(null),h(!0);const Ee=++$.current;try{let De=function(mt){var dt,ze,wt,Dt,Et,Me,pt,os,je,bs,Vn,yn,hn,Ar,hr,mn,hs,_s,lt,Tt,ft,Ns,Zs,Ur,Pr,wn,wr,br,ti,Ri,xs,gi,Ui,Ji;const ne=mt.data(),{root:Re,id:Ue}=HX(mt);if(Re==="players"||ne.playerId&&!ne.guildIdentifier){const on=OX(Ue,ne);if(!on||Fe.has(on))return;Fe.add(on),xt.push({kind:"player",id:on,name:(wt=(ze=ne.name)!=null?ze:(dt=ne.values)==null?void 0:dt.Name)!=null?wt:null,nameFold:(Dt=ne.nameFold)!=null?Dt:null,server:(pt=(Me=ne.server)!=null?Me:(Et=ne.values)==null?void 0:Et.Server)!=null?pt:null,guildName:(bs=(je=ne.guildName)!=null?je:(os=ne.values)==null?void 0:os.Guild)!=null?bs:null,className:(hn=(yn=ne.className)!=null?yn:(Vn=ne.values)==null?void 0:Vn.Class)!=null?hn:null,level:rA((hr=ne.level)!=null?hr:(Ar=ne.values)==null?void 0:Ar.Level),ts:rA(ne.timestamp)});return}if(Re==="guilds"||ne.guildIdentifier&&!ne.playerId){const on=$X(Ue,ne);if(!on||ct.has(on))return;ct.add(on),ie.push({kind:"guild",id:on,name:(_s=(hs=ne.name)!=null?hs:(mn=ne.values)==null?void 0:mn.Name)!=null?_s:null,nameFold:(lt=ne.nameFold)!=null?lt:null,server:(Ns=(ft=ne.server)!=null?ft:(Tt=ne.values)==null?void 0:Tt.Server)!=null?Ns:null,memberCount:rA((wn=(Ur=ne.memberCount)!=null?Ur:(Zs=ne.values)==null?void 0:Zs["Guild Member Count"])!=null?wn:(Pr=ne.values)==null?void 0:Pr.GuildMemberCount),hofRank:rA((Ji=(gi=(Ri=(br=ne.hofRank)!=null?br:(wr=ne.values)==null?void 0:wr["Hall of Fame Rank"])!=null?Ri:(ti=ne.values)==null?void 0:ti.HoF)!=null?gi:(xs=ne.values)==null?void 0:xs.Rank)!=null?Ji:(Ui=ne.values)==null?void 0:Ui["Guild Rank"]),ts:rA(ne.timestamp)});return}};const at=QX(re),Ke=rg(Lt,"latest"),He=Yn(Ke,pa("nameFold"),Rc(at),Uc(at+""),Fr(pc)),Ce=await Hn(Le,{path:"latest"},()=>Qn(He),{collectionHint:"latest"}),ue=Yn(Ke,Xi("nameNgrams","array-contains",at),Fr(pc)),Te=await Hn(Le,{path:"latest"},()=>Qn(ue),{collectionHint:"latest"}),Fe=new Set,ct=new Set,xt=[],ie=[];Ce.forEach(De),Te.forEach(De);const Ae=xt.slice(0,pc),me=ie.slice(0,pc);if(Ee!==$.current||te){Cn(Le);return}const ke=Ml(Lt,"servers"),jt=re.toLowerCase(),nt=re.toUpperCase(),et=[Hn(Le,{path:"servers"},()=>Qn(Yn(ke,pa("displayName"),Rc(re),Uc(re+""),Fr(e))),{collectionHint:"servers"}),Hn(Le,{path:"servers"},()=>Qn(Yn(ke,pa("code"),Rc(nt),Uc(nt+""),Fr(e))),{collectionHint:"servers"}),Hn(Le,{path:"servers"},()=>Qn(Yn(ke,pa("host"),Rc(jt),Uc(jt+""),Fr(e))),{collectionHint:"servers"})],ut=await Promise.allSettled(et),bt=new Set,Ye=[];for(const mt of ut)mt.status==="fulfilled"&&mt.value.forEach(ne=>{var dt,ze,wt,Dt,Et;const Re=ne.data(),Ue=ne.id;!Ue||bt.has(Ue)||(bt.add(Ue),Ye.push({kind:"server",id:Ue,displayName:(dt=Re.displayName)!=null?dt:null,code:(ze=Re.code)!=null?ze:null,host:(wt=Re.host)!=null?wt:null,region:(Dt=Re.region)!=null?Dt:null,type:(Et=Re.type)!=null?Et:null,numericId:rA(Re.numericId),active:typeof Re.active=="boolean"?Re.active:null}))});const Je=[],Kt=mt=>{for(const ne of mt){if(Je.length>=Of)break;Je.push(ne)}};Kt(Ae),Kt(me),Je.length<Of&&(Kt(Ae.slice(Je.length)),Kt(me.slice(Je.length))),x(Je.filter(mt=>mt.kind==="player")),E(Je.filter(mt=>mt.kind==="guild")),B(Ye.slice(0,e)),v(Ae.length===pc),N(me.length===pc),U(Je.length+Ye.length?0:-1),z("live"),RX(ye,{players:Ae.map(mt=>({playerId:mt.id,name:mt.name,server:mt.server,className:mt.className,guildName:mt.guildName})),guilds:me.map(mt=>{var ne;return{guildId:mt.id,name:mt.name,server:(ne=mt.server)!=null?ne:void 0}}),playersHasMore:Ae.length===pc,guildsHasMore:me.length===pc})}catch(De){g((De==null?void 0:De.message)||"Unbekannter Fehler bei der Suche."),x([]),E([]),B([]),U(-1)}finally{Cn(Le),h(!1)}}return ce(),()=>{te=!0}},[l,e,_.length]),W.useEffect(()=>{const te=ce=>{G.current&&(G.current.contains(ce.target)||(x([]),E([]),B([]),U(-1),P(!1),H(!1)))};return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[]);const Y=I&&a.trim().length<Hf&&_.length>0,J=I&&(u||m||Y||[...y,...C,...T].length>0||L&&a.trim().length<Hf),V=_.filter(te=>te.kind==="player"||te.kind==="guild").map(te=>{var ce,re,ye,Be,Le,Ee,De;return te.kind==="player"?{kind:"player",id:te.id,name:(ce=te.name)!=null?ce:null,nameFold:null,server:(re=te.server)!=null?re:null,guildName:(ye=te.guildName)!=null?ye:null,className:(Be=te.className)!=null?Be:null,level:(Le=te.level)!=null?Le:null,ts:null}:{kind:"guild",id:te.id,name:(Ee=te.name)!=null?Ee:null,nameFold:null,server:(De=te.server)!=null?De:null,memberCount:null,hofRank:null,ts:null}}),X=Y?V:[...y,...C,...T],Z=te=>{var ce;if(te.kind==="player"){const re=WR(te.id)?te.id:o0((ce=te.server)!=null?ce:null,te.id);if(!re)return;yb({kind:"player",id:re,name:te.name,className:te.className,level:te.level,guildName:te.guildName,server:te.server}),j(Sc()),i(`/player/${encodeURIComponent(re)}`)}else te.kind==="guild"?(yb({kind:"guild",id:te.id,name:te.name,server:te.server}),j(Sc()),i(`/guild/${encodeURIComponent(te.id)}`)):i(`/server/${encodeURIComponent(te.id)}`);x([]),E([]),B([]),U(-1),o(""),P(!1),z(null)},se=()=>{a.trim().length<Hf||(yb({kind:"query",value:a.trim()}),j(Sc()),i(`/search?q=${encodeURIComponent(a.trim())}`),P(!1))},le=te=>{if(te.key==="Enter"){te.preventDefault(),k>=0&&X[k]?Z(X[k]):se();return}if(te.key==="Escape"){x([]),E([]),B([]),U(-1),P(!1);return}X.length&&(te.key==="ArrowDown"?(te.preventDefault(),U(ce=>(ce+1)%X.length)):te.key==="ArrowUp"&&(te.preventDefault(),U(ce=>(ce-1+X.length)%X.length)))},we=(te,ce,re=!1,ye)=>{var De,at,Ke,He,Ce,ue;const Be=ce===k,Le=re?"div":"button",Ee=re?{role:"button",tabIndex:0,onKeyDown:Te=>{(Te.key==="Enter"||Te.key===" ")&&(Te.preventDefault(),Z(te))}}:{type:"button"};return s.jsxs(Le,{onClick:()=>Z(te),style:Be?Mt.itemActive:Mt.item,title:te.name||"",onMouseEnter:()=>U(ce),...Ee,children:[s.jsx("div",{style:Mt.iconBox,children:n?s.jsx("img",{src:n((De=te.className)!=null?De:void 0,64),alt:(at=te.className)!=null?at:"class icon",style:Mt.iconImgShadow,loading:"lazy"}):s.jsx("span",{style:Mt.iconFallback,children:(Ke=te.className)!=null?Ke:"?"})}),s.jsxs("div",{style:Mt.meta,children:[s.jsxs("div",{style:Mt.line1,children:[s.jsx("span",{style:Mt.name,children:(He=te.name)!=null?He:te.id}),xb(te.level)&&s.jsxs("span",{style:Mt.badge,children:["Lvl ",te.level]}),re&&s.jsx("span",{style:Mt.recentsBadge,children:r("search.recentLabel","Recent")}),re&&ye&&s.jsx("button",{type:"button",style:Mt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),wb(ye,j)},children:""})]}),s.jsxs("div",{style:Mt.line2,children:[s.jsx("span",{children:(Ce=te.className)!=null?Ce:"Klasse ?"}),s.jsx("span",{style:Mt.sep,children:""}),s.jsx("span",{children:(ue=te.server)!=null?ue:"Server ?"})]})]})]},`p-${te.id}-${ce}-${re?"r":"s"}`)},Se=(te,ce,re=!1,ye)=>{var Ke,He,Ce;const Be=ce===k,Le=HR(te.id,64),Ee=Le.thumb||void 0,De=re?"div":"button",at=re?{role:"button",tabIndex:0,onKeyDown:ue=>{(ue.key==="Enter"||ue.key===" ")&&(ue.preventDefault(),Z(te))}}:{type:"button"};return s.jsxs(De,{onClick:()=>Z(te),style:Be?Mt.itemActive:Mt.item,title:te.name||"",onMouseEnter:()=>U(ce),...at,children:[s.jsx("div",{style:Mt.iconBox,children:Ee?s.jsx("img",{src:Ee,alt:`${(Ke=te.name)!=null?Ke:te.id} emblem`,style:Mt.iconImgShadow,loading:"lazy"}):s.jsx("span",{style:Mt.iconFallback,children:Le.fallback})}),s.jsxs("div",{style:Mt.meta,children:[s.jsxs("div",{style:Mt.line1,children:[s.jsx("span",{style:Mt.name,children:(He=te.name)!=null?He:te.id}),xb(te.hofRank)&&s.jsxs("span",{style:Mt.badge,children:["HoF #",te.hofRank]}),re&&s.jsx("span",{style:Mt.recentsBadge,children:r("search.recentLabel","Recent")}),re&&ye&&s.jsx("button",{type:"button",style:Mt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),wb(ye,j)},children:""})]}),s.jsxs("div",{style:Mt.line2,children:[s.jsx("span",{children:(Ce=te.server)!=null?Ce:"Server ?"}),s.jsx("span",{style:Mt.sep,children:""}),s.jsx("span",{children:xb(te.memberCount)?r("search.guildMembers","{{count}} members",{count:te.memberCount}):r("search.guildMembersUnknown","Members ?")})]})]})]},`g-${te.id}-${ce}-${re?"r":"s"}`)};return s.jsxs("div",{ref:G,style:Mt.wrap,children:[s.jsx("input",{style:Mt.input,placeholder:t,value:a,onChange:te=>o(te.target.value),onKeyDown:le,onFocus:()=>{H(!0),P(!0)},onBlur:()=>{H(!1)},"aria-label":r("search.inputLabel","Spieler, Gilden und Server suchen")}),J&&s.jsxs("div",{style:Mt.dropdown,children:[u&&s.jsx("div",{style:Mt.hint,children:r("search.loading","Laden ")}),m&&s.jsx("div",{style:Mt.err,children:m}),!u&&!m&&Y&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:Mt.sectionHdr,children:r("search.recents","Recent searches")}),_.length===0&&s.jsx("div",{style:Mt.hint,children:r("search.minCharsHint","Type at least 3 characters")}),_.map((te,ce)=>{var re,ye,Be,Le,Ee,De,at;if(te.kind==="query"){const Ke=eu(te);return s.jsx("div",{style:Mt.item,role:"button",tabIndex:0,onClick:()=>{o(te.value),d(te.value),P(!1),j(Sc())},onKeyDown:He=>{(He.key==="Enter"||He.key===" ")&&(He.preventDefault(),o(te.value),d(te.value),P(!1),j(Sc()))},children:s.jsx("div",{style:Mt.meta,children:s.jsxs("div",{style:Mt.line1,children:[s.jsx("span",{style:Mt.name,children:te.value}),s.jsx("span",{style:Mt.recentsBadge,children:r("search.recentLabel","Recent")}),s.jsx("button",{type:"button",style:Mt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:He=>{He.preventDefault(),He.stopPropagation(),wb(Ke,j)},children:""})]})})},`rq-${ce}`)}if(te.kind==="player"){const Ke={kind:"player",id:te.id,name:(re=te.name)!=null?re:null,server:(ye=te.server)!=null?ye:null,guildName:(Be=te.guildName)!=null?Be:null,className:(Le=te.className)!=null?Le:null,level:(Ee=te.level)!=null?Ee:null},He=eu(te);return s.jsx(W.Fragment,{children:we(Ke,ce,!0,He)},`rp-${te.id}-${ce}`)}if(te.kind==="guild"){const Ke={kind:"guild",id:te.id,name:(De=te.name)!=null?De:null,server:(at=te.server)!=null?at:null,memberCount:null,hofRank:null},He=eu(te);return s.jsx(W.Fragment,{children:Se(Ke,ce+y.length,!0,He)},`rg-${te.id}-${ce}`)}return null})]}),!u&&!m&&!Y&&X.length===0&&s.jsx("div",{style:Mt.hint,children:r("search.noResults","No results")}),!u&&!m&&y.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:Mt.sectionHdr,children:r("search.players","Players")}),y.map((te,ce)=>we(te,ce))]}),!u&&!m&&C.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:Mt.sectionHdr,children:r("search.guilds","Guilds")}),C.map((te,ce)=>{const re=y.length+ce;return Se(te,re)})]}),!u&&!m&&T.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:Mt.sectionHdr,children:r("search.servers","Servers")}),T.map((te,ce)=>{var Be,Le,Ee,De,at,Ke;const re=y.length+C.length+ce,ye=re===k;return s.jsxs("button",{onClick:()=>Z(te),style:ye?Mt.itemActive:Mt.item,title:te.displayName||te.code||te.host||"",onMouseEnter:()=>U(re),children:[s.jsx("div",{style:Mt.iconBoxPlain,children:s.jsx("div",{style:Mt.serverGlyph,children:""})}),s.jsxs("div",{style:Mt.meta,children:[s.jsxs("div",{style:Mt.line1,children:[s.jsx("span",{style:Mt.name,children:(Ee=(Le=(Be=te.displayName)!=null?Be:te.code)!=null?Le:te.host)!=null?Ee:te.id}),te.active!=null&&s.jsx("span",{style:Mt.badge,children:te.active?r("search.active","Active"):r("search.inactive","Inactive")})]}),s.jsxs("div",{style:Mt.line2,children:[s.jsx("span",{children:(De=te.code)!=null?De:"?"}),s.jsx("span",{style:Mt.sep,children:""}),s.jsx("span",{children:(at=te.host)!=null?at:"?"}),s.jsx("span",{style:Mt.sep,children:""}),s.jsx("span",{children:(Ke=te.region)!=null?Ke:"?"}),te.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:Mt.sep,children:""}),s.jsx("span",{children:te.type.toUpperCase()})]}):null]})]})]},`s-${te.id}-${ce}`)})]}),(S||w)&&s.jsx("button",{style:Mt.moreCta,onClick:se,children:r("search.moreResults","More results press Enter")})]})]})}const Mt={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"transparent",display:"grid",placeItems:"center",overflow:"visible",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},moreCta:{width:"100%",border:"1px dashed rgba(255,255,255,0.3)",background:"transparent",color:"#d6e4f7",padding:"10px 12px",borderRadius:10,cursor:"pointer",marginTop:8},recentsBadge:{marginLeft:8,fontSize:11,color:"#8aa5c4",border:"1px solid rgba(255,255,255,0.2)",padding:"0 6px",borderRadius:12},clearBtn:{marginLeft:8,background:"transparent",border:"none",color:"rgba(214,228,247,0.85)",cursor:"pointer",fontSize:12,padding:"0 4px"}},$f=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function dg(t,e=64){if(!t)return;const n=$f(t);let r=Rr.find(i=>$f(i.label)===n);return r||(r=Rr.find(i=>$f(i.label).startsWith(n)||n.startsWith($f(i.label)))),r?Yi(r.iconUrl,e):void 0}const VX=[{to:"/",labelKey:"home",defaultLabel:"Home",featureId:"main.home"},{to:"/dashboard",labelKey:"dashboard",defaultLabel:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",labelKey:"guildHub",defaultLabel:"Guild Hub",featureId:"main.guildHub"},{to:"/community",labelKey:"community",defaultLabel:"Community",featureId:"main.community"},{to:"/tools",labelKey:"tools",defaultLabel:"Tools",featureId:"main.tools"}];function BI(t,e){return dg(t,e)}function GX({user:t}){const{open:e,canUse:n}=lC(),{isVisibleInTopbar:r}=r0(),{t:i}=Gs(),[a,o]=W.useState(()=>typeof window=="undefined"?!1:window.matchMedia("(max-width: 767px)").matches),[l,d]=W.useState(!1),u=W.useRef(null),h=W.useMemo(()=>VX.filter(y=>!y.featureId||r(y.featureId)),[r]),m=()=>{e({tab:"json"})};W.useEffect(()=>{if(typeof window=="undefined")return;const y=window.matchMedia("(max-width: 767px)"),x=()=>o(y.matches);return x(),y.addEventListener("change",x),()=>y.removeEventListener("change",x)},[]),W.useEffect(()=>{a||d(!1)},[a]),W.useEffect(()=>{if(!l||typeof window=="undefined")return;const y=x=>{x.key==="Escape"&&d(!1)};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[l]),W.useEffect(()=>{if(!l||typeof document=="undefined")return;const y=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=y}},[l]),W.useEffect(()=>{if(!l)return;const y=()=>{var E;const C=(E=u.current)==null?void 0:E.querySelector("input");C==null||C.focus()},x=window.requestAnimationFrame(y);return()=>window.cancelAnimationFrame(x)},[l]);const g=i("search.open",{defaultValue:"Open search"});return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:es.topbar,children:[s.jsxs("div",{className:es.topbarLeft,children:[s.jsx("button",{className:es.btnIco,"aria-label":i("nav.notifications",{defaultValue:"Notifications"}),children:s.jsx(sO,{className:es.ico})}),s.jsx("button",{className:es.btnIco,"aria-label":i("nav.favorites",{defaultValue:"Favorites"}),children:s.jsx(u9,{className:es.ico})}),s.jsx("button",{className:`${es.btnIco} ${es.mobileSearchBtn}`,"aria-label":g,onClick:()=>d(!0),type:"button",children:s.jsx(jx,{className:es.ico})}),h.length>0?s.jsx("nav",{className:es.topbarNav,"aria-label":i("topbar.quickAccess",{defaultValue:"Quick access"}),children:h.map(y=>s.jsx(Ks,{to:y.to,className:({isActive:x})=>`${es.pill} ${es.topbarLink} ${x?es.pillActive:""}`,children:i(`nav.${y.labelKey}`,{defaultValue:y.defaultLabel})},y.to))}):null]}),s.jsx("div",{className:es.searchWrap,children:s.jsx(SI,{placeholder:i("search.placeholder",{defaultValue:"Search players"}),getClassIcon:BI,maxPerSection:10})}),s.jsxs("div",{className:es.topbarRight,children:[s.jsxs("a",{className:`${es.pill} ${es.gameLinkButton} ${es.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer","aria-label":i("topbar.officialGameSite",{defaultValue:"Visit the official game website"}),children:[s.jsx(kO,{className:es.ico}),i("topbar.officialGameSite",{defaultValue:"Visit the official game website"})]}),n?s.jsxs("button",{className:es.upload,"aria-label":i("topbar.upload",{defaultValue:"Upload scan"}),onClick:m,title:i("topbar.upload",{defaultValue:"Upload scan"}),children:[s.jsx(y9,{className:es.ico}),s.jsx("span",{className:es.label,children:i("topbar.upload",{defaultValue:"Upload scan"})})]}):null,s.jsx(tX,{fallbackName:t==null?void 0:t.name})]})]}),a&&l?s.jsx("div",{className:es.mobileSearchOverlay,role:"presentation",onClick:()=>d(!1),children:s.jsx("div",{className:es.mobileSearchPanel,onClick:y=>y.stopPropagation(),ref:u,children:s.jsx("div",{className:es.searchWrap,children:s.jsx(SI,{placeholder:i("search.placeholder",{defaultValue:"Search players"}),getClassIcon:BI,maxPerSection:10})})})}):null]})}const KX="_root_1uloe_3",zX="_expanded_1uloe_45",WX="_drawer_1uloe_49",qX="_headRow_1uloe_75",XX="_headTitle_1uloe_83",YX="_headDot_1uloe_85",JX="_headLabel_1uloe_87",ZX="_pinBtn_1uloe_89",eY="_navScroll_1uloe_103",tY="_pad_1uloe_105",sY="_segCard_1uloe_111",nY="_segTitle_1uloe_143",rY="_connectedCharactersCard_1uloe_161",iY="_connectedCharactersTitle_1uloe_167",aY="_connectedCharactersList_1uloe_181",oY="_characterChip_1uloe_197",lY="_characterChipId_1uloe_237",cY="_characterChipMeta_1uloe_245",dY="_connectedCharactersEmpty_1uloe_253",uY="_connectedCharactersEmptyText_1uloe_307",AY="_connectedCharactersEmptyCta_1uloe_313",hY="_navCol_1uloe_363",mY="_navItemWrap_1uloe_365",pY="_navBtn_1uloe_371",gY="_navBtnActive_1uloe_395",fY="_label_1uloe_399",vY="_trailing_1uloe_429",xY="_isOpen_1uloe_477",yY="_footer_1uloe_503",wY="_login_1uloe_505",bY="_userMeta_1uloe_527",_Y="_footerLink_1uloe_541",jY="_footerRow_1uloe_569",CY="_footerRowCell_1uloe_579",SY="_footerRowLink_1uloe_593",BY="_languageSwitch_1uloe_599",NY="_languageSegment_1uloe_625",kY="_languageSegmentEn_1uloe_715",IY="_languageSegmentDe_1uloe_725",EY="_languageSegmentActive_1uloe_737",TY="_languageSegmentInactive_1uloe_755",FY="_legal_1uloe_781",LY="_labelText_1uloe_805",RY="_char_1uloe_197",UY="_mainNavCard_1uloe_883",PY="_mobileTrigger_1uloe_893",DY="_mobileOverlay_1uloe_907",MY="_mobileDrawer_1uloe_929",It={root:KX,expanded:zX,drawer:WX,headRow:qX,headTitle:XX,headDot:YX,headLabel:JX,pinBtn:ZX,navScroll:eY,pad:tY,segCard:sY,segTitle:nY,connectedCharactersCard:rY,connectedCharactersTitle:iY,connectedCharactersList:aY,characterChip:oY,characterChipId:lY,characterChipMeta:cY,connectedCharactersEmpty:dY,connectedCharactersEmptyText:uY,connectedCharactersEmptyCta:AY,navCol:hY,navItemWrap:mY,navBtn:pY,navBtnActive:gY,label:fY,trailing:vY,isOpen:xY,footer:yY,login:wY,userMeta:bY,footerLink:_Y,footerRow:jY,footerRowCell:CY,footerRowLink:SY,languageSwitch:BY,languageSegment:NY,languageSegmentEn:kY,languageSegmentDe:IY,languageSegmentActive:EY,languageSegmentInactive:TY,legal:FY,labelText:LY,char:RY,mainNavCard:UY,mobileTrigger:PY,mobileOverlay:DY,mobileDrawer:MY},QY="_homeLayout_jqmn1_49",HY="_homeMain_jqmn1_55",OY="_homeNews_jqmn1_61",$Y="_homeIcons_jqmn1_62",VY="_homeYouTube_jqmn1_63",GY="_homeLiveColumn_jqmn1_67",KY="_card_jqmn1_199",zY="_discordBanner_jqmn1_31",WY="_discordBannerText_jqmn1_277",qY="_discordBannerLogo_jqmn1_289",XY="_discordBannerTitle_jqmn1_299",YY="_discordBannerSubtitle_jqmn1_313",JY="_header_jqmn1_379",ZY="_headerGroup_jqmn1_391",eJ="_title_jqmn1_403",tJ="_subtitle_jqmn1_405",sJ="_empty_jqmn1_407",nJ="_errorNote_jqmn1_409",rJ="_linkBtn_jqmn1_411",iJ="_primaryBtn_jqmn1_411",aJ="_navBtn_jqmn1_411",oJ="_closeBtn_jqmn1_411",lJ="_actionsRight_jqmn1_427",cJ="_newsList_jqmn1_473",dJ="_newsCard_jqmn1_477",uJ="_newsCardWithImage_jqmn1_493",AJ="_newsBody_jqmn1_501",hJ="_newsActions_jqmn1_503",mJ="_newsMeta_jqmn1_505",pJ="_newsAuthor_jqmn1_507",gJ="_newsTime_jqmn1_509",fJ="_newsText_jqmn1_511",vJ="_newsImage_jqmn1_529",xJ="_newsSkeleton_jqmn1_533",yJ="_carouselCtrls_jqmn1_571",wJ="_carousel_jqmn1_571",bJ="_slide_jqmn1_579",_J="_slideActive_jqmn1_581",jJ="_slideInactive_jqmn1_583",CJ="_slideThumb_jqmn1_585",SJ="_slideFallback_jqmn1_587",BJ="_slideCaption_jqmn1_589",NJ="_liveCard_jqmn1_595",kJ="_liveAvatar_jqmn1_597",IJ="_liveAvatarFallback_jqmn1_599",EJ="_liveName_jqmn1_601",TJ="_liveMeta_jqmn1_603",FJ="_liveBadge_jqmn1_605",LJ="_liveViewers_jqmn1_607",RJ="_modalOverlay_jqmn1_613",UJ="_modal_jqmn1_613",PJ="_modalHeader_jqmn1_617",DJ="_modalTitle_jqmn1_619",MJ="_modalFilters_jqmn1_623",QJ="_formRow_jqmn1_625",HJ="_formRowCheckbox_jqmn1_627",OJ="_select_jqmn1_629",$J="_input_jqmn1_629",VJ="_tableWrap_jqmn1_631",GJ="_table_jqmn1_631",ot={homeLayout:QY,homeMain:HY,homeNews:OY,homeIcons:$Y,homeYouTube:VY,homeLiveColumn:GY,card:KY,discordBanner:zY,discordBannerText:WY,discordBannerLogo:qY,discordBannerTitle:XY,discordBannerSubtitle:YY,header:JY,headerGroup:ZY,title:eJ,subtitle:tJ,empty:sJ,errorNote:nJ,linkBtn:rJ,primaryBtn:iJ,navBtn:aJ,closeBtn:oJ,actionsRight:lJ,newsList:cJ,newsCard:dJ,newsCardWithImage:uJ,newsBody:AJ,newsActions:hJ,newsMeta:mJ,newsAuthor:pJ,newsTime:gJ,newsText:fJ,newsImage:vJ,newsSkeleton:xJ,carouselCtrls:yJ,carousel:wJ,slide:bJ,slideActive:_J,slideInactive:jJ,slideThumb:CJ,slideFallback:SJ,slideCaption:BJ,liveCard:NJ,liveAvatar:kJ,liveAvatarFallback:IJ,liveName:EJ,liveMeta:TJ,liveBadge:FJ,liveViewers:LJ,modalOverlay:RJ,modal:UJ,modalHeader:PJ,modalTitle:DJ,modalFilters:MJ,formRow:QJ,formRowCheckbox:HJ,select:OJ,input:$J,tableWrap:VJ,table:GJ},KJ="_panel_90cjk_1",zJ="_open_90cjk_31",WJ="_col_90cjk_43",qJ="_link_90cjk_55",XJ="_linkActive_90cjk_73",zm={panel:KJ,open:zJ,col:WJ,link:qJ,linkActive:XJ};function YJ(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function JJ({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:a}){const[o,l]=W.useState({left:0,top:0});return W.useEffect(()=>{if(!e||!t)return;const d=()=>l(YJ(t));d();const u=new ResizeObserver(d);return u.observe(document.documentElement),window.addEventListener("scroll",d,!0),window.addEventListener("resize",d),()=>{u.disconnect(),window.removeEventListener("scroll",d,!0),window.removeEventListener("resize",d)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(d=>d.label)),VH.createPortal(s.jsx("div",{className:`${zm.panel} ${e?zm.open:""}`,style:{left:o.left,top:o.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:a,role:"menu",children:s.jsx("div",{className:zm.col,children:n.map(d=>r(d))})}),document.body))}const ZJ="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20199'%20role='img'%20aria-label='Discord%20Logo'%3e%3cpath%20fill='%23EAF7FF'%20d='M216.8%2016.6C200.7%209.1%20183.4%203.7%20165.3%200c-2.3%204.2-4.9%209.9-6.7%2014.4-19.7-3-39.3-3-58.6%200-1.8-4.5-4.5-10.2-6.8-14.4-18.8%203.2-36.7%208.8-53.4%2016.6C6.1%2067-.6%20116.2%204%20164.8c22.3%2016.3%2043.9%2026.2%2065.1%2032.7%205.2-7.1%209.8-14.7%2013.5-22.7-7.4-2.8-14.5-6.2-21.3-10.2%201.8-1.3%203.5-2.7%205.2-4.1%2041%2019.2%2085.3%2019.2%20125.8%200%201.7%201.4%203.4%202.8%205.2%204.1-6.8%204-13.9%207.4-21.4%2010.2%203.7%208%208.3%2015.6%2013.5%2022.7%2021.2-6.5%2042.8-16.4%2065.1-32.7%205.5-56.4-9.4-105.1-38.1-148.2zM85.2%20127.3c-12.3%200-22.3-11.3-22.3-25.1%200-13.8%209.8-25.1%2022.3-25.1%2012.5%200%2022.5%2011.3%2022.3%2025.1%200%2013.8-9.8%2025.1-22.3%2025.1zm85.6%200c-12.3%200-22.3-11.3-22.3-25.1%200-13.8%209.8-25.1%2022.3-25.1%2012.5%200%2022.5%2011.3%2022.3%2025.1%200%2013.8-9.8%2025.1-22.3%2025.1z'/%3e%3c/svg%3e",eZ=[{code:"en",ariaLabelKey:"sidebar.languageSwitchEn"},{code:"de",ariaLabelKey:"sidebar.languageSwitchDe"}],tZ="https://discord.gg/5hXBuyRssK",sZ=[{to:"/",labelKey:"nav.home",icon:s.jsx(TO,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/discover",labelKey:"nav.discover",icon:s.jsx(yO,{className:"ico"}),featureId:"main.discover"},{to:"/dashboard",labelKey:"nav.dashboard",icon:s.jsx(UO,{className:"ico"}),featureId:"main.dashboard"},{to:"/settings",labelKey:"nav.settings",icon:s.jsx(t9,{className:"ico"}),featureId:"main.settings"},{to:"/guild-hub",labelKey:"nav.guildHub",icon:s.jsx(fu,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",labelKey:"nav.admin",icon:s.jsx(i9,{className:"ico"}),featureId:"main.admin"},{to:"/playground",labelKey:"nav.playground",icon:s.jsx(Ty,{className:"ico"}),featureId:"main.playground"}],nZ=[{to:"/toplists",labelKey:"nav.toplists",icon:s.jsx(v9,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub-v2",labelKey:"nav.guideHub",icon:s.jsx(rO,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",labelKey:"nav.tools",icon:s.jsx(_9,{className:"ico"}),featureId:"main.tools"},{to:"/community",labelKey:"nav.community",icon:s.jsx(HO,{className:"ico"}),featureId:"main.community"},{to:"/scans",labelKey:"nav.scans",icon:s.jsx(BO,{className:"ico"}),featureId:"main.scans"}],rZ={"/guild-hub":[{to:"/guild-hub",labelKey:"nav.overview"},{to:"/guild-hub/planner",labelKey:"nav.guildPlanner"},{to:"/guild-hub/fusion-planner",labelKey:"nav.fusionPlanner"},{to:"/guild-hub/compare-guilds",labelKey:"nav.guildCompare"},{to:"/guild-hub/waitlist",labelKey:"nav.waitlist"},{to:"/guild-hub/settings",labelKey:"nav.settings"}],"/discover":[{to:"/players",labelKey:"nav.players"},{to:"/sfmagazine",labelKey:"nav.sfMagazine"},{to:"/sfmagazine/historybook",labelKey:"nav.historyBook"},{to:"/guilds",labelKey:"nav.guilds"},{to:"/servers",labelKey:"nav.servers"},{to:"/scans",labelKey:"nav.scans"},{to:"/discover/favorites",labelKey:"nav.favorites"}],"/admin":[{to:"/admin",labelKey:"nav.overview"},{to:"/admin/errors",labelKey:"nav.errorLog"},{to:"/admin/feedback",labelKey:"nav.feedback"},{to:"/admin/users",labelKey:"nav.users",minRole:"mod"}],"/settings":[{to:"/settings/account",labelKey:"nav.account"}],"/playground":[{to:"/playground/list-views",labelKey:"nav.listViews"},{to:"/playground/rescan-widget",labelKey:"nav.rescanWidget"},{to:"/playground/upload-sim",labelKey:"nav.uploadSimulator"},{to:"/playground/hud/game-buttons",labelKey:"nav.hudGameButtons"}]};function iZ(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function aZ(t,e){return t?t.filter(n=>iZ(e,n.minRole)):[]}const oZ=220;function lZ(t=oZ){const[e,n]=W.useState(!1),r=W.useRef(null),i=W.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),a=W.useCallback(()=>{i(),n(!0)},[i]),o=W.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return W.useEffect(()=>()=>i(),[i]),{open:e,onEnter:a,onLeave:o,setOpen:n}}function dC({text:t,isOpen:e,duration:n=1,step:r=45}){const i=W.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:It.label,children:s.jsx("span",{className:It.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((a,o)=>s.jsx("span",{className:It.char,style:{"--i":o},"aria-hidden":"true",children:a===" "?"":a},`${t}-${o}`))})})}function cZ({it:t,label:e,collapsed:n,allowSubmenus:r,subItems:i,onNavigate:a}){const o=i.length>0,{open:l,onEnter:d,onLeave:u,setOpen:h}=lZ(),m=W.useRef(null),g=W.useCallback(()=>{if(!r||!o){h(!1);return}d()},[r,o,d,h]);return s.jsxs("div",{ref:m,className:`${It.navItemWrap} ${l?It.isOpen:""}`,onMouseEnter:g,onMouseLeave:u,children:[s.jsxs(Ks,{to:t.to,end:!!t.end,className:({isActive:y})=>`${It.navBtn} ${y?It.navBtnActive:""}`,onClick:a,children:[t.icon,s.jsx(dC,{text:e,isOpen:!n}),o&&!n&&s.jsx("span",{className:It.trailing,"aria-hidden":"true",children:s.jsx(lO,{className:"ico"})})]}),o&&s.jsx(JJ,{anchorEl:m.current,open:l,items:i.map(({to:y,label:x})=>({to:y,label:x})),renderLink:y=>s.jsx(Ks,{to:y.to,end:!0,className:({isActive:x})=>`${zm.link} ${x?zm.linkActive:""}`,onClick:a,children:y.label},y.to),onMouseEnter:d,onMouseLeave:u})]})}function NI({title:t,items:e,collapsed:n,allowSubmenus:r,userRoles:i,translate:a,isItemVisible:o,onNavigate:l}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${It.navTitle} ${It.segTitle}`,children:t}),s.jsx("div",{className:It.navCol,children:e.map(d=>{if(!o(d))return null;const h=aZ(rZ[d.to],i).map(g=>({to:g.to,label:a(g.labelKey)})),m=a(d.labelKey);return h.length?s.jsx(cZ,{it:d,label:m,collapsed:n,allowSubmenus:r,subItems:h,onNavigate:l},d.to):s.jsxs(Ks,{to:d.to,end:!!d.end,className:({isActive:g})=>`${It.navBtn} ${g?It.navBtnActive:""}`,onClick:l,children:[d.icon,s.jsx(dC,{text:m,isOpen:!n})]},d.to)})})]})}const dZ=90,uZ=180;function kI({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0,variant:a="default",onNavigate:o}){var J;const l=W.useRef(null),d=W.useRef(null),[u,h]=W.useState(!1),m=W.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),d.current&&(window.clearTimeout(d.current),d.current=null)},[]),g=W.useCallback(()=>{!i||n||(m(),h(!1),l.current=window.setTimeout(()=>e(!0),dZ))},[i,n,m,e]),y=W.useCallback(()=>{!i||n||(m(),d.current=window.setTimeout(()=>{e(!1),h(!1)},uZ))},[i,n,m,e]);W.useEffect(()=>()=>m(),[m]),W.useEffect(()=>{n&&h(!0)},[n]);const x=V=>{V.propertyName==="width"&&t&&!n&&h(!0)};W.useEffect(()=>{if(t&&!n){const V=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(V)}},[t,n]);const C=!t,E=n||t&&u,T=pi(),{t:B,i18n:S}=Gs(),{status:v,user:w,logout:N}=Oa(),_=v==="authenticated",j=(J=w==null?void 0:w.roles)!=null?J:[],k=W.useMemo(()=>{var V;return(V=w==null?void 0:w.linkedPlayers)!=null?V:[]},[w==null?void 0:w.linkedPlayers]),{isVisibleInSidebar:U}=r0(),I=W.useMemo(()=>{if(!j.length)return!1;const V=j.filter(X=>typeof X=="string").map(X=>X.toLowerCase());return V.includes("admin")||V.includes("developer")||V.includes("dev")||V.includes("moderator")||V.includes("mod")},[j]),[P,L]=W.useState("en");W.useEffect(()=>{var Z;if(typeof window=="undefined")return;const V=window.localStorage.getItem("sf_lang"),X=V==="en"||V==="de"?V:(Z=S.language)!=null&&Z.startsWith("de")?"de":"en";L(X),S.language!==X&&S.changeLanguage(X)},[S]);const H=W.useCallback(V=>{L(V),typeof window!="undefined"&&window.localStorage.setItem("sf_lang",V),S.language!==V&&S.changeLanguage(V)},[S]),O=()=>{_?N():typeof window!="undefined"?window.dispatchEvent(new CustomEvent("sfh:openLoginModal")):T("/login")},z=(V,X)=>{const Z=String(V!=null?V:"").trim();if(!Z||Z==="-")return;const se=o0(X!=null?X:null,Z);se&&(T(`/player/${encodeURIComponent(se)}`),o==null||o())},G=()=>{k.length>0||(T(_?"/settings/account?tab=connected-characters&openHelp=1":"/help#linking"),o==null||o())},$=_?B("sidebar.connectedCharacters.empty",{defaultValue:"No characters linked yet. Link a character in your account to see it here."}):B("sidebar.connectedCharacters.loginPrompt",{defaultValue:"Sign in to see your linked characters."}),Y=_?B("sidebar.connectedCharacters.ctaAuthed",{defaultValue:"Open linked characters guide"}):B("sidebar.connectedCharacters.ctaGuest",{defaultValue:"Open start guide"});return s.jsxs("aside",{id:"sidebar-root",className:`${It.root} ${t?It.expanded:""} ${a==="drawer"?It.drawer:""}`,"data-collapsed":C?"true":"false",onMouseEnter:g,onMouseLeave:y,onTransitionEnd:x,"aria-label":B("sidebar.navigation",{defaultValue:"Navigation"}),children:[s.jsxs("div",{className:It.headRow,children:[s.jsxs("div",{className:It.headTitle,children:[s.jsx("span",{className:It.headDot})," ",s.jsx("span",{className:It.headLabel,children:B("sidebar.navigation",{defaultValue:"Navigation"})})]}),s.jsx("button",{className:It.pinBtn,"aria-pressed":n,title:n?B("sidebar.unpin",{defaultValue:"Unpin"}):B("sidebar.pin",{defaultValue:"Pin"}),onClick:()=>r(!n),type:"button",children:n?s.jsx(zO,{className:"ico"}):s.jsx(GO,{className:"ico"})})]}),s.jsx("div",{className:It.navScroll,children:s.jsxs("div",{className:It.pad,children:[s.jsx("div",{className:`${It.segCard} ${It.mainNavCard}`,children:s.jsx(NI,{items:sZ,collapsed:C,allowSubmenus:E,userRoles:j,translate:B,isItemVisible:V=>{var X;return U((X=V.featureId)!=null?X:V.to)},onNavigate:o})}),s.jsx("div",{className:It.segTitle,children:B("sidebar.categories",{defaultValue:"Categories"})}),s.jsx("div",{className:`${It.segCard} ${It.mainNavCard}`,children:s.jsx(NI,{items:nZ,collapsed:C,allowSubmenus:E,userRoles:j,translate:B,isItemVisible:V=>{var X;return U((X=V.featureId)!=null?X:V.to)},onNavigate:o})}),I?s.jsxs("div",{className:`${It.segCard} ${It.mainNavCard} ${It.connectedCharactersCard}`,children:[s.jsx("div",{className:It.connectedCharactersTitle,children:B("sidebar.connectedCharacters.title",{defaultValue:"Connected characters"})}),k.length===0?s.jsxs("button",{type:"button",className:It.connectedCharactersEmpty,onClick:G,children:[s.jsx("span",{className:It.connectedCharactersEmptyText,children:$}),s.jsx("span",{className:It.connectedCharactersEmptyCta,children:Y})]}):s.jsx("div",{className:It.connectedCharactersList,"data-collapsed":C?"true":"false",children:k.map(V=>{var le,we;const X=[V.server,V.class].filter(Boolean).join(" | "),Z=(le=V.playerId)!=null?le:"-",se=`${(we=V.server)!=null?we:"server"}-${Z}`;return s.jsxs("button",{type:"button",className:It.characterChip,onClick:()=>{var Se;return z(Z,(Se=V.server)!=null?Se:null)},children:[s.jsx("span",{className:It.characterChipId,children:Z}),X&&s.jsx("span",{className:It.characterChipMeta,children:X})]},se)})})]}):null,s.jsx("a",{href:tZ,className:`${ot.card} ${ot.discordBanner}`,target:"_blank",rel:"noreferrer noopener","aria-label":B("home.discordBanner.aria"),"data-i18n-scope":"home.discordBanner",children:s.jsxs("div",{className:ot.discordBannerText,children:[s.jsx("img",{src:ZJ,alt:"Discord Logo",className:ot.discordBannerLogo}),s.jsx("h2",{className:ot.discordBannerTitle,"data-i18n":"home.discordBanner.title",children:B("home.discordBanner.title")}),s.jsx("p",{className:ot.discordBannerSubtitle,"data-i18n":"home.discordBanner.subtitle",children:B("home.discordBanner.subtitle")})]})})]})}),s.jsxs("div",{className:`${It.footer} ${It.segCard} ${It.mainNavCard}`,children:[s.jsxs("button",{className:It.login,type:"button",onClick:O,children:[s.jsx(fu,{className:"ico"}),s.jsx(dC,{text:_?B("sidebar.logout",{defaultValue:"Logout"}):B("sidebar.login",{defaultValue:"Login"}),isOpen:!C})]}),_&&(w!=null&&w.displayName)?s.jsx("div",{className:It.userMeta,title:w.displayName,children:w.displayName}):null,s.jsxs("div",{className:It.footerRow,children:[s.jsx("div",{className:It.footerRowCell,children:s.jsx(Ks,{to:"/help",className:`${It.footerLink} ${It.footerRowLink}`,onClick:o,children:B("nav.help",{defaultValue:"Help"})})}),s.jsx("div",{className:It.footerRowCell,children:s.jsx("div",{className:It.languageSwitch,role:"group","aria-label":B("sidebar.languagePreference",{defaultValue:"Sidebar language preference"}),children:eZ.map(V=>{const X=P===V.code,Z=`${It.languageSegment} ${V.code==="de"?It.languageSegmentDe:It.languageSegmentEn} ${X?It.languageSegmentActive:It.languageSegmentInactive}`;return s.jsx("button",{type:"button",className:Z,onClick:()=>H(V.code),"aria-pressed":X,"aria-label":B(V.ariaLabelKey,{defaultValue:V.code==="de"?"Switch language to German":"Switch language to English"})},V.code)})})})]}),s.jsxs("div",{className:It.legal,children:["(c) 2025 ",B("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})]})]})]})}const tx="/assets/logo-sfdatahub-CUdhlsEb.png";function AZ({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:a="async"}){const o=t!=null?t:tx;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(Ks,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:o,alt:e,loading:i,decoding:a,onError:l=>{const d=l.currentTarget;d.src!==tx&&(d.src=tx)}})}),n]})}const hZ="_wrapper_su530_1",mZ="_card_su530_19",pZ="_logo_su530_45",gZ="_heading_su530_61",fZ="_subcopy_su530_73",vZ="_buttonStack_su530_83",xZ="_providerButton_su530_97",yZ="_discord_su530_145",wZ="_google_su530_153",bZ="_errorMessage_su530_161",_Z="_diagnostics_su530_183",jZ="_diagnosticsBody_su530_195",CZ="_disclaimer_su530_215",SZ="_status_su530_227",BZ="_sessionBlock_su530_237",NZ="_logoutButton_su530_251",kZ="_linkButton_su530_281",IZ="_loading_su530_299",EZ="_spinner_su530_315",sr={wrapper:hZ,card:mZ,logo:pZ,heading:gZ,subcopy:fZ,buttonStack:vZ,providerButton:xZ,discord:yZ,google:wZ,errorMessage:bZ,diagnostics:_Z,diagnosticsBody:jZ,disclaimer:CZ,status:SZ,sessionBlock:BZ,logoutButton:NZ,linkButton:kZ,loading:IZ,spinner:EZ},XR=()=>{var T,B,S,v,w,N;const t=pi(),{status:e,user:n,loginWithDiscord:r,loginWithGoogle:i,logout:a}=Oa(),[o,l]=W.useState(null),d=e==="loading"||e==="idle",u=e==="authenticated"&&!!n,h=W.useCallback(()=>{var j;if(typeof window=="undefined")return!1;try{const k=(j=window.localStorage)==null?void 0:j.getItem("sfh:debug:auth");if(k==="1"||k==="true")return!0}catch(k){console.warn("[Login] Failed to read auth debug flag",k)}return!1},[]),m=W.useCallback((_,j)=>{const k=typeof window!="undefined"?window.location.host:"unknown host";switch(_){case"auth/unauthorized-domain":return`This domain is not authorized for login. Please add "${k}" to your Firebase Auth authorized domains or use the correct environment.`;case"auth/popup-blocked":return"The login popup was blocked. Please allow popups for this site or continue with the redirect flow.";case"auth/popup-closed-by-user":return"The login popup was closed before completing sign-in. Please try again.";default:{const U=_?` (code: ${_})`:"";return`${j||"Login failed. Please try again."}${U}`}}},[]),g=async()=>{if(!d){l(null);try{await r()}catch(_){const j=typeof(_==null?void 0:_.code)=="string"?_.code:void 0,k=typeof(_==null?void 0:_.message)=="string"?_.message:void 0;l({code:j,message:m(j,k)})}}},y=async()=>{if(!d){l(null);try{await i()}catch(_){const j=typeof(_==null?void 0:_.code)=="string"?_.code:void 0,k=typeof(_==null?void 0:_.message)=="string"?_.message:void 0;l({code:j,message:m(j,k)})}}},x=async()=>{await a()},C=()=>{t("/")};let E;return d?E=s.jsxs("div",{className:sr.loading,children:[s.jsx("div",{className:sr.spinner}),s.jsx("div",{children:"Checking session?"})]}):u&&n?E=s.jsxs("div",{className:sr.sessionBlock,children:[s.jsxs("div",{className:sr.status,children:["You are logged in as ",n.displayName,"."]}),s.jsx("button",{className:sr.logoutButton,type:"button",onClick:x,children:"Logout"}),s.jsx("button",{className:sr.linkButton,type:"button",onClick:C,children:"Back to dashboard"})]}):E=s.jsxs("div",{className:sr.buttonStack,children:[s.jsx("button",{className:`${sr.providerButton} ${sr.discord}`,type:"button",onClick:g,children:"Login with Discord"}),s.jsx("button",{className:`${sr.providerButton} ${sr.google}`,type:"button",onClick:y,children:"Login with Google"}),o&&s.jsx("div",{className:sr.errorMessage,children:o.message}),h()&&s.jsxs("details",{className:sr.diagnostics,children:[s.jsx("summary",{children:"Auth diagnostics"}),s.jsxs("div",{className:sr.diagnosticsBody,children:[s.jsxs("div",{children:["Host: ",typeof window!="undefined"?window.location.host:"N/A"]}),s.jsxs("div",{children:["Origin: ",typeof window!="undefined"?window.location.origin:"N/A"]}),s.jsxs("div",{children:["Firebase projectId: ",(S=(B=(T=no.app)==null?void 0:T.options)==null?void 0:B.projectId)!=null?S:"unknown"]}),s.jsxs("div",{children:["Firebase authDomain: ",(N=(w=(v=no.app)==null?void 0:v.options)==null?void 0:w.authDomain)!=null?N:"unknown"]})]})]})]}),s.jsx("div",{className:sr.wrapper,children:s.jsxs("div",{className:sr.card,children:[s.jsx("img",{className:sr.logo,src:tx,alt:"SFDataHub logo"}),s.jsx("h1",{className:sr.heading,children:"Sign in"}),s.jsx("p",{className:sr.subcopy,children:"Choose a method to access SFDataHub."}),E,s.jsx("p",{className:sr.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})},TZ="_backdrop_bbe4l_1",FZ="_inner_bbe4l_23",II={backdrop:TZ,inner:FZ},LZ=({isOpen:t,onClose:e})=>(W.useEffect(()=>{if(!t)return;const n=r=>{r.key==="Escape"&&e()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,e]),W.useEffect(()=>{if(!t)return;const n=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=n}},[t]),t?s.jsx("div",{className:II.backdrop,role:"dialog","aria-modal":"true","aria-label":"Sign in",onMouseDown:n=>{n.target===n.currentTarget&&e()},children:s.jsx("div",{className:II.inner,children:s.jsx(XR,{})})}):null),EI="sfh:openLoginModal",RZ=()=>{const{status:t,user:e}=Oa(),n=ur(),[r,i]=W.useState(!1);return W.useEffect(()=>{const a=()=>i(!0);return window.addEventListener(EI,a),()=>window.removeEventListener(EI,a)},[]),W.useEffect(()=>{r&&n.pathname==="/login"&&i(!1)},[r,n.pathname]),W.useEffect(()=>{if(!r)return;t==="authenticated"&&!!e&&i(!1)},[r,t,e]),s.jsx(LZ,{isOpen:r,onClose:()=>i(!1)})},UZ={borderColor:"#2B4C73",background:"#1A2F4A"},TI="sfh:authNext",PZ=t=>{if(!t)return null;const e=t.trim();return!e.startsWith("/")||e.startsWith("//")||/^[a-z][a-z0-9+.-]*:/i.test(e)||e.toLowerCase().startsWith("/login")?null:e};function DZ(){const[t,e]=R.useState(!1),[n,r]=R.useState(!1),[i,a]=R.useState(()=>typeof window=="undefined"?!1:window.matchMedia("(max-width: 1023px)").matches),[o,l]=R.useState(!1),d=n||t,{t:u}=Gs(),{status:h,user:m}=Oa(),g=pi(),y=ur();R.useEffect(()=>{if(h!=="authenticated"||!m)return;const S=()=>{if(typeof window=="undefined"||!window.sessionStorage)return null;try{return window.sessionStorage.getItem(TI)}catch(_){return console.warn("[AuthNext] Failed to read auth next from sessionStorage",_),null}},v=()=>{if(!(typeof window=="undefined"||!window.sessionStorage))try{window.sessionStorage.removeItem(TI)}catch(_){console.warn("[AuthNext] Failed to clear auth next from sessionStorage",_)}},w=PZ(S());if(!w){v();return}v(),`${y.pathname}${y.search||""}`!==w&&g(w,{replace:!0})},[h,m,y.pathname,y.search,g]),R.useEffect(()=>{if(typeof window=="undefined")return;const S=window.matchMedia("(max-width: 1023px)"),v=()=>a(S.matches);return v(),S.addEventListener("change",v),()=>S.removeEventListener("change",v)},[]),R.useEffect(()=>{i||l(!1)},[i]),R.useEffect(()=>{if(!o||typeof window=="undefined")return;const S=v=>{v.key==="Escape"&&l(!1)};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[o]),R.useEffect(()=>{if(!o||typeof document=="undefined")return;const S=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=S}},[o]);const x=R.useMemo(()=>i?"0px":d?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i,d]),C=u("footer.about.body").split(`

`),E=[],T=u("nav.open",{defaultValue:"Open navigation"}),B=i?"collapsed":d?"expanded":"collapsed";return s.jsxs("div",{id:"app-shell","data-sidebar":B,style:{"--left":x},children:[s.jsx(AZ,{src:"/logo.png"}),s.jsx(GX,{}),s.jsx("div",{className:"logo-fill"}),i?!o&&s.jsx("div",{className:`${It.headRow} ${It.mobileTrigger}`,children:s.jsx("button",{className:It.pinBtn,type:"button","aria-label":T,"aria-expanded":o,onClick:()=>l(!0),children:s.jsx(MO,{className:"ico"})})}):s.jsx(kI,{expanded:d,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),i&&o?s.jsx("div",{className:It.mobileOverlay,role:"presentation",onClick:()=>l(!1),children:s.jsx("div",{className:It.mobileDrawer,onClick:S=>S.stopPropagation(),children:s.jsx(kI,{expanded:!0,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!1,variant:"drawer",onNavigate:()=>l(!1)})})}):null,s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsxs("div",{className:"content-body",children:[s.jsx(KF,{}),s.jsx(RZ,{}),s.jsx("div",{className:"mt-4 px-4 md:px-6",children:s.jsxs("div",{className:"rounded-2xl border px-4 py-4",style:UZ,children:[s.jsx("div",{className:"text-sm font-semibold",style:{color:"#F5F9FF"},children:u("footer.about.title")}),s.jsx("div",{className:"mt-2 space-y-2 text-[13px]",style:{color:"#B0C4D9"},children:C.map((S,v)=>s.jsx("p",{className:"whitespace-pre-line",children:S},`footer-about-${v}`))}),s.jsxs("div",{className:"mt-4 space-y-2 text-[12px]",style:{color:"#B0C4D9"},children:[s.jsx("div",{children:u("footer.copyright",{defaultValue:" 2025 SFDataHub  community project around Shakes & Fidget."})}),s.jsx("div",{children:u("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-3 text-[13px]",style:{color:"#9EC7FF"},children:E.map(S=>s.jsx(Ys,{to:S.to,className:"underline hover:no-underline",children:S.label},S.key))})]})})]})})})]})}const YR=R.createContext({});function uC(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const AC=R.createContext(null),hC=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function MZ(t=!0){const e=R.useContext(AC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{t&&i(a)},[t]);const o=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const mC=typeof window!="undefined",JR=mC?R.useLayoutEffect:R.useEffect,fa=t=>t;let ZR=fa;function pC(t){let e;return()=>(e===void 0&&(e=t()),e)}const pu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Uo=t=>t*1e3,Po=t=>t/1e3,QZ={useManualTiming:!1};function HZ(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(d.schedule(u),t()),u(o)}const d={schedule:(u,h=!1,m=!1)=>{const y=m&&r?e:n;return h&&a.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,i&&(i=!1,d.process(u))}};return d}const Vf=["read","resolveKeyframes","update","preRender","render","postRender"],OZ=40;function eU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Vf.reduce((T,B)=>(T[B]=HZ(a),T),{}),{read:l,resolveKeyframes:d,update:u,preRender:h,render:m,postRender:g}=o,y=()=>{const T=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,OZ),1),i.timestamp=T,i.isProcessing=!0,l.process(i),d.process(i),u.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},x=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:Vf.reduce((T,B)=>{const S=o[B];return T[B]=(v,w=!1,N=!1)=>(n||x(),S.schedule(v,w,N)),T},{}),cancel:T=>{for(let B=0;B<Vf.length;B++)o[Vf[B]].cancel(T)},state:i,steps:o}}const{schedule:un,cancel:Hl,state:$r,steps:bb}=eU(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:fa,!0),tU=R.createContext({strict:!1}),FI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ZA={};for(const t in FI)ZA[t]={isEnabled:e=>FI[t].some(n=>!!e[n])};function $Z(t){for(const e in t)ZA[e]={...ZA[e],...t[e]}}const VZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VZ.has(t)}let sU=t=>!Kx(t);function GZ(t){t&&(sU=e=>e.startsWith("on")?!Kx(e):t(e))}try{GZ(require("@emotion/is-prop-valid").default)}catch(t){}function KZ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(sU(i)||n===!0&&Kx(i)||!e&&!Kx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function zZ(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const l0=R.createContext({});function Ep(t){return typeof t=="string"||Array.isArray(t)}function c0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fC=["initial",...gC];function d0(t){return c0(t.animate)||fC.some(e=>Ep(t[e]))}function nU(t){return!!(d0(t)||t.variants)}function WZ(t,e){if(d0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ep(n)?n:void 0,animate:Ep(r)?r:void 0}}return t.inherit!==!1?e:{}}function qZ(t){const{initial:e,animate:n}=WZ(t,R.useContext(l0));return R.useMemo(()=>({initial:e,animate:n}),[LI(e),LI(n)])}function LI(t){return Array.isArray(t)?t.join(" "):t}const XZ=Symbol.for("motionComponentSymbol");function BA(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YZ(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):BA(n)&&(n.current=r))},[e])}const vC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JZ="framerAppearId",rU="data-"+vC(JZ),{schedule:xC}=eU(queueMicrotask,!1),iU=R.createContext({});function ZZ(t,e,n,r,i){var a,o;const{visualElement:l}=R.useContext(l0),d=R.useContext(tU),u=R.useContext(AC),h=R.useContext(hC).reducedMotion,m=R.useRef(null);r=r||d.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=R.useContext(iU);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&eee(m.current,n,i,y);const x=R.useRef(!1);R.useInsertionEffect(()=>{g&&x.current&&g.update(n,u)});const C=n[rU],E=R.useRef(!!C&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,C))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,C)));return JR(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),xC.render(g.render),E.current&&g.animationState&&g.animationState.animateChanges())}),R.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)===null||T===void 0||T.call(window,C)}),E.current=!1))}),g}function eee(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aU(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&BA(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:u})}function aU(t){if(t)return t.options.allowProjection!==!1?t.projection:aU(t.parent)}function tee({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,o;t&&$Z(t);function l(u,h){let m;const g={...R.useContext(hC),...u,layoutId:see(u)},{isStatic:y}=g,x=qZ(u),C=r(u,y);if(!y&&mC){nee();const E=ree(g);m=E.MeasureLayout,x.visualElement=ZZ(i,C,g,e,E.ProjectionNode)}return s.jsxs(l0.Provider,{value:x,children:[m&&x.visualElement?s.jsx(m,{visualElement:x.visualElement,...g}):null,n(i,u,YZ(C,x.visualElement,h),C,y,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const d=R.forwardRef(l);return d[XZ]=i,d}function see({layoutId:t}){const e=R.useContext(YR).id;return e&&t!==void 0?e+"-"+t:t}function nee(t,e){R.useContext(tU).strict}function ree(t){const{drag:e,layout:n}=ZA;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const iee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yC(t){return typeof t!="string"||t.includes("-")?!1:!!(iee.indexOf(t)>-1||/[A-Z]/u.test(t))}function RI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wC(t,e,n,r){if(typeof e=="function"){const[i,a]=RI(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=RI(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const W_=t=>Array.isArray(t),aee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),oee=t=>W_(t)?t[t.length-1]||0:t,Lr=t=>!!(t&&t.getVelocity);function sx(t){const e=Lr(t)?t.get():t;return aee(e)?e.toValue():e}function lee({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const o={latestValues:cee(r,i,a,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const oU=t=>(e,n)=>{const r=R.useContext(l0),i=R.useContext(AC),a=()=>lee(t,e,r,i);return n?a():uC(a)};function cee(t,e,n,r){const i={},a=r(t,{});for(const g in a)i[g]=sx(a[g]);let{initial:o,animate:l}=t;const d=d0(t),u=nU(t);e&&u&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!c0(m)){const g=Array.isArray(m)?m:[m];for(let y=0;y<g.length;y++){const x=wC(t,g[y]);if(x){const{transitionEnd:C,transition:E,...T}=x;for(const B in T){let S=T[B];if(Array.isArray(S)){const v=h?S.length-1:0;S=S[v]}S!==null&&(i[B]=S)}for(const B in C)i[B]=C[B]}}}return i}const vh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wu=new Set(vh),lU=t=>e=>typeof e=="string"&&e.startsWith(t),cU=lU("--"),dee=lU("var(--"),bC=t=>dee(t)?uee.test(t.split("/*")[0].trim()):!1,uee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ol=(t,e,n)=>n>e?e:n<t?t:n,xh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tp={...xh,transform:t=>Ol(0,1,t)},Gf={...xh,default:1},ug=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wc=ug("deg"),Do=ug("%"),Wt=ug("px"),Aee=ug("vh"),hee=ug("vw"),UI={...Do,parse:t=>Do.parse(t)/100,transform:t=>Do.transform(t*100)},mee={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt},pee={rotate:wc,rotateX:wc,rotateY:wc,rotateZ:wc,scale:Gf,scaleX:Gf,scaleY:Gf,scaleZ:Gf,skew:wc,skewX:wc,skewY:wc,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Tp,originX:UI,originY:UI,originZ:Wt},PI={...xh,transform:Math.round},_C={...mee,...pee,zIndex:PI,size:Wt,fillOpacity:Tp,strokeOpacity:Tp,numOctaves:PI},gee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fee=vh.length;function vee(t,e,n){let r="",i=!0;for(let a=0;a<fee;a++){const o=vh[a],l=t[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const u=dU(l,_C[o]);if(!d){i=!1;const h=gee[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function jC(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const d in e){const u=e[d];if(wu.has(d)){o=!0;continue}else if(cU(d)){i[d]=u;continue}else{const h=dU(u,_C[d]);d.startsWith("origin")?(l=!0,a[d]=h):r[d]=h}}if(e.transform||(o||n?r.transform=vee(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:d="50%",originY:u="50%",originZ:h=0}=a;r.transformOrigin=`${d} ${u} ${h}`}}const xee={offset:"stroke-dashoffset",array:"stroke-dasharray"},yee={offset:"strokeDashoffset",array:"strokeDasharray"};function wee(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?xee:yee;t[a.offset]=Wt.transform(-r);const o=Wt.transform(e),l=Wt.transform(n);t[a.array]=`${o} ${l}`}function DI(t,e,n){return typeof t=="string"?t:Wt.transform(e+n*t)}function bee(t,e,n){const r=DI(e,t.x,t.width),i=DI(n,t.y,t.height);return`${r} ${i}`}function CC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:d=0,...u},h,m){if(jC(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y,dimensions:x}=t;g.transform&&(x&&(y.transform=g.transform),delete g.transform),x&&(i!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=bee(x,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&wee(g,o,l,d,!1)}const SC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),uU=()=>({...SC(),attrs:{}}),BC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AU(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const hU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mU(t,e,n,r){AU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(hU.has(i)?i:vC(i),e.attrs[i])}const zx={};function _ee(t){Object.assign(zx,t)}function pU(t,{layout:e,layoutId:n}){return wu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zx[t]||t==="opacity")}function NC(t,e,n){var r;const{style:i}=t,a={};for(const o in i)(Lr(i[o])||e.style&&Lr(e.style[o])||pU(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function gU(t,e,n){const r=NC(t,e,n);for(const i in t)if(Lr(t[i])||Lr(e[i])){const a=vh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function jee(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const MI=["x","y","width","height","cx","cy","r"],Cee={useVisualState:oU({scrapeMotionValuesFromProps:gU,createRenderState:uU,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const l in i)if(wu.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<MI.length;l++){const d=MI[l];t[d]!==e[d]&&(o=!0)}o&&un.read(()=>{jee(n,r),un.render(()=>{CC(r,i,BC(n.tagName),t.transformTemplate),mU(n,r)})})}})},See={useVisualState:oU({scrapeMotionValuesFromProps:NC,createRenderState:SC})};function fU(t,e,n){for(const r in e)!Lr(e[r])&&!pU(r,n)&&(t[r]=e[r])}function Bee({transformTemplate:t},e){return R.useMemo(()=>{const n=SC();return jC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Nee(t,e){const n=t.style||{},r={};return fU(r,n,t),Object.assign(r,Bee(t,e)),r}function kee(t,e){const n={},r=Nee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Iee(t,e,n,r){const i=R.useMemo(()=>{const a=uU();return CC(a,e,BC(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};fU(a,t.style,t),i.style={...a,...i.style}}return i}function Eee(t=!1){return(n,r,i,{latestValues:a},o)=>{const d=(yC(n)?Iee:kee)(r,a,o,n),u=KZ(r,typeof n=="string",t),h=n!==R.Fragment?{...u,...d,ref:i}:{},{children:m}=r,g=R.useMemo(()=>Lr(m)?m.get():m,[m]);return R.createElement(n,{...h,children:g})}}function Tee(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...yC(r)?Cee:See,preloadedFeatures:t,useRender:Eee(i),createVisualElement:e,Component:r};return tee(o)}}function vU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function u0(t,e,n){const r=t.getProps();return wC(r,e,n!==void 0?n:r.custom,t)}const Fee=pC(()=>window.ScrollTimeline!==void 0);class Lee{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Fee()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xU extends Lee{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function kC(t,e){return t?t[e]||t.default||t:void 0}const Wx=2e4;function IC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wx;)e+=n,r=t.next(e);return e>=Wx?1/0:e}function Ree(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(IC(r),Wx);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Po(i)}}function A0(t){return typeof t=="function"}function QI(t,e){t.timeline=e,t.onfinish=null}const EC=t=>Array.isArray(t)&&typeof t[0]=="number",Uee={linearEasing:void 0};function Pee(t,e){const n=pC(t);return()=>{var r;return(r=Uee[e])!==null&&r!==void 0?r:n()}}const qx=Pee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),yU=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(pu(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function wU(t){return!!(typeof t=="function"&&qx()||!t||typeof t=="string"&&(t in q_||qx())||EC(t)||Array.isArray(t)&&t.every(wU))}const Bm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,q_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bm([0,.65,.55,1]),circOut:Bm([.55,0,1,.45]),backIn:Bm([.31,.01,.66,-.59]),backOut:Bm([.33,1.53,.69,.99])};function bU(t,e){if(t)return typeof t=="function"&&qx()?yU(t,e):EC(t)?Bm(t):Array.isArray(t)?t.map(n=>bU(n,e)||q_.easeOut):q_[t]}const ro={x:!1,y:!1};function _U(){return ro.x||ro.y}function jU(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function CU(t,e){const n=jU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function HI(t){return e=>{e.pointerType==="touch"||_U()||t(e)}}function Dee(t,e,n={}){const[r,i,a]=CU(t,n),o=HI(l=>{const{target:d}=l,u=e(l);if(typeof u!="function"||!d)return;const h=HI(m=>{u(m),d.removeEventListener("pointerleave",h)});d.addEventListener("pointerleave",h,i)});return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const SU=(t,e)=>e?t===e?!0:SU(t,e.parentElement):!1,TC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Mee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qee(t){return Mee.has(t.tagName)||t.tabIndex!==-1}const Nm=new WeakSet;function OI(t){return e=>{e.key==="Enter"&&t(e)}}function _b(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Hee=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=OI(()=>{if(Nm.has(n))return;_b(n,"down");const i=OI(()=>{_b(n,"up")}),a=()=>_b(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $I(t){return TC(t)&&!_U()}function Oee(t,e,n={}){const[r,i,a]=CU(t,n),o=l=>{const d=l.currentTarget;if(!$I(l)||Nm.has(d))return;Nm.add(d);const u=e(l),h=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),!(!$I(y)||!Nm.has(d))&&(Nm.delete(d),typeof u=="function"&&u(y,{success:x}))},m=y=>{h(y,n.useGlobalTarget||SU(d,y.target))},g=y=>{h(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{!Qee(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>Hee(u,i),i)}),a}function $ee(t){return t==="x"||t==="y"?ro[t]?null:(ro[t]=!0,()=>{ro[t]=!1}):ro.x||ro.y?null:(ro.x=ro.y=!0,()=>{ro.x=ro.y=!1})}const BU=new Set(["width","height","top","left","right","bottom",...vh]);let nx;function Vee(){nx=void 0}const Mo={now:()=>(nx===void 0&&Mo.set($r.isProcessing||QZ.useManualTiming?$r.timestamp:performance.now()),nx),set:t=>{nx=t,queueMicrotask(Vee)}};function FC(t,e){t.indexOf(e)===-1&&t.push(e)}function h0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class LC{constructor(){this.subscriptions=[]}add(e){return FC(this.subscriptions,e),()=>h0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function NU(t,e){return e?t*(1e3/e):0}const VI=30,Gee=t=>!isNaN(parseFloat(t)),Wm={current:void 0};class Kee{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Mo.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Gee(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new LC);const r=this.events[e].add(n);return e==="change"?()=>{r(),un.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Wm.current&&Wm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Mo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>VI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VI);return NU(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eh(t,e){return new Kee(t,e)}function zee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,eh(n))}function Wee(t,e){const n=u0(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const l=oee(a[o]);zee(t,o,l)}}function qee(t){return!!(Lr(t)&&t.add)}function X_(t,e){const n=t.getValue("willChange");if(qee(n))return n.add(e)}function kU(t){return t.props[rU]}const IU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Xee=1e-7,Yee=12;function Jee(t,e,n,r,i){let a,o,l=0;do o=e+(n-e)/2,a=IU(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>Xee&&++l<Yee);return o}function Ag(t,e,n,r){if(t===e&&n===r)return fa;const i=a=>Jee(a,0,1,t,n);return a=>a===0||a===1?a:IU(i(a),e,r)}const EU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,TU=t=>e=>1-t(1-e),FU=Ag(.33,1.53,.69,.99),RC=TU(FU),LU=EU(RC),RU=t=>(t*=2)<1?.5*RC(t):.5*(2-Math.pow(2,-10*(t-1))),UC=t=>1-Math.sin(Math.acos(t)),UU=TU(UC),PU=EU(UC),DU=t=>/^0[^.\s]+$/u.test(t);function Zee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DU(t):!0}const qm=t=>Math.round(t*1e5)/1e5,PC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ete(t){return t==null}const tte=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DC=(t,e)=>n=>!!(typeof n=="string"&&tte.test(n)&&n.startsWith(t)||e&&!ete(n)&&Object.prototype.hasOwnProperty.call(n,e)),MU=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(PC);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ste=t=>Ol(0,255,t),jb={...xh,transform:t=>Math.round(ste(t))},zd={test:DC("rgb","red"),parse:MU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jb.transform(t)+", "+jb.transform(e)+", "+jb.transform(n)+", "+qm(Tp.transform(r))+")"};function nte(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Y_={test:DC("#"),parse:nte,transform:zd.transform},NA={test:DC("hsl","hue"),parse:MU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Do.transform(qm(e))+", "+Do.transform(qm(n))+", "+qm(Tp.transform(r))+")"},di={test:t=>zd.test(t)||Y_.test(t)||NA.test(t),parse:t=>zd.test(t)?zd.parse(t):NA.test(t)?NA.parse(t):Y_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zd.transform(t):NA.transform(t)},rte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ite(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(PC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(rte))===null||n===void 0?void 0:n.length)||0)>0}const QU="number",HU="color",ate="var",ote="var(",GI="${}",lte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(lte,d=>(di.test(d)?(r.color.push(a),i.push(HU),n.push(di.parse(d))):d.startsWith(ote)?(r.var.push(a),i.push(ate),n.push(d)):(r.number.push(a),i.push(QU),n.push(parseFloat(d))),++a,GI)).split(GI);return{values:n,split:l,indexes:r,types:i}}function OU(t){return Fp(t).values}function $U(t){const{split:e,types:n}=Fp(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const l=n[o];l===QU?a+=qm(i[o]):l===HU?a+=di.transform(i[o]):a+=i[o]}return a}}const cte=t=>typeof t=="number"?0:t;function dte(t){const e=OU(t);return $U(t)(e.map(cte))}const td={test:ite,parse:OU,createTransformer:$U,getAnimatableNone:dte},ute=new Set(["brightness","contrast","saturate","opacity"]);function Ate(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(PC)||[];if(!r)return t;const i=n.replace(r,"");let a=ute.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const hte=/\b([a-z-]*)\(.*?\)/gu,J_={...td,getAnimatableNone:t=>{const e=t.match(hte);return e?e.map(Ate).join(" "):t}},mte={..._C,color:di,backgroundColor:di,outlineColor:di,fill:di,stroke:di,borderColor:di,borderTopColor:di,borderRightColor:di,borderBottomColor:di,borderLeftColor:di,filter:J_,WebkitFilter:J_},MC=t=>mte[t];function VU(t,e){let n=MC(t);return n!==J_&&(n=td),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pte=new Set(["auto","none","0"]);function gte(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!pte.has(a)&&Fp(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=VU(n,i)}const KI=t=>t===xh||t===Wt,zI=(t,e)=>parseFloat(t.split(", ")[e]),WI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return zI(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?zI(a[1],t):0}},fte=new Set(["x","y","z"]),vte=vh.filter(t=>!fte.has(t));function xte(t){const e=[];return vte.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const th={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WI(4,13),y:WI(5,14)};th.translateX=th.x;th.translateY=th.y;const tu=new Set;let Z_=!1,ej=!1;function GU(){if(ej){const t=Array.from(tu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=xte(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ej=!1,Z_=!1,tu.forEach(t=>t.complete()),tu.clear()}function KU(){tu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ej=!0)})}function yte(){KU(),GU()}class QC{constructor(e,n,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tu.add(this),Z_||(Z_=!0,un.read(KU),un.resolveKeyframes(GU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const d=r.readValue(n,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bte(t){const e=wte.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function WU(t,e,n=1){const[r,i]=bte(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return zU(o)?parseFloat(o):o}return bC(i)?WU(i,e,n+1):i}const qU=t=>e=>e.test(t),_te={test:t=>t==="auto",parse:t=>t},XU=[xh,Wt,Do,wc,hee,Aee,_te],qI=t=>XU.find(qU(t));class YU extends QC{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let u=e[d];if(typeof u=="string"&&(u=u.trim(),bC(u))){const h=WU(u,n.current);h!==void 0&&(e[d]=h),d===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!BU.has(r)||e.length!==2)return;const[i,a]=e,o=qI(i),l=qI(a);if(o!==l)if(KI(o)&&KI(l))for(let d=0;d<e.length;d++){const u=e[d];typeof u=="string"&&(e[d]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Zee(e[i])&&r.push(i);r.length&&gte(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=th[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=th[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,u])=>{n.getValue(d).set(u)}),this.resolveNoneKeyframes()}}const XI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(td.test(t)||t==="0")&&!t.startsWith("url("));function jte(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Cte(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=XI(i,e),l=XI(a,e);return!o||!l?!1:jte(t)||(n==="spring"||A0(n))&&r}const Ste=t=>t!==null;function m0(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Ste),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Bte=40;class JU{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mo.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Bte?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&yte(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mo.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:l,onUpdate:d,isGenerator:u}=this.options;if(!u&&!Cte(e,r,i,a))if(o)this.options.duration=0;else{d&&d(m0(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Sn=(t,e,n)=>t+(e-t)*n;function Cb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Nte({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,d=2*n-l;i=Cb(d,l,t+1/3),a=Cb(d,l,t),o=Cb(d,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Xx(t,e){return n=>n>0?e:t}const Sb=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kte=[Y_,zd,NA],Ite=t=>kte.find(e=>e.test(t));function YI(t){const e=Ite(t);if(!e)return!1;let n=e.parse(t);return e===NA&&(n=Nte(n)),n}const JI=(t,e)=>{const n=YI(t),r=YI(e);if(!n||!r)return Xx(t,e);const i={...n};return a=>(i.red=Sb(n.red,r.red,a),i.green=Sb(n.green,r.green,a),i.blue=Sb(n.blue,r.blue,a),i.alpha=Sn(n.alpha,r.alpha,a),zd.transform(i))},Ete=(t,e)=>n=>e(t(n)),hg=(...t)=>t.reduce(Ete),tj=new Set(["none","hidden"]);function Tte(t,e){return tj.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Fte(t,e){return n=>Sn(t,e,n)}function HC(t){return typeof t=="number"?Fte:typeof t=="string"?bC(t)?Xx:di.test(t)?JI:Ute:Array.isArray(t)?ZU:typeof t=="object"?di.test(t)?JI:Lte:Xx}function ZU(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>HC(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function Lte(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=HC(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Rte(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],d=(n=t.values[l])!==null&&n!==void 0?n:0;r[a]=d,i[o]++}return r}const Ute=(t,e)=>{const n=td.createTransformer(e),r=Fp(t),i=Fp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?tj.has(t)&&!i.values.length||tj.has(e)&&!r.values.length?Tte(t,e):hg(ZU(Rte(r,i),i.values),n):Xx(t,e)};function eP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Sn(t,e,n):HC(t)(t,e)}const Pte=5;function tP(t,e,n){const r=Math.max(e-Pte,0);return NU(n-t(r),e-r)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bb=.001;function Dte({duration:t=Mn.duration,bounce:e=Mn.bounce,velocity:n=Mn.velocity,mass:r=Mn.mass}){let i,a,o=1-e;o=Ol(Mn.minDamping,Mn.maxDamping,o),t=Ol(Mn.minDuration,Mn.maxDuration,Po(t)),o<1?(i=u=>{const h=u*o,m=h*t,g=h-n,y=sj(u,o),x=Math.exp(-m);return Bb-g/y*x},a=u=>{const m=u*o*t,g=m*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-m),C=sj(Math.pow(u,2),o);return(-i(u)+Bb>0?-1:1)*((g-y)*x)/C}):(i=u=>{const h=Math.exp(-u*t),m=(u-n)*t+1;return-Bb+h*m},a=u=>{const h=Math.exp(-u*t),m=(n-u)*(t*t);return h*m});const l=5/t,d=Qte(i,a,l);if(t=Uo(t),isNaN(d))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:t};{const u=Math.pow(d,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Mte=12;function Qte(t,e,n){let r=n;for(let i=1;i<Mte;i++)r=r-t(r)/e(r);return r}function sj(t,e){return t*Math.sqrt(1-e*e)}const Hte=["duration","bounce"],Ote=["stiffness","damping","mass"];function ZI(t,e){return e.some(n=>t[n]!==void 0)}function $te(t){let e={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...t};if(!ZI(t,Ote)&&ZI(t,Hte))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ol(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Mn.mass,stiffness:i,damping:a}}else{const n=Dte(t);e={...e,...n,mass:Mn.mass},e.isResolvedFromDuration=!0}return e}function OC(t=Mn.visualDuration,e=Mn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:d,damping:u,mass:h,duration:m,velocity:g,isResolvedFromDuration:y}=$te({...n,velocity:-Po(n.velocity||0)}),x=g||0,C=u/(2*Math.sqrt(d*h)),E=o-a,T=Po(Math.sqrt(d/h)),B=Math.abs(E)<5;r||(r=B?Mn.restSpeed.granular:Mn.restSpeed.default),i||(i=B?Mn.restDelta.granular:Mn.restDelta.default);let S;if(C<1){const w=sj(T,C);S=N=>{const _=Math.exp(-C*T*N);return o-_*((x+C*T*E)/w*Math.sin(w*N)+E*Math.cos(w*N))}}else if(C===1)S=w=>o-Math.exp(-T*w)*(E+(x+T*E)*w);else{const w=T*Math.sqrt(C*C-1);S=N=>{const _=Math.exp(-C*T*N),j=Math.min(w*N,300);return o-_*((x+C*T*E)*Math.sinh(j)+w*E*Math.cosh(j))/w}}const v={calculatedDuration:y&&m||null,next:w=>{const N=S(w);if(y)l.done=w>=m;else{let _=0;C<1&&(_=w===0?Uo(x):tP(S,w,N));const j=Math.abs(_)<=r,k=Math.abs(o-N)<=i;l.done=j&&k}return l.value=l.done?o:N,l},toString:()=>{const w=Math.min(IC(v),Wx),N=yU(_=>v.next(w*_).value,w,30);return w+"ms "+N}};return v}function eE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:d,restDelta:u=.5,restSpeed:h}){const m=t[0],g={done:!1,value:m},y=j=>l!==void 0&&j<l||d!==void 0&&j>d,x=j=>l===void 0?d:d===void 0||Math.abs(l-j)<Math.abs(d-j)?l:d;let C=n*e;const E=m+C,T=o===void 0?E:o(E);T!==E&&(C=T-m);const B=j=>-C*Math.exp(-j/r),S=j=>T+B(j),v=j=>{const k=B(j),U=S(j);g.done=Math.abs(k)<=u,g.value=g.done?T:U};let w,N;const _=j=>{y(g.value)&&(w=j,N=OC({keyframes:[g.value,x(g.value)],velocity:tP(S,j,g.value),damping:i,stiffness:a,restDelta:u,restSpeed:h}))};return _(0),{calculatedDuration:null,next:j=>{let k=!1;return!N&&w===void 0&&(k=!0,v(j),_(j)),w!==void 0&&j>=w?N.next(j-w):(!k&&v(j),g)}}}const Vte=Ag(.42,0,1,1),Gte=Ag(0,0,.58,1),sP=Ag(.42,0,.58,1),nP=t=>Array.isArray(t)&&typeof t[0]!="number",Kte={linear:fa,easeIn:Vte,easeInOut:sP,easeOut:Gte,circIn:UC,circInOut:PU,circOut:UU,backIn:RC,backInOut:LU,backOut:FU,anticipate:RU},tE=t=>{if(EC(t)){ZR(t.length===4);const[e,n,r,i]=t;return Ag(e,n,r,i)}else if(typeof t=="string")return Kte[t];return t};function zte(t,e,n){const r=[],i=n||eP,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||fa:e;l=hg(d,l)}r.push(l)}return r}function rP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ZR(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=zte(e,r,i),d=l.length,u=h=>{if(o&&h<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const g=pu(t[m],t[m+1],h);return l[m](g)};return n?h=>u(Ol(t[0],t[a-1],h)):u}function iP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=pu(0,e,r);t.push(Sn(n,1,i))}}function aP(t){const e=[0];return iP(e,t.length-1),e}function Wte(t,e){return t.map(n=>n*e)}function qte(t,e){return t.map(()=>e||sP).splice(0,t.length-1)}function Yx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=nP(r)?r.map(tE):tE(r),a={done:!1,value:e[0]},o=Wte(n&&n.length===e.length?n:aP(e),t),l=rP(o,e,{ease:Array.isArray(i)?i:qte(e,i)});return{calculatedDuration:t,next:d=>(a.value=l(d),a.done=d>=t,a)}}const Xte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>un.update(e,!0),stop:()=>Hl(e),now:()=>$r.isProcessing?$r.timestamp:Mo.now()}},Yte={decay:eE,inertia:eE,tween:Yx,keyframes:Yx,spring:OC},Jte=t=>t/100;class $C extends JU{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||QC,l=(d,u)=>this.onKeyframesResolved(d,u);this.resolver=new o(a,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=A0(n)?n:Yte[n]||Yx;let d,u;l!==Yx&&typeof e[0]!="number"&&(d=hg(Jte,eP(e[0],e[1])),e=[0,100]);const h=l({...this.options,keyframes:e});a==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=IC(h));const{calculatedDuration:m}=h,g=m+i,y=g*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:d,calculatedDuration:m,resolvedDuration:g,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:d,calculatedDuration:u,totalDuration:h,resolvedDuration:m}=r;if(this.startTime===null)return a.next(0);const{delay:g,repeat:y,repeatType:x,repeatDelay:C,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const T=this.currentTime-g*(this.speed>=0?1:-1),B=this.speed>=0?T<0:T>h;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let S=this.currentTime,v=a;if(y){const j=Math.min(this.currentTime,h)/m;let k=Math.floor(j),U=j%1;!U&&j>=1&&(U=1),U===1&&k--,k=Math.min(k,y+1),!!(k%2)&&(x==="reverse"?(U=1-U,C&&(U-=C/m)):x==="mirror"&&(v=o)),S=Ol(0,1,U)*m}const w=B?{done:!1,value:d[0]}:v.next(S);l&&(w.value=l(w.value));let{done:N}=w;!B&&u!==null&&(N=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return _&&i!==void 0&&(w.value=m0(d,this.options,i)),E&&E(w.value),_&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Po(e.calculatedDuration):0}get time(){return Po(this.currentTime)}set time(e){e=Uo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Po(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Xte,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Zte=new Set(["opacity","clipPath","filter","transform"]);function ese(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:d}={}){const u={[e]:n};d&&(u.offset=d);const h=bU(l,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const tse=pC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jx=10,sse=2e4;function nse(t){return A0(t.type)||t.type==="spring"||!wU(t.ease)}function rse(t,e){const n=new $C({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<sse;)r=n.sample(a),i.push(r.value),a+=Jx;return{times:void 0,keyframes:i,duration:a-Jx,ease:"linear"}}const oP={anticipate:RU,backInOut:LU,circInOut:PU};function ise(t){return t in oP}class sE extends JU{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new YU(a,(o,l)=>this.onKeyframesResolved(o,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:o,motionValue:l,name:d,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&qx()&&ise(a)&&(a=oP[a]),nse(this.options)){const{onComplete:m,onUpdate:g,motionValue:y,element:x,...C}=this.options,E=rse(e,C);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,i=E.times,a=E.ease,o="keyframes"}const h=ese(l.owner.current,d,e,{...this.options,duration:r,times:i,ease:a});return h.startTime=u!=null?u:this.calcStartTime(),this.pendingTimeline?(QI(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;l.set(m0(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Po(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Po(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Uo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return fa;const{animation:r}=n;QI(r,e)}return fa}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:m,element:g,...y}=this.options,x=new $C({...y,keyframes:r,duration:i,type:a,ease:o,times:l,isGenerator:!0}),C=Uo(this.time);u.setWithVelocity(x.sample(C-Jx).value,x.sample(C).value,Jx)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:u}=n.owner.getProps();return tse()&&r&&Zte.has(r)&&!d&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const ase={type:"spring",stiffness:500,damping:25,restSpeed:10},ose=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lse={type:"keyframes",duration:.8},cse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dse=(t,{keyframes:e})=>e.length>2?lse:wu.has(t)?t.startsWith("scale")?ose(e[1]):ase:cse;function use({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:d,elapsed:u,...h}){return!!Object.keys(h).length}const VC=(t,e,n,r={},i,a)=>o=>{const l=kC(r,t)||{},d=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Uo(d);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};use(l)||(h={...h,...dse(t,h)}),h.duration&&(h.duration=Uo(h.duration)),h.repeatDelay&&(h.repeatDelay=Uo(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),m&&!a&&e.get()!==void 0){const g=m0(h.keyframes,l);if(g!==void 0)return un.update(()=>{h.onUpdate(g),h.onComplete()}),new xU([])}return!a&&sE.supports(h)?new sE(h):new $C(h)};function Ase({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...d}=e;r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in d){const g=t.getValue(m,(a=t.latestValues[m])!==null&&a!==void 0?a:null),y=d[m];if(y===void 0||h&&Ase(h,m))continue;const x={delay:n,...kC(o||{},m)};let C=!1;if(window.MotionHandoffAnimation){const T=kU(t);if(T){const B=window.MotionHandoffAnimation(T,m,un);B!==null&&(x.startTime=B,C=!0)}}X_(t,m),g.start(VC(m,g,y,t.shouldReduceMotion&&BU.has(m)?{type:!1}:x,t,C));const E=g.animation;E&&u.push(E)}return l&&Promise.all(u).then(()=>{un.update(()=>{l&&Wee(t,l)})}),u}function nj(t,e,n={}){var r;const i=u0(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(GC(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=a;return hse(t,e,h+u,m,g,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[u,h]=d==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function hse(t,e,n=0,r=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*r,d=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(mse).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(nj(u,e,{...a,delay:n+d(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function mse(t,e){return t.sortNodePosition(e)}function pse(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>nj(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=nj(t,e,n);else{const i=typeof e=="function"?u0(t,e,n.custom):e;r=Promise.all(GC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const gse=fC.length;function lP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gse;n++){const r=fC[n],i=t.props[r];(Ep(i)||i===!1)&&(e[r]=i)}return e}const fse=[...gC].reverse(),vse=gC.length;function xse(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pse(t,n,r)))}function yse(t){let e=xse(t),n=nE(),r=!0;const i=d=>(u,h)=>{var m;const g=u0(t,h,d==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(g){const{transition:y,transitionEnd:x,...C}=g;u={...u,...C,...x}}return u};function a(d){e=d(t)}function o(d){const{props:u}=t,h=lP(t.parent)||{},m=[],g=new Set;let y={},x=1/0;for(let E=0;E<vse;E++){const T=fse[E],B=n[T],S=u[T]!==void 0?u[T]:h[T],v=Ep(S),w=T===d?B.isActive:null;w===!1&&(x=E);let N=S===h[T]&&S!==u[T]&&v;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),B.protectedKeys={...y},!B.isActive&&w===null||!S&&!B.prevProp||c0(S)||typeof S=="boolean")continue;const _=wse(B.prevProp,S);let j=_||T===d&&B.isActive&&!N&&v||E>x&&v,k=!1;const U=Array.isArray(S)?S:[S];let I=U.reduce(i(T),{});w===!1&&(I={});const{prevResolvedValues:P={}}=B,L={...P,...I},H=G=>{j=!0,g.has(G)&&(k=!0,g.delete(G)),B.needsAnimating[G]=!0;const $=t.getValue(G);$&&($.liveStyle=!1)};for(const G in L){const $=I[G],Y=P[G];if(y.hasOwnProperty(G))continue;let J=!1;W_($)&&W_(Y)?J=!vU($,Y):J=$!==Y,J?$!=null?H(G):g.add(G):$!==void 0&&g.has(G)?H(G):B.protectedKeys[G]=!0}B.prevProp=S,B.prevResolvedValues=I,B.isActive&&(y={...y,...I}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(N&&_)||k)&&m.push(...U.map(G=>({animation:G,options:{type:T}})))}if(g.size){const E={};g.forEach(T=>{const B=t.getBaseTarget(T),S=t.getValue(T);S&&(S.liveStyle=!0),E[T]=B!=null?B:null}),m.push({animation:E})}let C=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(m):Promise.resolve()}function l(d,u){var h;if(n[d].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(d,u)}),n[d].isActive=u;const m=o(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=nE(),r=!0}}}function wse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vU(e,t):!1}function Bd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nE(){return{animate:Bd(!0),whileInView:Bd(),whileHover:Bd(),whileTap:Bd(),whileDrag:Bd(),whileFocus:Bd(),exit:Bd()}}class id{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bse extends id{constructor(e){super(e),e.animationState||(e.animationState=yse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();c0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _se=0;class jse extends id{constructor(){super(...arguments),this.id=_se++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Cse={animation:{Feature:bse},exit:{Feature:jse}};function Lp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function mg(t){return{point:{x:t.pageX,y:t.pageY}}}const Sse=t=>e=>TC(e)&&t(e,mg(e));function Xm(t,e,n,r){return Lp(t,e,Sse(n),r)}const rE=(t,e)=>Math.abs(t-e);function Bse(t,e){const n=rE(t.x,e.x),r=rE(t.y,e.y);return Math.sqrt(n**2+r**2)}class cP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=kb(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=Bse(m.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:x}=m,{timestamp:C}=$r;this.history.push({...x,timestamp:C});const{onStart:E,onMove:T}=this.handlers;g||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Nb(g,this.transformPagePoint),un.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=kb(m.type==="pointercancel"?this.lastMoveEventInfo:Nb(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,E),x&&x(m,E)},!TC(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=mg(e),l=Nb(o,this.transformPagePoint),{point:d}=l,{timestamp:u}=$r;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,kb(l,this.history)),this.removeListeners=hg(Xm(this.contextWindow,"pointermove",this.handlePointerMove),Xm(this.contextWindow,"pointerup",this.handlePointerUp),Xm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hl(this.updatePoint)}}function Nb(t,e){return e?{point:e(t.point)}:t}function iE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kb({point:t},e){return{point:t,delta:iE(t,dP(e)),offset:iE(t,Nse(e)),velocity:kse(e,.1)}}function Nse(t){return t[0]}function dP(t){return t[t.length-1]}function kse(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=dP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Uo(e)));)n--;if(!r)return{x:0,y:0};const a=Po(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const uP=1e-4,Ise=1-uP,Ese=1+uP,AP=.01,Tse=0-AP,Fse=0+AP;function xa(t){return t.max-t.min}function Lse(t,e,n){return Math.abs(t-e)<=n}function aE(t,e,n,r=.5){t.origin=r,t.originPoint=Sn(e.min,e.max,t.origin),t.scale=xa(n)/xa(e),t.translate=Sn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Ise&&t.scale<=Ese||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tse&&t.translate<=Fse||isNaN(t.translate))&&(t.translate=0)}function Ym(t,e,n,r){aE(t.x,e.x,n.x,r?r.originX:void 0),aE(t.y,e.y,n.y,r?r.originY:void 0)}function oE(t,e,n){t.min=n.min+e.min,t.max=t.min+xa(e)}function Rse(t,e,n){oE(t.x,e.x,n.x),oE(t.y,e.y,n.y)}function lE(t,e,n){t.min=e.min-n.min,t.max=t.min+xa(e)}function Jm(t,e,n){lE(t.x,e.x,n.x),lE(t.y,e.y,n.y)}function Use(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Sn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Sn(n,t,r.max):Math.min(t,n)),t}function cE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Pse(t,{top:e,left:n,bottom:r,right:i}){return{x:cE(t.x,n,i),y:cE(t.y,e,r)}}function dE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Dse(t,e){return{x:dE(t.x,e.x),y:dE(t.y,e.y)}}function Mse(t,e){let n=.5;const r=xa(t),i=xa(e);return i>r?n=pu(e.min,e.max-r,t.min):r>i&&(n=pu(t.min,t.max-i,e.min)),Ol(0,1,n)}function Qse(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rj=.35;function Hse(t=rj){return t===!1?t=0:t===!0&&(t=rj),{x:uE(t,"left","right"),y:uE(t,"top","bottom")}}function uE(t,e,n){return{min:AE(t,e),max:AE(t,n)}}function AE(t,e){return typeof t=="number"?t:t[e]||0}const hE=()=>({translate:0,scale:1,origin:0,originPoint:0}),kA=()=>({x:hE(),y:hE()}),mE=()=>({min:0,max:0}),Pn=()=>({x:mE(),y:mE()});function Ta(t){return[t("x"),t("y")]}function hP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Ose({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $se(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ib(t){return t===void 0||t===1}function ij({scale:t,scaleX:e,scaleY:n}){return!Ib(t)||!Ib(e)||!Ib(n)}function Qd(t){return ij(t)||mP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mP(t){return pE(t.x)||pE(t.y)}function pE(t){return t&&t!=="0%"}function Zx(t,e,n){const r=t-n,i=e*r;return n+i}function gE(t,e,n,r,i){return i!==void 0&&(t=Zx(t,i,r)),Zx(t,n,r)+e}function aj(t,e=0,n=1,r,i){t.min=gE(t.min,e,n,r,i),t.max=gE(t.max,e,n,r,i)}function pP(t,{x:e,y:n}){aj(t.x,e.translate,e.scale,e.originPoint),aj(t.y,n.translate,n.scale,n.originPoint)}const fE=.999999999999,vE=1.0000000000001;function Vse(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&EA(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pP(t,o)),r&&Qd(a.latestValues)&&EA(t,a.latestValues))}e.x<vE&&e.x>fE&&(e.x=1),e.y<vE&&e.y>fE&&(e.y=1)}function IA(t,e){t.min=t.min+e,t.max=t.max+e}function xE(t,e,n,r,i=.5){const a=Sn(t.min,t.max,i);aj(t,e,n,a,r)}function EA(t,e){xE(t.x,e.x,e.scaleX,e.scale,e.originX),xE(t.y,e.y,e.scaleY,e.scale,e.originY)}function gP(t,e){return hP($se(t.getBoundingClientRect(),e))}function Gse(t,e,n){const r=gP(t,n),{scroll:i}=e;return i&&(IA(r.x,i.offset.x),IA(r.y,i.offset.y)),r}const fP=({current:t})=>t?t.ownerDocument.defaultView:null,Kse=new WeakMap;class zse{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mg(h).point)},a=(h,m)=>{const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$ee(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ta(E=>{let T=this.getAxisMotionValue(E).get()||0;if(Do.test(T)){const{projection:B}=this.visualElement;if(B&&B.layout){const S=B.layout.layoutBox[E];S&&(T=xa(S)*(parseFloat(T)/100))}}this.originPoint[E]=T}),x&&un.postRender(()=>x(h,m)),X_(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:C}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=m;if(y&&this.currentDirection===null){this.currentDirection=Wse(E),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),C&&C(h,m)},l=(h,m)=>this.stop(h,m),d=()=>Ta(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new cP(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:fP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&un.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Kf(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Use(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&BA(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Pse(i.layoutBox,n):this.constraints=!1,this.elastic=Hse(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ta(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Qse(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!BA(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Gse(r,i.root,this.visualElement.getTransformPagePoint());let o=Dse(i.layout.layoutBox,a);if(n){const l=n(Ose(o));this.hasMutatedConstraints=!!l,l&&(o=hP(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},u=Ta(h=>{if(!Kf(h,n,this.currentDirection))return;let m=d&&d[h]||{};o&&(m={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return X_(this.visualElement,e),r.start(VC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ta(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ta(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ta(n=>{const{drag:r}=this.getProps();if(!Kf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(e[n]-Sn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!BA(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ta(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();i[o]=Mse({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ta(o=>{if(!Kf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:d,max:u}=this.constraints[o];l.set(Sn(d,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Kse.set(this.visualElement,this);const e=this.visualElement.current,n=Xm(e,"pointerdown",d=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();BA(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),un.read(r);const o=Lp(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ta(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=d[h].translate,m.set(m.get()+d[h].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=rj,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Kf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wse(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qse extends id{constructor(e){super(e),this.removeGroupControls=fa,this.removeListeners=fa,this.controls=new zse(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const yE=t=>(e,n)=>{t&&un.postRender(()=>t(e,n))};class Xse extends id{constructor(){super(...arguments),this.removePointerDownListener=fa}onPointerDown(e){this.session=new cP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yE(e),onStart:yE(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&un.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Xm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const im={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Wt.test(t))t=parseFloat(t);else return t;const n=wE(t,e.target.x),r=wE(t,e.target.y);return`${n}% ${r}%`}},Yse={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=td.parse(t);if(i.length>5)return r;const a=td.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,d=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=d;const u=Sn(l,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class Jse extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;_ee(Zse),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||un.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vP(t){const[e,n]=MZ(),r=R.useContext(YR);return s.jsx(Jse,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(iU),isPresent:e,safeToRemove:n})}const Zse={borderRadius:{...im,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:im,borderTopRightRadius:im,borderBottomLeftRadius:im,borderBottomRightRadius:im,boxShadow:Yse};function xP(t,e,n){const r=Lr(t)?t:eh(t);return r.start(VC("",r,e,n)),r.animation}function yP(t){return t instanceof SVGElement&&t.tagName!=="svg"}const ene=(t,e)=>t.depth-e.depth;class tne{constructor(){this.children=[],this.isDirty=!1}add(e){FC(this.children,e),this.isDirty=!0}remove(e){h0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ene),this.isDirty=!1,this.children.forEach(e)}}function sne(t,e){const n=Mo.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Hl(r),t(a-e))};return un.read(r,!0),()=>Hl(r)}const wP=["TopLeft","TopRight","BottomLeft","BottomRight"],nne=wP.length,bE=t=>typeof t=="string"?parseFloat(t):t,_E=t=>typeof t=="number"||Wt.test(t);function rne(t,e,n,r,i,a){i?(t.opacity=Sn(0,n.opacity!==void 0?n.opacity:1,ine(r)),t.opacityExit=Sn(e.opacity!==void 0?e.opacity:1,0,ane(r))):a&&(t.opacity=Sn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<nne;o++){const l=`border${wP[o]}Radius`;let d=jE(e,l),u=jE(n,l);if(d===void 0&&u===void 0)continue;d||(d=0),u||(u=0),d===0||u===0||_E(d)===_E(u)?(t[l]=Math.max(Sn(bE(d),bE(u),r),0),(Do.test(u)||Do.test(d))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Sn(e.rotate||0,n.rotate||0,r))}function jE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ine=bP(0,.5,UU),ane=bP(.5,.95,fa);function bP(t,e,n){return r=>r<t?0:r>e?1:n(pu(t,e,r))}function CE(t,e){t.min=e.min,t.max=e.max}function Ia(t,e){CE(t.x,e.x),CE(t.y,e.y)}function SE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function BE(t,e,n,r,i){return t-=e,t=Zx(t,1/n,r),i!==void 0&&(t=Zx(t,1/i,r)),t}function one(t,e=0,n=1,r=.5,i,a=t,o=t){if(Do.test(e)&&(e=parseFloat(e),e=Sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Sn(a.min,a.max,r);t===a&&(l-=e),t.min=BE(t.min,e,n,l,i),t.max=BE(t.max,e,n,l,i)}function NE(t,e,[n,r,i],a,o){one(t,e[n],e[r],e[i],e.scale,a,o)}const lne=["x","scaleX","originX"],cne=["y","scaleY","originY"];function kE(t,e,n,r){NE(t.x,e,lne,n?n.x:void 0,r?r.x:void 0),NE(t.y,e,cne,n?n.y:void 0,r?r.y:void 0)}function IE(t){return t.translate===0&&t.scale===1}function _P(t){return IE(t.x)&&IE(t.y)}function EE(t,e){return t.min===e.min&&t.max===e.max}function dne(t,e){return EE(t.x,e.x)&&EE(t.y,e.y)}function TE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jP(t,e){return TE(t.x,e.x)&&TE(t.y,e.y)}function FE(t){return xa(t.x)/xa(t.y)}function LE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class une{constructor(){this.members=[]}add(e){FC(this.members,e),e.scheduleRender()}remove(e){if(h0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ane(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:g,skewX:y,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,d=t.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const Hd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},km=typeof window!="undefined"&&window.MotionDebug!==void 0,Eb=["","X","Y","Z"],hne={visibility:"hidden"},RE=1e3;let mne=0;function Tb(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function CP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kU(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",un,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&CP(r)}function SP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=mne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,km&&(Hd.totalNodes=Hd.resolvedTargetDeltas=Hd.recalculatedProjection=0),this.nodes.forEach(fne),this.nodes.forEach(bne),this.nodes.forEach(_ne),this.nodes.forEach(vne),km&&window.MotionDebug.record(Hd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new tne)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LC),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yP(o),this.instance=o;const{layoutId:d,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||d)&&(this.isLayoutDirty=!0),t){let m;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=sne(g,250),rx.hasAnimatedSinceResize&&(rx.hasAnimatedSinceResize=!1,this.nodes.forEach(PE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||Nne,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=h.getProps(),B=!this.targetLayout||!jP(this.targetLayout,x)||y,S=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||g&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,S);const v={...kC(C,"layout"),onPlay:E,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else g||PE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UE);return}this.isUpdating||this.nodes.forEach(yne),this.isUpdating=!1,this.nodes.forEach(wne),this.nodes.forEach(pne),this.nodes.forEach(gne),this.clearAllSnapshots();const l=Mo.now();$r.delta=Ol(0,1e3/60,l-$r.timestamp),$r.timestamp=l,$r.isProcessing=!0,bb.update.process($r),bb.preRender.process($r),bb.render.process($r),$r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xne),this.sharedNodes.forEach(Cne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,un.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_P(this.projectionDelta),d=this.getTransformTemplate(),u=d?d(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||Qd(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),kne(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Pn();const d=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Ine))){const{scroll:h}=this.root;h&&(IA(d.x,h.offset.x),IA(d.y,h.offset.y))}return d}removeElementScroll(o){var l;const d=Pn();if(Ia(d,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return d;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Ia(d,o),IA(d.x,m.offset.x),IA(d.y,m.offset.y))}return d}applyTransform(o,l=!1){const d=Pn();Ia(d,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&EA(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Qd(h.latestValues)&&EA(d,h.latestValues)}return Qd(this.latestValues)&&EA(d,this.latestValues),d}removeTransform(o){const l=Pn();Ia(l,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];if(!u.instance||!Qd(u.latestValues))continue;ij(u.latestValues)&&u.updateSnapshot();const h=Pn(),m=u.measurePageBox();Ia(h,m),kE(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Qd(this.latestValues)&&kE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=$r.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Jm(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Rse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ia(this.target,this.layout.layoutBox),pP(this.target,this.targetDelta)):Ia(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Jm(this.relativeTargetOrigin,this.target,y.target),Ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}km&&Hd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ij(this.parent.latestValues)||mP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$r.timestamp&&(u=!1),u)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Ia(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;Vse(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pn());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SE(this.prevProjectionDelta.x,this.projectionDelta.x),SE(this.prevProjectionDelta.y,this.projectionDelta.y)),Ym(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!LE(this.projectionDelta.x,this.prevProjectionDelta.x)||!LE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),km&&Hd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kA(),this.projectionDelta=kA(),this.projectionDeltaWithTransform=kA()}setAnimationOrigin(o,l=!1){const d=this.snapshot,u=d?d.latestValues:{},h={...this.latestValues},m=kA();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Pn(),y=d?d.source:void 0,x=this.layout?this.layout.source:void 0,C=y!==x,E=this.getStack(),T=!E||E.members.length<=1,B=!!(C&&!T&&this.options.crossfade===!0&&!this.path.some(Bne));this.animationProgress=0;let S;this.mixTargetDelta=v=>{const w=v/1e3;DE(m.x,o.x,w),DE(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sne(this.relativeTarget,this.relativeTargetOrigin,g,w),S&&dne(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Pn()),Ia(S,this.relativeTarget)),C&&(this.animationValues=h,rne(h,u,this.latestValues,w,B,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=un.update(()=>{rx.hasAnimatedSinceResize=!0,this.currentAnimation=xP(0,RE,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:u,latestValues:h}=o;if(!(!l||!d||!u)){if(this!==o&&this.layout&&u&&BP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){d=this.target||Pn();const m=xa(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const g=xa(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Ia(l,d),EA(l,h),Ym(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new une),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const u=this.getStack();u&&u.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const u={};d.z&&Tb("z",o,u,this.animationValues);for(let h=0;h<Eb.length;h++)Tb(`rotate${Eb[h]}`,o,u,this.animationValues),Tb(`skew${Eb[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var l,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hne;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=sx(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=sx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qd(this.latestValues)&&(C.transform=h?h({},""):"none",this.hasProjected=!1),C}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=Ane(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:y,y:x}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,m.animationValues?u.opacity=m===this?(d=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in zx){if(g[C]===void 0)continue;const{correct:E,applyTo:T}=zx[C],B=u.transform==="none"?g[C]:E(g[C],m);if(T){const S=T.length;for(let v=0;v<S;v++)u[T[v]]=B}else u[C]=B}return this.options.layoutId&&(u.pointerEvents=m===this?sx(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(UE),this.root.sharedNodes.clear()}}}function pne(t){t.updateLayout()}function gne(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?Ta(m=>{const g=o?n.measuredBox[m]:n.layoutBox[m],y=xa(g);g.min=r[m].min,g.max=g.min+y}):BP(a,n.layoutBox,r)&&Ta(m=>{const g=o?n.measuredBox[m]:n.layoutBox[m],y=xa(r[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const l=kA();Ym(l,r,n.layoutBox);const d=kA();o?Ym(d,t.applyTransform(i,!0),n.measuredBox):Ym(d,r,n.layoutBox);const u=!_P(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const x=Pn();Jm(x,n.layoutBox,g.layoutBox);const C=Pn();Jm(C,r,y.layoutBox),jP(x,C)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fne(t){km&&Hd.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xne(t){t.clearSnapshot()}function UE(t){t.clearMeasurements()}function yne(t){t.isLayoutDirty=!1}function wne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bne(t){t.resolveTargetDelta()}function _ne(t){t.calcProjection()}function jne(t){t.resetSkewAndRotation()}function Cne(t){t.removeLeadSnapshot()}function DE(t,e,n){t.translate=Sn(e.translate,0,n),t.scale=Sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ME(t,e,n,r){t.min=Sn(e.min,n.min,r),t.max=Sn(e.max,n.max,r)}function Sne(t,e,n,r){ME(t.x,e.x,n.x,r),ME(t.y,e.y,n.y,r)}function Bne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Nne={duration:.45,ease:[.4,0,.1,1]},QE=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HE=QE("applewebkit/")&&!QE("chrome/")?Math.round:fa;function OE(t){t.min=HE(t.min),t.max=HE(t.max)}function kne(t){OE(t.x),OE(t.y)}function BP(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lse(FE(e),FE(n),.2)}function Ine(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ene=SP({attachResizeListener:(t,e)=>Lp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fb={current:void 0},NP=SP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fb.current){const t=new Ene({});t.mount(window),t.setOptions({layoutScroll:!0}),Fb.current=t}return Fb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tne={pan:{Feature:Xse},drag:{Feature:qse,ProjectionNode:NP,MeasureLayout:vP}};function $E(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&un.postRender(()=>a(e,mg(e)))}class Fne extends id{mount(){const{current:e}=this.node;e&&(this.unmount=Dee(e,n=>($E(this.node,n,"Start"),r=>$E(this.node,r,"End"))))}unmount(){}}class Lne extends id{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hg(Lp(this.node.current,"focus",()=>this.onFocus()),Lp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VE(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&un.postRender(()=>a(e,mg(e)))}class Rne extends id{mount(){const{current:e}=this.node;e&&(this.unmount=Oee(e,n=>(VE(this.node,n,"Start"),(r,{success:i})=>VE(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oj=new WeakMap,Lb=new WeakMap,Une=t=>{const e=oj.get(t.target);e&&e(t)},Pne=t=>{t.forEach(Une)};function Dne({root:t,...e}){const n=t||document;Lb.has(n)||Lb.set(n,{});const r=Lb.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Pne,{root:t,...e})),r[i]}function Mne(t,e,n){const r=Dne(e);return oj.set(t,n),r.observe(t),()=>{oj.delete(t),r.unobserve(t)}}const Qne={some:0,all:1};class Hne extends id{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Qne[i]},l=d=>{const{isIntersecting:u}=d;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),g=u?h:m;g&&g(d)};return Mne(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(One(e,n))&&this.startObserver()}unmount(){}}function One({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $ne={inView:{Feature:Hne},tap:{Feature:Rne},focus:{Feature:Lne},hover:{Feature:Fne}},Vne={layout:{ProjectionNode:NP,MeasureLayout:vP}},ey={current:null},KC={current:!1};function kP(){if(KC.current=!0,!!mC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ey.current=t.matches;t.addListener(e),e()}else ey.current=!1}const Gne=[...XU,di,td],Kne=t=>Gne.find(qU(t)),sh=new WeakMap;function zne(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Lr(i))t.addValue(r,i);else if(Lr(a))t.addValue(r,eh(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,eh(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IP{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=QC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Mo.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,un.render(this.render,!1,!0))};const{latestValues:d,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=d0(n),this.isVariantNode=nU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const x=g[y];d[y]!==void 0&&Lr(x)&&x.set(d[y],!1)}}mount(e){this.current=e,sh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KC.current||kP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ey.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sh.delete(this.current),this.projection&&this.projection.unmount(),Hl(this.notifyUpdate),Hl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wu.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&un.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ZA){const n=ZA[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GE.length;r++){const i=GE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zne(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=eh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(zU(i)||DU(i))?i=parseFloat(i):!Kne(i)&&td.test(n)&&(i=VU(e,n)),this.setBaseTarget(e,Lr(i)?i.get():i)),Lr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=wC(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Lr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new LC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class EP extends IP{constructor(){super(...arguments),this.KeyframeResolver=YU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wne(t){return window.getComputedStyle(t)}class TP extends EP{constructor(){super(...arguments),this.type="html",this.renderInstance=AU}readValueFromInstance(e,n){if(wu.has(n)){const r=MC(n);return r&&r.default||0}else{const r=Wne(e),i=(cU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gP(e,n)}build(e,n,r){jC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return NC(e,n,r)}}class FP extends EP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wu.has(n)){const r=MC(n);return r&&r.default||0}return n=hU.has(n)?n:vC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gU(e,n,r)}build(e,n,r){CC(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){mU(e,n,r,i)}mount(e){this.isSVGTag=BC(e.tagName),super.mount(e)}}const qne=(t,e)=>yC(t)?new FP(e):new TP(e,{allowProjection:t!==R.Fragment}),Xne=Tee({...Cse,...$ne,...Tne,...Vne},qne),LP=zZ(Xne);function Im(t){const e=uC(()=>eh(t)),{isStatic:n}=R.useContext(hC);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function RP(t,e){const n=Im(e()),r=()=>n.set(e());return r(),JR(()=>{const i=()=>un.preRender(r,!1,!0),a=t.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Hl(r)}}),n}const Yne=t=>t&&typeof t=="object"&&t.mix,Jne=t=>Yne(t)?t.mix:void 0;function Zne(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],o=t[3+n],l=rP(i,a,{mixer:Jne(a[0]),...o});return e?l(r):l}function ere(t){Wm.current=[],t();const e=RP(Wm.current,t);return Wm.current=void 0,e}function zf(t,e,n,r){if(typeof t=="function")return ere(t);const i=typeof e=="function"?e:Zne(e,n,r);return Array.isArray(t)?KE(t,i):KE([t],([a])=>i(a))}function KE(t,e){const n=uC(()=>[]);return RP(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function UP(){!KC.current&&kP();const[t]=R.useState(ey.current);return t}const tre=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function PP(t,e){return nP(t)?t[tre(0,t.length,e)]:t}function zC(t){return typeof t=="object"&&!Array.isArray(t)}function DP(t,e,n,r){return typeof t=="string"&&zC(e)?jU(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function sre(t,e,n){return t*(e+1)}function zE(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function nre(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(h0(t,i),r--)}}function rre(t,e,n,r,i,a){nre(t,i,a);for(let o=0;o<e.length;o++)t.push({value:e[o],at:Sn(i,a,r[o]),easing:PP(n,o)})}function ire(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function are(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const ore="easeInOut";function lre(t,{defaultTransition:e={},...n}={},r,i){const a=e.duration||.3,o=new Map,l=new Map,d={},u=new Map;let h=0,m=0,g=0;for(let y=0;y<t.length;y++){const x=t[y];if(typeof x=="string"){u.set(x,m);continue}else if(!Array.isArray(x)){u.set(x.name,zE(m,x.at,h,u));continue}let[C,E,T={}]=x;T.at!==void 0&&(m=zE(m,T.at,h,u));let B=0;const S=(v,w,N,_=0,j=0)=>{const k=cre(v),{delay:U=0,times:I=aP(k),type:P="keyframes",repeat:L,repeatType:H,repeatDelay:O=0,...z}=w;let{ease:G=e.ease||"easeOut",duration:$}=w;const Y=typeof U=="function"?U(_,j):U,J=k.length,V=A0(P)?P:i==null?void 0:i[P];if(J<=2&&V){let le=100;if(J===2&&Are(k)){const te=k[1]-k[0];le=Math.abs(te)}const we={...z};$!==void 0&&(we.duration=Uo($));const Se=Ree(we,le,V);G=Se.ease,$=Se.duration}$!=null||($=a);const X=m+Y;I.length===1&&I[0]===0&&(I[1]=1);const Z=I.length-k.length;if(Z>0&&iP(I,Z),k.length===1&&k.unshift(null),L){$=sre($,L);const le=[...k],we=[...I];G=Array.isArray(G)?[...G]:[G];const Se=[...G];for(let te=0;te<L;te++){k.push(...le);for(let ce=0;ce<le.length;ce++)I.push(we[ce]+(te+1)),G.push(ce===0?"linear":PP(Se,ce-1))}ire(I,L)}const se=X+$;rre(N,k,G,I,X,se),B=Math.max(Y+$,B),g=Math.max(se,g)};if(Lr(C)){const v=WE(C,l);S(E,T,qE("default",v))}else{const v=DP(C,E,r,d),w=v.length;for(let N=0;N<w;N++){E=E,T=T;const _=v[N],j=WE(_,l);for(const k in E)S(E[k],dre(T,k),qE(k,j),N,w)}}h=m,m+=B}return l.forEach((y,x)=>{for(const C in y){const E=y[C];E.sort(are);const T=[],B=[],S=[];for(let w=0;w<E.length;w++){const{at:N,value:_,easing:j}=E[w];T.push(_),B.push(pu(0,g,N)),S.push(j||"easeOut")}B[0]!==0&&(B.unshift(0),T.unshift(T[0]),S.unshift(ore)),B[B.length-1]!==1&&(B.push(1),T.push(null)),o.has(x)||o.set(x,{keyframes:{},transition:{}});const v=o.get(x);v.keyframes[C]=T,v.transition[C]={...e,duration:g,ease:S,times:B,...n}}}),o}function WE(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function qE(t,e){return e[t]||(e[t]=[]),e[t]}function cre(t){return Array.isArray(t)?t:[t]}function dre(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const ure=t=>typeof t=="number",Are=t=>t.every(ure);function hre(t,e){return t in e}class mre extends IP{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(hre(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Pn()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function pre(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=yP(t)?new FP(e):new TP(e);n.mount(t),sh.set(t,n)}function gre(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new mre(e);n.mount(t),sh.set(t,n)}function fre(t,e){return Lr(t)||typeof t=="number"||typeof t=="string"&&!zC(e)}function MP(t,e,n,r){const i=[];if(fre(t,e))i.push(xP(t,zC(e)&&e.default||e,n&&(n.default||n)));else{const a=DP(t,e,r),o=a.length;for(let l=0;l<o;l++){const d=a[l],u=d instanceof Element?pre:gre;sh.has(d)||u(d);const h=sh.get(d),m={...n};"delay"in m&&typeof m.delay=="function"&&(m.delay=m.delay(l,o)),i.push(...GC(h,{...e,transition:m},{}))}}return i}function vre(t,e,n){const r=[];return lre(t,e,n,{spring:OC}).forEach(({keyframes:a,transition:o},l)=>{r.push(...MP(l,a,o))}),r}function xre(t){return Array.isArray(t)&&t.some(Array.isArray)}function yre(t){function e(n,r,i){let a=[];return xre(n)?a=vre(n,r,t):a=MP(n,r,i,t),new xU(a)}return e}const Wf=yre(),Nl={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function wre(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Nl.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function bre(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Nl.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Nl.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Nl.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Nl.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function XE({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=UP();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Nl.border,background:"var(--nav, "+Nl.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(wre,{}),s.jsx(LP.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(bre,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const Rb={borderColor:"#2B4C73",background:"#1A2F4A"},qf={borderColor:"#2B4C73",background:"#152A42"};function As({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:a,right:o,children:l,rounded:d="rounded-3xl",padded:u=!0,centerFramed:h=!1,leftWidth:m=0,rightWidth:g=0,stickyRails:y=!0,leftFullHeight:x=!1,mode:C="card",outerPadding:E="px-4 py-3",leftPlacement:T="inside",stickyTopbar:B=!0,stickySubheader:S=!0,shellViewportOffset:v="var(--app-topbar-h,72px)",topbarHeight:w=56}){const N={"--left":typeof m=="number"?`${m}px`:m,"--right":typeof g=="number"?`${g}px`:g},_=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Rb,children:t}),(e||n||r)&&s.jsxs("div",{className:[B?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Rb,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&s.jsx("div",{className:[S?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...S?{top:B?`${w}px`:0}:{},...Rb},children:i})]}),j=C==="card"?({children:U})=>s.jsx(XE,{rounded:d,padded:u,children:U}):({children:U})=>s.jsx("div",{className:`w-full ${E}`,children:U}),k=s.jsx("div",{className:"relative min-h-0 h-full",style:N,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[a?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...qf,position:y?"sticky":"static",top:y?"1rem":void 0,alignSelf:x?"stretch":"start",height:x?"100%":"fit-content",minHeight:x?0:void 0},children:a}):m?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),h?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:qf,children:l}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:l}),o?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...qf,position:y?"sticky":"static",top:y?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):g?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return T==="bleed"&&C==="card"?s.jsx("div",{className:`w-full ${E}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[_,s.jsx("div",{className:"flex-1 min-h-0",style:N,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[a?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...qf,position:y?"sticky":"static",top:y?"1rem":void 0,alignSelf:x?"stretch":"start",height:x?"100%":"fit-content",minHeight:x?0:void 0},children:a}):m?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(XE,{rounded:d,padded:u,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:k})})]})})]})}):s.jsx(j,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${v})`},children:[_,s.jsx("div",{className:"flex-1 min-h-0",children:k})]})})}const _re="_card_z6isy_1",jre="_header_z6isy_19",Cre="_headerGroup_z6isy_33",Sre="_headerText_z6isy_47",Bre="_headerIcon_z6isy_61",Nre="_title_z6isy_81",kre="_subtitle_z6isy_93",Ire="_previewWrap_z6isy_103",Ere="_previewSurface_z6isy_115",Tre="_previewLink_z6isy_134",Fre="_previewStatic_z6isy_142",Lre="_previewImage_z6isy_168",Rre="_previewImageIcon_z6isy_188",Ure="_previewImageCover_z6isy_196",Pre="_guidehubScale_z6isy_206",bi={card:_re,header:jre,headerGroup:Cre,headerText:Sre,headerIcon:Bre,title:Nre,subtitle:kre,previewWrap:Ire,previewSurface:Ere,previewLink:Tre,previewStatic:Fre,previewImage:Lre,previewImageIcon:Rre,previewImageCover:Ure,guidehubScale:Pre},Ub=({href:t,title:e,subtitle:n,headerIconSrc:r,headerIconAlt:i="",previewImageSrc:a,previewAlt:o,variant:l="icon",previewHeightOverride:d,className:u,i18nScope:h,titleI18nKey:m,subtitleI18nKey:g,previewAltI18nKey:y,linkAriaLabel:x,linkAriaI18nKey:C})=>{const E=[bi.card,u].filter(Boolean).join(" "),T=typeof t=="string"&&t.trim()?t:null,B=T?/^https?:\/\//i.test(T):!1,S=x||e,v=!i,w=d?{"--featured-preview-height-override":d}:void 0,N=[bi.previewImage,l==="cover"?bi.previewImageCover:bi.previewImageIcon].filter(Boolean).join(" "),_=[bi.previewSurface,T?bi.previewLink:bi.previewStatic].filter(Boolean).join(" "),j=T?"true":"false";return s.jsxs("section",{className:E,"data-i18n-scope":h,style:w,children:[s.jsx("div",{className:bi.previewWrap,children:T?B?s.jsx("a",{href:T,className:_,"aria-label":S,"data-i18n-aria-label":C,"data-clickable":j,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:a,alt:o,"data-i18n":y,className:N,loading:"eager",decoding:"async"})}):s.jsx(Ys,{to:T,className:_,"aria-label":S,"data-i18n-aria-label":C,"data-clickable":j,children:s.jsx("img",{src:a,alt:o,"data-i18n":y,className:N,loading:"eager",decoding:"async"})}):s.jsx("div",{className:_,"data-clickable":j,children:s.jsx("img",{src:a,alt:o,"data-i18n":y,className:N,loading:"eager",decoding:"async"})})}),s.jsx("header",{className:bi.header,children:s.jsxs("div",{className:bi.headerGroup,children:[r&&s.jsx("img",{src:r,alt:i,className:bi.headerIcon,"aria-hidden":v}),s.jsxs("div",{className:bi.headerText,children:[s.jsx("span",{className:bi.title,"data-i18n":m,children:e}),n&&s.jsx("span",{className:bi.subtitle,"data-i18n":g,children:n})]})]})})]})},Dre="_row_anakb_1",Mre="_viewport_anakb_13",Qre="_track_anakb_21",Hre="_navBtn_anakb_37",Nd={row:Dre,viewport:Mre,track:Qre,navBtn:Hre},Ore=({children:t,className:e})=>{const n=R.useRef(null),r=R.useRef(null),[i,a]=R.useState(0),[o,l]=R.useState(0),[d,u]=R.useState(0),h=W.Children.count(t);R.useEffect(()=>{const x=()=>{const E=n.current,T=r.current;if(!E||!T)return;const B=T.children;if(!B.length){l(0),u(0),a(0);return}const v=B[0].getBoundingClientRect().width,w=window.getComputedStyle(T),N=parseFloat(w.columnGap||w.gap||"0"),_=Number.isNaN(N)?0:N,j=v+_,k=E.getBoundingClientRect().width,U=j>0?Math.max(1,Math.floor((k+_)/j)):1,I=Math.max(0,B.length-U);u(j),l(I),a(P=>Math.min(P,I))};x();let C=null;return typeof ResizeObserver!="undefined"&&(C=new ResizeObserver(()=>x()),n.current&&C.observe(n.current),r.current&&C.observe(r.current)),window.addEventListener("resize",x),()=>{C==null||C.disconnect(),window.removeEventListener("resize",x)}},[h]);const m=i>0,g=i<o,y=d*i*-1;return s.jsxs("div",{className:[Nd.row,e].filter(Boolean).join(" "),children:[s.jsx("button",{className:`${Nd.navBtn} ${Nd.navPrev}`,onClick:()=>a(x=>Math.max(0,x-1)),disabled:!m,"aria-label":"Previous",children:"<"}),s.jsx("div",{className:Nd.viewport,ref:n,children:s.jsx("div",{className:Nd.track,ref:r,style:{transform:`translateX(${y}px)`},children:t})}),s.jsx("button",{className:`${Nd.navBtn} ${Nd.navNext}`,onClick:()=>a(x=>Math.min(o,x+1)),disabled:!g,"aria-label":"Next",children:">"})]})},$re="https://firestore.googleapis.com/v1/projects",Vre="stats_public/news_latestByChannel",Gre=()=>`${$re}/sfdatahub-staging/databases/(default)/documents/${Vre}?key=AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA`,bl=t=>t&&typeof t.stringValue=="string"?t.stringValue:null,Kre=t=>!t||t.nullValue!==void 0?null:typeof t.stringValue=="string"?t.stringValue:null,YE=t=>{if(!t)return null;if(typeof t.integerValue=="string"){const e=Number(t.integerValue);return Number.isFinite(e)?e:null}if(typeof t.doubleValue=="number")return Number.isFinite(t.doubleValue)?t.doubleValue:null;if(typeof t.timestampValue=="string"){const e=Date.parse(t.timestampValue);return Number.isFinite(e)?e:null}if(typeof t.stringValue=="string"){const e=Number(t.stringValue);return Number.isFinite(e)?e:null}return null},JE=t=>!t||!t.mapValue||!t.mapValue.fields?null:t.mapValue.fields,zre=t=>{var n;const e=(n=t==null?void 0:t.arrayValue)==null?void 0:n.values;return Array.isArray(e)?e:[]},Wre=t=>{if(!t)return null;const e=bl(t.id),n=bl(t.channelId),r=bl(t.author),i=bl(t.timestamp),a=bl(t.contentText),o=Kre(t.imageUrl),l=bl(t.jumpUrl);return!e||!n||!r||!i||!a||!l?null:{id:e,channelId:n,author:r,timestamp:i,contentText:a,imageUrl:o,jumpUrl:l}},qre=t=>{const e=JE(t);if(!e)return null;const n=bl(e.channelId),r=bl(e.label);if(!n||!r)return null;const i=JE(e.item);return{channelId:n,label:r,item:i?Wre(i):null}},Xre=t=>t.map(e=>{var n,r,i,a;return`${e.channelId}|${(r=(n=e.item)==null?void 0:n.id)!=null?r:"-"}|${(a=(i=e.item)==null?void 0:i.timestamp)!=null?a:"-"}`}).join(`
`),Yre=t=>{var l;const e=t==null?void 0:t.fields;if(!e||typeof e!="object")return null;const n=zre(e.items),r=[];for(const d of n){const u=qre(d);u&&r.push(u)}const i=YE(e.updatedAt),a=YE(e.nextUpdateAt),o=(l=bl(e.hash))!=null?l:Xre(r);return o?{updatedAt:i,nextUpdateAt:a,hash:o,items:r}:null};async function Jre(t){const e=Gre();if(!e)return null;const n=await fetch(e,{cache:"no-store",signal:t});if(!n.ok)throw new Error(`HTTP ${n.status}`);const r=await n.json();return Yre(r)}const WC="/assets/logo_guidehub-c4zKGdF-.png";function QP(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function Zre(t){const e=t.filter(Boolean).join(" ");return QP(e)}const eie={woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",amruneoverview:"1YlAG-4hNVBfXHTBvcMIWXs-h-_8Yz7MS",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",stinkingrich:"1wtKrBGPIhb-c381aRwdFdItZ4bjcQuFs",runemaster:"13jn9YGSj6jwAHAyFgZci7xItANOMLEvb",runeemporer:"1NoV1yiiq3aa-jtUL0F8j0MUG--5sVkDW",capitalist:"1i7276mR37xH9ywdGAf5QqAZmy9ecbeom",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",calendarrewards:"1K9bm0OUtW0_QUg5i9q40N0slV6kg_iTd",calendarskip:"1jOgaf09diVUyCdXWdFoc-kXj4mUHejo7",elementaladvantages:"1wuV_5LJCMKVWA9FkCVILcQ_xF6GS9NM3",petsp2w:"1Smy-lLOCHFd_n4qqhy_mQh1cQEfIfYfW",petsf2p:"1_LfcLaZ9Yte_55iO0jl40KO8ZIvOyzjd",normalpack:"",leveluppack:"1U5IfT1x471-eiA20GIkeVddLRp5z1-C3",birthdaysale:"1tnGr2TqWZ8-mbfB_FLA81cmawN6MHM2U",blackfridaysale:"151Vt48Snv14yaemu2br4a0p5ZJOwoBAJ",christmassale:"1YtjNmFDSdoZOMP7pr4u8Hpq-ngUoZSnL",communitysale:"1IcqlVQSmUmTjK5d-3uDSgWzfMdSoYXOz",eastersale:"1VjRJ5FYsPMH8shHO3ygFy8o7OW7Ok2s9",fallsale:"1WEBrcC16kKEuDqVrNN1_30YE-mvbLKRL",luckysale:"1ghdb7rzBd9IwfIThrZkWoBu_cJUu52Y8",newyearsale:"1oqiVjh189TymQOJ6rFgplKX5d19F8dRQ",oktoberfestsale:"15_EJDighENIzrGyWc_G-zoS90hf21I2O",prechristmassale:"1oF2EBqkCQoIpbea4DbWtBwVjiU0CQ3qH",soulfulsale:"1QXKH1xPEzpA1vPBL4KVYXs3Wz61Xwaoh",summersale:"1QXKH1xPEzpA1vPBL4KVYXs3Wz61Xwaoh",wintersale:"1dQgJjNPUwhYXFXe_D3ECSCZVxQ-tI4Wi",worldbosssale:"1PAtXeA1xucL-NQdEpl4c7koesaN6o4n9",hydrastages:"1NosDzLmsNFLkTOuzpEKV0wjPo9TbMpMG",guildskillcost:"18Bx5BeItjYGP3cyNhvJ-Rwr3mfqNQkpc",levelzweibiszweihundert:"1xisisp1_yooyzPpjAdUEEi_0p284CtCz",levelzweihunzehnbissiebenhun:"1xisisp1_yooyzPpjAdUEEi_0p284CtCz",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450",sftaverndiscord:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY",sfmagazine:"1DkwbJdIRSI0DxVJCo9aCDD9FyjZGf-TQ",sftools:"1fcnNhvUliXJU6Fuw95mLrcNowjzZlYSh",step1adg:"1s18qj9thQdvKQySqdgv3jhAZ6WXu4Z_T",step2adg:"1XD6h0xe56G4nfatc4Cs9wFnPveWwyxr8",step3adg:"1FBYaP5H-UhlrMiAhlfxcEyP8PGBWbPO5"};function tie(t){var n;const e=Array.isArray(t)?Zre(t):QP(t!=null?t:"");return(n=eie[e])!=null?n:null}function uo(t,e=512){var a,o;const n=tie(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=mu(n))!=null?a:null,i=r&&(o=Yi(r,e))!=null?o:null;return{id:n,url:r,thumb:i,fallback:""}}function su(t,e=512){return uo(t,e).thumb}const sie="/guidehub-v2",ZE=uo("sftools",512),eT=uo("sftaverndiscord",512);var CF,SF;const nie=(SF=(CF=ZE.thumb)!=null?CF:ZE.url)!=null?SF:"";var BF,NF;const rie=(NF=(BF=eT.thumb)!=null?BF:eT.url)!=null?NF:"",tT="clamp(96px, 22vw, 192px)",iie="https://discord.gg/5hXBuyRssK",sT=`${Ha}/api/twitch/live`,aie=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"],HP="sfh_news_latestByChannel_v1",oie=600*1e3;async function lie(){const t=[];for(const n of aie)try{const i=await(await fetch(n,{cache:"no-store"})).text(),a=cie(i);t.push(...a)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function nT(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];a==='"'?r&&t[i+1]==='"'?(n+='"',i++):r=!r:a===","&&!r?(e.push(n),n=""):n+=a}return e.push(n),e}function cie(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=nT(e[0]);return e.slice(1).map(r=>{const i=nT(r),a={};return n.forEach((o,l)=>{var d;return a[o.trim()]=((d=i[l])!=null?d:"").trim()}),a})}function die(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const a=Math.floor(i/60);if(a<60)return`${a}m`;const o=Math.floor(a/60);return o<24?`${o}h`:`${Math.floor(o/24)}d`}catch(e){return""}}function OP(t,e){const n=t.trim();return n.length<=e?n:`${n.slice(0,Math.max(0,e-3)).trimEnd()}...`}function uie(){try{if(typeof sessionStorage=="undefined")return null;const t=sessionStorage.getItem(HP);if(!t)return null;const e=JSON.parse(t);return!e||typeof e!="object"?null:e}catch(t){return null}}function rT(t){try{if(typeof sessionStorage=="undefined")return;sessionStorage.setItem(HP,JSON.stringify(t))}catch(e){}}function Aie(t){if(!t)return null;const e=Date.now(),n=typeof t.nextUpdateAt=="number"?t.nextUpdateAt:null;return n&&n>e?n:e+oie}function hie(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const mie=()=>{var L,H;const{t}=Gs(),[e,n]=R.useState(0),[r,i]=R.useState(null),[a,o]=R.useState(!0),[l,d]=R.useState(null),u=R.useRef(!1),h=R.useRef(!1),m=R.useRef(null),g=R.useRef(null),y=R.useRef(null),x=R.useRef(null),C=R.useRef(null),E=O=>{var $,Y;let z=-1,G=Number.NEGATIVE_INFINITY;for(let J=0;J<O.length;J++){const V=(Y=($=O[J])==null?void 0:$.item)==null?void 0:Y.timestamp;if(!V)continue;const X=Date.parse(V);Number.isNaN(X)||X>G&&(G=X,z=J)}return z===-1?0:z};R.useEffect(()=>{let O=!0;const z=()=>{m.current&&(window.clearTimeout(m.current),m.current=null)},G=se=>{z();const le=Aie(se);if(!le)return;C.current=le;const we=Math.max(0,le-Date.now());m.current=window.setTimeout(()=>{Y()},we)},$=(se,le)=>{var te;const we=se.hash||String((te=se.updatedAt)!=null?te:""),Se=x.current;if(Se&&Se===we){y.current=se,le&&rT(se);return}x.current=we,y.current=se,i(se),le&&rT(se)},Y=async()=>{var le;if(!O)return;(le=g.current)==null||le.abort();const se=new AbortController;g.current=se,y.current||o(!0);try{const we=await Jre(se.signal);if(!O||se.signal.aborted)return;we&&($(we,!0),d(null),G(we))}catch(we){if(!O||se.signal.aborted)return;d(String((we==null?void 0:we.message)||we||"error"))}finally{O&&!se.signal.aborted&&(o(!1),G(y.current))}},J=uie();J&&($(J,!1),o(!1));const V=Date.now();J&&typeof J.nextUpdateAt=="number"&&J.nextUpdateAt>V?G(J):Y();const Z=()=>{if(!O||document.visibilityState!=="visible")return;const se=C.current;typeof se=="number"&&Date.now()>se&&Y()};return document.addEventListener("visibilitychange",Z),()=>{var se;O=!1,z(),(se=g.current)==null||se.abort(),document.removeEventListener("visibilitychange",Z)}},[]),R.useEffect(()=>{var z;const O=(z=r==null?void 0:r.items)!=null?z:[];if(O.length===0){n(0);return}if(!u.current&&!h.current){n(E(O)),h.current=!0;return}n(G=>Math.min(G,O.length-1))},[r]);const T=(L=r==null?void 0:r.items.length)!=null?L:0,B=T>0?r.items[e]:null,S=(B==null?void 0:B.label)||(B==null?void 0:B.channelId)||"",v=!a&&B&&!B.item,w=(H=B==null?void 0:B.item)!=null?H:null,N=w?die(w.timestamp):"",_=(w==null?void 0:w.author)||"Discord",j=w!=null&&w.contentText?OP(w.contentText,240):"",k=w?`${_} ${N}`.trim():void 0,U=!a&&T===0,I=()=>{T<=1||(u.current=!0,n(O=>(O-1+T)%T))},P=()=>{T<=1||(u.current=!0,n(O=>(O+1)%T))};return s.jsxs("section",{className:ot.card,"data-i18n-scope":"home.news","aria-busy":a,children:[s.jsxs("header",{className:ot.header,children:[s.jsxs("div",{className:ot.headerGroup,children:[s.jsx("span",{className:ot.title,"data-i18n":"home.news.title",children:t("home.news.title")}),S&&s.jsx("span",{className:ot.subtitle,title:S,children:S})]}),s.jsxs("div",{className:ot.carouselCtrls,children:[s.jsx("button",{className:ot.navBtn,onClick:I,disabled:T<=1,"aria-label":t("home.news.prev"),"data-i18n-aria-label":"home.news.prev",children:""}),s.jsx("button",{className:ot.navBtn,onClick:P,disabled:T<=1,"aria-label":t("home.news.next"),"data-i18n-aria-label":"home.news.next",children:""})]})]}),s.jsxs("div",{className:ot.newsList,children:[a&&s.jsx("div",{className:ot.newsSkeleton,"aria-hidden":!0}),w&&s.jsxs("article",{className:[ot.newsCard,w.imageUrl?ot.newsCardWithImage:""].join(" "),tabIndex:0,children:[s.jsxs("div",{className:ot.newsBody,children:[s.jsxs("div",{className:ot.newsMeta,children:[s.jsx("span",{className:ot.newsAuthor,children:_}),s.jsx("span",{className:ot.newsTime,children:N})]}),j&&s.jsx("p",{className:ot.newsText,children:j}),s.jsx("div",{className:ot.newsActions,children:s.jsx("a",{href:w.jumpUrl,target:"_blank",rel:"noreferrer",className:ot.linkBtn,"aria-label":k,"data-i18n":"home.news.openOnDiscord",children:t("home.news.openOnDiscord")})})]}),w.imageUrl&&s.jsx("img",{src:w.imageUrl,alt:"",className:ot.newsImage,loading:"lazy",decoding:"async"})]}),v&&s.jsx("div",{className:ot.empty,"data-i18n":"home.news.emptyChannel",children:t("home.news.emptyChannel")}),U&&s.jsx("div",{className:ot.empty,"data-i18n":"home.news.empty",children:t("home.news.empty")})]}),l&&s.jsx("div",{className:ot.errorNote,"aria-live":"polite",children:l})]})},pie=()=>{const{t}=Gs(),[e,n]=R.useState([]),[r,i]=R.useState(0),a=R.useRef(null);R.useEffect(()=>{let u=!0;async function h(){try{const g=(await lie()).map(y=>{const x=String(y["Creator Name"]||y.creator_name||y.name||"").trim(),C=String(y["YouTube Link"]||y.youtube||y.YouTube||"").trim();if(!C)return null;const E=hie(C),T=E?`https://i.ytimg.com/vi/${E}/hqdefault.jpg`:void 0;return{title:x,url:C,thumb:T}}).filter(Boolean).slice(0,12);u&&n(g)}catch(m){u&&n([])}}return h(),()=>{u=!1}},[]),R.useEffect(()=>{if(!(e.length<=1))return a.current=window.setInterval(()=>i(u=>(u+1)%e.length),6e3),()=>{a.current&&window.clearInterval(a.current)}},[e]);const o=()=>i(u=>(u-1+e.length)%Math.max(e.length,1)),l=()=>i(u=>(u+1)%Math.max(e.length,1)),d=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),o()),u.key==="ArrowRight"&&(u.preventDefault(),l())};return s.jsxs("section",{className:ot.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:ot.header,children:[s.jsx("span",{className:ot.title,"data-i18n":"home.youtube.title",children:t("home.youtube.title")}),s.jsxs("div",{className:ot.carouselCtrls,children:[s.jsx("button",{className:ot.navBtn,onClick:o,"aria-label":t("home.youtube.prev"),children:""}),s.jsx("button",{className:ot.navBtn,onClick:l,"aria-label":t("home.youtube.next"),children:""})]})]}),s.jsx("div",{className:ot.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:e.length===0?s.jsx("div",{className:ot.empty,"data-i18n":"home.youtube.empty",children:t("home.youtube.empty")}):e.map((u,h)=>s.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[ot.slide,h===r?ot.slideActive:ot.slideInactive].join(" "),children:[u.thumb?s.jsx("img",{src:u.thumb,alt:"",className:ot.slideThumb}):s.jsx("div",{className:ot.slideFallback,children:u.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:ot.slideCaption,children:u.title})]},u.url))})]})},gie=({onOpenSchedule:t})=>{const{t:e}=Gs(),[n,r]=R.useState(null);return R.useEffect(()=>{let i=!0;async function a(){if(!sT){r({live:!1});return}try{const o=await fetch(sT,{cache:"no-store"});if(!o.ok)throw new Error("Twitch live request failed");const l=await o.json();i&&r(l)}catch(o){i&&r({live:!1})}}return a(),()=>{i=!1}},[]),!n||!n.live||!Array.isArray(n.items)||n.items.length===0?s.jsxs("section",{className:ot.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:ot.header,children:s.jsx("span",{className:ot.title,"data-i18n":"home.live.title",children:e("home.live.title")})}),s.jsx("div",{className:ot.empty,"data-i18n":"home.live.none",children:e("home.live.none")}),s.jsx("div",{className:ot.actionsRight,children:s.jsx("button",{className:ot.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:e("home.schedule.open")})})]}):s.jsxs("section",{className:ot.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:ot.header,children:s.jsx("span",{className:ot.title,"data-i18n":"home.live.title",children:e("home.live.title")})}),n.items.map(i=>{const a=i.channel.displayName||i.channel.login,o=i.stream.title?OP(i.stream.title,80):"";return s.jsxs("div",{className:ot.liveCard,children:[i.stream.thumbnailUrl?s.jsx("img",{src:i.stream.thumbnailUrl,alt:"",className:ot.liveAvatar}):s.jsx("div",{className:ot.liveAvatarFallback,"aria-hidden":!0,children:a.slice(0,2).toUpperCase()}),s.jsxs("div",{className:ot.liveInfo,children:[s.jsx("div",{className:ot.liveName,children:a}),s.jsxs("div",{className:ot.liveMeta,children:[s.jsx("span",{className:ot.liveBadge,"data-i18n":"home.live.badge",children:e("home.live.badge")}),typeof i.stream.viewerCount=="number"&&s.jsx("span",{className:ot.liveViewers,children:e("home.live.viewers",{viewers:i.stream.viewerCount.toLocaleString()})})]}),o&&s.jsx("div",{className:ot.liveMeta,children:o})]}),s.jsx("a",{href:i.channel.url,target:"_blank",rel:"noreferrer",className:ot.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:e("home.live.open_on_twitch")})]},i.channel.login)})]})},fie=({open:t,onClose:e})=>{var x;const{t:n}=Gs(),[r,i]=R.useState(null),[a,o]=R.useState("All"),[l,d]=R.useState(""),[u,h]=R.useState(!1);if(R.useEffect(()=>{if(!t)return;async function C(){{i([]);return}}return C(),()=>{}},[t]),R.useEffect(()=>{const C=E=>{E.key==="Escape"&&e()};return t&&window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[t,e]),!t)return null;const m=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),g=(r||[]).filter(C=>{if(a!=="All"&&C.platform.toLowerCase()!==a.toLowerCase()||u&&C.weekday&&C.weekday.toLowerCase()!==m.toLowerCase())return!1;if(l){const E=l.toLowerCase();if(!`${C.streamer} ${C.title}`.toLowerCase().includes(E))return!1}return!0}),y=((x=r==null?void 0:r.length)!=null?x:0)===0;return s.jsx("div",{className:ot.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:ot.modal,children:[s.jsxs("header",{className:ot.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:ot.modalTitle,"data-i18n":"home.schedule.title",children:n("home.schedule.title")}),s.jsx("button",{className:ot.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:n("home.schedule.close")})]}),s.jsxs("div",{className:ot.modalFilters,children:[s.jsxs("label",{className:ot.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:n("home.schedule.platform")}),s.jsxs("select",{value:a,onChange:C=>o(C.target.value),className:ot.select,children:[s.jsx("option",{value:"All",children:n("home.schedule.platformAll")}),s.jsx("option",{value:"Twitch",children:n("home.schedule.platformTwitch")}),s.jsx("option",{value:"YouTube",children:n("home.schedule.platformYouTube")})]})]}),s.jsxs("label",{className:ot.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:n("home.schedule.search")}),s.jsx("input",{value:l,onChange:C=>d(C.target.value),className:ot.input,placeholder:n("home.schedule.searchPlaceholder")})]}),s.jsxs("label",{className:ot.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:u,onChange:C=>h(C.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:n("home.schedule.today")})]})]}),s.jsx("div",{className:ot.tableWrap,children:s.jsxs("table",{className:ot.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:n("home.schedule.columns.weekday")}),s.jsx("th",{children:n("home.schedule.columns.start")}),s.jsx("th",{children:n("home.schedule.columns.end")}),s.jsx("th",{children:n("home.schedule.columns.timezone")}),s.jsx("th",{children:n("home.schedule.columns.platform")}),s.jsx("th",{children:n("home.schedule.columns.channel")}),s.jsx("th",{children:n("home.schedule.columns.streamer")}),s.jsx("th",{children:n("home.schedule.columns.title")})]})}),s.jsx("tbody",{children:y?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:ot.empty,children:n("home.schedule.empty")})}):g.map((C,E)=>s.jsxs("tr",{children:[s.jsx("td",{children:C.weekday}),s.jsx("td",{children:C.start_utc}),s.jsx("td",{children:C.end_utc}),s.jsx("td",{children:C.timezone}),s.jsx("td",{children:C.platform}),s.jsx("td",{children:C.channel_url?s.jsx("a",{href:C.channel_url,target:"_blank",rel:"noreferrer",children:n("home.schedule.link")}):""}),s.jsx("td",{children:C.streamer}),s.jsx("td",{children:C.title})]},E))})]})})]})})},vie=()=>{const{t}=Gs(),[e,n]=R.useState(!1);return s.jsxs(As,{title:t("home.title"),subtitle:t("home.subtitle"),children:[s.jsxs("div",{className:ot.homeLayout,children:[s.jsxs("div",{className:ot.homeMain,children:[s.jsx("div",{className:ot.homeNews,children:s.jsx(mie,{})}),s.jsx("div",{className:ot.homeIcons,children:s.jsxs(Ore,{children:[s.jsx(Ub,{href:sie,title:t("home.guidehub.title"),subtitle:t("home.guidehub.subtitle"),previewImageSrc:WC,previewAlt:t("home.guidehub.previewAlt"),className:bi.guidehubScale,i18nScope:"home.guidehub",titleI18nKey:"home.guidehub.title",subtitleI18nKey:"home.guidehub.subtitle",previewAltI18nKey:"home.guidehub.previewAlt",linkAriaLabel:t("home.guidehub.open"),linkAriaI18nKey:"home.guidehub.open"}),s.jsx(Ub,{href:"https://sftools.mar21.eu/",title:t("home.sftools.title"),subtitle:t("home.sftools.subtitle"),previewImageSrc:nie,previewAlt:t("home.sftools.previewAlt"),previewHeightOverride:tT,i18nScope:"home.sftools",titleI18nKey:"home.sftools.title",subtitleI18nKey:"home.sftools.subtitle",previewAltI18nKey:"home.sftools.previewAlt"}),s.jsx(Ub,{href:iie,title:t("home.taverndiscord.title"),subtitle:t("home.taverndiscord.subtitle"),previewImageSrc:rie,previewAlt:t("home.taverndiscord.previewAlt"),previewHeightOverride:tT,i18nScope:"home.taverndiscord",titleI18nKey:"home.taverndiscord.title",subtitleI18nKey:"home.taverndiscord.subtitle",previewAltI18nKey:"home.taverndiscord.previewAlt"})]})}),s.jsx("div",{className:ot.homeYouTube,children:s.jsx(pie,{})})]}),s.jsx("div",{className:ot.homeLiveColumn,children:s.jsx(gie,{onOpenSchedule:()=>n(!0)})})]}),s.jsx(fie,{open:e,onClose:()=>n(!1)})]})},iT="sfh:authNext",aT=t=>{if(!t)return null;const e=t.trim();return!e.startsWith("/")||e.startsWith("//")||/^[a-z][a-z0-9+.-]*:/i.test(e)||e.toLowerCase().startsWith("/login")?null:e},xie=()=>{const t=pi(),e=ur(),{status:n,user:r}=Oa(),i=n==="authenticated"&&!!r,a=W.useMemo(()=>new URLSearchParams(e.search).get("next"),[e.search]),o=W.useMemo(()=>{if(typeof window=="undefined")return null;try{return window.sessionStorage.getItem(iT)}catch(d){return console.warn("[Login] Failed to read auth next from sessionStorage",d),null}},[]),l=W.useMemo(()=>{var d;return(d=aT(a))!=null?d:aT(o)},[a,o]);return W.useEffect(()=>{if(!i)return;const d=l;typeof window!="undefined"&&window.sessionStorage&&window.sessionStorage.removeItem(iT),d&&t(d,{replace:!0})},[i,t,l]),s.jsx(As,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:s.jsx(XR,{})})};function yie(){return s.jsx(As,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(wie,{}),right:s.jsx(bie,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Pb,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(Pb,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(Pb,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function wie(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Db,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(Db,{to:"/dashboard/activity",children:"Activity"}),s.jsx(Db,{to:"/dashboard/progression",children:"Progression"})]})]})}function bie(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Pb({to:t,title:e,desc:n}){return s.jsxs(Ys,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Db({to:t,children:e}){return s.jsx(Ys,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function _ie(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Mb,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(Mb,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(Mb,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Mb({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function jie(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function Cie(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Qb,{title:"Scrapbook 100%",progress:72}),s.jsx(Qb,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(Qb,{title:"Underworld Boss",progress:35})]})]})}function Qb({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function Sie(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(kd,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(kd,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(kd,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(kd,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(kd,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(kd,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),s.jsx(kd,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function kd({to:t,title:e,desc:n}){return s.jsxs(Ys,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function Bie({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Nl.border,backgroundColor:Nl.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function Nie(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const kie=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:a,showInfo:o=!1,infoText:l="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:d=0,tryTransparentBg:u=!0})=>{const[h,m]=R.useState(!1),g=R.useMemo(()=>Nie(t,u),[t,u]),y=i?"lazy":"eager",x={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},C={position:"relative",width:"100%",padding:d?`${d}px`:0,boxSizing:"border-box",background:"transparent"},E=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},T={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:a,style:x,children:s.jsx("div",{style:C,children:s.jsxs("div",{style:E,children:[s.jsx("iframe",{src:g,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:y,scrolling:"no",title:"Heyzine Flipbook"}),o&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>m(B=>!B),style:T,title:"Info",children:"i"}),h&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[l," ",s.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},Iie="#0C1C2E",Eie=()=>s.jsx(As,{children:s.jsx(Bie,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:Iie,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(kie,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),Tie="_pageWrap_72re9_7",Fie="_infoLine_72re9_17",Lie="_viewerHost_72re9_43",Rie="_overlay_72re9_99",Uie="_dragZoneLeft_72re9_101",Pie="_dragZoneRight_72re9_103",Die="_inbookLink_72re9_105",gc={pageWrap:Tie,infoLine:Fie,viewerHost:Lie,overlay:Rie,dragZoneLeft:Uie,dragZoneRight:Pie,inbookLink:Die};var Em={exports:{}},Mie=Em.exports,oT;function Qie(){return oT||(oT=1,(function(t,e){(function(n,r){r(e)})(Mie,(function(n){class r{constructor(v,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=v}setDensity(v){this.createdDensity=v,this.nowDrawingDensity=v}setDrawingDensity(v){this.nowDrawingDensity=v}setPosition(v){this.state.position=v}setAngle(v){this.state.angle=v}setArea(v){this.state.area=v}setHardDrawingAngle(v){this.state.hardDrawingAngle=v}setHardAngle(v){this.state.hardAngle=v,this.state.hardDrawingAngle=v}setOrientation(v){this.orientation=v}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(v,w,N){super(v,N),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(v){const w=this.render.getContext(),N=this.render.convertToGlobal(this.state.position),_=this.render.getRect().pageWidth,j=this.render.getRect().height;w.save(),w.translate(N.x,N.y),w.beginPath();for(let k of this.state.area)k!==null&&(k=this.render.convertToGlobal(k),w.lineTo(k.x-N.x,k.y-N.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,_,j):this.drawLoader(w,{x:0,y:0},_,j),w.restore()}simpleDraw(v){const w=this.render.getRect(),N=this.render.getContext(),_=w.pageWidth,j=w.height,k=v===1?w.left+w.pageWidth:w.left,U=w.top;this.isLoad?N.drawImage(this.image,k,U,_,j):this.drawLoader(N,{x:k,y:U},_,j)}drawLoader(v,w,N,_){v.beginPath(),v.strokeStyle="rgb(200, 200, 200)",v.fillStyle="rgb(255, 255, 255)",v.lineWidth=1,v.rect(w.x+1,w.y+1,N-1,_-1),v.stroke(),v.fill();const j={x:w.x+N/2,y:w.y+_/2};v.beginPath(),v.lineWidth=10,v.arc(j.x,j.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),v.stroke(),v.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class a{constructor(v,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=v,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let v=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([v]),v++);for(let w=v;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(v){const w=this.getSpread();for(let N=0;N<w.length;N++)if(v===w[N][0]||v===w[N][1])return N;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(v){if(v>=0&&v<this.pages.length)return this.pages[v];throw new Error("Invalid page number")}nextBy(v){const w=this.pages.indexOf(v);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(v){const w=this.pages.indexOf(v);return w>0?this.pages[w-1]:null}getFlippingPage(v){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const N=v===0?this.getSpread()[w+1]:this.getSpread()[w-1];return N.length===1||v===0?this.pages[N[0]]:this.pages[N[1]]}}getBottomPage(v){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[w+1]:this.pages[w-1];{const N=v===0?this.getSpread()[w+1]:this.getSpread()[w-1];return N.length===1?this.pages[N[0]]:v===0?this.pages[N[1]]:this.pages[N[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(v=null){if(v===null&&(v=this.currentPageIndex),v<0||v>=this.pages.length)return;const w=this.getSpreadIndexByPage(v);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(v){if(!(v>=0&&v<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=v}showSpread(){const v=this.getSpread()[this.currentSpreadIndex];v.length===2?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(this.pages[v[1]])):this.render.getOrientation()==="landscape"&&v[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[v[0]])),this.currentPageIndex=v[0],this.app.updatePageIndex(this.currentPageIndex)}}class o extends a{constructor(v,w,N){super(v,w),this.imagesHref=N}load(){for(const v of this.imagesHref){const w=new i(this.render,v,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class l{static GetDistanceBetweenTwoPoint(v,w){return v===null||w===null?1/0:Math.sqrt(Math.pow(w.x-v.x,2)+Math.pow(w.y-v.y,2))}static GetSegmentLength(v){return l.GetDistanceBetweenTwoPoint(v[0],v[1])}static GetAngleBetweenTwoLine(v,w){const N=v[0].y-v[1].y,_=w[0].y-w[1].y,j=v[1].x-v[0].x,k=w[1].x-w[0].x;return Math.acos((N*_+j*k)/(Math.sqrt(N*N+j*j)*Math.sqrt(_*_+k*k)))}static PointInRect(v,w){return w===null?null:w.x>=v.left&&w.x<=v.width+v.left&&w.y>=v.top&&w.y<=v.top+v.height?w:null}static GetRotatedPoint(v,w,N){return{x:v.x*Math.cos(N)+v.y*Math.sin(N)+w.x,y:v.y*Math.cos(N)-v.x*Math.sin(N)+w.y}}static LimitPointToCircle(v,w,N){if(l.GetDistanceBetweenTwoPoint(v,N)<=w)return N;const _=v.x,j=v.y,k=N.x,U=N.y;let I=Math.sqrt(Math.pow(w,2)*Math.pow(_-k,2)/(Math.pow(_-k,2)+Math.pow(j-U,2)))+_;N.x<0&&(I*=-1);let P=(I-_)*(j-U)/(_-k)+j;return _-k+j===0&&(P=w),{x:I,y:P}}static GetIntersectBetweenTwoSegment(v,w,N){return l.PointInRect(v,l.GetIntersectBeetwenTwoLine(w,N))}static GetIntersectBeetwenTwoLine(v,w){const N=v[0].y-v[1].y,_=w[0].y-w[1].y,j=v[1].x-v[0].x,k=w[1].x-w[0].x,U=v[0].x*v[1].y-v[1].x*v[0].y,I=w[0].x*w[1].y-w[1].x*w[0].y,P=N*I-_*U,L=j*I-k*U,H=-(U*k-I*j)/(N*k-_*j),O=-(N*I-_*U)/(N*k-_*j);if(isFinite(H)&&isFinite(O))return{x:H,y:O};if(Math.abs(P-L)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(v,w){const N=Math.abs(v.x-w.x),_=Math.abs(v.y-w.y),j=Math.max(N,_),k=[v];function U(I,P,L,H,O){return P>I?I+O*(L/H):P<I?I-O*(L/H):I}for(let I=1;I<=j;I+=1)k.push({x:U(v.x,w.x,N,j,I),y:U(v.y,w.y,_,j,I)});return k}}class d extends r{constructor(v,w,N){super(v,N),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+N)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new d(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(v){const w=v||this.nowDrawingDensity,N=this.render.convertToGlobal(this.state.position),_=this.render.getRect().pageWidth,j=this.render.getRect().height;this.element.classList.remove("--simple");const k=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${_}px;
            height: ${j}px;
        `;w==="hard"?this.drawHard(k):this.drawSoft(N,k)}drawHard(v=""){const w=this.render.getRect().left+this.render.getRect().width/2,N=this.state.hardDrawingAngle,_=v+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${N}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${N}deg);`);this.element.style.cssText=_}drawSoft(v,w=""){let N="polygon( ";for(const j of this.state.area)if(j!==null){let k=this.render.getDirection()===1?{x:-j.x+this.state.position.x,y:j.y-this.state.position.y}:{x:j.x-this.state.position.x,y:j.y-this.state.position.y};k=l.GetRotatedPoint(k,{x:0,y:0},this.state.angle),N+=k.x+"px "+k.y+"px, "}N=N.slice(0,-2),N+=")";const _=w+`transform-origin: 0 0; clip-path: ${N}; -webkit-clip-path: ${N};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${v.x}px, ${v.y}px);`:`transform: translate3d(${v.x}px, ${v.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=_}simpleDraw(v){const w=this.render.getRect(),N=w.pageWidth,_=w.height,j=v===1?w.left+w.pageWidth:w.left,k=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${_}px; 
            left: ${j}px; 
            top: ${k}px; 
            width: ${N}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(v){super.setOrientation(v),this.element.classList.remove("--left","--right"),this.element.classList.add(v===1?"--right":"--left")}setDrawingDensity(v){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+v),super.setDrawingDensity(v)}}class u extends a{constructor(v,w,N,_){super(v,w),this.element=N,this.pagesElement=_}load(){for(const v of this.pagesElement){const w=new d(this.render,v,v.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class h{constructor(v,w,N,_){this.direction=v,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(N,10),this.pageHeight=parseInt(_,10)}calc(v){try{return this.position=this.calcAngleAndPosition(v),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const v=[];let w=!1;return v.push(this.rect.topLeft),v.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(v.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),v.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&v.push(this.rect.bottomLeft),v}getBottomClipArea(){const v=[];return v.push(this.topIntersectPoint),this.corner==="top"?v.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&v.push({x:this.pageWidth,y:0}),v.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?l.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&v.push(this.sideIntersectPoint):this.corner==="top"&&v.push({x:this.pageWidth,y:this.pageHeight}),v.push(this.bottomIntersectPoint),v.push(this.topIntersectPoint),v}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const v=l.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?v:Math.PI-v}calcAngleAndPosition(v){let w=v;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(v){this.angle=this.calculateAngle(v),this.rect=this.getPageRect(v)}calculateAngle(v){const w=this.pageWidth-v.x+1,N=this.corner==="bottom"?this.pageHeight-v.y:v.y;let _=2*Math.acos(w/Math.sqrt(N*N+w*w));N<0&&(_=-_);const j=Math.PI-_;if(!isFinite(_)||j>=0&&j<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(_=-_),_}getPageRect(v){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],v):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],v)}getRectFromBasePoint(v,w){return{topLeft:this.getRotatedPoint(v[0],w),topRight:this.getRotatedPoint(v[1],w),bottomLeft:this.getRotatedPoint(v[2],w),bottomRight:this.getRotatedPoint(v[3],w)}}getRotatedPoint(v,w){return{x:v.x*Math.cos(this.angle)+v.y*Math.sin(this.angle)+w.x,y:v.y*Math.cos(this.angle)-v.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(v){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=l.GetIntersectBetweenTwoSegment(w,[v,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=l.GetIntersectBetweenTwoSegment(w,[v,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=l.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=l.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=l.GetIntersectBetweenTwoSegment(w,[v,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=l.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(v,w,N){let _=v;const j=l.LimitPointToCircle(w,this.pageWidth,_);_!==j&&(_=j,this.updateAngleAndGeometry(_));const k=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let U=this.rect.bottomRight,I=this.rect.topLeft;if(this.corner==="bottom"&&(U=this.rect.topRight,I=this.rect.bottomLeft),U.x<=0){const P=l.LimitPointToCircle(N,k,I);P!==_&&(_=P,this.updateAngleAndGeometry(_))}return _}getSegmentToShadowLine(){const v=this.getShadowStartPoint();return[v,v!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class m{constructor(v,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=v,this.app=w}fold(v){this.setState("user_fold"),this.calc===null&&this.start(v),this.do(this.render.convertToPage(v))}flip(v){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(v)||(this.calc!==null&&this.render.finishAnimation(),!this.start(v)))return;const w=this.getBoundsRect();this.setState("flipping");const N=w.height/10,_=this.calc.getCorner()==="bottom"?w.height-N:N,j=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-N,y:_}),this.animateFlippingTo({x:w.pageWidth-N,y:_},{x:-w.pageWidth,y:j},!0)}start(v){this.reset();const w=this.render.convertToBook(v),N=this.getBoundsRect(),_=this.getDirectionByPoint(w),j=w.y>=N.height/2?"bottom":"top";if(!this.checkDirection(_))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(_),this.bottomPage=this.app.getPageCollection().getBottomPage(_),this.render.getOrientation()==="landscape")if(_===1){const k=this.app.getPageCollection().nextBy(this.flippingPage);k!==null&&this.flippingPage.getDensity()!==k.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),k.setDrawingDensity("hard"))}else{const k=this.app.getPageCollection().prevBy(this.flippingPage);k!==null&&this.flippingPage.getDensity()!==k.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),k.setDrawingDensity("hard"))}return this.render.setDirection(_),this.calc=new h(_,j,N.pageWidth.toString(10),N.height.toString(10)),!0}catch(k){return!1}}do(v){if(this.calc!==null&&this.calc.calc(v)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(v,w){const N=this.app.getPageCollection().getCurrentSpreadIndex(),_=this.app.getPageCollection().getSpreadIndexByPage(v);try{_>N&&(this.app.getPageCollection().setCurrentSpreadIndex(_-1),this.flipNext(w)),_<N&&(this.app.getPageCollection().setCurrentSpreadIndex(_+1),this.flipPrev(w))}catch(j){}}flipNext(v){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:v==="top"?1:this.render.getRect().height-2})}flipPrev(v){this.flip({x:10,y:v==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const v=this.calc.getPosition(),w=this.getBoundsRect(),N=this.calc.getCorner()==="bottom"?w.height:0;v.x<=0?this.animateFlippingTo(v,{x:-w.pageWidth,y:N},!0):this.animateFlippingTo(v,{x:w.pageWidth,y:N},!1)}showCorner(v){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),N=w.pageWidth;if(this.isPointOnCorners(v))if(this.calc===null){if(!this.start(v))return;this.setState("fold_corner"),this.calc.calc({x:N-1,y:1});const _=50,j=this.calc.getCorner()==="bottom"?w.height-1:1,k=this.calc.getCorner()==="bottom"?w.height-_:_;this.animateFlippingTo({x:N-1,y:j},{x:N-_,y:k},!1,!1)}else this.do(this.render.convertToPage(v));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(v,w,N,_=!0){const j=l.GetCordsFromTwoPoint(v,w),k=[];for(const I of j)k.push(()=>this.do(I));const U=this.getAnimationDuration(j.length);this.render.startAnimation(k,U,()=>{this.calc&&(N&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),_&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(v){this.state!==v&&(this.app.updateState(v),this.state=v)}getDirectionByPoint(v){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(v.x-w.pageWidth<=w.width/5)return 1}else if(v.x<w.width/2)return 1;return 0}getAnimationDuration(v){const w=this.app.getSettings().flippingTime;return v>=1e3?w:v/1e3*w}checkDirection(v){return v===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...v){for(const w of v)if(this.state===w)return!0;return!1}isPointOnCorners(v){const w=this.getBoundsRect(),N=w.pageWidth,_=Math.sqrt(Math.pow(N,2)+Math.pow(w.height,2))/5,j=this.render.convertToBook(v);return j.x>0&&j.y>0&&j.x<w.width&&j.y<w.height&&(j.x<_||j.x>w.width-_)&&(j.y<_||j.y>w.height-_)}}class g{constructor(v,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=v;const N=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=N.exec(window.navigator.userAgent)!==null}render(v){if(this.animation!==null){const w=Math.round((v-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=v,this.drawFrame()}start(){this.update();const v=w=>{this.render(w),requestAnimationFrame(v)};requestAnimationFrame(v)}startAnimation(v,w,N){this.finishAnimation(),this.animation={frames:v,duration:w,durationFrame:w/v.length,onAnimateEnd:N,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const v=this.calculateBoundsRect();this.orientation!==v&&(this.orientation=v,this.app.updateOrientation(v))}calculateBoundsRect(){let v="landscape";const w=this.getBlockWidth(),N=w/2,_=this.getBlockHeight()/2,j=this.setting.width/this.setting.height;let k=this.setting.width,U=this.setting.height,I=N-k;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(v="portrait"),k=v==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,k>this.setting.maxWidth&&(k=this.setting.maxWidth),U=k/j,U>this.getBlockHeight()&&(U=this.getBlockHeight(),k=U*j),I=v==="portrait"?N-k/2-k:N-k):w<2*k&&this.app.getSettings().usePortrait&&(v="portrait",I=N-k/2-k),this.boundsRect={left:I,top:_-U/2,width:2*k,height:U,pageWidth:k},v}setShadowData(v,w,N,_){if(!this.app.getSettings().drawShadow)return;const j=100*this.getSettings().maxShadowOpacity;this.shadow={pos:v,angle:w,width:3*this.getRect().pageWidth/4*N/100,opacity:(100-N)*j/100/100,direction:_,progress:2*N}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(v){this.pageRect=v}setDirection(v){this.direction=v}setRightPage(v){v!==null&&v.setOrientation(1),this.rightPage=v}setLeftPage(v){v!==null&&v.setOrientation(0),this.leftPage=v}setBottomPage(v){v!==null&&v.setOrientation(this.direction===1?0:1),this.bottomPage=v}setFlippingPage(v){v!==null&&v.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=v}convertToBook(v){const w=this.getRect();return{x:v.x-w.left,y:v.y-w.top}}isSafari(){return this.safari}convertToPage(v,w){w||(w=this.direction);const N=this.getRect();return{x:w===0?v.x-N.left-N.width/2:N.width/2-v.x+N.left,y:v.y-N.top}}convertToGlobal(v,w){if(w||(w=this.direction),v==null)return null;const N=this.getRect();return{x:w===0?v.x+N.left+N.width/2:N.width/2-v.x+N.left,y:v.y+N.top}}convertRectToGlobal(v,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(v.topLeft,w),topRight:this.convertToGlobal(v.topRight,w),bottomLeft:this.convertToGlobal(v.bottomLeft,w),bottomRight:this.convertToGlobal(v.bottomRight,w)}}}class y extends g{constructor(v,w,N){super(v,w),this.canvas=N,this.ctx=N.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const v=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(v.left+v.pageWidth,v.top,v.width,v.height),this.ctx.clip())}drawBookShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=v.width/20;this.ctx.rect(v.left,v.top,v.width,v.height);const N={x:v.left+v.width/2-w/2,y:0};this.ctx.translate(N.x,N.y);const _=this.ctx.createLinearGradient(0,0,w,0);_.addColorStop(0,"rgba(0, 0, 0, 0)"),_.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),_.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),_.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),_.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),_.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,w,2*v.height),this.ctx.restore()}drawOuterShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(v.left,v.top,v.width,v.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const N=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),N.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,this.shadow.width,2*v.height),this.ctx.restore()}drawInnerShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),N=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(N.topLeft.x,N.topLeft.y),this.ctx.lineTo(N.topRight.x,N.topRight.y),this.ctx.lineTo(N.bottomRight.x,N.bottomRight.y),this.ctx.lineTo(N.bottomLeft.x,N.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const _=3*this.shadow.width/4,j=this.ctx.createLinearGradient(0,0,_,0);this.shadow.direction===0?(this.ctx.translate(-_,-100),j.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),j.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),j.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),j.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=j,this.ctx.fillRect(0,0,_,2*v.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class x{constructor(v,w,N){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=j=>{if(this.checkTarget(j.target)){const k=this.getMousePos(j.clientX,j.clientY);this.app.startUserTouch(k),j.preventDefault()}},this.onTouchStart=j=>{if(this.checkTarget(j.target)&&j.changedTouches.length>0){const k=j.changedTouches[0],U=this.getMousePos(k.clientX,k.clientY);this.touchPoint={point:U,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(U)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||j.preventDefault()}},this.onMouseUp=j=>{const k=this.getMousePos(j.clientX,j.clientY);this.app.userStop(k)},this.onMouseMove=j=>{const k=this.getMousePos(j.clientX,j.clientY);this.app.userMove(k,!1)},this.onTouchMove=j=>{if(j.changedTouches.length>0){const k=j.changedTouches[0],U=this.getMousePos(k.clientX,k.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-U.x)>10||this.app.getState()!=="read")&&j.cancelable&&this.app.userMove(U,!0),this.app.getState()!=="read"&&j.preventDefault()):this.app.userMove(U,!0)}},this.onTouchEnd=j=>{if(j.changedTouches.length>0){const k=j.changedTouches[0],U=this.getMousePos(k.clientX,k.clientY);let I=!1;if(this.touchPoint!==null){const P=U.x-this.touchPoint.point.x,L=Math.abs(U.y-this.touchPoint.point.y);Math.abs(P)>this.swipeDistance&&L<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(P>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),I=!0),this.touchPoint=null}this.app.userStop(U,I)}},this.parentElement=v,v.classList.add("stf__parent"),v.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=v.querySelector(".stf__wrapper"),this.app=w;const _=this.app.getSettings().usePortrait?1:2;v.style.minWidth=N.minWidth*_+"px",v.style.minHeight=N.minHeight+"px",N.size==="fixed"&&(v.style.minWidth=N.width*_+"px",v.style.minHeight=N.height+"px"),N.autoSize&&(v.style.width="100%",v.style.maxWidth=2*N.maxWidth+"px"),v.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=N.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(v){this.wrapper.classList.remove("--portrait","--landscape"),v==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(v,w){const N=this.distElement.getBoundingClientRect();return{x:v-N.left,y:w-N.top}}checkTarget(v){return!this.app.getSettings().clickEventForward||!["a","button"].includes(v.tagName.toLowerCase())}}class C extends x{constructor(v,w,N,_){super(v,w,N),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=v.querySelector(".stf__block"),this.items=_;for(const j of _)this.distElement.appendChild(j);this.setHandlers()}clear(){for(const v of this.items)this.parentElement.appendChild(v)}updateItems(v){this.removeHandlers(),this.distElement.innerHTML="";for(const w of v)this.distElement.appendChild(w);this.items=v,this.setHandlers()}update(){this.app.getRender().update()}}class E extends x{constructor(v,w,N){super(v,w,N),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=v.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const v=getComputedStyle(this.canvas),w=parseInt(v.getPropertyValue("width"),10),N=parseInt(v.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=N}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class T extends g{constructor(v,w,N){super(v,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=N,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const v=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let N=(100-w)*(2.5*v.pageWidth)/100+20;N>v.pageWidth&&(N=v.pageWidth);let _=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${N}px;
            height: ${v.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;_+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=_}drawHardOuterShadow(){const v=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*v.pageWidth)/100+20;w>v.pageWidth&&(w=v.pageWidth);let N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${v.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;N+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=N}drawInnerShadow(){const v=this.getRect(),w=3*this.shadow.width/4,N=this.getDirection()===0?w:0,_=this.getDirection()===0?"to left":"to right",j=this.convertToGlobal(this.shadow.pos),k=this.shadow.angle+3*Math.PI/2,U=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let I="polygon( ";for(const L of U){let H=this.getDirection()===1?{x:-L.x+this.shadow.pos.x,y:L.y-this.shadow.pos.y}:{x:L.x-this.shadow.pos.x,y:L.y-this.shadow.pos.y};H=l.GetRotatedPoint(H,{x:N,y:100},k),I+=H.x+"px "+H.y+"px, "}I=I.slice(0,-2),I+=")";const P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*v.height}px;
            background: linear-gradient(${_},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${N}px 100px;
            transform: translate3d(${j.x-N}px, ${j.y-100}px, 0) rotate(${k}rad);
            clip-path: ${I};
            -webkit-clip-path: ${I};
        `;this.innerShadow.style.cssText=P}drawOuterShadow(){const v=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),N=this.shadow.angle+3*Math.PI/2,_=this.getDirection()===1?this.shadow.width:0,j=this.getDirection()===0?"to right":"to left",k=[{x:0,y:0},{x:v.pageWidth,y:0},{x:v.pageWidth,y:v.height},{x:0,y:v.height}];let U="polygon( ";for(const P of k)if(P!==null){let L=this.getDirection()===1?{x:-P.x+this.shadow.pos.x,y:P.y-this.shadow.pos.y}:{x:P.x-this.shadow.pos.x,y:P.y-this.shadow.pos.y};L=l.GetRotatedPoint(L,{x:_,y:100},N),U+=L.x+"px "+L.y+"px, "}U=U.slice(0,-2),U+=")";const I=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*v.height}px;
            background: linear-gradient(${j}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${_}px 100px;
            transform: translate3d(${w.x-_}px, ${w.y-100}px, 0) rotate(${N}rad);
            clip-path: ${U};
            -webkit-clip-path: ${U};
        `;this.outerShadow.style.cssText=I}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const v=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(v))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const v of this.app.getPageCollection().getPages())v!==this.leftPage&&v!==this.rightPage&&v!==this.flippingPage&&v!==this.bottomPage&&(v.getElement().style.cssText="display: none"),v.getTemporaryCopy()!==this.flippingPage&&v.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class B{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(v){const w=this._default;if(Object.assign(w,v),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(S,v){v===void 0&&(v={});var w=v.insertAt;if(typeof document!="undefined"){var N=document.head||document.getElementsByTagName("head")[0],_=document.createElement("style");_.type="text/css",w==="top"&&N.firstChild?N.insertBefore(_,N.firstChild):N.appendChild(_),_.styleSheet?_.styleSheet.cssText=S:_.appendChild(document.createTextNode(S))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(S,v){return this.events.has(S)?this.events.get(S).push(v):this.events.set(S,[v]),this}off(S){this.events.delete(S)}trigger(S,v,w=null){if(this.events.has(S))for(const N of this.events.get(S))N({data:w,object:v})}}{constructor(S,v){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new B().getSettings(v),this.block=S}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(S){this.ui=new E(this.block,this,this.setting);const v=this.ui.getCanvas();this.render=new y(this,this.setting,v),this.flipController=new m(this.render,this),this.pages=new o(this,this.render,S),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(S){this.ui=new C(this.block,this,this.setting,S),this.render=new T(this,this.setting,this.ui.getDistElement()),this.flipController=new m(this.render,this),this.pages=new u(this,this.render,this.ui.getDistElement(),S),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(S){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new o(this,this.render,S),this.pages.load(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}updateFromHtml(S){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new u(this,this.render,this.ui.getDistElement(),S),this.pages.load(),this.ui.updateItems(S),this.render.reload(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(S){this.pages.show(S)}flipNext(S="top"){this.flipController.flipNext(S)}flipPrev(S="top"){this.flipController.flipPrev(S)}flip(S,v="top"){this.flipController.flipToPage(S,v)}updateState(S){this.trigger("changeState",this,S)}updatePageIndex(S){this.trigger("flip",this,S)}updateOrientation(S){this.ui.setOrientationStyle(S),this.update(),this.trigger("changeOrientation",this,S)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(S){return this.pages.getPage(S)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(S){this.mousePosition=S,this.isUserTouch=!0,this.isUserMove=!1}userMove(S,v){this.isUserTouch||v||!this.setting.showPageCorners?this.isUserTouch&&l.GetDistanceBetweenTwoPoint(this.mousePosition,S)>5&&(this.isUserMove=!0,this.flipController.fold(S)):this.flipController.showCorner(S)}userStop(S,v=!1){this.isUserTouch&&(this.isUserTouch=!1,v||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(S)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(Em,Em.exports)),Em.exports}var Hie=Qie();const Oie="_viewerRoot_hj39c_5",$ie="_stage_hj39c_17",Vie="_host_hj39c_43",Gie="_hud_hj39c_91",Kie="_hBtn_hj39c_125",zie="_hText_hj39c_153",Wie="_title_hj39c_167",qie="_sep_hj39c_169",Xie="_spacer_hj39c_171",Yie="_errorBox_hj39c_175",ia={viewerRoot:Oie,stage:$ie,host:Vie,hud:Gie,hBtn:Kie,hText:zie,title:Wie,sep:qie,spacer:Xie,errorBox:Yie},Jie="/".endsWith("/")?"/":"//",$P=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${Jie}${e}`.replace(/\/{2,}/g,"/")},Zie=async t=>{const e=$P(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},eae=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},tae=(t,e,n)=>Math.max(e,Math.min(n,t)),nr={hostEl:null,pf:null,slug:null},ao={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},sae=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function nae(t){for(const e of t)e&&(ao.cache.has(e)||ao.inFlight.has(e)||ao.queue.includes(e)||ao.queue.push(e));VP()}function VP(){sae(()=>{for(;ao.inFlight.size<ao.maxParallel&&ao.queue.length>0;){const t=ao.queue.shift();ao.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{ao.inFlight.delete(t),ao.cache.add(t),VP()},e.src=t}})}const rae=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const a=R.useRef(null),o=R.useRef(null),[l,d]=R.useState(null),[u,h]=R.useState(null),m=R.useRef(),g=R.useRef(),y=R.useRef(e);R.useEffect(()=>{m.current=n},[n]),R.useEffect(()=>{g.current=r},[r]),R.useEffect(()=>{y.current=e},[e]);const x=R.useMemo(()=>$P(`flipbooks/${t}`),[t]),C=R.useCallback(S=>{var v,w;if((v=S.srcset)!=null&&v.length){const N=[...S.srcset].sort((j,k)=>j.width-k.width),_=(w=N.find(j=>j.width>=1600))!=null?w:N[N.length-1];return/^https?:\/\//i.test(_.src)||_.src.startsWith("/")?_.src:`${x}/${_.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(S.src)||S.src.startsWith("/")?S.src:`${x}/${S.src}`.replace(/\/{2,}/g,"/")},[x]);R.useEffect(()=>{let S=!0;return h(null),Zie(t).then(v=>{S&&d(v)}).catch(v=>{S&&h(v.message||"Failed to load flipbook manifest.")}),()=>{S=!1}},[t]),R.useEffect(()=>{const S=o.current,v=a.current;if(!S||!v||!l||(nr.hostEl||(nr.hostEl=document.createElement("div"),nr.hostEl.className=ia.host),nr.hostEl.parentElement!==S&&S.appendChild(nr.hostEl),!nr.hostEl.isConnected))return;if(!(!nr.pf||nr.slug!==t)){try{nr.pf.update()}catch(L){}return}if(nr.pf){try{nr.pf.destroy()}catch(L){}nr.pf=null}const N={width:l.pageWidth,height:l.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},_=new Hie.PageFlip(nr.hostEl,N);nr.pf=_,nr.slug=t;const j=l.pages.map(C);_.loadFromImages(j);const k=L=>{const H=[],O=L+1,z=L+2;l.pages[O]&&H.push(C(l.pages[O])),l.pages[z]&&H.push(C(l.pages[z])),nae(H)},U=()=>{var H;const L=tae(y.current,1,l.pageCount)-1;_.turnToPage(L,"hard"),setTimeout(()=>k(L),220),(H=m.current)==null||H.call(m,_)};_.on("init",U),_.on("flip",L=>{var O;const H=L.data;(O=g.current)==null||O.call(g,H),setTimeout(()=>k(H),220)});const I=new ResizeObserver(()=>{var L;try{(L=nr.pf)==null||L.update()}catch(H){}});I.observe(v);const P=L=>{var H,O;L.key==="ArrowLeft"&&(L.preventDefault(),(H=nr.pf)==null||H.flipPrev()),L.key==="ArrowRight"&&(L.preventDefault(),(O=nr.pf)==null||O.flipNext())};return window.addEventListener("keydown",P,{passive:!1}),()=>{window.removeEventListener("keydown",P),I.disconnect()}},[l,C,t]);const E=()=>{var S;return(S=nr.pf)==null?void 0:S.flipPrev()},T=()=>{var S;return(S=nr.pf)==null?void 0:S.flipNext()},B=()=>{var w;const S=a.current;if(!S)return;const v=S;(w=v.requestFullscreen||v.webkitRequestFullscreen||v.msRequestFullscreen)==null||w.call(v)};return u?s.jsxs("div",{className:ia.errorBox,children:["Flipbook konnte nicht geladen werden: ",u]}):l?s.jsxs("div",{className:ia.viewerRoot,ref:a,"aria-label":l.title,children:[s.jsx("div",{className:ia.stage,ref:o}),s.jsxs("div",{className:ia.hud,children:[s.jsx("button",{className:ia.hBtn,onClick:E,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:ia.hText,children:[s.jsx("span",{className:ia.title,children:l.title}),s.jsx("span",{className:ia.sep,children:""}),s.jsxs("span",{children:[l.pageCount," Seiten"]})]}),s.jsx("div",{className:ia.spacer}),eae()&&s.jsx("button",{className:ia.hBtn,onClick:B,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:ia.hBtn,onClick:T,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:ia.errorBox,children:"Lade Flipbook"})},iae=W.memo(rae),aae={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},oae=()=>{const t="sf-history-book",[e,n]=R.useState(1),r=R.useRef(null),i=R.useMemo(()=>{var h;return(h=aae[e])!=null?h:[]},[e]),a=R.useCallback(h=>{r.current=h},[]),o=R.useCallback(h=>{n(h+1)},[]),l=R.useCallback(h=>{const m=r.current;if(m)try{m.turnToPage(Math.max(0,h-1))}catch(g){}},[]),d=R.useCallback(()=>{var h;return(h=r.current)==null?void 0:h.flipPrev()},[]),u=R.useCallback(()=>{var h;return(h=r.current)==null?void 0:h.flipNext()},[]);return s.jsx(As,{title:"SF History Book",children:s.jsxs("div",{className:gc.pageWrap,children:[s.jsx("div",{className:gc.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:gc.viewerHost,children:[s.jsx(iae,{slug:t,initialPage:1,onReady:a,onPageChange:o,noSound:!0}),s.jsxs("div",{className:gc.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:gc.dragZoneLeft,onClick:d}),s.jsx("div",{className:gc.dragZoneRight,onClick:u}),i.map((h,m)=>{const g={"--t":`${h.t}%`,"--l":`${h.l}%`,"--w":`${h.w}%`,"--h":`${h.h}%`};return h.kind==="goto"?s.jsx("button",{className:gc.inbookLink,style:g,"aria-label":h.label,onClick:()=>l(h.toPage)},m):s.jsx("a",{className:gc.inbookLink,style:g,"aria-label":h.label,href:h.href,target:"_blank",rel:"noopener noreferrer"},m)})]})]})]})})},lae="_root_zvspc_1",cae="_hero_zvspc_15",dae="_eyebrow_zvspc_47",uae="_heading_zvspc_63",Aae="_lead_zvspc_77",hae="_freshnessHint_zvspc_91",mae="_hintLabel_zvspc_105",pae="_hintText_zvspc_121",gae="_grid_zvspc_135",fae="_card_zvspc_147",vae="_cardTitle_zvspc_163",xae="_paragraph_zvspc_177",yae="_list_zvspc_191",wae="_listItem_zvspc_207",Gi={root:lae,hero:cae,eyebrow:dae,heading:uae,lead:Aae,freshnessHint:hae,hintLabel:mae,hintText:pae,grid:gae,card:fae,cardTitle:vae,paragraph:xae,list:yae,listItem:wae},bae=()=>{const{t}=Gs(),e=t("help.dataFreshness.body").split(`

`),r=[{key:"intro",title:t("help.sections.intro.title"),paragraphs:[t("help.sections.intro.body1"),t("help.sections.intro.body2")]},{key:"actions",title:t("help.sections.actions.title"),bullets:[t("help.sections.actions.items.toplists"),t("help.sections.actions.items.profiles"),t("help.sections.actions.items.guides"),t("help.sections.actions.items.tools")]},{key:"freshness",title:t("help.dataFreshness.title"),paragraphs:e},{key:"login",title:t("help.sections.login.title"),paragraphs:[t("help.sections.login.body1"),t("help.sections.login.body2"),t("help.sections.login.body3"),t("help.sections.login.body4")]},{key:"legal",title:t("help.sections.legal.title"),paragraphs:[t("help.sections.legal.body1"),t("help.sections.legal.body2"),t("help.sections.legal.body3")],bullets:[t("help.sections.legal.items.tos"),t("help.sections.legal.items.privacy"),t("help.sections.legal.items.imprint")]}].filter(i=>i.key!=="legal");return s.jsx(As,{title:t("help.title"),subtitle:t("help.subtitle"),centerFramed:!0,padded:!0,children:s.jsxs("div",{className:Gi.root,children:[s.jsxs("section",{className:Gi.hero,children:[s.jsxs("div",{children:[s.jsx("p",{className:Gi.eyebrow,children:t("help.hero.eyebrow")}),s.jsx("h1",{className:Gi.heading,children:t("help.hero.heading")}),s.jsx("p",{className:Gi.lead,children:t("help.hero.lead")})]}),s.jsxs("div",{className:Gi.freshnessHint,children:[s.jsx("div",{className:Gi.hintLabel,children:t("help.hero.freshnessLabel")}),s.jsx("p",{className:Gi.hintText,children:t("help.hero.freshnessBody")})]})]}),s.jsx("div",{className:Gi.grid,children:r.map(i=>{var o;const a=i.key==="login"?"linking":void 0;return s.jsxs("section",{id:a,className:Gi.card,children:[s.jsx("h2",{className:Gi.cardTitle,children:i.title}),(o=i.paragraphs)==null?void 0:o.map((l,d)=>s.jsx("p",{className:Gi.paragraph,children:l},`${i.key}-p-${d}`)),i.bullets&&s.jsx("ul",{className:Gi.list,children:i.bullets.map(l=>s.jsx("li",{className:Gi.listItem,children:l},`${i.key}-${l}`))})]},i.key)})})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lj=function(t,e){return lj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},lj(t,e)};function po(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lj(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var cj=function(){return cj=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cj.apply(this,arguments)};function Ci(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{u(r.next(h))}catch(m){o(m)}}function d(h){try{u(r.throw(h))}catch(m){o(m)}}function u(h){h.done?a(h.value):i(h.value).then(l,d)}u((r=r.apply(t,[])).next())})}function li(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return d([u,h])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Xf(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}var $l=(function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),p0=function(t,e){return $l.fromClientRect(t,e.getBoundingClientRect())},_ae=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new $l(0,0,r,i)},g0=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},qn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},lT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jae=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Yf=0;Yf<lT.length;Yf++)jae[lT.charCodeAt(Yf)]=Yf;var cT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tm=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Jf=0;Jf<cT.length;Jf++)Tm[cT.charCodeAt(Jf)]=Jf;var Cae=function(t){var e=t.length*.75,n=t.length,r,i=0,a,o,l,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),h=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=Tm[t.charCodeAt(r)],o=Tm[t.charCodeAt(r+1)],l=Tm[t.charCodeAt(r+2)],d=Tm[t.charCodeAt(r+3)],h[i++]=a<<2|o>>4,h[i++]=(o&15)<<4|l>>2,h[i++]=(l&3)<<6|d&63;return u},Sae=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Bae=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},nu=5,qC=11,Hb=2,Nae=qC-nu,GP=65536>>nu,kae=1<<nu,Ob=kae-1,Iae=1024>>nu,Eae=GP+Iae,Tae=Eae,Fae=32,Lae=Tae+Fae,Rae=65536>>qC,Uae=1<<Nae,Pae=Uae-1,dT=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Dae=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Mae=function(t,e){var n=Cae(t),r=Array.isArray(n)?Bae(n):new Uint32Array(n),i=Array.isArray(n)?Sae(n):new Uint16Array(n),a=24,o=dT(i,a/2,r[4]/2),l=r[5]===2?dT(i,(a+r[4])/2):Dae(r,Math.ceil((a+r[4])/4));return new Qae(r[0],r[1],r[2],r[3],o,l)},Qae=(function(){function t(e,n,r,i,a,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>nu],n=(n<<Hb)+(e&Ob),this.data[n];if(e<=65535)return n=this.index[GP+(e-55296>>nu)],n=(n<<Hb)+(e&Ob),this.data[n];if(e<this.highStart)return n=Lae-Rae+(e>>qC),n=this.index[n],n+=e>>nu&Pae,n=this.index[n],n=(n<<Hb)+(e&Ob),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),uT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hae=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Zf=0;Zf<uT.length;Zf++)Hae[uT.charCodeAt(Zf)]=Zf;var Oae="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",AT=50,$ae=1,KP=2,zP=3,Vae=4,Gae=5,hT=7,WP=8,mT=9,Pc=10,dj=11,pT=12,uj=13,Kae=14,Fm=15,Aj=16,ev=17,am=18,zae=19,gT=20,hj=21,om=22,$b=23,iA=24,da=25,Lm=26,Rm=27,aA=28,Wae=29,Od=30,qae=31,tv=32,sv=33,mj=34,pj=35,gj=36,Rp=37,fj=38,ix=39,ax=40,Vb=41,qP=42,Xae=43,Yae=[9001,65288],XP="!",Ss="",nv="",vj=Mae(Oae),al=[Od,gj],xj=[$ae,KP,zP,Gae],YP=[Pc,WP],fT=[Rm,Lm],Jae=xj.concat(YP),vT=[fj,ix,ax,mj,pj],Zae=[Fm,uj],eoe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(a,o){var l=vj.get(a);if(l>AT?(i.push(!0),l-=AT):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),n.push(Aj);if(l===Vae||l===dj){if(o===0)return r.push(o),n.push(Od);var d=n[o-1];return Jae.indexOf(d)===-1?(r.push(r[o-1]),n.push(d)):(r.push(o),n.push(Od))}if(r.push(o),l===qae)return n.push(e==="strict"?hj:Rp);if(l===qP||l===Wae)return n.push(Od);if(l===Xae)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Rp):n.push(Od);n.push(l)}),[r,n,i]},Gb=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===e)return!0;if(o!==Pc)break}if(i===Pc)for(var a=n;a>0;){a--;var l=r[a];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var d=n;d<=r.length;){d++;var o=r[d];if(o===e)return!0;if(o!==Pc)break}if(l!==Pc)break}return!1},xT=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Pc)n--;else return r}return 0},toe=function(t,e,n,r,i){if(n[r]===0)return Ss;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return Ss;var o=a-1,l=a+1,d=e[a],u=o>=0?e[o]:0,h=e[l];if(d===KP&&h===zP)return Ss;if(xj.indexOf(d)!==-1)return XP;if(xj.indexOf(h)!==-1||YP.indexOf(h)!==-1)return Ss;if(xT(a,e)===WP)return nv;if(vj.get(t[a])===dj||(d===tv||d===sv)&&vj.get(t[l])===dj||d===hT||h===hT||d===mT||[Pc,uj,Fm].indexOf(d)===-1&&h===mT||[ev,am,zae,iA,aA].indexOf(h)!==-1||xT(a,e)===om||Gb($b,om,a,e)||Gb([ev,am],hj,a,e)||Gb(pT,pT,a,e))return Ss;if(d===Pc)return nv;if(d===$b||h===$b)return Ss;if(h===Aj||d===Aj)return nv;if([uj,Fm,hj].indexOf(h)!==-1||d===Kae||u===gj&&Zae.indexOf(d)!==-1||d===aA&&h===gj||h===gT||al.indexOf(h)!==-1&&d===da||al.indexOf(d)!==-1&&h===da||d===Rm&&[Rp,tv,sv].indexOf(h)!==-1||[Rp,tv,sv].indexOf(d)!==-1&&h===Lm||al.indexOf(d)!==-1&&fT.indexOf(h)!==-1||fT.indexOf(d)!==-1&&al.indexOf(h)!==-1||[Rm,Lm].indexOf(d)!==-1&&(h===da||[om,Fm].indexOf(h)!==-1&&e[l+1]===da)||[om,Fm].indexOf(d)!==-1&&h===da||d===da&&[da,aA,iA].indexOf(h)!==-1)return Ss;if([da,aA,iA,ev,am].indexOf(h)!==-1)for(var m=a;m>=0;){var g=e[m];if(g===da)return Ss;if([aA,iA].indexOf(g)!==-1)m--;else break}if([Rm,Lm].indexOf(h)!==-1)for(var m=[ev,am].indexOf(d)!==-1?o:a;m>=0;){var g=e[m];if(g===da)return Ss;if([aA,iA].indexOf(g)!==-1)m--;else break}if(fj===d&&[fj,ix,mj,pj].indexOf(h)!==-1||[ix,mj].indexOf(d)!==-1&&[ix,ax].indexOf(h)!==-1||[ax,pj].indexOf(d)!==-1&&h===ax||vT.indexOf(d)!==-1&&[gT,Lm].indexOf(h)!==-1||vT.indexOf(h)!==-1&&d===Rm||al.indexOf(d)!==-1&&al.indexOf(h)!==-1||d===iA&&al.indexOf(h)!==-1||al.concat(da).indexOf(d)!==-1&&h===om&&Yae.indexOf(t[l])===-1||al.concat(da).indexOf(h)!==-1&&d===am)return Ss;if(d===Vb&&h===Vb){for(var y=n[a],x=1;y>0&&(y--,e[y]===Vb);)x++;if(x%2!==0)return Ss}return d===tv&&h===sv?Ss:nv},soe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=eoe(t,e.lineBreak),r=n[0],i=n[1],a=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(l){return[da,Od,qP].indexOf(l)!==-1?Rp:l}));var o=e.wordBreak==="keep-all"?a.map(function(l,d){return l&&t[d]>=19968&&t[d]<=40959}):void 0;return[r,i,o]},noe=(function(){function t(e,n,r,i){this.codePoints=e,this.required=n===XP,this.start=r,this.end=i}return t.prototype.slice=function(){return qn.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),roe=function(t,e){var n=g0(t),r=soe(n,e),i=r[0],a=r[1],o=r[2],l=n.length,d=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var h=Ss;u<l&&(h=toe(n,a,i,++u,o))===Ss;);if(h!==Ss||u===l){var m=new noe(n,h,d,u);return d=u,{value:m,done:!1}}return{done:!0,value:null}}}},ioe=1,aoe=2,pg=4,yT=8,ty=10,wT=47,Zm=92,ooe=9,loe=32,rv=34,lm=61,coe=35,doe=36,uoe=37,iv=39,av=40,cm=41,Aoe=95,qi=45,hoe=33,moe=60,poe=62,goe=64,foe=91,voe=93,xoe=61,yoe=123,ov=63,woe=125,bT=124,boe=126,_oe=128,_T=65533,Kb=42,Wd=43,joe=44,Coe=58,Soe=59,Up=46,Boe=0,Noe=8,koe=11,Ioe=14,Eoe=31,Toe=127,Co=-1,JP=48,ZP=97,eD=101,Foe=102,Loe=117,Roe=122,tD=65,sD=69,nD=70,Uoe=85,Poe=90,Ai=function(t){return t>=JP&&t<=57},Doe=function(t){return t>=55296&&t<=57343},oA=function(t){return Ai(t)||t>=tD&&t<=nD||t>=ZP&&t<=Foe},Moe=function(t){return t>=ZP&&t<=Roe},Qoe=function(t){return t>=tD&&t<=Poe},Hoe=function(t){return Moe(t)||Qoe(t)},Ooe=function(t){return t>=_oe},lv=function(t){return t===ty||t===ooe||t===loe},sy=function(t){return Hoe(t)||Ooe(t)||t===Aoe},jT=function(t){return sy(t)||Ai(t)||t===qi},$oe=function(t){return t>=Boe&&t<=Noe||t===koe||t>=Ioe&&t<=Eoe||t===Toe},Bc=function(t,e){return t!==Zm?!1:e!==ty},cv=function(t,e,n){return t===qi?sy(e)||Bc(e,n):sy(t)?!0:!!(t===Zm&&Bc(t,e))},zb=function(t,e,n){return t===Wd||t===qi?Ai(e)?!0:e===Up&&Ai(n):Ai(t===Up?e:t)},Voe=function(t){var e=0,n=1;(t[e]===Wd||t[e]===qi)&&(t[e]===qi&&(n=-1),e++);for(var r=[];Ai(t[e]);)r.push(t[e++]);var i=r.length?parseInt(qn.apply(void 0,r),10):0;t[e]===Up&&e++;for(var a=[];Ai(t[e]);)a.push(t[e++]);var o=a.length,l=o?parseInt(qn.apply(void 0,a),10):0;(t[e]===sD||t[e]===eD)&&e++;var d=1;(t[e]===Wd||t[e]===qi)&&(t[e]===qi&&(d=-1),e++);for(var u=[];Ai(t[e]);)u.push(t[e++]);var h=u.length?parseInt(qn.apply(void 0,u),10):0;return n*(i+l*Math.pow(10,-o))*Math.pow(10,d*h)},Goe={type:2},Koe={type:3},zoe={type:4},Woe={type:13},qoe={type:8},Xoe={type:21},Yoe={type:9},Joe={type:10},Zoe={type:11},ele={type:12},tle={type:14},dv={type:23},sle={type:1},nle={type:25},rle={type:24},ile={type:26},ale={type:27},ole={type:28},lle={type:29},cle={type:31},yj={type:32},rD=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(g0(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==yj;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case rv:return this.consumeStringToken(rv);case coe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(jT(n)||Bc(r,i)){var a=cv(n,r,i)?aoe:ioe,o=this.consumeName();return{type:5,value:o,flags:a}}break;case doe:if(this.peekCodePoint(0)===lm)return this.consumeCodePoint(),Woe;break;case iv:return this.consumeStringToken(iv);case av:return Goe;case cm:return Koe;case Kb:if(this.peekCodePoint(0)===lm)return this.consumeCodePoint(),tle;break;case Wd:if(zb(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case joe:return zoe;case qi:var l=e,d=this.peekCodePoint(0),u=this.peekCodePoint(1);if(zb(l,d,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(cv(l,d,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(d===qi&&u===poe)return this.consumeCodePoint(),this.consumeCodePoint(),rle;break;case Up:if(zb(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case wT:if(this.peekCodePoint(0)===Kb)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===Kb&&(h=this.consumeCodePoint(),h===wT))return this.consumeToken();if(h===Co)return this.consumeToken()}break;case Coe:return ile;case Soe:return ale;case moe:if(this.peekCodePoint(0)===hoe&&this.peekCodePoint(1)===qi&&this.peekCodePoint(2)===qi)return this.consumeCodePoint(),this.consumeCodePoint(),nle;break;case goe:var m=this.peekCodePoint(0),g=this.peekCodePoint(1),y=this.peekCodePoint(2);if(cv(m,g,y)){var o=this.consumeName();return{type:7,value:o}}break;case foe:return ole;case Zm:if(Bc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case voe:return lle;case xoe:if(this.peekCodePoint(0)===lm)return this.consumeCodePoint(),qoe;break;case yoe:return Zoe;case woe:return ele;case Loe:case Uoe:var x=this.peekCodePoint(0),C=this.peekCodePoint(1);return x===Wd&&(oA(C)||C===ov)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case bT:if(this.peekCodePoint(0)===lm)return this.consumeCodePoint(),Yoe;if(this.peekCodePoint(0)===bT)return this.consumeCodePoint(),Xoe;break;case boe:if(this.peekCodePoint(0)===lm)return this.consumeCodePoint(),Joe;break;case Co:return yj}return lv(e)?(this.consumeWhiteSpace(),cle):Ai(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):sy(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:qn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e=="undefined"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();oA(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===ov&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(qn.apply(void 0,e.map(function(d){return d===ov?JP:d})),16),a=parseInt(qn.apply(void 0,e.map(function(d){return d===ov?nD:d})),16);return{type:30,start:i,end:a}}var o=parseInt(qn.apply(void 0,e),16);if(this.peekCodePoint(0)===qi&&oA(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];oA(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var a=parseInt(qn.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===av?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===av?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Co)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===iv||n===rv){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Co||this.peekCodePoint(0)===cm)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),dv)}for(;;){var i=this.consumeCodePoint();if(i===Co||i===cm)return{type:22,value:qn.apply(void 0,e)};if(lv(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Co||this.peekCodePoint(0)===cm?(this.consumeCodePoint(),{type:22,value:qn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),dv);if(i===rv||i===iv||i===av||$oe(i))return this.consumeBadUrlRemnants(),dv;if(i===Zm)if(Bc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dv;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;lv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===cm||e===Co)return;Bc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=qn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===Co||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===ty)return this._value.splice(0,r),sle;if(i===Zm){var a=this._value[r+1];a!==Co&&a!==void 0&&(a===ty?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Bc(i,a)&&(n+=this.consumeStringSlice(r),n+=qn(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=pg,r=this.peekCodePoint(0);for((r===Wd||r===qi)&&e.push(this.consumeCodePoint());Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Up&&Ai(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=yT;Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===sD||r===eD)&&((i===Wd||i===qi)&&Ai(a)||Ai(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=yT;Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Voe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(cv(i,a,o)){var l=this.consumeName();return{type:15,number:n,flags:r,unit:l}}return i===uoe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(oA(e)){for(var n=qn(e);oA(this.peekCodePoint(0))&&n.length<6;)n+=qn(this.consumeCodePoint());lv(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Doe(r)||r>1114111?_T:r}return e===Co?_T:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(jT(n))e+=qn(n);else if(Bc(n,this.peekCodePoint(0)))e+=qn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t})(),iD=(function(){function t(e){this._tokens=e}return t.create=function(e){var n=new rD;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||ule(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e=="undefined"?yj:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),gg=function(t){return t.type===15},yh=function(t){return t.type===17},nn=function(t){return t.type===20},dle=function(t){return t.type===0},wj=function(t,e){return nn(t)&&t.value===e},aD=function(t){return t.type!==31},nh=function(t){return t.type!==31&&t.type!==4},Vo=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},ule=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},sd=function(t){return t.type===17||t.type===15},lr=function(t){return t.type===16||sd(t)},oD=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Yr={type:17,number:0,flags:pg},XC={type:16,number:50,flags:pg},Dc={type:16,number:100,flags:pg},Um=function(t,e,n){var r=t[0],i=t[1];return[cn(r,e),cn(typeof i!="undefined"?i:r,n)]},cn=function(t,e){if(t.type===16)return t.number/100*e;if(gg(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},lD="deg",cD="grad",dD="rad",uD="turn",f0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case lD:return Math.PI*e.number/180;case cD:return Math.PI/200*e.number;case dD:return e.number;case uD:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},AD=function(t){return t.type===15&&(t.unit===lD||t.unit===cD||t.unit===dD||t.unit===uD)},hD=function(t){var e=t.filter(nn).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yr,Yr];case"to top":case"bottom":return Pa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yr,Dc];case"to right":case"left":return Pa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Dc,Dc];case"to bottom":case"top":return Pa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Dc,Yr];case"to left":case"right":return Pa(270)}return 0},Pa=function(t){return Math.PI*t/180},Xc={name:"color",parse:function(t,e){if(e.type===18){var n=Ale[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return Mc(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return Mc(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return Mc(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return Mc(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var l=Tl[e.value.toUpperCase()];if(typeof l!="undefined")return l}return Tl.TRANSPARENT}},Yc=function(t){return(255&t)===0},Br=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Mc=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},CT=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},ST=function(t,e){var n=e.filter(nh);if(n.length===3){var r=n.map(CT),i=r[0],a=r[1],o=r[2];return Mc(i,a,o,1)}if(n.length===4){var l=n.map(CT),i=l[0],a=l[1],o=l[2],d=l[3];return Mc(i,a,o,d)}return 0};function Wb(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var BT=function(t,e){var n=e.filter(nh),r=n[0],i=n[1],a=n[2],o=n[3],l=(r.type===17?Pa(r.number):f0.parse(t,r))/(Math.PI*2),d=lr(i)?i.number/100:0,u=lr(a)?a.number/100:0,h=typeof o!="undefined"&&lr(o)?cn(o,1):1;if(d===0)return Mc(u*255,u*255,u*255,1);var m=u<=.5?u*(d+1):u+d-u*d,g=u*2-m,y=Wb(g,m,l+1/3),x=Wb(g,m,l),C=Wb(g,m,l-1/3);return Mc(y*255,x*255,C*255,h)},Ale={hsl:BT,hsla:BT,rgb:ST,rgba:ST},ep=function(t,e){return Xc.parse(t,iD.create(e).parseComponentValue())},Tl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hle={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(nn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mle={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},v0=function(t,e){var n=Xc.parse(t,e[0]),r=e[1];return r&&lr(r)?{color:n,stop:r}:{color:n,stop:null}},NT=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Yr),r.stop===null&&(r.stop=Dc);for(var i=[],a=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var d=cn(l,e);d>a?i.push(d):i.push(a),a=d}else i.push(null)}for(var u=null,o=0;o<i.length;o++){var h=i[o];if(h===null)u===null&&(u=o);else if(u!==null){for(var m=o-u,g=i[u-1],y=(h-g)/(m+1),x=1;x<=m;x++)i[u+x-1]=y*x;u=null}}return t.map(function(C,E){var T=C.color;return{color:T,stop:Math.max(Math.min(1,i[E]/e),0)}})},ple=function(t,e,n){var r=e/2,i=n/2,a=cn(t[0],e)-r,o=i-cn(t[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},gle=function(t,e,n){var r=typeof t=="number"?t:ple(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,o=n/2,l=i/2,d=Math.sin(r-Math.PI/2)*l,u=Math.cos(r-Math.PI/2)*l;return[i,a-u,a+u,o-d,o+d]},so=function(t,e){return Math.sqrt(t*t+e*e)},kT=function(t,e,n,r,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(o,l){var d=l[0],u=l[1],h=so(n-d,r-u);return(i?h<o.optimumDistance:h>o.optimumDistance)?{optimumCorner:l,optimumDistance:h}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},fle=function(t,e,n,r,i){var a=0,o=0;switch(t.size){case 0:t.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)a=o=Math.min(so(e,n),so(e,n-i),so(e-r,n),so(e-r,n-i));else if(t.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),d=kT(r,i,e,n,!0),u=d[0],h=d[1];a=so(u-e,(h-n)/l),o=l*a}break;case 1:t.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)a=o=Math.max(so(e,n),so(e,n-i),so(e-r,n),so(e-r,n-i));else if(t.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),m=kT(r,i,e,n,!1),u=m[0],h=m[1];a=so(u-e,(h-n)/l),o=l*a}break}return Array.isArray(t.size)&&(a=cn(t.size[0],r),o=t.size.length===2?cn(t.size[1],i):a),[a,o]},vle=function(t,e){var n=Pa(180),r=[];return Vo(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){n=hD(i);return}else if(AD(o)){n=f0.parse(t,o);return}}var l=v0(t,i);r.push(l)}),{angle:n,stops:r,type:1}},uv=function(t,e){var n=Pa(180),r=[];return Vo(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=hD(i);return}else if(AD(o)){n=(f0.parse(t,o)+Pa(270))%Pa(360);return}}var l=v0(t,i);r.push(l)}),{angle:n,stops:r,type:1}},xle=function(t,e){var n=Pa(180),r=[],i=1,a=0,o=3,l=[];return Vo(e).forEach(function(d,u){var h=d[0];if(u===0){if(nn(h)&&h.value==="linear"){i=1;return}else if(nn(h)&&h.value==="radial"){i=2;return}}if(h.type===18){if(h.name==="from"){var m=Xc.parse(t,h.values[0]);r.push({stop:Yr,color:m})}else if(h.name==="to"){var m=Xc.parse(t,h.values[0]);r.push({stop:Dc,color:m})}else if(h.name==="color-stop"){var g=h.values.filter(nh);if(g.length===2){var m=Xc.parse(t,g[1]),y=g[0];yh(y)&&r.push({stop:{type:16,number:y.number*100,flags:y.flags},color:m})}}}}),i===1?{angle:(n+Pa(180))%Pa(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:l,type:i}},mD="closest-side",pD="farthest-side",gD="closest-corner",fD="farthest-corner",vD="circle",xD="ellipse",yD="cover",wD="contain",yle=function(t,e){var n=0,r=3,i=[],a=[];return Vo(e).forEach(function(o,l){var d=!0;if(l===0){var u=!1;d=o.reduce(function(m,g){if(u)if(nn(g))switch(g.value){case"center":return a.push(XC),m;case"top":case"left":return a.push(Yr),m;case"right":case"bottom":return a.push(Dc),m}else(lr(g)||sd(g))&&a.push(g);else if(nn(g))switch(g.value){case vD:return n=0,!1;case xD:return n=1,!1;case"at":return u=!0,!1;case mD:return r=0,!1;case yD:case pD:return r=1,!1;case wD:case gD:return r=2,!1;case fD:return r=3,!1}else if(sd(g)||lr(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return m},d)}if(d){var h=v0(t,o);i.push(h)}}),{size:r,shape:n,stops:i,position:a,type:2}},Av=function(t,e){var n=0,r=3,i=[],a=[];return Vo(e).forEach(function(o,l){var d=!0;if(l===0?d=o.reduce(function(h,m){if(nn(m))switch(m.value){case"center":return a.push(XC),!1;case"top":case"left":return a.push(Yr),!1;case"right":case"bottom":return a.push(Dc),!1}else if(lr(m)||sd(m))return a.push(m),!1;return h},d):l===1&&(d=o.reduce(function(h,m){if(nn(m))switch(m.value){case vD:return n=0,!1;case xD:return n=1,!1;case wD:case mD:return r=0,!1;case pD:return r=1,!1;case gD:return r=2,!1;case yD:case fD:return r=3,!1}else if(sd(m)||lr(m))return Array.isArray(r)||(r=[]),r.push(m),!1;return h},d)),d){var u=v0(t,o);i.push(u)}}),{size:r,shape:n,stops:i,position:a,type:2}},wle=function(t){return t.type===1},ble=function(t){return t.type===2},YC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=bD[e.name];if(typeof r=="undefined")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function _le(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!bD[t.name])}var bD={"linear-gradient":vle,"-moz-linear-gradient":uv,"-ms-linear-gradient":uv,"-o-linear-gradient":uv,"-webkit-linear-gradient":uv,"radial-gradient":yle,"-moz-radial-gradient":Av,"-ms-radial-gradient":Av,"-o-radial-gradient":Av,"-webkit-radial-gradient":Av,"-webkit-gradient":xle},jle={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return nh(r)&&_le(r)}).map(function(r){return YC.parse(t,r)})}},Cle={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(nn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Sle={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Vo(e).map(function(n){return n.filter(lr)}).map(oD)}},Ble={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Vo(e).map(function(n){return n.filter(nn).map(function(r){return r.value}).join(" ")}).map(Nle)}},Nle=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},OA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(OA||(OA={}));var kle={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Vo(e).map(function(n){return n.filter(Ile)})}},Ile=function(t){return nn(t)||lr(t)},x0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ele=x0("top"),Tle=x0("right"),Fle=x0("bottom"),Lle=x0("left"),y0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return oD(n.filter(lr))}}},Rle=y0("top-left"),Ule=y0("top-right"),Ple=y0("bottom-right"),Dle=y0("bottom-left"),w0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Mle=w0("top"),Qle=w0("right"),Hle=w0("bottom"),Ole=w0("left"),b0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return gg(n)?n.number:0}}},$le=b0("top"),Vle=b0("right"),Gle=b0("bottom"),Kle=b0("left"),zle={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wle={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},qle={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(nn).reduce(function(n,r){return n|Xle(r.value)},0)}},Xle=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yle={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Jle={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},ny;(function(t){t.NORMAL="normal",t.STRICT="strict"})(ny||(ny={}));var Zle={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return ny.STRICT;case"normal":default:return ny.NORMAL}}},ece={name:"line-height",initialValue:"normal",prefix:!1,type:4},IT=function(t,e){return nn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:lr(t)?cn(t,e):e},tce={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:YC.parse(t,e)}},sce={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},bj={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},_0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},nce=_0("top"),rce=_0("right"),ice=_0("bottom"),ace=_0("left"),oce={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(nn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},lce={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},j0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},cce=j0("top"),dce=j0("right"),uce=j0("bottom"),Ace=j0("left"),hce={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},mce={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},pce={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&wj(e[0],"none")?[]:Vo(e).map(function(n){for(var r={color:Tl.TRANSPARENT,offsetX:Yr,offsetY:Yr,blur:Yr},i=0,a=0;a<n.length;a++){var o=n[a];sd(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Xc.parse(t,o)}return r})}},gce={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fce={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=yce[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},vce=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},xce=function(t){var e=t.filter(function(d){return d.type===17}).map(function(d){return d.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[n,r,i,a,o,l]:null},yce={matrix:vce,matrix3d:xce},ET={type:16,number:50,flags:pg},wce=[ET,ET],bce={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(lr);return n.length!==2?wce:[n[0],n[1]]}},_ce={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},tp;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(tp||(tp={}));var jce={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return tp.BREAK_ALL;case"keep-all":return tp.KEEP_ALL;case"normal":default:return tp.NORMAL}}},Cce={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(yh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},_D={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Sce={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return yh(e)?e.number:1}},Bce={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Nce={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(nn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},kce={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Ice={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ece={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(yh(e))return e.number;if(nn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Tce={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(nn).map(function(n){return n.value})}},Fce={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},xr=function(t,e){return(t&e)!==0},Lce={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Rce={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(aD),a=0;a<i.length;a++){var o=i[a],l=i[a+1];if(o.type===20){var d=l&&yh(l)?l.number:1;r.push({counter:o.value,increment:d})}}return r}},Uce={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(aD),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(nn(a)&&a.value!=="none"){var l=o&&yh(o)?o.number:0;n.push({counter:a.value,reset:l})}}return n}},Pce={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(gg).map(function(n){return _D.parse(t,n)})}},Dce={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(dle);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,l=i[a+1].value;r.push({open:o,close:l})}return r}},TT=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Mce={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&wj(e[0],"none")?[]:Vo(e).map(function(n){for(var r={color:255,offsetX:Yr,offsetY:Yr,blur:Yr,spread:Yr,inset:!1},i=0,a=0;a<n.length;a++){var o=n[a];wj(o,"inset")?r.inset=!0:sd(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Xc.parse(t,o)}return r})}},Qce={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(nn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Hce={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Oce={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return gg(e)?e.number:0}},$ce=(function(){function t(e,n){var r,i;this.animationDuration=yt(e,Pce,n.animationDuration),this.backgroundClip=yt(e,hle,n.backgroundClip),this.backgroundColor=yt(e,mle,n.backgroundColor),this.backgroundImage=yt(e,jle,n.backgroundImage),this.backgroundOrigin=yt(e,Cle,n.backgroundOrigin),this.backgroundPosition=yt(e,Sle,n.backgroundPosition),this.backgroundRepeat=yt(e,Ble,n.backgroundRepeat),this.backgroundSize=yt(e,kle,n.backgroundSize),this.borderTopColor=yt(e,Ele,n.borderTopColor),this.borderRightColor=yt(e,Tle,n.borderRightColor),this.borderBottomColor=yt(e,Fle,n.borderBottomColor),this.borderLeftColor=yt(e,Lle,n.borderLeftColor),this.borderTopLeftRadius=yt(e,Rle,n.borderTopLeftRadius),this.borderTopRightRadius=yt(e,Ule,n.borderTopRightRadius),this.borderBottomRightRadius=yt(e,Ple,n.borderBottomRightRadius),this.borderBottomLeftRadius=yt(e,Dle,n.borderBottomLeftRadius),this.borderTopStyle=yt(e,Mle,n.borderTopStyle),this.borderRightStyle=yt(e,Qle,n.borderRightStyle),this.borderBottomStyle=yt(e,Hle,n.borderBottomStyle),this.borderLeftStyle=yt(e,Ole,n.borderLeftStyle),this.borderTopWidth=yt(e,$le,n.borderTopWidth),this.borderRightWidth=yt(e,Vle,n.borderRightWidth),this.borderBottomWidth=yt(e,Gle,n.borderBottomWidth),this.borderLeftWidth=yt(e,Kle,n.borderLeftWidth),this.boxShadow=yt(e,Mce,n.boxShadow),this.color=yt(e,zle,n.color),this.direction=yt(e,Wle,n.direction),this.display=yt(e,qle,n.display),this.float=yt(e,Yle,n.cssFloat),this.fontFamily=yt(e,kce,n.fontFamily),this.fontSize=yt(e,Ice,n.fontSize),this.fontStyle=yt(e,Fce,n.fontStyle),this.fontVariant=yt(e,Tce,n.fontVariant),this.fontWeight=yt(e,Ece,n.fontWeight),this.letterSpacing=yt(e,Jle,n.letterSpacing),this.lineBreak=yt(e,Zle,n.lineBreak),this.lineHeight=yt(e,ece,n.lineHeight),this.listStyleImage=yt(e,tce,n.listStyleImage),this.listStylePosition=yt(e,sce,n.listStylePosition),this.listStyleType=yt(e,bj,n.listStyleType),this.marginTop=yt(e,nce,n.marginTop),this.marginRight=yt(e,rce,n.marginRight),this.marginBottom=yt(e,ice,n.marginBottom),this.marginLeft=yt(e,ace,n.marginLeft),this.opacity=yt(e,Sce,n.opacity);var a=yt(e,oce,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=yt(e,lce,n.overflowWrap),this.paddingTop=yt(e,cce,n.paddingTop),this.paddingRight=yt(e,dce,n.paddingRight),this.paddingBottom=yt(e,uce,n.paddingBottom),this.paddingLeft=yt(e,Ace,n.paddingLeft),this.paintOrder=yt(e,Qce,n.paintOrder),this.position=yt(e,mce,n.position),this.textAlign=yt(e,hce,n.textAlign),this.textDecorationColor=yt(e,Bce,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=yt(e,Nce,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=yt(e,pce,n.textShadow),this.textTransform=yt(e,gce,n.textTransform),this.transform=yt(e,fce,n.transform),this.transformOrigin=yt(e,bce,n.transformOrigin),this.visibility=yt(e,_ce,n.visibility),this.webkitTextStrokeColor=yt(e,Hce,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=yt(e,Oce,n.webkitTextStrokeWidth),this.wordBreak=yt(e,jce,n.wordBreak),this.zIndex=yt(e,Cce,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Yc(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return xr(this.display,4)||xr(this.display,33554432)||xr(this.display,268435456)||xr(this.display,536870912)||xr(this.display,67108864)||xr(this.display,134217728)},t})(),Vce=(function(){function t(e,n){this.content=yt(e,Lce,n.content),this.quotes=yt(e,Dce,n.quotes)}return t})(),FT=(function(){function t(e,n){this.counterIncrement=yt(e,Rce,n.counterIncrement),this.counterReset=yt(e,Uce,n.counterReset)}return t})(),yt=function(t,e,n){var r=new rD,i=n!==null&&typeof n!="undefined"?n.toString():e.initialValue;r.write(i);var a=new iD(r.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(t,nn(o)?o.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return f0.parse(t,a.parseComponentValue());case"color":return Xc.parse(t,a.parseComponentValue());case"image":return YC.parse(t,a.parseComponentValue());case"length":var l=a.parseComponentValue();return sd(l)?l:Yr;case"length-percentage":var d=a.parseComponentValue();return lr(d)?d:Yr;case"time":return _D.parse(t,a.parseComponentValue())}break}},Gce="data-html2canvas-debug",Kce=function(t){var e=t.getAttribute(Gce);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},_j=function(t,e){var n=Kce(t);return n===1||e===n},Go=(function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,_j(n,3))debugger;this.styles=new $ce(e,window.getComputedStyle(n,null)),Sj(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=p0(this.context,n),_j(n,4)&&(this.flags|=16)}return t})(),zce="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",LT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pm=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var hv=0;hv<LT.length;hv++)Pm[LT.charCodeAt(hv)]=hv;var Wce=function(t){var e=t.length*.75,n=t.length,r,i=0,a,o,l,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),h=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=Pm[t.charCodeAt(r)],o=Pm[t.charCodeAt(r+1)],l=Pm[t.charCodeAt(r+2)],d=Pm[t.charCodeAt(r+3)],h[i++]=a<<2|o>>4,h[i++]=(o&15)<<4|l>>2,h[i++]=(l&3)<<6|d&63;return u},qce=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Xce=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},ru=5,JC=11,qb=2,Yce=JC-ru,jD=65536>>ru,Jce=1<<ru,Xb=Jce-1,Zce=1024>>ru,ede=jD+Zce,tde=ede,sde=32,nde=tde+sde,rde=65536>>JC,ide=1<<Yce,ade=ide-1,RT=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},ode=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},lde=function(t,e){var n=Wce(t),r=Array.isArray(n)?Xce(n):new Uint32Array(n),i=Array.isArray(n)?qce(n):new Uint16Array(n),a=24,o=RT(i,a/2,r[4]/2),l=r[5]===2?RT(i,(a+r[4])/2):ode(r,Math.ceil((a+r[4])/4));return new cde(r[0],r[1],r[2],r[3],o,l)},cde=(function(){function t(e,n,r,i,a,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>ru],n=(n<<qb)+(e&Xb),this.data[n];if(e<=65535)return n=this.index[jD+(e-55296>>ru)],n=(n<<qb)+(e&Xb),this.data[n];if(e<this.highStart)return n=nde-rde+(e>>JC),n=this.index[n],n+=e>>ru&ade,n=this.index[n],n=(n<<qb)+(e&Xb),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),UT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dde=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var mv=0;mv<UT.length;mv++)dde[UT.charCodeAt(mv)]=mv;var ude=1,Yb=2,Jb=3,PT=4,DT=5,Ade=7,MT=8,Zb=9,e1=10,QT=11,HT=12,OT=13,$T=14,t1=15,hde=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},mde=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},pde=lde(zce),Ra="",s1="",gde=function(t){return pde.get(t)},fde=function(t,e,n){var r=n-2,i=e[r],a=e[n-1],o=e[n];if(a===Yb&&o===Jb)return Ra;if(a===Yb||a===Jb||a===PT||o===Yb||o===Jb||o===PT)return s1;if(a===MT&&[MT,Zb,QT,HT].indexOf(o)!==-1||(a===QT||a===Zb)&&(o===Zb||o===e1)||(a===HT||a===e1)&&o===e1||o===OT||o===DT||o===Ade||a===ude)return Ra;if(a===OT&&o===$T){for(;i===DT;)i=e[--r];if(i===$T)return Ra}if(a===t1&&o===t1){for(var l=0;i===t1;)l++,i=e[--r];if(l%2===0)return Ra}return s1},vde=function(t){var e=hde(t),n=e.length,r=0,i=0,a=e.map(gde);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Ra;r<n&&(o=fde(e,a,++r))===Ra;);if(o!==Ra||r===n){var l=mde.apply(null,e.slice(i,r));return i=r,{value:l,done:!1}}return{done:!0,value:null}}}},xde=function(t){for(var e=vde(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},yde=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(r),a===e)return!0}}return!1},wde=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=g0(r.data).map(function(d){return qn(d)}),a=0,o={},l=i.every(function(d,u){n.setStart(r,a),n.setEnd(r,a+d.length);var h=n.getBoundingClientRect();a+=d.length;var m=h.x>o.x||h.y>o.y;return o=h,u===0?!0:m});return t.body.removeChild(e),l},bde=function(){return typeof new Image().crossOrigin!="undefined"},_de=function(){return typeof new XMLHttpRequest().responseType=="string"},jde=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(i){return!1}return!0},VT=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Cde=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=e.toDataURL();i.src=a;var o=jj(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),GT(o).then(function(l){r.drawImage(l,0,0);var d=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=n+"px",VT(d)?GT(jj(n,n,0,0,u)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),VT(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},jj=function(t,e,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},GT=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Vr={get SUPPORT_RANGE_BOUNDS(){var t=yde(document);return Object.defineProperty(Vr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Vr.SUPPORT_RANGE_BOUNDS&&wde(document);return Object.defineProperty(Vr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=jde(document);return Object.defineProperty(Vr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Cde(document):Promise.resolve(!1);return Object.defineProperty(Vr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=bde();return Object.defineProperty(Vr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=_de();return Object.defineProperty(Vr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Vr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(Vr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},sp=(function(){function t(e,n){this.text=e,this.bounds=n}return t})(),Sde=function(t,e,n,r){var i=kde(e,n),a=[],o=0;return i.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(Vr.SUPPORT_RANGE_BOUNDS){var d=KT(r,o,l.length).getClientRects();if(d.length>1){var u=ZC(l),h=0;u.forEach(function(g){a.push(new sp(g,$l.fromDOMRectList(t,KT(r,h+o,g.length).getClientRects()))),h+=g.length})}else a.push(new sp(l,$l.fromDOMRectList(t,d)))}else{var m=r.splitText(l.length);a.push(new sp(l,Bde(t,r))),r=m}else Vr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(l.length));o+=l.length}),a},Bde=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var a=p0(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return $l.EMPTY},KT=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},ZC=function(t){if(Vr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return xde(t)},Nde=function(t,e){if(Vr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return Ede(t,e)},kde=function(t,e){return e.letterSpacing!==0?ZC(t):Nde(t,e)},Ide=[32,160,4961,65792,65793,4153,4241],Ede=function(t,e){for(var n=roe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,a=function(){if(i.value){var o=i.value.slice(),l=g0(o),d="";l.forEach(function(u){Ide.indexOf(u)===-1?d+=qn(u):(d.length&&r.push(d),r.push(qn(u)),d="")}),d.length&&r.push(d)}};!(i=n.next()).done;)a();return r},Tde=(function(){function t(e,n,r){this.text=Fde(n.data,r.textTransform),this.textBounds=Sde(e,this.text,r,n)}return t})(),Fde=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Lde,Rde);case 2:return t.toUpperCase();default:return t}},Lde=/(^|\s|:|-|\(|\))([a-z])/g,Rde=function(t,e,n){return t.length>0?e+n.toUpperCase():t},CD=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(Go),SD=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(Go),BD=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=new XMLSerializer,o=p0(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(Go),ND=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(Go),Cj=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(Go),Ude=[{type:15,flags:0,unit:"px",number:3}],Pde=[{type:16,flags:0,number:50}],Dde=function(t){return t.width>t.height?new $l(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new $l(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Mde=function(t){var e=t.type===Qde?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},ry="checkbox",iy="radio",Qde="password",zT=707406591,eS=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Mde(r),(i.type===ry||i.type===iy)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Dde(i.bounds)),i.type){case ry:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Ude;break;case iy:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Pde;break}return i}return e})(Go),kD=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return e})(Go),ID=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(Go),ED=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=FD(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?ep(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Tl.TRANSPARENT,o=r.contentWindow.document.body?ep(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Tl.TRANSPARENT;i.backgroundColor=Yc(a)?Yc(o)?i.styles.backgroundColor:o:a}}catch(l){}return i}return e})(Go),Hde=["OL","UL","MENU"],ox=function(t,e,n,r){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,LD(i)&&i.data.trim().length>0)n.textNodes.push(new Tde(t,i,n.styles));else if(TA(i))if(DD(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return ox(t,l,n,r)});else{var o=TD(t,i);o.styles.isVisible()&&(Ode(i,o,r)?o.flags|=4:$de(o.styles)&&(o.flags|=2),Hde.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?ox(t,i.shadowRoot,o,r):!ay(i)&&!RD(i)&&!oy(i)&&ox(t,i,o,r))}},TD=function(t,e){return Bj(e)?new CD(t,e):UD(e)?new SD(t,e):RD(e)?new BD(t,e):Vde(e)?new ND(t,e):Gde(e)?new Cj(t,e):Kde(e)?new eS(t,e):oy(e)?new kD(t,e):ay(e)?new ID(t,e):PD(e)?new ED(t,e):new Go(t,e)},FD=function(t,e){var n=TD(t,e);return n.flags|=4,ox(t,e,n,n),n},Ode=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||tS(t)&&n.styles.isTransparent()},$de=function(t){return t.isPositioned()||t.isFloating()},LD=function(t){return t.nodeType===Node.TEXT_NODE},TA=function(t){return t.nodeType===Node.ELEMENT_NODE},Sj=function(t){return TA(t)&&typeof t.style!="undefined"&&!lx(t)},lx=function(t){return typeof t.className=="object"},Vde=function(t){return t.tagName==="LI"},Gde=function(t){return t.tagName==="OL"},Kde=function(t){return t.tagName==="INPUT"},zde=function(t){return t.tagName==="HTML"},RD=function(t){return t.tagName==="svg"},tS=function(t){return t.tagName==="BODY"},UD=function(t){return t.tagName==="CANVAS"},WT=function(t){return t.tagName==="VIDEO"},Bj=function(t){return t.tagName==="IMG"},PD=function(t){return t.tagName==="IFRAME"},qT=function(t){return t.tagName==="STYLE"},Wde=function(t){return t.tagName==="SCRIPT"},ay=function(t){return t.tagName==="TEXTAREA"},oy=function(t){return t.tagName==="SELECT"},DD=function(t){return t.tagName==="SLOT"},XT=function(t){return t.tagName.indexOf("-")>0},qde=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,a=!0;r!==null&&r.forEach(function(l){var d=n.counters[l.counter];d&&l.increment!==0&&(a=!1,d.length||d.push(1),d[Math.max(0,d.length-1)]+=l.increment)});var o=[];return a&&i.forEach(function(l){var d=n.counters[l.counter];o.push(l.counter),d||(d=n.counters[l.counter]=[]),d.push(l.reset)}),o},t})(),YT={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},JT={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xde={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Yde={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},lA=function(t,e,n,r,i,a){return t<e||t>n?Pp(t,i,a.length>0):r.integers.reduce(function(o,l,d){for(;t>=l;)t-=l,o+=r.values[d];return o},"")+a},MD=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Kn=function(t,e,n,r,i){var a=n-e+1;return(t<0?"-":"")+(MD(Math.abs(t),a,r,function(o){return qn(Math.floor(o%a)+e)})+i)},Id=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return MD(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},_A=1,bc=2,_c=4,Dm=8,ol=function(t,e,n,r,i,a){if(t<-9999||t>9999)return Pp(t,4,i.length>0);var o=Math.abs(t),l=i;if(o===0)return e[0]+l;for(var d=0;o>0&&d<=4;d++){var u=o%10;u===0&&xr(a,_A)&&l!==""?l=e[u]+l:u>1||u===1&&d===0||u===1&&d===1&&xr(a,bc)||u===1&&d===1&&xr(a,_c)&&t>100||u===1&&d>1&&xr(a,Dm)?l=e[u]+(d>0?n[d-1]:"")+l:u===1&&d>0&&(l=n[d-1]+l),o=Math.floor(o/10)}return(t<0?r:"")+l},ZT="",e3="",t3="",n1="",Pp=function(t,e,n){var r=n?". ":"",i=n?"":"",a=n?", ":"",o=n?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Kn(t,48,57,!0,r);return l.length<4?"0"+l:l;case 4:return Id(t,"",i);case 6:return lA(t,1,3999,YT,3,r).toLowerCase();case 7:return lA(t,1,3999,YT,3,r);case 8:return Kn(t,945,969,!1,r);case 9:return Kn(t,97,122,!1,r);case 10:return Kn(t,65,90,!1,r);case 11:return Kn(t,1632,1641,!0,r);case 12:case 49:return lA(t,1,9999,JT,3,r);case 35:return lA(t,1,9999,JT,3,r).toLowerCase();case 13:return Kn(t,2534,2543,!0,r);case 14:case 30:return Kn(t,6112,6121,!0,r);case 15:return Id(t,"",i);case 16:return Id(t,"",i);case 17:case 48:return ol(t,"",ZT,"",i,bc|_c|Dm);case 47:return ol(t,"",e3,"",i,_A|bc|_c|Dm);case 42:return ol(t,"",ZT,"",i,bc|_c|Dm);case 41:return ol(t,"",e3,"",i,_A|bc|_c|Dm);case 26:return ol(t,"","",t3,i,0);case 25:return ol(t,"","",t3,i,_A|bc|_c);case 31:return ol(t,"","",n1,a,_A|bc|_c);case 33:return ol(t,"","",n1,a,0);case 32:return ol(t,"","",n1,a,_A|bc|_c);case 18:return Kn(t,2406,2415,!0,r);case 20:return lA(t,1,19999,Yde,3,r);case 21:return Kn(t,2790,2799,!0,r);case 22:return Kn(t,2662,2671,!0,r);case 22:return lA(t,1,10999,Xde,3,r);case 23:return Id(t,"");case 24:return Id(t,"");case 27:return Kn(t,3302,3311,!0,r);case 28:return Id(t,"",i);case 29:return Id(t,"",i);case 34:return Kn(t,3792,3801,!0,r);case 37:return Kn(t,6160,6169,!0,r);case 38:return Kn(t,4160,4169,!0,r);case 39:return Kn(t,2918,2927,!0,r);case 40:return Kn(t,1776,1785,!0,r);case 43:return Kn(t,3046,3055,!0,r);case 44:return Kn(t,3174,3183,!0,r);case 45:return Kn(t,3664,3673,!0,r);case 46:return Kn(t,3872,3881,!0,r);case 3:default:return Kn(t,48,57,!0,r)}},QD="data-html2canvas-ignore",s3=(function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new qde,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=Jde(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=i.contentWindow,d=l.document,u=tue(i).then(function(){return Ci(r,void 0,void 0,function(){var h,m;return li(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(iue),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),h=this.options.onclone,m=this.clonedReferenceElement,typeof m=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:d.fonts&&d.fonts.ready?[4,d.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,eue(d)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(d,m)}).then(function(){return i})]:[2,i]}})})});return d.open(),d.write(nue(document.doctype)+"<html></html>"),rue(this.referenceElement.ownerDocument,a,o),d.replaceChild(d.adoptNode(this.documentElement),d.documentElement),d.close(),u},t.prototype.createElementClone=function(e){if(_j(e,2))debugger;if(UD(e))return this.createCanvasClone(e);if(WT(e))return this.createVideoClone(e);if(qT(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return Bj(n)&&(Bj(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),XT(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return r1(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch(u){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var l=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(l){var d=l.getContextAttributes();(d==null?void 0:d.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch(u){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch(a){this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!TA(n)||!Wde(n)&&!n.hasAttribute(QD)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!TA(n)||!qT(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(TA(a)&&DD(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(n,l,r)})}else this.appendChildNode(n,a,r)},t.prototype.cloneNode=function(e,n){if(LD(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&TA(e)&&(Sj(e)||lx(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),l=r.getComputedStyle(e,":after");this.referenceElement===e&&Sj(i)&&(this.clonedReferenceElement=i),tS(i)&&lue(i);var d=this.counters.parse(new FT(this.context,a)),u=this.resolvePseudoContent(e,i,o,np.BEFORE);XT(e)&&(n=!0),WT(e)||this.cloneChildNodes(e,i,n),u&&i.insertBefore(u,i.firstChild);var h=this.resolvePseudoContent(e,i,l,np.AFTER);return h&&i.appendChild(h),this.counters.pop(d),(a&&(this.options.copyStyles||lx(e))&&!PD(e)||n)&&r1(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(ay(e)||oy(e))&&(ay(i)||oy(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var a=this;if(r){var o=r.content,l=n.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new FT(this.context,r));var d=new Vce(this.context,r),u=l.createElement("html2canvaspseudoelement");r1(r,u),d.content.forEach(function(m){if(m.type===0)u.appendChild(l.createTextNode(m.value));else if(m.type===22){var g=l.createElement("img");g.src=m.value,g.style.opacity="1",u.appendChild(g)}else if(m.type===18){if(m.name==="attr"){var y=m.values.filter(nn);y.length&&u.appendChild(l.createTextNode(e.getAttribute(y[0].value)||""))}else if(m.name==="counter"){var x=m.values.filter(nh),C=x[0],E=x[1];if(C&&nn(C)){var T=a.counters.getCounterValue(C.value),B=E&&nn(E)?bj.parse(a.context,E.value):3;u.appendChild(l.createTextNode(Pp(T,B,!1)))}}else if(m.name==="counters"){var S=m.values.filter(nh),C=S[0],v=S[1],E=S[2];if(C&&nn(C)){var w=a.counters.getCounterValues(C.value),N=E&&nn(E)?bj.parse(a.context,E.value):3,_=v&&v.type===0?v.value:"",j=w.map(function(I){return Pp(I,N,!1)}).join(_);u.appendChild(l.createTextNode(j))}}}else if(m.type===20)switch(m.value){case"open-quote":u.appendChild(l.createTextNode(TT(d.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(TT(d.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(m.value))}}),u.className=Nj+" "+kj;var h=i===np.BEFORE?" "+Nj:" "+kj;return lx(n)?n.className.baseValue+=h:n.className+=h,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),np;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(np||(np={}));var Jde=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(QD,"true"),t.body.appendChild(n),n},Zde=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},eue=function(t){return Promise.all([].slice.call(t.images,0).map(Zde))},tue=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},sue=["all","d","content"],r1=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);sue.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},nue=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},rue=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},iue=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},aue=":before",oue=":after",Nj="___html2canvas___pseudoelement_before",kj="___html2canvas___pseudoelement_after",n3=`{
    content: "" !important;
    display: none !important;
}`,lue=function(t){cue(t,"."+Nj+aue+n3+`
         .`+kj+oue+n3)},cue=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},HD=(function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),due=(function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(a1(e)||mue(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ci(this,void 0,void 0,function(){var n,r,i,a,o=this;return li(this,function(l){switch(l.label){case 0:return n=HD.isSameOrigin(e),r=!i1(e)&&this._options.useCORS===!0&&Vr.SUPPORT_CORS_IMAGES&&!n,i=!i1(e)&&!n&&!a1(e)&&typeof this._options.proxy=="string"&&Vr.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!i1(e)&&!a1(e)&&!i&&!r?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(d,u){var h=new Image;h.onload=function(){return d(h)},h.onerror=u,(pue(a)||r)&&(h.crossOrigin="anonymous"),h.src=a,h.complete===!0&&setTimeout(function(){return d(h)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]!="undefined"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,o){var l=Vr.SUPPORT_RESPONSE_TYPE?"blob":"text",d=new XMLHttpRequest;d.onload=function(){if(d.status===200)if(l==="text")a(d.response);else{var m=new FileReader;m.addEventListener("load",function(){return a(m.result)},!1),m.addEventListener("error",function(g){return o(g)},!1),m.readAsDataURL(d.response)}else o("Failed to proxy resource "+i+" with status code "+d.status)},d.onerror=o;var u=r.indexOf("?")>-1?"&":"?";if(d.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&d instanceof XMLHttpRequest&&(d.responseType=l),n._options.imageTimeout){var h=n._options.imageTimeout;d.timeout=h,d.ontimeout=function(){return o("Timed out ("+h+"ms) proxying "+i)}}d.send()})},t})(),uue=/^data:image\/svg\+xml/i,Aue=/^data:image\/.*;base64,/i,hue=/^data:image\/.*/i,mue=function(t){return Vr.SUPPORT_SVG_DRAWING||!gue(t)},i1=function(t){return hue.test(t)},pue=function(t){return Aue.test(t)},a1=function(t){return t.substr(0,4)==="blob"},gue=function(t){return t.substr(-3).toLowerCase()==="svg"||uue.test(t)},gt=(function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t})(),cA=function(t,e,n){return new gt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},pv=(function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=cA(this.start,this.startControl,e),i=cA(this.startControl,this.endControl,e),a=cA(this.endControl,this.end,e),o=cA(r,i,e),l=cA(i,a,e),d=cA(o,l,e);return n?new t(this.start,r,o,d):new t(d,l,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Ua=function(t){return t.type===1},fue=(function(){function t(e){var n=e.styles,r=e.bounds,i=Um(n.borderTopLeftRadius,r.width,r.height),a=i[0],o=i[1],l=Um(n.borderTopRightRadius,r.width,r.height),d=l[0],u=l[1],h=Um(n.borderBottomRightRadius,r.width,r.height),m=h[0],g=h[1],y=Um(n.borderBottomLeftRadius,r.width,r.height),x=y[0],C=y[1],E=[];E.push((a+d)/r.width),E.push((x+m)/r.width),E.push((o+C)/r.height),E.push((u+g)/r.height);var T=Math.max.apply(Math,E);T>1&&(a/=T,o/=T,d/=T,u/=T,m/=T,g/=T,x/=T,C/=T);var B=r.width-d,S=r.height-g,v=r.width-m,w=r.height-C,N=n.borderTopWidth,_=n.borderRightWidth,j=n.borderBottomWidth,k=n.borderLeftWidth,U=cn(n.paddingTop,e.bounds.width),I=cn(n.paddingRight,e.bounds.width),P=cn(n.paddingBottom,e.bounds.width),L=cn(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?jn(r.left+k/3,r.top+N/3,a-k/3,o-N/3,qs.TOP_LEFT):new gt(r.left+k/3,r.top+N/3),this.topRightBorderDoubleOuterBox=a>0||o>0?jn(r.left+B,r.top+N/3,d-_/3,u-N/3,qs.TOP_RIGHT):new gt(r.left+r.width-_/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=m>0||g>0?jn(r.left+v,r.top+S,m-_/3,g-j/3,qs.BOTTOM_RIGHT):new gt(r.left+r.width-_/3,r.top+r.height-j/3),this.bottomLeftBorderDoubleOuterBox=x>0||C>0?jn(r.left+k/3,r.top+w,x-k/3,C-j/3,qs.BOTTOM_LEFT):new gt(r.left+k/3,r.top+r.height-j/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?jn(r.left+k*2/3,r.top+N*2/3,a-k*2/3,o-N*2/3,qs.TOP_LEFT):new gt(r.left+k*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?jn(r.left+B,r.top+N*2/3,d-_*2/3,u-N*2/3,qs.TOP_RIGHT):new gt(r.left+r.width-_*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=m>0||g>0?jn(r.left+v,r.top+S,m-_*2/3,g-j*2/3,qs.BOTTOM_RIGHT):new gt(r.left+r.width-_*2/3,r.top+r.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||C>0?jn(r.left+k*2/3,r.top+w,x-k*2/3,C-j*2/3,qs.BOTTOM_LEFT):new gt(r.left+k*2/3,r.top+r.height-j*2/3),this.topLeftBorderStroke=a>0||o>0?jn(r.left+k/2,r.top+N/2,a-k/2,o-N/2,qs.TOP_LEFT):new gt(r.left+k/2,r.top+N/2),this.topRightBorderStroke=a>0||o>0?jn(r.left+B,r.top+N/2,d-_/2,u-N/2,qs.TOP_RIGHT):new gt(r.left+r.width-_/2,r.top+N/2),this.bottomRightBorderStroke=m>0||g>0?jn(r.left+v,r.top+S,m-_/2,g-j/2,qs.BOTTOM_RIGHT):new gt(r.left+r.width-_/2,r.top+r.height-j/2),this.bottomLeftBorderStroke=x>0||C>0?jn(r.left+k/2,r.top+w,x-k/2,C-j/2,qs.BOTTOM_LEFT):new gt(r.left+k/2,r.top+r.height-j/2),this.topLeftBorderBox=a>0||o>0?jn(r.left,r.top,a,o,qs.TOP_LEFT):new gt(r.left,r.top),this.topRightBorderBox=d>0||u>0?jn(r.left+B,r.top,d,u,qs.TOP_RIGHT):new gt(r.left+r.width,r.top),this.bottomRightBorderBox=m>0||g>0?jn(r.left+v,r.top+S,m,g,qs.BOTTOM_RIGHT):new gt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=x>0||C>0?jn(r.left,r.top+w,x,C,qs.BOTTOM_LEFT):new gt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?jn(r.left+k,r.top+N,Math.max(0,a-k),Math.max(0,o-N),qs.TOP_LEFT):new gt(r.left+k,r.top+N),this.topRightPaddingBox=d>0||u>0?jn(r.left+Math.min(B,r.width-_),r.top+N,B>r.width+_?0:Math.max(0,d-_),Math.max(0,u-N),qs.TOP_RIGHT):new gt(r.left+r.width-_,r.top+N),this.bottomRightPaddingBox=m>0||g>0?jn(r.left+Math.min(v,r.width-k),r.top+Math.min(S,r.height-j),Math.max(0,m-_),Math.max(0,g-j),qs.BOTTOM_RIGHT):new gt(r.left+r.width-_,r.top+r.height-j),this.bottomLeftPaddingBox=x>0||C>0?jn(r.left+k,r.top+Math.min(w,r.height-j),Math.max(0,x-k),Math.max(0,C-j),qs.BOTTOM_LEFT):new gt(r.left+k,r.top+r.height-j),this.topLeftContentBox=a>0||o>0?jn(r.left+k+L,r.top+N+U,Math.max(0,a-(k+L)),Math.max(0,o-(N+U)),qs.TOP_LEFT):new gt(r.left+k+L,r.top+N+U),this.topRightContentBox=d>0||u>0?jn(r.left+Math.min(B,r.width+k+L),r.top+N+U,B>r.width+k+L?0:d-k+L,u-(N+U),qs.TOP_RIGHT):new gt(r.left+r.width-(_+I),r.top+N+U),this.bottomRightContentBox=m>0||g>0?jn(r.left+Math.min(v,r.width-(k+L)),r.top+Math.min(S,r.height+N+U),Math.max(0,m-(_+I)),g-(j+P),qs.BOTTOM_RIGHT):new gt(r.left+r.width-(_+I),r.top+r.height-(j+P)),this.bottomLeftContentBox=x>0||C>0?jn(r.left+k+L,r.top+w,Math.max(0,x-(k+L)),C-(j+P),qs.BOTTOM_LEFT):new gt(r.left+k+L,r.top+r.height-(j+P))}return t})(),qs;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(qs||(qs={}));var jn=function(t,e,n,r,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,l=r*a,d=t+n,u=e+r;switch(i){case qs.TOP_LEFT:return new pv(new gt(t,u),new gt(t,u-l),new gt(d-o,e),new gt(d,e));case qs.TOP_RIGHT:return new pv(new gt(t,e),new gt(t+o,e),new gt(d,u-l),new gt(d,u));case qs.BOTTOM_RIGHT:return new pv(new gt(d,e),new gt(d,e+l),new gt(t+o,u),new gt(t,u));case qs.BOTTOM_LEFT:default:return new pv(new gt(d,u),new gt(d-o,u),new gt(t,e+l),new gt(t,e))}},ly=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},vue=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},cy=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},xue=(function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t})(),gv=(function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t})(),yue=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),wue=function(t){return t.type===0},OD=function(t){return t.type===1},bue=function(t){return t.type===2},r3=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},_ue=function(t,e,n,r,i){return t.map(function(a,o){switch(o){case 0:return a.add(e,n);case 1:return a.add(e+r,n);case 2:return a.add(e+r,n+i);case 3:return a.add(e,n+i)}return a})},$D=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),VD=(function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new fue(this.container),this.container.styles.opacity<1&&this.effects.push(new yue(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new xue(r,i,a))}if(this.container.styles.overflowX!==0){var o=ly(this.curves),l=cy(this.curves);r3(o,l)?this.effects.push(new gv(o,6)):(this.effects.push(new gv(o,2)),this.effects.push(new gv(l,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(d){return!OD(d)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=ly(r.curves),l=cy(r.curves);r3(o,l)||i.unshift(new gv(l,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(d){return xr(d.target,e)})},t})(),Ij=function(t,e,n,r){t.container.elements.forEach(function(i){var a=xr(i.flags,4),o=xr(i.flags,2),l=new VD(i,t);xr(i.styles.display,2048)&&r.push(l);var d=xr(i.flags,8)?[]:r;if(a||o){var u=a||i.styles.isPositioned()?n:e,h=new $D(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var m=i.styles.zIndex.order;if(m<0){var g=0;u.negativeZIndex.some(function(x,C){return m>x.element.container.styles.zIndex.order?(g=C,!1):g>0}),u.negativeZIndex.splice(g,0,h)}else if(m>0){var y=0;u.positiveZIndex.some(function(x,C){return m>=x.element.container.styles.zIndex.order?(y=C+1,!1):y>0}),u.positiveZIndex.splice(y,0,h)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else i.styles.isFloating()?u.nonPositionedFloats.push(h):u.nonPositionedInlineLevel.push(h);Ij(l,h,a?h:n,d)}else i.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),Ij(l,e,n,d);xr(i.flags,8)&&GD(i,d)})},GD=function(t,e){for(var n=t instanceof Cj?t.start:1,r=t instanceof Cj?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof ND&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Pp(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},jue=function(t){var e=new VD(t,null),n=new $D(e),r=[];return Ij(e,n,n,r),GD(e.container,r),n},i3=function(t,e){switch(e){case 0:return Da(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Da(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Da(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Da(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Cue=function(t,e){switch(e){case 0:return Da(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Da(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Da(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Da(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Sue=function(t,e){switch(e){case 0:return Da(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Da(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Da(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Da(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Bue=function(t,e){switch(e){case 0:return fv(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return fv(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return fv(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return fv(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},fv=function(t,e){var n=[];return Ua(t)?n.push(t.subdivide(.5,!1)):n.push(t),Ua(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Da=function(t,e,n,r){var i=[];return Ua(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ua(n)?i.push(n.subdivide(.5,!0)):i.push(n),Ua(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Ua(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},KD=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},dy=function(t){var e=t.styles,n=t.bounds,r=cn(e.paddingLeft,n.width),i=cn(e.paddingRight,n.width),a=cn(e.paddingTop,n.width),o=cn(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+a+o))},Nue=function(t,e){return t===0?e.bounds:t===2?dy(e):KD(e)},kue=function(t,e){return t===0?e.bounds:t===2?dy(e):KD(e)},o1=function(t,e,n){var r=Nue(jA(t.styles.backgroundOrigin,e),t),i=kue(jA(t.styles.backgroundClip,e),t),a=Iue(jA(t.styles.backgroundSize,e),n,r),o=a[0],l=a[1],d=Um(jA(t.styles.backgroundPosition,e),r.width-o,r.height-l),u=Eue(jA(t.styles.backgroundRepeat,e),d,a,r,i),h=Math.round(r.left+d[0]),m=Math.round(r.top+d[1]);return[u,h,m,o,l]},dA=function(t){return nn(t)&&t.value===OA.AUTO},vv=function(t){return typeof t=="number"},Iue=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(lr(o)&&l&&lr(l))return[cn(o,n.width),cn(l,n.height)];var d=vv(a);if(nn(o)&&(o.value===OA.CONTAIN||o.value===OA.COVER)){if(vv(a)){var u=n.width/n.height;return u<a!=(o.value===OA.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var h=vv(r),m=vv(i),g=h||m;if(dA(o)&&(!l||dA(l))){if(h&&m)return[r,i];if(!d&&!g)return[n.width,n.height];if(g&&d){var y=h?r:i*a,x=m?i:r/a;return[y,x]}var C=h?r:n.width,E=m?i:n.height;return[C,E]}if(d){var T=0,B=0;return lr(o)?T=cn(o,n.width):lr(l)&&(B=cn(l,n.height)),dA(o)?T=B*a:(!l||dA(l))&&(B=T/a),[T,B]}var S=null,v=null;if(lr(o)?S=cn(o,n.width):l&&lr(l)&&(v=cn(l,n.height)),S!==null&&(!l||dA(l))&&(v=h&&m?S/r*i:n.height),v!==null&&dA(o)&&(S=h&&m?v/i*r:n.width),S!==null&&v!==null)return[S,v];throw new Error("Unable to calculate background-size for element")},jA=function(t,e){var n=t[e];return typeof n=="undefined"?t[0]:n},Eue=function(t,e,n,r,i){var a=e[0],o=e[1],l=n[0],d=n[1];switch(t){case 2:return[new gt(Math.round(r.left),Math.round(r.top+o)),new gt(Math.round(r.left+r.width),Math.round(r.top+o)),new gt(Math.round(r.left+r.width),Math.round(d+r.top+o)),new gt(Math.round(r.left),Math.round(d+r.top+o))];case 3:return[new gt(Math.round(r.left+a),Math.round(r.top)),new gt(Math.round(r.left+a+l),Math.round(r.top)),new gt(Math.round(r.left+a+l),Math.round(r.height+r.top)),new gt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new gt(Math.round(r.left+a),Math.round(r.top+o)),new gt(Math.round(r.left+a+l),Math.round(r.top+o)),new gt(Math.round(r.left+a+l),Math.round(r.top+o+d)),new gt(Math.round(r.left+a),Math.round(r.top+o+d))];default:return[new gt(Math.round(i.left),Math.round(i.top)),new gt(Math.round(i.left+i.width),Math.round(i.top)),new gt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new gt(Math.round(i.left),Math.round(i.height+i.top))]}},Tue="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a3="Hidden Text",Fue=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=Tue,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(a3)),r.appendChild(a),r.appendChild(i);var l=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(a3)),r.style.lineHeight="normal",i.style.verticalAlign="super";var d=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:l,middle:d}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]=="undefined"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t})(),zD=(function(){function t(e,n){this.context=e,this.options=n}return t})(),Lue=1e4,Rue=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new Fue(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),bue(n)&&(this.ctx.globalAlpha=n.opacity),wue(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),OD(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Ci(this,void 0,void 0,function(){var r;return li(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Ci(this,void 0,void 0,function(){return li(this,function(r){switch(r.label){case 0:if(xr(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=ZC(n.text);o.reduce(function(l,d){return a.ctx.fillText(d,l,n.bounds.top+i),l+a.ctx.measureText(d).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=Que(n.fontFamily).join(", "),a=gg(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(n,r){return Ci(this,void 0,void 0,function(){var i,a,o,l,d,u,h,m,g=this;return li(this,function(y){return i=this.createFontStyle(r),a=i[0],o=i[1],l=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",d=this.fontMetrics.getMetrics(o,l),u=d.baseline,h=d.middle,m=r.paintOrder,n.textBounds.forEach(function(x){m.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=Br(r.color),g.renderTextWithLetterSpacing(x,r.letterSpacing,u);var E=r.textShadow;E.length&&x.text.trim().length&&(E.slice(0).reverse().forEach(function(T){g.ctx.shadowColor=Br(T.color),g.ctx.shadowOffsetX=T.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=T.offsetY.number*g.options.scale,g.ctx.shadowBlur=T.blur.number,g.renderTextWithLetterSpacing(x,r.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=Br(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(T){switch(T){case 1:g.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+u),x.bounds.width,1);break;case 2:g.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:g.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+h),x.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&x.text.trim().length&&(g.ctx.strokeStyle=Br(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=dy(n),o=cy(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Ci(this,void 0,void 0,function(){var r,i,a,o,l,d,B,B,u,h,m,g,v,y,x,w,C,E,T,B,S,v,w;return li(this,function(N){switch(N.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,o=0,l=r.textNodes,N.label=1;case 1:return o<l.length?(d=l[o],[4,this.renderTextNode(d,a)]):[3,4];case 2:N.sent(),N.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof CD))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return B=N.sent(),this.renderReplacedElement(r,i,B),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof SD&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof BD))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return B=N.sent(),this.renderReplacedElement(r,i,B),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof ED&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:h=N.sent(),r.width&&r.height&&this.ctx.drawImage(h,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof eS&&(m=Math.min(r.bounds.width,r.bounds.height),r.type===ry?r.checked&&(this.ctx.save(),this.path([new gt(r.bounds.left+m*.39363,r.bounds.top+m*.79),new gt(r.bounds.left+m*.16,r.bounds.top+m*.5549),new gt(r.bounds.left+m*.27347,r.bounds.top+m*.44071),new gt(r.bounds.left+m*.39694,r.bounds.top+m*.5649),new gt(r.bounds.left+m*.72983,r.bounds.top+m*.23),new gt(r.bounds.left+m*.84,r.bounds.top+m*.34085),new gt(r.bounds.left+m*.39363,r.bounds.top+m*.79)]),this.ctx.fillStyle=Br(zT),this.ctx.fill(),this.ctx.restore()):r.type===iy&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+m/2,r.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=Br(zT),this.ctx.fill(),this.ctx.restore())),Uue(r)&&r.value.length){switch(g=this.createFontStyle(a),v=g[0],y=g[1],x=this.fontMetrics.getMetrics(v,y).baseline,this.ctx.font=v,this.ctx.fillStyle=Br(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Due(r.styles.textAlign),w=dy(r),C=0,r.styles.textAlign){case 1:C+=w.width/2;break;case 2:C+=w.width;break}E=w.add(C,0,0,-w.height/2+1),this.ctx.save(),this.path([new gt(w.left,w.top),new gt(w.left+w.width,w.top),new gt(w.left+w.width,w.top+w.height),new gt(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new sp(r.value,E),a.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(T=r.styles.listStyleImage,T.type!==0)return[3,18];B=void 0,S=T.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return B=N.sent(),this.ctx.drawImage(B,r.bounds.left-(B.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(v=this.createFontStyle(a)[0],this.ctx.font=v,this.ctx.fillStyle=Br(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new $l(r.bounds.left,r.bounds.top+cn(r.styles.paddingTop,r.bounds.width),r.bounds.width,IT(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new sp(n.listValue,w),a.letterSpacing,IT(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Ci(this,void 0,void 0,function(){var r,i,T,a,o,T,l,d,T,u,h,T,m,g,T,y,x,T,C,E,T;return li(this,function(B){switch(B.label){case 0:if(xr(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:B.sent(),r=0,i=n.negativeZIndex,B.label=2;case 2:return r<i.length?(T=i[r],[4,this.renderStack(T)]):[3,5];case 3:B.sent(),B.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:B.sent(),a=0,o=n.nonInlineLevel,B.label=7;case 7:return a<o.length?(T=o[a],[4,this.renderNode(T)]):[3,10];case 8:B.sent(),B.label=9;case 9:return a++,[3,7];case 10:l=0,d=n.nonPositionedFloats,B.label=11;case 11:return l<d.length?(T=d[l],[4,this.renderStack(T)]):[3,14];case 12:B.sent(),B.label=13;case 13:return l++,[3,11];case 14:u=0,h=n.nonPositionedInlineLevel,B.label=15;case 15:return u<h.length?(T=h[u],[4,this.renderStack(T)]):[3,18];case 16:B.sent(),B.label=17;case 17:return u++,[3,15];case 18:m=0,g=n.inlineLevel,B.label=19;case 19:return m<g.length?(T=g[m],[4,this.renderNode(T)]):[3,22];case 20:B.sent(),B.label=21;case 21:return m++,[3,19];case 22:y=0,x=n.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return y<x.length?(T=x[y],[4,this.renderStack(T)]):[3,26];case 24:B.sent(),B.label=25;case 25:return y++,[3,23];case 26:C=0,E=n.positiveZIndex,B.label=27;case 27:return C<E.length?(T=E[C],[4,this.renderStack(T)]):[3,30];case 28:B.sent(),B.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var o=Ua(i)?i.start:i;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Ua(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,r),l.height=Math.max(1,i);var d=l.getContext("2d");return d.drawImage(n,0,0,n.width,n.height,0,0,r,i),l},e.prototype.renderBackgroundImage=function(n){return Ci(this,void 0,void 0,function(){var r,i,a,o,l,d;return li(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,i=function(h){var m,g,y,U,z,G,L,H,j,x,U,z,G,L,H,C,E,T,B,S,v,w,N,_,j,k,U,I,P,L,H,O,z,G,$,Y,J,V,X,Z,se,le;return li(this,function(we){switch(we.label){case 0:if(h.type!==0)return[3,5];m=void 0,g=h.url,we.label=1;case 1:return we.trys.push([1,3,,4]),[4,a.context.cache.match(g)];case 2:return m=we.sent(),[3,4];case 3:return we.sent(),a.context.logger.error("Error loading background-image "+g),[3,4];case 4:return m&&(y=o1(n,r,[m.width,m.height,m.width/m.height]),U=y[0],z=y[1],G=y[2],L=y[3],H=y[4],j=a.ctx.createPattern(a.resizeImage(m,L,H),"repeat"),a.renderRepeat(U,j,z,G)),[3,6];case 5:wle(h)?(x=o1(n,r,[null,null,null]),U=x[0],z=x[1],G=x[2],L=x[3],H=x[4],C=gle(h.angle,L,H),E=C[0],T=C[1],B=C[2],S=C[3],v=C[4],w=document.createElement("canvas"),w.width=L,w.height=H,N=w.getContext("2d"),_=N.createLinearGradient(T,S,B,v),NT(h.stops,E).forEach(function(Se){return _.addColorStop(Se.stop,Br(Se.color))}),N.fillStyle=_,N.fillRect(0,0,L,H),L>0&&H>0&&(j=a.ctx.createPattern(w,"repeat"),a.renderRepeat(U,j,z,G))):ble(h)&&(k=o1(n,r,[null,null,null]),U=k[0],I=k[1],P=k[2],L=k[3],H=k[4],O=h.position.length===0?[XC]:h.position,z=cn(O[0],L),G=cn(O[O.length-1],H),$=fle(h,z,G,L,H),Y=$[0],J=$[1],Y>0&&J>0&&(V=a.ctx.createRadialGradient(I+z,P+G,0,I+z,P+G,Y),NT(h.stops,Y*2).forEach(function(Se){return V.addColorStop(Se.stop,Br(Se.color))}),a.path(U),a.ctx.fillStyle=V,Y!==J?(X=n.bounds.left+.5*n.bounds.width,Z=n.bounds.top+.5*n.bounds.height,se=J/Y,le=1/se,a.ctx.save(),a.ctx.translate(X,Z),a.ctx.transform(1,0,0,se,0,0),a.ctx.translate(-X,-Z),a.ctx.fillRect(I,le*(P-Z)+Z,L,H*le),a.ctx.restore()):a.ctx.fill())),we.label=6;case 6:return r--,[2]}})},a=this,o=0,l=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(d=l[o],[5,i(d)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return Ci(this,void 0,void 0,function(){return li(this,function(a){return this.path(i3(i,r)),this.ctx.fillStyle=Br(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,a){return Ci(this,void 0,void 0,function(){var o,l;return li(this,function(d){switch(d.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return d.sent(),[2];case 2:return o=Cue(a,i),this.path(o),this.ctx.fillStyle=Br(n),this.ctx.fill(),l=Sue(a,i),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Ci(this,void 0,void 0,function(){var r,i,a,o,l,d,u,h,m=this;return li(this,function(g){switch(g.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Yc(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Pue(jA(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Yc(r.backgroundColor)||(this.ctx.fillStyle=Br(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(y){m.ctx.save();var x=ly(n.curves),C=y.inset?0:Lue,E=_ue(x,-C+(y.inset?1:-1)*y.spread.number,(y.inset?1:-1)*y.spread.number,y.spread.number*(y.inset?-2:2),y.spread.number*(y.inset?-2:2));y.inset?(m.path(x),m.ctx.clip(),m.mask(E)):(m.mask(x),m.ctx.clip(),m.path(E)),m.ctx.shadowOffsetX=y.offsetX.number+C,m.ctx.shadowOffsetY=y.offsetY.number,m.ctx.shadowColor=Br(y.color),m.ctx.shadowBlur=y.blur.number,m.ctx.fillStyle=y.inset?Br(y.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),g.label=2;case 2:l=0,d=0,u=a,g.label=3;case 3:return d<u.length?(h=u[d],h.style!==0&&!Yc(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,l,n.curves,3)];case 6:return g.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,l,n.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,l,n.curves)];case 10:g.sent(),g.label=11;case 11:l++,g.label=12;case 12:return d++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,a,o){return Ci(this,void 0,void 0,function(){var l,d,u,h,m,g,y,x,C,E,T,B,S,v,w,N,w,N;return li(this,function(_){return this.ctx.save(),l=Bue(a,i),d=i3(a,i),o===2&&(this.path(d),this.ctx.clip()),Ua(d[0])?(u=d[0].start.x,h=d[0].start.y):(u=d[0].x,h=d[0].y),Ua(d[1])?(m=d[1].end.x,g=d[1].end.y):(m=d[1].x,g=d[1].y),i===0||i===2?y=Math.abs(u-m):y=Math.abs(h-g),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(d.slice(0,2)),x=r<3?r*3:r*2,C=r<3?r*2:r,o===3&&(x=r,C=r),E=!0,y<=x*2?E=!1:y<=x*2+C?(T=y/(2*x+C),x*=T,C*=T):(B=Math.floor((y+C)/(x+C)),S=(y-B*x)/(B-1),v=(y-(B+1)*x)/B,C=v<=0||Math.abs(C-S)<Math.abs(C-v)?S:v),E&&(o===3?this.ctx.setLineDash([0,x+C]):this.ctx.setLineDash([x,C])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Br(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ua(d[0])&&(w=d[3],N=d[0],this.ctx.beginPath(),this.formatPath([new gt(w.end.x,w.end.y),new gt(N.start.x,N.start.y)]),this.ctx.stroke()),Ua(d[1])&&(w=d[1],N=d[2],this.ctx.beginPath(),this.formatPath([new gt(w.end.x,w.end.y),new gt(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Ci(this,void 0,void 0,function(){var r;return li(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Br(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=jue(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(zD),Uue=function(t){return t instanceof ID||t instanceof kD?!0:t instanceof eS&&t.type!==iy&&t.type!==ry},Pue=function(t,e){switch(t){case 0:return ly(e);case 2:return vue(e);case 1:default:return cy(e)}},Due=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Mue=["-apple-system","system-ui"],Que=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Mue.indexOf(e)===-1}):t},Hue=(function(t){po(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return Ci(this,void 0,void 0,function(){var r,i;return li(this,function(a){switch(a.label){case 0:return r=jj(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Oue(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Br(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(zD),Oue=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},$ue=(function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Xf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Xf([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Xf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,Xf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),Vue=(function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new $ue({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new due(this,e)}return t.instanceCount=1,t})(),Gue=function(t,e){return e===void 0&&(e={}),Kue(t,e)};typeof window!="undefined"&&HD.setContext(window);var Kue=function(t,e){return Ci(void 0,void 0,void 0,function(){var n,r,i,a,o,l,d,u,h,m,g,y,x,C,E,T,B,S,v,w,_,N,_,j,k,U,I,P,L,H,O,z,G,$,Y,J,V,X,Z,se;return li(this,function(le){switch(le.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(U=e.useCORS)!==null&&U!==void 0?U:!1},a=cj({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},i),o={windowWidth:(P=e.windowWidth)!==null&&P!==void 0?P:r.innerWidth,windowHeight:(L=e.windowHeight)!==null&&L!==void 0?L:r.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:r.pageXOffset,scrollY:(O=e.scrollY)!==null&&O!==void 0?O:r.pageYOffset},l=new $l(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),d=new Vue(a,l),u=(z=e.foreignObjectRendering)!==null&&z!==void 0?z:!1,h={allowTaint:(G=e.allowTaint)!==null&&G!==void 0?G:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},d.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),m=new s3(d,t,h),g=m.clonedReferenceElement,g?[4,m.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=le.sent(),x=tS(g)||zde(g)?_ae(g.ownerDocument):p0(d,g),C=x.width,E=x.height,T=x.left,B=x.top,S=zue(d,g,e.backgroundColor),v={canvas:e.canvas,backgroundColor:S,scale:(Y=($=e.scale)!==null&&$!==void 0?$:r.devicePixelRatio)!==null&&Y!==void 0?Y:1,x:((J=e.x)!==null&&J!==void 0?J:0)+T,y:((V=e.y)!==null&&V!==void 0?V:0)+B,width:(X=e.width)!==null&&X!==void 0?X:Math.ceil(C),height:(Z=e.height)!==null&&Z!==void 0?Z:Math.ceil(E)},u?(d.logger.debug("Document cloned, using foreign object rendering"),_=new Hue(d,v),[4,_.render(g)]):[3,3];case 2:return w=le.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+T+","+B+" with size "+C+"x"+E+" using computed rendering"),d.logger.debug("Starting DOM parsing"),N=FD(d,g),S===N.styles.backgroundColor&&(N.styles.backgroundColor=Tl.TRANSPARENT),d.logger.debug("Starting renderer for element at "+v.x+","+v.y+" with size "+v.width+"x"+v.height),_=new Rue(d,v),[4,_.render(N)];case 4:w=le.sent(),le.label=5;case 5:return(!((se=e.removeContainer)!==null&&se!==void 0)||se)&&(s3.destroy(y)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,w]}})})},zue=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?ep(t,getComputedStyle(r.documentElement).backgroundColor):Tl.TRANSPARENT,a=r.body?ep(t,getComputedStyle(r.body).backgroundColor):Tl.TRANSPARENT,o=typeof n=="string"?ep(t,n):n===null?Tl.TRANSPARENT:4294967295;return e===r.documentElement?Yc(i)?Yc(a)?o:a:i:o};const sS=[{id:"am1",label:"AM 1",region:"NA",active:!0},{id:"eu5",label:"EU 5",region:"EU",active:!0},{id:"eu6",label:"EU 6",region:"EU",active:!0},{id:"eu7",label:"EU 7",region:"EU",active:!0},{id:"eu8",label:"EU 8",region:"EU",active:!0},{id:"eu9",label:"EU 9",region:"EU",active:!0},{id:"eu10",label:"EU 10",region:"EU",active:!0},{id:"eu11",label:"EU 11",region:"EU",active:!0},{id:"eu12",label:"EU 12",region:"EU",active:!0},{id:"eu13",label:"EU 13",region:"EU",active:!0},{id:"eu14",label:"EU 14",region:"EU",active:!0},{id:"eu15",label:"EU 15",region:"EU",active:!0},{id:"eu16",label:"EU 16",region:"EU",active:!0},{id:"eu17",label:"EU 17",region:"EU",active:!0},{id:"eu18",label:"EU 18",region:"EU",active:!0},{id:"eu19",label:"EU 19",region:"EU",active:!0},{id:"eu20",label:"EU 20",region:"EU",active:!0},{id:"eu21",label:"EU 21",region:"EU",active:!0},{id:"eu22",label:"EU 22",region:"EU",active:!0},{id:"eu23",label:"EU 23",region:"EU",active:!0},{id:"eu24",label:"EU 24",region:"EU",active:!0},{id:"eu25",label:"EU 25",region:"EU",active:!0},{id:"f6",label:"F 6",region:"Fusion",active:!0},{id:"f7",label:"F 7",region:"Fusion",active:!0},{id:"f8",label:"F 8",region:"Fusion",active:!0},{id:"f9",label:"F 9",region:"Fusion",active:!0},{id:"f10",label:"F 10",region:"Fusion",active:!0},{id:"f11",label:"F 11",region:"Fusion",active:!0},{id:"f12",label:"F 12",region:"Fusion",active:!0},{id:"f13",label:"F 13",region:"Fusion",active:!0},{id:"f14",label:"F 14",region:"Fusion",active:!0},{id:"f15",label:"F 15",region:"Fusion",active:!0},{id:"f16",label:"F 16",region:"Fusion",active:!0},{id:"f17",label:"F 17",region:"Fusion",active:!0},{id:"f18",label:"F 18",region:"Fusion",active:!0},{id:"f19",label:"F 19",region:"Fusion",active:!0},{id:"f20",label:"F 20",region:"Fusion",active:!0},{id:"f21",label:"F 21",region:"Fusion",active:!0},{id:"f22",label:"F 22",region:"Fusion",active:!0},{id:"f23",label:"F 23",region:"Fusion",active:!0},{id:"f24",label:"F 24",region:"Fusion",active:!0},{id:"f25",label:"F 25",region:"Fusion",active:!0},{id:"f26",label:"F 26",region:"Fusion",active:!0},{id:"f27",label:"F 27",region:"Fusion",active:!0},{id:"f28",label:"F 28",region:"Fusion",active:!0},{id:"mearwynn",label:"MEARWYNN",region:"Fusion",active:!0},{id:"blackforest",label:"BLACKFOREST",region:"Fusion",active:!0},{id:"gnarogrim",label:"GNAROGRIM",region:"Fusion",active:!0}],Wue=Object.fromEntries(sS.map(t=>[t.id,t])),WD="TL_FILTERS_V2",ki={servers:[],classes:[],guilds:[],days:"all",sortBy:"sum",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function que(){var t;try{const e=localStorage.getItem(WD);if(!e)return ki;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:ki.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:ki.listView,a=["hud","sheet"].includes(n.filterMode)?n.filterMode:ki.filterMode,o=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,l=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...ki,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],guilds:Array.isArray(n.guilds)?n.guilds:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:o,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:l,quickFav:o,quickActive:l,days:r,listView:i,filterMode:a,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:ki.sortBy,searchText:typeof n.searchText=="string"?n.searchText:ki.searchText}}catch(e){return ki}}function Xue(t){try{localStorage.setItem(WD,JSON.stringify(t))}catch(e){}}const qD=R.createContext(null),l1=t=>Array.from(new Set(t));function dm(t,e){return typeof t=="function"?t(e):t}function Yue({children:t}){const[e,n]=R.useState(()=>que());R.useEffect(()=>{Xue(e)},[e]);const r=I=>n(P=>({...P,servers:l1(dm(I,P.servers))})),i=I=>n(P=>{const L=new Set(P.servers);return L.has(I)?L.delete(I):L.add(I),{...P,servers:Array.from(L)}}),a=()=>n(I=>({...I,servers:[]})),o=I=>n(P=>({...P,classes:l1(dm(I,P.classes))})),l=I=>n(P=>{const L=new Set(P.classes);return L.has(I)?L.delete(I):L.add(I),{...P,classes:Array.from(L)}}),d=()=>n(I=>({...I,classes:[]})),u=I=>n(P=>({...P,guilds:l1(dm(I,P.guilds))})),h=I=>n(P=>{const L=new Set(P.guilds);return L.has(I)?L.delete(I):L.add(I),{...P,guilds:Array.from(L)}}),m=()=>n(I=>({...I,guilds:[]})),g=I=>n(P=>({...P,days:I})),y=I=>g(I),x=I=>n(P=>({...P,sortBy:I||"level"})),C=I=>n(P=>({...P,favoritesOnly:!!I,quickFav:!!I})),E=I=>n(P=>({...P,activeOnly:!!I,quickActive:!!I})),T=I=>n(P=>({...P,searchText:I})),B=I=>n(P=>{const L=dm(I,P.quickFav);return{...P,quickFav:L,favoritesOnly:L}}),S=I=>n(P=>{const L=dm(I,P.quickActive);return{...P,quickActive:L,activeOnly:L}}),v=I=>n(P=>({...P,filterMode:I})),w=I=>n(P=>({...P,listView:I})),N=I=>n(P=>({...P,bottomFilterOpen:!!I})),_=I=>n(P=>({...P,serverSheetOpen:!!I})),j=()=>n(ki),k=()=>j(),U=R.useMemo(()=>({servers:e.servers,classes:e.classes,guilds:e.guilds,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:a,setClasses:o,toggleClass:l,clearClasses:d,setGuilds:u,toggleGuild:h,clearGuilds:m,setDays:g,setRange:y,setSortBy:x,setFavoritesOnly:C,setActiveOnly:E,setSearchText:T,setQuickFav:B,setQuickActive:S,setFilterMode:v,setListView:w,setBottomFilterOpen:N,setServerSheetOpen:_,resetFilters:j,resetAll:k}),[e]);return s.jsx(qD.Provider,{value:U,children:t})}function fg(){const t=R.useContext(qD);return t||{...ki,guilds:ki.guilds,range:ki.days,searchText:ki.searchText,quickFav:ki.quickFav,quickActive:ki.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setGuilds:()=>{},toggleGuild:()=>{},clearGuilds:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const Jue="_hudWrap_pyu4f_9",Zue="_hudBtn_pyu4f_11",eAe="_hudSubBtn_pyu4f_15",tAe="_iconRow_pyu4f_19",sAe="_sortLabel_pyu4f_27",nAe="_sortSelect_pyu4f_29",rAe="_guildField_pyu4f_43",iAe="_guildLabel_pyu4f_45",aAe="_guildSelect_pyu4f_47",oAe="_guildSummary_pyu4f_49",lAe="_guildSummaryText_pyu4f_53",cAe="_guildCaret_pyu4f_55",dAe="_guildDropdown_pyu4f_57",uAe="_guildOption_pyu4f_59",AAe="_guildEmptyText_pyu4f_63",hAe="_guildClear_pyu4f_65",Un={hudWrap:Jue,hudBtn:Zue,hudSubBtn:eAe,iconRow:tAe,sortLabel:sAe,sortSelect:nAe,guildField:rAe,guildLabel:iAe,guildSelect:aAe,guildSummary:oAe,guildSummaryText:lAe,guildCaret:cAe,guildDropdown:dAe,guildOption:uAe,guildEmptyText:AAe,guildClear:hAe};function mAe({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:a}){const o=Math.round(i*.7),l=W.useMemo(()=>{const T=[],B=QR(n,o*2,o*2,"contain");B&&T.push(B);const S=Yi(n,o*2);return S&&S!==B&&T.push(S),!T.length&&n&&T.push(n),T},[n,o]),[d,u]=W.useState(0),[h,m]=W.useState(!1),[g,y]=W.useState(!1);W.useEffect(()=>u(0),[l]);const x=l[d]||"",C={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:g||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};h&&(C.background="rgba(255,255,255,.04)"),t&&(C.outline="2px solid #5C8BC6");const E={display:"block",width:o,height:o,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:a,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onFocus:()=>y(!0),onBlur:()=>y(!1),style:C,children:x?s.jsx("img",{src:x,alt:e||"class",width:o,height:o,loading:"lazy",style:E,onError:()=>{u(T=>T+1<l.length?T+1:T)}}):s.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}function pAe({compareMonth:t,setCompareMonth:e,monthOptions:n,guildOptions:r,onExportPng:i,exportDisabled:a}){const{t:o}=Gs(),{servers:l,classes:d,setClasses:u,guilds:h,toggleGuild:m,clearGuilds:g,sortBy:y,setSortBy:x,filterMode:C,setBottomFilterOpen:E,serverSheetOpen:T,setServerSheetOpen:B,resetAll:S}=fg(),v=o("toplists.filters.guilds.label","Guilds"),w=o("toplists.filters.guilds.placeholder","All guilds"),N=o("toplists.filters.guilds.empty","No guilds in snapshot"),_=o("toplists.filters.guilds.clear","Clear"),j=o("toplists.exportDialog.title","Export PNG"),k=h.length?o("toplists.filters.guilds.selected","{{count}} selected",{count:h.length}):w;return s.jsxs("div",{className:Un.hudWrap,children:[s.jsxs("button",{type:"button",className:Un.hudBtn,onClick:U=>{U.preventDefault(),U.stopPropagation(),B(!0)},"aria-haspopup":"dialog","aria-expanded":T||!1,"aria-label":`Select servers${l.length?` (${l.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",l.length?`(${l.length})`:""]}),s.jsxs("div",{className:Un.iconRow,children:[Rr.map(U=>s.jsx(mAe,{active:d.includes(U.key),title:U.label,iconUrl:U.iconUrl,fallback:U.fallback,size:40,onClick:()=>u(I=>I.includes(U.key)?I.filter(P=>P!==U.key):[...I,U.key])},U.key)),s.jsx("button",{type:"button",className:Un.hudSubBtn,onClick:()=>u(Rr.map(U=>U.key)),children:"All"}),s.jsx("button",{type:"button",className:Un.hudSubBtn,onClick:()=>u([]),children:"None"})]}),s.jsxs("div",{className:Un.guildField,children:[s.jsx("span",{className:Un.guildLabel,children:v}),r.length?s.jsxs("details",{className:Un.guildSelect,children:[s.jsxs("summary",{className:Un.guildSummary,"aria-label":v,children:[s.jsx("span",{className:Un.guildSummaryText,children:k}),s.jsx("span",{className:Un.guildCaret,"aria-hidden":"true",children:"v"})]}),s.jsxs("div",{className:Un.guildDropdown,children:[r.map(U=>{const I=h.includes(U.value);return s.jsxs("label",{className:Un.guildOption,children:[s.jsx("input",{type:"checkbox",checked:I,onChange:()=>m(U.value)}),s.jsx("span",{children:U.label})]},U.value)}),h.length>0&&s.jsx("button",{type:"button",className:Un.guildClear,onClick:g,children:_})]})]}):s.jsx("span",{className:Un.guildEmptyText,children:N})]}),s.jsx("label",{className:Un.sortLabel,htmlFor:"toplists-sort",children:"Sort."}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:y,onChange:U=>x(U.target.value),className:Un.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"main",children:"Main"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"sum",children:"Base Stats"}),s.jsx("option",{value:"statsDay",children:"Stats/Day"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"mine",children:"Mine"})]}),s.jsx("label",{className:Un.sortLabel,htmlFor:"toplists-compare",children:o("toplists.compareMonth","Compare month")}),s.jsxs("select",{id:"toplists-compare",name:"toplists-compare",value:t,onChange:U=>e(U.target.value),className:Un.sortSelect,"aria-label":o("toplists.compareMonth","Compare month"),children:[s.jsx("option",{value:"",children:o("toplists.compareOff","Off")}),n.map(U=>s.jsx("option",{value:U,children:U},U))]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:Un.hudSubBtn,onClick:i,disabled:a||!i,style:a||!i?{opacity:.55,cursor:"not-allowed"}:void 0,children:j}),s.jsx("button",{type:"button",className:Un.hudSubBtn,onClick:S,children:"Reset"}),C==="sheet"&&s.jsx("button",{type:"button",className:Un.hudBtn,onClick:U=>{U.preventDefault(),U.stopPropagation(),E(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const gAe=["EU","US","INT","Fusion"],Zr={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"},fAe=t=>t.trim().toLowerCase(),o3=t=>{var i;const e=fAe(t),n=(i=Wue[e])==null?void 0:i.label;if(n)return n;const r=t.trim().toUpperCase();return r?r.replace(/^([A-Z]+)(\d+)$/,"$1 $2"):t};function vAe({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:a,onSelectAllInRegion:o,onClearAll:l}){const[d,u]=R.useState(""),h=R.useRef(null);R.useEffect(()=>{if(!t)return;const y=x=>{x.key==="Escape"&&e()};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[t,e]),R.useEffect(()=>{if(t&&h.current){const y=h.current.querySelector("#sheet-serversearch");y==null||y.focus()}},[t]);const m=gAe,g=y=>{const x=d.trim().toLowerCase();if(!x)return!0;const C=o3(y).toLowerCase();return y.toLowerCase().includes(x)||C.includes(x)};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:xAe,onClick:y=>{y.target===y.currentTarget&&e()},children:s.jsxs("div",{ref:h,style:n==="modal"?XD:yAe,className:"sf-server-sheet",children:[s.jsxs("div",{style:wAe,children:[s.jsx("h2",{id:"server-dialog-title",style:bAe,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:l,style:l3,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:kAe,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers...",value:d,onChange:y=>u(y.target.value),"aria-label":"Search servers",autoComplete:"off",style:jAe})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:m.map(y=>{const x=(r[y]||[]).filter(g);return s.jsxs("section",{"aria-labelledby":`region-${y}`,children:[s.jsxs("div",{style:CAe,children:[s.jsx("h3",{id:`region-${y}`,style:_Ae,children:y}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:l3,onClick:()=>{o?o(y):x.filter(E=>!i.includes(E)).forEach(a)},children:"Select all"})})]}),s.jsxs("div",{style:SAe,children:[x.map(C=>{const E=i.includes(C),T=o3(C);return s.jsx("button",{type:"button",onClick:()=>a(C),"aria-pressed":E,title:T,style:{...BAe,...E?NAe:null},children:T},C)}),x.length===0&&s.jsx("div",{style:{color:Zr.text2,fontSize:13,padding:"4px 2px"},children:"No servers found"})]})]},y)})})]})}):null}const xAe={position:"fixed",inset:0,background:Zr.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},XD={width:"min(900px, 100%)",background:Zr.tile,border:`1px solid ${Zr.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Zr.text},yAe={...XD,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},wAe={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},bAe={fontSize:18,margin:0},_Ae={fontSize:14,margin:0,color:Zr.text2},jAe={width:"100%",background:Zr.input,color:Zr.text,border:`1px solid ${Zr.line}`,borderRadius:12,padding:"10px 12px"},CAe={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},SAe={display:"flex",flexWrap:"wrap",gap:8},BAe={background:Zr.chip,border:`1px solid ${Zr.line}`,padding:"6px 10px",borderRadius:999,color:Zr.text},NAe={outline:`2px solid ${Zr.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},kAe={background:"#25456B",color:Zr.text,border:`1px solid ${Zr.accent}`,borderRadius:10,padding:"8px 12px"},l3={background:"transparent",color:Zr.text,border:`1px solid ${Zr.line}`,borderRadius:10,padding:"8px 12px"},IAe=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=IAe,document.head.appendChild(e)}}const Xr={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function EAe({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:a,sortBy:o,setSortBy:l,quickFav:d,setQuickFav:u,quickActive:h,setQuickActive:m}=fg(),g=R.useRef(null);if(R.useEffect(()=>{if(!t)return;const x=C=>{C.key==="Escape"&&e()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t,e]),R.useEffect(()=>{if(t&&g.current){const x=g.current.querySelector("#sheet-search");x==null||x.focus()}},[t]),!t)return null;const y=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:TAe,onClick:x=>{x.target===x.currentTarget&&e()},children:s.jsxs("div",{ref:g,style:FAe,children:[s.jsxs("div",{style:LAe,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Xr.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:UAe,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:x=>r(x.target.value),"aria-label":"Search",autoComplete:"off",style:YD})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:Xr.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:y.map(x=>s.jsx("button",{type:"button","aria-pressed":i===x.value,onClick:()=>a(x.value),style:{...c1,...i===x.value?d1:null},children:x.label},x.label))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Xr.text2,fontSize:12},children:"Sort."}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:o,onChange:x=>l(x.target.value),"aria-label":"Sort",autoComplete:"off",style:RAe,children:[s.jsx("option",{value:"main",children:"Main"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"sum",children:"Base Stats"}),s.jsx("option",{value:"statsDay",children:"Stats/Day"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"mine",children:"Mine"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>u(x=>!x),"aria-pressed":d,style:{...c1,...d?d1:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>m(x=>!x),"aria-pressed":h,style:{...c1,...h?d1:null},children:" Active"})]})]})})}const TAe={position:"fixed",inset:0,background:Xr.backdrop,zIndex:60,display:"grid",alignItems:"end"},FAe={background:Xr.tile,borderTop:`1px solid ${Xr.line}`,borderLeft:`1px solid ${Xr.line}`,borderRight:`1px solid ${Xr.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Xr.text,maxHeight:"80vh",overflow:"auto"},LAe={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},YD={width:"100%",background:Xr.input,color:Xr.text,border:`1px solid ${Xr.line}`,borderRadius:12,padding:"10px 12px"},RAe={...YD,appearance:"none"},c1={background:"#14273E",border:`1px solid ${Xr.line}`,padding:"6px 10px",borderRadius:999,color:Xr.text},d1={outline:`2px solid ${Xr.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},UAe={background:"#25456B",color:Xr.text,border:`1px solid ${Xr.accent}`,borderRadius:10,padding:"8px 12px"},PAe=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=PAe,document.head.appendChild(e)}}function DAe(){var i;const t=fg(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(a=>{var o,l,d,u,h,m,g;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(o=a.name)!=null?o:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(l=a.server)!=null?l:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(d=a.class)!=null?d:""}),"  Lv ",(u=a.level)!=null?u:"","  Scrap ",(h=a.scrapbook)!=null?h:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(u1,{children:a.active?"Active":"Idle"}),a.favorite&&s.jsx(u1,{children:" Fav"}),s.jsx(u1,{children:`Scan ${(m=a.lastScanDays)!=null?m:"?"}d`})]})]},(g=a.id)!=null?g:`${a.name}-${a.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(a=>{var o,l,d,u;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[a.favorite&&" ",(o=a.name)!=null?o:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(l=a.server)!=null?l:"","  Lv ",(d=a.level)!=null?d:"",")"]})]},(u=a.id)!=null?u:`${a.name}-${a.server}`)})})]})}function u1({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const MAe=1440*60*1e3,QAe=t=>{var g,y;const e=t.trim();if(!e)return null;const n=e.split(/\s+/),r=(g=n[0])!=null?g:"",i=(y=n[1])!=null?y:"",a=r.split(".");if(a.length!==3)return null;const o=Number(a[0]),l=Number(a[1]),d=Number(a[2]);if(!Number.isFinite(o)||!Number.isFinite(l)||!Number.isFinite(d))return null;let u=0,h=0;if(i){const x=i.split(":");if(x.length<2||(u=Number(x[0]),h=Number(x[1]),!Number.isFinite(u)||!Number.isFinite(h)))return null}const m=new Date(d,l-1,o,u,h,0,0);return m.getFullYear()!==d||m.getMonth()!==l-1||m.getDate()!==o?null:m.getTime()},HAe=t=>{if(t==null)return null;if(typeof t=="number")return t<1e12?t*1e3:t;const e=String(t).trim();if(!e)return null;if(/^\d{10,13}$/.test(e)){const n=Number(e);return Number.isFinite(n)?n<1e12?n*1e3:n:null}return QAe(e)},OAe=(t,e)=>{if(!t)return null;let n=null;if(typeof t=="number"?n=t<1e12?t*1e3:t:n=HAe(String(t)),n==null||!Number.isFinite(n))return null;const r=Math.max(0,Math.floor((e-n)/MAe));return r<=0?"#34d399":r===1?"#4ade80":r<=3?"#a3e635":r<=7?"#facc15":r<=14?"#f97316":r<=30?"#ef4444":"#b91c1c"},jc=t=>t==null?"":new Intl.NumberFormat("en").format(t),$Ae=(t,e)=>{if(e||t==null||!Number.isFinite(t))return"n/a";if(t===0||Object.is(t,-0))return"-";const n=jc(Math.abs(t));return t>0?`+${n}`:`-${n}`},VAe=(t,e)=>{const n=t.indexOf("#"),r=n>=0?t.slice(n):"",i=n>=0?t.slice(0,n):t,a=Object.entries(e).map(([l,d])=>`${encodeURIComponent(l)}=${encodeURIComponent(String(d))}`).join("&");if(!a)return t;const o=i.includes("?")?"&":"?";return`${i}${o}${a}${r}`},GAe=(t,e)=>{var i,a,o,l,d,u,h,m,g,y,x;const n=(a=(i=t.playerId)!=null?i:t.id)!=null?a:null;if(n!=null&&String(n).trim())return String(n).trim();const r=[t.identifier,(o=t.original)==null?void 0:o.identifier,(l=t.value)==null?void 0:l.identifier,(d=t.data)==null?void 0:d.identifier,(u=t.player)==null?void 0:u.identifier,(m=(h=t.value)==null?void 0:h.player)==null?void 0:m.identifier];for(const C of r)if(typeof C=="string"&&C.trim())return C.trim();return`${(g=t.server)!=null?g:""}__${(y=t.name)!=null?y:""}__${(x=t.class)!=null?x:""}__${e}`};function KAe({rows:t,showCompare:e,width:n,exportNonce:r}){const i=Date.now();return s.jsx("div",{style:{width:`${Math.max(1,Math.round(n))}px`,background:"#0C1C2E",color:"#E6EEF8"},children:s.jsxs("table",{className:"toplists-table",style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"center",width:60},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Stats/Day"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"})]})}),s.jsx("tbody",{children:t.map((a,o)=>{var T,B,S,v,w,N,_,j,k,U,I,P;const l=e&&(T=a._rankDelta)!=null?T:null,d=e?!!a._compareMissing:!1,u=String((B=a.class)!=null?B:"").trim(),h=dg(u,48),m=GAe(a,o),g=h?VAe(h,{exp:r,row:m}):null,y=(w=a._calculatedSum)!=null?w:((S=a.main)!=null?S:0)+((v=a.con)!=null?v:0),x=e&&(N=a._statsPerDay)!=null?N:null,C=e&&(_=a._statsDays)!=null?_:null,E=OAe(a.lastScan,i);return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:o+1}),s.jsx("td",{style:{padding:"8px 6px"},children:e?$Ae(l,d):""}),s.jsx("td",{style:{padding:"8px 6px"},children:a.server}),s.jsx("td",{style:{padding:"8px 6px"},children:a.name}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"center"},children:g?s.jsx("img",{src:g,alt:u||"class",loading:"eager",decoding:"sync",className:"class-icon-toplist",style:{display:"inline-block",objectFit:"contain"}}):s.jsx("span",{children:u})}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:jc(a.level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(j=a.guild)!=null?j:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:jc(a.main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:jc(a.con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:jc(y)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{children:x==null?"-":jc(x)}),s.jsx("span",{style:{fontSize:11,opacity:.8},children:C==null?"-":`${C}d`})]})}),s.jsx("td",{style:{padding:"8px 6px"},children:(U=(k=a._ratioLabel)!=null?k:a.ratio)!=null?U:"-"}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:jc(a.mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:jc(a.treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[s.jsx("span",{children:(I=a.lastScan)!=null?I:""}),E&&s.jsx("span",{"aria-hidden":!0,style:{width:8,height:8,borderRadius:"50%",background:E,boxShadow:"0 0 6px rgba(0, 0, 0, 0.35)"}})]})})]},`${a.name}__${a.server}__${(P=a.class)!=null?P:""}__${o}`)})})]})})}const zAe="_backdrop_df5bl_1",WAe="_panel_df5bl_13",qAe="_title_df5bl_25",XAe="_section_df5bl_32",YAe="_sectionLabel_df5bl_37",JAe="_chipRow_df5bl_43",ZAe="_chip_df5bl_43",ehe="_chipActive_df5bl_60",the="_guildSelect_df5bl_66",she="_guildSummary_df5bl_72",nhe="_guildList_df5bl_87",rhe="_guildOption_df5bl_95",ihe="_empty_df5bl_102",ahe="_rangeToggle_df5bl_107",ohe="_rangeInputs_df5bl_115",lhe="_rangeField_df5bl_121",che="_rangeInput_df5bl_115",dhe="_helper_df5bl_141",uhe="_actions_df5bl_146",Ahe="_btn_df5bl_152",hhe="_btnPrimary_df5bl_163",Is={backdrop:zAe,panel:WAe,title:qAe,section:XAe,sectionLabel:YAe,chipRow:JAe,chip:ZAe,chipActive:ehe,guildSelect:the,guildSummary:she,guildList:nhe,guildOption:rhe,empty:ihe,rangeToggle:ahe,rangeInputs:ohe,rangeField:lhe,rangeInput:che,helper:dhe,actions:uhe,btn:Ahe,btnPrimary:hhe};function mhe({isOpen:t,amount:e,selection:n,guildOptions:r,selectedGuilds:i,availableCount:a,rangeEnabled:o,rangeFrom:l,rangeTo:d,exporting:u,onAmountChange:h,onSelectionChange:m,onToggleGuild:g,onRangeEnabledChange:y,onRangeFromChange:x,onRangeToChange:C,onCancel:E,onExport:T}){const{t:B}=Gs();if(W.useEffect(()=>{if(!t)return;const w=N=>{N.key==="Escape"&&E()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t,E]),!t)return null;const S=i.length?B("toplists.exportDialog.guildsSummary","Guilds: {{list}}",{list:i.join(", ")}):B("toplists.exportDialog.guildsPlaceholder","Guilds: none selected"),v=u||a<=0;return s.jsx("div",{className:Is.backdrop,role:"dialog","aria-modal":"true","aria-label":B("toplists.exportDialog.title","Export PNG"),onMouseDown:w=>{w.target===w.currentTarget&&E()},children:s.jsxs("div",{className:Is.panel,children:[s.jsx("h3",{className:Is.title,children:B("toplists.exportDialog.title","Export PNG")}),s.jsxs("div",{className:Is.section,children:[s.jsx("div",{className:Is.sectionLabel,children:B("toplists.exportDialog.amount","Amount")}),s.jsx("div",{className:Is.chipRow,children:[50,100,150].map(w=>{const N=e===w;return s.jsxs("button",{type:"button",className:`${Is.chip} ${N?Is.chipActive:""}`,onClick:()=>h(w),"aria-pressed":N,children:["Top ",w]},w)})})]}),s.jsxs("div",{className:Is.section,children:[s.jsx("div",{className:Is.sectionLabel,children:B("toplists.exportDialog.range.title","Rank range")}),s.jsxs("label",{className:Is.rangeToggle,children:[s.jsx("input",{type:"checkbox",checked:o,onChange:w=>y(w.target.checked)}),s.jsx("span",{children:B("toplists.exportDialog.range.enable","Use rank range")})]}),o&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Is.rangeInputs,children:[s.jsxs("label",{className:Is.rangeField,children:[s.jsx("span",{children:B("toplists.exportDialog.range.from","From")}),s.jsx("input",{type:"number",min:1,max:Math.max(1,a),value:l,onChange:w=>x(Number(w.target.value)),className:Is.rangeInput,disabled:a<=0})]}),s.jsxs("label",{className:Is.rangeField,children:[s.jsx("span",{children:B("toplists.exportDialog.range.to","To")}),s.jsx("input",{type:"number",min:l,max:Math.max(1,a),value:d,onChange:w=>C(Number(w.target.value)),className:Is.rangeInput,disabled:a<=0})]})]}),s.jsx("div",{className:Is.helper,children:B("toplists.exportDialog.range.max","Max: {{count}}",{count:a})}),s.jsx("div",{className:Is.helper,children:B("toplists.exportDialog.range.oneBased","Ranks are 1-based")})]})]}),s.jsxs("div",{className:Is.section,children:[s.jsx("div",{className:Is.sectionLabel,children:B("toplists.exportDialog.selection","Selection")}),s.jsxs("div",{className:Is.chipRow,children:[s.jsx("button",{type:"button",className:`${Is.chip} ${n==="current"?Is.chipActive:""}`,onClick:()=>m("current"),"aria-pressed":n==="current",children:B("toplists.exportDialog.currentView","Current view")}),s.jsx("button",{type:"button",className:`${Is.chip} ${n==="guilds"?Is.chipActive:""}`,onClick:()=>m("guilds"),"aria-pressed":n==="guilds",children:B("toplists.exportDialog.guilds","Guilds")})]})]}),s.jsx("div",{className:Is.section,children:s.jsxs("details",{className:Is.guildSelect,open:n==="guilds",children:[s.jsx("summary",{className:Is.guildSummary,children:S}),s.jsx("div",{className:Is.guildList,children:r.length?r.map(w=>s.jsxs("label",{className:Is.guildOption,children:[s.jsx("input",{type:"checkbox",checked:i.includes(w),onChange:()=>g(w),disabled:n!=="guilds"}),s.jsx("span",{children:w})]},w)):s.jsx("div",{className:Is.empty,children:B("toplists.exportDialog.guildsEmpty","No guilds available")})})]})}),s.jsxs("div",{className:Is.actions,children:[s.jsx("button",{type:"button",className:Is.btn,onClick:E,disabled:u,children:B("toplists.exportDialog.cancel","Cancel")}),s.jsx("button",{type:"button",className:`${Is.btn} ${Is.btnPrimary}`,onClick:T,disabled:v,children:u?B("toplists.exportDialog.exporting","Exporting..."):B("toplists.exportDialog.export","Export")})]})]})})}const C0="stats_public",JD="toplists_players_v1",phe="v1",ghe=`snapshot:${phe}`,uy=new Set,fhe=(t,e,n)=>{uy.has(t)||(uy.add(t),n?console.warn(e,n):console.warn(e))},vhe=(t,e,n)=>{uy.has(t)||(uy.add(t),n?console.error(e,n):console.error(e))};async function xhe(){try{const t=await Nn(vs(Lt,C0,"toplists_bundle_v1"));if(!t.exists())return{ok:!1,error:"not_found"};const n=(t.data()||{}).servers,r=d=>d.split(/[\n,;]+/g).map(u=>u.replace(/^[\s\["']+|[\s\]"']+$/g,"").trim()).filter(u=>!!u);let i=null,a=null,o;if(Array.isArray(n))i=n;else if(typeof n=="string"){const d=n.trim();if(!d)a="servers string empty";else if(d.startsWith("["))try{const u=JSON.parse(d);Array.isArray(u)?i=u:a="servers JSON parsed but not an array"}catch(u){const h=r(d);h.length?i=h:(a="servers JSON parse failed",o={message:u==null?void 0:u.message})}else{const u=r(d);u.length?i=u:(a="servers string is not a JSON array",o={preview:d.slice(0,120)})}}else n==null?a="servers field missing":a=`servers has unexpected type: ${typeof n}`;if(!Array.isArray(i))return fhe("bundle_invalid","[toplistsFirestore] Server bundle missing/invalid, falling back to static config",o?{reason:a!=null?a:"unknown",...o}:{reason:a!=null?a:"unknown"}),{ok:!1,error:"decode_failed",detail:a!=null?a:"servers missing or invalid"};const l=[];for(const d of i){if(typeof d!="string"){console.warn("[toplistsFirestore] Skipping non-string server entry",{entry:d});continue}const u=d.trim();u&&l.push(u)}return{ok:!0,servers:l}}catch(t){return vhe("bundle_firestore_error","[toplistsFirestore] Firestore error while loading toplist servers",{code:t==null?void 0:t.code,message:t==null?void 0:t.message}),{ok:!1,error:"firestore_error",detail:t==null?void 0:t.message}}}const sn=t=>{if(typeof t=="number")return Number.isFinite(t)?t:null;if(typeof t=="string"){const e=Number(t);return Number.isFinite(e)?e:null}if(t instanceof Date)return Number.isFinite(t.getTime())?t.getTime():null;if(t&&typeof t.toMillis=="function"){const e=t.toMillis();return Number.isFinite(e)?e:null}return null},Ii=t=>typeof t=="string"?t:null,yhe=t=>typeof t=="string"?t:typeof t=="number"&&Number.isFinite(t)?String(t):null,ZD=t=>{var i,a;if(!t||typeof t!="object")return null;const e=Ii(t.server),n=Ii(t.name),r=Ii(t.class);return!e||!n||!r?null:{playerId:yhe((a=(i=t.playerId)!=null?i:t.id)!=null?a:t.player_id),flag:Ii(t.flag),deltaRank:sn(t.deltaRank),server:e,name:n,class:r,level:sn(t.level),guild:Ii(t.guild),main:sn(t.main),con:sn(t.con),sum:sn(t.sum),ratio:Ii(t.ratio),mainTotal:sn(t.mainTotal),conTotal:sn(t.conTotal),sumTotal:sn(t.sumTotal),xpProgress:sn(t.xpProgress),xpTotal:sn(t.xpTotal),mine:sn(t.mine),treasury:sn(t.treasury),lastScan:Ii(t.lastScan),deltaSum:sn(t.deltaSum)}},whe=t=>{var a,o,l,d;if(!t||typeof t!="object")return null;const e=Ii(t.server),n=(a=Ii(t.name))!=null?a:Ii(t.guildId),r=(o=Ii(t.guildId))!=null?o:n;if(!e||!n||!r)return null;const i=sn((d=(l=t.sumAvg)!=null?l:t.avgSumBaseTotal)!=null?d:t.sum);return{guildId:r,server:e,name:n,memberCount:sn(t.memberCount),hofRank:sn(t.hofRank),lastScan:Ii(t.lastScan),sumAvg:i,avgLevel:sn(t.avgLevel),avgTreasury:sn(t.avgTreasury),avgMine:sn(t.avgMine),avgBaseMain:sn(t.avgBaseMain),avgConBase:sn(t.avgConBase),avgSumBaseTotal:sn(t.avgSumBaseTotal),avgAttrTotal:sn(t.avgAttrTotal),avgConTotal:sn(t.avgConTotal),avgTotalStats:sn(t.avgTotalStats)}};async function bhe(t){var i;const e=(t||"").trim().toUpperCase();if(!e)return{ok:!1,error:"decode_error",detail:"missing server code"};const n=`ToplistsPlayers:${e}`;t0(n);const r=Jn(n);try{const a=vs(Lt,C0,JD,"lists","latest_toplists","servers",e),o=await On(r,a,()=>Nn(a),{label:"ToplistsPlayers"});if(!o.exists())return{ok:!1,error:"not_found"};const l=o.data()||{},d=Array.isArray(l.players)?l.players:null;if(!d)return{ok:!1,error:"decode_error",detail:"missing players array"};const u=[];for(const h of d){const m=ZD(h);if(!m)return console.error("[toplistsFirestore] Latest snapshot row decode failed",h),{ok:!1,error:"decode_error",detail:"invalid player row"};u.push(m)}return{ok:!0,snapshot:{server:(i=Ii(l.server))!=null?i:e,updatedAt:sn(l.updatedAt),players:u}}}catch(a){return console.error("[toplistsFirestore] Firestore error",a),{ok:!1,error:"firestore_error",detail:a==null?void 0:a.message}}finally{Cn(r),s0(n),n0(n)}}async function _he(t){var i;const e=(t||"").trim();if(!e)return{ok:!1,error:"decode_error",detail:"missing doc id"};const n=`ToplistsPlayersCompare:${e}`;t0(n);const r=Jn(n);try{const a=vs(Lt,C0,JD,"lists","latest_toplists","servers",e),o=await On(r,a,()=>Nn(a),{label:`ToplistsPlayersCompare:${e}`});if(!o.exists())return{ok:!1,error:"not_found"};const l=o.data()||{},d=Array.isArray(l.players)?l.players:null;if(!d)return{ok:!1,error:"decode_error",detail:"missing players array"};const u=[];for(const h of d){const m=ZD(h);if(!m)return console.error("[toplistsFirestore] Snapshot row decode failed",h),{ok:!1,error:"decode_error",detail:"invalid player row"};u.push(m)}return{ok:!0,snapshot:{server:(i=Ii(l.server))!=null?i:e,updatedAt:sn(l.updatedAt),players:u}}}catch(a){return console.error("[toplistsFirestore] Firestore error",a),{ok:!1,error:"firestore_error",detail:a==null?void 0:a.message}}finally{Cn(r),s0(n),n0(n)}}const e6=(t,e)=>`${ghe}:${t}:${e}`,jhe=t=>`toplists:compare:${t}`,A1=new Map,nS=t=>{const e=new Date(t);return e.setMinutes(0,0,0),e.getTime()<=t&&e.setHours(e.getHours()+1),e.getTime()},rS=t=>{try{if(typeof localStorage=="undefined")return null;const e=localStorage.getItem(t);if(!e)return null;const n=JSON.parse(e);return!n||typeof n!="object"||typeof n.expiresAt!="number"||!("snapshot"in n)?null:n}catch(e){return null}},Che=t=>t==null||typeof t=="string"&&t.includes("/"),t6=t=>{const e=t==null?void 0:t.players;return Array.isArray(e)?e.some(n=>n&&!Che(n.ratio)):!1},iS=(t,e)=>{try{if(typeof localStorage=="undefined")return;localStorage.setItem(t,JSON.stringify(e))}catch(n){}},aS=t=>{try{if(typeof localStorage=="undefined")return;localStorage.removeItem(t)}catch(e){}};async function She(t){const e=(t||"").trim().toUpperCase();if(!e)return{ok:!1,error:"decode_error",detail:"missing server code"};const n=e6("players",e),r=Date.now(),i=rS(n);if(i){if(r<i.expiresAt&&!t6(i.snapshot))return{ok:!0,snapshot:i.snapshot};aS(n)}const a=await bhe(e);return a.ok&&iS(n,{snapshot:a.snapshot,fetchedAt:r,expiresAt:nS(r)}),a}async function Bhe(t,e){const n=(t||"").trim();if(!n)return{ok:!1,error:"decode_error",detail:"missing doc id"};const r=jhe(n),i=Date.now(),a=rS(r);if(a){if(i<a.expiresAt&&!t6(a.snapshot))return{ok:!0,snapshot:a.snapshot};aS(r)}const o=A1.get(n);if(o)return o;const l=(async()=>{const d=await _he(n);if(d.ok){const u=nS(i);iS(r,{snapshot:d.snapshot,fetchedAt:i,expiresAt:u})}return d})();A1.set(n,l);try{return await l}finally{A1.delete(n)}}async function Nhe(t){var i;const e=(t||"").trim().toUpperCase();if(!e)return{ok:!1,error:"decode_error",detail:"missing server code"};const n=`ToplistsGuilds:${e}`;t0(n);const r=Jn(n);try{const a=vs(Lt,C0,"toplists_guilds_v1","lists","latest_toplists","servers",e),o=await On(r,a,()=>Nn(a),{label:"ToplistsGuilds"});if(!o.exists())return{ok:!1,error:"not_found"};const l=o.data()||{},d=Array.isArray(l.guilds)?l.guilds:null;if(!d)return{ok:!1,error:"decode_error",detail:"missing guilds array"};const u=[];for(const h of d){const m=whe(h);if(!m)return console.error("[toplistsFirestore] Latest guild snapshot row decode failed",h),{ok:!1,error:"decode_error",detail:"invalid guild row"};u.push(m)}return{ok:!0,snapshot:{server:(i=Ii(l.server))!=null?i:e,updatedAt:sn(l.updatedAt),guilds:u}}}catch(a){return console.error("[toplistsFirestore] Firestore error",a),{ok:!1,error:"firestore_error",detail:a==null?void 0:a.message}}finally{Cn(r),s0(n),n0(n)}}async function khe(t){const e=(t||"").trim().toUpperCase();if(!e)return{ok:!1,error:"decode_error",detail:"missing server code"};const n=e6("guilds",e),r=Date.now(),i=rS(n);if(i){if(r<i.expiresAt)return{ok:!0,snapshot:i.snapshot};aS(n)}const a=await Nhe(e);return a.ok&&iS(n,{snapshot:a.snapshot,fetchedAt:r,expiresAt:nS(r)}),a}const Ihe={EU:[],US:[],INT:[],Fusion:[]},Ehe=["EU","US","INT","Fusion"],The=t=>{const e=t.toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("AM")||e.startsWith("US")||e.startsWith("NA")?"US":e.startsWith("F")?"Fusion":"INT"};function s6(t){const e={EU:new Set,US:new Set,INT:new Set,Fusion:new Set};t.forEach(r=>{if(typeof r!="string")return;const i=The(r);e[i].add(r)});const n={...Ihe};return Ehe.forEach(r=>{n[r]=Array.from(e[r]).sort((i,a)=>i.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"}))}),n}const Fhe="EU",h1=s6(sS.map(t=>t.id).filter(t=>typeof t=="string"&&!!t)),n6=R.createContext(null),c3=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function Lhe(t,e){return t.group===e.group&&t.timeRange===e.timeRange&&c3(t.servers,e.servers)&&c3(t.classes,e.classes)}function Rhe(t,e){return t.key===e.key&&t.dir===e.dir}const cx=t=>t.trim().toUpperCase(),r6=t=>t!=null?t.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/-+/g,"-"):"",Uhe=t=>{if(!Array.isArray(t))return[];const e=new Set;for(const n of t){const r=cx(String(n||""));r&&e.add(r)}return Array.from(e).sort((n,r)=>n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"}))},Phe=t=>{if(!Array.isArray(t))return[];const e=new Set;for(const n of t){const r=r6(n);r&&e.add(r)}return Array.from(e).sort((n,r)=>n.localeCompare(r,void 0,{sensitivity:"base"}))},m1=t=>{var g,y;if(t==null)return null;if(typeof t=="number")return t<1e12?t*1e3:t;const e=String(t).trim();if(!e)return null;if(/^\d{10,13}$/.test(e)){const x=Number(e);return Number.isFinite(x)?x<1e12?x*1e3:x:null}const n=e.split(/\s+/),r=(g=n[0])!=null?g:"",i=(y=n[1])!=null?y:"",a=r.split(".");if(a.length!==3)return null;const o=Number(a[0]),l=Number(a[1]),d=Number(a[2]);if(!Number.isFinite(o)||!Number.isFinite(l)||!Number.isFinite(d))return null;let u=0,h=0;if(i){const x=i.split(":");if(x.length<2||(u=Number(x[0]),h=Number(x[1]),!Number.isFinite(u)||!Number.isFinite(h)))return null}const m=new Date(d,l-1,o,u,h,0,0);return m.getFullYear()!==d||m.getMonth()!==l-1||m.getDate()!==o?null:m.getTime()};function Dhe({children:t}){const[e,n]=R.useState({group:Fhe,servers:[],classes:[],timeRange:"all"}),[r,i]=R.useState({key:"sum",dir:"desc"}),[a,o]=R.useState({rows:[],loading:!1,error:null,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:null,rowLimit:null}),l=R.useRef(new Map),d=null,[u,h]=R.useState(h1),m=R.useMemo(()=>Uhe(e.servers),[e.servers]),g=R.useMemo(()=>Phe(e.classes),[e.classes]),y=R.useMemo(()=>m,[m]),x=R.useMemo(()=>y.join(","),[y]),C=R.useCallback(S=>{n(v=>{const w=typeof S=="function"?S(v):{...v,...S};return Lhe(v,w)?v:w})},[]),E=R.useCallback(S=>{i(v=>{const w=typeof S=="function"?S(v):S;return Rhe(v,w)?v:w})},[]);R.useEffect(()=>{let S=!1;return(async()=>{const v=await xhe();if(!S){if(v.ok){const w=s6(v.servers);if(Object.values(w).some(_=>_.length>0)){h(w);return}}h(h1)}})().catch(v=>{S||(console.error("[ToplistsProvider] unexpected error while loading server list",v),h(h1))}),()=>{S=!0}},[]),R.useEffect(()=>{let S=!1;if(!y.length)return o({rows:[],loading:!1,error:Zn.t("toplistsPage.errors.noSnapshot","No snapshot yet for this server."),lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:null,rowLimit:null}),()=>{S=!0};const v=j=>{const k=[];let U=null,I=0;for(const P of j){P.updatedAt!=null&&(U=U==null?P.updatedAt:Math.max(U,P.updatedAt));const L=Array.isArray(P.players)?P.players:[];I=Math.max(I,L.length);for(const H of L)k.push(H.server?H:{...H,server:P.server})}return{rows:k,updatedAt:U,rowLimit:I||null}},w=[],N=[];for(const j of y){const k=l.current.get(j);k?w.push(k.snapshot):N.push(j)}const _=v(w);return N.length===0?(o({rows:_.rows,loading:!1,error:null,lastUpdatedAt:_.updatedAt,nextUpdateAt:null,ttlSec:null,listId:x||null,rowLimit:_.rowLimit}),()=>{S=!0}):(o(j=>({...j,rows:_.rows,lastUpdatedAt:_.updatedAt,rowLimit:_.rowLimit,listId:x||null,loading:!0,error:null})),(async()=>{const j=await Promise.all(N.map(L=>She(L)));if(S)return;const k=[...w];let U=null,I=null;if(j.forEach((L,H)=>{var z;const O=N[H]||"";L.ok?(l.current.set(O,{snapshot:L.snapshot,cachedAt:Date.now()}),k.push(L.snapshot)):U||(U=L.error,I=(z=L.detail)!=null?z:null)}),!k.length){const L=I?` (${I})`:"";let H="Firestore Fehler";U==="not_found"?H=Zn.t("toplistsPage.errors.noSnapshot","No snapshot yet for this server."):U==="decode_error"&&(H="Fehler beim Lesen der Daten"),o({rows:[],loading:!1,error:`${H}${L}`,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:x||null,rowLimit:null});return}const P=v(k);o({rows:P.rows,loading:!1,error:null,lastUpdatedAt:P.updatedAt,nextUpdateAt:null,ttlSec:null,listId:x||null,rowLimit:P.rowLimit})})().catch(j=>{S||(console.error("[ToplistsProvider] unexpected error",j),o({rows:[],loading:!1,error:"Unerwarteter Fehler beim Laden",lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:x||null,rowLimit:null}))}),()=>{S=!0})},[x]);const T=R.useMemo(()=>{let S=Array.isArray(a.rows)?[...a.rows]:[];if(!S.length)return S;const v=(L,H)=>{const O=typeof L=="number"&&Number.isFinite(L)?L:0,z=typeof H=="number"&&Number.isFinite(H)?H:0,G=O+z;if(!(G>0))return{label:"",mainRatio:null};const $=Math.round(O/G*100),Y=100-$;return{label:`${$}/${Y}`,mainRatio:$}};S=S.map(L=>{var G,$;const{label:H,mainRatio:O}=v(L.main,L.con),z=((G=L.main)!=null?G:0)+(($=L.con)!=null?$:0);return{...L,ratio:H,_ratioLabel:H,_ratioMain:O,_calculatedSum:z}});const w=m,N=w.length?new Set(w):null,_=g,j=_.length?new Set(_):null,k=e.timeRange==="all"?null:Number(String(e.timeRange).replace("d","")),U=k&&Number.isFinite(k)?Date.now()-k*864e5:null;S=S.filter(L=>{if(N&&!N.has(cx(L.server))||j&&!j.has(r6(L.class)))return!1;if(U!=null){const H=m1(L.lastScan);if(H!=null&&H<U)return!1}return!0}),r.dir;const I=(L,H)=>{if(L==null&&H==null)return 0;if(L==null)return 1;if(H==null)return-1;const O=L-H;return r.dir==="asc"?O:-O},P=(L,H)=>{var X,Z,se,le,we,Se,te,ce,re,ye;const O=cx(String((X=L.server)!=null?X:"")),z=cx(String((Z=H.server)!=null?Z:"")),G=(we=(le=(se=L.playerId)!=null?se:L.id)!=null?le:L.name)!=null?we:"",$=(ce=(te=(Se=H.playerId)!=null?Se:H.id)!=null?te:H.name)!=null?ce:"",Y=`${O}__${String(G).trim()}__${String((re=L.class)!=null?re:"").trim()}`,J=`${z}__${String($).trim()}__${String((ye=H.class)!=null?ye:"").trim()}`,V=Y.localeCompare(J,void 0,{numeric:!0,sensitivity:"base"});return r.dir==="asc"?V:-V};return S.sort((L,H)=>{var z,G;let O=0;switch(r.key){case"name":{const $=String((z=L.name)!=null?z:""),Y=String((G=H.name)!=null?G:""),J=$.localeCompare(Y,void 0,{sensitivity:"base"});O=r.dir==="asc"?J:-J;break}case"lastScan":{const $=m1(L.lastScan),Y=m1(H.lastScan);O=I($==null?null:$,Y==null?null:Y);break}case"main":O=I(L.main,H.main);break;case"con":O=I(L.con,H.con);break;case"sum":O=I(L._calculatedSum,H._calculatedSum);break;case"ratio":O=I(L._ratioMain,H._ratioMain);break;case"mine":O=I(L.mine,H.mine);break;case"treasury":O=I(L.treasury,H.treasury);break;case"mainTotal":O=I(L.mainTotal,H.mainTotal);break;case"conTotal":O=I(L.conTotal,H.conTotal);break;case"sumTotal":O=I(L.sumTotal,H.sumTotal);break;case"xpProgress":O=I(L.xpProgress,H.xpProgress);break;case"xpTotal":O=I(L.xpTotal,H.xpTotal);break;case"level":default:O=I(L.level,H.level);break}return O!==0?O:P(L,H)}),a.rowLimit!=null&&a.rowLimit>0&&S.length>a.rowLimit&&(S=S.slice(0,a.rowLimit)),S},[a.rows,a.rowLimit,e.timeRange,m,g,r]),B=R.useMemo(()=>({player:a,playerRows:T,playerLoading:a.loading,playerError:a.error,playerLastUpdatedAt:a.lastUpdatedAt,playerNextUpdateAt:a.nextUpdateAt,playerScopeStatus:d,serverGroups:u,filters:e,sort:r,setFilters:C,setSort:E}),[a,T,e,r,u,C,E,d]);return s.jsx(n6.Provider,{value:B,children:t})}function i6(){const t=R.useContext(n6);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const Mhe=t=>{const e=new Set;return t.forEach(n=>{const r=String(n||"").trim().toUpperCase();r&&e.add(r)}),Array.from(e).sort((n,r)=>n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"}))};function Qhe({serverCodes:t}){const[e,n]=R.useState([]),[r,i]=R.useState(!1),[a,o]=R.useState(null),[l,d]=R.useState(null),[u,h]=R.useState(null),m=pi(),g=ur(),y=R.useMemo(()=>{var w;const B=Mhe(t!=null?t:[]);if(B.length)return B;const S=((w=sS.find(N=>N.id))==null?void 0:w.id)||"EU1",v=String(S).toUpperCase();return v?[v]:[]},[t]),x=R.useMemo(()=>y.join(","),[y]);R.useEffect(()=>{let B=!0;return i(!0),o(null),y.length?(Promise.all(y.map(S=>khe(S))).then(S=>{if(!B)return;const v=[];let w=null,N=null;if(S.forEach(U=>{var I,P;if(U.ok)v.push(U.snapshot);else if(!w){const L=U;w=(I=L.error)!=null?I:null,N=(P=L.detail)!=null?P:null}}),!v.length){const U=N?` (${N})`:"";let I="Firestore Fehler";w==="not_found"?I=Zn.t("toplistsPage.errors.noSnapshot","No snapshot yet for this server."):w==="decode_error"&&(I="Fehler beim Lesen der Daten"),n([]),d(null),h(null),o(`${I}${U}`);return}let _=null,j=0;const k=[];v.forEach(U=>{U.updatedAt!=null&&(_=_==null?U.updatedAt:Math.max(_,U.updatedAt));const I=Array.isArray(U.guilds)?U.guilds:[];j=Math.max(j,I.length),I.forEach(P=>{k.push((P.server,P))})}),n(k),d(_),h(j||null),o(null)}).catch(S=>{B&&(console.error("[GuildToplists] unexpected error",S),n([]),d(null),h(null),o("Unerwarteter Fehler beim Laden"))}).finally(()=>{B&&i(!1)}),()=>{B=!1}):(n([]),d(null),h(null),o(Zn.t("toplistsPage.errors.noSnapshot","No snapshot yet for this server.")),i(!1),()=>{B=!1})},[x]);const C=B=>B==null?"":new Intl.NumberFormat("en").format(B),E=B=>{if(B==null)return null;const S=B<1e12?B*1e3:B;return new Date(S).toLocaleString()},T=R.useMemo(()=>{let B=Array.isArray(e)?[...e]:[];if(!B.length)return B;const S=(v,w)=>v==null&&w==null?0:v==null?1:w==null?-1:w-v;return B.sort((v,w)=>S(v.sumAvg,w.sumAvg)),u!=null&&u>0&&B.length>u&&(B=B.slice(0,u)),B},[e,u]);return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12},children:["Guilds - snapshots (latest)",y.length?` - ${y.join(", ")}`:""]}),s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[r?"Loading...":a?"Error":"Ready"," - ",T.length," rows"]}),s.jsx("div",{children:l?`Updated: ${E(l)}`:null})]}),a&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:a}),s.jsx("button",{onClick:()=>m(`${g.pathname}${g.search}${g.hash}`),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Members"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Avg Lv"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Avg Sum"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"})]})}),s.jsxs("tbody",{children:[T.map((B,S)=>{var v;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:S+1}),s.jsx("td",{style:{padding:"8px 6px"},children:B.server}),s.jsx("td",{style:{padding:"8px 6px"},children:B.name}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:C(B.memberCount)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:C(B.avgLevel)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:C(B.sumAvg)}),s.jsx("td",{style:{padding:"8px 6px"},children:(v=B.lastScan)!=null?v:""})]},`${B.guildId}-${B.server}`)}),r&&T.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,style:{padding:12},children:"Loading..."})}),!r&&!a&&T.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,style:{padding:12},children:"No results"})})]})]})})]})}const d3=t=>(t!=null?t:"").split(",").map(e=>e.trim()).filter(Boolean),Ay=t=>{const e=new Set;return t.forEach(n=>{const r=n.trim().toUpperCase();r&&e.add(r)}),Array.from(e).sort((n,r)=>n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"}))},a6=t=>{const e=String(t!=null?t:"").trim().toUpperCase();if(!e)return"";const n=e.match(/^S(\d+)(?:\.EU)?$/);if(n)return`EU${n[1]}`;const r=e.match(/^EU(\d+)$/);return r?`EU${r[1]}`:e},Hhe=(t,e)=>`${a6(t)}__${e}`,Ohe="sf_compare_snapshot",$he=t=>{const e=new Set;return t.forEach(n=>{const r=a6(n).trim().toLowerCase();r&&e.add(r)}),Array.from(e).sort((n,r)=>n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"}))},Vhe=({scope:t,servers:e,month:n,mode:r})=>{const i=String(n!=null?n:"").trim(),a=$he(e).join("+"),o=String(r!=null?r:"").trim(),l=o?`__${o.toLowerCase()}`:"";return`${Ohe}__${t}__${a}__${i}${l}`},Ghe=t=>{var e;try{if(typeof localStorage=="undefined")return null;const n=localStorage.getItem(t);if(!n)return null;const r=JSON.parse(n);if(!r||typeof r!="object")return null;const i=r;return!Array.isArray(i.rows)||!Array.isArray(i.baselineServers)||!Array.isArray(i.missingServers)||i.error!=null&&typeof i.error!="string"?null:{rows:i.rows,baselineServers:i.baselineServers.map(a=>String(a||"").trim()).filter(Boolean),missingServers:i.missingServers.map(a=>String(a||"").trim()).filter(Boolean),error:(e=i.error)!=null?e:null}}catch(n){return null}},Khe=(t,e)=>{try{if(typeof localStorage=="undefined")return;localStorage.setItem(t,JSON.stringify(e))}catch(n){}},Ej=t=>{const e=new Set;return t.forEach(n=>{const r=n.trim().toLowerCase().replace(/[\s_]+/g,"-").replace(/-+/g,"-");r&&e.add(r)}),Array.from(e).sort((n,r)=>n.localeCompare(r,void 0,{sensitivity:"base"}))},Qc=t=>(t!=null?t:"").toString().trim().toLowerCase(),u3=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]),zhe=t=>t<10?`0${t}`:String(t),Whe=t=>`${t.getUTCFullYear()}-${zhe(t.getUTCMonth()+1)}`,qhe=t=>{const e=[],n=new Date;n.setUTCDate(1),n.setUTCMonth(n.getUTCMonth()-1);for(let r=0;r<t;r++)e.push(Whe(n)),n.setUTCMonth(n.getUTCMonth()-1);return e},Xhe="2026-01",o6=1440*60*1e3,Yhe=(t,e)=>{if(!t)return null;let n=null;if(typeof t=="number")n=t<1e12?t*1e3:t;else{const i=String(t).trim();if(!i)return null;if(/^\d{10,13}$/.test(i)){const a=Number(i);if(!Number.isFinite(a))return null;n=a<1e12?a*1e3:a}else n=l6(i)}if(n==null||!Number.isFinite(n))return null;const r=Math.max(0,Math.floor((e-n)/o6));return r<=0?"#34d399":r===1?"#4ade80":r<=3?"#a3e635":r<=7?"#facc15":r<=14?"#f97316":r<=30?"#ef4444":"#b91c1c"},Nc=t=>{if(t==null||t==="")return null;const e=Number(t);return Number.isFinite(e)?e:null},$A=t=>t.trim().toUpperCase(),A3=t=>t!=null?t.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/-+/g,"-"):"";function l6(t){var g,y;const e=t.trim();if(!e)return null;const n=e.split(/\s+/),r=(g=n[0])!=null?g:"",i=(y=n[1])!=null?y:"",a=r.split(".");if(a.length!==3)return null;const o=Number(a[0]),l=Number(a[1]),d=Number(a[2]);if(!Number.isFinite(o)||!Number.isFinite(l)||!Number.isFinite(d))return null;let u=0,h=0;if(i){const x=i.split(":");if(x.length<2||(u=Number(x[0]),h=Number(x[1]),!Number.isFinite(u)||!Number.isFinite(h)))return null}const m=new Date(d,l-1,o,u,h,0,0);return m.getFullYear()!==d||m.getMonth()!==l-1||m.getDate()!==o?null:m.getTime()}const Dp=t=>{if(t==null)return null;if(typeof t=="number")return t<1e12?t*1e3:t;const e=String(t).trim();if(!e)return null;if(/^\d{10,13}$/.test(e)){const n=Number(e);return Number.isFinite(n)?n<1e12?n*1e3:n:null}return l6(e)},Jhe=(t,e)=>{const n=typeof t=="number"&&Number.isFinite(t)?t:0,r=typeof e=="number"&&Number.isFinite(e)?e:0,i=n+r;return i>0?Math.round(n/i*100):null},h3=(t,e,n)=>{if(!t||!e)return{days:null,perDay:null};const r=Dp(t.lastScan),i=Dp(e.lastScan);if(r==null||i==null)return{days:null,perDay:null};const a=Math.abs(r-i)/o6,o=Math.max(1,Math.round(a));let l=n;if(l==null){const u=Nc(t.sum),h=Nc(e.sum);h!=null&&(l=(u!=null?u:0)-h)}const d=l!=null?Math.round(l/o):null;return{days:o,perDay:d}},m3=t=>{var a,o,l,d,u;const e=$A(String((a=t.server)!=null?a:"")),n=(l=(o=t.playerId)!=null?o:t.id)!=null?l:null,r=String((d=n!=null?n:t.name)!=null?d:"").trim(),i=String((u=t.class)!=null?u:"").trim();return`${e}__${r}__${i}`},Zhe=(t,e)=>{const n=Array.isArray(e.servers)?e.servers:[],r=n.length?new Set(n.map($A)):null,i=Array.isArray(e.classes)?e.classes:[],a=i.length?new Set(i.map(A3)):null,o=e.timeRange==="all"?null:Number(String(e.timeRange).replace("d","")),l=o&&Number.isFinite(o)?Date.now()-o*864e5:null;return t.filter(d=>{var u;if(r&&!r.has($A(String((u=d.server)!=null?u:"")))||a&&!a.has(A3(d.class)))return!1;if(l!=null){const h=Dp(d.lastScan);if(h!=null&&h<l)return!1}return!0})},p3=(t,e)=>{const n=(i,a)=>{if(i==null&&a==null)return 0;if(i==null)return 1;if(a==null)return-1;const o=i-a;return e.dir==="asc"?o:-o},r=(i,a)=>{const o=m3(i).localeCompare(m3(a),void 0,{numeric:!0,sensitivity:"base"});return e.dir==="asc"?o:-o};return t.sort((i,a)=>{var l,d;let o=0;switch(e.key){case"name":{const u=String((l=i.name)!=null?l:""),h=String((d=a.name)!=null?d:""),m=u.localeCompare(h,void 0,{sensitivity:"base"});o=e.dir==="asc"?m:-m;break}case"lastScan":{const u=Dp(i.lastScan),h=Dp(a.lastScan);o=n(u==null?null:u,h==null?null:h);break}case"main":o=n(i.main,a.main);break;case"con":o=n(i.con,a.con);break;case"sum":o=n(i._calculatedSum,a._calculatedSum);break;case"statsDay":o=n(i._statsPerDay,a._statsPerDay);break;case"ratio":o=n(i._ratioMain,a._ratioMain);break;case"mine":o=n(i.mine,a.mine);break;case"treasury":o=n(i.treasury,a.treasury);break;case"mainTotal":o=n(i.mainTotal,a.mainTotal);break;case"conTotal":o=n(i.conTotal,a.conTotal);break;case"sumTotal":o=n(i.sumTotal,a.sumTotal);break;case"xpProgress":o=n(i.xpProgress,a.xpProgress);break;case"xpTotal":o=n(i.xpTotal,a.xpTotal);break;case"level":default:o=n(i.level,a.level);break}return o!==0?o:r(i,a)}),t},eme=["#f6e7a6","#f4de89","#f2d56d","#f0cc51","#edc236"],tme=["#ffe4b3","#ffdda0","#ffd68d","#ffcf7a","#ffc867"],sme=["#9ec5ff","#8ab7ff","#76a9ff","#629bff","#4e8dff"],nme={1:"#d8b4fe",2:"#c084fc",3:"#a855f7",4:"#f472b6"},p1=(t,e)=>t&&t>0&&t<=e.length?e[t-1]:null,rme=t=>{var e;return t&&(e=nme[t])!=null?e:null},xv=t=>t?{boxShadow:`inset 0 0 0 1px ${t}`,borderRadius:6,padding:"0 4px",display:"inline-flex",alignItems:"center"}:void 0;function ime(t){switch(t){case"level":return{key:"level",dir:"desc"};case"main":return{key:"main",dir:"desc"};case"constitution":return{key:"con",dir:"desc"};case"sum":return{key:"sum",dir:"desc"};case"statsDay":return{key:"statsDay",dir:"desc"};case"mine":return{key:"mine",dir:"desc"};case"mainTotal":return{key:"mainTotal",dir:"desc"};case"conTotal":return{key:"conTotal",dir:"desc"};case"sumTotal":return{key:"sumTotal",dir:"desc"};case"xpProgress":return{key:"xpProgress",dir:"desc"};case"xpTotal":return{key:"xpTotal",dir:"desc"};case"lastActivity":case"lastScan":return{key:"lastScan",dir:"desc"};case"name":return{key:"name",dir:"asc"};default:return{key:"level",dir:"desc"}}}function ame(t){const e=(t[0]||"").toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("US")||e.startsWith("NA")||e.startsWith("AM")?"US":e.startsWith("F")?"FUSION":e?"INT":"EU"}const ome=t=>{let e=t;for(;e;){const n=window.getComputedStyle(e).backgroundColor;if(n&&n!=="transparent"&&n!=="rgba(0, 0, 0, 0)")return n;e=e.parentElement}return"#0C1C2E"},g3=()=>new Promise(t=>requestAnimationFrame(()=>t())),lme=async t=>{const n=Array.from(t.querySelectorAll("img")).filter(r=>!r.complete);n.length&&await Promise.all(n.map(r=>new Promise(i=>{const a=()=>i();r.addEventListener("load",a,{once:!0}),r.addEventListener("error",a,{once:!0})})))},cme=t=>{const e=new Map;return t.forEach(n=>{var a;const r=String((a=n.guild)!=null?a:"").trim();if(!r)return;const i=Qc(r);!i||e.has(i)||e.set(i,r)}),Array.from(e.values()).sort((n,r)=>n.localeCompare(r,void 0,{sensitivity:"base"}))},ll=(t,e,n)=>Math.min(n,Math.max(e,t));function dme(){return s.jsx(Dhe,{children:s.jsx(ume,{})})}function ume(){var hs,_s;const t=fg(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:a,setBottomFilterOpen:o,serverSheetOpen:l,setServerSheetOpen:d,servers:u,setServers:h,classes:m,setClasses:g,setGuilds:y,range:x,sortBy:C}=t,{serverGroups:E,player:T}=i6();pi();const[B,S]=yr(),v=B.get("server"),w=B.get("servers"),N=B.get("class"),_=B.get("classes"),k=B.get("tab")==="guilds"?"guilds":"players",[U,I]=W.useState((hs=B.get("compare"))!=null?hs:""),P=W.useMemo(()=>qhe(17).filter(lt=>lt>=Xhe),[]),L=((_s=u==null?void 0:u.length)!=null?_s:0)>0,H=W.useMemo(()=>Ay(u!=null?u:[]),[u]),O=W.useMemo(()=>Ej(m!=null?m:[]),[m]),z=W.useMemo(()=>{const lt=v!=null?v:w;return Ay(d3(lt))},[v,w]),G=W.useMemo(()=>{const lt=N!=null?N:_;return Ej(d3(lt))},[N,_]),$=v!=null||w!=null,Y=N!=null||_!=null,J=W.useMemo(()=>B.toString(),[B]),V=H.join(","),X=O.join(","),Z=z.join(","),se=G.join(","),le=W.useRef(null),we=W.useRef(H),Se=W.useRef(O),te=W.useRef(h),ce=W.useRef(g),re=W.useRef(null),ye=W.useRef(null),Be=W.useRef({rows:[],showCompare:!1}),Le=W.useRef(null),[Ee,De]=W.useState(!1),[at,Ke]=W.useState(50),[He,Ce]=W.useState("current"),[ue,Te]=W.useState([]),[Fe,ct]=W.useState(!1),[xt,ie]=W.useState(1),[Ae,me]=W.useState(50),[ke,jt]=W.useState([]),[nt,et]=W.useState(!1),[ut,bt]=W.useState([]),[Ye,Je]=W.useState(null),[Kt,mt]=W.useState(0),[ne,Re]=W.useState(0),[Ue,dt]=W.useState(!1),ze=W.useCallback((lt,Tt)=>{if(lt!=="guilds")return ke;if(!Tt.length)return[];const ft=new Set(Tt.map(Ns=>Qc(Ns)).filter(Boolean));return ke.filter(Ns=>{const Zs=Qc(Ns.guild);return Zs?ft.has(Zs):!1})},[ke]),wt=W.useMemo(()=>ze(He,ue),[ze,He,ue]),Dt=wt.length,Et=Math.max(1,Dt),Me=ll(Number.isFinite(xt)?xt:1,1,Et),pt=ll(Number.isFinite(Ae)?Ae:Me,Me,Et),os=()=>{const lt=Be.current,Tt=Array.isArray(lt.rows)?[...lt.rows]:[];jt(Tt),et(!!lt.showCompare),bt(cme(Tt)),Ke(50),Ce("current"),Te([]),ct(!1),ie(1),me(50),De(!0)},je=lt=>{Te(Tt=>Tt.includes(lt)?Tt.filter(ft=>ft!==lt):[...Tt,lt])},bs=lt=>{if(Ke(lt),!Fe)return;const Tt=ll(Me+(lt-1),Me,Et);me(Tt)},Vn=lt=>{Ce(lt)},yn=lt=>{if(ct(lt),!lt)return;const Tt=Me;ie(Tt);const ft=ll(Tt+(at-1),Tt,Et);me(ft)},hn=lt=>{const Tt=ll(Number.isFinite(lt)?Math.trunc(lt):1,1,Et);ie(Tt),me(ft=>{const Ns=Number.isFinite(ft)?ft:Tt;return ll(Ns,Tt,Et)})},Ar=lt=>{const Tt=ll(Number.isFinite(lt)?Math.trunc(lt):Me,Me,Et);me(Tt)},hr=async()=>{if(typeof document=="undefined")return;const lt=ye.current;if(!lt||Ue)return;const Tt=wt;if(Tt.length===0)return;let ft=[];if(Fe){const wn=Number.isFinite(xt)?Math.trunc(xt):1,wr=Number.isFinite(Ae)?Math.trunc(Ae):wn,br=ll(wn,1,Tt.length),ti=ll(wr,br,Tt.length);ft=Tt.slice(br-1,ti)}else ft=Tt.slice(0,at);const Ns=Math.max(1,Math.round(lt.getBoundingClientRect().width||lt.offsetWidth||1)),Zs=ome(lt),Ur=ne+1,Pr=Kt+1;dt(!0),Re(Ur),mt(Pr),Je({rows:ft,showCompare:nt,width:Ns,backgroundColor:Zs});try{await g3(),await g3();const wn=Le.current;if(!wn)return;await lme(wn);const wr=await Gue(wn,{backgroundColor:Zs,scale:2,useCORS:!0,allowTaint:!1,logging:!1,imageTimeout:15e3});await new Promise((br,ti)=>{wr.toBlob(Ri=>{if(!Ri){console.error("[export] Failed to create PNG blob"),ti(new Error("Failed to create PNG blob"));return}const xs=URL.createObjectURL(Ri),gi=document.createElement("a");gi.download="sfdatahub_toplist.png",gi.href=xs,gi.click(),URL.revokeObjectURL(xs),br()},"image/png",1)}),De(!1)}finally{Je(null),dt(!1)}};W.useEffect(()=>{we.current=H},[H]),W.useEffect(()=>{Se.current=O},[O]),W.useEffect(()=>{te.current=h},[h]),W.useEffect(()=>{ce.current=g},[g]),W.useEffect(()=>{const lt=le.current;le.current=V,lt!=null&&lt!==V&&y([])},[V,y]),R.useEffect(()=>{if(re.current===J){re.current=null;return}if($){const lt=z;u3(we.current,lt)||te.current(lt)}Y&&!u3(Se.current,G)&&ce.current(G)},[J,$,Y,Z,se]),R.useEffect(()=>{const lt=new URLSearchParams(B),Tt=V,ft=X;Tt?lt.set("server",Tt):lt.delete("server"),lt.delete("servers"),ft?lt.set("class",ft):lt.delete("class"),lt.delete("classes");const Ns=lt.toString();Ns!==J&&(re.current=Ns,S(lt,{replace:!0}))},[V,X,J,B,S]);const mn=W.useMemo(()=>{const lt=Array.isArray(T==null?void 0:T.rows)?T.rows:[];if(!lt.length)return[];const Tt=new Map;return lt.forEach(ft=>{var wn;const Ns=String((wn=ft.guild)!=null?wn:"").trim();if(!Ns)return;const Zs=Qc(Ns);if(!Zs)return;const Ur=ft.server&&String(ft.server).trim().toUpperCase()||(H.length===1?H[0]:""),Pr=Ur?`${Ns} (${Ur})`:Ns;Tt.has(Zs)||Tt.set(Zs,{value:Ns,label:Pr})}),Array.from(Tt.values()).sort((ft,Ns)=>ft.label.localeCompare(Ns.label,void 0,{sensitivity:"base"}))},[T==null?void 0:T.rows,H]);return s.jsxs(s.Fragment,{children:[s.jsxs(As,{mode:"card",title:"Top Lists",actions:s.jsx(hme,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(pAe,{compareMonth:U,setCompareMonth:I,monthOptions:P,guildOptions:mn,onExportPng:os,exportDisabled:!L||k!=="players"||r!=="table"}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(DAe,{}),k==="players"&&r==="table"&&s.jsx(Ame,{servers:u!=null?u:[],classes:m!=null?m:[],range:x!=null?x:"all",sortKey:C!=null?C:"level",compareMonth:U,tableRef:ye,exportSnapshotRef:Be}),k==="guilds"&&s.jsx(Qhe,{serverCodes:u!=null?u:[]})]}),s.jsx(vAe,{mode:"modal",open:l,onClose:()=>d(!1),serversByRegion:E,selected:u,onToggle:lt=>h(Tt=>Tt.includes(lt)?Tt.filter(ft=>ft!==lt):[...Tt,lt]),onSelectAllInRegion:lt=>{var Tt;return h((Tt=E[lt])!=null?Tt:[])},onClearAll:()=>h([])}),s.jsx(EAe,{open:e==="sheet"&&a,onClose:()=>o(!1)}),s.jsx(mhe,{isOpen:Ee,amount:at,selection:He,guildOptions:ut,selectedGuilds:ue,availableCount:Dt,rangeEnabled:Fe,rangeFrom:Me,rangeTo:pt,exporting:Ue,onAmountChange:bs,onSelectionChange:Vn,onToggleGuild:je,onRangeEnabledChange:yn,onRangeFromChange:hn,onRangeToChange:Ar,onCancel:()=>{Ue||De(!1)},onExport:hr}),Ye&&s.jsx("div",{"aria-hidden":!0,style:{position:"fixed",top:0,left:0,transform:"translate3d(-12000px, 0, 0)",opacity:0,pointerEvents:"none",width:`${Ye.width}px`,background:Ye.backgroundColor,padding:0,margin:0},children:s.jsx("div",{ref:Le,children:s.jsx(KAe,{rows:Ye.rows,showCompare:Ye.showCompare,width:Ye.width,exportNonce:ne},Kt)})})]})}function Ame({servers:t,classes:e,range:n,sortKey:r,compareMonth:i,tableRef:a,exportSnapshotRef:o}){var Te,Fe,ct,xt;const{t:l}=Gs(),{guilds:d}=fg(),{player:u,playerRows:h,playerLoading:m,playerError:g,playerLastUpdatedAt:y,playerScopeStatus:x,filters:C,sort:E,setFilters:T,setSort:B}=i6(),S=pi(),v=ur(),w=((Te=t==null?void 0:t.length)!=null?Te:0)>0;R.useEffect(()=>{const ie=n==="all"?"all":n===60?"30d":`${n}d`,Ae=Ay(t),me=Ej(e),ke=ame(Ae);T({servers:Ae,classes:me,timeRange:ie,group:ke})},[t,e,n,T]),R.useEffect(()=>{const ie=ime(r);B(ie)},[r,B]);const N=ie=>ie==null?"":new Intl.NumberFormat("en").format(ie),_=ie=>{if(ie==null)return"";const Ae=N(Math.abs(ie));return Ae?ie>0?`+${Ae}`:`-${Ae}`:String(ie)},j=(ie,Ae)=>{if(Ae)return{text:"n/a",variant:"na"};if(ie==null||ie==="")return{text:"n/a",variant:"na"};let me=null;if(typeof ie=="number")me=ie;else if(typeof ie=="string"){const nt=ie.trim();if(!nt||/^n\/a$/i.test(nt))return{text:"n/a",variant:"na"};const et=Number(nt);me=Number.isFinite(et)?et:null}if(me==null||!Number.isFinite(me))return{text:"n/a",variant:"na"};if(me===0||Object.is(me,-0))return{text:"-",variant:"zero"};const ke=N(Math.abs(me));return{text:me>0?`+${ke}`:`-${ke}`,variant:me>0?"pos":"neg"}},k=(ie,Ae)=>{if(ie==null||Ae==null||!Number.isFinite(ie)||!Number.isFinite(Ae)||Ae===0)return"";const me=ie/Ae;return me>=1.25?"pos2":me>=1.1?"pos1":me>=.95?"mid0":me>=.8?"mid1":me>=.6?"neg1":me>0?"neg2":"neg3"},U=ie=>{if(ie==null)return null;const Ae=ie<1e12?ie*1e3:ie;return new Date(Ae).toLocaleString()},I=ie=>ie?ie.toLocaleString():"",P=h||[],L=W.useMemo(()=>{const ie=(d||[]).map(Qc).filter(Boolean);return ie.length?new Set(ie):null},[d]),H=W.useMemo(()=>(Array.isArray(u==null?void 0:u.rows)?u.rows:[]).some(Ae=>!!Qc(Ae.guild)),[u==null?void 0:u.rows]),O=W.useMemo(()=>!L||!H?P:P.filter(ie=>{const Ae=Qc(ie.guild);return Ae?L.has(Ae):!1}),[P,L,H]),[z,G]=yr(),[$,Y]=W.useState({rows:[],loading:!1,baselineServers:[],missingServers:[],error:null}),J=!!i&&!$.loading,V=W.useMemo(()=>Ay(t).join(","),[t]),X=W.useMemo(()=>V?V.split(",").filter(Boolean):[],[V]),Z=W.useMemo(()=>{const ie=($.baselineServers||[]).map(Ae=>String(Ae).trim().toUpperCase()).filter(Boolean);return new Set(ie)},[$.baselineServers]);R.useEffect(()=>{var me;const ie=new URLSearchParams(z);i?ie.set("compare",i):ie.delete("compare"),((me=z.get("compare"))!=null?me:"")!==i&&G(ie,{replace:!0})},[i,z,G]),R.useEffect(()=>{let ie=!1;const Ae=String(i!=null?i:"").trim();if(!Ae||Ae.toLowerCase()==="off")return Y({rows:[],loading:!1,baselineServers:[],missingServers:[],error:null}),()=>{ie=!0};if(!X.length)return Y({rows:[],loading:!1,baselineServers:[],missingServers:[],error:null}),()=>{ie=!0};const ke=X.map(ut=>Hhe(ut,Ae)),jt=Vhe({scope:"players",servers:X,month:Ae}),nt=Ghe(jt);if(nt)return Y({...nt,loading:!1}),()=>{ie=!0};const et=ut=>{const bt=[];for(const Ye of ut){const Je=Array.isArray(Ye.players)?Ye.players:[];for(const Kt of Je)bt.push({...Kt,server:Ye.server||Kt.server})}return bt};return Y(ut=>({...ut,loading:!0,baselineServers:[],missingServers:[],error:null})),(async()=>{var ze;const ut=await Promise.all(ke.map(wt=>Bhe(wt)));if(ie)return;const bt=[],Ye=[],Je=[];let Kt=null,mt=null;ut.forEach((wt,Dt)=>{var Me,pt;const Et=ke[Dt];if(wt.ok){const os=(Et.split("__")[0]||"").trim();Ye.push(os),bt.push({...wt.snapshot,server:os||wt.snapshot.server})}else{const os=wt;Je.push(Et),Kt||(Kt=(Me=os.error)!=null?Me:null,mt=(pt=os.detail)!=null?pt:null)}});const ne=bt.length?et(bt):[],Re=Je.length?Je.join(", "):null,Ue=Je.length?l("toplists.compareMissingSnapshot","Baseline missing for {{key}}.",{key:Re!=null?Re:""}):(ze=mt!=null?mt:Kt)!=null?ze:null,dt={rows:ne,loading:!1,baselineServers:Ye,missingServers:Je,error:Ue};Y(dt),Je.length||Khe(jt,{rows:dt.rows,baselineServers:dt.baselineServers,missingServers:[],error:null})})().catch(ut=>{if(ie)return;const bt=ke.join(", "),Ye=l("toplists.compareMissingSnapshot","Baseline missing for {{key}}.",{key:bt});Y({rows:[],loading:!1,baselineServers:[],missingServers:ke,error:Ye}),console.warn("[ToplistsPlayersCompare] snapshot fetch failed",ut)}),()=>{ie=!0}},[i,V,l]);const se=W.useCallback(ie=>{var me;const Ae=(me=ie.playerId)!=null?me:ie.id;return Ae?`id:${Ae}`:`${ie.server||"ALL"}:${ie.name}:${ie.class||""}`},[]),le=W.useCallback(ie=>{var et,ut,bt,Ye;const Ae=$A(String((et=ie.server)!=null?et:"")),me=(ut=ie.playerId)!=null?ut:ie.id,ke=me!=null?String(me).trim():"";if(Ae&&ke)return`${Ae}__${ke}`;const jt=String((bt=ie.name)!=null?bt:"").trim(),nt=String((Ye=ie.class)!=null?Ye:"").trim();return Ae||jt||nt?`${Ae}__${jt}__${nt}`:se(ie)},[se]),we=W.useMemo(()=>{const ie=new Map;return J&&$.rows.forEach(Ae=>{const me=le(Ae);ie.has(me)||ie.set(me,Ae)}),ie},[J,$.rows,le]),Se=W.useMemo(()=>J?O.map(ie=>{var Me;const Ae=le(ie),me=we.get(Ae),ke=$A(String((Me=ie.server)!=null?Me:"")),nt=!Z.has(ke)||!me,et=pt=>{if(nt||!me||pt==="ratio")return null;const os=Nc(ie[pt]),je=Nc(me[pt]);return je==null?null:(os!=null?os:0)-je},ut=et("level"),bt=et("main"),Ye=et("con"),Je=et("sum"),Kt=et("mainTotal"),mt=et("conTotal"),ne=et("sumTotal"),Re=et("xpProgress"),Ue=et("xpTotal"),dt=et("ratio"),ze=et("mine"),wt=et("treasury");let Dt=null,Et=null;if(!nt&&me){const pt=h3(ie,me,Je);Dt=pt.days,Et=pt.perDay}return{...ie,_compareMissing:nt,_statsPerDay:Et,_statsDays:Dt,_delta:{level:ut,main:bt,con:Ye,sum:Je,mainTotal:Kt,conTotal:mt,sumTotal:ne,xpProgress:Re,xpTotal:Ue,ratio:dt,mine:ze,treasury:wt}}}):O,[J,O,le,we,Z]),te=W.useMemo(()=>{const ie=new Map;return Se.forEach(Ae=>{const me=le(Ae);ie.has(me)||ie.set(me,Ae)}),ie},[Se,le]),ce=W.useMemo(()=>{if(!J)return null;const ie=new Map;$.rows.forEach(me=>{var nt;const ke=$A(String((nt=me.server)!=null?nt:"")),jt=(ie.get(ke)||0)+1;ie.set(ke,jt)});let Ae=0;return ie.forEach(me=>{me>Ae&&(Ae=me)}),Ae||null},[J,$.rows]),re=W.useMemo(()=>{if(!J)return[];let ie=Array.isArray($.rows)?[...$.rows]:[];return ie.length&&(ie=ie.map(Ae=>{var et,ut;const me=Jhe(Ae.main,Ae.con),ke=te.get(le(Ae)),jt=ke?h3(ke,Ae):{days:null,perDay:null},nt=((et=Ae.main)!=null?et:0)+((ut=Ae.con)!=null?ut:0);return{...Ae,_ratioMain:me,_statsPerDay:jt.perDay,_statsDays:jt.days,_calculatedSum:nt}}),ie=Zhe(ie,C),ie=p3(ie,E),ce!=null&&ce>0&&ie.length>ce&&(ie=ie.slice(0,ce)),L&&H&&(ie=ie.filter(Ae=>{const me=Qc(Ae.guild);return me?L.has(me):!1}))),ie},[J,$.rows,C,E,L,H,ce,te,le]),ye=W.useMemo(()=>{const ie=new Map;return J&&re.forEach((Ae,me)=>{const ke=le(Ae);ie.has(ke)||ie.set(ke,me+1)}),ie},[J,re,le]),Be=W.useMemo(()=>{if(!J||E.key!=="statsDay")return Se;const ie=[...Se];return p3(ie,E),ie},[J,Se,E]),Le=W.useMemo(()=>{const ie=new Map;return Be.forEach((Ae,me)=>{const ke=le(Ae);ie.has(ke)||ie.set(ke,me+1)}),ie},[Be,le]),Ee=W.useMemo(()=>Be.map((ie,Ae)=>{var et;if(!J)return{...ie,_rank:Ae+1};const me=le(ie),ke=(et=Le.get(me))!=null?et:Ae+1,jt=ye.get(me),nt=jt!=null&&ke!=null?jt-ke:null;return{...ie,_rank:Ae+1,_rankDelta:nt}}),[J,Be,le,ye,Le]);o.current={rows:Ee,showCompare:J};const De=(()=>{if(!J)return null;const ie=Ee.slice(0,100);let Ae=0,me=0;return ie.forEach(ke=>{const jt=ke._statsPerDay;typeof jt=="number"&&Number.isFinite(jt)&&(Ae+=jt,me+=1)}),me?Ae/me:null})(),at=(()=>{if(!J)return null;let ie=null;return Ee.forEach(Ae=>{const me=Ae._statsPerDay;typeof me=="number"&&Number.isFinite(me)&&(ie==null||me>ie)&&(ie=me)}),ie})(),Ke=W.useMemo(()=>{const ie=new Map,Ae=Ee,me=nt=>{var et,ut;return(ut=(et=nt.playerId)!=null?et:nt.id)!=null?ut:se(nt)},ke=nt=>{const et=me(nt);let ut=ie.get(et);return ut||(ut={},ie.set(et,ut)),ut},jt=(nt,et)=>{const ut=Ae.map((bt,Ye)=>{const Je=nt(bt);return Je==null?null:{row:bt,value:Je,idx:Ye}}).filter(Boolean);ut.sort((bt,Ye)=>Ye.value-bt.value||bt.idx-Ye.idx),ut.slice(0,5).forEach((bt,Ye)=>{ke(bt.row)[et]=Ye+1})};return jt(nt=>Nc(nt.main),"mainRank"),jt(nt=>Nc(nt.con),"conRank"),jt(nt=>Nc(nt.level),"levelRank"),Ae.forEach(nt=>{const et=Nc(nt.mine);if(et==null)return;const ut=et>=100?4:et>=80?3:et>=65?2:et>=50?1:null;ut&&(ke(nt).mineTier=ut)}),ie},[Ee,se]),He=Date.now(),Ce=w?m?"Loading...":g?"Error":"Ready":"No server selected",ue=ie=>{const Ae=Ee,me=ke=>{var nt,et,ut,bt,Ye,Je;const jt=[ke.identifier,(nt=ke.original)==null?void 0:nt.identifier,(et=ke.value)==null?void 0:et.identifier,(ut=ke.data)==null?void 0:ut.identifier,(bt=ke.player)==null?void 0:bt.identifier,(Je=(Ye=ke.value)==null?void 0:Ye.player)==null?void 0:Je.identifier];for(const Kt of jt)if(typeof Kt=="string"&&Kt.trim())return Kt.trim();return null};return s.jsxs("table",{className:"toplists-table",style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"center",width:60},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Stats/Day"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"})]})}),s.jsxs("tbody",{children:[Ae.map((ke,jt)=>{var hr,mn,hs,_s,lt,Tt,ft,Ns,Zs,Ur,Pr,wn,wr,br,ti,Ri;const nt=J?ke._rankDelta:null,et=ke._delta||{},ut=J?!!ke._compareMissing:!1,bt=J?j(nt,ut):null,Ye=J?ke._statsPerDay:null,Je=J?ke._statsDays:null,Kt=Ye==null?"-":N(Ye),mt=Je==null?"-":`${Je}d`,ne=k(Ye,De),Ue=Ye!=null&&at!=null&&Ye===at?"stats-day-chip stats-day-chip--best":ne?`stats-day-chip stats-day-chip--${ne}`:"stats-day-chip",dt=Yhe(ke.lastScan,He),ze=String((hr=ke.class)!=null?hr:"").trim(),wt=dg(ze,48),Dt=(hs=(mn=ke.playerId)!=null?mn:ke.id)!=null?hs:null,Et=me(ke),Me=Dt!=null?Dt:se(ke),pt=Ke.get(Me),os=p1(pt==null?void 0:pt.mainRank,eme),je=p1(pt==null?void 0:pt.conRank,tme),bs=p1(pt==null?void 0:pt.levelRank,sme),Vn=rme(pt==null?void 0:pt.mineTier),yn=(_s=ke._calculatedSum)!=null?_s:0,hn=(xs,gi,Ui=!1)=>J?gi?s.jsx("div",{style:{fontSize:11,opacity:.8},children:"-"}):xs==null&&Ui?null:s.jsx("div",{style:{fontSize:11,opacity:.8},children:xs==null?l("toplists.deltaNew","NEW"):_(xs)}):null,Ar=()=>{Et&&S(`/player/${encodeURIComponent(Et)}`)};return s.jsxs("tr",{className:"toplists-row",style:{borderBottom:"1px solid #2C4A73",cursor:"pointer",userSelect:"none"},onClick:Ar,children:[s.jsx("td",{style:{padding:"8px 6px"},children:jt+1}),s.jsx("td",{style:{padding:"8px 6px"},children:bt?s.jsx("span",{className:`rank-delta-chip rank-delta-chip--${bt.variant}`,children:bt.text}):""}),s.jsx("td",{style:{padding:"8px 6px"},children:ke.server}),s.jsx("td",{style:{padding:"8px 6px"},children:ke.name}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"center"},children:s.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:wt?s.jsx("img",{src:wt,alt:ze||"class",loading:ie.imgLoading,className:"class-icon-toplist",style:{display:"block",objectFit:"contain"}}):s.jsx("span",{children:ze})})}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{style:xv(bs),children:N(ke.level)}),hn((lt=et.level)!=null?lt:null,ut)]})}),s.jsx("td",{style:{padding:"8px 6px"},children:(Tt=ke.guild)!=null?Tt:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{style:xv(os),children:N(ke.main)}),hn((ft=et.main)!=null?ft:null,ut)]})}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{style:xv(je),children:N(ke.con)}),hn((Ns=et.con)!=null?Ns:null,ut)]})}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{children:N(yn)}),hn((Zs=et.sum)!=null?Zs:null,ut)]})}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{className:Ue,children:Kt}),s.jsx("div",{style:{fontSize:11,opacity:.8},children:mt})]})}),s.jsx("td",{style:{padding:"8px 6px"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{children:(Pr=(Ur=ke._ratioLabel)!=null?Ur:ke.ratio)!=null?Pr:""}),hn((wn=et.ratio)!=null?wn:null,ut,!0)]})}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{style:xv(Vn),children:N(ke.mine)}),hn((wr=et.mine)!=null?wr:null,ut)]})}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[s.jsx("span",{children:N(ke.treasury)}),hn((br=et.treasury)!=null?br:null,ut)]})}),s.jsx("td",{style:{padding:"8px 6px"},children:s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[s.jsx("span",{children:(ti=ke.lastScan)!=null?ti:""}),dt&&s.jsx("span",{"aria-hidden":!0,style:{width:8,height:8,borderRadius:"50%",background:dt,boxShadow:"0 0 6px rgba(0, 0, 0, 0.35)"}})]})})]},`${ke.name}__${ke.server}__${(Ri=ke.class)!=null?Ri:""}`)}),m&&Ee.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading..."})}),!m&&!g&&Ae.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})};return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[Ce," - ",Ee.length," rows"]}),s.jsx("div",{children:y?`Updated: ${U(y)}`:null})]}),i&&$.error&&s.jsx("div",{style:{fontSize:12,color:"#ffb347"},children:$.error}),x&&s.jsxs("div",{style:{opacity:.75,fontSize:12,display:"flex",flexWrap:"wrap",gap:8},children:[s.jsxs("span",{children:["Scope ",x.scopeId,"  ",x.changesSinceLastRebuild,"/",(Fe=x.minChanges)!=null?Fe:"?"," changes since last rebuild"]}),s.jsxs("span",{children:["Auto rebuild at ",(ct=x.minChanges)!=null?ct:"?"," changes or after ",(xt=x.maxAgeDays)!=null?xt:"?"," days"]}),s.jsxs("span",{children:["Last rebuild: ",I(x.lastRebuildAt)]})]}),w&&g&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:g}),s.jsx("button",{onClick:()=>S(`${v.pathname}${v.search}${v.hash}`),style:{marginTop:8},children:"Retry"})]}),w?s.jsx(s.Fragment,{children:s.jsx("div",{ref:a,className:"toplists-table-viewport",children:ue({imgLoading:"lazy"})})}):s.jsx("div",{style:{padding:12,color:"#B0C4D9"},children:"Please select at least one server."})]})}function hme(){const[t,e]=yr(),r=t.get("tab")==="guilds"?"guilds":"players",i=a=>{const o=new URLSearchParams(t);o.set("tab",a),e(o)};return s.jsx("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(f3,{active:r==="players",onClick:()=>i("players"),label:"Players"}),s.jsx(f3,{active:r==="guilds",onClick:()=>i("guilds"),label:"Guilds"})]})})}function f3({active:t,onClick:e,label:n}){return s.jsx("button",{type:"button",onClick:e,className:["rounded-lg px-3 py-1.5 text-sm text-white border",t?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:n})}function mme(){return s.jsx(Yue,{children:s.jsx(dme,{})})}function pme(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function gme(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function fme(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const vme="/assets/demo-avatar-special.png",v3={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!1,background:"gradient",frame:"",mirrorHorizontal:!0},xme={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},Ki=(t,e)=>Math.min(Math.max(Math.round(t),0),e),yme=t=>{var n;const e={...v3,...t||{}};return{...e,class:Ki(e.class,15),race:Ki(e.race,8),mouth:Ki(e.mouth,30),hair:Ki(e.hair,40),hairColor:Ki(e.hairColor,12),horn:Ki(e.horn,10),hornColor:Ki(e.hornColor,10),brows:Ki(e.brows,10),eyes:Ki(e.eyes,20),beard:Ki(e.beard,15),nose:Ki(e.nose,10),ears:Ki(e.ears,10),extra:Ki(e.extra,20),special:Ki(e.special,200),showBorder:!1,background:"",frame:"",mirrorHorizontal:(n=e.mirrorHorizontal)!=null?n:v3.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function c6({config:t,label:e,fallbackImage:n,fallbackLabel:r}){const i=R.useRef(null),a=R.useRef(null),[o,l]=R.useState("idle"),d=R.useMemo(()=>!t||Object.keys(t||{}).length===0?null:yme(t),[JSON.stringify(t||{})]);R.useEffect(()=>{let y=!1;if(!d){l("idle");return}l("loading");try{const x=i.current;if(!x){l("error");return}const C=new kF(x,d);a.current=C,l("ready")}catch(x){console.error("[PortraitMaker] failed to initialize",x),y||l("error")}return()=>{var x,C;y=!0;try{(C=(x=a.current)==null?void 0:x.dispose)==null||C.call(x)}catch(E){}a.current=null}},[d]);const u=d&&o!=="ready"?xme[o]:null,h=n||vme,m=r||e,g=!d||o==="error";return s.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[s.jsxs("div",{className:"avatar-portrait__canvas-shell",children:[!g&&s.jsx("canvas",{ref:i,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`}),g&&s.jsx("img",{src:h,alt:m,className:"avatar-portrait__fallback",draggable:!1,width:240,height:240})]}),u&&s.jsx("span",{className:"avatar-portrait__status",children:u})]})}const g1=[{key:"str",label:"STR",name:"Strength"},{key:"dex",label:"DEX",name:"Dexterity"},{key:"int",label:"INT",name:"Intelligence"},{key:"con",label:"CON",name:"Constitution"},{key:"lck",label:"LCK",name:"Luck"}],wme=8,f1=t=>typeof t=="number"&&Number.isFinite(t)?t.toLocaleString("de-DE"):"-",v1=(t,e)=>e<=0?0:Math.min(100,Math.max(0,t/e*100)),x3=t=>typeof t=="number"&&Number.isFinite(t);function bme({baseStats:t,totalStats:e,benchmarks:n,mode:r,onModeChange:i}){const[a,o]=R.useState("base"),[l,d]=R.useState(!1),[u,h]=R.useState(!1);R.useEffect(()=>{let v=null,w=null;return v=requestAnimationFrame(()=>{w=requestAnimationFrame(()=>d(!0))}),()=>{v!=null&&cancelAnimationFrame(v),w!=null&&cancelAnimationFrame(w)}},[]),R.useEffect(()=>{l&&!u&&h(!0)},[l,u]);const m=g1.some(v=>x3(e==null?void 0:e[v.key])),y=(r!=null?r:a)==="total"&&m?"total":"base",x=v=>{v==="total"&&!m||(i?i(v):o(v))},C=g1.map(v=>{const w=y==="total"?e:t,N=w==null?void 0:w[v.key];return x3(N)?N:0}),E=Math.max(...C,0),T=E>0?E*1.05:1,B=y==="base",S=y==="base"?"Base Stats":"Total Stats";return s.jsxs("div",{className:"player-profile__attribute-bars",children:[s.jsxs("div",{className:"player-profile__attribute-bars-head",children:[s.jsx("div",{className:"player-profile__card-label",children:S}),s.jsxs("div",{className:"player-profile__attribute-toggle",role:"group","aria-label":"Attribute Ansicht",children:[s.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${y==="base"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":y==="base",onClick:()=>x("base"),children:"Base"}),s.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${y==="total"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":y==="total",onClick:()=>x("total"),disabled:!m,children:"Total"})]})]}),s.jsx("div",{className:"player-profile__attribute-bars-list",children:g1.map(v=>{var J,V,X;const w=y==="total"?e:t,N=Number(w==null?void 0:w[v.key])||0,_=B?(J=n==null?void 0:n.serverAvg)==null?void 0:J[v.key]:void 0,j=B?(V=n==null?void 0:n.guildAvg)==null?void 0:V[v.key]:void 0,k=B?(X=n==null?void 0:n.scaleMax)==null?void 0:X[v.key]:void 0,U=Number(_)||0,I=Number(j)||0,P=typeof k=="number"&&Number.isFinite(k),L=Math.max(P?Number(k):T,N,U,I,1),H=v1(N,L),O=v1(U,L),z=v1(I,L),G=Math.min(1,Math.max(0,H/100)),$=l?G:0,Y=u?void 0:"500ms";return s.jsxs("div",{className:"player-profile__attribute-bar-row",children:[s.jsxs("div",{className:"player-profile__attribute-bar-label","aria-hidden":!0,children:[s.jsx("span",{className:"player-profile__attribute-bar-icon",children:v.label}),s.jsx("span",{className:"player-profile__attribute-bar-name",children:v.name})]}),s.jsxs("div",{className:"player-profile__attribute-bar-track",role:"presentation",children:[s.jsx("div",{className:"player-profile__attribute-bar-fill",style:{transform:`scaleX(${$})`,minWidth:N>0&&H<100?wme:void 0,transitionDuration:Y},"aria-hidden":!0}),Number.isFinite(_)&&s.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--server",style:{left:`${O}%`},"aria-hidden":!0}),Number.isFinite(j)&&s.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--guild",style:{left:`${z}%`},"aria-hidden":!0})]}),s.jsxs("div",{className:"player-profile__attribute-bar-values",children:[s.jsx("div",{className:"player-profile__attribute-bar-value",children:f1(N)}),Number.isFinite(_)&&s.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Server ",f1(_)]}),Number.isFinite(j)&&s.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Gilde ",f1(j)]})]})]},v.key)})})]})}const _me="_tooltipWrapper_cc7ym_1",jme="_bottom_cc7ym_13",Cme="_bubble_cc7ym_13",Sme="_tail_cc7ym_25",Bme="_trigger_cc7ym_39",Nme="_card_cc7ym_89",uA={tooltipWrapper:_me,bottom:jme,bubble:Cme,tail:Sme,trigger:Bme,card:Nme},oS=({content:t,children:e,className:n,placement:r="top"})=>{if(!t)return s.jsx(s.Fragment,{children:e});const i=r==="bottom"?` ${uA.bottom}`:"";return s.jsxs("div",{className:`${uA.tooltipWrapper}${i}${n?` ${n}`:""}`,children:[s.jsx("div",{className:uA.trigger,children:e}),s.jsxs("div",{className:uA.bubble,role:"tooltip",children:[s.jsx("div",{className:uA.card,children:t}),s.jsx("div",{className:uA.tail})]})]})},kme=t=>{if(t==null||!Number.isFinite(t))return{level:"unknown",label:"Unknown",hint:"Scan history unavailable"};const e=Math.max(0,Math.floor(t));return e===0?{level:0,label:"Scanned today",hint:"No rescan needed"}:e===1?{level:1,label:"Very fresh",hint:"No rescan needed"}:e<=3?{level:2,label:"Fresh",hint:"No rescan needed"}:e<=7?{level:3,label:"Recent",hint:"Rescan recommended"}:e<=14?{level:4,label:"Aging",hint:"Rescan recommended"}:e<=30?{level:5,label:"Outdated",hint:"Rescan strongly recommended"}:{level:6,label:"Stale",hint:"Rescan strongly recommended"}},Ime=t=>{if(t==null||!Number.isFinite(t))return null;const e=Math.max(0,Math.floor(t));return e===0?"today":e===1?"1 day ago":`${e} days ago`};function Eme({label:t,size:e=40}){const n=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return s.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function Tme({className:t,label:e,size:n=40}){const r=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),a=Rr.find(l=>r(l.label)===i)||Rr.find(l=>r(l.label).startsWith(i)||i.startsWith(r(l.label))),o=a?Yi(a.iconUrl,n*2):null;return o?s.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:s.jsx("img",{src:o,alt:"",draggable:!1})}):s.jsx(Eme,{label:e,size:n})}function Fme({data:t,loading:e,onAction:n}){const[r,i]=R.useState("base"),a=x=>x.toLowerCase().replace(/[^a-z0-9]+/g,""),o=R.useMemo(()=>kme(t.lastScanDays),[t.lastScanDays]),l=R.useMemo(()=>{const x=[];t.lastScanAtLabel&&x.push(`Last scan: ${t.lastScanAtLabel}`);const C=Ime(t.lastScanDays);return C&&x.push(`Age: ${C}`),o.hint&&x.push(o.hint),x.join(" | ")},[t.lastScanAtLabel,t.lastScanDays,o.hint]),d=Rr.find(x=>a(x.label)===a(t.className||""))||Rr.find(x=>a(x.label).startsWith(a(t.className||""))||a(t.className||"").startsWith(a(x.label))),u=t.portraitFallbackUrl||(d?Yi(d.iconUrl,420):void 0)||"/assets/demo-avatar-special.png",h=t.portraitFallbackLabel||t.className||t.playerName,m=t.hasPortrait===!1?void 0:t.portrait,g=x=>typeof x=="number"&&Number.isFinite(x)?x.toLocaleString("de-DE"):"-",y=R.useMemo(()=>t.metrics.map(x=>{var C;return x.label==="Total Base Stats"&&r==="total"?{...x,label:"Total Stats",value:g((C=t.totalStatsValue)!=null?C:0)}:x}),[t.metrics,t.totalStatsValue,r]);return s.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[s.jsxs("div",{className:"player-profile__hero-portrait",children:[s.jsxs("div",{className:"player-profile__identity player-profile__identity--overlay",children:[s.jsx(Tme,{className:t.className,label:t.playerName,size:48}),s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__player-name",children:t.playerName}),s.jsxs("div",{className:"player-profile__player-meta",children:[s.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&s.jsxs("span",{children:[" ",t.guild]}),t.server&&s.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&s.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),s.jsx(oS,{content:l,children:s.jsxs("div",{className:"player-profile__freshness",children:[s.jsx("span",{"aria-hidden":!0,className:`player-profile__freshness-dot player-profile__freshness-dot--${o.level}`}),s.jsx("span",{className:"player-profile__freshness-label",children:o.label}),s.jsx("span",{"aria-hidden":!0,className:"player-profile__freshness-info",children:""})]})})]})]}),s.jsx(c6,{config:m,label:t.playerName,fallbackImage:u,fallbackLabel:h})]}),s.jsxs("div",{className:"player-profile__hero-body",children:[s.jsx("div",{className:"player-profile__hero-metrics",children:y.map(x=>s.jsxs("div",{className:"player-profile__hero-metric",children:[s.jsx("div",{className:"player-profile__hero-metric-label",children:x.label}),s.jsx("div",{className:"player-profile__hero-metric-value",children:x.value}),x.hint&&s.jsx("div",{className:"player-profile__hero-metric-hint",children:x.hint})]},x.label))}),t.baseStats&&s.jsx(bme,{baseStats:t.baseStats,totalStats:t.totalStats,benchmarks:t.baseStatBenchmarks,mode:r,onModeChange:i}),t.badges.length>0&&s.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(x=>s.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${x.tone||"neutral"}`,title:x.hint,children:[x.icon&&s.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:x.icon}),s.jsx("span",{children:x.label}),s.jsx("strong",{children:x.value})]},x.label))}),t.actions.length>0&&s.jsx("div",{className:"player-profile__hero-actions",children:t.actions.map(x=>s.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||x.disabled,title:x.title,onClick:()=>n==null?void 0:n(x.key),children:x.label},x.key))})]})]})}const Lme=W.memo(Fme),x1=600,dx=240,Rme=[80,160,240,320,400,480,560],Ume=[40,80,120,160,200],AA=40,Pme=560,y1=40,y3=200,yv=dx,Dme=(t,e,n)=>Math.max(e,Math.min(n,t));function Mme({points:t,avgValue:e=null,showAvg:n=!0,showFill:r=!0,showDots:i=!0,showXLabels:a=!0,className:o}){const l=R.useId(),d=Pme-AA,u=y3-y1,{linePath:h,areaPath:m,dots:g,avgY:y,labels:x}=R.useMemo(()=>{if(!t.length)return{linePath:"",areaPath:"",dots:[],avgY:null,labels:[]};let C=Math.min(...t),E=Math.max(...t);const B=Math.max(1,E-C)*.1;C-=B,E+=B;const S=Math.max(1,E-C),v=P=>t.length>1?AA+P/(t.length-1)*d:AA,w=P=>Dme(y1+(1-(P-C)/S)*u,y1,y3);if(t.length===1){const P=AA,L=AA+d*.1,H=w(t[0]),O=`${[`M${P},${H}`,`L${L},${H}`,`L${L},${yv}`,`L${P},${yv}`,"Z"].join(" ")}`;return{linePath:`M${P},${H} L${L},${H}`,areaPath:O,dots:i?[{x:(P+L)/2,y:H}]:[],avgY:n&&e!=null?w(e):null,labels:[{x:AA,text:"t0"}]}}const N=t.map((P,L)=>({x:v(L),y:w(P)})),_=N.map((P,L)=>`${L===0?"M":"L"}${P.x},${P.y}`).join(" "),j=`${_} L${N[N.length-1].x},${yv} L${N[0].x},${yv} Z`,k=i?N:[],U=n&&e!=null?w(e):null,I=t.map((P,L)=>({x:v(L),text:`t${L}`}));return{linePath:_,areaPath:j,dots:k,avgY:U,labels:I}},[t,e,n,i,d,u]);return s.jsxs("svg",{viewBox:`0 0 ${x1} ${dx}`,preserveAspectRatio:"none",className:`player-profile__trend-chart ${o!=null?o:""}`.trim(),role:"img","aria-label":"Anchored trend",children:[s.jsxs("g",{className:"player-profile__trend-grid",opacity:"0.55",stroke:"rgba(43,76,115,0.55)",strokeWidth:1,children:[Rme.map((C,E)=>s.jsx("line",{x1:C,x2:C,y1:0,y2:dx},`gv-${E}`)),Ume.map((C,E)=>s.jsx("line",{x1:0,x2:x1,y1:C,y2:C},`gh-${E}`))]}),n&&y!=null&&s.jsxs("g",{className:"player-profile__trend-avg",children:[s.jsx("text",{x:12,y:20,className:"player-profile__trend-avg-label",children:"Avg"}),s.jsx("line",{x1:0,x2:x1,y1:y,y2:y})]}),r&&m&&s.jsx("defs",{children:s.jsxs("linearGradient",{id:l,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"rgba(92, 139, 198, 0.28)"}),s.jsx("stop",{offset:"100%",stopColor:"rgba(92, 139, 198, 0)"})]})}),r&&m&&s.jsx("path",{d:m,className:"player-profile__trend-area",fill:`url(#${l})`}),h&&s.jsx("path",{d:h,className:"player-profile__trend-line",fill:"none"}),g.map((C,E)=>s.jsx("circle",{cx:C.x,cy:C.y,r:4,className:"player-profile__trend-dot"},`dot-${E}`)),a&&s.jsx("g",{className:"player-profile__trend-xlabels",children:x.map((C,E)=>s.jsx("text",{x:C.x,y:dx-8,textAnchor:"middle",children:C.text},`lbl-${E}`))})]})}const w1=t=>t==null?"-":t.toLocaleString("de-DE");function Qme({title:t,subtitle:e,badgeLabel:n="Line + Avg marker",series:r,className:i}){const{latest:a,start:o,delta:l,deltaPct:d,avg:u,xLabels:h}=R.useMemo(()=>{const g=Array.isArray(r.points)?r.points:[],y=g.length?g[g.length-1]:null,x=g.length?g[0]:null,C=y!=null&&x!=null?y-x:null,E=C!=null&&x&&Math.abs(x)>0?C/x*100:null,T=g.length?g.reduce((S,v)=>S+v,0)/g.length:null,B=g.map((S,v)=>`t${v}`);return{latest:y,start:x,delta:C,deltaPct:E,avg:T,xLabels:B}},[r.points]),m=d!=null?`${d>=0?"+":""}${d.toFixed(1)}%`:l!=null?`${l>=0?"+":""}${l.toLocaleString("de-DE")}`:"+0";return s.jsxs("article",{className:`anchored-card ${i!=null?i:""}`.trim(),children:[s.jsxs("header",{className:"anchored-card__header",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"anchored-card__title",children:[t,n&&s.jsx("span",{className:"anchored-card__badge",children:n})]}),e&&s.jsx("div",{className:"anchored-card__subtitle",children:e})]}),s.jsxs("div",{className:"anchored-card__delta anchored-card__delta--up","aria-label":"Delta",children:[" ",m]})]}),s.jsx("div",{className:"anchored-card__chart",children:s.jsx(Mme,{points:r.points,avgValue:u,showAvg:!0,showDots:!0,showFill:!0,showXLabels:!0})}),s.jsxs("footer",{className:"anchored-card__footer",children:[s.jsxs("div",{className:"anchored-card__kpis",children:[s.jsxs("div",{className:"anchored-card__kpi",children:[s.jsx("strong",{children:w1(a)}),s.jsx("span",{children:"Base Stats (latest)"})]}),s.jsxs("div",{className:"anchored-card__kpi",children:[s.jsx("strong",{children:w1(o)}),s.jsx("span",{children:"Server  marker"})]}),s.jsxs("div",{className:"anchored-card__pill anchored-card__pill--up",children:[" ",w1(l)]})]}),s.jsxs("div",{className:"anchored-card__legend",children:[s.jsxs("span",{children:[s.jsx("span",{className:"anchored-card__dot"})," Player"]}),s.jsxs("span",{children:[s.jsx("span",{className:"anchored-card__dot anchored-card__dot--muted"})," Average marker"]})]})]})]})}function Hme({data:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>s.jsxs("article",{className:"player-profile__card",children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&s.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),s.jsxs("div",{className:"player-profile__section",children:[s.jsxs("header",{className:"player-profile__section-head",children:[s.jsx("h3",{children:"Attribute"}),s.jsx("span",{children:"Basis vs. Gesamt"})]}),s.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>s.jsxs("div",{className:"player-profile__attr-card",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__attr-label",children:e.label}),s.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&s.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),s.jsxs("div",{className:"player-profile__split",children:[s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Resistenzen"})}),s.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]}),s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"konomie"})}),s.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function Ome({items:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>s.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[s.jsxs("div",{className:"player-profile__progress-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),s.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),s.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:s.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&s.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function $me({series:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var n;return s.jsx(Qme,{title:e.label,subtitle:(n=e.subLabel)!=null?n:"Looks natural even when the values are high (no 0-baseline).",series:e},e.label)})})}function Vme({rows:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Serververgleich"})}),s.jsx("div",{className:"player-profile__comparison-wrapper",children:s.jsxs("table",{className:"player-profile__comparison",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"Spieler"}),s.jsx("th",{children:"Cluster"}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.label}),s.jsx("td",{children:e.playerValue}),s.jsx("td",{children:e.benchmark}),s.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function Gme({entries:t}){return s.jsx("div",{className:"player-profile__tab-panel",children:s.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>s.jsxs("li",{children:[s.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),s.jsxs("div",{className:"player-profile__timeline-card",children:[s.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),s.jsx("div",{className:"player-profile__timeline-title",children:e.title}),s.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}const Kme={genderName:"male",class:1,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:1,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},zi=(t,e,n=0)=>{if(!Array.isArray(t)||e<0)return n;const r=t[e],i=typeof r=="number"?r:Number(r);return Number.isFinite(i)?i:n},zme=t=>{switch(t){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}};function w3(t){const e=zi(t,18),n=zi(t,21),r=zi(t,25),i=zi(t,705),a=zi(t,28)&255,o=Math.floor(e/100),l=Math.max(o,1),d=Math.floor(e/100);return{...Kme,genderName:a===1?"female":"male",class:zi(t,29)&65535,race:zi(t,27)&65535,mouth:zi(t,17),hair:Math.max(e%100,0),brows:Math.max(zi(t,19)%100,0),eyes:zi(t,20),beard:Math.max(n%100,0),nose:zi(t,22),ears:zi(t,23),extra:zi(t,24),horn:Math.max(r%100,0),special:Math.min(zi(t,26),0),hairColor:l,hornColor:a===1?1:d===0?l:d,frame:zme(i)}}function Wme(t){return typeof t!="string"||!t.trim()?[]:t.split("/").map(e=>{const n=Number(e.trim());return Number.isFinite(n)?n:0})}const qme={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},zs=(t,e=0)=>{const n=typeof t=="number"?t:Number(t);return Number.isFinite(n)?n:e},Xme=t=>t&&typeof t=="object"&&Object.values(t).some(e=>e!=null),b3=t=>{if(typeof t!="string")return[];const e=t.trim();if(!e)return[];const n=e.toLowerCase().replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"");return n?[n]:[]},um=new Map,_3="avatar-cache:",Yme=1440*60*1e3,Jme=async(t,e,n,r)=>{var B,S;const i=Number(t),a=String(t!=null?t:"").trim(),o=(B=b3(e)[0])!=null?B:"",l=typeof n=="string"&&n.trim()?n.trim():"",u=(v=>{if(!v)return"";const w=v.trim().toLowerCase();if(!w)return"";const N=w.split("/").filter(Boolean).pop()||w,[_,...j]=N.split("__"),k=j.join("__");if(_&&k){const U=b3(k)[0];if(U)return`${_}__${U}`}return a&&o?`${a}__${o}`:N.replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"")})(l)||(a&&o?`${a}__${o}`:"");if(!u)return null;const m=(()=>{var v;if(um.has(u))return(v=um.get(u))!=null?v:null;try{const w=typeof window!="undefined"?window.localStorage.getItem(`${_3}${u}`):null;if(!w)return null;const N=JSON.parse(w);return!(N!=null&&N.data)||typeof N.savedAt!="number"||!(Date.now()-N.savedAt<Yme)?null:N.data}catch(w){return null}})();if(m)return um.set(u,m),m;const g=await On(r!=null?r:null,vs(Lt,"linked_players","avatars","avatars",u),()=>Nn(vs(Lt,"linked_players","avatars","avatars",u)));if(!g.exists())return um.set(u,null),null;const y=g.data(),x=(y==null?void 0:y.portrait)||{},C=Xme(x),E={genderName:(x==null?void 0:x.genderName)==="female"?"female":"male",classId:zs(x==null?void 0:x.classId),raceId:zs(x==null?void 0:x.raceId),mouth:zs(x==null?void 0:x.mouth),hair:zs(x==null?void 0:x.hair),hairColor:zs(x==null?void 0:x.hairColor),horn:zs(x==null?void 0:x.horn),hornColor:zs(x==null?void 0:x.hornColor),brows:zs(x==null?void 0:x.brows),eyes:zs(x==null?void 0:x.eyes),beard:zs(x==null?void 0:x.beard),nose:zs(x==null?void 0:x.nose),ears:zs(x==null?void 0:x.ears),extra:zs(x==null?void 0:x.extra),special:zs(x==null?void 0:x.special),frameId:zs(x==null?void 0:x.frameId),frame:typeof(x==null?void 0:x.frame)=="string"?x.frame:void 0,background:typeof(x==null?void 0:x.background)=="string"?x.background:void 0,showBorder:typeof(x==null?void 0:x.showBorder)=="boolean"?x.showBorder:void 0,mirrorHorizontal:typeof(x==null?void 0:x.mirrorHorizontal)=="boolean"?x.mirrorHorizontal:void 0},T={playerId:zs(y==null?void 0:y.playerId,i),server:typeof(y==null?void 0:y.server)=="string"?y.server:e,portrait:E,updatedAt:(S=y==null?void 0:y.updatedAt)!=null?S:null,hasPortraitData:C};if(um.set(u,T),typeof window!="undefined")try{window.localStorage.setItem(`${_3}${u}`,JSON.stringify({data:T,savedAt:Date.now()}))}catch(v){}return T},Zme=t=>{switch(t){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}},epe=["","goldenFrame","twitchFrame","zenFrame","silverFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"],tpe=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],spe=(t,e)=>{const n=(t==null?void 0:t.portrait)||{},r={...qme,...e||{}},i=Zme(zs(n.frameId,0)),a=typeof n.frame=="string"&&epe.includes(n.frame)?n.frame:"",o=typeof n.background=="string"&&tpe.includes(n.background)?n.background:r.background;return{...r,genderName:n.genderName==="female"?"female":r.genderName,class:zs(n.classId,r.class),race:zs(n.raceId,r.race),mouth:zs(n.mouth,r.mouth),hair:zs(n.hair,r.hair),hairColor:zs(n.hairColor,r.hairColor),horn:zs(n.horn,r.horn),hornColor:zs(n.hornColor,r.hornColor),brows:zs(n.brows,r.brows),eyes:zs(n.eyes,r.eyes),beard:zs(n.beard,r.beard),nose:zs(n.nose,r.nose),ears:zs(n.ears,r.ears),extra:zs(n.extra,r.extra),special:zs(n.special,r.special),frame:i||a||r.frame||"",background:o,showBorder:typeof n.showBorder=="boolean"?n.showBorder:r.showBorder,mirrorHorizontal:typeof n.mirrorHorizontal=="boolean"?n.mirrorHorizontal:r.mirrorHorizontal}};function d6(t,e){var n;if(typeof window=="undefined")return null;try{const r=window.localStorage.getItem(t);if(!r)return null;const i=JSON.parse(r);return!i||typeof i.cachedAt!="number"||Date.now()-i.cachedAt>=e?null:(n=i.data)!=null?n:null}catch(r){return null}}function u6(t,e){if(typeof window!="undefined")try{const n={cachedAt:Date.now(),data:e};window.localStorage.setItem(t,JSON.stringify(n))}catch(n){}}const npe=["Statistiken","Charts","Fortschritt","Vergleich","Historie"],j3="sf_profile_player__",C3="sf_profile_player_server_index",rpe=3600*1e3,ipe="playerProfile:charts:monthly3:",ape=720*60*1e3,A6=3,b1="Last 3 months",Tj="history_monthly",h6=["honor","ehre","honour","honorpoints","ehrepunkte"],m6=[{key:"str",label:"Strke",base:["Base Strength","Strke","basestrength"],total:["Strength"]},{key:"dex",label:"Geschick",base:["Base Dexterity","Geschick","basedexterity"],total:["Dexterity"]},{key:"int",label:"Intelligenz",base:["Base Intelligence","Intelligenz","baseintelligence"],total:["Intelligence"]},{key:"con",label:"Konstitution",base:["Base Constitution","Konstitution","baseconstitution"],total:["Constitution"]},{key:"lck",label:"Glck",base:["Base Luck","Glck","baseluck"],total:["Luck"]}];function ope(){var H;const e=(H=Iy().identifier)!=null?H:"",n=pi(),[r,i]=R.useState(!0),[a,o]=R.useState(null),[l,d]=R.useState(null),[u,h]=R.useState("Statistiken"),[m,g]=R.useState(null),[y,x]=R.useState(null),[,C]=R.useState(!1),[,E]=R.useState(null),[T,B]=R.useState(null),S=R.useRef(!1),v=R.useRef(null),w=R.useRef(null),N=R.useRef(null),_=R.useRef(null);R.useEffect(()=>{let O=!1;async function z(){var X,Z,se,le,we,Se,te,ce,re,ye,Be,Le,Ee,De,at,Ke,He,Ce,ue,Te,Fe,ct,xt,ie,Ae,me,ke,jt,nt,et,ut,bt,Ye,Je,Kt,mt,ne,Re,Ue,dt,ze,wt,Dt,Et;i(!0),o(null);const G=e;if(!G){d(null),o("Kein Spieler ausgewhlt."),i(!1);return}const $=()=>{if(typeof window=="undefined")return{};try{const Me=window.localStorage.getItem(C3);if(!Me)return{};const pt=JSON.parse(Me);return pt&&typeof pt=="object"?pt:{}}catch(Me){return{}}},Y=$()[G],J=Y?`${j3}${Y}__${G}`:null;if(J){const Me=d6(J,rpe);if(Me&&typeof Me=="object"){d(Me),i(!1);return}}let V=null;try{V=Jn("PlayerProfile:load");let Me=null;const pt=vs(Lt,"players",G,"latest","latest"),os=await On(V,pt,()=>Nn(pt));if(os.exists()&&(Me=os.data()),!Me)throw new Error("Spieler nicht gefunden.");if(!Me||typeof Me!="object")throw new Error("Spieler nicht gefunden.");const je=typeof Me.values=="object"&&Me.values?Me.values:{};Me.timestampRaw!=null&&je.timestampRaw==null&&(je.timestampRaw=Me.timestampRaw);const bs=Array.isArray(Me.save)&&Me.save||Array.isArray(je==null?void 0:je.save)&&je.save||Array.isArray(Me.saveArray)&&Me.saveArray||Array.isArray(je==null?void 0:je.saveArray)&&je.saveArray||void 0,Vn=typeof Me.save=="string"&&Me.save||typeof(je==null?void 0:je.save)=="string"&&je.save||typeof Me.saveString=="string"&&Me.saveString||typeof(je==null?void 0:je.saveString)=="string"&&je.saveString||void 0,yn=String((X=Me==null?void 0:Me.playerId)!=null?X:G).trim()||G,hn=(se=vr((Z=Me.level)!=null?Z:je==null?void 0:je.Level))!=null?se:null,Ar=((we=(le=Me.className)!=null?le:je==null?void 0:je.Class)!=null?we:null)||null,hr=((te=(Se=Me.guildName)!=null?Se:je==null?void 0:je.Guild)!=null?te:null)||null,mn=je["Guild Identifier"],hs=typeof mn=="string"&&mn.trim()||null,_s=je["Guild Joined"],lt=typeof _s=="string"&&_s.trim()||null,Tt=(re=(ce=Me.name)!=null?ce:je==null?void 0:je.Name)!=null?re:yn,ft=(Be=(ye=Me.server)!=null?ye:je==null?void 0:je.Server)!=null?Be:null,Ns=typeof ft=="string"?ft.trim().toLowerCase().replace(/\./g,"_"):"",Zs=G||null,Ur=(at=(De=(Ee=(Le=Me.avatarIdentifier)!=null?Le:Me.identifier)!=null?Ee:je==null?void 0:je.avatarIdentifier)!=null?De:je==null?void 0:je.identifier)!=null?at:Ns?`${yn}__${Ns}`:null,Pr=(He=vr((Ke=Me.totalStats)!=null?Ke:je==null?void 0:je["Total Stats"]))!=null?He:null,wn=(Te=vr((ue=(Ce=Me.base)!=null?Ce:je==null?void 0:je.Base)!=null?ue:je==null?void 0:je.base))!=null?Te:null,wr=(xt=vr((ct=(Fe=Me.con)!=null?Fe:je==null?void 0:je.Con)!=null?ct:je==null?void 0:je.con))!=null?xt:null,br=(me=vr((Ae=(ie=Me.attributeTotal)!=null?ie:je==null?void 0:je["Attribute Total"])!=null?Ae:je==null?void 0:je.AttributeTotal))!=null?me:null,ti=(nt=vr((jt=(ke=Me.conTotal)!=null?ke:je==null?void 0:je["Con Total"])!=null?jt:je==null?void 0:je.ConTotal))!=null?nt:null,Ri=(ze=(dt=(Ue=(Re=(ne=(mt=(Kt=(Je=(Ye=(bt=(ut=(et=Me.scrapbookPct)!=null?et:Me.scrapbook)!=null?ut:je==null?void 0:je.scrapbookPct)!=null?bt:je==null?void 0:je.scrapbook)!=null?Ye:je==null?void 0:je["Scrapbook %"])!=null?Je:je==null?void 0:je.Scrapbook)!=null?Kt:je==null?void 0:je.Album)!=null?mt:je==null?void 0:je["Album %"])!=null?ne:je==null?void 0:je.AlbumPct)!=null?Re:je==null?void 0:je.AlbumPercent)!=null?Ue:je==null?void 0:je.AlbumPercentage)!=null?dt:je==null?void 0:je.AlbumCompletion)!=null?ze:je==null?void 0:je.AlbumProgress,xs=(wt=vr(Ri))!=null?wt:null,gi=(Dt=vr(Me.timestamp))!=null?Dt:vr(je==null?void 0:je.timestamp),Ui=p6(gi),Ji=typeof Me.portrait=="object"?Me.portrait:typeof Me.portraitOptions=="object"?Me.portraitOptions:typeof(je==null?void 0:je.portraitOptions)=="object"?je.portraitOptions:void 0,on={id:yn,name:Tt,className:Ar,level:hn,guild:hr,guildIdentifier:hs,guildJoined:lt,server:ft,identifier:Zs,avatarIdentifier:Ur,scrapbookPct:xs,totalStats:Pr,base:wn,con:wr,conTotal:ti,attributeTotal:br,lastScanDays:Ui,values:je,portraitConfig:Ji,saveArray:bs,saveString:Vn};if(typeof window!="undefined")try{const ld=String((Et=on.server)!=null?Et:"").trim().toLowerCase().replace(/[^a-z0-9]/g,"")||"unknown",Ko=`${j3}${ld}__${G}`,si=$();si[G]=ld,u6(Ko,on),window.localStorage.setItem(C3,JSON.stringify(si))}catch(od){}O||d(on)}catch(Me){O||(d(null),o((Me==null?void 0:Me.message)||"Unbekannter Fehler beim Laden."))}finally{Cn(V),O||i(!1)}}return z(),()=>{O=!0}},[e]),R.useEffect(()=>{B(null),S.current=!1,v.current=null,w.current=null},[e,l==null?void 0:l.server]),R.useEffect(()=>{N.current=T},[T]);const j=O=>{h(O)};R.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]),R.useEffect(()=>{let O=!1;return(async()=>{var Y,J;const G=Jn("PlayerProfile:avatar");if(!(l!=null&&l.id)){x(null),C(!1),E(null),Cn(G);return}const $=vr(l.id);if($==null){x(null),C(!1),E(null),Cn(G);return}C(!0),E(null);try{const V=await Jme($,(Y=l.server)!=null?Y:"",(J=l.avatarIdentifier)!=null?J:void 0,G);O||x(V)}catch(V){O||(x(null),E(V instanceof Error?V:new Error("AvatarSnapshot failed")))}finally{Cn(G),O||C(!1)}})(),()=>{O=!0}},[l==null?void 0:l.id,l==null?void 0:l.server]),R.useEffect(()=>{if(u!=="Charts"||!(l!=null&&l.id))return;const O=`${f6(l.server)}:${l.id}`;if(S.current||w.current===O&&v.current&&N.current)return;const z=cpe(l.id,l.server),G=upe(z);if(G){const V=C1(G.months);B(X=>{const Z=Am(X,V);return Z||console.log(`[charts] load set from cache key=${O} months=${G.months.length}`),Z?X:V}),N.current=C1(G.months),v.current="cache",w.current=O;return}let $=!1;S.current=!0,console.log(`[charts] load start key=${O} source=firestore`);const Y=Jn("PlayerProfile:charts");return(async()=>{try{const V=l.identifier;if(!V){if(rp(z),!$){const Se=S1(l);N.current=Se,v.current="fallback",w.current=O,B(te=>Am(te,Se)?te:Se),console.log(`[charts] load done key=${O} months=0 (missing identifier)`)}return}const X=Ml(Lt,`players/${V}/history_monthly`),Z=Yn(X,pa(G_(),"desc"),Fr(3)),le=(await Hn(Y,{path:X.path},()=>Qn(Z))).docs.map(Se=>dpe(Se)).filter(Se=>!!Se);if(!le.length){if(rp(z),!$){const Se=S1(l);N.current=Se,v.current="fallback",w.current=O,B(te=>Am(te,Se)?te:Se),console.log(`[charts] load done key=${O} months=0 (fallback)`)}return}const we=C1(le);$||(N.current=we,v.current="monthly",w.current=O,B(Se=>Am(Se,we)?Se:we),Ape(z,le),console.log(`[charts] load done key=${O} months=${le.length}`))}catch(V){if(!$){const X=S1(l);N.current=X,v.current="fallback",w.current=O,B(Z=>Am(Z,X)?Z:X),console.log(`[charts] load error key=${O}`,V)}}finally{S.current=!1,Cn(Y)}})(),()=>{$=!0}},[u,l==null?void 0:l.id,l==null?void 0:l.identifier,l==null?void 0:l.server]);const k=R.useMemo(()=>l?ppe(l,y,T):null,[l,y,T]),U=R.useCallback(O=>{g(O),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>g(null),3500)},[]),I=R.useCallback(async O=>{var z,G,$;if(l){if(O==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const Y=($=(G=l.identifier)!=null?G:o0((z=l.server)!=null?z:null,l.id))!=null?$:l.id,J=`${window.location.origin}/players/profile/${encodeURIComponent(Y)}`;try{await navigator.clipboard.writeText(J),U("Profil-Link wurde kopiert.")}catch(V){U("Konnte Link nicht kopieren.")}}return}if(O==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:l.name,text:`Shakes & Fidget Charakter ${l.name}`,url:window.location.href}),U("Profil geteilt.")}catch(Y){U("Teilen abgebrochen.")}return}if(O==="guild"){l.guildIdentifier&&n(`/guild/${l.guildIdentifier}`);return}if(O==="rescan"){U("Rescan-Queue folgt aktuell noch Platzhalter.");return}}},[n,U,l]),P=()=>{if(!k)return null;switch(u){case"Statistiken":return s.jsx(Hme,{data:k.stats});case"Charts":return s.jsx($me,{series:k.charts});case"Fortschritt":return s.jsx(Ome,{items:k.progress});case"Vergleich":return s.jsx(Vme,{rows:k.comparison});case"Historie":return s.jsx(Gme,{entries:k.history});default:return null}},L=()=>s.jsxs("div",{className:"player-profile__loading",children:[s.jsx("p",{children:a!=null?a:"Spieler nicht gefunden."}),s.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return s.jsxs("div",{className:"player-profile",children:[r&&!l&&s.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!l||!k)&&L(),k&&s.jsxs(s.Fragment,{children:[s.jsx(Lme,{data:k.hero,loading:r,onAction:I}),s.jsx(lpe,{message:m}),s.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:npe.map(O=>{const z=u===O;return s.jsx("button",{type:"button",role:"tab","aria-selected":z,className:`player-profile__tab-button ${z?"player-profile__tab-button--active":""}`,onClick:()=>j(O),children:O},O)})}),P()]})]})}const lpe=W.memo(({message:t})=>t?s.jsx("p",{className:"player-profile__hero-feedback",role:"status","aria-live":"polite",children:t}):null),vr=t=>{if(t==null||t==="")return null;if(typeof t=="number")return Number.isFinite(t)?t:null;const e=String(t).trim(),n=e.startsWith("-")?-1:1,r=e.replace(/^[+-]/,"").replace(/[\s%]/g,""),i=r.lastIndexOf(","),a=r.lastIndexOf("."),o=Math.max(i,a);let l="";if(o>-1){const u=r.slice(o+1).replace(/[^0-9]/g,""),h=r.slice(0,o).replace(/[^0-9]/g,"");u.length>0&&u.length<=2?l=`${h}.${u}`:l=(h+u).replace(/[^0-9]/g,"")}else l=r.replace(/[^0-9]/g,"");if(!l)return null;const d=Number(l)*n;return Number.isFinite(d)?d:null},p6=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},_1=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),g6=t=>{const e=new Map;return Object.entries(t||{}).forEach(([n,r])=>e.set(_1(n),r)),{number(n,r=null){for(const i of n){const a=vr(e.get(_1(i)));if(a!=null)return a}return r},text(n,r=null){for(const i of n){const a=e.get(_1(i));if(a!=null&&String(a).trim())return String(a).trim()}return r}}},f6=t=>typeof t!="string"?"unknown":t.trim().toLowerCase().replace(/\./g,"_")||"unknown",cpe=(t,e)=>`${ipe}${f6(e)}:${t}`,Fl=t=>typeof t=="number"&&Number.isFinite(t)?t:0,j1=(t,e=3)=>{var r;const n=t.map(i=>Number.isFinite(i)?i:0);for(n.length||n.push(0);n.length<e;)n.unshift((r=n[0])!=null?r:0);return n.slice(-e)},hy=(t,e,n)=>[{label:"Level Verlauf",points:j1(t),unit:"",subLabel:b1},{label:"Total Stats",points:j1(e),unit:"",subLabel:b1},{label:"Honor",points:j1(n),unit:"",subLabel:b1}],v6=t=>{const e=g6(t||{}),n=e.number(["level"]),r=e.number(h6);let a=e.number(["totalstats","stats"]);if(a==null){let o=0,l=0;m6.forEach(d=>{var h;const u=(h=e.number(d.total))!=null?h:e.number(d.base);u!=null&&(o+=u,l++)}),a=l?o:null}return{level:n,totalStats:a,honor:r}},C1=t=>{if(!t.length)return hy([],[],[]);const e=[...t].sort((a,o)=>a.monthId.localeCompare(o.monthId)),n=e.map(a=>Fl(a.values.level)),r=e.map(a=>Fl(a.values.totalStats)),i=e.map(a=>Fl(a.values.honor));return hy(n,r,i)},Am=(t,e)=>{if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0;n<t.length;n++){if(t[n].label!==e[n].label||t[n].unit!==e[n].unit||t[n].subLabel!==e[n].subLabel||t[n].points.length!==e[n].points.length)return!1;for(let r=0;r<t[n].points.length;r++)if(t[n].points[r]!==e[n].points[r])return!1}return!0},dpe=t=>{var i,a,o;const e=typeof t.data=="function"?t.data():{},n=e!=null&&e.values&&typeof e.values=="object"?e.values:{},r=typeof(e==null?void 0:e.monthId)=="string"&&e.monthId?e.monthId:t.id;return r?{monthId:r,lastTs:(o=vr((a=(i=e==null?void 0:e.lastTs)!=null?i:e==null?void 0:e.lastTimestamp)!=null?a:e==null?void 0:e.lastTimestampRaw))!=null?o:null,values:v6(n)}:null},rp=t=>{if(typeof window!="undefined")try{window.localStorage.removeItem(t)}catch(e){}},upe=t=>{if(typeof window=="undefined")return null;try{const e=window.localStorage.getItem(t);if(!e)return null;const n=JSON.parse(e),r=(n==null?void 0:n.source)===Tj,i=typeof n.fetchedAt=="number"&&n.version===A6,a=i&&Date.now()-n.fetchedAt<=ape,o=Array.isArray(n.months)?n.months:null;if(!r||!i||!a||!o)return rp(t),null;const l=o.map(d=>{var u,h,m,g,y,x;return!d||typeof d.monthId!="string"?null:{monthId:d.monthId,lastTs:typeof d.lastTs=="number"?d.lastTs:null,values:{level:(h=vr((u=d.values)==null?void 0:u.level))!=null?h:null,totalStats:(g=vr((m=d.values)==null?void 0:m.totalStats))!=null?g:null,honor:(x=vr((y=d.values)==null?void 0:y.honor))!=null?x:null}}}).filter(d=>!!d);return l.length<1?(rp(t),null):{fetchedAt:n.fetchedAt,version:n.version,source:Tj,months:l}}catch(e){return rp(t),null}},Ape=(t,e)=>{if(typeof window=="undefined"||e.length<1)return;const n={fetchedAt:Date.now(),version:A6,source:Tj,months:e.map(r=>{var i,a,o;return{monthId:r.monthId,lastTs:r.lastTs,values:{level:(i=r.values.level)!=null?i:null,totalStats:(a=r.values.totalStats)!=null?a:null,honor:(o=r.values.honor)!=null?o:null}}})};try{window.localStorage.setItem(t,JSON.stringify(n))}catch(r){}},S1=t=>{var r,i,a,o,l;const e=v6(t.values||{}),n={level:(i=(r=e.level)!=null?r:t.level)!=null?i:null,totalStats:(o=(a=e.totalStats)!=null?a:t.totalStats)!=null?o:null,honor:(l=e.honor)!=null?l:null};return hy([Fl(n.level)],[Fl(n.totalStats)],[Fl(n.honor)])},hpe=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Nr=(t,e="-")=>t==null?e:t.toLocaleString("de-DE"),ux=t=>{if(t==null)return"-";const e=Math.floor(t*100)/100,n=e%1!==0;return`${e.toLocaleString("de-DE",{minimumFractionDigits:n?2:0,maximumFractionDigits:2})}%`},S3=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,B3=t=>{if(t==null)return null;const e=new Date(t*1e3);if(Number.isNaN(e.getTime()))return null;const n=r=>String(r).padStart(2,"0");return`${n(e.getDate())}.${n(e.getMonth()+1)}.${e.getFullYear()} ${n(e.getHours())}:${n(e.getMinutes())}`},mpe=(t,e)=>{let n;const r=t.portraitConfig&&Object.keys(t.portraitConfig).length>0;if(Array.isArray(t.saveArray)&&t.saveArray.length>0)n=w3(t.saveArray);else if(t.saveString){const i=Wme(t.saveString);n=i.length>0?w3(i):void 0}else r&&(n={...t.portraitConfig});return e!=null&&e.hasPortraitData?{config:spe(e,n),hasData:!0}:n?{config:n,hasData:!0}:{config:void 0,hasData:!1}},ppe=(t,e,n)=>{var me,ke,jt,nt,et,ut,bt,Ye,Je,Kt,mt,ne,Re,Ue,dt,ze,wt,Dt,Et;const r=t.values||{},i=g6(r),a=hpe(t.id),o=mpe(t,e),l=PR((me=t.className)!=null?me:void 0),d=Yi(l.url,420)||"/assets/demo-avatar-special.png",u=t.className?`Klassenbild ${t.className}`:"Portrait-Platzhalter",h=["album","album%","albumpct","albumpercent","albumpercentage","albumcompletion","albumprogress","scrapbook","scrapbook%","scrapbookpct","scrapbookpercent"],m=h6,g=["hofrank","halloffamerank","hofposition","halloffameposition","hofplatz","halloffame","hof"],y=["mount","reittier","mountname"],x=["mountpct","mountpercent","mountpercentage","mountspeed","mountbonus","mountvalue"],C=["guildrole","role","guildrank","gildenrolle"],E=(ke=t.level)!=null?ke:i.number(["level"]),T=(jt=t.scrapbookPct)!=null?jt:i.number(h),B=i.number(m),S=(nt=t.totalStats)!=null?nt:i.number(["totalstats","stats"]),v=m6,w={str:0,dex:0,int:0,con:0,lck:0},N={str:0,dex:0,int:0,con:0,lck:0};let _=!1,j=!1;v.forEach(Me=>{const pt=i.number(Me.base);pt!=null&&(w[Me.key]=pt,_=!0);const os=i.number(Me.total);os!=null&&(N[Me.key]=os,j=!0)});const k=t.values||{},U=Me=>{const pt=String(Me!=null?Me:"0").replace(/[.\\s]/g,""),os=parseInt(pt,10);return Number.isFinite(os)?os:0},I=U(k.Base),P=U(k["Base Constitution"]),L=U(k.Attribute),H=U(k.Constitution),O=_?Object.values(w).reduce((Me,pt)=>Me+pt,0):null,z=I+P,G=L+H,$=T!=null?T:null,Y=(et=i.number(["fortresslevel","fortress"]))!=null?et:Math.round(a()*20)+30,J=(ut=i.number(["underworld","underworldlevel"]))!=null?ut:Math.round(a()*10)+20,V=(bt=i.number(["tower","towerfloor"]))!=null?bt:Math.round(a()*90)+10,X=(Ye=i.number(["pets","petprogress"]))!=null?Ye:Math.round(a()*50)+25,Z=(E!=null?E:0)*1200+(O!=null?O:0)+Math.round((T!=null?T:0)*3200),se=i.text(y),le=se&&/[a-zA-Z]/.test(se)||se&&/%/.test(se)?se:null,we=(Re=(ne=(mt=(Kt=(Je=r==null?void 0:r["Mount %"])!=null?Je:r==null?void 0:r["mount %"])!=null?Kt:r==null?void 0:r.MountPct)!=null?mt:r==null?void 0:r.mountPct)!=null?ne:r==null?void 0:r.MountBonus)!=null?Re:r==null?void 0:r.mountBonus,Se=(Ue=vr(we))!=null?Ue:i.number(x),te=le?vr((le.match(/(\d+)\s*%/)||[])[1]):null,ce=Se!=null?Se:te;let re="-";le?re=ce!=null&&!/%/.test(le)?`${le} (${Math.round(ce)}%)`:le:ce!=null&&(re=`${Math.round(ce)}%`);const ye=i.text(C),Be=vr(r==null?void 0:r.Rank),Le=Be!=null?Be:i.number(g),Ee=i.text(["timestampraw"]),De=i.number(["timestamp"]),at=Ee&&/^\s*\d+\s*$/.test(Ee)?(dt=B3(vr(Ee)))!=null?dt:Ee:(ze=Ee!=null?Ee:B3(De))!=null?ze:"-",Ke=(wt=t.lastScanDays)!=null?wt:De!=null?p6(De):null,He=[{label:"Last Scan",value:at},{label:"Level",value:E!=null?`Lvl ${Nr(E)}`:"-"},{label:"Scrapbook",value:ux($)},{label:"Total Base Stats",value:z!=null?Nr(z):"-"}],Ce=[{label:"Mount",value:re!=null?re:"-",tone:"neutral"},{label:"Honor",value:Nr(B),tone:"success"},{label:"Gildenrolle",value:ye!=null?ye:"-",tone:"warning"},{label:"HoF",value:Le!=null?`#${Nr(Le)}`:"-",tone:"neutral"}],ue=_?w:void 0,Te={playerName:t.name,className:t.className,guild:t.guild,server:t.server,guildIdentifier:t.guildIdentifier,guildJoined:t.guildJoined,levelLabel:E?`Level ${Nr(E)}`:void 0,lastScanLabel:(Dt=S3(Ke))!=null?Dt:void 0,lastScanAtLabel:at!=="-"?at:void 0,lastScanDays:Ke,status:Ke!=null&&Ke<=2?"online":"offline",metrics:He,badges:Ce,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guildIdentifier,title:t.guildIdentifier?void 0:"No guild linked in latest scan."},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:o.hasData?o.config:void 0,hasPortrait:o.hasData,portraitFallbackUrl:d,portraitFallbackLabel:u,baseStats:ue,totalStats:j?N:void 0,totalStatsValue:G},Fe={summary:[{label:"Power Score",value:Nr(Z),hint:"Level * SumBase"},{label:"Honor",value:Nr(B)},{label:"HoF Platz",value:Le?`#${Nr(Le)}`:"-"},{label:"Letzter Scan",value:(Et=S3(Ke))!=null?Et:"-"}],attributes:v.map(Me=>({label:Me.label,baseLabel:Nr(i.number(Me.base)),totalLabel:i.number(Me.total)!=null?`Gesamt ${Nr(i.number(Me.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(a()*40+40)}%`},{label:"Schatten",value:`${Math.round(a()*40+35)}%`},{label:"Frost",value:`${Math.round(a()*30+30)}%`},{label:"Licht",value:`${Math.round(a()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Nr(Math.round((E!=null?E:1)*(a()*8+3)))}k`},{label:"XP/h",value:`${Nr(Math.round((E!=null?E:1)*(a()*5+2)))}k`},{label:"Mount Bonus",value:re},{label:"Quest Slots",value:`${Math.round(a()*2)+3}`}]},ct=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,($!=null?$:0)/100),targetLabel:`${ux($)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:$!=null&&$>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,V/100),targetLabel:`Ebene ${Math.round(V)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudebau",progress:Math.min(1,Y/25),targetLabel:`Lvl ${Math.round(Y)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,J/30),targetLabel:`Lvl ${Math.round(J)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,X/100),targetLabel:`${Math.round(X)} / 100`,meta:"Habitate offen"}],xt=n!=null?n:hy([Fl(E)],[Fl(S)],[Fl(B)]),ie=[{label:"Level",playerValue:E?`Lvl ${Nr(E)}`:"-",benchmark:E?`Lvl ${Nr(Math.round(E*.92))}`:"-",diffLabel:E?`+${Math.round(E*.08)}`:"-",trend:"up"},{label:"Power Score",playerValue:Nr(Z),benchmark:Nr(Math.round(Z*.9)),diffLabel:`+${Nr(Math.round(Z*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:ux($),benchmark:`${Math.min(100,Math.round(($!=null?$:60)-8))}%`,diffLabel:$!=null?`+${Math.round($-60)}%`:"-",trend:$!=null&&$>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(Y)}`,benchmark:`Lvl ${Math.round(Y-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(J)}`,benchmark:`Lvl ${Math.round(J-2)}`,diffLabel:"+2",trend:"neutral"}],Ae=gpe(t,i,a);return{hero:Te,stats:Fe,progress:ct,charts:xt,comparison:ie,history:Ae}},gpe=(t,e,n)=>{var o,l;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const a=e.text(["lastdungeon","lastfight"]);return a&&r.push({dateLabel:wv(Math.round(n()*15)+5),title:"Dungeon Clear",description:a,tag:"Dungeon"}),r.push({dateLabel:wv(2),title:"Level-Up",description:`Erreichte Level ${Nr(t.level)}`,tag:"Level"}),r.push({dateLabel:wv(10),title:"Scrapbook Meilenstein",description:`${ux((o=t.scrapbookPct)!=null?o:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:wv(18),title:"Festung",description:`Fortress Level ${Math.round((l=e.number(["fortress"],Math.round(n()*20+15)))!=null?l:0)}`,tag:"Festung"}),r},wv=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function B1(){return s.jsx(As,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx(ope,{})})}function rh(t,e=300){const[n,r]=W.useState(t);return W.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function ih(t){const e=W.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[n,r]=W.useState(()=>e());return W.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),a=o=>r(o.matches);return r(i.matches),i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[t]),n}const fpe='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function ah(t,e){W.useEffect(()=>{var o;if(!e)return;const n=t.current;if(!n)return;const r=()=>n.querySelectorAll(fpe);(o=r()[0])==null||o.focus();const a=l=>{if(l.key!=="Tab")return;const d=r();if(d.length===0)return;const u=d[0],h=d[d.length-1];l.shiftKey?document.activeElement===u&&(l.preventDefault(),h.focus()):document.activeElement===h&&(l.preventDefault(),u.focus())};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[t,e])}const vpe="_page_1jzf5_1",xpe="_header_1jzf5_13",ype="_headerStack_1jzf5_25",wpe="_kicker_1jzf5_37",bpe="_title_1jzf5_53",_pe="_subtitle_1jzf5_65",jpe="_headerActions_1jzf5_79",Cpe="_secondaryAction_1jzf5_89",Spe="_infoStrip_1jzf5_131",Bpe="_infoCard_1jzf5_143",Npe="_infoLabel_1jzf5_163",kpe="_inlineFilters_1jzf5_177",Ipe="_filterField_1jzf5_197",Epe="_select_1jzf5_227",Tpe="_searchInput_1jzf5_229",Fpe="_layout_1jzf5_249",Lpe="_selectionColumn_1jzf5_261",Rpe="_selectionCard_1jzf5_273",Upe="_slotHeader_1jzf5_293",Ppe="_slotLabel_1jzf5_307",Dpe="_slotStatus_1jzf5_323",Mpe="_clearButton_1jzf5_335",Qpe="_slotBody_1jzf5_355",Hpe="_resultList_1jzf5_367",Ope="_emptyResult_1jzf5_385",$pe="_resultItem_1jzf5_397",Vpe="_resultName_1jzf5_421",Gpe="_resultMeta_1jzf5_433",Kpe="_selectButton_1jzf5_445",zpe="_selectedCard_1jzf5_465",Wpe="_selectedName_1jzf5_479",qpe="_selectedMeta_1jzf5_489",Xpe="_selectedTagline_1jzf5_491",Ype="_comparisonColumn_1jzf5_503",Jpe="_comparisonCard_1jzf5_515",Zpe="_comparisonHeader_1jzf5_535",ege="_sectionTitle_1jzf5_551",tge="_diffBadge_1jzf5_561",sge="_metricGrid_1jzf5_579",nge="_metricCard_1jzf5_591",rge="_metricLabel_1jzf5_611",ige="_metricValues_1jzf5_627",age="_metricDivider_1jzf5_643",oge="_metricDelta_1jzf5_653",lge="_freshnessRow_1jzf5_665",cge="_freshnessItem_1jzf5_677",dge="_freshnessBadge_1jzf5_685",uge="_freshnessPopover_1jzf5_733",Age="_popoverTitle_1jzf5_757",hge="_classCard_1jzf5_807",mge="_classGrid_1jzf5_827",pge="_classColumn_1jzf5_837",gge="_classBar_1jzf5_857",fge="_classSlice_1jzf5_873",vge="_classLegend_1jzf5_907",xge="_emptyState_1jzf5_931",yge="_supportPanels_1jzf5_947",wge="_checklistCard_1jzf5_959",bge="_infoCardExtended_1jzf5_961",_ge="_checklist_1jzf5_959",jge="_infoNote_1jzf5_1033",Cge="_sheetOverlay_1jzf5_1045",Sge="_sheetOpen_1jzf5_1073",Bge="_sheet_1jzf5_1045",Nge="_sheetHeader_1jzf5_1105",kge="_sheetBody_1jzf5_1119",pe={page:vpe,header:xpe,headerStack:ype,kicker:wpe,title:bpe,subtitle:_pe,headerActions:jpe,secondaryAction:Cpe,infoStrip:Spe,infoCard:Bpe,infoLabel:Npe,inlineFilters:kpe,filterField:Ipe,select:Epe,searchInput:Tpe,layout:Fpe,selectionColumn:Lpe,selectionCard:Rpe,slotHeader:Upe,slotLabel:Ppe,slotStatus:Dpe,clearButton:Mpe,slotBody:Qpe,resultList:Hpe,emptyResult:Ope,resultItem:$pe,resultName:Vpe,resultMeta:Gpe,selectButton:Kpe,selectedCard:zpe,selectedName:Wpe,selectedMeta:qpe,selectedTagline:Xpe,comparisonColumn:Ype,comparisonCard:Jpe,comparisonHeader:Zpe,sectionTitle:ege,diffBadge:tge,metricGrid:sge,metricCard:nge,metricLabel:rge,metricValues:ige,metricDivider:age,metricDelta:oge,freshnessRow:lge,freshnessItem:cge,freshnessBadge:dge,freshnessPopover:uge,popoverTitle:Age,classCard:hge,classGrid:mge,classColumn:pge,classBar:gge,classSlice:fge,classLegend:vge,emptyState:xge,supportPanels:yge,checklistCard:wge,infoCardExtended:bge,checklist:_ge,infoNote:jge,sheetOverlay:Cge,sheetOpen:Sge,sheet:Bge,sheetHeader:Nge,sheetBody:kge},x6=["Ari","Borin","Celeste","Doran","Lena","Nix"],Ige={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},lS={raid:"Raid",event:"Event",task:"Task"},cS={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},N3={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},k3={urgent:4,high:3,medium:2,low:1},Ege={"7d":7,"30d":30,"90d":90,all:null},N1={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},Tge=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:Ed(5,20),createdAt:wi(2,14),updatedAt:wi(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:_v(3),nextUpdateAt:bv(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:Ed(2,12),createdAt:wi(4,9),updatedAt:wi(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:_v(8),nextUpdateAt:bv(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:Ed(7,17),createdAt:wi(1,10),updatedAt:wi(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:_v(22),nextUpdateAt:bv(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:wi(1,19),createdAt:wi(9,10),updatedAt:wi(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:wi(1,19),nextUpdateAt:Ed(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:Ed(12,18),createdAt:wi(6,15),updatedAt:wi(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:_v(1),nextUpdateAt:bv(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:Ed(18,13),createdAt:wi(12,18),updatedAt:wi(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:wi(2,16),nextUpdateAt:Ed(4,9)}];function Ed(t,e=12){const n=new Date;return n.setDate(n.getDate()+t),n.setHours(e,0,0,0),n.toISOString()}function bv(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function wi(t,e=12){const n=new Date;return n.setDate(n.getDate()-t),n.setHours(e,0,0,0),n.toISOString()}function _v(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function I3(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function Fge(t,e,n){const r=Date.now(),i=Ege[e.range];return t.filter(a=>{const o=n===""||a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()),l=e.type==="all"||a.type===e.type,d=e.status==="all"||a.status===e.status,u=e.owner.length===0||e.owner.includes(a.owner)||a.assignees.some(m=>e.owner.includes(m));let h=!0;if(i!==null){const m=new Date(a.dueAt).getTime(),g=r+i*24*60*60*1e3;h=m<=g}return o&&l&&d&&u&&h})}function Lge(t,e,n){const r=[...t];return r.sort((i,a)=>{let o=0;switch(e){case"dueAt":o=new Date(i.dueAt).getTime()-new Date(a.dueAt).getTime();break;case"updatedAt":o=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break;case"priority":o=k3[i.priority]-k3[a.priority];break;case"title":o=i.title.localeCompare(a.title);break;default:o=0}return n==="asc"?o:-o}),r}function Rge(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function $o(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function vg(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Mp(t,e){const n=new Date(t).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function Uge(t){return t.length===0?null:t.reduce((e,n)=>e?N3[n.freshness]>N3[e.freshness]?n:e:n,null)}const Fj=["EU-01","EU-02","US-01","US-02","ASIA-01"],ip=new Intl.NumberFormat("de-DE");function Pge(){const t=ih("(min-width: 768px)"),[e,n]=W.useState("all"),[r,i]=W.useState(null),[a,o]=W.useState(null),[l,d]=W.useState(null),[u,h]=W.useState(null),m=[r,a].filter(Boolean).length,g=W.useMemo(()=>{const I=[l,u].filter(Boolean);if(!I.length)return 0;const P=I.reduce((L,H)=>{var O;return L+((O=H.level)!=null?O:0)},0);return Math.round(P/I.length)},[l,u]),[y,x]=W.useState(null),[C,E]=W.useState(!1),T=W.useRef(null);ah(T,C&&!t),W.useEffect(()=>{t&&E(!1)},[t]),W.useEffect(()=>{if(!y)return;const I=L=>{const H=L.target;H&&(H.closest(`.${pe.freshnessBadge}`)||H.closest(`.${pe.freshnessPopover}`)||x(null))},P=L=>{L.key==="Escape"&&x(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",P),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",P)}},[y]);const B=W.useMemo(()=>l?Mp(l.nextUpdateAt,Date.now()):"",[l]),S=W.useMemo(()=>u?Mp(u.nextUpdateAt,Date.now()):"",[u]),v=()=>E(!0),w=()=>E(!1),N=I=>{n(I)},_=(I,P)=>{I==="playerA"?(i(P.id),d(P)):(o(P.id),h(P))},j=I=>{I==="playerA"?(i(null),d(null)):(o(null),h(null))},k=I=>{x(P=>P===I?null:I)},U=l&&u;return s.jsxs(As,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[s.jsxs("div",{className:pe.page,children:[s.jsxs("header",{className:pe.header,children:[s.jsxs("div",{className:pe.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.kicker,children:"Players"}),s.jsx("h1",{className:pe.title,children:"Spieler vergleichen"}),s.jsx("p",{className:pe.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),s.jsx("div",{className:pe.headerActions,children:!t&&s.jsx("button",{type:"button",className:pe.secondaryAction,onClick:v,children:"Filter"})})]}),s.jsxs("div",{className:pe.infoStrip,children:[s.jsxs("div",{className:pe.infoCard,children:[s.jsx("span",{className:pe.infoLabel,children:"Slots gefuellt"}),s.jsxs("strong",{children:[ip.format(m)," Spieler"]})]}),s.jsxs("div",{className:pe.infoCard,children:[s.jsx("span",{className:pe.infoLabel,children:"Durchschnittslevel"}),s.jsx("strong",{children:ip.format(g)})]}),s.jsxs("div",{className:pe.infoCard,children:[s.jsx("span",{className:pe.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:pe.inlineFilters,children:s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:pe.select,value:e,onChange:I=>N(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Fj.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:pe.layout,children:[s.jsxs("section",{className:pe.selectionColumn,children:[s.jsx(E3,{title:"Spieler A",slot:"playerA",selectedPlayer:l,excludeId:a,onSelect:_,onClear:j,serverFilter:e,onServerChange:N}),s.jsx(E3,{title:"Spieler B",slot:"playerB",selectedPlayer:u,excludeId:r,onSelect:_,onClear:j,serverFilter:e,onServerChange:N})]}),s.jsxs("section",{className:pe.comparisonColumn,children:[s.jsxs("div",{className:pe.comparisonCard,children:[s.jsxs("div",{className:pe.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.kicker,children:"Vergleich"}),s.jsx("h2",{className:pe.sectionTitle,children:"Kennzahlen"})]}),U&&s.jsxs("span",{className:pe.diffBadge,children:["Delta Level: ",ip.format(l.level-u.level)]})]}),U?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:pe.metricGrid,children:[s.jsx(T3,{label:"Level",aValue:l.level,bValue:u.level}),s.jsx(T3,{label:"Scrapbook (%)",aValue:l.scrapbookPct,bValue:u.scrapbookPct,isDecimal:!0}),s.jsx(Dge,{playerA:l,playerB:u,countdownA:B,countdownB:S,activePopover:y,onToggle:k})]}),s.jsx(Mge,{playerA:l,playerB:u})]}):s.jsx("div",{className:pe.emptyState,children:s.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:pe.supportPanels,children:[s.jsx(Qge,{}),s.jsx(Hge,{})]})]})]})]}),!t&&s.jsx("div",{className:`${pe.sheetOverlay} ${C?pe.sheetOpen:""}`,children:s.jsxs("div",{className:pe.sheet,role:"dialog","aria-modal":"true",ref:T,children:[s.jsxs("header",{className:pe.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:pe.clearButton,onClick:w,children:"Schliessen"})]}),s.jsx("div",{className:pe.sheetBody,children:s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:pe.select,value:e,onChange:I=>N(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Fj.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function E3({title:t,slot:e,selectedPlayer:n,excludeId:r,onSelect:i,onClear:a,serverFilter:o,onServerChange:l}){const[d,u]=W.useState(""),h=rh(d,300);W.useEffect(()=>{u("")},[n,o]);const{results:m,loading:g}=Oge(h,o,r);return s.jsxs("article",{className:pe.selectionCard,children:[s.jsxs("div",{className:pe.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.slotLabel,children:t}),s.jsx("p",{className:pe.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:pe.clearButton,onClick:()=>a(e),children:"Reset"})]}),s.jsxs("div",{className:pe.slotBody,children:[s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:pe.select,value:o,onChange:y=>l(y.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Fj.map(y=>s.jsx("option",{value:y,children:y},y))]})]}),s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:pe.searchInput,placeholder:"Spielernamen eingeben",value:d,onChange:y=>u(y.target.value)})]}),s.jsxs("div",{className:pe.resultList,role:"list",children:[g&&s.jsx("div",{className:pe.emptyResult,children:"Lade..."}),!g&&m.length===0&&s.jsx("div",{className:pe.emptyResult,children:"Kein Spieler gefunden."}),!g&&m.map(y=>s.jsxs("div",{className:pe.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.resultName,children:y.name}),s.jsxs("p",{className:pe.resultMeta,children:[y.server," - Level ",y.level," - ",y.className]})]}),s.jsx("button",{type:"button",className:pe.selectButton,onClick:()=>i(e,y),children:"Waehlen"})]},y.id))]}),n&&s.jsxs("div",{className:pe.selectedCard,children:[s.jsx("p",{className:pe.selectedName,children:n.name}),s.jsxs("p",{className:pe.selectedMeta,children:[n.server," - Level ",n.level," - ",n.className," -"," ",n.guildName||"ohne Gilde"]}),s.jsx("p",{className:pe.selectedTagline,children:n.tagline})]})]})]})}function T3({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=l=>r?l.toFixed(1).replace(".",","):ip.format(l),a=e-n;let o="gleich";if(a!==0){const l=r?Math.abs(a).toFixed(1).replace(".",","):ip.format(Math.abs(a));o=a>0?`+${l}`:`-${l}`}return s.jsxs("div",{className:pe.metricCard,children:[s.jsx("p",{className:pe.metricLabel,children:t}),s.jsxs("div",{className:pe.metricValues,children:[s.jsx("span",{"aria-label":"Spieler A",children:i(e)}),s.jsx("span",{className:pe.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Spieler B",children:i(n)})]}),s.jsx("p",{className:pe.metricDelta,children:o})]})}function Dge({playerA:t,playerB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return s.jsxs("div",{className:pe.metricCard,children:[s.jsx("p",{className:pe.metricLabel,children:"Freshness"}),s.jsx("div",{className:pe.freshnessRow,children:[t,e].map(o=>{const l=o.id===t.id?n:r,d=`fresh-${o.id}`,u=i===d;return s.jsxs("div",{className:pe.freshnessItem,children:[s.jsxs("button",{type:"button",className:pe.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":u,onClick:()=>a(d),children:[s.jsx("span",{children:o.freshness.toUpperCase()}),s.jsx("small",{children:vg(o.lastScanAt)})]}),u&&s.jsxs("div",{className:pe.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:pe.popoverTitle,children:o.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:cS[o.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:$o(o.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[$o(o.nextUpdateAt)," (",l,")"]})]})]})]})]},o.id)})})]})}function Mge({playerA:t,playerB:e}){const n=W.useMemo(()=>Array.from(new Set([...t.stats,...e.stats].map(i=>i.label))),[t.stats,e.stats]),r=i=>{const a=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return s.jsxs("div",{className:pe.classColumn,children:[s.jsx("h3",{children:i.name}),s.jsx("div",{className:pe.classBar,"aria-label":`Statverteilung ${i.name}`,children:a.map(o=>s.jsxs("span",{style:{width:`${o.percent}%`},className:pe.classSlice,children:[s.jsx("small",{children:o.label}),s.jsxs("strong",{children:[o.percent,"%"]})]},`${i.id}-${o.label}`))})]})};return s.jsxs("div",{className:pe.classCard,children:[s.jsx("p",{className:pe.metricLabel,children:"Stat-Verteilung"}),s.jsx("div",{className:pe.classGrid,children:[t,e].map(r)}),n.length>0&&s.jsx("ul",{className:pe.classLegend,children:n.map(i=>s.jsx("li",{children:i},i))})]})}function Qge(){const t=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return s.jsxs("section",{className:pe.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:pe.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function Hge(){return s.jsxs("section",{className:pe.infoCardExtended,children:[s.jsx("h3",{children:"Matchup-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:pe.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),s.jsx("button",{type:"button",className:pe.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function Oge(t,e,n){const[r,i]=W.useState([]),[a,o]=W.useState(!1);return W.useEffect(()=>{const l=t.trim();if(l.length===0){i([]),o(!1);return}let d=!1;async function u(){const h=Jn("PlayersCompare:search");o(!0);try{const m=l.toLowerCase(),g=rg(Lt,"latest"),y=await Hn(h,{path:"players/latest (collectionGroup)"},()=>Qn(Yn(g,pa("nameFold"),Rc(m),Uc(m+""),Fr(15)))),x=await Hn(h,{path:"players/latest (collectionGroup)"},()=>Qn(Yn(g,Xi("nameNgrams","array-contains",m),Fr(15)))),C=new Set,E=[],T=B=>{var $,Y,J,V,X,Z,se,le,we,Se,te,ce,re,ye,Be,Le,Ee,De,at,Ke,He,Ce,ue,Te,Fe,ct,xt,ie,Ae;const S=B.data(),w=($=B.ref.parent)==null?void 0:$.parent,N=w==null?void 0:w.parent;if((N==null?void 0:N.id)!=="players")return;const j=(J=(Y=w==null?void 0:w.id)!=null?Y:S.playerIdentifier)!=null?J:B.id;if(!j||C.has(j)||n&&j===n)return;const k=(Z=(X=S.name)!=null?X:(V=S.values)==null?void 0:V.Name)!=null?Z:"Unbekannter Spieler",U=(we=(le=S.server)!=null?le:(se=S.values)==null?void 0:se.Server)!=null?we:"Unknown";if(e!=="all"&&U!==e)return;const I=(ye=(re=(te=S.className)!=null?te:(Se=S.values)==null?void 0:Se.Class)!=null?re:(ce=S.values)==null?void 0:ce.Class)!=null?ye:"Unbekannte Klasse",P=(Ee=(Le=S.guildName)!=null?Le:(Be=S.values)==null?void 0:Be.Guild)!=null?Ee:"",L=Cc(S.level)||Cc((De=S.values)==null?void 0:De.Level)||Cc((at=S.values)==null?void 0:at.Level),H=Cc(S.scrapbookPct)||Cc((Ke=S.values)==null?void 0:Ke["Album %"])||Cc((He=S.values)==null?void 0:He.AlbumPct)||Cc((Ce=S.values)==null?void 0:Ce["Scrapbook %"]),O=(Fe=(Te=S.updatedAt)!=null?Te:(ue=S.values)==null?void 0:ue.UpdatedAt)!=null?Fe:S.timestamp?new Date(S.timestamp*1e3).toISOString():new Date().toISOString(),z=(ct=S.nextUpdateAt)!=null?ct:Vge(12),G=$ge((xt=S.values)!=null?xt:S.stats);C.add(j),E.push({id:j,name:k,tagline:(ie=S.tagline)!=null?ie:P?`Mitglied in ${P}`:I,server:U,className:I,guildName:P,level:L||0,scrapbookPct:H,lastScanAt:O,updatedAt:O,nextUpdateAt:z,freshness:(Ae=S.freshness)!=null?Ae:"unknown",stats:G})};y.forEach(T),x.forEach(T),d||(E.sort((B,S)=>B.name.localeCompare(S.name)),i(E))}catch(m){console.error("[Players Compare] player search failed",m),d||i([])}finally{Cn(h),d||o(!1)}}return u(),()=>{d=!0}},[t,e,n]),{results:r,loading:a}}const F3={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function $ge(t={}){const e=Object.keys(F3).map(r=>{var a;const i=(a=t==null?void 0:t[r])!=null?a:t==null?void 0:t[r.toLowerCase()];return{label:F3[r],value:Cc(i)}}).filter(r=>r.value>0),n=e.reduce((r,i)=>r+i.value,0);return n?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/n*100))})):[]}function Cc(t){const e=Number(t);return Number.isFinite(e)?e:0}function Vge(t){const e=new Date;return e.setHours(e.getHours()+t),e.toISOString()}function Gge(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(L3,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(L3,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function L3({to:t,title:e,desc:n}){return s.jsxs(Ys,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function Kge(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function zge(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}const bu={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},S0=(t,e)=>({...t||{},...e||{}}),R3=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},Wge=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),Or=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function qge(t){var g,y,x,C,E,T,B,S;const e=Or(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=Or(t==null?void 0:t.baseMain),r=Or(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},a=Or(i==null?void 0:i.sumBaseTotal);if(a!=null)return a;const o=Or(i==null?void 0:i.main),l=Or(i==null?void 0:i.con);if(o!=null&&l!=null)return o+l;const d=(t==null?void 0:t.values)||{},u=(y=(g=Or(d==null?void 0:d.SumBaseTotal))!=null?g:Or(d==null?void 0:d.sumBaseTotal))!=null?y:Or(d==null?void 0:d["Sum Base Total"]);if(u!=null)return u;const h=(E=(C=(x=Or(d==null?void 0:d.Main))!=null?x:Or(d==null?void 0:d.main))!=null?C:Or(d==null?void 0:d.BaseMain))!=null?E:Or(d==null?void 0:d.baseMain),m=(S=(B=(T=Or(d==null?void 0:d.Con))!=null?T:Or(d==null?void 0:d.con))!=null?B:Or(d==null?void 0:d.ConBase))!=null?S:Or(d==null?void 0:d.conBase);return h!=null&&m!=null?h+m:null}function Td(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function Xge(t,e=56){if(!t)return;const n=Td(t),r=Rr.find(i=>Td(i.label)===n||Td(i.key)===n)||Rr.find(i=>Td(i.label).startsWith(n)||n.startsWith(Td(i.label))||Td(i.key).startsWith(n)||n.startsWith(Td(i.key)));return r?Yi(r.iconUrl,e):void 0}function Yge({name:t,memberClass:e,online:n,theme:r=bu}){const i=t.split("_").map(o=>o[0]).join("").slice(0,2).toUpperCase(),a=Xge(e,56);return s.jsxs("div",{className:"relative",children:[a?s.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:o=>{const l=o.currentTarget.parentElement;l&&(l.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const Jge={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},Zge=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(Jge[t]||""),children:t});function U3(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function efe(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function jv({label:t,value:e,theme:n=bu}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function tfe({member:t,theme:e,actions:n,extraKPIs:r}){var h,m,g,y,x,C,E,T,B;if(!t)return null;const i=S0(bu,e),a=t,o=U3((m=(h=a.guildJoined)!=null?h:a.joinedAt)!=null?m:null,(g=a.guildJoinedMs)!=null?g:null),l=U3((y=a.lastActivity)!=null?y:null,(x=a.lastActivityMs)!=null?x:typeof a.lastOnline=="number"?a.lastOnline:null),d=efe(a),u=typeof a.totalStats=="number"?a.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(Yge,{name:t.name,memberClass:(T=(E=a.class)!=null?E:(C=a.values)==null?void 0:C.Class)!=null?T:null,online:a.online,theme:i})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),a.role&&s.jsx(Zge,{role:a.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[a.class||"",a.server?`  ${a.server}`:"","  Joined ",o,"  Last ",l]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(jv,{label:"Level",value:(B=a.level)!=null?B:"",theme:i}),typeof a.scrapbook=="number"&&s.jsx(jv,{label:"Scrapbook",value:`${a.scrapbook}%`,theme:i}),s.jsx(jv,{label:"Sum Base",value:d,theme:i}),s.jsx(jv,{label:"Total Stats",value:u,theme:i}),r]})]})}function Fd(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function sfe(t,e=40){if(!t)return;const n=Fd(t);let r=Rr.find(i=>Fd(i.label)===n||Fd(i.key)===n)||Rr.find(i=>Fd(i.label).startsWith(n)||n.startsWith(Fd(i.label))||Fd(i.key).startsWith(n)||n.startsWith(Fd(i.key)));return r?Yi(r.iconUrl,e):void 0}function nfe({name:t,memberClass:e,online:n,theme:r=bu}){const i=t.split("_").map(o=>o[0]).join("").slice(0,2).toUpperCase(),a=sfe(e,40);return s.jsxs("div",{className:"relative",children:[a?s.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:o=>{const l=o.currentTarget.parentElement;l&&(l.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const rfe=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function ife({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const a=S0(bu,i);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:a.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:a.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:a.header}}),t.map((o,l)=>{var d,u,h;return s.jsxs("button",{onClick:()=>n(o.id),"aria-pressed":o.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(l%2?"bg-slate-800/10":"")+(o.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(nfe,{name:o.name,memberClass:(h=(u=o.class)!=null?u:(d=o.values)==null?void 0:d.Class)!=null?h:null,online:o.online,theme:a}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:o.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:a.sub},children:[o.class,o.server?`  ${o.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(rfe,{role:o.role})}),r(o)]},o.id)})]})]})}function Ld(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function afe(t,e=40){if(!t)return;const n=Ld(t);let r=Rr.find(i=>Ld(i.label)===n||Ld(i.key)===n)||Rr.find(i=>Ld(i.label).startsWith(n)||n.startsWith(Ld(i.label))||Ld(i.key).startsWith(n)||n.startsWith(Ld(i.key)));return r?Yi(r.iconUrl,e):void 0}function ofe({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const a=S0(bu,i);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(o=>{var g,y,x,C,E,T,B,S,v;const l=o,d=o.name.slice(0,2).toUpperCase(),u=afe((x=(y=l.class)!=null?y:(g=l.values)==null?void 0:g.Class)!=null?x:null,40),h=typeof l.level=="number"?l.level:typeof((C=l.values)==null?void 0:C.Level)=="number"?l.values.Level:"",m=typeof l.scrapbook=="number"?`${l.scrapbook}%`:typeof((E=l.values)==null?void 0:E.Scrapbook)=="number"?`${l.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(o.id),"aria-pressed":o.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(o.id===e?" ring-1":""),style:{borderColor:a.border,background:`linear-gradient(180deg, ${a.tile} 0%, ${a.tableBg} 100%)`,boxShadow:o.id===e?`0 12px 30px -12px ${a.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[u?s.jsx("img",{src:u,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:a.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const N=w.currentTarget.parentElement;N&&(N.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${a.tile};color:${a.title};border-color:${a.border}">${d}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:a.tile,color:a.title,borderColor:a.border},children:d}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:o.name}),s.jsxs("div",{className:"text-xs",style:{color:a.sub},children:[(S=(B=l.class)!=null?B:(T=l.values)==null?void 0:T.Class)!=null?S:"",l.server?`  ${l.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:a.border},children:(v=l.role)!=null?v:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:a.title},children:h})]}),m&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:a.title},children:m})]})]}),s.jsx("div",{className:"mt-3",children:r(o)})]},o.id)})})}const lfe=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=t[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function cfe({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:a,onSelect:o,renderActions:l,renderKPIs:d,theme:u}){var U;const h=R.useMemo(()=>S0(bu,u),[u]),[m,g]=R.useState(e),[y,x]=R.useState(n),[C,E]=R.useState(r.key),[T,B]=R.useState(r.dir),[S,v]=R.useState((U=t[0])==null?void 0:U.id),w=a!=null?a:S,N=I=>{a||v(I);const P=t.find(L=>L.id===I);P&&o&&o(P)},_=R.useMemo(()=>{const I=y.trim().toLowerCase();return I?t.filter(P=>P.name.toLowerCase().includes(I)||P.class.toLowerCase().includes(I)||String(P.role).toLowerCase().includes(I)):t},[t,y]),j=R.useMemo(()=>{const I=T==="asc"?1:-1,P=L=>{var H,O;switch(C){case"sumBaseStats":{const z=qge(L);return z==null?-1/0:z}case"totalStats":return(O=(H=L.totalStats)!=null?H:Wge(lfe(L.baseStats)))!=null?O:-1/0;default:return L[C]}};return[..._].sort((L,H)=>{const O=P(L),z=P(H);return O===z?0:O>z?I:-I})},[_,C,T]),k=R.useMemo(()=>j.find(I=>I.id===w)||j[0],[j,w]);return s.jsxs("div",{children:[i&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:h.tile,borderColor:h.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:h.sub},children:"View"}),s.jsxs("select",{value:m,onChange:I=>g(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:h.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:h.sub},children:"Search"}),s.jsx("input",{value:y,onChange:I=>x(I.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:h.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:h.sub},children:"Sort by"}),s.jsxs("select",{value:String(C),onChange:I=>E(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:h.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>B(I=>I==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:h.border},children:T==="asc"?"":""})]})]}),s.jsx(tfe,{member:k,actions:k&&(l?l(k):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:h.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:h.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:h.border},children:"Message"})]})),extraKPIs:k&&d?d(k):null,theme:h}),m==="list"?s.jsx(ife,{rows:j,selId:w,onSelect:N,theme:h,rightCols:I=>{var P;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(P=I.level)!=null?P:""}),s.jsx("div",{className:"text-right text-xs",style:{color:h.sub},children:R3(I.lastOnline)})]})}}):s.jsx(ofe,{rows:j,selId:w,onSelect:N,theme:h,footer:I=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:h.sub},children:s.jsxs("span",{children:["Last ",R3(I.lastOnline)]})})})]})}function dfe({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:a,totalPower:o,activity7d:l,topClasses:d,tickerItems:u,href:h,onClick:m,className:g}){const y=!!UP(),x=R.useMemo(()=>{if(!r)return null;const P=Date.now()-new Date(r).getTime(),L=Math.max(0,Math.floor(P/6e4));if(L<60)return`${L}m`;const H=Math.floor(L/60);return H<24?`${H}h`:`${Math.floor(H/24)}d`},[r]),C=Im(0),E=Im(0),T=Im(0),B=Im(0),S=zf(C,P=>Math.round(P).toString()),v=zf(E,P=>Math.round(P).toString()),w=zf(T,P=>Math.round(P).toLocaleString()),N=zf(B,P=>`${Math.round(P)}%`);R.useEffect(()=>{const P=y?0:.6;if(P===0){C.set(i),E.set(a),T.set(o!=null?o:0),B.set(l!=null?l:0);return}const L=[Wf(C,i,{duration:P}),Wf(E,a,{duration:P}),Wf(T,o!=null?o:0,{duration:P}),Wf(B,l!=null?l:0,{duration:P})];return()=>L.forEach(H=>H.stop())},[i,a,o,l,y]);const _=R.useRef(null);R.useEffect(()=>{if(y||!_.current)return;const P=_.current;let L=0,H=0;const O=()=>{H+=.016;const z=H*14%140-20;P.style.setProperty("--s-x",`${z}%`),L=requestAnimationFrame(O)};return L=requestAnimationFrame(O),()=>cancelAnimationFrame(L)},[y]);const j={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},k=100,U=h?"a":"div",I=h?{href:h}:{onClick:m};return s.jsxs(U,{...I,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",g!=null?g:""].join(" "),style:{background:`linear-gradient(135deg, ${j.bgFrom}, ${j.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:_,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),x&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:j.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${j.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",x]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${k}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${k}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${k}deg, transparent 0 46px, ${j.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:j.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:j.soft,border:`1px solid ${j.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Cv,{label:"Members",value:S}),s.jsx(Cv,{label:" Level",value:v}),s.jsx(Cv,{label:"Total Power",value:w}),typeof l=="number"&&s.jsx(Cv,{label:"Activity (7d)",value:N})]}),d!=null&&d.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:j.soft},children:"Top Classes"}),d.slice(0,3).map(P=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${j.border}`,color:j.text},children:[P.iconUrl?s.jsx("img",{src:P.iconUrl,alt:P.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:j.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[P.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(P.percent),"%)"]})]})]},P.key))]}):null]})]})]}),u!=null&&u.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${j.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(ufe,{items:u,muted:y,color:j.soft})}):null]})}function Cv({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(LP.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function ufe({items:t,muted:e,color:n}){const r=R.useRef(null);return R.useEffect(()=>{if(e||!r.current)return;const i=r.current;let a=0,o=0;const l=()=>{a+=.016;const d=a*40%(i.scrollWidth+60);i.style.transform=`translateX(${-d}px)`,o=requestAnimationFrame(l)};return o=requestAnimationFrame(l),()=>cancelAnimationFrame(o)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,a)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:i},a))})})}const Afe="_wrap_q5gkc_53",hfe="_banner_q5gkc_59",mfe="_bannerRowTop_q5gkc_61",pfe="_bannerStripe_q5gkc_71",gfe="_bannerTitle_q5gkc_79",ffe="_bannerRowBottom_q5gkc_93",vfe="_bannerSub_q5gkc_95",xfe="_monthPickerWrap_q5gkc_101",yfe="_monthPickerLabel_q5gkc_113",wfe="_monthPicker_q5gkc_101",bfe="_monthButton_q5gkc_131",_fe="_monthButtonText_q5gkc_159",jfe="_chev_q5gkc_161",Cfe="_monthList_q5gkc_165",Sfe="_monthOption_q5gkc_195",Bfe="_monthBadge_q5gkc_221",Nfe="_gridRow_q5gkc_237",kfe="_gridRowBottom_q5gkc_239",Ife="_sideImage_q5gkc_253",Efe="_sideImagePh_q5gkc_271",Tfe="_emblemPanel_q5gkc_275",Ffe="_emblemFrame_q5gkc_295",Lfe="_emblemImg_q5gkc_297",Rfe="_emblemPlaceholder_q5gkc_299",Ufe="_emblemShimmer_q5gkc_307",Pfe="_emblemCaption_q5gkc_315",Dfe="_card_q5gkc_319",Mfe="_cardHeader_q5gkc_331",Qfe="_cardTitle_q5gkc_339",Hfe="_cardSubtitle_q5gkc_341",Ofe="_headerRight_q5gkc_343",$fe="_cardBody_q5gkc_345",Vfe="_tableWrap_q5gkc_349",Gfe="_tableTitle_q5gkc_351",Kfe="_table_q5gkc_349",zfe="_th_q5gkc_355",Wfe="_td_q5gkc_355",qfe="_tdEmpty_q5gkc_365",Xfe="_sectionDivider_q5gkc_375",Yfe="_sectionStripe_q5gkc_389",Jfe="_sectionTitle_q5gkc_397",as={wrap:Afe,banner:hfe,bannerRowTop:mfe,bannerStripe:pfe,bannerTitle:gfe,bannerRowBottom:ffe,bannerSub:vfe,monthPickerWrap:xfe,monthPickerLabel:yfe,monthPicker:wfe,monthButton:bfe,monthButtonText:_fe,chev:jfe,monthList:Cfe,monthOption:Sfe,monthBadge:Bfe,gridRow:Nfe,gridRowBottom:kfe,sideImage:Ife,sideImagePh:Efe,emblemPanel:Tfe,emblemFrame:Ffe,emblemImg:Lfe,emblemPlaceholder:Rfe,emblemShimmer:Ufe,emblemCaption:Pfe,card:Dfe,cardHeader:Mfe,cardTitle:Qfe,cardSubtitle:Hfe,headerRight:Ofe,cardBody:$fe,tableWrap:Vfe,tableTitle:Gfe,table:Kfe,th:zfe,td:Wfe,tdEmpty:qfe,sectionDivider:Xfe,sectionStripe:Yfe,sectionTitle:Jfe};function Zfe(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function P3(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const D3=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:as.card,children:[(t||e||r)&&s.jsxs("header",{className:as.cardHeader,children:[s.jsxs("div",{className:as.headerTitles,children:[t&&s.jsx("h3",{className:as.cardTitle,children:t}),e&&s.jsx("div",{className:as.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:as.headerRight,children:r})]}),s.jsx("div",{className:as.cardBody,children:n})]}),M3=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:as.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&s.jsx("div",{className:as.tableTitle,children:t.title}),s.jsxs("table",{className:as.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(a=>s.jsx("th",{className:as.th,style:{width:a.width},children:a.label},a.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:as.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((a,o)=>{var l;return s.jsx("tr",{children:e.map(d=>{var g;const u=a[d.key],h=typeof u=="number"||typeof u=="string"?u:"",m=d.format==="num"?Zfe(h):h;return s.jsx("td",{className:as.td,"data-align":(g=d.align)!=null?g:"left",children:d.render?d.render(a):m},d.key)})},(l=a.id)!=null?l:o)})})]}),t.footer&&s.jsx("div",{className:as.tableFooter,children:t.footer})]})},eve=(t,e)=>{R.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},tve=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var h;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:as.bannerSub,children:r!=null?r:""});const a=R.useRef(null),[o,l]=R.useState(!1);eve(a,()=>l(!1));const d=t.find(m=>m.key===e),u=d?`${P3(d.fromISO)}${P3(d.toISO)}  ${d.daysSpan}d${d.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:as.monthPickerWrap,children:[s.jsx("div",{className:as.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:as.monthPicker,ref:a,children:[s.jsxs("button",{type:"button",className:as.monthButton,onClick:()=>l(m=>!m),"aria-haspopup":"listbox","aria-expanded":o,children:[s.jsx("span",{className:as.monthButtonText,children:(h=d==null?void 0:d.label)!=null?h:""}),s.jsx("svg",{className:as.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),o&&s.jsx("ul",{className:as.monthList,role:"listbox",children:t.map(m=>s.jsx("li",{children:s.jsx("button",{type:"button",className:as.monthOption,onClick:()=>{l(!1),n==null||n(m.key)},role:"option","aria-selected":m.key===e,children:m.label})},m.key))})]}),u&&s.jsx("span",{className:as.monthBadge,children:u})]})},sve=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>s.jsxs("div",{className:as.banner,children:[s.jsxs("div",{className:as.bannerRowTop,children:[s.jsx("div",{className:as.bannerStripe}),s.jsx("div",{className:as.bannerTitle,children:t}),s.jsx("div",{className:as.bannerStripe})]}),s.jsx("div",{className:as.bannerRowBottom,children:s.jsx(tve,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),nve=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:as.emblemPanel,children:[s.jsxs("div",{className:as.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:as.emblemImg}):s.jsx("div",{className:as.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:as.emblemShimmer})]}),e&&s.jsx("div",{className:as.emblemCaption,children:e})]}),Q3=({imgUrl:t,alt:e})=>s.jsx("div",{className:as.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:as.sideImagePh,children:"Image"})}),k1=({children:t,className:e})=>s.jsx("div",{className:`${as.gridRow} ${e!=null?e:""}`,children:t}),rve=({children:t})=>s.jsxs("div",{className:as.sectionDivider,children:[s.jsx("div",{className:as.sectionStripe}),s.jsx("div",{className:as.sectionTitle,children:t}),s.jsx("div",{className:as.sectionStripe})]}),ive=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:a}=t;return s.jsxs("div",{className:as.wrap,children:[s.jsx(sve,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(k1,{children:[s.jsx(Q3,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(nve,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(Q3,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(k1,{children:i.map((o,l)=>s.jsx(D3,{title:o.title,subtitle:o.subtitle,children:s.jsx(M3,{block:o})},l))}),s.jsx(rve,{children:"Guild Overview"}),s.jsx(k1,{className:as.gridRowBottom,children:a.map((o,l)=>s.jsx(D3,{title:o.title,subtitle:o.subtitle,children:s.jsx(M3,{block:o})},l))})]})},I1=new Map,H3=new Map,ave=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=R.useState(!0),[a,o]=R.useState(null),[l,d]=R.useState(void 0),u=R.useRef({}),[h,m]=R.useState(()=>hm(t,e,n));R.useEffect(()=>{let y=!1;const x=t.trim().toLowerCase(),C=B=>{u.current={...B.progressByMonth};const S=B.opts;if(!S.length){o(null),d(void 0),m(hm(t,e,n));return}o(S);const v=S[0].key;d(v);const w=u.current[v];m(O3(w,{guildId:t,guildName:e,guildServer:n,currentMonthKey:v,months:S}))},E=async()=>{var S,v,w,N,_;const B=Jn("GuildMonthly:months");i(!0);try{const j=Ml(Lt,`guilds/${t}/history_monthly`),k=await Hn(B,{path:j.path},()=>Qn(j)),U=[],I={};for(const P of k.docs){const L=P.id,H=P.data();if(!H)continue;I[L]=H;const O=(S=H==null?void 0:H.meta)!=null?S:{},z=O.fromISO||O.baselineISO||O.firstISO||"",G=O.toISO||O.latestISO||O.nowISO||"",$=Number((v=O.daysSpan)!=null?v:Math.floor((+new Date(G)-+new Date(z))/864e5))||0,Y=!!((N=(w=H==null?void 0:H.status)==null?void 0:w.available)!=null?N:z&&G&&$<=40),J=O.label||new Date(L+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});U.push({key:L,label:J,fromISO:z||new Date(L+"-01").toISOString(),toISO:G||new Date(L+"-28").toISOString(),daysSpan:$,available:Y,reason:Y||(_=H==null?void 0:H.status)==null?void 0:_.reason})}return U.sort((P,L)=>P.key<L.key?1:-1),{opts:U,progressByMonth:I}}finally{Cn(B)}};async function T(){try{if(!x){o(null),d(void 0),m(hm(t,e,n)),i(!1);return}const B=H3.get(x);if(B){y||C(B),i(!1);return}const S=I1.get(x),v=S!=null?S:E();S||I1.set(x,v);const w=await v;H3.set(x,w),y||C(w)}catch(B){console.error(B),y||(o(null),d(void 0),m(hm(t,e,n)))}finally{existing||I1.delete(x),y||i(!1)}}return T(),()=>{y=!0}},[t,e,n]);async function g(y){d(y);let x=u.current[y];if(!x){const C=Jn("GuildMonthly:monthDoc");try{const E=vs(Lt,`guilds/${t}/history_monthly/${y}`),T=await On(C,E,()=>Nn(E));T.exists()?(x=T.data(),u.current[y]=x):x=null}catch(E){console.error(E),x=null}finally{Cn(C)}}if(!x){m(hm(t,e,n,{currentMonthKey:y,months:a!=null?a:void 0}));return}m(O3(x,{guildId:t,guildName:e,guildServer:n,currentMonthKey:y,months:a!=null?a:void 0}))}return s.jsx(ive,{data:h,onMonthChange:g})};function hm(t,e,n,r){return{header:{title:`${e} - Monthly Progress`,monthRange:"-",emblemUrl:Ip(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:r==null?void 0:r.currentMonthKey,months:r==null?void 0:r.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Rd("Most Base Stats gained",n?`Server ${n}`:void 0),Rd("Sum Base Stats"),Rd("Highest Base Stats")],tablesBottom:[Rd("Main & Con"),Rd("Sum Base Stats"),Rd("Highest Base Stats"),Rd("Highest Total Stats")]}}function Rd(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function O3(t,e){var o,l,d,u,h,m,g,y;(o=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName} - Monthly Progress`,monthRange:void 0,emblemUrl:Ip(e.guildId,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"Delta",width:70,align:"right",format:"num"}],rows:((l=t==null?void 0:t.mostBaseGained)!=null?l:[]).map((x,C)=>{var E,T,B,S,v,w,N,_;return{id:(E=x.playerId)!=null?E:C,rank:C+1,name:(T=x.name)!=null?T:"-",level:(S=(B=x.levelLatest)!=null?B:x.level)!=null?S:null,base:(w=(v=x.baseLatest)!=null?v:x.base)!=null?w:null,delta:(_=(N=x.baseDelta)!=null?N:x.delta)!=null?_:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam Delta",width:90,align:"right",format:"num"},{key:"sho",label:"Sho Delta",width:90,align:"right",format:"num"}],rows:((d=t==null?void 0:t.sumBaseStats)!=null?d:[]).map((x,C)=>{var E,T,B,S,v,w,N;return{id:(E=x.playerId)!=null?E:C,rank:C+1,name:(T=x.name)!=null?T:"-",base:(B=x.base)!=null?B:null,stam:(v=(S=x.stamDelta)!=null?S:x.staminaDelta)!=null?v:null,sho:(N=(w=x.shoDelta)!=null?w:x.shootingDelta)!=null?N:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"Delta",width:80,align:"right",format:"num"}],rows:((u=t==null?void 0:t.highestBaseStats)!=null?u:[]).map((x,C)=>{var E,T,B,S,v;return{id:(E=x.playerId)!=null?E:C,rank:C+1,name:(T=x.name)!=null?T:"-",stats:(S=(B=x.stats)!=null?B:x.base)!=null?S:null,delta:(v=x.delta)!=null?v:null}})}],a=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"Delta",width:80,align:"right",format:"num"}],rows:((h=t==null?void 0:t.mainAndCon)!=null?h:[]).map((x,C)=>{var E,T,B,S,v,w;return{id:(E=x.playerId)!=null?E:C,rank:C+1,name:(T=x.name)!=null?T:"-",class:(S=(B=x.class)!=null?B:x.className)!=null?S:"",stats:(v=x.stats)!=null?v:null,delta:(w=x.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam Delta",width:90,align:"right",format:"num"},{key:"sho",label:"Sho Delta",width:90,align:"right",format:"num"}],rows:((m=t==null?void 0:t.sumBaseStats)!=null?m:[]).map((x,C)=>{var E,T,B,S,v;return{id:(E=x.playerId)!=null?E:C,rank:C+1,name:(T=x.name)!=null?T:"-",base:(B=x.base)!=null?B:null,stam:(S=x.stamDelta)!=null?S:null,sho:(v=x.shoDelta)!=null?v:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"Delta",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.highestBaseStats)!=null?g:[]).map((x,C)=>{var E,T,B,S;return{id:(E=x.playerId)!=null?E:C,rank:C+1,name:(T=x.name)!=null?T:"-",stats:(B=x.stats)!=null?B:null,delta:(S=x.delta)!=null?S:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"Delta",width:80,align:"right",format:"num"}],rows:((y=t==null?void 0:t.highestTotalStats)!=null?y:[]).map((x,C)=>{var E,T,B,S;return{id:(E=x.playerId)!=null?E:C,rank:C+1,name:(T=x.name)!=null?T:"-",total:(B=x.total)!=null?B:null,delta:(S=x.delta)!=null?S:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:a}}const ove="_root_r1uj3_5",lve="_sectionDivider_r1uj3_17",cve="_sectionStripe_r1uj3_31",dve="_sectionTitle_r1uj3_33",mm={root:ove,sectionDivider:lve,sectionStripe:cve,sectionTitle:dve},uve="_root_4jywc_1",Ave="_accent_4jywc_31",$3={root:uve,default:"_default_4jywc_29",accent:Ave};function nd({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${$3.root} ${$3[e]} ${n!=null?n:""}`.trim(),children:t})}const hve="_card_vvv3s_3",mve="_wrap_vvv3s_31",pve="_divider_vvv3s_45",gve="_rows_vvv3s_77",fve="_row_vvv3s_77",vve="_left_vvv3s_109",xve="_label_vvv3s_111",yve="_avgHead_vvv3s_113",wve="_avgNum_vvv3s_115",bve="_top3_vvv3s_121",_ve="_chip_vvv3s_123",jve="_badge_vvv3s_151",Cve="_name_vvv3s_159",Sve="_score_vvv3s_161",Bve="_headerSpacer_vvv3s_167",Si={card:hve,wrap:mve,divider:pve,rows:gve,row:fve,left:vve,label:xve,avgHead:yve,avgNum:wve,top3:bve,chip:_ve,badge:jve,name:Cve,score:Sve,headerSpacer:Bve};function Nve({name:t,value:e,classLabel:n,colors:r}){const i=dg(n,64);return s.jsxs("div",{className:Si.chip,children:[s.jsx("span",{className:Si.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:Si.name,children:t!=null?t:""}),s.jsx("span",{className:Si.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function kve({snapshot:t,colors:e,title:n="Base Stats"}){var o;const r=(o=t==null?void 0:t.members)!=null?o:[],i=l=>[...r].filter(d=>typeof d[l]=="number").sort((d,u)=>{var h,m;return((h=u[l])!=null?h:0)-((m=d[l])!=null?m:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:Si.card,children:[s.jsx(nd,{text:n}),s.jsx("div",{className:Si.headerSpacer}),s.jsxs("div",{className:Si.wrap,children:[s.jsx("div",{className:Si.divider}),s.jsx("div",{className:Si.rows,children:a.map((l,d)=>s.jsxs("div",{className:Si.row,children:[s.jsxs("div",{className:Si.left,children:[s.jsx("div",{className:Si.label,children:l.label}),s.jsx("div",{className:Si.avgHead,children:""}),s.jsx("div",{className:Si.avgNum,style:{color:e.title},children:typeof l.avg=="number"?l.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Si.top3,children:l.list.map((u,h)=>s.jsx(Nve,{name:u.name,value:u[l.key],classLabel:u.class,colors:e},h))})]},d))})]})]})}const Ive="_card_1enwc_1",Eve="_wrap_1enwc_1",Tve="_divider_1enwc_1",Fve="_rows_1enwc_1",Lve="_row_1enwc_1",Rve="_left_1enwc_1",Uve="_label_1enwc_1",Pve="_avgHead_1enwc_1",Dve="_avgNum_1enwc_1",Mve="_top3_1enwc_1",Qve="_chip_1enwc_1",Hve="_badge_1enwc_1",Ove="_name_1enwc_1",$ve="_score_1enwc_1",Vve="_headerSpacer_1enwc_1",Bi={card:Ive,wrap:Eve,divider:Tve,rows:Fve,row:Lve,left:Rve,label:Uve,avgHead:Pve,avgNum:Dve,top3:Mve,chip:Qve,badge:Hve,name:Ove,score:$ve,headerSpacer:Vve};function Gve({name:t,value:e,classLabel:n,colors:r}){const i=dg(n,64);return s.jsxs("div",{className:Bi.chip,children:[s.jsx("span",{className:Bi.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:Bi.name,children:t!=null?t:""}),s.jsx("span",{className:Bi.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function Kve({snapshot:t,colors:e,title:n="Total Stats"}){var o;const r=(o=t==null?void 0:t.members)!=null?o:[],i=l=>[...r].filter(d=>typeof d[l]=="number").sort((d,u)=>{var h,m;return((h=u[l])!=null?h:0)-((m=d[l])!=null?m:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:Bi.card,children:[s.jsx(nd,{text:n}),s.jsx("div",{className:Bi.headerSpacer}),s.jsxs("div",{className:Bi.wrap,children:[s.jsx("div",{className:Bi.divider}),s.jsx("div",{className:Bi.rows,children:a.map((l,d)=>s.jsxs("div",{className:Bi.row,children:[s.jsxs("div",{className:Bi.left,children:[s.jsx("div",{className:Bi.label,children:l.label}),s.jsx("div",{className:Bi.avgHead,children:""}),s.jsx("div",{className:Bi.avgNum,style:{color:e.title},children:typeof l.avg=="number"?l.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Bi.top3,children:l.list.map((u,h)=>s.jsx(Gve,{name:u.name,value:u[l.key],classLabel:u.class,colors:e},h))})]},d))})]})]})}function zve({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(nd,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function Wve({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(nd,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function qve({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(nd,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function Xve({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(nd,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const Yve=R.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const a=i.icon,o=({text:l})=>s.jsxs("div",{className:mm.sectionDivider,children:[s.jsx("div",{className:mm.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}}),s.jsx("div",{className:mm.sectionTitle,style:{color:i.soft},children:l}),s.jsx("div",{className:mm.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}})]});return s.jsxs("div",{className:mm.root+" space-y-4",children:[s.jsx(o,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(o,{text:"AVERAGE PLAYER STATS"})}),s.jsx(zve,{guild:e,snapshot:n,colors:i}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(kve,{snapshot:n,colors:i}),s.jsx(Kve,{snapshot:n,colors:i})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(Wve,{colors:i}),s.jsx(qve,{colors:i})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Xve,{colors:i})})]})}),Jve="_wrapper_zqchq_3",Zve="_grid_zqchq_9",exe="_tile_zqchq_13",txe="_disabled_zqchq_37",sxe="_crestWrap_zqchq_41",nxe="_crest_zqchq_41",rxe="_ring_zqchq_53",ixe="_badge_zqchq_55",axe="_meta_zqchq_67",oxe="_nameRow_zqchq_69",lxe="_name_zqchq_69",cxe="_share_zqchq_73",dxe="_sub_zqchq_75",uxe="_tileButton_zqchq_79",Axe="_donutCard_zqchq_85",hxe="_donutHeader_zqchq_87",mxe="_legend_zqchq_91",pxe="_legendItem_zqchq_93",gxe="_legendSwatch_zqchq_95",fxe="_legendRight_zqchq_97",vxe="_centerLabel_zqchq_101",Tn={wrapper:Jve,grid:Zve,tile:exe,disabled:txe,crestWrap:sxe,crest:nxe,ring:rxe,badge:ixe,meta:axe,nameRow:oxe,name:lxe,share:cxe,sub:dxe,tileButton:uxe,donutCard:Axe,donutHeader:hxe,legend:mxe,legendItem:pxe,legendSwatch:gxe,legendRight:fxe,centerLabel:vxe},Lj=56;function my(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function V3(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const xxe=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function yxe(t){return t?/drive\.google\.com/.test(t):!1}function G3(t,e=Lj){if(t)return yxe(t)?Yi(t,e):t}function wxe(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function bxe(t){var h,m,g,y,x,C;if(!t)return null;const e=t,n=t,r=(h=e.key)!=null?h:n.id,i=(m=e.label)!=null?m:n.name,a=(y=(g=n.crestUrl)!=null?g:e.iconUrl)!=null?y:n.iconUrl,o=(x=e.iconUrl)!=null?x:n.iconUrl,l=(C=e.fallback)!=null?C:n.fallback;if(!r||!i)return null;const d=G3(a,Lj),u=G3(o,Lj);return{id:r,name:String(i),crestUrl:d||u,iconUrl:u||d,fallback:l?String(l):void 0}}function y6(t,e){var h,m,g,y,x,C,E,T,B,S,v,w,N,_,j,k,U,I,P,L,H;const n={},r={},i={},a={},o=e.map(O=>O.id);for(const O of o)n[O]=0,r[O]=0,i[O]=0,a[O]=null;for(const O of Array.isArray(t)?t:[]){const z=(w=(S=(T=(C=(y=(g=(m=(h=O.classId)!=null?h:O.class)!=null?m:O.klass)!=null?g:O.playerClass)!=null?y:O.cls)!=null?C:(x=O.values)==null?void 0:x.Class)!=null?T:(E=O.values)==null?void 0:E.class)!=null?S:(B=O.values)==null?void 0:B.Klasse)!=null?w:(v=O.values)==null?void 0:v.klasse,G=wxe(z);if(!G||!o.includes(G))continue;n[G]+=1;const $=xxe((k=(_=O.level)!=null?_:(N=O.values)==null?void 0:N.Level)!=null?k:(j=O.values)==null?void 0:j.level);$!=null&&(r[G]+=$,i[G]+=1,(!a[G]||((I=(U=a[G])==null?void 0:U.level)!=null?I:-1/0)<$)&&(a[G]={id:O.id,name:(H=(L=O.name)!=null?L:(P=O.values)==null?void 0:P.Name)!=null?H:null,level:$}))}const l=Object.values(n).reduce((O,z)=>O+z,0),d={},u={};return o.forEach(O=>{d[O]=l>0?n[O]/l*100:0,u[O]=i[O]>0?r[O]/i[O]:null}),{counts:n,shares:d,avg:u,top:a}}const _xe=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:Tn.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},jxe=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=R.useState({}),a=Array.isArray(t)?t:[],o=Array.isArray(e)?e:[],{counts:l,shares:d,avg:u,top:h}=R.useMemo(()=>y6(a,o),[a,o]);return s.jsx("section",{className:Tn.wrapper,children:s.jsx("div",{className:Tn.grid,style:{gridTemplateColumns:"1fr"},children:o.map(m=>{var B,S,v;const g=(B=l[m.id])!=null?B:0,y=(S=d[m.id])!=null?S:0,x=u[m.id],C=h[m.id],E=g<=0,T=r[m.id]?void 0:m.crestUrl||m.iconUrl;return s.jsxs("div",{className:`${Tn.tile} ${E?Tn.disabled:""}`,title:E?`${m.name}: kein Mitglied`:`${m.name}  ${V3(g)}  ${my(y)}${x?`   ${x.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:Tn.crestWrap,children:[T?s.jsx("img",{className:Tn.crest,src:T,alt:m.name,onError:()=>i(w=>({...w,[m.id]:!0}))}):s.jsx("div",{className:Tn.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(v=m.fallback)!=null?v:""}),s.jsx(_xe,{valuePct:y}),s.jsx("div",{className:Tn.badge,children:V3(g)})]}),s.jsxs("div",{className:Tn.meta,children:[s.jsxs("div",{className:Tn.nameRow,children:[s.jsx("div",{className:Tn.name,children:m.name}),s.jsx("div",{className:Tn.share,children:my(y)})]}),s.jsxs("div",{className:Tn.sub,children:[x?` Lvl ${x.toFixed(1)}`:"",C?`  Top: ${C.name}${C.level?` (Lv ${C.level})`:""}`:""]})]}),!E&&n&&s.jsx("button",{className:Tn.tileButton,onClick:()=>n(m.id),"aria-label":`${m.name} filtern`})]},m.id)})})})},Cxe=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:a}=R.useMemo(()=>y6(n,r),[n,r]),o=R.useMemo(()=>Object.values(a).reduce((l,d)=>l+d,0),[a]);return s.jsxs("div",{className:Tn.donutCard,children:[s.jsxs("div",{className:Tn.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:Tn.legendRight,children:["Gesamt: ",o]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const m=Math.PI*2,g=r.map((x,C)=>{var E;return{id:x.id,pct:(E=i[x.id])!=null?E:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*C)} 60% 55%)`}});let y=0;return g.map(x=>{const C=(x.pct||0)/100;if(C<=0)return null;const E=y,T=y+m*C;y=T;const B=T-E>Math.PI?1:0,S=130+100*Math.cos(E),v=130+100*Math.sin(E),w=130+100*Math.cos(T),N=130+100*Math.sin(T),_=130+64*Math.cos(T),j=130+64*Math.sin(T),k=130+64*Math.cos(E),U=130+64*Math.sin(E),I=`M ${S} ${v} A 100 100 0 ${B} 1 ${w} ${N} L ${_} ${j} A 64 64 0 ${B} 0 ${k} ${U} Z`;return s.jsx("path",{d:I,fill:x.color,opacity:.95},x.id)})})()]}),s.jsx("div",{className:Tn.legend,children:r.map((l,d)=>{var m,g;const u=(m=i[l.id])!=null?m:0,h=(g=a[l.id])!=null?g:0;return s.jsxs("div",{className:Tn.legendItem,title:`${l.name}: ${h}  ${my(u)}`,children:[s.jsx("span",{className:Tn.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*d)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:l.name}),s.jsxs("span",{className:Tn.legendRight,children:[h,"  ",my(u)]})]},l.id)})})]}),s.jsx("div",{className:Tn.centerLabel,children:"Anteile je Klasse"})]})},ar={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},E1=new Map,Sv=new Map,K3="sf_profile_guild__",z3="sf_profile_guild_server_index",W3=3600*1e3,Sxe=t=>{var e,n,r,i,a,o,l,d,u,h,m,g,y,x,C;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(n=t.class)!=null?n:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(a=t.lastActivityMs)!=null?a:null,server:null,baseStats:{main:(o=t.baseMain)!=null?o:void 0,con:(l=t.conBase)!=null?l:void 0,sumBaseTotal:(d=t.sumBaseTotal)!=null?d:void 0},totalStats:(u=t.totalStats)!=null?u:void 0,values:{treasury:(h=t.treasury)!=null?h:void 0,mine:(m=t.mine)!=null?m:void 0,attrTotal:(g=t.attrTotal)!=null?g:void 0,conTotal:(y=t.conTotal)!=null?y:void 0,lastScan:(x=t.lastScan)!=null?x:void 0,lastActivity:(C=t.lastActivity)!=null?C:void 0}}},T1=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},Bxe=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function w6({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:ar.tile,border:`1px solid ${ar.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:ar.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:ar.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function pm({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:ar.title},children:e})]})}function Nxe({guild:t}){var n,r;const e=Ip(t.id,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(w6,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(pm,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:"-"}),s.jsx(pm,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:"-"}),s.jsx(pm,{k:"Server",v:(r=t.server)!=null?r:"-"}),s.jsx(pm,{k:"Inaktiv",v:"0"}),s.jsx(pm,{k:"Aktivitaet",v:"100%"})]})})]})}function F1(){var E,T,B,S,v,w;const t=Iy(),e=t.id||t.gid||t.guildId||t.guild||"",n=pi(),[r,i]=R.useState(!0),[a,o]=R.useState(null),[l,d]=R.useState(null),[u,h]=R.useState(null),[m,g]=R.useState("grid"),y=R.useMemo(()=>(Array.isArray(Rr)?Rr:[]).map(bxe).filter(Boolean),[]);R.useEffect(()=>{let N=!1;async function _(){var z;i(!0),o(null);const j=e.trim();if(!j){o("Keine Gilde gewaehlt."),i(!1);return}const k=()=>{if(typeof window=="undefined")return{};try{const G=window.localStorage.getItem(z3);if(!G)return{};const $=JSON.parse(G);return $&&typeof $=="object"?$:{}}catch(G){return{}}},U=k()[j],I=U?`${K3}${U}__${j}`:null;if(I){const G=Sv.get(I);if(G)if(Date.now()-G.cachedAt<W3){N||(d(G.data.guild),h(G.data.snapshot),i(!1));return}else Sv.delete(I)}if(I){const G=d6(I,W3);if(G&&typeof G=="object"){const $=G;Sv.set(I,{cachedAt:Date.now(),data:$}),N||(d($.guild),h($.snapshot),i(!1));return}}const P=async()=>{var $,Y,J,V,X,Z,se,le,we,Se,te,ce,re,ye,Be,Le,Ee,De,at,Ke,He,Ce,ue,Te,Fe,ct,xt,ie,Ae,me,ke,jt,nt,et,ut,bt,Ye;let G=null;try{G=Jn("GuildProfile:load");const Je=vs(Lt,`guilds/${j}/latest/latest`),Kt=await On(G,Je,()=>Nn(Je));if(!Kt.exists())throw new Error("Gilde nicht gefunden.");const mt=Kt.data(),ne=(J=(Y=mt.name)!=null?Y:($=mt.values)==null?void 0:$.Name)!=null?J:j,Re=(Z=(X=mt.server)!=null?X:(V=mt.values)==null?void 0:V.Server)!=null?Z:null,Ue=(te=T1((Se=(le=mt.memberCount)!=null?le:(se=mt.values)==null?void 0:se["Guild Member Count"])!=null?Se:(we=mt.values)==null?void 0:we.GuildMemberCount))!=null?te:null,dt=(Ke=T1((at=(Ee=(Be=(re=mt.hofRank)!=null?re:(ce=mt.values)==null?void 0:ce["Hall of Fame Rank"])!=null?Be:(ye=mt.values)==null?void 0:ye.HoF)!=null?Ee:(Le=mt.values)==null?void 0:Le.Rank)!=null?at:(De=mt.values)==null?void 0:De["Guild Rank"]))!=null?Ke:null,ze=Bxe(T1(mt.timestamp)),wt={id:j,name:ne,server:Re,memberCount:Ue,hofRank:dt,lastScanDays:ze};let Dt=null;const Et=vs(Lt,`guilds/${j}/snapshots/members_summary`),Me=await On(G,Et,()=>Nn(Et));if(Me.exists()){const pt=Me.data();Dt={guildId:String((He=pt.guildId)!=null?He:j),updatedAt:String((Te=(ue=pt.updatedAt)!=null?ue:(Ce=mt.values)==null?void 0:Ce.Timestamp)!=null?Te:""),updatedAtMs:Number((ct=(Fe=pt.updatedAtMs)!=null?Fe:mt.timestamp*1e3)!=null?ct:0),count:Number((xt=pt.count)!=null?xt:0),hash:String((ie=pt.hash)!=null?ie:""),avgLevel:(Ae=pt.avgLevel)!=null?Ae:null,avgTreasury:(me=pt.avgTreasury)!=null?me:null,avgMine:(ke=pt.avgMine)!=null?ke:null,avgBaseMain:(jt=pt.avgBaseMain)!=null?jt:null,avgConBase:(nt=pt.avgConBase)!=null?nt:null,avgSumBaseTotal:(et=pt.avgSumBaseTotal)!=null?et:null,avgAttrTotal:(ut=pt.avgAttrTotal)!=null?ut:null,avgConTotal:(bt=pt.avgConTotal)!=null?bt:null,avgTotalStats:(Ye=pt.avgTotalStats)!=null?Ye:null,members:Array.isArray(pt.members)?pt.members:[]}}return{guild:wt,snapshot:Dt}}finally{Cn(G)}},L=I!=null?I:j.toLowerCase(),H=E1.get(L),O=H!=null?H:P();H||E1.set(L,O);try{const G=await O,Y=String((z=G.guild.server)!=null?z:"").trim().toLowerCase().replace(/[^a-z0-9]/g,"")||"unknown",J=`${K3}${Y}__${j}`;if(typeof window!="undefined")try{const V=k();V[j]=Y,window.localStorage.setItem(z3,JSON.stringify(V)),u6(J,G)}catch(V){}Sv.set(J,{cachedAt:Date.now(),data:G}),N||(d(G.guild),h(G.snapshot))}catch(G){N||o((G==null?void 0:G.message)||"Fehler beim Laden.")}finally{H||E1.delete(L),N||i(!1)}}return _(),()=>{N=!0}},[e]);const x=R.useMemo(()=>{var N;return((N=u==null?void 0:u.members)!=null?N:[]).map(_=>Sxe(_))},[u]);if(r)return s.jsx(As,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:ar.soft},children:"Lade Gildenprofil..."})});if(!l)return s.jsx(As,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:ar.soft},children:[a!=null?a:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const C=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${ar.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:ar.tile,border:`1px solid ${ar.line}`,color:ar.title},children:(E=l.server)!=null?E:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:ar.title,fontSize:26,lineHeight:1.15},children:l.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:ar.soft},children:["Zuletzt aktualisiert:",u!=null&&u.updatedAt?u.updatedAt:"-"," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:ar.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(As,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[C,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(Nxe,{guild:l})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(Yve,{guild:l,snapshot:u,emblemUrl:Ip(l.id,512)||void 0,colors:ar}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(dfe,{guildName:l.name,server:(T=l.server)!=null?T:"-",emblemUrl:Ip(l.id,512)||void 0,lastScanISO:u!=null&&u.updatedAtMs?new Date(u.updatedAtMs).toISOString():void 0,members:(B=l.memberCount)!=null?B:0,avgLevel:(S=u==null?void 0:u.avgLevel)!=null?S:0,totalPower:(v=u==null?void 0:u.avgTotalStats)!=null?v:void 0,tickerItems:u!=null&&u.updatedAt?[`Updated ${u.updatedAt}`,`Members ${(w=l.memberCount)!=null?w:0}`]:void 0})})}),s.jsx(kxe,{members:x,guildId:l.id,guildName:l.name,guildServer:l.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>g("grid"),"aria-label":"Klassenuebersicht",children:s.jsx(nd,{text:"Klassenuebersicht",tone:m==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>g("donut"),"aria-label":"Klassenverteilung",children:s.jsx(nd,{text:"Klassenverteilung",tone:m==="donut"?"accent":"default"})})]}),m==="grid"?s.jsx(jxe,{data:x,classMeta:y,onPickClass:N=>{const _=new URL(window.location.href);_.searchParams.set("tab","Uebersicht"),_.searchParams.set("class",N),window.location.href=_.toString()}}):s.jsx(Cxe,{data:x,classMeta:y})]})]})})]})}function kxe({members:t,guildId:e,guildName:n,guildServer:r}){const[i,a]=R.useState("Uebersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:ar.line},role:"tablist",children:["Uebersicht","Rankings","Monthly Progress","Historie"].map(o=>{const l=o===i;return s.jsx("button",{role:"tab","aria-selected":l,onClick:()=>a(o),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${l?ar.header:"transparent"}`,background:l?"rgba(45,78,120,0.35)":"transparent",color:ar.title},children:o},o)})}),s.jsxs(w6,{children:[i==="Uebersicht"&&s.jsx(cfe,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:ar.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"})," - Inhalt folgt."]}),i==="Monthly Progress"&&s.jsx(ave,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:ar.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"})," - Inhalt folgt."]})]})]})}function Ixe(){const{t}=Gs();return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(L1,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(L1,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"}),s.jsx(L1,{to:"/servers/overview",title:t("servers.tiles.overview.title"),desc:t("servers.tiles.overview.subtitle")})]})]})}function L1({to:t,title:e,desc:n}){return s.jsxs(Ys,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function Exe(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function Txe(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Fxe="_card_1rxdx_21",Lxe="_hoverLift_1rxdx_51",Rxe="_title_1rxdx_63",Uxe="_body_1rxdx_89",Pxe="_iconStack_1rxdx_99",gm={card:Fxe,hoverLift:Lxe,title:Rxe,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:Uxe,iconStack:Pxe};function hi({title:t,padding:e="md",hover:n=!0,className:r="",children:i}){return s.jsxs("div",{className:[gm.card,gm[`pad-${e}`],n?gm.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:gm.title,children:t}):null,s.jsx("div",{className:gm.body,children:i})]})}const Dxe="_page_frkd2_1",Mxe="_controlsRow_frkd2_13",Qxe="_controls_frkd2_13",Hxe="_controlButton_frkd2_33",Oxe="_entryGrid_frkd2_63",$xe="_entryItem_frkd2_75",Vxe="_nodeList_frkd2_89",Gxe="_nodeChildren_frkd2_91",Kxe="_nodeItem_frkd2_121",zxe="_nodeButton_frkd2_129",Wxe="_nodeCard_frkd2_149",qxe="_nodeTitleRow_frkd2_157",Xxe="_nodeTitle_frkd2_157",Yxe="_nodeToggle_frkd2_181",Jxe="_nodeMeta_frkd2_207",Zxe="_nodeCode_frkd2_225",eye="_placeholder_frkd2_233",tye="_desktopOnly_frkd2_245",fr={page:Dxe,controlsRow:Mxe,controls:Qxe,controlButton:Hxe,entryGrid:Oxe,entryItem:$xe,nodeList:Vxe,nodeChildren:Gxe,nodeItem:Kxe,nodeButton:zxe,nodeCard:Wxe,nodeTitleRow:qxe,nodeTitle:Xxe,nodeToggle:Yxe,nodeMeta:Jxe,nodeCode:Zxe,placeholder:eye,desktopOnly:tye};function Ut(t,e,n){const r=[];for(let i=e;i<=n;i+=1)r.push(`${t}${i}`);return r}function sye(t){const e=/^([A-Z]+)(\d+)$/.exec(t);return e?`${e[1]} ${e[2]}`:t}function nye(t){return{code:t,displayName:sye(t),type:"origin",tier:0,mergedFrom:[]}}function rye(t,e){return{code:t,displayName:e!=null?e:t,type:"other",tier:0,mergedFrom:[]}}function Js(t,e,n,r){return{code:t,displayName:r!=null?r:t,type:"fusion",tier:n,mergedFrom:e}}const Hs={};function Ln(t){for(const e of t)Hs[e]=nye(e)}function iye(t){for(const e of t)Hs[e]=rye(e)}Ln(Ut("EU",1,23));Ln(Ut("US",1,10));Ln(Ut("BR",1,2));Ln(Ut("CL",1,2));Ln(["CA1","MX1"]);Ln(Ut("AE",1,2));Ln(Ut("DK",1,2));Ln(Ut("NL",1,3));Ln(Ut("SE",1,2));Ln(Ut("UK",1,2));Ln(["IN1","JP1","RO1","RU1"]);Ln(Ut("IT",1,8));Ln(Ut("GR",1,6));Ln(Ut("PT",1,8));Ln(Ut("TR",1,6));Ln(Ut("ES",1,12));Ln(Ut("FR",1,15));Ln(Ut("PL",1,40));Ln(Ut("DE",1,43));Ln(Ut("INT",1,60));Ln(Ut("CZ",1,35));Ln(Ut("SK",1,3));Ln(Ut("HU",1,20));iye(["tv2","123playgames","minijuegos","rtl","rtl2","sevengames","wp","buffed","gamona","xchar","ingame"]);Hs.F1=Js("F1",[...Ut("BR",1,2),"CA1",...Ut("CL",1,2),"MX1",...Ut("US",1,10)],1);Hs.F2=Js("F2",[...Ut("AE",1,2),...Ut("DK",1,2),"tv2","IN1","JP1",...Ut("NL",1,3),"RO1","RU1",...Ut("SE",1,2),...Ut("UK",1,2)],1);Hs.F3=Js("F3",[...Ut("IT",1,8)],1);Hs.F4=Js("F4",[...Ut("GR",1,6),"123playgames",...Ut("PT",1,8),...Ut("TR",1,6)],1);Hs.F5=Js("F5",[...Ut("ES",1,12),"minijuegos"],1);Hs.F6=Js("F6",[...Ut("FR",1,13)],1);Hs.F7=Js("F7",[...Ut("PL",7,17)],1);Hs.F8=Js("F8",[...Ut("DE",5,12)],1);Hs.F9=Js("F9",[...Ut("DE",25,37)],1);Hs.F10=Js("F10",[...Ut("PL",18,33)],1);Hs.F11=Js("F11",[...Ut("DE",13,24),"rtl","sevengames"],1);Hs.F12=Js("F12",[...Ut("INT",1,5)],1);Hs.F13=Js("F13",[...Ut("PL",1,6),"wp"],1);Hs.F14=Js("F14",[...Ut("INT",15,21)],1);Hs.F15=Js("F15",[...Ut("CZ",17,28),"SK2","SK3"],1);Hs.F16=Js("F16",[...Ut("CZ",6,16),"SK1"],1);Hs.F17=Js("F17",[...Ut("DE",1,4),"buffed","rtl2","gamona","xchar","ingame"],1);Hs.F18=Js("F18",[...Ut("CZ",1,5)],1);Hs.F19=Js("F19",[...Ut("HU",1,15)],1);Hs.F20=Js("F20",[...Ut("INT",6,14),"CZ29","HU16","PL34"],1);Hs.F21=Js("F21",[...Ut("INT",22,30),"CZ30","DE38","PL35"],1);Hs.F22=Js("F22",[...Ut("INT",31,37),"CZ31","CZ32","DE39","DE40","HU17","PL36","PL37"],1);Hs.F23=Js("F23",[...Ut("INT",38,45),"FR14","FR15","CZ33","CZ34","DE41","DE42","HU18","HU19","PL38","PL39"],1);Hs.F24=Js("F24",[...Ut("INT",46,50)],1);Hs.F25=Js("F25",[...Ut("INT",51,52),"CZ35","DE43","HU20","PL40"],1);Hs.F26=Js("F26",[...Ut("INT",53,56)],1);Hs.F27=Js("F27",[...Ut("INT",57,60)],1);Hs.MAERWYNN=Js("MAERWYNN",["F1","F2","F3","F4","F5"],2,"Maerwynn");Hs.BLACK_FOREST=Js("BLACK_FOREST",["F7","F10","F13"],2,"Black Forest");Hs.GRANOGRIM=Js("GRANOGRIM",["F15","F16","F18"],2,"Granogrim");const aye=["MAERWYNN","BLACK_FOREST","GRANOGRIM",...Ut("F",1,27),...Ut("EU",1,23)],oye={entrypoints:aye,nodes:Hs},q3=(t,e)=>{const n=e[t];return n?{node:n,isPlaceholder:!1,key:n.code}:{node:{code:t,displayName:t,type:"other",tier:0,mergedFrom:[]},isPlaceholder:!0,key:`placeholder:${t}`}},lye=(t,e)=>{var i,a;const n=new Set,r=[...t];for(;r.length;){const o=r.pop();if(!o||n.has(o))continue;n.add(o),((a=(i=e[o])==null?void 0:i.mergedFrom)!=null?a:[]).forEach(d=>{n.has(d)||r.push(d)})}return n};function X3({node:t,hasChildren:e,isExpanded:n,isPlaceholder:r,onToggle:i}){return s.jsx("button",{type:"button",onClick:i,className:fr.nodeButton,"aria-expanded":e?n:void 0,children:s.jsxs(hi,{hover:!0,className:[fr.nodeCard,r?fr.placeholder:""].join(" "),children:[s.jsxs("div",{className:fr.nodeTitleRow,children:[s.jsx("div",{className:fr.nodeTitle,children:t.displayName||t.code}),e?s.jsx("span",{className:fr.nodeToggle,"aria-hidden":!0,children:n?"-":"+"}):null]}),s.jsx("div",{className:fr.nodeMeta,children:s.jsx("span",{className:fr.nodeCode,children:t.code})})]})})}function cye(){const{t}=Gs(),{entrypoints:e,nodes:n}=oye,[r,i]=W.useState(()=>new Set),a=u=>{i(h=>{const m=new Set(h);return m.has(u)?m.delete(u):m.add(u),m})},o=()=>{i(lye(e,n))},l=()=>{i(new Set)},d=(u,h)=>{var E;if(h.has(u))return null;const m=q3(u,n),g=(E=m.node.mergedFrom)!=null?E:[],y=g.length>0,x=r.has(u),C=new Set(h);return C.add(u),s.jsxs("li",{className:fr.nodeItem,children:[s.jsx(X3,{node:m.node,hasChildren:y,isExpanded:x,isPlaceholder:m.isPlaceholder,onToggle:()=>a(u)}),y&&x?s.jsx("ul",{className:fr.nodeChildren,children:g.map(T=>d(T,C))}):null]},m.key)};return s.jsxs("div",{className:fr.page,children:[s.jsx("div",{className:fr.controlsRow,children:s.jsxs("div",{className:`${fr.controls} ${fr.desktopOnly}`,children:[s.jsx("button",{type:"button",onClick:o,className:fr.controlButton,children:t("servers.overview.expandAll")}),s.jsx("button",{type:"button",onClick:l,className:fr.controlButton,children:t("servers.overview.collapseAll")})]})}),s.jsx("div",{className:fr.entryGrid,children:e.map(u=>{var x;const h=q3(u,n),m=(x=h.node.mergedFrom)!=null?x:[],g=m.length>0,y=r.has(u);return s.jsxs("div",{className:fr.entryItem,children:[s.jsx(X3,{node:h.node,hasChildren:g,isExpanded:y,isPlaceholder:h.isPlaceholder,onToggle:()=>a(u)}),g&&y?s.jsx("ul",{className:fr.nodeList,children:m.map(C=>d(C,new Set([u])))}):null]},h.key)})})]})}function dye(){const{t}=Gs();return s.jsx(As,{title:t("servers.overview.pageTitle"),centerFramed:!1,padded:!0,children:s.jsx(cye,{})})}const kr={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Y3({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function uye({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function hA({label:t,value:e}){return s.jsxs("div",{style:{background:kr.tileAlt,border:`1px solid ${kr.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:kr.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:kr.title,fontWeight:700},children:e})]})}function Aye(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),a=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let o="";const l=n.match(/^([A-Z]{2})(\d{1,3})$/);if(l){const d=l[1],u=String(parseInt(l[2],10)),h=d==="EU"?"eu":d==="US"?"us":d==="AM"?"net":d.toLowerCase();o=`s${u}.sfgame.${h}`}return Array.from(new Set([e,n,r,i,a,o].filter(Boolean)))}function R1(){var C,E,T,B;const t=Iy(),e=pi(),n=ur(),r=t.id||t.sid||t.serverId||t.server||"",[i,a]=R.useState(!0),[o,l]=R.useState(null),[d,u]=R.useState(null),[h,m]=R.useState(null);R.useEffect(()=>{let S=!1;async function v(){const w=Jn("ServerProfile:load");a(!0),l(null),u(null),m(null);try{const N=r.trim();if(!N)throw new Error("Kein Server gewhlt.");const _=vs(Lt,`servers/${N}`),j=await On(w,_,()=>Nn(_));if(j.exists()){S||(u(j.id),m(j.data()));return}const k=Ml(Lt,"servers"),U=Aye(N),I=[];for(const O of U)I.push(Hn(w,k,()=>Qn(Yn(k,Xi("code","==",O),Fr(1))))),I.push(Hn(w,k,()=>Qn(Yn(k,Xi("displayName","==",O),Fr(1))))),I.push(Hn(w,k,()=>Qn(Yn(k,Xi("host","==",O),Fr(1)))));const P=await Promise.allSettled(I);let L=null,H=null;for(const O of P){if(O.status!=="fulfilled")continue;const z=O.value;if(!z.empty){const G=z.docs[0];L=G.id,H=G.data();break}}if(!L||!H)throw new Error("Server nicht gefunden.");S||(u(L),m(H),L!==N&&e(`/server/${encodeURIComponent(L)}`,{replace:!0,state:{from:n.pathname}}))}catch(N){S||l((N==null?void 0:N.message)||"Fehler beim Laden.")}finally{Cn(w),S||a(!1)}}return v(),()=>{S=!0}},[r,e,n.pathname]);const g=R.useMemo(()=>s.jsxs("div",{style:{padding:24,color:kr.textSoft},children:[o!=null?o:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:kr.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[o,e]);if(i)return s.jsx(As,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:kr.textSoft},children:"Lade Serverprofil"})});if(!h)return s.jsx(As,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:g});const y=h.displayName||h.code||d||r,x=h.active===!0?"Aktiv":h.active===!1?"Inaktiv":"";return s.jsxs(As,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${kr.line}`},children:s.jsxs(Y3,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(uye,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:kr.title,fontWeight:700},children:y}),s.jsxs("div",{style:{fontSize:12,color:kr.textSoft},children:[h.host||"","  ",h.region||"","  ",((C=h.type)==null?void 0:C.toUpperCase())||""]})]})]})}),s.jsxs(Y3,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:kr.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${kr.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:kr.title,fontSize:24,fontWeight:800},children:y}),s.jsxs("div",{style:{marginTop:6,color:kr.textSoft,fontSize:13},children:[h.host||"","  ",h.region||"","  ",((E=h.type)==null?void 0:E.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:kr.textSoft},children:["Status: ",x]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:h.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(hA,{label:"Code",value:h.code||""}),s.jsx(hA,{label:"Host",value:h.host||""}),s.jsx(hA,{label:"Region",value:h.region||""}),s.jsx(hA,{label:"Typ",value:((T=h.type)==null?void 0:T.toUpperCase())||""}),s.jsx(hA,{label:"Numeric ID",value:(B=h.numericId)!=null?B:""}),s.jsx(hA,{label:"Status",value:x})]}),s.jsxs("div",{style:{marginTop:16,background:kr.tileAlt,padding:15,borderRadius:12,border:`1px solid ${kr.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:kr.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const hye="_page_177kv_1",mye="_sectionCard_177kv_15",pye="_identityCard_177kv_29",gye="_identityGrid_177kv_39",fye="_profileName_177kv_63",vye="_identityMeta_177kv_77",xye="_mainCharacter_177kv_95",yye="_characterHeader_177kv_117",wye="_characterTitle_177kv_131",bye="_characterSubtitle_177kv_143",_ye="_classIcon_177kv_153",jye="_metaGrid_177kv_181",Cye="_metaLabel_177kv_193",Sye="_metaValue_177kv_207",Bye="_portrait_177kv_217",Nye="_sectionHeader_177kv_245",kye="_sectionHint_177kv_265",Iye="_bioText_177kv_275",Eye="_tagGroups_177kv_295",Tye="_tagGroupLabel_177kv_309",Fye="_tagList_177kv_323",Lye="_tag_177kv_295",Rye="_showcaseGrid_177kv_353",Uye="_characterCard_177kv_365",Pye="_characterCardHeader_177kv_385",Dye="_characterName_177kv_399",Mye="_badge_177kv_411",Qye="_characterMeta_177kv_433",Hye="_characterStats_177kv_449",Oye="_statGrid_177kv_465",$ye="_statTile_177kv_477",Vye="_statLabel_177kv_491",Gye="_statValue_177kv_505",Kye="_statSubtext_177kv_519",zye="_emptyState_177kv_531",Wye="_recordsHighlights_177kv_551",qye="_highlightCard_177kv_565",Xye="_recordType_177kv_579",Yye="_recordTitle_177kv_593",Jye="_timeline_177kv_607",Zye="_timelineItem_177kv_625",e0e="_timelineBullet_177kv_635",t0e="_timelineContent_177kv_653",s0e="_timelineTitle_177kv_661",n0e="_timelineMeta_177kv_673",r0e="_achievementsHighlights_177kv_685",i0e="_achievementCard_177kv_699",a0e="_achievementIcon_177kv_723",o0e="_achievementName_177kv_747",l0e="_achievementDesc_177kv_759",c0e="_achievementTier_177kv_771",d0e="_achievementDate_177kv_785",u0e="_achievementsGrid_177kv_795",A0e="_achievementBadge_177kv_807",h0e="_tierGold_177kv_831",m0e="_tierSilver_177kv_839",p0e="_tierBronze_177kv_847",tt={page:hye,sectionCard:mye,identityCard:pye,identityGrid:gye,profileName:fye,identityMeta:vye,mainCharacter:xye,characterHeader:yye,characterTitle:wye,characterSubtitle:bye,classIcon:_ye,metaGrid:jye,metaLabel:Cye,metaValue:Sye,portrait:Bye,sectionHeader:Nye,sectionHint:kye,bioText:Iye,tagGroups:Eye,tagGroupLabel:Tye,tagList:Fye,tag:Lye,showcaseGrid:Rye,characterCard:Uye,characterCardHeader:Pye,characterName:Dye,badge:Mye,characterMeta:Qye,characterStats:Hye,statGrid:Oye,statTile:$ye,statLabel:Vye,statValue:Gye,statSubtext:Kye,emptyState:zye,recordsHighlights:Wye,highlightCard:qye,recordType:Xye,recordTitle:Yye,timeline:Jye,timelineItem:Zye,timelineBullet:e0e,timelineContent:t0e,timelineTitle:s0e,timelineMeta:n0e,achievementsHighlights:r0e,achievementCard:i0e,achievementIcon:a0e,achievementName:o0e,achievementDesc:l0e,achievementTier:c0e,achievementDate:d0e,achievementsGrid:u0e,achievementBadge:A0e,tierGold:h0e,tierSilver:m0e,tierBronze:p0e},g0e={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},f0e=1e3*60*60*24,J3={gold:3,silver:2,bronze:1};function v0e(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/f0e)}function Bv(t){const e=new Date(t);return Number.isNaN(e.getTime())?ts("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function x0e(){const{profileId:t}=Iy(),e=g0e,n=v0e(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(h=>h.type==="record").slice(0,3),a=[...e.achievements].sort((h,m)=>J3[m.tier]-J3[h.tier]).slice(0,3),o=[{label:ts("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:ts("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:ts("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:ts("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],l=n==null?ts("profile.public.identity.dateUnknown"):n===0?ts("profile.public.identity.lastScanToday"):`${n} ${ts("profile.public.identity.daysAgoSuffix")}`,d=ts("profile.public.identity.portraitPlaceholder"),u=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):ts("profile.public.identity.unknownValue");return s.jsx(As,{title:ts("profile.public.title"),subtitle:ts("profile.public.subtitle"),centerFramed:!1,padded:!0,children:s.jsxs("div",{className:tt.page,children:[s.jsx("section",{className:`${tt.sectionCard} ${tt.identityCard}`,children:s.jsxs("div",{className:tt.identityGrid,children:[s.jsxs("div",{children:[s.jsx("h1",{className:tt.profileName,children:e.profileUser.displayName}),s.jsxs("div",{className:tt.identityMeta,children:[s.jsxs("span",{children:[ts("profile.public.identity.profileIdLabel"),": ",t!=null?t:ts("profile.public.identity.unknownValue")]}),s.jsxs("span",{children:[ts("profile.public.identity.lastScanLabel"),": ",l]})]}),s.jsxs("article",{className:tt.mainCharacter,children:[s.jsxs("div",{className:tt.characterHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:tt.metaLabel,children:ts("profile.public.identity.mainCharacterLabel")}),s.jsx("div",{className:tt.characterTitle,children:e.mainCharacter.name}),s.jsxs("div",{className:tt.characterSubtitle,children:[e.mainCharacter.class,"  ",ts("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),s.jsx("div",{className:tt.classIcon,children:e.mainCharacter.class.charAt(0)})]}),s.jsxs("div",{className:tt.metaGrid,children:[s.jsxs("div",{children:[s.jsx("div",{className:tt.metaLabel,children:ts("profile.public.identity.serverLabel")}),s.jsx("div",{className:tt.metaValue,children:e.mainCharacter.server})]}),s.jsxs("div",{children:[s.jsx("div",{className:tt.metaLabel,children:ts("profile.public.identity.guildLabel")}),s.jsx("div",{className:tt.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),s.jsx("div",{className:tt.portrait,children:d})]})}),s.jsxs("section",{className:tt.sectionCard,children:[s.jsx("div",{className:tt.sectionHeader,children:s.jsx("span",{children:ts("profile.public.bio.title")})}),s.jsx("p",{className:tt.bioText,children:e.bio}),s.jsxs("div",{className:tt.tagGroups,children:[s.jsxs("div",{children:[s.jsx("div",{className:tt.tagGroupLabel,children:ts("profile.public.bio.languagesLabel")}),s.jsx("div",{className:tt.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(h=>s.jsx("span",{className:tt.tag,children:h.toUpperCase()},h)):s.jsx("span",{className:tt.tag,children:ts("profile.public.identity.unknownValue")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:tt.tagGroupLabel,children:ts("profile.public.bio.rolesLabel")}),s.jsx("div",{className:tt.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(h=>s.jsx("span",{className:tt.tag,children:ts(`profile.public.roles.${h}`)},h)):s.jsx("span",{className:tt.tag,children:ts("profile.public.identity.unknownValue")})})]})]})]}),s.jsxs("section",{className:tt.sectionCard,children:[s.jsxs("div",{className:tt.sectionHeader,children:[s.jsx("span",{children:ts("profile.public.showcase.title")}),s.jsx("span",{className:tt.sectionHint,children:ts("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?s.jsx("div",{className:tt.emptyState,children:ts("profile.public.showcase.empty")}):s.jsx("div",{className:tt.showcaseGrid,children:e.showcaseCharacters.map(h=>s.jsxs("article",{className:tt.characterCard,children:[s.jsxs("div",{className:tt.characterCardHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:tt.characterName,children:h.name}),s.jsxs("div",{className:tt.characterMeta,children:[s.jsx("span",{children:h.class}),s.jsxs("span",{children:[ts("profile.public.identity.levelShort")," ",h.level]})]})]}),s.jsx("span",{className:tt.badge,children:ts(`profile.public.showcase.tags.${h.tag}`)})]}),s.jsxs("div",{className:tt.characterMeta,children:[s.jsx("span",{children:h.server}),s.jsx("span",{children:h.guildName})]}),s.jsxs("div",{className:tt.characterStats,children:[s.jsxs("span",{children:[ts("profile.public.showcase.scrapbookLabel")," ",h.scrapbookPercent,"%"]}),s.jsxs("span",{children:[ts("profile.public.showcase.highlightLabel"),": ",h.highlightProgress]})]})]},h.id))})]}),s.jsxs("section",{className:tt.sectionCard,children:[s.jsx("div",{className:tt.sectionHeader,children:s.jsx("span",{children:ts("profile.public.stats.title")})}),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:tt.statGrid,children:o.map(h=>s.jsxs("article",{className:tt.statTile,children:[s.jsx("div",{className:tt.statLabel,children:h.label}),s.jsx("div",{className:tt.statValue,children:h.value})]},h.label))}),s.jsxs("div",{className:tt.statSubtext,children:[ts("profile.public.stats.topServersLabel"),": ",u]}),s.jsxs("div",{className:tt.statSubtext,children:[ts("profile.public.stats.firstScanLabel"),": ",Bv(e.scanStats.firstScanAt)]})]})]}),s.jsxs("section",{className:tt.sectionCard,children:[s.jsx("div",{className:tt.sectionHeader,children:s.jsx("span",{children:ts("profile.public.records.title")})}),e.recordsAndMilestones.length===0?s.jsx("div",{className:tt.emptyState,children:ts("profile.public.records.empty")}):s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx("div",{className:tt.recordsHighlights,children:i.map(h=>s.jsxs("article",{className:tt.highlightCard,children:[s.jsx("div",{className:tt.recordType,children:ts(`profile.public.records.type.${h.type}`)}),s.jsx("div",{className:tt.recordTitle,children:h.title}),s.jsxs("div",{className:tt.timelineMeta,children:[Bv(h.when),"  ",h.context]})]},h.id))}),s.jsx("ul",{className:tt.timeline,children:e.recordsAndMilestones.map(h=>s.jsxs("li",{className:tt.timelineItem,children:[s.jsx("div",{className:tt.timelineBullet}),s.jsxs("div",{className:tt.timelineContent,children:[s.jsx("div",{className:tt.timelineTitle,children:h.title}),s.jsxs("div",{className:tt.timelineMeta,children:[Bv(h.when),"  ",h.context]})]})]},h.id))})]})]}),s.jsxs("section",{className:tt.sectionCard,children:[s.jsxs("div",{className:tt.sectionHeader,children:[s.jsx("span",{children:ts("profile.public.achievements.title")}),e.achievements.length>0&&s.jsx("span",{className:tt.sectionHint,children:ts("profile.public.achievements.highlights")})]}),e.achievements.length===0?s.jsx("div",{className:tt.emptyState,children:ts("profile.public.achievements.empty")}):s.jsxs(s.Fragment,{children:[a.length>0&&s.jsx("div",{className:tt.achievementsHighlights,children:a.map(h=>s.jsxs("article",{className:tt.achievementCard,children:[s.jsx("div",{className:[tt.achievementIcon,h.tier==="gold"?tt.tierGold:h.tier==="silver"?tt.tierSilver:tt.tierBronze].join(" "),children:h.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:tt.achievementTier,children:ts(`profile.public.achievements.tiers.${h.tier}`)}),s.jsx("div",{className:tt.achievementName,children:ts(h.nameKey)}),s.jsx("div",{className:tt.achievementDesc,children:ts(h.descriptionKey)}),h.unlockedAt&&s.jsx("div",{className:tt.achievementDate,children:Bv(h.unlockedAt)})]},h.id))}),s.jsx("div",{className:tt.achievementsGrid,children:e.achievements.map(h=>s.jsxs("article",{className:tt.achievementBadge,children:[s.jsx("div",{className:[tt.achievementIcon,h.tier==="gold"?tt.tierGold:h.tier==="silver"?tt.tierSilver:tt.tierBronze].join(" "),children:h.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:tt.achievementName,children:ts(h.nameKey)}),s.jsx("div",{className:tt.achievementDesc,children:ts(h.descriptionKey)})]},h.id))})]})]})]})})}const y0e="_wrap_k6pqt_1",w0e="_centerLogoWrap_k6pqt_21",b0e="_centerLogoLink_k6pqt_37",_0e="_centerLogo_k6pqt_21",j0e="_arc_k6pqt_55",C0e="_left_k6pqt_57",S0e="_right_k6pqt_59",B0e="_sub_k6pqt_61",N0e="_full_k6pqt_63",k0e="_arcItem_k6pqt_65",I0e="_iconBtn_k6pqt_71",E0e="_active_k6pqt_125",T0e="_iconImg_k6pqt_135",F0e="_placeholderIcon_k6pqt_139",L0e="_placeholderText_k6pqt_157",R0e="_iconLabel_k6pqt_161",Kr={wrap:y0e,centerLogoWrap:w0e,centerLogoLink:b0e,centerLogo:_0e,arc:j0e,left:C0e,right:S0e,sub:B0e,full:N0e,arcItem:k0e,iconBtn:I0e,active:E0e,iconImg:T0e,placeholderIcon:F0e,placeholderText:L0e,iconLabel:R0e},U0e=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=ur();let a=!1;try{const o=new URLSearchParams(i),l=o.get("tab"),d=o.get("sub"),u=o.get("sub2"),h=new URL(t,window.location.origin).searchParams,m=h.get("tab"),g=h.get("sub"),y=h.get("sub2");r==="main"?a=l===m:r==="sub"?a=l===m&&!!g&&d===g:a=l===m&&!!g&&d===g&&!!y&&u===y}catch(o){a=!1}return s.jsxs(Ys,{to:t,"aria-label":e,className:[Kr.iconBtn,a?Kr.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Kr.iconImg}):s.jsx("div",{className:Kr.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Kr.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Kr.iconLabel,children:e})]})},Nv=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:o=440,superOffset:l=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const d=R.useMemo(()=>{const m=t.length;if(m===0)return[];let g=-90,y=90;e==="left"?(g=90,y=270):e==="sub"||e==="sub2"?n==="left"?(g=90,y=270):(g=-90,y=90):e==="full"&&(g=0,y=360);const x=(y-g)/(m+1),C=r?190:250;return t.map((E,T)=>{const S=(g+x*(T+1))*Math.PI/180;return{it:E,x:Math.cos(S)*C,y:Math.sin(S)*C}})},[t,e,n,r]),u=(()=>{const m={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?m.left=`calc(50% - ${a}px)`:e==="right"?m.left=`calc(50% + ${a}px)`:e==="sub"?m.left=n==="left"?`calc(50% - ${o}px)`:`calc(50% + ${o}px)`:e==="sub2"&&(m.left=n==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`),m})(),h=e==="sub"?"sub":e==="sub2"?"sub2":"main";return s.jsx("div",{className:[Kr.arc,e==="left"?Kr.left:"",e==="right"?Kr.right:"",e==="sub"?Kr.sub:"",e==="sub2"?Kr.sub2:"",e==="full"?Kr.full:""].join(" "),style:u,children:d.map(({it:m,x:g,y})=>s.jsx("div",{className:Kr.arcItem,style:{transform:`translate(${g}px, ${y}px)`},children:s.jsx(U0e,{to:m.to,label:m.label,icon:m.icon,variant:h})},m.key))})},P0e=({logoSrc:t,categories:e})=>{const[n]=yr(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const a=R.useMemo(()=>e.find(S=>S.key===r)||null,[e,r]),o=(a==null?void 0:a.sub)||[],l=R.useMemo(()=>o.find(S=>S.key===i)||null,[o,i]),d=(l==null?void 0:l.sub2)||[],u=(a==null?void 0:a.side)==="left"||(a==null?void 0:a.side)==="right"?a.side:"right",h=R.useRef(null),[m,g]=R.useState(!1),[y,x]=R.useState(220),[C,E]=R.useState(440),[T,B]=R.useState(660);return R.useLayoutEffect(()=>{(()=>{var U,I;const w=((I=(U=h.current)==null?void 0:U.getBoundingClientRect().width)!=null?I:380)/2,_=Math.round(w+60),j=Math.round(_+220),k=Math.round(j+220);x(_),E(j),B(k),g(!0)})()},[]),R.useEffect(()=>{let S=0,v=null,w={main:y,out:C,sup:T};const N=()=>{v!=null&&window.clearTimeout(v),v=window.setTimeout(()=>{S=requestAnimationFrame(()=>{var z,G;const j=((G=(z=h.current)==null?void 0:z.getBoundingClientRect().width)!=null?G:380)/2,U=Math.round(j+60),I=Math.round(U+220),P=Math.round(I+220),L=Math.abs(U-w.main),H=Math.abs(I-w.out),O=Math.abs(P-w.sup);L>1&&x(U),H>1&&E(I),O>1&&B(P),w={main:U,out:I,sup:P}})},120)};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N),v!=null&&window.clearTimeout(v),S&&cancelAnimationFrame(S)}},[y,C,T]),s.jsxs("div",{className:Kr.wrap,children:[s.jsx("div",{className:Kr.centerLogoWrap,children:s.jsx(Ys,{to:"/guidehub",className:Kr.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:h,src:t,alt:"Guide Hub",className:Kr.centerLogo})})}),m&&s.jsxs(s.Fragment,{children:[s.jsx(Nv,{items:e.filter(S=>S.side==="left").map(S=>({key:S.key,to:S.to,label:S.label,icon:S.icon})),side:"left",variant:"main",arcOffset:y}),s.jsx(Nv,{items:e.filter(S=>S.side==="right").map(S=>({key:S.key,to:S.to,label:S.label,icon:S.icon})),side:"right",variant:"main",arcOffset:y}),u&&o.length>0&&s.jsx(Nv,{items:o.map(S=>({key:S.key,to:S.to,label:S.label,icon:S.icon})),side:"sub",anchorSide:u,variant:"sub",outerOffset:C,compact:!0}),u&&d.length>0&&s.jsx(Nv,{items:d.map(S=>({key:S.key,to:S.to,label:S.label,icon:S.icon})),side:"sub2",anchorSide:u,variant:"sub2",superOffset:T,compact:!0})]})]})},iu=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]}],D0e="_topWrap_1vr4p_1",M0e="_divider_1vr4p_19",Q0e="_contentArea_1vr4p_53",H0e="_placeholder_1vr4p_65",O0e="_placeholderTitle_1vr4p_79",$0e="_placeholderText_1vr4p_93",mA={topWrap:D0e,divider:M0e,contentArea:Q0e,placeholder:H0e,placeholderTitle:O0e,placeholderText:$0e};function _u({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const V0e=()=>s.jsx(_u,{title:"Game Features"});function $n({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const G0e=()=>s.jsx($n,{title:"Progression"}),K0e=()=>s.jsx($n,{title:"Hellevator"}),z0e=()=>s.jsx($n,{title:"Legendary Dungeon"}),W0e=()=>s.jsx($n,{title:"Events"}),q0e=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],X0e="_grid_1amcc_3",Y0e="_tileBtn_1amcc_45",J0e="_wrap_1amcc_87",Z0e="_headerBar_1amcc_99",ewe="_title_1amcc_117",fm={grid:X0e,tileBtn:Y0e,wrap:J0e,headerBar:Z0e,title:ewe};function twe(){const[t,e]=yr(),n=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return s.jsxs("div",{className:fm.wrap,children:[s.jsx("div",{className:fm.headerBar,children:s.jsx("h2",{className:fm.title,children:"Calculators"})}),s.jsx("div",{className:fm.grid,children:q0e.map(r=>s.jsx("button",{className:fm.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(hi,{title:r.title,padding:"md",hover:!0,children:s.jsx(s.Fragment,{children:" "})})},r.slug))})]})}const swe=()=>s.jsx($n,{title:"Infographics (Dropdown inside page)"}),nwe=()=>s.jsx($n,{title:"Class book"}),rwe=()=>s.jsx($n,{title:"Dungeons"}),iwe=()=>s.jsx(_u,{title:"Fortress"}),awe=()=>s.jsx(_u,{title:"Fortress Calculator"}),owe="_wrap_188zo_7",lwe="_headerBar_188zo_21",cwe="_title_188zo_39",dwe="_meta_188zo_55",uwe="_description_188zo_67",Awe="_contentWrapper_188zo_83",hwe="_tableSection_188zo_97",mwe="_table_188zo_97",pwe="_infoBox_188zo_151",gwe="_sectionTitle_188zo_165",fwe="_divider_188zo_181",vwe="_uwWrap_188zo_239",xwe="_uwCard_188zo_251",ywe="_uwTitle_188zo_271",wwe="_uwTableWrap_188zo_283",bwe="_uwTable_188zo_283",_we="_uwTh_188zo_303",jwe="_uwTd_188zo_305",Cwe="_uwTdNumber_188zo_333",vn={wrap:owe,headerBar:lwe,title:cwe,meta:dwe,description:uwe,contentWrapper:Awe,tableSection:hwe,table:mwe,infoBox:pwe,sectionTitle:gwe,divider:fwe,uwWrap:vwe,uwCard:xwe,uwTitle:ywe,uwTableWrap:wwe,uwTable:bwe,uwTh:_we,uwTd:jwe,uwTdNumber:Cwe};function b6({variant:t="guidehub"}){const e=t==="underworld",n=e?vn.uwTh:void 0,r=e?`${vn.uwTh} ${vn.uwTdNumber}`:void 0,i=e?vn.uwTd:void 0,a=e?`${vn.uwTd} ${vn.uwTdNumber}`:void 0,o=s.jsx("div",{className:e?vn.uwTableWrap:void 0,children:s.jsxs("table",{className:e?vn.uwTable:vn.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:n,children:"Building"}),s.jsx("th",{className:r,children:"Level"}),s.jsx("th",{className:r,children:"Gold Cost"}),s.jsx("th",{className:r,children:"Shroom Cost"}),s.jsx("th",{className:r,children:"Wood Cost"}),s.jsx("th",{className:r,children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"10"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Laborer's Quarter"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"5"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"35"}),s.jsx("td",{className:a,children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"20"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"150"}),s.jsx("td",{className:a,children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Laborer's Quarter"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"10"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"138"}),s.jsx("td",{className:a,children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"30"}),s.jsx("td",{className:a,children:"6"}),s.jsx("td",{className:a,children:"440"}),s.jsx("td",{className:a,children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Laborer's Quarter"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"15"}),s.jsx("td",{className:a,children:"6"}),s.jsx("td",{className:a,children:"406"}),s.jsx("td",{className:a,children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"40"}),s.jsx("td",{className:a,children:"12"}),s.jsx("td",{className:a,children:"1,100"}),s.jsx("td",{className:a,children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Laborer's Quarter"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"20"}),s.jsx("td",{className:a,children:"12"}),s.jsx("td",{className:a,children:"1,015"}),s.jsx("td",{className:a,children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"5"}),s.jsx("td",{className:a,children:"50"}),s.jsx("td",{className:a,children:"24"}),s.jsx("td",{className:a,children:"2,500"}),s.jsx("td",{className:a,children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Laborer's Quarter"}),s.jsx("td",{className:a,children:"5"}),s.jsx("td",{className:a,children:"25"}),s.jsx("td",{className:a,children:"24"}),s.jsx("td",{className:a,children:"2,308"}),s.jsx("td",{className:a,children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"6"}),s.jsx("td",{className:a,children:"60"}),s.jsx("td",{className:a,children:"36"}),s.jsx("td",{className:a,children:"6,000"}),s.jsx("td",{className:a,children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Laborer's Quarter"}),s.jsx("td",{className:a,children:"6"}),s.jsx("td",{className:a,children:"30"}),s.jsx("td",{className:a,children:"36"}),s.jsx("td",{className:a,children:"5,538"}),s.jsx("td",{className:a,children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"7"}),s.jsx("td",{className:a,children:"70"}),s.jsx("td",{className:a,children:"48"}),s.jsx("td",{className:a,children:"13,417"}),s.jsx("td",{className:a,children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress"}),s.jsx("td",{className:a,children:"8"}),s.jsx("td",{className:a,children:"80"}),s.jsx("td",{className:a,children:"78"}),s.jsx("td",{className:a,children:"27,200"}),s.jsx("td",{className:a,children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Hall of Knight"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"720"}),s.jsx("td",{className:a,children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Hall of Knight"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"1,408"}),s.jsx("td",{className:a,children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Hall of Knight"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"2,640"}),s.jsx("td",{className:a,children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Hall of Knight"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"4,800"}),s.jsx("td",{className:a,children:"1,536"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Hall of Knight"}),s.jsx("td",{className:a,children:"5"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"9,600"}),s.jsx("td",{className:a,children:"3,200"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Hall of Knight"}),s.jsx("td",{className:a,children:"6"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"18,400"}),s.jsx("td",{className:a,children:"6,080"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Gem Mine"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"15"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"50"}),s.jsx("td",{className:a,children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Treasury"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"25"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"40"}),s.jsx("td",{className:a,children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Woodcutter"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"0"}),s.jsx("td",{className:a,children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Woodcutter"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"30"}),s.jsx("td",{className:a,children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Woodcutter"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"6"}),s.jsx("td",{className:a,children:"5"}),s.jsx("td",{className:a,children:"88"}),s.jsx("td",{className:a,children:"56"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Woodcutter"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"8"}),s.jsx("td",{className:a,children:"10"}),s.jsx("td",{className:a,children:"220"}),s.jsx("td",{className:a,children:"133"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Woodcutter"}),s.jsx("td",{className:a,children:"5"}),s.jsx("td",{className:a,children:"10"}),s.jsx("td",{className:a,children:"21"}),s.jsx("td",{className:a,children:"500"}),s.jsx("td",{className:a,children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Quarry"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"22"}),s.jsx("td",{className:a,children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Quarry"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"6"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"90"}),s.jsx("td",{className:a,children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Quarry"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"9"}),s.jsx("td",{className:a,children:"5"}),s.jsx("td",{className:a,children:"264"}),s.jsx("td",{className:a,children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Quarry"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"12"}),s.jsx("td",{className:a,children:"10"}),s.jsx("td",{className:a,children:"660"}),s.jsx("td",{className:a,children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Barracks"}),s.jsx("td",{className:a,children:"1"}),s.jsx("td",{className:a,children:"4"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"20"}),s.jsx("td",{className:a,children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Barracks"}),s.jsx("td",{className:a,children:"2"}),s.jsx("td",{className:a,children:"8"}),s.jsx("td",{className:a,children:"3"}),s.jsx("td",{className:a,children:"82"}),s.jsx("td",{className:a,children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Total cost"}),s.jsx("td",{className:a,children:"-"}),s.jsx("td",{className:a,children:"577"}),s.jsx("td",{className:a,children:"363"}),s.jsx("td",{className:a,children:"99,881"}),s.jsx("td",{className:a,children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Fortress Pack ressources"}),s.jsx("td",{className:a,children:"-"}),s.jsx("td",{className:a,children:"-"}),s.jsx("td",{className:a,children:"300"}),s.jsx("td",{className:a,children:"100,000"}),s.jsx("td",{className:a,children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i,children:"Left over"}),s.jsx("td",{className:a,children:"-"}),s.jsx("td",{className:a,children:"-577"}),s.jsx("td",{className:a,children:"-63"}),s.jsx("td",{className:a,children:"119"}),s.jsx("td",{className:a,children:"16,782"})]})]})]})});return e?s.jsx("div",{className:vn.uwWrap,children:s.jsxs("div",{className:vn.uwCard,children:[s.jsx("h2",{className:vn.uwTitle,children:"Fortress Build Order"}),o]})}):s.jsxs("section",{className:vn.tableSection,children:[s.jsx("h3",{className:vn.sectionTitle,children:"Fortress Build Order"}),o]})}function Swe(){return s.jsxs("div",{className:vn.wrap,children:[s.jsxs("div",{className:vn.headerBar,children:[s.jsx("h2",{className:vn.title,children:"Fortress Package skip order"}),s.jsx("span",{className:vn.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:vn.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:vn.contentWrapper,children:[s.jsx(b6,{}),s.jsxs("section",{className:vn.infoBox,children:[s.jsx("h3",{className:vn.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:vn.divider}),s.jsx("h3",{className:vn.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:vn.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const Bwe=()=>s.jsx(_u,{title:"Fortress attack duplication guide"}),Nwe=()=>s.jsx(_u,{title:"Underworld"}),kwe=()=>s.jsx(_u,{title:"Underworld Calculator"}),Iwe=()=>s.jsx(_u,{title:"Underworld Pro Package skip order"}),Ewe=()=>s.jsx($n,{title:"Arena / AM"}),Twe="_wrap_13u9w_5",Fwe="_description_13u9w_63",Lwe="_controls_13u9w_79",Rwe="_search_13u9w_83",Uwe="_tableWrap_13u9w_119",Pwe="_table_13u9w_119",Dwe="_thead_13u9w_143",Mwe="_th_13u9w_143",Qwe="_td_13u9w_167",Hwe="_tierCell_13u9w_179",Owe="_amountCell_13u9w_181",$we="_bonusCell_13u9w_183",Vwe="_tags_13u9w_185",Gwe="_tierBox_13u9w_191",Kwe="_tierIcon_13u9w_193",zwe="_tierTexts_13u9w_203",Wwe="_tierName_13u9w_215",qwe="_badge_13u9w_221",Xwe="_badgeMax_13u9w_241",Ywe="_badgeAchiev_13u9w_243",Jwe="_badgeX2_13u9w_245",Zwe="_badgeX12_13u9w_247",ebe="_badgeX60_13u9w_249",tbe="_iconHead_13u9w_255",sbe="_achievTooltip_13u9w_271",nbe="_achiev_13u9w_271",rbe="_achievImg_13u9w_275",ibe="_dataRow_13u9w_303",abe="_tierCellHover_13u9w_323",Ct={wrap:Twe,description:Fwe,controls:Lwe,search:Rwe,tableWrap:Uwe,table:Pwe,thead:Dwe,th:Mwe,td:Qwe,tierCell:Hwe,amountCell:Owe,bonusCell:$we,tags:Vwe,tierBox:Gwe,tierIcon:Kwe,tierTexts:zwe,tierName:Wwe,badge:qwe,badgeMax:Xwe,badgeAchiev:Ywe,badgeX2:Jwe,badgeX12:Zwe,badgeX60:ebe,iconHead:tbe,achievTooltip:sbe,achiev:nbe,achievImg:rbe,dataRow:ibe,tierCellHover:abe},fc={gold:"goldrune",xp:"xprune",hp:"healthrune",totalRes:"totalresrune",singleRes:"lightresrune",elem:"lightdmgrune",item:"itemqualrune",epics:"epicrune"},vm=44,U1=72,obe={Quintillion:"capitalist",Septillion:"stinkingrich",Decillion:"runemaster"};function vc({keyName:t,label:e}){const n=uo(t,vm);return s.jsx(oS,{content:e,placement:"bottom",children:s.jsx("div",{className:Ct.iconHead,children:n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:vm,height:vm,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:vm,height:vm,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()})})})}function lbe(){return s.jsx(_6,{})}function cbe({id:t,label:e}){const n=uo(t,U1);return s.jsx(oS,{content:e,placement:"bottom",className:Ct.achievTooltip,children:s.jsx("div",{className:Ct.achiev,children:n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:U1,height:U1,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:Ct.achievImg})})})}const py=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1%",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",elemDmg:"11%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",totalRes:"5%",singleRes:"14%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",elemDmg:"12%",itemQuality:"+2%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%"},{tier:"Sextillion",amount:"1 E21",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"10 E22",gold:"11%",singleRes:"17%",elemDmg:"14%",epics:"11%"},{tier:"Sextillion",amount:"100 E23",hp:"4%",totalRes:"6%",singleRes:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",elemDmg:"15%",epics:"12%"},{tier:"Septillion",amount:"10 E25",gold:"13%",xp:"3%",singleRes:"19%",elemDmg:"16%"},{tier:"Septillion",amount:"100 E26",singleRes:"20%",epics:"13%"},{tier:"Octillion",amount:"1 E27",totalRes:"7%",singleRes:"21%",elemDmg:"17%"},{tier:"Octillion",amount:"10 E28",gold:"14%",singleRes:"22%",epics:"14%"},{tier:"Octillion",amount:"100 E29",gold:"15%",elemDmg:"18%"},{tier:"Nonillion",amount:"1 E30",hp:"5%",singleRes:"23%",epics:"15%"},{tier:"Nonillion",amount:"10 E31",totalRes:"8%",singleRes:"24%",elemDmg:"19%"},{tier:"Nonillion",amount:"100 E32",gold:"16%",singleRes:"25%",elemDmg:"20%",epics:"16%"},{tier:"Decillion",amount:"1 E33",xp:"4%",singleRes:"26%"},{tier:"Decillion",amount:"10 E34",gold:"17%",totalRes:"9%",elemDmg:"21%",epics:"17%"},{tier:"Decillion",amount:"100 E35",singleRes:"27%",elemDmg:"22%"},{tier:"Undecillion",amount:"1 E36",gold:"18%",hp:"6%",singleRes:"28%",epics:"18%"},{tier:"Undecillion",amount:"10 E37",elemDmg:"23%"},{tier:"Undecillion",amount:"100 E38",gold:"19%",totalRes:"10%",singleRes:"29%",epics:"19%"},{tier:"Duodecillion",amount:"1 E39",elemDmg:"24%",note:"x2 Boost"},{tier:"Duodecillion",amount:"10 E40",gold:"20%",singleRes:"30%",elemDmg:"25%",epics:"20%"},{tier:"Duodecillion",amount:"100 E41",singleRes:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",totalRes:"11%",singleRes:"32%",elemDmg:"26%",epics:"21%"},{tier:"Tredecillion",amount:"10 E43",hp:"7%",singleRes:"33%"},{tier:"Tredecillion",amount:"100 E44",gold:"22%",singleRes:"34%",elemDmg:"27%",epics:"22%"},{tier:"Quattuordecillion",amount:"1 E45",xp:"5%",elemDmg:"28%"},{tier:"Quattuordecillion",amount:"10 E46",gold:"23%",totalRes:"12%",singleRes:"35%",epics:"23%"},{tier:"Quattuordecillion",amount:"100 E47",singleRes:"36%",elemDmg:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",epics:"24%",note:"x12 Boost"},{tier:"Quindecillion",amount:"10 E49",singleRes:"37%",elemDmg:"30%"},{tier:"Quindecillion",amount:"100 E50",gold:"25%",hp:"8%",totalRes:"13%",singleRes:"38%",itemQuality:"+3%",epics:"25%"},{tier:"Sexdecillion",amount:"1 E51",singleRes:"39%",elemDmg:"31%"},{tier:"Sexdecillion",amount:"10 E52",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"100 E53",singleRes:"40%",elemDmg:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",totalRes:"14%",singleRes:"41%",elemDmg:"33%",epics:"27%"},{tier:"Septendecillion",amount:"10 E55",xp:"6%"},{tier:"Septendecillion",amount:"100 E56",gold:"28%",hp:"9%",singleRes:"42%",elemDmg:"34%",epics:"28%"},{tier:"Octodecillion",amount:"1 E57",singleRes:"43%",elemDmg:"35%",note:"x8 Boost"},{tier:"Octodecillion",amount:"10 E58",gold:"29%",totalRes:"15%",singleRes:"44%",epics:"29%"},{tier:"Octodecillion",amount:"100 E59",singleRes:"45%",elemDmg:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",epics:"30%"},{tier:"Novendecillion",amount:"10 E61",singleRes:"46%",elemDmg:"37%"},{tier:"Novendecillion",amount:"100 E62",gold:"31%",totalRes:"19%",singleRes:"47%",epics:"31%"},{tier:"Vigintillion",amount:"1 E63",hp:"10%",singleRes:"48%",elemDmg:"38%"},{tier:"Vigintillion",amount:"10 E64",gold:"32%",singleRes:"49%",epics:"32%"},{tier:"Vigintillion",amount:"100 E65",xp:"7%",elemDmg:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",totalRes:"17%",elemDmg:"40%",epics:"33%"},{tier:"Unvigintillion",amount:"10 E67",singleRes:"50%"},{tier:"Unvigintillion",amount:"100 E68",gold:"34%",singleRes:"51%",epics:"34%"},{tier:"Duovigintillion",amount:"1 E69",singleRes:"52%",elemDmg:"41%"},{tier:"Duovigintillion",amount:"10 E70",gold:"35%",hp:"11%",totalRes:"18%",singleRes:"53%",elemDmg:"42%",itemQuality:"+4%",epics:"35%",note:"x60 Boost"},{tier:"Duovigintillion",amount:"100 E71",singleRes:"54%",elemDmg:"43%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"55%",elemDmg:"44%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"19%",elemDmg:"45%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",xp:"8%",singleRes:"56%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",singleRes:"57%",elemDmg:"46%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",hp:"12%",singleRes:"58%",elemDmg:"47%"},{tier:"Quinquavigintillion",amount:"1 E78",gold:"39%",totalRes:"20%",elemDmg:"48%",epics:"39%"},{tier:"Quinquavigintillion",amount:"10 E79",singleRes:"59%",elemDmg:"49%"},{tier:"Quinquavigintillion",amount:"100 E80",gold:"40%",singleRes:"60%",elemDmg:"50%",epics:"40%"},{tier:"Sesvigintillion",amount:"1 E81",singleRes:"61%"},{tier:"Sesvigintillion",amount:"10 E82",gold:"41%",totalRes:"21%",singleRes:"62%",elemDmg:"51%",epics:"41%"},{tier:"Sesvigintillion",amount:"100 E83"},{tier:"Septemvigintillion",amount:"1 E84",gold:"42%",hp:"13%",singleRes:"63%",elemDmg:"52%",epics:"42%"},{tier:"Septemvigintillion",amount:"10 E85",xp:"9%",singleRes:"64%"},{tier:"Septemvigintillion",amount:"100 E86",gold:"43%",totalRes:"22%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"65%",elemDmg:"53%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",singleRes:"66%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",totalRes:"23%",singleRes:"67%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",hp:"14%",singleRes:"68%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",itemQuality:"+5%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"69%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",totalRes:"24%",singleRes:"70%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",xp:"10%",singleRes:"71%",elemDmg:"56%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"72%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",hp:"15%",totalRes:"25%",singleRes:"73%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"74%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",singleRes:"75%",elemDmg:"60%",epics:"50%",note:"MAX"},{tier:"Duotrigintillion",amount:"100 E101"},{tier:"Trestrigintillion",amount:"1 E102"},{tier:"Trestrigintillion",amount:"10 E103"},{tier:"Trestrigintillion",amount:"100 E104"},{tier:"Quattuortrigintillion",amount:"1 E105"},{tier:"Quattuortrigintillion",amount:"10 E106"},{tier:"Quattuortrigintillion",amount:"100 E107"},{tier:"Quinquatrigintillion",amount:"1 E108"},{tier:"Quinquatrigintillion",amount:"10 E109"},{tier:"Quinquatrigintillion",amount:"100 E110"},{tier:"Sextrigintillion",amount:"1 E111"},{tier:"Sextrigintillion",amount:"10 E112"},{tier:"Sextrigintillion",amount:"100 E113"},{tier:"Septentrigintillion",amount:"1 E114"},{tier:"Septentrigintillion",amount:"10 E115"},{tier:"Septentrigintillion",amount:"100 E116"},{tier:"Octotrigintillion",amount:"1 E117"},{tier:"Octotrigintillion",amount:"10 E118"},{tier:"Octotrigintillion",amount:"100 E119"},{tier:"Noventrigintillion",amount:"1 E120"},{tier:"Noventrigintillion",amount:"10 E121"},{tier:"Noventrigintillion",amount:"100 E122"},{tier:"Quadragintillion",amount:"1 E123"},{tier:"Quadragintillion",amount:"10 E124"},{tier:"Quadragintillion",amount:"100 E125"},{tier:"Unquadragintillion",amount:"1 E126"},{tier:"Unquadragintillion",amount:"10 E127"},{tier:"Unquadragintillion",amount:"100 E128"},{tier:"Duoquadragintillion",amount:"1 E129"},{tier:"Duoquadragintillion",amount:"10 E130"},{tier:"Duoquadragintillion",amount:"100 E131"},{tier:"Trequadragintillion",amount:"1 E132"},{tier:"Trequadragintillion",amount:"10 E133"},{tier:"Trequadragintillion",amount:"100 E134"},{tier:"Quattuorquadragintillion",amount:"1 E135"},{tier:"Quattuorquadragintillion",amount:"10 E136"},{tier:"Quattuorquadragintillion",amount:"100 E137"},{tier:"Quinquadragintillion",amount:"1 E138"},{tier:"Quinquadragintillion",amount:"10 E139"},{tier:"Quinquadragintillion",amount:"100 E140"},{tier:"Sexquadragintillion",amount:"1 E141"},{tier:"Sexquadragintillion",amount:"10 E142"},{tier:"Sexquadragintillion",amount:"100 E143"},{tier:"Septenquadragintillion",amount:"1 E144"},{tier:"Septenquadragintillion",amount:"10 E145"},{tier:"Septenquadragintillion",amount:"100 E146"},{tier:"Octoquadragintillion",amount:"1 E147"},{tier:"Octoquadragintillion",amount:"10 E148"},{tier:"Octoquadragintillion",amount:"100 E149"},{tier:"Novenquadragintillion",amount:"1 E150"},{tier:"Novenquadragintillion",amount:"10 E151"},{tier:"Novenquadragintillion",amount:"100 E152"}];function P1(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function dbe(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function ube(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}function Abe(t){const e=t.trim().toLowerCase();return e?py.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):py}function _6(){const{t}=Gs(),[e,n]=R.useState(""),[r,i]=R.useState(null),a=Abe(e),o=R.useMemo(()=>Math.max(...py.map(d=>P1(d.amount))),[]),l=R.useMemo(()=>{const d=new Map;for(const h of a)d.has(h.tier)||d.set(h.tier,[]),d.get(h.tier).push(h);const u=Array.from(new Set(py.map(h=>h.tier)));return Array.from(d.entries()).sort((h,m)=>u.indexOf(h[0])-u.indexOf(m[0]))},[a]);return s.jsxs("div",{className:Ct.wrap,children:[s.jsx("p",{className:Ct.description,children:t("guidehub.arenaManager.amRuneBonuses.description")}),s.jsx("div",{className:Ct.controls,children:s.jsx("input",{className:Ct.search,placeholder:t("guidehub.arenaManager.amRuneBonuses.searchPlaceholder"),value:e,onChange:d=>n(d.target.value)})}),s.jsx("div",{className:Ct.tableWrap,children:s.jsxs("table",{className:Ct.table,children:[s.jsx("thead",{className:Ct.thead,children:s.jsxs("tr",{className:Ct.headRow,children:[s.jsx("th",{className:`${Ct.th} ${Ct.tierCell}`,children:t("guidehub.arenaManager.amRuneBonuses.table.tier")}),s.jsx("th",{className:`${Ct.th} ${Ct.amountCell}`,children:t("guidehub.arenaManager.amRuneBonuses.table.amount")}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.gold,label:t("guidehub.arenaManager.amRuneBonuses.table.goldBonus")})}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.xp,label:t("guidehub.arenaManager.amRuneBonuses.table.xpBonus")})}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.hp,label:t("guidehub.arenaManager.amRuneBonuses.table.hpBonus")})}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.totalRes,label:t("guidehub.arenaManager.amRuneBonuses.table.totalResistance")})}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.singleRes,label:t("guidehub.arenaManager.amRuneBonuses.table.singleResistance")})}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.elem,label:t("guidehub.arenaManager.amRuneBonuses.table.elementalDamage")})}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.item,label:t("guidehub.arenaManager.amRuneBonuses.table.improvedItemQuality")})}),s.jsx("th",{className:Ct.th,children:s.jsx(vc,{keyName:fc.epics,label:t("guidehub.arenaManager.amRuneBonuses.table.chancesOfEpics")})}),s.jsx("th",{className:Ct.th,children:t("guidehub.arenaManager.amRuneBonuses.table.tags")})]})}),s.jsx("tbody",{children:l.map(([d,u])=>{const h=Math.max(...u.map(x=>P1(x.amount))),m=t(`guidehub.arenaManager.amRuneBonuses.tiers.${d.toLowerCase()}`),g=obe[d],y=g?t(`guidehub.arenaManager.amRuneBonuses.achievements.${g}`):null;return u.map((x,C)=>{var B,S,v,w,N,_,j,k;const E=Math.abs(P1(x.amount)-o)<1e-6,T=ube(x.note);return s.jsxs("tr",{className:Ct.dataRow,onMouseEnter:()=>i(d),onMouseLeave:()=>i(null),children:[C===0&&s.jsx("td",{className:`${Ct.td} ${Ct.tierCell} ${Math.abs(h-o)<1e-6?Ct.tierMax:""} ${r===d?Ct.tierCellHover:""}`,rowSpan:u.length,children:s.jsxs("div",{className:Ct.tierBox,children:[s.jsx("div",{className:Ct.tierIcon,children:m.slice(0,1).toUpperCase()}),s.jsxs("div",{className:Ct.tierTexts,children:[s.jsx("div",{className:Ct.tierName,children:m}),g&&y&&s.jsx(cbe,{id:g,label:y})]})]})}),s.jsx("td",{className:`${Ct.td} ${Ct.amountCell}`,children:x.amount}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(B=x.gold)!=null?B:""}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(S=x.xp)!=null?S:""}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(v=x.hp)!=null?v:""}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(w=x.totalRes)!=null?w:""}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(N=x.singleRes)!=null?N:""}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(_=x.elemDmg)!=null?_:""}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(j=x.itemQuality)!=null?j:""}),s.jsx("td",{className:`${Ct.td} ${Ct.bonusCell}`,children:(k=x.epics)!=null?k:""}),s.jsxs("td",{className:`${Ct.td} ${Ct.tags}`,children:[E&&s.jsx("span",{className:`${Ct.badge} ${Ct.badgeMax}`,children:t("guidehub.arenaManager.amRuneBonuses.badges.max")}),dbe(x.note)&&s.jsx("span",{className:`${Ct.badge} ${Ct.badgeAchiev}`,children:t("guidehub.arenaManager.amRuneBonuses.badges.achievement")}),T==="x2"&&s.jsx("span",{className:`${Ct.badge} ${Ct.badgeX2}`,children:t("guidehub.arenaManager.amRuneBonuses.badges.x2")}),T==="x12"&&s.jsx("span",{className:`${Ct.badge} ${Ct.badgeX12}`,children:t("guidehub.arenaManager.amRuneBonuses.badges.x12")}),T==="x60"&&s.jsx("span",{className:`${Ct.badge} ${Ct.badgeX60}`,children:t("guidehub.arenaManager.amRuneBonuses.badges.x60")}),T==="x8"&&s.jsx("span",{className:Ct.badge,children:t("guidehub.arenaManager.amRuneBonuses.badges.x8")})]})]},`${d}-${C}`)})})})]})})]})}const hbe="_wrap_zrza7_11",mbe="_headerBar_zrza7_15",pbe="_title_zrza7_31",gbe="_meta_zrza7_33",fbe="_centerCol_zrza7_37",vbe="_text_zrza7_53",xbe="_imageBox_zrza7_55",ybe="_imageFallback_zrza7_57",wbe="_credit_zrza7_59",cl={wrap:hbe,headerBar:mbe,title:pbe,meta:gbe,centerCol:fbe,text:vbe,imageBox:xbe,imageFallback:ybe,credit:wbe};function bbe(){const{t}=Gs(),e=uo("ambuildorder"),n=R.useMemo(()=>e.id?`https://drive.google.com/thumbnail?id=${e.id}&sz=w1024`:null,[e.id]),r=R.useMemo(()=>e.id?`https://drive.google.com/uc?export=view&id=${e.id}`:null,[e.id]),i=e.thumb||null,a=n||r||i;return s.jsxs("div",{className:cl.wrap,children:[s.jsxs("div",{className:cl.headerBar,children:[s.jsx("h2",{className:cl.title,children:t("guidehub.arenaManager.buildOrder.title")}),s.jsx("span",{className:cl.meta,children:t("guidehub.arenaManager.buildOrder.updated",{date:"30.11.2024"})})]}),s.jsxs("div",{className:cl.centerCol,children:[s.jsxs("div",{className:cl.text,children:[s.jsx("p",{children:t("guidehub.arenaManager.buildOrder.body1")}),s.jsx("p",{dangerouslySetInnerHTML:{__html:t("guidehub.arenaManager.buildOrder.body2",{mushrooms:"<strong>4300 Mushrooms</strong>"})}})]}),a?s.jsx("div",{className:cl.imageBox,children:s.jsx("img",{src:a,alt:t("guidehub.arenaManager.buildOrder.imageAlt"),loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:cl.imageFallback,children:"??"}),s.jsx("p",{className:cl.credit,children:t("guidehub.arenaManager.buildOrder.credit",{discord:"SF Tavern Discord"})})]})]})}const _be=()=>s.jsx($n,{title:"Hellevator Guide"}),jbe=()=>s.jsx($n,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),Cbe="_foCalc_18a5w_3",Sbe="_panel_18a5w_211",Bbe="_panelHead_18a5w_227",Nbe="_panelTitle_18a5w_241",kbe="_controls_18a5w_243",Ibe="_ctrlLabel_18a5w_245",Ebe="_ctrlSelect_18a5w_249",Tbe="_tableWrap_18a5w_291",Fbe="_table_18a5w_291",Lbe="_th_18a5w_305",Rbe="_td_18a5w_321",Ube="_row_18a5w_333",Pbe="_note_18a5w_335",zn={foCalc:Cbe,panel:Sbe,panelHead:Bbe,panelTitle:Nbe,controls:kbe,ctrlLabel:Ibe,ctrlSelect:Ebe,tableWrap:Tbe,table:Fbe,th:Lbe,td:Rbe,row:Ube,note:Pbe},j6={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},Wn=(t,e=0)=>t*3600+e*60,he=[Wn(0,15),Wn(0,31),Wn(1,6),Wn(2,20),Wn(5,0),Wn(8,0),Wn(11,25),Wn(18,27),Wn(40,0),Wn(87,16),Wn(190,46),Wn(320,0),Wn(480,0),Wn(615,33),Wn(800,0)],Es=[Wn(1054,17),Wn(1122,51),Wn(1245,42),Wn(1343,20),Wn(1440,0)],Dbe={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:he[0]},{level:2,wood:150,stone:50,gold:20,timeSec:he[1]},{level:3,wood:440,stone:140,gold:30,timeSec:he[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:he[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:he[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:he[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:he[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:he[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:he[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:he[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:he[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:he[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:he[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:he[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:he[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:Es[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:Es[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:Es[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:Es[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:Es[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:he[0]},{level:2,wood:138,stone:46,gold:10,timeSec:he[1]},{level:3,wood:406,stone:129,gold:15,timeSec:he[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:he[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:he[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:he[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:he[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:he[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:he[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:he[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:he[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:he[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:he[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:he[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:he[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:he[0]},{level:2,wood:28,stone:37,gold:14,timeSec:he[1]},{level:3,wood:81,stone:103,gold:21,timeSec:he[2]},{level:4,wood:203,stone:246,gold:28,timeSec:he[3]},{level:5,wood:462,stone:591,gold:35,timeSec:he[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:he[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:he[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:he[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:he[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:he[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:he[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:he[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:he[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:he[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:he[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:Es[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:Es[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:Es[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:Es[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:Es[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:he[0]},{level:2,wood:160,stone:53,gold:50,timeSec:he[1]},{level:3,wood:469,stone:149,gold:75,timeSec:he[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:he[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:he[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:he[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:he[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:he[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:he[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:he[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:he[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:he[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:he[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:he[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:he[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:he[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:he[0]},{level:2,wood:200,stone:67,gold:30,timeSec:he[1]},{level:3,wood:587,stone:187,gold:45,timeSec:he[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:he[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:he[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:he[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:he[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:he[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:he[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:he[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:he[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:he[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:he[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:he[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:he[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:Es[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:Es[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:Es[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:Es[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:Es[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:Wn(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:he[0]},{level:2,wood:30,stone:20,gold:4,timeSec:he[1]},{level:3,wood:88,stone:56,gold:6,timeSec:he[2]},{level:4,wood:220,stone:133,gold:8,timeSec:he[3]},{level:5,wood:500,stone:320,gold:10,timeSec:he[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:he[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:he[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:he[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:he[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:he[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:he[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:he[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:he[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:he[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:he[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:Es[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:Es[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:Es[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:Es[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:Es[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:he[0]},{level:2,wood:90,stone:16,gold:6,timeSec:he[1]},{level:3,wood:264,stone:45,gold:9,timeSec:he[2]},{level:4,wood:660,stone:107,gold:12,timeSec:he[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:he[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:he[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:he[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:he[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:he[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:he[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:he[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:he[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:he[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:he[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:he[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:Es[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:Es[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:Es[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:Es[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:Es[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:he[0]},{level:2,wood:82,stone:55,gold:8,timeSec:he[1]},{level:3,wood:240,stone:153,gold:12,timeSec:he[2]},{level:4,wood:600,stone:364,gold:16,timeSec:he[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:he[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:he[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:he[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:he[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:he[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:he[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:he[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:he[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:he[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:he[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:he[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:he[0]},{level:2,wood:100,stone:33,gold:8,timeSec:he[1]},{level:3,wood:293,stone:93,gold:12,timeSec:he[2]},{level:4,wood:733,stone:222,gold:16,timeSec:he[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:he[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:he[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:he[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:he[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:he[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:he[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:he[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:he[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:he[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:he[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:he[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:Es[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:Es[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:Es[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:Es[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:Es[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:he[0]},{level:2,wood:240,stone:61,gold:12,timeSec:he[1]},{level:3,wood:675,stone:205,gold:18,timeSec:he[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:he[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:he[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:he[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:he[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:he[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:he[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:he[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:he[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:he[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:he[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:he[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:he[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:he[0]},{level:2,wood:164,stone:27,gold:10,timeSec:he[1]},{level:3,wood:480,stone:76,gold:15,timeSec:he[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:he[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:he[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:he[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:he[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:he[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:he[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:he[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:he[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:he[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:he[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:he[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:he[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:he[0]},{level:2,wood:120,stone:53,gold:30,timeSec:he[1]},{level:3,wood:352,stone:149,gold:45,timeSec:he[2]},{level:4,wood:880,stone:356,gold:60,timeSec:he[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:he[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:he[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:he[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:he[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:he[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:he[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:he[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:he[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:he[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:he[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:he[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:Es[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:Es[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:Es[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:Es[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:Es[4]}]}},Mbe=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],Qbe="fortress",Hbe={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function Obe(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function $be(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,a=o=>o.toString().padStart(2,"0");return`${a(n)}:${a(r)}:${a(i)}`}const C6=()=>{const{t}=Gs(),[e,n]=R.useState(Qbe),[r,i]=R.useState(1),a=R.useMemo(()=>{var g;const u=Hbe[e],h=j6[u],m=(g=h==null?void 0:h.id)!=null?g:h;return mu.gifProxy(m)||mu.gif(m)||""},[e]),o=R.useMemo(()=>{var u,h;return(h=(u=Dbe[e])==null?void 0:u.costs)!=null?h:[]},[e]),l=R.useMemo(()=>Obe(r),[r]),d=t(`guidehub.calculators.fortress.buildings.${e}`);return s.jsxs("div",{className:`${zn.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:t("guidehub.calculators.fortress.inputs.buildingSelectLabel")}),s.jsx("select",{className:"tabSelect",value:e,onChange:u=>n(u.target.value),children:Mbe.map(u=>s.jsx("option",{value:u.key,children:t(`guidehub.calculators.fortress.buildings.${u.key}`)},u.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:a?s.jsx("img",{src:a,alt:d}):null}),s.jsxs("div",{className:zn.panel,children:[s.jsxs("div",{className:zn.panelHead,children:[s.jsx("div",{className:zn.panelTitle,children:t("guidehub.calculators.fortress.title",{building:d})}),s.jsxs("div",{className:zn.controls,children:[s.jsx("span",{className:zn.ctrlLabel,children:t("guidehub.calculators.fortress.inputs.l2Label")}),s.jsx("select",{className:zn.ctrlSelect,value:r,onChange:u=>i(parseInt(u.target.value,10)),children:Array.from({length:16},(u,h)=>h).map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsx("div",{className:zn.tableWrap,children:s.jsxs("table",{className:zn.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:zn.th,children:t("guidehub.calculators.fortress.table.level")}),s.jsx("th",{className:zn.th,children:t("guidehub.calculators.fortress.table.wood")}),s.jsx("th",{className:zn.th,children:t("guidehub.calculators.fortress.table.stone")}),s.jsx("th",{className:zn.th,children:t("guidehub.calculators.fortress.table.buildTimeL2")}),s.jsx("th",{className:zn.th,children:t("guidehub.calculators.fortress.table.skip")})]})}),s.jsx("tbody",{children:o.map(u=>{var y,x,C,E,T,B,S;const h=(y=u.timeSec)!=null?y:0,m=Math.round(h*(1-l)),g=Math.ceil(Math.ceil(m/60)/10);return s.jsxs("tr",{className:zn.row,children:[s.jsx("td",{className:zn.td,children:u.level}),s.jsx("td",{className:zn.td,children:(E=(C=(x=u.wood)==null?void 0:x.toLocaleString)==null?void 0:C.call(x))!=null?E:u.wood}),s.jsx("td",{className:zn.td,children:(S=(B=(T=u.stone)==null?void 0:T.toLocaleString)==null?void 0:B.call(T))!=null?S:u.stone}),s.jsx("td",{className:zn.td,children:$be(m)}),s.jsx("td",{className:zn.td,children:g.toLocaleString()})]},u.level)})})]})}),s.jsx("div",{className:zn.note,children:t("guidehub.calculators.fortress.hints.l2Effect")})]})]})]})},Vbe="_uwCalc_64lws_3",Gbe="_panel_64lws_211",Kbe="_panelHead_64lws_227",zbe="_panelTitle_64lws_241",Wbe="_controls_64lws_243",qbe="_ctrlLabel_64lws_245",Xbe="_ctrlSelect_64lws_251",Ybe="_tableWrap_64lws_295",Jbe="_table_64lws_295",Zbe="_th_64lws_309",e1e="_td_64lws_325",t1e="_row_64lws_337",s1e="_note_64lws_339",En={uwCalc:Vbe,panel:Gbe,panelHead:Kbe,panelTitle:zbe,controls:Wbe,ctrlLabel:qbe,ctrlSelect:Xbe,tableWrap:Ybe,table:Jbe,th:Zbe,td:e1e,row:t1e,note:s1e},Z3={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},n1e={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function r1e(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function i1e(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60;return{h:r,m:i,s:a}}function a1e(t){const{h:e,m:n,s:r}=i1e(t),i=a=>String(a).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function o1e(t,e){var i,a;const n=r1e(e);return((a=(i=n1e[t])==null?void 0:i.costs)!=null?a:[]).map(o=>{const l=o.timeSec*(1-n),d=Math.ceil(Math.ceil(l/60)/10);return{...o,timeAdjSec:l,skipMushroomsAdj:d}})}const l1e=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],S6=()=>{const{t}=Gs(),[e,n]=R.useState("hearthofdarkngif"),[r,i]=R.useState(1),a=R.useMemo(()=>{var m;const u=j6[e],h=(m=u==null?void 0:u.id)!=null?m:u;return mu.gifProxy(h)||mu.gif(h)||""},[e]),o=R.useMemo(()=>{var u;return(u=Z3[e])!=null?u:"hearthofdarkn"},[e]),l=t(`guidehub.calculators.underworld.buildings.${o}`),d=R.useMemo(()=>o1e(o,r),[o,r]);return s.jsxs("div",{className:En.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:t("guidehub.calculators.underworld.inputs.buildingSelectLabel")}),s.jsx("select",{className:"tabSelect",value:e,onChange:u=>n(u.target.value),children:l1e.map(u=>{var h;return s.jsx("option",{value:u,children:t(`guidehub.calculators.underworld.buildings.${(h=Z3[u])!=null?h:"hearthofdarkn"}`)},u)})})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:a?s.jsx("img",{src:a,alt:l}):null}),s.jsxs("div",{className:En.panel,children:[s.jsxs("div",{className:En.panelHead,children:[s.jsx("div",{className:En.panelTitle,children:t("guidehub.calculators.underworld.title",{building:l})}),s.jsxs("div",{className:En.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:En.ctrlLabel,children:t("guidehub.calculators.underworld.inputs.l2Label")}),s.jsx("select",{id:"uw-l2",className:En.ctrlSelect,value:r,onChange:u=>i(parseInt(u.target.value,10)),children:Array.from({length:15},(u,h)=>h+1).map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsx("div",{className:En.tableWrap,children:s.jsxs("table",{className:En.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:En.th,children:t("guidehub.calculators.underworld.table.level")}),s.jsx("th",{className:En.th,children:t("guidehub.calculators.underworld.table.soul")}),s.jsx("th",{className:En.th,children:t("guidehub.calculators.underworld.table.gold")}),s.jsx("th",{className:En.th,children:t("guidehub.calculators.underworld.table.buildTimeL2")}),s.jsx("th",{className:En.th,children:t("guidehub.calculators.underworld.table.skip")})]})}),s.jsx("tbody",{children:d.length===0?s.jsx("tr",{className:En.row,children:s.jsx("td",{className:En.td,colSpan:5,children:t("guidehub.calculators.underworld.empty")})}):d.map(u=>s.jsxs("tr",{className:En.row,children:[s.jsx("td",{className:En.td,children:u.level}),s.jsx("td",{className:En.td,children:u.soul}),s.jsx("td",{className:En.td,children:u.gold}),s.jsx("td",{className:En.td,children:a1e(u.timeAdjSec)}),s.jsx("td",{className:En.td,children:u.skipMushroomsAdj})]},u.level))})]})}),s.jsx("p",{className:En.note,children:t("guidehub.calculators.underworld.hints.l2Effect")})]})]})]})},c1e=()=>s.jsx($n,{title:"Max Item Stats Calculator"}),d1e="_wrap_mnr0g_1",u1e="_card_mnr0g_13",A1e="_title_mnr0g_33",h1e="_form_mnr0g_45",m1e="_field_mnr0g_57",p1e="_input_mnr0g_71",g1e="_gemsRow_mnr0g_87",f1e="_gemBox_mnr0g_101",v1e="_disabled_mnr0g_127",x1e="_gemImg_mnr0g_135",y1e="_gemFallback_mnr0g_149",w1e="_normalGem_mnr0g_165",b1e="_blackGem_mnr0g_173",_1e="_legendaryGem_mnr0g_181",j1e="_gemLabel_mnr0g_189",C1e="_gemValue_mnr0g_199",S1e="_hint_mnr0g_211",Ds={wrap:d1e,card:u1e,title:A1e,form:h1e,field:m1e,input:p1e,gemsRow:g1e,gemBox:f1e,disabled:v1e,gemImg:x1e,gemFallback:y1e,normalGem:w1e,blackGem:b1e,legendaryGem:_1e,gemLabel:j1e,gemValue:C1e,hint:S1e},B1e={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},N1e=.25,gy=t=>Math.round(Number.isFinite(t)?t:0);function k1e(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const E=e*N1e*(1+(n-1)*.25)+r/3;return gy(E)}const{A:i,B:a,C:o,D:l,E:d,F:u,G:h,H:m,I:g,J:y}=B1e,C=i+a*e+o/n+l*e**2+d/n**2+u*e/n+h*e**3+m/n**3+g*e/n**2+y*e**2/n+r/3;return gy(C)}function I1e(t){return gy(t*(2/3))}function E1e(t){return gy(t)}const D1={char:1e3,mine:100,hok:1e3},dS=({initialState:t,onStateChange:e})=>{var E,T,B;const{t:n}=Gs(),[r,i]=R.useState((E=t==null?void 0:t.charLevel)!=null?E:""),[a,o]=R.useState((T=t==null?void 0:t.mineLevel)!=null?T:""),[l,d]=R.useState((B=t==null?void 0:t.guildHoKLevel)!=null?B:""),u=(S,v,w)=>{e&&(typeof S!="number"||typeof v!="number"||typeof w!="number"||e({charLevel:S,mineLevel:v,guildHoKLevel:w}))},h=R.useMemo(()=>r===""||a===""||l===""?null:k1e({charLevel:Number(r),mineLevel:Number(a),guildHoK:Number(l)}),[r,a,l]),m=R.useMemo(()=>h==null?null:I1e(h),[h]),g=R.useMemo(()=>h==null?null:E1e(h),[h]),y=su("luckbig"),x=su("blackbig"),C=su("legendarybig");return s.jsx("div",{className:Ds.wrap,children:s.jsxs("div",{className:Ds.card,children:[s.jsx("h2",{className:Ds.title,children:n("calculators.gem.title",{defaultValue:"Gem Calculator"})}),s.jsxs("div",{className:Ds.form,children:[s.jsxs("label",{className:Ds.field,children:[s.jsx("span",{children:n("calculators.gem.inputs.charLevel.label",{defaultValue:"Char Level"})}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ds.input,placeholder:n("calculators.gem.inputs.charLevel.placeholder",{defaultValue:"e.g., 360"}),value:r,onChange:S=>{const v=S.currentTarget.value;if(v===""){i("");return}const w=Number(v),N=Number.isFinite(w)?w:"";i(N),u(N,a,l)},max:D1.char})]}),s.jsxs("label",{className:Ds.field,children:[s.jsx("span",{children:n("calculators.gem.inputs.mineLevel.label",{defaultValue:"Mine Level"})}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ds.input,placeholder:n("calculators.gem.inputs.mineLevel.placeholder",{defaultValue:"e.g., 10"}),value:a,onChange:S=>{const v=S.currentTarget.value;if(v===""){o("");return}const w=Number(v),N=Number.isFinite(w)?w:"";o(N),u(r,N,l)},max:D1.mine})]}),s.jsxs("label",{className:Ds.field,children:[s.jsx("span",{children:n("calculators.gem.inputs.guildHok.label",{defaultValue:"Guild HoK"})}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ds.input,placeholder:n("calculators.gem.inputs.guildHok.placeholder",{defaultValue:"e.g., 840"}),value:l,onChange:S=>{const v=S.currentTarget.value;if(v===""){d("");return}const w=Number(v),N=Number.isFinite(w)?w:"";d(N),u(r,a,N)},max:D1.hok})]})]}),s.jsxs("div",{className:Ds.gemsRow,children:[s.jsxs("div",{className:`${Ds.gemBox} ${h==null?Ds.disabled:""}`,children:[y?s.jsx("img",{className:Ds.gemImg,src:y,alt:n("calculators.gem.gems.normal.alt",{defaultValue:"Normal Gem"})}):s.jsx("div",{className:`${Ds.gemFallback} ${Ds.normalGem}`}),s.jsx("div",{className:Ds.gemLabel,children:n("calculators.gem.gems.normal.label",{defaultValue:"Normal"})}),s.jsx("div",{className:Ds.gemValue,children:h!=null?h:"-"})]}),s.jsxs("div",{className:`${Ds.gemBox} ${m==null?Ds.disabled:""}`,children:[x?s.jsx("img",{className:Ds.gemImg,src:x,alt:n("calculators.gem.gems.black.alt",{defaultValue:"Black Gem"})}):s.jsx("div",{className:`${Ds.gemFallback} ${Ds.blackGem}`}),s.jsx("div",{className:Ds.gemLabel,children:n("calculators.gem.gems.black.label",{defaultValue:"Black"})}),s.jsx("div",{className:Ds.gemValue,children:m!=null?m:"-"})]}),s.jsxs("div",{className:`${Ds.gemBox} ${g==null?Ds.disabled:""}`,children:[C?s.jsx("img",{className:Ds.gemImg,src:C,alt:n("calculators.gem.gems.legendary.alt",{defaultValue:"Legendary Gem"})}):s.jsx("div",{className:`${Ds.gemFallback} ${Ds.legendaryGem}`}),s.jsx("div",{className:Ds.gemLabel,children:n("calculators.gem.gems.legendary.label",{defaultValue:"Legendary"})}),s.jsx("div",{className:Ds.gemValue,children:g!=null?g:"-"})]})]}),s.jsxs("p",{className:Ds.hint,children:[n("calculators.gem.hint.prefix",{defaultValue:"The values are approximations and represent the "}),s.jsx("em",{children:n("calculators.gem.hint.emphasis",{defaultValue:"max possible"})}),n("calculators.gem.hint.suffix",{defaultValue:" you can find. Actual results may vary slightly."})]})]})})},T1e="_container_19zdf_1",F1e="_headerBar_19zdf_13",L1e="_title_19zdf_31",R1e="_meta_19zdf_47",U1e="_description_19zdf_59",xm={container:T1e,headerBar:F1e,title:L1e,meta:R1e,description:U1e},B6=({title:t,meta:e,description:n})=>s.jsxs("header",{className:xm.container,children:[s.jsxs("div",{className:xm.headerBar,children:[s.jsx("h2",{className:xm.title,children:t}),e&&s.jsx("span",{className:xm.meta,children:e})]}),n&&s.jsx("p",{className:xm.description,children:n})]}),P1e=()=>s.jsxs(s.Fragment,{children:[s.jsx(B6,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:s.jsxs(s.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]})}),s.jsx(dS,{})]}),D1e="_wrapper_1mksb_1",M1e="_gridContainer_1mksb_11",Q1e="_rowOne_1mksb_23",H1e="_rowTwo_1mksb_35",O1e="_cardWrapper_1mksb_43",$1e="_controls_1mksb_51",V1e="_resetNote_1mksb_65",G1e="_panel_1mksb_75",K1e="_header_1mksb_91",z1e="_title_1mksb_105",W1e="_resetBtn_1mksb_117",q1e="_table_1mksb_137",X1e="_row_1mksb_23",Y1e="_name_1mksb_179",J1e="_selectCell_1mksb_189",Z1e="_sumCell_1mksb_207",e_e="_footer_1mksb_219",t_e="_footerLine_1mksb_239",s_e="_resultStack_1mksb_265",n_e="_resultLevel_1mksb_279",r_e="_resultLevelLabel_1mksb_295",i_e="_resultLevelSecondary_1mksb_309",a_e="_resultXP_1mksb_323",o_e="_note_1mksb_333",Ts={wrapper:D1e,gridContainer:M1e,rowOne:Q1e,rowTwo:H1e,cardWrapper:O1e,controls:$1e,resetNote:V1e,panel:G1e,header:K1e,title:z1e,resetBtn:W1e,table:q1e,row:X1e,name:Y1e,selectCell:J1e,sumCell:Z1e,footer:e_e,footerLine:t_e,resultStack:s_e,resultLevel:n_e,resultLevelLabel:r_e,resultLevelSecondary:i_e,resultXP:a_e,note:o_e};function l_e(t,e,n){var o;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let a=0;for(let l=r;l<=i;l++)a+=(o=t[l])!=null?o:0;return a}function c_e(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function us(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const d_e=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:us([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:us([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:us([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:us([54764113,57660160,60696773,63853128,67159972,70595045,74191870,77926126,81832831,90125436],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:us([31862139,36305620,42016588,47615630,54764113,61727510,70595045,79213665,90125436,100672054],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:us([11412835,15166093,20723258,27343418,36987473,48459828,63853128,83158305,103875282,128778486],10)},{key:"light_19_easteros",name:"19 Easteros",levels:us([90125436,105514978,123067419,143018630,165631756,191202824,220033230,252458197,288853442,3e8],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:us([94521325,99114456,103875282,108847145,113997992,119373368,124939452,130745487,136754704,143018630],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:us([113997992,126854805,143018630,158537364,178017293,196694080,220033230,242313317,270120546,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:us([14222021,26302843,45958126,83158305,123067419,191202824,288853442,3e8,3e8,3e8],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:us([160885033,196694080,242313317,296636662,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:us([14222021,26302843,45958126,83158305,123067419,191202824,288853442,3e8,3e8,3e8],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)}],u_e=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:us([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:us([165631756,175491135,185838637,196694080,208088681,220033230,232549429,245671462,259411408,288853422],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:us([220033230,239036142,259411408,281239819,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:us([119373368,163232702,220033230,296636662,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_19_easteros",name:"Easteros",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:us([153964246,288853442,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:us([153964246,288853442,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:us([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)}],e4=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],A_e=(()=>{const t=[0,...e4],e=1e3-e4.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),h_e=us([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),m_e=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),_l={light:d_e.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:u_e.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:A_e,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:h_e,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:m_e,specialType:"sandstorm"}]},fy=t=>t.toLocaleString("en-US"),p_e=t=>Math.round(t/15e8*100)/100,N6=t=>p_e(t).toFixed(2),ap=(t,e,n)=>e>n?0:l_e(t,e,n);function t4(){const t={},e={},n={};return _l.light.forEach(r=>t[r.key]={from:0,to:0}),_l.shadow.forEach(r=>e[r.key]={from:0,to:0}),t.light_23_school_of_magic_express={from:1,to:10},t.light_24_nordic_gods={from:9,to:10},t.light_25_ash_mountain={from:9,to:10},t.light_26_playa_hq={from:7,to:10},t.light_27_mount_olympus={from:7,to:10},t.light_28_monster_grotto={from:1,to:10},t.light_29_arcade_of_the_old_pixel_icons={from:1,to:10},e.shadow_16_the_3rd_league_of_superheroes={from:1,to:10},e.shadow_17_time_honored_school_of_magic={from:1,to:10},e.shadow_18_hemorridor={from:3,to:10},e.shadow_19_easteros={from:6,to:10},e.shadow_20_dojo_of_childhood_heroes={from:1,to:10},e.shadow_21_tavern_of_the_dark_doppelgangers={from:1,to:3},e.shadow_22_city_of_intrigues={from:1,to:10},e.shadow_23_school_of_magic_express={from:1,to:5},e.shadow_24_nordic_gods={from:1,to:5},e.shadow_25_ash_mountain={from:1,to:5},e.shadow_26_playa_hq={from:1,to:10},e.shadow_27_mount_olympus={from:1,to:2},_l.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:6,to:15}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function k6({row:t,range:e,onChange:n}){var d,u;const r=R.useMemo(()=>c_e(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,a=(u=e.to)!=null?u:0,o=R.useMemo(()=>i===0?r:r.filter(h=>h>=i),[i,r]),l=R.useMemo(()=>i===0||a===0?0:ap(t.levels,i,a),[t.levels,i,a]);return s.jsxs("tr",{className:Ts.row,children:[s.jsx("td",{className:Ts.name,children:t.name}),s.jsx("td",{className:Ts.selectCell,children:s.jsx("select",{value:i,onChange:h=>{const m=Number(h.target.value),g=m>a?m:a;n({from:m,to:g})},children:r.map(h=>s.jsx("option",{value:h,children:h===0?"":h},h))})}),s.jsx("td",{className:Ts.selectCell,children:s.jsx("select",{value:a,onChange:h=>n({from:i,to:Number(h.target.value)}),children:o.map(h=>s.jsx("option",{value:h,children:h===0?"":h},h))})}),s.jsxs("td",{className:Ts.sumCell,children:[fy(l)," XP"]})]})}function s4({title:t,rows:e,ranges:n,setRanges:r}){const i=R.useMemo(()=>e.reduce((a,o)=>{const l=n[o.key]||{from:0,to:0};return a+ap(o.levels,l.from,l.to)},0),[e,n]);return s.jsxs("div",{className:Ts.panel,children:[s.jsx("div",{className:Ts.header,children:s.jsx("div",{className:Ts.title,children:t})}),s.jsxs("table",{className:Ts.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(a=>{var o;return s.jsx(k6,{row:a,range:(o=n[a.key])!=null?o:{from:0,to:0},onChange:l=>r(a.key,l)},a.key)})})]}),s.jsx("div",{className:Ts.footer,children:s.jsxs("div",{className:Ts.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{className:Ts.resultStack,children:[s.jsxs("span",{className:Ts.resultXP,children:[fy(i)," XP"]}),s.jsxs("span",{className:Ts.resultLevelSecondary,children:["Level ",N6(i)]})]})]})})]})}function uS({initialState:t,onStateChange:e}){var B,S,v;const n=R.useMemo(()=>t4(),[]),[r,i]=R.useState((B=t==null?void 0:t.light)!=null?B:n.light),[a,o]=R.useState((S=t==null?void 0:t.shadow)!=null?S:n.shadow),[l,d]=R.useState((v=t==null?void 0:t.special)!=null?v:n.special),u=(w,N,_)=>{e&&e({light:w,shadow:N,special:_})},h=(w,N)=>{i(_=>{const j={..._,[w]:N};return u(j,a,l),j})},m=(w,N)=>{o(_=>{const j={..._,[w]:N};return u(r,j,l),j})},g=(w,N)=>{d(_=>{const j={..._,[w]:N};return u(r,a,j),j})};R.useEffect(()=>{var w,N,_;if(t){i((w=t.light)!=null?w:n.light),o((N=t.shadow)!=null?N:n.shadow),d((_=t.special)!=null?_:n.special);return}i(n.light),o(n.shadow),d(n.special)},[t,n]);const y=R.useMemo(()=>_l.light.reduce((w,N)=>{const _=r[N.key];return w+(_?ap(N.levels,_.from,_.to):0)},0),[r]),x=R.useMemo(()=>_l.shadow.reduce((w,N)=>{const _=a[N.key];return w+(_?ap(N.levels,_.from,_.to):0)},0),[a]),C=R.useMemo(()=>_l.special.reduce((w,N)=>{const _=l[N.key];return w+(_?ap(N.levels,_.from,_.to):0)},0),[l]),E=y+x+C,T=()=>{const w=t4();i(w.light),o(w.shadow),d(w.special),u(w.light,w.shadow,w.special)};return s.jsxs("div",{className:Ts.wrapper,children:[s.jsxs("div",{className:Ts.controls,children:[s.jsx("button",{className:Ts.resetBtn,onClick:T,children:"Reset"}),s.jsx("span",{className:Ts.resetNote,children:"Resets all selections to defaults."})]}),s.jsxs("div",{className:Ts.gridContainer,children:[s.jsxs("div",{className:Ts.rowOne,children:[s.jsx("div",{className:Ts.cardWrapper,children:s.jsx(s4,{title:"Light World",rows:_l.light,ranges:r,setRanges:h})}),s.jsx("div",{className:Ts.cardWrapper,children:s.jsx(s4,{title:"Shadow World",rows:_l.shadow,ranges:a,setRanges:m})})]}),s.jsx("div",{className:Ts.rowTwo,children:s.jsxs("div",{className:Ts.panel,children:[s.jsx("div",{className:Ts.header,children:s.jsx("div",{className:Ts.title,children:"Special Dungeons"})}),s.jsxs("table",{className:Ts.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:_l.special.map(w=>{var N;return s.jsx(k6,{row:w,range:(N=l[w.key])!=null?N:{from:0,to:0},onChange:_=>g(w.key,_)},w.key)})})]}),s.jsxs("div",{className:Ts.footer,children:[s.jsxs("div",{className:Ts.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[fy(C)," XP"]})]}),s.jsxs("div",{className:Ts.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{className:Ts.resultStack,children:[s.jsxs("span",{className:Ts.resultXP,children:[fy(E)," XP"]}),s.jsxs("span",{className:Ts.resultLevel,children:[s.jsx("span",{className:Ts.resultLevelLabel,children:"Level"})," ",N6(E)]})]})]}),s.jsx("div",{className:Ts.note,children:"XP values are summed per selection and converted to level using the project formula."})]})]})})]})]})}function g_e(){return s.jsx("div",{style:{padding:12},children:s.jsx(uS,{})})}const f_e=()=>s.jsx($n,{title:"Progression  Early Game"}),v_e="_wrap_n2poq_31",x_e="_title_n2poq_33",y_e="_infoBox_n2poq_39",w_e="_infoTitle_n2poq_63",b_e="_infoList_n2poq_73",__e="_section_n2poq_89",j_e="_h2_n2poq_101",C_e="_h3_n2poq_103",S_e="_intro_n2poq_105",B_e="_ul_n2poq_107",N_e="_img_n2poq_113",an={wrap:v_e,title:x_e,infoBox:y_e,infoTitle:w_e,infoList:b_e,section:__e,h2:j_e,h3:C_e,intro:S_e,ul:B_e,img:N_e},k_e=()=>{yr();const t=[su("first-weekend-guide-day1",900),su("first-weekend-guide-day2",900),su("first-weekend-guide-day3",900)];return s.jsxs("div",{className:an.wrap,children:[s.jsx("h1",{className:an.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:an.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:an.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:an.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:an.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:an.section,children:[s.jsx("h2",{className:an.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:an.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:an.section,children:[s.jsx("h2",{className:an.h2,children:"Day 1"}),s.jsx("h3",{className:an.h3,children:"Level 13"}),s.jsxs("ul",{className:an.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:an.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:an.section,children:[s.jsx("h3",{className:an.h3,children:"Level 410"}),s.jsxs("ul",{className:an.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:an.section,children:[s.jsx("h2",{className:an.h2,children:"Day 2"}),s.jsx("h3",{className:an.h3,children:"Level 1015"}),s.jsxs("ul",{className:an.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:an.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:an.section,children:[s.jsx("h2",{className:an.h2,children:"Day 3"}),s.jsx("h3",{className:an.h3,children:"Level 1520"}),s.jsxs("ul",{className:an.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:an.img,src:t[2],alt:"Day 3 overview"})]})]})},I_e=()=>s.jsx($n,{title:"Max Item Stats Calculator"}),E_e=()=>s.jsx($n,{title:"Fortress Package skip order (Early)"}),T_e=()=>s.jsx($n,{title:"Underworld Pro Package skip order (Early)"}),F_e=()=>s.jsx($n,{title:"Gem Calculator (Early)"}),L_e=()=>s.jsx($n,{title:"Fortress attack duplication guide (Early)"}),R_e=()=>s.jsx($n,{title:"Progression  Mid Game"}),U_e="_wrap_1x7jo_31",P_e="_header_1x7jo_35",D_e="_titles_1x7jo_55",M_e="_h1_1x7jo_57",Q_e="_lead_1x7jo_59",H_e="_ctaRow_1x7jo_63",O_e="_cta_1x7jo_63",$_e="_section_1x7jo_85",V_e="_sectionGrid_1x7jo_87",G_e="_card_1x7jo_99",K_e="_h2_1x7jo_103",z_e="_h3_1x7jo_105",W_e="_p_1x7jo_107",q_e="_ul_1x7jo_111",X_e="_ol_1x7jo_111",Y_e="_figure_1x7jo_117",J_e="_figureNarrow_1x7jo_139",Z_e="_img_1x7jo_149",eje="_fallbackImg_1x7jo_151",tje="_figCaption_1x7jo_159",sje="_tableWrap_1x7jo_163",nje="_table_1x7jo_163",rje="_footer_1x7jo_217",ije="_tools_1x7jo_219",aje="_toolBtn_1x7jo_221",js={wrap:U_e,header:P_e,titles:D_e,h1:M_e,lead:Q_e,ctaRow:H_e,cta:O_e,section:$_e,sectionGrid:V_e,card:G_e,h2:K_e,h3:z_e,p:W_e,ul:q_e,ol:X_e,figure:Y_e,figureNarrow:J_e,img:Z_e,fallbackImg:eje,figCaption:tje,tableWrap:sje,table:nje,footer:rje,tools:ije,toolBtn:aje},oje=1400;function lje(){const t=R.useMemo(()=>su("goldxpcurve",oje),[]);return s.jsxs("div",{className:js.wrap,children:[s.jsxs("header",{className:js.header,children:[s.jsxs("div",{className:js.titles,children:[s.jsx("h1",{className:js.h1,children:"Dungeon Pause"}),s.jsx("p",{className:js.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:js.ctaRow,children:[s.jsx(Ys,{className:js.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(Ys,{className:js.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:js.section,children:[s.jsx("h2",{className:js.h2,children:"Worum gehts?"}),s.jsxs("p",{className:js.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:js.section,children:[s.jsx("h3",{className:js.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${js.figure} ${js.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:js.img}):s.jsx("div",{className:js.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:js.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:js.sectionGrid,children:[s.jsxs("div",{className:js.card,children:[s.jsx("h3",{className:js.h3,children:"Start & Ende"}),s.jsxs("ul",{className:js.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:js.card,children:[s.jsx("h3",{className:js.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:js.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:js.section,children:[s.jsx("h3",{className:js.h3,children:"Vorgehen"}),s.jsxs("ol",{className:js.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:js.section,children:[s.jsx("h3",{className:js.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:js.tableWrap,children:s.jsxs("table",{className:js.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:js.footer,children:s.jsxs("div",{className:js.tools,children:[s.jsx(Ys,{className:js.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(Ys,{className:js.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const cje=()=>s.jsx($n,{title:"Dungeon Pause open XP Calculator"}),dje="_wrap_1uhww_3",uje="_headerBar_1uhww_15",Aje="_title_1uhww_33",hje="_meta_1uhww_45",mje="_description_1uhww_55",pje="_section_1uhww_69",gje="_sectionTitle_1uhww_77",fje="_steps_1uhww_87",So={wrap:dje,headerBar:uje,title:Aje,meta:hje,description:mje,section:pje,sectionTitle:gje,steps:fje};function vje(){return s.jsxs("div",{className:So.wrap,children:[s.jsxs("div",{className:So.headerBar,children:[s.jsx("h2",{className:So.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:So.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:So.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:So.section,children:[s.jsx("h3",{className:So.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:So.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:So.section,children:[s.jsx("h3",{className:So.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const xje=()=>s.jsx($n,{title:"Gem Calculator (Mid)"}),yje=()=>s.jsx($n,{title:"Calendar Skip"}),wje=()=>s.jsx($n,{title:"Progression  Late Game"}),bje="_layout_13sgm_29",_je="_side_13sgm_49",jje="_sideHead_13sgm_61",Cje="_search_13sgm_71",Sje="_spotBtn_13sgm_89",Bje="_sideList_13sgm_109",Nje="_sideItem_13sgm_111",kje="_active_13sgm_119",Ije="_sideTitle_13sgm_121",Eje="_ico_13sgm_123",Tje="_badge_13sgm_125",Fje="_detail_13sgm_139",Lje="_detailInner_13sgm_141",Rje="_detailHead_13sgm_143",Uje="_detailTitle_13sgm_145",Pje="_empty_13sgm_147",Dje="_grid_13sgm_151",Mje="_card_13sgm_157",Qje="_cardHead_13sgm_175",Hje="_btnGrid_13sgm_177",Oje="_itemBtn_13sgm_179",$je="_spotWrap_13sgm_203",Vje="_spot_13sgm_89",Gje="_spotHead_13sgm_227",Kje="_spotSearch_13sgm_235",zje="_spotClose_13sgm_243",Wje="_spotList_13sgm_253",qje="_spotItem_13sgm_255",Xje="_spotItemEmpty_13sgm_259",Yje="_spotCat_13sgm_261",Jje="_spotLabel_13sgm_263",Zje="_mark_13sgm_267",fs={layout:bje,side:_je,sideHead:jje,search:Cje,spotBtn:Sje,sideList:Bje,sideItem:Nje,active:kje,sideTitle:Ije,ico:Eje,badge:Tje,detail:Fje,detailInner:Lje,detailHead:Rje,detailTitle:Uje,empty:Pje,grid:Dje,card:Mje,cardHead:Qje,btnGrid:Hje,itemBtn:Oje,spotWrap:$je,spot:Vje,spotHead:Gje,spotSearch:Kje,spotClose:zje,spotList:Wje,spotItem:qje,spotItemEmpty:Xje,spotCat:Yje,spotLabel:Jje,mark:Zje};function e2e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ym(t,e){if(!e)return t;const n=new RegExp(`(${e2e(e)})`,"ig");return t.replace(n,`<mark class="${fs.mark}">$1</mark>`)}function n4(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function t2e(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(o=>o.sub2&&o.sub2.length))for(const o of i.sub2)if(o.sub2&&o.sub2.length)for(const l of o.sub2)e.push({full:`${r}  ${i.label}  ${o.label}  ${l.label}`,catKey:n.key,subKey:i.key,sub2Key:l.key});else e.push({full:`${r}  ${i.label}  ${o.label}`,catKey:n.key,subKey:i.key,sub2Key:o.key});else for(const o of i.sub2)e.push({full:`${r}  ${i.label}  ${o.label}`,catKey:n.key,subKey:i.key,sub2Key:o.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function s2e(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const n2e=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=R.useState(()=>{var B;return((B=t==null?void 0:t[0])==null?void 0:B.key)||""}),[a,o]=R.useState(""),[l,d]=R.useState(!1),u=R.useRef(null),h=R.useMemo(()=>{const B=a.trim().toLowerCase();if(!B)return t;const S=v=>v.toLowerCase().includes(B);return t.map(v=>{const w=S(v.label),N=[];for(const _ of v.sub||[]){const j=S(_.label);if(_.sub2&&_.sub2.length)if(_.sub2.some(U=>U.sub2&&U.sub2.length)){const U=[];for(const I of _.sub2)if(I.sub2&&I.sub2.length){const P=I.sub2.filter(L=>S(L.label));P.length&&U.push({...I,sub2:P})}else S(I.label)&&U.push(I);(j||U.length)&&N.push({..._,sub2:U})}else{const U=_.sub2.filter(I=>S(I.label));(j||U.length)&&N.push({..._,sub2:U})}else j&&N.push(_)}return w||N.length?{...v,sub:N.length?N:v.sub}:null}).filter(Boolean)},[t,a]),m=R.useMemo(()=>{const B=h.length?h:t,S=s2e(B,r);return B.find(v=>v.key===S)||B[0]||null},[h,t,r]),g=R.useMemo(()=>t2e(t),[t]),[y,x]=R.useState(""),C=R.useMemo(()=>{const B=y.trim().toLowerCase();return B?g.filter(S=>S.full.toLowerCase().includes(B)):g},[g,y]);R.useEffect(()=>{const B=S=>{const v=S.key.toLowerCase()==="k";(S.metaKey||S.ctrlKey)&&v&&(S.preventDefault(),d(!0),setTimeout(()=>{var w;return(w=u.current)==null?void 0:w.focus()},0)),S.key==="Escape"&&d(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[]);const E=R.useRef(null);R.useEffect(()=>{var B;n&&((B=E.current)==null||B.focus())},[n]);const T=()=>{var N;const B=a.trim().toLowerCase(),S=(B?g.find(_=>_.full.toLowerCase().includes(B)):g[0])||null;if(S){e({tab:S.catKey,sub:S.subKey,sub2:S.sub2Key});return}const v=m,w=(N=v==null?void 0:v.sub)==null?void 0:N[0];if(!(!v||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(j=>j.sub2&&j.sub2.length)){const j=w.sub2[0];j.sub2&&j.sub2.length?e({tab:v.key,sub:w.key,sub2:j.sub2[0].key}):e({tab:v.key,sub:w.key,sub2:j.key})}else e({tab:v.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:v.key,sub:w.key})};return s.jsxs("div",{className:fs.layout,children:[s.jsxs("div",{className:fs.side,children:[s.jsxs("div",{className:fs.sideHead,children:[s.jsx("input",{ref:E,className:fs.search,type:"search",placeholder:"Suche",value:a,onChange:B=>o(B.target.value),onKeyDown:B=>{B.key==="Enter"&&T()}}),s.jsx("button",{className:fs.spotBtn,type:"button",onClick:()=>{d(!0),setTimeout(()=>{var B;return(B=u.current)==null?void 0:B.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:fs.sideList,children:(h.length?h:t).map(B=>s.jsxs("div",{className:`${fs.sideItem} ${(m==null?void 0:m.key)===B.key?fs.active:""}`,onClick:()=>i(B.key),children:[s.jsxs("span",{className:fs.sideTitle,children:[B.icon?s.jsx("span",{className:fs.ico,"aria-hidden":!0,children:B.icon}):null,B.label]}),s.jsx("span",{className:fs.badge,children:n4(B.sub)})]},B.key))})]}),s.jsx("div",{className:fs.detail,children:m?s.jsxs("div",{className:fs.detailInner,children:[s.jsxs("div",{className:fs.detailHead,children:[s.jsxs("h3",{className:fs.detailTitle,children:[m.icon?s.jsx("span",{className:fs.ico,"aria-hidden":!0,children:m.icon}):null,m.label]}),s.jsxs("div",{className:fs.badge,children:[n4(m.sub)," Eintrge"]})]}),s.jsx("div",{className:fs.grid,children:(m.sub||[]).map(B=>{const S=B.sub2&&B.sub2.length>0,v=S&&B.sub2.some(w=>w.sub2&&w.sub2.length);return s.jsxs("div",{className:fs.card,children:[s.jsx("div",{className:fs.cardHead,dangerouslySetInnerHTML:{__html:ym(B.label,a)}}),S?s.jsx("div",{className:fs.btnGrid,children:v?B.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(N=>s.jsx("button",{className:fs.itemBtn,onClick:()=>e({tab:m.key,sub:B.key,sub2:N.key}),dangerouslySetInnerHTML:{__html:ym(`${w.label}  ${N.label}`,a)}},`${w.key}__${N.key}`)):[s.jsx("button",{className:fs.itemBtn,onClick:()=>e({tab:m.key,sub:B.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:ym(w.label,a)}},w.key)]):B.sub2.map(w=>s.jsx("button",{className:fs.itemBtn,onClick:()=>e({tab:m.key,sub:B.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:ym(w.label,a)}},w.key))}):s.jsx("div",{className:fs.btnGrid,children:s.jsx("button",{className:fs.itemBtn,onClick:()=>e({tab:m.key,sub:B.key}),dangerouslySetInnerHTML:{__html:ym(B.label,a)}})})]},B.key)})}),a&&m.sub&&m.sub.length>0&&m.sub.every(B=>!B.sub2||!B.sub2.length?!B.label.toLowerCase().includes(a.trim().toLowerCase()):B.sub2.some(v=>v.sub2&&v.sub2.length)?B.sub2.every(v=>v.sub2&&v.sub2.length?v.sub2.every(w=>!w.label.toLowerCase().includes(a.trim().toLowerCase())):!v.label.toLowerCase().includes(a.trim().toLowerCase())):B.sub2.every(v=>!v.label.toLowerCase().includes(a.trim().toLowerCase())))?s.jsxs("div",{className:fs.empty,children:["Keine Treffer in ",m.label,"."]}):null]}):s.jsx("div",{className:fs.empty,children:"Keine Kategorie gefunden."})}),l&&s.jsx("div",{className:fs.spotWrap,onClick:()=>d(!1),children:s.jsxs("div",{className:fs.spot,onClick:B=>B.stopPropagation(),children:[s.jsxs("div",{className:fs.spotHead,children:[s.jsx("input",{ref:u,className:fs.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:y,onChange:B=>x(B.target.value)}),s.jsx("button",{className:fs.spotClose,onClick:()=>d(!1),children:"Esc"})]}),s.jsx("div",{className:fs.spotList,children:C.length===0?s.jsx("div",{className:fs.spotItemEmpty,children:"Keine Treffer"}):C.map((B,S)=>s.jsxs("div",{className:fs.spotItem,onClick:()=>{d(!1),e({tab:B.catKey,sub:B.subKey,sub2:B.sub2Key})},children:[s.jsx("div",{className:fs.spotCat,children:B.catKey}),s.jsx("div",{className:fs.spotLabel,children:B.full})]},S))})]})})]})},r2e={gamefeatures:V0e,progression:G0e,hellevator:K0e,"legendary-dungeon":z0e,events:W0e,calculators:twe,infographics:swe,"class-book":nwe,dungeons:rwe},r4={gamefeatures:{fortress:iwe,underworld:Nwe,arenaam:Ewe},hellevator:{"hellevator-guide":_be},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":jbe},calculators:{"fortress-calculator":C6,"underworld-calculator":S6,"max-item-stats-calculator":c1e,"gem-calculator":P1e,"dungeon-pause-open-xp-calculator":g_e},progression:{early:f_e,mid:R_e,late:wje}},M1={gamefeatures:{arenaam:{"am-rune-bonuses":lbe,"am-build-order":bbe},underworld:{"underworld-calculator":kwe,"underworld-pro-package-skip-order":Iwe},fortress:{"fortress-calculator":awe,"fortress-package-skip-order":Swe,"fortress-attack-duplication":Bwe}},progression:{early:{"first-weekend-guide":k_e,"max-item-stats-calculator":I_e,"fortress-package-skip-order":E_e,"underworld-pro-package-skip-order":T_e,"gem-calculator":F_e,"fortress-attack-duplication":L_e},mid:{"dungeon-pause":lje,"dungeon-pause-open-xp-calculator":cje,"dungeon-pause-exit":vje,"gem-calculator":xje,"calendar-skip":yje}}};function i2e(){const[t,e]=yr(),n=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let a=null;n?n&&!r?a=r2e[n]||null:n&&r&&!i?a=r4[n]&&r4[n][r]||null:n&&r&&i&&(a=M1[n]&&M1[n][r]&&M1[n][r][i]||null):a=null;const o=l=>{const d=new URLSearchParams(t);d.set("tab",l.tab),l.sub?d.set("sub",l.sub):d.delete("sub"),l.sub2?d.set("sub2",l.sub2):d.delete("sub2"),e(d,{replace:!1})};return s.jsxs(As,{children:[s.jsx("div",{className:mA.topWrap,children:s.jsx(P0e,{logoSrc:WC,categories:iu,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:mA.divider}),s.jsx("div",{className:mA.contentArea,children:a?s.jsx(a,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:mA.placeholder,children:[s.jsx("h2",{className:mA.placeholderTitle,children:"Guides"}),s.jsx("p",{className:mA.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(n2e,{categories:iu,onNavigate:o,autoFocusSearch:!1})]})})]})}const a2e="modulepreload",o2e=function(t){return"/"+t},i4={},At=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=d(n.map(u=>{if(u=o2e(u),u in i4)return;i4[u]=!0;const h=u.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":a2e,h||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((y,x)=>{g.addEventListener("load",y),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Q1=Object.assign({"../../content/guidehub-v2/de/calculators/dungeon-pause-open-xp-calculator/index.md":()=>At(()=>import("./index-BccBAByF.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/calculators/fortress-calculator/index.md":()=>At(()=>import("./index-Cyz1Q9ly.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/calculators/gem-calculator/index.md":()=>At(()=>import("./index-Bzwi2WKw.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/calculators/index.md":()=>At(()=>import("./index-Bj-2sk9C.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/calculators/max-item-stats-calculator/index.md":()=>At(()=>import("./index-VIKJeLo2.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/calculators/underworld-calculator/index.md":()=>At(()=>import("./index-B1ZmDA31.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/class-book/index.md":()=>At(()=>import("./index-CM6ckwNB.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/events/hellevator/hellevator-guide.md":()=>At(()=>import("./hellevator-guide-CSuvFlly.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/events/hellevator/index.md":()=>At(()=>import("./index-C8RGTfnk.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/events/index.md":()=>At(()=>import("./index-B8qQ1zkH.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/events/legendary-dungeon/index.md":()=>At(()=>import("./index-BSyGjv3f.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/events/legendary-dungeon/legendary-dungeon-guide-epics-legendaries.md":()=>At(()=>import("./legendary-dungeon-guide-epics-legendaries-Bush_y1j.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/arenaam/am-build-order.md":()=>At(()=>import("./am-build-order-CbkuUWAg.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/arenaam/am-rune-bonuses.md":()=>At(()=>import("./am-rune-bonuses-DthFi9NV.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/arenaam/index.md":()=>At(()=>import("./index-swq29ovJ.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/fortress/fortress-attack-duplication.md":()=>At(()=>import("./fortress-attack-duplication-dO_fjrWc.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/fortress/fortress-calculator.md":()=>At(()=>import("./fortress-calculator-oChNdHV0.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/fortress/fortress-package-skip-order.md":()=>At(()=>import("./fortress-package-skip-order-dIpYHLyt.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/fortress/index.md":()=>At(()=>import("./index-CxcVn1-f.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/index.md":()=>At(()=>import("./index-D1Z6jRml.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/underworld/index.md":()=>At(()=>import("./index-C7gSE_OQ.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/underworld/underworld-calculator.md":()=>At(()=>import("./underworld-calculator-B-QJcbJo.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/gamefeatures/underworld/underworld-pro-package-skip-order.md":()=>At(()=>import("./underworld-pro-package-skip-order-BPBlsGqH.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/home.md":()=>At(()=>import("./home-CpWCkAMy.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/infographics/index.md":()=>At(()=>import("./index-Bq-ZhXgC.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/early/first-weekend-guide.md":()=>At(()=>import("./first-weekend-guide-ByGMUoW8.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/early/fortress-attack-duplication.md":()=>At(()=>import("./fortress-attack-duplication-DO2y3c6F.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/early/fortress-package-skip-order.md":()=>At(()=>import("./fortress-package-skip-order-yRqDN5dU.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/early/gem-calculator.md":()=>At(()=>import("./gem-calculator-O_9f14l2.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/early/index.md":()=>At(()=>import("./index-SSi3aA8C.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/early/max-item-stats-calculator.md":()=>At(()=>import("./max-item-stats-calculator-C0xzNTgN.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/early/underworld-pro-package-skip-order.md":()=>At(()=>import("./underworld-pro-package-skip-order-v6hmJBRZ.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/index.md":()=>At(()=>import("./index-BbODEWMa.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/late/index.md":()=>At(()=>import("./index-DNzHOCOW.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/mid/calendar-skip.md":()=>At(()=>import("./calendar-skip-BUyRUAXw.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/mid/dungeon-pause-exit.md":()=>At(()=>import("./dungeon-pause-exit-B5IFUcUm.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/mid/dungeon-pause-open-xp-calculator.md":()=>At(()=>import("./dungeon-pause-open-xp-calculator-D8V5pOUU.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/mid/gem-calculator.md":()=>At(()=>import("./gem-calculator-BSbXOrQl.js"),[]).then(t=>t.default),"../../content/guidehub-v2/de/progression/mid/index.md":()=>At(()=>import("./index-C7G1cFaF.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/calculators/dungeon-pause-open-xp-calculator/index.md":()=>At(()=>import("./index-Dh8XH0bw.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/calculators/fortress-calculator/index.md":()=>At(()=>import("./index-Q6Nc81Sw.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/calculators/gem-calculator/index.md":()=>At(()=>import("./index-DMwsmNS8.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/calculators/index.md":()=>At(()=>import("./index-CVPSESMR.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/calculators/max-item-stats-calculator/index.md":()=>At(()=>import("./index-BrqJGpac.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/calculators/underworld-calculator/index.md":()=>At(()=>import("./index-C4KmCqeJ.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/class-book/index.md":()=>At(()=>import("./index-D-MLvn0d.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/events/hellevator/hellevator-guide.md":()=>At(()=>import("./hellevator-guide-BiVEfiVG.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/events/hellevator/index.md":()=>At(()=>import("./index-C5svQqJ3.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/events/index.md":()=>At(()=>import("./index-Bk41PZMs.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/events/legendary-dungeon/index.md":()=>At(()=>import("./index-C-0okAmy.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/events/legendary-dungeon/legendary-dungeon-guide-epics-legendaries.md":()=>At(()=>import("./legendary-dungeon-guide-epics-legendaries-6x37v76n.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/arenaam/am-build-order.md":()=>At(()=>import("./am-build-order-DrZTZN4Y.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/arenaam/am-rune-bonuses.md":()=>At(()=>import("./am-rune-bonuses-CHSsVUFd.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/arenaam/index.md":()=>At(()=>import("./index-DSdlq0WB.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/fortress/fortress-attack-duplication.md":()=>At(()=>import("./fortress-attack-duplication-COz0aNOt.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/fortress/fortress-calculator.md":()=>At(()=>import("./fortress-calculator-B8Y-Jqe7.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/fortress/fortress-package-skip-order.md":()=>At(()=>import("./fortress-package-skip-order-DD-OFNyA.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/fortress/index.md":()=>At(()=>import("./index-pW6nTut-.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/index.md":()=>At(()=>import("./index-Buci9R0c.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/underworld/index.md":()=>At(()=>import("./index-BBKqkJkB.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/underworld/underworld-calculator.md":()=>At(()=>import("./underworld-calculator-DlMcBkpX.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/gamefeatures/underworld/underworld-pro-package-skip-order.md":()=>At(()=>import("./underworld-pro-package-skip-order-mti9NSZl.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/home.md":()=>At(()=>import("./home-BDNnNlKn.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/infographics/index.md":()=>At(()=>import("./index-Hr_u-pc5.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/early/first-weekend-guide.md":()=>At(()=>import("./first-weekend-guide-B-dpwGXG.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/early/fortress-attack-duplication.md":()=>At(()=>import("./fortress-attack-duplication-CIDaqJ_q.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/early/fortress-package-skip-order.md":()=>At(()=>import("./fortress-package-skip-order-wmG25680.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/early/gem-calculator.md":()=>At(()=>import("./gem-calculator-CC2DMWQa.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/early/index.md":()=>At(()=>import("./index-CwLKLdCz.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/early/max-item-stats-calculator.md":()=>At(()=>import("./max-item-stats-calculator-DLnYXe6u.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/early/underworld-pro-package-skip-order.md":()=>At(()=>import("./underworld-pro-package-skip-order-DJsAcroK.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/index.md":()=>At(()=>import("./index-UGKl7Bwz.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/late/index.md":()=>At(()=>import("./index-MqIV6usH.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/mid/calendar-skip.md":()=>At(()=>import("./calendar-skip-BpANE0x7.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/mid/dungeon-pause-exit.md":()=>At(()=>import("./dungeon-pause-exit-bXq3IZPW.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/mid/dungeon-pause-open-xp-calculator.md":()=>At(()=>import("./dungeon-pause-open-xp-calculator-AMOhwByC.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/mid/gem-calculator.md":()=>At(()=>import("./gem-calculator-DXl-gr4a.js"),[]).then(t=>t.default),"../../content/guidehub-v2/en/progression/mid/index.md":()=>At(()=>import("./index-LZ44SvgE.js"),[]).then(t=>t.default)}),H1=new Map,a4={title:"",category:"",status:"work_in_progress",gallery:[]};function l2e(t){return t==="up_to_date"||t==="work_in_progress"||t==="outdated"}function op(t){const e=t.trim();return e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e}function c2e(t){const e=t.trim();return e?e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1).split(",").map(r=>op(r).trim()).filter(Boolean):[op(e)].filter(Boolean):[]}function d2e(t){var l;const e=t.replace(/^\uFEFF/,""),n=e.match(/^---\r?\n([\s\S]*?)\r?\n---\r?\n?/);if(!n)return{frontmatter:{...a4},body:e};const r={...a4},i=n[1].split(/\r?\n/);let a=null;for(const d of i){const u=d.trim();if(!u)continue;const h=u.match(/^-+\s+(.*)$/);if(a==="gallery"&&h){r.gallery.push(op(h[1]));continue}const m=u.match(/^([a-zA-Z0-9_]+)\s*:\s*(.*)$/);if(!m)continue;const g=m[1],y=(l=m[2])!=null?l:"";if(a=g,g==="gallery"){r.gallery=c2e(y);continue}if(g==="status"){const x=op(y);l2e(x)&&(r.status=x);continue}(g==="title"||g==="category")&&(r[g]=op(y))}const o=e.slice(n[0].length);return{frontmatter:r,body:o}}function o4(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function O1(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $1(t){let e=o4(t);return e=e.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(n,r,i)=>{const a=O1(String(r!=null?r:""));return`<img src="${O1(String(i!=null?i:""))}" alt="${a}" />`}),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(n,r,i)=>{const a=o4(String(r!=null?r:"")),o=O1(String(i!=null?i:"")),d=/^https?:\/\//i.test(i)?' target="_blank" rel="noopener noreferrer"':"";return`<a href="${o}"${d}>${a}</a>`}),e=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),e=e.replace(/\*([^*]+)\*/g,"<em>$1</em>"),e}function u2e(t){return t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function A2e(t){const e=t.split(/\r?\n/),n=[],r=[],i=new Set;let a=!1;const o=()=>{a&&(n.push("</ul>"),a=!1)},l=u=>{let h=u,m=1;for(;i.has(h);)h=`${u}-${m}`,m+=1;return i.add(h),h},d=u=>{const h=u.match(/\s*\{#([a-zA-Z0-9\-_]+)\}\s*$/);return h?{text:u.replace(h[0],"").trimEnd(),anchor:h[1]}:{text:u,anchor:null}};for(const u of e){const h=u.trim();if(!h){o();continue}const m=h.match(/^\[\[embed:([a-z0-9-_]+)\]\]$/i);if(m){o();const C=m[1].toLowerCase();n.push(`<div data-embed="${C}"></div>`);continue}const g=h.match(/^\[\[asset:([a-z0-9-_]+)\]\]$/i);if(g){o();const C=g[1].toLowerCase();n.push(`<div data-asset="${C}"></div>`);continue}if(h==="---"||h==="***"){o(),n.push("<hr />");continue}const y=h.match(/^(#{1,3})\s+(.*)$/);if(y){o();const C=y[1].length,E=y[2].trim(),{text:T,anchor:B}=d(E),S=$1(T),v=B||u2e(T)||"section";if(C===2){const w=l(v);r.push({id:w,text:T}),n.push(`<h2 id="${w}">${S}</h2>`)}else if(C===1)if(B){const w=l(v);n.push(`<h1 id="${w}">${S}</h1>`)}else n.push(`<h1>${S}</h1>`);else if(B){const w=l(v);n.push(`<h3 id="${w}">${S}</h3>`)}else n.push(`<h3>${S}</h3>`);continue}const x=h.match(/^-+\s+(.*)$/);if(x){a||(n.push("<ul>"),a=!0),n.push(`<li>${$1(x[1])}</li>`);continue}o(),n.push(`<p>${$1(h)}</p>`)}return o(),{html:n.join(`
`),toc:r}}function l4(t,e){const{tab:n,sub:r,sub2:i}=e;return!n&&!r&&!i?`../../content/guidehub-v2/${t}/home.md`:n&&!r&&!i?`../../content/guidehub-v2/${t}/${n}/index.md`:n&&r&&!i?`../../content/guidehub-v2/${t}/${n}/${r}/index.md`:n&&r&&i?`../../content/guidehub-v2/${t}/${n}/${r}/${i}.md`:`../../content/guidehub-v2/${t}/home.md`}async function h2e(t,e){var i,a,o;const n=`${e}:${(i=t.tab)!=null?i:""}:${(a=t.sub)!=null?a:""}:${(o=t.sub2)!=null?o:""}`;if(H1.has(n))return H1.get(n);const r=(async()=>{const l=l4(e,t),d=l4("en",t),u=Q1[l]||Q1[d];if(!u)return null;const h=await u(),{frontmatter:m,body:g}=d2e(h),{html:y,toc:x}=A2e(g),C=Q1[l]?e:"en";return{id:t.sub2||t.sub||t.tab||"home",lang:C,frontmatter:m,body:g,html:y,toc:x}})();return H1.set(n,r),r}const m2e="_wrap_1ck4m_1",p2e="_card_1ck4m_13",g2e="_title_1ck4m_33",f2e="_section_1ck4m_45",v2e="_sectionHeader_1ck4m_59",x2e="_grid_1ck4m_75",y2e="_field_1ck4m_87",w2e="_input_1ck4m_101",b2e="_select_1ck4m_103",_2e="_readonly_1ck4m_119",j2e="_controlsRow_1ck4m_135",C2e="_checkbox_1ck4m_149",S2e="_resultsGrid_1ck4m_165",B2e="_resultCard_1ck4m_177",N2e="_resultLabel_1ck4m_199",k2e="_resultValue_1ck4m_209",I2e="_note_1ck4m_221",Ht={wrap:m2e,card:p2e,title:g2e,section:f2e,sectionHeader:v2e,grid:x2e,field:y2e,input:w2e,select:b2e,readonly:_2e,controlsRow:j2e,checkbox:C2e,resultsGrid:S2e,resultCard:B2e,resultLabel:N2e,resultValue:k2e,note:I2e},I6=350,c4={a:.001756211,b:1.04214299},V1={a:.00182949,b:1.11599,c:18.08035},kv={normal1:{below:2,above:1.25},normal2:{below:2,above:5/3},epic3:{below:1.2,above:1},epic5:{below:1,above:5/6}},d4={offset:20,multiplier:1.2},u4=10,E2e=3,A4=[{key:"light",label:"Light",multiplier:3},{key:"medium",label:"Medium",multiplier:7.5},{key:"heavy",label:"Heavy",multiplier:15}],h4=[{key:"melee",label:"Melee",multiplier:1},{key:"ranged",label:"Ranged",multiplier:1.25},{key:"magic",label:"Magic",multiplier:2.25}],Iv={cap:1e3,baseOffset:1,baseMultiplier:2},Ud=(t,e=0)=>t==null||Number.isNaN(t)?"-":new Intl.NumberFormat("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}).format(t),G1=t=>{if(t.trim()==="")return"";const e=Number(t);return Number.isFinite(e)?e:""},T2e=t=>c4.a*t*t+c4.b*t,Ev=(t,e)=>t<I6?t*e.below:T2e(t)*e.above,F2e=t=>t<I6?(t+d4.offset)*d4.multiplier:V1.a*t*t+V1.b*t+V1.c,L2e=t=>{const e=Math.min(t,Iv.cap),n=Math.max(t-Iv.cap,0);return(Iv.baseOffset+e)*Iv.baseMultiplier+n},R2e=()=>{var H,O,z,G;const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,a]=R.useState(""),[o,l]=R.useState(0),[d,u]=R.useState("light"),[h,m]=R.useState("melee"),[g,y]=R.useState(!1),[x,C]=R.useState(!1),E=typeof t=="number"?t:null,T=R.useMemo(()=>{if(typeof n!="number"||typeof i!="number")return null;const $=1+o/100;return(n+i+E2e)*$},[n,i,o]),B=R.useMemo(()=>E==null?null:Ev(E,kv.normal1),[E]),S=R.useMemo(()=>E==null?null:Ev(E,kv.normal2),[E]),v=R.useMemo(()=>E==null?null:Ev(E,kv.epic3),[E]),w=R.useMemo(()=>E==null?null:Ev(E,kv.epic5),[E]),N=R.useMemo(()=>E==null?null:F2e(E),[E]),_=(O=(H=A4.find($=>$.key===d))==null?void 0:H.multiplier)!=null?O:0,j=E==null?null:E+(g?u4:0),k=j==null?null:j*_,U=(G=(z=h4.find($=>$.key===h))==null?void 0:z.multiplier)!=null?G:0,I=E==null?null:E+(x?u4:0),P=I==null?null:L2e(I),L=P==null?null:P*U;return s.jsx("div",{className:Ht.wrap,children:s.jsxs("div",{className:Ht.card,children:[s.jsx("h2",{className:Ht.title,children:"Max Item Stats Calculator"}),s.jsxs("div",{className:Ht.section,children:[s.jsx("div",{className:Ht.sectionHeader,children:"Inputs"}),s.jsxs("div",{className:Ht.grid,children:[s.jsxs("label",{className:Ht.field,children:[s.jsx("span",{children:"Item Quality"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ht.input,placeholder:"e.g., 266",value:t,onChange:$=>e(G1($.currentTarget.value))})]}),s.jsxs("label",{className:Ht.field,children:[s.jsx("span",{children:"Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ht.input,placeholder:"e.g., 460",value:n,onChange:$=>r(G1($.currentTarget.value))})]}),s.jsxs("label",{className:Ht.field,children:[s.jsx("span",{children:"Aura"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Ht.input,placeholder:"e.g., 181",value:i,onChange:$=>a(G1($.currentTarget.value))})]}),s.jsxs("label",{className:Ht.field,children:[s.jsx("span",{children:"Item Quality Rune %"}),s.jsx("select",{className:Ht.select,value:o,onChange:$=>l(Number($.currentTarget.value)),children:Array.from({length:6},($,Y)=>Y).map($=>s.jsxs("option",{value:$,children:[$,"%"]},$))})]}),s.jsxs("div",{className:Ht.field,children:[s.jsx("span",{children:"Theoretical Item Quality"}),s.jsx("div",{className:Ht.readonly,children:T==null?"-":Math.floor(T).toLocaleString("en-US")})]})]})]}),s.jsxs("div",{className:Ht.section,children:[s.jsx("div",{className:Ht.sectionHeader,children:"Item Quality Stats"}),s.jsxs("div",{className:Ht.resultsGrid,children:[s.jsxs("div",{className:Ht.resultCard,children:[s.jsx("div",{className:Ht.resultLabel,children:"Normal Item 1 stat"}),s.jsx("div",{className:Ht.resultValue,children:Ud(B)})]}),s.jsxs("div",{className:Ht.resultCard,children:[s.jsx("div",{className:Ht.resultLabel,children:"Normal Item 2 stat"}),s.jsx("div",{className:Ht.resultValue,children:Ud(S)})]}),s.jsxs("div",{className:Ht.resultCard,children:[s.jsx("div",{className:Ht.resultLabel,children:"3 Stat Epic"}),s.jsx("div",{className:Ht.resultValue,children:Ud(v)})]}),s.jsxs("div",{className:Ht.resultCard,children:[s.jsx("div",{className:Ht.resultLabel,children:"5 Stat Epic"}),s.jsx("div",{className:Ht.resultValue,children:Ud(w)})]}),s.jsxs("div",{className:Ht.resultCard,children:[s.jsx("div",{className:Ht.resultLabel,children:"Legendary"}),s.jsx("div",{className:Ht.resultValue,children:Ud(N)})]})]})]}),s.jsxs("div",{className:Ht.section,children:[s.jsx("div",{className:Ht.sectionHeader,children:"Armor"}),s.jsxs("div",{className:Ht.controlsRow,children:[s.jsxs("label",{className:Ht.field,children:[s.jsx("span",{children:"Armor Type"}),s.jsx("select",{className:Ht.select,value:d,onChange:$=>u($.currentTarget.value),children:A4.map($=>s.jsx("option",{value:$.key,children:$.label},$.key))})]}),s.jsxs("label",{className:Ht.checkbox,children:[s.jsx("input",{type:"checkbox",checked:g,onChange:$=>y($.currentTarget.checked)}),"Legendary"]})]}),s.jsx("div",{className:Ht.resultsGrid,children:s.jsxs("div",{className:Ht.resultCard,children:[s.jsx("div",{className:Ht.resultLabel,children:"Max Armor"}),s.jsx("div",{className:Ht.resultValue,children:Ud(k)})]})})]}),s.jsxs("div",{className:Ht.section,children:[s.jsx("div",{className:Ht.sectionHeader,children:"Average Weapon Damage"}),s.jsxs("div",{className:Ht.controlsRow,children:[s.jsxs("label",{className:Ht.field,children:[s.jsx("span",{children:"Weapon Type"}),s.jsx("select",{className:Ht.select,value:h,onChange:$=>m($.currentTarget.value),children:h4.map($=>s.jsx("option",{value:$.key,children:$.label},$.key))})]}),s.jsxs("label",{className:Ht.checkbox,children:[s.jsx("input",{type:"checkbox",checked:x,onChange:$=>C($.currentTarget.checked)}),"Legendary"]})]}),s.jsx("div",{className:Ht.resultsGrid,children:s.jsxs("div",{className:Ht.resultCard,children:[s.jsx("div",{className:Ht.resultLabel,children:"Average Weapon DMG"}),s.jsx("div",{className:Ht.resultValue,children:Ud(L)})]})})]}),s.jsx("div",{className:Ht.note,children:"All values represent the maximum possible results based on the selected inputs."})]})})},U2e="_wrap_16vzl_1",P2e="_card_16vzl_13",D2e="_title_16vzl_33",M2e="_subtle_16vzl_45",Q2e="_controls_16vzl_57",H2e="_field_16vzl_73",O2e="_select_16vzl_87",$2e="_tableWrap_16vzl_103",V2e="_table_16vzl_103",G2e="_th_16vzl_123",K2e="_td_16vzl_125",z2e="_tdNumber_16vzl_153",W2e="_rowMuted_16vzl_163",q2e="_summaryGrid_16vzl_171",X2e="_summaryCard_16vzl_185",Y2e="_summaryLabel_16vzl_199",J2e="_summaryValue_16vzl_213",Z2e="_note_16vzl_227",Gt={wrap:U2e,card:P2e,title:D2e,subtle:M2e,controls:Q2e,field:H2e,select:O2e,tableWrap:$2e,table:V2e,th:G2e,td:K2e,tdNumber:z2e,rowMuted:W2e,summaryGrid:q2e,summaryCard:X2e,summaryLabel:Y2e,summaryValue:J2e,note:Z2e},Tv=[{id:"heart-of-darkness-1",building:"Heart of Darkness",level:1,gold:null,shrooms:2,souls:null,baseTimeMinutes:31},{id:"soul-extractor-1",building:"Soul Extractor",level:1,gold:250,shrooms:2,souls:null,baseTimeMinutes:66},{id:"gladiator-trainer-1",building:"Gladiator Trainer",level:1,gold:700,shrooms:2,souls:148,baseTimeMinutes:140},{id:"heart-of-darkness-2",building:"Heart of Darkness",level:2,gold:2e3,shrooms:4,souls:616,baseTimeMinutes:300},{id:"soul-extractor-2",building:"Soul Extractor",level:2,gold:500,shrooms:4,souls:462,baseTimeMinutes:480},{id:"gladiator-trainer-2",building:"Gladiator Trainer",level:2,gold:1400,shrooms:4,souls:554,baseTimeMinutes:685},{id:"heart-of-darkness-3",building:"Heart of Darkness",level:3,gold:3e3,shrooms:7,souls:1650,baseTimeMinutes:1107},{id:"soul-extractor-3",building:"Soul Extractor",level:3,gold:750,shrooms:7,souls:1235,baseTimeMinutes:2400},{id:"gladiator-trainer-3",building:"Gladiator Trainer",level:3,gold:2100,shrooms:7,souls:1485,baseTimeMinutes:5236},{id:"heart-of-darkness-4",building:"Heart of Darkness",level:4,gold:4e3,shrooms:14,souls:4220,baseTimeMinutes:11446},{id:"soul-extractor-4",building:"Soul Extractor",level:4,gold:1e3,shrooms:14,souls:3165,baseTimeMinutes:19200},{id:"gladiator-trainer-4",building:"Gladiator Trainer",level:4,gold:2800,shrooms:14,souls:3800,baseTimeMinutes:28800},{id:"heart-of-darkness-5",building:"Heart of Darkness",level:5,gold:5e3,shrooms:30,souls:11e3,baseTimeMinutes:36933},{id:"soul-extractor-5",building:"Soul Extractor",level:5,gold:1250,shrooms:30,souls:8250,baseTimeMinutes:48e3},{id:"gladiator-trainer-5",building:"Gladiator Trainer",level:5,gold:3500,shrooms:30,souls:9900,baseTimeMinutes:null},{id:"heart-of-darkness-6",building:"Heart of Darkness",level:6,gold:6e3,shrooms:48,souls:25080,baseTimeMinutes:null},{id:"soul-extractor-6",building:"Soul Extractor",level:6,gold:1500,shrooms:48,souls:18810,baseTimeMinutes:null},{id:"underworld-gate-1",building:"Underworld Gate",level:1,gold:500,shrooms:2,souls:null,baseTimeMinutes:null},{id:"underworld-gate-2",building:"Underworld Gate",level:2,gold:1e3,shrooms:4,souls:55,baseTimeMinutes:null},{id:"underworld-gate-3",building:"Underworld Gate",level:3,gold:1500,shrooms:7,souls:149,baseTimeMinutes:null},{id:"underworld-gate-4",building:"Underworld Gate",level:4,gold:2e3,shrooms:14,souls:380,baseTimeMinutes:null},{id:"underworld-gate-5",building:"Underworld Gate",level:5,gold:2500,shrooms:30,souls:990,baseTimeMinutes:null},{id:"adventuromatic-1",building:"Adventuromatic",level:1,gold:1e4,shrooms:2,souls:297,baseTimeMinutes:null},{id:"keeper-1",building:"Keeper",level:1,gold:1500,shrooms:2,souls:198,baseTimeMinutes:null},{id:"keeper-2",building:"Keeper",level:2,gold:3e3,shrooms:4,souls:739,baseTimeMinutes:null},{id:"keeper-3",building:"Keeper",level:3,gold:4500,shrooms:7,souls:1980,baseTimeMinutes:null}],Fv={shrooms:750,souls:1e5},to=t=>t==null?"-":t.toLocaleString("en-US"),m4=t=>{if(t==null)return"-";const e=Math.max(0,Math.ceil(t)),n=Math.floor(e/60),r=e%60;return`${n}h ${r}m`},eCe=t=>t<=0?0:t>=15?.75:+(t*.05).toFixed(2),tCe=(t,e)=>t.baseTimeMinutes==null?null:t.baseTimeMinutes*(1-e),sCe=t=>{if(t==null)return null;const e=Math.ceil(t);return Math.ceil(e/10)},K1=(t,e)=>t.reduce((n,r)=>{var i;return n+((i=r[e])!=null?i:0)},0),nCe=()=>{const[t,e]=W.useState(0),n=W.useMemo(()=>eCe(t),[t]),r=W.useMemo(()=>({gold:K1(Tv,"gold"),shrooms:K1(Tv,"shrooms"),souls:K1(Tv,"souls")}),[]),i=W.useMemo(()=>({shrooms:Fv.shrooms-r.shrooms,souls:Fv.souls-r.souls}),[r]);return s.jsx("div",{className:Gt.wrap,children:s.jsxs("div",{className:Gt.card,children:[s.jsx("h2",{className:Gt.title,children:"Underworld Pro Pack skip order"}),s.jsx("div",{className:Gt.subtle,children:"Build order and costs based on the provided Pro Pack sheet."}),s.jsxs("div",{className:Gt.controls,children:[s.jsxs("label",{className:Gt.field,children:[s.jsx("span",{children:"Laborers Quarter"}),s.jsx("select",{className:Gt.select,value:t,onChange:a=>e(Number(a.currentTarget.value)),children:Array.from({length:16},(a,o)=>o).map(a=>s.jsx("option",{value:a,children:a},a))})]}),s.jsxs("div",{className:Gt.field,children:[s.jsx("span",{children:"Build time reduction"}),s.jsxs("div",{className:Gt.select,children:[(n*100).toFixed(0),"%"]})]})]}),s.jsx("div",{className:Gt.tableWrap,children:s.jsxs("table",{className:Gt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Gt.th,children:"Build order"}),s.jsx("th",{className:Gt.th,children:"Level"}),s.jsx("th",{className:`${Gt.th} ${Gt.tdNumber}`,children:"Gold"}),s.jsx("th",{className:`${Gt.th} ${Gt.tdNumber}`,children:"Shrooms"}),s.jsx("th",{className:`${Gt.th} ${Gt.tdNumber}`,children:"Souls"}),s.jsx("th",{className:`${Gt.th} ${Gt.tdNumber}`,children:"Build time"}),s.jsx("th",{className:`${Gt.th} ${Gt.tdNumber}`,children:"Time (LQ)"}),s.jsx("th",{className:`${Gt.th} ${Gt.tdNumber}`,children:"Skip"})]})}),s.jsx("tbody",{children:Tv.map(a=>{const o=tCe(a,n),l=sCe(o);return s.jsxs("tr",{children:[s.jsx("td",{className:Gt.td,children:a.building}),s.jsx("td",{className:`${Gt.td} ${Gt.tdNumber}`,children:a.level}),s.jsx("td",{className:`${Gt.td} ${Gt.tdNumber}`,children:to(a.gold)}),s.jsx("td",{className:`${Gt.td} ${Gt.tdNumber}`,children:to(a.shrooms)}),s.jsx("td",{className:`${Gt.td} ${Gt.tdNumber}`,children:to(a.souls)}),s.jsx("td",{className:`${Gt.td} ${Gt.tdNumber} ${Gt.rowMuted}`,children:m4(a.baseTimeMinutes)}),s.jsx("td",{className:`${Gt.td} ${Gt.tdNumber}`,children:m4(o)}),s.jsx("td",{className:`${Gt.td} ${Gt.tdNumber}`,children:to(l)})]},a.id)})})]})}),s.jsxs("div",{className:Gt.summaryGrid,children:[s.jsxs("div",{className:Gt.summaryCard,children:[s.jsx("div",{className:Gt.summaryLabel,children:"Total cost"}),s.jsxs("div",{className:Gt.summaryValue,children:[to(r.gold)," Gold  ",to(r.shrooms)," Shrooms  ",to(r.souls)," Souls"]})]}),s.jsxs("div",{className:Gt.summaryCard,children:[s.jsx("div",{className:Gt.summaryLabel,children:"Pro Pack resources"}),s.jsxs("div",{className:Gt.summaryValue,children:[to(Fv.shrooms)," Shrooms  ",to(Fv.souls)," Souls"]})]}),s.jsxs("div",{className:Gt.summaryCard,children:[s.jsx("div",{className:Gt.summaryLabel,children:"Leftover"}),s.jsxs("div",{className:Gt.summaryValue,children:[to(i.shrooms)," Shrooms  ",to(i.souls)," Souls"]})]})]}),s.jsx("div",{className:Gt.note,children:"Skip cost is computed as roundup(roundup(time in minutes)/10)."})]})})},Lv=[{key:"gold-xp-curve",title:"Gold & XP Curve",assetKey:"goldxpcurve",filterA:"Economy",filterB:"Curve"},{key:"calendar-rewards",title:"Calendar Rewards",assetKey:"calendarrewards",filterA:"Calendar",filterB:"Rewards"},{key:"calendar-skip",title:"Calendar Skip",assetKey:"calendarskip",filterA:"Calendar",filterB:"Skip"},{key:"pet-elemental-advantages",title:"Elemental Advantages",assetKey:"elementaladvantages",filterA:"Pets",filterB:"Advantages"},{key:"pets-p2w",title:"Pets P2W",assetKey:"petsp2w",filterA:"Pets",filterB:"Pet Paths"},{key:"pets-f2p",title:"Pets F2P",assetKey:"petsf2p",filterA:"Pets",filterB:"Pet Paths"},{key:"level-up-pack",title:"Level Up Packages",assetKey:"leveluppack",filterA:"Mushroom Packages",filterB:"Level Up"},{key:"birthday-sale",title:"Birthday Sale",assetKey:"birthdaysale",filterA:"Mushroom Packages",filterB:"S&F Birthday"},{key:"black-friday-sale",title:"Black Friday Sale",assetKey:"blackfridaysale",filterA:"Mushroom Packages",filterB:"Black Friday"},{key:"christmas-sale",title:"Christmas Sale",assetKey:"christmassale",filterA:"Mushroom Packages",filterB:"Christmas"},{key:"community-sale",title:"Community Sale",assetKey:"communitysale",filterA:"Mushroom Packages",filterB:"Community"},{key:"easter-sale",title:"Easter Sale",assetKey:"eastersale",filterA:"Mushroom Packages",filterB:"Easter"},{key:"fall-sale",title:"Fall Sale",assetKey:"fallsale",filterA:"Mushroom Packages",filterB:"Fall"},{key:"lucky-sale",title:"Lucky Sale",assetKey:"luckysale",filterA:"Mushroom Packages",filterB:"Lucky"},{key:"new-year-sale",title:"New Year Sale",assetKey:"newyearsale",filterA:"Mushroom Packages",filterB:"New Year"},{key:"oktoberfest-sale",title:"Oktoberfest Sale",assetKey:"oktoberfestsale",filterA:"Mushroom Packages",filterB:"Oktoberfest"},{key:"pre-christmas-sale",title:"Pre-Christmas Sale",assetKey:"prechristmassale",filterA:"Mushroom Packages",filterB:"Christmas"},{key:"soulful-sale",title:"Soulful Sale",assetKey:"soulfulsale",filterA:"Mushroom Packages",filterB:"Soulful"},{key:"summer-sale",title:"Summer Sale",assetKey:"summersale",filterA:"Mushroom Packages",filterB:"Summer"},{key:"winter-sale",title:"Winter Sale",assetKey:"wintersale",filterA:"Mushroom Packages",filterB:"Winter"},{key:"world-boss-sale",title:"World Boss Sale",assetKey:"worldbosssale",filterA:"Mushroom Packages",filterB:"World Boss"},{key:"hydra-stages",title:"Hydra Stages",assetKey:"hydrastages",filterA:"Hydra",filterB:"Stages"},{key:"guild-skill-cost",title:"Guild Skill Cost",assetKey:"guildskillcost",filterA:"Guild",filterB:"Skill Cost"},{key:"level-2-200",title:"Progress Level 2-200",assetKey:"levelzweibiszweihundert",filterA:"Progress",filterB:"2-200"},{key:"level-210-700",title:"Progress Level 210-700",assetKey:"levelzweihunzehnbissiebenhun",filterA:"Progress",filterB:"210-700"},{key:"attack-duplication-step-3",title:"Attack Duplication Step 3",assetKey:"step3adg",filterA:"Guides",filterB:"Steps"}],rCe="_viewerWrap_jg1o6_1",iCe="_nav_jg1o6_21",aCe="_navCard_jg1o6_37",oCe="_navHeader_jg1o6_59",lCe="_logoWrap_jg1o6_73",cCe="_logoImg_jg1o6_85",dCe="_divider_jg1o6_99",uCe="_navHomeWrap_jg1o6_133",ACe="_navScroller_jg1o6_141",hCe="_searchInput_jg1o6_195",mCe="_navSection_jg1o6_221",pCe="_navSubTitle_jg1o6_251",gCe="_navRow_jg1o6_265",fCe="_navRowLabel_jg1o6_281",vCe="_navRowChevron_jg1o6_291",xCe="_navRowChevronOpen_jg1o6_319",yCe="_categoryRow_jg1o6_327",wCe="_entryList_jg1o6_355",bCe="_entryListClosed_jg1o6_369",_Ce="_entryListOpen_jg1o6_377",jCe="_subSection_jg1o6_385",CCe="_subRow_jg1o6_397",SCe="_subEntryList_jg1o6_423",BCe="_subGroup_jg1o6_437",NCe="_navItem_jg1o6_449",kCe="_navItemIndented_jg1o6_475",ICe="_navItemActive_jg1o6_505",ECe="_viewer_jg1o6_1",TCe="_viewerCard_jg1o6_525",FCe="_viewerHeader_jg1o6_543",LCe="_viewerTitle_jg1o6_561",RCe="_metaRow_jg1o6_575",UCe="_metaLabel_jg1o6_591",PCe="_statusChip_jg1o6_601",DCe="_statusChipUpToDate_jg1o6_625",MCe="_statusChipWorkInProgress_jg1o6_637",QCe="_statusChipOutdated_jg1o6_649",HCe="_categoryPill_jg1o6_661",OCe="_tocRow_jg1o6_683",$Ce="_tocLabel_jg1o6_697",VCe="_tocPills_jg1o6_711",GCe="_tocPill_jg1o6_711",KCe="_contentGrid_jg1o6_755",zCe="_contentGridHasGallery_jg1o6_767",WCe="_markdown_jg1o6_775",qCe="_hudButtonGrid_jg1o6_869",XCe="_hudButton_jg1o6_869",YCe="_hudButtonLink_jg1o6_909",JCe="_hudButtonBox_jg1o6_931",ZCe="_hudButtonText_jg1o6_939",eSe="_infoBlock_jg1o6_1005",tSe="_infoFilters_jg1o6_1013",sSe="_infoSelect_jg1o6_1029",nSe="_infoLabel_jg1o6_1041",rSe="_infoSelectField_jg1o6_1055",iSe="_infoGalleryGrid_jg1o6_1083",aSe="_infoCard_jg1o6_1095",oSe="_infoThumb_jg1o6_1141",lSe="_infoThumbFallback_jg1o6_1159",cSe="_infoTitle_jg1o6_1183",dSe="_infoEmpty_jg1o6_1197",uSe="_markdownHome_jg1o6_1213",ASe="_galleryCard_jg1o6_1283",hSe="_galleryTitle_jg1o6_1297",mSe="_galleryGrid_jg1o6_1313",pSe="_galleryThumb_jg1o6_1325",gSe="_galleryEmpty_jg1o6_1339",fSe="_loadingState_jg1o6_1351",vSe="_missingState_jg1o6_1353",xSe="_emptyTitle_jg1o6_1371",ySe="_viewerLoadingOverlay_jg1o6_1385",wSe="_viewerLoadingOverlayVisible_jg1o6_1413",bSe="_loadingOverlayContent_jg1o6_1421",_Se="_loadingSpinner_jg1o6_1433",jSe="_overlay_jg1o6_1463",CSe="_overlayPanel_jg1o6_1481",SSe="_overlayImage_jg1o6_1507",BSe="_overlayClose_jg1o6_1537",NSe="_overlayNav_jg1o6_1559",kSe="_overlayNavLeft_jg1o6_1617",ISe="_overlayNavRight_jg1o6_1625",xe={viewerWrap:rCe,nav:iCe,navCard:aCe,navHeader:oCe,logoWrap:lCe,logoImg:cCe,divider:dCe,navHomeWrap:uCe,navScroller:ACe,searchInput:hCe,navSection:mCe,navSubTitle:pCe,navRow:gCe,navRowLabel:fCe,navRowChevron:vCe,navRowChevronOpen:xCe,categoryRow:yCe,entryList:wCe,entryListClosed:bCe,entryListOpen:_Ce,subSection:jCe,subRow:CCe,subEntryList:SCe,subGroup:BCe,navItem:NCe,navItemIndented:kCe,navItemActive:ICe,viewer:ECe,viewerCard:TCe,viewerHeader:FCe,viewerTitle:LCe,metaRow:RCe,metaLabel:UCe,statusChip:PCe,statusChipUpToDate:DCe,statusChipWorkInProgress:MCe,statusChipOutdated:QCe,categoryPill:HCe,tocRow:OCe,tocLabel:$Ce,tocPills:VCe,tocPill:GCe,contentGrid:KCe,contentGridHasGallery:zCe,markdown:WCe,hudButtonGrid:qCe,hudButton:XCe,hudButtonLink:YCe,hudButtonBox:JCe,hudButtonText:ZCe,infoBlock:eSe,infoFilters:tSe,infoSelect:sSe,infoLabel:nSe,infoSelectField:rSe,infoGalleryGrid:iSe,infoCard:aSe,infoThumb:oSe,infoThumbFallback:lSe,infoTitle:cSe,infoEmpty:dSe,markdownHome:uSe,galleryCard:ASe,galleryTitle:hSe,galleryGrid:mSe,galleryThumb:pSe,galleryEmpty:gSe,loadingState:fSe,missingState:vSe,emptyTitle:xSe,viewerLoadingOverlay:ySe,viewerLoadingOverlayVisible:wSe,loadingOverlayContent:bSe,loadingSpinner:_Se,overlay:jSe,overlayPanel:CSe,overlayImage:SSe,overlayClose:BSe,overlayNav:NSe,overlayNavLeft:kSe,overlayNavRight:ISe},dl="__all__";function ESe(){var N;const{t}=Gs(),e=W.useMemo(()=>Array.from(new Set(Lv.map(_=>_.filterA))).sort((_,j)=>_.localeCompare(j)),[]),n=W.useMemo(()=>{const _=new Map;return Lv.forEach(j=>{var U;const k=(U=_.get(j.filterA))!=null?U:[];k.includes(j.filterB)||k.push(j.filterB),_.set(j.filterA,k)}),_.forEach((j,k)=>{_.set(k,j.sort((U,I)=>U.localeCompare(I)))}),_},[]),r=W.useMemo(()=>Array.from(new Set(Lv.map(_=>_.filterB))).sort((_,j)=>_.localeCompare(j)),[]),[i,a]=W.useState(dl),[o,l]=W.useState(dl),[d,u]=W.useState(null),h=i===dl?r:(N=n.get(i))!=null?N:[];W.useEffect(()=>{o!==dl&&(h.includes(o)||l(dl))},[h,o]);const m=W.useMemo(()=>Lv.filter(_=>!(i!==dl&&_.filterA!==i||o!==dl&&_.filterB!==o)),[i,o]),g=t("guides.v2.infographics.allLabel",{defaultValue:"All"}),y=t("guides.v2.infographics.filterA.label",{defaultValue:"Category"}),x=t("guides.v2.infographics.filterB.label",{defaultValue:"Type"}),C=t("guides.v2.infographics.empty",{defaultValue:"No images found."}),E=t("guides.v2.closeLabel",{defaultValue:"Close"}),T=W.useCallback(_=>{var H,O,z,G;const j=uo(_.assetKey,1200),k=uo(_.assetKey,640),U=(O=(H=j.thumb)!=null?H:j.url)!=null?O:null,I=(G=(z=k.thumb)!=null?z:k.url)!=null?G:null,P=U!=null?U:I;if(!P)return null;const L=t(`guides.v2.infographics.item.${_.key}`,{defaultValue:_.title});return{key:_.key,src:P,fallback:P&&I&&P!==I?I:void 0,label:L}},[t]),B=W.useMemo(()=>d?m.findIndex(_=>_.key===d.key):-1,[d,m]),S=m.length>1&&B>=0,v=W.useCallback(()=>{if(!S)return;const _=(B-1+m.length)%m.length,j=m[_],k=T(j);k&&u(k)},[B,T,S,m]),w=W.useCallback(()=>{if(!S)return;const _=(B+1)%m.length,j=m[_],k=T(j);k&&u(k)},[B,T,S,m]);return W.useEffect(()=>{if(!d)return;m.some(j=>j.key===d.key)||u(null)},[d,m]),W.useEffect(()=>{if(!d)return;const _=j=>{j.key==="Escape"&&u(null)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[d]),s.jsxs("div",{className:xe.infoBlock,children:[s.jsxs("div",{className:xe.infoFilters,children:[s.jsxs("label",{className:xe.infoSelect,children:[s.jsx("span",{className:xe.infoLabel,children:y}),s.jsxs("select",{className:xe.infoSelectField,value:i,onChange:_=>a(_.target.value),children:[s.jsx("option",{value:dl,children:g}),e.map(_=>s.jsx("option",{value:_,children:t(`guides.v2.infographics.filterA.${_}`,{defaultValue:_})},_))]})]}),s.jsxs("label",{className:xe.infoSelect,children:[s.jsx("span",{className:xe.infoLabel,children:x}),s.jsxs("select",{className:xe.infoSelectField,value:o,onChange:_=>l(_.target.value),children:[s.jsx("option",{value:dl,children:g}),h.map(_=>s.jsx("option",{value:_,children:t(`guides.v2.infographics.filterB.${_}`,{defaultValue:_})},_))]})]})]}),m.length===0?s.jsx("div",{className:xe.infoEmpty,children:C}):s.jsx("div",{className:xe.infoGalleryGrid,children:m.map(_=>{var I;const j=uo(_.assetKey,640),k=(I=j.thumb)!=null?I:j.url,U=t(`guides.v2.infographics.item.${_.key}`,{defaultValue:_.title});return s.jsxs("button",{className:xe.infoCard,type:"button",onClick:()=>{const P=T(_);P&&u(P)},children:[k?s.jsx("img",{className:xe.infoThumb,src:k,alt:U}):s.jsx("div",{className:xe.infoThumbFallback,children:(U||"I").slice(0,1).toUpperCase()}),s.jsx("div",{className:xe.infoTitle,children:U})]},_.key)})}),d&&s.jsx("div",{className:xe.overlay,onClick:()=>u(null),children:s.jsxs("div",{className:xe.overlayPanel,onClick:_=>_.stopPropagation(),children:[S&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:`${xe.overlayNav} ${xe.overlayNavLeft}`,type:"button",onClick:v,"aria-label":t("guides.v2.galleryPrev",{defaultValue:"Previous image"}),children:"<"}),s.jsx("button",{className:`${xe.overlayNav} ${xe.overlayNavRight}`,type:"button",onClick:w,"aria-label":t("guides.v2.galleryNext",{defaultValue:"Next image"}),children:">"})]}),s.jsx("button",{className:xe.overlayClose,onClick:()=>u(null),type:"button",children:E}),s.jsx("img",{className:xe.overlayImage,src:d.src,alt:d.label,onError:()=>{!d.fallback||d.fallback===d.src||u({key:d.key,src:d.fallback,label:d.label})}})]})})]})}const TSe=()=>{var d;const{i18n:t}=Gs(),[e,n]=yr(),i=((d=t.language)==null?void 0:d.startsWith("de"))?[{key:"first-weekend-guide",label:"First-Weekend-Guide",selection:{tab:"progression",sub:"early",sub2:"first-weekend-guide"}},{key:"hellevator-guide",label:"Hellevator-Guide",selection:{tab:"hellevator",sub:"hellevator-guide"}},{key:"legendary-dungeon-guide",label:"Legendrer Dungeon-Guide",selection:{tab:"legendary-dungeon",sub:"legendary-dungeon-guide-epics-legendaries"}},{key:"rune-bonuses",label:"Runen-Boni",selection:{tab:"gamefeatures",sub:"arenaam",sub2:"am-rune-bonuses"}},{key:"calculators",label:"Rechner",selection:{tab:"calculators"}}]:[{key:"first-weekend-guide",label:"First Weekend Guide",selection:{tab:"progression",sub:"early",sub2:"first-weekend-guide"}},{key:"hellevator-guide",label:"Hellevator Guide",selection:{tab:"hellevator",sub:"hellevator-guide"}},{key:"legendary-dungeon-guide",label:"Legendary Dungeon Guide",selection:{tab:"legendary-dungeon",sub:"legendary-dungeon-guide-epics-legendaries"}},{key:"rune-bonuses",label:"Rune Bonuses",selection:{tab:"gamefeatures",sub:"arenaam",sub2:"am-rune-bonuses"}},{key:"calculators",label:"Calculators",selection:{tab:"calculators"}}],a=u=>{const h=new URLSearchParams;return h.set("tab",u.tab),u.sub&&h.set("sub",u.sub),u.sub2&&h.set("sub2",u.sub2),`/guidehub?${h.toString()}`},o=u=>{const h=new URLSearchParams(e);h.set("tab",u.tab),u.sub?h.set("sub",u.sub):h.delete("sub"),u.sub2?h.set("sub2",u.sub2):h.delete("sub2"),n(h,{replace:!1,preventScrollReset:!0})},l=(u,h)=>{u.defaultPrevented||u.button===0&&(u.metaKey||u.ctrlKey||u.shiftKey||u.altKey||(u.preventDefault(),o(h)))};return s.jsx("ul",{children:i.map(u=>s.jsx("li",{children:s.jsx("a",{href:a(u.selection),onClick:h=>l(h,u.selection),children:u.label})},u.key))})},FSe=()=>{const[t,e]=yr(),n=r=>{const i=new URLSearchParams(t);i.set("tab","gamefeatures"),i.set("sub","fortress"),i.set("sub2",r),e(i,{replace:!1,preventScrollReset:!0})};return s.jsxs("div",{className:xe.hudButtonGrid,children:[s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("fortress-calculator"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Fortress Calculator"})})}),s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("fortress-package-skip-order"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Fortress Package skip order"})})}),s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("fortress-attack-duplication"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Fortress attack duplication guide"})})})]})},LSe=()=>{const[t,e]=yr(),n=r=>{const i=new URLSearchParams(t);i.set("tab","gamefeatures"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1,preventScrollReset:!0})};return s.jsxs("div",{className:xe.hudButtonGrid,children:[s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("fortress"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Fortress"})})}),s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("underworld"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Underworld"})})}),s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("arenaam"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Arena Manager"})})})]})},RSe=()=>{const[t,e]=yr(),n=r=>{const i=new URLSearchParams(t);i.set("tab","gamefeatures"),i.set("sub","fortress"),i.set("sub2",r),e(i,{replace:!1,preventScrollReset:!0})};return s.jsx("div",{className:xe.hudButtonGrid,children:s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("fortress-package-skip-order"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Fortress Package skip order"})})})})},USe=()=>s.jsx(b6,{variant:"underworld"}),PSe=()=>{const[t,e]=yr(),n=r=>{const i=new URLSearchParams(t);i.set("tab","gamefeatures"),i.set("sub","underworld"),i.set("sub2",r),e(i,{replace:!1,preventScrollReset:!0})};return s.jsxs("div",{className:xe.hudButtonGrid,children:[s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("underworld-calculator"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Underworld Calculator"})})}),s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("underworld-pro-package-skip-order"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Underworld Pro Package skip order"})})})]})},DSe=()=>{const[t,e]=yr(),n=r=>{const i=new URLSearchParams(t);i.set("tab","gamefeatures"),i.set("sub","underworld"),i.set("sub2",r),e(i,{replace:!1,preventScrollReset:!0})};return s.jsx("div",{className:xe.hudButtonGrid,children:s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>n("underworld-pro-package-skip-order"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:"Underworld Pro Package skip order"})})})})},MSe=()=>{const{t}=Gs(),[e,n]=yr(),r=i=>{const a=new URLSearchParams(e);a.set("tab","gamefeatures"),a.set("sub","arenaam"),a.set("sub2",i),n(a,{replace:!1,preventScrollReset:!0})};return s.jsxs("div",{className:xe.hudButtonGrid,children:[s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>r("am-rune-bonuses"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:t("guidehub.arenaManager.links.runeBonuses")})})}),s.jsx("button",{type:"button",className:xe.hudButton,onClick:()=>r("am-build-order"),children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:t("guidehub.arenaManager.links.buildOrder")})})})]})},QSe=()=>{var r;const{i18n:t}=Gs(),e=(r=t.language)==null?void 0:r.startsWith("de"),n=[{label:"SF Tavernen Discord FAQ",href:"https://discord.com/channels/551152314329858048/1415410382981562542"},{label:"SF Tools",href:"https://sftools.mar21.eu/idle.html"},{label:"SF Coaching",href:e?"https://discord.com/channels/1381647290606817452/1420471280284733491":"https://discord.com/channels/1381647290606817452/1420473511364923432"}];return s.jsx("div",{className:xe.hudButtonGrid,children:n.map(i=>s.jsx("a",{className:`${xe.hudButton} ${xe.hudButtonLink}`,href:i.href,target:"_blank",rel:"noopener noreferrer",children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:i.label})})},i.href))})},HSe=()=>{const t=[{label:"SF Coaching",href:"https://discord.com/channels/1381647290606817452/1420473231256850584"},{label:"SF Tavernen Discord FAQ",href:"https://discord.com/channels/551152314329858048/1415410624606896279"},{label:"SF Tools",href:"https://sftools.mar21.eu/fortress.html"}];return s.jsx("div",{className:xe.hudButtonGrid,children:t.map(e=>s.jsx("a",{className:`${xe.hudButton} ${xe.hudButtonLink}`,href:e.href,target:"_blank",rel:"noopener noreferrer",children:s.jsx(hi,{padding:"md",hover:!0,className:xe.hudButtonBox,children:s.jsx("span",{className:xe.hudButtonText,children:e.label})})},e.href))})},E6="guidehub-v2:gem-calculator",OSe=()=>{if(typeof window!="undefined")try{const t=window.localStorage.getItem(E6);if(!t)return;const e=JSON.parse(t);if(!e||typeof e!="object")return;const{charLevel:n,mineLevel:r,guildHoKLevel:i}=e;return typeof n!="number"||typeof r!="number"||typeof i!="number"?void 0:{charLevel:n,mineLevel:r,guildHoKLevel:i}}catch(t){return}},$Se=t=>{if(typeof window!="undefined")try{window.localStorage.setItem(E6,JSON.stringify(t))}catch(e){}},VSe=()=>{const t=W.useMemo(()=>OSe(),[]),e=W.useCallback(n=>{$Se(n)},[]);return s.jsx(dS,{initialState:t,onStateChange:e})};function GSe(){const t=[];return iu.forEach(e=>{(e.sub||[]).forEach(n=>{n.sub2&&n.sub2.length?n.sub2.some(i=>i.sub2&&i.sub2.length)?n.sub2.forEach(i=>{i.sub2&&i.sub2.length&&i.sub2.forEach(a=>{t.push({id:a.key,label:a.label,tab:e.key,sub:n.key,sub2:a.key,categoryLabel:e.label})})}):n.sub2.forEach(i=>{t.push({id:i.key,label:i.label,tab:e.key,sub:n.key,sub2:i.key,categoryLabel:e.label})}):t.push({id:n.key,label:n.label,tab:e.key,sub:n.key,categoryLabel:e.label})})}),t}function KSe(t){return t!=null&&t.startsWith("de")?"de":"en"}const zSe=330;function WSe(t){return t==="up_to_date"||t==="outdated"||t==="work_in_progress"?t:"work_in_progress"}const qSe=({tab:t,sub:e,sub2:n,isHome:r,openTabs:i,openSubs:a,onToggleTab:o,onToggleSub:l,onNavigate:d,onNavigateHome:u,onNavigateCategory:h,onNavigateSub:m,t:g})=>{const[y,x]=W.useState(""),C=y.trim().toLowerCase(),E=W.useMemo(()=>{const S=iu.find(v=>v.key==="gamefeatures");return S?[S,...iu.filter(v=>v.key!=="gamefeatures")]:iu},[]),T=W.useCallback(S=>!C||S.toLowerCase().includes(C),[C]),B=()=>E.map(S=>{const v=T(S.label),N=(S.sub||[]).map(k=>{var H;const U=v||T(k.label);let I=[];if(!k.sub2||k.sub2.length===0)return!U&&C?null:s.jsx("button",{className:`${xe.navItem} ${t===S.key&&e===k.key&&!n?xe.navItemActive:""}`,onClick:()=>m(S.key,k.key),type:"button",children:k.label},`${S.key}-${k.key}`);k.sub2&&k.sub2.length&&(k.sub2.some(z=>z.sub2&&z.sub2.length)?I=k.sub2.map(z=>{if(!z.sub2||!z.sub2.length)return null;const G=U||T(z.label),$=z.sub2.filter(Y=>G||T(Y.label));return $.length?s.jsxs("div",{className:xe.subGroup,children:[s.jsx("div",{className:xe.navSubTitle,children:z.label}),$.map(Y=>s.jsx("button",{className:`${xe.navItem} ${xe.navItemIndented} ${t===S.key&&e===k.key&&n===Y.key?xe.navItemActive:""}`,onClick:()=>d({tab:S.key,sub:k.key,sub2:Y.key}),type:"button",children:Y.label},`${S.key}-${k.key}-${Y.key}`))]},`${S.key}-${k.key}-${z.key}`):null}).filter(Boolean):I=k.sub2.filter(G=>U||T(G.label)).map(G=>s.jsx("button",{className:`${xe.navItem} ${xe.navItemIndented} ${t===S.key&&e===k.key&&n===G.key?xe.navItemActive:""}`,onClick:()=>d({tab:S.key,sub:k.key,sub2:G.key}),type:"button",children:G.label},`${S.key}-${k.key}-${G.key}`)));const P=I.length>0;if(!U&&!P)return null;const L=!!((H=a[S.key])!=null&&H[k.key])||!!C&&P;return s.jsxs("div",{className:xe.subSection,children:[s.jsxs("button",{className:`${xe.navRow} ${xe.subRow} ${t===S.key&&e===k.key&&!n?xe.navItemActive:""}`,onClick:()=>{l(S.key,k.key),m(S.key,k.key)},"aria-expanded":L,type:"button",children:[s.jsx("span",{className:xe.navRowLabel,children:k.label}),s.jsx("span",{className:`${xe.navRowChevron} ${L?xe.navRowChevronOpen:""}`})]}),s.jsx("div",{className:`${xe.subEntryList} ${L?xe.entryListOpen:xe.entryListClosed}`,children:L?I:null})]},`${S.key}-${k.key}`)}).filter(Boolean),_=N.length>0;if(!v&&!_&&C)return null;const j=!!i[S.key]||!!C&&(v||_);return s.jsxs("div",{className:xe.navSection,children:[s.jsxs("button",{className:`${xe.navRow} ${xe.categoryRow} ${t===S.key&&!e&&!n?xe.navItemActive:""}`,onClick:()=>{o(S.key),h(S.key)},"aria-expanded":j,type:"button",children:[s.jsx("span",{className:xe.navRowLabel,children:S.label}),s.jsx("span",{className:`${xe.navRowChevron} ${j?xe.navRowChevronOpen:""}`})]}),s.jsx("div",{className:`${xe.entryList} ${j?xe.entryListOpen:xe.entryListClosed}`,children:j?N:null})]},S.key)});return s.jsx("div",{className:xe.nav,children:s.jsxs("div",{className:xe.navCard,children:[s.jsxs("div",{className:xe.navHeader,children:[s.jsx("div",{className:xe.logoWrap,children:s.jsx("img",{src:WC,alt:"Guide Hub",className:xe.logoImg})}),s.jsx("div",{className:xe.divider}),s.jsx("input",{className:xe.searchInput,type:"search",value:y,onChange:S=>x(S.target.value),placeholder:g("guides.v2.searchPlaceholder",{defaultValue:"Search guides"}),"aria-label":g("guides.v2.searchLabel",{defaultValue:"Search guides"})})]}),s.jsxs("div",{className:xe.navScroller,children:[s.jsx("div",{className:xe.navHomeWrap,children:s.jsx("button",{className:`${xe.navItem} ${r?xe.navItemActive:""}`,onClick:u,type:"button",children:g("guides.v2.navHomeLabel",{defaultValue:"Home"})})}),B()]})]})})},XSe=()=>{const[t,e]=yr(),{t:n,i18n:r}=Gs(),i=KSe(r.language),a=t.get("tab")||"",o=t.get("sub")||"",l=t.get("sub2")||"",d=W.useMemo(()=>({tab:a||void 0,sub:o||void 0,sub2:l||void 0}),[a,o,l]),[u,h]=W.useState(()=>({tab:a||void 0,sub:o||void 0,sub2:l||void 0})),m=u.tab||"",g=u.sub||"",y=u.sub2||"",x=!m&&!g&&!y,C=m==="infographics"&&!g&&!y,E=W.useMemo(()=>GSe(),[]),T=W.useMemo(()=>E.find(Ce=>{var ue;return Ce.tab===m&&Ce.sub===g&&((ue=Ce.sub2)!=null?ue:"")===y})||null,[E,m,g,y]),B=W.useMemo(()=>iu.find(Ce=>Ce.key===m)||null,[m]),S=W.useMemo(()=>{var Ce;return((Ce=B==null?void 0:B.sub)==null?void 0:Ce.find(ue=>ue.key===g))||null},[B,g]),[v,w]=W.useState({}),[N,_]=W.useState({}),[j,k]=W.useState(null),[U,I]=W.useState("idle"),[P,L]=W.useState(!1),H=W.useRef(0),O=W.useRef(0),z=W.useRef(null),G=W.useCallback(()=>{z.current&&(window.clearTimeout(z.current),z.current=null)},[]);W.useEffect(()=>{let Ce=!1;const ue=H.current+1;return H.current=ue,G(),O.current=Date.now(),L(!0),h2e(d,i).then(Te=>{if(Ce||H.current!==ue)return;const Fe=Te?"ready":"missing",ct=()=>{Ce||H.current!==ue||(k(Te),I(Fe),h(d),L(!1))},xt=Date.now()-O.current,ie=zSe-xt;ie<=0?ct():z.current=window.setTimeout(ct,ie)}),()=>{Ce=!0,G()}},[d,i,G]),W.useEffect(()=>{a&&w(Ce=>Ce[a]?Ce:{...Ce,[a]:!0})},[a]),W.useEffect(()=>{!a||!o||_(Ce=>{const ue=Ce[a]||{};return ue[o]?Ce:{...Ce,[a]:{...ue,[o]:!0}}})},[a,o]);const $=W.useCallback(Ce=>{const ue=new URLSearchParams(t);ue.set("tab",Ce.tab),Ce.sub?ue.set("sub",Ce.sub):ue.delete("sub"),Ce.sub2?ue.set("sub2",Ce.sub2):ue.delete("sub2"),e(ue,{replace:!1,preventScrollReset:!0})},[t,e]),Y=W.useCallback(()=>{const Ce=new URLSearchParams(t);Ce.delete("tab"),Ce.delete("sub"),Ce.delete("sub2"),e(Ce,{replace:!1,preventScrollReset:!0})},[t,e]),J=W.useCallback(Ce=>{w(ue=>({...ue,[Ce]:!ue[Ce]}))},[]),V=W.useCallback(Ce=>{const ue=new URLSearchParams(t);ue.set("tab",Ce),ue.delete("sub"),ue.delete("sub2"),e(ue,{replace:!1,preventScrollReset:!0})},[t,e]),X=W.useCallback((Ce,ue)=>{_(Te=>{const Fe=Te[Ce]||{};return{...Te,[Ce]:{...Fe,[ue]:!Fe[ue]}}})},[]),Z=W.useCallback((Ce,ue)=>{const Te=new URLSearchParams(t);Te.set("tab",Ce),Te.set("sub",ue),Te.delete("sub2"),e(Te,{replace:!1,preventScrollReset:!0})},[t,e]),se=W.useCallback(Ce=>{const ue=document.getElementById(Ce);if(!ue)return;const Te=ue.closest("main");if(Te){const Fe=Te.getBoundingClientRect(),xt=ue.getBoundingClientRect().top-Fe.top+Te.scrollTop-12;Te.scrollTo({top:xt,behavior:"smooth"});return}ue.scrollIntoView({behavior:"smooth",block:"start"})},[]),le=(j==null?void 0:j.frontmatter.title)||(T==null?void 0:T.label)||(S==null?void 0:S.label)||(B==null?void 0:B.label)||"",we=(j==null?void 0:j.frontmatter.category)||(B==null?void 0:B.label)||(T==null?void 0:T.categoryLabel)||"",Se=W.useMemo(()=>((j==null?void 0:j.toc)||[]).filter(Ce=>Ce.id!=="overview"),[j]),te=W.useMemo(()=>!(j!=null&&j.frontmatter.gallery)||j.frontmatter.gallery.length===0?[]:j.frontmatter.gallery.map(Ce=>{if(!Ce)return null;if(/^https?:\/\//i.test(Ce))return{key:Ce,thumb:Ce,full:Ce};const Te=uo(Ce,640),Fe=Te.thumb||Te.url,ct=Te.url||Te.thumb;return!Fe||!ct?null:{key:Ce,thumb:Fe,full:ct}}).filter(Boolean),[j]),[ce,re]=W.useState(null);W.useEffect(()=>{if(!ce)return;const Ce=ue=>{ue.key==="Escape"&&re(null)};return window.addEventListener("keydown",Ce),()=>window.removeEventListener("keydown",Ce)},[ce]);const ye=te.length?`${xe.contentGrid} ${xe.contentGridHasGallery}`:xe.contentGrid,Be=x?`${xe.markdown} ${xe.markdownHome}`:xe.markdown,Le=WSe(j==null?void 0:j.frontmatter.status),Ee=Le==="up_to_date"?n("guide.status.up_to_date",{defaultValue:"Up to date"}):Le==="outdated"?n("guide.status.outdated",{defaultValue:"Outdated"}):n("guide.status.work_in_progress",{defaultValue:"Work in progress"}),De=Le==="up_to_date"?xe.statusChipUpToDate:Le==="outdated"?xe.statusChipOutdated:xe.statusChipWorkInProgress,at=()=>s.jsxs("div",{className:xe.tocRow,children:[s.jsx("div",{className:xe.tocLabel,children:n("guides.v2.sectionsLabel",{defaultValue:"Sections"})}),s.jsx("div",{className:xe.tocPills,children:Se.length===0?s.jsx("span",{className:xe.galleryEmpty,children:n("guides.v2.noSections",{defaultValue:"No sections"})}):Se.map(Ce=>s.jsx("button",{className:xe.tocPill,onClick:()=>se(Ce.id),type:"button",children:Ce.text},Ce.id))})]}),Ke=()=>{if(!j)return null;const Ce=C?s.jsx(ESe,{}):null,ue={"am-rune-bonuses-table":_6,"arenaam-link-buttons":MSe,"arenaam-related-buttons":QSe,"gamefeatures-link-buttons":LSe,"home-quick-links":TSe,"fortress-link-buttons":FSe,"fortress-package-skip-order-button":RSe,"underworld-link-buttons":PSe,"fortress-related-buttons":HSe,"fortress-package-skip-order-table":USe,"fortress-calculator":C6,"underworld-calculator":S6,"gem-calculator":VSe,"max-item-stats-calculator":R2e,"underworld-pro-pack-link-button":DSe,"underworld-pro-package-skip-order":nCe,"dungeon-pause-open-xp-calculator":uS},Te=Object.keys(ue).some(nt=>j.html.includes(`data-embed="${nt}"`)),Fe=j.html.includes('data-asset="'),ct=Te||Fe,xt=nt=>{if(!ct)return s.jsx("div",{dangerouslySetInnerHTML:{__html:nt}});const et=/<div data-(embed|asset)="([a-z0-9-_]+)"><\/div>/g;let ut=0,bt,Ye=0;const Je=[];for(;bt=et.exec(nt);){const mt=nt.slice(ut,bt.index);mt&&(Je.push(s.jsx("div",{dangerouslySetInnerHTML:{__html:mt}},`html-${Ye}`)),Ye+=1);const ne=bt[1],Re=bt[2];if(ne==="embed"){const Ue=ue[Re];Ue?(Je.push(s.jsx(Ue,{},`embed-${Re}-${Ye}`)),Ye+=1):(Je.push(s.jsx("div",{dangerouslySetInnerHTML:{__html:bt[0]}},`html-${Ye}`)),Ye+=1)}else{const Ue=uo(Re,960),dt=Ue.thumb||Ue.url;dt?(Je.push(s.jsx("img",{src:dt,alt:Re},`asset-${Re}-${Ye}`)),Ye+=1):(Je.push(s.jsx("div",{},`asset-${Re}-${Ye}`)),Ye+=1)}ut=bt.index+bt[0].length}const Kt=nt.slice(ut);return Kt&&Je.push(s.jsx("div",{dangerouslySetInnerHTML:{__html:Kt}},`html-${Ye}`)),Je.length===0?s.jsx("div",{dangerouslySetInnerHTML:{__html:nt}}):s.jsx(s.Fragment,{children:Je})},Ae=j.html.indexOf('<h2 id="overview">');if(Ae===-1)return ct?s.jsxs("div",{className:Be,children:[xt(j.html),Ce]}):s.jsxs("div",{className:Be,children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:j.html}}),Ce]});const me=j.html.indexOf("</h2>",Ae);if(me===-1)return ct?s.jsxs("div",{className:Be,children:[xt(j.html),Ce]}):s.jsxs("div",{className:Be,children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:j.html}}),Ce]});const ke=j.html.slice(0,me+5),jt=j.html.slice(me+5);return ct?s.jsxs("div",{className:Be,children:[xt(ke),at(),Ce,xt(jt)]}):s.jsxs("div",{className:Be,children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:ke}}),at(),Ce,s.jsx("div",{dangerouslySetInnerHTML:{__html:jt}})]})},He=s.jsx(qSe,{tab:a,sub:o,sub2:l,isHome:x,openTabs:v,openSubs:N,onToggleTab:J,onToggleSub:X,onNavigate:$,onNavigateHome:Y,onNavigateCategory:V,onNavigateSub:Z,t:n});return s.jsxs(As,{left:He,leftWidth:280,leftFullHeight:!0,children:[s.jsx("div",{className:xe.viewerWrap,children:s.jsx("section",{className:xe.viewer,children:s.jsxs("div",{className:xe.viewerCard,children:[U==="missing"&&s.jsxs("div",{className:xe.missingState,children:[s.jsx("div",{className:xe.emptyTitle,children:n("guides.v2.missingTitle",{defaultValue:"Guide not available yet"})}),s.jsx("div",{children:n("guides.v2.missingBody",{defaultValue:"This guide does not have markdown content yet."})})]}),j&&U!=="missing"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:xe.viewerHeader,children:[s.jsxs("div",{children:[s.jsx("h1",{className:xe.viewerTitle,children:le}),s.jsx("div",{className:xe.metaRow,children:s.jsxs("span",{children:[s.jsxs("span",{className:xe.metaLabel,children:[n("guide.status.label",{defaultValue:"Status"}),":"]}),s.jsx("span",{className:`${xe.statusChip} ${De}`,children:Ee})]})})]}),we&&s.jsx("div",{className:xe.categoryPill,children:we})]}),s.jsxs("div",{className:ye,children:[Ke(),te.length>0&&s.jsxs("aside",{className:xe.galleryCard,children:[s.jsx("div",{className:xe.galleryTitle,children:n("guides.v2.galleryLabel",{defaultValue:"Gallery"})}),s.jsx("div",{className:xe.galleryGrid,children:te.map(Ce=>s.jsx("img",{src:Ce.thumb,alt:Ce.key,className:xe.galleryThumb,onClick:()=>re(Ce.full)},Ce.key))})]})]})]}),s.jsx("div",{className:`${xe.viewerLoadingOverlay} ${P?xe.viewerLoadingOverlayVisible:""}`,children:s.jsx("div",{className:xe.loadingState,children:s.jsxs("div",{className:xe.loadingOverlayContent,children:[s.jsx("span",{className:xe.loadingSpinner,"aria-hidden":!0}),s.jsx("span",{children:n("guides.v2.loading",{defaultValue:"Loading guide..."})})]})})})]})})}),ce&&s.jsx("div",{className:xe.overlay,onClick:()=>re(null),children:s.jsxs("div",{className:xe.overlayPanel,onClick:Ce=>Ce.stopPropagation(),children:[s.jsx("button",{className:xe.overlayClose,onClick:()=>re(null),type:"button",children:n("guides.v2.closeLabel",{defaultValue:"Close"})}),s.jsx("img",{className:xe.overlayImage,src:ce,alt:"Guide preview"})]})})]})},YSe="_wrap_1353r_1",JSe="_centerLogoWrap_1353r_21",ZSe="_centerLogoLink_1353r_37",eBe="_centerLogo_1353r_21",tBe="_arc_1353r_71",sBe="_left_1353r_73",nBe="_right_1353r_75",rBe="_sub_1353r_77",iBe="_full_1353r_79",aBe="_arcItem_1353r_81",oBe="_iconBtn_1353r_87",lBe="_active_1353r_141",cBe="_iconImg_1353r_151",dBe="_placeholderIcon_1353r_155",uBe="_placeholderText_1353r_173",ABe="_iconLabel_1353r_177",zr={wrap:YSe,centerLogoWrap:JSe,centerLogoLink:ZSe,centerLogo:eBe,arc:tBe,left:sBe,right:nBe,sub:rBe,full:iBe,arcItem:aBe,iconBtn:oBe,active:lBe,iconImg:cBe,placeholderIcon:dBe,placeholderText:uBe,iconLabel:ABe},hBe=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=ur();let a=!1;try{const o=new URLSearchParams(i),l=o.get("tab"),d=o.get("sub"),h=new URL(t,window.location.origin).searchParams,m=h.get("tab"),g=h.get("sub");a=r==="sub"?l===m&&!!g&&d===g:l===m}catch(o){a=!1}return s.jsxs(Ys,{to:t,"aria-label":e,className:[zr.iconBtn,r==="sub"?zr.muted:"",a?zr.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:zr.iconImg}):s.jsx("div",{className:zr.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:zr.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:zr.iconLabel,children:e})]})},z1=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:o=440})=>{const l=R.useMemo(()=>{const u=t.length;if(u===0)return[];let h=-90,m=90;e==="left"?(h=90,m=270):e==="sub"?n==="left"?(h=90,m=270):(h=-90,m=90):e==="full"&&(h=0,m=360);const g=(m-h)/(u+1),y=r?190:250;return t.map((x,C)=>{const T=(h+g*(C+1))*Math.PI/180;return{it:x,x:Math.cos(T)*y,y:Math.sin(T)*y}})},[t,e,n,r]),d=(()=>{const u={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?u.left=`calc(50% - ${a}px)`:e==="right"?u.left=`calc(50% + ${a}px)`:e==="sub"&&(u.left=n==="left"?`calc(50% - ${o}px)`:`calc(50% + ${o}px)`),u})();return s.jsx("div",{className:[zr.arc,e==="left"?zr.left:"",e==="right"?zr.right:"",e==="sub"?zr.sub:"",e==="full"?zr.full:""].join(" "),style:d,children:l.map(({it:u,x:h,y:m})=>s.jsx("div",{className:zr.arcItem,style:{transform:`translate(${h}px, ${m}px)`},children:s.jsx(hBe,{to:u.to,label:u.label,icon:u.icon,variant:i})},u.key))})},mBe=["creators","scans","predictions","news","records","feedback"],Rj=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],pBe={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},gBe=new Set(mBe),fBe=Rj.reduce((t,e)=>(t[e.key]=e,t),{}),vBe=t=>typeof t=="string"&&gBe.has(t),xBe=({logoSrc:t})=>{const[e]=yr(),n=e.get("tab")||null,r=R.useMemo(()=>Rj.filter(y=>y.side==="left"),[]),i=R.useMemo(()=>Rj.filter(y=>y.side==="right"),[]),a=vBe(n)?n:null,o=a?pBe[a]:[],l=a?fBe[a].side:"right",d=R.useRef(null),[u,h]=R.useState(220),[m,g]=R.useState(440);return R.useEffect(()=>{const y=()=>{var S,v;const C=((v=(S=d.current)==null?void 0:S.offsetWidth)!=null?v:380)/2,T=Math.round(C+60),B=Math.round(T+220);h(T),g(B)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),s.jsxs("div",{className:zr.wrap,children:[s.jsx("div",{className:zr.centerLogoWrap,children:s.jsx(Ys,{to:"/community",className:zr.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:d,src:t,alt:"Community Hub",className:zr.centerLogo})})}),s.jsx(z1,{items:r.map(y=>({key:y.key,to:y.to,label:y.label,icon:y.icon})),side:"left",variant:"main",arcOffset:u}),s.jsx(z1,{items:i.map(y=>({key:y.key,to:y.to,label:y.label,icon:y.icon})),side:"right",variant:"main",arcOffset:u}),o.length>0&&s.jsx(z1,{items:o.map(y=>({key:y.key,to:y.to,label:y.label,icon:y.icon})),side:"sub",anchorSide:l,compact:!0,variant:"sub",outerOffset:m})]})},yBe="_topWrap_1rivx_1",wBe="_divider_1rivx_19",bBe="_contentArea_1rivx_53",_Be="_placeholder_1rivx_63",jBe="_placeholderTitle_1rivx_77",CBe="_placeholderText_1rivx_91",pA={topWrap:yBe,divider:wBe,contentArea:bBe,placeholder:_Be,placeholderTitle:jBe,placeholderText:CBe},SBe="/assets/logo_communityhub-LVMLHRD6.png",BBe=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function T6(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function NBe(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,a]=e.map(o=>parseInt(o,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(a))return new Date(a,i-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function W1(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function kBe(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function IBe(t){return t.avatar?t.avatar:`/avatars/${T6(t.code||t.name||"creator")}.png`}function EBe(t){const e=T6(t.code||t.name||"creator"),n=[],r=W1(t.youtube);r&&n.push({type:"YouTube",url:r});const i=W1(t.twitch);i&&n.push({type:"Twitch",url:i});const a=W1(t.discord);return a&&n.push({type:"Discord",url:a}),{id:`sheet-${e}`,name:t.name,avatar:IBe(t),description:kBe(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:NBe(t.latestActivity),platforms:n}}function TBe(t){var n,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(n=t==null?void 0:t.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function F6(t="/data/creators-live.json"){const[e,n]=R.useState(null),[r,i]=R.useState(""),[a,o]=R.useState(!1),[l,d]=R.useState(0);return R.useEffect(()=>{let u=!1;async function h(){o(!0),i("");try{const m=await fetch(t,{cache:"no-store"});if(!m.ok)throw new Error(`HTTP ${m.status}`);const g=await m.json();u||n(TBe(g))}catch(m){u||(i((m==null?void 0:m.message)||"Failed to load creator snapshot"),n(null))}finally{u||o(!1)}}return h(),()=>{u=!0}},[t,l]),{snapshot:e,error:r,loading:a,refresh:()=>d(u=>u+1)}}const FBe=BBe,LBe=FBe.map(EBe),RBe=[...LBe];function L6(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function Hc(t,e,n=L6){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function Qp(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function UBe(t,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(Qp(r.lastActive)-Qp(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function PBe(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function p4({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[PBe(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:Hc(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:Hc(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:Hc(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:Hc(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",Qp(t.lastActive),"d ago"]})]})]},t.id)}function DBe({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:Hc(e.subscribers)}),s.jsx("td",{children:Hc(e.totalViews)}),s.jsx("td",{children:Hc(e.weeklyViews)}),s.jsx("td",{children:Hc(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[Qp(e.lastActive),"d"]})]},e.id))})]})})}function R6(){var X,Z;const[t,e]=R.useState("static"),[n,r]=R.useState("cards"),[i,a]=R.useState("subs"),[o,l]=R.useState("desc"),[d,u]=R.useState("all"),[h,m]=R.useState("all"),[g,y]=R.useState(0),[x,C]=R.useState(365),[E,T]=R.useState(null),[B,S]=R.useState(""),[v,w]=R.useState(!1),[N,_]=R.useState(""),[j,k]=R.useState(null),{snapshot:U,error:I}=F6(),P=(X=U==null?void 0:U.data)!=null&&X.length?U.data:null,L=P!=null?P:RBe,H=t==="static"?L:(Z=j!=null?j:P)!=null?Z:[],O=R.useMemo(()=>{const se=new Set(H.map(le=>le.language));return Array.from(se).sort()},[H]),z=R.useMemo(()=>H.filter(se=>d==="all"?!0:se.language===d).filter(se=>h==="all"?!0:se.platforms.some(le=>le.type===h)).filter(se=>se.subscribers>=g).filter(se=>Qp(se.lastActive)<=x).slice().sort(UBe(i,o)),[H,d,h,g,x,i,o]);R.useEffect(()=>{if(!E&&z.length){const se=z[Math.floor(Math.random()*z.length)];T(se.id)}},[z,E]);const G=R.useMemo(()=>z.find(se=>se.id===E)||null,[z,E]),$=R.useMemo(()=>z.slice().sort((se,le)=>le.weeklyViews-se.weeklyViews).slice(0,5),[z]),Y=R.useMemo(()=>z.slice().sort((se,le)=>le.weeklyPosts-se.weeklyPosts).slice(0,5),[z]);async function J(){_(""),w(!0);try{const se=await fetch(B,{headers:{Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);const le=await se.json(),we=Array.isArray(le)?le:Array.isArray(le==null?void 0:le.data)?le.data:[];k(we)}catch(se){_((se==null?void 0:se.message)||"Fetch failed")}finally{w(!1)}}const V=z.length===0;return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),U&&s.jsxs("p",{className:"cc-sync",children:[s.jsxs("span",{children:["Live stats synced ",new Date(U.generatedAt).toLocaleString()]}),s.jsxs("span",{children:[U.data.length," profiles"]})]}),I&&s.jsx("p",{className:"cc-sync-error",children:I})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:se=>e(se.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:se=>r(se.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:i,onChange:se=>a(se.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:o,onChange:se=>l(se.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:d,onChange:se=>u(se.target.value),children:[s.jsx("option",{value:"all",children:"All"}),O.map(se=>s.jsx("option",{value:se,children:se.toUpperCase()},se))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:h,onChange:se=>m(se.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:g,onChange:se=>y(Number(se.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:x,onChange:se=>C(Number(se.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:B,onChange:se=>S(se.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:J,disabled:!B||v,children:v?"Loading":"Fetch"})]}),N&&s.jsx("div",{className:"cc-api-error",children:N}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),G&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!z.length)return;const se=z[Math.floor(Math.random()*z.length)];T(se.id)},children:"Shuffle"})]}),s.jsx(p4,{c:G})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[V&&s.jsxs("div",{className:"cc-empty",children:[s.jsx("h3",{children:"No creators match the filters"}),s.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!V&&n==="cards"&&s.jsx("div",{className:"cc-grid",children:z.map(se=>s.jsx(p4,{c:se},se.id))}),!V&&n==="table"&&s.jsx(DBe,{data:z}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(z,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:$.map(se=>s.jsxs("li",{children:[s.jsx("span",{children:se.name}),s.jsx("span",{className:"cc-top-val",children:L6(se.weeklyViews)})]},se.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:Y.map(se=>s.jsxs("li",{children:[s.jsx("span",{children:se.name}),s.jsx("span",{className:"cc-top-val",children:se.weeklyPosts})]},se.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function U6(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function P6(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function D6(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function M6(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const MBe=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],q1=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],QBe={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},HBe=t=>QBe[t],OBe=(t,e=64)=>{var i;const n=HBe(t),r=mu(n);return r&&(i=Yi(r,e))!=null?i:null},$Be="_recordsPage_kdw96_1",VBe="_navArea_kdw96_15",GBe="_tabList_kdw96_27",KBe="_tabButton_kdw96_55",zBe="_tabButtonActive_kdw96_101",WBe="_sectionContent_kdw96_115",qBe="_placeholderPanel_kdw96_127",XBe="_placeholderTitle_kdw96_143",YBe="_placeholderText_kdw96_157",JBe="_milestoneSection_kdw96_171",ZBe="_sectionHeader_kdw96_183",eNe="_filterBar_kdw96_197",tNe="_filterButtons_kdw96_231",sNe="_filterButton_kdw96_231",nNe="_filterButtonActive_kdw96_295",rNe="_filterSelectWrapper_kdw96_309",iNe="_filterLabel_kdw96_321",aNe="_filterSelect_kdw96_309",oNe="_emptyFilterMessage_kdw96_355",lNe="_currentSection_kdw96_369",cNe="_currentGrid_kdw96_381",dNe="_currentCard_kdw96_393",uNe="_categoryLabel_kdw96_419",ANe="_recordTitle_kdw96_433",hNe="_currentDetails_kdw96_445",mNe="_notes_kdw96_457",pNe="_infoPanel_kdw96_469",gNe="_infoCard_kdw96_481",fNe="_disclaimerCard_kdw96_483",vNe="_infoHeader_kdw96_525",xNe="_infoAuthor_kdw96_539",yNe="_authorName_kdw96_557",wNe="_authorBadge_kdw96_565",bNe="_infoAuthorIcon_kdw96_591",_Ne="_infoDate_kdw96_623",jNe="_infoBody_kdw96_633",CNe="_infoTitle_kdw96_645",SNe="_infoLink_kdw96_665",BNe="_milestoneGrid_kdw96_719",NNe="_milestoneCard_kdw96_731",kNe="_milestoneCategory_kdw96_757",INe="_milestoneTitle_kdw96_771",ENe="_milestoneDetails_kdw96_785",TNe="_detailRow_kdw96_797",FNe="_detailLabel_kdw96_809",LNe="_detailValue_kdw96_823",RNe="_sourceLink_kdw96_833",UNe="_emptyState_kdw96_855",ht={recordsPage:$Be,navArea:VBe,tabList:GBe,tabButton:KBe,tabButtonActive:zBe,sectionContent:WBe,placeholderPanel:qBe,placeholderTitle:XBe,placeholderText:YBe,milestoneSection:JBe,sectionHeader:ZBe,filterBar:eNe,filterButtons:tNe,filterButton:sNe,filterButtonActive:nNe,filterSelectWrapper:rNe,filterLabel:iNe,filterSelect:aNe,emptyFilterMessage:oNe,currentSection:lNe,currentGrid:cNe,currentCard:dNe,categoryLabel:uNe,recordTitle:ANe,currentDetails:hNe,notes:mNe,infoPanel:pNe,infoCard:gNe,disclaimerCard:fNe,infoHeader:vNe,infoAuthor:xNe,authorName:yNe,authorBadge:wNe,infoAuthorIcon:bNe,infoDate:_Ne,infoBody:jNe,infoTitle:CNe,infoLink:SNe,milestoneGrid:BNe,milestoneCard:NNe,milestoneCategory:kNe,milestoneTitle:INe,milestoneDetails:ENe,detailRow:TNe,detailLabel:FNe,detailValue:LNe,sourceLink:RNe,emptyState:UNe},PNe=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],DNe={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},MNe=({title:t,description:e,hint:n})=>s.jsxs("article",{className:ht.placeholderPanel,children:[s.jsx("h2",{className:ht.placeholderTitle,children:t}),s.jsx("p",{className:ht.placeholderText,children:e}),n&&s.jsx("p",{className:ht.emptyState,children:n})]}),QNe=()=>{const[t,e]=R.useState("all"),n=R.useMemo(()=>{const a=new Set,o=[];for(const l of q1)a.has(l.category)||(a.add(l.category),o.push(l.category));return["all",...o]},[]),r=t==="all"?q1:q1.filter(a=>a.category===t),i=a=>{e(a)};return s.jsxs("section",{className:ht.milestoneSection,"aria-label":"Records milestones",children:[s.jsxs("div",{className:ht.sectionHeader,children:[s.jsx("p",{children:"Milestones"}),s.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),s.jsxs("div",{className:ht.filterBar,children:[s.jsx("div",{className:ht.filterButtons,children:n.map(a=>s.jsx("button",{type:"button",className:[ht.filterButton,t===a&&ht.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(a),"aria-pressed":t===a,children:a==="all"?"All Categories":a},a))}),s.jsxs("label",{className:ht.filterSelectWrapper,children:[s.jsx("span",{className:ht.filterLabel,children:"Category"}),s.jsx("select",{value:t,onChange:a=>i(a.target.value),className:ht.filterSelect,children:n.map(a=>s.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),r.length===0?s.jsx("p",{className:ht.emptyFilterMessage,children:"No milestones fall into this category yet."}):s.jsx("div",{className:ht.milestoneGrid,children:r.map(a=>s.jsxs("article",{className:ht.milestoneCard,children:[s.jsx("span",{className:ht.milestoneCategory,children:a.category}),s.jsx("h3",{className:ht.milestoneTitle,children:a.achievement}),s.jsxs("div",{className:ht.milestoneDetails,children:[s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Name"}),s.jsx("span",{className:ht.detailValue,children:a.name})]}),s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Server"}),s.jsx("span",{className:ht.detailValue,children:a.server})]}),s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Date"}),s.jsx("span",{className:ht.detailValue,children:a.date})]}),a.notes&&s.jsx("p",{className:ht.notes,children:a.notes}),a.source&&s.jsx("a",{href:a.source,target:"_blank",rel:"noreferrer",className:ht.sourceLink,children:"Source"})]})]},`${a.achievement}-${a.name}`))})]})},HNe=()=>s.jsxs("section",{className:ht.currentSection,"aria-label":"Current community records",children:[s.jsxs("div",{className:ht.sectionHeader,children:[s.jsx("p",{children:"Current Records"}),s.jsx("h2",{children:"The latest verified achievements"})]}),s.jsx("div",{className:ht.currentGrid,children:MBe.map((t,e)=>s.jsxs("article",{className:ht.currentCard,children:[s.jsx("span",{className:ht.categoryLabel,children:t.category}),s.jsx("h3",{className:ht.recordTitle,children:t.record}),s.jsxs("div",{className:ht.currentDetails,children:[s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Class"}),s.jsx("span",{className:ht.detailValue,children:t.classType})]}),s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Player"}),s.jsx("span",{className:ht.detailValue,children:t.playerName})]}),s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Server"}),s.jsx("span",{className:ht.detailValue,children:t.server})]}),s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Days"}),s.jsx("span",{className:ht.detailValue,children:t.days})]}),t.release&&s.jsxs("div",{className:ht.detailRow,children:[s.jsx("span",{className:ht.detailLabel,children:"Release"}),s.jsx("span",{className:ht.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&s.jsxs("p",{className:ht.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&s.jsx("p",{className:ht.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),wm={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function Q6(){const[t,e]=R.useState("current"),n=OBe("infoCard",32),r=()=>{if(t==="current")return s.jsx(HNe,{});if(t==="milestones")return s.jsx(QNe,{});const i=DNe[t];return s.jsx(MNe,{title:i.title,description:i.description,hint:i.hint})};return s.jsxs("section",{className:ht.recordsPage,children:[s.jsx(B6,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),s.jsxs("div",{className:ht.infoPanel,children:[s.jsxs("div",{className:ht.infoCard,children:[s.jsxs("div",{className:ht.infoHeader,children:[s.jsxs("div",{className:ht.infoAuthor,children:[n?s.jsx("img",{src:n,alt:"Community Data",className:ht.infoAuthorIcon}):null,s.jsx("span",{className:ht.authorName,children:"S&F Tavern Info"}),s.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:ht.authorBadge,children:"Discord"})]}),s.jsx("span",{className:ht.infoDate,children:"11.12.2020 14:08"})]}),s.jsxs("div",{className:ht.infoBody,children:[s.jsx("h3",{className:ht.infoTitle,children:wm.title}),wm.paragraphs.map(i=>s.jsx("p",{children:i},i))]}),s.jsxs("div",{className:ht.infoLink,children:[s.jsx("span",{children:wm.linkLabel}),s.jsx("a",{href:wm.linkUrl,target:"_blank",rel:"noreferrer",children:wm.linkUrl})]})]}),s.jsxs("div",{className:ht.disclaimerCard,children:[s.jsx("h3",{className:ht.infoTitle,children:"Disclaimer"}),s.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),s.jsx("div",{className:ht.navArea,children:s.jsx("nav",{className:ht.tabList,"aria-label":"Records navigation",children:PNe.map(i=>s.jsx("button",{type:"button",className:`${ht.tabButton} ${t===i.key?ht.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),s.jsx("div",{className:ht.sectionContent,children:r()})]})}const ONe={creators:R6,scans:U6,predictions:P6,news:D6,records:Q6,feedback:M6};function $Ne(){const[t]=yr(),e=t.get("tab")||"",n=ONe[e];return s.jsxs(As,{children:[s.jsx("div",{className:pA.topWrap,children:s.jsx(xBe,{logoSrc:SBe})}),s.jsx("div",{className:pA.divider}),s.jsx("div",{className:pA.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:pA.placeholder,children:[s.jsx("h2",{className:pA.placeholderTitle,children:"Community"}),s.jsx("p",{className:pA.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function VNe(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(Ys,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(Ys,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Aeltere Scans & Verlauf"})]}),s.jsxs(Ys,{to:"/upload-center",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Upload Center"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"CSV Import & lokale Vorschau (Spieler & Gilden)"})]})]})]})}function GNe(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function KNe(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function zNe(){return s.jsx(As,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(WNe,{}),right:s.jsx(qNe,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(Ys,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),s.jsx(Ys,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Rv,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Rv,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),s.jsx(Rv,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),s.jsx(Rv,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function WNe(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(bm,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(bm,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),s.jsx(bm,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),s.jsx(bm,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(bm,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function qNe(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function Rv({to:t,title:e,desc:n}){return s.jsxs(Ys,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function bm({to:t,children:e}){return s.jsx(Ks,{to:t,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const XNe="_page_1mlmy_1",YNe="_header_1mlmy_13",JNe="_headerStack_1mlmy_25",ZNe="_kicker_1mlmy_37",eke="_title_1mlmy_53",tke="_headerActions_1mlmy_65",ske="_primaryAction_1mlmy_77",nke="_secondaryAction_1mlmy_79",rke="_infoStrip_1mlmy_127",ike="_infoBlock_1mlmy_147",ake="_infoLabel_1mlmy_161",oke="_freshnessWrapper_1mlmy_181",lke="_freshnessBadge_1mlmy_189",cke="_badge_f0_1mlmy_213",dke="_badge_f1_1mlmy_215",uke="_badge_f2_1mlmy_217",Ake="_badge_f3_1mlmy_219",hke="_badge_f4_1mlmy_221",mke="_badge_f5_1mlmy_223",pke="_badge_f6_1mlmy_225",gke="_badge_f7_1mlmy_227",fke="_badge_unknown_1mlmy_229",vke="_popover_1mlmy_233",xke="_popoverLabel_1mlmy_265",yke="_filterToolbar_1mlmy_275",wke="_filterSheetButton_1mlmy_285",bke="_inlineFilters_1mlmy_303",_ke="_searchInput_1mlmy_315",jke="_select_1mlmy_317",Cke="_ownerGroup_1mlmy_335",Ske="_ownerChip_1mlmy_347",Bke="_ownerChipActive_1mlmy_365",Nke="_sortGroup_1mlmy_375",kke="_sortLabel_1mlmy_387",Ike="_directionButton_1mlmy_397",Eke="_listBody_1mlmy_415",Tke="_tableWrapper_1mlmy_427",Fke="_table_1mlmy_427",Lke="_stickyColumn_1mlmy_481",Rke="_rowTitleButton_1mlmy_495",Uke="_tableStatus_1mlmy_513",Pke="_cardList_1mlmy_533",Dke="_card_1mlmy_533",Mke="_cardHeader_1mlmy_565",Qke="_cardTitle_1mlmy_577",Hke="_cardMeta_1mlmy_595",Oke="_cardDescription_1mlmy_611",$ke="_cardFooter_1mlmy_623",Vke="_cardLabel_1mlmy_639",Gke="_scanBadge_1mlmy_649",Kke="_emptyState_1mlmy_665",zke="_sheetBackdrop_1mlmy_681",Wke="_sheet_1mlmy_681",qke="_sheetHandle_1mlmy_721",Xke="_sheetBody_1mlmy_739",Yke="_sheetLabel_1mlmy_755",Jke="_sheetActions_1mlmy_793",Zke="_overlay_1mlmy_807",eIe="_panel_1mlmy_825",tIe="_modal_1mlmy_851",sIe="_drawer_1mlmy_861",nIe="_panelHeader_1mlmy_869",rIe="_panelControls_1mlmy_883",iIe="_panelDescription_1mlmy_913",aIe="_detailGrid_1mlmy_925",oIe="_panelFooter_1mlmy_957",lIe="_formOverlay_1mlmy_969",cIe="_formPanel_1mlmy_991",dIe="_formGrid_1mlmy_1017",uIe="_menuWrapper_1mlmy_1029",AIe="_dotsButton_1mlmy_1037",hIe="_menu_1mlmy_1029",mIe="_pagination_1mlmy_1109",$e={page:XNe,header:YNe,headerStack:JNe,kicker:ZNe,title:eke,headerActions:tke,primaryAction:ske,secondaryAction:nke,infoStrip:rke,infoBlock:ike,infoLabel:ake,freshnessWrapper:oke,freshnessBadge:lke,badge_f0:cke,badge_f1:dke,badge_f2:uke,badge_f3:Ake,badge_f4:hke,badge_f5:mke,badge_f6:pke,badge_f7:gke,badge_unknown:fke,popover:vke,popoverLabel:xke,filterToolbar:yke,filterSheetButton:wke,inlineFilters:bke,searchInput:_ke,select:jke,ownerGroup:Cke,ownerChip:Ske,ownerChipActive:Bke,sortGroup:Nke,sortLabel:kke,directionButton:Ike,listBody:Eke,tableWrapper:Tke,table:Fke,stickyColumn:Lke,rowTitleButton:Rke,tableStatus:Uke,cardList:Pke,card:Dke,cardHeader:Mke,cardTitle:Qke,cardMeta:Hke,cardDescription:Oke,cardFooter:$ke,cardLabel:Vke,scanBadge:Gke,emptyState:Kke,sheetBackdrop:zke,sheet:Wke,sheetHandle:qke,sheetBody:Xke,sheetLabel:Yke,sheetActions:Jke,overlay:Zke,panel:eIe,modal:tIe,drawer:sIe,panelHeader:nIe,panelControls:rIe,panelDescription:iIe,detailGrid:aIe,panelFooter:oIe,formOverlay:lIe,formPanel:cIe,formGrid:dIe,menuWrapper:uIe,dotsButton:AIe,menu:hIe,pagination:mIe};function pIe(){var J;const[t,e]=W.useState(Tge),[n,r]=W.useState(N1),[i,a]=W.useState(N1),o=rh(n.q,300),l=W.useMemo(()=>{const V=Fge(t,n,o);return Lge(V,n.sort,n.dir)},[t,n,o]),d=W.useMemo(()=>Rge(l,n.page,n.pageSize),[l,n.page,n.pageSize]),u=Math.max(1,Math.ceil(l.length/n.pageSize)),h=W.useMemo(()=>Array.from(new Set(t.map(V=>V.owner))),[t]),m=ih("(min-width: 768px)"),g=ih("(min-width: 1024px)"),[y,x]=W.useState(!1),[C,E]=W.useState(null),T=(J=t.find(V=>V.id===C))!=null?J:null,B=W.useRef(null);ah(B,!!T&&!g);const[S,v]=W.useState(null),[w,N]=W.useState(!1),_=W.useRef(null);ah(_,w);const j=W.useMemo(()=>Uge(t),[t]),k=W.useMemo(()=>j?Mp(j.nextUpdateAt,Date.now()):"",[j]),U=m,I=g,P=s.jsxs("div",{className:$e.headerActions,children:[s.jsx("button",{type:"button",className:$e.primaryAction,onClick:()=>{v(null),N(!0)},children:"Neuer Eintrag"}),!m&&s.jsx("button",{type:"button",className:$e.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>x(!0),children:"Filter"})]}),L=V=>{const X=I3(V);r(X),a(X)},H=(V,X)=>{const Z=I3({...n,[V]:X,page:V==="page"||V==="pageSize"?X:1});L(Z)},O=()=>{L(i),x(!1)},z=()=>{L(N1),x(!1)},G=(V,X=!1)=>{if(X)a(Z=>{const le=Z.owner.includes(V)?Z.owner.filter(we=>we!==V):[...Z.owner,V];return{...Z,owner:le}});else{const se=n.owner.includes(V)?n.owner.filter(le=>le!==V):[...n.owner,V];H("owner",se)}},$=(V,X)=>{e(Z=>Z.map(se=>se.id===V?{...se,status:X,updatedAt:new Date().toISOString()}:se))},Y=V=>{e(X=>X.some(se=>se.id===V.id)?X.map(se=>se.id===V.id?V:se):[V,...X]),N(!1)};return s.jsxs(As,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[s.jsxs("div",{className:$e.page,children:[s.jsxs("header",{className:$e.header,children:[s.jsxs("div",{className:$e.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:$e.kicker,children:"Deployment"}),s.jsx("h1",{className:$e.title,children:"Planer"})]}),P]}),s.jsxs("div",{className:$e.infoStrip,children:[s.jsxs("div",{className:$e.infoBlock,children:[s.jsx("span",{className:$e.infoLabel,children:"Offen"}),s.jsx("strong",{children:l.filter(V=>V.status==="open").length})]}),s.jsxs("div",{className:$e.infoBlock,children:[s.jsx("span",{className:$e.infoLabel,children:"In Arbeit"}),s.jsx("strong",{children:l.filter(V=>V.status==="in_progress").length})]}),j&&s.jsx(gIe,{code:j.freshness,label:cS[j.freshness],updatedAt:j.lastScanAt,nextUpdateAt:j.nextUpdateAt,countdown:k})]})]}),s.jsx("section",{className:$e.filterToolbar,children:m?s.jsx(fIe,{filters:n,owners:h,onChange:H,onOwnerToggle:V=>G(V,!1)}):s.jsx("button",{type:"button",className:$e.filterSheetButton,onClick:()=>x(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),s.jsx("section",{className:$e.listBody,children:U?s.jsx(vIe,{items:d,sort:n.sort,dir:n.dir,onSortChange:V=>{const X=n.sort===V&&n.dir==="asc"?"desc":"asc";H("sort",V),H("dir",X)},onSelect:V=>E(V.id),onStatusChange:$,onEdit:V=>{v(V),N(!0)}}):s.jsx(xIe,{items:d,onSelect:V=>E(V.id),onStatusChange:$,onEdit:V=>{v(V),N(!0)}})}),s.jsx(wIe,{page:n.page,totalPages:u,onChange:V=>H("page",V)})]}),y&&s.jsx(yIe,{filters:i,owners:h,onChange:a,onOwnerToggle:V=>G(V,!0),onClose:()=>x(!1),onApply:O,onReset:z}),T&&s.jsx(O6,{ref:B,item:T,mode:I?"drawer":"modal",onClose:()=>E(null),onEdit:()=>{v(T),N(!0),E(null)},onStatusChange:$}),w&&s.jsx($6,{ref:_,owners:h.length?h:x6,item:S,onClose:()=>N(!1),onSubmit:Y})]})}function gIe({code:t,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var l;const[a,o]=W.useState(!1);return s.jsxs("div",{className:$e.freshnessWrapper,children:[s.jsx("button",{type:"button",className:`${$e.freshnessBadge} ${(l=$e[`badge_${t}`])!=null?l:""}`,"aria-label":`Freshness ${e}`,onClick:()=>o(d=>!d),children:e}),a&&s.jsxs("div",{className:$e.popover,role:"dialog","aria-label":"Freshness Details",children:[s.jsxs("div",{children:[s.jsx("span",{className:$e.popoverLabel,children:"Zuletzt gescannt"}),s.jsx("strong",{children:$o(n)})]}),s.jsxs("div",{children:[s.jsx("span",{className:$e.popoverLabel,children:"Naechster Scan"}),s.jsx("strong",{children:$o(r)})]}),s.jsxs("div",{children:[s.jsx("span",{className:$e.popoverLabel,children:"Countdown"}),s.jsx("strong",{children:i})]})]})]})}function fIe({filters:t,owners:e,onChange:n,onOwnerToggle:r}){return s.jsxs("div",{className:$e.inlineFilters,children:[s.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:$e.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>n("q",i.target.value)}),s.jsxs("select",{className:$e.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>n("type",i.target.value),children:[s.jsx("option",{value:"all",children:"Typ (alle)"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]}),s.jsxs("select",{className:$e.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>n("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("select",{className:$e.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>n("range",i.target.value),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]}),s.jsx("div",{className:$e.ownerGroup,children:e.map(i=>{const a=t.owner.includes(i);return s.jsx("button",{type:"button",className:`${$e.ownerChip} ${a?$e.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:$e.sortGroup,children:[s.jsx("label",{htmlFor:"planner-sort",className:$e.sortLabel,children:"Sortieren"}),s.jsxs("select",{id:"planner-sort",name:"plannerSort",className:$e.select,value:t.sort,onChange:i=>n("sort",i.target.value),children:[s.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),s.jsx("option",{value:"priority",children:"Prioritaet"}),s.jsx("option",{value:"title",children:"Titel"})]}),s.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:$e.directionButton,onClick:()=>n("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function vIe({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a,onEdit:o}){const l=d=>e===d?n==="asc"?" ":" ":"";return t.length===0?s.jsx(H6,{}):s.jsx("div",{className:$e.tableWrapper,children:s.jsxs("table",{className:$e.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:$e.stickyColumn,onClick:()=>r("title"),children:["Titel",l("title")]}),s.jsx("th",{children:"Typ"}),s.jsx("th",{children:"Owner"}),s.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",l("dueAt")]}),s.jsx("th",{children:"Status"}),s.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",l("updatedAt")]}),s.jsx("th",{})]})}),s.jsx("tbody",{children:t.map(d=>s.jsxs("tr",{children:[s.jsx("td",{className:$e.stickyColumn,children:s.jsx("button",{type:"button",className:$e.rowTitleButton,onClick:()=>i(d),children:d.title})}),s.jsx("td",{children:lS[d.type]}),s.jsx("td",{children:d.owner}),s.jsx("td",{children:$o(d.dueAt)}),s.jsx("td",{children:s.jsxs("select",{name:`plannerStatus-${d.id}`,"aria-label":`Status fuer ${d.title}`,className:$e.tableStatus,value:d.status,onChange:u=>a(d.id,u.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),s.jsx("td",{children:vg(d.updatedAt)}),s.jsx("td",{children:s.jsx(V6,{onEdit:()=>o(d),onComplete:()=>a(d.id,"done")})})]},d.id))})]})})}function xIe({items:t,onSelect:e,onStatusChange:n,onEdit:r}){return t.length===0?s.jsx(H6,{}):s.jsx("div",{className:$e.cardList,children:t.map(i=>s.jsxs("article",{className:$e.card,children:[s.jsxs("div",{className:$e.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:$e.cardTitle,onClick:()=>e(i),children:i.title}),s.jsxs("div",{className:$e.cardMeta,children:[s.jsx("span",{children:lS[i.type]}),s.jsx("span",{children:Ige[i.status]}),s.jsxs("span",{children:["Due ",$o(i.dueAt)]})]})]}),s.jsx(V6,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),s.jsx("p",{className:$e.cardDescription,children:i.description}),s.jsxs("div",{className:$e.cardFooter,children:[s.jsxs("div",{children:[s.jsx("span",{className:$e.cardLabel,children:"Owner"}),s.jsx("strong",{children:i.owner})]}),s.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:$e.tableStatus,value:i.status,onChange:a=>n(i.id,a.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("span",{className:$e.scanBadge,children:["Letzter Scan ",vg(i.lastScanAt)]})]})]},i.id))})}function H6(){return s.jsx("div",{className:$e.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function yIe({filters:t,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:a,onReset:o}){return s.jsx("div",{className:$e.sheetBackdrop,role:"presentation",onClick:i,children:s.jsxs("div",{className:$e.sheet,role:"dialog","aria-label":"Filter",onClick:l=>l.stopPropagation(),children:[s.jsx("div",{className:$e.sheetHandle}),s.jsxs("div",{className:$e.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:$e.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:l=>n(d=>({...d,q:l.target.value}))})]}),s.jsxs("label",{className:$e.sheetLabel,children:["Typ",s.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:l=>n(d=>({...d,type:l.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{className:$e.sheetLabel,children:["Status",s.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:l=>n(d=>({...d,status:l.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{className:$e.sheetLabel,children:["Zeitraum",s.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:l=>n(d=>({...d,range:l.target.value})),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]})]}),s.jsxs("div",{className:$e.sheetLabel,children:["Owner",s.jsx("div",{className:$e.ownerGroup,children:e.map(l=>{const d=t.owner.includes(l);return s.jsx("button",{type:"button",className:`${$e.ownerChip} ${d?$e.ownerChipActive:""}`,onClick:()=>r(l),children:l},l)})})]})]}),s.jsxs("div",{className:$e.sheetActions,children:[s.jsx("button",{type:"button",onClick:o,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:$e.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const O6=W.forwardRef(({item:t,mode:e,onClose:n,onEdit:r,onStatusChange:i},a)=>s.jsx("div",{className:$e.overlay,children:s.jsxs("div",{ref:a,className:`${$e.panel} ${e==="drawer"?$e.drawer:$e.modal}`,children:[s.jsxs("header",{className:$e.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:$e.cardLabel,children:lS[t.type]}),s.jsx("h2",{children:t.title})]}),s.jsx("button",{type:"button",className:$e.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("div",{className:$e.panelControls,children:[s.jsxs("label",{children:["Status",s.jsxs("select",{value:t.status,onChange:o=>i(t.id,o.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{disabled:!0,value:t.priority,children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsx("p",{className:$e.panelDescription,children:t.description}),s.jsxs("dl",{className:$e.detailGrid,children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Owner"}),s.jsx("dd",{children:t.owner})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Assignees"}),s.jsx("dd",{children:t.assignees.join(", ")})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Termin"}),s.jsx("dd",{children:$o(t.dueAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt aktualisiert"}),s.jsx("dd",{children:vg(t.updatedAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Erstellt"}),s.jsx("dd",{children:$o(t.createdAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Tags"}),s.jsx("dd",{children:t.tags.join(", ")})]})]}),s.jsxs("div",{className:$e.panelFooter,children:[s.jsx("button",{type:"button",className:$e.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:$e.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));O6.displayName="DetailPanel";const $6=W.forwardRef(({owners:t,item:e,onClose:n,onSubmit:r},i)=>{const[a,o]=W.useState(()=>{var u;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(u=t[0])!=null?u:x6[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});W.useEffect(()=>{e&&o(e)},[JSON.stringify(e)]);const l=u=>{u.preventDefault(),a.title.trim()&&r({...a,updatedAt:new Date().toISOString()})},d=u=>{o(h=>{const g=h.tags.includes(u)?h.tags.filter(y=>y!==u):[...h.tags,u];return{...h,tags:g}})};return s.jsx("div",{className:$e.formOverlay,children:s.jsxs("form",{ref:i,className:$e.formPanel,onSubmit:l,children:[s.jsxs("header",{className:$e.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:$e.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),s.jsx("h2",{children:e?e.title:"Planner Task"})]}),s.jsx("button",{type:"button",className:$e.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("label",{className:$e.sheetLabel,children:["Titel",s.jsx("input",{name:"plannerFormTitle",value:a.title,onChange:u=>o(h=>({...h,title:u.target.value})),required:!0})]}),s.jsxs("label",{className:$e.sheetLabel,children:["Beschreibung",s.jsx("textarea",{name:"plannerFormDescription",value:a.description,onChange:u=>o(h=>({...h,description:u.target.value})),rows:4})]}),s.jsxs("div",{className:$e.formGrid,children:[s.jsxs("label",{children:["Typ",s.jsxs("select",{name:"plannerFormType",value:a.type,onChange:u=>o(h=>({...h,type:u.target.value})),children:[s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"plannerFormStatus",value:a.status,onChange:u=>o(h=>({...h,status:u.target.value})),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Owner",s.jsx("select",{name:"plannerFormOwner",value:a.owner,onChange:u=>o(h=>({...h,owner:u.target.value})),children:t.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{name:"plannerFormPriority",value:a.priority,onChange:u=>o(h=>({...h,priority:u.target.value})),children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsxs("label",{className:$e.sheetLabel,children:["Termin",s.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:a.dueAt.slice(0,16),onChange:u=>o(h=>({...h,dueAt:new Date(u.target.value).toISOString()}))})]}),s.jsxs("div",{className:$e.sheetLabel,children:["Tags",s.jsx("div",{className:$e.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(u=>{const h=a.tags.includes(u);return s.jsx("button",{type:"button",className:`${$e.ownerChip} ${h?$e.ownerChipActive:""}`,onClick:()=>d(u),children:u},u)})})]}),s.jsxs("footer",{className:$e.panelFooter,children:[s.jsx("button",{type:"button",className:$e.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:$e.primaryAction,children:"Speichern"})]})]})})});$6.displayName="PlannerFormOverlay";function V6({onEdit:t,onComplete:e}){const[n,r]=W.useState(!1),i=W.useRef(null);return W.useEffect(()=>{if(!n)return;const a=o=>{var l;(l=i.current)!=null&&l.contains(o.target)||r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]),s.jsxs("div",{className:$e.menuWrapper,ref:i,children:[s.jsx("button",{type:"button",className:$e.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(a=>!a),children:"..."}),n&&s.jsxs("div",{className:$e.menu,role:"menu",children:[s.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),s.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),s.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function wIe({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:$e.pagination,children:[s.jsx("button",{type:"button",className:$e.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:$e.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const bIe="_page_1cvuk_1",_Ie="_header_1cvuk_13",jIe="_headerLeading_1cvuk_29",CIe="_backLink_1cvuk_41",SIe="_headerStack_1cvuk_77",BIe="_kicker_1cvuk_89",NIe="_title_1cvuk_105",kIe="_subtitle_1cvuk_117",IIe="_headerActions_1cvuk_129",EIe="_plannerNotice_1cvuk_141",TIe="_noticeItem_1cvuk_163",FIe="_noticeWarning_1cvuk_185",LIe="_noticeDot_1cvuk_197",RIe="_tabSection_1cvuk_213",UIe="_tabBar_1cvuk_225",PIe="_tabItem_1cvuk_239",DIe="_tabItemActive_1cvuk_279",MIe="_tabLabel_1cvuk_291",QIe="_tabHelper_1cvuk_301",HIe="_tabPanel_1cvuk_311",OIe="_tabBadge_1cvuk_331",$Ie="_primaryAction_1cvuk_1331",VIe="_secondaryAction_1cvuk_1333",GIe="_infoStrip_1cvuk_1383",KIe="_infoBlock_1cvuk_1403",zIe="_infoLabel_1cvuk_1415",WIe="_infoHint_1cvuk_1441",qIe="_stageGrid_1cvuk_1453",XIe="_panel_1cvuk_1465",YIe="_panelHeader_1cvuk_1487",JIe="_panelKicker_1cvuk_1501",ZIe="_panelTitle_1cvuk_1517",eEe="_panelLead_1cvuk_1529",tEe="_badge_1cvuk_1541",sEe="_panelBody_1cvuk_1563",nEe="_placeholderGrid_1cvuk_1575",rEe="_placeholderCard_1cvuk_1587",iEe="_placeholderTitle_1cvuk_1609",aEe="_placeholderText_1cvuk_1619",oEe="_helperSection_1cvuk_1631",lEe="_helperCard_1cvuk_1639",cEe="_helperKicker_1cvuk_1661",dEe="_helperTitle_1cvuk_1677",uEe="_helperText_1cvuk_1689",AEe="_helperActions_1cvuk_1701",Qt={page:bIe,header:_Ie,headerLeading:jIe,backLink:CIe,headerStack:SIe,kicker:BIe,title:NIe,subtitle:kIe,headerActions:IIe,plannerNotice:EIe,noticeItem:TIe,noticeWarning:FIe,noticeDot:LIe,tabSection:RIe,tabBar:UIe,tabItem:PIe,tabItemActive:DIe,tabLabel:MIe,tabHelper:QIe,tabPanel:HIe,tabBadge:OIe,primaryAction:$Ie,secondaryAction:VIe,infoStrip:GIe,infoBlock:KIe,infoLabel:zIe,infoHint:WIe,stageGrid:qIe,panel:XIe,panelHeader:YIe,panelKicker:JIe,panelTitle:ZIe,panelLead:eEe,badge:tEe,panelBody:sEe,placeholderGrid:nEe,placeholderCard:rEe,placeholderTitle:iEe,placeholderText:aEe,helperSection:oEe,helperCard:lEe,helperKicker:cEe,helperTitle:dEe,helperText:uEe,helperActions:AEe},hEe="_setupGrid_rdp6l_1",mEe="_setupLeft_rdp6l_13",pEe="_setupRight_rdp6l_15",gEe="_card_rdp6l_27",fEe="_cardHeader_rdp6l_49",vEe="_cardKicker_rdp6l_61",xEe="_cardTitle_rdp6l_77",yEe="_cardText_rdp6l_89",wEe="_toggleGroup_rdp6l_101",bEe="_toggleButton_rdp6l_113",_Ee="_toggleButtonActive_rdp6l_143",jEe="_modeHint_rdp6l_155",CEe="_formGrid_rdp6l_167",SEe="_formField_rdp6l_179",BEe="_formLabel_rdp6l_191",NEe="_input_rdp6l_201",kEe="_suggestions_rdp6l_231",IEe="_suggestionBtn_rdp6l_257",EEe="_suggestionName_rdp6l_297",TEe="_suggestionMeta_rdp6l_305",FEe="_partnerActions_rdp6l_315",LEe="_primaryAction_rdp6l_329",REe="_secondaryAction_rdp6l_331",UEe="_partnerList_rdp6l_381",PEe="_partnerRow_rdp6l_393",DEe="_partnerName_rdp6l_413",MEe="_partnerMeta_rdp6l_423",QEe="_removeButton_rdp6l_433",HEe="_emptyState_rdp6l_463",OEe="_previewBlock_rdp6l_473",$Ee="_previewLabel_rdp6l_485",VEe="_previewValue_rdp6l_499",GEe="_previewCard_rdp6l_509",KEe="_previewTitle_rdp6l_523",zEe="_previewMeta_rdp6l_533",WEe="_previewList_rdp6l_543",qEe="_previewItem_rdp6l_555",XEe="_setupInfo_rdp6l_569",YEe="_setupWarning_rdp6l_593",JEe="_setupInfoIcon_rdp6l_605",ZEe="_setupInfoTitle_rdp6l_629",eTe="_setupInfoText_rdp6l_639",st={setupGrid:hEe,setupLeft:mEe,setupRight:pEe,card:gEe,cardHeader:fEe,cardKicker:vEe,cardTitle:xEe,cardText:yEe,toggleGroup:wEe,toggleButton:bEe,toggleButtonActive:_Ee,modeHint:jEe,formGrid:CEe,formField:SEe,formLabel:BEe,input:NEe,suggestions:kEe,suggestionBtn:IEe,suggestionName:EEe,suggestionMeta:TEe,partnerActions:FEe,primaryAction:LEe,secondaryAction:REe,partnerList:UEe,partnerRow:PEe,partnerName:DEe,partnerMeta:MEe,removeButton:QEe,emptyState:HEe,previewBlock:OEe,previewLabel:$Ee,previewValue:VEe,previewCard:GEe,previewTitle:KEe,previewMeta:zEe,previewList:WEe,previewItem:qEe,setupInfo:XEe,setupWarning:YEe,setupInfoIcon:JEe,setupInfoTitle:ZEe,setupInfoText:eTe};function tTe({setupState:t,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var E,T,B,S,v,w,N,_,j,k;const[a,o]=W.useState(()=>{var U,I,P,L;return{name:(I=(U=t.baseGuild)==null?void 0:U.name)!=null?I:"",server:(L=(P=t.baseGuild)==null?void 0:P.server)!=null?L:""}}),[l,d]=W.useState({id:void 0,name:"",server:""}),u=rh(a.name,250),h=rh(l.name,250),m=g4(u,a.server||"all"),g=g4(h,l.server||"all"),y=!!((T=(E=t.baseGuild)==null?void 0:E.name)!=null&&T.trim()&&((S=(B=t.baseGuild)==null?void 0:B.server)!=null&&S.trim())),x=t.partnerGuilds.length>0;W.useEffect(()=>{var I,P,L,H;const U={name:(P=(I=t.baseGuild)==null?void 0:I.name)!=null?P:"",server:(H=(L=t.baseGuild)==null?void 0:L.server)!=null?H:""};(U.name!==a.name||U.server!==a.server)&&o(U)},[(v=t.baseGuild)==null?void 0:v.name,(w=t.baseGuild)==null?void 0:w.server]);const C=()=>{!l.name.trim()||!l.server.trim()||(r(l),d({id:void 0,name:"",server:""}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:st.setupGrid,children:[s.jsxs("div",{className:st.setupLeft,children:[s.jsxs("div",{className:st.card,children:[s.jsx("div",{className:st.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:st.cardKicker,children:"Modus"}),s.jsx("h3",{className:st.cardTitle,children:"Scan-based oder manuell"}),s.jsx("p",{className:st.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),s.jsxs("div",{className:st.toggleGroup,role:"group","aria-label":"Setup Modus",children:[s.jsx("button",{type:"button",className:`${st.toggleButton} ${t.mode==="scan"?st.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),s.jsx("button",{type:"button",className:`${st.toggleButton} ${t.mode==="manual"?st.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),s.jsx("p",{className:st.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),s.jsxs("div",{className:st.card,children:[s.jsx("div",{className:st.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:st.cardKicker,children:"Base Guild"}),s.jsx("h3",{className:st.cardTitle,children:"Stammdaten"}),s.jsx("p",{className:st.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),s.jsxs("div",{className:st.formGrid,children:[s.jsxs("label",{className:st.formField,children:[s.jsx("span",{className:st.formLabel,children:"Guild name"}),s.jsx("input",{type:"text",className:st.input,value:a.name,onChange:U=>{const I=U.target.value;o(P=>({...P,name:I}))},onBlur:()=>n({name:a.name}),placeholder:"z.B. Solaris"}),m.length>0&&s.jsx("div",{className:st.suggestions,children:m.map(U=>s.jsxs("button",{type:"button",className:st.suggestionBtn,onClick:()=>{o({name:U.name,server:U.server}),n({id:U.id,name:U.name,server:U.server})},children:[s.jsx("span",{className:st.suggestionName,children:U.name}),s.jsx("span",{className:st.suggestionMeta,children:U.server})]},U.id))})]}),s.jsxs("label",{className:st.formField,children:[s.jsx("span",{className:st.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:st.input,value:a.server,onChange:U=>{const I=U.target.value;o(P=>({...P,server:I}))},onBlur:()=>n({server:a.server}),placeholder:"z.B. EU-01"})]})]})]}),s.jsxs("div",{className:st.card,children:[s.jsx("div",{className:st.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:st.cardKicker,children:"Partner Guilds"}),s.jsx("h3",{className:st.cardTitle,children:"Partner hinzufuegen"}),s.jsx("p",{className:st.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),s.jsxs("div",{className:st.formGrid,children:[s.jsxs("label",{className:st.formField,children:[s.jsx("span",{className:st.formLabel,children:"Name"}),s.jsx("input",{type:"text",className:st.input,value:l.name,onChange:U=>d(I=>({...I,name:U.target.value})),placeholder:"z.B. Nova Alliance"}),g.length>0&&s.jsx("div",{className:st.suggestions,children:g.map(U=>s.jsxs("button",{type:"button",className:st.suggestionBtn,onClick:()=>d({id:U.id,name:U.name,server:U.server}),children:[s.jsx("span",{className:st.suggestionName,children:U.name}),s.jsx("span",{className:st.suggestionMeta,children:U.server})]},U.id))})]}),s.jsxs("label",{className:st.formField,children:[s.jsx("span",{className:st.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:st.input,value:l.server,onChange:U=>d(I=>({...I,server:U.target.value})),placeholder:"z.B. EU-02"})]})]}),s.jsxs("div",{className:st.partnerActions,children:[s.jsx("button",{type:"button",className:st.primaryAction,onClick:C,children:"Add partner guild"}),s.jsx("button",{type:"button",className:st.secondaryAction,onClick:()=>d({name:"",server:""}),children:"Reset fields"})]}),s.jsx("div",{className:st.partnerList,children:t.partnerGuilds.length===0?s.jsx("div",{className:st.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(U=>s.jsxs("div",{className:st.partnerRow,children:[s.jsxs("div",{children:[s.jsx("div",{className:st.partnerName,children:U.name||"Unbenannt"}),s.jsx("div",{className:st.partnerMeta,children:U.server||"Server n/a"})]}),s.jsx("button",{type:"button",className:st.removeButton,onClick:()=>i(U.id),children:"Remove"})]},U.id))})]})]}),s.jsx("aside",{className:st.setupRight,children:s.jsxs("div",{className:st.card,children:[s.jsx("div",{className:st.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:st.cardKicker,children:"Preview"}),s.jsx("h3",{className:st.cardTitle,children:"Uebersicht"}),s.jsx("p",{className:st.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),s.jsxs("div",{className:st.previewBlock,children:[s.jsx("div",{className:st.previewLabel,children:"Modus"}),s.jsx("div",{className:st.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),s.jsxs("div",{className:st.previewBlock,children:[s.jsx("div",{className:st.previewLabel,children:"Base Guild"}),s.jsx("div",{className:st.previewCard,children:(N=t.baseGuild)!=null&&N.name||(_=t.baseGuild)!=null&&_.server?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:st.previewTitle,children:((j=t.baseGuild)==null?void 0:j.name)||"Unbenannt"}),s.jsx("div",{className:st.previewMeta,children:((k=t.baseGuild)==null?void 0:k.server)||"Server n/a"})]}):s.jsx("div",{className:st.emptyState,children:"No base guild selected yet."})})]}),s.jsxs("div",{className:st.previewBlock,children:[s.jsx("div",{className:st.previewLabel,children:"Partner Guilds"}),s.jsx("div",{className:st.previewList,children:t.partnerGuilds.length===0?s.jsx("div",{className:st.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(U=>s.jsxs("div",{className:st.previewItem,children:[s.jsx("div",{className:st.previewTitle,children:U.name||"Unbenannt"}),s.jsx("div",{className:st.previewMeta,children:U.server||"Server n/a"})]},U.id))})]})]})})]}),y?x?null:s.jsxs("div",{className:st.setupInfo,role:"status","aria-live":"polite",children:[s.jsx("span",{className:st.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:st.setupInfoTitle,children:"Optional: add partner guilds."}),s.jsx("p",{className:st.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):s.jsxs("div",{className:`${st.setupInfo} ${st.setupWarning}`,role:"status","aria-live":"polite",children:[s.jsx("span",{className:st.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:st.setupInfoTitle,children:"No base guild selected yet."}),s.jsx("p",{className:st.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function g4(t,e){const[n,r]=W.useState([]);return W.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let a=!1;async function o(){const l=Jn("FusionSetup:guildSearch");try{const d=rg(Lt,"latest"),u=await Hn(l,{path:"guilds/latest (collectionGroup)"},()=>Qn(Yn(d,pa("nameFold"),Rc(i),Uc(i+""),Fr(12)))),h=await Hn(l,{path:"guilds/latest (collectionGroup)"},()=>Qn(Yn(d,Xi("nameNgrams","array-contains",i),Fr(12)))),m=new Set,g=[],y=x=>{var N,_,j,k,U,I,P,L,H,O;const C=x.data(),T=(N=x.ref.parent)==null?void 0:N.parent;if(((_=T==null?void 0:T.parent)==null?void 0:_.id)!=="guilds")return;const S=(k=(j=T==null?void 0:T.id)!=null?j:C.guildIdentifier)!=null?k:x.id;if(!S||m.has(S))return;const v=(P=(I=C.server)!=null?I:(U=C.values)==null?void 0:U.Server)!=null?P:"Unknown";if(e!=="all"&&v!==e)return;const w=(O=(H=C.name)!=null?H:(L=C.values)==null?void 0:L.Name)!=null?O:"Unbekannte Gilde";m.add(S),g.push({id:S,name:w,server:v})};u.forEach(y),h.forEach(y),a||(g.sort((x,C)=>x.name.localeCompare(C.name)),r(g))}catch(d){console.error("[FusionPlanner] guild search failed",d),a||r([])}finally{Cn(l)}}return o(),()=>{a=!0}},[t,e]),n}const sTe="_membersContainer_1ctw8_1",nTe="_scenarioSwitcher_1ctw8_13",rTe="_scenarioButton_1ctw8_25",iTe="_scenarioButtonActive_1ctw8_63",aTe="_scenarioButtonName_1ctw8_75",oTe="_scenarioButtonDesc_1ctw8_83",lTe="_setupInfo_1ctw8_93",cTe="_setupInfoHeader_1ctw8_113",dTe="_setupInfoTitle_1ctw8_127",uTe="_setupInfoMode_1ctw8_139",ATe="_setupInfoRow_1ctw8_163",hTe="_setupInfoLabel_1ctw8_175",mTe="_setupInfoValue_1ctw8_189",pTe="_setupInfoMeta_1ctw8_199",gTe="_setupInfoPartners_1ctw8_209",fTe="_setupInfoBadge_1ctw8_221",vTe="_setupInfoEmpty_1ctw8_245",xTe="_membersSummary_1ctw8_255",yTe="_membersSummaryItem_1ctw8_275",wTe="_membersSummaryLabel_1ctw8_287",bTe="_membersSummaryValue_1ctw8_301",_Te="_maxSlotsInput_1ctw8_313",jTe="_membersTable_1ctw8_331",CTe="_membersRow_1ctw8_349",STe="_membersHead_1ctw8_375",BTe="_membersCell_1ctw8_385",NTe="_memberName_1ctw8_395",kTe="_memberBadge_1ctw8_403",ITe="_assignmentCell_1ctw8_427",ETe="_assignmentBadge_1ctw8_439",TTe="_assignmentBadgeMain_1ctw8_463",FTe="_assignmentBadgePartner_1ctw8_475",LTe="_assignmentBadgeWatch_1ctw8_487",RTe="_assignmentBadgeIdle_1ctw8_499",UTe="_assignmentActions_1ctw8_507",PTe="_assignmentButton_1ctw8_519",DTe="_assignmentButtonActive_1ctw8_551",MTe="_decisionGroup_1ctw8_563",QTe="_decisionButton_1ctw8_575",HTe="_decisionButtonActive_1ctw8_607",OTe="_emptyWrap_1ctw8_619",$Te="_emptyTitle_1ctw8_633",VTe="_emptyText_1ctw8_641",GTe="_contextMenuBackdrop_1ctw8_651",KTe="_contextMenu_1ctw8_651",zTe="_contextMenuItem_1ctw8_693",WTe="_partnerPickerCell_1ctw8_725",qTe="_partnerLabel_1ctw8_737",XTe="_partnerSelect_1ctw8_751",qe={membersContainer:sTe,scenarioSwitcher:nTe,scenarioButton:rTe,scenarioButtonActive:iTe,scenarioButtonName:aTe,scenarioButtonDesc:oTe,setupInfo:lTe,setupInfoHeader:cTe,setupInfoTitle:dTe,setupInfoMode:uTe,setupInfoRow:ATe,setupInfoLabel:hTe,setupInfoValue:mTe,setupInfoMeta:pTe,setupInfoPartners:gTe,setupInfoBadge:fTe,setupInfoEmpty:vTe,membersSummary:xTe,membersSummaryItem:yTe,membersSummaryLabel:wTe,membersSummaryValue:bTe,maxSlotsInput:_Te,membersTable:jTe,membersRow:CTe,membersHead:STe,membersCell:BTe,memberName:NTe,memberBadge:kTe,assignmentCell:ITe,assignmentBadge:ETe,assignmentBadgeMain:TTe,assignmentBadgePartner:FTe,assignmentBadgeWatch:LTe,assignmentBadgeIdle:RTe,assignmentActions:UTe,assignmentButton:PTe,assignmentButtonActive:DTe,decisionGroup:MTe,decisionButton:QTe,decisionButtonActive:HTe,emptyWrap:OTe,emptyTitle:$Te,emptyText:VTe,contextMenuBackdrop:GTe,contextMenu:KTe,contextMenuItem:zTe,partnerPickerCell:WTe,partnerLabel:qTe,partnerSelect:XTe};function YTe({members:t,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:a}){var _,j,k,U,I,P;const[o,l]=W.useState(null),d=W.useRef(null),u=a.partnerGuilds.length>0?a.partnerGuilds.map((L,H)=>({id:L.id,label:L.name||`Partner ${H+1}`})):[{id:"partner-default",label:"Partner guild"}],h=W.useCallback((L,H)=>{l({memberId:L,...H})},[]),m=W.useCallback(()=>{l(null)},[]),g=W.useCallback(()=>{d.current!==null&&(window.clearTimeout(d.current),d.current=null)},[]),y=W.useCallback((L,H,O)=>{g(),d.current=window.setTimeout(()=>{h(L,{x:H,y:O})},550)},[g,h]);W.useEffect(()=>()=>g(),[g]);const x=W.useCallback((L,H,O)=>{if(H==="main")n(L,"take"),r(L,"main");else if(H==="partner"){const z=O?`partner:${O}`:"partner";n(L,"take"),r(L,z)}else n(L,"bench"),r(L,"none");m()},[m,n,r]),C=W.useCallback((L,H)=>{n(L,H),H==="take"?r(L,"main"):r(L,"none")},[n,r]);if(!!!((j=(_=a.baseGuild)==null?void 0:_.name)!=null&&j.trim()&&((U=(k=a.baseGuild)==null?void 0:k.server)!=null&&U.trim())))return s.jsxs("div",{className:qe.emptyWrap,children:[s.jsx("h3",{className:qe.emptyTitle,children:"No base guild configured"}),s.jsx("p",{className:qe.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return s.jsxs("div",{className:qe.emptyWrap,children:[s.jsx("h3",{className:qe.emptyTitle,children:"Members & Slots"}),s.jsx("p",{className:qe.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return s.jsxs("div",{className:qe.emptyWrap,children:[s.jsx("h3",{className:qe.emptyTitle,children:"No members found"}),s.jsx("p",{className:qe.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const T=(I=e.decisions)!=null?I:{},B=(P=e.targetGuildAssignments)!=null?P:{},S=t.filter(L=>T[L.id]==="take").length,v=t.filter(L=>T[L.id]==="bench").length,w=t.filter(L=>T[L.id]==="drop").length,N=Math.max(0,e.maxSlots-e.reservedSlots-S);return s.jsxs("div",{className:qe.membersContainer,children:[s.jsx("div",{className:qe.scenarioSwitcher,children:s.jsxs("div",{className:`${qe.scenarioButton} ${qe.scenarioButtonActive}`,children:[s.jsx("span",{className:qe.scenarioButtonName,children:e.name}),e.description?s.jsx("span",{className:qe.scenarioButtonDesc,children:e.description}):null]})}),s.jsxs("div",{className:qe.setupInfo,children:[s.jsxs("div",{className:qe.setupInfoHeader,children:[s.jsx("div",{className:qe.setupInfoTitle,children:"Planning for"}),s.jsx("span",{className:qe.setupInfoMode,children:a.mode==="scan"?"Scan":"Manual"})]}),a.baseGuild?s.jsxs("div",{className:qe.setupInfoRow,children:[s.jsx("span",{className:qe.setupInfoLabel,children:"Base Guild"}),s.jsxs("span",{className:qe.setupInfoValue,children:[a.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:qe.setupInfoMeta,children:["(",a.baseGuild.server||"Server n/a",")"]})]})]}):s.jsx("div",{className:qe.setupInfoEmpty,children:"No base guild selected in Setup tab."}),s.jsxs("div",{className:qe.setupInfoRow,children:[s.jsx("span",{className:qe.setupInfoLabel,children:"Partner Guilds"}),a.partnerGuilds.length?s.jsx("div",{className:qe.setupInfoPartners,children:a.partnerGuilds.map(L=>s.jsxs("span",{className:qe.setupInfoBadge,children:[L.name||"Unbenannt",s.jsxs("span",{className:qe.setupInfoMeta,children:[" (",L.server||"Server n/a",")"]})]},L.id))}):s.jsx("span",{className:qe.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),s.jsxs("div",{className:qe.membersSummary,children:[s.jsxs("div",{className:qe.membersSummaryItem,children:[s.jsx("div",{className:qe.membersSummaryLabel,children:"Selected"}),s.jsxs("div",{className:qe.membersSummaryValue,children:[S," / ",e.maxSlots]})]}),s.jsxs("div",{className:qe.membersSummaryItem,children:[s.jsx("div",{className:qe.membersSummaryLabel,children:"Free slots"}),s.jsx("div",{className:qe.membersSummaryValue,children:N})]}),s.jsxs("div",{className:qe.membersSummaryItem,children:[s.jsx("div",{className:qe.membersSummaryLabel,children:"Bench"}),s.jsx("div",{className:qe.membersSummaryValue,children:v})]}),s.jsxs("div",{className:qe.membersSummaryItem,children:[s.jsx("div",{className:qe.membersSummaryLabel,children:"Drop"}),s.jsx("div",{className:qe.membersSummaryValue,children:w})]}),s.jsxs("div",{className:qe.membersSummaryItem,children:[s.jsx("div",{className:qe.membersSummaryLabel,children:"Reserved"}),s.jsx("div",{className:qe.membersSummaryValue,children:e.reservedSlots})]}),s.jsxs("div",{className:qe.membersSummaryItem,children:[s.jsx("div",{className:qe.membersSummaryLabel,children:"Max slots"}),s.jsx("input",{type:"number",className:qe.maxSlotsInput,value:e.maxSlots,min:0,onChange:L=>i(Number(L.target.value))})]})]}),s.jsxs("div",{className:qe.membersTable,children:[s.jsxs("div",{className:`${qe.membersRow} ${qe.membersHead}`,children:[s.jsx("div",{className:qe.membersCell,children:"Name"}),s.jsx("div",{className:qe.membersCell,children:"Level"}),s.jsx("div",{className:qe.membersCell,children:"Guild"}),s.jsx("div",{className:qe.membersCell,children:"Class"}),s.jsx("div",{className:qe.membersCell,children:"Plan"}),s.jsx("div",{className:qe.membersCell,children:"Decision"}),s.jsx("div",{className:qe.membersCell,children:"Partner"})]}),t.map(L=>{var J,V,X,Z,se,le,we,Se,te;const H=(J=T[L.id])!=null?J:"undecided",O=(V=B[L.id])!=null?V:"none",z=O&&O.toString().startsWith("partner:")?O.split(":")[1]:null,G=(le=(X=u.find(ce=>ce.id===z))==null?void 0:X.label)!=null?le:O==="partner"?(se=(Z=u[0])==null?void 0:Z.label)!=null?se:"Partner guild":null,$=H==="take"&&O==="main"?"main":H==="take"&&(O==="partner"||z)?"partner":H==="bench"?"watch":"unassigned",Y=$==="main"?"Main guild":$==="partner"?G||"Partner guild":$==="watch"?"Watchlist":"Not planned";return s.jsxs("div",{className:qe.membersRow,onContextMenu:ce=>{ce.preventDefault(),h(L.id,{x:ce.clientX,y:ce.clientY})},onTouchStart:ce=>{const re=ce.touches[0];re&&y(L.id,re.clientX,re.clientY)},onTouchEnd:g,onTouchCancel:g,children:[s.jsx("div",{className:qe.membersCell,children:s.jsx("div",{className:qe.memberName,children:L.name})}),s.jsx("div",{className:qe.membersCell,children:s.jsxs("span",{className:qe.memberBadge,children:["Lvl ",L.level]})}),s.jsx("div",{className:qe.membersCell,children:L.guildName}),s.jsx("div",{className:qe.membersCell,children:(Se=(we=L.className)!=null?we:L.class)!=null?Se:"?"}),s.jsxs("div",{className:`${qe.membersCell} ${qe.assignmentCell}`,children:[s.jsx("span",{className:`${qe.assignmentBadge} ${$==="main"?qe.assignmentBadgeMain:$==="partner"?qe.assignmentBadgePartner:$==="watch"?qe.assignmentBadgeWatch:qe.assignmentBadgeIdle}`,children:Y}),s.jsxs("div",{className:qe.assignmentActions,role:"group","aria-label":"Target guild selection",children:[s.jsx("button",{type:"button",className:`${qe.assignmentButton} ${$==="main"?qe.assignmentButtonActive:""}`,onClick:()=>x(L.id,"main"),children:"Main"}),s.jsx("button",{type:"button",className:`${qe.assignmentButton} ${$==="watch"?qe.assignmentButtonActive:""}`,onClick:()=>x(L.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",className:`${qe.assignmentButton} ${$==="partner"?qe.assignmentButtonActive:""}`,onClick:()=>x(L.id,"partner"),children:"Partner"})]})]}),s.jsx("div",{className:qe.membersCell,children:s.jsx("div",{className:qe.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(ce=>s.jsx("button",{type:"button",className:`${qe.decisionButton} ${H===ce?qe.decisionButtonActive:""}`,onClick:()=>C(L.id,ce),children:ce==="take"?"Take":ce==="bench"?"Bench":ce==="drop"?"Drop":"?"},ce))})}),s.jsxs("div",{className:`${qe.membersCell} ${qe.partnerPickerCell}`,children:[s.jsx("label",{className:qe.partnerLabel,htmlFor:`partner-select-${L.id}`,children:"Partner"}),s.jsx("select",{id:`partner-select-${L.id}`,className:qe.partnerSelect,value:z!=null?z:(te=u[0])==null?void 0:te.id,onChange:ce=>x(L.id,"partner",ce.target.value),children:u.map(ce=>s.jsx("option",{value:ce.id,children:ce.label},ce.id))})]})]},L.id)})]}),o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:qe.contextMenuBackdrop,onClick:m}),s.jsxs("div",{className:qe.contextMenu,style:{top:o.y,left:o.x},children:[s.jsx("button",{type:"button",className:qe.contextMenuItem,onClick:()=>x(o.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:qe.contextMenuItem,onClick:()=>x(o.memberId,"watch"),children:"Move to Watchlist"}),u.map(L=>s.jsxs("button",{type:"button",className:qe.contextMenuItem,onClick:()=>x(o.memberId,"partner",L.id),children:["Move to ",L.label]},L.id))]})]}):null]})}const JTe="_overview_6ytw3_1",ZTe="_contextBox_6ytw3_15",e3e="_contextKicker_6ytw3_35",t3e="_contextTitle_6ytw3_51",s3e="_contextText_6ytw3_61",n3e="_contextDetails_6ytw3_71",r3e="_detailItem_6ytw3_85",i3e="_detailLabel_6ytw3_99",a3e="_detailValue_6ytw3_113",o3e="_kpiGrid_6ytw3_121",l3e="_kpiCard_6ytw3_133",c3e="_kpiLabel_6ytw3_153",d3e="_kpiValue_6ytw3_167",u3e="_columnsWrapper_6ytw3_177",A3e="_column_6ytw3_177",h3e="_columnDropTarget_6ytw3_213",m3e="_columnHeader_6ytw3_223",p3e="_columnKicker_6ytw3_235",g3e="_columnTitle_6ytw3_251",f3e="_columnCount_6ytw3_259",v3e="_columnBody_6ytw3_281",x3e="_memberCard_6ytw3_293",y3e="_memberTop_6ytw3_337",w3e="_memberName_6ytw3_349",b3e="_memberMeta_6ytw3_357",_3e="_memberBadge_6ytw3_369",j3e="_memberBottom_6ytw3_395",C3e="_memberGuild_6ytw3_409",S3e="_memberServer_6ytw3_419",B3e="_memberActions_6ytw3_427",N3e="_emptyList_6ytw3_469",k3e="_emptyWrap_6ytw3_487",I3e="_emptyTitle_6ytw3_501",E3e="_emptyText_6ytw3_509",T3e="_addPartnerCard_6ytw3_519",F3e="_contextMenuBackdrop_6ytw3_559",L3e="_contextMenu_6ytw3_559",R3e="_contextMenuItem_6ytw3_601",kt={overview:JTe,contextBox:ZTe,contextKicker:e3e,contextTitle:t3e,contextText:s3e,contextDetails:n3e,detailItem:r3e,detailLabel:i3e,detailValue:a3e,kpiGrid:o3e,kpiCard:l3e,kpiLabel:c3e,kpiValue:d3e,columnsWrapper:u3e,column:A3e,columnDropTarget:h3e,columnHeader:m3e,columnKicker:p3e,columnTitle:g3e,columnCount:f3e,columnBody:v3e,memberCard:x3e,memberTop:y3e,memberName:w3e,memberMeta:b3e,memberBadge:_3e,memberBottom:j3e,memberGuild:C3e,memberServer:S3e,memberActions:B3e,emptyList:N3e,emptyWrap:k3e,emptyTitle:I3e,emptyText:E3e,addPartnerCard:T3e,contextMenuBackdrop:F3e,contextMenu:L3e,contextMenuItem:R3e};function U3e({members:t,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:a}){var O,z,G;const o=(O=e==null?void 0:e.decisions)!=null?O:{},l=(z=e==null?void 0:e.targetGuildAssignments)!=null?z:{},d=n.partnerGuilds.length>0?n.partnerGuilds.map(($,Y)=>({id:$.id,label:$.name||`Partner ${Y+1}`})):[{id:"partner-default",label:"Partner guild"}],u=t.filter($=>o[$.id]==="take"&&l[$.id]==="main"),h=t.filter($=>o[$.id]==="bench"),m=d.reduce(($,Y)=>($[Y.id]=t.filter(J=>{const V=l[J.id];return o[J.id]==="take"&&(V===`partner:${Y.id}`||V==="partner")}),$),{}),g=t.filter($=>!u.includes($)&&!h.includes($)&&!Object.values(m).some(Y=>Y.includes($))),[y,x]=W.useState(null),[C,E]=W.useState(null),T=W.useRef(null),B=t.length,S=u.length,v=h.length,w=Object.values(m).reduce(($,Y)=>$+Y.length,0),N=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-S-w):0,_=W.useCallback(($,Y,J)=>{$&&(Y==="main"?(r($,"take"),i($,"main")):Y==="partner"?(r($,"take"),i($,J?`partner:${J}`:"partner")):Y==="unassigned"?(r($,"undecided"),i($,"none")):(r($,"bench"),i($,"none")),E(null))},[r,i]),j=W.useCallback(($,Y)=>J=>{J.preventDefault();const V=J.dataTransfer.getData("text/plain");V&&_(V,$,Y),x(null)},[_]),k=W.useCallback($=>Y=>{Y.preventDefault(),x($)},[]),U=W.useCallback(()=>x(null),[]),I=W.useCallback(($,Y)=>{E({memberId:$,...Y})},[]),P=W.useCallback(()=>{T.current!==null&&(window.clearTimeout(T.current),T.current=null)},[]),L=W.useCallback(($,Y,J)=>{P(),T.current=window.setTimeout(()=>{I($,{x:Y,y:J})},550)},[P,I]);if(W.useEffect(()=>()=>P(),[P]),!e)return s.jsxs("div",{className:kt.emptyWrap,children:[s.jsx("h3",{className:kt.emptyTitle,children:"Overview"}),s.jsx("p",{className:kt.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return s.jsxs("div",{className:kt.emptyWrap,children:[s.jsx("h3",{className:kt.emptyTitle,children:"No members loaded"}),s.jsx("p",{className:kt.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const H=($,Y,J,V,X)=>s.jsxs("div",{className:`${kt.column} ${y===$?kt.columnDropTarget:""}`,onDragOver:k($),onDragEnter:k($),onDragLeave:U,onDrop:j($,X),children:[s.jsxs("div",{className:kt.columnHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:kt.columnKicker,children:J}),s.jsx("h4",{className:kt.columnTitle,children:Y})]}),s.jsx("span",{className:kt.columnCount,children:V.length})]}),s.jsx("div",{className:kt.columnBody,children:V.length?V.map(Z=>{var se,le,we,Se;return s.jsxs("div",{className:kt.memberCard,draggable:!0,onDragStart:te=>te.dataTransfer.setData("text/plain",Z.id),onContextMenu:te=>{te.preventDefault(),I(Z.id,{x:te.clientX,y:te.clientY})},onTouchStart:te=>{const ce=te.touches[0];ce&&L(Z.id,ce.clientX,ce.clientY)},onTouchEnd:P,onTouchCancel:P,children:[s.jsxs("div",{className:kt.memberTop,children:[s.jsxs("div",{children:[s.jsx("div",{className:kt.memberName,children:Z.name}),s.jsxs("p",{className:kt.memberMeta,children:[(le=(se=Z.className)!=null?se:Z.class)!=null?le:"Unknown","  ",(we=Z.role)!=null?we:"Unknown"]})]}),s.jsxs("span",{className:kt.memberBadge,children:["Lvl ",(Se=Z.level)!=null?Se:"?"]})]}),s.jsxs("div",{className:kt.memberBottom,children:[s.jsxs("span",{className:kt.memberGuild,children:[Z.guildName," ",s.jsxs("span",{className:kt.memberServer,children:["(",Z.server||"Server n/a",")"]})]}),s.jsxs("div",{className:kt.memberActions,children:[s.jsx("button",{type:"button",onClick:()=>_(Z.id,"main"),children:"Main"}),s.jsx("button",{type:"button",onClick:()=>_(Z.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",onClick:()=>_(Z.id,"partner"),children:"Partner"})]})]})]},Z.id)}):s.jsx("div",{className:kt.emptyList,children:"No players in this list yet."})})]});return s.jsxs("div",{className:kt.overview,children:[s.jsxs("div",{className:kt.contextBox,children:[s.jsxs("div",{children:[s.jsx("p",{className:kt.contextKicker,children:"Setup"}),s.jsx("h3",{className:kt.contextTitle,children:"Fusion Overview"}),s.jsx("p",{className:kt.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),s.jsxs("div",{className:kt.contextDetails,children:[s.jsxs("div",{className:kt.detailItem,children:[s.jsx("span",{className:kt.detailLabel,children:"Base Guild"}),s.jsx("strong",{className:kt.detailValue,children:((G=n.baseGuild)==null?void 0:G.name)||"Unbenannt"})]}),s.jsxs("div",{className:kt.detailItem,children:[s.jsx("span",{className:kt.detailLabel,children:"Partner Guilds"}),s.jsx("strong",{className:kt.detailValue,children:n.partnerGuilds.length})]}),s.jsxs("div",{className:kt.detailItem,children:[s.jsx("span",{className:kt.detailLabel,children:"Max Slots"}),s.jsx("strong",{className:kt.detailValue,children:e.maxSlots})]})]})]}),s.jsxs("div",{className:kt.kpiGrid,children:[s.jsxs("div",{className:kt.kpiCard,children:[s.jsx("span",{className:kt.kpiLabel,children:"Total players"}),s.jsx("strong",{className:kt.kpiValue,children:B})]}),s.jsxs("div",{className:kt.kpiCard,children:[s.jsx("span",{className:kt.kpiLabel,children:"Main guild"}),s.jsx("strong",{className:kt.kpiValue,children:S})]}),s.jsxs("div",{className:kt.kpiCard,children:[s.jsx("span",{className:kt.kpiLabel,children:"Watchlist"}),s.jsx("strong",{className:kt.kpiValue,children:v})]}),s.jsxs("div",{className:kt.kpiCard,children:[s.jsx("span",{className:kt.kpiLabel,children:"Partner guild"}),s.jsx("strong",{className:kt.kpiValue,children:w})]}),s.jsxs("div",{className:kt.kpiCard,children:[s.jsx("span",{className:kt.kpiLabel,children:"Free slots"}),s.jsx("strong",{className:kt.kpiValue,children:N})]})]}),s.jsxs("div",{className:kt.columnsWrapper,children:[H("unassigned","Unassigned","Noch ohne Planung",g),H("main","Main guild","Take & Assign main",u),H("watch","Watchlist","Bench for review",h),d.map($=>{var Y;return H("partner",$.label,"Take & Assign partner",(Y=m[$.id])!=null?Y:[],$.id)}),s.jsx("button",{type:"button",className:kt.addPartnerCard,onClick:()=>a(`Partner ${d.length+1}`),children:"+ Partner guild"})]}),C?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:kt.contextMenuBackdrop,onClick:()=>E(null)}),s.jsxs("div",{className:kt.contextMenu,style:{top:C.y,left:C.x},children:[s.jsx("button",{type:"button",className:kt.contextMenuItem,onClick:()=>_(C.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:kt.contextMenuItem,onClick:()=>_(C.memberId,"watch"),children:"Move to Watchlist"}),d.map($=>s.jsxs("button",{type:"button",className:kt.contextMenuItem,onClick:()=>_(C.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const P3e="_scenariosTab_3v4iw_1",D3e="_scenariosHeader_3v4iw_13",M3e="_scenariosTitle_3v4iw_35",Q3e="_scenariosText_3v4iw_45",H3e="_scenarioInfo_3v4iw_57",O3e="_headerActions_3v4iw_71",$3e="_createButton_3v4iw_81",V3e="_scenarioList_3v4iw_115",G3e="_scenarioCard_3v4iw_127",K3e="_scenarioCardActive_3v4iw_147",z3e="_scenarioCardTop_3v4iw_157",W3e="_cardKicker_3v4iw_169",q3e="_cardTitle_3v4iw_185",X3e="_cardText_3v4iw_197",Y3e="_scenarioActiveBadge_3v4iw_209",J3e="_scenarioMeta_3v4iw_231",Z3e="_scenarioMetaLabel_3v4iw_243",e4e="_scenarioMetaValue_3v4iw_259",t4e="_scenarioStats_3v4iw_269",s4e="_scenarioStatItem_3v4iw_281",n4e="_scenarioStatLabel_3v4iw_295",r4e="_scenarioStatValue_3v4iw_311",i4e="_scenarioActions_3v4iw_321",a4e="_scenarioActionButton_3v4iw_337",o4e="_scenarioActionActive_3v4iw_367",l4e="_scenarioActionGroup_3v4iw_377",c4e="_secondaryActionButton_3v4iw_389",d4e="_deleteActionButton_3v4iw_391",u4e="_deleteActionDisabled_3v4iw_443",ms={scenariosTab:P3e,scenariosHeader:D3e,scenariosTitle:M3e,scenariosText:Q3e,scenarioInfo:H3e,headerActions:O3e,createButton:$3e,scenarioList:V3e,scenarioCard:G3e,scenarioCardActive:K3e,scenarioCardTop:z3e,cardKicker:W3e,cardTitle:q3e,cardText:X3e,scenarioActiveBadge:Y3e,scenarioMeta:J3e,scenarioMetaLabel:Z3e,scenarioMetaValue:e4e,scenarioStats:t4e,scenarioStatItem:s4e,scenarioStatLabel:n4e,scenarioStatValue:r4e,scenarioActions:i4e,scenarioActionButton:a4e,scenarioActionActive:o4e,scenarioActionGroup:l4e,secondaryActionButton:c4e,deleteActionButton:d4e,deleteActionDisabled:u4e};function A4e({scenarios:t,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:a,onDeleteScenario:o}){const l=W.useCallback(h=>{const m=Object.values(h.decisions),g=m.filter(E=>E==="take").length,y=m.filter(E=>E==="bench").length,x=m.filter(E=>E==="drop").length,C=Math.max(0,h.maxSlots-h.reservedSlots-g);return{selected:g,bench:y,drop:x,free:C}},[]),d=h=>{const m=window.prompt("Neuer Szenario-Name",h.name);m!==null&&a(h.id,m)},u=h=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&o(h.id)};return s.jsxs("div",{className:ms.scenariosTab,children:[s.jsxs("div",{className:ms.scenariosHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ms.cardKicker,children:"Scenarios"}),s.jsx("h3",{className:ms.scenariosTitle,children:"Fusion Plans verwalten"}),s.jsx("p",{className:ms.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),s.jsx("div",{className:ms.headerActions,children:s.jsx("button",{type:"button",className:ms.createButton,onClick:r,children:"Neues Szenario"})})]}),s.jsx("p",{className:ms.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),s.jsx("div",{className:ms.scenarioList,children:t.map(h=>{const m=l(h),g=h.id===e,y=t.length<=1;return s.jsxs("article",{className:`${ms.scenarioCard} ${g?ms.scenarioCardActive:""}`,children:[s.jsxs("div",{className:ms.scenarioCardTop,children:[s.jsxs("div",{children:[s.jsx("p",{className:ms.cardKicker,children:"Scenario"}),s.jsx("h3",{className:ms.cardTitle,children:h.name}),h.description?s.jsx("p",{className:ms.cardText,children:h.description}):null]}),g?s.jsx("span",{className:ms.scenarioActiveBadge,children:"Active"}):null]}),s.jsxs("div",{className:ms.scenarioMeta,children:[s.jsxs("div",{children:[s.jsx("span",{className:ms.scenarioMetaLabel,children:"Max slots"}),s.jsx("span",{className:ms.scenarioMetaValue,children:h.maxSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:ms.scenarioMetaLabel,children:"Reserved"}),s.jsx("span",{className:ms.scenarioMetaValue,children:h.reservedSlots})]})]}),s.jsxs("div",{className:ms.scenarioStats,children:[s.jsxs("div",{className:ms.scenarioStatItem,children:[s.jsx("span",{className:ms.scenarioStatLabel,children:"Selected"}),s.jsx("strong",{className:ms.scenarioStatValue,children:m.selected})]}),s.jsxs("div",{className:ms.scenarioStatItem,children:[s.jsx("span",{className:ms.scenarioStatLabel,children:"Free"}),s.jsx("strong",{className:ms.scenarioStatValue,children:m.free})]}),s.jsxs("div",{className:ms.scenarioStatItem,children:[s.jsx("span",{className:ms.scenarioStatLabel,children:"Bench"}),s.jsx("strong",{className:ms.scenarioStatValue,children:m.bench})]}),s.jsxs("div",{className:ms.scenarioStatItem,children:[s.jsx("span",{className:ms.scenarioStatLabel,children:"Drop"}),s.jsx("strong",{className:ms.scenarioStatValue,children:m.drop})]})]}),s.jsxs("div",{className:ms.scenarioActions,children:[s.jsx("button",{type:"button",className:`${ms.scenarioActionButton} ${g?ms.scenarioActionActive:""}`,onClick:()=>n(h.id),children:"Set active"}),s.jsxs("div",{className:ms.scenarioActionGroup,children:[s.jsx("button",{type:"button",className:ms.secondaryActionButton,onClick:()=>i(h.id),children:"Duplicate"}),s.jsx("button",{type:"button",className:ms.secondaryActionButton,onClick:()=>d(h),children:"Rename"}),s.jsx("button",{type:"button",className:`${ms.deleteActionButton} ${y?ms.deleteActionDisabled:""}`,onClick:()=>u(h),disabled:y,children:"Delete"})]})]})]},h.id)})})]})}const h4e="_resultWrap_179wi_1",m4e="_emptyState_179wi_13",p4e="_emptyTitle_179wi_35",g4e="_emptyText_179wi_43",f4e="_resultHeader_179wi_55",v4e="_resultKicker_179wi_79",x4e="_resultTitle_179wi_95",y4e="_resultText_179wi_107",w4e="_emptyNote_179wi_119",b4e="_setupSummary_179wi_131",_4e="_setupSummaryTitle_179wi_149",j4e="_setupSummaryRow_179wi_159",C4e="_setupSummaryLabel_179wi_171",S4e="_setupSummaryValue_179wi_185",B4e="_setupSummaryMeta_179wi_195",N4e="_setupSummaryTags_179wi_205",k4e="_setupSummaryTag_179wi_205",I4e="_classDistribution_179wi_241",E4e="_resultStats_179wi_253",T4e="_resultStatBadge_179wi_267",F4e="_resultStatBadgeMuted_179wi_269",L4e="_group_179wi_307",R4e="_groupHeader_179wi_327",U4e="_groupTitle_179wi_341",P4e="_groupHint_179wi_351",D4e="_groupBadge_179wi_361",M4e="_badgeSuccess_179wi_387",Q4e="_badgeMuted_179wi_399",H4e="_badgeDanger_179wi_409",O4e="_groupEmpty_179wi_421",$4e="_groupTable_179wi_437",V4e="_groupRow_179wi_455",G4e="_groupHead_179wi_327",K4e="_groupCell_179wi_491",z4e="_memberName_179wi_501",W4e="_memberBadge_179wi_509",Rt={resultWrap:h4e,emptyState:m4e,emptyTitle:p4e,emptyText:g4e,resultHeader:f4e,resultKicker:v4e,resultTitle:x4e,resultText:y4e,emptyNote:w4e,setupSummary:b4e,setupSummaryTitle:_4e,setupSummaryRow:j4e,setupSummaryLabel:C4e,setupSummaryValue:S4e,setupSummaryMeta:B4e,setupSummaryTags:N4e,setupSummaryTag:k4e,classDistribution:I4e,resultStats:E4e,resultStatBadge:T4e,resultStatBadgeMuted:F4e,group:L4e,groupHeader:R4e,groupTitle:U4e,groupHint:P4e,groupBadge:D4e,badgeSuccess:M4e,badgeMuted:Q4e,badgeDanger:H4e,groupEmpty:O4e,groupTable:$4e,groupRow:V4e,groupHead:G4e,groupCell:K4e,memberName:z4e,memberBadge:W4e};function q4e({members:t,scenario:e,setupState:n}){var x;if(!e)return s.jsxs("div",{className:Rt.emptyState,children:[s.jsx("h3",{className:Rt.emptyTitle,children:"No scenario selected"}),s.jsx("p",{className:Rt.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return s.jsxs("div",{className:Rt.emptyState,children:[s.jsx("h3",{className:Rt.emptyTitle,children:"No members available"}),s.jsx("p",{className:Rt.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:a,undecidedMembers:o}=W.useMemo(()=>{const C=[],E=[],T=[],B=[];return t.forEach(S=>{var w;const v=(w=e.decisions[S.id])!=null?w:"undecided";v==="take"?C.push(S):v==="bench"?E.push(S):v==="drop"?T.push(S):B.push(S)}),{takeMembers:C,benchMembers:E,dropMembers:T,undecidedMembers:B}},[t,e.decisions]),l=r.length,d=i.length,u=a.length,h=Math.max(0,e.maxSlots-l),m=e.maxSlots?Math.round(l/e.maxSlots*100):0,g=W.useMemo(()=>{const C=r.reduce((T,B)=>{var v,w;const S=(v=B.className)!=null?v:B.class;return S&&(T[S]=((w=T[S])!=null?w:0)+1),T},{});return Object.entries(C).map(([T,B])=>`${T}: ${B}`).join(" | ")},[r]),y=(C,E,T,B)=>s.jsxs("div",{className:Rt.group,children:[s.jsxs("div",{className:Rt.groupHeader,children:[s.jsxs("div",{children:[s.jsx("h4",{className:Rt.groupTitle,children:C}),s.jsx("span",{className:Rt.groupHint,children:E})]}),s.jsx("span",{className:`${Rt.groupBadge} ${B}`,children:T.length})]}),T.length===0?s.jsx("div",{className:Rt.groupEmpty,children:"No players in this group."}):s.jsxs("div",{className:Rt.groupTable,role:"table",children:[s.jsxs("div",{className:`${Rt.groupRow} ${Rt.groupHead}`,role:"row",children:[s.jsx("div",{className:Rt.groupCell,role:"columnheader",children:"Name"}),s.jsx("div",{className:Rt.groupCell,role:"columnheader",children:"Level"}),s.jsx("div",{className:Rt.groupCell,role:"columnheader",children:"Guild"}),s.jsx("div",{className:Rt.groupCell,role:"columnheader",children:"Class"})]}),T.map(S=>{var v,w;return s.jsxs("div",{className:Rt.groupRow,role:"row",children:[s.jsx("div",{className:Rt.groupCell,role:"cell",children:s.jsx("span",{className:Rt.memberName,children:S.name})}),s.jsx("div",{className:Rt.groupCell,role:"cell",children:s.jsxs("span",{className:Rt.memberBadge,children:["Lvl ",S.level]})}),s.jsx("div",{className:Rt.groupCell,role:"cell",children:S.guildName}),s.jsx("div",{className:Rt.groupCell,role:"cell",children:(w=(v=S.className)!=null?v:S.class)!=null?w:"-"})]},S.id)})]})]});return s.jsxs("div",{className:Rt.resultWrap,children:[s.jsxs("div",{className:Rt.resultHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Rt.resultKicker,children:"Final Plan"}),s.jsx("h3",{className:Rt.resultTitle,children:e.name}),s.jsx("p",{className:Rt.resultText,children:(x=e.description)!=null?x:"Zusammenfassung des aktuellen Plans."}),r.length===0?s.jsx("p",{className:Rt.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,g?s.jsxs("p",{className:Rt.classDistribution,children:["Class distribution: ",g]}):null,s.jsxs("div",{className:Rt.setupSummary,children:[s.jsx("div",{className:Rt.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?s.jsxs("div",{className:Rt.setupSummaryRow,children:[s.jsx("span",{className:Rt.setupSummaryLabel,children:"Base"}),s.jsxs("span",{className:Rt.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Rt.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):s.jsxs("div",{className:Rt.setupSummaryRow,children:[s.jsx("span",{className:Rt.setupSummaryLabel,children:"Base"}),s.jsx("span",{className:Rt.setupSummaryMeta,children:"No base guild selected."})]}),s.jsxs("div",{className:Rt.setupSummaryRow,children:[s.jsx("span",{className:Rt.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?s.jsx("div",{className:Rt.setupSummaryTags,children:n.partnerGuilds.map(C=>s.jsxs("span",{className:Rt.setupSummaryTag,children:[C.name||"Unbenannt"," ",s.jsxs("span",{className:Rt.setupSummaryMeta,children:["(",C.server||"Server n/a",")"]})]},C.id))}):s.jsx("span",{className:Rt.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),s.jsxs("div",{className:Rt.resultStats,children:[s.jsxs("span",{className:Rt.resultStatBadge,children:["Members selected: ",l," / ",e.maxSlots]}),s.jsxs("span",{className:Rt.resultStatBadge,children:["Bench: ",d]}),s.jsxs("span",{className:Rt.resultStatBadge,children:["Drop: ",u]}),s.jsxs("span",{className:Rt.resultStatBadge,children:["Free slots: ",h]}),s.jsxs("span",{className:Rt.resultStatBadge,children:["Utilization: ",m,"%"]}),o.length>0?s.jsxs("span",{className:Rt.resultStatBadgeMuted,children:["Undecided: ",o.length]}):null]})]}),y("Final roster (selected)","Take",r,Rt.badgeSuccess),y("Bench (waiting list)","Bench",i,Rt.badgeMuted),y("Not included","Drop",a,Rt.badgeDanger)]})}const Uv=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],f4=t=>t.reduce((e,n)=>(e[n.id]="undecided",e),{}),v4=t=>t.reduce((e,n)=>(e[n.id]="none",e),{}),X4e=(t,e,n)=>{var r,i,a,o,l,d,u,h,m,g,y,x,C,E,T,B;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(a=t.class)!=null?a:void 0,role:(o=t.role)!=null?o:"Unknown",level:(l=t.level)!=null?l:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(d=t.lastActivityMs)!=null?d:null,baseStats:{main:(u=t.baseMain)!=null?u:void 0,con:(h=t.conBase)!=null?h:void 0,sumBaseTotal:(m=t.sumBaseTotal)!=null?m:void 0},totalStats:(g=t.totalStats)!=null?g:void 0,values:{treasury:(y=t.treasury)!=null?y:void 0,mine:(x=t.mine)!=null?x:void 0,attrTotal:(C=t.attrTotal)!=null?C:void 0,conTotal:(E=t.conTotal)!=null?E:void 0,lastScan:(T=t.lastScan)!=null?T:void 0,lastActivity:(B=t.lastActivity)!=null?B:void 0}}},Y4e=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=t.name)==null?void 0:i.trim();return n||null},x4=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,y4=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],J4e=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function Z4e(){var L;const[t,e]=W.useState("setup"),[n,r]=W.useState(Uv),[i,a]=W.useState(!1),[o,l]=W.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[d,u]=W.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:f4(Uv),targetGuildAssignments:v4(Uv),isDefault:!0}]),[h,m]=W.useState("plan-a"),g=W.useMemo(()=>{var H,O;return(O=(H=d.find(z=>z.id===h))!=null?H:d[0])!=null?O:null},[h,d]),y=W.useMemo(()=>{var G,$;const H=o.baseGuild,O=(G=H==null?void 0:H.name)==null?void 0:G.trim(),z=($=H==null?void 0:H.server)==null?void 0:$.trim();return!!(O&&z)},[o.baseGuild]),x=W.useMemo(()=>n.length>0,[n.length]),C=W.useMemo(()=>d.length>0,[d.length]),E=W.useMemo(()=>{const H=[];return y||H.push("Setup incomplete - no base guild selected."),y&&!x&&H.push("No members loaded yet. Check scans or setup."),C||H.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),H},[y,x,C]),T=(H,O)=>{u(z=>z.map(G=>G.id===h?{...G,decisions:{...G.decisions,[H]:O}}:G))},B=(H,O)=>{u(z=>z.map(G=>{var $;return G.id===h?{...G,targetGuildAssignments:{...($=G.targetGuildAssignments)!=null?$:{},[H]:O}}:G}))},S=H=>{const O=Number(H)||0;u(z=>z.map(G=>G.id===h?{...G,maxSlots:Math.max(0,O)}:G))},v=()=>{u(H=>{const O={id:x4(),name:`Plan ${H.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:f4(n),targetGuildAssignments:v4(n)};return m(O.id),[...H,O]})},w=H=>{u(O=>{var $;const z=O.find(Y=>Y.id===H);if(!z)return O;const G={...z,id:x4(),name:`${z.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...z.decisions},targetGuildAssignments:{...($=z.targetGuildAssignments)!=null?$:{}}};return m(G.id),[...O,G]})},N=(H,O)=>{const z=O.trim();z&&u(G=>G.map($=>$.id===H?{...$,name:z}:$))},_=H=>{u(O=>{if(O.length<=1)return O;const z=O.filter(G=>G.id!==H);return z.length?(h===H&&m(z[0].id),z):O})};W.useEffect(()=>{if(o.mode!=="scan"){a(!1),r(Uv);return}const H=[o.baseGuild,...o.partnerGuilds].filter(Boolean);if(H.length===0){a(!1),r([]);return}let O=!1;async function z(){var $,Y,J,V,X,Z,se,le,we,Se;const G=Jn("FusionPlanner:loadMembers");a(!0);try{const te=[];for(const ce of H){const re=Y4e(ce);if(!re)continue;const ye=vs(Lt,`guilds/${re}/latest/latest`),Be=await On(G,ye,()=>Nn(ye)),Le=Be.exists()?Be.data():null,Ee=(X=(V=(Y=($=ce.name)==null?void 0:$.trim())!=null?Y:Le==null?void 0:Le.name)!=null?V:(J=Le==null?void 0:Le.values)==null?void 0:J.Name)!=null?X:re,De=(Se=(we=(se=(Z=ce.server)==null?void 0:Z.trim())!=null?se:Le==null?void 0:Le.server)!=null?we:(le=Le==null?void 0:Le.values)==null?void 0:le.Server)!=null?Se:null,at=vs(Lt,`guilds/${re}/snapshots/members_summary`),Ke=await On(G,at,()=>Nn(at));if(!Ke.exists())continue;const He=Ke.data();(Array.isArray(He.members)?He.members:[]).forEach(ue=>{te.push(X4e(ue,Ee,De))})}O||r(te)}catch(te){console.error("[FusionPlanner] Failed to load members",te),O||r([])}finally{O||a(!1),Cn(G)}}return r([]),z(),()=>{O=!0}},[o.baseGuild,o.partnerGuilds,o.mode]),W.useEffect(()=>{i||u(H=>H.map(O=>{var Y;const z=new Set(n.map(J=>J.id)),G={...O.decisions},$={...(Y=O.targetGuildAssignments)!=null?Y:{}};return n.forEach(J=>{G[J.id]||(G[J.id]="undecided"),$[J.id]||($[J.id]="none")}),Object.keys(G).forEach(J=>{z.has(J)||delete G[J]}),Object.keys($).forEach(J=>{z.has(J)||delete $[J]}),{...O,decisions:G,targetGuildAssignments:$}}))},[n,i]);const j=H=>{l(O=>({...O,mode:H}))},k=H=>{l(O=>{var G,$,Y;const z=(G=O.baseGuild)!=null?G:{id:"base-1",kind:"base",name:"",server:""};return{...O,baseGuild:{...z,...H.id?{id:H.id}:{},name:($=H.name)!=null?$:z.name,server:(Y=H.server)!=null?Y:z.server}}})},U=H=>{var $;if(!H.name.trim()||!H.server.trim())return;const O=H.name.trim(),z=H.server.trim(),G=($=H.id)==null?void 0:$.trim();l(Y=>({...Y,partnerGuilds:[...Y.partnerGuilds,{id:G&&!G.startsWith("partner-")?G:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:O,server:z,kind:"partner"}]}))},I=H=>{l(O=>({...O,partnerGuilds:O.partnerGuilds.filter(z=>z.id!==H)}))},P=()=>{switch(t){case"setup":return s.jsx(tTe,{setupState:o,onChangeMode:j,onChangeBaseGuild:k,onAddPartnerGuild:U,onRemovePartnerGuild:I});case"members":return s.jsx(YTe,{members:n,scenario:g,onChangeScenarioDecision:T,onChangeScenarioTargetGuild:B,onChangeScenarioMaxSlots:S,setupState:o});case"overview":return s.jsx(U3e,{members:n,scenario:g,setupState:o,onChangeScenarioDecision:T,onChangeScenarioTargetGuild:B,onAddPartnerGuild:H=>U({name:H,server:"tbd"})});case"scenarios":return s.jsx(A4e,{scenarios:d,activeScenarioId:h,onSetActiveScenario:m,onCreateScenario:v,onDuplicateScenario:w,onRenameScenario:N,onDeleteScenario:_});case"result":return s.jsx(q4e,{members:n,scenario:g,setupState:o});default:return null}};return s.jsx(As,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:s.jsxs("div",{className:Qt.page,children:[s.jsxs("header",{className:Qt.header,children:[s.jsxs("div",{className:Qt.headerLeading,children:[s.jsx(Ys,{to:"/guild-hub",className:Qt.backLink,children:"Back to Guild Hub"}),s.jsxs("div",{className:Qt.headerStack,children:[s.jsx("p",{className:Qt.kicker,children:"Guild Hub"}),s.jsx("h1",{className:Qt.title,children:"Fusion Planner"}),s.jsx("p",{className:Qt.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),s.jsxs("div",{className:Qt.headerActions,children:[s.jsx("button",{type:"button",className:Qt.primaryAction,children:"Neues Setup"}),s.jsx("button",{type:"button",className:Qt.secondaryAction,children:"Checkliste"})]})]}),E.length?s.jsx("div",{className:Qt.plannerNotice,role:"status","aria-live":"polite",children:E.map(H=>s.jsxs("div",{className:`${Qt.noticeItem} ${H.toLowerCase().includes("no base guild")?Qt.noticeWarning:""}`,children:[s.jsx("span",{className:Qt.noticeDot,"aria-hidden":!0}),s.jsx("span",{children:H})]},H))}):null,s.jsxs("section",{className:Qt.tabSection,"aria-label":"Fusion Planner Tabs",children:[s.jsx("div",{className:Qt.tabBar,children:y4.map(H=>{const O=H.key===t;return s.jsxs("button",{type:"button",className:`${Qt.tabItem} ${O?Qt.tabItemActive:""}`,onClick:()=>e(H.key),"aria-pressed":O,children:[s.jsx("span",{className:Qt.tabLabel,children:H.label}),s.jsx("span",{className:Qt.tabHelper,children:H.helper})]},H.key)})}),s.jsxs("div",{className:Qt.tabPanel,children:[s.jsx("span",{className:Qt.tabBadge,children:(L=y4.find(H=>H.key===t))==null?void 0:L.label}),P()]})]}),s.jsxs("section",{className:Qt.infoStrip,children:[s.jsxs("div",{className:Qt.infoBlock,children:[s.jsx("span",{className:Qt.infoLabel,children:"Status"}),s.jsx("strong",{children:"Entwurf"}),s.jsx("p",{className:Qt.infoHint,children:"Bereit fuer weitere Eingaben."})]}),s.jsxs("div",{className:Qt.infoBlock,children:[s.jsx("span",{className:Qt.infoLabel,children:"Slots geplant"}),s.jsx("strong",{children:"0 / 40"}),s.jsx("p",{className:Qt.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),s.jsxs("div",{className:Qt.infoBlock,children:[s.jsx("span",{className:Qt.infoLabel,children:"Szenarien"}),s.jsx("strong",{children:"3"}),s.jsx("p",{className:Qt.infoHint,children:"Baseline, Optimistic, Risiko."})]}),s.jsxs("div",{className:Qt.infoBlock,children:[s.jsx("span",{className:Qt.infoLabel,children:"Letztes Update"}),s.jsx("strong",{children:"vor wenigen Minuten"}),s.jsx("p",{className:Qt.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),s.jsx("section",{className:Qt.stageGrid,children:J4e.map(H=>s.jsxs("article",{className:Qt.panel,children:[s.jsxs("div",{className:Qt.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Qt.panelKicker,children:H.step}),s.jsx("h2",{className:Qt.panelTitle,children:H.title}),s.jsx("p",{className:Qt.panelLead,children:H.description})]}),H.badge?s.jsx("span",{className:Qt.badge,children:H.badge}):null]}),s.jsx("div",{className:Qt.panelBody,children:s.jsx("div",{className:Qt.placeholderGrid,children:H.placeholders.map(O=>s.jsxs("div",{className:Qt.placeholderCard,children:[s.jsx("div",{className:Qt.placeholderTitle,children:O}),s.jsx("p",{className:Qt.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},O))})})]},H.key))}),s.jsx("section",{className:Qt.helperSection,children:s.jsxs("div",{className:Qt.helperCard,children:[s.jsxs("div",{children:[s.jsx("p",{className:Qt.helperKicker,children:"Result"}),s.jsx("h3",{className:Qt.helperTitle,children:"Finaler Merge-Plan"}),s.jsx("p",{className:Qt.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),s.jsxs("div",{className:Qt.helperActions,children:[s.jsx("button",{type:"button",className:Qt.secondaryAction,children:"Teilen"}),s.jsx("button",{type:"button",className:Qt.primaryAction,children:"Review starten"})]})]})})]})})}const Uj=["EU-01","EU-02","US-01","US-02","ASIA-01"],lp=new Intl.NumberFormat("de-DE");function eFe(){const t=ih("(min-width: 768px)"),[e,n]=W.useState("all"),[r,i]=W.useState(null),[a,o]=W.useState(null),[l,d]=W.useState(null),[u,h]=W.useState(null),m=[r,a].filter(Boolean).length,g=W.useMemo(()=>{const I=[l,u].filter(Boolean);if(!I.length)return 0;const P=I.reduce((L,H)=>{var O;return L+((O=H.members)!=null?O:0)},0);return Math.round(P/I.length)},[l,u]),[y,x]=W.useState(null),[C,E]=W.useState(!1),T=W.useRef(null);ah(T,C&&!t),W.useEffect(()=>{t&&E(!1)},[t]),W.useEffect(()=>{if(!y)return;const I=L=>{const H=L.target;H&&(H.closest(`.${pe.freshnessBadge}`)||H.closest(`.${pe.freshnessPopover}`)||x(null))},P=L=>{L.key==="Escape"&&x(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",P),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",P)}},[y]);const B=W.useMemo(()=>l?Mp(l.nextUpdateAt,Date.now()):"",[l]),S=W.useMemo(()=>u?Mp(u.nextUpdateAt,Date.now()):"",[u]),v=()=>E(!0),w=()=>E(!1),N=I=>{n(I)},_=(I,P)=>{I==="guildA"?(i(P.id),d(P)):(o(P.id),h(P))},j=I=>{I==="guildA"?(i(null),d(null)):(o(null),h(null))},k=I=>{x(P=>P===I?null:I)},U=l&&u;return s.jsxs(As,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[s.jsxs("div",{className:pe.page,children:[s.jsxs("header",{className:pe.header,children:[s.jsxs("div",{className:pe.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.kicker,children:"Guild Hub"}),s.jsx("h1",{className:pe.title,children:"Gilden vergleichen"}),s.jsx("p",{className:pe.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),s.jsx("div",{className:pe.headerActions,children:!t&&s.jsx("button",{type:"button",className:pe.secondaryAction,onClick:v,children:"Filter"})})]}),s.jsxs("div",{className:pe.infoStrip,children:[s.jsxs("div",{className:pe.infoCard,children:[s.jsx("span",{className:pe.infoLabel,children:"Pool"}),s.jsxs("strong",{children:[lp.format(m)," Gilden"]})]}),s.jsxs("div",{className:pe.infoCard,children:[s.jsx("span",{className:pe.infoLabel,children:"Durchschnitt Mitglieder"}),s.jsx("strong",{children:lp.format(g)})]}),s.jsxs("div",{className:pe.infoCard,children:[s.jsx("span",{className:pe.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:pe.inlineFilters,children:s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:pe.select,value:e,onChange:I=>N(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Uj.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:pe.layout,children:[s.jsxs("section",{className:pe.selectionColumn,children:[s.jsx(w4,{title:"Gilde A",slot:"guildA",selectedGuild:l,excludeId:a,onSelect:_,onClear:j,serverFilter:e,onServerChange:N}),s.jsx(w4,{title:"Gilde B",slot:"guildB",selectedGuild:u,excludeId:r,onSelect:_,onClear:j,serverFilter:e,onServerChange:N})]}),s.jsxs("section",{className:pe.comparisonColumn,children:[s.jsxs("div",{className:pe.comparisonCard,children:[s.jsxs("div",{className:pe.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.kicker,children:"Vergleich"}),s.jsx("h2",{className:pe.sectionTitle,children:"Kennzahlen"})]}),U&&s.jsxs("span",{className:pe.diffBadge,children:["Delta Mitglieder:"," ",lp.format(l.members-u.members)]})]}),U?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:pe.metricGrid,children:[s.jsx(b4,{label:"Mitglieder",aValue:l.members,bValue:u.members}),s.jsx(b4,{label:"Durchschnittslevel",aValue:l.avgLevel,bValue:u.avgLevel,isDecimal:!0}),s.jsx(tFe,{guildA:l,guildB:u,countdownA:B,countdownB:S,activePopover:y,onToggle:k})]}),s.jsx(sFe,{guildA:l,guildB:u})]}):s.jsx("div",{className:pe.emptyState,children:s.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:pe.supportPanels,children:[s.jsx(nFe,{}),s.jsx(rFe,{})]})]})]})]}),!t&&s.jsx("div",{className:`${pe.sheetOverlay} ${C?pe.sheetOpen:""}`,children:s.jsxs("div",{className:pe.sheet,role:"dialog","aria-modal":"true",ref:T,children:[s.jsxs("header",{className:pe.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:pe.clearButton,onClick:w,children:"Schliessen"})]}),s.jsx("div",{className:pe.sheetBody,children:s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:pe.select,value:e,onChange:I=>N(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Uj.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function w4({title:t,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:a,serverFilter:o,onServerChange:l}){const[d,u]=W.useState(""),h=rh(d,300);W.useEffect(()=>{u("")},[n,o]);const{results:m,loading:g}=iFe(h,o,r);return s.jsxs("article",{className:pe.selectionCard,children:[s.jsxs("div",{className:pe.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.slotLabel,children:t}),s.jsx("p",{className:pe.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:pe.clearButton,onClick:()=>a(e),children:"Reset"})]}),s.jsxs("div",{className:pe.slotBody,children:[s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:pe.select,value:o,onChange:y=>l(y.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Uj.map(y=>s.jsx("option",{value:y,children:y},y))]})]}),s.jsxs("label",{className:pe.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:pe.searchInput,placeholder:"Gildennamen eingeben",value:d,onChange:y=>u(y.target.value)})]}),s.jsxs("div",{className:pe.resultList,role:"list",children:[g&&s.jsx("div",{className:pe.emptyResult,children:"Lade..."}),!g&&m.length===0&&s.jsx("div",{className:pe.emptyResult,children:"Keine Gilde gefunden."}),!g&&m.map(y=>s.jsxs("div",{className:pe.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:pe.resultName,children:y.name}),s.jsxs("p",{className:pe.resultMeta,children:[y.server," - ",y.members," Mitglieder"]})]}),s.jsx("button",{type:"button",className:pe.selectButton,onClick:()=>i(e,y),children:"Waehlen"})]},y.id))]}),n&&s.jsxs("div",{className:pe.selectedCard,children:[s.jsx("p",{className:pe.selectedName,children:n.name}),s.jsxs("p",{className:pe.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),s.jsx("p",{className:pe.selectedTagline,children:n.tagline})]})]})]})}function b4({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=l=>r?l.toFixed(1).replace(".",","):lp.format(l),a=e-n;let o="gleich";if(a!==0){const l=r?Math.abs(a).toFixed(1).replace(".",","):lp.format(Math.abs(a));o=a>0?`+${l}`:`-${l}`}return s.jsxs("div",{className:pe.metricCard,children:[s.jsx("p",{className:pe.metricLabel,children:t}),s.jsxs("div",{className:pe.metricValues,children:[s.jsx("span",{"aria-label":"Gilde A",children:i(e)}),s.jsx("span",{className:pe.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),s.jsx("p",{className:pe.metricDelta,children:o})]})}function tFe({guildA:t,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return s.jsxs("div",{className:pe.metricCard,children:[s.jsx("p",{className:pe.metricLabel,children:"Freshness"}),s.jsx("div",{className:pe.freshnessRow,children:[t,e].map(o=>{const l=o.id===t.id?n:r,d=`fresh-${o.id}`,u=i===d;return s.jsxs("div",{className:pe.freshnessItem,children:[s.jsxs("button",{type:"button",className:pe.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":u,onClick:()=>a(d),children:[s.jsx("span",{children:o.freshness.toUpperCase()}),s.jsx("small",{children:vg(o.lastScanAt)})]}),u&&s.jsxs("div",{className:pe.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:pe.popoverTitle,children:o.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:cS[o.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:$o(o.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[$o(o.nextUpdateAt)," (",l,")"]})]})]})]})]},o.id)})})]})}function sFe({guildA:t,guildB:e}){const n=W.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return s.jsxs("div",{className:pe.classCard,children:[s.jsx("p",{className:pe.metricLabel,children:"Klassenverteilung"}),s.jsx("div",{className:pe.classGrid,children:[t,e].map(r=>s.jsxs("div",{className:pe.classColumn,children:[s.jsx("h3",{children:r.name}),s.jsx("div",{className:pe.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>s.jsxs("span",{style:{width:`${i.percent}%`},className:pe.classSlice,children:[s.jsx("small",{children:i.label}),s.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),s.jsx("ul",{className:pe.classLegend,children:n.map(r=>s.jsx("li",{children:r},r))})]})}function nFe(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return s.jsxs("section",{className:pe.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:pe.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function rFe(){return s.jsxs("section",{className:pe.infoCardExtended,children:[s.jsx("h3",{children:"Transfers-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:pe.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),s.jsx("button",{type:"button",className:pe.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function iFe(t,e,n){const[r,i]=W.useState([]),[a,o]=W.useState(!1);return W.useEffect(()=>{const l=t.trim();if(l.length===0){i([]),o(!1);return}let d=!1;async function u(){const h=Jn("CompareGuilds:search");o(!0);try{const m=l.toLowerCase(),g=rg(Lt,"latest"),y=await Hn(h,{path:"guilds/latest (collectionGroup)"},()=>Qn(Yn(g,pa("nameFold"),Rc(m),Uc(m+""),Fr(15)))),x=await Hn(h,{path:"guilds/latest (collectionGroup)"},()=>Qn(Yn(g,Xi("nameNgrams","array-contains",m),Fr(15)))),C=new Set,E=[],T=B=>{var L,H,O,z,G,$,Y,J,V,X,Z,se,le,we,Se,te,ce,re,ye,Be,Le;const S=B.data(),w=(L=B.ref.parent)==null?void 0:L.parent,N=w==null?void 0:w.parent;if((N==null?void 0:N.id)!=="guilds")return;const j=(O=(H=w==null?void 0:w.id)!=null?H:S.guildIdentifier)!=null?O:B.id;if(!j||C.has(j)||n&&j===n)return;const k=($=(G=S.name)!=null?G:(z=S.values)==null?void 0:z.Name)!=null?$:"Unbekannte Gilde",U=(V=(J=S.server)!=null?J:(Y=S.values)==null?void 0:Y.Server)!=null?V:"Unknown";if(e!=="all"&&U!==e)return;const I=(we=(le=(Z=S.memberCount)!=null?Z:(X=S.values)==null?void 0:X["Guild Member Count"])!=null?le:(se=S.values)==null?void 0:se.GuildMemberCount)!=null?we:0,P=(ce=(te=S.updatedAt)!=null?te:(Se=S.values)==null?void 0:Se.UpdatedAt)!=null?ce:S.timestamp?new Date(S.timestamp*1e3).toISOString():new Date().toISOString();C.add(j),E.push({id:j,name:k,tagline:(re=S.tagline)!=null?re:"",server:U,members:I,avgLevel:(Le=(Be=S.avgLevel)!=null?Be:(ye=S.values)==null?void 0:ye.AvgLevel)!=null?Le:0,lastScanAt:P,updatedAt:P,nextUpdateAt:P,freshness:"unknown",classes:[]})};y.forEach(T),x.forEach(T),d||(E.sort((B,S)=>B.name.localeCompare(S.name)),i(E))}catch(m){console.error("[GuildHub CompareGuilds] guild search failed",m),d||i([])}finally{Cn(h),d||o(!1)}}return u(),()=>{d=!0}},[t,e,n]),{results:r,loading:a}}const aFe="_page_o27vc_1",oFe="_header_o27vc_13",lFe="_headerStack_o27vc_25",cFe="_kicker_o27vc_37",dFe="_title_o27vc_53",uFe="_headerActions_o27vc_65",AFe="_primaryAction_o27vc_77",hFe="_secondaryAction_o27vc_79",mFe="_infoStrip_o27vc_109",pFe="_infoPill_o27vc_129",gFe="_freshnessWrapper_o27vc_163",fFe="_freshnessBadge_o27vc_171",vFe="_popover_o27vc_191",xFe="_popoverLabel_o27vc_221",yFe="_filterToolbar_o27vc_231",wFe="_filterSheetButton_o27vc_241",bFe="_inlineFilters_o27vc_259",_Fe="_searchInput_o27vc_271",jFe="_select_o27vc_273",CFe="_chipGroup_o27vc_295",SFe="_chip_o27vc_295",BFe="_chipActive_o27vc_325",NFe="_levelRow_o27vc_335",kFe="_sortControls_o27vc_363",IFe="_sortLabel_o27vc_375",EFe="_directionButton_o27vc_385",TFe="_listBody_o27vc_403",FFe="_tableWrapper_o27vc_415",LFe="_table_o27vc_415",RFe="_cardFooter_o27vc_459",UFe="_panel_o27vc_461",PFe="_formPanel_o27vc_463",DFe="_statusSelect_o27vc_481",MFe="_stickyColumn_o27vc_515",QFe="_rowButton_o27vc_529",HFe="_scanBadge_o27vc_545",OFe="_cardList_o27vc_561",$Fe="_card_o27vc_459",VFe="_cardHeader_o27vc_593",GFe="_cardTitle_o27vc_605",KFe="_cardMeta_o27vc_623",zFe="_cardNotes_o27vc_635",WFe="_emptyState_o27vc_659",qFe="_sheetBackdrop_o27vc_675",XFe="_sheet_o27vc_675",YFe="_sheetHandle_o27vc_717",JFe="_sheetBody_o27vc_733",ZFe="_sheetLabel_o27vc_749",e5e="_sheetActions_o27vc_785",t5e="_overlay_o27vc_797",s5e="_drawer_o27vc_837",n5e="_modal_o27vc_845",r5e="_panelHeader_o27vc_853",i5e="_section_o27vc_867",a5e="_tagRow_o27vc_899",o5e="_historyList_o27vc_913",l5e="_panelFooter_o27vc_943",c5e="_formOverlay_o27vc_955",d5e="_formGrid_o27vc_1003",u5e="_warning_o27vc_1015",A5e="_pagination_o27vc_1033",Ve={page:aFe,header:oFe,headerStack:lFe,kicker:cFe,title:dFe,headerActions:uFe,primaryAction:AFe,secondaryAction:hFe,infoStrip:mFe,infoPill:pFe,freshnessWrapper:gFe,freshnessBadge:fFe,popover:vFe,popoverLabel:xFe,filterToolbar:yFe,filterSheetButton:wFe,inlineFilters:bFe,searchInput:_Fe,select:jFe,chipGroup:CFe,chip:SFe,chipActive:BFe,levelRow:NFe,sortControls:kFe,sortLabel:IFe,directionButton:EFe,listBody:TFe,tableWrapper:FFe,table:LFe,cardFooter:RFe,panel:UFe,formPanel:PFe,statusSelect:DFe,stickyColumn:MFe,rowButton:QFe,scanBadge:HFe,cardList:OFe,card:$Fe,cardHeader:VFe,cardTitle:GFe,cardMeta:KFe,cardNotes:zFe,emptyState:WFe,sheetBackdrop:qFe,sheet:XFe,sheetHandle:YFe,sheetBody:JFe,sheetLabel:ZFe,sheetActions:e5e,overlay:t5e,drawer:s5e,modal:n5e,panelHeader:r5e,section:i5e,tagRow:a5e,historyList:o5e,panelFooter:l5e,formOverlay:c5e,formGrid:d5e,warning:u5e,pagination:A5e},vy=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],xy=["EU-01","EU-02","US-01","US-02","ASIA-01"],AS={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},_4={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},X1={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},h5e=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:xc(2),updatedAt:xc(3),freshness:"f1",history:[{date:aa(1),message:"Interview abgeschlossen"},{date:aa(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:xc(10),updatedAt:xc(11),freshness:"f3",history:[{date:aa(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:xc(20),updatedAt:xc(5),freshness:"f4",history:[{date:aa(4),message:"Probe erfolgreich"},{date:aa(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:aa(2),updatedAt:aa(2),freshness:"f5",history:[{date:aa(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:aa(3),updatedAt:aa(1),freshness:"f6",history:[{date:aa(1),message:"Bewerbung zurueckgezogen"},{date:aa(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:xc(5),updatedAt:xc(5),freshness:"f2",history:[{date:aa(1),message:"Profil verifiziert"}]}];function j4(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function m5e(t,e,n){const r=n.toLowerCase();return t.filter(i=>{const a=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),o=e.status==="all"||i.status===e.status,l=e.classes.length===0||e.classes.includes(i.classRole),d=e.servers.length===0||e.servers.includes(i.server),u=i.level>=e.lvMin&&i.level<=e.lvMax;return a&&o&&l&&d&&u})}function p5e(t,e,n){const r=[...t];return r.sort((i,a)=>{let o=0;switch(e){case"name":o=i.name.localeCompare(a.name);break;case"level":o=i.level-a.level;break;case"status":o=i.status.localeCompare(a.status);break;case"lastScan":o=new Date(i.lastScanAt).getTime()-new Date(a.lastScanAt).getTime();break;case"updatedAt":default:o=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break}return n==="asc"?o:-o}),r}function g5e(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function Ax(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function f5e(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function v5e(t){return t.length?t.reduce((e,n)=>e?_4[n.freshness]>_4[e.freshness]?n:e:n,null):null}function aa(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function xc(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function x5e(){var O;const[t,e]=W.useState(h5e),[n,r]=W.useState(X1),[i,a]=W.useState(X1),o=rh(n.q,300),l=W.useMemo(()=>{const z=m5e(t,n,o);return p5e(z,n.sort,n.dir)},[t,n,o]),d=W.useMemo(()=>g5e(l,n.page,n.pageSize),[l,n.page,n.pageSize]),u=Math.max(1,Math.ceil(l.length/n.pageSize)),h=ih("(min-width: 768px)"),m=ih("(min-width: 1024px)"),[g,y]=W.useState(!1),[x,C]=W.useState(null),E=(O=t.find(z=>z.id===x))!=null?O:null,T=W.useRef(null);ah(T,!!E&&!m);const[B,S]=W.useState(null),[v,w]=W.useState(!1),N=W.useRef(null);ah(N,v);const _=W.useMemo(()=>v5e(t),[t]),j=_&&_.lastScanAt?f5e(_.lastScanAt):"unbekannt",k=z=>{const G=j4(z);r(G),a(G)},U=(z,G)=>{const $=j4({...n,[z]:G,page:z==="page"?G:1});k($)},I=()=>{k(i),y(!1)},P=()=>{k(X1),y(!1)},L=(z,G)=>{e($=>$.map(Y=>Y.id===z?{...Y,status:G,updatedAt:new Date().toISOString()}:Y))},H=z=>{e(G=>G.some(Y=>Y.id===z.id)?G.map(Y=>Y.id===z.id?z:Y):[z,...G]),w(!1)};return s.jsxs(As,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[s.jsxs("div",{className:Ve.page,children:[s.jsxs("header",{className:Ve.header,children:[s.jsxs("div",{className:Ve.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ve.kicker,children:"Recruiting"}),s.jsx("h1",{className:Ve.title,children:"Waitlist"})]}),s.jsxs("div",{className:Ve.headerActions,children:[s.jsx("button",{type:"button",className:Ve.primaryAction,onClick:()=>{S(null),w(!0)},children:"Neuer Eintrag"}),!h&&s.jsx("button",{type:"button",className:Ve.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>y(!0),children:"Filter"})]})]}),s.jsxs("div",{className:Ve.infoStrip,children:[s.jsx(Y1,{label:"Neu",value:l.filter(z=>z.status==="new").length}),s.jsx(Y1,{label:"In Review",value:l.filter(z=>z.status==="in_review").length}),s.jsx(Y1,{label:"Zugesagt",value:l.filter(z=>z.status==="accepted").length}),_&&s.jsx(y5e,{label:AS[_.freshness],updatedAt:_.lastScanAt,countdown:j})]})]}),s.jsx("section",{className:Ve.filterToolbar,children:h?s.jsx(w5e,{filters:n,onChange:U,onToggleClass:z=>{const G=n.classes.includes(z)?n.classes.filter($=>$!==z):[...n.classes,z];U("classes",G)},onToggleServer:z=>{const G=n.servers.includes(z)?n.servers.filter($=>$!==z):[...n.servers,z];U("servers",G)}}):s.jsx("button",{type:"button",className:Ve.filterSheetButton,onClick:()=>y(!0),children:"Filter & Sortierung"})}),s.jsx("section",{className:Ve.listBody,children:h?s.jsx(b5e,{items:d,sort:n.sort,dir:n.dir,onSortChange:z=>{const G=n.sort===z&&n.dir==="asc"?"desc":"asc";U("sort",z),U("dir",G)},onSelect:C,onStatusChange:L}):s.jsx(_5e,{items:d,onSelect:C,onStatusChange:L})}),s.jsx(C5e,{page:n.page,totalPages:u,onChange:z=>U("page",z)})]}),g&&s.jsx(j5e,{filters:i,onChange:a,onToggleClass:z=>a(G=>({...G,classes:G.classes.includes(z)?G.classes.filter($=>$!==z):[...G.classes,z]})),onToggleServer:z=>a(G=>({...G,servers:G.servers.includes(z)?G.servers.filter($=>$!==z):[...G.servers,z]})),onClose:()=>y(!1),onApply:I,onReset:P}),E&&s.jsx(K6,{ref:T,item:E,mode:m?"drawer":"modal",onClose:()=>C(null),onEdit:()=>{S(E),w(!0),C(null)}}),v&&s.jsx(z6,{ref:N,item:B,entries:t,onClose:()=>w(!1),onSubmit:H})]})}function Y1({label:t,value:e}){return s.jsxs("div",{className:Ve.infoPill,children:[s.jsx("span",{children:t}),s.jsx("strong",{children:e})]})}function y5e({label:t,updatedAt:e,countdown:n}){const[r,i]=W.useState(!1);return s.jsxs("div",{className:Ve.freshnessWrapper,children:[s.jsx("button",{type:"button",className:Ve.freshnessBadge,onClick:()=>i(a=>!a),"aria-expanded":r,children:t}),r&&s.jsxs("div",{className:Ve.popover,children:[s.jsxs("div",{children:[s.jsx("span",{className:Ve.popoverLabel,children:"Letzter Scan"}),s.jsx("strong",{children:Ax(e)})]}),s.jsxs("div",{children:[s.jsx("span",{className:Ve.popoverLabel,children:"Aktualisiert"}),s.jsx("strong",{children:n})]})]})]})}function w5e({filters:t,onChange:e,onToggleClass:n,onToggleServer:r}){return s.jsxs("div",{className:Ve.inlineFilters,children:[s.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:Ve.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),s.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:Ve.select,value:t.status,onChange:i=>e("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("div",{className:Ve.chipGroup,children:vy.map(i=>{const a=t.classes.includes(i);return s.jsx("button",{type:"button",className:`${Ve.chip} ${a?Ve.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),s.jsx("div",{className:Ve.chipGroup,children:xy.map(i=>{const a=t.servers.includes(i);return s.jsx("button",{type:"button",className:`${Ve.chip} ${a?Ve.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:Ve.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),s.jsxs("div",{className:Ve.sortControls,children:[s.jsx("label",{className:Ve.sortLabel,children:"Sortieren"}),s.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"lastScan",children:"Letzter Scan"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),s.jsx("button",{type:"button",className:Ve.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function b5e({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a}){const o=l=>e===l?n==="asc"?" ":" ":"";return t.length?s.jsx("div",{className:Ve.tableWrapper,children:s.jsxs("table",{className:Ve.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:Ve.stickyColumn,onClick:()=>r("name"),children:["Name",o("name")]}),s.jsx("th",{children:"Klasse"}),s.jsxs("th",{onClick:()=>r("level"),children:["Level",o("level")]}),s.jsx("th",{children:"Server"}),s.jsxs("th",{onClick:()=>r("status"),children:["Status",o("status")]}),s.jsx("th",{children:"Notizen"}),s.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",o("lastScan")]})]})}),s.jsx("tbody",{children:t.map(l=>s.jsxs("tr",{children:[s.jsx("td",{className:Ve.stickyColumn,children:s.jsx("button",{type:"button",className:Ve.rowButton,onClick:()=>i(l.id),children:l.name})}),s.jsx("td",{children:l.classRole}),s.jsx("td",{children:l.level}),s.jsx("td",{children:l.server}),s.jsx("td",{children:s.jsxs("select",{className:Ve.statusSelect,name:`waitlistStatus-${l.id}`,"aria-label":`Status fuer ${l.name}`,value:l.status,onChange:d=>a(l.id,d.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),s.jsxs("td",{children:[l.notes.slice(0,64),"..."]}),s.jsx("td",{children:s.jsx("span",{className:Ve.scanBadge,children:AS[l.freshness]})})]},l.id))})]})}):s.jsx(G6,{})}function _5e({items:t,onSelect:e,onStatusChange:n}){return t.length?s.jsx("div",{className:Ve.cardList,children:t.map(r=>s.jsxs("article",{className:Ve.card,children:[s.jsxs("div",{className:Ve.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:Ve.cardTitle,onClick:()=>e(r.id),children:r.name}),s.jsxs("p",{className:Ve.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),s.jsx("span",{className:Ve.scanBadge,children:AS[r.freshness]})]}),s.jsxs("p",{className:Ve.cardNotes,children:[r.notes.slice(0,160),"..."]}),s.jsxs("div",{className:Ve.cardFooter,children:[s.jsxs("select",{className:Ve.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("button",{type:"button",className:Ve.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):s.jsx(G6,{})}function G6(){return s.jsx("div",{className:Ve.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function j5e({filters:t,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:a,onReset:o}){return s.jsx("div",{className:Ve.sheetBackdrop,onClick:i,children:s.jsxs("div",{className:Ve.sheet,onClick:l=>l.stopPropagation(),children:[s.jsx("div",{className:Ve.sheetHandle}),s.jsxs("div",{className:Ve.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:Ve.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:l=>e(d=>({...d,q:l.target.value}))})]}),s.jsxs("label",{className:Ve.sheetLabel,children:["Status",s.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:l=>e(d=>({...d,status:l.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),s.jsxs("div",{className:Ve.sheetLabel,children:["Klassen",s.jsx("div",{className:Ve.chipGroup,children:vy.map(l=>{const d=t.classes.includes(l);return s.jsx("button",{type:"button",className:`${Ve.chip} ${d?Ve.chipActive:""}`,"aria-label":`Klasse ${l}`,onClick:()=>n(l),children:l},l)})})]}),s.jsxs("div",{className:Ve.sheetLabel,children:["Server",s.jsx("div",{className:Ve.chipGroup,children:xy.map(l=>{const d=t.servers.includes(l);return s.jsx("button",{type:"button",className:`${Ve.chip} ${d?Ve.chipActive:""}`,"aria-label":`Server ${l}`,onClick:()=>r(l),children:l},l)})})]}),s.jsxs("div",{className:Ve.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:l=>e(d=>({...d,lvMin:Number(l.target.value)}))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:l=>e(d=>({...d,lvMax:Number(l.target.value)}))})]})]})]}),s.jsxs("div",{className:Ve.sheetActions,children:[s.jsx("button",{type:"button",onClick:o,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:Ve.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const K6=W.forwardRef(({item:t,mode:e,onClose:n,onEdit:r},i)=>s.jsx("div",{className:Ve.overlay,children:s.jsxs("div",{ref:i,className:`${Ve.panel} ${e==="drawer"?Ve.drawer:Ve.modal}`,children:[s.jsxs("header",{className:Ve.panelHeader,children:[s.jsxs("div",{children:[s.jsxs("p",{className:Ve.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),s.jsx("h2",{children:t.name})]}),s.jsx("button",{type:"button",className:Ve.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("section",{className:Ve.section,children:[s.jsx("h3",{children:"Kontakt"}),s.jsx("p",{children:t.contact}),s.jsxs("p",{children:["Quelle: ",t.source]})]}),s.jsxs("section",{className:Ve.section,children:[s.jsx("h3",{children:"Notizen"}),s.jsx("p",{children:t.notes})]}),s.jsxs("section",{className:Ve.section,children:[s.jsx("h3",{children:"Tags"}),s.jsx("div",{className:Ve.tagRow,children:t.tags.length?t.tags.map(a=>s.jsx("span",{children:a},a)):s.jsx("span",{children:"Keine"})})]}),s.jsxs("section",{className:Ve.section,children:[s.jsx("h3",{children:"Historie"}),s.jsx("ul",{className:Ve.historyList,children:t.history.map(a=>s.jsxs("li",{children:[s.jsx("span",{children:Ax(a.date)}),s.jsx("p",{children:a.message})]},`${a.date}-${a.message}`))})]}),s.jsxs("section",{className:Ve.section,children:[s.jsx("h3",{children:"Scan-Infos"}),s.jsxs("p",{children:["Letzter Scan: ",Ax(t.lastScanAt)]}),s.jsxs("p",{children:["Aktualisiert: ",Ax(t.updatedAt)]})]}),s.jsxs("footer",{className:Ve.panelFooter,children:[s.jsx("button",{type:"button",className:Ve.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:Ve.primaryAction,onClick:n,children:"Schliessen"})]})]})}));K6.displayName="DetailPanel";const z6=W.forwardRef(({item:t,entries:e,onClose:n,onSubmit:r},i)=>{const[a,o]=W.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:vy[0],level:1,server:xy[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});W.useEffect(()=>{t&&o(t)},[JSON.stringify(t)]);const l=u=>{u.preventDefault(),r({...a,updatedAt:new Date().toISOString()})},d=e.some(u=>u.id!==a.id&&u.name.toLowerCase()===a.name.toLowerCase()&&u.server===a.server);return s.jsx("div",{className:Ve.formOverlay,children:s.jsxs("form",{ref:i,className:Ve.formPanel,onSubmit:l,children:[s.jsxs("header",{className:Ve.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ve.cardMeta,children:t?"Bearbeiten":"Neu"}),s.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),s.jsx("button",{type:"button",className:Ve.secondaryAction,onClick:n,children:"Schliessen"})]}),d&&s.jsx("div",{className:Ve.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),s.jsxs("label",{className:Ve.sheetLabel,children:["Name",s.jsx("input",{name:"waitlistFormName",value:a.name,onChange:u=>o(h=>({...h,name:u.target.value}))})]}),s.jsxs("div",{className:Ve.formGrid,children:[s.jsxs("label",{children:["Klasse",s.jsx("select",{name:"waitlistFormClass",value:a.classRole,onChange:u=>o(h=>({...h,classRole:u.target.value})),children:vy.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("label",{children:["Level",s.jsx("input",{type:"number",name:"waitlistFormLevel",value:a.level,min:1,max:200,onChange:u=>o(h=>({...h,level:Number(u.target.value)}))})]}),s.jsxs("label",{children:["Server",s.jsx("select",{name:"waitlistFormServer",value:a.server,onChange:u=>o(h=>({...h,server:u.target.value})),children:xy.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"waitlistFormStatus",value:a.status,onChange:u=>o(h=>({...h,status:u.target.value})),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),s.jsxs("label",{className:Ve.sheetLabel,children:["Kontakt",s.jsx("input",{name:"waitlistFormContact",value:a.contact,onChange:u=>o(h=>({...h,contact:u.target.value}))})]}),s.jsxs("label",{className:Ve.sheetLabel,children:["Quelle",s.jsx("input",{name:"waitlistFormSource",value:a.source,onChange:u=>o(h=>({...h,source:u.target.value}))})]}),s.jsxs("label",{className:Ve.sheetLabel,children:["Notizen",s.jsx("textarea",{name:"waitlistFormNotes",value:a.notes,onChange:u=>o(h=>({...h,notes:u.target.value})),rows:4})]}),s.jsxs("footer",{className:Ve.panelFooter,children:[s.jsx("button",{type:"button",className:Ve.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:Ve.primaryAction,children:"Speichern"})]})]})})});z6.displayName="WaitlistForm";function C5e({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:Ve.pagination,children:[s.jsx("button",{type:"button",className:Ve.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:Ve.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const S5e=["tab","sub","sub2","q","sort","dir","page","pageSize"];function wh(t=[]){const[e,n]=yr(),r=W.useMemo(()=>[...t].sort().join("|"),[t]),i=W.useMemo(()=>{const h=new Set([...S5e]);return t.forEach(m=>h.add(m)),Array.from(h)},[r]),a=W.useMemo(()=>{const h={};return i.forEach(m=>{const g=e.get(m);g!==null&&(h[m]=g)}),h},[e,i]),o=W.useCallback((h,m)=>{var y;const g=new URLSearchParams(e);Object.entries(h).forEach(([x,C])=>{C==null||C===""?g.delete(x):g.set(x,String(C))}),n(g,{replace:(y=m==null?void 0:m.replace)!=null?y:!1})},[e,n]),l=W.useCallback(h=>{const m=new URLSearchParams(e);(h&&h.length>0?h:i).forEach(y=>m.delete(y)),n(m,{replace:!0})},[e,n,i]),d=W.useCallback((h,m="")=>{var g;return(g=a[h])!=null?g:m},[a]),u=W.useCallback((h,m=0)=>{const g=a[h],y=g?Number(g):NaN;return Number.isFinite(y)?y:m},[a]);return{params:a,getParam:d,getNumberParam:u,writeParams:o,resetParams:l}}function B5e(){return wh(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Activity"})})}function N5e(){return wh(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Imports"})})}function k5e(){return wh(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Announcements"})})}function I5e(){return wh(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Events"})})}function E5e(){return wh(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Roles"})})}function T5e(){return wh(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Settings"})})}const F5e=[{icon:s.jsx(Ly,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(c9,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(ZO,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],L5e=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],R5e=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function U5e(){return s.jsx(As,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ys,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(P5e,{}),right:s.jsx(D5e,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:F5e.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(Ys,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:L5e.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(s2,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function P5e(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(Ys,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(Ys,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(Ys,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),s.jsx(Ys,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function D5e(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:R5e.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const M5e=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function Q5e(){return s.jsx(As,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:M5e.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:H5e(t.severity)},children:t.severity})]},t.id))})]})})}function H5e(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const lo={background:"#152A42",borderColor:"#2B4C73"},FA={background:"#1A2F4A",borderColor:"#2B4C73"},J1=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function O5e(){const{data:t,loading:e,refreshing:n,error:r,refresh:i}=K5e(),a=W.useMemo(()=>[{label:"Total uploads",value:Fa(t.metrics.totalUploads),hint:`${Fa(t.metrics.last24h)} in the last 24h`,icon:s.jsx(vO,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:Hp(t.metrics.successRate),hint:`${Fa(t.metrics.failed)} failed`,icon:s.jsx(aO,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?Z1(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${Z1(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(gO,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:C4(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx(bO,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Fa(t.metrics.uniqueUploaders),hint:`${Fa(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx(Ly,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Fa(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(s5,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(As,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx($5e,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:s.jsx(V5e,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(o=>s.jsxs("article",{className:"rounded-2xl border p-4",style:lo,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[o.icon,o.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:o.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:o.hint})]},o.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:lo,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(o=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:FA,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:LA(o.status)},"aria-hidden":"true"}),hS(o.status)]}),s.jsx("span",{className:"font-semibold",children:Fa(o.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(o.share*100,100).toFixed(1)}%`,backgroundColor:LA(o.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[Hp(o.share)," of window"]})]},o.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:lo,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(o=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:FA,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:o.hourLabel}),s.jsxs("span",{children:[Fa(o.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:LA("success")},"aria-hidden":"true"}),"Success ",Fa(o.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:LA("failed")},"aria-hidden":"true"}),"Failed ",Fa(o.failed)]})]})]},o.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:lo,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Vc,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(s2,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(JH,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(o=>{var l,d,u,h;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:o.id}),s.jsx("span",{children:s.jsx(G5e,{status:o.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(d=(l=o.uploaderName)!=null?l:o.uploaderId)!=null?d:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:o.uploadedAt?o.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(h=(u=o.guildName)!=null?u:o.guildId)!=null?h:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:o.errorCode?`Issue: ${o.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:o.processingMs?Z1(o.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:o.fileSizeBytes?C4(o.fileSizeBytes):""})]},o.id)})})]})]})})}function $5e({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:lo,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(Fy,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:lo,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:LA(i.status)},"aria-hidden":"true"}),hS(i.status)]}),s.jsx("span",{children:Hp(i.share)})]},i.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(Vc,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:lo,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vv,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vv,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vv,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function V5e({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:lo,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(s5,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:FA,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:i.code}),s.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:lo,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(s2,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var a;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:FA,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),s.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(a=i.errorCode)!=null?a:"No error code provided"})]},i.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:lo,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(Ly,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:FA,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Hp(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Fa(i.count)})]},i.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:lo,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(CO,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:FA,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Hp(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Fa(i.count)})]},i.id))})]})]})}function G5e({status:t}){const e=LA(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(Vv,{className:"h-3 w-3","aria-hidden":"true"}),hS(t)]})}function K5e(){const[t,e]=W.useState(J1),[n,r]=W.useState(!0),[i,a]=W.useState(!1),[o,l]=W.useState(null),d=W.useCallback(async(h=!1)=>{const m=Jn("AdminScansUploaded:overview");h?a(!0):r(!0);try{const g=Ml(Lt,"scanUploads"),y=Yn(g,pa("uploadedAt","desc"),Fr(100)),C=(await Hn(m,g,()=>Qn(y))).docs.map(E=>z5e(E.id,E.data()));C.length>0?(e(C),l(null)):(e(J1),l("No uploads in window - showing fallback snapshot"))}catch(g){console.error("[ScansUploaded] Failed to load Firestore data",g),l("Live data unavailable - fallback snapshot active"),e(J1)}finally{Cn(m),h?a(!1):r(!1)}},[]);W.useEffect(()=>{d(!1)},[d]);const u=W.useMemo(()=>q5e(t),[t]);return{loading:n,refreshing:i,error:o,data:u,refresh:W.useCallback(()=>d(!0),[d])}}function z5e(t,e){const n=W5e(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof xn?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function W5e(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function q5e(t){var k,U;const e=new Map,n=new Map,r=new Map,i=new Map,a=[];let o=0,l=0;const u=Date.now()-1440*60*1e3,h=new Map;t.forEach(I=>{var O,z,G,$,Y,J,V,X,Z,se,le,we,Se,te,ce,re,ye;const P=(O=e.get(I.status))!=null?O:0;if(e.set(I.status,P+1),I.uploadedAt&&I.uploadedAt.getTime()>=u&&(l+=1),I.processingMs!=null&&a.push(I.processingMs),I.fileSizeBytes!=null&&(o+=I.fileSizeBytes),I.status==="failed"&&I.errorCode){const Be=(z=n.get(I.errorCode))!=null?z:{count:0,lastSeen:null};n.set(I.errorCode,{count:Be.count+1,lastSeen:!Be.lastSeen||I.uploadedAt&&Be.lastSeen<I.uploadedAt?I.uploadedAt:Be.lastSeen})}const L=($=(G=I.uploaderId)!=null?G:I.uploaderName)!=null?$:`anon-${I.id}`,H=(V=r.get(L))!=null?V:{name:(J=(Y=I.uploaderName)!=null?Y:I.uploaderId)!=null?J:"Unknown",success:0,total:0};if(r.set(L,{name:(Z=(X=I.uploaderName)!=null?X:I.uploaderId)!=null?Z:"Unknown",success:H.success+(I.status==="success"?1:0),total:H.total+1}),I.guildId||I.guildName){const Be=(le=(se=I.guildId)!=null?se:I.guildName)!=null?le:`guild-${I.id}`,Le=(te=i.get(Be))!=null?te:{name:(Se=(we=I.guildName)!=null?we:I.guildId)!=null?Se:"Unknown",success:0,total:0};i.set(Be,{name:(re=(ce=I.guildName)!=null?ce:I.guildId)!=null?re:"Unknown",success:Le.success+(I.status==="success"?1:0),total:Le.total+1})}if(I.uploadedAt){const Be=new Date(I.uploadedAt);Be.setMinutes(0,0,0);const Le=Be.toISOString(),Ee=(ye=h.get(Le))!=null?ye:{hourLabel:Y5e(Be),timestamp:Be,total:0,success:0,failed:0};h.set(Le,{hourLabel:Ee.hourLabel,timestamp:Ee.timestamp,total:Ee.total+1,success:Ee.success+(I.status==="success"?1:0),failed:Ee.failed+(I.status==="failed"?1:0)})}});const m=t.length,g=(k=e.get("success"))!=null?k:0,y=(U=e.get("failed"))!=null?U:0,x=a.length?a.reduce((I,P)=>I+P,0)/a.length:null,C=a.length?X5e(a,95):null,E=r.size,T=i.size,B=Array.from(e.entries()).map(([I,P])=>({status:I,count:P,share:m?P/m:0})).sort((I,P)=>P.count-I.count),S=Array.from(h.values()).sort((I,P)=>P.timestamp.getTime()-I.timestamp.getTime()).slice(0,12),v=Array.from(n.entries()).map(([I,P])=>({code:I,...P})).sort((I,P)=>P.count-I.count).slice(0,6),w=[...t].sort((I,P)=>{var L,H,O,z;return((H=(L=P.uploadedAt)==null?void 0:L.getTime())!=null?H:0)-((z=(O=I.uploadedAt)==null?void 0:O.getTime())!=null?z:0)}).slice(0,12),N=t.filter(I=>I.status==="failed").sort((I,P)=>{var L,H,O,z;return((H=(L=P.uploadedAt)==null?void 0:L.getTime())!=null?H:0)-((z=(O=I.uploadedAt)==null?void 0:O.getTime())!=null?z:0)}),_=Array.from(r.entries()).map(([I,P])=>({id:I,name:P.name,count:P.total,successRate:P.total?P.success/P.total:0})).sort((I,P)=>P.count-I.count).slice(0,5),j=Array.from(i.entries()).map(([I,P])=>({id:I,name:P.name,count:P.total,successRate:P.total?P.success/P.total:0})).sort((I,P)=>P.count-I.count).slice(0,5);return{metrics:{totalUploads:m,last24h:l,successRate:m?g/m:0,failed:y,avgProcessingMs:x,p95ProcessingMs:C,uniqueUploaders:E,uniqueGuilds:T,totalFileSizeBytes:o},statusBreakdown:B,timeline:S,issues:v,recentFailures:N,recentUploads:w,topUploaders:_,topGuilds:j}}function X5e(t,e){const n=[...t].sort((l,d)=>l-d);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),a=Math.ceil(r);if(i===a)return n[i];const o=r-i;return n[i]*(1-o)+n[a]*o}function Fa(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function Hp(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function Z1(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function C4(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function LA(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function hS(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function Y5e(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function e_({label:t,value:e,hint:n}){return s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),s.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function J5e(){var l,d,u,h,m,g;const{snapshot:t,error:e,loading:n,refresh:r}=F6(),i=(l=t==null?void 0:t.warnings)!=null?l:[],a=(u=(d=t==null?void 0:t.data)==null?void 0:d.length)!=null?u:0,o=(h=t==null?void 0:t.stats)!=null?h:{};return s.jsx(As,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(e_,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),s.jsx(e_,{label:"Creators tracked",value:a?a.toString():"0"}),s.jsx(e_,{label:"API lookups",value:`${(m=o.youtubeLookups)!=null?m:0}  ${(g=o.twitchLookups)!=null?g:0}`,hint:"YouTube  Twitch"})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?s.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):s.jsx("ul",{className:"space-y-2",children:i.map((y,x)=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[y.creator,"  ",y.scope]}),s.jsx("div",{className:"text-xs text-[#B0C4D9]",children:y.message}),y.source&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:y.source})]},`${y.scope}-${x}`))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),s.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{children:["Add the following environment variables (e.g. in ",s.jsx("code",{children:".env.local"}),"):",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),s.jsxs("li",{children:["Execute the sync script:",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),s.jsxs("li",{children:["Commit/deploy the generated ",s.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&s.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const B0=`${Ha}/admin/users`,Z5e=25,mS=()=>{if(!B0)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},S4=t=>typeof t!="number"?null:xn.fromMillis(t),pS=t=>{var e;return{id:t.id,userId:t.userId,displayName:t.displayName,avatarUrl:t.avatarUrl,primaryProvider:(e=t.primaryProvider)!=null?e:"discord",roles:t.roles,providers:t.providers,profile:t.profile,createdAt:S4(t.createdAt),lastLoginAt:S4(t.lastLoginAt),status:t.status,notes:t.notes}},eLe=t=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=t.pageSize)!=null?r:Z5e)),t.cursor&&e.set("cursor",t.cursor),t.role&&e.set("role",t.role),t.status&&e.set("status",t.status),t.provider&&e.set("provider",t.provider),t.search&&e.set("search",t.search);const n=e.toString();return n?`?${n}`:""},gS=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function B4(t={}){var r;mS();const e=eLe(t),n=`${B0}${e}`;try{const i=await fetch(n,{credentials:"include"});if(!i.ok)throw await gS(i);const a=await i.json();return{users:a.users.map(pS),nextPageCursor:(r=a.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function tLe(t){mS();const e=await fetch(`${B0}/${encodeURIComponent(t)}`,{credentials:"include"});if(!e.ok)throw await gS(e);const n=await e.json();return pS(n.user)}async function sLe(t,e){mS();const n=await fetch(`${B0}/${encodeURIComponent(t)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw await gS(n);const r=await n.json();return pS(r.user)}const W6=`${Ha}/admin/audit-events`,nLe=50,rLe=()=>{if(!W6)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},iLe=t=>typeof t!="number"?null:xn.fromMillis(t),aLe=t=>{var e,n;return{id:t.id,createdAt:iLe(t.createdAt),actorUserId:t.actorUserId,actorDisplayName:(e=t.actorDisplayName)!=null?e:null,targetUserId:t.targetUserId,action:t.action,summary:t.summary,changes:(n=t.changes)!=null?n:{},context:t.context}},oLe=t=>{var r;const e=new URLSearchParams;e.set("limit",String((r=t.limit)!=null?r:nLe)),t.cursor&&e.set("cursor",t.cursor),t.actorUserId&&e.set("actorUserId",t.actorUserId),t.targetUserId&&e.set("targetUserId",t.targetUserId),t.action&&e.set("action",t.action);const n=e.toString();return n?`?${n}`:""},lLe=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function Pj(t={}){var i;rLe();const e=`${W6}${oLe(t)}`,n=await fetch(e,{credentials:"include"});if(!n.ok)throw await lLe(n);const r=await n.json();return{events:r.events.map(aLe),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function cLe(t,e=10){return Pj({targetUserId:t,limit:e})}const dLe=20,uLe=50,cp={borderColor:"#2B4C73",background:"#152A42"},q6={background:"#1A2F4A"};function ALe(){var l;const{status:t,user:e}=Oa(),n=(l=e==null?void 0:e.roles)!=null?l:[],r=n.includes("admin"),i=r||n.includes("mod"),[a,o]=R.useState("users");return t==="loading"||t==="idle"?s.jsx(As,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[s.jsx(Vc,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?s.jsx(As,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:s.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[s.jsx(fu,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:s.jsx(hLe,{activeTab:a,onChange:o}),children:a==="users"?s.jsx(mLe,{isAdmin:r}):s.jsx(pLe,{isAdmin:r,onSelectUser:d=>{o("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:d}}))}})}):s.jsx(As,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[s.jsx(n5,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),s.jsxs("p",{children:["You need at least the ",s.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function hLe({activeTab:t,onChange:e}){const n=[{key:"users",label:"Users",icon:s.jsx(Ly,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:s.jsx(XO,{className:"h-4 w-4"})}];return s.jsx("div",{className:"flex gap-2",children:n.map(r=>s.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function mLe({isAdmin:t}){const[e,n]=R.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=R.useState(""),a=Mj(r,350);R.useEffect(()=>{n(re=>re.search===a?re:{...re,search:a})},[a]);const[o,l]=R.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[d,u]=R.useState(0),h=R.useMemo(()=>({pageSize:dLe,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);R.useEffect(()=>{let re=!1;return l(ye=>({...ye,loading:!0,error:null})),B4(h).then(ye=>{re||l({items:ye.users,cursor:ye.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(ye=>{re||l(Be=>({...Be,loading:!1,loadingMore:!1,error:ye instanceof Error?ye.message:"Failed to load users"}))}),()=>{re=!0}},[h,d]);const m=()=>u(re=>re+1),g=async()=>{if(o.cursor){l(re=>({...re,loadingMore:!0,error:null}));try{const re=await B4({...h,cursor:o.cursor});l(ye=>({items:[...ye.items,...re.users],cursor:re.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(re){l(ye=>{var Be;return{...ye,loadingMore:!1,error:(Be=re==null?void 0:re.message)!=null?Be:"Failed to load additional users"}})}}},[y,x]=R.useState(null),[C,E]=R.useState(null),[T,B]=R.useState(!1),[S,v]=R.useState(null),[w,N]=R.useState(""),[_,j]=R.useState(!1),[k,U]=R.useState(null),[I,P]=R.useState(!1),[L,H]=R.useState(!1),[O,z]=R.useState([]),[G,$]=R.useState(!1),[Y,J]=R.useState(null),V=R.useRef(null);R.useEffect(()=>{V.current=y},[y]);const X=R.useRef(!1);R.useEffect(()=>{X.current=_},[_]);const Z=R.useCallback(async re=>{var ye;$(!0),J(null);try{const Be=await cLe(re,12);V.current===re&&z(Be.events)}catch(Be){V.current===re&&J((ye=Be==null?void 0:Be.message)!=null?ye:"Failed to load audit history")}finally{V.current===re&&$(!1)}},[]);R.useEffect(()=>{var Le;if(!y){E(null),N(""),j(!1),z([]),J(null),H(!1);return}const re=y,ye=o.items.find(Ee=>Ee.id===re);ye?(E(ye),N((Le=ye.notes)!=null?Le:"")):(E(null),N("")),j(!1),B(!0),v(null);let Be=!1;return tLe(re).then(Ee=>{var De;Be||V.current!==re||(E(Ee),N((De=Ee.notes)!=null?De:""),j(!1),B(!1))}).catch(Ee=>{var De;Be||V.current!==re||(B(!1),v((De=Ee==null?void 0:Ee.message)!=null?De:"Failed to load user"))}),Z(re),()=>{Be=!0}},[y,o.items,Z]),R.useEffect(()=>{var ye;if(!y)return;const re=o.items.find(Be=>Be.id===y);re&&(E(Be=>Be&&Be.id===re.id?{...Be,...re}:re),X.current||N((ye=re.notes)!=null?ye:""))},[o.items,y]);const se=R.useCallback(re=>{l(ye=>({...ye,items:ye.items.map(Be=>Be.id===re.id?re:Be)}))},[]),le=R.useCallback(async re=>{var ye,Be;if(C){P(!0),U(null);try{const Le=await sLe(C.id,re);E(Le),se(Le),"notes"in re&&(j(!1),N((ye=Le.notes)!=null?ye:"")),await Z(Le.id)}catch(Le){U((Be=Le==null?void 0:Le.message)!=null?Be:"Failed to update user")}finally{P(!1)}}},[C,Z,se]),we=re=>{if(!C||!t||re==="user")return;const ye=new Set(C.roles);ye.has(re)?ye.delete(re):ye.add(re),ye.add("user"),le({roles:Array.from(ye)})},Se=re=>{!C||!t||Dj(C.status)===re||re==="banned"&&!window.confirm(`Ban ${dp(C)}? They will lose access to the control panel.`)||le({status:re})},te=re=>{N(re),j(!0)},ce=()=>{!C||!t||!_||le({notes:w.trim().length?w:null})};return R.useEffect(()=>{if(typeof window=="undefined")return;const re=ye=>{const Be=ye.detail;Be!=null&&Be.userId&&x(Be.userId)};return window.addEventListener("sf-admin-open-user",re),()=>{window.removeEventListener("sf-admin-open-user",re)}},[]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:cp,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(jx,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:re=>i(re.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(hx,{label:"Role",value:e.role,onChange:re=>n(ye=>({...ye,role:re})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),s.jsx(hx,{label:"Status",value:e.status,onChange:re=>n(ye=>({...ye,status:re})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),s.jsx(hx,{label:"Provider",value:e.provider,onChange:re=>n(ye=>({...ye,provider:re})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Fy,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[s.jsxs("div",{className:"rounded-2xl border",style:cp,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#B0C4D9]",children:[o.items.length," users ",e.search?"filtered":""]}),o.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Vc,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:q6,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"User ID"}),s.jsx("th",{className:"px-4 py-2",children:"Display name"}),s.jsx("th",{className:"px-4 py-2",children:"Role"}),s.jsx("th",{className:"px-4 py-2",children:"Status"}),s.jsx("th",{className:"px-4 py-2",children:"Providers"}),s.jsx("th",{className:"px-4 py-2",children:"Created"}),s.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),s.jsx("tbody",{children:o.items.map(re=>{var Be,Le,Ee;const ye=re.id===y;return s.jsxs("tr",{onClick:()=>x(re.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${ye?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:re.userId}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y6,{url:eM(re),name:dp(re)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:dp(re)}),(Be=re.profile)!=null&&Be.displayName&&re.profile.displayName!==re.displayName?s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:re.profile.displayName}):null]})]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(J6,{role:Z6(re.roles)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(fLe,{status:Dj(re.status)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(yy,{provider:"discord",active:!!((Le=re.providers)!=null&&Le.discord)}),s.jsx(yy,{provider:"google",active:!!((Ee=re.providers)!=null&&Ee.google)})]})}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:VA(re.createdAt)}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:VA(re.lastLoginAt)})]},re.id)})})]}),!o.loading&&!o.items.length&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),o.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(Qm,{className:"h-3.5 w-3.5"}),o.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:o.cursor?"More users available":"End of list"}),s.jsx("button",{type:"button",onClick:g,disabled:!o.cursor||o.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:o.loadingMore?"Loading...":"Load more"})]})]}),s.jsx("aside",{className:"rounded-2xl border p-3",style:cp,children:C?s.jsx(gLe,{user:C,isAdmin:t,detailLoading:T,detailError:S,notesValue:w,notesDirty:_,onNotesChange:te,onNotesSave:ce,onRoleToggle:we,onStatusChange:Se,actionError:k,actionPending:I,auditEntries:O,auditLoading:G,auditError:Y,onRefreshAudit:()=>C&&Z(C.id),showRawJson:L,toggleRawJson:()=>H(re=>!re)}):s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[s.jsx(mO,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function pLe({isAdmin:t,onSelectUser:e}){const[n,r]=R.useState({actor:"",target:"",action:"all"}),[i,a]=R.useState(""),[o,l]=R.useState(""),d=Mj(i,350),u=Mj(o,350);R.useEffect(()=>{r(T=>T.actor===d&&T.target===u?T:{...T,actor:d,target:u})},[d,u]);const[h,m]=R.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[g,y]=R.useState(0),x=R.useMemo(()=>{const T=n.action==="all"?void 0:n.action,B=n.actor.includes(":")?n.actor:void 0,S=n.target.includes(":")?n.target:void 0;return{limit:uLe,action:T,actorUserId:B,targetUserId:S}},[n]);R.useEffect(()=>{let T=!1;return m(B=>({...B,loading:!0,error:null})),Pj(x).then(B=>{T||m({items:B.events,cursor:B.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(B=>{T||m(S=>{var v;return{...S,loading:!1,loadingMore:!1,error:(v=B==null?void 0:B.message)!=null?v:"Failed to load audit log"}})}),()=>{T=!0}},[x,g]);const C=async()=>{if(h.cursor){m(T=>({...T,loadingMore:!0,error:null}));try{const T=await Pj({...x,cursor:h.cursor});m(B=>({items:[...B.items,...T.events],cursor:T.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(T){m(B=>{var S;return{...B,loadingMore:!1,error:(S=T==null?void 0:T.message)!=null?S:"Failed to load more events"}})}}},E=R.useMemo(()=>{const T=n.actor.trim().toLowerCase(),B=n.target.trim().toLowerCase();return h.items.filter(S=>{var N;const v=!T||S.actorUserId.toLowerCase().includes(T)||((N=S.actorDisplayName)!=null?N:"").toLowerCase().includes(T),w=!B||S.targetUserId.toLowerCase().includes(B);return v&&w})},[h.items,n.actor,n.target]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:cp,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(jx,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:T=>a(T.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(jx,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Target user id",value:o,onChange:T=>l(T.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(hx,{label:"Action",value:n.action,onChange:T=>r(B=>({...B,action:T})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:()=>y(T=>T+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Fy,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"rounded-2xl border",style:cp,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#8AA5C4]",children:[E.length," events"]}),h.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Vc,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:q6,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"Time"}),s.jsx("th",{className:"px-4 py-2",children:"Actor"}),s.jsx("th",{className:"px-4 py-2",children:"Target User"}),s.jsx("th",{className:"px-4 py-2",children:"Action"}),s.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),s.jsx("tbody",{children:E.map(T=>{var B;return s.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:VA(T.createdAt)}),s.jsxs("td",{className:"px-4 py-2",children:[s.jsx("div",{className:"text-white",children:(B=T.actorDisplayName)!=null?B:"N/A"}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:T.actorUserId})]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(T.targetUserId),children:T.targetUserId})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(X6,{action:T.action})}),s.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:T.summary})]},T.id)})})]}),!E.length&&!h.loading&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),h.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(Qm,{className:"h-3.5 w-3.5"}),h.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:h.cursor?"More events available":"End of audit log"}),s.jsx("button",{type:"button",onClick:C,disabled:!h.cursor||h.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:h.loadingMore?"Loading...":"Load more"})]})]}),!t&&s.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function gLe({user:t,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:a,onNotesChange:o,onNotesSave:l,onRoleToggle:d,onStatusChange:u,actionError:h,actionPending:m,auditEntries:g,auditLoading:y,auditError:x,onRefreshAudit:C,showRawJson:E,toggleRawJson:T}){var S,v;const B=Z6(t.roles);return s.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[s.jsx(Vc,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[s.jsx(Qm,{className:"h-3.5 w-3.5"}),r]}),s.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Y6,{url:eM(t),name:dp(t),size:56}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-base text-white",children:dp(t)}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),s.jsxs("div",{className:"mt-1 flex gap-1",children:[s.jsx(J6,{role:B}),s.jsx(yy,{provider:"discord",active:!!((S=t.providers)!=null&&S.discord)}),s.jsx(yy,{provider:"google",active:!!((v=t.providers)!=null&&v.google)})]})]})]})}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(w=>s.jsx("button",{type:"button",onClick:()=>d(w),disabled:!e||w==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(w)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:w},w))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),s.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(w=>s.jsx("button",{type:"button",onClick:()=>u(w),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${Dj(t.status)===w?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:w},w))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&s.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),s.jsx("textarea",{value:i,onChange:w=>o(w.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[m&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Vc,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),a&&e&&s.jsx("button",{type:"button",onClick:l,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),h&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(Qm,{className:"h-3 w-3"}),h]})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),s.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsx(Fy,{className:"h-3 w-3"}),"Refresh"]})]}),y&&s.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[s.jsx(Vc,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),x&&s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(Qm,{className:"h-3 w-3"}),x]}),!y&&!g.length&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),s.jsx("ul",{className:"space-y-2",children:g.map(w=>{var N;return s.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[s.jsx("span",{children:VA(w.createdAt)}),s.jsx(X6,{action:w.action})]}),s.jsx("div",{className:"mt-1 text-white",children:(N=w.actorDisplayName)!=null?N:w.actorUserId}),s.jsx("div",{className:"text-[#C8D6EC]",children:w.summary})]},w.id)})})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),s.jsxs("button",{type:"button",onClick:T,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[s.jsx(h9,{className:"h-3 w-3"}),E?"Hide raw JSON":"Show raw JSON"]})]}),s.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[s.jsx(Pv,{label:"Created",value:VA(t.createdAt)}),s.jsx(Pv,{label:"Last login",value:VA(t.lastLoginAt)}),s.jsx(Pv,{label:"Primary provider",value:t.primaryProvider}),s.jsx(Pv,{label:"Roles",value:t.roles.join(", ")})]}),E&&s.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function X6({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return s.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Pv({label:t,value:e}){return e?s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx("span",{className:"text-[#6E86A6]",children:t}),s.jsx("span",{className:"text-white",children:e})]}):null}function hx({label:t,value:e,options:n,onChange:r}){return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#8AA5C4]",children:t}),s.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))})]})}function Y6({url:t,name:e,size:n=32}){return t?s.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):s.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function J6({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return s.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function fLe({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:s.jsx(uO,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:s.jsx(fu,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:s.jsx(eO,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[t];return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function yy({provider:t,active:e}){const n=t==="discord"?"D":"G";return s.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:n})}function Z6(t){const e=["admin","mod","creator","user"];for(const n of e)if(t.includes(n))return n;return"user"}function dp(t){var e,n,r,i,a,o,l,d,u;return(u=(d=(a=(n=t.displayName)!=null?n:(e=t.profile)==null?void 0:e.displayName)!=null?a:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?d:(l=(o=t.providers)==null?void 0:o.google)==null?void 0:l.displayName)!=null?u:t.userId}function eM(t){var e,n,r,i,a,o,l;return(l=(o=(r=t.avatarUrl)!=null?r:(n=(e=t.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?o:(a=(i=t.providers)==null?void 0:i.google)==null?void 0:a.avatarUrl)!=null?l:null}function Dj(t){return t!=null?t:"active"}function VA(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function Mj(t,e){const[n,r]=R.useState(t);return R.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}const vLe="_page_rpt6g_1",xLe="_tabs_rpt6g_17",yLe="_tab_rpt6g_17",wLe="_tabActive_rpt6g_71",bLe="_banner_rpt6g_87",_Le="_bannerSuccess_rpt6g_101",jLe="_bannerError_rpt6g_113",CLe="_card_rpt6g_125",SLe="_cardTitle_rpt6g_145",BLe="_settingsForm_rpt6g_159",NLe="_formRow_rpt6g_173",kLe="_selectInput_rpt6g_185",ILe="_checkboxRow_rpt6g_203",ELe="_settingsFooter_rpt6g_227",TLe="_inlineStatus_rpt6g_245",FLe="_helperText_rpt6g_259",LLe="_secondaryButton_rpt6g_271",RLe="_cardSubtitle_rpt6g_297",ULe="_identityHeader_rpt6g_309",PLe="_identityAvatar_rpt6g_323",DLe="_identityName_rpt6g_337",MLe="_identityProvider_rpt6g_351",QLe="_identityForm_rpt6g_363",HLe="_nameInputWrap_rpt6g_379",OLe="_nameLabel_rpt6g_395",$Le="_nameInput_rpt6g_379",VLe="_nameSaveButton_rpt6g_427",GLe="_feedbackError_rpt6g_471",KLe="_feedbackSuccess_rpt6g_483",zLe="_metaGrid_rpt6g_495",WLe="_metaItem_rpt6g_507",qLe="_metaLabel_rpt6g_521",XLe="_metaValue_rpt6g_535",YLe="_serviceList_rpt6g_549",JLe="_serviceRow_rpt6g_559",ZLe="_serviceName_rpt6g_587",eRe="_serviceStatus_rpt6g_601",tRe="_serviceAction_rpt6g_613",sRe="_securityText_rpt6g_645",nRe="_securityNote_rpt6g_657",rRe="_logoutButton_rpt6g_669",iRe="_loadingState_rpt6g_701",aRe="_emptyState_rpt6g_703",oRe="_emptyStateTitle_rpt6g_721",lRe="_emptyStateText_rpt6g_733",cRe="_primaryButton_rpt6g_745",Ze={page:vLe,tabs:xLe,tab:yLe,tabActive:wLe,banner:bLe,bannerSuccess:_Le,bannerError:jLe,card:CLe,cardTitle:SLe,settingsForm:BLe,formRow:NLe,selectInput:kLe,checkboxRow:ILe,settingsFooter:ELe,inlineStatus:TLe,helperText:FLe,secondaryButton:LLe,cardSubtitle:RLe,identityHeader:ULe,identityAvatar:PLe,identityName:DLe,identityProvider:MLe,identityForm:QLe,nameInputWrap:HLe,nameLabel:OLe,nameInput:$Le,nameSaveButton:VLe,feedbackError:GLe,feedbackSuccess:KLe,metaGrid:zLe,metaItem:WLe,metaLabel:qLe,metaValue:XLe,serviceList:YLe,serviceRow:JLe,serviceName:ZLe,serviceStatus:eRe,serviceAction:tRe,securityText:sRe,securityNote:nRe,logoutButton:rRe,loadingState:iRe,emptyState:aRe,emptyStateTitle:oRe,emptyStateText:lRe,primaryButton:cRe},dRe="_header_t1aqh_1",uRe="_headerTexts_t1aqh_17",ARe="_tableWrap_t1aqh_31",hRe="_table_t1aqh_31",mRe="_tableRow_t1aqh_87",pRe="_dateCell_t1aqh_95",gRe="_actionsHeader_t1aqh_103",fRe="_actionCell_t1aqh_111",vRe="_unlinkButton_t1aqh_119",xRe="_unlinkIcon_t1aqh_175",yRe="_muted_t1aqh_185",wRe="_emptyState_t1aqh_193",bRe="_emptyTitle_t1aqh_209",_Re="_emptyDescription_t1aqh_221",jRe="_emptyCta_t1aqh_233",CRe="_helpAccordion_t1aqh_277",SRe="_helpToggle_t1aqh_291",BRe="_helpToggleOpen_t1aqh_331",NRe="_helpToggleAction_t1aqh_339",kRe="_helpBody_t1aqh_351",IRe="_helpList_t1aqh_359",ERe="_helpListItem_t1aqh_377",TRe="_helpFootnote_t1aqh_385",FRe="_confirmBackdrop_t1aqh_397",LRe="_confirmDialog_t1aqh_419",RRe="_confirmTitle_t1aqh_443",URe="_confirmText_t1aqh_457",PRe="_confirmName_t1aqh_473",DRe="_confirmMeta_t1aqh_483",MRe="_errorText_t1aqh_491",QRe="_confirmActions_t1aqh_503",HRe="_cancelButton_t1aqh_517",ORe="_confirmButton_t1aqh_519",Cs={header:dRe,headerTexts:uRe,tableWrap:ARe,table:hRe,tableRow:mRe,dateCell:pRe,actionsHeader:gRe,actionCell:fRe,unlinkButton:vRe,unlinkIcon:xRe,muted:yRe,emptyState:wRe,emptyTitle:bRe,emptyDescription:_Re,emptyCta:jRe,helpAccordion:CRe,helpToggle:SRe,helpToggleOpen:BRe,helpToggleAction:NRe,helpBody:kRe,helpList:IRe,helpListItem:ERe,helpFootnote:TRe,confirmBackdrop:FRe,confirmDialog:LRe,confirmTitle:RRe,confirmText:URe,confirmName:PRe,confirmMeta:DRe,errorText:MRe,confirmActions:QRe,cancelButton:HRe,confirmButton:ORe},$Re=t=>{if(!t)return"-";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},t_=t=>{var n;const e=(n=t.name)==null?void 0:n.trim();return e||(t.playerId!==void 0&&t.playerId!==null?`#${t.playerId}`:"-")},VRe=({user:t,refreshSession:e,openHelp:n=!1})=>{const{t:r}=Gs(),i=R.useMemo(()=>{var k;return(k=t.linkedPlayers)!=null?k:[]},[t.linkedPlayers]),[a,o]=R.useState(!1),[l,d]=R.useState(!1),[u,h]=R.useState(null),[m,g]=R.useState(null),[y,x]=R.useState(()=>n||i.length===0),C=R.useMemo(()=>`${Ha}/user/unlink-character`,[]);W.useEffect(()=>{n&&x(!0)},[n]),W.useEffect(()=>{i.length===0&&x(!0)},[i.length]);const E=async()=>{o(!0);try{await e({silent:!0})}catch(k){console.error("[Account] Failed to refresh linked players",k)}finally{o(!1)}},T=k=>{h(k),g(null)},B=()=>{l||(h(null),g(null))},S=async()=>{var k;if(u){if(!C){g(r("account.connectedCharacters.errors.serviceUnavailable","Auth service is not configured for unlinking."));return}d(!0),o(!0),g(null);try{const U=await fetch(C,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:u.playerId,server:u.server})});if(!U.ok){const I=await U.json().catch(()=>null),P=(I==null?void 0:I.error)||(I==null?void 0:I.message)||r("account.connectedCharacters.errors.unlink","Could not unlink character.");throw new Error(P)}await e({silent:!0}),h(null)}catch(U){const I=(k=U==null?void 0:U.message)!=null?k:r("account.connectedCharacters.errors.unlink","Could not unlink character.");g(I)}finally{d(!1),o(!1)}}},v=k=>k?k.startsWith("discord_")?r("account.connectedCharacters.method.discord","Discord bot"):k:"-",w=R.useMemo(()=>[r("account.connectedCharacters.help.steps.link",'Link a character via the Discord bot using the "!connect char" command.'),r("account.connectedCharacters.help.steps.verify","We match the character to your latest verified scan; keep your game data up to date."),r("account.connectedCharacters.help.steps.refresh","After linking, click Refresh here to sync the latest characters from the auth service."),r("account.connectedCharacters.help.steps.unlink","You can unlink any character in the Actions column; the source column shows how it was linked.")],[r]),N=()=>{const k="connected-characters-help";return s.jsxs("div",{className:Cs.helpAccordion,children:[s.jsxs("button",{type:"button",className:`${Cs.helpToggle} ${y?Cs.helpToggleOpen:""}`,"aria-expanded":y,"aria-controls":k,onClick:()=>x(U=>!U),children:[s.jsx("span",{children:r("account.connectedCharacters.help.title","How does linking work?")}),s.jsx("span",{className:Cs.helpToggleAction,children:y?r("account.connectedCharacters.help.hide","Hide"):r("account.connectedCharacters.help.show","Show")})]}),y&&s.jsxs("div",{id:k,className:Cs.helpBody,children:[s.jsx("ul",{className:Cs.helpList,children:w.map((U,I)=>s.jsx("li",{className:Cs.helpListItem,children:U},`help-step-${I}`))}),s.jsx("p",{className:Cs.helpFootnote,children:r("account.connectedCharacters.help.footnote","Tip: Click Refresh after linking or unlinking to update this table.")})]})]})},_=()=>s.jsx("div",{className:Cs.tableWrap,children:s.jsxs("table",{className:Cs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:r("account.connectedCharacters.columns.character","Character")}),s.jsx("th",{children:r("account.connectedCharacters.columns.server","Server")}),s.jsx("th",{children:r("account.connectedCharacters.columns.playerId","Player ID")}),s.jsx("th",{children:r("account.connectedCharacters.columns.class","Class")}),s.jsx("th",{children:r("account.connectedCharacters.columns.level","Level")}),s.jsx("th",{children:r("account.connectedCharacters.columns.guild","Guild")}),s.jsx("th",{children:r("account.connectedCharacters.columns.lastVerified","Last linked")}),s.jsx("th",{children:r("account.connectedCharacters.columns.source","Source")}),s.jsx("th",{className:Cs.actionsHeader,children:r("account.connectedCharacters.columns.actions","Actions")})]})}),s.jsx("tbody",{children:i.map((k,U)=>{var z,G,$,Y;const I=`${(z=k.server)!=null?z:"unknown"}-${(G=k.playerId)!=null?G:U}`,P=($=k.level)!=null?$:"-",L=k.guildName||"-",H=k.class||"-",O=v(k.method);return s.jsxs("tr",{className:Cs.tableRow,children:[s.jsx("td",{children:t_(k)}),s.jsx("td",{children:k.server||"-"}),s.jsx("td",{children:(Y=k.playerId)!=null?Y:"-"}),s.jsx("td",{className:k.class?void 0:Cs.muted,children:H}),s.jsx("td",{className:typeof k.level!="number"?Cs.muted:void 0,children:P}),s.jsx("td",{className:k.guildName?void 0:Cs.muted,children:L}),s.jsx("td",{className:Cs.dateCell,children:$Re(k.verifiedAt)}),s.jsx("td",{className:k.method?void 0:Cs.muted,children:O}),s.jsx("td",{className:Cs.actionCell,children:s.jsx("button",{type:"button",className:Cs.unlinkButton,onClick:()=>T(k),title:r("account.connectedCharacters.actions.unlink","Disconnect character"),"aria-label":`${r("account.connectedCharacters.actions.unlink","Disconnect character")} ${t_(k)}`,disabled:l||a,children:s.jsx("svg",{className:Cs.unlinkIcon,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{fill:"currentColor",d:"M9 4h6a1 1 0 0 1 1 1v2h5v2h-2.1l-1.05 11.2A2 2 0 0 1 15.86 22H8.14a2 2 0 0 1-1.99-1.8L5.1 9H3V7h5V5a1 1 0 0 1 1-1Zm5 2V6H10v2h4Zm-6.93 3 1.02 10.8a1 1 0 0 0 1 .9h7.72a1 1 0 0 0 1-.9L18.83 9ZM10 11v7h2v-7Zm4 0v7h2v-7Z"})})})})]},I)})})]})}),j=()=>{var U;if(!u)return null;const k="unlink-dialog-title";return s.jsx("div",{className:Cs.confirmBackdrop,role:"dialog","aria-modal":"true","aria-labelledby":k,children:s.jsxs("div",{className:Cs.confirmDialog,children:[s.jsx("h3",{id:k,className:Cs.confirmTitle,children:r("account.connectedCharacters.confirmation.title","Are you sure you want to unlink this character?")}),s.jsxs("p",{className:Cs.confirmText,children:[s.jsx("span",{className:Cs.confirmName,children:t_(u)}),s.jsxs("span",{className:Cs.confirmMeta,children:[u.server||"-"," - #",(U=u.playerId)!=null?U:"-"]})]}),m&&s.jsx("p",{className:Cs.errorText,children:m}),s.jsxs("div",{className:Cs.confirmActions,children:[s.jsx("button",{type:"button",className:Cs.cancelButton,onClick:B,disabled:l,children:r("account.connectedCharacters.confirmation.cancel","Cancel")}),s.jsx("button",{type:"button",className:Cs.confirmButton,onClick:S,disabled:l,children:l?r("account.connectedCharacters.confirmation.confirming","Unlinking..."):r("account.connectedCharacters.confirmation.confirm","Yes, unlink")})]})]})})};return t?s.jsxs("section",{className:Ze.card,children:[s.jsxs("div",{className:Cs.header,children:[s.jsxs("div",{className:Cs.headerTexts,children:[s.jsx("h2",{className:Ze.cardTitle,children:r("account.connectedCharacters.title","Connected characters")}),s.jsx("p",{className:Ze.cardSubtitle,children:r("account.connectedCharacters.subtitle","These game characters are linked to your SFDataHub account.")})]}),s.jsx("button",{type:"button",className:Ze.secondaryButton,onClick:E,disabled:a,children:a?r("account.connectedCharacters.actions.refreshing","Refreshing..."):r("account.connectedCharacters.actions.refresh","Refresh")})]}),a&&s.jsx("p",{className:Ze.helperText,children:r("account.connectedCharacters.loading","Refreshing characters...")}),N(),!a&&i.length===0&&s.jsxs("div",{className:Cs.emptyState,children:[s.jsx("p",{className:Cs.emptyTitle,children:r("account.connectedCharacters.empty.title","No characters linked yet")}),s.jsx("p",{className:Cs.emptyDescription,children:r("account.connectedCharacters.empty.description",'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.')}),s.jsx("button",{type:"button",className:Cs.emptyCta,onClick:()=>x(!0),children:r("account.connectedCharacters.empty.cta","Click to learn how linking works")})]}),i.length>0&&_(),j()]}):null},tM="user_settings";async function N4(t){if(!t)return null;try{const e=vs(Lt,tM,t),n=await Nn(e);if(!n.exists())return null;const r=n.data();return r!=null?r:null}catch(e){return console.warn("[UserSettings] Failed to load settings",e),null}}async function GRe(t,e){if(t)try{const n=vs(Lt,tM,t);await Ql(n,e,{merge:!0})}catch(n){throw console.error("[UserSettings] Failed to update settings",n),n}}const sM="user_tools_state";async function KRe(t){var e;if(!t)return null;try{const n=vs(Lt,sM,t),r=await Nn(n);return r.exists()&&(e=r.data())!=null?e:null}catch(n){return console.warn("[UserToolsSettings] Failed to load tools settings",n),null}}async function zRe(t,e){if(t)try{const n=vs(Lt,sM,t),r={...e,updatedAt:new Date().toISOString()};await Ql(n,r,{merge:!0})}catch(n){throw console.error("[UserToolsSettings] Failed to save tools settings",n),n}}const WRe="https://i.pravatar.cc/72",Dv=`${Ha}/auth/account/profile`,s_=`${Ha}/auth/google/link/start`,k4=3,I4=32,qRe=["overview","settings","tools","connected-characters"],E4=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},XRe=()=>{const{status:t,user:e,logout:n,refreshSession:r}=Oa(),i=pi(),a=ur(),{t:o,i18n:l}=Gs(),[d,u]=R.useState("overview"),[h,m]=R.useState(null),[g,y]=R.useState(null),[x,C]=R.useState(!1),[E,T]=R.useState(null),[B,S]=R.useState(!1),[v,w]=R.useState(!1),[N,_]=R.useState(null),[j,k]=R.useState(null),[U,I]=R.useState(!0),[P,L]=R.useState(!1),[H,O]=R.useState(null),[z,G]=R.useState(!1),$=R.useMemo(()=>{const ie=new URLSearchParams(a.search);return ie.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:ie.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[a.search]),Y=t==="loading"||t==="idle",J=t==="authenticated"&&!!e,V=e==null?void 0:e.id,X=R.useMemo(()=>new URLSearchParams(a.search),[a.search]),Z=X.get("tab"),se=X.get("openHelp")==="1",le=R.useMemo(()=>({language:l.language==="de"?"de":"en",defaultSection:"home",compactTables:!1,showExperimentalFeatures:!1}),[l.language]);R.useEffect(()=>{if(!V){m(null),y(null),T(null),C(!1),_(null),k(null),I(!1),L(!1),O(null),G(!1);return}let ie=!0;return(async()=>{C(!0),T(null),w(!1);try{const me=await N4(V),ke=me?{...le,...me}:le;if(!ie)return;m(ke),y(ke)}catch(me){if(!ie)return;T(o("account.settings.error","Could not load settings."))}finally{ie&&C(!1)}})(),()=>{ie=!1}},[V,le,o]),R.useEffect(()=>{if(!V)return;let ie=!0;const Ae={defaultSetId:null,showToolsIntro:!0,enableExperimentalTools:!1};return(async()=>{I(!0),O(null),G(!1);try{const ke=await KRe(V);if(!ie)return;const jt=ke?{...Ae,...ke}:Ae;_(jt),k(jt)}catch(ke){if(!ie)return;O(o("account.tools.loadError","Could not load tools settings."))}finally{ie&&I(!1)}})(),()=>{ie=!1}},[V,o]),R.useEffect(()=>{Z&&qRe.includes(Z)&&Z!==d&&u(Z)},[Z,d]);const we=(ie,Ae)=>{const me=new URLSearchParams(a.search);me.set("tab",ie),Ae!=null&&Ae.openHelp?me.set("openHelp","1"):me.delete("openHelp");const ke=me.toString();i({pathname:a.pathname,search:ke?`?${ke}`:""},{replace:!0})},Se=()=>{typeof window!="undefined"?window.dispatchEvent(new CustomEvent("sfh:openLoginModal")):i("/login")},te=async()=>{await n(),i("/")},ce=()=>{if(!s_){window.alert("Auth service is not configured for Google linking.");return}window.location.href=s_},re=()=>s.jsx("div",{className:Ze.loadingState,children:"Checking session..."}),ye=()=>s.jsxs("div",{className:Ze.emptyState,children:[s.jsx("p",{className:Ze.emptyStateTitle,children:"You are not signed in."}),s.jsx("p",{className:Ze.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),s.jsx("button",{type:"button",className:Ze.primaryButton,onClick:Se,children:"Go to sign-in"})]}),Be=()=>{if(!$)return null;const ie=$.type==="success"?`${Ze.banner} ${Ze.bannerSuccess}`:`${Ze.banner} ${Ze.bannerError}`;return s.jsx("div",{className:ie,children:$.message})},Le=()=>{var ut,bt,Ye;if(!e)return null;const ie=(ut=e.providers)==null?void 0:ut.discord,Ae=(bt=e.providers)==null?void 0:bt.google,me=!!ie,ke=!!Ae,jt=!!s_,nt=jt?ke?Ae!=null&&Ae.displayName?`Connected as ${Ae.displayName}`:"Connected":"Not connected":"Auth service not configured",et=[{key:"discord",name:"Discord",status:me?`Connected as ${(Ye=ie==null?void 0:ie.displayName)!=null?Ye:e.displayName}`:"Not connected",actionLabel:me?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:nt,actionLabel:ke?"Connected":"Connect",disabled:ke||!jt,onClick:ke||!jt?void 0:ce},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return s.jsxs("section",{className:Ze.card,children:[s.jsx("h2",{className:Ze.cardTitle,children:"Connected services"}),s.jsx("p",{className:Ze.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),s.jsx("div",{className:Ze.serviceList,children:et.map(Je=>s.jsxs("div",{className:Ze.serviceRow,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ze.serviceName,children:Je.name}),s.jsx("p",{className:Ze.serviceStatus,children:Je.status})]}),s.jsx("button",{type:"button",className:Ze.serviceAction,disabled:Je.disabled,onClick:Je.onClick,children:Je.actionLabel})]},Je.key))})]})},Ee=()=>s.jsxs("section",{className:Ze.card,children:[s.jsx("h2",{className:Ze.cardTitle,children:"Security & session"}),s.jsx("p",{className:Ze.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),s.jsx("p",{className:Ze.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),s.jsx("button",{type:"button",className:Ze.logoutButton,onClick:te,children:"Log out from this device"}),s.jsx("p",{className:Ze.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),De=(ie,Ae)=>{h&&(m(me=>({...me!=null?me:le,[ie]:Ae})),w(!1))},at=!!(h&&g&&JSON.stringify(h)!==JSON.stringify(g)),Ke=!!(N&&j&&JSON.stringify(N)!==JSON.stringify(j)),He=async()=>{if(!(!V||!h||B||!at))try{S(!0),T(null),await GRe(V,h),y(h),w(!0)}catch(ie){T(o("account.settings.saveError","Could not save settings. Please try again."))}finally{S(!1)}},Ce=(ie,Ae)=>{N&&(_(me=>({...me!=null?me:{},[ie]:Ae})),G(!1))},ue=async()=>{if(!(!V||!N||P||!Ke))try{L(!0),O(null),await zRe(V,N),k(N),G(!0)}catch(ie){O(o("account.tools.save.error","Could not save settings. Please try again."))}finally{L(!1)}},Te=()=>{var ie,Ae;return s.jsxs("section",{className:Ze.card,children:[s.jsx("h2",{className:Ze.cardTitle,children:o("account.settings.title","Settings")}),s.jsx("p",{className:Ze.cardSubtitle,children:o("account.settings.subtitle","Configure your personal preferences.")}),x&&s.jsx("p",{className:Ze.helperText,children:o("account.settings.loading","Loading settings...")}),E&&s.jsxs("div",{className:Ze.feedbackError,children:[s.jsx("p",{children:E}),s.jsx("button",{type:"button",className:Ze.secondaryButton,onClick:()=>{V&&(T(null),w(!1),C(!0),N4(V).then(me=>{const ke=me?{...le,...me}:le;m(ke),y(ke)}).catch(()=>{T(o("account.settings.error","Could not load settings."))}).finally(()=>C(!1)))},children:o("account.settings.retry","Retry")})]}),h&&!x&&s.jsxs("div",{className:Ze.settingsForm,children:[s.jsxs("div",{className:Ze.formRow,children:[s.jsx("label",{className:Ze.nameLabel,htmlFor:"settings-language",children:o("account.settings.language.label","Preferred language")}),s.jsxs("select",{id:"settings-language",className:Ze.selectInput,value:(ie=h.language)!=null?ie:le.language,onChange:me=>De("language",me.target.value),children:[s.jsx("option",{value:"en",children:o("topbar.lang_en","English")}),s.jsx("option",{value:"de",children:o("topbar.lang_de","Deutsch")})]})]}),s.jsxs("div",{className:Ze.formRow,children:[s.jsx("label",{className:Ze.nameLabel,htmlFor:"settings-section",children:o("account.settings.defaultSection.label","Default section")}),s.jsxs("select",{id:"settings-section",className:Ze.selectInput,value:(Ae=h.defaultSection)!=null?Ae:le.defaultSection,onChange:me=>De("defaultSection",me.target.value),children:[s.jsx("option",{value:"home",children:o("nav.home","Home")}),s.jsx("option",{value:"toplists",children:o("nav.toplists","Top Lists")}),s.jsx("option",{value:"guilds",children:o("nav.guilds","Guilds")}),s.jsx("option",{value:"tools",children:o("nav.tools","Tools")}),s.jsx("option",{value:"community",children:o("nav.community","Community")})]})]}),s.jsxs("label",{className:Ze.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!h.compactTables,onChange:me=>De("compactTables",me.target.checked)}),s.jsx("span",{children:o("account.settings.compactTables.label","Use compact table layout")})]}),s.jsxs("label",{className:Ze.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!h.showExperimentalFeatures,onChange:me=>De("showExperimentalFeatures",me.target.checked)}),s.jsx("span",{children:o("account.settings.experimental.label","Enable experimental features")})]})]}),s.jsxs("div",{className:Ze.settingsFooter,children:[s.jsxs("div",{className:Ze.inlineStatus,children:[v?s.jsx("span",{className:Ze.feedbackSuccess,children:o("account.settings.saved","Settings saved.")}):at?null:s.jsx("span",{className:Ze.helperText,children:o("account.settings.noChanges","No changes to save.")}),B&&s.jsx("span",{className:Ze.helperText,children:o("account.settings.saving","Saving...")})]}),s.jsx("button",{type:"button",className:Ze.primaryButton,disabled:!at||B||!h,onClick:He,children:o("account.settings.save","Save settings")})]})]})},Fe=()=>{const ie=[{key:"overview",label:o("account.tabs.overview","Overview")},{key:"settings",label:o("account.tabs.settings","Settings")},{key:"tools",label:o("account.tabs.tools","Tools")},{key:"connected-characters",label:o("account.tabs.connectedCharacters","Connected characters")}];return s.jsx("div",{className:Ze.tabs,role:"tablist","aria-label":"Account sections",children:ie.map(Ae=>{const me=d===Ae.key;return s.jsx("button",{type:"button",className:`${Ze.tab} ${me?Ze.tabActive:""}`,onClick:()=>{u(Ae.key),we(Ae.key,{openHelp:Ae.key==="connected-characters"&&se})},role:"tab","aria-selected":me,children:Ae.label},Ae.key)})})},ct=()=>{var ie;if(!e)return null;switch(d){case"overview":return s.jsxs(s.Fragment,{children:[s.jsx(YRe,{user:e,refreshSession:r}),Le(),Ee()]});case"settings":return Te();case"tools":return s.jsxs("section",{className:Ze.card,children:[s.jsx("h2",{className:Ze.cardTitle,children:o("account.tools.title","Tools settings")}),s.jsx("p",{className:Ze.cardSubtitle,children:o("account.tools.subtitle","Configure how tools behave for your account.")}),U&&s.jsx("p",{className:Ze.helperText,children:o("account.tools.loading","Loading tools settings...")}),H&&s.jsx("p",{className:Ze.feedbackError,children:H}),N&&!U&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ze.settingsForm,children:[s.jsxs("div",{className:Ze.formRow,children:[s.jsx("label",{className:Ze.nameLabel,htmlFor:"tools-default-set",children:o("account.tools.defaultSet.label","Default set ID")}),s.jsx("input",{id:"tools-default-set",type:"text",className:Ze.nameInput,value:(ie=N.defaultSetId)!=null?ie:"",onChange:Ae=>Ce("defaultSetId",Ae.target.value),placeholder:o("account.tools.defaultSet.placeholder","Enter a default set ID")})]}),s.jsxs("label",{className:Ze.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!N.showToolsIntro,onChange:Ae=>Ce("showToolsIntro",Ae.target.checked)}),s.jsx("span",{children:o("account.tools.showIntro.label","Show tools intro")})]}),s.jsxs("label",{className:Ze.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!N.enableExperimentalTools,onChange:Ae=>Ce("enableExperimentalTools",Ae.target.checked)}),s.jsx("span",{children:o("account.tools.experimental.label","Enable experimental tools")})]})]}),s.jsxs("div",{className:Ze.settingsFooter,children:[s.jsxs("div",{className:Ze.inlineStatus,children:[z?s.jsx("span",{className:Ze.feedbackSuccess,children:o("account.tools.save.success","Settings saved.")}):Ke?null:s.jsx("span",{className:Ze.helperText,children:o("account.tools.save.noChanges","No changes to save.")}),P&&s.jsx("span",{className:Ze.helperText,children:o("account.tools.save.saving","Saving...")})]}),s.jsx("button",{type:"button",className:Ze.primaryButton,disabled:U||P||!Ke||!N,onClick:ue,children:o("account.tools.save.cta","Save settings")})]})]})]});case"connected-characters":return s.jsx(VRe,{user:e,refreshSession:r,openHelp:se});default:return null}},xt=()=>Y?re():J?s.jsxs(s.Fragment,{children:[Fe(),ct()]}):ye();return s.jsx(As,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:s.jsxs("div",{className:Ze.page,children:[Be(),xt()]})})};function YRe({user:t,refreshSession:e}){var N;const[n,r]=R.useState(()=>{var _;return(_=t==null?void 0:t.displayName)!=null?_:""}),[i,a]=R.useState(!1),[o,l]=R.useState(null),[d,u]=R.useState(!1),h=(t==null?void 0:t.avatarUrl)||WRe,m=(t==null?void 0:t.provider)==="google"?"Google":"Discord",g=(N=t==null?void 0:t.displayName)!=null?N:"",y=n.trim(),x=y.length===0||y.length>=k4&&y.length<=I4,C=!!t&&y.length>0&&y!==g,E=!!(Dv&&x&&C&&!i),T=y.length>0&&!x?`Name must be between ${k4} and ${I4} characters.`:null;R.useEffect(()=>{var _;r((_=t==null?void 0:t.displayName)!=null?_:""),u(!1),l(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const B=R.useMemo(()=>{var _;return t?[{label:"SFDataHub ID",value:t.id},(_=t.roles)!=null&&_.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:E4(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:E4(t.lastLoginAt)}:null].filter(j=>!!(j!=null&&j.value)):[]},[t]),S=async()=>{var _,j;if(!E||!Dv){Dv||l("Auth service is not configured.");return}try{a(!0),l(null),u(!1);const k=await fetch(Dv,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:y})});if(!k.ok){const U=await k.json().catch(()=>null);throw new Error((_=U==null?void 0:U.error)!=null?_:"Failed to update name.")}await e(),u(!0),r(y)}catch(k){const U=(j=k==null?void 0:k.message)!=null?j:"Failed to update name.";l(U)}finally{a(!1)}},v=_=>{_.key==="Enter"&&(_.preventDefault(),E&&S())},w=()=>{E&&S()};return t?s.jsxs("section",{className:Ze.card,children:[s.jsxs("div",{className:Ze.identityHeader,children:[s.jsx("img",{src:h,alt:"",className:Ze.identityAvatar}),s.jsxs("div",{children:[s.jsx("p",{className:Ze.identityName,children:t.displayName||"Unbenannter Nutzer"}),s.jsxs("p",{className:Ze.identityProvider,children:[m," sign-in"]})]}),s.jsx("span",{className:Ze.statusBadge,children:"Verified"})]}),s.jsxs("div",{className:Ze.identityForm,children:[s.jsxs("div",{className:Ze.nameInputWrap,children:[s.jsx("label",{className:Ze.nameLabel,children:"Display name"}),s.jsx("input",{type:"text",className:Ze.nameInput,value:n,onChange:_=>r(_.target.value),onKeyDown:v,onBlur:w,placeholder:"Enter your display name"})]}),s.jsx("button",{type:"button",className:Ze.nameSaveButton,disabled:!E,onClick:S,children:i?"Saving...":"Save"})]}),T&&s.jsx("p",{className:Ze.feedbackError,children:T}),o&&s.jsx("p",{className:Ze.feedbackError,children:o}),d&&s.jsx("p",{className:Ze.feedbackSuccess,children:"Name updated."}),B.length>0&&s.jsx("div",{className:Ze.metaGrid,children:B.map(_=>s.jsxs("div",{className:Ze.metaItem,children:[s.jsx("span",{className:Ze.metaLabel,children:_.label}),s.jsx("span",{className:Ze.metaValue,children:_.value})]},_.label))})]}):null}const Ot={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function JRe(){const{t}=Gs();return s.jsx("div",{style:Ot.wrap,children:s.jsxs("div",{style:Ot.grid,children:[s.jsxs("aside",{style:Ot.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:Ot.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:Ot.groupLabel,children:"Allgemein"}),s.jsx(Ks,{to:"list-views",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"List-View Switcher"}),s.jsx(Ks,{to:"rescan-widget",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(Ks,{to:"upload-sim",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Upload Simulator"}),s.jsx(Ks,{to:"hud/game-buttons",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"HUD  Game Buttons"}),s.jsx(Ks,{to:"theme-maker",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Theme / Template Maker"}),s.jsx(Ks,{to:"theme-maker-pro",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx(Ks,{to:"gamified",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified",{defaultValue:"Gamified"})}),s.jsx(Ks,{to:"gamified-2",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified2",{defaultValue:"Gamified 2"})}),s.jsx(Ks,{to:"gamified-3",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified3",{defaultValue:"Gamified 3"})}),s.jsx(Ks,{to:"gamified-4",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified4",{defaultValue:"Gamified 4"})}),s.jsx(Ks,{to:"gamified-5",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified5",{defaultValue:"Gamified 5"})}),s.jsx(Ks,{to:"gamified-6",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified6",{defaultValue:"Gamified 6"})}),s.jsx(Ks,{to:"gamified-7",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified7",{defaultValue:"Gamified 7"})}),s.jsx(Ks,{to:"gamified-8",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:t("playground.tabs.gamified8",{defaultValue:"Gamified 8"})}),s.jsx("div",{style:Ot.groupLabel,children:"Templates"}),s.jsx(Ks,{to:"templates/content-shell",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"ContentShell Template"}),s.jsx(Ks,{to:"templates/blank",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Leere Vorlage"}),s.jsx(Ks,{to:"templates/blank-alt",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Leere Vorlage (Neu)"}),s.jsx(Ks,{to:"templates/blank-layout-2",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Leere Vorlage  Layout 2"}),s.jsx(Ks,{to:"templates/blank-layout-3",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Leere Vorlage  Layout 3"}),s.jsx(Ks,{to:"templates/blank-layout-4",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"Leere Vorlage  Layout 4"}),s.jsx("div",{style:Ot.groupLabel,children:"Guide Hub Demos"}),s.jsx(Ks,{to:"am-rune-bonuses-demos",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:Ot.groupLabel,children:"Graphics / Portraits"}),s.jsx(Ks,{to:"portrait-maker",style:({isActive:e})=>({...Ot.link,...e?Ot.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:Ot.tile,children:s.jsx(KF,{})})]})})}const ZRe="_page_1kokx_1",eUe="_topBar_1kokx_17",tUe="_tabs_1kokx_31",sUe="_tab_1kokx_31",nUe="_tabActive_1kokx_63",rUe="_searchWrap_1kokx_73",iUe="_input_1kokx_85",aUe="_stickyIcons_1kokx_105",oUe="_iconBtn_1kokx_129",lUe="_tableWrap_1kokx_161",cUe="_table_1kokx_161",dUe="_th_1kokx_181",uUe="_td_1kokx_181",AUe="_row_1kokx_201",hUe="_chips_1kokx_219",mUe="_chip_1kokx_219",pUe="_badges_1kokx_249",gUe="_badge_1kokx_249",fUe="_badgeMax_1kokx_275",vUe="_badgeAchiev_1kokx_277",xUe="_badgeX2_1kokx_279",yUe="_badgeX12_1kokx_281",wUe="_badgeX60_1kokx_283",bUe="_section_1kokx_289",_Ue="_sectionHeader_1kokx_297",jUe="_cardList_1kokx_315",CUe="_card_1kokx_315",SUe="_cardMax_1kokx_353",BUe="_iconXL_1kokx_355",NUe="_split_1kokx_369",kUe="_left_1kokx_379",IUe="_leftBtn_1kokx_399",EUe="_leftBtnActive_1kokx_411",TUe="_detail_1kokx_413",FUe="_grid_1kokx_433",LUe="_tile_1kokx_443",RUe="_drawer_1kokx_457",UUe="_timeline_1kokx_487",PUe="_node_1kokx_493",DUe="_dot_1kokx_501",Yt={page:ZRe,topBar:eUe,tabs:tUe,tab:sUe,tabActive:nUe,searchWrap:rUe,input:iUe,stickyIcons:aUe,iconBtn:oUe,tableWrap:lUe,table:cUe,th:dUe,td:uUe,row:AUe,chips:hUe,chip:mUe,badges:pUe,badge:gUe,badgeMax:fUe,badgeAchiev:vUe,badgeX2:xUe,badgeX12:yUe,badgeX60:wUe,section:bUe,sectionHeader:_Ue,cardList:jUe,card:CUe,cardMax:SUe,iconXL:BUe,split:NUe,left:kUe,leftBtn:IUe,leftBtnActive:EUe,detail:TUe,grid:FUe,tile:LUe,drawer:RUe,timeline:UUe,node:PUe,dot:DUe},T4=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Ma(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function MUe(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function QUe(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function wy({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Yt.iconBtn,title:t||"Rune",children:e})}function fS({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Yt.iconXL,title:t||"Rune",children:e})}function HUe(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function xg({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Yt.chips,children:e.map((n,r)=>s.jsx("span",{className:Yt.chip,children:n},r))})}function yg({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Yt.badgeMax}),MUe(t)&&n.push({label:"Achievement",cls:Yt.badgeAchiev});const r=QUe(t);return r==="x2"&&n.push({label:"x2",cls:Yt.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Yt.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Yt.badgeX60}),n.length===0?null:s.jsx("div",{className:Yt.badges,children:n.map((i,a)=>{var o;return s.jsx("span",{className:`${Yt.badge} ${(o=i.cls)!=null?o:""}`,children:i.label},a)})})}function OUe(t){const e=t.trim().toLowerCase();return e?T4.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):T4}function $Ue({data:t}){const e=Math.max(...t.map(i=>Ma(i.amount))),n=R.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const a=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Yt.stickyIcons,children:n.map((i,a)=>s.jsx("div",{onClick:()=>r(i),children:s.jsx(wy,{label:i||"(no tier)"})},a))}),s.jsx("div",{className:Yt.tableWrap,children:s.jsxs("table",{className:Yt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Yt.th,style:{width:42}}),s.jsx("th",{className:Yt.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Yt.th,children:"Bonuses"}),s.jsx("th",{className:Yt.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((i,a)=>{const o=Math.abs(Ma(i.amount)-e)<1e-6;return s.jsxs("tr",{className:Yt.row,"data-tier":i.tier||"(no tier)",children:[s.jsx("td",{className:Yt.td,children:s.jsx(wy,{label:i.tier||""})}),s.jsx("td",{className:Yt.td,children:i.amount}),s.jsx("td",{className:Yt.td,children:s.jsx(xg,{r:i})}),s.jsx("td",{className:Yt.td,children:s.jsx(yg,{r:i,isMax:o})})]},a)})})]})})]})}function VUe({data:t}){const e=HUe(t),n=Math.max(...t.map(r=>Ma(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,i])=>s.jsxs("section",{className:Yt.section,children:[s.jsx("div",{className:Yt.sectionHeader,children:r}),s.jsx("div",{className:Yt.cardList,children:i.map((a,o)=>{const l=Math.abs(Ma(a.amount)-n)<1e-6;return s.jsxs("div",{className:`${Yt.card} ${l?Yt.cardMax:""}`,children:[s.jsx(fS,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:a.amount}),s.jsx(yg,{r:a,isMax:l})]}),s.jsx(xg,{r:a})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},o)})})]},r))})}function GUe({data:t}){var o;const e=Array.from(new Set(t.map(l=>l.tier||"(no tier)"))),[n,r]=R.useState((o=e[0])!=null?o:""),i=t.filter(l=>(l.tier||"(no tier)")===n),a=Math.max(...t.map(l=>Ma(l.amount)));return s.jsxs("div",{className:Yt.split,children:[s.jsx("div",{className:Yt.left,children:e.map(l=>s.jsxs("button",{className:`${Yt.leftBtn} ${l===n?Yt.leftBtnActive:""}`,onClick:()=>r(l),children:[s.jsx(wy,{label:l}),s.jsx("span",{children:l})]},l))}),s.jsxs("div",{className:Yt.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(fS,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((l,d)=>{const u=Math.abs(Ma(l.amount)-a)<1e-6;return s.jsxs("div",{className:Yt.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:l.amount}),s.jsx(yg,{r:l,isMax:u})]}),s.jsx(xg,{r:l})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},d)})]})]})}function KUe({data:t}){const[e,n]=R.useState(null),r=Math.max(...t.map(i=>Ma(i.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Yt.grid,children:t.map((i,a)=>s.jsx("div",{className:Yt.tile,onClick:()=>n(i),title:i.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(wy,{label:i.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},a))}),e&&s.jsxs("div",{className:Yt.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(fS,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Yt.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(yg,{r:e,isMax:Math.abs(Ma(e.amount)-r)<1e-6})}),s.jsx(xg,{r:e})]})]})}function zUe({data:t}){const e=Math.max(...t.map(r=>Ma(r.amount))),n=[...t].sort((r,i)=>Ma(r.amount)-Ma(i.amount));return s.jsx("div",{className:Yt.timeline,children:n.map((r,i)=>{const a=Math.abs(Ma(r.amount)-e)<1e-6;return s.jsxs("div",{className:Yt.node,children:[s.jsx("div",{className:Yt.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(yg,{r,isMax:a})]}),s.jsx(xg,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const WUe=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function qUe(){const[t,e]=R.useState("A: Compact Table"),[n,r]=R.useState(""),i=OUe(n);return s.jsxs("div",{className:Yt.page,children:[s.jsxs("div",{className:Yt.topBar,children:[s.jsx("div",{className:Yt.tabs,children:WUe.map(a=>s.jsx("button",{onClick:()=>e(a),className:`${Yt.tab} ${t===a?Yt.tabActive:""}`,children:a},a))}),s.jsx("div",{className:Yt.searchWrap,children:s.jsx("input",{className:Yt.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:a=>r(a.target.value)})})]}),t==="A: Compact Table"&&s.jsx($Ue,{data:i}),t==="B: Card Track"&&s.jsx(VUe,{data:i}),t==="C: Two-Pane"&&s.jsx(GUe,{data:i}),t==="D: Icon Grid + Drawer"&&s.jsx(KUe,{data:i}),t==="E: Timeline"&&s.jsx(zUe,{data:i})]})}function XUe(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(Ks,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const Pe={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},YUe=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),$d={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function JUe(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function bh(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",JUe(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function nM(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},a={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},o={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},l={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},d={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},u={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},h={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},m={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},g={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},y={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:a,gold:o,obsidian:l,neon:d,plasma:u,aurora:h,satin:m,matte:g,holo:y}[t.material]}function ad(t){const e={color:Pe.title,borderColor:Pe.border,...nM(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const wg=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function _h({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function ZUe({fx:t,children:e}){const n=bh(t),r=ad(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(_h,{fx:t,clip:i}),t.withIcon&&s.jsx(ZF,{size:16,className:"relative z-10"}),s.jsx(wg,{children:e})]})}function ePe({fx:t,children:e}){const n=bh(t),r=ad(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(_h,{fx:t,clip:i}),t.withIcon&&s.jsx(e5,{size:16,className:"relative z-10"}),s.jsx(wg,{children:e})]})}function tPe({fx:t,children:e}){const n=bh(t),r=ad(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(_h,{fx:t,clip:i}),t.withIcon&&s.jsx(fu,{size:16,className:"relative z-10"}),s.jsx(wg,{children:e})]})}function sPe({fx:t,children:e}){const n=bh(t),r=ad(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${Pe.tile}, ${Pe.active})`}}),s.jsx(_h,{fx:t,clip:i}),t.withIcon&&s.jsx(t5,{size:16,className:"relative z-10"}),s.jsx(wg,{children:e})]})}function nPe({fx:t,children:e}){const n=bh(t),r=ad(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(_h,{fx:t}),t.withIcon&&s.jsx(Ty,{size:16,className:"relative z-10"}),s.jsx(wg,{children:e})]})}function rPe({fx:t,tabs:e}){const[n,r]=R.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:Pe.tile,border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:e.map((i,a)=>s.jsxs("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg text-sm transition-colors ${a===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:a===n?Pe.active:"transparent",border:a===n&&t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:[t.withIcon&&a===n&&s.jsx(Ty,{size:14,className:"inline mr-1"}),i]},a))})}function iPe({fx:t}){const e=bh(t),n=ad(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(r5,{})})}const Qj={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function aPe({fx:t,setFx:e}){const n=(l,d)=>e(u=>({...u,[l]:d})),r=l=>e(d=>({...d,[l]:!d[l]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],a=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],o=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:Pe.tile,border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${Pe.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Pe.title},children:"Presets"}),Object.keys(Qj).map(l=>s.jsx("button",{onClick:()=>e(d=>Qj[l](d)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:Pe.btn,borderColor:Pe.border,color:Pe.title},children:l},l))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${Pe.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Pe.title},children:"Material"}),i.map(l=>s.jsx("button",{onClick:()=>n("material",l),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===l?"":"opacity-70"}`,style:{backgroundColor:t.material===l?Pe.active:Pe.btn,borderColor:Pe.border,color:Pe.title},children:l},l)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:Pe.title},children:"Size"}),["sm","md","lg"].map(l=>s.jsx("button",{onClick:()=>n("size",l),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===l?"":"opacity-70"}`,style:{backgroundColor:t.size===l?Pe.active:Pe.btn,borderColor:Pe.border,color:Pe.title},children:l.toUpperCase()},l)),s.jsx("button",{onClick:()=>e(l=>({...l,withIcon:!l.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?Pe.active:Pe.btn,borderColor:Pe.border,color:Pe.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(l=>({...l,disabled:!l.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?Pe.active:Pe.btn,borderColor:Pe.border,color:Pe.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${Pe.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Pe.title},children:"Core FX"}),a.map(([l,d])=>s.jsx("button",{onClick:()=>r(l),className:`px-2.5 py-1 rounded-md border text-xs ${t[l]?"":"opacity-70"}`,style:{backgroundColor:t[l]?Pe.active:Pe.btn,borderColor:Pe.border,color:Pe.title},children:d},l))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Pe.title},children:"Advanced"}),o.map(([l,d])=>s.jsx("button",{onClick:()=>r(l),className:`px-2.5 py-1 rounded-md border text-xs ${t[l]?"":"opacity-70"}`,style:{backgroundColor:t[l]?Pe.active:Pe.btn,borderColor:Pe.border,color:Pe.title},children:d},l))]}),s.jsx("button",{onClick:()=>e($d),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:Pe.btn,borderColor:Pe.border,color:Pe.title},children:"Reset"})]})}function dn({fx:t,className:e="",style:n={},children:r,clip:i}){const a=ad(t);return s.jsxs("div",{className:`relative ${e}`,style:{...a,...n},children:[s.jsx(_h,{fx:t,clip:i}),s.jsx("div",{className:"relative z-10",children:r})]})}function Li({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:Pe.tile,border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:n})}function oPe({fx:t}){const[e,n]=R.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const a=e.includes(i);return s.jsx(dn,{fx:t,className:`rounded-full border ${a?"":"opacity-80"}`,style:{borderColor:Pe.border},children:s.jsx("button",{onClick:()=>n(o=>a?o.filter(l=>l!==i):[...o,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function lPe({fx:t}){return s.jsxs(Li,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:Pe.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(dn,{fx:t,className:"rounded-xl border p-2",style:{borderColor:Pe.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(r5,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function cPe({fx:t}){return s.jsxs(dn,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(dn,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:Pe.border},children:e},e))})]})}function dPe({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(dn,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:Pe.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function uPe({fx:t}){const[e,n]=R.useState(.66);return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Meter / Energy Bar"}),s.jsx(dn,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:Pe.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(dn,{fx:t,className:"rounded-md border",style:{borderColor:Pe.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function APe({fx:t}){return s.jsxs(Li,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:Pe.title},children:"Badge / Medal"}),s.jsxs(dn,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:Pe.border},children:[s.jsx(fu,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function hPe({fx:t}){const[e,n]=R.useState(!1);return s.jsxs(Li,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:Pe.title},children:"Toast / Notification"}),s.jsx(dn,{fx:t,className:"rounded-md border",style:{borderColor:Pe.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(dn,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:Pe.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function mPe({fx:t}){const[e,n]=R.useState(!0);return s.jsxs(Li,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:Pe.title},children:"Toggle Switch"}),s.jsxs(dn,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:Pe.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function pPe({fx:t}){const[e,n]=R.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Dropdown HUD"}),s.jsx(dn,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:Pe.border},children:s.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(dn,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:Pe.border},children:r.map(i=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function gPe({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,a=56,o=56+Math.cos(i)*a,l=56+Math.sin(i)*a;return s.jsx(dn,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:o,top:l,borderColor:Pe.border},children:n},n)}),s.jsx(dn,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:Pe.border},children:"Menu"})]})]})}function fPe({fx:t}){const e=[1,2,3,4,5],[n,r]=R.useState(2);return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>s.jsx(dn,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:Pe.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function vPe({fx:t}){const[e,n]=R.useState(!1);return s.jsxs(Li,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:Pe.title},children:"Modal HUD"}),s.jsx(dn,{fx:t,className:"rounded-md border",style:{borderColor:Pe.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(dn,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:Pe.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(dn,{fx:t,className:"rounded-md border",style:{borderColor:Pe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(dn,{fx:t,className:"rounded-md border",style:{borderColor:Pe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function xPe({fx:t}){const[e,n]=R.useState("");return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Search HUD"}),s.jsx(dn,{fx:t,className:"rounded-lg border p-2",style:{borderColor:Pe.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function yPe({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=R.useState("Bravo");return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(i=>s.jsx(dn,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:Pe.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function wPe({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=R.useState(1);return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((i,a)=>s.jsxs(W.Fragment,{children:[s.jsx(dn,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${a<=n?"":"opacity-70"}`,style:{borderColor:Pe.border},children:a+1}),a<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(dn,{fx:t,className:"rounded-md border",style:{borderColor:Pe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(dn,{fx:t,className:"rounded-md border",style:{borderColor:Pe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function bPe({fx:t}){const e=["","","","","",""];return s.jsxs(Li,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Pe.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(dn,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:Pe.border},children:n},r))})]})}function _Pe(){const[t,e]=R.useState($d);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:Pe.bg,color:Pe.txt},children:[s.jsx(YUe,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(LO,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:Pe.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:Pe.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(aPe,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Pe.tile,border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:Pe.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(ZUe,{fx:t,children:[s.jsx(ZF,{size:16})," Diamond"]}),s.jsxs(ePe,{fx:t,children:[s.jsx(e5,{size:16})," Hex"]}),s.jsxs(tPe,{fx:t,children:[s.jsx(fu,{size:16})," Octagon/Shield"]}),s.jsxs(sPe,{fx:t,children:[s.jsx(t5,{size:16})," Shard"]}),s.jsxs(nPe,{fx:t,children:[s.jsx(Ty,{size:16})," Pill/Chip"]}),s.jsx(iPe,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:Pe.tile,border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:Pe.title},children:"Tabs"}),s.jsx(rPe,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Pe.tile,border:t.baseBorder?`1px solid ${Pe.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:Pe.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(oPe,{fx:t}),s.jsx(lPe,{fx:t}),s.jsx(cPe,{fx:t}),s.jsx(dPe,{fx:t}),s.jsx(uPe,{fx:t}),s.jsx(APe,{fx:t}),s.jsx(hPe,{fx:t}),s.jsx(mPe,{fx:t}),s.jsx(pPe,{fx:t}),s.jsx(gPe,{fx:t}),s.jsx(fPe,{fx:t}),s.jsx(vPe,{fx:t}),s.jsx(xPe,{fx:t}),s.jsx(yPe,{fx:t}),s.jsx(wPe,{fx:t}),s.jsx(bPe,{fx:t})]})]})}),s.jsx(jPe,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:Pe.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function jPe(){return R.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes($d.material),"Material type present");const e=ad($d);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=nM({...$d,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof $d[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(Qj).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const a=i({...$d});console.assert(a&&typeof a=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const up={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},F4={Arcade:{...up,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...up,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},gA={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},rM={display:"grid",gap:8,alignItems:"center"};function ul({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...rM,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function n_({label:t,value:e,min:n,max:r,onChange:i}){return s.jsxs("label",{style:{...rM,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value||"0"))})]})}function L4(){const[t,e]=W.useState(up),n=W.useRef(null),r=d=>{const u=n.current;u&&(u.style.setProperty("--page",d.page),u.style.setProperty("--tile",d.tile),u.style.setProperty("--tile-hover",d.tileHover),u.style.setProperty("--nav",d.nav),u.style.setProperty("--active",d.active),u.style.setProperty("--text",d.text),u.style.setProperty("--text-soft",d.textSoft),u.style.setProperty("--title",d.title),u.style.setProperty("--line",d.line),u.style.setProperty("--radius",`${d.radius}px`),u.style.setProperty("--shadow",`0 8px ${d.shadow}px rgba(0,0,0,0.25)`),u.style.setProperty("--gap",`${d.gap}px`))};W.useEffect(()=>{r(t)},[t]);const i=d=>e(F4[d]),a=()=>e(up),o=()=>{const d=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),u=document.createElement("a");u.href=URL.createObjectURL(d),u.download="sfdatahub-theme.json",u.click()},l=async d=>{const u=await d.text();e({...up,...JSON.parse(u)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(F4).map(d=>s.jsx("button",{style:gA,onClick:()=>i(d),children:d},d)),s.jsx("button",{style:gA,onClick:a,children:"Default"}),s.jsx("button",{style:gA,onClick:o,children:"Export JSON"}),s.jsxs("label",{style:{...gA,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:d=>d.target.files&&l(d.target.files[0]),style:{display:"none"}})]})]}),s.jsx(ul,{label:"Page",value:t.page,onChange:d=>e(u=>({...u,page:d}))}),s.jsx(ul,{label:"Tile",value:t.tile,onChange:d=>e(u=>({...u,tile:d}))}),s.jsx(ul,{label:"Tile Hover",value:t.tileHover,onChange:d=>e(u=>({...u,tileHover:d}))}),s.jsx(ul,{label:"Nav",value:t.nav,onChange:d=>e(u=>({...u,nav:d}))}),s.jsx(ul,{label:"Active",value:t.active,onChange:d=>e(u=>({...u,active:d}))}),s.jsx(ul,{label:"Text",value:t.text,onChange:d=>e(u=>({...u,text:d}))}),s.jsx(ul,{label:"Text Soft",value:t.textSoft,onChange:d=>e(u=>({...u,textSoft:d}))}),s.jsx(ul,{label:"Title",value:t.title,onChange:d=>e(u=>({...u,title:d}))}),s.jsx(ul,{label:"Line",value:t.line,onChange:d=>e(u=>({...u,line:d}))}),s.jsx(n_,{label:"Radius",value:t.radius,min:8,max:28,onChange:d=>e(u=>({...u,radius:d}))}),s.jsx(n_,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:d=>e(u=>({...u,shadow:d}))}),s.jsx(n_,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:d=>e(u=>({...u,gap:d}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...gA,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:gA,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((d,u)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",u+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},u))})]})]})]})}const Hj={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},R4={"SFDataHub (Default)":{...Hj},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},N0={display:"grid",gap:8,alignItems:"center"},Pd={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Dd={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Ea({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...N0,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Al({label:t,value:e,min:n,max:r,step:i=1,onChange:a,suffix:o}){return s.jsxs("label",{style:{...N0,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:l=>a(parseFloat(l.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:l=>a(parseFloat(l.target.value||"0"))})]})}function CPe({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...N0,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function U4(){const[t,e]=W.useState(Hj),n=W.useRef(null),r=u=>{const h=n.current;h&&(h.style.setProperty("--page",u.page),h.style.setProperty("--tile",u.tile),h.style.setProperty("--tile-hover",u.tileHover),h.style.setProperty("--nav",u.nav),h.style.setProperty("--active",u.active),h.style.setProperty("--text",u.text),h.style.setProperty("--text-soft",u.textSoft),h.style.setProperty("--title",u.title),h.style.setProperty("--line",u.line),h.style.setProperty("--accent",u.accent),h.style.setProperty("--success",u.success),h.style.setProperty("--warning",u.warning),h.style.setProperty("--danger",u.danger),h.style.setProperty("--radius",`${u.radius}px`),h.style.setProperty("--border",`${u.border}px`),h.style.setProperty("--gap",`${u.gap}px`),h.style.setProperty("--shadow",`0 10px ${u.shadow}px rgba(0,0,0,0.30)`),h.style.setProperty("--surface-opacity",`${u.surfaceOpacity}%`),h.style.setProperty("--noise",`${u.noise}%`),h.style.setProperty("--font",u.fontFamily),h.style.setProperty("--font-size",`${u.fontSize}px`),h.style.setProperty("--heading-tight",u.headingsTight?"1.1":"1.3"),h.style.setProperty("--glow",`${u.glow}`),h.style.setProperty("--scanlines",`${u.scanlines}`))};W.useEffect(()=>{r(t)},[t]);const i=(u,h)=>e(m=>({...m,[u]:h})),a=u=>e(h=>({...h,...R4[u]})),o=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="sfdatahub-theme-pro.json",h.click()},l=async u=>{try{const h=await u.text(),m=JSON.parse(h);e({...t,...m})}catch(h){}},d={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(R4).map(u=>s.jsx("button",{style:Pd,onClick:()=>a(u),children:u},u)),s.jsx("button",{style:Pd,onClick:()=>e(Hj),children:"Reset"}),s.jsx("button",{style:Pd,onClick:o,children:"Export"}),s.jsxs("label",{style:{...Pd,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:u=>u.target.files&&l(u.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ea,{label:"Page",value:t.page,onChange:u=>i("page",u)}),s.jsx(Ea,{label:"Tile",value:t.tile,onChange:u=>i("tile",u)}),s.jsx(Ea,{label:"Tile Hover",value:t.tileHover,onChange:u=>i("tileHover",u)}),s.jsx(Ea,{label:"Active",value:t.active,onChange:u=>i("active",u)}),s.jsx(Ea,{label:"Text",value:t.text,onChange:u=>i("text",u)}),s.jsx(Ea,{label:"Text Soft",value:t.textSoft,onChange:u=>i("textSoft",u)}),s.jsx(Ea,{label:"Title",value:t.title,onChange:u=>i("title",u)}),s.jsx(Ea,{label:"Line",value:t.line,onChange:u=>i("line",u)}),s.jsx(Ea,{label:"Accent",value:t.accent,onChange:u=>i("accent",u)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(Ea,{label:"Success",value:t.success,onChange:u=>i("success",u)}),s.jsx(Ea,{label:"Warning",value:t.warning,onChange:u=>i("warning",u)}),s.jsx(Ea,{label:"Danger",value:t.danger,onChange:u=>i("danger",u)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Al,{label:"Radius",min:0,max:28,value:t.radius,onChange:u=>i("radius",u)}),s.jsx(Al,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:u=>i("border",u)}),s.jsx(Al,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:u=>i("gap",u)}),s.jsx(Al,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:u=>i("shadow",u)}),s.jsx(Al,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:u=>i("surfaceOpacity",u),suffix:"%"}),s.jsx(Al,{label:"Noise",min:0,max:20,value:t.noise,onChange:u=>i("noise",u),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...N0,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:u=>i("fontFamily",u.target.value)})]}),s.jsx(Al,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:u=>i("fontSize",u)}),s.jsx(CPe,{label:"Headings tighter",checked:t.headingsTight,onChange:u=>i("headingsTight",u)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Al,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:u=>i("glow",u)}),s.jsx(Al,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:u=>i("scanlines",u)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:Dd,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...Dd,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...Dd,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...Dd,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:Dd,children:["Radius: ",t.radius]}),s.jsxs("span",{style:Dd,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:Dd,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:d.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[d.className,"  ",d.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",d.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:d.level,pct:d.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:d.scrapbook+"%",pct:d.scrapbook/100,color:"var(--success)"},{label:"Power",value:d.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:d.activity+"%",pct:d.activity/100,color:"var(--accent)"}].map((u,h)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:u.label}),s.jsx("span",{style:{color:"var(--title)"},children:u.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(u.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${u.color} 75%, transparent), ${u.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${u.color} 40%, transparent)`}})})]},h))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...Pd,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...Pd,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((u,h)=>s.jsx("button",{style:{...Pd,background:h===0?"var(--tile-hover)":"transparent",borderColor:h===0?"var(--active)":"var(--line)",boxShadow:h===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:u},u))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((u,h)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:u.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:u.v}),s.jsx("div",{style:{fontSize:12,color:u.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:u.trend})]},h))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((u,h)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:h%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:u[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:u[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:u[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:u[2]})]},h))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const ls={wrap:{color:"#F5F9FF"},intro:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,marginBottom:14},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:14},card:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)",minHeight:160,display:"flex",flexDirection:"column",gap:10},header:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},sub:{color:"#B0C4D9",fontSize:13,lineHeight:1.4},badgeRow:{display:"flex",gap:6,flexWrap:"wrap"}},io=(t,e="#1E3A5C")=>s.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",fontSize:11,borderRadius:999,background:e,border:"1px solid rgba(255,255,255,.12)",color:"#D9E7FF",textTransform:"uppercase",letterSpacing:.4},children:t}),oa=()=>s.jsxs("div",{style:ls.badgeRow,children:[io("mock"),io("concept","#234569"),io("ui","#1F4D67")]}),P4={common:"#1f3b5d",rare:"#234f7a",epic:"#3c2f6d",legendary:"#6b3b0f"};function SPe(){const t=[{title:"Data Whisperer",rarity:"epic",status:"Unlocked"},{title:"Perfect Sync",rarity:"rare",status:"Unlocked"},{title:"Zero Downtime",rarity:"legendary",status:"Locked"},{title:"Scout Elite",rarity:"common",status:"Unlocked"},{title:"API Ranger",rarity:"rare",status:"Locked"},{title:"Schema Sleuth",rarity:"epic",status:"Unlocked"}],e=[{title:"Scan 10 servers",status:"Done",reward:"+250 XP"},{title:"Fix 3 warnings",status:"In progress",reward:"+1 reroll"},{title:"Share a dashboard",status:"Ready",reward:"Title shard"},{title:"Hit uptime streak",status:"Locked",reward:"Glow badge"}],n=[{tier:"Mythic",delta:"+2",trend:"up"},{tier:"Diamond",delta:"-1",trend:"down"},{tier:"Platinum",delta:"+4",trend:"up"},{tier:"Gold",delta:"0",trend:"flat"}],r=[{label:"Level 12",done:!0},{label:"Sync Master",done:!0},{label:"API Adept",done:!1},{label:"Data Virtuoso",done:!1}],i=[{level:1,reward:"Theme Skin",unlocked:!0},{level:4,reward:"Badge Token",unlocked:!0},{level:7,reward:"Loot Cache",unlocked:!1},{level:10,reward:"Mythic Frame",unlocked:!1}],a=[{label:"Common",value:32,color:"#1e3b5d"},{label:"Rare",value:28,color:"#1f5d77"},{label:"Epic",value:22,color:"#3c2f6d"},{label:"Legendary",value:18,color:"#6b3b0f"}],o=[{name:"Link Speed",state:"active"},{name:"Alert Vision",state:"active"},{name:"Schema Insight",state:"locked"},{name:"API Armor",state:"active"},{name:"Sync Surge",state:"active"},{name:"Data Forge",state:"locked"},{name:"Audit Ghost",state:"locked"},{name:"Chronicle",state:"locked"}];return s.jsxs("div",{style:ls.wrap,children:[s.jsxs("div",{style:ls.intro,children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:"#F5F9FF"},children:"Gamified Visuals"}),s.jsx("p",{style:ls.sub,children:"Static showcase of badges, streaks, ladders, and tracks in SFDataHub styling."})]}),oa()]}),s.jsxs("div",{style:ls.grid,children:[s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Achievement Badges"}),s.jsx("div",{style:ls.sub,children:"Unlocked vs. locked set with rarity color tags."})]}),oa()]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:t.map(l=>s.jsxs("div",{style:{border:"1px dashed rgba(255,255,255,.15)",borderRadius:12,padding:10,background:"rgba(255,255,255,.02)"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:6},children:l.title}),s.jsxs("div",{style:ls.badgeRow,children:[io(l.status,l.status==="Unlocked"?"#1f4f62":"#422b2b"),io(l.rarity,P4[l.rarity])]})]},l.title))})]}),s.jsxs("div",{style:{...ls.card,background:"linear-gradient(145deg, #143257, #0f243d)"},children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Scan Streak"}),s.jsx("div",{style:ls.sub,children:"Keep the flame alive with consistent daily scans."})]}),oa()]}),s.jsxs("div",{style:{background:"rgba(0,0,0,.25)",borderRadius:12,padding:12,border:"1px solid rgba(255,255,255,.06)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Current streak"}),s.jsx("div",{style:{fontSize:32,fontWeight:800},children:"12 days "})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Best streak"}),s.jsx("div",{style:{fontWeight:700},children:"21 days"}),s.jsx("div",{style:{marginTop:6,background:"#0e1e33",borderRadius:999,padding:"4px 10px"},children:"+3d buffer"})]})]}),s.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next reward: Ember Frame at 14 days."})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Quest Log"}),s.jsx("div",{style:ls.sub,children:"Short mission stack with rewards."})]}),oa()]}),s.jsx("div",{style:{display:"grid",gap:8},children:e.map(l=>s.jsxs("div",{style:{borderRadius:10,padding:10,background:"rgba(255,255,255,.03)",border:"1px solid rgba(255,255,255,.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:l.title}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:l.reward})]}),io(l.status,l.status==="Done"?"#1f4f62":l.status==="In progress"?"#4f3b1f":"#3a2f4f")]},l.title))})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Trophy Podium"}),s.jsx("div",{style:ls.sub,children:"Top 3 snapshot with podium heights."})]}),oa()]}),s.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:10,justifyContent:"space-around",paddingTop:8},children:[{rank:2,height:60},{rank:1,height:90},{rank:3,height:45}].map(l=>s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["#",l.rank]}),s.jsxs("div",{style:{width:70,height:l.height,background:l.rank===1?"linear-gradient(180deg,#f5d26b,#b87b1a)":"linear-gradient(180deg,#345a8a,#203752)",borderRadius:10,border:"1px solid rgba(255,255,255,.2)",display:"grid",placeItems:"center",fontWeight:800,color:l.rank===1?"#1a1a1a":"#F5F9FF"},children:["S",l.rank]}),s.jsxs("div",{style:{marginTop:4,fontSize:12},children:["Squad ",l.rank]})]},l.rank))})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Rank Ladder"}),s.jsx("div",{style:ls.sub,children:"League rungs with movement delta."})]}),oa()]}),s.jsx("div",{style:{display:"grid",gap:8},children:n.map(l=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderRadius:10,border:"1px solid rgba(255,255,255,.08)",background:"rgba(255,255,255,.02)"},children:[s.jsx("div",{style:{fontWeight:700},children:l.tier}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:l.delta}),s.jsx("span",{style:{color:l.trend==="up"?"#5AD8A6":l.trend==="down"?"#E06C75":"#B0C4D9"},children:l.trend==="up"?"":l.trend==="down"?"":""})]})]},l.tier))})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Milestone Timeline"}),s.jsx("div",{style:ls.sub,children:"Linear track with unlocked markers."})]}),oa()]}),s.jsxs("div",{style:{position:"relative",padding:"10px 4px 0"},children:[s.jsx("div",{style:{position:"absolute",top:22,left:0,right:0,height:2,background:"rgba(255,255,255,.12)"}}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r.length}, 1fr)`,gap:6,position:"relative"},children:r.map(l=>s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{width:22,height:22,margin:"0 auto",borderRadius:"50%",background:l.done?"#2d7f5f":"#2f415e",border:"2px solid rgba(255,255,255,.1)",display:"grid",placeItems:"center",fontSize:11,fontWeight:700},children:l.done?"":""}),s.jsx("div",{style:{marginTop:6,fontSize:12},children:l.label})]},l.label))})]})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Collection Ring"}),s.jsx("div",{style:ls.sub,children:"Donut visualization for scrapbook completion."})]}),oa()]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"50%",background:"conic-gradient(#3c7bd9 0% 68%, #1d3051 68% 100%)",display:"grid",placeItems:"center",border:"1px solid rgba(255,255,255,.08)"},children:s.jsx("div",{style:{width:78,height:78,borderRadius:"50%",background:"#0f1e33",display:"grid",placeItems:"center",color:"#F5F9FF",fontWeight:800},children:"68%"})}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:ls.badgeRow,children:[io("Unlocked 45/66","#1f4f62"),io("Sets: 6","#2a3f68")]}),s.jsx("div",{style:{marginTop:10,fontSize:12,color:"#B0C4D9"},children:"Next reward at 75%: Chronicle stencil frame."})]})]})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Boss HP  Goal Bar"}),s.jsx("div",{style:ls.sub,children:"Progress toward the next major unlock."})]}),oa()]}),s.jsxs("div",{style:{background:"#0f1f33",borderRadius:12,padding:10,border:"1px solid rgba(255,255,255,.08)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"#B0C4D9"},children:[s.jsx("span",{children:"Phase 2/3"}),s.jsx("span",{children:"82% to go"})]}),s.jsx("div",{style:{height:22,borderRadius:10,overflow:"hidden",marginTop:6,border:"1px solid rgba(255,255,255,.1)"},children:s.jsx("div",{style:{width:"18%",height:"100%",background:"linear-gradient(90deg, #d95f5f, #f2a45d)",boxShadow:"0 0 12px rgba(242,164,93,.4)"}})}),s.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next shield break at 25% HP."})]})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Skill Tree Mini"}),s.jsx("div",{style:ls.sub,children:"Node states with locked paths."})]}),oa()]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0,1fr))",gap:8},children:o.map(l=>s.jsxs("div",{style:{background:"rgba(255,255,255,.03)",borderRadius:10,border:`1px solid ${l.state==="active"?"rgba(90,216,166,.4)":"rgba(255,255,255,.08)"}`,padding:10,boxShadow:l.state==="active"?"0 0 12px rgba(90,216,166,.25)":"none"},children:[s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:l.state==="active"?"Unlocked":"Locked"}),s.jsx("div",{style:{fontWeight:700,marginTop:4},children:l.name})]},l.name))}),s.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Path glow = active; darker cells stay locked."})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Season Pass Track"}),s.jsx("div",{style:ls.sub,children:"Horizontal progression with staged rewards."})]}),oa()]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginTop:4},children:[s.jsx("div",{style:{flex:1,height:10,borderRadius:999,background:"#0f1f33",position:"relative",overflow:"hidden"},children:s.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"45%",background:"linear-gradient(90deg,#2a7bbd,#54c9e7)"}})}),io("45%","#1f4f62")]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:10,overflowX:"auto"},children:i.map(l=>s.jsxs("div",{style:{minWidth:120,background:"rgba(255,255,255,.03)",borderRadius:12,padding:10,border:`1px solid ${l.unlocked?"rgba(84,201,231,.4)":"rgba(255,255,255,.08)"}`},children:[s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Level ",l.level]}),s.jsx("div",{style:{fontWeight:700},children:l.reward}),s.jsx("div",{style:{marginTop:6},children:io(l.unlocked?"Claimed":"Locked",l.unlocked?"#1f4f62":"#2f2f4f")})]},l.level))})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Title Plates"}),s.jsx("div",{style:ls.sub,children:"Unlockable nameplates with rarity glow."})]}),oa()]}),s.jsx("div",{style:{display:"grid",gap:10},children:[{name:"Data Pioneer",tone:"linear-gradient(90deg,#2f5b90,#1f3d68)",rarity:"rare"},{name:"Mythic Cartographer",tone:"linear-gradient(90deg,#6b3b0f,#b87b1a)",rarity:"legendary"},{name:"Night Runner",tone:"linear-gradient(90deg,#28354f,#1a2335)",rarity:"common"}].map(l=>s.jsxs("div",{style:{borderRadius:12,padding:12,background:l.tone,border:"1px solid rgba(255,255,255,.12)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:800},children:l.name}),io(l.rarity,P4[l.rarity]||"#234569")]},l.name))})]}),s.jsxs("div",{style:ls.card,children:[s.jsxs("div",{style:ls.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Loot / Rarity Mix"}),s.jsx("div",{style:ls.sub,children:"Stacked distribution snapshot."})]}),oa()]}),s.jsx("div",{style:{height:24,borderRadius:12,overflow:"hidden",display:"flex",border:"1px solid rgba(255,255,255,.08)"},children:a.map(l=>s.jsxs("div",{style:{width:`${l.value}%`,background:l.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,color:"#DAE8FF",borderRight:"1px solid rgba(255,255,255,.05)"},children:[l.value,"%"]},l.label))}),s.jsx("div",{style:ls.badgeRow,children:a.map(l=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"2px 8px",borderRadius:999,background:"rgba(255,255,255,.04)",border:"1px solid rgba(255,255,255,.08)",fontSize:12},children:[s.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:l.color,display:"inline-block"}}),l.label]},l.label))})]})]})]})}const D4=[{id:"quests",title:"Quests & Objectives",description:"Logs, chains, rewards, and difficulty chips.",items:[{id:"11",categoryId:"quests",title:"Quest Log (3 steps)",subtitle:"Ordered checklist",tags:["mock"],previewId:"pv_quest_steps"},{id:"12",categoryId:"quests",title:"Daily Objectives Board",subtitle:"Checkbox grid",tags:["ui"],previewId:"pv_daily_checklist"},{id:"13",categoryId:"quests",title:"Weekly Contract Card",subtitle:"Timer + tear edge",tags:["concept"],previewId:"pv_contract_timer"},{id:"14",categoryId:"quests",title:"Bounty Card",subtitle:"Target + reward tag",tags:["mock"],previewId:"pv_bounty_target"},{id:"15",categoryId:"quests",title:"Multi-Objective Chips",subtitle:"3 tagged goals",tags:["ui"],previewId:"pv_objective_chips"},{id:"16",categoryId:"quests",title:"Quest Chain Path",subtitle:"Linked nodes",tags:["mock"],previewId:"pv_quest_chain_nodes"},{id:"17",categoryId:"quests",title:"Reward Preview Panel",subtitle:"XP + coins bundle",tags:["ui"],previewId:"pv_reward_bundle"},{id:"18",categoryId:"quests",title:"Side Quest Mini",subtitle:"Compact lane",tags:["mock"],previewId:"pv_sidequest_compact"},{id:"19",categoryId:"quests",title:"Claim Reward States",subtitle:"Enabled vs locked",tags:["ui"],previewId:"pv_claim_states"},{id:"20",categoryId:"quests",title:"Difficulty Tags",subtitle:"Easy / Hard / Insane",tags:["mock"],previewId:"pv_difficulty_tags"}]},{id:"progress",title:"Progress Bars & Gauges",description:"Boss phases, dual progress, rings, and risk arcs.",items:[{id:"21",categoryId:"progress",title:"Boss HP Goal Bar",subtitle:"Segmented phases",tags:["mock"],previewId:"pv_boss_hp_segmented"},{id:"22",categoryId:"progress",title:"Dual Progress vs Avg",subtitle:"Overlay marker",tags:["ui"],previewId:"pv_dual_progress_marker"},{id:"23",categoryId:"progress",title:"Segmented Track (10)",subtitle:"10 stops rail",tags:["concept"],previewId:"pv_segment_track_10"},{id:"24",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"pv_donut_completion"},{id:"25",categoryId:"progress",title:"Battery Gauge",subtitle:"Energy level",tags:["ui"],previewId:"pv_battery_gauge"},{id:"26",categoryId:"progress",title:"Thermometer Vertical",subtitle:"Heat column",tags:["mock"],previewId:"pv_thermo_vertical"},{id:"27",categoryId:"progress",title:"Level XP Bar + ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"pv_xp_ticks"},{id:"28",categoryId:"progress",title:"Multi-Stat Mini Bars",subtitle:"STR/DEX/INT/CON/LCK",tags:["mock"],previewId:"pv_multibar_stats5"},{id:"29",categoryId:"progress",title:"Risk Meter",subtitle:"Arc pointer",tags:["concept"],previewId:"pv_risk_meter"},{id:"30",categoryId:"progress",title:"Perfect Run Bar",subtitle:"Checklist + bar",tags:["ui"],previewId:"pv_perfect_run"}]},{id:"rankings",title:"Rankings & Leagues",description:"Podiums, ladders, deltas, and history.",items:[{id:"31",categoryId:"rankings",title:"Trophy Podium Top 3",subtitle:"Height podium",tags:["mock"],previewId:"pv_podium_top3"},{id:"32",categoryId:"rankings",title:"Rank Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"pv_ladder_rungs"},{id:"33",categoryId:"rankings",title:"League Tier Card",subtitle:"Bronze -> Diamond",tags:["concept"],previewId:"pv_league_tiers"},{id:"34",categoryId:"rankings",title:"Rank Delta Chip",subtitle:"Up/down pill",tags:["ui"],previewId:"pv_delta_chip"},{id:"35",categoryId:"rankings",title:"Percentile Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"pv_percentile_gauge"},{id:"36",categoryId:"rankings",title:"Rival Slot (nearest)",subtitle:"You vs nearest",tags:["concept"],previewId:"pv_rival_slot"},{id:"37",categoryId:"rankings",title:"Promotion Zone Highlight",subtitle:"Green band",tags:["ui"],previewId:"pv_promo_zone"},{id:"38",categoryId:"rankings",title:"Relegation Warning",subtitle:"Red band",tags:["mock"],previewId:"pv_relegation_zone"},{id:"39",categoryId:"rankings",title:"Top 5 Mini List",subtitle:"Ranked list",tags:["ui"],previewId:"pv_top5_list"},{id:"40",categoryId:"rankings",title:"Rank History Step",subtitle:"Step chart",tags:["mock"],previewId:"pv_rank_step_history"}]},{id:"duels",title:"Comparisons & Duels",description:"Splits, overlays, and matchup meters.",items:[{id:"41",categoryId:"duels",title:"Stat Split Compare",subtitle:"Two columns",tags:["mock"],previewId:"pv_split_compare"},{id:"42",categoryId:"duels",title:"You vs Avg Bars",subtitle:"Overlay bars",tags:["ui"],previewId:"pv_you_vs_avg_bars"},{id:"43",categoryId:"duels",title:"Best of 3 Dots",subtitle:"Round tracker",tags:["mock"],previewId:"pv_bestof3_dots"},{id:"44",categoryId:"duels",title:"Duel Outcome Card",subtitle:"Win/Loss plate",tags:["ui"],previewId:"pv_duel_outcome"},{id:"45",categoryId:"duels",title:"Advantage Meter",subtitle:"Arrow to winner",tags:["concept"],previewId:"pv_advantage_meter"},{id:"46",categoryId:"duels",title:"KPI Side-by-side",subtitle:"Four KPI tiles",tags:["mock"],previewId:"pv_kpi_tiles_4"},{id:"47",categoryId:"duels",title:"Delta Breakdown Chips",subtitle:"Pos/neg split",tags:["ui"],previewId:"pv_delta_chips_breakdown"},{id:"48",categoryId:"duels",title:"Mirror Match",subtitle:"Symmetric view",tags:["mock"],previewId:"pv_mirror_neutral"},{id:"49",categoryId:"duels",title:"Radar Mock",subtitle:"Polygon radar",tags:["concept"],previewId:"pv_radar_polygon"},{id:"50",categoryId:"duels",title:"Gap to Next",subtitle:"Distance marker",tags:["ui"],previewId:"pv_gap_to_next"}]},{id:"guild",title:"Guild & Social",description:"Roles, readiness, and alliance visuals.",items:[{id:"61",categoryId:"guild",title:"Guild Role Badges",subtitle:"Role chips",tags:["mock"],previewId:"pv_guild_roles"},{id:"62",categoryId:"guild",title:"Contribution Per Member",subtitle:"Member bars",tags:["ui"],previewId:"pv_contrib_bars"},{id:"63",categoryId:"guild",title:"Member Spotlight",subtitle:"Highlight lane",tags:["concept"],previewId:"pv_spotlight_card"},{id:"64",categoryId:"guild",title:"Guild Power Composite",subtitle:"Gauge blend",tags:["mock"],previewId:"pv_guild_power_meter"},{id:"65",categoryId:"guild",title:"Recruitment Slots",subtitle:"Open vs filled",tags:["ui"],previewId:"pv_slots_open_filled"},{id:"66",categoryId:"guild",title:"War Readiness Panel",subtitle:"Status chips",tags:["mock"],previewId:"pv_war_readiness"},{id:"67",categoryId:"guild",title:"Activity Pulse Spark",subtitle:"Pulse waveform",tags:["concept"],previewId:"pv_activity_pulse"},{id:"68",categoryId:"guild",title:"Alliance Link Card",subtitle:"Linked hubs",tags:["mock"],previewId:"pv_alliance_link"},{id:"69",categoryId:"guild",title:"Pinned Announcement",subtitle:"Pinned note",tags:["ui"],previewId:"pv_pinned_announcement"},{id:"70",categoryId:"guild",title:"Trophy Shelf",subtitle:"Shelf icons",tags:["mock"],previewId:"pv_trophy_shelf"}]}],gs=({label:t})=>s.jsx("span",{className:"g2-pill",children:t}),ss=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g2-bar tone-${e}`,style:{width:t,height:n}}),M4={pv_quest_steps:()=>s.jsx("div",{className:"g2-preview g2-steps",children:[1,2,3].map(t=>s.jsxs("div",{className:"g2-step-row",children:[s.jsx("span",{className:"g2-step-dot"}),s.jsx(ss,{width:`${70-t*10}%`,tone:t===3?"muted":"accent"})]},t))}),pv_daily_checklist:()=>s.jsx("div",{className:"g2-preview g2-checklist",children:["Login","Scan","Share","Claim"].map((t,e)=>s.jsxs("div",{className:"g2-check-row",children:[s.jsx("span",{className:`g2-checkbox ${e<2?"checked":""}`}),s.jsx("span",{className:"g2-check-label",children:t}),s.jsx(ss,{width:`${40+e*10}%`,tone:"accent",height:5})]},t))}),pv_contract_timer:()=>s.jsxs("div",{className:"g2-preview g2-contract",children:[s.jsxs("div",{className:"g2-contract-top",children:[s.jsx(ss,{width:"80%",tone:"accent"}),s.jsx(gs,{label:"7d"})]}),s.jsxs("div",{className:"g2-contract-body",children:[s.jsx(ss,{width:"100%",tone:"muted",height:6}),s.jsx(ss,{width:"65%",tone:"warning",height:6})]}),s.jsx("div",{className:"g2-contract-tear"})]}),pv_bounty_target:()=>s.jsxs("div",{className:"g2-preview g2-row",children:[s.jsxs("div",{className:"g2-target",children:[s.jsx("div",{className:"g2-target-ring"}),s.jsx("div",{className:"g2-target-dot"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"60%",tone:"accent"}),s.jsx(ss,{width:"45%",tone:"success"}),s.jsx(gs,{label:"Reward"})]})]}),pv_objective_chips:()=>s.jsxs("div",{className:"g2-preview g2-chip-stack",children:[s.jsx(gs,{label:"Win 2 matches"}),s.jsx(gs,{label:"Scan 3"}),s.jsx(gs,{label:"Share once"})]}),pv_quest_chain_nodes:()=>s.jsx("div",{className:"g2-preview g2-node-chain",children:[0,1,2,3,4].map(t=>s.jsxs(W.Fragment,{children:[s.jsx("div",{className:`g2-node ${t<3?"active":""}`}),t<4?s.jsx("div",{className:"g2-node-connector"}):null]},t))}),pv_reward_bundle:()=>s.jsxs("div",{className:"g2-preview g2-row g2-space-between",children:[s.jsx("div",{className:"g2-loot g2-loot-gem"}),s.jsx("div",{className:"g2-loot g2-loot-coin"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"70%",tone:"accent"}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(gs,{label:"+250 XP"}),s.jsx(gs,{label:"+2 keys"})]})]})]}),pv_sidequest_compact:()=>s.jsxs("div",{className:"g2-preview g2-row g2-sidequest",children:[s.jsx("div",{className:"g2-sidequest-tag",children:"Side"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"60%",tone:"accent"}),s.jsx(ss,{width:"35%",tone:"muted"})]}),s.jsx("div",{className:"g2-arrow-right"})]}),pv_claim_states:()=>s.jsxs("div",{className:"g2-preview g2-claims",children:[s.jsx("div",{className:"g2-claim-btn enabled",children:"Claim"}),s.jsx("div",{className:"g2-claim-btn disabled",children:"Locked"})]}),pv_difficulty_tags:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(gs,{label:"Easy"}),s.jsx(gs,{label:"Hard"}),s.jsx(gs,{label:"Insane"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"40%",tone:"success"}),s.jsx(ss,{width:"60%",tone:"warning"}),s.jsx(ss,{width:"80%",tone:"danger"})]})]}),pv_boss_hp_segmented:()=>s.jsxs("div",{className:"g2-preview g2-bossbar",children:[[0,1,2,3].map(t=>s.jsx("div",{className:`g2-boss-segment ${t<3?"filled":""}`},t)),s.jsx("div",{className:"g2-marker",style:{left:"72%"}})]}),pv_dual_progress_marker:()=>s.jsxs("div",{className:"g2-preview g2-col g2-gap-xs",children:[s.jsx(ss,{width:"85%",tone:"accent",height:10}),s.jsxs("div",{className:"g2-dual-overlay",children:[s.jsx(ss,{width:"60%",tone:"success",height:8}),s.jsx("div",{className:"g2-marker",style:{left:"60%"}}),s.jsx("div",{className:"g2-marker muted",style:{left:"85%"}})]})]}),pv_segment_track_10:()=>s.jsx("div",{className:"g2-preview g2-segment-track",children:Array.from({length:10}).map((t,e)=>s.jsx("div",{className:`g2-segment ${e<6?"active":""}`},e))}),pv_donut_completion:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsxs("div",{className:"g2-donut",children:[s.jsx("div",{className:"g2-donut-fill"}),s.jsx("div",{className:"g2-donut-hole",children:"72%"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"50%",tone:"accent"}),s.jsx(ss,{width:"40%",tone:"muted"})]})]}),pv_battery_gauge:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsxs("div",{className:"g2-battery",children:[s.jsx("div",{className:"g2-battery-cap"}),s.jsx("div",{className:"g2-battery-fill"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(gs,{label:"82%"}),s.jsx(ss,{width:"70%",tone:"accent"})]})]}),pv_thermo_vertical:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-thermo",children:s.jsx("div",{className:"g2-thermo-fill"})}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"40%",tone:"warning"}),s.jsx(ss,{width:"30%",tone:"muted"})]})]}),pv_xp_ticks:()=>s.jsxs("div",{className:"g2-preview g2-col",children:[s.jsxs("div",{className:"g2-xpbar",children:[s.jsx("div",{className:"g2-xp-fill"}),Array.from({length:8}).map((t,e)=>s.jsx("span",{className:"g2-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),s.jsx(gs,{label:"Level 42"})]}),pv_multibar_stats5:()=>s.jsx("div",{className:"g2-preview g2-stats5",children:["STR","DEX","INT","CON","LCK"].map((t,e)=>s.jsxs("div",{className:"g2-stat-row",children:[s.jsx("span",{className:"g2-stat-label",children:t}),s.jsx(ss,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success",height:6})]},t))}),pv_risk_meter:()=>s.jsxs("div",{className:"g2-preview g2-risk",children:[s.jsx("div",{className:"g2-risk-arc",children:s.jsx("div",{className:"g2-risk-pointer"})}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(gs,{label:"Risk"}),s.jsx(gs,{label:"68%"})]})]}),pv_perfect_run:()=>s.jsxs("div",{className:"g2-preview g2-perfect",children:[s.jsx(ss,{width:"100%",tone:"success",height:12}),s.jsx("div",{className:"g2-checklist tiny",children:["No deaths","No errors","All chests"].map(t=>s.jsxs("div",{className:"g2-check-row",children:[s.jsx("span",{className:"g2-checkbox checked"}),s.jsx("span",{className:"g2-check-label",children:t})]},t))})]}),pv_podium_top3:()=>s.jsx("div",{className:"g2-preview g2-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((t,e)=>s.jsxs("div",{className:`g2-podium-col ${t.tone}`,style:{height:t.h},children:["#",e+1]},e))}),pv_ladder_rungs:()=>s.jsx("div",{className:"g2-preview g2-ladder",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g2-rung ${e===2?"active":""}`},e))}),pv_league_tiers:()=>s.jsxs("div",{className:"g2-preview g2-row g2-league",children:[s.jsx("div",{className:"g2-league-shield"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"70%",tone:"accent"}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(gs,{label:"Bronze"}),s.jsx(gs,{label:"Diamond"})]})]})]}),pv_delta_chip:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(gs,{label:"^ +12"}),s.jsx(gs,{label:"v -3"}),s.jsx(ss,{width:"50%",tone:"accent"})]}),pv_percentile_gauge:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-percent-gauge",children:s.jsx("div",{className:"g2-percent-needle"})}),s.jsxs("div",{className:"g2-col",children:[s.jsx(gs,{label:"Top 5%"}),s.jsx(ss,{width:"40%",tone:"accent"})]})]}),pv_rival_slot:()=>s.jsxs("div",{className:"g2-preview g2-rival",children:[s.jsxs("div",{className:"g2-vs-block",children:[s.jsx(ss,{width:"60%",tone:"accent"}),s.jsx(gs,{label:"You"})]}),s.jsx("div",{className:"g2-vs-mid",children:"VS"}),s.jsxs("div",{className:"g2-vs-block rival",children:[s.jsx(ss,{width:"55%",tone:"warning"}),s.jsx(gs,{label:"Rival"})]})]}),pv_promo_zone:()=>s.jsxs("div",{className:"g2-preview g2-zone promo",children:[s.jsx("div",{className:"g2-zone-band"}),s.jsx("div",{className:"g2-zone-label",children:"Promotion Zone"})]}),pv_relegation_zone:()=>s.jsxs("div",{className:"g2-preview g2-zone danger",children:[s.jsx("div",{className:"g2-zone-band"}),s.jsx("div",{className:"g2-zone-label",children:"Relegation"})]}),pv_top5_list:()=>s.jsx("div",{className:"g2-preview g2-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((t,e)=>s.jsxs("div",{className:"g2-list-row",children:[s.jsx("span",{className:"g2-list-num",children:e+1}),s.jsx(ss,{width:`${70-e*8}%`,tone:e<2?"accent":"muted",height:6})]},t))}),pv_rank_step_history:()=>s.jsxs("div",{className:"g2-preview g2-rank-history",children:[Array.from({length:6}).map((t,e)=>s.jsx("div",{className:"g2-rank-node",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),s.jsx("div",{className:"g2-rank-line"})]}),pv_split_compare:()=>s.jsxs("div",{className:"g2-preview g2-split",children:[s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"70%",tone:"accent"}),s.jsx(ss,{width:"40%",tone:"accent"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"60%",tone:"warning"}),s.jsx(ss,{width:"50%",tone:"warning"})]})]}),pv_you_vs_avg_bars:()=>s.jsxs("div",{className:"g2-preview g2-col",children:[s.jsxs("div",{className:"g2-overlay-bars",children:[s.jsx(ss,{width:"80%",tone:"accent",height:10}),s.jsx(ss,{width:"55%",tone:"muted",height:10})]}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(gs,{label:"You"}),s.jsx(gs,{label:"Server Avg"})]})]}),pv_bestof3_dots:()=>s.jsx("div",{className:"g2-preview g2-row g2-gap-sm",children:[0,1,2].map(t=>s.jsx("div",{className:`g2-round-dot ${t<2?"won":""}`},t))}),pv_duel_outcome:()=>s.jsxs("div",{className:"g2-preview g2-duel",children:[s.jsx("div",{className:"g2-shield win",children:"Win"}),s.jsx("div",{className:"g2-shield loss",children:"Loss"})]}),pv_advantage_meter:()=>s.jsxs("div",{className:"g2-preview g2-meter",children:[s.jsxs("div",{className:"g2-meter-track",children:[s.jsx("div",{className:"g2-meter-fill"}),s.jsx("div",{className:"g2-meter-pointer",style:{left:"62%"}})]}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(gs,{label:"Advantage"}),s.jsx(gs,{label:"+12%"})]})]}),pv_kpi_tiles_4:()=>s.jsx("div",{className:"g2-preview g2-kpi-grid",children:["KPI","CTR","UPT","LTV"].map((t,e)=>s.jsxs("div",{className:"g2-kpi-tile",children:[s.jsx("div",{className:"g2-kpi-label",children:t}),s.jsx(ss,{width:`${40+e*10}%`,tone:"accent"})]},t))}),pv_delta_chips_breakdown:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(gs,{label:"+18"}),s.jsx(gs,{label:"-5"}),s.jsx(gs,{label:"+2"}),s.jsx(gs,{label:"-1"})]}),pv_mirror_neutral:()=>s.jsxs("div",{className:"g2-preview g2-mirror",children:[s.jsx("div",{className:"g2-mirror-half",children:s.jsx(ss,{width:"60%",tone:"accent"})}),s.jsx("div",{className:"g2-divider"}),s.jsx("div",{className:"g2-mirror-half",children:s.jsx(ss,{width:"60%",tone:"warning"})})]}),pv_radar_polygon:()=>s.jsx("div",{className:"g2-preview g2-radar",children:s.jsxs("svg",{viewBox:"0 0 120 120",children:[s.jsx("polygon",{points:"60,15 100,50 90,105 30,105 20,50",className:"g2-radar-bg"}),s.jsx("polygon",{points:"60,30 90,55 80,90 40,90 30,55",className:"g2-radar-fill"})]})}),pv_gap_to_next:()=>s.jsxs("div",{className:"g2-preview g2-gap-bar",children:[s.jsx(ss,{width:"80%",tone:"accent",height:8}),s.jsx("div",{className:"g2-marker",style:{left:"65%"}}),s.jsx("div",{className:"g2-gap-label",children:"Gap: 12 pts"})]}),pv_guild_roles:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(gs,{label:"Leader"}),s.jsx(gs,{label:"Officer"}),s.jsx(gs,{label:"Member"})]}),pv_contrib_bars:()=>s.jsx("div",{className:"g2-preview g2-col g2-gap-xs",children:["Ava","Ben","Caro"].map((t,e)=>s.jsxs("div",{className:"g2-contrib-row",children:[s.jsx("span",{className:"g2-contrib-name",children:t}),s.jsx(ss,{width:`${50+e*15}%`,tone:"accent",height:6})]},t))}),pv_spotlight_card:()=>s.jsxs("div",{className:"g2-preview g2-spotlight",children:[s.jsx("div",{className:"g2-spotlight-glow"}),s.jsx(ss,{width:"70%",tone:"accent"}),s.jsx(gs,{label:"Spotlight"})]}),pv_guild_power_meter:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-power-donut",children:s.jsx("div",{className:"g2-power-fill"})}),s.jsxs("div",{className:"g2-col",children:[s.jsx(ss,{width:"60%",tone:"success"}),s.jsx(ss,{width:"40%",tone:"warning"})]})]}),pv_slots_open_filled:()=>s.jsx("div",{className:"g2-preview g2-slots",children:[0,1,2,3].map(t=>s.jsx("div",{className:`g2-slot-card ${t<2?"open":"filled"}`},t))}),pv_war_readiness:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(gs,{label:"Ready"}),s.jsx(gs,{label:"Armor"}),s.jsx(gs,{label:"Supplies"}),s.jsx(ss,{width:"50%",tone:"accent"})]}),pv_activity_pulse:()=>s.jsx("div",{className:"g2-preview g2-pulse",children:Array.from({length:14}).map((t,e)=>s.jsx("div",{className:"g2-pulse-bar",style:{height:`${10+e%5*8}px`}},e))}),pv_alliance_link:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-link-node"}),s.jsx("div",{className:"g2-link-chain"}),s.jsx("div",{className:"g2-link-node"})]}),pv_pinned_announcement:()=>s.jsxs("div",{className:"g2-preview g2-pinned",children:[s.jsx("div",{className:"g2-pin"}),s.jsx(ss,{width:"70%",tone:"accent"}),s.jsx(ss,{width:"40%",tone:"muted"})]}),pv_trophy_shelf:()=>s.jsxs("div",{className:"g2-preview g2-shelf",children:[s.jsx("div",{className:"g2-trophies",children:[0,1,2].map(t=>s.jsx("div",{className:"g2-trophy"},t))}),s.jsx("div",{className:"g2-shelf-wood"})]})},BPe=t=>M4[t]?M4[t]():s.jsx("div",{className:"g2-preview",children:s.jsx(ss,{width:"60%",tone:"accent"})});function NPe(){return s.jsxs("div",{className:"g2-root",children:[s.jsxs("header",{className:"g2-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 2"}),s.jsx("p",{className:"g2-sub",children:"50 unique mock widgets mapped to the original playground list. All static and scoped."})]}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(gs,{label:"mock"}),s.jsx(gs,{label:"concept"}),s.jsx(gs,{label:"ui"})]})]}),s.jsx("nav",{className:"g2-toc",children:D4.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g2-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g2-sections",children:D4.map(t=>s.jsxs("details",{className:"g2-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g2-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g2-section-title",children:t.title}),s.jsx("div",{className:"g2-section-sub",children:t.description})]}),s.jsxs("span",{className:"g2-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g2-grid",children:t.items.map(e=>s.jsxs("div",{className:"g2-card",children:[s.jsxs("div",{className:"g2-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g2-card-title",children:e.title}),s.jsx("div",{className:"g2-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g2-pill-row",children:(e.tags||["mock"]).map(n=>s.jsx(gs,{label:n},n))})]}),BPe(e.previewId)]},e.id))})]},t.id))})]})}const Q4=[{id:"badges",title:"Badges & Titles",description:"Unlocks, nameplates, and medal visuals.",items:[{id:"1",categoryId:"badges",title:"Achievement Unlocked",subtitle:"Shimmer check",tags:["mock","ui"],previewId:"g3_badge_unlock_ring"},{id:"2",categoryId:"badges",title:"Locked Badge Mask",subtitle:"Silhouette lock",tags:["mock"],previewId:"g3_badge_lock_mask"},{id:"3",categoryId:"badges",title:"Rarity Fan",subtitle:"Common to mythic fan",tags:["concept"],previewId:"g3_rarity_fan"},{id:"4",categoryId:"badges",title:"Mastery Tiers",subtitle:"I-V concentric",tags:["ui"],previewId:"g3_mastery_tiers"},{id:"5",categoryId:"badges",title:"Title Plate Frame",subtitle:"Nameplate glow",tags:["mock"],previewId:"g3_title_plate"},{id:"6",categoryId:"badges",title:"Medal Banner",subtitle:"Bronze/Silver/Gold bar",tags:["ui"],previewId:"g3_medal_banner"},{id:"7",categoryId:"badges",title:"Badge Glow Card",subtitle:"Starburst pop",tags:["concept"],previewId:"g3_badge_glow"},{id:"8",categoryId:"badges",title:"Approved Stamp",subtitle:"Circular stamp",tags:["mock"],previewId:"g3_stamp_card"},{id:"9",categoryId:"badges",title:"Showcase Strip",subtitle:"Static carousel",tags:["ui"],previewId:"g3_showcase_strip"},{id:"10",categoryId:"badges",title:"First Scan Popover",subtitle:"Speech bubble",tags:["mock"],previewId:"g3_first_popover"}]},{id:"progress",title:"Progress & Gauges",description:"Bars, gauges, and segmented tracks.",items:[{id:"11",categoryId:"progress",title:"Boss Segments",subtitle:"Phase chunks",tags:["mock"],previewId:"g3_boss_segments"},{id:"12",categoryId:"progress",title:"Dual Progress",subtitle:"You vs avg marker",tags:["ui"],previewId:"g3_dual_progress"},{id:"13",categoryId:"progress",title:"Segment Rail",subtitle:"10-block rail",tags:["concept"],previewId:"g3_segment_rail"},{id:"14",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"g3_donut_completion"},{id:"15",categoryId:"progress",title:"Battery Meter",subtitle:"Energy cell",tags:["ui"],previewId:"g3_battery_meter"},{id:"16",categoryId:"progress",title:"Thermo Column",subtitle:"Vertical fill",tags:["mock"],previewId:"g3_thermo_column"},{id:"17",categoryId:"progress",title:"XP With Ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"g3_xp_ticks"},{id:"18",categoryId:"progress",title:"Stat Stack",subtitle:"Five attributes",tags:["mock"],previewId:"g3_stat_stack"},{id:"19",categoryId:"progress",title:"Risk Arc",subtitle:"Arc meter",tags:["concept"],previewId:"g3_risk_arc"},{id:"20",categoryId:"progress",title:"Perfect Run",subtitle:"Checklist + bar",tags:["ui"],previewId:"g3_perfect_run"}]},{id:"rankings",title:"Rankings & Competitive",description:"Podiums, ladders, deltas, and rivals.",items:[{id:"21",categoryId:"rankings",title:"Podium Trio",subtitle:"Top 3 heights",tags:["mock"],previewId:"g3_podium_trio"},{id:"22",categoryId:"rankings",title:"Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"g3_ladder_rungs"},{id:"23",categoryId:"rankings",title:"League Shield",subtitle:"Tier shield",tags:["concept"],previewId:"g3_league_shield"},{id:"24",categoryId:"rankings",title:"Delta Chips",subtitle:"Up/Down pills",tags:["ui"],previewId:"g3_delta_chips"},{id:"25",categoryId:"rankings",title:"Percent Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"g3_percent_gauge"},{id:"26",categoryId:"rankings",title:"Rival Split",subtitle:"You vs rival",tags:["concept"],previewId:"g3_rival_split"},{id:"27",categoryId:"rankings",title:"Promotion Band",subtitle:"Green band",tags:["ui"],previewId:"g3_promo_band"},{id:"28",categoryId:"rankings",title:"Relegation Band",subtitle:"Red band",tags:["mock"],previewId:"g3_relegation_band"},{id:"29",categoryId:"rankings",title:"Top Five Rows",subtitle:"Ranked rows",tags:["ui"],previewId:"g3_top_five"},{id:"30",categoryId:"rankings",title:"Rank Steps",subtitle:"Step chart",tags:["mock"],previewId:"g3_rank_steps"}]},{id:"collections",title:"Collections & Inventory",description:"Binders, stickers, and milestones.",items:[{id:"31",categoryId:"collections",title:"Binder Slots",subtitle:"Grid slots",tags:["mock"],previewId:"g3_binder_slots"},{id:"32",categoryId:"collections",title:"Set Progress",subtitle:"3 of 5 lit",tags:["ui"],previewId:"g3_set_progress"},{id:"33",categoryId:"collections",title:"Missing Checklist",subtitle:"Remaining shards",tags:["mock"],previewId:"g3_missing_list"},{id:"34",categoryId:"collections",title:"Rarity Rows",subtitle:"Tier lines",tags:["concept"],previewId:"g3_rarity_rows"},{id:"35",categoryId:"collections",title:"Legendary Spread",subtitle:"Book spread",tags:["ui"],previewId:"g3_legendary_spread"},{id:"36",categoryId:"collections",title:"Pet Album",subtitle:"Avatar minis",tags:["mock"],previewId:"g3_pet_album"},{id:"37",categoryId:"collections",title:"Sticker Sheet",subtitle:"Sticker grid",tags:["concept"],previewId:"g3_sticker_sheet"},{id:"38",categoryId:"collections",title:"Duplicate Dial",subtitle:"Count dial",tags:["ui"],previewId:"g3_duplicate_dial"},{id:"39",categoryId:"collections",title:"Trade/Lock Tags",subtitle:"State chips",tags:["mock"],previewId:"g3_trade_lock"},{id:"40",categoryId:"collections",title:"Collection Timeline",subtitle:"Milestone nodes",tags:["ui"],previewId:"g3_collection_timeline"}]},{id:"micro",title:"Micro Interactions",description:"Toasts, tabs, ribbons, and overlays.",items:[{id:"41",categoryId:"micro",title:"Unlock Glow",subtitle:"Glowing card",tags:["mock"],previewId:"g3_unlock_glow"},{id:"42",categoryId:"micro",title:"Inspect Tooltip",subtitle:"Hover tip",tags:["ui"],previewId:"g3_inspect_tooltip"},{id:"43",categoryId:"micro",title:"Confetti Burst",subtitle:"Sprinkled dots",tags:["concept"],previewId:"g3_confetti_burst"},{id:"44",categoryId:"micro",title:"Corner Ribbon",subtitle:"New ribbon",tags:["mock"],previewId:"g3_corner_ribbon"},{id:"45",categoryId:"micro",title:"Locked Blur",subtitle:"Frosted overlay",tags:["ui"],previewId:"g3_locked_blur"},{id:"46",categoryId:"micro",title:"Pulse Progress",subtitle:"Animated pulse",tags:["concept"],previewId:"g3_pulse_progress"},{id:"47",categoryId:"micro",title:"Mini Tabs",subtitle:"Inline tab pills",tags:["ui"],previewId:"g3_mini_tabs"},{id:"48",categoryId:"micro",title:"Expandable Block",subtitle:"Details reveal",tags:["mock"],previewId:"g3_expand_block"},{id:"49",categoryId:"micro",title:"Toast Message",subtitle:"Inline toast",tags:["ui"],previewId:"g3_toast_message"},{id:"50",categoryId:"micro",title:"Quest Failed",subtitle:"Warning slab",tags:["mock"],previewId:"g3_quest_failed"}]}],Ir=({label:t})=>s.jsx("span",{className:"g3-pill",children:t}),Ms=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g3-bar tone-${e}`,style:{width:t,height:n}}),Mv=({tone:t="accent",size:e=8})=>s.jsx("span",{className:`g3-dot tone-${t}`,style:{width:e,height:e}}),kPe=t=>{const e=IPe[t];return e?e():s.jsx("div",{className:"g3-preview g3-fallback"})},IPe={g3_badge_unlock_ring:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-icon ring success",children:s.jsx("span",{className:"g3-checkmark"})}),s.jsxs("div",{className:"g3-col",children:[s.jsx(Ms,{width:"80%",tone:"success"}),s.jsxs("div",{className:"g3-pill-row",children:[s.jsx(Ir,{label:"Unlocked"}),s.jsx(Ir,{label:"+150 XP"})]})]})]}),g3_badge_lock_mask:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-icon ring muted",children:s.jsx("div",{className:"g3-lock-hole"})}),s.jsxs("div",{className:"g3-col",children:[s.jsx("div",{className:"g3-mask-figure"}),s.jsx(Ms,{width:"60%",tone:"muted"})]})]}),g3_rarity_fan:()=>s.jsx("div",{className:"g3-preview g3-row g3-gap-sm",children:["muted","accent","success","warning","danger"].map(t=>s.jsx("div",{className:`g3-diamond tone-${t}`},t))}),g3_mastery_tiers:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-ring-stack",children:[1,2,3].map(t=>s.jsx("div",{className:`g3-ring-${t}`},t))}),s.jsxs("div",{className:"g3-col",children:[s.jsx(Ms,{width:"65%"}),s.jsxs("div",{className:"g3-dot-row",children:[s.jsx(Mv,{}),s.jsx(Mv,{tone:"success"}),s.jsx(Mv,{tone:"warning"})]})]})]}),g3_title_plate:()=>s.jsxs("div",{className:"g3-preview g3-plate",children:[s.jsx("div",{className:"g3-plate-left"}),s.jsx("div",{className:"g3-plate-text",children:"Title"}),s.jsx("div",{className:"g3-plate-right"})]}),g3_medal_banner:()=>s.jsxs("div",{className:"g3-preview g3-row g3-space-between",children:[s.jsx("div",{className:"g3-medal bronze"}),s.jsx("div",{className:"g3-medal silver"}),s.jsx("div",{className:"g3-medal gold"})]}),g3_badge_glow:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-starburst"}),s.jsxs("div",{className:"g3-col",children:[s.jsx(Ms,{width:"70%"}),s.jsx(Ms,{width:"45%",tone:"success"})]})]}),g3_stamp_card:()=>s.jsxs("div",{className:"g3-preview g3-stamp-card",children:[s.jsx("div",{className:"g3-stamp-ring",children:"APPROVED"}),s.jsx(Ms,{width:"60%"})]}),g3_showcase_strip:()=>s.jsxs("div",{className:"g3-preview g3-carousel",children:[[0,1,2,3].map(t=>s.jsx("div",{className:`g3-slide ${t===1?"active":""}`},t)),s.jsx("div",{className:"g3-dot-row",children:[0,1,2,3].map(t=>s.jsx(Mv,{tone:t===1?"accent":"muted"},t))})]}),g3_first_popover:()=>s.jsxs("div",{className:"g3-preview g3-pop",children:[s.jsxs("div",{className:"g3-pop-bubble",children:[s.jsx("div",{className:"g3-pop-title",children:"First scan"}),s.jsx(Ms,{width:"70%"})]}),s.jsx("div",{className:"g3-pop-arrow"})]}),g3_boss_segments:()=>s.jsxs("div",{className:"g3-preview g3-bossbar",children:[[0,1,2,3].map(t=>s.jsx("div",{className:`g3-boss-segment ${t<3?"filled":""}`},t)),s.jsx("div",{className:"g3-marker",style:{left:"72%"}})]}),g3_dual_progress:()=>s.jsxs("div",{className:"g3-preview g3-col",children:[s.jsx(Ms,{width:"85%"}),s.jsxs("div",{className:"g3-dual",children:[s.jsx(Ms,{width:"60%",tone:"success",height:8}),s.jsx("div",{className:"g3-marker",style:{left:"60%"}}),s.jsx("div",{className:"g3-marker muted",style:{left:"85%"}})]})]}),g3_segment_rail:()=>s.jsx("div",{className:"g3-preview g3-rail",children:Array.from({length:10}).map((t,e)=>s.jsx("div",{className:`g3-rail-segment ${e<6?"active":""}`},e))}),g3_donut_completion:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsxs("div",{className:"g3-donut",children:[s.jsx("div",{className:"g3-donut-fill"}),s.jsx("div",{className:"g3-donut-hole",children:"72%"})]}),s.jsx(Ms,{width:"50%"})]}),g3_battery_meter:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsxs("div",{className:"g3-battery",children:[s.jsx("div",{className:"g3-battery-cap"}),s.jsx("div",{className:"g3-battery-fill"})]}),s.jsx(Ir,{label:"82%"})]}),g3_thermo_column:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsx("div",{className:"g3-thermo",children:s.jsx("div",{className:"g3-thermo-fill"})}),s.jsxs("div",{className:"g3-col",children:[s.jsx(Ms,{width:"40%",tone:"warning"}),s.jsx(Ms,{width:"30%",tone:"muted"})]})]}),g3_xp_ticks:()=>s.jsxs("div",{className:"g3-preview g3-col",children:[s.jsxs("div",{className:"g3-xpbar",children:[s.jsx("div",{className:"g3-xp-fill"}),Array.from({length:8}).map((t,e)=>s.jsx("span",{className:"g3-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),s.jsx(Ir,{label:"Lvl 42"})]}),g3_stat_stack:()=>s.jsx("div",{className:"g3-preview g3-stats",children:["STR","DEX","INT","CON","LCK"].map((t,e)=>s.jsxs("div",{className:"g3-stat-row",children:[s.jsx("span",{className:"g3-stat-label",children:t}),s.jsx(Ms,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success"})]},t))}),g3_risk_arc:()=>s.jsxs("div",{className:"g3-preview g3-risk",children:[s.jsx("div",{className:"g3-risk-arc",children:s.jsx("div",{className:"g3-risk-pointer"})}),s.jsx(Ir,{label:"68%"})]}),g3_perfect_run:()=>s.jsxs("div",{className:"g3-preview g3-perfect",children:[s.jsx(Ms,{width:"100%",tone:"success"}),s.jsx("div",{className:"g3-checklist tiny",children:["No deaths","No errors","All chests"].map(t=>s.jsxs("div",{className:"g3-check-row",children:[s.jsx("span",{className:"g3-checkbox checked"}),s.jsx("span",{className:"g3-check-label",children:t})]},t))})]}),g3_podium_trio:()=>s.jsx("div",{className:"g3-preview g3-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((t,e)=>s.jsxs("div",{className:`g3-podium-col ${t.tone}`,style:{height:t.h},children:["#",e+1]},e))}),g3_ladder_rungs:()=>s.jsx("div",{className:"g3-preview g3-ladder",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g3-rung ${e===2?"active":""}`},e))}),g3_league_shield:()=>s.jsxs("div",{className:"g3-preview g3-row g3-league",children:[s.jsx("div",{className:"g3-league-shield"}),s.jsx(Ms,{width:"70%"})]}),g3_delta_chips:()=>s.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[s.jsx(Ir,{label:"^ +12"}),s.jsx(Ir,{label:"v -3"}),s.jsx(Ms,{width:"50%"})]}),g3_percent_gauge:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsx("div",{className:"g3-percent",children:s.jsx("div",{className:"g3-percent-needle"})}),s.jsx(Ir,{label:"Top 5%"})]}),g3_rival_split:()=>s.jsxs("div",{className:"g3-preview g3-rival",children:[s.jsxs("div",{className:"g3-vs",children:[s.jsx(Ms,{width:"60%"}),s.jsx(Ir,{label:"You"})]}),s.jsx("div",{className:"g3-vs-mid",children:"VS"}),s.jsxs("div",{className:"g3-vs rival",children:[s.jsx(Ms,{width:"55%",tone:"warning"}),s.jsx(Ir,{label:"Rival"})]})]}),g3_promo_band:()=>s.jsxs("div",{className:"g3-preview g3-zone promo",children:[s.jsx("div",{className:"g3-zone-band"}),s.jsx("div",{className:"g3-zone-label",children:"Promotion"})]}),g3_relegation_band:()=>s.jsxs("div",{className:"g3-preview g3-zone danger",children:[s.jsx("div",{className:"g3-zone-band"}),s.jsx("div",{className:"g3-zone-label",children:"Relegation"})]}),g3_top_five:()=>s.jsx("div",{className:"g3-preview g3-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((t,e)=>s.jsxs("div",{className:"g3-list-row",children:[s.jsx("span",{className:"g3-list-num",children:e+1}),s.jsx(Ms,{width:`${70-e*8}%`,tone:e<2?"accent":"muted"})]},t))}),g3_rank_steps:()=>s.jsxs("div",{className:"g3-preview g3-rank-steps",children:[Array.from({length:6}).map((t,e)=>s.jsx("div",{className:"g3-step-dot",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),s.jsx("div",{className:"g3-step-line"})]}),g3_binder_slots:()=>s.jsx("div",{className:"g3-preview g3-grid-cards",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g3-slot ${e<3?"filled":""}`},e))}),g3_set_progress:()=>s.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[Array.from({length:5}).map((t,e)=>s.jsx("div",{className:`g3-piece ${e<3?"active":""}`},e)),s.jsx(Ir,{label:"3 / 5"})]}),g3_missing_list:()=>s.jsx("div",{className:"g3-preview g3-checklist",children:["Shard A","Shard B","Shard C"].map((t,e)=>s.jsxs("div",{className:"g3-check-row",children:[s.jsx("span",{className:`g3-checkbox ${e===2?"":"checked"}`}),s.jsx("span",{className:"g3-check-label",children:t})]},t))}),g3_rarity_rows:()=>s.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[s.jsx(Ms,{width:"90%",tone:"muted"}),s.jsx(Ms,{width:"70%",tone:"accent"}),s.jsx(Ms,{width:"50%",tone:"success"}),s.jsx(Ms,{width:"40%",tone:"warning"}),s.jsx(Ms,{width:"30%",tone:"danger"})]}),g3_legendary_spread:()=>s.jsxs("div",{className:"g3-preview g3-book",children:[s.jsx("div",{className:"g3-book-page left"}),s.jsx("div",{className:"g3-book-page right"})]}),g3_pet_album:()=>s.jsx("div",{className:"g3-preview g3-pet-grid",children:Array.from({length:6}).map((t,e)=>s.jsxs("div",{className:"g3-pet-avatar",children:[s.jsx("span",{className:"g3-pet-ear"}),s.jsx("span",{className:"g3-pet-ear"})]},e))}),g3_sticker_sheet:()=>s.jsx("div",{className:"g3-preview g3-sticker-sheet",children:Array.from({length:4}).map((t,e)=>s.jsx("div",{className:"g3-sticker"},e))}),g3_duplicate_dial:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsx("div",{className:"g3-counter",children:s.jsx("div",{className:"g3-counter-needle"})}),s.jsx(Ir,{label:"x4"})]}),g3_trade_lock:()=>s.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[s.jsx(Ir,{label:"Tradeable"}),s.jsx(Ir,{label:"Locked"}),s.jsx(Ms,{width:"40%"})]}),g3_collection_timeline:()=>s.jsxs("div",{className:"g3-preview g3-timeline",children:[[10,25,50,100].map((t,e)=>s.jsx("div",{className:"g3-timeline-node",style:{left:`${e*25}%`},children:s.jsx("span",{className:"g3-timeline-label",children:t})},t)),s.jsx("div",{className:"g3-timeline-line"})]}),g3_unlock_glow:()=>s.jsx("div",{className:"g3-preview g3-glow-card",children:s.jsx(Ms,{width:"60%",tone:"success"})}),g3_inspect_tooltip:()=>s.jsxs("div",{className:"g3-preview g3-tooltip-card",children:[s.jsx("div",{className:"g3-tooltip-box",children:"Inspect"}),s.jsx("div",{className:"g3-tooltip-tail"})]}),g3_confetti_burst:()=>s.jsx("div",{className:"g3-preview g3-confetti",children:Array.from({length:12}).map((t,e)=>s.jsx("div",{className:"g3-confetti-dot"},e))}),g3_corner_ribbon:()=>s.jsxs("div",{className:"g3-preview g3-corner",children:[s.jsx("div",{className:"g3-corner-ribbon",children:"New"}),s.jsx(Ms,{width:"60%"})]}),g3_locked_blur:()=>s.jsxs("div",{className:"g3-preview g3-locked",children:[s.jsx("div",{className:"g3-locked-mask"}),s.jsx("div",{className:"g3-lock-hole"})]}),g3_pulse_progress:()=>s.jsx("div",{className:"g3-preview g3-pulse-bar",children:s.jsx("div",{className:"g3-pulse-fill"})}),g3_mini_tabs:()=>s.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[s.jsxs("div",{className:"g3-tabs",children:[s.jsx("div",{className:"g3-tab active",children:"One"}),s.jsx("div",{className:"g3-tab",children:"Two"}),s.jsx("div",{className:"g3-tab",children:"Three"})]}),s.jsx(Ms,{width:"70%"})]}),g3_expand_block:()=>s.jsxs("div",{className:"g3-preview g3-details",children:[s.jsx("div",{className:"g3-details-summary",children:"Details"}),s.jsxs("div",{className:"g3-details-body",children:[s.jsx(Ms,{width:"60%",tone:"muted"}),s.jsx(Ms,{width:"40%",tone:"muted"})]})]}),g3_toast_message:()=>s.jsxs("div",{className:"g3-preview g3-toast",children:[s.jsx("div",{className:"g3-toast-dot"}),s.jsx(Ms,{width:"70%"})]}),g3_quest_failed:()=>s.jsxs("div",{className:"g3-preview g3-failed",children:[s.jsx("div",{className:"g3-warning-icon"}),s.jsxs("div",{className:"g3-col",children:[s.jsx(Ms,{width:"60%",tone:"danger"}),s.jsx(Ms,{width:"40%",tone:"muted"})]})]})};function EPe(){return s.jsxs("div",{className:"g3-root",children:[s.jsxs("header",{className:"g3-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 3"}),s.jsx("p",{className:"g3-sub",children:"50 unique mock previews across 5 categories. All static and scoped to this page."})]}),s.jsxs("div",{className:"g3-pill-row",children:[s.jsx(Ir,{label:"mock"}),s.jsx(Ir,{label:"concept"}),s.jsx(Ir,{label:"ui"})]})]}),s.jsx("nav",{className:"g3-toc",children:Q4.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g3-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g3-sections",children:Q4.map(t=>s.jsxs("details",{className:"g3-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g3-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g3-section-title",children:t.title}),s.jsx("div",{className:"g3-section-sub",children:t.description})]}),s.jsxs("span",{className:"g3-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g3-grid",children:t.items.map(e=>s.jsxs("div",{className:"g3-card",children:[s.jsxs("div",{className:"g3-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g3-card-title",children:e.title}),s.jsx("div",{className:"g3-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g3-pill-row",children:(e.tags||["mock"]).map(n=>s.jsx(Ir,{label:n},n))})]}),kPe(e.previewId)]},e.id))})]},t.id))})]})}const H4=[{id:"controls",title:"Controls & Navigation",description:"Chips, toggles, sliders, and small navigation rails.",items:[{id:"1",categoryId:"controls",title:"Segmented Toggle Bar",subtitle:"3 states, active glow",tags:["UI"],previewId:"pv_ui_seg_toggle_3"},{id:"2",categoryId:"controls",title:"Icon Tab Rail",subtitle:"mini tabs with badges",tags:["UI"],previewId:"pv_ui_icon_tabs_badges"},{id:"3",categoryId:"controls",title:"Filter Chips Row",subtitle:"wrap + selected state",tags:["UI"],previewId:"pv_ui_filter_chips_wrap"},{id:"4",categoryId:"controls",title:"Sort Pill Switch",subtitle:"ASC/DESC pill",tags:["UI"],previewId:"pv_ui_sort_pill"},{id:"5",categoryId:"controls",title:"Search Field + Hint",subtitle:"inline hint + icon",tags:["UI"],previewId:"pv_ui_search_hint"},{id:"6",categoryId:"controls",title:"Dropdown Menu Stack",subtitle:"3 options + separators",tags:["UI"],previewId:"pv_ui_dropdown_stack"},{id:"7",categoryId:"controls",title:"Range Slider Track",subtitle:"ticks + thumb",tags:["UI"],previewId:"pv_ui_slider_ticks"},{id:"8",categoryId:"controls",title:"Stepper Control",subtitle:"prev/next + step dots",tags:["UI"],previewId:"pv_ui_stepper_dots"},{id:"9",categoryId:"controls",title:"Compact Pagination",subtitle:"1..5 + next",tags:["UI"],previewId:"pv_ui_pagination_compact"},{id:"10",categoryId:"controls",title:"Sticky Subnav",subtitle:"active underline",tags:["UI"],previewId:"pv_ui_sticky_subnav"}]},{id:"cards",title:"Cards, Frames, Overlays",description:"Mini cards, ribbons, overlays, and tooltip shells.",items:[{id:"11",categoryId:"cards",title:"Card Header Ribbon",subtitle:"angled label",tags:["UI"],previewId:"pv_ui_ribbon_header"},{id:"12",categoryId:"cards",title:"Corner Tag Overlay",subtitle:"top-right chip",tags:["UI"],previewId:"pv_ui_corner_tag"},{id:"13",categoryId:"cards",title:"Locked Overlay Blur",subtitle:"frosted lock",tags:["UI"],previewId:"pv_ui_locked_blur2"},{id:"14",categoryId:"cards",title:"Tooltip Bubble",subtitle:"arrow + shadow",tags:["UI"],previewId:"pv_ui_tooltip_bubble"},{id:"15",categoryId:"cards",title:"Popover Panel",subtitle:"title + actions",tags:["UI"],previewId:"pv_ui_popover_panel"},{id:"16",categoryId:"cards",title:"Modal Mini Mock",subtitle:"header/body/footer",tags:["UI"],previewId:"pv_ui_modal_mini"},{id:"17",categoryId:"cards",title:"Drawer Slide Mock",subtitle:"right drawer",tags:["UI"],previewId:"pv_ui_drawer_right"},{id:"18",categoryId:"cards",title:"Toast Stack",subtitle:"3 toasts",tags:["UI"],previewId:"pv_ui_toast_stack3"},{id:"19",categoryId:"cards",title:"Inline Callout",subtitle:"info box",tags:["UI"],previewId:"pv_ui_callout_inline"},{id:"20",categoryId:"cards",title:"Badge Cluster",subtitle:"3 badge styles",tags:["UI"],previewId:"pv_ui_badge_cluster"}]},{id:"progress",title:"Progress & Meters",description:"Bars, dials, ladders, and dual markers.",items:[{id:"21",categoryId:"progress",title:"XP Bar with Ticks",subtitle:"level ticks",tags:["UI"],previewId:"pv_ui_xp_ticks2"},{id:"22",categoryId:"progress",title:"Dual Marker Bar",subtitle:"avg marker line",tags:["UI"],previewId:"pv_ui_dual_marker_bar"},{id:"23",categoryId:"progress",title:"Donut + Label",subtitle:"% inside ring",tags:["UI"],previewId:"pv_ui_donut_label"},{id:"24",categoryId:"progress",title:"Segmented Track 12",subtitle:"filled segments",tags:["UI"],previewId:"pv_ui_segment_track_12"},{id:"25",categoryId:"progress",title:"Vertical Thermometer",subtitle:"fill + cap",tags:["UI"],previewId:"pv_ui_thermo_cap"},{id:"26",categoryId:"progress",title:"Battery Gauge",subtitle:"4 cells",tags:["UI"],previewId:"pv_ui_battery_cells"},{id:"27",categoryId:"progress",title:"Multi Stat Microbars",subtitle:"5 bars",tags:["UI"],previewId:"pv_ui_microbars_5"},{id:"28",categoryId:"progress",title:"Streak Chain Meter",subtitle:"linked dots",tags:["UI"],previewId:"pv_ui_streak_chain"},{id:"29",categoryId:"progress",title:"Risk Dial",subtitle:"semi arc gauge",tags:["UI"],previewId:"pv_ui_risk_semi_dial"},{id:"30",categoryId:"progress",title:"Goal Ladder",subtitle:"milestones steps",tags:["UI"],previewId:"pv_ui_goal_ladder"}]},{id:"lists",title:"Lists & Tables",description:"Leaderboard rows, KPIs, timelines, and accordions.",items:[{id:"31",categoryId:"lists",title:"Mini Leaderboard",subtitle:"top 5 rows",tags:["UI"],previewId:"pv_ui_leaderboard_5"},{id:"32",categoryId:"lists",title:"Two-Column KPI List",subtitle:"label/value",tags:["UI"],previewId:"pv_ui_kpi_list_2col"},{id:"33",categoryId:"lists",title:"Table Row Hover",subtitle:"highlight row mock",tags:["UI"],previewId:"pv_ui_table_hover"},{id:"34",categoryId:"lists",title:"Rank Delta Row",subtitle:" chips in row",tags:["UI"],previewId:"pv_ui_rank_delta_row"},{id:"35",categoryId:"lists",title:"Avatar List Compact",subtitle:"3 entries",tags:["UI"],previewId:"pv_ui_avatar_list3"},{id:"36",categoryId:"lists",title:"Timeline Row",subtitle:"dots + text",tags:["UI"],previewId:"pv_ui_timeline_row"},{id:"37",categoryId:"lists",title:"Split Panel List",subtitle:"left labels, right values",tags:["UI"],previewId:"pv_ui_split_panel_list"},{id:"38",categoryId:"lists",title:"Chip List with Counts",subtitle:"chips + numbers",tags:["UI"],previewId:"pv_ui_chip_counts"},{id:"39",categoryId:"lists",title:"Accordion List",subtitle:"3 items expanded",tags:["UI"],previewId:"pv_ui_accordion3"},{id:"40",categoryId:"lists",title:"Activity Spark Row",subtitle:"sparkline + value",tags:["UI"],previewId:"pv_ui_spark_row"}]},{id:"animated",title:"Animated/Interactive UI",description:"Pulses, flips, shimmer, and motion stripes.",items:[{id:"41",categoryId:"animated",title:"Pulse Progress",subtitle:"subtle animated fill",tags:["UI"],previewId:"pv_ui_pulse_progress2"},{id:"42",categoryId:"animated",title:"Unlock Glow",subtitle:"animated border glow",tags:["UI"],previewId:"pv_ui_unlock_glow2"},{id:"43",categoryId:"animated",title:"Shimmer Skeleton",subtitle:"loading skeleton",tags:["UI"],previewId:"pv_ui_skeleton_shimmer"},{id:"44",categoryId:"animated",title:"Confetti Dots",subtitle:"sprinkle burst",tags:["UI"],previewId:"pv_ui_confetti_dots2"},{id:"45",categoryId:"animated",title:"Hover Lift Card",subtitle:"lift + shadow",tags:["UI"],previewId:"pv_ui_hover_lift"},{id:"46",categoryId:"animated",title:"Scan Ping Indicator",subtitle:"radial ping",tags:["UI"],previewId:"pv_ui_ping_indicator"},{id:"47",categoryId:"animated",title:"Badge Pop Animation",subtitle:"scale pop",tags:["UI"],previewId:"pv_ui_badge_pop"},{id:"48",categoryId:"animated",title:"Toggle Flip",subtitle:"switch animation",tags:["UI"],previewId:"pv_ui_toggle_flip"},{id:"49",categoryId:"animated",title:"Progress Stripe Motion",subtitle:"moving stripes",tags:["UI"],previewId:"pv_ui_stripe_motion"},{id:"50",categoryId:"animated",title:"Notification Bell Pulse",subtitle:"tiny pulse ring",tags:["UI"],previewId:"pv_ui_bell_pulse"}]}],_i=({label:t})=>s.jsx("span",{className:"g4-pill",children:t}),cs=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g4-bar tone-${e}`,style:{width:t,height:n}}),TPe={pv_ui_seg_toggle_3:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-sm",children:["Stats","Roster","Logs"].map((t,e)=>s.jsx("div",{className:`g4-seg ${e===1?"active":""}`,children:t},t))}),pv_ui_icon_tabs_badges:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-sm",children:[{icon:"",badge:2},{icon:"",badge:4,active:!0},{icon:"",badge:1}].map(t=>s.jsxs("div",{className:`g4-icon-tab ${t.active?"active":""}`,children:[s.jsx("span",{className:"g4-icon",children:t.icon}),s.jsx("span",{className:"g4-badge",children:t.badge})]},t.icon))}),pv_ui_filter_chips_wrap:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-xs g4-wrap",children:["All","PVE","PVP","Guild","Trades","Events"].map((t,e)=>s.jsx("span",{className:`g4-chip ${e===2?"active":""}`,children:t},t))}),pv_ui_sort_pill:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-space-between",children:[s.jsxs("div",{className:"g4-pill-toggle",children:[s.jsx("span",{className:"on",children:"ASC"}),s.jsx("span",{className:"off",children:"DESC"})]}),s.jsxs("div",{className:"g4-sort-arrows",children:[s.jsx("div",{className:"g4-arrow up"}),s.jsx("div",{className:"g4-arrow down"})]})]}),pv_ui_search_hint:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[s.jsxs("div",{className:"g4-search",children:[s.jsx("span",{className:"g4-search-icon",children:""}),s.jsx("input",{className:"g4-search-input",value:"search players",readOnly:!0})]}),s.jsx("span",{className:"g4-hint",children:"Press / to focus"})]}),pv_ui_dropdown_stack:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Newest","Top Rated","Favorites"].map((t,e)=>s.jsxs("div",{className:"g4-menu-row",children:[s.jsx("span",{children:t}),e===0&&s.jsx("span",{className:"g4-check",children:""})]},t))}),pv_ui_slider_ticks:()=>s.jsxs("div",{className:"g4-preview g4-col g4-gap-xs",children:[s.jsxs("div",{className:"g4-slider",children:[s.jsxs("div",{className:"g4-slider-track",children:[s.jsx("div",{className:"g4-slider-fill",style:{width:"64%"}}),s.jsx("div",{className:"g4-slider-thumb",style:{left:"64%"}})]}),s.jsx("div",{className:"g4-slider-ticks",children:Array.from({length:7}).map((t,e)=>s.jsx("span",{},e))})]}),s.jsxs("div",{className:"g4-slider-labels",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"64"}),s.jsx("span",{children:"100"})]})]}),pv_ui_stepper_dots:()=>s.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[s.jsx("button",{className:"g4-btn ghost",children:"Prev"}),s.jsx("div",{className:"g4-row g4-gap-xs g4-center",children:Array.from({length:5}).map((t,e)=>s.jsx("span",{className:`g4-step-dot ${e<2?"done":e===2?"active":""}`},e))}),s.jsx("button",{className:"g4-btn solid",children:"Next"})]}),pv_ui_pagination_compact:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-xs g4-center",children:[[1,2,3,4,5].map(t=>s.jsx("span",{className:`g4-page ${t===3?"active":""}`,children:t},t)),s.jsx("span",{className:"g4-page ghost",children:"Next"})]}),pv_ui_sticky_subnav:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-sm g4-sticky",children:["Overview","Teams","History","Files"].map((t,e)=>s.jsxs("div",{className:`g4-subtab ${e===1?"active":""}`,children:[t,e===1&&s.jsx("div",{className:"g4-underline"})]},t))}),pv_ui_ribbon_header:()=>s.jsxs("div",{className:"g4-preview g4-card-slab",children:[s.jsx("div",{className:"g4-ribbon",children:"NEW"}),s.jsxs("div",{className:"g4-col g4-gap-xs",children:[s.jsx(cs,{width:"70%"}),s.jsx(cs,{width:"50%",tone:"muted"})]})]}),pv_ui_corner_tag:()=>s.jsxs("div",{className:"g4-preview g4-card-slab",children:[s.jsx("div",{className:"g4-corner-tag",children:"UI"}),s.jsx(cs,{width:"60%"}),s.jsx(cs,{width:"40%",tone:"muted"})]}),pv_ui_locked_blur2:()=>s.jsxs("div",{className:"g4-preview g4-locked",children:[s.jsx("div",{className:"g4-locked-blur"}),s.jsx("div",{className:"g4-lock-icon",children:""}),s.jsx(cs,{width:"50%",tone:"muted"})]}),pv_ui_tooltip_bubble:()=>s.jsxs("div",{className:"g4-preview g4-tooltip",children:[s.jsxs("div",{className:"g4-tooltip-body",children:[s.jsx(cs,{width:"70%"}),s.jsx(cs,{width:"40%",tone:"muted"})]}),s.jsx("div",{className:"g4-tooltip-arrow"})]}),pv_ui_popover_panel:()=>s.jsxs("div",{className:"g4-preview g4-popover",children:[s.jsxs("div",{className:"g4-popover-head",children:[s.jsx(cs,{width:"50%"}),s.jsxs("div",{className:"g4-row g4-gap-xs",children:[s.jsx("span",{className:"g4-dot tone-muted"}),s.jsx("span",{className:"g4-dot tone-muted"})]})]}),s.jsx(cs,{width:"80%",tone:"muted"}),s.jsx(cs,{width:"60%",tone:"muted"})]}),pv_ui_modal_mini:()=>s.jsxs("div",{className:"g4-preview g4-modal",children:[s.jsxs("div",{className:"g4-modal-head",children:[s.jsx(cs,{width:"50%"}),s.jsx("span",{className:"g4-close",children:""})]}),s.jsxs("div",{className:"g4-modal-body",children:[s.jsx(cs,{width:"90%",tone:"muted"}),s.jsx(cs,{width:"70%",tone:"muted"})]}),s.jsxs("div",{className:"g4-modal-foot",children:[s.jsx("button",{className:"g4-btn ghost",children:"Cancel"}),s.jsx("button",{className:"g4-btn solid",children:"Save"})]})]}),pv_ui_drawer_right:()=>s.jsxs("div",{className:"g4-preview g4-drawer",children:[s.jsxs("div",{className:"g4-drawer-body",children:[s.jsx(cs,{width:"65%"}),s.jsx(cs,{width:"40%",tone:"muted"})]}),s.jsxs("div",{className:"g4-drawer-panel",children:[s.jsx("div",{className:"g4-panel-handle"}),s.jsx(cs,{width:"70%"}),s.jsx(cs,{width:"50%",tone:"muted"})]})]}),pv_ui_toast_stack3:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Synced","New invite","Warning"].map((t,e)=>s.jsxs("div",{className:`g4-toast ${e===2?"warn":""}`,children:[s.jsx("span",{className:"g4-dot tone-success"}),s.jsx("span",{children:t})]},t))}),pv_ui_callout_inline:()=>s.jsxs("div",{className:"g4-preview g4-callout",children:[s.jsx("div",{className:"g4-callout-icon",children:"i"}),s.jsxs("div",{className:"g4-col g4-gap-xxs",children:[s.jsx(cs,{width:"60%"}),s.jsx(cs,{width:"40%",tone:"muted"})]})]}),pv_ui_badge_cluster:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-xs",children:[s.jsx(_i,{label:"Beta"}),s.jsx(_i,{label:"Live"}),s.jsx(_i,{label:"Pro"})]}),pv_ui_xp_ticks2:()=>s.jsxs("div",{className:"g4-preview g4-col g4-gap-xs",children:[s.jsxs("div",{className:"g4-xpbar",children:[s.jsx("div",{className:"g4-xp-fill",style:{width:"78%"}}),Array.from({length:9}).map((t,e)=>s.jsx("span",{className:"g4-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),s.jsxs("div",{className:"g4-row g4-gap-xs",children:[s.jsx(_i,{label:"Lvl 56"}),s.jsx(_i,{label:"78%"})]})]}),pv_ui_dual_marker_bar:()=>s.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[s.jsxs("div",{className:"g4-bar-line",children:[s.jsx(cs,{width:"92%"}),s.jsx("div",{className:"g4-marker",style:{left:"64%"}}),s.jsx("div",{className:"g4-marker muted",style:{left:"82%"}})]}),s.jsxs("div",{className:"g4-row g4-gap-sm g4-center",children:[s.jsx(_i,{label:"You"}),s.jsx(_i,{label:"Avg"})]})]}),pv_ui_donut_label:()=>s.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[s.jsxs("div",{className:"g4-donut",children:[s.jsx("div",{className:"g4-donut-fill"}),s.jsx("div",{className:"g4-donut-hole",children:"64%"})]}),s.jsxs("div",{className:"g4-col g4-gap-xxs",children:[s.jsx(cs,{width:"60%"}),s.jsx(cs,{width:"40%",tone:"muted"})]})]}),pv_ui_segment_track_12:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-xxs g4-seg-track",children:Array.from({length:12}).map((t,e)=>s.jsx("div",{className:`g4-track-seg ${e<8?"active":""}`},e))}),pv_ui_thermo_cap:()=>s.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[s.jsxs("div",{className:"g4-thermo",children:[s.jsx("div",{className:"g4-thermo-fill",style:{height:"70%"}}),s.jsx("div",{className:"g4-thermo-cap"})]}),s.jsxs("div",{className:"g4-col g4-gap-xxs",children:[s.jsx(cs,{width:"50%",tone:"warning"}),s.jsx(cs,{width:"30%",tone:"muted"})]})]}),pv_ui_battery_cells:()=>s.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[s.jsxs("div",{className:"g4-battery",children:[[0,1,2,3].map(t=>s.jsx("div",{className:`g4-battery-cell ${t<3?"filled":""}`},t)),s.jsx("div",{className:"g4-battery-cap"})]}),s.jsx(_i,{label:"75%"})]}),pv_ui_microbars_5:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["ATK","SPD","HP","DEF","LCK"].map((t,e)=>s.jsxs("div",{className:"g4-row g4-gap-xs g4-center",children:[s.jsx("span",{className:"g4-stat-label",children:t}),s.jsx(cs,{width:`${40+e*12}%`,tone:e%2===0?"accent":"success",height:6})]},t))}),pv_ui_streak_chain:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-xxs g4-center",children:Array.from({length:8}).map((t,e)=>s.jsxs(W.Fragment,{children:[s.jsx("span",{className:`g4-chain-dot ${e<5?"active":""}`}),e<7&&s.jsx("div",{className:"g4-chain-link"})]},e))}),pv_ui_risk_semi_dial:()=>s.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[s.jsx("div",{className:"g4-semi-dial",children:s.jsx("div",{className:"g4-dial-needle",style:{transform:"rotate(30deg)"}})}),s.jsx(_i,{label:"Risk 34%"})]}),pv_ui_goal_ladder:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xxs g4-ladder",children:[1,2,3,4].map((t,e)=>s.jsxs("div",{className:`g4-ladder-step ${e<2?"done":""}`,children:[s.jsx("span",{className:"g4-ladder-rung"}),s.jsx(cs,{width:`${40+e*10}%`,tone:"accent",height:6})]},t))}),pv_ui_leaderboard_5:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Aster","Bloom","Cinder","Dawn","Echo"].map((t,e)=>s.jsxs("div",{className:`g4-row g4-gap-sm g4-leader-row ${e===0?"active":""}`,children:[s.jsx("span",{className:"g4-rank-num",children:e+1}),s.jsx(cs,{width:`${70-e*8}%`,tone:e<2?"accent":"muted",height:6}),s.jsx(_i,{label:"+12"})]},t))}),pv_ui_kpi_list_2col:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:[["Win rate","62%"],["Uptime","99.1%"],["Scan time","4.3s"]].map(([t,e])=>s.jsxs("div",{className:"g4-row g4-space-between g4-center",children:[s.jsx("span",{className:"g4-label",children:t}),s.jsx("span",{className:"g4-value",children:e})]},t))}),pv_ui_table_hover:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Row A","Row B","Row C"].map((t,e)=>s.jsx("div",{className:`g4-table-row ${e===1?"hover":""}`,children:s.jsx(cs,{width:"60%",tone:"muted",height:6})},t))}),pv_ui_rank_delta_row:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[s.jsx(_i,{label:" +6"}),s.jsx(_i,{label:" -2"}),s.jsx(cs,{width:"50%",tone:"accent"})]}),pv_ui_avatar_list3:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Aria","Bex","Cole"].map((t,e)=>s.jsxs("div",{className:"g4-row g4-gap-sm g4-center",children:[s.jsx("div",{className:"g4-avatar",children:t[0]}),s.jsx(cs,{width:`${50+e*10}%`,tone:"accent",height:6})]},t))}),pv_ui_timeline_row:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:["Step 1","Step 2","Step 3"].map((t,e)=>s.jsxs("div",{className:"g4-col g4-center g4-gap-xxs",children:[s.jsx("span",{className:`g4-timeline-dot ${e<=1?"active":""}`}),s.jsx("span",{className:"g4-mini-label",children:t})]},t))}),pv_ui_split_panel_list:()=>s.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[s.jsxs("div",{className:"g4-col g4-gap-xxs",children:[s.jsx("span",{className:"g4-label",children:"Power"}),s.jsx("span",{className:"g4-label",children:"Speed"}),s.jsx("span",{className:"g4-label",children:"Luck"})]}),s.jsxs("div",{className:"g4-col g4-gap-xxs",children:[s.jsx(cs,{width:"60%"}),s.jsx(cs,{width:"40%",tone:"warning"}),s.jsx(cs,{width:"30%",tone:"success"})]})]}),pv_ui_chip_counts:()=>s.jsx("div",{className:"g4-preview g4-row g4-gap-xs g4-wrap",children:[["Tanks","12"],["Healers","5"],["DPS","18"],["Support","7"]].map(([t,e],n)=>s.jsxs("span",{className:`g4-chip ${n===2?"active":""}`,children:[t," ",s.jsx("span",{className:"g4-count",children:e})]},t))}),pv_ui_accordion3:()=>s.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Summary","Details","Meta"].map((t,e)=>s.jsxs("div",{className:`g4-accordion ${e===0?"open":""}`,children:[s.jsxs("div",{className:"g4-accordion-head",children:[s.jsx("span",{children:t}),s.jsx("span",{className:"g4-chevron"})]}),e===0&&s.jsxs("div",{className:"g4-accordion-body",children:[s.jsx(cs,{width:"70%",tone:"muted"}),s.jsx(cs,{width:"40%",tone:"muted"})]})]},t))}),pv_ui_spark_row:()=>s.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[s.jsx("div",{className:"g4-sparkline",children:Array.from({length:12}).map((t,e)=>s.jsx("span",{style:{height:`${8+e%5*6}px`}},e))}),s.jsx(_i,{label:"72%"})]}),pv_ui_pulse_progress2:()=>s.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[s.jsx("div",{className:"g4-pulse-bar",children:s.jsx("div",{className:"g4-pulse-fill",style:{width:"68%"}})}),s.jsx("span",{className:"g4-mini-label",children:"Syncing"})]}),pv_ui_unlock_glow2:()=>s.jsxs("div",{className:"g4-preview g4-glow-card",children:[s.jsx("div",{className:"g4-lock-icon",children:""}),s.jsx(cs,{width:"60%"})]}),pv_ui_skeleton_shimmer:()=>s.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[s.jsx("div",{className:"g4-skeleton shimmer"}),s.jsx("div",{className:"g4-skeleton shimmer short"})]}),pv_ui_confetti_dots2:()=>s.jsx("div",{className:"g4-preview g4-confetti",children:Array.from({length:14}).map((t,e)=>s.jsx("span",{className:"g4-confetti-dot"},e))}),pv_ui_hover_lift:()=>s.jsxs("div",{className:"g4-preview g4-hover-card",children:[s.jsx(cs,{width:"70%"}),s.jsx(cs,{width:"50%",tone:"muted"})]}),pv_ui_ping_indicator:()=>s.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[s.jsx("div",{className:"g4-ping",children:s.jsx("span",{className:"g4-ping-dot"})}),s.jsxs("div",{className:"g4-col g4-gap-xxs",children:[s.jsx(cs,{width:"50%"}),s.jsx(cs,{width:"30%",tone:"muted"})]})]}),pv_ui_badge_pop:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[s.jsx("div",{className:"g4-pop-badge",children:"UI"}),s.jsx(cs,{width:"60%"})]}),pv_ui_toggle_flip:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[s.jsx("div",{className:"g4-toggle",children:s.jsx("div",{className:"g4-toggle-thumb"})}),s.jsx("span",{className:"g4-mini-label",children:"Flip"})]}),pv_ui_stripe_motion:()=>s.jsx("div",{className:"g4-preview g4-stripes",children:s.jsx("div",{className:"g4-stripe-fill",style:{width:"72%"}})}),pv_ui_bell_pulse:()=>s.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[s.jsx("div",{className:"g4-bell",children:s.jsx("span",{className:"g4-bell-ping"})}),s.jsxs("div",{className:"g4-col g4-gap-xxs",children:[s.jsx(cs,{width:"55%"}),s.jsx(cs,{width:"35%",tone:"muted"})]})]})},FPe=t=>{const e=TPe[t];return e?e():s.jsx("div",{className:"g4-preview g4-fallback"})};function LPe(){return s.jsxs("div",{className:"g4-root",children:[s.jsxs("header",{className:"g4-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 4"}),s.jsx("p",{className:"g4-sub",children:"50 UI mini-previews focused on controls, overlays, meters, tables, and animated bits."})]}),s.jsx("div",{className:"g4-pill-row",children:s.jsx(_i,{label:"UI"})})]}),s.jsx("nav",{className:"g4-toc",children:H4.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g4-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g4-sections",children:H4.map(t=>s.jsxs("details",{className:"g4-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g4-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g4-section-title",children:t.title}),s.jsx("div",{className:"g4-section-sub",children:t.description})]}),s.jsxs("span",{className:"g4-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g4-grid",children:t.items.map(e=>s.jsxs("div",{className:"g4-card",children:[s.jsxs("div",{className:"g4-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g4-card-title",children:e.title}),s.jsx("div",{className:"g4-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g4-pill-row",children:(e.tags||["UI"]).map(n=>s.jsx(_i,{label:n},n))})]}),FPe(e.previewId)]},e.id))})]},t.id))})]})}const O4=[{id:"meta",title:"Meta Systems",description:"Loops, ladders, and macro-structure sketches.",items:[{id:"1",categoryId:"meta",title:"Prestige Loop Diagram",subtitle:"reset + boost",tags:["CONCEPT"],previewId:"pv_cpt_prestige_loop"},{id:"2",categoryId:"meta",title:"Seasonal Arc Map",subtitle:"startend path",tags:["CONCEPT"],previewId:"pv_cpt_season_arc"},{id:"3",categoryId:"meta",title:"Progress Economy Flow",subtitle:"earnspendupgrade",tags:["CONCEPT"],previewId:"pv_cpt_economy_flow"},{id:"4",categoryId:"meta",title:"Skill Synergy Web",subtitle:"nodes + links",tags:["CONCEPT"],previewId:"pv_cpt_synergy_web"},{id:"5",categoryId:"meta",title:"Difficulty Curve",subtitle:"soft curve concept",tags:["CONCEPT"],previewId:"pv_cpt_difficulty_curve"},{id:"6",categoryId:"meta",title:"Reward Probability Bands",subtitle:"bands/tiers",tags:["CONCEPT"],previewId:"pv_cpt_prob_bands"},{id:"7",categoryId:"meta",title:"Milestone Radar",subtitle:"milestones ring",tags:["CONCEPT"],previewId:"pv_cpt_milestone_radar"},{id:"8",categoryId:"meta",title:"Collection Completion Map",subtitle:"zones filled",tags:["CONCEPT"],previewId:"pv_cpt_collection_map"},{id:"9",categoryId:"meta",title:"Engagement Flywheel",subtitle:"cycle arrows",tags:["CONCEPT"],previewId:"pv_cpt_flywheel"},{id:"10",categoryId:"meta",title:"Reputation Ladder",subtitle:"tiers + gates",tags:["CONCEPT"],previewId:"pv_cpt_reputation_ladder"}]},{id:"planning",title:"Planning & Strategy",description:"Allocation, risks, paths, and scenarios.",items:[{id:"11",categoryId:"planning",title:"Optimization Triangle",subtitle:"choose 2 of 3",tags:["CONCEPT"],previewId:"pv_cpt_opt_triangle"},{id:"12",categoryId:"planning",title:"Resource Allocation Bars",subtitle:"split budget",tags:["CONCEPT"],previewId:"pv_cpt_allocation_bars"},{id:"13",categoryId:"planning",title:"Upgrade Path Tree",subtitle:"branch choices",tags:["CONCEPT"],previewId:"pv_cpt_upgrade_tree"},{id:"14",categoryId:"planning",title:"Risk/Reward Matrix",subtitle:"4 quadrants",tags:["CONCEPT"],previewId:"pv_cpt_risk_reward_matrix"},{id:"15",categoryId:"planning",title:"Time-to-Goal Estimator",subtitle:"ETA blocks",tags:["CONCEPT"],previewId:"pv_cpt_eta_blocks"},{id:"16",categoryId:"planning",title:"Rival Distance Map",subtitle:"gaps + targets",tags:["CONCEPT"],previewId:"pv_cpt_rival_distance_map"},{id:"17",categoryId:"planning",title:"Power Spike Timeline",subtitle:"spike markers",tags:["CONCEPT"],previewId:"pv_cpt_power_spike_timeline"},{id:"18",categoryId:"planning",title:"Weekly Strategy Board",subtitle:"3 focus cards",tags:["CONCEPT"],previewId:"pv_cpt_weekly_board"},{id:"19",categoryId:"planning",title:"Breakpoint Indicators",subtitle:"threshold lines",tags:["CONCEPT"],previewId:"pv_cpt_breakpoints"},{id:"20",categoryId:"planning",title:"Scenario Switcher",subtitle:"A/B/C outcomes",tags:["CONCEPT"],previewId:"pv_cpt_scenarios_abc"}]},{id:"social",title:"Social Concepts",description:"Guild health, equity, coverage, and momentum ideas.",items:[{id:"21",categoryId:"social",title:"Guild Health Dashboard",subtitle:"pillars concept",tags:["CONCEPT"],previewId:"pv_cpt_guild_health"},{id:"22",categoryId:"social",title:"Contribution Equity Meter",subtitle:"fairness bar",tags:["CONCEPT"],previewId:"pv_cpt_equity_meter"},{id:"23",categoryId:"social",title:"Role Coverage Grid",subtitle:"roles coverage",tags:["CONCEPT"],previewId:"pv_cpt_role_coverage"},{id:"24",categoryId:"social",title:"Alliance Network Graph",subtitle:"nodes network",tags:["CONCEPT"],previewId:"pv_cpt_alliance_graph"},{id:"25",categoryId:"social",title:"Recruitment Funnel",subtitle:"stages funnel",tags:["CONCEPT"],previewId:"pv_cpt_recruit_funnel"},{id:"26",categoryId:"social",title:"Activity Rhythm Wheel",subtitle:"cycle wheel",tags:["CONCEPT"],previewId:"pv_cpt_rhythm_wheel"},{id:"27",categoryId:"social",title:"Leadership Heat Zones",subtitle:"zones concept",tags:["CONCEPT"],previewId:"pv_cpt_leadership_zones"},{id:"28",categoryId:"social",title:"Social Momentum Score",subtitle:"momentum line",tags:["CONCEPT"],previewId:"pv_cpt_social_momentum"},{id:"29",categoryId:"social",title:"Collaboration Contract",subtitle:"agreement card",tags:["CONCEPT"],previewId:"pv_cpt_collab_contract"},{id:"30",categoryId:"social",title:"Community Challenge Pool",subtitle:"pool + goals",tags:["CONCEPT"],previewId:"pv_cpt_challenge_pool"}]},{id:"insights",title:"Insights Concepts",description:"Signals, outliers, archetypes, and opportunity maps.",items:[{id:"31",categoryId:"insights",title:"Trend vs Noise Lens",subtitle:"signal filter",tags:["CONCEPT"],previewId:"pv_cpt_signal_noise"},{id:"32",categoryId:"insights",title:"Outlier Detector Panel",subtitle:"flagged dots",tags:["CONCEPT"],previewId:"pv_cpt_outlier_panel"},{id:"33",categoryId:"insights",title:"Consistency Index",subtitle:"stability meter",tags:["CONCEPT"],previewId:"pv_cpt_consistency_index"},{id:"34",categoryId:"insights",title:"Growth Regimes",subtitle:"phases blocks",tags:["CONCEPT"],previewId:"pv_cpt_growth_regimes"},{id:"35",categoryId:"insights",title:"Player Archetypes",subtitle:"3 archetype cards",tags:["CONCEPT"],previewId:"pv_cpt_archetypes"},{id:"36",categoryId:"insights",title:"Benchmark Stack",subtitle:"compare layers",tags:["CONCEPT"],previewId:"pv_cpt_benchmark_stack"},{id:"37",categoryId:"insights",title:"KPI Storyboard",subtitle:"3-step insight",tags:["CONCEPT"],previewId:"pv_cpt_kpi_storyboard"},{id:"38",categoryId:"insights",title:"Efficiency Frontier",subtitle:"frontier curve",tags:["CONCEPT"],previewId:"pv_cpt_efficiency_frontier"},{id:"39",categoryId:"insights",title:"Progress Forecast Bands",subtitle:"band forecast",tags:["CONCEPT"],previewId:"pv_cpt_forecast_bands"},{id:"40",categoryId:"insights",title:"Opportunity Radar",subtitle:"radar points",tags:["CONCEPT"],previewId:"pv_cpt_opportunity_radar"}]},{id:"loops",title:"Gamification Loops",description:"Cadence, multipliers, chains, caps, and rewards.",items:[{id:"41",categoryId:"loops",title:"Daily/Weekly Loop",subtitle:"cadence map",tags:["CONCEPT"],previewId:"pv_cpt_cadence_loop"},{id:"42",categoryId:"loops",title:"Reward Multipliers",subtitle:"stacked multipliers",tags:["CONCEPT"],previewId:"pv_cpt_multiplier_stack"},{id:"43",categoryId:"loops",title:"Quest Chain System",subtitle:"chain gates",tags:["CONCEPT"],previewId:"pv_cpt_chain_gates"},{id:"44",categoryId:"loops",title:"Badge Progression",subtitle:"ranked badges",tags:["CONCEPT"],previewId:"pv_cpt_badge_progression"},{id:"45",categoryId:"loops",title:"Streak Protection",subtitle:"shield mechanic",tags:["CONCEPT"],previewId:"pv_cpt_streak_shield"},{id:"46",categoryId:"loops",title:"Catch-up Mechanic",subtitle:"boost for low",tags:["CONCEPT"],previewId:"pv_cpt_catchup"},{id:"47",categoryId:"loops",title:"Event Spike Model",subtitle:"event peaks",tags:["CONCEPT"],previewId:"pv_cpt_event_spikes"},{id:"48",categoryId:"loops",title:"Soft Cap Concept",subtitle:"diminishing returns",tags:["CONCEPT"],previewId:"pv_cpt_soft_cap"},{id:"49",categoryId:"loops",title:"Reward Choice Wheel",subtitle:"choose 1 of 3",tags:["CONCEPT"],previewId:"pv_cpt_choice_wheel"},{id:"50",categoryId:"loops",title:"Meta Progress Passport",subtitle:"stamps journey",tags:["CONCEPT"],previewId:"pv_cpt_passport"}]}],Vd=({label:t})=>s.jsx("span",{className:"g5-pill",children:t}),yc=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g5-bar tone-${e}`,style:{width:t,height:n}}),r_=({tone:t="accent",size:e=8})=>s.jsx("span",{className:`g5-dot tone-${t}`,style:{width:e,height:e}}),RPe={pv_cpt_prestige_loop:()=>s.jsx("div",{className:"g5-preview g5-loop",children:["Earn","Reset","Boost"].map((t,e)=>s.jsxs("div",{className:"g5-loop-node",children:[s.jsx("span",{className:"g5-loop-label",children:t}),s.jsx("div",{className:`g5-loop-arrow ${e===2?"end":""}`})]},t))}),pv_cpt_season_arc:()=>s.jsxs("div",{className:"g5-preview g5-arc",children:[s.jsx("div",{className:"g5-arc-track",children:s.jsx("div",{className:"g5-arc-progress",style:{width:"70%"}})}),s.jsxs("div",{className:"g5-row g5-space-between g5-mini",children:[s.jsx("span",{children:"Start"}),s.jsx("span",{children:"Season"}),s.jsx("span",{children:"Final"})]})]}),pv_cpt_economy_flow:()=>s.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[s.jsx("div",{className:"g5-flow-card",children:"Earn"}),s.jsx("div",{className:"g5-flow-arrow"}),s.jsx("div",{className:"g5-flow-card alt",children:"Spend"}),s.jsx("div",{className:"g5-flow-arrow"}),s.jsx("div",{className:"g5-flow-card",children:"Upgrade"})]}),pv_cpt_synergy_web:()=>s.jsxs("div",{className:"g5-preview g5-web",children:[s.jsx("div",{className:"g5-web-node center"}),Array.from({length:5}).map((t,e)=>s.jsx("div",{className:`g5-web-node arm-${e}`},e))]}),pv_cpt_difficulty_curve:()=>s.jsxs("div",{className:"g5-preview g5-curve",children:[s.jsx("div",{className:"g5-curve-line"}),s.jsx("div",{className:"g5-dot tone-accent",style:{left:"25%"}}),s.jsx("div",{className:"g5-dot tone-warning",style:{left:"70%"}})]}),pv_cpt_prob_bands:()=>s.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Common","Rare","Epic"].map((t,e)=>s.jsxs("div",{className:"g5-band",children:[s.jsx("span",{className:"g5-band-label",children:t}),s.jsx("div",{className:`g5-band-fill tone-${e===2?"warning":"accent"}`,style:{width:`${40+e*20}%`}})]},t))}),pv_cpt_milestone_radar:()=>s.jsxs("div",{className:"g5-preview g5-radar",children:[s.jsx("div",{className:"g5-radar-ring outer"}),s.jsx("div",{className:"g5-radar-ring inner"}),s.jsx(r_,{tone:"warning",size:10}),s.jsx(r_,{tone:"accent",size:8}),s.jsx(r_,{tone:"success",size:8})]}),pv_cpt_collection_map:()=>s.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g5-zone ${e<3?"filled":""}`},e))}),pv_cpt_flywheel:()=>s.jsxs("div",{className:"g5-preview g5-flywheel",children:[s.jsx("div",{className:"g5-flywheel-ring"}),s.jsx("div",{className:"g5-flywheel-arrow a1"}),s.jsx("div",{className:"g5-flywheel-arrow a2"}),s.jsx("div",{className:"g5-flywheel-arrow a3"})]}),pv_cpt_reputation_ladder:()=>s.jsx("div",{className:"g5-preview g5-ladder",children:[0,1,2,3].map(t=>s.jsxs("div",{className:`g5-tier ${t<2?"active":""}`,children:["Tier ",t+1]},t))}),pv_cpt_opt_triangle:()=>s.jsxs("div",{className:"g5-preview g5-triangle",children:[s.jsx("div",{className:"g5-tri-corner top",children:"Speed"}),s.jsx("div",{className:"g5-tri-corner left",children:"Quality"}),s.jsx("div",{className:"g5-tri-corner right",children:"Cost"}),s.jsx("div",{className:"g5-tri-fill"})]}),pv_cpt_allocation_bars:()=>s.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Gold","Gems","Energy"].map((t,e)=>s.jsxs("div",{className:"g5-row g5-gap-sm g5-center",children:[s.jsx("span",{className:"g5-label",children:t}),s.jsx(yc,{width:`${30+e*15}%`,tone:e===1?"warning":"accent",height:6})]},t))}),pv_cpt_upgrade_tree:()=>s.jsxs("div",{className:"g5-preview g5-tree",children:[s.jsx("div",{className:"g5-tree-node root"}),s.jsxs("div",{className:"g5-tree-branch left",children:[s.jsx("div",{className:"g5-tree-node"}),s.jsx("div",{className:"g5-tree-node"})]}),s.jsxs("div",{className:"g5-tree-branch right",children:[s.jsx("div",{className:"g5-tree-node"}),s.jsx("div",{className:"g5-tree-node"})]})]}),pv_cpt_risk_reward_matrix:()=>s.jsxs("div",{className:"g5-preview g5-matrix",children:[s.jsx("div",{className:"g5-matrix-quad high",children:"High Reward"}),s.jsx("div",{className:"g5-matrix-quad",children:"Low Reward"}),s.jsx("div",{className:"g5-matrix-quad",children:"Low Risk"}),s.jsx("div",{className:"g5-matrix-quad warn",children:"High Risk"})]}),pv_cpt_eta_blocks:()=>s.jsx("div",{className:"g5-preview g5-row g5-gap-xs",children:["10d","20d","30d"].map((t,e)=>s.jsx("div",{className:`g5-eta-block ${e===2?"active":""}`,children:t},t))}),pv_cpt_rival_distance_map:()=>s.jsxs("div",{className:"g5-preview g5-row g5-center g5-gap-sm",children:[s.jsx("div",{className:"g5-distance",children:s.jsxs("div",{className:"g5-distance-line",children:[s.jsx("div",{className:"g5-distance-marker you",style:{left:"22%"}}),s.jsx("div",{className:"g5-distance-marker rival",style:{left:"62%"}})]})}),s.jsx(Vd,{label:"Gap 40%"})]}),pv_cpt_power_spike_timeline:()=>s.jsxs("div",{className:"g5-preview g5-col g5-gap-xxs",children:[s.jsx("div",{className:"g5-spike-line",children:[20,60,80].map((t,e)=>s.jsx("div",{className:"g5-spike",style:{left:`${t}%`},children:s.jsx("div",{className:`g5-spike-pin ${e===2?"strong":""}`})},t))}),s.jsx("div",{className:"g5-mini",children:"Power spikes"})]}),pv_cpt_weekly_board:()=>s.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:["Focus","Risks","Wins"].map(t=>s.jsxs("div",{className:"g5-cardlet",children:[s.jsx(yc,{width:"60%"}),s.jsx(yc,{width:"40%",tone:"muted"})]},t))}),pv_cpt_breakpoints:()=>s.jsx("div",{className:"g5-preview g5-breakpoints",children:[25,50,75].map(t=>s.jsx("div",{className:"g5-breakpoint",style:{left:`${t}%`},children:s.jsx("span",{children:t})},t))}),pv_cpt_scenarios_abc:()=>s.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:["A","B","C"].map((t,e)=>s.jsxs("div",{className:`g5-scenario ${e===1?"active":""}`,children:[s.jsx("div",{className:"g5-scenario-title",children:t}),s.jsx(yc,{width:`${40+e*10}%`,tone:"accent"})]},t))}),pv_cpt_guild_health:()=>s.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[[50,70,40].map((t,e)=>s.jsx("div",{className:"g5-pillar",children:s.jsx("div",{className:"g5-pillar-fill",style:{height:`${t}%`}})},e)),s.jsx(Vd,{label:"Guild Health"})]}),pv_cpt_equity_meter:()=>s.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[s.jsx("div",{className:"g5-meter",children:s.jsx("div",{className:"g5-meter-fill",style:{width:"56%"}})}),s.jsx("span",{className:"g5-mini",children:"Fair"})]}),pv_cpt_role_coverage:()=>s.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:["Tank","Heal","DPS"].map((t,e)=>s.jsxs("div",{className:"g5-role",children:[s.jsx("div",{className:"g5-role-bar",style:{width:`${40+e*15}%`}}),s.jsx("span",{className:"g5-mini",children:t})]},t))}),pv_cpt_alliance_graph:()=>s.jsxs("div",{className:"g5-preview g5-network",children:[[0,1,2,3,4].map(t=>s.jsx("div",{className:`g5-node n${t}`},t)),s.jsx("div",{className:"g5-link l1"}),s.jsx("div",{className:"g5-link l2"}),s.jsx("div",{className:"g5-link l3"})]}),pv_cpt_recruit_funnel:()=>s.jsxs("div",{className:"g5-preview g5-funnel",children:[s.jsx("div",{className:"g5-funnel-layer big"}),s.jsx("div",{className:"g5-funnel-layer mid"}),s.jsx("div",{className:"g5-funnel-layer small"})]}),pv_cpt_rhythm_wheel:()=>s.jsx("div",{className:"g5-preview g5-wheel",children:Array.from({length:6}).map((t,e)=>s.jsx("span",{className:`g5-wheel-dot ${e%2===0?"active":""}`},e))}),pv_cpt_leadership_zones:()=>s.jsxs("div",{className:"g5-preview g5-zones",children:[s.jsx("div",{className:"g5-zone-block warm"}),s.jsx("div",{className:"g5-zone-block cool"}),s.jsx("div",{className:"g5-zone-block neutral"})]}),pv_cpt_social_momentum:()=>s.jsxs("div",{className:"g5-preview g5-linechart",children:[s.jsx("div",{className:"g5-line-path"}),s.jsx("div",{className:"g5-line-marker",style:{left:"70%"}})]}),pv_cpt_collab_contract:()=>s.jsxs("div",{className:"g5-preview g5-contract",children:[s.jsx(yc,{width:"70%"}),s.jsx(yc,{width:"40%",tone:"muted"}),s.jsx("div",{className:"g5-signature"})]}),pv_cpt_challenge_pool:()=>s.jsxs("div",{className:"g5-preview g5-pool",children:[s.jsx("div",{className:"g5-pool-water"}),s.jsx("div",{className:"g5-goal-chip",children:"Goal A"}),s.jsx("div",{className:"g5-goal-chip",children:"Goal B"})]}),pv_cpt_signal_noise:()=>s.jsxs("div",{className:"g5-preview g5-signal",children:[s.jsx("div",{className:"g5-signal-band strong"}),s.jsx("div",{className:"g5-signal-band weak"}),s.jsx("div",{className:"g5-filter"})]}),pv_cpt_outlier_panel:()=>s.jsx("div",{className:"g5-preview g5-scatter",children:Array.from({length:8}).map((t,e)=>s.jsx("span",{className:`g5-scatter-dot ${e===7?"alert":""}`},e))}),pv_cpt_consistency_index:()=>s.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[s.jsx("div",{className:"g5-gauge",children:s.jsx("div",{className:"g5-gauge-fill",style:{width:"72%"}})}),s.jsx(Vd,{label:"Stable"})]}),pv_cpt_growth_regimes:()=>s.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Launch","Scale","Mature"].map((t,e)=>s.jsxs("div",{className:"g5-phase",children:[s.jsx("div",{className:`g5-phase-box ${e===1?"active":""}`}),s.jsx("span",{className:"g5-mini",children:t})]},t))}),pv_cpt_archetypes:()=>s.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:["Explorer","Achiever","Social"].map(t=>s.jsxs("div",{className:"g5-arch-card",children:[s.jsx(yc,{width:"60%"}),s.jsx("div",{className:"g5-arch-badge",children:t[0]})]},t))}),pv_cpt_benchmark_stack:()=>s.jsxs("div",{className:"g5-preview g5-stack",children:[s.jsx("div",{className:"g5-stack-layer"}),s.jsx("div",{className:"g5-stack-layer mid"}),s.jsx("div",{className:"g5-stack-layer top"})]}),pv_cpt_kpi_storyboard:()=>s.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:[1,2,3].map(t=>s.jsxs("div",{className:"g5-story-card",children:[s.jsxs("span",{className:"g5-story-step",children:["Step ",t]}),s.jsx(yc,{width:"50%"})]},t))}),pv_cpt_efficiency_frontier:()=>s.jsxs("div",{className:"g5-preview g5-frontier",children:[s.jsx("div",{className:"g5-frontier-curve"}),s.jsx("div",{className:"g5-frontier-dot"})]}),pv_cpt_forecast_bands:()=>s.jsxs("div",{className:"g5-preview g5-bands",children:[s.jsx("div",{className:"g5-band-line upper"}),s.jsx("div",{className:"g5-band-line lower"}),s.jsx("div",{className:"g5-band-fill"})]}),pv_cpt_opportunity_radar:()=>s.jsx("div",{className:"g5-preview g5-radar-grid",children:Array.from({length:6}).map((t,e)=>s.jsx("span",{className:"g5-radar-dot"},e))}),pv_cpt_cadence_loop:()=>s.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[s.jsx("div",{className:"g5-loop-mini daily",children:"Daily"}),s.jsx("div",{className:"g5-loop-mini weekly active",children:"Weekly"}),s.jsx("div",{className:"g5-loop-mini monthly",children:"Monthly"})]}),pv_cpt_multiplier_stack:()=>s.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:[1,2,3].map(t=>s.jsxs("div",{className:"g5-multiplier",children:[s.jsxs("span",{children:["x",t]}),s.jsx("div",{className:"g5-multi-bar",style:{width:`${t*20+30}%`}})]},t))}),pv_cpt_chain_gates:()=>s.jsx("div",{className:"g5-preview g5-row g5-gap-xs g5-center",children:["Q1","Q2","Q3","Boss"].map((t,e)=>s.jsxs(W.Fragment,{children:[s.jsx("div",{className:`g5-gate ${e===3?"final":""}`,children:t}),e<3&&s.jsx("div",{className:"g5-gate-line"})]},t))}),pv_cpt_badge_progression:()=>s.jsx("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:["Bronze","Silver","Gold"].map((t,e)=>s.jsx("div",{className:`g5-badge ${e===2?"shine":""}`,children:t[0]},t))}),pv_cpt_streak_shield:()=>s.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[s.jsx("div",{className:"g5-shield",children:"Streak"}),s.jsx(Vd,{label:"Protected"})]}),pv_cpt_catchup:()=>s.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[s.jsx("div",{className:"g5-boost-bar",children:s.jsx("div",{className:"g5-boost-fill",style:{width:"45%"}})}),s.jsx(Vd,{label:"+Catch Up"})]}),pv_cpt_event_spikes:()=>s.jsxs("div",{className:"g5-preview g5-col g5-gap-xxs",children:[s.jsx("div",{className:"g5-spike-line",children:Array.from({length:5}).map((t,e)=>s.jsx("div",{className:"g5-spike event",style:{left:`${e*20}%`,height:`${10+e*8}px`}},e))}),s.jsx("span",{className:"g5-mini",children:"Events"})]}),pv_cpt_soft_cap:()=>s.jsxs("div",{className:"g5-preview g5-softcap",children:[s.jsx("div",{className:"g5-softcap-line"}),s.jsx("div",{className:"g5-softcap-cap",style:{left:"65%"}})]}),pv_cpt_choice_wheel:()=>s.jsx("div",{className:"g5-preview g5-wheel-choice",children:["A","B","C"].map((t,e)=>s.jsx("div",{className:`g5-choice ${e===0?"active":""}`,children:t},t))}),pv_cpt_passport:()=>s.jsx("div",{className:"g5-preview g5-passport",children:["Zone 1","Zone 2","Zone 3"].map((t,e)=>s.jsx("div",{className:`g5-stamp ${e<2?"filled":""}`,children:t},t))})},UPe=t=>{const e=RPe[t];return e?e():s.jsx("div",{className:"g5-preview g5-fallback"})};function PPe(){return s.jsxs("div",{className:"g5-root",children:[s.jsxs("header",{className:"g5-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 5"}),s.jsx("p",{className:"g5-sub",children:"50 concept sketches across macro systems, planning, social, insights, and loops."})]}),s.jsx("div",{className:"g5-pill-row",children:s.jsx(Vd,{label:"CONCEPT"})})]}),s.jsx("nav",{className:"g5-toc",children:O4.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g5-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g5-sections",children:O4.map(t=>s.jsxs("details",{className:"g5-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g5-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g5-section-title",children:t.title}),s.jsx("div",{className:"g5-section-sub",children:t.description})]}),s.jsxs("span",{className:"g5-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g5-grid",children:t.items.map(e=>s.jsxs("div",{className:"g5-card",children:[s.jsxs("div",{className:"g5-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g5-card-title",children:e.title}),s.jsx("div",{className:"g5-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g5-pill-row",children:(e.tags||["CONCEPT"]).map(n=>s.jsx(Vd,{label:n},n))})]}),UPe(e.previewId)]},e.id))})]},t.id))})]})}const $4=[{id:"profile",title:"Profile Widgets",description:"Compact profile cards, KPIs, and progression snippets.",items:[{id:"1",categoryId:"profile",title:"Hero Panel Mini",subtitle:"avatar + 3 KPIs",tags:["MOCK"],previewId:"pv_mock_hero_panel_mini"},{id:"2",categoryId:"profile",title:"Attribute Bars Card",subtitle:"5 bars + markers",tags:["MOCK"],previewId:"pv_mock_attr_bars"},{id:"3",categoryId:"profile",title:"Scan Freshness Badge",subtitle:"age + color",tags:["MOCK"],previewId:"pv_mock_scan_freshness"},{id:"4",categoryId:"profile",title:"Profile Tabs Strip",subtitle:"overview/scans/etc",tags:["MOCK"],previewId:"pv_mock_profile_tabs"},{id:"5",categoryId:"profile",title:"Linked Characters Row",subtitle:"tabs switch",tags:["MOCK"],previewId:"pv_mock_linked_chars"},{id:"6",categoryId:"profile",title:"Snapshot Compare Card",subtitle:"then vs now",tags:["MOCK"],previewId:"pv_mock_snapshot_compare"},{id:"7",categoryId:"profile",title:"Rank Delta Inline",subtitle:"rank + arrows",tags:["MOCK"],previewId:"pv_mock_rank_inline"},{id:"8",categoryId:"profile",title:"Scrapbook Completion Tile",subtitle:"% + ring",tags:["MOCK"],previewId:"pv_mock_scrapbook_tile"},{id:"9",categoryId:"profile",title:"Legendary Counter Card",subtitle:"count + rarity",tags:["MOCK"],previewId:"pv_mock_legendary_counter"},{id:"10",categoryId:"profile",title:"Progress History Mini",subtitle:"tiny history list",tags:["MOCK"],previewId:"pv_mock_history_mini"}]},{id:"guild",title:"Guild Widgets",description:"Guild header, queues, planner tiles, and readiness snapshots.",items:[{id:"11",categoryId:"guild",title:"Guild Header Mock",subtitle:"emblem + KPIs",tags:["MOCK"],previewId:"pv_mock_guild_header"},{id:"12",categoryId:"guild",title:"Member List Row",subtitle:"role + last scan",tags:["MOCK"],previewId:"pv_mock_member_row"},{id:"13",categoryId:"guild",title:"Recruitment Card",subtitle:"open slots",tags:["MOCK"],previewId:"pv_mock_recruitment"},{id:"14",categoryId:"guild",title:"Fusion Planner Tile",subtitle:"two guild compare",tags:["MOCK"],previewId:"pv_mock_fusion_tile"},{id:"15",categoryId:"guild",title:"Waitlist Panel",subtitle:"queue preview",tags:["MOCK"],previewId:"pv_mock_waitlist_panel"},{id:"16",categoryId:"guild",title:"Guild Activity Panel",subtitle:"last 7d",tags:["MOCK"],previewId:"pv_mock_guild_activity"},{id:"17",categoryId:"guild",title:"Guild Benchmarks",subtitle:"avg markers",tags:["MOCK"],previewId:"pv_mock_guild_benchmarks"},{id:"18",categoryId:"guild",title:"War Readiness Mock",subtitle:"ready/not",tags:["MOCK"],previewId:"pv_mock_war_readiness2"},{id:"19",categoryId:"guild",title:"Treasury Summary",subtitle:"treasury KPIs",tags:["MOCK"],previewId:"pv_mock_treasury_summary"},{id:"20",categoryId:"guild",title:"Guild Notes Card",subtitle:"pinned notes",tags:["MOCK"],previewId:"pv_mock_guild_notes"}]},{id:"tables",title:"Top Lists / Tables",description:"Tables, filters, timers, pagination, and compare bars.",items:[{id:"21",categoryId:"tables",title:"Toplist Table Card",subtitle:"header + rows",tags:["MOCK"],previewId:"pv_mock_toplist_table"},{id:"22",categoryId:"tables",title:"Rank Change Column",subtitle:" deltas",tags:["MOCK"],previewId:"pv_mock_rank_change_col"},{id:"23",categoryId:"tables",title:"Server Filter Sidebar",subtitle:"filters stack",tags:["MOCK"],previewId:"pv_mock_server_filters"},{id:"24",categoryId:"tables",title:"Class Filter Chips",subtitle:"class chips",tags:["MOCK"],previewId:"pv_mock_class_chips"},{id:"25",categoryId:"tables",title:"Snapshot Timer Pill",subtitle:"next refresh",tags:["MOCK"],previewId:"pv_mock_snapshot_timer"},{id:"26",categoryId:"tables",title:"Pagination Footer Mock",subtitle:"page controls",tags:["MOCK"],previewId:"pv_mock_pagination_footer"},{id:"27",categoryId:"tables",title:"Sticky Header Mock",subtitle:"sticky header row",tags:["MOCK"],previewId:"pv_mock_sticky_header"},{id:"28",categoryId:"tables",title:"Row Expand Detail",subtitle:"expand drawer",tags:["MOCK"],previewId:"pv_mock_row_expand"},{id:"29",categoryId:"tables",title:"Export Button Strip",subtitle:"CSV/Excel",tags:["MOCK"],previewId:"pv_mock_export_strip"},{id:"30",categoryId:"tables",title:"Compare Selected Rows",subtitle:"compare bar",tags:["MOCK"],previewId:"pv_mock_compare_bar"}]},{id:"upload",title:"Upload / Import UX",description:"Queues, validation, progress, notices, and summaries.",items:[{id:"31",categoryId:"upload",title:"Upload Queue Card",subtitle:"pending items",tags:["MOCK"],previewId:"pv_mock_upload_queue"},{id:"32",categoryId:"upload",title:"Dedup Result Toast",subtitle:"created/duplicate",tags:["MOCK"],previewId:"pv_mock_dedup_toast"},{id:"33",categoryId:"upload",title:"Dry-Run Validation Panel",subtitle:"errors list",tags:["MOCK"],previewId:"pv_mock_validation_panel"},{id:"34",categoryId:"upload",title:"Progress Upload Meter",subtitle:"step progress",tags:["MOCK"],previewId:"pv_mock_upload_progress"},{id:"35",categoryId:"upload",title:"Selected Entities Counter",subtitle:"players/guilds",tags:["MOCK"],previewId:"pv_mock_selected_counter"},{id:"36",categoryId:"upload",title:"Token TTL Notice",subtitle:"1015min",tags:["MOCK"],previewId:"pv_mock_ttl_notice"},{id:"37",categoryId:"upload",title:"Privacy Preview Box",subtitle:"what gets sent",tags:["MOCK"],previewId:"pv_mock_privacy_preview"},{id:"38",categoryId:"upload",title:"Error Log Card",subtitle:"recent errors",tags:["MOCK"],previewId:"pv_mock_error_log"},{id:"39",categoryId:"upload",title:"Retry/Backoff Banner",subtitle:"rate limit",tags:["MOCK"],previewId:"pv_mock_retry_banner"},{id:"40",categoryId:"upload",title:"Success Summary Panel",subtitle:"import summary",tags:["MOCK"],previewId:"pv_mock_success_summary"}]},{id:"admin",title:"Admin/Control Panel Mocks",description:"Roles, feature toggles, access groups, and moderation queues.",items:[{id:"41",categoryId:"admin",title:"Roles Context Menu",subtitle:"role switch UI",tags:["MOCK"],previewId:"pv_mock_roles_menu"},{id:"42",categoryId:"admin",title:"Feature Gate Table",subtitle:"toggles rows",tags:["MOCK"],previewId:"pv_mock_feature_table"},{id:"43",categoryId:"admin",title:"Access Group Card",subtitle:"group members",tags:["MOCK"],previewId:"pv_mock_access_group"},{id:"44",categoryId:"admin",title:"Audit Log Row",subtitle:"who changed what",tags:["MOCK"],previewId:"pv_mock_audit_row"},{id:"45",categoryId:"admin",title:"Error Monitor Tile",subtitle:"status lights",tags:["MOCK"],previewId:"pv_mock_error_monitor"},{id:"46",categoryId:"admin",title:"API Status Card",subtitle:"endpoint health",tags:["MOCK"],previewId:"pv_mock_api_status"},{id:"47",categoryId:"admin",title:"Seed Token Warning",subtitle:"internal endpoint",tags:["MOCK"],previewId:"pv_mock_seed_warning"},{id:"48",categoryId:"admin",title:"Moderation Queue",subtitle:"approve/deny",tags:["MOCK"],previewId:"pv_mock_mod_queue"},{id:"49",categoryId:"admin",title:"Feedback Inbox Card",subtitle:"decision buttons",tags:["MOCK"],previewId:"pv_mock_feedback_inbox"},{id:"50",categoryId:"admin",title:"Release Toggle Panel",subtitle:"staging/prod",tags:["MOCK"],previewId:"pv_mock_release_toggle"}]}],Us=({label:t})=>s.jsx("span",{className:"g6-pill",children:t}),ds=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g6-bar tone-${e}`,style:{width:t,height:n}}),V4=({tone:t="accent",size:e=8})=>s.jsx("span",{className:`g6-dot tone-${t}`,style:{width:e,height:e}}),DPe={pv_mock_hero_panel_mini:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-avatar big",children:"A"}),s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"70%"}),s.jsxs("div",{className:"g6-row g6-gap-xs",children:[s.jsx(Us,{label:"XP 42k"}),s.jsx(Us,{label:"Lvl 58"}),s.jsx(Us,{label:"WR 62%"})]})]})]}),pv_mock_attr_bars:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["STR","DEX","INT","VIT","LCK"].map((t,e)=>s.jsxs("div",{className:"g6-row g6-gap-xs g6-center",children:[s.jsx("span",{className:"g6-label",children:t}),s.jsx(ds,{width:`${35+e*12}%`,tone:e%2===0?"accent":"warning",height:6}),s.jsx(V4,{tone:"muted"})]},t))}),pv_mock_scan_freshness:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-badge fresh",children:"3h ago"}),s.jsx(ds,{width:"50%"})]}),pv_mock_profile_tabs:()=>s.jsx("div",{className:"g6-preview g6-row g6-gap-xs",children:["Overview","Scans","Gear","Notes"].map((t,e)=>s.jsx("div",{className:`g6-tab ${e===1?"active":""}`,children:t},t))}),pv_mock_linked_chars:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[["Main","Alt 1","Alt 2"].map((t,e)=>s.jsx("div",{className:`g6-chip ${e===0?"active":""}`,children:t},t)),s.jsx("div",{className:"g6-arrow-right"})]}),pv_mock_snapshot_compare:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx("span",{className:"g6-mini",children:"Then"}),s.jsx(ds,{width:"40%",tone:"muted"})]}),s.jsx("div",{className:"g6-compare-arrow"}),s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx("span",{className:"g6-mini",children:"Now"}),s.jsx(ds,{width:"70%",tone:"accent"})]})]}),pv_mock_rank_inline:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx(Us,{label:"#24"}),s.jsx(Us,{label:" 3"}),s.jsx(Us,{label:" 1"})]}),pv_mock_scrapbook_tile:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsxs("div",{className:"g6-ring",children:[s.jsx("div",{className:"g6-ring-fill"}),s.jsx("div",{className:"g6-ring-hole",children:"68%"})]}),s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"60%"}),s.jsx(ds,{width:"35%",tone:"muted"})]})]}),pv_mock_legendary_counter:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-legendary",children:"12"}),s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx("span",{className:"g6-mini",children:"Legendary"}),s.jsx(ds,{width:"70%",tone:"warning"})]})]}),pv_mock_history_mini:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["+12 Lvl","+2 shards","Joined guild"].map((t,e)=>s.jsxs("div",{className:"g6-history-row",children:[s.jsx(V4,{tone:"accent",size:8}),s.jsx("span",{children:t}),s.jsxs("span",{className:"g6-time",children:[e+1,"d"]})]},t))}),pv_mock_guild_header:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-emblem"}),s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"60%"}),s.jsxs("div",{className:"g6-row g6-gap-xs",children:[s.jsx(Us,{label:"Lvl 12"}),s.jsx(Us,{label:"42 members"})]})]})]}),pv_mock_member_row:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-avatar",children:"M"}),s.jsx(ds,{width:"50%"}),s.jsx(Us,{label:"Officer"}),s.jsx(Us,{label:"Scan 1d"})]}),pv_mock_recruitment:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"60%"}),s.jsxs("div",{className:"g6-row g6-gap-xs",children:[s.jsx(Us,{label:"Open 3"}),s.jsx(Us,{label:"Role: DPS"})]})]}),pv_mock_fusion_tile:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"40%"}),s.jsx(Us,{label:"Guild A"})]}),s.jsx("div",{className:"g6-merge"}),s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"40%"}),s.jsx(Us,{label:"Guild B"})]})]}),pv_mock_waitlist_panel:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Rae","Noah","Ivy"].map((t,e)=>s.jsxs("div",{className:"g6-wait-row",children:[s.jsx("span",{className:"g6-badge muted",children:e+1}),s.jsx(ds,{width:`${40+e*15}%`})]},t))}),pv_mock_guild_activity:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-heat",children:Array.from({length:7}).map((t,e)=>s.jsx("span",{style:{height:`${10+e*4}px`}},e))}),s.jsx(Us,{label:"7d"})]}),pv_mock_guild_benchmarks:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Avg","Target","You"].map((t,e)=>s.jsxs("div",{className:"g6-row g6-gap-xs g6-center",children:[s.jsx("span",{className:"g6-mini",children:t}),s.jsx("div",{className:"g6-marker-line",children:s.jsx("div",{className:"g6-marker",style:{left:`${30+e*20}%`}})})]},t))}),pv_mock_war_readiness2:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[s.jsx(Us,{label:"Ready"}),s.jsx(Us,{label:"Needs Gear"}),s.jsx(Us,{label:"Needs Scans"})]}),pv_mock_treasury_summary:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx("span",{className:"g6-mini",children:"Gold"}),s.jsx(ds,{width:"70%",tone:"warning"})]}),s.jsxs("div",{className:"g6-col g6-gap-xxs",children:[s.jsx("span",{className:"g6-mini",children:"Gems"}),s.jsx(ds,{width:"50%",tone:"accent"})]})]}),pv_mock_guild_notes:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsx("div",{className:"g6-note-pin"}),s.jsx(ds,{width:"65%"}),s.jsx(ds,{width:"40%",tone:"muted"})]}),pv_mock_toplist_table:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsxs("div",{className:"g6-table-head",children:[s.jsx(ds,{width:"30%"}),s.jsx(ds,{width:"20%"}),s.jsx(ds,{width:"25%"})]}),Array.from({length:3}).map((t,e)=>s.jsx("div",{className:"g6-table-row",children:s.jsx(ds,{width:`${60-e*10}%`,tone:"muted",height:6})},e))]}),pv_mock_rank_change_col:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[s.jsx(Us,{label:" 8"}),s.jsx(Us,{label:" 2"}),s.jsx(ds,{width:"40%"})]}),pv_mock_server_filters:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["EU","US","INT"].map((t,e)=>s.jsxs("div",{className:"g6-filter-row",children:[s.jsx("input",{type:"checkbox",checked:e===0,readOnly:!0}),s.jsx("span",{children:t})]},t))}),pv_mock_class_chips:()=>s.jsx("div",{className:"g6-preview g6-row g6-gap-xs g6-wrap",children:["Warrior","Mage","Hunter","Cleric"].map((t,e)=>s.jsx("span",{className:`g6-chip ${e===2?"active":""}`,children:t},t))}),pv_mock_snapshot_timer:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx(Us,{label:"Refresh in 03:12"}),s.jsx("div",{className:"g6-ring tiny",children:s.jsx("div",{className:"g6-ring-fill"})})]}),pv_mock_pagination_footer:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[s.jsx("span",{className:"g6-page",children:"Prev"}),[1,2,3].map(t=>s.jsx("span",{className:`g6-page ${t===2?"active":""}`,children:t},t)),s.jsx("span",{className:"g6-page",children:"Next"})]}),pv_mock_sticky_header:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsxs("div",{className:"g6-sticky-head",children:[s.jsx(ds,{width:"40%"}),s.jsx(ds,{width:"20%",tone:"muted"})]}),s.jsx("div",{className:"g6-table-row",children:s.jsx(ds,{width:"70%",tone:"muted",height:6})})]}),pv_mock_row_expand:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsxs("div",{className:"g6-expand-row",children:[s.jsx("span",{className:"g6-chevron"}),s.jsx(ds,{width:"50%"})]}),s.jsxs("div",{className:"g6-expand-body",children:[s.jsx(ds,{width:"60%",tone:"muted"}),s.jsx(ds,{width:"40%",tone:"muted"})]})]}),pv_mock_export_strip:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-xs",children:[s.jsx("button",{className:"g6-btn ghost",children:"CSV"}),s.jsx("button",{className:"g6-btn ghost",children:"Excel"}),s.jsx("button",{className:"g6-btn solid",children:"Export"})]}),pv_mock_compare_bar:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx(ds,{width:"60%",tone:"accent"}),s.jsx(Us,{label:"2 selected"})]}),pv_mock_upload_queue:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["players.csv","guilds.csv"].map(t=>s.jsxs("div",{className:"g6-queue-row",children:[s.jsx(ds,{width:"50%"}),s.jsx("span",{className:"g6-mini",children:t})]},t))}),pv_mock_dedup_toast:()=>s.jsxs("div",{className:"g6-preview g6-toast",children:[s.jsx("span",{className:"g6-dot tone-success"}),s.jsx("span",{children:"3 created / 1 duplicate"})]}),pv_mock_validation_panel:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Missing name","Invalid server","Bad class"].map(t=>s.jsxs("div",{className:"g6-error-row",children:[s.jsx("span",{className:"g6-badge warn",children:"!"}),s.jsx("span",{children:t})]},t))}),pv_mock_upload_progress:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsx("div",{className:"g6-steps",children:[1,2,3,4].map((t,e)=>s.jsx("div",{className:`g6-step ${e<2?"done":e===2?"active":""}`},t))}),s.jsx(ds,{width:"65%"})]}),pv_mock_selected_counter:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx(Us,{label:"Players 32"}),s.jsx(Us,{label:"Guilds 4"}),s.jsx(Us,{label:"Servers 2"})]}),pv_mock_ttl_notice:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-badge warn",children:"TTL 12m"}),s.jsx(ds,{width:"50%",tone:"warning"})]}),pv_mock_privacy_preview:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsx("span",{className:"g6-mini",children:"Sending"}),s.jsx(ds,{width:"60%"}),s.jsx(ds,{width:"40%",tone:"muted"})]}),pv_mock_error_log:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Timeout","Bad payload"].map(t=>s.jsxs("div",{className:"g6-error-row",children:[s.jsx("span",{className:"g6-badge danger",children:"!"}),s.jsx("span",{children:t})]},t))}),pv_mock_retry_banner:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-badge warn",children:"Rate limit"}),s.jsx("button",{className:"g6-btn ghost",children:"Retry"}),s.jsx("button",{className:"g6-btn ghost",children:"Backoff"})]}),pv_mock_success_summary:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"70%"}),s.jsxs("div",{className:"g6-row g6-gap-xs",children:[s.jsx(Us,{label:"Created 42"}),s.jsx(Us,{label:"Duplicates 3"})]})]}),pv_mock_roles_menu:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Viewer","Editor","Admin"].map((t,e)=>s.jsxs("div",{className:`g6-menu-row ${e===2?"active":""}`,children:[s.jsx("span",{children:t}),e===2&&s.jsx("span",{className:"g6-check",children:""})]},t))}),pv_mock_feature_table:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Feature A","Feature B","Feature C"].map((t,e)=>s.jsxs("div",{className:"g6-feature-row",children:[s.jsx(ds,{width:"40%"}),s.jsx("div",{className:`g6-toggle ${e===1?"on":""}`,children:s.jsx("div",{className:"g6-toggle-thumb"})})]},t))}),pv_mock_access_group:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"60%"}),s.jsxs("div",{className:"g6-row g6-gap-xs",children:[s.jsx("div",{className:"g6-avatar small",children:"A"}),s.jsx("div",{className:"g6-avatar small",children:"B"}),s.jsx("div",{className:"g6-avatar small",children:"C"})]})]}),pv_mock_audit_row:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx(ds,{width:"40%"}),s.jsx(Us,{label:"by Admin"}),s.jsx(Us,{label:"2h ago"})]}),pv_mock_error_monitor:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[["OK","WARN","FAIL"].map((t,e)=>s.jsx("div",{className:`g6-status ${e===2?"danger":e===1?"warn":"ok"}`},t)),s.jsx(ds,{width:"40%"})]}),pv_mock_api_status:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx(Us,{label:"/api/status"}),s.jsx("div",{className:"g6-dot tone-success"}),s.jsx("div",{className:"g6-mini",children:"200 OK"})]}),pv_mock_seed_warning:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx("div",{className:"g6-badge danger",children:"Internal"}),s.jsx(ds,{width:"50%",tone:"danger"})]}),pv_mock_mod_queue:()=>s.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Report #45","Report #46"].map(t=>s.jsxs("div",{className:"g6-mod-row",children:[s.jsx(ds,{width:"50%"}),s.jsxs("div",{className:"g6-row g6-gap-xxs",children:[s.jsx("button",{className:"g6-btn ghost",children:"Approve"}),s.jsx("button",{className:"g6-btn ghost",children:"Deny"})]})]},t))}),pv_mock_feedback_inbox:()=>s.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[s.jsx(ds,{width:"60%"}),s.jsxs("div",{className:"g6-row g6-gap-xs",children:[s.jsx("button",{className:"g6-btn ghost",children:"Keep"}),s.jsx("button",{className:"g6-btn ghost",children:"Discard"})]})]}),pv_mock_release_toggle:()=>s.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[s.jsx(Us,{label:"Staging"}),s.jsx("div",{className:"g6-toggle on",children:s.jsx("div",{className:"g6-toggle-thumb"})}),s.jsx(Us,{label:"Prod"})]})},MPe=t=>{const e=DPe[t];return e?e():s.jsx("div",{className:"g6-preview g6-fallback"})};function QPe(){return s.jsxs("div",{className:"g6-root",children:[s.jsxs("header",{className:"g6-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 6"}),s.jsx("p",{className:"g6-sub",children:"50 mock UI widgets spanning profile, guild, tables, upload, and admin snippets."})]}),s.jsx("div",{className:"g6-pill-row",children:s.jsx(Us,{label:"MOCK"})})]}),s.jsx("nav",{className:"g6-toc",children:$4.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g6-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g6-sections",children:$4.map(t=>s.jsxs("details",{className:"g6-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g6-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g6-section-title",children:t.title}),s.jsx("div",{className:"g6-section-sub",children:t.description})]}),s.jsxs("span",{className:"g6-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g6-grid",children:t.items.map(e=>s.jsxs("div",{className:"g6-card",children:[s.jsxs("div",{className:"g6-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g6-card-title",children:e.title}),s.jsx("div",{className:"g6-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g6-pill-row",children:(e.tags||["MOCK"]).map(n=>s.jsx(Us,{label:n},n))})]}),MPe(e.previewId)]},e.id))})]},t.id))})]})}const G4=[{id:"progress",title:"Animated Progress",description:"Animated stripes, sweeps, counters, and wave fills.",items:[{id:"1",categoryId:"progress",title:"Stripe Motion Bar",subtitle:"moving stripes",tags:["UI"],previewId:"pv_ui7_stripe_motion2"},{id:"2",categoryId:"progress",title:"Gradient Sweep Fill",subtitle:"slow sweep",tags:["UI"],previewId:"pv_ui7_gradient_sweep"},{id:"3",categoryId:"progress",title:"Tick-Up Counter",subtitle:"odometer style",tags:["UI"],previewId:"pv_ui7_tickup_counter"},{id:"4",categoryId:"progress",title:"Milestone Pop",subtitle:"pop at thresholds",tags:["UI"],previewId:"pv_ui7_milestone_pop"},{id:"5",categoryId:"progress",title:"Ring Spinner Progress",subtitle:"rotating arc",tags:["UI"],previewId:"pv_ui7_ring_spinner"},{id:"6",categoryId:"progress",title:"Pulse Marker Line",subtitle:"avg marker pulse",tags:["UI"],previewId:"pv_ui7_marker_pulse"},{id:"7",categoryId:"progress",title:"Step Fill Animation",subtitle:"segment fill",tags:["UI"],previewId:"pv_ui7_step_fill"},{id:"8",categoryId:"progress",title:"Wave Fill Gauge",subtitle:"wave in bar",tags:["UI"],previewId:"pv_ui7_wave_fill"},{id:"9",categoryId:"progress",title:"Micro Spark Animate",subtitle:"spark drawing",tags:["UI"],previewId:"pv_ui7_spark_draw"},{id:"10",categoryId:"progress",title:"Heat Glow Cells",subtitle:"glow on cells",tags:["UI"],previewId:"pv_ui7_heat_glow_cells"}]},{id:"hover",title:"Hover/Focus States",description:"Focus rings, tilts, bounces, outlines, and menus.",items:[{id:"11",categoryId:"hover",title:"Focus Ring Showcase",subtitle:"focus styles",tags:["UI"],previewId:"pv_ui7_focus_rings"},{id:"12",categoryId:"hover",title:"Hover Tilt Card",subtitle:"subtle tilt",tags:["UI"],previewId:"pv_ui7_hover_tilt"},{id:"13",categoryId:"hover",title:"Glow Border on Hover",subtitle:"outer glow",tags:["UI"],previewId:"pv_ui7_hover_glow_border"},{id:"14",categoryId:"hover",title:"Icon Bounce Hover",subtitle:"bounce icon",tags:["UI"],previewId:"pv_ui7_icon_bounce"},{id:"15",categoryId:"hover",title:"Tooltip Follow Mock",subtitle:"offset tooltip",tags:["UI"],previewId:"pv_ui7_tooltip_follow"},{id:"16",categoryId:"hover",title:"Pressed Button Depth",subtitle:"down state",tags:["UI"],previewId:"pv_ui7_button_depth"},{id:"17",categoryId:"hover",title:"Selection Outline",subtitle:"selected frame",tags:["UI"],previewId:"pv_ui7_select_outline"},{id:"18",categoryId:"hover",title:"Drag Handle Mock",subtitle:"grab dots",tags:["UI"],previewId:"pv_ui7_drag_handle"},{id:"19",categoryId:"hover",title:"Context Menu Hover",subtitle:"menu highlight",tags:["UI"],previewId:"pv_ui7_context_hover"},{id:"20",categoryId:"hover",title:"Keyboard Nav Dots",subtitle:"tab order hint",tags:["UI"],previewId:"pv_ui7_keynav_dots"}]},{id:"decor",title:"Decorative UI",description:"Glass headers, neon lines, patterns, and status clusters.",items:[{id:"21",categoryId:"decor",title:"Glass Panel Header",subtitle:"frosted header",tags:["UI"],previewId:"pv_ui7_glass_header"},{id:"22",categoryId:"decor",title:"Neon Accent Line",subtitle:"accent stroke",tags:["UI"],previewId:"pv_ui7_neon_accent"},{id:"23",categoryId:"decor",title:"Pattern Background Card",subtitle:"subtle pattern",tags:["UI"],previewId:"pv_ui7_pattern_bg"},{id:"24",categoryId:"decor",title:"Corner Cut Card",subtitle:"cut corners",tags:["UI"],previewId:"pv_ui7_corner_cut"},{id:"25",categoryId:"decor",title:"Divider Variants",subtitle:"3 divider styles",tags:["UI"],previewId:"pv_ui7_dividers"},{id:"26",categoryId:"decor",title:"Tag Pill Variants",subtitle:"solid/outline",tags:["UI"],previewId:"pv_ui7_tag_variants"},{id:"27",categoryId:"decor",title:"Icon Badge Stack",subtitle:"icon + badge",tags:["UI"],previewId:"pv_ui7_icon_badges"},{id:"28",categoryId:"decor",title:"Mini Banner Strip",subtitle:"announcement strip",tags:["UI"],previewId:"pv_ui7_banner_strip"},{id:"29",categoryId:"decor",title:"Progress Notches",subtitle:"notched bar",tags:["UI"],previewId:"pv_ui7_notches_bar"},{id:"30",categoryId:"decor",title:"Status Dot Cluster",subtitle:"3 statuses",tags:["UI"],previewId:"pv_ui7_status_cluster"}]},{id:"micro",title:"Micro-layouts",description:"Mini cards, headers, grids, and stacked chips.",items:[{id:"31",categoryId:"micro",title:"KPI + Mini Chart",subtitle:"two-column",tags:["UI"],previewId:"pv_ui7_kpi_minichart"},{id:"32",categoryId:"micro",title:"Split Header Actions",subtitle:"actions right",tags:["UI"],previewId:"pv_ui7_header_actions"},{id:"33",categoryId:"micro",title:"Compact Card Grid",subtitle:"22 grid",tags:["UI"],previewId:"pv_ui7_compact_grid"},{id:"34",categoryId:"micro",title:"Sticky Mini Footer",subtitle:"footer tools",tags:["UI"],previewId:"pv_ui7_sticky_footer"},{id:"35",categoryId:"micro",title:"Inline Editable Field",subtitle:"edit pencil",tags:["UI"],previewId:"pv_ui7_inline_edit"},{id:"36",categoryId:"micro",title:"Multi-line Subtitle Clamp",subtitle:"clamp demo",tags:["UI"],previewId:"pv_ui7_clamp_demo"},{id:"37",categoryId:"micro",title:"Icon List with Counts",subtitle:"icon + num",tags:["UI"],previewId:"pv_ui7_icon_counts"},{id:"38",categoryId:"micro",title:"Dual Badge Header",subtitle:"two tags",tags:["UI"],previewId:"pv_ui7_dual_badge"},{id:"39",categoryId:"micro",title:"Avatar Stack",subtitle:"overlapping",tags:["UI"],previewId:"pv_ui7_avatar_stack"},{id:"40",categoryId:"micro",title:"Chips + Progress Row",subtitle:"mixed row",tags:["UI"],previewId:"pv_ui7_chips_progress_row"}]},{id:"states",title:"Feedback & States",description:"Success, warning, error, empty, loading, sync, offline, locked.",items:[{id:"41",categoryId:"states",title:"Success Glow Toast",subtitle:"success state",tags:["UI"],previewId:"pv_ui7_success_toast"},{id:"42",categoryId:"states",title:"Warning Banner",subtitle:"attention state",tags:["UI"],previewId:"pv_ui7_warning_banner"},{id:"43",categoryId:"states",title:"Error Inline Panel",subtitle:"error state",tags:["UI"],previewId:"pv_ui7_error_panel"},{id:"44",categoryId:"states",title:"Empty State Illustration",subtitle:"empty",tags:["UI"],previewId:"pv_ui7_empty_state"},{id:"45",categoryId:"states",title:"Loading Dots",subtitle:"3 dots",tags:["UI"],previewId:"pv_ui7_loading_dots"},{id:"46",categoryId:"states",title:"Sync Indicator",subtitle:"sync badge",tags:["UI"],previewId:"pv_ui7_sync_indicator"},{id:"47",categoryId:"states",title:"Offline Mode Chip",subtitle:"offline badge",tags:["UI"],previewId:"pv_ui7_offline_chip"},{id:"48",categoryId:"states",title:"Disabled Overlay",subtitle:"disabled state",tags:["UI"],previewId:"pv_ui7_disabled_overlay"},{id:"49",categoryId:"states",title:"New Ribbon + Glow",subtitle:"new state",tags:["UI"],previewId:"pv_ui7_new_ribbon_glow"},{id:"50",categoryId:"states",title:"Locked State Stamp",subtitle:"locked stamp",tags:["UI"],previewId:"pv_ui7_locked_stamp"}]}],ko=({label:t})=>s.jsx("span",{className:"g7-pill",children:t}),Ws=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g7-bar tone-${e}`,style:{width:t,height:n}}),i_=({tone:t="accent",size:e=8})=>s.jsx("span",{className:`g7-dot tone-${t}`,style:{width:e,height:e}}),HPe={pv_ui7_stripe_motion2:()=>s.jsx("div",{className:"g7-preview g7-stripes",children:s.jsx("div",{className:"g7-stripe-fill",style:{width:"78%"}})}),pv_ui7_gradient_sweep:()=>s.jsx("div",{className:"g7-preview g7-gradient",children:s.jsx("div",{className:"g7-gradient-fill"})}),pv_ui7_tickup_counter:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-odometer",children:["0","1","2"].map((t,e)=>s.jsx("span",{className:`g7-odo-digit ${e===2?"active":""}`,children:t},e))}),s.jsx(ko,{label:"Counter"})]}),pv_ui7_milestone_pop:()=>s.jsx("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[20,50,80].map((t,e)=>s.jsxs("div",{className:"g7-milestone",children:[s.jsx("div",{className:`g7-milestone-dot ${e===1?"pop":""}`}),s.jsx("span",{className:"g7-mini",children:t})]},t))}),pv_ui7_ring_spinner:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-spinner",children:s.jsx("div",{className:"g7-spinner-arc"})}),s.jsx(Ws,{width:"50%"})]}),pv_ui7_marker_pulse:()=>s.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[s.jsx("div",{className:"g7-marker-line",children:s.jsx("div",{className:"g7-marker",style:{left:"62%"}})}),s.jsx("span",{className:"g7-mini",children:"Average"})]}),pv_ui7_step_fill:()=>s.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-stepper",children:Array.from({length:5}).map((t,e)=>s.jsx("div",{className:`g7-step ${e<3?"filled":""}`},e))}),pv_ui7_wave_fill:()=>s.jsx("div",{className:"g7-preview g7-wave",children:s.jsx("div",{className:"g7-wave-fill"})}),pv_ui7_spark_draw:()=>s.jsx("div",{className:"g7-preview g7-spark",children:Array.from({length:10}).map((t,e)=>s.jsx("span",{className:"g7-spark-bar",style:{height:`${8+e%4*6}px`}},e))}),pv_ui7_heat_glow_cells:()=>s.jsx("div",{className:"g7-preview g7-row g7-gap-xxs",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g7-heat-cell ${e>=3?"glow":""}`},e))}),pv_ui7_focus_rings:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-focus"}),s.jsx("div",{className:"g7-focus strong"}),s.jsx("div",{className:"g7-focus dashed"})]}),pv_ui7_hover_tilt:()=>s.jsxs("div",{className:"g7-preview g7-tilt-card",children:[s.jsx(Ws,{width:"70%"}),s.jsx(Ws,{width:"40%",tone:"muted"})]}),pv_ui7_hover_glow_border:()=>s.jsx("div",{className:"g7-preview g7-glow-border",children:s.jsx(Ws,{width:"60%"})}),pv_ui7_icon_bounce:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-bounce",children:""}),s.jsx(Ws,{width:"40%"})]}),pv_ui7_tooltip_follow:()=>s.jsxs("div",{className:"g7-preview g7-tooltip-follow",children:[s.jsx("div",{className:"g7-target"}),s.jsx("div",{className:"g7-follow-tip",children:s.jsx(Ws,{width:"50%"})})]}),pv_ui7_button_depth:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("button",{className:"g7-press-btn",children:"Press"}),s.jsx("button",{className:"g7-press-btn pressed",children:"Pressed"})]}),pv_ui7_select_outline:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-outline-card active",children:s.jsx(Ws,{width:"60%"})}),s.jsx("div",{className:"g7-outline-card",children:s.jsx(Ws,{width:"40%"})})]}),pv_ui7_drag_handle:()=>s.jsxs("div",{className:"g7-preview g7-row g7-center g7-gap-sm",children:[s.jsx("div",{className:"g7-drag-handle",children:Array.from({length:6}).map((t,e)=>s.jsx("span",{},e))}),s.jsx(Ws,{width:"50%"})]}),pv_ui7_context_hover:()=>s.jsx("div",{className:"g7-preview g7-col g7-gap-xxs",children:["Edit","Duplicate","Archive"].map((t,e)=>s.jsx("div",{className:`g7-menu-row ${e===1?"hover":""}`,children:t},t))}),pv_ui7_keynav_dots:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[Array.from({length:4}).map((t,e)=>s.jsx("span",{className:`g7-keydot ${e===0?"active":""}`},e)),s.jsx("span",{className:"g7-mini",children:"Tab order"})]}),pv_ui7_glass_header:()=>s.jsxs("div",{className:"g7-preview g7-glass",children:[s.jsx("div",{className:"g7-glass-bar"}),s.jsx(Ws,{width:"50%"})]}),pv_ui7_neon_accent:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-neon-line"}),s.jsx(Ws,{width:"40%"})]}),pv_ui7_pattern_bg:()=>s.jsxs("div",{className:"g7-preview g7-pattern",children:[s.jsx(Ws,{width:"60%"}),s.jsx(Ws,{width:"30%",tone:"muted"})]}),pv_ui7_corner_cut:()=>s.jsxs("div",{className:"g7-preview g7-corner-card",children:[s.jsx(Ws,{width:"70%"}),s.jsx(Ws,{width:"40%",tone:"muted"})]}),pv_ui7_dividers:()=>s.jsxs("div",{className:"g7-preview g7-col g7-gap-xs",children:[s.jsx("div",{className:"g7-divider solid"}),s.jsx("div",{className:"g7-divider dashed"}),s.jsx("div",{className:"g7-divider dotted"})]}),pv_ui7_tag_variants:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-xs",children:[s.jsx(ko,{label:"Solid"}),s.jsx("span",{className:"g7-pill ghost",children:"Outline"}),s.jsx("span",{className:"g7-pill muted",children:"Muted"})]}),pv_ui7_icon_badges:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsxs("div",{className:"g7-icon-badge",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"g7-badge-num",children:"3"})]}),s.jsx(Ws,{width:"50%"})]}),pv_ui7_banner_strip:()=>s.jsxs("div",{className:"g7-preview g7-banner",children:[s.jsx("span",{children:"Announcement"}),s.jsx(ko,{label:"Live"})]}),pv_ui7_notches_bar:()=>s.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-notches",children:Array.from({length:8}).map((t,e)=>s.jsx("div",{className:`g7-notch ${e<5?"active":""}`},e))}),pv_ui7_status_cluster:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx(i_,{tone:"success"}),s.jsx(i_,{tone:"warning"}),s.jsx(i_,{tone:"danger"}),s.jsx("span",{className:"g7-mini",children:"Status"})]}),pv_ui7_kpi_minichart:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm",children:[s.jsxs("div",{className:"g7-col g7-gap-xxs",children:[s.jsx("span",{className:"g7-mini",children:"KPI"}),s.jsx(Ws,{width:"60%"})]}),s.jsx("div",{className:"g7-mini-chart",children:Array.from({length:6}).map((t,e)=>s.jsx("span",{style:{height:`${10+e*4}px`}},e))})]}),pv_ui7_header_actions:()=>s.jsxs("div",{className:"g7-preview g7-row g7-space-between g7-center",children:[s.jsx(Ws,{width:"40%"}),s.jsxs("div",{className:"g7-row g7-gap-xs",children:[s.jsx("button",{className:"g7-btn ghost",children:"Action"}),s.jsx("button",{className:"g7-btn solid",children:"Primary"})]})]}),pv_ui7_compact_grid:()=>s.jsx("div",{className:"g7-preview g7-grid g7-grid-2",children:Array.from({length:4}).map((t,e)=>s.jsxs("div",{className:"g7-mini-card",children:[s.jsx(Ws,{width:"50%"}),s.jsx(Ws,{width:"30%",tone:"muted"})]},e))}),pv_ui7_sticky_footer:()=>s.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[s.jsx(Ws,{width:"70%"}),s.jsxs("div",{className:"g7-sticky-footer",children:[s.jsx("button",{className:"g7-btn ghost",children:"Cancel"}),s.jsx("button",{className:"g7-btn solid",children:"Save"})]})]}),pv_ui7_inline_edit:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("input",{className:"g7-inline",value:"Editable text",readOnly:!0}),s.jsx("span",{className:"g7-pencil"})]}),pv_ui7_clamp_demo:()=>s.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[s.jsx("div",{className:"g7-clamp",children:"Very long subtitle that is clamped after two lines for readability."}),s.jsx(Ws,{width:"40%"})]}),pv_ui7_icon_counts:()=>s.jsx("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:["","",""].map((t,e)=>s.jsxs("div",{className:"g7-icon-count",children:[s.jsx("span",{children:t}),s.jsx("span",{className:"g7-badge-num",children:e+2})]},t))}),pv_ui7_dual_badge:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-xs g7-center",children:[s.jsx(ko,{label:"Pro"}),s.jsx(ko,{label:"UI"}),s.jsx(Ws,{width:"40%"})]}),pv_ui7_avatar_stack:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-xs g7-center",children:[s.jsx("div",{className:"g7-stack",children:["A","B","C"].map((t,e)=>s.jsx("span",{className:"g7-stack-avatar",style:{left:`${e*12}px`},children:t},t))}),s.jsx("span",{className:"g7-mini",children:"+5"})]}),pv_ui7_chips_progress_row:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx(ko,{label:"UI"}),s.jsx(ko,{label:"Motion"}),s.jsx("div",{className:"g7-pulse-bar",children:s.jsx("div",{className:"g7-pulse-fill",style:{width:"64%"}})})]}),pv_ui7_success_toast:()=>s.jsxs("div",{className:"g7-preview g7-toast success",children:[s.jsx("span",{className:"g7-dot tone-success"}),s.jsx("span",{children:"Saved successfully"})]}),pv_ui7_warning_banner:()=>s.jsx("div",{className:"g7-preview g7-banner warn",children:s.jsx("span",{children:"Warning: changes pending"})}),pv_ui7_error_panel:()=>s.jsxs("div",{className:"g7-preview g7-error",children:[s.jsx("div",{className:"g7-error-icon",children:"!"}),s.jsxs("div",{className:"g7-col g7-gap-xxs",children:[s.jsx(Ws,{width:"60%",tone:"danger"}),s.jsx(Ws,{width:"40%",tone:"muted"})]})]}),pv_ui7_empty_state:()=>s.jsxs("div",{className:"g7-preview g7-empty",children:[s.jsx("div",{className:"g7-ghost"}),s.jsx(Ws,{width:"50%",tone:"muted"})]}),pv_ui7_loading_dots:()=>s.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-center",children:Array.from({length:3}).map((t,e)=>s.jsx("span",{className:"g7-loading-dot"},e))}),pv_ui7_sync_indicator:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-sync",children:s.jsx("div",{className:"g7-sync-arc"})}),s.jsx(ko,{label:"Syncing"})]}),pv_ui7_offline_chip:()=>s.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[s.jsx("div",{className:"g7-chip offline",children:"Offline"}),s.jsx(Ws,{width:"40%",tone:"muted"})]}),pv_ui7_disabled_overlay:()=>s.jsxs("div",{className:"g7-preview g7-disabled",children:[s.jsx(Ws,{width:"60%"}),s.jsx("div",{className:"g7-disabled-mask"})]}),pv_ui7_new_ribbon_glow:()=>s.jsxs("div",{className:"g7-preview g7-ribbon-card",children:[s.jsx("div",{className:"g7-ribbon",children:"New"}),s.jsx("div",{className:"g7-ribbon-glow"}),s.jsx(Ws,{width:"60%"})]}),pv_ui7_locked_stamp:()=>s.jsxs("div",{className:"g7-preview g7-stamp",children:[s.jsx("div",{className:"g7-stamp-ring",children:"LOCKED"}),s.jsx(Ws,{width:"40%"})]})},OPe=t=>{const e=HPe[t];return e?e():s.jsx("div",{className:"g7-preview g7-fallback"})};function $Pe(){return s.jsxs("div",{className:"g7-root",children:[s.jsxs("header",{className:"g7-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 7"}),s.jsx("p",{className:"g7-sub",children:"50 animated UI micro-previews covering motion, hover states, decorative bits, and feedback."})]}),s.jsx("div",{className:"g7-pill-row",children:s.jsx(ko,{label:"UI"})})]}),s.jsx("nav",{className:"g7-toc",children:G4.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g7-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g7-sections",children:G4.map(t=>s.jsxs("details",{className:"g7-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g7-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g7-section-title",children:t.title}),s.jsx("div",{className:"g7-section-sub",children:t.description})]}),s.jsxs("span",{className:"g7-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g7-grid",children:t.items.map(e=>s.jsxs("div",{className:"g7-card",children:[s.jsxs("div",{className:"g7-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g7-card-title",children:e.title}),s.jsx("div",{className:"g7-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g7-pill-row",children:(e.tags||["UI"]).map(n=>s.jsx(ko,{label:n},n))})]}),OPe(e.previewId)]},e.id))})]},t.id))})]})}const K4=[{id:"progress",title:"Animated Progress",description:"Pulses, stripes, sweeps, and counters that move on their own.",items:[{id:"1",categoryId:"progress",title:"Pulse Progress Bar",subtitle:"soft pulse fill",tags:["UI"],previewId:"pv_anim_pulse_bar"},{id:"2",categoryId:"progress",title:"Stripe Motion Fill",subtitle:"striped motion",tags:["UI"],previewId:"pv_anim_stripes_fill"},{id:"3",categoryId:"progress",title:"Gradient Sweep Meter",subtitle:"sweeping sheen",tags:["UI"],previewId:"pv_anim_gradient_sweep"},{id:"4",categoryId:"progress",title:"Segments Filling Track",subtitle:"sequential fill",tags:["UI"],previewId:"pv_anim_segments_fill"},{id:"5",categoryId:"progress",title:"Ring Spinner Progress",subtitle:"rotating arc",tags:["UI"],previewId:"pv_anim_ring_spinner"},{id:"6",categoryId:"progress",title:"Wave Fill Gauge",subtitle:"wave motion",tags:["UI"],previewId:"pv_anim_wave_fill"},{id:"7",categoryId:"progress",title:"Tick-Up Counter",subtitle:"rolling digits",tags:["UI"],previewId:"pv_anim_tickup_counter"},{id:"8",categoryId:"progress",title:"Marker Line Pulse",subtitle:"pulsing marker",tags:["UI"],previewId:"pv_anim_marker_pulse"},{id:"9",categoryId:"progress",title:"Notched Bar Scroll",subtitle:"notches glide",tags:["UI"],previewId:"pv_anim_notches_scroll"},{id:"10",categoryId:"progress",title:"Microbars Breathing",subtitle:"bars breathe",tags:["UI"],previewId:"pv_anim_microbars_breathe"}]},{id:"glow",title:"Glows, Unlocks, Highlights",description:"Shimmers, spotlights, confetti, and soft neon pulses.",items:[{id:"11",categoryId:"glow",title:"Unlock Glow Border",subtitle:"glowing frame",tags:["UI"],previewId:"pv_anim_unlock_glow_border"},{id:"12",categoryId:"glow",title:"Shimmer Skeleton",subtitle:"loading shimmer",tags:["UI"],previewId:"pv_anim_skeleton_shimmer"},{id:"13",categoryId:"glow",title:"New Ribbon Shine",subtitle:"ribbon sweep",tags:["UI"],previewId:"pv_anim_ribbon_shine"},{id:"14",categoryId:"glow",title:"Badge Pop Loop",subtitle:"pop animation",tags:["UI"],previewId:"pv_anim_badge_pop"},{id:"15",categoryId:"glow",title:"Spotlight Sweep",subtitle:"light sweep",tags:["UI"],previewId:"pv_anim_spotlight_sweep"},{id:"16",categoryId:"glow",title:"Confetti Drift",subtitle:"floating dots",tags:["UI"],previewId:"pv_anim_confetti_drift"},{id:"17",categoryId:"glow",title:"Spark Particles",subtitle:"spark drizzle",tags:["UI"],previewId:"pv_anim_spark_particles"},{id:"18",categoryId:"glow",title:"Aura Halo Ring",subtitle:"halo pulse",tags:["UI"],previewId:"pv_anim_halo_ring"},{id:"19",categoryId:"glow",title:"Hover Lift (auto demo)",subtitle:"auto float",tags:["UI"],previewId:"pv_anim_hover_lift_demo"},{id:"20",categoryId:"glow",title:"Soft Neon Pulse Line",subtitle:"neon flicker",tags:["UI"],previewId:"pv_anim_neon_line_pulse"}]},{id:"controls",title:"Animated Controls & Navigation",description:"Auto-animating toggles, tabs, tooltips, and badges.",items:[{id:"21",categoryId:"controls",title:"Toggle Flip Motion",subtitle:"thumb flip",tags:["UI"],previewId:"pv_anim_toggle_flip"},{id:"22",categoryId:"controls",title:"Segmented Toggle Slide",subtitle:"sliding highlight",tags:["UI"],previewId:"pv_anim_seg_toggle_slide"},{id:"23",categoryId:"controls",title:"Tabs Underline Slide",subtitle:"underline glide",tags:["UI"],previewId:"pv_anim_tabs_underline"},{id:"24",categoryId:"controls",title:"Dropdown Open Bounce",subtitle:"bouncy menu",tags:["UI"],previewId:"pv_anim_dropdown_bounce"},{id:"25",categoryId:"controls",title:"Tooltip Appear/Float",subtitle:"float reveal",tags:["UI"],previewId:"pv_anim_tooltip_float"},{id:"26",categoryId:"controls",title:"Button Press Depth Loop",subtitle:"press cycle",tags:["UI"],previewId:"pv_anim_button_depth"},{id:"27",categoryId:"controls",title:"Loading Dots",subtitle:"dot bounce",tags:["UI"],previewId:"pv_anim_loading_dots"},{id:"28",categoryId:"controls",title:"Sync Spinner Badge",subtitle:"badge spinner",tags:["UI"],previewId:"pv_anim_sync_spinner"},{id:"29",categoryId:"controls",title:"Notification Bell Pulse",subtitle:"bell ring",tags:["UI"],previewId:"pv_anim_bell_pulse"},{id:"30",categoryId:"controls",title:"Chip Select Ripple",subtitle:"ripple effect",tags:["UI"],previewId:"pv_anim_chip_ripple"}]},{id:"charts",title:"Animated Micro-Charts",description:"Drawing sparks, morphing radar, wobbling histograms, glowing grids.",items:[{id:"31",categoryId:"charts",title:"Sparkline Draw",subtitle:"line drawing",tags:["UI"],previewId:"pv_anim_spark_draw"},{id:"32",categoryId:"charts",title:"Step Line March",subtitle:"step march",tags:["UI"],previewId:"pv_anim_step_march"},{id:"33",categoryId:"charts",title:"Bar Grow Cycle",subtitle:"bars grow",tags:["UI"],previewId:"pv_anim_bar_grow_cycle"},{id:"34",categoryId:"charts",title:"Radar Polygon Morph",subtitle:"morphing radar",tags:["UI"],previewId:"pv_anim_radar_morph"},{id:"35",categoryId:"charts",title:"Donut Arc Sweep",subtitle:"arc sweep",tags:["UI"],previewId:"pv_anim_donut_sweep"},{id:"36",categoryId:"charts",title:"Histogram Wobble",subtitle:"wobble bars",tags:["UI"],previewId:"pv_anim_hist_wobble"},{id:"37",categoryId:"charts",title:"Delta Arrow Float",subtitle:"floating delta",tags:["UI"],previewId:"pv_anim_delta_arrow_float"},{id:"38",categoryId:"charts",title:"Timeline Dot Travel",subtitle:"dot travels",tags:["UI"],previewId:"pv_anim_timeline_dot"},{id:"39",categoryId:"charts",title:"Heat Cells Glow Cycle",subtitle:"cells glow",tags:["UI"],previewId:"pv_anim_heat_glow_cycle"},{id:"40",categoryId:"charts",title:"Grid Scanline",subtitle:"scanline sweep",tags:["UI"],previewId:"pv_anim_grid_scanline"}]},{id:"states",title:"Feedback & States",description:"Toasts, banners, pings, overlays, and queue motion.",items:[{id:"41",categoryId:"states",title:"Success Toast Slide-In",subtitle:"toast slides",tags:["UI"],previewId:"pv_anim_toast_slidein"},{id:"42",categoryId:"states",title:"Warning Banner Shake",subtitle:"gentle shake",tags:["UI"],previewId:"pv_anim_banner_shake"},{id:"43",categoryId:"states",title:"Error Pulse Border",subtitle:"border pulse",tags:["UI"],previewId:"pv_anim_error_pulse"},{id:"44",categoryId:"states",title:"Offline Chip Blink",subtitle:"chip blink",tags:["UI"],previewId:"pv_anim_offline_blink"},{id:"45",categoryId:"states",title:"Locked Overlay Fade",subtitle:"overlay fade",tags:["UI"],previewId:"pv_anim_locked_fade"},{id:"46",categoryId:"states",title:"Progress Complete Burst",subtitle:"burst ring",tags:["UI"],previewId:"pv_anim_complete_burst"},{id:"47",categoryId:"states",title:"Attention Ping Indicator",subtitle:"ping pulses",tags:["UI"],previewId:"pv_anim_ping_indicator"},{id:"48",categoryId:"states",title:"Tooltip Hint Nudge",subtitle:"hint nudge",tags:["UI"],previewId:"pv_anim_hint_nudge"},{id:"49",categoryId:"states",title:"Queue Item Slide",subtitle:"slide loop",tags:["UI"],previewId:"pv_anim_queue_slide"},{id:"50",categoryId:"states",title:'"New Data" Glow Dot',subtitle:"dot glow",tags:["UI"],previewId:"pv_anim_newdata_dot"}]}],RA=({label:t})=>s.jsx("span",{className:"g8-pill",children:t}),fn=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g8-bar tone-${e}`,style:{width:t,height:n}}),VPe={pv_anim_pulse_bar:()=>s.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[s.jsx("div",{className:"g8-track g8-animated",children:s.jsx("div",{className:"g8-track-fill pulse",style:{width:"76%"}})}),s.jsxs("div",{className:"g8-mini-row",children:[s.jsx(RA,{label:"UI"}),s.jsx("span",{className:"g8-mini",children:"Live"})]})]}),pv_anim_stripes_fill:()=>s.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[s.jsx("div",{className:"g8-track g8-stripes g8-animated"}),s.jsx(fn,{width:"60%",tone:"muted",height:6})]}),pv_anim_gradient_sweep:()=>s.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[s.jsx("div",{className:"g8-track g8-sweep g8-animated"}),s.jsx("span",{className:"g8-mini",children:"Gradient sweep"})]}),pv_anim_segments_fill:()=>s.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-seg-track",children:Array.from({length:8}).map((t,e)=>s.jsx("div",{className:`g8-seg ${e<6?"g8-animated fill":""}`,style:{animationDelay:`${e*.15}s`}},e))}),pv_anim_ring_spinner:()=>s.jsxs("div",{className:"g8-preview g8-row g8-center g8-gap-sm",children:[s.jsx("div",{className:"g8-ring g8-animated",children:s.jsx("div",{className:"g8-ring-arc"})}),s.jsx(fn,{width:"50%"})]}),pv_anim_wave_fill:()=>s.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[s.jsx("div",{className:"g8-wave g8-animated"}),s.jsx("span",{className:"g8-mini",children:"Wave fill"})]}),pv_anim_tickup_counter:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-odometer g8-animated",children:["0","1","2"].map((t,e)=>s.jsx("span",{className:`g8-odo-digit ${e===2?"active":""}`,children:t},e))}),s.jsx(RA,{label:"Counter"})]}),pv_anim_marker_pulse:()=>s.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[s.jsx("div",{className:"g8-marker-line",children:s.jsx("div",{className:"g8-marker g8-animated",style:{left:"64%"}})}),s.jsx("span",{className:"g8-mini",children:"Avg marker"})]}),pv_anim_notches_scroll:()=>s.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-notches g8-animated",children:Array.from({length:12}).map((t,e)=>s.jsx("div",{className:"g8-notch"},e))}),pv_anim_microbars_breathe:()=>s.jsx("div",{className:"g8-preview g8-row g8-gap-xs g8-center",children:["ATK","SPD","HP","LCK"].map((t,e)=>s.jsxs("div",{className:"g8-col g8-gap-xxs g8-center",children:[s.jsx("span",{className:"g8-mini",children:t}),s.jsx("div",{className:`g8-microbar g8-animated ${e%2===0?"alt":""}`})]},t))}),pv_anim_unlock_glow_border:()=>s.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[s.jsxs("div",{className:"g8-glow-card g8-animated",children:[s.jsx(fn,{width:"60%"}),s.jsx(fn,{width:"40%",tone:"muted"})]}),s.jsx(RA,{label:"Unlocked"})]}),pv_anim_skeleton_shimmer:()=>s.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[s.jsx("div",{className:"g8-skeleton g8-animated"}),s.jsx("div",{className:"g8-skeleton short g8-animated"})]}),pv_anim_ribbon_shine:()=>s.jsxs("div",{className:"g8-preview g8-ribbon-card",children:[s.jsx("div",{className:"g8-ribbon g8-animated",children:"NEW"}),s.jsx(fn,{width:"65%"}),s.jsx(fn,{width:"40%",tone:"muted"})]}),pv_anim_badge_pop:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-badge-pop g8-animated",children:"UI"}),s.jsx(fn,{width:"50%"})]}),pv_anim_spotlight_sweep:()=>s.jsxs("div",{className:"g8-preview g8-spotlight g8-animated",children:[s.jsx("div",{className:"g8-spot-sheen"}),s.jsx(fn,{width:"60%"})]}),pv_anim_confetti_drift:()=>s.jsx("div",{className:"g8-preview g8-confetti",children:Array.from({length:14}).map((t,e)=>s.jsx("span",{className:"g8-confetti-dot g8-animated",style:{animationDelay:`${e*.08}s`}},e))}),pv_anim_spark_particles:()=>s.jsx("div",{className:"g8-preview g8-sparks",children:Array.from({length:10}).map((t,e)=>s.jsx("span",{className:"g8-spark g8-animated",style:{animationDelay:`${e*.12}s`}},e))}),pv_anim_halo_ring:()=>s.jsxs("div",{className:"g8-preview g8-row g8-center g8-gap-sm",children:[s.jsx("div",{className:"g8-halo g8-animated",children:s.jsx("div",{className:"g8-halo-ring"})}),s.jsx(fn,{width:"40%"})]}),pv_anim_hover_lift_demo:()=>s.jsxs("div",{className:"g8-preview g8-hover-card g8-animated",children:[s.jsx(fn,{width:"70%"}),s.jsx(fn,{width:"45%",tone:"muted"})]}),pv_anim_neon_line_pulse:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-neon-line g8-animated"}),s.jsx(fn,{width:"40%"})]}),pv_anim_toggle_flip:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-toggle g8-animated",children:s.jsx("div",{className:"g8-toggle-thumb"})}),s.jsx("span",{className:"g8-mini",children:"Auto flip"})]}),pv_anim_seg_toggle_slide:()=>s.jsx("div",{className:"g8-preview g8-seg-toggle",children:s.jsxs("div",{className:"g8-seg-rail",children:[s.jsx("div",{className:"g8-seg-slider g8-animated"}),s.jsxs("div",{className:"g8-seg-labels",children:[s.jsx("span",{children:"One"}),s.jsx("span",{children:"Two"}),s.jsx("span",{children:"Three"})]})]})}),pv_anim_tabs_underline:()=>s.jsxs("div",{className:"g8-preview g8-tabs",children:[s.jsx("div",{className:"g8-tab-row",children:["Overview","Stats","Logs"].map((t,e)=>s.jsx("span",{className:`g8-tab ${e===1?"active":""}`,children:t},t))}),s.jsx("div",{className:"g8-underline g8-animated"})]}),pv_anim_dropdown_bounce:()=>s.jsxs("div",{className:"g8-preview g8-dropdown",children:[s.jsx("div",{className:"g8-drop-head",children:"Select"}),s.jsxs("div",{className:"g8-drop-menu g8-animated",children:[s.jsx("div",{className:"g8-drop-item",children:"Option A"}),s.jsx("div",{className:"g8-drop-item",children:"Option B"}),s.jsx("div",{className:"g8-drop-item",children:"Option C"})]})]}),pv_anim_tooltip_float:()=>s.jsxs("div",{className:"g8-preview g8-tooltip",children:[s.jsx("div",{className:"g8-tooltip-target"}),s.jsx("div",{className:"g8-tooltip-box g8-animated",children:s.jsx(fn,{width:"60%"})})]}),pv_anim_button_depth:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("button",{className:"g8-press-btn g8-animated",children:"Press"}),s.jsx("button",{className:"g8-press-btn alt g8-animated",children:"Hold"})]}),pv_anim_loading_dots:()=>s.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-center",children:Array.from({length:3}).map((t,e)=>s.jsx("span",{className:"g8-loading-dot g8-animated",style:{animationDelay:`${e*.15}s`}},e))}),pv_anim_sync_spinner:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-sync g8-animated",children:s.jsx("div",{className:"g8-sync-arc"})}),s.jsx(RA,{label:"Syncing"})]}),pv_anim_bell_pulse:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-bell g8-animated",children:s.jsx("span",{className:"g8-bell-ring"})}),s.jsx(fn,{width:"50%"})]}),pv_anim_chip_ripple:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-xs g8-center",children:[s.jsx("span",{className:"g8-chip g8-animated",children:"UI"}),s.jsx("span",{className:"g8-chip",children:"Mock"})]}),pv_anim_spark_draw:()=>s.jsx("div",{className:"g8-preview g8-sparkline",children:Array.from({length:10}).map((t,e)=>s.jsx("span",{className:"g8-spark-bar g8-animated",style:{animationDelay:`${e*.08}s`}},e))}),pv_anim_step_march:()=>s.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-stepper",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:"g8-step g8-animated",style:{animationDelay:`${e*.1}s`}},e))}),pv_anim_bar_grow_cycle:()=>s.jsx("div",{className:"g8-preview g8-col g8-gap-xxs",children:["A","B","C"].map((t,e)=>s.jsxs("div",{className:"g8-grow-row",children:[s.jsx("span",{className:"g8-mini",children:t}),s.jsx("div",{className:"g8-grow-bar g8-animated",style:{animationDelay:`${e*.15}s`}})]},t))}),pv_anim_radar_morph:()=>s.jsxs("div",{className:"g8-preview g8-radar",children:[s.jsx("div",{className:"g8-radar-shape g8-animated"}),s.jsx("div",{className:"g8-radar-ring outer"}),s.jsx("div",{className:"g8-radar-ring inner"})]}),pv_anim_donut_sweep:()=>s.jsxs("div",{className:"g8-preview g8-row g8-center g8-gap-sm",children:[s.jsx("div",{className:"g8-donut g8-animated",children:s.jsx("div",{className:"g8-donut-hole",children:"68%"})}),s.jsx(fn,{width:"40%"})]}),pv_anim_hist_wobble:()=>s.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-center g8-hist",children:Array.from({length:6}).map((t,e)=>s.jsx("span",{className:"g8-hist-bar g8-animated",style:{animationDelay:`${e*.1}s`}},e))}),pv_anim_delta_arrow_float:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-delta g8-animated",children:""}),s.jsx(fn,{width:"50%"})]}),pv_anim_timeline_dot:()=>s.jsxs("div",{className:"g8-preview g8-timeline",children:[s.jsx("div",{className:"g8-timeline-line"}),s.jsx("div",{className:"g8-timeline-dot g8-animated"})]}),pv_anim_heat_glow_cycle:()=>s.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-heatline",children:Array.from({length:8}).map((t,e)=>s.jsx("div",{className:"g8-heat-cell g8-animated",style:{animationDelay:`${e*.1}s`}},e))}),pv_anim_grid_scanline:()=>s.jsxs("div",{className:"g8-preview g8-grid-scan",children:[s.jsx("div",{className:"g8-scanline g8-animated"}),s.jsx("div",{className:"g8-grid-bg"})]}),pv_anim_toast_slidein:()=>s.jsxs("div",{className:"g8-preview g8-toast g8-animated",children:[s.jsx("span",{className:"g8-dot tone-success"}),s.jsx("span",{children:"Saved"})]}),pv_anim_banner_shake:()=>s.jsx("div",{className:"g8-preview g8-banner g8-animated",children:s.jsx("span",{children:"Warning: check inputs"})}),pv_anim_error_pulse:()=>s.jsxs("div",{className:"g8-preview g8-error g8-animated",children:[s.jsx("div",{className:"g8-error-icon",children:"!"}),s.jsxs("div",{className:"g8-col g8-gap-xxs",children:[s.jsx(fn,{width:"60%",tone:"danger"}),s.jsx(fn,{width:"40%",tone:"muted"})]})]}),pv_anim_offline_blink:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-chip offline g8-animated",children:"Offline"}),s.jsx(fn,{width:"40%",tone:"muted"})]}),pv_anim_locked_fade:()=>s.jsxs("div",{className:"g8-preview g8-locked",children:[s.jsx(fn,{width:"60%"}),s.jsx("div",{className:"g8-locked-mask g8-animated"})]}),pv_anim_complete_burst:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-burst g8-animated"}),s.jsx(fn,{width:"40%"})]}),pv_anim_ping_indicator:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-ping g8-animated",children:s.jsx("span",{className:"g8-ping-dot"})}),s.jsx(fn,{width:"50%"})]}),pv_anim_hint_nudge:()=>s.jsxs("div",{className:"g8-preview g8-tooltip-hint",children:[s.jsx("div",{className:"g8-hint-box g8-animated",children:s.jsx(fn,{width:"50%"})}),s.jsx("div",{className:"g8-hint-arrow"})]}),pv_anim_queue_slide:()=>s.jsx("div",{className:"g8-preview g8-queue",children:["Item 1","Item 2","Item 3"].map((t,e)=>s.jsx("div",{className:`g8-queue-row g8-animated ${e===1?"active":""}`,style:{animationDelay:`${e*.18}s`},children:s.jsx(fn,{width:`${50+e*10}%`})},t))}),pv_anim_newdata_dot:()=>s.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[s.jsx("div",{className:"g8-newdot g8-animated"}),s.jsx(fn,{width:"50%"})]})},GPe=t=>{const e=VPe[t];return e?e():s.jsx("div",{className:"g8-preview g8-fallback"})};function KPe(){return s.jsxs("div",{className:"g8-root",children:[s.jsxs("header",{className:"g8-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 8"}),s.jsx("p",{className:"g8-sub",children:"50 animated UI micro-demos with CSS motion. All scoped to this tab and honor reduced motion."})]}),s.jsx("div",{className:"g8-pill-row",children:s.jsx(RA,{label:"UI"})})]}),s.jsx("nav",{className:"g8-toc",children:K4.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g8-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g8-sections",children:K4.map(t=>s.jsxs("details",{className:"g8-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g8-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g8-section-title",children:t.title}),s.jsx("div",{className:"g8-section-sub",children:t.description})]}),s.jsxs("span",{className:"g8-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g8-grid",children:t.items.map(e=>s.jsxs("div",{className:"g8-card",children:[s.jsxs("div",{className:"g8-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g8-card-title",children:e.title}),s.jsx("div",{className:"g8-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g8-pill-row",children:(e.tags||["UI"]).map(n=>s.jsx(RA,{label:n},n))})]}),GPe(e.previewId)]},e.id))})]},t.id))})]})}const z4=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function zPe(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:z4[n%z4.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const a_={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function W4(){const[t,e]=R.useState("rows"),[n,r]=R.useState(0),[i,a]=R.useState(""),[o,l]=R.useState(60),d=R.useMemo(()=>zPe(240),[]),u=R.useMemo(()=>d.filter(h=>h.level>=n).filter(h=>h.name.toLowerCase().includes(i.toLowerCase())).slice(0,o),[d,n,i,o]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:h=>e(h.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:i,onChange:h=>a(h.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:h=>r(parseInt(h.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:o,onChange:h=>l(parseInt(h.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...a_,padding:0,overflow:"hidden"},children:u.map(h=>{var m;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[h.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:h.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",h.level," ",h.guild?` ${h.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(m=h.kpi)==null?void 0:m.toFixed(1)})]})]},h.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:u.map(h=>{var m;return s.jsxs("div",{style:a_,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:h.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:h.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",h.level," ",h.guild?` ${h.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(m=h.kpi)==null?void 0:m.toFixed(1)})]})]},h.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:u.map(h=>s.jsxs("div",{style:{...a_,height:140+parseInt(h.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:h.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:h.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",h.level," ",h.guild?` ${h.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},h.id))})]})}function q4(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function X4(){const[t,e]=R.useState(120),[n,r]=R.useState(()=>q4(24));R.useEffect(()=>{const a=setInterval(()=>{r(o=>{if(!o.length)return o;const l=Math.floor(Math.random()*o.length),d=[...o];return d[l]={...d[l],lastScanMinsAgo:0},d})},5e3);return()=>clearInterval(a)},[]),R.useEffect(()=>{const a=setInterval(()=>{r(o=>o.map(l=>({...l,lastScanMinsAgo:l.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(a)},[]);const i=R.useMemo(()=>n.filter(a=>a.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:a=>e(parseInt(a.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(q4(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(a=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[a.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:a.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[a.lastScanMinsAgo," min ago"]})]},a.id)),i.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function WPe(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function Y4(){const[t,e]=R.useState("idle"),[n,r]=R.useState(null),[i,a]=R.useState(!1),o=R.useCallback(async l=>{var u;l.preventDefault(),a(!1);const d=(u=l.dataTransfer.files)==null?void 0:u[0];if(d){e("validating");try{const h=await d.text(),{isHar:m,isSf:g}=WPe(h);if(e("parsing"),await new Promise(y=>setTimeout(y,600)),!m&&!g){e("error"),r({isHar:m,isSf:g,sizeKB:Math.round(d.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:m,isSf:g,sizeKB:Math.round(d.size/1024),summary:`Detected: ${m?"HAR":g?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(h.length/2500)} (rough).`})}catch(h){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(h==null?void 0:h.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:l=>{l.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:o,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const qPe="_wrap_hxkkn_3",XPe="_left_hxkkn_17",YPe="_right_hxkkn_25",JPe="_canvasCard_hxkkn_33",ZPe="_hint_hxkkn_83",eDe="_panel_hxkkn_95",tDe="_panelTitle_hxkkn_109",sDe="_panelBody_hxkkn_121",hl={wrap:qPe,left:XPe,right:YPe,canvasCard:JPe,hint:ZPe,panel:eDe,panelTitle:tDe,panelBody:sDe},nDe=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],rDe=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function iDe(){const[t,e]=R.useState("Canvas ist vorbereitet (526526)."),n=R.useRef(null),[r,i]=R.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[a,o]=R.useState(!0);R.useEffect(()=>{const h=document.getElementById("PortraitCanvas");if(!h){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(y){}let m=console.error;a&&(console.error=(...y)=>{var C;const x=String((C=y==null?void 0:y[0])!=null?C:"");x.includes("Failed to load URL")&&x.includes("PortraitMaker-res/portraits/")||m(...y)});let g=null;try{g=new kF(h,{...r}),n.current=g,e("Rendering")}catch(y){a&&(console.error=m),m("Error initializing PortraitMaker:",y),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return g&&(g.onFinish=()=>{a&&(console.error=m),e("Fertig gerendert.")}),()=>{try{g&&typeof g.dispose=="function"&&g.dispose()}finally{a&&(console.error=m)}}},[r,a]);const l=()=>{const h=document.getElementById("PortraitCanvas");if(!h)return;const m=h.toDataURL("image/png"),g=document.createElement("a");g.href=m,g.download="portrait.png",g.click()},d=h=>{i(m=>({...m,genderName:h,beard:h==="female"?0:m.beard}))},u=r.special!==0;return s.jsxs("div",{className:hl.wrap,children:[s.jsx("div",{className:hl.left,children:s.jsxs("div",{className:hl.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:hl.hint,children:t})]})}),s.jsx("div",{className:hl.right,children:s.jsxs("div",{className:hl.panel,children:[s.jsx("h2",{className:hl.panelTitle,children:"Controls"}),s.jsx("div",{className:hl.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:h=>i(m=>({...m,special:Number(h.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:u,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:h=>d(h.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:h=>i(m=>({...m,class:Number(h.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:h=>i(m=>({...m,race:Number(h.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:h=>i(m=>({...m,background:h.target.value})),children:nDe.map(h=>s.jsx("option",{value:h,children:h===""?"transparent":h},h))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:h=>i(m=>({...m,frame:h.target.value})),children:rDe.map(h=>s.jsx("option",{value:h,children:h===""?"none":h},h))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:h=>i(m=>({...m,showBorder:h.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:a,onChange:h=>o(h.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:l,children:"Export PNG"})}),u&&s.jsxs("div",{className:hl.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const aDe=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],oDe=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],lDe=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function cDe(){return s.jsx(As,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),s.jsx("ul",{className:"mt-2 space-y-2",children:aDe.map(t=>s.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[s.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),s.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[s.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),s.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),s.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),s.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:oDe.map(t=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),s.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),s.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),s.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:lDe.map(t=>s.jsx("li",{children:t},t))})]})]}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),s.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),s.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),s.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),s.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),s.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),s.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),s.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const dDe={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function uDe(){return s.jsx(As,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:s.jsx("div",{className:"flex w-full justify-center pt-10",children:s.jsx(c6,{config:dDe,label:"Playground Avatar"})})})}const ADe=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function hDe(){return s.jsx(As,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:ADe.map(t=>s.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),s.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),s.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const mDe="_avatarFrameMask_1pzs8_5",pDe="_avatarFrameOverlay_1pzs8_7",J4={avatarFrameMask:mDe,avatarFrameOverlay:pDe},gDe=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function fDe(){return s.jsx(As,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:s.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[s.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:gDe.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),s.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),s.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),s.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:J4.avatarFrameMask,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:J4.avatarFrameOverlay,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const vDe=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function xDe(){return s.jsx(As,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"flex w-full flex-col gap-4",children:vDe.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,s.jsx("span",{children:"Leer"})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),s.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function yDe(){return s.jsx(As,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),s.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const oe={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},wDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},bDe={maxWidth:1200,margin:"0 auto"},_De={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function jDe(){return s.jsx("div",{style:wDe,children:s.jsxs("div",{style:bDe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:_De,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${oe.line}`,borderRadius:12,padding:24,textAlign:"center",background:oe.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const CDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},SDe={maxWidth:1200,margin:"0 auto"},BDe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function NDe(){return s.jsx("div",{style:CDe,children:s.jsxs("div",{style:SDe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:BDe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const kDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},IDe={maxWidth:1200,margin:"0 auto"},EDe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function TDe(){return s.jsx("div",{style:kDe,children:s.jsxs("div",{style:IDe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:EDe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:oe.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const FDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},LDe={maxWidth:1200,margin:"0 auto"},RDe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function UDe(){return s.jsx("div",{style:FDe,children:s.jsxs("div",{style:LDe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:RDe,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${oe.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:oe.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const PDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},DDe={maxWidth:1200,margin:"0 auto"},MDe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function QDe(){return s.jsx("div",{style:PDe,children:s.jsxs("div",{style:DDe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:MDe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:oe.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:oe.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const HDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},ODe={maxWidth:1200,margin:"0 auto"},$De={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function VDe(){return s.jsx("div",{style:HDe,children:s.jsxs("div",{style:ODe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:$De,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:oe.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const GDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},KDe={maxWidth:1200,margin:"0 auto"},zDe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function WDe(){return s.jsx("div",{style:GDe,children:s.jsxs("div",{style:KDe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zDe,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${oe.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${oe.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:oe.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const qDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},XDe={maxWidth:1200,margin:"0 auto"},YDe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function JDe(){return s.jsx("div",{style:qDe,children:s.jsxs("div",{style:XDe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:YDe,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const ZDe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},e6e={maxWidth:1200,margin:"0 auto"},t6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function s6e(){return s.jsx("div",{style:ZDe,children:s.jsxs("div",{style:e6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:t6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${oe.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const n6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},r6e={maxWidth:1200,margin:"0 auto"},i6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function a6e(){return s.jsx("div",{style:n6e,children:s.jsxs("div",{style:r6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:i6e,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:oe.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:oe.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const o6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},l6e={maxWidth:1200,margin:"0 auto"},c6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function d6e(){return s.jsx("div",{style:o6e,children:s.jsxs("div",{style:l6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:c6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const u6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},A6e={maxWidth:1200,margin:"0 auto"},h6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function m6e(){return s.jsx("div",{style:u6e,children:s.jsxs("div",{style:A6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:h6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:oe.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const p6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},g6e={maxWidth:1200,margin:"0 auto"},f6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function v6e(){return s.jsx("div",{style:p6e,children:s.jsxs("div",{style:g6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:f6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:oe.text,border:`1px solid ${oe.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:oe.text,border:`1px solid ${oe.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${oe.line}`,borderRadius:10},children:"Send"})]})})]})})}const x6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},y6e={maxWidth:1200,margin:"0 auto"},w6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function b6e(){return s.jsx("div",{style:x6e,children:s.jsxs("div",{style:y6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:w6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const _6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},j6e={maxWidth:1200,margin:"0 auto"},C6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function S6e(){return s.jsx("div",{style:_6e,children:s.jsxs("div",{style:j6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:C6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const B6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},N6e={maxWidth:1200,margin:"0 auto"},k6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function I6e(){return s.jsx("div",{style:B6e,children:s.jsxs("div",{style:N6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:k6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${oe.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const E6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},T6e={maxWidth:1200,margin:"0 auto"},F6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function L6e(){return s.jsx("div",{style:E6e,children:s.jsxs("div",{style:T6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:F6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const R6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},U6e={maxWidth:1200,margin:"0 auto"},P6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function D6e(){return s.jsx("div",{style:R6e,children:s.jsxs("div",{style:U6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:P6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${oe.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const M6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},Q6e={maxWidth:1200,margin:"0 auto"},H6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function O6e(){return s.jsx("div",{style:M6e,children:s.jsxs("div",{style:Q6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:H6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${oe.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const $6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},V6e={maxWidth:1200,margin:"0 auto"},G6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function K6e(){return s.jsx("div",{style:$6e,children:s.jsxs("div",{style:V6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:G6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const z6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},W6e={maxWidth:1200,margin:"0 auto"},q6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function X6e(){return s.jsx("div",{style:z6e,children:s.jsxs("div",{style:W6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:q6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${oe.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:oe.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Y6e={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},J6e={maxWidth:1200,margin:"0 auto"},Z6e={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function eMe(){return s.jsx("div",{style:Y6e,children:s.jsxs("div",{style:J6e,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Z6e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:oe.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const tMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},sMe={maxWidth:1200,margin:"0 auto"},nMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function rMe(){return s.jsx("div",{style:tMe,children:s.jsxs("div",{style:sMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:nMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const iMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},aMe={maxWidth:1200,margin:"0 auto"},oMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function lMe(){return s.jsx("div",{style:iMe,children:s.jsxs("div",{style:aMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:oMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:oe.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:oe.tileAlt,border:`1px solid ${oe.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:oe.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const cMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},dMe={maxWidth:1200,margin:"0 auto"},uMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function AMe(){return s.jsx("div",{style:cMe,children:s.jsxs("div",{style:dMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:uMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${oe.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const hMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},mMe={maxWidth:1200,margin:"0 auto"},pMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function gMe(){return s.jsx("div",{style:hMe,children:s.jsxs("div",{style:mMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:pMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const fMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},vMe={maxWidth:1200,margin:"0 auto"},xMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function yMe(){return s.jsx("div",{style:fMe,children:s.jsxs("div",{style:vMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:xMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const wMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},bMe={maxWidth:1200,margin:"0 auto"},_Me={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function jMe(){return s.jsx("div",{style:wMe,children:s.jsxs("div",{style:bMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:_Me,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const CMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},SMe={maxWidth:1200,margin:"0 auto"},BMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function NMe(){return s.jsx("div",{style:CMe,children:s.jsxs("div",{style:SMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:BMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${oe.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const kMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},IMe={maxWidth:1200,margin:"0 auto"},EMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function TMe(){return s.jsx("div",{style:kMe,children:s.jsxs("div",{style:IMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:EMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${oe.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const FMe={minHeight:"100vh",background:oe.page,color:oe.text,padding:"24px 16px"},LMe={maxWidth:1200,margin:"0 auto"},RMe={background:oe.tile,border:`1px solid ${oe.line}`,borderRadius:12,padding:12};function UMe(){return s.jsx("div",{style:FMe,children:s.jsxs("div",{style:LMe,children:[s.jsx("h1",{style:{color:oe.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:RMe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const PMe=t=>t?t instanceof Date?t.getTime():typeof t=="string"?new Date(t).getTime():typeof t=="number"?t:null:null;function DMe({isLoggedIn:t,hasUnsyncedChanges:e,lastSyncedAt:n,cooldownUntil:r,onSyncClick:i,isSaving:a,syncError:o}){const{t:l}=Gs(),[d,u]=R.useState(null);R.useEffect(()=>{const T=PMe(r);if(!T){u(null);return}const B=()=>{const v=Date.now(),w=Math.max(0,Math.floor((T-v)/1e3));u(w)};B();const S=window.setInterval(B,1e3);return()=>window.clearInterval(S)},[r]);const h=d!==null&&d>0,m=!t||a||!e||h,g=R.useMemo(()=>{if(d===null||d<=0)return null;const T=Math.floor(d/60),B=d%60;return`${String(T).padStart(2,"0")}:${String(B).padStart(2,"0")}`},[d]),y=a?l("tools.sync.saving"):g?l("tools.sync.cooldownLabel",{time:g}):l("tools.sync.buttonSave"),x=R.useMemo(()=>l(e?"tools.sync.statusUnsynced":n?"tools.sync.statusSynced":"tools.sync.statusNever"),[e,n,l]),C=R.useMemo(()=>{if(e)return null;if(n){const T=typeof n=="string"?new Date(n):n;return`${l("tools.sync.lastSyncLabel")}: ${T.toLocaleTimeString()}`}return l("tools.sync.noChanges")},[e,n,l]),E=["rounded-xl border px-4 py-2 text-sm font-semibold uppercase tracking-wide transition focus:outline-none focus:ring-2 focus:ring-emerald-400/70",m?"cursor-not-allowed border-slate-700/70 bg-slate-800/70 text-slate-500":"border-emerald-400/60 bg-emerald-500/10 text-emerald-50 hover:border-emerald-300 hover:bg-emerald-500/20"].join(" ");return s.jsx("div",{className:"mt-4 rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4",children:s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[s.jsx("button",{type:"button",disabled:m,onClick:i,className:E,children:y}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:x}),C&&s.jsx("p",{className:"text-sm text-slate-200",children:C}),o&&s.jsx("p",{className:"text-sm text-rose-400",children:o})]})]})})}const Qv=3,iM="sfdatahub.tools.sets.v1",Z4=[{id:"set-main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"set-twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],fA=[{id:"gemSim",labelKey:"tools.labels.gemSim",defaultLabel:"Gem Simulator",descriptionKey:"tools.descriptions.gemSim",defaultDescription:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeonPauseOpenXP",labelKey:"tools.labels.dungeonPause",defaultLabel:"Dungeon Pause",descriptionKey:"tools.descriptions.dungeonPause",defaultDescription:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xpDungeon",labelKey:"tools.labels.xpDungeon",defaultLabel:"XP Dungeon",descriptionKey:"tools.descriptions.xpDungeon",defaultDescription:"Slide fuer XP-Lauf-Planung als Platzhalter."}],MMe=300*1e3;async function QMe(t,e){const n=vs(Ml(Lt,"user_tools_state"),t);console.log("[ToolsSync] userId param:",t,"doc path:",n.path);const r={version:1,updatedAt:ua(),sets:e.sets,activeSetId:e.activeSetId,activeToolId:e.activeToolId};await Ql(n,r,{merge:!1})}const HMe=()=>{if(typeof window=="undefined")return null;try{const t=window.localStorage.getItem(iM);if(!t)return null;const e=JSON.parse(t);return!e||e.version!==1||e.type!=="toolSet"||!Array.isArray(e.sets)?null:e}catch(t){return console.warn("Failed to parse persisted tools state",t),null}};function OMe(){var He,Ce;const{t}=Gs(),{user:e,status:n,loginWithDiscord:r}=Oa(),i=n==="authenticated"&&!!e,a=R.useMemo(()=>HMe(),[]),o=R.useMemo(()=>{var ue;return(ue=a==null?void 0:a.sets)!=null&&ue.length?a.sets.slice(0,Qv):Z4},[a]),l=R.useMemo(()=>{var Te,Fe,ct,xt;const ue=a==null?void 0:a.activeSetId;return ue&&o.some(ie=>ie.id===ue)?ue:(xt=(ct=(Te=o[0])==null?void 0:Te.id)!=null?ct:(Fe=Z4[0])==null?void 0:Fe.id)!=null?xt:"set-main-dh"},[a,o]),d=R.useMemo(()=>{var Te,Fe;const ue=a==null?void 0:a.activeToolId;return ue&&fA.some(ct=>ct.id===ue)?ue:(Fe=(Te=fA[0])==null?void 0:Te.id)!=null?Fe:"gemSim"},[a]),[u,h]=R.useState(o),[m,g]=R.useState(l),[y,x]=R.useState(d),[C,E]=R.useState(null),[T,B]=R.useState(""),[S,v]=R.useState(""),[w,N]=R.useState(!1),[_,j]=R.useState(null),[k,U]=R.useState(null),[I,P]=R.useState(!1),[L,H]=R.useState(null),O=R.useRef(null),z=R.useRef(!0);R.useEffect(()=>{if(typeof window!="undefined")try{const ue={version:1,type:"toolSet",sets:u,activeSetId:m!=null?m:null,activeToolId:y};window.localStorage.setItem(iM,JSON.stringify(ue))}catch(ue){console.warn("Failed to persist tools state",ue)}},[u,m,y]),R.useEffect(()=>{if(!i){N(!1),z.current=!0;return}if(z.current){z.current=!1;return}N(!0)},[i,u,m,y]);const G=R.useMemo(()=>{var ue;return(ue=u.find(Te=>Te.id===m))!=null?ue:u[0]},[m,u]),$=R.useMemo(()=>{var ue;return(ue=fA.find(Te=>Te.id===y))!=null?ue:fA[0]},[y]),Y=(He=G==null?void 0:G.tools)==null?void 0:He.gemSim,J=(Ce=G==null?void 0:G.tools)==null?void 0:Ce.dungeonPauseOpenXP,V=u.length,X=V>=Qv,Z=()=>{if(X)return;const ue=V+1,Te=t("tools.sets.defaultName","New Set"),Fe={id:`set-${Date.now()}`,name:`${Te} ${ue}`,classLabel:"Class TBD",serverLabel:"Server TBD"};h(ct=>[...ct,Fe]),g(Fe.id)},se=()=>{r()},le=()=>{if(!G){console.warn("No active set to export.");return}const ue={version:1,type:"toolSet",set:G},Te=new Blob([JSON.stringify(ue,null,2)],{type:"application/json"}),Fe=URL.createObjectURL(Te),ct=document.createElement("a"),xt=G.name.toLowerCase().replace(/\s+/g,"-");ct.href=Fe,ct.download=`sfdatahub-set-${xt}.json`,ct.click(),URL.revokeObjectURL(Fe)},we=()=>{var ue;(ue=O.current)==null||ue.click()},Se=ue=>{var ie,Ae;if(u.length<=1){alert(t("tools.sets.deleteLastForbidden"));return}const Te=t("tools.sets.deleteConfirmTitle"),Fe=t("tools.sets.deleteConfirmText");if(!window.confirm(`${Te}

${Fe}`))return;const ct=u.filter(me=>me.id!==ue),xt=ue===m?(Ae=(ie=ct[0])==null?void 0:ie.id)!=null?Ae:null:m;h(ct),xt&&g(xt)},te=ue=>{const Te=u.find(Fe=>Fe.id===ue);Te&&(E(ue),B(Te.name),v(""))},ce=()=>{E(null),B(""),v("")},re=()=>{if(!C)return;const ue=T.trim();if(!ue){v(t("tools.sets.renameErrorEmpty"));return}h(Te=>Te.map(Fe=>Fe.id===C?{...Fe,name:ue}:Fe)),E(null),B(""),v("")},ye=async ue=>{var Fe,ct;const Te=(ct=(Fe=ue.target)==null?void 0:Fe.files)==null?void 0:ct[0];if(Te)try{if(u.length>=Qv){alert(t("tools.sets.importErrorMaxReached"));return}const xt=await Te.text(),ie=JSON.parse(xt);if((ie==null?void 0:ie.version)!==1||(ie==null?void 0:ie.type)!=="toolSet"||typeof(ie==null?void 0:ie.set)!="object")throw new Error("invalid payload");const{set:Ae}=ie;if(typeof(Ae==null?void 0:Ae.name)!="string"||typeof(Ae==null?void 0:Ae.classLabel)!="string"||typeof(Ae==null?void 0:Ae.serverLabel)!="string")throw new Error("invalid set");const me={...Ae,id:`imported-${Date.now()}`,name:Ae.name,classLabel:Ae.classLabel,serverLabel:Ae.serverLabel};h(ke=>[...ke,me]),g(me.id)}catch(xt){console.error("Failed to import set",xt),alert(t("tools.sets.importErrorInvalid"))}finally{ue.target.value=""}},Be=ue=>{m&&(h(Te=>Te.map(Fe=>{var xt;if(Fe.id!==m)return Fe;const ct={...(xt=Fe.tools)!=null?xt:{},gemSim:ue};return{...Fe,tools:ct}})),N(!0))},Le=ue=>{m&&(h(Te=>Te.map(Fe=>{var xt;if(Fe.id!==m)return Fe;const ct={...(xt=Fe.tools)!=null?xt:{},dungeonPauseOpenXP:ue};return{...Fe,tools:ct}})),N(!0))},Ee=`${V}/${Qv}`,De=t($.labelKey,$.defaultLabel),at=t($.descriptionKey,$.defaultDescription),Ke=async()=>{if(!i)return;const ue=e==null?void 0:e.id;if(!(!ue||I||k!==null&&k>Date.now())&&w){P(!0),H(null);try{await QMe(ue,{sets:u,activeSetId:m,activeToolId:y});const Fe=Date.now(),ct=Fe+MMe;N(!1),j(new Date(Fe)),U(ct)}catch(Fe){console.error("Failed to sync tools state",Fe),H(t("tools.sync.error"))}finally{P(!1)}}};return s.jsx(As,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:s.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),s.jsx("span",{className:"text-xs text-slate-400",children:Ee})]}),s.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[u.map(ue=>{const Te=ue.id===m;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>g(ue.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Te?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-slate-50",children:ue.name}),s.jsx("span",{role:"button",tabIndex:0,onClick:Fe=>{Fe.stopPropagation(),te(ue.id)},onKeyDown:Fe=>{(Fe.key==="Enter"||Fe.key===" ")&&(Fe.preventDefault(),Fe.stopPropagation(),te(ue.id))},"aria-label":t("tools.sets.rename"),className:"rounded-full border border-transparent p-1 text-slate-300 transition hover:border-slate-500 hover:text-white",children:s.jsx($O,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"text-xs text-emerald-200/90",children:ue.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:ue.serverLabel}),Te&&s.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]}),u.length>1&&s.jsx("button",{type:"button",onClick:Fe=>{Fe.stopPropagation(),Se(ue.id)},className:"absolute bottom-2 right-2 rounded-full border border-slate-600/60 bg-slate-900/80 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-slate-200 transition hover:border-slate-400 hover:text-white",children:t("tools.sets.delete")})]},ue.id)}),s.jsxs("button",{type:"button",onClick:Z,disabled:X,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",X?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[s.jsx("span",{className:"text-lg",children:"+"}),s.jsx("span",{children:u.length>=3?"Max erreicht":"Neues Set"})]})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[s.jsx("button",{type:"button",onClick:le,className:"rounded-xl border border-slate-600/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400/80 hover:bg-slate-800/60",children:t("tools.sets.exportActive")}),s.jsx("button",{type:"button",onClick:we,className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200 transition hover:border-emerald-300 hover:bg-emerald-500/20",children:t("tools.sets.import")})]}),s.jsx("input",{ref:O,type:"file",accept:"application/json",className:"hidden",onChange:ye})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[s.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),s.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:fA.map(ue=>{const Te=ue.id===y,Fe=t(ue.labelKey,ue.defaultLabel);return s.jsxs("button",{type:"button",onClick:()=>x(ue.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Te?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[s.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),s.jsx("span",{children:Fe})]},ue.id)})})]}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:t("tools.banner.accountComingSoon")}),s.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:t("tools.banner.accountTitle")})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(ue=>s.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:t("tools.banner.accountComingSoon")}),s.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:ue})]},ue))})]}),s.jsx(DMe,{isLoggedIn:i,hasUnsyncedChanges:w,lastSyncedAt:_,cooldownUntil:k,onSyncClick:Ke,isSaving:I,syncError:L})]}):s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.banner.guestTitle")}),s.jsx("p",{className:"text-sm text-slate-400",children:t("tools.banner.guestDescription")}),s.jsx("ul",{className:"text-sm text-slate-300",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(ue=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),s.jsx("span",{children:ue})]},ue))})]}),s.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:s.jsx("button",{type:"button",onClick:se,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:t("tools.banner.guestLoginCta")})})]})}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),s.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:De}),s.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(G==null?void 0:G.name)||"kein Set"]})]}),s.jsx("div",{className:"flex gap-2",children:fA.map(ue=>s.jsx("div",{className:["h-2 w-8 rounded-full transition",y===ue.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},ue.id))})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-slate-300",children:at}),s.jsx("div",{className:"mt-4",children:y==="gemSim"?s.jsx(dS,{initialState:Y,onStateChange:Be}):y==="dungeonPauseOpenXP"?s.jsx(uS,{initialState:J,onStateChange:Le},m):s.jsxs("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",s.jsx("br",{}),"(z. B. ",De,")"]})})]}),s.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:G==null?void 0:G.name}),s.jsx("div",{className:"text-sm text-emerald-200/90",children:G==null?void 0:G.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:G==null?void 0:G.serverLabel})]}),s.jsxs("div",{className:"rounded-2xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",s.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]}),C&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:ce}),s.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-slate-700/80 bg-slate-900/95 p-6 shadow-2xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.sets.renameTitle")}),s.jsx("label",{className:"mt-4 block text-xs uppercase tracking-[0.3em] text-slate-400",children:t("tools.sets.renameLabel")}),s.jsx("input",{value:T,onChange:ue=>B(ue.target.value),autoFocus:!0,className:"mt-2 w-full rounded-xl border border-slate-700/70 bg-slate-900/60 px-4 py-2 text-sm text-slate-50 outline-none transition focus:border-emerald-400",placeholder:t("tools.sets.renamePlaceholder")}),S&&s.jsx("p",{className:"mt-2 text-xs text-rose-400",children:S}),s.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:ce,className:"rounded-xl border border-slate-600/80 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400 hover:bg-slate-800/60",children:t("tools.sets.renameCancel")}),s.jsx("button",{type:"button",onClick:re,className:"rounded-xl border border-emerald-400/60 bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/80",children:t("tools.sets.renameSave")})]})]})]})]})})}const o_=50,$Me=3,VMe=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),l_=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function GMe(){var w,N;const[t]=yr(),e=(N=(w=t.get("q"))==null?void 0:w.trim())!=null?N:"",n=VMe(e),[r,i]=W.useState([]),[a,o]=W.useState([]),[l,d]=W.useState(null),[u,h]=W.useState(null),[m,g]=W.useState(!1),[y,x]=W.useState(!1),[C,E]=W.useState(!1),[T,B]=W.useState(null),S=async _=>{const j=Jn("Search:results");try{const k=Yn(rg(Lt,"latest"),pa("nameFold"),Rc(n),Uc(n+""),..._?[Dq(_)]:[],Fr(o_)),U=await Hn(j,{},()=>Qn(k)),I=U.docs.length?U.docs[U.docs.length-1]:null,P=[],L=[];U.forEach(H=>{var Y,J,V,X,Z,se,le,we,Se,te,ce,re,ye,Be,Le,Ee,De,at,Ke,He,Ce,ue,Te,Fe,ct,xt,ie,Ae,me,ke,jt,nt;const O=H.data(),z=(Y=H.ref.parent)==null?void 0:Y.parent,G=(J=z==null?void 0:z.parent)==null?void 0:J.id,$=(V=z==null?void 0:z.id)!=null?V:H.id;G==="players"?P.push({id:$,name:(se=(Z=O.name)!=null?Z:(X=O.values)==null?void 0:X.Name)!=null?se:null,server:(Se=(we=O.server)!=null?we:(le=O.values)==null?void 0:le.Server)!=null?Se:null,className:(re=(ce=O.className)!=null?ce:(te=O.values)==null?void 0:te.Class)!=null?re:null,level:l_((Be=O.level)!=null?Be:(ye=O.values)==null?void 0:ye.Level)}):G==="guilds"&&L.push({id:$,name:(De=(Ee=O.name)!=null?Ee:(Le=O.values)==null?void 0:Le.Name)!=null?De:null,server:(He=(Ke=O.server)!=null?Ke:(at=O.values)==null?void 0:at.Server)!=null?He:null,memberCount:l_((Fe=(ue=O.memberCount)!=null?ue:(Ce=O.values)==null?void 0:Ce["Guild Member Count"])!=null?Fe:(Te=O.values)==null?void 0:Te.GuildMemberCount),hofRank:l_((nt=(ke=(Ae=(xt=O.hofRank)!=null?xt:(ct=O.values)==null?void 0:ct["Hall of Fame Rank"])!=null?Ae:(ie=O.values)==null?void 0:ie.HoF)!=null?ke:(me=O.values)==null?void 0:me.Rank)!=null?nt:(jt=O.values)==null?void 0:jt["Guild Rank"])})}),i(H=>[...H,...P]),o(H=>[...H,...L]),d(I),h(I),g(U.docs.length===o_),x(U.docs.length===o_)}finally{Cn(j)}};W.useEffect(()=>{if(n.length<$Me){B("Type at least 3 characters to search.");return}B(null),i([]),o([]),d(null),h(null),g(!1),x(!1),E(!0),S().catch(_=>B((_==null?void 0:_.message)||"Search failed")).finally(()=>E(!1))},[n]);const v=()=>{C||(E(!0),S(l||u).catch(_=>B((_==null?void 0:_.message)||"Search failed")).finally(()=>E(!1)))};return s.jsxs(As,{title:"Search",subtitle:e?`Results for ${e}`:"",children:[T&&s.jsx("p",{style:{color:"#ff9c9c",marginBottom:12},children:T}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[s.jsxs("section",{children:[s.jsx("h3",{children:"Players"}),r.map(_=>{var j,k,U;return s.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[s.jsx("div",{style:{fontWeight:700},children:(j=_.name)!=null?j:_.id}),s.jsxs("div",{style:{opacity:.8},children:[(k=_.className)!=null?k:"?","  ",(U=_.server)!=null?U:"?","  ",_.level!=null?`Lvl ${_.level}`:"Lvl ?"]})]},_.id)})]}),s.jsxs("section",{children:[s.jsx("h3",{children:"Guilds"}),a.map(_=>{var j,k;return s.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[s.jsx("div",{style:{fontWeight:700},children:(j=_.name)!=null?j:_.id}),s.jsxs("div",{style:{opacity:.8},children:[(k=_.server)!=null?k:"?"," "," ",_.memberCount!=null?`${_.memberCount} members`:"Members ?"," "," ",_.hofRank!=null?`HoF #${_.hofRank}`:"HoF ?"]})]},_.id)})]})]}),(m||y)&&s.jsx("div",{style:{marginTop:16},children:s.jsx("button",{type:"button",onClick:v,disabled:C,style:{padding:"10px 14px"},children:C?"Loading":"Load more"})})]})}const KMe="_backdrop_19xh2_1",zMe="_panel_19xh2_19",WMe="_header_19xh2_43",qMe="_tabs_19xh2_63",XMe="_tabBtn_19xh2_75",YMe="_tabActive_19xh2_97",JMe="_closeBtn_19xh2_101",ZMe="_content_19xh2_123",Bo={backdrop:KMe,panel:zMe,header:WMe,tabs:qMe,tabBtn:XMe,tabActive:YMe,closeBtn:JMe,content:ZMe},ci=t=>{if(typeof t=="number")return t;if(t==null)return 0;let e=String(t).trim();if(!e||e==="-"||e.toLowerCase()==="nan")return 0;e=e.replace(/\s+/g,"").replace(/\.(?=\d{3}\b)/g,"").replace(/,/g,".");const n=Number(e);return Number.isFinite(n)?n:0},eF=t=>String(t!=null?t:"").trim().replace(/:+$/,"").toLowerCase().replace(/[\s_\u00a0]+/g,""),vA=(t,e)=>{if(!t||typeof t!="object")return;const n=eF(e);for(const r of Object.keys(t))if(eF(r)===n)return t[r]},e8e=t=>{if(!t)return{group:"ALL",serverKey:"all"};const e=String(t).toUpperCase();let n=e.match(/EU(\d+)/);return n?{group:"EU",serverKey:`EU${n[1]}`}:(n=e.match(/S?(\d+)[._-]?EU|S(\d+)\.SFGAME\.EU/),n?{group:"EU",serverKey:`EU${n[1]||n[2]}`}:(n=e.match(/^S(\d+)$/),n?{group:"EU",serverKey:`EU${n[1]}`}:e.includes("AM1")||e.includes("S1.SFGAME.US")?{group:"US",serverKey:"AM1"}:e.includes("MAERWYNN")?{group:"INT",serverKey:"MAERWYNN"}:(n=e.match(/F(\d+)/),n?{group:"FUSION",serverKey:`F${n[1]}`}:{group:"ALL",serverKey:"all"})))},t8e={Warrior:"Base Strength",Berserker:"Base Strength",Paladin:"Base Strength",Scout:"Base Dexterity",Assassin:"Base Dexterity","Demon Hunter":"Base Dexterity",Bard:"Base Intelligence",Mage:"Base Intelligence","Battle Mage":"Base Strength",Necromancer:"Base Intelligence",Druid:"Base Intelligence"},Fc=(t,e)=>t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0,aM=t=>{const e={str:ci(Fc(t,"Base Strength")),dex:ci(Fc(t,"Base Dexterity")),intl:ci(Fc(t,"Base Intelligence")),con:ci(Fc(t,"Base Constitution")),luck:ci(Fc(t,"Base Luck"))},n=e.str+e.dex+e.intl+e.con+e.luck;return{...e,sum:n}},s8e=(t,e)=>{var Y,J;const{playerId:n,identifier:r,name:i,className:a,level:o,server:l,guildIdentifier:d,guildName:u,timestamp:h,updatedAt:m,values:g={}}=t||{},y=ci(o),{group:x,serverKey:C}=e8e(l),E=aM(g),T=ci(vA(g,"Base")),B=ci(vA(g,"Base Constitution")),S=(Y=t8e[String(a!=null?a:"")])!=null?Y:"Base Intelligence",v=ci(Fc(g,S)),w=T+B,N=E.con,_=y>0?w/y:0,j=ci(vA(g,"Attribute")),k=ci(vA(g,"Constitution")),U=j+k,I=ci(vA(g,"XP")),P=ci(vA(g,"XP Total")),L=ci(Fc(g,"Gem Mine")),H=ci(Fc(g,"Treasury")),O=e?e():null,z=String(n!=null?n:"").trim(),$=(typeof r=="string"?r.trim():"")||(z&&C?`${C.toLowerCase()}_p${z}`:"");return{playerId:String(n!=null?n:""),identifier:$||null,name:String(i!=null?i:""),class:String(a!=null?a:""),level:y,group:x,serverKey:C,guildId:d?String(d):"",guildName:u?String(u):"",sum:w,main:v,con:N,ratio:_,mainTotal:j,conTotal:k,sumTotal:U,xpProgress:I,xpTotal:P,mine:L,treasury:H,timestamp:ci(h),updatedAtFromLatest:(J=m!=null?m:O)!=null?J:null}},la=t=>{if(t==null||t==="")return null;const e=Number(t);return Number.isFinite(e)?e:null},n8e=["latestScanAtSec"],r8e=t=>{if(typeof t=="number")return Number.isFinite(t)?t>1e12?Math.floor(t/1e3):t:null;if(typeof t=="string"){const e=t.trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e)}return null},by=t=>{for(const e of n8e)if(Object.prototype.hasOwnProperty.call(t,e))return{sec:r8e(t[e]),field:e};return{sec:null,field:null}},oM=(t,e,n)=>{if(!Number.isFinite(e))return t;const r=n!=null?n:"latestScanAtSec";return t[r]===e?t:{...t,[r]:e}},i8e=t=>{var d,u,h,m,g,y,x,C,E,T,B,S,v,w,N,_,j,k,U,I,P,L;const e=t.lastScanRaw!=null?String(t.lastScanRaw).trim():"",n=String((d=t.timestampSec)!=null?d:"").trim(),r=(e||n).trim(),i=String((u=t.playerId)!=null?u:"").trim(),a=String((h=t.server)!=null?h:"").trim(),l=(typeof t.identifier=="string"?t.identifier.trim():"")||(i&&a?`${a.toLowerCase()}_p${i}`:"");return{playerId:String((m=t.playerId)!=null?m:""),identifier:l||null,server:String((g=t.server)!=null?g:""),name:String((y=t.name)!=null?y:""),class:String((E=(C=(x=t.derived)==null?void 0:x.class)!=null?C:t.className)!=null?E:""),guild:t.guildName?String(t.guildName):null,lastScan:r||null,latestScanAtSec:la(t.timestampSec),level:la((B=t.level)!=null?B:(T=t.derived)==null?void 0:T.level),con:la((S=t.derived)==null?void 0:S.con),main:la((v=t.derived)==null?void 0:v.main),mainTotal:la((w=t.derived)==null?void 0:w.mainTotal),conTotal:la((N=t.derived)==null?void 0:N.conTotal),sumTotal:la((_=t.derived)==null?void 0:_.sumTotal),xpProgress:la((j=t.derived)==null?void 0:j.xpProgress),xpTotal:la((k=t.derived)==null?void 0:k.xpTotal),mine:la((U=t.derived)==null?void 0:U.mine),ratio:la((I=t.derived)==null?void 0:I.ratio),sum:la((P=t.derived)==null?void 0:P.sum),treasury:la((L=t.derived)==null?void 0:L.treasury)}},ha=t=>String(t!=null?t:"").trim(),lM=t=>ha(t).toUpperCase(),ws=t=>String(t!=null?t:"").trim().replace(/:+$/,"").toLowerCase().replace(/[\s_\u00a0]+/g,""),mx=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),tF=t=>{const e=mx(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},sF=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},nF=t=>{var n;const e=String((n=t==null?void 0:t.code)!=null?n:"").toLowerCase();return e.includes("permission")||e.includes("already")||e.includes("failed-precondition")},cM=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},a8e=t=>{if(t==null)return null;const e=String(t).trim();if(!e)return null;const n=e.replace(/[\s,\.]/g,""),r=Number(n);return Number.isFinite(r)?r:null},o8e=1,l8e=200,c8e=t=>t==null?"non_numeric":t<o8e||t>l8e?"out_of_range":"ok",rF=t=>{const e=cM(t);return Number.isFinite(e!=null?e:NaN)?Math.trunc(e):null},d8e=t=>{const e=ws(t);for(const[n,r]of Object.entries(dM))if(ws(r)===e)return Number(n);return null},iF=t=>{var a;const e=t==null?"":String(t).trim();if(!e)return{classId:null,className:null};const n=Number(e);if(Number.isInteger(n)&&!Number.isNaN(n)){const o=n;return{classId:o,className:(a=dM[o])!=null?a:String(o)}}return{classId:d8e(e),className:e}},Xs={PLAYERS:{IDENTIFIER:ws("Identifier"),PID:ws("ID"),GUILD_IDENTIFIER:ws("Guild Identifier"),SERVER:ws("Server"),NAME:ws("Name"),TIMESTAMP:ws("Timestamp"),LEVEL:ws("Level"),CLASS:ws("Class"),GUILD:ws("Guild")},GUILDS:{GUILD_IDENTIFIER:ws("Guild Identifier"),SERVER:ws("Server"),NAME:ws("Name"),MEMBER_COUNT:ws("Guild Member Count"),TIMESTAMP:ws("Timestamp"),HOF:ws("Hall of Fame Rank"),HOF_ALT:ws("HoF"),RANK:ws("Rank"),GUILD_RANK:ws("Guild Rank")}},dM={1:"Warrior",2:"Mage",3:"Scout",4:"Assassin",5:"Battle Mage",6:"Berserker",7:"Demon Hunter",8:"Bard"},uM=[Xs.PLAYERS.LEVEL,ws("Level"),ws("Lvl"),ws("Stufe")],AM=[Xs.PLAYERS.CLASS,ws("Class"),ws("ClassID"),ws("Class ID"),ws("CharClass"),ws("Klasse")],vS=t=>{const e=new Map;return t.forEach(n=>{const r=ws(n);e.has(r)||e.set(r,n)}),e},UA=t=>{const e=new Set;for(const n of t)Object.keys(n).forEach(r=>e.add(r));return Array.from(e)},Aa=(t,e,n)=>{const r=e.get(n);return r&&Object.prototype.hasOwnProperty.call(t,r)?t[r]:La(t,n)},Oj=(t,e,n)=>n.map(r=>Aa(t,e,r)).find(r=>r!=null&&String(r)!==""),qd=t=>String(t!=null?t:"").replace(/\u00a0/g," ").trim().replace(/\s+/g," ").replace(/:+$/,"").toLowerCase().replace(/[\s-]+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_+|_+$/g,""),u8e=t=>{const e=new Map;return t.forEach(n=>{var a;const r=qd(n);if(!r)return;const i=(a=e.get(r))!=null?a:[];i.push(n),e.set(r,i)}),e},A8e=["guild_member_count","guild_membercount","guildmembercount","member_count","membercount","guild_members"],xS=t=>{const e=u8e(t),n=[];for(const r of A8e){const i=e.get(r);if(i)for(const a of i)n.includes(a)||n.push(a)}return n},hM=(t,e)=>{const n=e!=null?e:xS(t);if(!n.length)return null;const r=qd("Guild Member Count"),i=n.find(a=>qd(a)===r);return i||(n.length===1,n[0])},h8e=new Set([ws("Strength"),ws("Dexterity"),ws("Intelligence"),ws("Constitution"),ws("Luck"),ws("Attribute")]),m8e=["equipment"],p8e=t=>h8e.has(t)||m8e.some(e=>t.includes(e)),La=(t,e)=>{for(const n of Object.keys(t))if(ws(n)===e)return t[n]},g8e=/^[a-z]{1,4}\d+$/i,f8e=/^([a-z]{1,4}\d+)[_.-]?(net|eu)$/i,v8e=/^([a-z]{1,4}\d+)\.sfgame\.(net|eu)$/i,px=t=>{const e=String(t!=null?t:"").trim().toUpperCase();if(!e)return e;const n=e.match(/^S(\d+)$/);return n?`EU${n[1]}`:e},x8e=t=>{const e=String(t!=null?t:"").trim();if(!e)return null;const n=e.toLowerCase();if(g8e.test(n))return px(n);const r=n.match(f8e);if(r)return px(r[1]);const i=n.match(v8e);return i?px(i[1]):e},mM=t=>{var i;const e=String(t!=null?t:"").trim();if(!e)return null;const n=e.match(/^(.+)_p(\d+)$/);if(!n)return null;const r=(i=n[1])==null?void 0:i.trim();return r?x8e(r):null},y8e=t=>{var r;const e=String(t!=null?t:"").trim();if(!e)return null;const n=e.match(/^(.+)_p(\d+)$/);return n&&(r=n[2])!=null?r:null},pM=(t,e,n,r,i)=>{var u;const a=(h,m,g,y)=>{const x=a8e(m),C=c8e(x);return{header:h,headerIndex:h?n.indexOf(h):-1,rawValue:m,parsedValue:x,validationResult:C,isValid:C==="ok",fallbackUsed:y,source:g}};if(r){const h=a(r,t[r],"primary",!1);if(h.isValid)return h}for(const h of i){if(h===r)continue;const m=a(h,t[h],"alias",!0);if(m.isValid)return m}const o=(u=e.get(Xs.GUILDS.MEMBER_COUNT))!=null?u:null,l=o?t[o]:La(t,Xs.GUILDS.MEMBER_COUNT);return a(o,l,o?"lookup":"none",!0)};function _y(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,o=Number(n[3]),l=Number(n[4]),d=Number(n[5]),u=n[6]?Number(n[6]):0,h=new Date(o,a,i,l,d,u);if(!Number.isNaN(h.getTime()))return Math.floor(h.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function aF(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),a=Math.ceil(((+n-+i)/864e5+1)/7),o=n.getUTCFullYear(),l=a.toString().padStart(2,"0");return`${o}-W${l}`}function oF(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),a=i+7*86400-1;return{start:i,end:a}}function lF(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function cF(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function gM(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}const w8e="sf_debug_guild_csv_parse",b8e=()=>typeof window=="undefined"||!(window!=null&&window.localStorage)?!1:window.localStorage.getItem(w8e)==="1",Hv=(t,e=260)=>t.length<=e?t:`${t.slice(0,Math.max(0,e-3))}...`,_8e=t=>{const e={},n=[",",";","	","|"];for(const r of n){let i=0;for(let a=0;a<t.length;a++)t[a]===r&&i++;e[r==="	"?"\\t":r]=i}return e},j8e=(t,e,n)=>{var L,H,O,z,G,$,Y,J,V,X,Z,se;if(!b8e())return;const i=(L=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`)[0])!=null?L:"",a=i.replace(/^\uFEFF/,""),o=i.startsWith("\uFEFF"),l=i.includes(""),d=gM(a),u=_8e(a),h=e.headers.map(qd),m={};e.headers.forEach((le,we)=>{var ce;const Se=qd(le);if(!Se)return;const te=(ce=m[Se])!=null?ce:[];te.push(we),m[Se]=te});const g=e.headers.find(le=>qd(le)===qd("Guild Identifier")),y=g?e.headers.indexOf(g):-1,x=xS(e.headers),C=hM(e.headers,x),E=C?e.headers.indexOf(C):-1,T=vS(e.headers),B=e.rows[0],S=B?Aa(B,T,Xs.GUILDS.GUILD_IDENTIFIER):null,v=B?pM(B,T,e.headers,C,x):null,w=(H=v==null?void 0:v.rawValue)!=null?H:null,N=(O=v==null?void 0:v.parsedValue)!=null?O:null,_=(G=(z=e.meta)==null?void 0:z.headerCount)!=null?G:e.headers.length,j=(J=(Y=($=e.meta)==null?void 0:$.rowTokenCounts)==null?void 0:Y[0])!=null?J:null,k=j!=null&&_>0?j<_:null,U=(X=(V=e.meta)==null?void 0:V.paddedRowCount)!=null?X:0,I=(se=(Z=e.meta)==null?void 0:Z.truncatedRowCount)!=null?se:0,P=[];i||P.push("missing header line"),e.headers.length||P.push("no headers parsed"),e.rows.length===0&&P.push("no data rows after parse"),g||P.push("missing guild identifier header"),C||P.push("missing guild member count header"),e.rows.length>0&&n.rows.length===0&&P.push(`all rows filtered (missingIdentifier=${n.stats.missingIdentifier}, badTimestamp=${n.stats.badTimestamp}, missingServer=${n.stats.missingServer})`),!P.length&&n.rows.length===0&&P.push("no parsed guild rows"),console.groupCollapsed("[GuildCsvParse] Debug"),console.log("headerLine",{length:i.length,hasBom:o,hasNbsp:l,delimiter:d,delimiterCounts:u,sample:Hv(i)}),console.log("headers",{raw:e.headers,normalized:h,headerIndexMap:m}),console.log("requiredHeaders",{guildIdentifier:g,guildIdentifierIndex:y,memberCount:C,memberCountIndex:E,memberCountCandidates:x}),console.log("rowAlignment",{headerCount:_,sampleRowTokenCount:j,sampleRowPadded:k,paddedRowCount:U,truncatedRowCount:I}),console.log("rows",{parsedRows:e.rows.length,guildRows:n.rows.length,stats:n.stats}),console.log("sample",{guildIdentifier:S==null?null:Hv(String(S)),memberCountRaw:w==null?null:Hv(String(w)),memberCount:N}),v&&console.log("memberCountResolution",{primaryHeader:C,primaryIndex:E,resolvedHeader:v.header,resolvedIndex:v.headerIndex,rawValueAtIndex:v.rawValue==null?null:Hv(String(v.rawValue)),parsedMemberCount:v.parsedValue,validationResult:v.validationResult,fallbackUsed:v.fallbackUsed,source:v.source}),P.length&&console.warn("[GuildCsvParse] Issues",P),console.groupEnd()};function jy(t){var g;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],meta:{headerCount:0,rowTokenCounts:[],paddedRowCount:0,truncatedRowCount:0}};const r=gM((g=n[0])!=null?g:""),i=y=>{const x=[];let C="",E=!1;for(let T=0;T<y.length;T++){const B=y[T];B==='"'?E&&y[T+1]==='"'?(C+='"',T++):E=!E:B===r&&!E?(x.push(C),C=""):C+=B}return x.push(C),x},o=(n[0]?i(n[0]).map(ha):[]).map((y,x)=>y||`col${x}`),l=o.length,d=[],u=[];let h=0,m=0;for(let y=1;y<n.length;y++){if(!n[y])continue;const x=i(n[y]);if(x.every(T=>ha(T)===""))continue;const C=x.length;C<l?(x.push(...Array(l-C).fill("")),h++):C>l&&m++,u.push(C);const E={};for(let T=0;T<l;T++)E[o[T]]=x[T]!=null?ha(x[T]):"";d.push(E)}return{headers:o,rows:d,meta:{headerCount:l,rowTokenCounts:u,paddedRowCount:h,truncatedRowCount:m}}}function C8e(t){const e={};for(let n=0;n<t.length;n++){const r=ws(t[n]);uM.includes(r)&&e.levelIndex==null&&(e.levelIndex=n),AM.includes(r)&&e.classIndex==null&&(e.classIndex=n)}if(e.levelIndex==null){const n=t.findIndex(r=>r.trim()==="Level");n>=0&&(e.levelIndex=n)}if(e.classIndex==null){const n=t.findIndex(r=>r.trim()==="Class");n>=0&&(e.classIndex=n)}return e}function fM(t,e){const n=e&&e.length?e:UA(t),r=vS(n),i={missingIdentifier:0,badTimestamp:0,missingServer:0},a=[],o=C8e(n);for(const l of t){const d=Aa(l,r,Xs.PLAYERS.IDENTIFIER),u=ha(d);if(!u){i.missingIdentifier++;continue}const h=Aa(l,r,Xs.PLAYERS.PID),m=ha(h||y8e(u));if(!m){i.missingIdentifier++;continue}const g=_y(Aa(l,r,Xs.PLAYERS.TIMESTAMP));if(g==null){i.badTimestamp++;continue}const y=mM(u),x=Aa(l,r,Xs.PLAYERS.SERVER),C=x&&ha(x)!==""?lM(x):void 0,E=y!=null?y:u?void 0:C;if(!E){i.missingServer++;continue}const T=Aa(l,r,Xs.PLAYERS.NAME),B=T!=null&&ha(T)!==""?String(T):null,S=Aa(l,r,Xs.PLAYERS.GUILD_IDENTIFIER),v=S!=null&&ha(S)!==""?String(S):null,w=Aa(l,r,Xs.PLAYERS.GUILD),N=w!=null&&ha(w)!==""?String(w):null,_=o.levelIndex!=null?rF(l[n[o.levelIndex]]):rF(Oj(l,r,uM)),j=o.classIndex!=null?iF(l[n[o.classIndex]]):iF(Oj(l,r,AM));a.push({playerId:m,identifier:u,server:E,name:B,timestampSec:g,guildIdentifier:v,guildName:N,level:_,classId:j.classId,className:j.className,raw:l})}return{rows:a,stats:i,headers:n}}function vM(t,e){const n=e&&e.length?e:UA(t),r=vS(n),i=xS(n),a=hM(n,i),o={missingIdentifier:0,badTimestamp:0,missingServer:0},l=[];for(const d of t){const u=Aa(d,r,Xs.GUILDS.GUILD_IDENTIFIER),h=ha(u);if(!h){o.missingIdentifier++;continue}const m=_y(Aa(d,r,Xs.GUILDS.TIMESTAMP));if(m==null){o.badTimestamp++;continue}const g=Aa(d,r,Xs.GUILDS.SERVER),y=g&&ha(g)!==""?lM(g):void 0;if(!y){o.missingServer++;continue}const x=Aa(d,r,Xs.GUILDS.NAME),C=x!=null&&ha(x)!==""?String(x):null,E=pM(d,r,n,a,i),T=E.isValid?E.parsedValue:null,B=cM(Oj(d,r,[Xs.GUILDS.HOF,Xs.GUILDS.HOF_ALT,Xs.GUILDS.RANK,Xs.GUILDS.GUILD_RANK]));l.push({guildIdentifier:h,server:y,name:C,timestampSec:m,memberCount:T,hofRank:B,raw:d})}return{rows:l,stats:o,headers:n}}function S8e(t){const e=jy(t);return fM(e.rows,e.headers).rows}function B8e(t){const e=jy(t),n=vM(e.rows,e.headers);return j8e(t,e,n),n.rows}const N8e="stats_cache_player_derived",k8e="stats_cache_guild_derived",xM=40,dF=120,c_=500,d_=500,$s=t=>{if(t==null||t==="")return null;const e=Number(t);return Number.isFinite(e)?e:null},ml=t=>{if(t==null)return 0;const e=String(t).replace(/[^0-9]/g,"");if(!e)return 0;const n=Number(e);return Number.isFinite(n)?n:0},pl=(t,e)=>{if(!(!t||typeof t!="object")){for(const n of e)if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}},gl={honor:["Guild Honor"],hydra:["Guild Hydra"],instructor:["Guild Instructor"],knights:["Guild Knights"],knights15Plus:["Guild Knights 15+"],memberCount:["Guild Member Count"],portalFloor:["Guild Portal Floor"],raids:["Guild Raids"],treasury:["Guild Treasure","Guild Treasury"]},I8e=t=>({honor:ml(pl(t,gl.honor)),hydra:ml(pl(t,gl.hydra)),instructor:ml(pl(t,gl.instructor)),knights:ml(pl(t,gl.knights)),knights15Plus:ml(pl(t,gl.knights15Plus)),memberCount:ml(pl(t,gl.memberCount)),portalFloor:ml(pl(t,gl.portalFloor)),raids:ml(pl(t,gl.raids)),treasury:ml(pl(t,gl.treasury))}),yM=t=>`snapshot_${t}_player_derived`,yS=t=>`snapshot_${t}_guild_derived`,wM=t=>{const e=String(t!=null?t:"").trim();if(!e)return null;const n=e.toLowerCase(),r=n.match(/^eu(\d+)$/);if(r)return`EU${r[1]}`;const i=n.match(/^f(\d+)$/);return i?`F${i[1]}`:px(e)},E8e=t=>{var r;if(!t)return null;if(/^[a-z][a-z0-9+.-]*:\/\//i.test(t))try{const i=new URL(t).hostname;if(i)return i.toLowerCase()}catch(i){}let e=t.replace(/^[a-z]+:\/\//i,"");if(e=(r=e.split(/[/?#]/)[0])!=null?r:"",e=e.replace(/\s+/g,"").trim(),!e)return null;let n=e.toLowerCase().replace(/:\d+$/,"");return n=n.replace(/^\.+|\.+$/g,""),n||null},Ap=t=>{var o;const e=String(t!=null?t:"").replace(/\u00a0/g," ").trim();if(!e)return{input:e,normalizedInput:e,hostname:null,subdomain:null,canonicalCode:null};const n=(()=>{var d;let l=e.toLowerCase();return l.includes("_")&&l.endsWith("_net")&&(l=(d=l.split("_")[0])!=null?d:l),l})().trim(),r=E8e(n),i=r&&(o=r.split(".")[0])!=null?o:"",a=i?wM(i):null;return{input:e,normalizedInput:n,hostname:r,subdomain:i||null,canonicalCode:a}},gx=t=>{var i;const e=Ap(t),n=(i=e.canonicalCode)!=null?i:e.subdomain?wM(e.subdomain):null,r=e.hostname&&e.hostname.includes(".")?e.hostname:null;return n&&r?{code:n,host:r}:n?{code:n}:r?{host:r}:{}},fx=(t,e)=>{var r,i;const n=gx(e);if(n.code){const a=(i=(r=t.get(n.code))!=null?r:t.get(n.code.toLowerCase()))!=null?i:t.get(n.code.toUpperCase());if(a)return a}if(n.host){const a=t.get(n.host);if(a)return a}return null},T8e=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n};async function vx(t){var i,a;const e=new Map,n=new Set,r=[];for(const o of t){const l=gx(o);l.code&&n.add(l.code),l.host&&r.push({host:l.host,code:(i=l.code)!=null?i:null})}if(r.length===0&&n.size===0)return e;try{const o=Ml(Lt,"servers");for(const g of n){const y=vs(Lt,"servers",g),x=await On(null,y,()=>Nn(y),{label:"ImportCsv:serversHostMap"});if(x.exists()){const C=x.data(),E=(a=gx(C==null?void 0:C.host).host)!=null?a:null;E&&e.set(E,x.id),e.set(g.toLowerCase(),x.id),e.set(g.toUpperCase(),x.id)}}const l=new Set,d=g=>g?e.has(g)||e.has(g.toLowerCase())||e.has(g.toUpperCase()):!1;for(const g of r)g.host&&(d(g.code)||l.add(g.host));const u=T8e(Array.from(l),10);for(const g of u){const y=Yn(o,Xi("host","in",g));(await Hn(null,{path:o.path},()=>Qn(y),{label:"ImportCsv:serversHostMap"})).forEach(C=>{var B;const E=C.data(),T=(B=gx(E==null?void 0:E.host).host)!=null?B:null;T&&e.set(T,C.id),e.set(C.id.toLowerCase(),C.id),e.set(C.id.toUpperCase(),C.id)})}const h=Array.from(l).filter(g=>!e.has(g));h.length&&console.warn("[ImportCsv] Server hosts not mapped",{hosts:h});const m=Array.from(n).filter(g=>!e.has(g.toLowerCase()));m.length&&console.warn("[ImportCsv] Server codes not mapped",{codes:m})}catch(o){console.warn("[ImportCsv] Failed to load server host map",{error:o})}return e}async function xx(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const a=Kq(Lt),o=t.slice(i,i+e);for(const l of o)l.apply(a);r==null||r({phase:"write",current:Math.min(i+o.length,t.length),total:t.length,pass:n}),await cX(()=>a.commit(),{label:`ImportCsv:${n}`,path:`batch:${n}`}),o.forEach(l=>{var d,u;gh({path:l.path,op:(d=l.op)!=null?d:"setDoc",docCount:1,label:(u=l.label)!=null?u:`ImportCsv:${n}`})}),await new Promise(l=>setTimeout(l,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}async function uF(t,e,n){var h,m,g;const r=[];if(!t.length)return r;let i=0,a=0,o=0,l=0;const d=y=>{e==null||e({phase:y,current:y==="done"?t.length:i,total:t.length,pass:"scans",created:a,duplicate:o,error:l,kind:n})};d("prepare");const u=Lt.bulkWriter;if(typeof u=="function"){const y=u.call(Lt,{throttling:!0}),x=()=>{i++,d("write")};for(const{ref:C,data:E,key:T}of t)y.create(C,E).then(()=>{a++,gh({path:C.path,op:"setDoc",docCount:1,label:"ImportCsv:scansBulk"}),r.push({key:T,status:"created"}),x()}).catch(B=>{var v,w;const S=String((v=B==null?void 0:B.code)!=null?v:"").toLowerCase();S.includes("already")&&S.includes("exist")?(o++,r.push({key:T,status:"duplicate"})):(l++,r.push({key:T,status:"error",message:String((w=B==null?void 0:B.message)!=null?w:B)})),x()});try{await y.close()}catch(C){console.warn("[ImportCsv] bulkWriter close with errors",{error:C})}return d("done"),r}for(const{ref:y,data:x,key:C}of t){try{await aC(y,()=>Ql(y,x),{label:"ImportCsv:scansFallback"}),a++,r.push({key:C,status:"created"})}catch(E){const T=String((h=E==null?void 0:E.code)!=null?h:"").toLowerCase();T.includes("permission")||T.includes("already")?(o++,r.push({key:C,status:"duplicate",message:String((m=E==null?void 0:E.message)!=null?m:E)})):(l++,r.push({key:C,status:"error",message:String((g=E==null?void 0:E.message)!=null?g:E)}))}i++,d("write")}return d("done"),r}async function F8e(t,e){if(!t.length)return;const n=t.length,r=Lt.bulkWriter;if(typeof r=="function"){const a=r.call(Lt,{throttling:!0});e==null||e({phase:"prepare",current:0,total:n,pass:"latest"});for(const{ref:o,data:l}of t)a.set(o,l,{merge:!0});e==null||e({phase:"write",current:n,total:n,pass:"latest"}),await a.close(),t.forEach(({ref:o})=>gh({path:o.path,op:"setDoc",docCount:1,label:"ImportCsv:latestBulk"})),e==null||e({phase:"done",current:1,total:1,pass:"latest"});return}const i=t.map(({ref:a,data:o})=>({path:a.path,op:"setDoc",label:"ImportCsv:latest",apply:l=>l.set(a,o,{merge:!0})}));await xx(i,xM,"latest",e)}async function L8e(t,e){var a,o,l,d;if(!e.length)return{skipped:[],skippedMissingTs:0,applied:0,wrote:!1};const n=String(t||"all").trim()||"all",r=vs(Lt,`${N8e}/${yM(n)}`),i=await NR(()=>fR(Lt,async u=>{var N,_,j,k,U,I,P;const h=await On(null,r,()=>u.get(r),{label:"ImportCsv:derivedSnapshot"}),m=h.exists()?(N=h.data())==null?void 0:N.players:null,g=new Map;if(Array.isArray(m))for(const L of m){if(!L||typeof L!="object")continue;const H=String((_=L.playerId)!=null?_:"");H&&g.set(H,L)}const y=()=>{var O;let L=null,H=Number.POSITIVE_INFINITY;for(const[z,G]of g.entries()){const $=(O=$s(G.sum))!=null?O:0;$<H&&(H=$,L=z)}return{minId:L,minSum:H}},x=[];let C=0;const E=new Set;for(const L of e){const H=String((j=L.playerId)!=null?j:"");if(!H)continue;const O=by(L),z=O.sec;if(z==null){C+=1;continue}const G=g.get(H),$=G?by(G):{sec:null,field:null};if(G&&z!=null&&$.sec!=null&&z<$.sec){x.push({playerId:H,server:n,incoming:z,stored:$.sec});continue}const Y=oM(L,z,(k=$.field)!=null?k:O.field);if(G){g.set(H,Y),E.add(H);continue}if(g.size<c_){g.set(H,Y),E.add(H);continue}const J=(U=$s(Y.sum))!=null?U:0,{minId:V,minSum:X}=y();V&&J>X&&(g.delete(V),g.set(H,Y),E.add(H))}if(E.size===0)return{skipped:x,skippedMissingTs:C,applied:0,wrote:!1};const T=Array.from(g.values());T.sort((L,H)=>{var z,G,$,Y;const O=((z=$s(H.sum))!=null?z:0)-((G=$s(L.sum))!=null?G:0);return O!==0?O:String(($=L.playerId)!=null?$:"").localeCompare(String((Y=H.playerId)!=null?Y:""))}),T.length>c_&&(T.length=c_);const B=h.exists()?(I=h.data())==null?void 0:I.meta:null,S=Number((P=B==null?void 0:B.pendingSincePublish)!=null?P:0),v=(Number.isFinite(S)?S:0)+E.size,w={...B&&typeof B=="object"?B:{},pendingSincePublish:v};return u.set(r,{server:n,updatedAt:ua(),players:T,meta:w},{merge:!0}),{skipped:x,skippedMissingTs:C,applied:E.size,wrote:!0}}),{label:"ImportCsv:derivedSnapshot",path:r.path});if((a=i==null?void 0:i.skipped)!=null&&a.length)for(const u of i.skipped)console.info("[ImportCsv] skip derived update: older scan",{...u,path:r.path,function:"upsertPlayerDerivedServerSnapshot"});return{skipped:(o=i==null?void 0:i.skipped)!=null?o:[],skippedMissingTs:(l=i==null?void 0:i.skippedMissingTs)!=null?l:0,applied:(d=i==null?void 0:i.applied)!=null?d:0,wrote:!!(i!=null&&i.wrote)}}async function bM(t,e){var a,o,l,d;if(!e.length)return{skipped:[],skippedMissingTs:0,applied:0,wrote:!1};const n=String(t||"all").trim()||"all",r=vs(Lt,`${k8e}/${yS(n)}`),i=await NR(()=>fR(Lt,async u=>{var _,j,k,U,I,P;const h=await On(null,r,()=>u.get(r),{label:"ImportCsv:guildDerivedSnapshot"}),m=h.exists()?(_=h.data())==null?void 0:_.guilds:null,g=new Map;if(Array.isArray(m))for(const L of m){if(!L||typeof L!="object")continue;const H=String((j=L.guildId)!=null?j:"");H&&g.set(H,L)}const y=L=>{var H,O,z;return(z=$s((O=(H=L.sumAvg)!=null?H:L.avgSumBaseTotal)!=null?O:L.sum))!=null?z:0},x=()=>{let L=null,H=Number.POSITIVE_INFINITY;for(const[O,z]of g.entries()){const G=y(z);G<H&&(H=G,L=O)}return{minId:L,minSum:H}},C=[];let E=0;const T=new Set;for(const L of e){const H=String((k=L.guildId)!=null?k:"");if(!H)continue;const O=by(L),z=O.sec;if(z==null){E+=1;continue}const G=g.get(H),$=G?by(G):{sec:null,field:null};if(G&&z!=null&&$.sec!=null&&z<$.sec){C.push({guildId:H,server:n,incoming:z,stored:$.sec});continue}const Y=oM(L,z,(U=$.field)!=null?U:O.field);if(G){g.set(H,Y),T.add(H);continue}if(g.size<d_){g.set(H,Y),T.add(H);continue}const J=y(Y),{minId:V,minSum:X}=x();V&&J>X&&(g.delete(V),g.set(H,Y),T.add(H))}if(T.size===0)return{skipped:C,skippedMissingTs:E,applied:0,wrote:!1};const B=Array.from(g.values()).map(L=>{var H;return L.sumAvg==null?{...L,sumAvg:$s((H=L.avgSumBaseTotal)!=null?H:L.sum)}:L});B.sort((L,H)=>{var z,G;const O=y(H)-y(L);return O!==0?O:String((z=L.guildId)!=null?z:"").localeCompare(String((G=H.guildId)!=null?G:""))}),B.length>d_&&(B.length=d_);const S=h.exists()?(I=h.data())==null?void 0:I.meta:null,v=Number((P=S==null?void 0:S.pendingSincePublish)!=null?P:0),w=(Number.isFinite(v)?v:0)+T.size,N={...S&&typeof S=="object"?S:{},pendingSincePublish:w};return u.set(r,{server:n,updatedAt:ua(),guilds:B,meta:N},{merge:!0}),{skipped:C,skippedMissingTs:E,applied:T.size,wrote:!0}}),{label:"ImportCsv:guildDerivedSnapshot",path:r.path});if((a=i==null?void 0:i.skipped)!=null&&a.length)for(const u of i.skipped)console.info("[ImportCsv] skip derived update: older scan",{...u,path:r.path,function:"upsertGuildDerivedServerSnapshot"});return{skipped:(o=i==null?void 0:i.skipped)!=null?o:[],skippedMissingTs:(l=i==null?void 0:i.skippedMissingTs)!=null?l:0,applied:(d=i==null?void 0:i.applied)!=null?d:0,wrote:!!(i!=null&&i.wrote)}}async function R8e(t,e){var o,l,d,u,h,m,g,y,x,C,E;if(!t.size)return;const n=new Map;for(const[T,B]of t.entries()){const S=Ap(B.server),v=(o=S.canonicalCode)!=null?o:null,w=fx(e,v!=null?v:B.server);if(!w){B.server&&console.warn("[ImportCsv] Guild derived snapshot skipped (server host not mapped)",{guildId:T,server:B.server,input:S.input,normalizedInput:S.normalizedInput,serverCode:v,hostname:S.hostname,subdomain:S.subdomain,canonicalCode:S.canonicalCode});continue}const N={guildId:String(T),guildIdentifier:String(T),server:w,name:String((l=B.name)!=null?l:T),memberCount:(d=$s(B.memberCount))!=null?d:0,hofRank:$s(B.hofRank),honor:(u=$s(B.honor))!=null?u:0,hydra:(h=$s(B.hydra))!=null?h:0,instructor:(m=$s(B.instructor))!=null?m:0,knights:(g=$s(B.knights))!=null?g:0,knights15Plus:(y=$s(B.knights15Plus))!=null?y:0,portalFloor:(x=$s(B.portalFloor))!=null?x:0,raids:(C=$s(B.raids))!=null?C:0,treasury:(E=$s(B.treasury))!=null?E:0,lastScan:B.lastScan?String(B.lastScan):null,latestScanAtSec:$s(B.timestampSec),sum:null,sumAvg:$s(B.avgSumBaseTotal),count:$s(B.count),avgLevel:$s(B.avgLevel),avgTreasury:$s(B.avgTreasury),avgMine:$s(B.avgMine),avgBaseMain:$s(B.avgBaseMain),avgConBase:$s(B.avgConBase),avgSumBaseTotal:$s(B.avgSumBaseTotal),avgAttrTotal:$s(B.avgAttrTotal),avgConTotal:$s(B.avgConTotal),avgTotalStats:$s(B.avgTotalStats)};n.has(w)||n.set(w,[]),n.get(w).push(N)}const r=Array.from(n.keys()),i=Array.from(n.values()).reduce((T,B)=>T+B.length,0);r.length&&console.log("[ImportCsv] Guild derived snapshot flush pending",{count:r.length,servers:r,entries:i});const a=[];for(const[T,B]of n.entries())try{await bM(T,B),a.push(yS(T))}catch(S){console.warn("[ImportCsv] Guild derived snapshot upsert failed",{serverKey:T,error:S})}r.length&&console.log("[ImportCsv] Guild derived snapshot flush done",{count:a.length,docs:a})}function AF(t,e){const n={};for(const r of e){const i=ws(r);if(p8e(i)){let a=null,o;for(const l of t){const d=l.row[r];if(d==null||d==="")continue;const u=Number(String(d).replace(/[^0-9.-]/g,""));Number.isNaN(u)||(a==null||u>a)&&(a=u,o=d)}n[r]=o!=null?o:""}else{let a="";for(let o=t.length-1;o>=0;o--){const l=t[o].row[r];if(l!=null&&String(l)!==""){a=l;break}}n[r]=a}}return n}async function hF(t,e){var u;const n=t.path,r=e==null?void 0:e.get(n);if(r)return r.prevSec;const i=await On(null,t,()=>Nn(t),{label:"ImportCsv:latestPrev"});if(!i.exists())return e==null||e.set(n,{prevSec:0,exists:!1}),0;const a=i.data();let o=null;if(((u=a==null?void 0:a.values)==null?void 0:u.Timestamp)!=null){const h=_y(a.values.Timestamp);h!=null&&(o=h)}if(o==null&&(a==null?void 0:a.timestampRaw)!=null){const h=_y(a.timestampRaw);h!=null&&(o=h)}o==null&&typeof(a==null?void 0:a.ts)=="number"&&(o=a.ts);const l=a==null?void 0:a.timestamp;if(o==null&&typeof l=="number"&&(o=l>9999999999?Math.floor(l/1e3):l),o==null&&typeof l=="string"){const h=Date.parse(l);Number.isFinite(h)&&(o=Math.floor(h/1e3))}const d=o!=null?o:0;return e==null||e.set(n,{prevSec:d,exists:!0}),d}async function mF(t,e){var m,g,y,x,C,E,T,B,S,v,w,N,_,j,k;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],a={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0},o=[],l=[];if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');const d=e.onProgress?(U=>{var I;return(I=e.onProgress)==null?void 0:I.call(e,{...U,kind:e.kind})}):void 0,u=new Map;if(e.kind==="players"){const U=[],I=[],P=[],L=new Map;let H=[],O=[];if(e.rows&&Array.isArray(e.rows))H=e.rows,O=UA(H);else if(e.raw&&typeof e.raw=="string"){const ce=jy(e.raw);H=ce.rows,O=ce.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:z,stats:G,headers:$}=fM(H,O);a.skippedMissingIdentifier+=G.missingIdentifier,a.skippedBadTs+=G.badTimestamp,a.skippedMissingServer+=G.missingServer;const Y=$.length?$:UA(H),J=new Map;for(const ce of z){const re=`${ce.playerId}__${ce.server}__${ce.timestampSec}`;U.push({key:re,ref:vs(Lt,`players/${ce.identifier}/scans/${ce.timestampSec}`),data:{playerId:ce.playerId,server:ce.server,timestamp:ce.timestampSec,timestampRaw:La(ce.raw,Xs.PLAYERS.TIMESTAMP),name:ce.name,values:ce.raw,createdAt:ua()}}),J.has(ce.identifier)||J.set(ce.identifier,[]),J.get(ce.identifier).push({row:ce.raw,ts:ce.timestampSec,parsed:ce})}const V=await uF(U,d,"players");o.push(...V),a.writtenScanPlayers=V.filter(ce=>ce.status==="created").length;let X=e.serverHostMap?new Map(e.serverHostMap):new Map;if(!e.serverHostMap)X=await vx(z.map(ce=>ce.server));else if(z.length>0&&z.some(re=>!fx(X,re.server))){const re=await vx(z.map(ye=>ye.server));for(const[ye,Be]of re.entries())X.has(ye)||X.set(ye,Be)}!X.size&&z.length>0&&console.warn("[ImportCsv] Server host map empty; derived snapshots will be skipped.");for(const[ce,re]of J){re.sort((Ye,Je)=>Ye.ts-Je.ts);const ye=re[re.length-1],Be=ye.parsed,Le=Be.playerId,Ee=Be.server,De=Be.name,at=(m=Be.level)!=null?m:null,Ke=(g=Be.className)!=null?g:null,He=(y=Be.guildName)!=null?y:null,Ce=Be.guildIdentifier,ue=De!=null?De:"",Te=tF(ue),Fe=sF(Te),ct=vs(Lt,`players/${ce}/latest/latest`),xt=await hF(ct,u),ie=ye.ts>xt,Ae=ie?ua():null;ie&&(I.push({ref:ct,data:{playerId:Le,server:Ee,timestamp:ye.ts,timestampRaw:La(ye.row,Xs.PLAYERS.TIMESTAMP),name:De,values:ye.row,updatedAt:Ae,nameFold:mx(ue),nameTokens:Te,nameNgrams:Fe,level:at,className:Ke,guildName:He,guildNameFold:He?mx(He):null}}),a.writtenLatestPlayers++);const me=Ap(Ee),ke=(x=me.canonicalCode)!=null?x:null,jt={playerId:Le,identifier:ce,name:De,className:Ke,level:at,server:ke!=null?ke:Ee,guildIdentifier:Ce||void 0,guildName:He||void 0,values:ye.row,timestamp:ye.ts,updatedAt:Ae!=null?Ae:void 0},nt=s8e(jt,ua),et=X.size>0?fx(X,ke!=null?ke:Ee):null;if(!et&&X.size>0&&console.warn("[ImportCsv] Derived snapshot skipped (server host not mapped)",{playerId:Le,server:Ee,input:me.input,normalizedInput:me.normalizedInput,serverCode:ke,hostname:me.hostname,subdomain:me.subdomain,canonicalCode:me.canonicalCode}),et){const Ye=La(ye.row,Xs.PLAYERS.TIMESTAMP),Je=i8e({playerId:Le,identifier:ce,server:et,name:De,className:Ke,guildName:He,level:at,lastScanRaw:Ye,timestampSec:ye.ts,derived:nt});L.has(et)||L.set(et,[]),L.get(et).push(Je)}const ut=new Map,bt=new Map;for(const Ye of re){const Je=aF(Ye.ts),Kt=lF(Ye.ts);ut.has(Je)||ut.set(Je,[]),bt.has(Kt)||bt.set(Kt,[]),ut.get(Je).push(Ye),bt.get(Kt).push(Ye)}for(const[Ye,Je]of ut){Je.sort((Ue,dt)=>Ue.ts-dt.ts);const Kt=AF(Je,Y),mt=oF(Je[Je.length-1].ts),ne=Je[Je.length-1],Re=vs(Lt,`players/${ce}/history_weekly/${Ye}`);P.push({path:Re.path,op:"setDoc",label:"ImportCsv:historyWeekly",apply:Ue=>{Ue.set(Re,{playerId:Le,weekId:Ye,periodStartSec:mt.start,periodEndSec:mt.end,lastTs:ne.ts,lastTimestampRaw:La(ne.row,Xs.PLAYERS.TIMESTAMP),server:ne.parsed.server,name:ne.parsed.name,values:Kt,updatedAt:ua()},{merge:!0})}}),a.writtenWeeklyPlayers++}for(const[Ye,Je]of bt){Je.sort((Ue,dt)=>Ue.ts-dt.ts);const Kt=AF(Je,Y),mt=cF(Je[Je.length-1].ts),ne=Je[Je.length-1],Re=vs(Lt,`players/${ce}/history_monthly/${Ye}`);P.push({path:Re.path,op:"setDoc",label:"ImportCsv:historyMonthly",apply:Ue=>{Ue.set(Re,{playerId:Le,monthId:Ye,periodStartSec:mt.start,periodEndSec:mt.end,lastTs:ne.ts,lastTimestampRaw:La(ne.row,Xs.PLAYERS.TIMESTAMP),server:ne.parsed.server,name:ne.parsed.name,values:Kt,updatedAt:ua()},{merge:!0})}}),a.writtenMonthlyPlayers++}}await F8e(I,d);const Z=Array.from(L.keys()),se=Array.from(L.values()).reduce((ce,re)=>ce+re.length,0);let le=0,we=0,Se=0;Z.length&&console.log("[ImportCsv] Derived snapshot flush pending",{count:Z.length,servers:Z,entries:se});const te=[];for(const[ce,re]of L.entries())try{const ye=await L8e(ce,re);le+=ye.applied,we+=ye.skipped.length,Se+=ye.skippedMissingTs,ye.wrote&&te.push(yM(ce))}catch(ye){console.warn("[ImportCsv] Derived snapshot upsert failed",{serverKey:ce,error:ye})}Z.length&&(le===0?console.log("[ImportCsv] Derived snapshot flush skipped (no applied writes)",{servers:Z,skippedOlder:we,missingTimestamp:Se}):console.log("[ImportCsv] Derived snapshot flush done",{count:te.length,docs:te,appliedWrites:le,skippedOlder:we,missingTimestamp:Se})),await xx(P,dF,"history",d)}if(e.kind==="guilds"){const U=[],I=[],P=[],L=!e.skipGuildDerived,H=new Map;let O=[],z=[];if(e.rows&&Array.isArray(e.rows))O=e.rows,z=UA(O);else if(e.raw&&typeof e.raw=="string"){const Z=jy(e.raw);O=Z.rows,z=Z.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:G,stats:$,headers:Y}=vM(O,z);a.skippedMissingGuildIdentifier+=$.missingIdentifier,a.skippedBadTsGuild+=$.badTimestamp,a.skippedMissingServer+=$.missingServer,Y.length||UA(O);const J=new Map;for(const Z of G){const se=`${Z.guildIdentifier}__${Z.server}__${Z.timestampSec}`;U.push({key:se,ref:vs(Lt,`guilds/${Z.guildIdentifier}/scans/${Z.timestampSec}`),data:{guildIdentifier:Z.guildIdentifier,server:Z.server,timestamp:Z.timestampSec,timestampRaw:La(Z.raw,Xs.GUILDS.TIMESTAMP),name:Z.name,values:Z.raw,createdAt:ua()}}),J.has(Z.guildIdentifier)||J.set(Z.guildIdentifier,[]),J.get(Z.guildIdentifier).push({row:Z.raw,ts:Z.timestampSec,parsed:Z})}const V=await uF(U,d,"guilds");l.push(...V),a.writtenScanGuilds=V.filter(Z=>Z.status==="created").length;const X=L?(C=e.serverHostMap)!=null?C:await vx(G.map(Z=>Z.server)):new Map;L&&!X.size&&G.length>0&&console.warn("[ImportCsv] Server host map empty; guild derived snapshots will be skipped.");for(const[Z,se]of J){se.sort((Ke,He)=>Ke.ts-He.ts);const le=se[se.length-1],we=le.parsed,Se=(E=we.name)!=null?E:"",te=tF(Se),ce=sF(te),re=(T=we.memberCount)!=null?T:null,ye=(B=we.hofRank)!=null?B:null,Be=vs(Lt,`guilds/${Z}/latest/latest`),Le=await hF(Be,u);if(le.ts>Le&&(I.push({path:Be.path,op:"setDoc",label:"ImportCsv:guildLatest",apply:Ke=>{Ke.set(Be,{guildIdentifier:Z,server:we.server,timestamp:le.ts,timestampRaw:La(le.row,Xs.GUILDS.TIMESTAMP),name:we.name,values:le.row,updatedAt:ua(),nameFold:mx(Se),nameTokens:te,nameNgrams:ce,memberCount:re,hofRank:ye},{merge:!0})}}),a.writtenLatestGuilds++),L){const Ke=X.size>0?fx(X,(S=Ap(we.server).canonicalCode)!=null?S:we.server):null;if(!Ke&&X.size>0){const He=Ap(we.server);console.warn("[ImportCsv] Guild derived snapshot skipped (server host not mapped)",{guildId:Z,server:we.server,input:He.input,normalizedInput:He.normalizedInput,serverCode:(v=He.canonicalCode)!=null?v:null,hostname:He.hostname,subdomain:He.subdomain,canonicalCode:He.canonicalCode})}if(Ke){const He=La(le.row,Xs.GUILDS.TIMESTAMP),ue=((He!=null?String(He).trim():"")||String((w=le.ts)!=null?w:"")).trim(),Te=aM((N=le.row)!=null?N:{}),Fe=I8e((_=le.row)!=null?_:null),ct=Fe.memberCount>0?Fe.memberCount:(j=$s(re))!=null?j:0,xt={guildId:String(Z),guildIdentifier:String(Z),server:Ke,name:String((k=we.name)!=null?k:Z),memberCount:ct,hofRank:$s(ye),honor:Fe.honor,hydra:Fe.hydra,instructor:Fe.instructor,knights:Fe.knights,knights15Plus:Fe.knights15Plus,portalFloor:Fe.portalFloor,raids:Fe.raids,treasury:Fe.treasury,lastScan:ue||null,latestScanAtSec:le.ts,sum:$s(Te.sum),sumAvg:$s(Te.sum)};H.has(Ke)||H.set(Ke,[]),H.get(Ke).push(xt)}}const De=new Map,at=new Map;for(const Ke of se){const He=aF(Ke.ts),Ce=lF(Ke.ts);De.has(He)||De.set(He,[]),at.has(Ce)||at.set(Ce,[]),De.get(He).push(Ke),at.get(Ce).push(Ke)}for(const[Ke,He]of De){He.sort((Fe,ct)=>Fe.ts-ct.ts);const Ce=oF(He[He.length-1].ts),ue=He[He.length-1],Te=vs(Lt,`guilds/${Z}/history_weekly/${Ke}`);P.push({path:Te.path,op:"setDoc",label:"ImportCsv:historyWeekly",apply:Fe=>{Fe.set(Te,{guildIdentifier:Z,weekId:Ke,periodStartSec:Ce.start,periodEndSec:Ce.end,lastTs:ue.ts,lastTimestampRaw:La(ue.row,Xs.GUILDS.TIMESTAMP),server:ue.parsed.server,name:ue.parsed.name,values:ue.row,updatedAt:ua()},{merge:!0})}}),a.writtenWeeklyGuilds++}for(const[Ke,He]of at){He.sort((Fe,ct)=>Fe.ts-ct.ts);const Ce=cF(He[He.length-1].ts),ue=He[He.length-1],Te=vs(Lt,`guilds/${Z}/history_monthly/${Ke}`);P.push({path:Te.path,op:"setDoc",label:"ImportCsv:historyMonthly",apply:Fe=>{Fe.set(Te,{guildIdentifier:Z,monthId:Ke,periodStartSec:Ce.start,periodEndSec:Ce.end,lastTs:ue.ts,lastTimestampRaw:La(ue.row,Xs.GUILDS.TIMESTAMP),server:ue.parsed.server,name:ue.parsed.name,values:ue.row,updatedAt:ua()},{merge:!0})}}),a.writtenMonthlyGuilds++}}try{await xx(I,xM,"latest",d)}catch(Z){if(nF(Z))console.warn("[ImportCsv] guild latest write skipped (duplicate/permission)",{error:Z});else throw Z}try{await xx(P,dF,"history",d)}catch(Z){if(nF(Z))console.warn("[ImportCsv] guild history write skipped (duplicate/permission)",{error:Z});else throw Z}if(L){const Z=Array.from(H.keys()),se=Array.from(H.values()).reduce((ce,re)=>ce+re.length,0);Z.length&&console.log("[ImportCsv] Guild derived snapshot flush pending",{count:Z.length,servers:Z,entries:se});let le=0,we=0,Se=0;const te=[];for(const[ce,re]of H.entries())try{const ye=await bM(ce,re);le+=ye.applied,we+=ye.skipped.length,Se+=ye.skippedMissingTs,ye.wrote&&te.push(yS(ce))}catch(ye){console.warn("[ImportCsv] Guild derived snapshot upsert failed",{serverKey:ce,error:ye})}Z.length&&(le===0?console.log("[ImportCsv] Guild derived snapshot flush skipped (no applied writes)",{servers:Z,skippedOlder:we,missingTimestamp:Se}):console.log("[ImportCsv] Guild derived snapshot flush done",{count:te.length,docs:te,appliedWrites:le,skippedOlder:we,missingTimestamp:Se}))}}const h=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:a,errors:r,warnings:i,durationMs:h-n,playerResults:o,guildResults:l}}const zt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),U8e=t=>String(t!=null?t:"").trim(),$j=t=>U8e(t).toUpperCase(),Vj=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Dn(t,e){for(const n of Object.keys(t))if(zt(n)===e)return t[n]}function No(t,e){for(const n of e){const r=Dn(t,n);if(r!=null&&String(r)!=="")return r}}function wl(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function au(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,o=Number(n[3]),l=Number(n[4]),d=Number(n[5]),u=n[6]?Number(n[6]):0,h=new Date(o,a,i,l,d,u);if(!Number.isNaN(h.getTime()))return Math.floor(h.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const fl=t=>{if(t==null)return 0;const e=String(t).replace(/[^0-9]/g,"");if(!e)return 0;const n=Number(e);return Number.isFinite(n)?n:0},vl=(t,e)=>{if(!(!t||typeof t!="object")){for(const n of e)if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}},xl={honor:["Guild Honor"],hydra:["Guild Hydra"],instructor:["Guild Instructor"],knights:["Guild Knights"],knights15Plus:["Guild Knights 15+"],memberCount:["Guild Member Count"],portalFloor:["Guild Portal Floor"],raids:["Guild Raids"],treasury:["Guild Treasure","Guild Treasury"]},P8e=t=>({honor:fl(vl(t,xl.honor)),hydra:fl(vl(t,xl.hydra)),instructor:fl(vl(t,xl.instructor)),knights:fl(vl(t,xl.knights)),knights15Plus:fl(vl(t,xl.knights15Plus)),memberCount:fl(vl(t,xl.memberCount)),portalFloor:fl(vl(t,xl.portalFloor)),raids:fl(vl(t,xl.raids)),treasury:fl(vl(t,xl.treasury))}),ir={GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name"),TIMESTAMP:zt("Timestamp"),LEVEL:zt("Level"),CLASS:zt("Class"),GUILD:zt("Guild"),GUILD_ROLE:[zt("Role"),zt("Guild Role")],TREASURY:[zt("Treasury"),zt("Fortress Treasury"),zt("Treasury Level"),zt("Festungsschatzkammer")],MINE:[zt("Mine"),zt("Gem Mine"),zt("Mine Level"),zt("Festungsmine")],BASE_MAIN:[zt("Base"),zt("Base Attribute"),zt("BaseMain"),zt("Basis Attribut")],CON_BASE:[zt("Con Base"),zt("Constitution Base"),zt("Base Constitution"),zt("Basis Konstitution"),zt("conbase")],ATTR_TOT:[zt("Attribute"),zt("Attr Total"),zt("Attribut"),zt("Attribut Gesamt")],CON_TOT:[zt("Constitution"),zt("Constitution Total"),zt("Konstitution"),zt("Konstitution Gesamt")],LAST_ACTIVE:[zt("Last Active"),zt("LastActivity"),zt("Letzte Aktivitt")],GUILD_JOINED:[zt("Guild Joined"),zt("Joined Guild"),zt("Gildenbeitritt")]},Wi={GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name"),TIMESTAMP:zt("Timestamp"),MEMBER_COUNT:zt("Guild Member Count"),HOF:zt("Hall of Fame Rank"),HOF_ALT:zt("Hall of Fame"),RANK:zt("Rank"),GUILD_RANK:zt("Guild Rank")};function pF(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function D8e(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function M8e(t){var n;const e=new Map;for(const r of t){const i=String((n=Dn(r,Wi.GUILD_IDENTIFIER))!=null?n:"").trim(),a=Dn(r,Wi.SERVER),o=Dn(r,Wi.NAME);if(!i||!a||!o)continue;const l=`${$j(a)}__${Vj(String(o))}`;e.set(l,i)}return e}function Q8e(t){var S,v;const e=Dn(t,ir.TIMESTAMP),n=au(e),r=No(t,ir.LAST_ACTIVE),i=au(r),a=No(t,ir.GUILD_JOINED),o=au(a),l=wl(Dn(t,ir.LEVEL)),d=(()=>{const w=Dn(t,ir.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),u=(()=>{const w=No(t,ir.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),h=wl(No(t,ir.TREASURY)),m=wl(No(t,ir.MINE)),g=wl(No(t,ir.BASE_MAIN)),y=wl(No(t,ir.CON_BASE)),x=wl(No(t,ir.ATTR_TOT)),C=wl(No(t,ir.CON_TOT)),E=g!=null&&y!=null?g+y:null,T=x!=null&&C!=null?x+C:null,B=(()=>{const w=Dn(t,ir.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((v=(S=t==null?void 0:t.ID)!=null?S:t==null?void 0:t.Identifier)!=null?v:""),name:B,class:d,role:u,level:l,treasury:h,mine:m,baseMain:g,conBase:y,sumBaseTotal:E,attrTotal:x,conTotal:C,totalStats:T,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:a!=null?String(a):null,guildJoinedMs:o!=null?o*1e3:null}}function yl(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}const H8e=t=>{const e=t==null?void 0:t.code;if(!e)return!1;const n=String(e).toLowerCase();return n==="permission-denied"||n==="already-exists"||n==="failed-precondition"};async function O8e(t){var l,d,u;const e=vs(Lt,`guilds/${t}/latest/latest`),n=await On(null,e,()=>Nn(e),{label:"ImportGuildSnapshots:latest"});if(!n.exists())return{sec:null,raw:null,values:null};const r=n.data()||{},i=(u=(d=r.timestampRaw)!=null?d:(l=r.values)==null?void 0:l.Timestamp)!=null?u:null,a=r.values&&typeof r.values=="object"?r.values:null;let o=null;return typeof r.timestamp=="number"?o=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(o=au(i)),{sec:o,raw:i,values:a}}async function $8e(t){const e=vs(Lt,`guilds/${t}/snapshots/members_summary`),n=await On(null,e,()=>Nn(e),{label:"ImportGuildSnapshots:prevSnapshot"});if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=au(r.updatedAt);if(i!=null)return i}return 0}async function V8e(t,e){var u,h,m,g,y,x,C,E,T,B,S;const n=M8e(e||[]),r=new Map,i=new Map,a=new Map;for(const v of e||[]){const w=String((u=Dn(v,Wi.GUILD_IDENTIFIER))!=null?u:"").trim();if(!w)continue;const N=au(Dn(v,Wi.TIMESTAMP));if(N==null)continue;a.set(`${w}__${N}`,v);const _=i.get(w);(!_||N>_.tsSec)&&i.set(w,{row:v,tsSec:N})}const o=new Set;for(const v of e||[]){const w=String((h=Dn(v,Wi.GUILD_IDENTIFIER))!=null?h:"").trim();w&&o.add(w)}for(const v of t||[]){const w=Dn(v,ir.SERVER);let N=String((m=Dn(v,ir.GUILD_IDENTIFIER))!=null?m:"").trim();if(!N){const _=(g=Dn(v,ir.GUILD))!=null?g:v.Guild;if(_&&w){const j=`${$j(w)}__${Vj(String(_))}`,k=n.get(j);k&&(N=k)}}N&&o.add(N)}let l=0,d=null;for(const v of o){const{sec:w,raw:N,values:_}=await O8e(v),j=P8e(_);if(w==null)continue;const k=await $8e(v),U=w>k,I=new Map;for(const Ee of t||[]){const De=Dn(Ee,ir.SERVER);let at=String((y=Dn(Ee,ir.GUILD_IDENTIFIER))!=null?y:"").trim();if(!at){const Ce=(x=Dn(Ee,ir.GUILD))!=null?x:Ee.Guild;if(Ce&&De){const ue=`${$j(De)}__${Vj(String(Ce))}`,Te=n.get(ue);Te&&(at=Te)}}if(at!==v)continue;const Ke=au(Dn(Ee,ir.TIMESTAMP));if(Ke==null||Ke!==w)continue;const He=String((E=(C=Ee==null?void 0:Ee.ID)!=null?C:Ee==null?void 0:Ee.Identifier)!=null?E:"").trim();He&&(I.has(He)||I.set(He,Ee))}const P=Array.from(I.values()),L=[];for(const Ee of P)L.push(Q8e(Ee));L.sort((Ee,De)=>{var He,Ce;const at=pF(Ee.role),Ke=pF(De.role);return at!==Ke?at-Ke:((He=Ee.name)!=null?He:"").toLowerCase().localeCompare(((Ce=De.name)!=null?Ce:"").toLowerCase())});const H=yl(L,"level"),O=yl(L,"treasury"),z=yl(L,"mine"),G=yl(L,"baseMain"),$=yl(L,"conBase"),Y=yl(L,"sumBaseTotal"),J=yl(L,"attrTotal"),V=yl(L,"conTotal"),X=yl(L,"totalStats"),Z=JSON.stringify({gid:v,tsSec:w,members:L.map(Ee=>{var De,at,Ke,He,Ce,ue,Te,Fe,ct,xt,ie,Ae,me;return{id:Ee.id,name:(De=Ee.name)!=null?De:"",class:(at=Ee.class)!=null?at:"",role:(Ke=Ee.role)!=null?Ke:"",level:(He=Ee.level)!=null?He:null,treasury:(Ce=Ee.treasury)!=null?Ce:null,mine:(ue=Ee.mine)!=null?ue:null,baseMain:(Te=Ee.baseMain)!=null?Te:null,conBase:(Fe=Ee.conBase)!=null?Fe:null,sumBaseTotal:(ct=Ee.sumBaseTotal)!=null?ct:null,attrTotal:(xt=Ee.attrTotal)!=null?xt:null,conTotal:(ie=Ee.conTotal)!=null?ie:null,totalStats:(Ae=Ee.totalStats)!=null?Ae:null,guildJoinedMs:(me=Ee.guildJoinedMs)!=null?me:null}})}),se=D8e(Z);if(U){const Ee=vs(Lt,`guilds/${v}/snapshots/members_summary`);try{await aC(Ee,()=>Ql(Ee,{guildId:v,count:L.length,updatedAt:N!=null?N:String(w),updatedAtMs:w*1e3,hash:se,avgLevel:H,avgTreasury:O,avgMine:z,avgBaseMain:G,avgConBase:$,avgSumBaseTotal:Y,avgAttrTotal:J,avgConTotal:V,avgTotalStats:X,members:L,updatedAtServer:ua()},{merge:!0}),{label:"ImportGuildSnapshots:summary"}),l++}catch(De){if(H8e(De)){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows duplicate/permission",{gid:v,error:De});continue}console.error("[ImportSelectionToDb] writeGuildSnapshotsFromRows fatal",{gid:v,error:De}),d=d||De;continue}}const le=(S=(B=a.get(`${v}__${w}`))!=null?B:(T=i.get(v))==null?void 0:T.row)!=null?S:null,we=le?Dn(le,Wi.SERVER):null,Se=le?Dn(le,Wi.NAME):null,te=le?Dn(le,Wi.MEMBER_COUNT):null,ce=le?No(le,[Wi.HOF,Wi.HOF_ALT,Wi.RANK,Wi.GUILD_RANK]):null,re=le?Dn(le,Wi.TIMESTAMP):N,ye=re!=null?String(re).trim():N!=null?N:String(w),Be=wl(te),Le=j.memberCount>0?j.memberCount:Be!=null?Be:0;r.set(v,{guildId:v,server:we!=null&&String(we).trim()!==""?String(we).trim():null,name:Se!=null&&String(Se).trim()!==""?String(Se).trim():null,memberCount:Le,hofRank:wl(ce),honor:j.honor,hydra:j.hydra,instructor:j.instructor,knights:j.knights,knights15Plus:j.knights15Plus,portalFloor:j.portalFloor,raids:j.raids,treasury:j.treasury,lastScan:ye||null,timestampSec:w,count:L.length,avgLevel:H,avgTreasury:O,avgMine:z,avgBaseMain:G,avgConBase:$,avgSumBaseTotal:Y,avgAttrTotal:J,avgConTotal:V,avgTotalStats:X})}if(d)throw d;return{guildsProcessed:o.size,snapshotsWritten:l,aggregatesByGuildId:r}}function G8e(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function K8e(t,e,n,r){var d,u,h;const i=vs(Lt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),a=await Nn(i);if(!a.exists())return await Ql(i,n,{merge:!1}),{first:n,firstTsMs:(d=n.updatedAtMs)!=null?d:n.timestamp?n.timestamp*1e3:r};const o=a.data(),l=(u=o.updatedAtMs)!=null?u:o.timestamp?o.timestamp*1e3:r;return r<l?(await Ql(i,n,{merge:!1}),{first:n,firstTsMs:(h=n.updatedAtMs)!=null?h:n.timestamp?n.timestamp*1e3:r}):{first:o,firstTsMs:l}}async function z8e(t,e,n){const r=vs(Lt,`guilds/${t}/history_monthly/${e}`);await Ql(r,n,{merge:!0})}function W8e(t){var B,S,v,w,N,_,j,k,U,I,P,L,H;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:a,latest:o,latestTsMs:l}=t,d=a!=null?Math.floor((l-a)/864e5):null,u=d!=null&&d<=40,h={available:u};u||(h.reason=d==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const m={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:a?new Date(a).toISOString():null,toISO:new Date(l).toISOString(),fromTs:a?Math.floor(a/1e3):null,toTs:Math.floor(l/1e3),daysSpan:d,guildId:e,server:r!=null?r:null},status:h};if(!u||!i)return m;const g=new Map;for(const O of i.members||[])O.playerId&&g.set(O.playerId,O);const y=[],x=[],C=[],E=[],T=[];for(const O of o.members||[]){if(!O.playerId)continue;const z=g.get(O.playerId)||null,G=(B=O.sumBaseTotal)!=null?B:null,$=(S=z==null?void 0:z.sumBaseTotal)!=null?S:null,Y=G!=null&&$!=null?G-$:0,J=(v=O.totalStats)!=null?v:null,V=(w=z==null?void 0:z.totalStats)!=null?w:null,X=J!=null&&V!=null?J-V:0;y.push({playerId:O.playerId,name:(N=O.name)!=null?N:null,class:(_=O.class)!=null?_:null,levelLatest:(j=O.level)!=null?j:null,baseLatest:G,baseDelta:Y}),x.push({playerId:O.playerId,name:(k=O.name)!=null?k:null,base:G,stamDelta:null,shoDelta:null}),C.push({playerId:O.playerId,name:(U=O.name)!=null?U:null,stats:G,delta:Y}),E.push({playerId:O.playerId,name:(I=O.name)!=null?I:null,total:J,delta:X}),T.push({playerId:O.playerId,name:(P=O.name)!=null?P:null,class:(L=O.class)!=null?L:null,stats:(H=O.baseMain)!=null?H:null,delta:(z==null?void 0:z.baseMain)!=null&&O.baseMain!=null?O.baseMain-z.baseMain:0})}return y.sort((O,z)=>{var G,$;return((G=z.baseDelta)!=null?G:-1/0)-(($=O.baseDelta)!=null?$:-1/0)}),C.sort((O,z)=>{var G,$;return((G=z.stats)!=null?G:-1/0)-(($=O.stats)!=null?$:-1/0)}),E.sort((O,z)=>{var G,$;return((G=z.total)!=null?G:-1/0)-(($=O.total)!=null?$:-1/0)}),x.sort((O,z)=>{var G,$;return((G=z.base)!=null?G:-1/0)-(($=O.base)!=null?$:-1/0)}),T.sort((O,z)=>{var G,$;return((G=z.stats)!=null?G:-1/0)-(($=O.stats)!=null?$:-1/0)}),{...m,mostBaseGained:y.slice(0,50),sumBaseStats:x.slice(0,50),highestBaseStats:C.slice(0,50),highestTotalStats:E.slice(0,50),mainAndCon:T.slice(0,50)}}const kl=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Oc=(t,e)=>{for(const n of Object.keys(t))if(kl(n)===e)return t[n]},q8e=t=>String(t!=null?t:"").trim().toLowerCase(),gF=(t,e)=>{for(const n of t){const r=Oc(n,kl("Server")),i=q8e(r);i&&e.add(i)}},Cy=t=>String(t!=null?t:"").trim(),X8e=t=>{if(t==null)return null;const e=String(t).trim();if(!e)return null;const n=Number(e);return Number.isFinite(n)?n:null},Y8e=(t,e)=>{var a,o;const n=new Map,r=new Map;for(const l of t){const d=Cy(Oc(l,kl("Guild Identifier")));d&&n.set(d,((a=n.get(d))!=null?a:0)+1)}for(const l of e){const d=Cy(Oc(l,kl("Guild Identifier")));if(!d)continue;const u=X8e(Oc(l,kl("Guild Member Count")));u==null||u<=0||r.set(d,u)}const i=new Set;for(const[l,d]of r.entries())((o=n.get(l))!=null?o:0)===d&&i.add(l);return{uploadableGuildIds:i,playerCountByGuildId:n,guildMemberCountByGuildId:r}};async function _M(t,e){var E,T;t0("ImportSelection");const n=new Set;gF(t.playersRows,n),gF(t.guildsRows,n);const r=n.size>0?await vx(Array.from(n)):new Map,{uploadableGuildIds:i}=Y8e(t.playersRows,t.guildsRows),a=t.guildsRows.filter(B=>{const S=Cy(Oc(B,kl("Guild Identifier")));return S?i.has(S):!1}),o=t.playersRows.filter(B=>{const S=Cy(Oc(B,kl("Guild Identifier")));return S?i.has(S):!1}),{playersRows:l}=t,d=a,u=[];let h=[],m=[],g=!0;const y=e!=null&&e.onProgress?(B,S)=>{var v;return(v=e.onProgress)==null?void 0:v.call(e,{...B,kind:S})}:void 0;if(d.length>0)try{const B=await mF(null,{kind:"guilds",rows:d,onProgress:y?S=>y(S,"guilds"):void 0,serverHostMap:r,skipGuildDerived:!0});u.push(B),Array.isArray(B.guildResults)&&(m=B.guildResults)}catch(B){console.error("[ImportSelectionToDb] guild import error",B),g=!1}try{const B=await mF(null,{kind:"players",rows:l,onProgress:y?S=>y(S,"players"):void 0,serverHostMap:r});u.push(B),Array.isArray(B.playerResults)&&(h=B.playerResults)}catch(B){console.error("[ImportSelectionToDb] player import error",B),g=!1}let x=null;if(d.length>0&&o.length>0)try{x=(await V8e(o,d)).aggregatesByGuildId}catch(B){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows skipped",B),g=!1}if(x&&x.size>0)try{await R8e(x,r)}catch(B){console.warn("[ImportSelectionToDb] guild derived snapshot flush skipped",B),g=!1}const C=new Set;for(const B of d){const S=Oc(B,kl("Guild Identifier"));S&&C.add(String(S))}for(const B of o){const S=Oc(B,kl("Guild Identifier"));S&&C.add(String(S))}for(const B of C){const S=Jn("ImportCsv:guildLatest"),v=vs(Lt,`guilds/${B}/snapshots/members_summary`);let w;try{w=await On(S,v,()=>Nn(v))}finally{Cn(S)}if(!w.exists())continue;const N=w.data(),_=Number((E=N.updatedAtMs)!=null?E:N.timestamp?N.timestamp*1e3:Date.now()),j=G8e(_);let k=null,U=null;try{const P=await K8e(B,j,N,_);k=P.first,U=P.firstTsMs}catch(P){console.warn("[ImportSelectionToDb] ensureFirstOfMonth skipped",{guildId:B,monthKey:j,error:P})}const I=W8e({guildId:B,monthKey:j,server:(T=N.server)!=null?T:null,first:k,firstTsMs:U,latest:N,latestTsMs:_});try{await z8e(B,j,I)}catch(P){console.warn("[ImportSelectionToDb] writeMonthlyDoc skipped",{guildId:B,monthKey:j,error:P})}}return s0("ImportSelection"),n0("ImportSelection"),{ok:g,players:h,guilds:m,reports:u}}const u_=t=>String(t!=null?t:"").trim(),ji=t=>String(t!=null?t:"").trim().replace(/:+$/,"").toLowerCase().replace(/[\s_\u00a0]+/g,""),J8e=t=>String(t!=null?t:"").trim().replace(/\s+/g," ").replace(/:+$/,"").toLowerCase();function Z8e(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function Gj(t){var d;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=Z8e((d=n[0])!=null?d:""),i=u=>{const h=[];let m="",g=!1;for(let y=0;y<u.length;y++){const x=u[y];x==='"'?g&&u[y+1]==='"'?(m+='"',y++):g=!g:x===r&&!g?(h.push(m),m=""):m+=x}return h.push(m),h},o=(n[0]?i(n[0]).map(u_):[]).map((u,h)=>u||`col${h}`),l=[];for(let u=1;u<n.length;u++){if(!n[u])continue;const h=i(n[u]);if(h.every(g=>u_(g)===""))continue;const m={};for(let g=0;g<o.length;g++)m[o[g]]=h[g]!=null?u_(h[g]):"";l.push(m)}return{headers:o,rows:l,delimiter:r}}const or={PLAYERS:{IDENTIFIER:ji("Identifier"),PID:ji("ID"),GUILD_IDENTIFIER:ji("Guild Identifier"),TIMESTAMP:ji("Timestamp"),NAME:ji("Name"),SERVER:ji("Server"),OWN:ji("Own")},GUILDS:{GUILD_IDENTIFIER:ji("Guild Identifier"),GUILD_MEMBER_COUNT:ji("Guild Member Count"),NAME:ji("Name"),TIMESTAMP:ji("Timestamp"),SERVER:ji("Server")}},jM=(t,e)=>{const n=new Set(t.map(ji));return e.every(r=>n.has(r))},oo=(t,e)=>{for(const n of Object.keys(t))if(ji(n)===e)return t[n]},eQe=t=>{const e=new Map;return t.forEach(n=>{var a;const r=J8e(n);if(!r)return;const i=(a=e.get(r))!=null?a:[];i.push(n),e.set(r,i)}),e},tQe=t=>{const e=eQe(t),n=["guild member count","guild membercount","member count","guild members"];for(const r of n){const i=e.get(r);if(i&&i.length===1)return i[0]}return null},sQe=t=>{if(t==null)return null;const e=String(t).trim();if(!e)return null;const n=e.replace(/[\s,\.]/g,""),r=Number(n);return Number.isFinite(r)?r:null};function nQe(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function fF(t){const e=t.map(ji),n=a=>e.includes(a);let r=0,i=0;return n(or.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(or.PLAYERS.IDENTIFIER)&&(r+=2),n(or.PLAYERS.TIMESTAMP)&&(r+=1),n(or.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(or.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(or.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(or.PLAYERS.IDENTIFIER)?"players":"guilds"}function Kj(t,e){const n=nQe(t);if(n!=="unknown"){const i=fF(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=fF(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function CM(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function rQe(t,e){var r;const n=[];if(!jM(e,[or.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const a=oo(i,or.PLAYERS.GUILD_IDENTIFIER);if(!a)continue;const o=oo(i,or.PLAYERS.IDENTIFIER),l=o!=null?String(o).trim():"",d=mM(l),u=oo(i,or.PLAYERS.SERVER),h=u&&String(u).trim()!==""?String(u).trim().toUpperCase():void 0,m=d!=null?d:l?void 0:h;n.push({guildIdentifier:String(a),id:oo(i,or.PLAYERS.IDENTIFIER)||void 0,name:oo(i,or.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(oo(i,or.PLAYERS.OWN)).toLowerCase()),server:m,tsSec:(r=CM(oo(i,or.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function iQe(t,e){const n=[];if(!jM(e,[or.GUILDS.GUILD_IDENTIFIER]))return n;const r=tQe(e);for(const i of t){const a=oo(i,or.GUILDS.GUILD_IDENTIFIER),o=r?i[r]:oo(i,or.GUILDS.GUILD_MEMBER_COUNT),l=sQe(o);if(!a||l==null)continue;const d=CM(oo(i,or.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(a),name:oo(i,or.GUILDS.NAME)||void 0,memberCount:l,tsSec:d!=null?d:void 0})}return n}function SM(t){var u,h,m,g,y,x,C,E,T,B,S,v,w,N;let e=[],n=[];for(const _ of t){const j=Gj(_.text),{kind:k}=Kj(_.name,j.headers);k==="players"?e=e.concat(S8e(_.text)):k==="guilds"&&(n=n.concat(B8e(_.text)))}const r=[],i=new Map,a=new Map;for(const _ of e){const j={playerId:_.playerId,name:(u=_.name)!=null?u:"",server:_.server,guildId:(h=_.guildIdentifier)!=null?h:void 0,level:(m=_.level)!=null?m:void 0,className:(g=_.className)!=null?g:void 0,scanTimestampSec:_.timestampSec,values:_.raw};r.push(j);const k=String((y=_.guildIdentifier)!=null?y:"").trim();k&&(i.has(k)||i.set(k,[]),i.get(k).push(j),a.set(k,((x=a.get(k))!=null?x:0)+1))}const o=[],l=new Map;for(const _ of n){const j=String((C=_.guildIdentifier)!=null?C:"").trim();if(!j)continue;const k=Number((E=_.memberCount)!=null?E:NaN);!Number.isFinite(k)||k<=0||l.set(j,k)}const d=new Set;for(const[_,j]of l.entries())((T=a.get(_))!=null?T:0)===j&&d.add(_);for(const _ of n){const j=String((B=_.guildIdentifier)!=null?B:"").trim();if(!d.has(j))continue;const k=(S=i.get(j))!=null?S:[];o.push({guildId:j,name:(v=_.name)!=null?v:j,server:_.server,memberCount:(w=_.memberCount)!=null?w:k.length,scanTimestampSec:_.timestampSec,values:_.raw,members:k.map(U=>({playerId:U.playerId,name:U.name,level:U.level,className:U.className}))}),i.delete(j)}return{filename:(N=t[0])==null?void 0:N.name,players:r,guilds:o}}function aQe(t,e){var E,T,B,S,v,w;const n=[],r=new Map;for(const N of t){const _=N.id||"",j=(E=N.server)==null?void 0:E.toUpperCase();if(_){const k=`${j!=null?j:"NO"}::${_}`;r.has(k)||r.set(k,{server:j,id:_,name:N.name||"",own:!!N.own})}}const i=r.size,a=t.length,o=Array.from(r.values()).filter(N=>N.own).length,l=new Map;for(const N of r.values())N.server&&l.set(N.server,((T=l.get(N.server))!=null?T:0)+1);const d=Array.from(l.entries()).map(([N,_])=>({server:N,players:_})).sort((N,_)=>_.players-N.players),u=d.length,h=new Map;for(const N of t)h.set(N.guildIdentifier,((B=h.get(N.guildIdentifier))!=null?B:0)+1);const m=new Set,g=new Map;for(const N of e)m.add(N.guildIdentifier),g.set(N.guildIdentifier,{name:N.name||"",declared:N.memberCount});for(const N of h.keys())m.add(N);let y=0;const x=[];for(const N of m){const _=(S=g.get(N))==null?void 0:S.declared,j=(v=h.get(N))!=null?v:0,k=_!=null&&j===_;k&&y++,x.push({id:N,name:((w=g.get(N))==null?void 0:w.name)||"",declaredCount:_!=null?_:0,playersCount:j,full:k})}[...g.values()].some(N=>Number.isFinite(N.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),x.sort((N,_)=>N.name?N.name.localeCompare(_.name):N.id.localeCompare(_.id));const C=Array.from(r.values()).sort((N,_)=>(N.server||"")===(_.server||"")?N.name.localeCompare(_.name):(N.server||"").localeCompare(_.server||""));return{totalPlayers:a,uniquePlayerIds:i,ownPlayers:o,servers:u,perServer:d,guildsRepresented:m.size,fullyScannedGuilds:y,notes:n,playersList:C,guildsList:x}}function BM({mode:t="db",onBuildUploadSession:e}){const[n,r]=R.useState([]),[i,a]=R.useState(null),[o,l]=R.useState(!1),[d,u]=R.useState(null),[h,m]=R.useState(!1),[g,y]=R.useState(null),[x,C]=R.useState([]),[E,T]=R.useState(null);R.useEffect(()=>{const I=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=I}},[]);const B=R.useCallback(async I=>{var P;l(!0),u(null),a(null),C([]),y(null);try{const L=Array.from(I).slice(0,2),H=[];let O=[],z=[];for(const G of L){const $=G,Y=await $.text(),J=Gj(Y),{kind:V,warn:X}=Kj($.name,J.headers);H.push({name:$.name,size:$.size||Y.length,rows:J.rows.length,delimiter:J.delimiter,text:Y,kind:V,warn:X}),V==="players"?O=O.concat(rQe(J.rows,J.headers)):V==="guilds"&&(z=z.concat(iQe(J.rows,J.headers)))}r(H),a(aQe(O,z))}catch(L){u(String((P=L==null?void 0:L.message)!=null?P:L))}finally{l(!1)}},[]),S=R.useCallback(async I=>{!I||I.length===0||await B(I)},[B]),v=R.useCallback(async I=>{I.preventDefault();const P=I.dataTransfer.files;!P||!P.length||await B(P)},[B]),w=R.useCallback(()=>{const I=n.map(P=>({name:P.name,text:P.text}));return SM(I)},[n]);async function N(){var I;if(n.length){m(!0),T({phase:"prepare",current:0,total:0}),y(null),C([]);try{let P=[],L=[];for(const O of n){const z=Gj(O.text),{kind:G}=Kj(O.name,z.headers);G==="players"&&(P=P.concat(z.rows)),G==="guilds"&&(L=L.concat(z.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!P.length,hasGuildsCsv:!!L.length,playersRows:P.length,guildsRows:L.length}),!L.length)throw new Error('Guilds-CSV mit "Guild Identifier" + "Guild Member Count" + "Timestamp" nicht gefunden.');if(!P.length)throw new Error('Players-CSV mit "Guild Identifier" nicht gefunden.');const H=await _M({playersRows:P,guildsRows:L},{onProgress:O=>T(O)});T({phase:"done",current:1,total:1}),C(H.reports),y("Import abgeschlossen.")}catch(P){console.error("[UploadCenter] Import error:",P),y(`Fehler beim Import: ${(I=P==null?void 0:P.message)!=null?I:P}`)}finally{m(!1),setTimeout(()=>T(null),1200)}}}const _=R.useCallback(async()=>{var I;if(!(t!=="session"||!e||!n.length)){m(!0),y(null),C([]),u(null),T(null);try{const P=w();e(P),y("Session prepared locally.")}catch(P){console.error("[UploadCenter] Session build error:",P),y(`Fehler beim Import: ${(I=P==null?void 0:P.message)!=null?I:P}`)}finally{m(!1)}}},[t,e,n,w]),j=R.useMemo(()=>n.map(I=>`${I.name} (${I.rows} rows, ${I.delimiter}, ${I.kind}${I.warn?" ":""})`),[n]),k=R.useMemo(()=>n.reduce((I,P)=>I+P.rows,0),[n]),U=E?Math.floor(100*E.current/Math.max(1,E.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[j.map((I,P)=>s.jsx("span",{className:"uc-chip",title:n[P].warn||"",children:I},P)),n.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",k," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[E&&t==="db"&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${U}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[U,"%"]})]}),s.jsx("button",{onClick:t==="session"?_:N,disabled:!n.length||!i||h||t==="session"&&!e,className:"uc-btn",children:h?"Loading":t==="session"?"Add as Upload Session":"Load to DB"}),g&&s.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:I=>S(I.target.files),disabled:o})]}),s.jsx("div",{onDragOver:I=>I.preventDefault(),onDrop:v,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),d&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",d]}),i&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(_m,{label:"Eigene Charaktere (unique IDs)",value:i.ownPlayers}),s.jsx(_m,{label:"Spieler in Datei (eindeutige IDs)",value:i.uniquePlayerIds,hint:`Total (mit ID): ${i.totalPlayers}`}),s.jsx(_m,{label:"Vertretene Gilden (mit ID)",value:i.guildsRepresented}),s.jsx(_m,{label:"Vollstndig gescannte Gilden",value:i.fullyScannedGuilds}),s.jsx(_m,{label:"Verschiedene Server",value:i.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:i.perServer.map(I=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:I.server}),s.jsx("td",{style:{textAlign:"right"},children:I.players})]},I.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",i.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:i.playersList.map((I,P)=>{var L,H;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(L=I.server)!=null?L:""}),s.jsx("td",{children:I.id}),s.jsx("td",{children:I.name||""}),s.jsx("td",{children:I.own?"":""})]},`${(H=I.server)!=null?H:"NO"}-${I.id}-${P}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",i.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:i.guildsList.map((I,P)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:I.id}),s.jsx("td",{children:I.name||""}),s.jsx("td",{style:{textAlign:"right"},children:I.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:I.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:I.full?"":""})]},`${I.id}-${P}`))})]})})]})]}),!!i.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:i.notes.map((I,P)=>s.jsx("li",{children:I},P))})]})]})]})}function _m({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function oQe(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function lQe(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=lC();return!t||!i?null:s.jsx("div",{className:Bo.backdrop,onClick:e,children:s.jsxs("div",{className:Bo.panel,onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{className:Bo.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:Bo.tabs,children:[s.jsx("button",{type:"button",className:`${Bo.tabBtn} ${n==="csv"?Bo.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${Bo.tabBtn} ${n==="json"?Bo.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:Bo.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:Bo.content,children:n==="csv"?s.jsx(BM,{mode:"db"}):s.jsx(oQe,{})})]})})}const NM="sfdatahub_upload_sessions_v1",A_={sessions:[],activeSessionId:null},cQe=()=>{var t,e,n,r,i,a;if(typeof window=="undefined")return A_;try{const o=window.localStorage.getItem(NM);if(!o)return A_;const l=JSON.parse(o);if(l&&typeof l=="object"){if("version"in l&&(l==null?void 0:l.version)===1&&l.type==="uploadCenter.sessions"&&Array.isArray(l.sessions)){const d=l;return{sessions:d.sessions,activeSessionId:(n=(e=d.activeSessionId)!=null?e:(t=d.sessions[0])==null?void 0:t.id)!=null?n:null}}if(Array.isArray(l.sessions)){const d=l;return{sessions:d.sessions,activeSessionId:(a=(i=d.activeSessionId)!=null?i:(r=d.sessions[0])==null?void 0:r.id)!=null?a:null}}}}catch(o){console.warn("[UploadCenterSessions] Failed to parse persisted state",o)}return A_},kM=R.createContext(null);function dQe({children:t}){const e=R.useMemo(()=>cQe(),[]),[n,r]=R.useState(()=>e.sessions),[i,a]=R.useState(()=>e.activeSessionId),o=R.useCallback(S=>({...S,players:S.players.map(v=>({...v,status:"pending"})),guilds:S.guilds.map(v=>({...v,status:"pending"}))}),[]);R.useEffect(()=>{if(typeof window!="undefined")try{const S={version:1,type:"uploadCenter.sessions",sessions:n,activeSessionId:i};window.localStorage.setItem(NM,JSON.stringify(S))}catch(S){console.warn("[UploadCenterSessions] Failed to persist state",S)}},[n,i]);const l=R.useCallback(S=>{const v=o(S);r(w=>[...w,v]),a(v.id)},[o]),d=R.useCallback(S=>{a(S)},[]),u=R.useCallback(S=>{r(v=>{const w=v.filter(N=>N.id!==S);return a(N=>{var _,j;return N===S?(j=(_=w[0])==null?void 0:_.id)!=null?j:null:N}),w})},[]),h=R.useCallback(()=>{r([]),a(null)},[]),m=R.useCallback((S,v,w,N)=>{r(_=>_.map(j=>{if(j.id!==S)return j;if(v==="player"){const U=j.players.map(I=>I.key===w?{...I,selected:N}:I);return{...j,players:U}}const k=j.guilds.map(U=>U.key===w?{...U,selected:N}:U);return{...j,guilds:k}}))},[]),g=R.useCallback((S,v,w)=>{r(N=>N.map(_=>{if(_.id!==S)return _;if(v==="player"){const k=_.players.map(U=>({...U,selected:w}));return{..._,players:k}}const j=_.guilds.map(k=>({...k,selected:w}));return{..._,guilds:j}}))},[]),y=R.useCallback((S,v,w)=>{r(N=>N.map(_=>{if(_.id!==S)return _;const j=_.guilds.find(P=>P.key===v);if(!j)return _;const k=j.guildId,U=_.players.map(P=>P.guildId===k?{...P,selected:w}:P),I=_.guilds.map(P=>P.key===v?{...P,selected:w}:P);return{..._,players:U,guilds:I}}))},[]),x=R.useCallback((S,v,w)=>{r(N=>N.map(_=>{if(_.id!==S)return _;let j;const k=_.players.map(L=>L.key!==v?L:(j=L.guildId,{...L,selected:w}));if(!j)return{..._,players:k};const U=k.filter(L=>L.guildId===j),I=U.length>0&&U.every(L=>L.selected),P=_.guilds.map(L=>L.guildId!==j?L:w===!1?{...L,selected:!1}:I?{...L,selected:!0}:L);return{..._,players:k,guilds:P}}))},[]),C=R.useCallback((S,v)=>{r(w=>w.map(N=>{if(N.id!==S)return N;const _=N.players.map(k=>({...k,selected:v})),j=N.guilds.map(k=>{if(!v)return{...k,selected:!1};const U=_.filter(P=>P.guildId===k.guildId),I=U.length>0&&U.every(P=>P.selected);return{...k,selected:I}});return{...N,players:_,guilds:j}}))},[]),E=R.useCallback((S,v)=>{r(w=>w.map(N=>{if(N.id!==S)return N;const _=N.guilds.map(k=>({...k,selected:v})),j=N.players.map(k=>v&&k.guildId?{...k,selected:!0}:!v&&k.guildId?{...k,selected:!1}:k);return{...N,guilds:_,players:j}}))},[]),T=R.useCallback((S,v,w,N)=>{console.log("[UploadSessions] setRecordStatus",{sessionId:S,kind:v,recordKey:w,status:N}),r(_=>_.map(j=>{if(j.id!==S)return j;if(v==="player"){const U=j.players.map(I=>I.key===w?{...I,status:N}:I);return{...j,players:U}}const k=j.guilds.map(U=>U.key===w?{...U,status:N}:U);return{...j,guilds:k}}))},[]),B=R.useMemo(()=>({sessions:n,activeSessionId:i,addSession:l,setActiveSession:d,removeSession:u,clearAllSessions:h,toggleRecordSelection:m,selectAllInSession:g,selectGuildWithPlayers:y,updateGuildSelectionFromPlayer:x,selectAllPlayersWithGuilds:C,selectAllGuildsWithPlayers:E,setRecordStatus:T}),[n,i,l,d,u,h,m,g,y,x,C,E,T]);return s.jsx(kM.Provider,{value:B,children:t})}function uQe(){const t=R.useContext(kM);if(!t)throw new Error("useUploadCenterSessions must be used within UploadCenterSessionsProvider");return t}const AQe="sfh:authNext";function hQe({route:t,featureId:e,fallback:n=null,children:r}){var C;const{isLoading:i,status:a}=Oa(),{resolveRule:o,canAccessFeature:l,canAccessRule:d,loading:u}=r0(),h=ur(),m=(C=e!=null?e:t)!=null?C:"/",g=W.useMemo(()=>o(m),[o,m]);W.useEffect(()=>{g||console.debug(`[FeatureGate] No rule found for target "${m}", allowing by default.`)},[g,m]);const y=W.useMemo(()=>!e&&!t?!0:g?d(g):l(m),[l,d,e,t,g,m]),x=W.useMemo(()=>g?!!(g.status==="logged_in"||g.minRole&&g.minRole!=="guest"||g.allowedRoles&&g.allowedRoles.length>0||g.allowedGroups&&g.allowedGroups.length>0||g.allowedUserIds&&g.allowedUserIds.length>0):!1,[g]);if(i||u)return null;if(!y){const E=a==="unauthenticated",T=h.pathname==="/login";if(x&&E&&!T){const B=`${h.pathname}${h.search||""}`,S=B.startsWith("/")&&!B.startsWith("//");typeof window!="undefined"&&window.sessionStorage&&S&&window.sessionStorage.setItem(AQe,B);const v=S?`/login?next=${encodeURIComponent(B)}`:"/login";return s.jsx(Io,{to:v,replace:!0})}return s.jsx(s.Fragment,{children:n})}return s.jsx(s.Fragment,{children:r})}const vF="pending";function xF(t,e,n){const r=t.players.map(a=>{var l;return{key:`${a.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:a.playerId,name:a.name,server:a.server,scanTimestampSec:a.scanTimestampSec,guildId:(l=a.guildId)!=null?l:void 0,level:a.level,className:a.className,values:a.values,selected:!0,status:vF}}),i=t.guilds.map(a=>{var d;const o=`${a.guildId}__${a.server}__${a.scanTimestampSec}`,l=a.members.map(u=>({key:`${u.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:u.playerId,name:u.name,level:u.level,className:u.className}));return{key:o,guildId:a.guildId,name:a.name,server:a.server,memberCount:(d=a.memberCount)!=null?d:a.members.length,scanTimestampSec:a.scanTimestampSec,members:l,values:a.values,selected:!0,status:vF}});return{id:e,createdAt:n,sourceFilename:t.filename,scanUploadId:void 0,players:r,guilds:i}}const yx=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`};async function mQe(t){var n,r,i,a;if(!t)return console.warn("[UploadCenterUsage] Missing userId, returning empty usage."),{date:null,guilds:0,players:0};const e=vs(Lt,"users",t);try{const o=await On(null,e,()=>Nn(e),{label:"UploadCenterUsage:get"});if(!o.exists())return console.warn("[UploadCenterUsage] User document does not exist.",{userId:t}),{date:null,guilds:0,players:0};const l=(n=o.data())==null?void 0:n.uploadCenter,d=(r=l==null?void 0:l.usage)!=null?r:{};return{date:typeof(d==null?void 0:d.date)=="string"?d.date:null,guilds:Number((i=d==null?void 0:d.guilds)!=null?i:0)||0,players:Number((a=d==null?void 0:d.players)!=null?a:0)||0}}catch(o){return console.error("[UploadCenterUsage] Failed to fetch usage data.",{userId:t,error:o}),{date:null,guilds:0,players:0}}}async function pQe(t,e,n){var y,x,C;if(!t){console.warn("[UploadCenterUsage] Missing userId, skipping usage update.");return}const r=yx(),i=vs(Lt,"users",t);let a;try{a=await On(null,i,()=>Nn(i),{label:"UploadCenterUsage:update"})}catch(E){console.error("[UploadCenterUsage] Failed to fetch user document.",{userId:t,error:E});return}if(!a.exists()){console.warn("[UploadCenterUsage] User document does not exist.",{userId:t});return}const o=(y=a.data())==null?void 0:y.uploadCenter,l=o==null?void 0:o.usage,d=(l==null?void 0:l.date)===r,u=d?Number((x=l==null?void 0:l.guilds)!=null?x:0):0,h=d?Number((C=l==null?void 0:l.players)!=null?C:0):0,m=u+Number(e!=null?e:0),g=h+Number(n!=null?n:0);try{await aC(i,()=>Ql(i,{uploadCenter:{...o!=null?o:{},usage:{date:r,guilds:m,players:g}}},{merge:!0}),{label:"UploadCenterUsage:updateWrite"})}catch(E){console.error("[UploadCenterUsage] Failed to update usage data.",{userId:t,error:E})}}const $c={enabled:!0,dailyGuildLimit:9999,dailyPlayerLimit:999999},Sy=t=>{if(t==null||typeof t=="boolean"||typeof t=="string"&&t.trim()==="")return null;const e=Number(t);return Number.isFinite(e)&&e>=0?e:null},gQe=t=>{if(!t||typeof t!="object")return;const e={};return Object.entries(t).forEach(([n,r])=>{if(!r||typeof r!="object")return;const i=r,a=Sy(i.dailyGuildLimit),o=Sy(i.dailyPlayerLimit),l=i.enabled,d={};typeof l=="boolean"&&(d.enabled=l),a!==null&&(d.dailyGuildLimit=a),o!==null&&(d.dailyPlayerLimit=o),Object.keys(d).length>0&&(e[n]=d)}),Object.keys(e).length>0?e:void 0};async function fQe(t){const e=vs(Lt,"upload_quota_config","default");try{const n=await On(null,e,()=>Nn(e),{label:"UploadQuota:config"});if(!n.exists())return console.warn("[UploadQuota] Missing config document. Using defaults."),$c;const r=n.data(),i=Sy(r==null?void 0:r.dailyGuildLimit),a=Sy(r==null?void 0:r.dailyPlayerLimit),o=gQe(r==null?void 0:r.roles),l={dailyGuildLimit:i!=null?i:$c.dailyGuildLimit,dailyPlayerLimit:a!=null?a:$c.dailyPlayerLimit};typeof(r==null?void 0:r.enabled)=="boolean"&&(l.enabled=r.enabled),o&&(l.roles=o);const d=r&&Object.prototype.hasOwnProperty.call(r,"dailyGuildLimit")&&i===null,u=r&&Object.prototype.hasOwnProperty.call(r,"dailyPlayerLimit")&&a===null;return(d||u)&&console.warn("[UploadQuota] Invalid config payload. Using defaults.",{data:r}),l}catch(n){return console.error("[UploadQuota] Failed to load quota config.",{userId:t==null?void 0:t.id,error:n}),$c}}function vQe(t,e){var a,o,l;const n=Array.isArray(e)?e.filter(d=>typeof d=="string"&&d.length>0):[],r=Number.isFinite(t.dailyGuildLimit)?t.dailyGuildLimit:$c.dailyGuildLimit,i=Number.isFinite(t.dailyPlayerLimit)?t.dailyPlayerLimit:$c.dailyPlayerLimit;for(const d of n){const u=(a=t.roles)==null?void 0:a[d];if(!u||u.enabled===!1)continue;const h=(o=u.dailyGuildLimit)!=null?o:r,m=(l=u.dailyPlayerLimit)!=null?l:i;return console.debug("[UploadQuota] Applying role override for upload limits.",{role:d,guildLimit:h,playerLimit:m}),{dailyGuildLimit:h,dailyPlayerLimit:m}}return{dailyGuildLimit:r,dailyPlayerLimit:i}}async function yF(t){var d,u,h;const e=(d=t==null?void 0:t.id)!=null?d:null,n=(h=(u=t==null?void 0:t.uploadCenter)==null?void 0:u.usage)!=null?h:{date:null,guilds:0,players:0},r=Array.isArray(t==null?void 0:t.roles)?t.roles:[],[i,a]=await Promise.all([fQe(t),e?mQe(e):Promise.resolve(null)]),o=vQe(i,r);return{config:{...i,dailyGuildLimit:o.dailyGuildLimit,dailyPlayerLimit:o.dailyPlayerLimit},usage:a!=null?a:n}}const xQe=(t,e)=>`${Ha}/scan-uploads/${encodeURIComponent(t)}/${e}.csv`,yQe=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function wF(t,e){const n=xQe(t,e);console.log(`[scan-uploads] Fetching ${e} CSV for scanId=${t}`);const r=await fetch(n,{method:"GET",credentials:"include",headers:{Accept:"text/csv"}});if(!r.ok)throw console.error(`[scan-uploads] Failed to fetch ${e} CSV for scanId=${t} (status ${r.status})`),await yQe(r);const i=await r.text();return console.log(`[scan-uploads] Fetched ${e} CSV for scanId=${t} (${i.length} chars)`),i}const wQe="sfdatahub:uploadCenter:scanUploads:v1:",IM=5,EM=t=>t&&"seconds"in t&&"nanoseconds"in t?{seconds:t.seconds,nanoseconds:t.nanoseconds}:null,Xd=t=>t?t instanceof xn?t.toMillis():"seconds"in t&&"nanoseconds"in t?t.seconds*1e3+t.nanoseconds/1e6:-1/0:-1/0,bQe=t=>({...t,uploadedAt:t.uploadedAt?new xn(t.uploadedAt.seconds,t.uploadedAt.nanoseconds):null}),_Qe=t=>({...t,uploadedAt:EM(t.uploadedAt)}),TM=t=>{let e=null,n=-1/0;return t.forEach(r=>{var o;const i=EM("uploadedAt"in r&&(o=r.uploadedAt)!=null?o:null),a=Xd(i);a>n&&i&&(e=i,n=a)}),e},jQe=(t,e)=>{const n=new Map,r=i=>{const a=i.id||i.scanId;if(!a)return;const o=n.get(a);if(!o){n.set(a,i);return}const l=Xd(o.uploadedAt),d=Xd(i.uploadedAt);n.set(a,d>=l?i:o)};return t.forEach(r),e.forEach(r),Array.from(n.values()).sort((i,a)=>Xd(a.uploadedAt)-Xd(i.uploadedAt)).slice(0,IM)},CQe=(t,e)=>{if(!e)return[];const n=Xd(e);return t.filter(r=>Xd(r.uploadedAt)===n).map(r=>r.id).filter(r=>!!r)},SQe=t=>{if(typeof window=="undefined")return null;try{const e=window.localStorage.getItem(t);if(!e)return null;const n=JSON.parse(e);return!n||!Array.isArray(n.items)?null:n}catch(e){return console.warn("[upload-center] Failed to read scan uploads cache",e),null}},bF=(t,e)=>{if(typeof window!="undefined")try{const n={savedAtMs:Date.now(),lastUploadedAt:TM(e),items:e.map(_Qe)};window.localStorage.setItem(t,JSON.stringify(n))}catch(n){console.warn("[upload-center] Failed to persist scan uploads cache",n)}},h_=new Map,BQe=t=>{const[e,n]=R.useState([]),[r,i]=R.useState(!1),[a,o]=R.useState(null);return R.useEffect(()=>{if(!t){n([]),i(!1),o(null);return}let l=!0;const d=`${wQe}${t}`,u=SQe(d),h=u?u.items.map(bQe):[],m=(u==null?void 0:u.lastUploadedAt)||TM(h),g=CQe(h,m);o(null),h.length>0?(n(h),i(!1)):(n([]),i(!0));const y=async()=>{const C=Jn("UploadCenter:scanUploads");try{const E=Ml(Lt,"scan_uploads"),T=Yn(E,Xi("discordUserId","==",t),pa("uploadedAt","desc"),Fr(IM)),B=await Hn(C,{path:E.path},()=>Qn(T));if(!l)return;const S=B.docs.map(v=>({id:v.id,...v.data()}));console.log(`[upload-center] Loaded ${S.length} scan_uploads for current user (remote sessions)`),n(S),bF(d,S)}catch(E){if(!l)return;console.error("[upload-center] Failed to load scan_uploads for current user (index may be required)",E),o(E instanceof Error?E:new Error("Failed to load scan uploads")),n([])}finally{Cn(C),l&&i(!1)}},x=async(C,E)=>{const T=`${t}:${C.seconds}:${C.nanoseconds}`,B=h_.get(T);if(B){await B;return}const S=Jn("UploadCenter:scanUploads"),w=(async()=>{try{const N=Ml(Lt,"scan_uploads"),_=new xn(C.seconds,C.nanoseconds),j=Yn(N,Xi("discordUserId","==",t),pa("uploadedAt","asc"),Xi("uploadedAt",">",_)),k=await Hn(S,{path:N.path},()=>Qn(j));if(!l)return;let U=k.docs.map(I=>({id:I.id,...I.data()}));if(U.length===0&&E.length>0){const I=E.slice(0,10),P=Yn(N,Xi("discordUserId","==",t),Xi("uploadedAt","==",_),Xi(G_(),"not-in",I),pa(G_())),L=await Hn(S,{path:N.path},()=>Qn(P));if(!l)return;U=L.docs.map(H=>({id:H.id,...H.data()}))}if(U.length===0){console.log("[upload-center] No new scan_uploads found; using cached entries");return}n(I=>{const P=jQe(I.length?I:h,U);return bF(d,P),P})}catch(N){if(!l)return;console.error("[upload-center] Delta refresh for scan_uploads failed (index may be required)",N)}finally{Cn(S)}})().finally(()=>{h_.delete(T)});h_.set(T,w),await w};return h.length>0&&m?x(m,g):y(),()=>{l=!1}},[t]),{items:e,loading:r,error:a}},FM="sfdatahub_upload_quota_v1",LM=t=>{var e,n;return{date:typeof(t==null?void 0:t.date)=="string"?t.date:null,guilds:Number((e=t==null?void 0:t.guilds)!=null?e:0)||0,players:Number((n=t==null?void 0:t.players)!=null?n:0)||0}},m_=(t,e)=>{if(typeof window=="undefined")return;const n={version:1,config:t,usage:LM(e),storedAt:new Date().toISOString()};try{window.localStorage.setItem(FM,JSON.stringify(n))}catch(r){console.warn("[UploadQuotaStorage] Failed to persist quota data",r)}},NQe=()=>{var t,e;if(typeof window=="undefined")return null;try{const n=window.localStorage.getItem(FM);if(!n)return null;const r=JSON.parse(n);return!r||typeof r!="object"||r.version!==1||typeof((t=r.config)==null?void 0:t.dailyGuildLimit)!="number"||typeof((e=r.config)==null?void 0:e.dailyPlayerLimit)!="number"?null:{version:1,config:{dailyGuildLimit:Number(r.config.dailyGuildLimit)||0,dailyPlayerLimit:Number(r.config.dailyPlayerLimit)||0},usage:LM(r.usage),storedAt:typeof r.storedAt=="string"?r.storedAt:""}}catch(n){return console.warn("[UploadQuotaStorage] Failed to read quota data",n),null}},By=(t,e)=>Math.max(t-e,0),_F=(t,e,n)=>{var o,l,d;const r=e.date===n,i=r&&(o=e.guilds)!=null?o:0,a=r&&(l=e.players)!=null?l:0;return{config:t,usageDate:(d=e.date)!=null?d:null,usedGuildsToday:i,usedPlayersToday:a,remainingGuilds:By(t.dailyGuildLimit,i),remainingPlayers:By(t.dailyPlayerLimit,a),today:n}},kQe=({className:t})=>{if(!t)return s.jsx("span",{title:"Unknown class",className:"text-xs text-center text-zinc-400 block",children:"Unknown"});const{url:e,fallback:n}=PR(t),r=e?Yi(e,28):void 0;return r?s.jsx("img",{src:r,alt:t,title:t,className:"mx-auto h-6 w-6 rounded-full object-contain",draggable:!1}):n?s.jsx("span",{title:t,className:"mx-auto text-center text-sm leading-none",style:{display:"block"},children:n}):s.jsx("span",{title:t,className:"text-xs text-center text-zinc-400 block",children:t})};function IQe(){return s.jsx(As,{title:"Upload Center",subtitle:"Import CSV scans locally, review all players and guilds, then upload only the records you want to store.",centerFramed:!1,children:s.jsx(EQe,{})},"upload-center-shell")}function EQe(){var jt,nt,et,ut,bt,Ye,Je,Kt,mt;const{sessions:t,activeSessionId:e,addSession:n,setActiveSession:r,removeSession:i,selectGuildWithPlayers:a,updateGuildSelectionFromPlayer:o,selectAllPlayersWithGuilds:l,selectAllGuildsWithPlayers:d,setRecordStatus:u}=uQe(),{t:h}=Gs(),{user:m}=Oa(),g=(et=(nt=(jt=m==null?void 0:m.providers)==null?void 0:jt.discord)==null?void 0:nt.id)!=null?et:(m==null?void 0:m.provider)==="discord"?m.id:null,{items:y,loading:x,error:C}=BQe(g),E=!!g,T=t.find(ne=>ne.id===e)||null,B=R.useMemo(()=>new Set(t.map(ne=>ne.scanUploadId).filter(ne=>!!ne)),[t]),[S,v]=W.useState(new Set),[w,N]=R.useState({phase:"idle",processed:0,total:0,created:0,duplicate:0,error:0}),[_,j]=R.useState("all"),[k,U]=R.useState("all"),[I,P]=R.useState(!1),[L,H]=R.useState(!1),[O,z]=R.useState(null),[G,$]=R.useState(null),[Y,J]=R.useState(()=>_F($c,{date:null,guilds:0,players:0},yx())),[V,X]=R.useState(null),Z=R.useCallback((ne,Re)=>{const Ue=yx();J(_F(ne,Re,Ue)),X(null)},[]),se=R.useCallback(async()=>{try{const ne=await yF(m!=null?m:null);Z(ne.config,ne.usage),m_(ne.config,ne.usage)}catch(ne){console.error("[UploadCenter] Failed to refresh upload quota",ne),X("Could not refresh upload quota. Using last known values.")}},[Z,m]);R.useEffect(()=>{var dt,ze;let ne=!0;yx();const Re=(ze=(dt=m==null?void 0:m.uploadCenter)==null?void 0:dt.usage)!=null?ze:{date:null,guilds:0,players:0};Z($c,Re);const Ue=NQe();return Ue&&Z(Ue.config,Ue.usage),(async()=>{try{const wt=await yF(m!=null?m:null);if(!ne)return;Z(wt.config,wt.usage),m_(wt.config,wt.usage)}catch(wt){console.error("[UploadCenter] Failed to refresh upload quota",wt),ne&&X("Could not refresh upload quota. Using last known values.")}})(),()=>{ne=!1}},[m,(bt=(ut=m==null?void 0:m.uploadCenter)==null?void 0:ut.usage)==null?void 0:bt.date,(Je=(Ye=m==null?void 0:m.uploadCenter)==null?void 0:Ye.usage)==null?void 0:Je.guilds,(mt=(Kt=m==null?void 0:m.uploadCenter)==null?void 0:Kt.usage)==null?void 0:mt.players,Z]);const le=R.useCallback(ne=>{const Re=`csv_${Date.now()}`,Ue=new Date().toISOString(),dt=xF(ne,Re,Ue);n(dt),r(Re)},[n,r]),we=ne=>{const Re=new Date(ne);return Number.isNaN(Re.getTime())?"Unknown date":Re.toLocaleString()},Se=ne=>{v(Re=>{const Ue=new Set(Re);return Ue.has(ne)?Ue.delete(ne):Ue.add(ne),Ue})},te=ne=>{var ze,wt;const Re="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",Ue={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",created:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",duplicate:"bg-amber-500/10 text-amber-100 border border-amber-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},dt={pending:"PENDING",created:"UPLOADED",duplicate:"IN DB",error:"ERROR"};return s.jsx("span",{className:`${Re} ${(ze=Ue[ne])!=null?ze:Ue.pending}`,children:(wt=dt[ne])!=null?wt:ne})},ce=ne=>{if(!ne)return"Unknown date";try{if(typeof ne.toDate=="function")return ne.toDate().toLocaleString()}catch(Re){}return"Unknown date"},re=ne=>{var wt,Dt,Et;const Re="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",Ue={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",stored:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",received:"bg-sky-500/10 text-sky-100 border border-sky-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},dt={pending:"PENDING",stored:"STORED",received:"RECEIVED",error:"ERROR"},ze=(wt=ne==null?void 0:ne.toLowerCase())!=null?wt:"pending";return s.jsx("span",{className:`${Re} ${(Dt=Ue[ze])!=null?Dt:Ue.pending}`,children:(Et=dt[ze])!=null?Et:ne||"PENDING"})},ye=R.useCallback((ne,Re,Ue)=>{const dt=ne==="created"||ne==="duplicate";return Ue&&dt?!1:Re==="all"?!0:Re==="pending"?ne==="pending":Re==="inDb"?dt:Re==="error"?ne==="error":!0},[]),Be=R.useMemo(()=>T?T.players.filter(ne=>ye(ne.status,_,I)):[],[T,ye,_,I]),Le=R.useMemo(()=>T?T.guilds.filter(ne=>ye(ne.status,k,L)):[],[T,ye,k,L]),Ee=R.useCallback(async ne=>{if(ne!=null&&ne.id){$(null),z(ne.id);try{const Re=[],Ue=ne.queueId||ne.scanId||ne.id,dt=ne.hasPlayersCsv!==!1,ze=ne.hasGuildsCsv!==!1;if(dt){const os=await wF(ne.id,"players");Re.push({name:`players.scan-${Ue}.csv`,text:os})}if(ze){const os=await wF(ne.id,"guilds");Re.push({name:`guilds.scan-${Ue}.csv`,text:os})}if(!Re.length)throw new Error("No CSV data available for this scan.");const wt=SM(Re);wt.filename=Ue||wt.filename;const Dt=`scan_${ne.id}_${Date.now()}`,Et=new Date().toISOString(),pt={...xF(wt,Dt,Et),scanUploadId:ne.id};n(pt),r(Dt),console.log(`[upload-center] Loaded remote scan session for scanId=${ne.id} (session ${Dt})`)}catch(Re){console.error(`[upload-center] Failed to load remote scan session for scanId=${ne==null?void 0:ne.id}`,Re),$(Re instanceof Error?Re.message:"Failed to load remote scan session.")}finally{z(null)}}},[n,r]),De=R.useMemo(()=>{if(!T)return!1;const ne=T.players.some(Ue=>Ue.selected),Re=T.guilds.some(Ue=>Ue.selected);return ne||Re},[T]),at=w.phase==="uploading"||w.phase==="finalizing",Ke=()=>{if(!T)return null;const ne=T.players.filter(ze=>ze.selected),Re=T.guilds.filter(ze=>ze.selected);if(!ne.length&&!Re.length)return null;const Ue=ne.map(ze=>{var wt,Dt,Et,Me,pt,os;if(ze.values&&typeof ze.values=="object"){const je={...ze.values};return je.Identifier==null&&je.ID==null&&(je.Identifier=ze.playerId),je["Guild Identifier"]==null&&(je["Guild Identifier"]=(wt=ze.guildId)!=null?wt:""),je.Timestamp==null&&(je.Timestamp=ze.scanTimestampSec),je.Server==null&&(je.Server=ze.server),je.Name==null&&(je.Name=ze.name),je.Class==null&&(je.Class=(Dt=ze.className)!=null?Dt:""),je.Level==null&&(je.Level=(Et=ze.level)!=null?Et:""),je}return{Identifier:ze.playerId,"Guild Identifier":(Me=ze.guildId)!=null?Me:"",Timestamp:ze.scanTimestampSec,Server:ze.server,Name:ze.name,Class:(pt=ze.className)!=null?pt:"",Level:(os=ze.level)!=null?os:""}}),dt=Re.map(ze=>{var wt,Dt;if(ze.values&&typeof ze.values=="object"){const Et={...ze.values};return Et["Guild Identifier"]==null&&(Et["Guild Identifier"]=ze.guildId),Et["Guild Member Count"]==null&&(Et["Guild Member Count"]=(wt=ze.memberCount)!=null?wt:ze.members.length),Et.Timestamp==null&&(Et.Timestamp=ze.scanTimestampSec),Et.Server==null&&(Et.Server=ze.server),Et.Name==null&&(Et.Name=ze.name),Et}return{"Guild Identifier":ze.guildId,"Guild Member Count":(Dt=ze.memberCount)!=null?Dt:ze.members.length,Timestamp:ze.scanTimestampSec,Name:ze.name,Server:ze.server}});return{playersRows:Ue,guildsRows:dt}},He=R.useCallback((ne,Re)=>{J(Ue=>{const dt=Ue.usedGuildsToday+ne,ze=Ue.usedPlayersToday+Re,wt={...Ue,usedGuildsToday:dt,usedPlayersToday:ze,remainingGuilds:By(Ue.config.dailyGuildLimit,dt),remainingPlayers:By(Ue.config.dailyPlayerLimit,ze),usageDate:Ue.today};return m_(Ue.config,{date:Ue.today,guilds:dt,players:ze}),wt})},[]),Ce=R.useMemo(()=>Y.usageDate?Y.usageDate===Y.today?"Today":Y.usageDate:"No uploads yet",[Y.today,Y.usageDate]),ue=Y.config.dailyPlayerLimit===0,Te=Y.config.dailyGuildLimit===0,Fe=ue?h("uploadCenter.quota.unlimited"):Y.config.dailyPlayerLimit,ct=Te?h("uploadCenter.quota.unlimited"):Y.config.dailyGuildLimit,xt=ue?h("uploadCenter.quota.unlimited"):`${Fe} limit today`,ie=Te?h("uploadCenter.quota.unlimited"):`${ct} limit today`,Ae=ue?h("uploadCenter.quota.unlimited"):Y.remainingPlayers,me=Te?h("uploadCenter.quota.unlimited"):Y.remainingGuilds,ke=async()=>{var Ar,hr,mn;if(!T)return;const ne=Ke();if(!ne)return;const Re=T.players.filter(hs=>hs.selected),Ue=T.guilds.filter(hs=>hs.selected),dt=Re.length+Ue.length;if(!dt)return;const ze=(Ar=m==null?void 0:m.id)!=null?Ar:null,{config:wt,usedGuildsToday:Dt,usedPlayersToday:Et}=Y,Me=Dt+Ue.length,pt=Et+Re.length,os=Me>wt.dailyGuildLimit,je=pt>wt.dailyPlayerLimit;if(os||je){X(`Daily quota exceeded: You can import up to ${wt.dailyGuildLimit} guilds / ${wt.dailyPlayerLimit} players per day. Today you already imported ${Dt} guilds / ${Et} players. This selection would bring you to ${Me} guilds / ${pt} players.`);return}X(null),N({phase:"uploading",processed:0,total:dt,created:0,duplicate:0,error:0});const bs={processed:0,created:0,duplicate:0,error:0},Vn={processed:0,created:0,duplicate:0,error:0},yn=()=>{const hs=Math.min(bs.processed+Vn.processed,dt),_s=hs>=dt&&dt>0?"finalizing":"uploading";N({phase:_s,processed:hs,total:dt,created:bs.created+Vn.created,duplicate:bs.duplicate+Vn.duplicate,error:bs.error+Vn.error})},hn=hs=>_s=>{var Tt;if((_s==null?void 0:_s.pass)!=="scans")return;const lt=hs==="players"?bs:Vn;typeof _s.current=="number"&&(lt.processed=Math.min(_s.current,(Tt=_s.total)!=null?Tt:_s.current)),typeof _s.created=="number"&&(lt.created=_s.created),typeof _s.duplicate=="number"&&(lt.duplicate=_s.duplicate),typeof _s.error=="number"&&(lt.error=_s.error),yn()};try{console.log("[UploadCenter] starting selection upload",{players:Re.length,guilds:Ue.length});const hs=await _M(ne,{onProgress:ft=>{(ft==null?void 0:ft.kind)==="players"?hn("players")(ft):(ft==null?void 0:ft.kind)==="guilds"&&hn("guilds")(ft)}}),_s=T.id;let lt=!1,Tt=!1;if(console.log("[UploadCenter] importSelectionToDb result",{playersSample:(hr=hs==null?void 0:hs.players)==null?void 0:hr.slice(0,5),guildsSample:(mn=hs==null?void 0:hs.guilds)==null?void 0:mn.slice(0,5),selectedPlayerKeys:Re.slice(0,5).map(ft=>ft.key),selectedGuildKeys:Ue.slice(0,5).map(ft=>ft.key)}),((hs==null?void 0:hs.players)||[]).forEach(ft=>{lt=!0,u(_s,"player",ft.key,ft.status)}),((hs==null?void 0:hs.guilds)||[]).forEach(ft=>{Tt=!0,u(_s,"guild",ft.key,ft.status)}),!lt&&!Tt&&(Re.forEach(ft=>u(_s,"player",ft.key,"created")),Ue.forEach(ft=>u(_s,"guild",ft.key,"created"))),Re.length||Ue.length){if(He(Ue.length,Re.length),!ze)console.warn("[UploadCenter] Cannot persist upload usage because the user ID is missing.");else try{await pQe(ze,Ue.length,Re.length)}catch(ft){console.error("[UploadCenter] Failed to record upload usage.",ft)}await se()}}catch(hs){console.error("[UploadCenter] Failed to upload selection",hs)}finally{N(hs=>({...hs,phase:"done"}))}};return s.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[s.jsxs("section",{className:"rounded-2xl border border-emerald-400/40 bg-emerald-500/5 p-4 md:p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:"Local-only until you upload"}),s.jsx("h2",{className:"mt-1 text-lg font-semibold text-emerald-50",children:"Review first, then opt-in to store data"}),s.jsx("p",{className:"mt-2 text-sm text-emerald-50/80",children:"CSV files are parsed in your browser. Nothing is written to SFDataHub until you pick records and trigger the upload."})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/80 p-4 md:p-5",children:[s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Upload quota"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Daily limits & usage"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Values are cached locally in your browser so you can resume uploads across page reloads."})]}),s.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800/80 px-3 py-2 text-xs text-slate-200",children:["Last upload: ",Ce]})]}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-emerald-400/40 bg-emerald-500/5 p-3",children:[s.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-emerald-200/80",children:"Players"}),s.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[s.jsx("span",{className:"text-2xl font-semibold text-emerald-50",children:Ae}),s.jsx("span",{className:"text-sm text-emerald-100/80",children:"remaining"})]}),s.jsxs("div",{className:"mt-1 text-xs text-emerald-100/70",children:[Y.usedPlayersToday," used / ",xt]})]}),s.jsxs("div",{className:"rounded-xl border border-sky-400/40 bg-sky-500/5 p-3",children:[s.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-sky-200/80",children:"Guilds"}),s.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[s.jsx("span",{className:"text-2xl font-semibold text-sky-50",children:me}),s.jsx("span",{className:"text-sm text-sky-100/80",children:"remaining"})]}),s.jsxs("div",{className:"mt-1 text-xs text-sky-100/70",children:[Y.usedGuildsToday," used / ",ie]})]})]}),V&&s.jsx("div",{className:"mt-3 rounded-xl border border-amber-400/60 bg-amber-500/10 px-3 py-2 text-sm text-amber-50",children:V})]}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Sessions"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Import Sessions"}),s.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-3 md:p-4",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-100",children:"Import CSV"}),s.jsx(BM,{mode:"session",onBuildUploadSession:le})]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Here you will see your locally imported CSV sessions (filename, date, player/guild counts)."}),t.length===0?s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Placeholder - once CSV imports are wired up, recent sessions will appear here with quick actions to resume, inspect, or discard them."}):s.jsx("div",{className:"flex flex-col gap-3",children:t.map(ne=>{const Re=ne.id===e;return s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>r(ne.id),onKeyDown:Ue=>{(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),r(ne.id))},className:["w-full rounded-xl border px-4 py-3 text-left transition",Re?"border-emerald-400/80 bg-emerald-500/10 text-emerald-50 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/60 text-slate-100 hover:border-emerald-400/60 hover:text-emerald-50"].join(" "),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm font-semibold",children:ne.sourceFilename||"Unnamed session"}),s.jsx("span",{className:"text-xs text-slate-400",children:we(ne.createdAt)})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right text-xs text-slate-400",children:[s.jsxs("div",{children:["Players: ",ne.players.length]}),s.jsxs("div",{children:["Guilds: ",ne.guilds.length]})]}),s.jsx("button",{type:"button",onClick:Ue=>{Ue.stopPropagation(),window.confirm("Remove this session from the list? This will NOT delete any data from the database.")&&i(ne.id)},className:"rounded-full p-1 transition text-red-400 hover:text-red-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-300","aria-label":"Remove session",title:"Remove this session from the list",children:s.jsx(p9,{className:"h-4 w-4"})})]})]}),Re&&s.jsx("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-emerald-100",children:"Active"})]},ne.id)})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-slate-100",children:"Scan uploads from Discord bot"}),G&&s.jsx("div",{className:"rounded-xl border border-amber-400/60 bg-amber-500/10 p-3 text-sm text-amber-100",children:G}),E?x?s.jsx("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Loading scan uploads..."}):C?s.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-100",children:"Error loading scan uploads."}):y.length===0?s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"No scan uploads from Discord bot yet."}):s.jsx("div",{className:"flex flex-col gap-3",children:y.map(ne=>{const Re=O===ne.id,Ue=B.has(ne.id),dt=Re||Ue;return s.jsxs("button",{type:"button",onClick:()=>{dt||Ee(ne)},disabled:dt,title:Ue?"This scan is already loaded above. Remove it there to load it again.":void 0,className:["w-full rounded-xl border px-4 py-3 text-left text-slate-100 transition","border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:text-emerald-50",dt?"cursor-not-allowed opacity-70 bg-slate-700/60 text-slate-400":""].join(" "),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm font-semibold",children:ne.queueId||ne.scanId||ne.id}),s.jsx("span",{className:"text-xs text-slate-400",children:ce(ne.uploadedAt)}),ne.discordUsername&&s.jsx("span",{className:"text-xs text-slate-400",children:ne.discordUsername})]}),s.jsxs("div",{className:"text-right text-xs text-slate-400",children:[s.jsxs("div",{children:["Players CSV: ",ne.hasPlayersCsv?"yes":"no"]}),s.jsxs("div",{children:["Guilds CSV: ",ne.hasGuildsCsv?"yes":"no"]})]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-300",children:[re(ne.status),ne.serverCode&&s.jsxs("span",{className:"rounded-full border border-slate-600/70 bg-slate-800/60 px-2 py-0.5",children:["Server: ",ne.serverCode]}),ne.lastError&&s.jsxs("span",{className:"rounded-full border border-rose-500/60 bg-rose-500/10 px-2 py-0.5 text-rose-100",children:["Error: ",ne.lastError]}),s.jsx("span",{className:"rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-emerald-100",children:Ue?"Loaded":Re?"Loading...":"Load into preview"})]})]},ne.id)})}):s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Link your Discord account to see bot uploads here."})]})]})}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Review"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Preview & Selection"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Use these previews to decide what to keep. Tables will support filters, sorting, and selection before committing."}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[s.jsx("button",{type:"button",className:"inline-flex items-center gap-2 rounded-xl bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-50 shadow-[0_10px_30px_-12px_rgba(16,185,129,0.8)] transition hover:bg-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-300 disabled:cursor-not-allowed disabled:bg-slate-700 disabled:text-slate-300 disabled:shadow-none",onClick:ke,disabled:at||!T||!De,children:w.phase==="uploading"?"Uploading...":w.phase==="finalizing"?"Finalizing...":"Upload selected to DB"}),V&&s.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-100",children:V}),w.total>0&&s.jsx("div",{className:"text-xs text-slate-300",children:w.phase==="uploading"?s.jsxs(s.Fragment,{children:["Uploading ",w.processed," / ",w.total," records (",Math.round(w.processed/Math.max(w.total,1)*100),"%) - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="finalizing"?s.jsxs(s.Fragment,{children:["Finalizing import - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="done"?s.jsxs(s.Fragment,{children:["Upload finished: ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):null}),T?s.jsx("div",{className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-100",children:`Active session: ${T.sourceFilename||T.id} - ${T.players.length} players, ${T.guilds.length} guilds`}):s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 px-3 py-2 text-sm text-slate-300",children:t.length>0?"Select a session in the list above to review its players and guilds.":"No active CSV session. Import a CSV via the Upload Center modal to start."})]})]}),T&&s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Players"}),s.jsxs("div",{className:"text-xs text-slate-300",children:["Players: ",T.players.length," total,"," ",T.players.filter(ne=>ne.selected).length," selected"]})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>l(T.id,!0),children:"Select all"}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>l(T.id,!1),children:"Clear selection"})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[s.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(ne=>s.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",_===ne?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>j(ne),children:ne==="all"?"All":ne==="pending"?"Pending":ne==="inDb"?"In DB":"Error"},ne))}),s.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:I,onChange:ne=>P(ne.target.checked)}),s.jsx("span",{children:"Hide uploaded"})]})]}),Be.length===0?s.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any player records."}):s.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:s.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[s.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Level"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Class"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),s.jsx("tbody",{children:Be.map(ne=>{var Re;return s.jsxs("tr",{className:"border-t border-slate-800/70",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox",checked:ne.selected,onChange:()=>o(T.id,ne.key,!ne.selected)})}),s.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:ne.name||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:ne.server||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:(Re=ne.level)!=null?Re:""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:s.jsx(kQe,{className:ne.className})}),s.jsx("td",{className:"px-3 py-2",children:te(ne.status)})]},ne.key)})})]})})]}),s.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Guilds"}),s.jsxs("div",{className:"text-xs text-slate-300",children:["Guilds: ",T.guilds.length," total,"," ",T.guilds.filter(ne=>ne.selected).length," selected"]})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>d(T.id,!0),children:"Select all"}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>d(T.id,!1),children:"Clear selection"})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[s.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(ne=>s.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",k===ne?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>U(ne),children:ne==="all"?"All":ne==="pending"?"Pending":ne==="inDb"?"In DB":"Error"},ne))}),s.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:L,onChange:ne=>H(ne.target.checked)}),s.jsx("span",{children:"Hide uploaded"})]})]}),Le.length===0?s.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any guild records."}):s.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:s.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[s.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Expand"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Guild"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Members"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),s.jsx("tbody",{children:Le.map(ne=>{var dt;const Re=S.has(ne.key),Ue=(dt=ne.memberCount)!=null?dt:ne.members.length;return s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"border-t border-slate-800/70",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{type:"button",className:"rounded border border-slate-600/70 bg-slate-800/60 px-2 py-1 text-xs text-slate-200",onClick:()=>Se(ne.key),"aria-expanded":Re,children:Re?"Collapse":"Expand"})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox",checked:ne.selected,onChange:()=>a(T.id,ne.key,!ne.selected)})}),s.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:ne.name||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:ne.server||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:Ue}),s.jsx("td",{className:"px-3 py-2",children:te(ne.status)})]}),Re&&s.jsx("tr",{className:"border-t border-slate-800/70 bg-slate-900/60",children:s.jsxs("td",{className:"px-3 py-3 text-slate-200",colSpan:6,children:[s.jsx("div",{className:"mb-2 text-xs uppercase tracking-[0.18em] text-slate-400",children:"Members"}),ne.members.length===0?s.jsx("div",{className:"text-sm text-slate-300",children:"No members listed."}):s.jsxs("table",{className:"w-full text-sm text-slate-100",children:[s.jsx("thead",{className:"bg-slate-900/50 text-xs uppercase tracking-wide text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-1 text-left",children:"Name"}),s.jsx("th",{className:"px-2 py-1 text-left",children:"Level"}),s.jsx("th",{className:"px-2 py-1 text-left",children:"Class"})]})}),s.jsx("tbody",{children:ne.members.map(ze=>{var wt,Dt;return s.jsxs("tr",{className:"border-t border-slate-800/70",children:[s.jsx("td",{className:"px-2 py-1",children:ze.name||""}),s.jsx("td",{className:"px-2 py-1",children:(wt=ze.level)!=null?wt:""}),s.jsx("td",{className:"px-2 py-1",children:(Dt=ze.className)!=null?Dt:""})]},ze.key)})})]})]})})]},ne.key)})})]})})]})]})]})})]})}function TQe(){const{canUse:t}=lC();return t?s.jsx(IQe,{}):s.jsx(As,{title:"Upload Center",subtitle:"Upload Center access required",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 text-center text-sm text-[#B0C4D9]",children:[s.jsx(n5,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"You don't have access to this feature."}),s.jsx("p",{children:"Contact an admin if you think you should be able to use the Upload Center."})]})})}const FQe=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),ca=FQe("Diese Unterseite existiert in der neuen Struktur nicht mehr."),jF=({tab:t})=>{const e=ur(),n=new URLSearchParams(e.search);n.set("tab",t);const r=n.toString();return s.jsx(Io,{to:`/toplists${r?`?${r}`:""}`,replace:!0})},ps=(t,e,n,r=s.jsx(Io,{to:"/",replace:!0}))=>s.jsx(hQe,{featureId:t,route:e,fallback:r,children:n});K8.createRoot(document.getElementById("root")).render(s.jsx(W.StrictMode,{children:s.jsx(Zq,{children:s.jsx(wX,{children:s.jsx(SX,{children:s.jsxs(dQe,{children:[s.jsx(LH,{children:s.jsx(dH,{children:s.jsxs(be,{element:s.jsx(DZ,{}),children:[s.jsx(be,{path:"/",element:ps("main.home","/",s.jsx(vie,{}),s.jsx(Io,{to:"/login",replace:!0}))}),s.jsx(be,{path:"/login",element:s.jsx(xie,{})}),s.jsx(be,{path:"/dashboard",element:ps("main.dashboard","/dashboard",s.jsx(yie,{}))}),s.jsx(be,{path:"/dashboard/kpis",element:ps("main.dashboard","/dashboard",s.jsx(_ie,{}))}),s.jsx(be,{path:"/dashboard/activity",element:ps("main.dashboard","/dashboard",s.jsx(jie,{}))}),s.jsx(be,{path:"/dashboard/progression",element:ps("main.dashboard","/dashboard",s.jsx(Cie,{}))}),s.jsx(be,{path:"/discover",element:ps("main.discover","/discover",s.jsx(Sie,{}))}),s.jsx(be,{path:"/toplists",element:ps("main.toplists","/toplists",s.jsx(mme,{}))}),s.jsx(be,{path:"/sfmagazine",element:s.jsx(Eie,{})}),s.jsx(be,{path:"/sfmagazine/historybook",element:s.jsx(oae,{})}),s.jsx(be,{path:"/help",element:s.jsx(bae,{})}),s.jsx(be,{path:"/search",element:s.jsx(GMe,{})}),s.jsx(be,{path:"/players",element:s.jsx(pme,{})}),s.jsx(be,{path:"/players/rankings",element:s.jsx(gme,{})}),s.jsx(be,{path:"/players/stats",element:s.jsx(fme,{})}),s.jsx(be,{path:"/players/profile",element:s.jsx(B1,{})}),s.jsx(be,{path:"/players/profile/:identifier",element:s.jsx(B1,{})}),s.jsx(be,{path:"/players/compare",element:s.jsx(Pge,{})}),s.jsx(be,{path:"/player/:identifier",element:s.jsx(B1,{})}),s.jsx(be,{path:"/guilds",element:s.jsx(Gge,{})}),s.jsx(be,{path:"/guilds/rankings",element:s.jsx(Kge,{})}),s.jsx(be,{path:"/guilds/stats",element:s.jsx(zge,{})}),s.jsx(be,{path:"/guilds/profile",element:s.jsx(F1,{})}),s.jsx(be,{path:"/guilds/profile/:guildId",element:s.jsx(F1,{})}),s.jsx(be,{path:"/guild/:guildId",element:s.jsx(F1,{})}),s.jsx(be,{path:"/servers",element:s.jsx(Ixe,{})}),s.jsx(be,{path:"/servers/rankings",element:s.jsx(Exe,{})}),s.jsx(be,{path:"/servers/stats",element:s.jsx(Txe,{})}),s.jsx(be,{path:"/servers/overview",element:s.jsx(dye,{})}),s.jsx(be,{path:"/servers/profile",element:s.jsx(R1,{})}),s.jsx(be,{path:"/servers/profile/:serverId",element:s.jsx(R1,{})}),s.jsx(be,{path:"/server/:serverId",element:s.jsx(R1,{})}),s.jsx(be,{path:"/u/:profileId",element:s.jsx(x0e,{})}),s.jsx(be,{path:"/guidehub/*",element:ps("main.guidehub","/guidehub",s.jsx(i2e,{}))}),s.jsx(be,{path:"/guidehub-v2",element:ps("main.guidehub","/guidehub-v2",s.jsx(XSe,{}))}),s.jsx(be,{path:"/tools",element:ps("main.tools","/tools",s.jsx(OMe,{}))}),s.jsx(be,{path:"/upload-center",element:ps("main.uploadCenter","/upload-center",s.jsx(TQe,{}),s.jsx(Io,{to:"/login",replace:!0}))}),s.jsx(be,{path:"/UploadCenter",element:s.jsx(Io,{to:"/upload-center",replace:!0})}),s.jsx(be,{path:"/community",element:ps("main.community","/community",s.jsx($Ne,{}))}),s.jsx(be,{path:"/community/scans",element:ps("main.community","/community",s.jsx(U6,{}))}),s.jsx(be,{path:"/community/predictions",element:ps("main.community","/community",s.jsx(P6,{}))}),s.jsx(be,{path:"/community/creators",element:ps("main.community","/community",s.jsx(R6,{}))}),s.jsx(be,{path:"/community/feedback",element:ps("main.community","/community",s.jsx(M6,{}))}),s.jsx(be,{path:"/community/news",element:ps("main.community","/community",s.jsx(D6,{}))}),s.jsx(be,{path:"/community/records",element:ps("main.community","/community",s.jsx(Q6,{}))}),s.jsx(be,{path:"/scans",element:ps("main.scans","/scans",s.jsx(VNe,{}))}),s.jsx(be,{path:"/scans/latest",element:ps("main.scans","/scans",s.jsx(GNe,{}))}),s.jsx(be,{path:"/scans/archive",element:ps("main.scans","/scans",s.jsx(KNe,{}))}),s.jsx(be,{path:"/guild-hub",element:ps("main.guildHub","/guild-hub",s.jsx(zNe,{}))}),s.jsx(be,{path:"/guild-hub/planner",element:ps("main.guildHub","/guild-hub",s.jsx(pIe,{}))}),s.jsx(be,{path:"/guild-hub/fusion-planner",element:ps("main.guildHub","/guild-hub",s.jsx(Z4e,{}))}),s.jsx(be,{path:"/guild-hub/compare-guilds",element:ps("main.guildHub","/guild-hub",s.jsx(eFe,{}))}),s.jsx(be,{path:"/guild-hub/waitlist",element:ps("main.guildHub","/guild-hub",s.jsx(x5e,{}))}),s.jsx(be,{path:"/guild-hub/activity",element:ps("main.guildHub","/guild-hub",s.jsx(B5e,{}))}),s.jsx(be,{path:"/guild-hub/imports",element:ps("main.guildHub","/guild-hub",s.jsx(N5e,{}))}),s.jsx(be,{path:"/guild-hub/announcements",element:ps("main.guildHub","/guild-hub",s.jsx(k5e,{}))}),s.jsx(be,{path:"/guild-hub/events",element:ps("main.guildHub","/guild-hub",s.jsx(I5e,{}))}),s.jsx(be,{path:"/guild-hub/roles",element:ps("main.guildHub","/guild-hub",s.jsx(E5e,{}))}),s.jsx(be,{path:"/guild-hub/settings",element:ps("main.guildHub","/guild-hub",s.jsx(T5e,{}))}),s.jsx(be,{path:"/admin",element:ps("main.admin","/admin",s.jsx(U5e,{}))}),s.jsx(be,{path:"/admin/errors",element:ps("main.admin","/admin",s.jsx(Q5e,{}))}),s.jsx(be,{path:"/admin/scans-uploaded",element:ps("main.admin","/admin",s.jsx(O5e,{}))}),s.jsx(be,{path:"/admin/creators-api",element:ps("main.admin","/admin",s.jsx(J5e,{}))}),s.jsx(be,{path:"/admin/users",element:ps("main.admin","/admin",s.jsx(ALe,{}))}),s.jsx(be,{path:"/settings",element:ps("main.settings","/settings",s.jsx(Io,{to:"/settings/account",replace:!0}))}),s.jsx(be,{path:"/settings/account",element:ps("main.settings","/settings",s.jsx(XRe,{}))}),s.jsxs(be,{path:"/playground",element:ps("main.playground","/playground",s.jsx(JRe,{})),children:[s.jsx(be,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(be,{path:"list-views",element:s.jsx(W4,{})}),s.jsx(be,{path:"rescan-widget",element:s.jsx(X4,{})}),s.jsx(be,{path:"upload-sim",element:s.jsx(Y4,{})}),s.jsx(be,{path:"theme-maker",element:s.jsx(L4,{})}),s.jsx(be,{path:"theme-maker-pro",element:s.jsx(U4,{})}),s.jsx(be,{path:"gamified",element:s.jsx(SPe,{})}),s.jsx(be,{path:"gamified-2",element:s.jsx(NPe,{})}),s.jsx(be,{path:"gamified-3",element:s.jsx(EPe,{})}),s.jsx(be,{path:"gamified-4",element:s.jsx(LPe,{})}),s.jsx(be,{path:"gamified-5",element:s.jsx(PPe,{})}),s.jsx(be,{path:"gamified-6",element:s.jsx(QPe,{})}),s.jsx(be,{path:"gamified-7",element:s.jsx($Pe,{})}),s.jsx(be,{path:"gamified-8",element:s.jsx(KPe,{})}),s.jsx(be,{path:"am-rune-bonuses-demos",element:s.jsx(qUe,{})}),s.jsx(be,{path:"templates/content-shell",element:s.jsx(cDe,{})}),s.jsx(be,{path:"templates/blank",element:s.jsx(uDe,{})}),s.jsx(be,{path:"templates/blank-alt",element:s.jsx(hDe,{})}),s.jsx(be,{path:"templates/blank-layout-2",element:s.jsx(fDe,{})}),s.jsx(be,{path:"templates/blank-layout-3",element:s.jsx(xDe,{})}),s.jsx(be,{path:"templates/blank-layout-4",element:s.jsx(yDe,{})}),s.jsx(be,{path:"portrait-maker",element:s.jsx(iDe,{})}),s.jsx(be,{path:"hud",element:s.jsx(XUe,{})}),s.jsx(be,{path:"hud/game-buttons",element:s.jsx(_Pe,{})}),s.jsx(be,{path:"core-ui/theme-maker",element:s.jsx(L4,{})}),s.jsx(be,{path:"core-ui/theme-maker-pro",element:s.jsx(U4,{})}),s.jsx(be,{path:"core-ui/list-views",element:s.jsx(W4,{})}),s.jsx(be,{path:"sync/rescan",element:s.jsx(X4,{})}),s.jsx(be,{path:"upload/sim",element:s.jsx(Y4,{})}),s.jsx(be,{path:"import/har",element:s.jsx(jDe,{})}),s.jsx(be,{path:"import/json-csv",element:s.jsx(NDe,{})}),s.jsx(be,{path:"import/schema",element:s.jsx(TDe,{})}),s.jsx(be,{path:"hubs/player-contained",element:s.jsx(UDe,{})}),s.jsx(be,{path:"hubs/guilds",element:s.jsx(QDe,{})}),s.jsx(be,{path:"hubs/servers",element:s.jsx(VDe,{})}),s.jsx(be,{path:"rankings/views",element:s.jsx(WDe,{})}),s.jsx(be,{path:"analytics/kpi",element:s.jsx(JDe,{})}),s.jsx(be,{path:"analytics/progression",element:s.jsx(s6e,{})}),s.jsx(be,{path:"analytics/legendary-pets",element:s.jsx(a6e,{})}),s.jsx(be,{path:"community/scans",element:s.jsx(d6e,{})}),s.jsx(be,{path:"community/creators",element:s.jsx(m6e,{})}),s.jsx(be,{path:"feedback/form",element:s.jsx(v6e,{})}),s.jsx(be,{path:"feedback/admin",element:s.jsx(b6e,{})}),s.jsx(be,{path:"help/tutorials",element:s.jsx(S6e,{})}),s.jsx(be,{path:"help/wiki",element:s.jsx(I6e,{})}),s.jsx(be,{path:"legal/tos",element:s.jsx(D6e,{})}),s.jsx(be,{path:"legal/transparency",element:s.jsx(O6e,{})}),s.jsx(be,{path:"settings",element:s.jsx(L6e,{})}),s.jsx(be,{path:"pwa/update",element:s.jsx(K6e,{})}),s.jsx(be,{path:"pwa/install",element:s.jsx(X6e,{})}),s.jsx(be,{path:"connect/manual",element:s.jsx(eMe,{})}),s.jsx(be,{path:"connect/userscript",element:s.jsx(rMe,{})}),s.jsx(be,{path:"interop/exports",element:s.jsx(lMe,{})}),s.jsx(be,{path:"interop/deeplinks",element:s.jsx(AMe,{})}),s.jsx(be,{path:"admin/servers",element:s.jsx(gMe,{})}),s.jsx(be,{path:"admin/jobs",element:s.jsx(yMe,{})}),s.jsx(be,{path:"admin/flags",element:s.jsx(jMe,{})}),s.jsx(be,{path:"perf/table-lab",element:s.jsx(NMe,{})}),s.jsx(be,{path:"mobile/filters",element:s.jsx(TMe,{})}),s.jsx(be,{path:"qa/a11y",element:s.jsx(UMe,{})})]}),s.jsx(be,{path:"/latest-scan",element:s.jsx(Io,{to:"/scans/latest",replace:!0})}),s.jsx(be,{path:"/old-scans",element:s.jsx(Io,{to:"/scans/archive",replace:!0})}),s.jsx(be,{path:"/favorites",element:ca()}),s.jsx(be,{path:"/notifications",element:ca()}),s.jsx(be,{path:"/guilds/planner",element:ca()}),s.jsx(be,{path:"/guilds/fusion",element:ca()}),s.jsx(be,{path:"/guilds/academy",element:ca()}),s.jsx(be,{path:"/toplists/players",element:s.jsx(jF,{tab:"players"})}),s.jsx(be,{path:"/toplists/guilds",element:s.jsx(jF,{tab:"guilds"})}),s.jsx(be,{path:"/toplists/servers",element:ca()}),s.jsx(be,{path:"/settings/profile",element:ca()}),s.jsx(be,{path:"/settings/appearance",element:ca()}),s.jsx(be,{path:"/players/search",element:ca()}),s.jsx(be,{path:"/servers/list",element:ca()}),s.jsx(be,{path:"/servers/trend",element:ca()}),s.jsx(be,{path:"/scans/upload",element:ca()}),s.jsx(be,{path:"/scans/history",element:ca()}),s.jsx(be,{path:"*",element:s.jsx(Io,{to:"/",replace:!0})})]})})}),s.jsx(lQe,{})]})})})})}));
