import w5 from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function X1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ay={exports:{}},Ju={},oy={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function q6(){if(a2)return Yt;a2=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function C(H,J,le){this.props=H,this.context=J,this.refs=S,this.updater=le||b}C.prototype.isReactComponent={},C.prototype.setState=function(H,J){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,J,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=C.prototype;function F(H,J,le){this.props=H,this.context=J,this.refs=S,this.updater=le||b}var k=F.prototype=new E;k.constructor=F,_(k,C.prototype),k.isPureReactComponent=!0;var y=Array.isArray,w=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function N(H,J,le){var oe,he={},xe=null,Re=null;if(J!=null)for(oe in J.ref!==void 0&&(Re=J.ref),J.key!==void 0&&(xe=""+J.key),J)w.call(J,oe)&&!T.hasOwnProperty(oe)&&(he[oe]=J[oe]);var Z=arguments.length-2;if(Z===1)he.children=le;else if(1<Z){for(var fe=Array(Z),ie=0;ie<Z;ie++)fe[ie]=arguments[ie+2];he.children=fe}if(H&&H.defaultProps)for(oe in Z=H.defaultProps,Z)he[oe]===void 0&&(he[oe]=Z[oe]);return{$$typeof:s,type:H,key:xe,ref:Re,props:he,_owner:P.current}}function A(H,J){return{$$typeof:s,type:H.type,key:J,ref:H.ref,props:H.props,_owner:H._owner}}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===s}function R(H){var J={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(le){return J[le]})}var B=/\/+/g;function $(H,J){return typeof H=="object"&&H!==null&&H.key!=null?R(""+H.key):J.toString(36)}function z(H,J,le,oe,he){var xe=typeof H;(xe==="undefined"||xe==="boolean")&&(H=null);var Re=!1;if(H===null)Re=!0;else switch(xe){case"string":case"number":Re=!0;break;case"object":switch(H.$$typeof){case s:case e:Re=!0}}if(Re)return Re=H,he=he(Re),H=oe===""?"."+$(Re,0):oe,y(he)?(le="",H!=null&&(le=H.replace(B,"$&/")+"/"),z(he,J,le,"",function(ie){return ie})):he!=null&&(M(he)&&(he=A(he,le+(!he.key||Re&&Re.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+H)),J.push(he)),1;if(Re=0,oe=oe===""?".":oe+":",y(H))for(var Z=0;Z<H.length;Z++){xe=H[Z];var fe=oe+$(xe,Z);Re+=z(xe,J,le,fe,he)}else if(fe=x(H),typeof fe=="function")for(H=fe.call(H),Z=0;!(xe=H.next()).done;)xe=xe.value,fe=oe+$(xe,Z++),Re+=z(xe,J,le,fe,he);else if(xe==="object")throw J=String(H),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Re}function U(H,J,le){if(H==null)return H;var oe=[],he=0;return z(H,oe,"","",function(xe){return J.call(le,xe,he++)}),oe}function W(H){if(H._status===-1){var J=H._result;J=J(),J.then(function(le){(H._status===0||H._status===-1)&&(H._status=1,H._result=le)},function(le){(H._status===0||H._status===-1)&&(H._status=2,H._result=le)}),H._status===-1&&(H._status=0,H._result=J)}if(H._status===1)return H._result.default;throw H._result}var K={current:null},q={transition:null},se={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:q,ReactCurrentOwner:P};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Yt.Children={map:U,forEach:function(H,J,le){U(H,function(){J.apply(this,arguments)},le)},count:function(H){var J=0;return U(H,function(){J++}),J},toArray:function(H){return U(H,function(J){return J})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Yt.Component=C,Yt.Fragment=n,Yt.Profiler=i,Yt.PureComponent=F,Yt.StrictMode=r,Yt.Suspense=u,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Yt.act=ne,Yt.cloneElement=function(H,J,le){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var oe=_({},H.props),he=H.key,xe=H.ref,Re=H._owner;if(J!=null){if(J.ref!==void 0&&(xe=J.ref,Re=P.current),J.key!==void 0&&(he=""+J.key),H.type&&H.type.defaultProps)var Z=H.type.defaultProps;for(fe in J)w.call(J,fe)&&!T.hasOwnProperty(fe)&&(oe[fe]=J[fe]===void 0&&Z!==void 0?Z[fe]:J[fe])}var fe=arguments.length-2;if(fe===1)oe.children=le;else if(1<fe){Z=Array(fe);for(var ie=0;ie<fe;ie++)Z[ie]=arguments[ie+2];oe.children=Z}return{$$typeof:s,type:H.type,key:he,ref:xe,props:oe,_owner:Re}},Yt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Yt.createElement=N,Yt.createFactory=function(H){var J=N.bind(null,H);return J.type=H,J},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(H){return{$$typeof:c,render:H}},Yt.isValidElement=M,Yt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:W}},Yt.memo=function(H,J){return{$$typeof:h,type:H,compare:J===void 0?null:J}},Yt.startTransition=function(H){var J=q.transition;q.transition={};try{H()}finally{q.transition=J}},Yt.unstable_act=ne,Yt.useCallback=function(H,J){return K.current.useCallback(H,J)},Yt.useContext=function(H){return K.current.useContext(H)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(H){return K.current.useDeferredValue(H)},Yt.useEffect=function(H,J){return K.current.useEffect(H,J)},Yt.useId=function(){return K.current.useId()},Yt.useImperativeHandle=function(H,J,le){return K.current.useImperativeHandle(H,J,le)},Yt.useInsertionEffect=function(H,J){return K.current.useInsertionEffect(H,J)},Yt.useLayoutEffect=function(H,J){return K.current.useLayoutEffect(H,J)},Yt.useMemo=function(H,J){return K.current.useMemo(H,J)},Yt.useReducer=function(H,J,le){return K.current.useReducer(H,J,le)},Yt.useRef=function(H){return K.current.useRef(H)},Yt.useState=function(H){return K.current.useState(H)},Yt.useSyncExternalStore=function(H,J,le){return K.current.useSyncExternalStore(H,J,le)},Yt.useTransition=function(){return K.current.useTransition()},Yt.version="18.3.1",Yt}var o2;function Y1(){return o2||(o2=1,oy.exports=q6()),oy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2;function K6(){if(l2)return Ju;l2=1;var s=Y1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,h){var p,g={},x=null,b=null;h!==void 0&&(x=""+h),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(b=u.ref);for(p in u)r.call(u,p)&&!a.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:c,key:x,ref:b,props:g,_owner:i.current}}return Ju.Fragment=n,Ju.jsx=l,Ju.jsxs=l,Ju}var c2;function Q6(){return c2||(c2=1,ay.exports=K6()),ay.exports}var t=Q6(),I=Y1();const X=X1(I);var Xm={},ly={exports:{}},Or={},cy={exports:{}},dy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function X6(){return d2||(d2=1,(function(s){function e(q,se){var ne=q.length;q.push(se);e:for(;0<ne;){var H=ne-1>>>1,J=q[H];if(0<i(J,se))q[H]=se,q[ne]=J,ne=H;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var se=q[0],ne=q.pop();if(ne!==se){q[0]=ne;e:for(var H=0,J=q.length,le=J>>>1;H<le;){var oe=2*(H+1)-1,he=q[oe],xe=oe+1,Re=q[xe];if(0>i(he,ne))xe<J&&0>i(Re,he)?(q[H]=Re,q[xe]=ne,H=xe):(q[H]=he,q[oe]=ne,H=oe);else if(xe<J&&0>i(Re,ne))q[H]=Re,q[xe]=ne,H=xe;else break e}}return se}function i(q,se){var ne=q.sortIndex-se.sortIndex;return ne!==0?ne:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var u=[],h=[],p=1,g=null,x=3,b=!1,_=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var se=n(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=q)r(h),se.sortIndex=se.expirationTime,e(u,se);else break;se=n(h)}}function y(q){if(S=!1,k(q),!_)if(n(u)!==null)_=!0,W(w);else{var se=n(h);se!==null&&K(y,se.startTime-q)}}function w(q,se){_=!1,S&&(S=!1,E(N),N=-1),b=!0;var ne=x;try{for(k(se),g=n(u);g!==null&&(!(g.expirationTime>se)||q&&!R());){var H=g.callback;if(typeof H=="function"){g.callback=null,x=g.priorityLevel;var J=H(g.expirationTime<=se);se=s.unstable_now(),typeof J=="function"?g.callback=J:g===n(u)&&r(u),k(se)}else r(u);g=n(u)}if(g!==null)var le=!0;else{var oe=n(h);oe!==null&&K(y,oe.startTime-se),le=!1}return le}finally{g=null,x=ne,b=!1}}var P=!1,T=null,N=-1,A=5,M=-1;function R(){return!(s.unstable_now()-M<A)}function B(){if(T!==null){var q=s.unstable_now();M=q;var se=!0;try{se=T(!0,q)}finally{se?$():(P=!1,T=null)}}else P=!1}var $;if(typeof F=="function")$=function(){F(B)};else if(typeof MessageChannel!="undefined"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=B,$=function(){U.postMessage(null)}}else $=function(){C(B,0)};function W(q){T=q,P||(P=!0,$())}function K(q,se){N=C(function(){q(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_continueExecution=function(){_||b||(_=!0,W(w))},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_getFirstCallbackNode=function(){return n(u)},s.unstable_next=function(q){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var ne=x;x=se;try{return q()}finally{x=ne}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=x;x=q;try{return se()}finally{x=ne}},s.unstable_scheduleCallback=function(q,se,ne){var H=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?H+ne:H):ne=H,q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ne+J,q={id:p++,callback:se,priorityLevel:q,startTime:ne,expirationTime:J,sortIndex:-1},ne>H?(q.sortIndex=ne,e(h,q),n(u)===null&&q===n(h)&&(S?(E(N),N=-1):S=!0,K(y,ne-H))):(q.sortIndex=J,e(u,q),_||b||(_=!0,W(w))),q},s.unstable_shouldYield=R,s.unstable_wrapCallback=function(q){var se=x;return function(){var ne=x;x=se;try{return q.apply(this,arguments)}finally{x=ne}}}})(dy)),dy}var u2;function Y6(){return u2||(u2=1,cy.exports=X6()),cy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function J6(){if(h2)return Or;h2=1;var s=Y1(),e=Y6();function n(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,d){l(o,d),l(o+"Capture",d)}function l(o,d){for(i[o]=d,o=0;o<d.length;o++)r.add(d[o])}var c=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function x(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function b(o,d,m,v){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,d,m,v){if(d===null||typeof d=="undefined"||b(o,d,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(o,d,m,v,j,D,V){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=v,this.attributeNamespace=j,this.mustUseProperty=m,this.propertyName=o,this.type=d,this.sanitizeURL=D,this.removeEmptyString=V}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){C[o]=new S(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];C[d]=new S(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){C[o]=new S(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){C[o]=new S(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){C[o]=new S(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){C[o]=new S(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){C[o]=new S(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){C[o]=new S(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){C[o]=new S(o,5,!1,o.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function F(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(E,F);C[d]=new S(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(E,F);C[d]=new S(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(E,F);C[d]=new S(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){C[o]=new S(o,1,!1,o.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){C[o]=new S(o,1,!1,o.toLowerCase(),null,!0,!0)});function k(o,d,m,v){var j=C.hasOwnProperty(d)?C[d]:null;(j!==null?j.type!==0:v||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,m,j,v)&&(m=null),v||j===null?x(d)&&(m===null?o.removeAttribute(d):o.setAttribute(d,""+m)):j.mustUseProperty?o[j.propertyName]=m===null?j.type===3?!1:"":m:(d=j.attributeName,v=j.attributeNamespace,m===null?o.removeAttribute(d):(j=j.type,m=j===3||j===4&&m===!0?"":""+m,v?o.setAttributeNS(v,d,m):o.setAttribute(d,m))))}var y=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),q=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,H;function J(o){if(H===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);H=d&&d[1]||""}return`
`+H+o}var le=!1;function oe(o,d){if(!o||le)return"";le=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(me){var v=me}Reflect.construct(o,[],d)}else{try{d.call()}catch(me){v=me}o.call(d.prototype)}else{try{throw Error()}catch(me){v=me}o()}}catch(me){if(me&&v&&typeof me.stack=="string"){for(var j=me.stack.split(`
`),D=v.stack.split(`
`),V=j.length-1,Q=D.length-1;1<=V&&0<=Q&&j[V]!==D[Q];)Q--;for(;1<=V&&0<=Q;V--,Q--)if(j[V]!==D[Q]){if(V!==1||Q!==1)do if(V--,Q--,0>Q||j[V]!==D[Q]){var ee=`
`+j[V].replace(" at new "," at ");return o.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",o.displayName)),ee}while(1<=V&&0<=Q);break}}}finally{le=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?J(o):""}function he(o){switch(o.tag){case 5:return J(o.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return o=oe(o.type,!1),o;case 11:return o=oe(o.type.render,!1),o;case 1:return o=oe(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case P:return"Portal";case A:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case R:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case B:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return d=o.displayName||null,d!==null?d:xe(o.type)||"Memo";case W:d=o._payload,o=o._init;try{return xe(o(d))}catch(m){}}return null}function Re(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(d);case 8:return d===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function fe(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ie(o){var d=fe(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),v=""+o[d];if(!o.hasOwnProperty(d)&&typeof m!="undefined"&&typeof m.get=="function"&&typeof m.set=="function"){var j=m.get,D=m.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return j.call(this)},set:function(V){v=""+V,D.call(this,V)}}),Object.defineProperty(o,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function _e(o){o._valueTracker||(o._valueTracker=ie(o))}function be(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return o&&(v=fe(o)?o.checked?"true":"false":o.value),o=v,o!==m?(d.setValue(o),!0):!1}function Se(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(d){return o.body}}function Ve(o,d){var m=d.checked;return ne({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m!=null?m:o._wrapperState.initialChecked})}function Ue(o,d){var m=d.defaultValue==null?"":d.defaultValue,v=d.checked!=null?d.checked:d.defaultChecked;m=Z(d.value!=null?d.value:m),o._wrapperState={initialChecked:v,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function tt(o,d){d=d.checked,d!=null&&k(o,"checked",d,!1)}function Je(o,d){tt(o,d);var m=Z(d.value),v=d.type;if(m!=null)v==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?Wt(o,d.type,m):d.hasOwnProperty("defaultValue")&&Wt(o,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function ct(o,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!(v!=="submit"&&v!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,m||d===o.value||(o.value=d),o.defaultValue=d}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function Wt(o,d,m){(d!=="number"||Se(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var je=Array.isArray;function Qe(o,d,m,v){if(o=o.options,d){d={};for(var j=0;j<m.length;j++)d["$"+m[j]]=!0;for(m=0;m<o.length;m++)j=d.hasOwnProperty("$"+o[m].value),o[m].selected!==j&&(o[m].selected=j),j&&v&&(o[m].defaultSelected=!0)}else{for(m=""+Z(m),d=null,j=0;j<o.length;j++){if(o[j].value===m){o[j].selected=!0,v&&(o[j].defaultSelected=!0);return}d!==null||o[j].disabled||(d=o[j])}d!==null&&(d.selected=!0)}}function Ke(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function vt(o,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(je(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}o._wrapperState={initialValue:Z(m)}}function kt(o,d){var m=Z(d.value),v=Z(d.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),d.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),v!=null&&(o.defaultValue=""+v)}function qe(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Ce(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Ce(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var St,Bt=(function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(d,m,v,j){MSApp.execUnsafeLocalFunction(function(){return o(d,m,v,j)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(St=St||document.createElement("div"),St.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=St.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function ks(o,d){if(d){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=d;return}}o.textContent=d}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(o){hs.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),us[d]=us[o]})});function Gs(o,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||us.hasOwnProperty(o)&&us[o]?(""+d).trim():d+"px"}function bt(o,d){o=o.style;for(var m in d)if(d.hasOwnProperty(m)){var v=m.indexOf("--")===0,j=Gs(m,d[m],v);m==="float"&&(m="cssFloat"),v?o.setProperty(m,j):o[m]=j}}var we=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(o,d){if(d){if(we[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Xt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y=null;function Fe(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var He=null,nt=null,ot=null;function _t(o){if(o=Fu(o)){if(typeof He!="function")throw Error(n(280));var d=o.stateNode;d&&(d=um(d),He(o.stateNode,o.type,d))}}function as(o){nt?ot?ot.push(o):ot=[o]:nt=o}function $s(){if(nt){var o=nt,d=ot;if(ot=nt=null,_t(o),d)for(o=0;o<d.length;o++)_t(d[o])}}function kn(o,d){return o(d)}function rr(){}var hn=!1;function pi(o,d,m){if(hn)return o(d,m);hn=!0;try{return kn(o,d,m)}finally{hn=!1,(nt!==null||ot!==null)&&(rr(),$s())}}function fs(o,d){var m=o.stateNode;if(m===null)return null;var v=um(m);if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var On=!1;if(c)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){On=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch(o){On=!1}function fr(o,d,m,v,j,D,V,Q,ee){var me=Array.prototype.slice.call(arguments,3);try{d.apply(m,me)}catch(Te){this.onError(Te)}}var vr=!1,xr=null,Cn=!1,os=null,Cs={onError:function(o){vr=!0,xr=o}};function Vn(o,d,m,v,j,D,V,Q,ee){vr=!1,xr=null,fr.apply(Cs,arguments)}function Xr(o,d,m,v,j,D,V,Q,ee){if(Vn.apply(this,arguments),vr){if(vr){var me=xr;vr=!1,xr=null}else throw Error(n(198));Cn||(Cn=!0,os=me)}}function qt(o){var d=o,m=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(m=d.return),o=d.return;while(o)}return d.tag===3?m:null}function ta(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function Pr(o){if(qt(o)!==o)throw Error(n(188))}function El(o){var d=o.alternate;if(!d){if(d=qt(o),d===null)throw Error(n(188));return d!==o?null:o}for(var m=o,v=d;;){var j=m.return;if(j===null)break;var D=j.alternate;if(D===null){if(v=j.return,v!==null){m=v;continue}break}if(j.child===D.child){for(D=j.child;D;){if(D===m)return Pr(j),o;if(D===v)return Pr(j),d;D=D.sibling}throw Error(n(188))}if(m.return!==v.return)m=j,v=D;else{for(var V=!1,Q=j.child;Q;){if(Q===m){V=!0,m=j,v=D;break}if(Q===v){V=!0,v=j,m=D;break}Q=Q.sibling}if(!V){for(Q=D.child;Q;){if(Q===m){V=!0,m=D,v=j;break}if(Q===v){V=!0,v=D,m=j;break}Q=Q.sibling}if(!V)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:d}function No(o){return o=El(o),o!==null?Ea(o):null}function Ea(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Ea(o);if(d!==null)return d;o=o.sibling}return null}var Pa=e.unstable_scheduleCallback,ko=e.unstable_cancelCallback,Pl=e.unstable_shouldYield,Mc=e.unstable_requestPaint,js=e.unstable_now,Rl=e.unstable_getCurrentPriorityLevel,sa=e.unstable_ImmediatePriority,Pi=e.unstable_UserBlockingPriority,yr=e.unstable_NormalPriority,bu=e.unstable_LowPriority,Op=e.unstable_IdlePriority,Ll=null,Yr=null;function Vp(o){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Ll,o,void 0,(o.current.flags&128)===128)}catch(d){}}var br=Math.clz32?Math.clz32:zp,_u=Math.log,Up=Math.LN2;function zp(o){return o>>>=0,o===0?32:31-(_u(o)/Up|0)|0}var Fc=64,Bc=4194304;function Co(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Dl(o,d){var m=o.pendingLanes;if(m===0)return 0;var v=0,j=o.suspendedLanes,D=o.pingedLanes,V=m&268435455;if(V!==0){var Q=V&~j;Q!==0?v=Co(Q):(D&=V,D!==0&&(v=Co(D)))}else V=m&~j,V!==0?v=Co(V):D!==0&&(v=Co(D));if(v===0)return 0;if(d!==0&&d!==v&&(d&j)===0&&(j=v&-v,D=d&-d,j>=D||j===16&&(D&4194240)!==0))return d;if((v&4)!==0&&(v|=m&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=v;0<d;)m=31-br(d),j=1<<m,v|=o[m],d&=~j;return v}function Mv(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(o,d){for(var m=o.suspendedLanes,v=o.pingedLanes,j=o.expirationTimes,D=o.pendingLanes;0<D;){var V=31-br(D),Q=1<<V,ee=j[V];ee===-1?((Q&m)===0||(Q&v)!==0)&&(j[V]=Mv(Q,d)):ee<=d&&(o.expiredLanes|=Q),D&=~Q}}function Jr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ml(){var o=Fc;return Fc<<=1,(Fc&4194240)===0&&(Fc=64),o}function To(o){for(var d=[],m=0;31>m;m++)d.push(o);return d}function Io(o,d,m){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-br(d),o[d]=m}function Ts(o,d){var m=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<m;){var j=31-br(m),D=1<<j;d[j]=0,v[j]=-1,o[j]=-1,m&=~D}}function Ao(o,d){var m=o.entangledLanes|=d;for(o=o.entanglements;m;){var v=31-br(m),j=1<<v;j&d|o[v]&d&&(o[v]|=d),m&=~j}}var ns=0;function Eo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Hp,$c,Gp,Wp,qp,wu=!1,na=[],Un=null,Ri=null,Li=null,Po=new Map,mi=new Map,ra=[],Fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(o,d){switch(o){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Po.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(d.pointerId)}}function Rr(o,d,m,v,j,D){return o===null||o.nativeEvent!==D?(o={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:D,targetContainers:[j]},d!==null&&(d=Fu(d),d!==null&&$c(d)),o):(o.eventSystemFlags|=v,d=o.targetContainers,j!==null&&d.indexOf(j)===-1&&d.push(j),o)}function Bv(o,d,m,v,j){switch(d){case"focusin":return Un=Rr(Un,o,d,m,v,j),!0;case"dragenter":return Ri=Rr(Ri,o,d,m,v,j),!0;case"mouseover":return Li=Rr(Li,o,d,m,v,j),!0;case"pointerover":var D=j.pointerId;return Po.set(D,Rr(Po.get(D)||null,o,d,m,v,j)),!0;case"gotpointercapture":return D=j.pointerId,mi.set(D,Rr(mi.get(D)||null,o,d,m,v,j)),!0}return!1}function Qp(o){var d=Vl(o.target);if(d!==null){var m=qt(d);if(m!==null){if(d=m.tag,d===13){if(d=ta(m),d!==null){o.blockedOn=d,qp(o.priority,function(){Gp(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function La(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var m=Oc(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var v=new m.constructor(m.type,m);Y=v,m.target.dispatchEvent(v),Y=null}else return d=Fu(m),d!==null&&$c(d),o.blockedOn=m,!1;d.shift()}return!0}function Fl(o,d,m){La(o)&&m.delete(d)}function Xp(){wu=!1,Un!==null&&La(Un)&&(Un=null),Ri!==null&&La(Ri)&&(Ri=null),Li!==null&&La(Li)&&(Li=null),Po.forEach(Fl),mi.forEach(Fl)}function Di(o,d){o.blockedOn===d&&(o.blockedOn=null,wu||(wu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xp)))}function Mi(o){function d(j){return Di(j,o)}if(0<na.length){Di(na[0],o);for(var m=1;m<na.length;m++){var v=na[m];v.blockedOn===o&&(v.blockedOn=null)}}for(Un!==null&&Di(Un,o),Ri!==null&&Di(Ri,o),Li!==null&&Di(Li,o),Po.forEach(d),mi.forEach(d),m=0;m<ra.length;m++)v=ra[m],v.blockedOn===o&&(v.blockedOn=null);for(;0<ra.length&&(m=ra[0],m.blockedOn===null);)Qp(m),m.blockedOn===null&&ra.shift()}var Da=y.ReactCurrentBatchConfig,Ro=!0;function Os(o,d,m,v){var j=ns,D=Da.transition;Da.transition=null;try{ns=1,ju(o,d,m,v)}finally{ns=j,Da.transition=D}}function $v(o,d,m,v){var j=ns,D=Da.transition;Da.transition=null;try{ns=4,ju(o,d,m,v)}finally{ns=j,Da.transition=D}}function ju(o,d,m,v){if(Ro){var j=Oc(o,d,m,v);if(j===null)Xv(o,d,v,Bl,m),Kp(o,v);else if(Bv(j,o,d,m,v))v.stopPropagation();else if(Kp(o,v),d&4&&-1<Fv.indexOf(o)){for(;j!==null;){var D=Fu(j);if(D!==null&&Hp(D),D=Oc(o,d,m,v),D===null&&Xv(o,d,v,Bl,m),D===j)break;j=D}j!==null&&v.stopPropagation()}else Xv(o,d,v,null,m)}}var Bl=null;function Oc(o,d,m,v){if(Bl=null,o=Fe(v),o=Vl(o),o!==null)if(d=qt(o),d===null)o=null;else if(m=d.tag,m===13){if(o=ta(d),o!==null)return o;o=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return Bl=o,null}function Su(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rl()){case sa:return 1;case Pi:return 4;case yr:case bu:return 16;case Op:return 536870912;default:return 16}default:return 16}}var Zr=null,Vc=null,Lr=null;function Nu(){if(Lr)return Lr;var o,d=Vc,m=d.length,v,j="value"in Zr?Zr.value:Zr.textContent,D=j.length;for(o=0;o<m&&d[o]===j[o];o++);var V=m-o;for(v=1;v<=V&&d[m-v]===j[D-v];v++);return Lr=j.slice(o,1<v?1-v:void 0)}function Uc(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function ia(){return!0}function ku(){return!1}function zn(o){function d(m,v,j,D,V){this._reactName=m,this._targetInst=j,this.type=v,this.nativeEvent=D,this.target=V,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(m=o[Q],this[Q]=m?m(D):D[Q]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?ia:ku,this.isPropagationStopped=ku,this}return ne(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),d}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=zn(Fi),aa=ne({},Fi,{view:0,detail:0}),Ov=zn(aa),Hc,Ma,Lo,$l=ne({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Lo&&(Lo&&o.type==="mousemove"?(Hc=o.screenX-Lo.screenX,Ma=o.screenY-Lo.screenY):Ma=Hc=0,Lo=o),Hc)},movementY:function(o){return"movementY"in o?o.movementY:Ma}}),Gc=zn($l),Cu=ne({},$l,{dataTransfer:0}),Yp=zn(Cu),Wc=ne({},aa,{relatedTarget:0}),qc=zn(Wc),Jp=ne({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=zn(Jp),Zp=ne({},Fi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),em=zn(Zp),tm=ne({},Fi,{data:0}),Tu=zn(tm),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nm(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=sm[o])?!!d[o]:!1}function oa(){return nm}var f=ne({},aa,{key:function(o){if(o.key){var d=Kc[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Uc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?_r[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(o){return o.type==="keypress"?Uc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Uc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),L=zn(f),O=ne({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=zn(O),de=ne({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),ve=zn(de),Oe=ne({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ss=zn(Oe),_n=ne({},$l,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ls=zn(_n),Tn=[9,13,27,32],pn=c&&"CompositionEvent"in window,gi=null;c&&"documentMode"in document&&(gi=document.documentMode);var ei=c&&"TextEvent"in window&&!gi,Ol=c&&(!pn||gi&&8<gi&&11>=gi),Qc=" ",ew=!1;function tw(o,d){switch(o){case"keyup":return Tn.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xc=!1;function HE(o,d){switch(o){case"compositionend":return sw(d);case"keypress":return d.which!==32?null:(ew=!0,Qc);case"textInput":return o=d.data,o===Qc&&ew?null:o;default:return null}}function GE(o,d){if(Xc)return o==="compositionend"||!pn&&tw(o,d)?(o=Nu(),Lr=Vc=Zr=null,Xc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ol&&d.locale!=="ko"?null:d.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!WE[o.type]:d==="textarea"}function rw(o,d,m,v){as(v),d=lm(d,"onChange"),0<d.length&&(m=new zc("onChange","change",null,m,v),o.push({event:m,listeners:d}))}var Iu=null,Au=null;function qE(o){ww(o,0)}function rm(o){var d=td(o);if(be(d))return o}function KE(o,d){if(o==="change")return d}var iw=!1;if(c){var Vv;if(c){var Uv="oninput"in document;if(!Uv){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),Uv=typeof aw.oninput=="function"}Vv=Uv}else Vv=!1;iw=Vv&&(!document.documentMode||9<document.documentMode)}function ow(){Iu&&(Iu.detachEvent("onpropertychange",lw),Au=Iu=null)}function lw(o){if(o.propertyName==="value"&&rm(Au)){var d=[];rw(d,Au,o,Fe(o)),pi(qE,d)}}function QE(o,d,m){o==="focusin"?(ow(),Iu=d,Au=m,Iu.attachEvent("onpropertychange",lw)):o==="focusout"&&ow()}function XE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return rm(Au)}function YE(o,d){if(o==="click")return rm(d)}function JE(o,d){if(o==="input"||o==="change")return rm(d)}function ZE(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var Bi=typeof Object.is=="function"?Object.is:ZE;function Eu(o,d){if(Bi(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var m=Object.keys(o),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var j=m[v];if(!u.call(d,j)||!Bi(o[j],d[j]))return!1}return!0}function cw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function dw(o,d){var m=cw(o);o=0;for(var v;m;){if(m.nodeType===3){if(v=o+m.textContent.length,o<=d&&v>=d)return{node:m,offset:d-o};o=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=cw(m)}}function uw(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?uw(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function hw(){for(var o=window,d=Se();d instanceof o.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch(v){m=!1}if(m)o=d.contentWindow;else break;d=Se(o.document)}return d}function zv(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function e6(o){var d=hw(),m=o.focusedElem,v=o.selectionRange;if(d!==m&&m&&m.ownerDocument&&uw(m.ownerDocument.documentElement,m)){if(v!==null&&zv(m)){if(d=v.start,o=v.end,o===void 0&&(o=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(o,m.value.length);else if(o=(d=m.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var j=m.textContent.length,D=Math.min(v.start,j);v=v.end===void 0?D:Math.min(v.end,j),!o.extend&&D>v&&(j=v,v=D,D=j),j=dw(m,D);var V=dw(m,v);j&&V&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(d=d.createRange(),d.setStart(j.node,j.offset),o.removeAllRanges(),D>v?(o.addRange(d),o.extend(V.node,V.offset)):(d.setEnd(V.node,V.offset),o.addRange(d)))}}for(d=[],o=m;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)o=d[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var t6=c&&"documentMode"in document&&11>=document.documentMode,Yc=null,Hv=null,Pu=null,Gv=!1;function pw(o,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Gv||Yc==null||Yc!==Se(v)||(v=Yc,"selectionStart"in v&&zv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Pu&&Eu(Pu,v)||(Pu=v,v=lm(Hv,"onSelect"),0<v.length&&(d=new zc("onSelect","select",null,d,m),o.push({event:d,listeners:v}),d.target=Yc)))}function im(o,d){var m={};return m[o.toLowerCase()]=d.toLowerCase(),m["Webkit"+o]="webkit"+d,m["Moz"+o]="moz"+d,m}var Jc={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},Wv={},mw={};c&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function am(o){if(Wv[o])return Wv[o];if(!Jc[o])return o;var d=Jc[o],m;for(m in d)if(d.hasOwnProperty(m)&&m in mw)return Wv[o]=d[m];return o}var gw=am("animationend"),fw=am("animationiteration"),vw=am("animationstart"),xw=am("transitionend"),yw=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(o,d){yw.set(o,d),a(d,[o])}for(var qv=0;qv<bw.length;qv++){var Kv=bw[qv],s6=Kv.toLowerCase(),n6=Kv[0].toUpperCase()+Kv.slice(1);Do(s6,"on"+n6)}Do(gw,"onAnimationEnd"),Do(fw,"onAnimationIteration"),Do(vw,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(xw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ru));function _w(o,d,m){var v=o.type||"unknown-event";o.currentTarget=m,Xr(v,d,void 0,o),o.currentTarget=null}function ww(o,d){d=(d&4)!==0;for(var m=0;m<o.length;m++){var v=o[m],j=v.event;v=v.listeners;e:{var D=void 0;if(d)for(var V=v.length-1;0<=V;V--){var Q=v[V],ee=Q.instance,me=Q.currentTarget;if(Q=Q.listener,ee!==D&&j.isPropagationStopped())break e;_w(j,Q,me),D=ee}else for(V=0;V<v.length;V++){if(Q=v[V],ee=Q.instance,me=Q.currentTarget,Q=Q.listener,ee!==D&&j.isPropagationStopped())break e;_w(j,Q,me),D=ee}}}if(Cn)throw o=os,Cn=!1,os=null,o}function Ds(o,d){var m=d[sx];m===void 0&&(m=d[sx]=new Set);var v=o+"__bubble";m.has(v)||(jw(d,o,2,!1),m.add(v))}function Qv(o,d,m){var v=0;d&&(v|=4),jw(m,o,v,d)}var om="_reactListening"+Math.random().toString(36).slice(2);function Lu(o){if(!o[om]){o[om]=!0,r.forEach(function(m){m!=="selectionchange"&&(r6.has(m)||Qv(m,!1,o),Qv(m,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[om]||(d[om]=!0,Qv("selectionchange",!1,d))}}function jw(o,d,m,v){switch(Su(d)){case 1:var j=Os;break;case 4:j=$v;break;default:j=ju}m=j.bind(null,d,m,o),j=void 0,!On||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(j=!0),v?j!==void 0?o.addEventListener(d,m,{capture:!0,passive:j}):o.addEventListener(d,m,!0):j!==void 0?o.addEventListener(d,m,{passive:j}):o.addEventListener(d,m,!1)}function Xv(o,d,m,v,j){var D=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var Q=v.stateNode.containerInfo;if(Q===j||Q.nodeType===8&&Q.parentNode===j)break;if(V===4)for(V=v.return;V!==null;){var ee=V.tag;if((ee===3||ee===4)&&(ee=V.stateNode.containerInfo,ee===j||ee.nodeType===8&&ee.parentNode===j))return;V=V.return}for(;Q!==null;){if(V=Vl(Q),V===null)return;if(ee=V.tag,ee===5||ee===6){v=D=V;continue e}Q=Q.parentNode}}v=v.return}pi(function(){var me=D,Te=Fe(m),Pe=[];e:{var ke=yw.get(o);if(ke!==void 0){var Ye=zc,st=o;switch(o){case"keypress":if(Uc(m)===0)break e;case"keydown":case"keyup":Ye=L;break;case"focusin":st="focus",Ye=qc;break;case"focusout":st="blur",Ye=qc;break;case"beforeblur":case"afterblur":Ye=qc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=ve;break;case gw:case fw:case vw:Ye=Fa;break;case xw:Ye=Ss;break;case"scroll":Ye=Ov;break;case"wheel":Ye=ls;break;case"copy":case"cut":case"paste":Ye=em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=G}var rt=(d&4)!==0,rn=!rt&&o==="scroll",ue=rt?ke!==null?ke+"Capture":null:ke;rt=[];for(var re=me,pe;re!==null;){pe=re;var De=pe.stateNode;if(pe.tag===5&&De!==null&&(pe=De,ue!==null&&(De=fs(re,ue),De!=null&&rt.push(Du(re,De,pe)))),rn)break;re=re.return}0<rt.length&&(ke=new Ye(ke,st,null,m,Te),Pe.push({event:ke,listeners:rt}))}}if((d&7)===0){e:{if(ke=o==="mouseover"||o==="pointerover",Ye=o==="mouseout"||o==="pointerout",ke&&m!==Y&&(st=m.relatedTarget||m.fromElement)&&(Vl(st)||st[Ba]))break e;if((Ye||ke)&&(ke=Te.window===Te?Te:(ke=Te.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ye?(st=m.relatedTarget||m.toElement,Ye=me,st=st?Vl(st):null,st!==null&&(rn=qt(st),st!==rn||st.tag!==5&&st.tag!==6)&&(st=null)):(Ye=null,st=me),Ye!==st)){if(rt=Gc,De="onMouseLeave",ue="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(rt=G,De="onPointerLeave",ue="onPointerEnter",re="pointer"),rn=Ye==null?ke:td(Ye),pe=st==null?ke:td(st),ke=new rt(De,re+"leave",Ye,m,Te),ke.target=rn,ke.relatedTarget=pe,De=null,Vl(Te)===me&&(rt=new rt(ue,re+"enter",st,m,Te),rt.target=pe,rt.relatedTarget=rn,De=rt),rn=De,Ye&&st)t:{for(rt=Ye,ue=st,re=0,pe=rt;pe;pe=Zc(pe))re++;for(pe=0,De=ue;De;De=Zc(De))pe++;for(;0<re-pe;)rt=Zc(rt),re--;for(;0<pe-re;)ue=Zc(ue),pe--;for(;re--;){if(rt===ue||ue!==null&&rt===ue.alternate)break t;rt=Zc(rt),ue=Zc(ue)}rt=null}else rt=null;Ye!==null&&Sw(Pe,ke,Ye,rt,!1),st!==null&&rn!==null&&Sw(Pe,rn,st,rt,!0)}}e:{if(ke=me?td(me):window,Ye=ke.nodeName&&ke.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&ke.type==="file")var lt=KE;else if(nw(ke))if(iw)lt=JE;else{lt=XE;var gt=QE}else(Ye=ke.nodeName)&&Ye.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(lt=YE);if(lt&&(lt=lt(o,me))){rw(Pe,lt,m,Te);break e}gt&&gt(o,ke,me),o==="focusout"&&(gt=ke._wrapperState)&&gt.controlled&&ke.type==="number"&&Wt(ke,"number",ke.value)}switch(gt=me?td(me):window,o){case"focusin":(nw(gt)||gt.contentEditable==="true")&&(Yc=gt,Hv=me,Pu=null);break;case"focusout":Pu=Hv=Yc=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,pw(Pe,m,Te);break;case"selectionchange":if(t6)break;case"keydown":case"keyup":pw(Pe,m,Te)}var ft;if(pn)e:{switch(o){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else Xc?tw(o,m)&&(Nt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ol&&m.locale!=="ko"&&(Xc||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Xc&&(ft=Nu()):(Zr=Te,Vc="value"in Zr?Zr.value:Zr.textContent,Xc=!0)),gt=lm(me,Nt),0<gt.length&&(Nt=new Tu(Nt,o,null,m,Te),Pe.push({event:Nt,listeners:gt}),ft?Nt.data=ft:(ft=sw(m),ft!==null&&(Nt.data=ft)))),(ft=ei?HE(o,m):GE(o,m))&&(me=lm(me,"onBeforeInput"),0<me.length&&(Te=new Tu("onBeforeInput","beforeinput",null,m,Te),Pe.push({event:Te,listeners:me}),Te.data=ft))}ww(Pe,d)})}function Du(o,d,m){return{instance:o,listener:d,currentTarget:m}}function lm(o,d){for(var m=d+"Capture",v=[];o!==null;){var j=o,D=j.stateNode;j.tag===5&&D!==null&&(j=D,D=fs(o,m),D!=null&&v.unshift(Du(o,D,j)),D=fs(o,d),D!=null&&v.push(Du(o,D,j))),o=o.return}return v}function Zc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Sw(o,d,m,v,j){for(var D=d._reactName,V=[];m!==null&&m!==v;){var Q=m,ee=Q.alternate,me=Q.stateNode;if(ee!==null&&ee===v)break;Q.tag===5&&me!==null&&(Q=me,j?(ee=fs(m,D),ee!=null&&V.unshift(Du(m,ee,Q))):j||(ee=fs(m,D),ee!=null&&V.push(Du(m,ee,Q)))),m=m.return}V.length!==0&&o.push({event:d,listeners:V})}var i6=/\r\n?/g,a6=/\u0000|\uFFFD/g;function Nw(o){return(typeof o=="string"?o:""+o).replace(i6,`
`).replace(a6,"")}function cm(o,d,m){if(d=Nw(d),Nw(o)!==d&&m)throw Error(n(425))}function dm(){}var Yv=null,Jv=null;function Zv(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var ex=typeof setTimeout=="function"?setTimeout:void 0,o6=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,l6=typeof queueMicrotask=="function"?queueMicrotask:typeof kw!="undefined"?function(o){return kw.resolve(null).then(o).catch(c6)}:ex;function c6(o){setTimeout(function(){throw o})}function tx(o,d){var m=d,v=0;do{var j=m.nextSibling;if(o.removeChild(m),j&&j.nodeType===8)if(m=j.data,m==="/$"){if(v===0){o.removeChild(j),Mi(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=j}while(m);Mi(d)}function Mo(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function Cw(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return o;d--}else m==="/$"&&d++}o=o.previousSibling}return null}var ed=Math.random().toString(36).slice(2),la="__reactFiber$"+ed,Mu="__reactProps$"+ed,Ba="__reactContainer$"+ed,sx="__reactEvents$"+ed,d6="__reactListeners$"+ed,u6="__reactHandles$"+ed;function Vl(o){var d=o[la];if(d)return d;for(var m=o.parentNode;m;){if(d=m[Ba]||m[la]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(o=Cw(o);o!==null;){if(m=o[la])return m;o=Cw(o)}return d}o=m,m=o.parentNode}return null}function Fu(o){return o=o[la]||o[Ba],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function td(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function um(o){return o[Mu]||null}var nx=[],sd=-1;function Fo(o){return{current:o}}function Ms(o){0>sd||(o.current=nx[sd],nx[sd]=null,sd--)}function Es(o,d){sd++,nx[sd]=o.current,o.current=d}var Bo={},ir=Fo(Bo),Dr=Fo(!1),Ul=Bo;function nd(o,d){var m=o.type.contextTypes;if(!m)return Bo;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var j={},D;for(D in m)j[D]=d[D];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=j),j}function Mr(o){return o=o.childContextTypes,o!=null}function hm(){Ms(Dr),Ms(ir)}function Tw(o,d,m){if(ir.current!==Bo)throw Error(n(168));Es(ir,d),Es(Dr,m)}function Iw(o,d,m){var v=o.stateNode;if(d=d.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var j in v)if(!(j in d))throw Error(n(108,Re(o)||"Unknown",j));return ne({},m,v)}function pm(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Bo,Ul=ir.current,Es(ir,o),Es(Dr,Dr.current),!0}function Aw(o,d,m){var v=o.stateNode;if(!v)throw Error(n(169));m?(o=Iw(o,d,Ul),v.__reactInternalMemoizedMergedChildContext=o,Ms(Dr),Ms(ir),Es(ir,o)):Ms(Dr),Es(Dr,m)}var $a=null,mm=!1,rx=!1;function Ew(o){$a===null?$a=[o]:$a.push(o)}function h6(o){mm=!0,Ew(o)}function $o(){if(!rx&&$a!==null){rx=!0;var o=0,d=ns;try{var m=$a;for(ns=1;o<m.length;o++){var v=m[o];do v=v(!0);while(v!==null)}$a=null,mm=!1}catch(j){throw $a!==null&&($a=$a.slice(o+1)),Pa(sa,$o),j}finally{ns=d,rx=!1}}return null}var rd=[],id=0,gm=null,fm=0,fi=[],vi=0,zl=null,Oa=1,Va="";function Hl(o,d){rd[id++]=fm,rd[id++]=gm,gm=o,fm=d}function Pw(o,d,m){fi[vi++]=Oa,fi[vi++]=Va,fi[vi++]=zl,zl=o;var v=Oa;o=Va;var j=32-br(v)-1;v&=~(1<<j),m+=1;var D=32-br(d)+j;if(30<D){var V=j-j%5;D=(v&(1<<V)-1).toString(32),v>>=V,j-=V,Oa=1<<32-br(d)+j|m<<j|v,Va=D+o}else Oa=1<<D|m<<j|v,Va=o}function ix(o){o.return!==null&&(Hl(o,1),Pw(o,1,0))}function ax(o){for(;o===gm;)gm=rd[--id],rd[id]=null,fm=rd[--id],rd[id]=null;for(;o===zl;)zl=fi[--vi],fi[vi]=null,Va=fi[--vi],fi[vi]=null,Oa=fi[--vi],fi[vi]=null}var ti=null,si=null,Vs=!1,$i=null;function Rw(o,d){var m=_i(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=o,d=o.deletions,d===null?(o.deletions=[m],o.flags|=16):d.push(m)}function Lw(o,d){switch(o.tag){case 5:var m=o.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,ti=o,si=Mo(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,ti=o,si=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=zl!==null?{id:Oa,overflow:Va}:null,o.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=_i(18,null,null,0),m.stateNode=d,m.return=o,o.child=m,ti=o,si=null,!0):!1;default:return!1}}function ox(o){return(o.mode&1)!==0&&(o.flags&128)===0}function lx(o){if(Vs){var d=si;if(d){var m=d;if(!Lw(o,d)){if(ox(o))throw Error(n(418));d=Mo(m.nextSibling);var v=ti;d&&Lw(o,d)?Rw(v,m):(o.flags=o.flags&-4097|2,Vs=!1,ti=o)}}else{if(ox(o))throw Error(n(418));o.flags=o.flags&-4097|2,Vs=!1,ti=o}}}function Dw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ti=o}function vm(o){if(o!==ti)return!1;if(!Vs)return Dw(o),Vs=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!Zv(o.type,o.memoizedProps)),d&&(d=si)){if(ox(o))throw Mw(),Error(n(418));for(;d;)Rw(o,d),d=Mo(d.nextSibling)}if(Dw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(d===0){si=Mo(o.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}o=o.nextSibling}si=null}}else si=ti?Mo(o.stateNode.nextSibling):null;return!0}function Mw(){for(var o=si;o;)o=Mo(o.nextSibling)}function ad(){si=ti=null,Vs=!1}function cx(o){$i===null?$i=[o]:$i.push(o)}var p6=y.ReactCurrentBatchConfig;function Bu(o,d,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,o));var j=v,D=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===D?d.ref:(d=function(V){var Q=j.refs;V===null?delete Q[D]:Q[D]=V},d._stringRef=D,d)}if(typeof o!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,o))}return o}function xm(o,d){throw o=Object.prototype.toString.call(d),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function Fw(o){var d=o._init;return d(o._payload)}function Bw(o){function d(ue,re){if(o){var pe=ue.deletions;pe===null?(ue.deletions=[re],ue.flags|=16):pe.push(re)}}function m(ue,re){if(!o)return null;for(;re!==null;)d(ue,re),re=re.sibling;return null}function v(ue,re){for(ue=new Map;re!==null;)re.key!==null?ue.set(re.key,re):ue.set(re.index,re),re=re.sibling;return ue}function j(ue,re){return ue=qo(ue,re),ue.index=0,ue.sibling=null,ue}function D(ue,re,pe){return ue.index=pe,o?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<re?(ue.flags|=2,re):pe):(ue.flags|=2,re)):(ue.flags|=1048576,re)}function V(ue){return o&&ue.alternate===null&&(ue.flags|=2),ue}function Q(ue,re,pe,De){return re===null||re.tag!==6?(re=ey(pe,ue.mode,De),re.return=ue,re):(re=j(re,pe),re.return=ue,re)}function ee(ue,re,pe,De){var lt=pe.type;return lt===T?Te(ue,re,pe.props.children,De,pe.key):re!==null&&(re.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===W&&Fw(lt)===re.type)?(De=j(re,pe.props),De.ref=Bu(ue,re,pe),De.return=ue,De):(De=Um(pe.type,pe.key,pe.props,null,ue.mode,De),De.ref=Bu(ue,re,pe),De.return=ue,De)}function me(ue,re,pe,De){return re===null||re.tag!==4||re.stateNode.containerInfo!==pe.containerInfo||re.stateNode.implementation!==pe.implementation?(re=ty(pe,ue.mode,De),re.return=ue,re):(re=j(re,pe.children||[]),re.return=ue,re)}function Te(ue,re,pe,De,lt){return re===null||re.tag!==7?(re=Jl(pe,ue.mode,De,lt),re.return=ue,re):(re=j(re,pe),re.return=ue,re)}function Pe(ue,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number")return re=ey(""+re,ue.mode,pe),re.return=ue,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return pe=Um(re.type,re.key,re.props,null,ue.mode,pe),pe.ref=Bu(ue,null,re),pe.return=ue,pe;case P:return re=ty(re,ue.mode,pe),re.return=ue,re;case W:var De=re._init;return Pe(ue,De(re._payload),pe)}if(je(re)||se(re))return re=Jl(re,ue.mode,pe,null),re.return=ue,re;xm(ue,re)}return null}function ke(ue,re,pe,De){var lt=re!==null?re.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return lt!==null?null:Q(ue,re,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return pe.key===lt?ee(ue,re,pe,De):null;case P:return pe.key===lt?me(ue,re,pe,De):null;case W:return lt=pe._init,ke(ue,re,lt(pe._payload),De)}if(je(pe)||se(pe))return lt!==null?null:Te(ue,re,pe,De,null);xm(ue,pe)}return null}function Ye(ue,re,pe,De,lt){if(typeof De=="string"&&De!==""||typeof De=="number")return ue=ue.get(pe)||null,Q(re,ue,""+De,lt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case w:return ue=ue.get(De.key===null?pe:De.key)||null,ee(re,ue,De,lt);case P:return ue=ue.get(De.key===null?pe:De.key)||null,me(re,ue,De,lt);case W:var gt=De._init;return Ye(ue,re,pe,gt(De._payload),lt)}if(je(De)||se(De))return ue=ue.get(pe)||null,Te(re,ue,De,lt,null);xm(re,De)}return null}function st(ue,re,pe,De){for(var lt=null,gt=null,ft=re,Nt=re=0,En=null;ft!==null&&Nt<pe.length;Nt++){ft.index>Nt?(En=ft,ft=null):En=ft.sibling;var vs=ke(ue,ft,pe[Nt],De);if(vs===null){ft===null&&(ft=En);break}o&&ft&&vs.alternate===null&&d(ue,ft),re=D(vs,re,Nt),gt===null?lt=vs:gt.sibling=vs,gt=vs,ft=En}if(Nt===pe.length)return m(ue,ft),Vs&&Hl(ue,Nt),lt;if(ft===null){for(;Nt<pe.length;Nt++)ft=Pe(ue,pe[Nt],De),ft!==null&&(re=D(ft,re,Nt),gt===null?lt=ft:gt.sibling=ft,gt=ft);return Vs&&Hl(ue,Nt),lt}for(ft=v(ue,ft);Nt<pe.length;Nt++)En=Ye(ft,ue,Nt,pe[Nt],De),En!==null&&(o&&En.alternate!==null&&ft.delete(En.key===null?Nt:En.key),re=D(En,re,Nt),gt===null?lt=En:gt.sibling=En,gt=En);return o&&ft.forEach(function(Ko){return d(ue,Ko)}),Vs&&Hl(ue,Nt),lt}function rt(ue,re,pe,De){var lt=se(pe);if(typeof lt!="function")throw Error(n(150));if(pe=lt.call(pe),pe==null)throw Error(n(151));for(var gt=lt=null,ft=re,Nt=re=0,En=null,vs=pe.next();ft!==null&&!vs.done;Nt++,vs=pe.next()){ft.index>Nt?(En=ft,ft=null):En=ft.sibling;var Ko=ke(ue,ft,vs.value,De);if(Ko===null){ft===null&&(ft=En);break}o&&ft&&Ko.alternate===null&&d(ue,ft),re=D(Ko,re,Nt),gt===null?lt=Ko:gt.sibling=Ko,gt=Ko,ft=En}if(vs.done)return m(ue,ft),Vs&&Hl(ue,Nt),lt;if(ft===null){for(;!vs.done;Nt++,vs=pe.next())vs=Pe(ue,vs.value,De),vs!==null&&(re=D(vs,re,Nt),gt===null?lt=vs:gt.sibling=vs,gt=vs);return Vs&&Hl(ue,Nt),lt}for(ft=v(ue,ft);!vs.done;Nt++,vs=pe.next())vs=Ye(ft,ue,Nt,vs.value,De),vs!==null&&(o&&vs.alternate!==null&&ft.delete(vs.key===null?Nt:vs.key),re=D(vs,re,Nt),gt===null?lt=vs:gt.sibling=vs,gt=vs);return o&&ft.forEach(function(W6){return d(ue,W6)}),Vs&&Hl(ue,Nt),lt}function rn(ue,re,pe,De){if(typeof pe=="object"&&pe!==null&&pe.type===T&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:e:{for(var lt=pe.key,gt=re;gt!==null;){if(gt.key===lt){if(lt=pe.type,lt===T){if(gt.tag===7){m(ue,gt.sibling),re=j(gt,pe.props.children),re.return=ue,ue=re;break e}}else if(gt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===W&&Fw(lt)===gt.type){m(ue,gt.sibling),re=j(gt,pe.props),re.ref=Bu(ue,gt,pe),re.return=ue,ue=re;break e}m(ue,gt);break}else d(ue,gt);gt=gt.sibling}pe.type===T?(re=Jl(pe.props.children,ue.mode,De,pe.key),re.return=ue,ue=re):(De=Um(pe.type,pe.key,pe.props,null,ue.mode,De),De.ref=Bu(ue,re,pe),De.return=ue,ue=De)}return V(ue);case P:e:{for(gt=pe.key;re!==null;){if(re.key===gt)if(re.tag===4&&re.stateNode.containerInfo===pe.containerInfo&&re.stateNode.implementation===pe.implementation){m(ue,re.sibling),re=j(re,pe.children||[]),re.return=ue,ue=re;break e}else{m(ue,re);break}else d(ue,re);re=re.sibling}re=ty(pe,ue.mode,De),re.return=ue,ue=re}return V(ue);case W:return gt=pe._init,rn(ue,re,gt(pe._payload),De)}if(je(pe))return st(ue,re,pe,De);if(se(pe))return rt(ue,re,pe,De);xm(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,re!==null&&re.tag===6?(m(ue,re.sibling),re=j(re,pe),re.return=ue,ue=re):(m(ue,re),re=ey(pe,ue.mode,De),re.return=ue,ue=re),V(ue)):m(ue,re)}return rn}var od=Bw(!0),$w=Bw(!1),ym=Fo(null),bm=null,ld=null,dx=null;function ux(){dx=ld=bm=null}function hx(o){var d=ym.current;Ms(ym),o._currentValue=d}function px(o,d,m){for(;o!==null;){var v=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),o===m)break;o=o.return}}function cd(o,d){bm=o,dx=ld=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(Fr=!0),o.firstContext=null)}function xi(o){var d=o._currentValue;if(dx!==o)if(o={context:o,memoizedValue:d,next:null},ld===null){if(bm===null)throw Error(n(308));ld=o,bm.dependencies={lanes:0,firstContext:o}}else ld=ld.next=o;return d}var Gl=null;function mx(o){Gl===null?Gl=[o]:Gl.push(o)}function Ow(o,d,m,v){var j=d.interleaved;return j===null?(m.next=m,mx(d)):(m.next=j.next,j.next=m),d.interleaved=m,Ua(o,v)}function Ua(o,d){o.lanes|=d;var m=o.alternate;for(m!==null&&(m.lanes|=d),m=o,o=o.return;o!==null;)o.childLanes|=d,m=o.alternate,m!==null&&(m.childLanes|=d),m=o,o=o.return;return m.tag===3?m.stateNode:null}var Oo=!1;function gx(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function za(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function Vo(o,d,m){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(ps&2)!==0){var j=v.pending;return j===null?d.next=d:(d.next=j.next,j.next=d),v.pending=d,Ua(o,m)}return j=v.interleaved,j===null?(d.next=d,mx(v)):(d.next=j.next,j.next=d),v.interleaved=d,Ua(o,m)}function _m(o,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var v=d.lanes;v&=o.pendingLanes,m|=v,d.lanes=m,Ao(o,m)}}function Uw(o,d){var m=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var j=null,D=null;if(m=m.firstBaseUpdate,m!==null){do{var V={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};D===null?j=D=V:D=D.next=V,m=m.next}while(m!==null);D===null?j=D=d:D=D.next=d}else j=D=d;m={baseState:v.baseState,firstBaseUpdate:j,lastBaseUpdate:D,shared:v.shared,effects:v.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=d}function wm(o,d,m,v){var j=o.updateQueue;Oo=!1;var D=j.firstBaseUpdate,V=j.lastBaseUpdate,Q=j.shared.pending;if(Q!==null){j.shared.pending=null;var ee=Q,me=ee.next;ee.next=null,V===null?D=me:V.next=me,V=ee;var Te=o.alternate;Te!==null&&(Te=Te.updateQueue,Q=Te.lastBaseUpdate,Q!==V&&(Q===null?Te.firstBaseUpdate=me:Q.next=me,Te.lastBaseUpdate=ee))}if(D!==null){var Pe=j.baseState;V=0,Te=me=ee=null,Q=D;do{var ke=Q.lane,Ye=Q.eventTime;if((v&ke)===ke){Te!==null&&(Te=Te.next={eventTime:Ye,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var st=o,rt=Q;switch(ke=d,Ye=m,rt.tag){case 1:if(st=rt.payload,typeof st=="function"){Pe=st.call(Ye,Pe,ke);break e}Pe=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=rt.payload,ke=typeof st=="function"?st.call(Ye,Pe,ke):st,ke==null)break e;Pe=ne({},Pe,ke);break e;case 2:Oo=!0}}Q.callback!==null&&Q.lane!==0&&(o.flags|=64,ke=j.effects,ke===null?j.effects=[Q]:ke.push(Q))}else Ye={eventTime:Ye,lane:ke,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Te===null?(me=Te=Ye,ee=Pe):Te=Te.next=Ye,V|=ke;if(Q=Q.next,Q===null){if(Q=j.shared.pending,Q===null)break;ke=Q,Q=ke.next,ke.next=null,j.lastBaseUpdate=ke,j.shared.pending=null}}while(!0);if(Te===null&&(ee=Pe),j.baseState=ee,j.firstBaseUpdate=me,j.lastBaseUpdate=Te,d=j.shared.interleaved,d!==null){j=d;do V|=j.lane,j=j.next;while(j!==d)}else D===null&&(j.shared.lanes=0);Kl|=V,o.lanes=V,o.memoizedState=Pe}}function zw(o,d,m){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var v=o[d],j=v.callback;if(j!==null){if(v.callback=null,v=m,typeof j!="function")throw Error(n(191,j));j.call(v)}}}var $u={},ca=Fo($u),Ou=Fo($u),Vu=Fo($u);function Wl(o){if(o===$u)throw Error(n(174));return o}function fx(o,d){switch(Es(Vu,d),Es(Ou,o),Es(ca,$u),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:ze(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=ze(d,o)}Ms(ca),Es(ca,d)}function dd(){Ms(ca),Ms(Ou),Ms(Vu)}function Hw(o){Wl(Vu.current);var d=Wl(ca.current),m=ze(d,o.type);d!==m&&(Es(Ou,o),Es(ca,m))}function vx(o){Ou.current===o&&(Ms(ca),Ms(Ou))}var Ws=Fo(0);function jm(o){for(var d=o;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var xx=[];function yx(){for(var o=0;o<xx.length;o++)xx[o]._workInProgressVersionPrimary=null;xx.length=0}var Sm=y.ReactCurrentDispatcher,bx=y.ReactCurrentBatchConfig,ql=0,qs=null,wn=null,In=null,Nm=!1,Uu=!1,zu=0,m6=0;function ar(){throw Error(n(321))}function _x(o,d){if(d===null)return!1;for(var m=0;m<d.length&&m<o.length;m++)if(!Bi(o[m],d[m]))return!1;return!0}function wx(o,d,m,v,j,D){if(ql=D,qs=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Sm.current=o===null||o.memoizedState===null?x6:y6,o=m(v,j),Uu){D=0;do{if(Uu=!1,zu=0,25<=D)throw Error(n(301));D+=1,In=wn=null,d.updateQueue=null,Sm.current=b6,o=m(v,j)}while(Uu)}if(Sm.current=Tm,d=wn!==null&&wn.next!==null,ql=0,In=wn=qs=null,Nm=!1,d)throw Error(n(300));return o}function jx(){var o=zu!==0;return zu=0,o}function da(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?qs.memoizedState=In=o:In=In.next=o,In}function yi(){if(wn===null){var o=qs.alternate;o=o!==null?o.memoizedState:null}else o=wn.next;var d=In===null?qs.memoizedState:In.next;if(d!==null)In=d,wn=o;else{if(o===null)throw Error(n(310));wn=o,o={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},In===null?qs.memoizedState=In=o:In=In.next=o}return In}function Hu(o,d){return typeof d=="function"?d(o):d}function Sx(o){var d=yi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var v=wn,j=v.baseQueue,D=m.pending;if(D!==null){if(j!==null){var V=j.next;j.next=D.next,D.next=V}v.baseQueue=j=D,m.pending=null}if(j!==null){D=j.next,v=v.baseState;var Q=V=null,ee=null,me=D;do{var Te=me.lane;if((ql&Te)===Te)ee!==null&&(ee=ee.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),v=me.hasEagerState?me.eagerState:o(v,me.action);else{var Pe={lane:Te,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};ee===null?(Q=ee=Pe,V=v):ee=ee.next=Pe,qs.lanes|=Te,Kl|=Te}me=me.next}while(me!==null&&me!==D);ee===null?V=v:ee.next=Q,Bi(v,d.memoizedState)||(Fr=!0),d.memoizedState=v,d.baseState=V,d.baseQueue=ee,m.lastRenderedState=v}if(o=m.interleaved,o!==null){j=o;do D=j.lane,qs.lanes|=D,Kl|=D,j=j.next;while(j!==o)}else j===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Nx(o){var d=yi(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var v=m.dispatch,j=m.pending,D=d.memoizedState;if(j!==null){m.pending=null;var V=j=j.next;do D=o(D,V.action),V=V.next;while(V!==j);Bi(D,d.memoizedState)||(Fr=!0),d.memoizedState=D,d.baseQueue===null&&(d.baseState=D),m.lastRenderedState=D}return[D,v]}function Gw(){}function Ww(o,d){var m=qs,v=yi(),j=d(),D=!Bi(v.memoizedState,j);if(D&&(v.memoizedState=j,Fr=!0),v=v.queue,kx(Qw.bind(null,m,v,o),[o]),v.getSnapshot!==d||D||In!==null&&In.memoizedState.tag&1){if(m.flags|=2048,Gu(9,Kw.bind(null,m,v,j,d),void 0,null),An===null)throw Error(n(349));(ql&30)!==0||qw(m,d,j)}return j}function qw(o,d,m){o.flags|=16384,o={getSnapshot:d,value:m},d=qs.updateQueue,d===null?(d={lastEffect:null,stores:null},qs.updateQueue=d,d.stores=[o]):(m=d.stores,m===null?d.stores=[o]:m.push(o))}function Kw(o,d,m,v){d.value=m,d.getSnapshot=v,Xw(d)&&Yw(o)}function Qw(o,d,m){return m(function(){Xw(d)&&Yw(o)})}function Xw(o){var d=o.getSnapshot;o=o.value;try{var m=d();return!Bi(o,m)}catch(v){return!0}}function Yw(o){var d=Ua(o,1);d!==null&&zi(d,o,1,-1)}function Jw(o){var d=da();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:o},d.queue=o,o=o.dispatch=v6.bind(null,qs,o),[d.memoizedState,o]}function Gu(o,d,m,v){return o={tag:o,create:d,destroy:m,deps:v,next:null},d=qs.updateQueue,d===null?(d={lastEffect:null,stores:null},qs.updateQueue=d,d.lastEffect=o.next=o):(m=d.lastEffect,m===null?d.lastEffect=o.next=o:(v=m.next,m.next=o,o.next=v,d.lastEffect=o)),o}function Zw(){return yi().memoizedState}function km(o,d,m,v){var j=da();qs.flags|=o,j.memoizedState=Gu(1|d,m,void 0,v===void 0?null:v)}function Cm(o,d,m,v){var j=yi();v=v===void 0?null:v;var D=void 0;if(wn!==null){var V=wn.memoizedState;if(D=V.destroy,v!==null&&_x(v,V.deps)){j.memoizedState=Gu(d,m,D,v);return}}qs.flags|=o,j.memoizedState=Gu(1|d,m,D,v)}function ej(o,d){return km(8390656,8,o,d)}function kx(o,d){return Cm(2048,8,o,d)}function tj(o,d){return Cm(4,2,o,d)}function sj(o,d){return Cm(4,4,o,d)}function nj(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function rj(o,d,m){return m=m!=null?m.concat([o]):null,Cm(4,4,nj.bind(null,d,o),m)}function Cx(){}function ij(o,d){var m=yi();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&_x(d,v[1])?v[0]:(m.memoizedState=[o,d],o)}function aj(o,d){var m=yi();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&_x(d,v[1])?v[0]:(o=o(),m.memoizedState=[o,d],o)}function oj(o,d,m){return(ql&21)===0?(o.baseState&&(o.baseState=!1,Fr=!0),o.memoizedState=m):(Bi(m,d)||(m=Ml(),qs.lanes|=m,Kl|=m,o.baseState=!0),d)}function g6(o,d){var m=ns;ns=m!==0&&4>m?m:4,o(!0);var v=bx.transition;bx.transition={};try{o(!1),d()}finally{ns=m,bx.transition=v}}function lj(){return yi().memoizedState}function f6(o,d,m){var v=Go(o);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},cj(o))dj(d,m);else if(m=Ow(o,d,m,v),m!==null){var j=jr();zi(m,o,v,j),uj(m,d,v)}}function v6(o,d,m){var v=Go(o),j={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(cj(o))dj(d,j);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=d.lastRenderedReducer,D!==null))try{var V=d.lastRenderedState,Q=D(V,m);if(j.hasEagerState=!0,j.eagerState=Q,Bi(Q,V)){var ee=d.interleaved;ee===null?(j.next=j,mx(d)):(j.next=ee.next,ee.next=j),d.interleaved=j;return}}catch(me){}finally{}m=Ow(o,d,j,v),m!==null&&(j=jr(),zi(m,o,v,j),uj(m,d,v))}}function cj(o){var d=o.alternate;return o===qs||d!==null&&d===qs}function dj(o,d){Uu=Nm=!0;var m=o.pending;m===null?d.next=d:(d.next=m.next,m.next=d),o.pending=d}function uj(o,d,m){if((m&4194240)!==0){var v=d.lanes;v&=o.pendingLanes,m|=v,d.lanes=m,Ao(o,m)}}var Tm={readContext:xi,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},x6={readContext:xi,useCallback:function(o,d){return da().memoizedState=[o,d===void 0?null:d],o},useContext:xi,useEffect:ej,useImperativeHandle:function(o,d,m){return m=m!=null?m.concat([o]):null,km(4194308,4,nj.bind(null,d,o),m)},useLayoutEffect:function(o,d){return km(4194308,4,o,d)},useInsertionEffect:function(o,d){return km(4,2,o,d)},useMemo:function(o,d){var m=da();return d=d===void 0?null:d,o=o(),m.memoizedState=[o,d],o},useReducer:function(o,d,m){var v=da();return d=m!==void 0?m(d):d,v.memoizedState=v.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},v.queue=o,o=o.dispatch=f6.bind(null,qs,o),[v.memoizedState,o]},useRef:function(o){var d=da();return o={current:o},d.memoizedState=o},useState:Jw,useDebugValue:Cx,useDeferredValue:function(o){return da().memoizedState=o},useTransition:function(){var o=Jw(!1),d=o[0];return o=g6.bind(null,o[1]),da().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,m){var v=qs,j=da();if(Vs){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),An===null)throw Error(n(349));(ql&30)!==0||qw(v,d,m)}j.memoizedState=m;var D={value:m,getSnapshot:d};return j.queue=D,ej(Qw.bind(null,v,D,o),[o]),v.flags|=2048,Gu(9,Kw.bind(null,v,D,m,d),void 0,null),m},useId:function(){var o=da(),d=An.identifierPrefix;if(Vs){var m=Va,v=Oa;m=(v&~(1<<32-br(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=zu++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=m6++,d=":"+d+"r"+m.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},y6={readContext:xi,useCallback:ij,useContext:xi,useEffect:kx,useImperativeHandle:rj,useInsertionEffect:tj,useLayoutEffect:sj,useMemo:aj,useReducer:Sx,useRef:Zw,useState:function(){return Sx(Hu)},useDebugValue:Cx,useDeferredValue:function(o){var d=yi();return oj(d,wn.memoizedState,o)},useTransition:function(){var o=Sx(Hu)[0],d=yi().memoizedState;return[o,d]},useMutableSource:Gw,useSyncExternalStore:Ww,useId:lj,unstable_isNewReconciler:!1},b6={readContext:xi,useCallback:ij,useContext:xi,useEffect:kx,useImperativeHandle:rj,useInsertionEffect:tj,useLayoutEffect:sj,useMemo:aj,useReducer:Nx,useRef:Zw,useState:function(){return Nx(Hu)},useDebugValue:Cx,useDeferredValue:function(o){var d=yi();return wn===null?d.memoizedState=o:oj(d,wn.memoizedState,o)},useTransition:function(){var o=Nx(Hu)[0],d=yi().memoizedState;return[o,d]},useMutableSource:Gw,useSyncExternalStore:Ww,useId:lj,unstable_isNewReconciler:!1};function Oi(o,d){if(o&&o.defaultProps){d=ne({},d),o=o.defaultProps;for(var m in o)d[m]===void 0&&(d[m]=o[m]);return d}return d}function Tx(o,d,m,v){d=o.memoizedState,m=m(v,d),m=m==null?d:ne({},d,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Im={isMounted:function(o){return(o=o._reactInternals)?qt(o)===o:!1},enqueueSetState:function(o,d,m){o=o._reactInternals;var v=jr(),j=Go(o),D=za(v,j);D.payload=d,m!=null&&(D.callback=m),d=Vo(o,D,j),d!==null&&(zi(d,o,j,v),_m(d,o,j))},enqueueReplaceState:function(o,d,m){o=o._reactInternals;var v=jr(),j=Go(o),D=za(v,j);D.tag=1,D.payload=d,m!=null&&(D.callback=m),d=Vo(o,D,j),d!==null&&(zi(d,o,j,v),_m(d,o,j))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var m=jr(),v=Go(o),j=za(m,v);j.tag=2,d!=null&&(j.callback=d),d=Vo(o,j,v),d!==null&&(zi(d,o,v,m),_m(d,o,v))}};function hj(o,d,m,v,j,D,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,D,V):d.prototype&&d.prototype.isPureReactComponent?!Eu(m,v)||!Eu(j,D):!0}function pj(o,d,m){var v=!1,j=Bo,D=d.contextType;return typeof D=="object"&&D!==null?D=xi(D):(j=Mr(d)?Ul:ir.current,v=d.contextTypes,D=(v=v!=null)?nd(o,j):Bo),d=new d(m,D),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Im,o.stateNode=d,d._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=D),d}function mj(o,d,m,v){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==o&&Im.enqueueReplaceState(d,d.state,null)}function Ix(o,d,m,v){var j=o.stateNode;j.props=m,j.state=o.memoizedState,j.refs={},gx(o);var D=d.contextType;typeof D=="object"&&D!==null?j.context=xi(D):(D=Mr(d)?Ul:ir.current,j.context=nd(o,D)),j.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Tx(o,d,D,m),j.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(d=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),d!==j.state&&Im.enqueueReplaceState(j,j.state,null),wm(o,m,j,v),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function ud(o,d){try{var m="",v=d;do m+=he(v),v=v.return;while(v);var j=m}catch(D){j=`
Error generating stack: `+D.message+`
`+D.stack}return{value:o,source:d,stack:j,digest:null}}function Ax(o,d,m){return{value:o,source:null,stack:m!=null?m:null,digest:d!=null?d:null}}function Ex(o,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var _6=typeof WeakMap=="function"?WeakMap:Map;function gj(o,d,m){m=za(-1,m),m.tag=3,m.payload={element:null};var v=d.value;return m.callback=function(){Mm||(Mm=!0,Wx=v),Ex(o,d)},m}function fj(o,d,m){m=za(-1,m),m.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var j=d.value;m.payload=function(){return v(j)},m.callback=function(){Ex(o,d)}}var D=o.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(m.callback=function(){Ex(o,d),typeof v!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),m}function vj(o,d,m){var v=o.pingCache;if(v===null){v=o.pingCache=new _6;var j=new Set;v.set(d,j)}else j=v.get(d),j===void 0&&(j=new Set,v.set(d,j));j.has(m)||(j.add(m),o=D6.bind(null,o,d,m),d.then(o,o))}function xj(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function yj(o,d,m,v,j){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=za(-1,1),d.tag=2,Vo(m,d,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=j,o)}var w6=y.ReactCurrentOwner,Fr=!1;function wr(o,d,m,v){d.child=o===null?$w(d,null,m,v):od(d,o.child,m,v)}function bj(o,d,m,v,j){m=m.render;var D=d.ref;return cd(d,j),v=wx(o,d,m,v,D,j),m=jx(),o!==null&&!Fr?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~j,Ha(o,d,j)):(Vs&&m&&ix(d),d.flags|=1,wr(o,d,v,j),d.child)}function _j(o,d,m,v,j){if(o===null){var D=m.type;return typeof D=="function"&&!Zx(D)&&D.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=D,wj(o,d,D,v,j)):(o=Um(m.type,null,v,d,d.mode,j),o.ref=d.ref,o.return=d,d.child=o)}if(D=o.child,(o.lanes&j)===0){var V=D.memoizedProps;if(m=m.compare,m=m!==null?m:Eu,m(V,v)&&o.ref===d.ref)return Ha(o,d,j)}return d.flags|=1,o=qo(D,v),o.ref=d.ref,o.return=d,d.child=o}function wj(o,d,m,v,j){if(o!==null){var D=o.memoizedProps;if(Eu(D,v)&&o.ref===d.ref)if(Fr=!1,d.pendingProps=v=D,(o.lanes&j)!==0)(o.flags&131072)!==0&&(Fr=!0);else return d.lanes=o.lanes,Ha(o,d,j)}return Px(o,d,m,v,j)}function jj(o,d,m){var v=d.pendingProps,j=v.children,D=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(pd,ni),ni|=m;else{if((m&1073741824)===0)return o=D!==null?D.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,Es(pd,ni),ni|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=D!==null?D.baseLanes:m,Es(pd,ni),ni|=v}else D!==null?(v=D.baseLanes|m,d.memoizedState=null):v=m,Es(pd,ni),ni|=v;return wr(o,d,j,m),d.child}function Sj(o,d){var m=d.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Px(o,d,m,v,j){var D=Mr(m)?Ul:ir.current;return D=nd(d,D),cd(d,j),m=wx(o,d,m,v,D,j),v=jx(),o!==null&&!Fr?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~j,Ha(o,d,j)):(Vs&&v&&ix(d),d.flags|=1,wr(o,d,m,j),d.child)}function Nj(o,d,m,v,j){if(Mr(m)){var D=!0;pm(d)}else D=!1;if(cd(d,j),d.stateNode===null)Em(o,d),pj(d,m,v),Ix(d,m,v,j),v=!0;else if(o===null){var V=d.stateNode,Q=d.memoizedProps;V.props=Q;var ee=V.context,me=m.contextType;typeof me=="object"&&me!==null?me=xi(me):(me=Mr(m)?Ul:ir.current,me=nd(d,me));var Te=m.getDerivedStateFromProps,Pe=typeof Te=="function"||typeof V.getSnapshotBeforeUpdate=="function";Pe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==v||ee!==me)&&mj(d,V,v,me),Oo=!1;var ke=d.memoizedState;V.state=ke,wm(d,v,V,j),ee=d.memoizedState,Q!==v||ke!==ee||Dr.current||Oo?(typeof Te=="function"&&(Tx(d,m,Te,v),ee=d.memoizedState),(Q=Oo||hj(d,m,Q,v,ke,ee,me))?(Pe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=ee),V.props=v,V.state=ee,V.context=me,v=Q):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{V=d.stateNode,Vw(o,d),Q=d.memoizedProps,me=d.type===d.elementType?Q:Oi(d.type,Q),V.props=me,Pe=d.pendingProps,ke=V.context,ee=m.contextType,typeof ee=="object"&&ee!==null?ee=xi(ee):(ee=Mr(m)?Ul:ir.current,ee=nd(d,ee));var Ye=m.getDerivedStateFromProps;(Te=typeof Ye=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==Pe||ke!==ee)&&mj(d,V,v,ee),Oo=!1,ke=d.memoizedState,V.state=ke,wm(d,v,V,j);var st=d.memoizedState;Q!==Pe||ke!==st||Dr.current||Oo?(typeof Ye=="function"&&(Tx(d,m,Ye,v),st=d.memoizedState),(me=Oo||hj(d,m,me,v,ke,st,ee)||!1)?(Te||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,st,ee),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,st,ee)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||Q===o.memoizedProps&&ke===o.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&ke===o.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=st),V.props=v,V.state=st,V.context=ee,v=me):(typeof V.componentDidUpdate!="function"||Q===o.memoizedProps&&ke===o.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&ke===o.memoizedState||(d.flags|=1024),v=!1)}return Rx(o,d,m,v,D,j)}function Rx(o,d,m,v,j,D){Sj(o,d);var V=(d.flags&128)!==0;if(!v&&!V)return j&&Aw(d,m,!1),Ha(o,d,D);v=d.stateNode,w6.current=d;var Q=V&&typeof m.getDerivedStateFromError!="function"?null:v.render();return d.flags|=1,o!==null&&V?(d.child=od(d,o.child,null,D),d.child=od(d,null,Q,D)):wr(o,d,Q,D),d.memoizedState=v.state,j&&Aw(d,m,!0),d.child}function kj(o){var d=o.stateNode;d.pendingContext?Tw(o,d.pendingContext,d.pendingContext!==d.context):d.context&&Tw(o,d.context,!1),fx(o,d.containerInfo)}function Cj(o,d,m,v,j){return ad(),cx(j),d.flags|=256,wr(o,d,m,v),d.child}var Lx={dehydrated:null,treeContext:null,retryLane:0};function Dx(o){return{baseLanes:o,cachePool:null,transitions:null}}function Tj(o,d,m){var v=d.pendingProps,j=Ws.current,D=!1,V=(d.flags&128)!==0,Q;if((Q=V)||(Q=o!==null&&o.memoizedState===null?!1:(j&2)!==0),Q?(D=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),Es(Ws,j&1),o===null)return lx(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(V=v.children,o=v.fallback,D?(v=d.mode,D=d.child,V={mode:"hidden",children:V},(v&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=V):D=zm(V,v,0,null),o=Jl(o,v,m,null),D.return=d,o.return=d,D.sibling=o,d.child=D,d.child.memoizedState=Dx(m),d.memoizedState=Lx,o):Mx(d,V));if(j=o.memoizedState,j!==null&&(Q=j.dehydrated,Q!==null))return j6(o,d,V,v,Q,j,m);if(D){D=v.fallback,V=d.mode,j=o.child,Q=j.sibling;var ee={mode:"hidden",children:v.children};return(V&1)===0&&d.child!==j?(v=d.child,v.childLanes=0,v.pendingProps=ee,d.deletions=null):(v=qo(j,ee),v.subtreeFlags=j.subtreeFlags&14680064),Q!==null?D=qo(Q,D):(D=Jl(D,V,m,null),D.flags|=2),D.return=d,v.return=d,v.sibling=D,d.child=v,v=D,D=d.child,V=o.child.memoizedState,V=V===null?Dx(m):{baseLanes:V.baseLanes|m,cachePool:null,transitions:V.transitions},D.memoizedState=V,D.childLanes=o.childLanes&~m,d.memoizedState=Lx,v}return D=o.child,o=D.sibling,v=qo(D,{mode:"visible",children:v.children}),(d.mode&1)===0&&(v.lanes=m),v.return=d,v.sibling=null,o!==null&&(m=d.deletions,m===null?(d.deletions=[o],d.flags|=16):m.push(o)),d.child=v,d.memoizedState=null,v}function Mx(o,d){return d=zm({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function Am(o,d,m,v){return v!==null&&cx(v),od(d,o.child,null,m),o=Mx(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function j6(o,d,m,v,j,D,V){if(m)return d.flags&256?(d.flags&=-257,v=Ax(Error(n(422))),Am(o,d,V,v)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(D=v.fallback,j=d.mode,v=zm({mode:"visible",children:v.children},j,0,null),D=Jl(D,j,V,null),D.flags|=2,v.return=d,D.return=d,v.sibling=D,d.child=v,(d.mode&1)!==0&&od(d,o.child,null,V),d.child.memoizedState=Dx(V),d.memoizedState=Lx,D);if((d.mode&1)===0)return Am(o,d,V,null);if(j.data==="$!"){if(v=j.nextSibling&&j.nextSibling.dataset,v)var Q=v.dgst;return v=Q,D=Error(n(419)),v=Ax(D,v,void 0),Am(o,d,V,v)}if(Q=(V&o.childLanes)!==0,Fr||Q){if(v=An,v!==null){switch(V&-V){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(v.suspendedLanes|V))!==0?0:j,j!==0&&j!==D.retryLane&&(D.retryLane=j,Ua(o,j),zi(v,o,j,-1))}return Jx(),v=Ax(Error(n(421))),Am(o,d,V,v)}return j.data==="$?"?(d.flags|=128,d.child=o.child,d=M6.bind(null,o),j._reactRetry=d,null):(o=D.treeContext,si=Mo(j.nextSibling),ti=d,Vs=!0,$i=null,o!==null&&(fi[vi++]=Oa,fi[vi++]=Va,fi[vi++]=zl,Oa=o.id,Va=o.overflow,zl=d),d=Mx(d,v.children),d.flags|=4096,d)}function Ij(o,d,m){o.lanes|=d;var v=o.alternate;v!==null&&(v.lanes|=d),px(o.return,d,m)}function Fx(o,d,m,v,j){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:j}:(D.isBackwards=d,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=m,D.tailMode=j)}function Aj(o,d,m){var v=d.pendingProps,j=v.revealOrder,D=v.tail;if(wr(o,d,v.children,m),v=Ws.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ij(o,m,d);else if(o.tag===19)Ij(o,m,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(Es(Ws,v),(d.mode&1)===0)d.memoizedState=null;else switch(j){case"forwards":for(m=d.child,j=null;m!==null;)o=m.alternate,o!==null&&jm(o)===null&&(j=m),m=m.sibling;m=j,m===null?(j=d.child,d.child=null):(j=m.sibling,m.sibling=null),Fx(d,!1,j,m,D);break;case"backwards":for(m=null,j=d.child,d.child=null;j!==null;){if(o=j.alternate,o!==null&&jm(o)===null){d.child=j;break}o=j.sibling,j.sibling=m,m=j,j=o}Fx(d,!0,m,null,D);break;case"together":Fx(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Em(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function Ha(o,d,m){if(o!==null&&(d.dependencies=o.dependencies),Kl|=d.lanes,(m&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(n(153));if(d.child!==null){for(o=d.child,m=qo(o,o.pendingProps),d.child=m,m.return=d;o.sibling!==null;)o=o.sibling,m=m.sibling=qo(o,o.pendingProps),m.return=d;m.sibling=null}return d.child}function S6(o,d,m){switch(d.tag){case 3:kj(d),ad();break;case 5:Hw(d);break;case 1:Mr(d.type)&&pm(d);break;case 4:fx(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,j=d.memoizedProps.value;Es(ym,v._currentValue),v._currentValue=j;break;case 13:if(v=d.memoizedState,v!==null)return v.dehydrated!==null?(Es(Ws,Ws.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?Tj(o,d,m):(Es(Ws,Ws.current&1),o=Ha(o,d,m),o!==null?o.sibling:null);Es(Ws,Ws.current&1);break;case 19:if(v=(m&d.childLanes)!==0,(o.flags&128)!==0){if(v)return Aj(o,d,m);d.flags|=128}if(j=d.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Es(Ws,Ws.current),v)break;return null;case 22:case 23:return d.lanes=0,jj(o,d,m)}return Ha(o,d,m)}var Ej,Bx,Pj,Rj;Ej=function(o,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Bx=function(){},Pj=function(o,d,m,v){var j=o.memoizedProps;if(j!==v){o=d.stateNode,Wl(ca.current);var D=null;switch(m){case"input":j=Ve(o,j),v=Ve(o,v),D=[];break;case"select":j=ne({},j,{value:void 0}),v=ne({},v,{value:void 0}),D=[];break;case"textarea":j=Ke(o,j),v=Ke(o,v),D=[];break;default:typeof j.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=dm)}sn(m,v);var V;m=null;for(me in j)if(!v.hasOwnProperty(me)&&j.hasOwnProperty(me)&&j[me]!=null)if(me==="style"){var Q=j[me];for(V in Q)Q.hasOwnProperty(V)&&(m||(m={}),m[V]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?D||(D=[]):(D=D||[]).push(me,null));for(me in v){var ee=v[me];if(Q=j!=null?j[me]:void 0,v.hasOwnProperty(me)&&ee!==Q&&(ee!=null||Q!=null))if(me==="style")if(Q){for(V in Q)!Q.hasOwnProperty(V)||ee&&ee.hasOwnProperty(V)||(m||(m={}),m[V]="");for(V in ee)ee.hasOwnProperty(V)&&Q[V]!==ee[V]&&(m||(m={}),m[V]=ee[V])}else m||(D||(D=[]),D.push(me,m)),m=ee;else me==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,Q=Q?Q.__html:void 0,ee!=null&&Q!==ee&&(D=D||[]).push(me,ee)):me==="children"?typeof ee!="string"&&typeof ee!="number"||(D=D||[]).push(me,""+ee):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(ee!=null&&me==="onScroll"&&Ds("scroll",o),D||Q===ee||(D=[])):(D=D||[]).push(me,ee))}m&&(D=D||[]).push("style",m);var me=D;(d.updateQueue=me)&&(d.flags|=4)}},Rj=function(o,d,m,v){m!==v&&(d.flags|=4)};function Wu(o,d){if(!Vs)switch(o.tailMode){case"hidden":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function or(o){var d=o.alternate!==null&&o.alternate.child===o.child,m=0,v=0;if(d)for(var j=o.child;j!==null;)m|=j.lanes|j.childLanes,v|=j.subtreeFlags&14680064,v|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)m|=j.lanes|j.childLanes,v|=j.subtreeFlags,v|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=v,o.childLanes=m,d}function N6(o,d,m){var v=d.pendingProps;switch(ax(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(d),null;case 1:return Mr(d.type)&&hm(),or(d),null;case 3:return v=d.stateNode,dd(),Ms(Dr),Ms(ir),yx(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(vm(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,$i!==null&&(Qx($i),$i=null))),Bx(o,d),or(d),null;case 5:vx(d);var j=Wl(Vu.current);if(m=d.type,o!==null&&d.stateNode!=null)Pj(o,d,m,v,j),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(d.stateNode===null)throw Error(n(166));return or(d),null}if(o=Wl(ca.current),vm(d)){v=d.stateNode,m=d.type;var D=d.memoizedProps;switch(v[la]=d,v[Mu]=D,o=(d.mode&1)!==0,m){case"dialog":Ds("cancel",v),Ds("close",v);break;case"iframe":case"object":case"embed":Ds("load",v);break;case"video":case"audio":for(j=0;j<Ru.length;j++)Ds(Ru[j],v);break;case"source":Ds("error",v);break;case"img":case"image":case"link":Ds("error",v),Ds("load",v);break;case"details":Ds("toggle",v);break;case"input":Ue(v,D),Ds("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!D.multiple},Ds("invalid",v);break;case"textarea":vt(v,D),Ds("invalid",v)}sn(m,D),j=null;for(var V in D)if(D.hasOwnProperty(V)){var Q=D[V];V==="children"?typeof Q=="string"?v.textContent!==Q&&(D.suppressHydrationWarning!==!0&&cm(v.textContent,Q,o),j=["children",Q]):typeof Q=="number"&&v.textContent!==""+Q&&(D.suppressHydrationWarning!==!0&&cm(v.textContent,Q,o),j=["children",""+Q]):i.hasOwnProperty(V)&&Q!=null&&V==="onScroll"&&Ds("scroll",v)}switch(m){case"input":_e(v),ct(v,D,!0);break;case"textarea":_e(v),qe(v);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(v.onclick=dm)}v=j,d.updateQueue=v,v!==null&&(d.flags|=4)}else{V=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ce(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=V.createElement(m,{is:v.is}):(o=V.createElement(m),m==="select"&&(V=o,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):o=V.createElementNS(o,m),o[la]=d,o[Mu]=v,Ej(o,d,!1,!1),d.stateNode=o;e:{switch(V=Xt(m,v),m){case"dialog":Ds("cancel",o),Ds("close",o),j=v;break;case"iframe":case"object":case"embed":Ds("load",o),j=v;break;case"video":case"audio":for(j=0;j<Ru.length;j++)Ds(Ru[j],o);j=v;break;case"source":Ds("error",o),j=v;break;case"img":case"image":case"link":Ds("error",o),Ds("load",o),j=v;break;case"details":Ds("toggle",o),j=v;break;case"input":Ue(o,v),j=Ve(o,v),Ds("invalid",o);break;case"option":j=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},j=ne({},v,{value:void 0}),Ds("invalid",o);break;case"textarea":vt(o,v),j=Ke(o,v),Ds("invalid",o);break;default:j=v}sn(m,j),Q=j;for(D in Q)if(Q.hasOwnProperty(D)){var ee=Q[D];D==="style"?bt(o,ee):D==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&Bt(o,ee)):D==="children"?typeof ee=="string"?(m!=="textarea"||ee!=="")&&ks(o,ee):typeof ee=="number"&&ks(o,""+ee):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?ee!=null&&D==="onScroll"&&Ds("scroll",o):ee!=null&&k(o,D,ee,V))}switch(m){case"input":_e(o),ct(o,v,!1);break;case"textarea":_e(o),qe(o);break;case"option":v.value!=null&&o.setAttribute("value",""+Z(v.value));break;case"select":o.multiple=!!v.multiple,D=v.value,D!=null?Qe(o,!!v.multiple,D,!1):v.defaultValue!=null&&Qe(o,!!v.multiple,v.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=dm)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return or(d),null;case 6:if(o&&d.stateNode!=null)Rj(o,d,o.memoizedProps,v);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(m=Wl(Vu.current),Wl(ca.current),vm(d)){if(v=d.stateNode,m=d.memoizedProps,v[la]=d,(D=v.nodeValue!==m)&&(o=ti,o!==null))switch(o.tag){case 3:cm(v.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&cm(v.nodeValue,m,(o.mode&1)!==0)}D&&(d.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[la]=d,d.stateNode=v}return or(d),null;case 13:if(Ms(Ws),v=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Vs&&si!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Mw(),ad(),d.flags|=98560,D=!1;else if(D=vm(d),v!==null&&v.dehydrated!==null){if(o===null){if(!D)throw Error(n(318));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[la]=d}else ad(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;or(d),D=!1}else $i!==null&&(Qx($i),$i=null),D=!0;if(!D)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Ws.current&1)!==0?jn===0&&(jn=3):Jx())),d.updateQueue!==null&&(d.flags|=4),or(d),null);case 4:return dd(),Bx(o,d),o===null&&Lu(d.stateNode.containerInfo),or(d),null;case 10:return hx(d.type._context),or(d),null;case 17:return Mr(d.type)&&hm(),or(d),null;case 19:if(Ms(Ws),D=d.memoizedState,D===null)return or(d),null;if(v=(d.flags&128)!==0,V=D.rendering,V===null)if(v)Wu(D,!1);else{if(jn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(V=jm(o),V!==null){for(d.flags|=128,Wu(D,!1),v=V.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),d.subtreeFlags=0,v=m,m=d.child;m!==null;)D=m,o=v,D.flags&=14680066,V=D.alternate,V===null?(D.childLanes=0,D.lanes=o,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=V.childLanes,D.lanes=V.lanes,D.child=V.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=V.memoizedProps,D.memoizedState=V.memoizedState,D.updateQueue=V.updateQueue,D.type=V.type,o=V.dependencies,D.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return Es(Ws,Ws.current&1|2),d.child}o=o.sibling}D.tail!==null&&js()>md&&(d.flags|=128,v=!0,Wu(D,!1),d.lanes=4194304)}else{if(!v)if(o=jm(V),o!==null){if(d.flags|=128,v=!0,m=o.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Wu(D,!0),D.tail===null&&D.tailMode==="hidden"&&!V.alternate&&!Vs)return or(d),null}else 2*js()-D.renderingStartTime>md&&m!==1073741824&&(d.flags|=128,v=!0,Wu(D,!1),d.lanes=4194304);D.isBackwards?(V.sibling=d.child,d.child=V):(m=D.last,m!==null?m.sibling=V:d.child=V,D.last=V)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=js(),d.sibling=null,m=Ws.current,Es(Ws,v?m&1|2:m&1),d):(or(d),null);case 22:case 23:return Yx(),v=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(d.flags|=8192),v&&(d.mode&1)!==0?(ni&1073741824)!==0&&(or(d),d.subtreeFlags&6&&(d.flags|=8192)):or(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function k6(o,d){switch(ax(d),d.tag){case 1:return Mr(d.type)&&hm(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return dd(),Ms(Dr),Ms(ir),yx(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return vx(d),null;case 13:if(Ms(Ws),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(n(340));ad()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return Ms(Ws),null;case 4:return dd(),null;case 10:return hx(d.type._context),null;case 22:case 23:return Yx(),null;case 24:return null;default:return null}}var Pm=!1,lr=!1,C6=typeof WeakSet=="function"?WeakSet:Set,et=null;function hd(o,d){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Js(o,d,v)}else m.current=null}function $x(o,d,m){try{m()}catch(v){Js(o,d,v)}}var Lj=!1;function T6(o,d){if(Yv=Ro,o=hw(),zv(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var j=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{m.nodeType,D.nodeType}catch(De){m=null;break e}var V=0,Q=-1,ee=-1,me=0,Te=0,Pe=o,ke=null;t:for(;;){for(var Ye;Pe!==m||j!==0&&Pe.nodeType!==3||(Q=V+j),Pe!==D||v!==0&&Pe.nodeType!==3||(ee=V+v),Pe.nodeType===3&&(V+=Pe.nodeValue.length),(Ye=Pe.firstChild)!==null;)ke=Pe,Pe=Ye;for(;;){if(Pe===o)break t;if(ke===m&&++me===j&&(Q=V),ke===D&&++Te===v&&(ee=V),(Ye=Pe.nextSibling)!==null)break;Pe=ke,ke=Pe.parentNode}Pe=Ye}m=Q===-1||ee===-1?null:{start:Q,end:ee}}else m=null}m=m||{start:0,end:0}}else m=null;for(Jv={focusedElem:o,selectionRange:m},Ro=!1,et=d;et!==null;)if(d=et,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,et=o;else for(;et!==null;){d=et;try{var st=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var rt=st.memoizedProps,rn=st.memoizedState,ue=d.stateNode,re=ue.getSnapshotBeforeUpdate(d.elementType===d.type?rt:Oi(d.type,rt),rn);ue.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var pe=d.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(De){Js(d,d.return,De)}if(o=d.sibling,o!==null){o.return=d.return,et=o;break}et=d.return}return st=Lj,Lj=!1,st}function qu(o,d,m){var v=d.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var j=v=v.next;do{if((j.tag&o)===o){var D=j.destroy;j.destroy=void 0,D!==void 0&&$x(d,m,D)}j=j.next}while(j!==v)}}function Rm(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&o)===o){var v=m.create;m.destroy=v()}m=m.next}while(m!==d)}}function Ox(o){var d=o.ref;if(d!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof d=="function"?d(o):d.current=o}}function Dj(o){var d=o.alternate;d!==null&&(o.alternate=null,Dj(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[la],delete d[Mu],delete d[sx],delete d[d6],delete d[u6])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Mj(o){return o.tag===5||o.tag===3||o.tag===4}function Fj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Mj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vx(o,d,m){var v=o.tag;if(v===5||v===6)o=o.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(o,d):m.insertBefore(o,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(o,m)):(d=m,d.appendChild(o)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=dm));else if(v!==4&&(o=o.child,o!==null))for(Vx(o,d,m),o=o.sibling;o!==null;)Vx(o,d,m),o=o.sibling}function Ux(o,d,m){var v=o.tag;if(v===5||v===6)o=o.stateNode,d?m.insertBefore(o,d):m.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(Ux(o,d,m),o=o.sibling;o!==null;)Ux(o,d,m),o=o.sibling}var Hn=null,Vi=!1;function Uo(o,d,m){for(m=m.child;m!==null;)Bj(o,d,m),m=m.sibling}function Bj(o,d,m){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Ll,m)}catch(Q){}switch(m.tag){case 5:lr||hd(m,d);case 6:var v=Hn,j=Vi;Hn=null,Uo(o,d,m),Hn=v,Vi=j,Hn!==null&&(Vi?(o=Hn,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):Hn.removeChild(m.stateNode));break;case 18:Hn!==null&&(Vi?(o=Hn,m=m.stateNode,o.nodeType===8?tx(o.parentNode,m):o.nodeType===1&&tx(o,m),Mi(o)):tx(Hn,m.stateNode));break;case 4:v=Hn,j=Vi,Hn=m.stateNode.containerInfo,Vi=!0,Uo(o,d,m),Hn=v,Vi=j;break;case 0:case 11:case 14:case 15:if(!lr&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){j=v=v.next;do{var D=j,V=D.destroy;D=D.tag,V!==void 0&&((D&2)!==0||(D&4)!==0)&&$x(m,d,V),j=j.next}while(j!==v)}Uo(o,d,m);break;case 1:if(!lr&&(hd(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(Q){Js(m,d,Q)}Uo(o,d,m);break;case 21:Uo(o,d,m);break;case 22:m.mode&1?(lr=(v=lr)||m.memoizedState!==null,Uo(o,d,m),lr=v):Uo(o,d,m);break;default:Uo(o,d,m)}}function $j(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new C6),d.forEach(function(v){var j=F6.bind(null,o,v);m.has(v)||(m.add(v),v.then(j,j))})}}function Ui(o,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var j=m[v];try{var D=o,V=d,Q=V;e:for(;Q!==null;){switch(Q.tag){case 5:Hn=Q.stateNode,Vi=!1;break e;case 3:Hn=Q.stateNode.containerInfo,Vi=!0;break e;case 4:Hn=Q.stateNode.containerInfo,Vi=!0;break e}Q=Q.return}if(Hn===null)throw Error(n(160));Bj(D,V,j),Hn=null,Vi=!1;var ee=j.alternate;ee!==null&&(ee.return=null),j.return=null}catch(me){Js(j,d,me)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Oj(d,o),d=d.sibling}function Oj(o,d){var m=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ui(d,o),ua(o),v&4){try{qu(3,o,o.return),Rm(3,o)}catch(rt){Js(o,o.return,rt)}try{qu(5,o,o.return)}catch(rt){Js(o,o.return,rt)}}break;case 1:Ui(d,o),ua(o),v&512&&m!==null&&hd(m,m.return);break;case 5:if(Ui(d,o),ua(o),v&512&&m!==null&&hd(m,m.return),o.flags&32){var j=o.stateNode;try{ks(j,"")}catch(rt){Js(o,o.return,rt)}}if(v&4&&(j=o.stateNode,j!=null)){var D=o.memoizedProps,V=m!==null?m.memoizedProps:D,Q=o.type,ee=o.updateQueue;if(o.updateQueue=null,ee!==null)try{Q==="input"&&D.type==="radio"&&D.name!=null&&tt(j,D),Xt(Q,V);var me=Xt(Q,D);for(V=0;V<ee.length;V+=2){var Te=ee[V],Pe=ee[V+1];Te==="style"?bt(j,Pe):Te==="dangerouslySetInnerHTML"?Bt(j,Pe):Te==="children"?ks(j,Pe):k(j,Te,Pe,me)}switch(Q){case"input":Je(j,D);break;case"textarea":kt(j,D);break;case"select":var ke=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!D.multiple;var Ye=D.value;Ye!=null?Qe(j,!!D.multiple,Ye,!1):ke!==!!D.multiple&&(D.defaultValue!=null?Qe(j,!!D.multiple,D.defaultValue,!0):Qe(j,!!D.multiple,D.multiple?[]:"",!1))}j[Mu]=D}catch(rt){Js(o,o.return,rt)}}break;case 6:if(Ui(d,o),ua(o),v&4){if(o.stateNode===null)throw Error(n(162));j=o.stateNode,D=o.memoizedProps;try{j.nodeValue=D}catch(rt){Js(o,o.return,rt)}}break;case 3:if(Ui(d,o),ua(o),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Mi(d.containerInfo)}catch(rt){Js(o,o.return,rt)}break;case 4:Ui(d,o),ua(o);break;case 13:Ui(d,o),ua(o),j=o.child,j.flags&8192&&(D=j.memoizedState!==null,j.stateNode.isHidden=D,!D||j.alternate!==null&&j.alternate.memoizedState!==null||(Gx=js())),v&4&&$j(o);break;case 22:if(Te=m!==null&&m.memoizedState!==null,o.mode&1?(lr=(me=lr)||Te,Ui(d,o),lr=me):Ui(d,o),ua(o),v&8192){if(me=o.memoizedState!==null,(o.stateNode.isHidden=me)&&!Te&&(o.mode&1)!==0)for(et=o,Te=o.child;Te!==null;){for(Pe=et=Te;et!==null;){switch(ke=et,Ye=ke.child,ke.tag){case 0:case 11:case 14:case 15:qu(4,ke,ke.return);break;case 1:hd(ke,ke.return);var st=ke.stateNode;if(typeof st.componentWillUnmount=="function"){v=ke,m=ke.return;try{d=v,st.props=d.memoizedProps,st.state=d.memoizedState,st.componentWillUnmount()}catch(rt){Js(v,m,rt)}}break;case 5:hd(ke,ke.return);break;case 22:if(ke.memoizedState!==null){zj(Pe);continue}}Ye!==null?(Ye.return=ke,et=Ye):zj(Pe)}Te=Te.sibling}e:for(Te=null,Pe=o;;){if(Pe.tag===5){if(Te===null){Te=Pe;try{j=Pe.stateNode,me?(D=j.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(Q=Pe.stateNode,ee=Pe.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,Q.style.display=Gs("display",V))}catch(rt){Js(o,o.return,rt)}}}else if(Pe.tag===6){if(Te===null)try{Pe.stateNode.nodeValue=me?"":Pe.memoizedProps}catch(rt){Js(o,o.return,rt)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===o)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===o)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===o)break e;Te===Pe&&(Te=null),Pe=Pe.return}Te===Pe&&(Te=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Ui(d,o),ua(o),v&4&&$j(o);break;case 21:break;default:Ui(d,o),ua(o)}}function ua(o){var d=o.flags;if(d&2){try{e:{for(var m=o.return;m!==null;){if(Mj(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var j=v.stateNode;v.flags&32&&(ks(j,""),v.flags&=-33);var D=Fj(o);Ux(o,D,j);break;case 3:case 4:var V=v.stateNode.containerInfo,Q=Fj(o);Vx(o,Q,V);break;default:throw Error(n(161))}}catch(ee){Js(o,o.return,ee)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function I6(o,d,m){et=o,Vj(o)}function Vj(o,d,m){for(var v=(o.mode&1)!==0;et!==null;){var j=et,D=j.child;if(j.tag===22&&v){var V=j.memoizedState!==null||Pm;if(!V){var Q=j.alternate,ee=Q!==null&&Q.memoizedState!==null||lr;Q=Pm;var me=lr;if(Pm=V,(lr=ee)&&!me)for(et=j;et!==null;)V=et,ee=V.child,V.tag===22&&V.memoizedState!==null?Hj(j):ee!==null?(ee.return=V,et=ee):Hj(j);for(;D!==null;)et=D,Vj(D),D=D.sibling;et=j,Pm=Q,lr=me}Uj(o)}else(j.subtreeFlags&8772)!==0&&D!==null?(D.return=j,et=D):Uj(o)}}function Uj(o){for(;et!==null;){var d=et;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:lr||Rm(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!lr)if(m===null)v.componentDidMount();else{var j=d.elementType===d.type?m.memoizedProps:Oi(d.type,m.memoizedProps);v.componentDidUpdate(j,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var D=d.updateQueue;D!==null&&zw(d,D,v);break;case 3:var V=d.updateQueue;if(V!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}zw(d,V,m)}break;case 5:var Q=d.stateNode;if(m===null&&d.flags&4){m=Q;var ee=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&m.focus();break;case"img":ee.src&&(m.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var me=d.alternate;if(me!==null){var Te=me.memoizedState;if(Te!==null){var Pe=Te.dehydrated;Pe!==null&&Mi(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lr||d.flags&512&&Ox(d)}catch(ke){Js(d,d.return,ke)}}if(d===o){et=null;break}if(m=d.sibling,m!==null){m.return=d.return,et=m;break}et=d.return}}function zj(o){for(;et!==null;){var d=et;if(d===o){et=null;break}var m=d.sibling;if(m!==null){m.return=d.return,et=m;break}et=d.return}}function Hj(o){for(;et!==null;){var d=et;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Rm(4,d)}catch(ee){Js(d,m,ee)}break;case 1:var v=d.stateNode;if(typeof v.componentDidMount=="function"){var j=d.return;try{v.componentDidMount()}catch(ee){Js(d,j,ee)}}var D=d.return;try{Ox(d)}catch(ee){Js(d,D,ee)}break;case 5:var V=d.return;try{Ox(d)}catch(ee){Js(d,V,ee)}}}catch(ee){Js(d,d.return,ee)}if(d===o){et=null;break}var Q=d.sibling;if(Q!==null){Q.return=d.return,et=Q;break}et=d.return}}var A6=Math.ceil,Lm=y.ReactCurrentDispatcher,zx=y.ReactCurrentOwner,bi=y.ReactCurrentBatchConfig,ps=0,An=null,mn=null,Gn=0,ni=0,pd=Fo(0),jn=0,Ku=null,Kl=0,Dm=0,Hx=0,Qu=null,Br=null,Gx=0,md=1/0,Ga=null,Mm=!1,Wx=null,zo=null,Fm=!1,Ho=null,Bm=0,Xu=0,qx=null,$m=-1,Om=0;function jr(){return(ps&6)!==0?js():$m!==-1?$m:$m=js()}function Go(o){return(o.mode&1)===0?1:(ps&2)!==0&&Gn!==0?Gn&-Gn:p6.transition!==null?(Om===0&&(Om=Ml()),Om):(o=ns,o!==0||(o=window.event,o=o===void 0?16:Su(o.type)),o)}function zi(o,d,m,v){if(50<Xu)throw Xu=0,qx=null,Error(n(185));Io(o,m,v),((ps&2)===0||o!==An)&&(o===An&&((ps&2)===0&&(Dm|=m),jn===4&&Wo(o,Gn)),$r(o,v),m===1&&ps===0&&(d.mode&1)===0&&(md=js()+500,mm&&$o()))}function $r(o,d){var m=o.callbackNode;Ra(o,d);var v=Dl(o,o===An?Gn:0);if(v===0)m!==null&&ko(m),o.callbackNode=null,o.callbackPriority=0;else if(d=v&-v,o.callbackPriority!==d){if(m!=null&&ko(m),d===1)o.tag===0?h6(Wj.bind(null,o)):Ew(Wj.bind(null,o)),l6(function(){(ps&6)===0&&$o()}),m=null;else{switch(Eo(v)){case 1:m=sa;break;case 4:m=Pi;break;case 16:m=yr;break;case 536870912:m=Op;break;default:m=yr}m=e2(m,Gj.bind(null,o))}o.callbackPriority=d,o.callbackNode=m}}function Gj(o,d){if($m=-1,Om=0,(ps&6)!==0)throw Error(n(327));var m=o.callbackNode;if(gd()&&o.callbackNode!==m)return null;var v=Dl(o,o===An?Gn:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||d)d=Vm(o,v);else{d=v;var j=ps;ps|=2;var D=Kj();(An!==o||Gn!==d)&&(Ga=null,md=js()+500,Xl(o,d));do try{R6();break}catch(Q){qj(o,Q)}while(!0);ux(),Lm.current=D,ps=j,mn!==null?d=0:(An=null,Gn=0,d=jn)}if(d!==0){if(d===2&&(j=Jr(o),j!==0&&(v=j,d=Kx(o,j))),d===1)throw m=Ku,Xl(o,0),Wo(o,v),$r(o,js()),m;if(d===6)Wo(o,v);else{if(j=o.current.alternate,(v&30)===0&&!E6(j)&&(d=Vm(o,v),d===2&&(D=Jr(o),D!==0&&(v=D,d=Kx(o,D))),d===1))throw m=Ku,Xl(o,0),Wo(o,v),$r(o,js()),m;switch(o.finishedWork=j,o.finishedLanes=v,d){case 0:case 1:throw Error(n(345));case 2:Yl(o,Br,Ga);break;case 3:if(Wo(o,v),(v&130023424)===v&&(d=Gx+500-js(),10<d)){if(Dl(o,0)!==0)break;if(j=o.suspendedLanes,(j&v)!==v){jr(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=ex(Yl.bind(null,o,Br,Ga),d);break}Yl(o,Br,Ga);break;case 4:if(Wo(o,v),(v&4194240)===v)break;for(d=o.eventTimes,j=-1;0<v;){var V=31-br(v);D=1<<V,V=d[V],V>j&&(j=V),v&=~D}if(v=j,v=js()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*A6(v/1960))-v,10<v){o.timeoutHandle=ex(Yl.bind(null,o,Br,Ga),v);break}Yl(o,Br,Ga);break;case 5:Yl(o,Br,Ga);break;default:throw Error(n(329))}}}return $r(o,js()),o.callbackNode===m?Gj.bind(null,o):null}function Kx(o,d){var m=Qu;return o.current.memoizedState.isDehydrated&&(Xl(o,d).flags|=256),o=Vm(o,d),o!==2&&(d=Br,Br=m,d!==null&&Qx(d)),o}function Qx(o){Br===null?Br=o:Br.push.apply(Br,o)}function E6(o){for(var d=o;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var j=m[v],D=j.getSnapshot;j=j.value;try{if(!Bi(D(),j))return!1}catch(V){return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Wo(o,d){for(d&=~Hx,d&=~Dm,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var m=31-br(d),v=1<<m;o[m]=-1,d&=~v}}function Wj(o){if((ps&6)!==0)throw Error(n(327));gd();var d=Dl(o,0);if((d&1)===0)return $r(o,js()),null;var m=Vm(o,d);if(o.tag!==0&&m===2){var v=Jr(o);v!==0&&(d=v,m=Kx(o,v))}if(m===1)throw m=Ku,Xl(o,0),Wo(o,d),$r(o,js()),m;if(m===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Yl(o,Br,Ga),$r(o,js()),null}function Xx(o,d){var m=ps;ps|=1;try{return o(d)}finally{ps=m,ps===0&&(md=js()+500,mm&&$o())}}function Ql(o){Ho!==null&&Ho.tag===0&&(ps&6)===0&&gd();var d=ps;ps|=1;var m=bi.transition,v=ns;try{if(bi.transition=null,ns=1,o)return o()}finally{ns=v,bi.transition=m,ps=d,(ps&6)===0&&$o()}}function Yx(){ni=pd.current,Ms(pd)}function Xl(o,d){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,o6(m)),mn!==null)for(m=mn.return;m!==null;){var v=m;switch(ax(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&hm();break;case 3:dd(),Ms(Dr),Ms(ir),yx();break;case 5:vx(v);break;case 4:dd();break;case 13:Ms(Ws);break;case 19:Ms(Ws);break;case 10:hx(v.type._context);break;case 22:case 23:Yx()}m=m.return}if(An=o,mn=o=qo(o.current,null),Gn=ni=d,jn=0,Ku=null,Hx=Dm=Kl=0,Br=Qu=null,Gl!==null){for(d=0;d<Gl.length;d++)if(m=Gl[d],v=m.interleaved,v!==null){m.interleaved=null;var j=v.next,D=m.pending;if(D!==null){var V=D.next;D.next=j,v.next=V}m.pending=v}Gl=null}return o}function qj(o,d){do{var m=mn;try{if(ux(),Sm.current=Tm,Nm){for(var v=qs.memoizedState;v!==null;){var j=v.queue;j!==null&&(j.pending=null),v=v.next}Nm=!1}if(ql=0,In=wn=qs=null,Uu=!1,zu=0,zx.current=null,m===null||m.return===null){jn=1,Ku=d,mn=null;break}e:{var D=o,V=m.return,Q=m,ee=d;if(d=Gn,Q.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var me=ee,Te=Q,Pe=Te.tag;if((Te.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var ke=Te.alternate;ke?(Te.updateQueue=ke.updateQueue,Te.memoizedState=ke.memoizedState,Te.lanes=ke.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Ye=xj(V);if(Ye!==null){Ye.flags&=-257,yj(Ye,V,Q,D,d),Ye.mode&1&&vj(D,me,d),d=Ye,ee=me;var st=d.updateQueue;if(st===null){var rt=new Set;rt.add(ee),d.updateQueue=rt}else st.add(ee);break e}else{if((d&1)===0){vj(D,me,d),Jx();break e}ee=Error(n(426))}}else if(Vs&&Q.mode&1){var rn=xj(V);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),yj(rn,V,Q,D,d),cx(ud(ee,Q));break e}}D=ee=ud(ee,Q),jn!==4&&(jn=2),Qu===null?Qu=[D]:Qu.push(D),D=V;do{switch(D.tag){case 3:D.flags|=65536,d&=-d,D.lanes|=d;var ue=gj(D,ee,d);Uw(D,ue);break e;case 1:Q=ee;var re=D.type,pe=D.stateNode;if((D.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(zo===null||!zo.has(pe)))){D.flags|=65536,d&=-d,D.lanes|=d;var De=fj(D,Q,d);Uw(D,De);break e}}D=D.return}while(D!==null)}Xj(m)}catch(lt){d=lt,mn===m&&m!==null&&(mn=m=m.return);continue}break}while(!0)}function Kj(){var o=Lm.current;return Lm.current=Tm,o===null?Tm:o}function Jx(){(jn===0||jn===3||jn===2)&&(jn=4),An===null||(Kl&268435455)===0&&(Dm&268435455)===0||Wo(An,Gn)}function Vm(o,d){var m=ps;ps|=2;var v=Kj();(An!==o||Gn!==d)&&(Ga=null,Xl(o,d));do try{P6();break}catch(j){qj(o,j)}while(!0);if(ux(),ps=m,Lm.current=v,mn!==null)throw Error(n(261));return An=null,Gn=0,jn}function P6(){for(;mn!==null;)Qj(mn)}function R6(){for(;mn!==null&&!Pl();)Qj(mn)}function Qj(o){var d=Zj(o.alternate,o,ni);o.memoizedProps=o.pendingProps,d===null?Xj(o):mn=d,zx.current=null}function Xj(o){var d=o;do{var m=d.alternate;if(o=d.return,(d.flags&32768)===0){if(m=N6(m,d,ni),m!==null){mn=m;return}}else{if(m=k6(m,d),m!==null){m.flags&=32767,mn=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{jn=6,mn=null;return}}if(d=d.sibling,d!==null){mn=d;return}mn=d=o}while(d!==null);jn===0&&(jn=5)}function Yl(o,d,m){var v=ns,j=bi.transition;try{bi.transition=null,ns=1,L6(o,d,m,v)}finally{bi.transition=j,ns=v}return null}function L6(o,d,m,v){do gd();while(Ho!==null);if((ps&6)!==0)throw Error(n(327));m=o.finishedWork;var j=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var D=m.lanes|m.childLanes;if(Ts(o,D),o===An&&(mn=An=null,Gn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Fm||(Fm=!0,e2(yr,function(){return gd(),null})),D=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||D){D=bi.transition,bi.transition=null;var V=ns;ns=1;var Q=ps;ps|=4,zx.current=null,T6(o,m),Oj(m,o),e6(Jv),Ro=!!Yv,Jv=Yv=null,o.current=m,I6(m),Mc(),ps=Q,ns=V,bi.transition=D}else o.current=m;if(Fm&&(Fm=!1,Ho=o,Bm=j),D=o.pendingLanes,D===0&&(zo=null),Vp(m.stateNode),$r(o,js()),d!==null)for(v=o.onRecoverableError,m=0;m<d.length;m++)j=d[m],v(j.value,{componentStack:j.stack,digest:j.digest});if(Mm)throw Mm=!1,o=Wx,Wx=null,o;return(Bm&1)!==0&&o.tag!==0&&gd(),D=o.pendingLanes,(D&1)!==0?o===qx?Xu++:(Xu=0,qx=o):Xu=0,$o(),null}function gd(){if(Ho!==null){var o=Eo(Bm),d=bi.transition,m=ns;try{if(bi.transition=null,ns=16>o?16:o,Ho===null)var v=!1;else{if(o=Ho,Ho=null,Bm=0,(ps&6)!==0)throw Error(n(331));var j=ps;for(ps|=4,et=o.current;et!==null;){var D=et,V=D.child;if((et.flags&16)!==0){var Q=D.deletions;if(Q!==null){for(var ee=0;ee<Q.length;ee++){var me=Q[ee];for(et=me;et!==null;){var Te=et;switch(Te.tag){case 0:case 11:case 15:qu(8,Te,D)}var Pe=Te.child;if(Pe!==null)Pe.return=Te,et=Pe;else for(;et!==null;){Te=et;var ke=Te.sibling,Ye=Te.return;if(Dj(Te),Te===me){et=null;break}if(ke!==null){ke.return=Ye,et=ke;break}et=Ye}}}var st=D.alternate;if(st!==null){var rt=st.child;if(rt!==null){st.child=null;do{var rn=rt.sibling;rt.sibling=null,rt=rn}while(rt!==null)}}et=D}}if((D.subtreeFlags&2064)!==0&&V!==null)V.return=D,et=V;else e:for(;et!==null;){if(D=et,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:qu(9,D,D.return)}var ue=D.sibling;if(ue!==null){ue.return=D.return,et=ue;break e}et=D.return}}var re=o.current;for(et=re;et!==null;){V=et;var pe=V.child;if((V.subtreeFlags&2064)!==0&&pe!==null)pe.return=V,et=pe;else e:for(V=re;et!==null;){if(Q=et,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Rm(9,Q)}}catch(lt){Js(Q,Q.return,lt)}if(Q===V){et=null;break e}var De=Q.sibling;if(De!==null){De.return=Q.return,et=De;break e}et=Q.return}}if(ps=j,$o(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Ll,o)}catch(lt){}v=!0}return v}finally{ns=m,bi.transition=d}}return!1}function Yj(o,d,m){d=ud(m,d),d=gj(o,d,1),o=Vo(o,d,1),d=jr(),o!==null&&(Io(o,1,d),$r(o,d))}function Js(o,d,m){if(o.tag===3)Yj(o,o,m);else for(;d!==null;){if(d.tag===3){Yj(d,o,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(zo===null||!zo.has(v))){o=ud(m,o),o=fj(d,o,1),d=Vo(d,o,1),o=jr(),d!==null&&(Io(d,1,o),$r(d,o));break}}d=d.return}}function D6(o,d,m){var v=o.pingCache;v!==null&&v.delete(d),d=jr(),o.pingedLanes|=o.suspendedLanes&m,An===o&&(Gn&m)===m&&(jn===4||jn===3&&(Gn&130023424)===Gn&&500>js()-Gx?Xl(o,0):Hx|=m),$r(o,d)}function Jj(o,d){d===0&&((o.mode&1)===0?d=1:(d=Bc,Bc<<=1,(Bc&130023424)===0&&(Bc=4194304)));var m=jr();o=Ua(o,d),o!==null&&(Io(o,d,m),$r(o,m))}function M6(o){var d=o.memoizedState,m=0;d!==null&&(m=d.retryLane),Jj(o,m)}function F6(o,d){var m=0;switch(o.tag){case 13:var v=o.stateNode,j=o.memoizedState;j!==null&&(m=j.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(d),Jj(o,m)}var Zj;Zj=function(o,d,m){if(o!==null)if(o.memoizedProps!==d.pendingProps||Dr.current)Fr=!0;else{if((o.lanes&m)===0&&(d.flags&128)===0)return Fr=!1,S6(o,d,m);Fr=(o.flags&131072)!==0}else Fr=!1,Vs&&(d.flags&1048576)!==0&&Pw(d,fm,d.index);switch(d.lanes=0,d.tag){case 2:var v=d.type;Em(o,d),o=d.pendingProps;var j=nd(d,ir.current);cd(d,m),j=wx(null,d,v,o,j,m);var D=jx();return d.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Mr(v)?(D=!0,pm(d)):D=!1,d.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,gx(d),j.updater=Im,d.stateNode=j,j._reactInternals=d,Ix(d,v,o,m),d=Rx(null,d,v,!0,D,m)):(d.tag=0,Vs&&D&&ix(d),wr(null,d,j,m),d=d.child),d;case 16:v=d.elementType;e:{switch(Em(o,d),o=d.pendingProps,j=v._init,v=j(v._payload),d.type=v,j=d.tag=$6(v),o=Oi(v,o),j){case 0:d=Px(null,d,v,o,m);break e;case 1:d=Nj(null,d,v,o,m);break e;case 11:d=bj(null,d,v,o,m);break e;case 14:d=_j(null,d,v,Oi(v.type,o),m);break e}throw Error(n(306,v,""))}return d;case 0:return v=d.type,j=d.pendingProps,j=d.elementType===v?j:Oi(v,j),Px(o,d,v,j,m);case 1:return v=d.type,j=d.pendingProps,j=d.elementType===v?j:Oi(v,j),Nj(o,d,v,j,m);case 3:e:{if(kj(d),o===null)throw Error(n(387));v=d.pendingProps,D=d.memoizedState,j=D.element,Vw(o,d),wm(d,v,null,m);var V=d.memoizedState;if(v=V.element,D.isDehydrated)if(D={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){j=ud(Error(n(423)),d),d=Cj(o,d,v,m,j);break e}else if(v!==j){j=ud(Error(n(424)),d),d=Cj(o,d,v,m,j);break e}else for(si=Mo(d.stateNode.containerInfo.firstChild),ti=d,Vs=!0,$i=null,m=$w(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ad(),v===j){d=Ha(o,d,m);break e}wr(o,d,v,m)}d=d.child}return d;case 5:return Hw(d),o===null&&lx(d),v=d.type,j=d.pendingProps,D=o!==null?o.memoizedProps:null,V=j.children,Zv(v,j)?V=null:D!==null&&Zv(v,D)&&(d.flags|=32),Sj(o,d),wr(o,d,V,m),d.child;case 6:return o===null&&lx(d),null;case 13:return Tj(o,d,m);case 4:return fx(d,d.stateNode.containerInfo),v=d.pendingProps,o===null?d.child=od(d,null,v,m):wr(o,d,v,m),d.child;case 11:return v=d.type,j=d.pendingProps,j=d.elementType===v?j:Oi(v,j),bj(o,d,v,j,m);case 7:return wr(o,d,d.pendingProps,m),d.child;case 8:return wr(o,d,d.pendingProps.children,m),d.child;case 12:return wr(o,d,d.pendingProps.children,m),d.child;case 10:e:{if(v=d.type._context,j=d.pendingProps,D=d.memoizedProps,V=j.value,Es(ym,v._currentValue),v._currentValue=V,D!==null)if(Bi(D.value,V)){if(D.children===j.children&&!Dr.current){d=Ha(o,d,m);break e}}else for(D=d.child,D!==null&&(D.return=d);D!==null;){var Q=D.dependencies;if(Q!==null){V=D.child;for(var ee=Q.firstContext;ee!==null;){if(ee.context===v){if(D.tag===1){ee=za(-1,m&-m),ee.tag=2;var me=D.updateQueue;if(me!==null){me=me.shared;var Te=me.pending;Te===null?ee.next=ee:(ee.next=Te.next,Te.next=ee),me.pending=ee}}D.lanes|=m,ee=D.alternate,ee!==null&&(ee.lanes|=m),px(D.return,m,d),Q.lanes|=m;break}ee=ee.next}}else if(D.tag===10)V=D.type===d.type?null:D.child;else if(D.tag===18){if(V=D.return,V===null)throw Error(n(341));V.lanes|=m,Q=V.alternate,Q!==null&&(Q.lanes|=m),px(V,m,d),V=D.sibling}else V=D.child;if(V!==null)V.return=D;else for(V=D;V!==null;){if(V===d){V=null;break}if(D=V.sibling,D!==null){D.return=V.return,V=D;break}V=V.return}D=V}wr(o,d,j.children,m),d=d.child}return d;case 9:return j=d.type,v=d.pendingProps.children,cd(d,m),j=xi(j),v=v(j),d.flags|=1,wr(o,d,v,m),d.child;case 14:return v=d.type,j=Oi(v,d.pendingProps),j=Oi(v.type,j),_j(o,d,v,j,m);case 15:return wj(o,d,d.type,d.pendingProps,m);case 17:return v=d.type,j=d.pendingProps,j=d.elementType===v?j:Oi(v,j),Em(o,d),d.tag=1,Mr(v)?(o=!0,pm(d)):o=!1,cd(d,m),pj(d,v,j),Ix(d,v,j,m),Rx(null,d,v,!0,o,m);case 19:return Aj(o,d,m);case 22:return jj(o,d,m)}throw Error(n(156,d.tag))};function e2(o,d){return Pa(o,d)}function B6(o,d,m,v){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(o,d,m,v){return new B6(o,d,m,v)}function Zx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $6(o){if(typeof o=="function")return Zx(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===U)return 14}return 2}function qo(o,d){var m=o.alternate;return m===null?(m=_i(o.tag,d,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=d,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,d=o.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function Um(o,d,m,v,j,D){var V=2;if(v=o,typeof o=="function")Zx(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case T:return Jl(m.children,j,D,d);case N:V=8,j|=8;break;case A:return o=_i(12,m,d,j|2),o.elementType=A,o.lanes=D,o;case $:return o=_i(13,m,d,j),o.elementType=$,o.lanes=D,o;case z:return o=_i(19,m,d,j),o.elementType=z,o.lanes=D,o;case K:return zm(m,j,D,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:V=10;break e;case R:V=9;break e;case B:V=11;break e;case U:V=14;break e;case W:V=16,v=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return d=_i(V,m,d,j),d.elementType=o,d.type=v,d.lanes=D,d}function Jl(o,d,m,v){return o=_i(7,o,v,d),o.lanes=m,o}function zm(o,d,m,v){return o=_i(22,o,v,d),o.elementType=K,o.lanes=m,o.stateNode={isHidden:!1},o}function ey(o,d,m){return o=_i(6,o,null,d),o.lanes=m,o}function ty(o,d,m){return d=_i(4,o.children!==null?o.children:[],o.key,d),d.lanes=m,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function O6(o,d,m,v,j){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=v,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function sy(o,d,m,v,j,D,V,Q,ee){return o=new O6(o,d,m,Q,ee),d===1?(d=1,D===!0&&(d|=8)):d=0,D=_i(3,null,null,d),o.current=D,D.stateNode=o,D.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},gx(D),o}function V6(o,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:v==null?null:""+v,children:o,containerInfo:d,implementation:m}}function t2(o){if(!o)return Bo;o=o._reactInternals;e:{if(qt(o)!==o||o.tag!==1)throw Error(n(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Mr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(o.tag===1){var m=o.type;if(Mr(m))return Iw(o,m,d)}return d}function s2(o,d,m,v,j,D,V,Q,ee){return o=sy(m,v,!0,o,j,D,V,Q,ee),o.context=t2(null),m=o.current,v=jr(),j=Go(m),D=za(v,j),D.callback=d!=null?d:null,Vo(m,D,j),o.current.lanes=j,Io(o,j,v),$r(o,v),o}function Hm(o,d,m,v){var j=d.current,D=jr(),V=Go(j);return m=t2(m),d.context===null?d.context=m:d.pendingContext=m,d=za(D,V),d.payload={element:o},v=v===void 0?null:v,v!==null&&(d.callback=v),o=Vo(j,d,V),o!==null&&(zi(o,j,V,D),_m(o,j,V)),V}function Gm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function n2(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<d?m:d}}function ny(o,d){n2(o,d),(o=o.alternate)&&n2(o,d)}function U6(){return null}var r2=typeof reportError=="function"?reportError:function(o){console.error(o)};function ry(o){this._internalRoot=o}Wm.prototype.render=ry.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(n(409));Hm(o,d,null,null)},Wm.prototype.unmount=ry.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Ql(function(){Hm(null,o,null,null)}),d[Ba]=null}};function Wm(o){this._internalRoot=o}Wm.prototype.unstable_scheduleHydration=function(o){if(o){var d=Wp();o={blockedOn:null,target:o,priority:d};for(var m=0;m<ra.length&&d!==0&&d<ra[m].priority;m++);ra.splice(m,0,o),m===0&&Qp(o)}};function iy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function qm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function i2(){}function z6(o,d,m,v,j){if(j){if(typeof v=="function"){var D=v;v=function(){var me=Gm(V);D.call(me)}}var V=s2(d,v,o,0,null,!1,!1,"",i2);return o._reactRootContainer=V,o[Ba]=V.current,Lu(o.nodeType===8?o.parentNode:o),Ql(),V}for(;j=o.lastChild;)o.removeChild(j);if(typeof v=="function"){var Q=v;v=function(){var me=Gm(ee);Q.call(me)}}var ee=sy(o,0,!1,null,null,!1,!1,"",i2);return o._reactRootContainer=ee,o[Ba]=ee.current,Lu(o.nodeType===8?o.parentNode:o),Ql(function(){Hm(d,ee,m,v)}),ee}function Km(o,d,m,v,j){var D=m._reactRootContainer;if(D){var V=D;if(typeof j=="function"){var Q=j;j=function(){var ee=Gm(V);Q.call(ee)}}Hm(d,V,o,j)}else V=z6(m,d,o,j,v);return Gm(V)}Hp=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var m=Co(d.pendingLanes);m!==0&&(Ao(d,m|1),$r(d,js()),(ps&6)===0&&(md=js()+500,$o()))}break;case 13:Ql(function(){var v=Ua(o,1);if(v!==null){var j=jr();zi(v,o,1,j)}}),ny(o,1)}},$c=function(o){if(o.tag===13){var d=Ua(o,134217728);if(d!==null){var m=jr();zi(d,o,134217728,m)}ny(o,134217728)}},Gp=function(o){if(o.tag===13){var d=Go(o),m=Ua(o,d);if(m!==null){var v=jr();zi(m,o,d,v)}ny(o,d)}},Wp=function(){return ns},qp=function(o,d){var m=ns;try{return ns=o,d()}finally{ns=m}},He=function(o,d,m){switch(d){case"input":if(Je(o,m),d=m.name,m.type==="radio"&&d!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==o&&v.form===o.form){var j=um(v);if(!j)throw Error(n(90));be(v),Je(v,j)}}}break;case"textarea":kt(o,m);break;case"select":d=m.value,d!=null&&Qe(o,!!m.multiple,d,!1)}},kn=Xx,rr=Ql;var H6={usingClientEntryPoint:!1,Events:[Fu,td,um,as,$s,Xx]},Yu={findFiberByHostInstance:Vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G6={bundleType:Yu.bundleType,version:Yu.version,rendererPackageName:Yu.rendererPackageName,rendererConfig:Yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=No(o),o===null?null:o.stateNode},findFiberByHostInstance:Yu.findFiberByHostInstance||U6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{Ll=Qm.inject(G6),Yr=Qm}catch(o){}}return Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H6,Or.createPortal=function(o,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(d))throw Error(n(200));return V6(o,d,null,m)},Or.createRoot=function(o,d){if(!iy(o))throw Error(n(299));var m=!1,v="",j=r2;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),d=sy(o,1,!1,null,null,m,!1,v,j),o[Ba]=d.current,Lu(o.nodeType===8?o.parentNode:o),new ry(d)},Or.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=No(d),o=o===null?null:o.stateNode,o},Or.flushSync=function(o){return Ql(o)},Or.hydrate=function(o,d,m){if(!qm(d))throw Error(n(200));return Km(null,o,d,!0,m)},Or.hydrateRoot=function(o,d,m){if(!iy(o))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,j=!1,D="",V=r2;if(m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(D=m.identifierPrefix),m.onRecoverableError!==void 0&&(V=m.onRecoverableError)),d=s2(d,null,o,1,m!=null?m:null,j,!1,D,V),o[Ba]=d.current,Lu(o),v)for(o=0;o<v.length;o++)m=v[o],j=m._getVersion,j=j(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,j]:d.mutableSourceEagerHydrationData.push(m,j);return new Wm(d)},Or.render=function(o,d,m){if(!qm(d))throw Error(n(200));return Km(null,o,d,!1,m)},Or.unmountComponentAtNode=function(o){if(!qm(o))throw Error(n(40));return o._reactRootContainer?(Ql(function(){Km(null,null,o,!1,function(){o._reactRootContainer=null,o[Ba]=null})}),!0):!1},Or.unstable_batchedUpdates=Xx,Or.unstable_renderSubtreeIntoContainer=function(o,d,m,v){if(!qm(m))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Km(o,d,m,!1,v)},Or.version="18.3.1-next-f1338f8080-20240426",Or}var p2;function j5(){if(p2)return ly.exports;p2=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ly.exports=J6(),ly.exports}var m2;function Z6(){if(m2)return Xm;m2=1;var s=j5();return Xm.createRoot=s.createRoot,Xm.hydrateRoot=s.hydrateRoot,Xm}var eP=Z6();const tP=X1(eP),It=s=>typeof s=="string",Zu=()=>{let s,e;const n=new Promise((r,i)=>{s=r,e=i});return n.resolve=s,n.reject=e,n},g2=s=>s==null?"":""+s,sP=(s,e,n)=>{s.forEach(r=>{e[r]&&(n[r]=e[r])})},nP=/###/g,f2=s=>s&&s.indexOf("###")>-1?s.replace(nP,"."):s,v2=s=>!s||It(s),Nh=(s,e,n)=>{const r=It(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(v2(s))return{};const a=f2(r[i]);!s[a]&&n&&(s[a]=new n),Object.prototype.hasOwnProperty.call(s,a)?s=s[a]:s={},++i}return v2(s)?{}:{obj:s,k:f2(r[i])}},x2=(s,e,n)=>{const{obj:r,k:i}=Nh(s,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=Nh(s,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=Nh(s,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]!="undefined"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},rP=(s,e,n,r)=>{const{obj:i,k:a}=Nh(s,e,Object);i[a]=i[a]||[],i[a].push(n)},af=(s,e)=>{const{obj:n,k:r}=Nh(s,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},iP=(s,e,n)=>{const r=af(s,n);return r!==void 0?r:af(e,n)},S5=(s,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in s?It(s[r])||s[r]instanceof String||It(e[r])||e[r]instanceof String?n&&(s[r]=e[r]):S5(s[r],e[r],n):s[r]=e[r]);return s},fd=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var aP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oP=s=>It(s)?s.replace(/[&<>"'\/]/g,e=>aP[e]):s;class lP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const cP=[" ",",","?","!",";"],dP=new lP(20),uP=(s,e,n)=>{e=e||"",n=n||"";const r=cP.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;const i=dP.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(s);if(!a){const l=s.indexOf(n);l>0&&!i.test(s.substring(0,l))&&(a=!0)}return a},F0=(s,e,n=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const r=e.split(n);let i=s;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let u=a;u<r.length;++u)if(u!==a&&(c+=n),c+=r[u],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<r.length-1)continue;a+=u-a+1;break}i=l}return i},Hh=s=>s==null?void 0:s.replace("_","-"),hP={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var n,r;(r=(n=console==null?void 0:console[s])==null?void 0:n.apply)==null||r.call(n,console,e)}};let pP=class B0{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||hP,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(It(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new B0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new B0(this.logger,e)}};var va=new pP;class Wf{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...n])})}}class y2 extends Wf{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var h,p;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):It(r)&&a?c.push(...r.split(a)):c.push(r)));const u=af(this.data,c);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),u||!l||!It(r)?u:F0((p=(h=this.data)==null?void 0:h[e])==null?void 0:p[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,n];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=n,n=c[1]),this.addNamespaces(n),x2(this.data,c,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(It(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=n,n=c[1]),this.addNamespaces(n);let u=af(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?S5(u,r,a):u={...u,...r},x2(this.data,c,u),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var N5={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,n,r,i){return s.forEach(a=>{var l,c;e=(c=(l=this.processors[a])==null?void 0:l.process(e,n,r,i))!=null?c:e}),e}};const k5=Symbol("i18next/PATH_KEY");function mP(){const s=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===k5?s:(s.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function $0(s,e){var r;const{[k5]:n}=s(mP());return n.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const b2={},_2=s=>!It(s)&&typeof s!="boolean"&&typeof s!="number";class of extends Wf{constructor(e,n={}){super(),sP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=va.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!uP(e,r,i);if(l&&!c){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:It(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:It(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=$0(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(e[e.length-1],i),h=u[u.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=i.lng||this.language,x=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return x?a?{res:`${h}${p}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${p}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:c;const b=this.resolve(e,i);let _=b==null?void 0:b.res;const S=(b==null?void 0:b.usedKey)||c,C=(b==null?void 0:b.exactUsedKey)||c,E=["[object Number]","[object Function]","[object RegExp]"],F=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!It(i.count),w=of.hasDefaultValue(i),P=y?this.pluralResolver.getSuffix(g,i.count,i):"",T=i.ordinal&&y?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",N=y&&!i.ordinal&&i.count===0,A=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${T}`]||i.defaultValue;let M=_;k&&!_&&w&&(M=A);const R=_2(M),B=Object.prototype.toString.apply(M);if(k&&M&&R&&E.indexOf(B)<0&&!(It(F)&&Array.isArray(M))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,M,{...i,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(b.res=$,b.usedParams=this.getUsedParamsDetails(i),b):$}if(l){const $=Array.isArray(M),z=$?[]:{},U=$?C:S;for(const W in M)if(Object.prototype.hasOwnProperty.call(M,W)){const K=`${U}${l}${W}`;w&&!_?z[W]=this.translate(K,{...i,defaultValue:_2(A)?A[W]:void 0,joinArrays:!1,ns:u}):z[W]=this.translate(K,{...i,joinArrays:!1,ns:u}),z[W]===K&&(z[W]=M[W])}_=z}}else if(k&&It(F)&&Array.isArray(_))_=_.join(F),_&&(_=this.extendTranslation(_,e,i,r));else{let $=!1,z=!1;!this.isValidLookup(_)&&w&&($=!0,_=A),this.isValidLookup(_)||(z=!0,_=c);const W=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:_,K=w&&A!==_&&this.options.updateMissing;if(z||$||K){if(this.logger.log(K?"updateKey":"missingKey",g,h,c,K?A:_),l){const H=this.resolve(c,{...i,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let H=0;H<se.length;H++)q.push(se[H]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(i.lng||this.language):q.push(i.lng||this.language);const ne=(H,J,le)=>{var he;const oe=w&&le!==_?le:W;this.options.missingKeyHandler?this.options.missingKeyHandler(H,h,J,oe,K,i):(he=this.backendConnector)!=null&&he.saveMissing&&this.backendConnector.saveMissing(H,h,J,oe,K,i),this.emit("missingKey",H,h,J,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?q.forEach(H=>{const J=this.pluralResolver.getSuffixes(H,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(le=>{ne([H],c+le,i[`defaultValue${le}`]||A)})}):ne(q,c,A))}_=this.extendTranslation(_,e,i,b,r),z&&_===c&&this.options.appendNamespaceToMissingKey&&(_=`${h}${p}${c}`),(z||$)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${c}`:c,$?_:void 0,i))}return a?(b.res=_,b.usedParams=this.getUsedParamsDetails(i),b):_}extendTranslation(e,n,r,i,a){var u,h;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=It(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const b=e.match(this.interpolator.nestingRegexp);g=b&&b.length}let x=r.replace&&!It(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),e=this.interpolator.interpolate(e,x,r.lng||this.language||i.usedLng,r),p){const b=e.match(this.interpolator.nestingRegexp),_=b&&b.length;g<_&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>(a==null?void 0:a[0])===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=It(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=N5.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,l,c;return It(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(u,n),p=h.key;i=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const x=n.count!==void 0&&!It(n.count),b=x&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(It(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(C=>{var E,F;this.isValidLookup(r)||(c=C,!b2[`${S[0]}-${C}`]&&((E=this.utils)!=null&&E.hasLoadedNamespace)&&!((F=this.utils)!=null&&F.hasLoadedNamespace(c))&&(b2[`${S[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(k=>{var P;if(this.isValidLookup(r))return;l=k;const y=[p];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(y,p,k,C,n);else{let T;x&&(T=this.pluralResolver.getSuffix(k,n.count,n));const N=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&T.indexOf(A)===0&&y.push(p+T.replace(A,this.options.pluralSeparator)),y.push(p+T),b&&y.push(p+N)),_){const M=`${p}${this.options.contextSeparator||"_"}${n.context}`;y.push(M),x&&(n.ordinal&&T.indexOf(A)===0&&y.push(M+T.replace(A,this.options.pluralSeparator)),y.push(M+T),b&&y.push(M+N))}}let w;for(;w=y.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(k,C,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!It(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class w2{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=va.create("languageUtils")}getScriptPartFromCode(e){if(e=Hh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Hh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(It(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(r){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),It(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return It(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):It(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const j2={zero:0,one:1,two:2,few:3,many:4,other:5},S2={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class gP{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=va.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Hh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch(c){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),S2;if(!e.match(/-|_/))return S2;const u=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(u,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>j2[i]-j2[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const N2=(s,e,n,r=".",i=!0)=>{let a=iP(s,e,n);return!a&&i&&It(n)&&(a=F0(s,n,r),a===void 0&&(a=F0(e,n,r))),a},uy=s=>s.replace(/\$/g,"$$$$");class fP{constructor(e={}){var n;this.logger=va.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:u,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:x,nestingPrefixEscaped:b,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:C,maxReplaces:E,alwaysFormat:F}=e.interpolation;this.escape=n!==void 0?n:oP,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?fd(a):l||"{{",this.suffix=c?fd(c):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?fd(x):b||fd("$t("),this.nestingSuffix=_?fd(_):S||fd(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=E||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var b;let a,l,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const F=N2(n,u,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,r,{...i,...n,interpolationkey:_}):F}const S=_.split(this.formatSeparator),C=S.shift().trim(),E=S.join(this.formatSeparator).trim();return this.format(N2(n,u,C,this.options.keySeparator,this.options.ignoreJSONStructure),E,r,{...i,...n,interpolationkey:C})};this.resetRegExp();const p=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>uy(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?uy(this.escape(_)):uy(_)}].forEach(_=>{for(c=0;a=_.regex.exec(e);){const S=a[1].trim();if(l=h(S),l===void 0)if(typeof p=="function"){const E=p(e,a,i);l=It(E)?E:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),l="";else!It(l)&&!this.useRawValueToEscape&&(l=g2(l));const C=_.safeValue(l);if(e=e.replace(a[0],C),g?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,l;const c=(u,h)=>{var S;const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const g=u.split(new RegExp(`${p}[ ]*{`));let x=`{${g[1]}`;u=g[0],x=this.interpolate(x,l);const b=x.match(/'/g),_=x.match(/"/g);(((S=b==null?void 0:b.length)!=null?S:0)%2===0&&!_||_.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),h&&(l={...h,...l})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,C),`${u}${p}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];l={...r},l=l.replace&&!It(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(u=i[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=n(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!It(a))return a;It(a)||(a=g2(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((p,g)=>this.format(p,g,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const vP=s=>{let e=s.toLowerCase().trim();const n={};if(s.indexOf("(")>-1){const r=s.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...u]=l.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},k2=s=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=s(Hh(r),i),e[l]=c),c(n)}},xP=s=>(e,n,r)=>s(Hh(n),r)(e);class yP{constructor(e={}){this.logger=va.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?k2:xP;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=k2(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,u)=>{var g;const{formatName:h,formatOptions:p}=vP(u);if(this.formats[h]){let x=c;try{const b=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},_=b.locale||b.lng||i.locale||i.lng||r;x=this.formats[h](c,_,{...p,...i,...b})}catch(b){this.logger.warn(b)}return x}else this.logger.warn(`there was no format function for ${h}`);return c},e)}}const bP=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class _P extends Wf{constructor(e,n,r,i={}){var a,l;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=va.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},l={},c={},u={};return e.forEach(h=>{let p=!0;n.forEach(g=>{const x=`${h}|${g}`;!r.reload&&this.store.hasResourceBundle(h,g)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,p=!1,l[x]===void 0&&(l[x]=!0),a[x]===void 0&&(a[x]=!0),u[g]===void 0&&(u[g]=!0)))}),p||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const i=e.split("|"),a=i[0],l=i[1];n&&this.emit("failedLoading",a,l,n),!n&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const c={};this.queue.forEach(u=>{rP(u.loaded,[a],l),bP(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{c[h]||(c[h]={});const p=u.loaded[h];p.length&&p.forEach(g=>{c[h][g]===void 0&&(c[h][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,l)},a);return}l(h,p)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const h=u(e,n);h&&typeof h.then=="function"?h.then(p=>c(null,p)).catch(c):c(null,h)}catch(h){c(h)}return}return u(e,n,c)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();It(e)&&(e=this.languageUtils.toResolveHierarchy(e)),It(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,n,r,i,a,l={},c=()=>{}){var u,h,p,g,x;if((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((x=this.backend)!=null&&x.create){const b={...l,isUpdate:a},_=this.backend.create.bind(this.backend);if(_.length<6)try{let S;_.length===5?S=_(e,n,r,i,b):S=_(e,n,r,i),S&&typeof S.then=="function"?S.then(C=>c(null,C)).catch(c):c(null,S)}catch(S){c(S)}else _(e,n,r,i,c,b)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const C2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),It(s[1])&&(e.defaultValue=s[1]),It(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const n=s[3]||s[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),T2=s=>{var e,n;return It(s.ns)&&(s.ns=[s.ns]),It(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),It(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((n=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},Ym=()=>{},wP=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(n=>{typeof s[n]=="function"&&(s[n]=s[n].bind(s))})};class Gh extends Wf{constructor(e={},n){if(super(),this.options=T2(e),this.services={},this.logger=va,this.modules={external:[]},wP(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(It(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=C2();this.options={...r,...this.options,...T2(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?va.init(i(this.modules.logger),this.options):va.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=yP;const p=new w2(this.options);this.store=new y2(this.options.resources,this.options);const g=this.services;g.logger=va,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new gP(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new fP(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new _P(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new of(this.services,this.options),this.translator.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ym),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const c=Zu(),u=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(e,n=Ym){var a,l;let r=n;const i=It(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&c.indexOf(g)<0&&c.push(g)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>u(p)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>u(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const i=Zu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Ym),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&N5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Zu();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{var p,g;!e&&!c&&this.services.languageDetector&&(c=[]);const u=It(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(It(c)?[c]:c);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,x=>{a(x,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){const i=(a,l,...c)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([a,l].concat(c)):u={...l},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=$0(g,{...this.options,...l})),`${u.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=$0(a,{...this.options,...l})),p=u.keyPrefix?`${u.keyPrefix}${h}${a}`:a),this.t(p,u)};return It(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,u)=>{const h=this.services.backendConnector.state[`${c}|${u}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,n){const r=Zu();return this.options.ns?(It(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Zu();It(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const c=l.getTextInfo();if(c&&c.direction)return c.direction}}catch(l){}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new w2(C2());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Gh(e,n)}cloneInstance(e={},n=Ym){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Gh(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((p,g)=>(p[g]={...u[h][g]},p),u[h]),u),{});a.store=new y2(c,i),a.services.resourceStore=a.store}return a.translator=new of(a.services,i),a.translator.on("*",(c,...u)=>{a.emit(c,...u)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nr=Gh.createInstance();nr.createInstance=Gh.createInstance;nr.createInstance;nr.dir;nr.init;nr.loadResources;nr.reloadResources;nr.use;nr.changeLanguage;nr.getFixedT;nr.t;nr.exists;nr.setDefaultNamespace;nr.hasLoadedNamespace;nr.loadNamespaces;nr.loadLanguages;const jP=(s,e,n,r)=>{var a,l,c,u;const i=[n,{code:e,...r||{}}];if((l=(a=s==null?void 0:s.services)==null?void 0:a.logger)!=null&&l.forward)return s.services.logger.forward(i,"warn","react-i18next::",!0);fc(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(c=s==null?void 0:s.services)==null?void 0:c.logger)!=null&&u.warn?s.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},I2={},O0=(s,e,n,r)=>{fc(n)&&I2[n]||(fc(n)&&(I2[n]=new Date),jP(s,e,n,r))},C5=(s,e)=>()=>{if(s.isInitialized)e();else{const n=()=>{setTimeout(()=>{s.off("initialized",n)},0),e()};s.on("initialized",n)}},V0=(s,e,n)=>{s.loadNamespaces(e,C5(s,n))},A2=(s,e,n,r)=>{if(fc(n)&&(n=[n]),s.options.preload&&s.options.preload.indexOf(e)>-1)return V0(s,n,r);n.forEach(i=>{s.options.ns.indexOf(i)<0&&s.options.ns.push(i)}),s.loadLanguages(e,C5(s,r))},SP=(s,e,n={})=>!e.languages||!e.languages.length?(O0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(s,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,s))return!1}}),fc=s=>typeof s=="string",NP=s=>typeof s=="object"&&s!==null,kP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,CP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},TP=s=>CP[s],IP=s=>s.replace(kP,TP);let U0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:IP};const AP=(s={})=>{U0={...U0,...s}},EP=()=>U0;let T5;const PP=s=>{T5=s},RP=()=>T5,LP={type:"3rdParty",init(s){AP(s.options.react),PP(s)}},DP=I.createContext();class MP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const FP=(s,e)=>{const n=I.useRef();return I.useEffect(()=>{n.current=s},[s,e]),n.current},I5=(s,e,n,r)=>s.getFixedT(e,n,r),BP=(s,e,n,r)=>I.useCallback(I5(s,e,n,r),[s,e,n,r]),Ia=(s,e={})=>{var y,w,P,T;const{i18n:n}=e,{i18n:r,defaultNS:i}=I.useContext(DP)||{},a=n||r||RP();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new MP),!a){O0(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(M,R)=>fc(R)?R:NP(R)&&fc(R.defaultValue)?R.defaultValue:Array.isArray(M)?M[M.length-1]:M,A=[N,{},!1];return A.t=N,A.i18n={},A.ready=!1,A}(y=a.options.react)!=null&&y.wait&&O0(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...EP(),...a.options.react,...e},{useSuspense:c,keyPrefix:u}=l;let h=i||((w=a.options)==null?void 0:w.defaultNS);h=fc(h)?[h]:h||["translation"],(T=(P=a.reportNamespaces).addUsedNamespaces)==null||T.call(P,h);const p=(a.isInitialized||a.initializedStoreOnce)&&h.every(N=>SP(N,a,l)),g=BP(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),x=()=>g,b=()=>I5(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),[_,S]=I.useState(x);let C=h.join();e.lng&&(C=`${e.lng}${C}`);const E=FP(C),F=I.useRef(!0);I.useEffect(()=>{const{bindI18n:N,bindI18nStore:A}=l;F.current=!0,!p&&!c&&(e.lng?A2(a,e.lng,h,()=>{F.current&&S(b)}):V0(a,h,()=>{F.current&&S(b)})),p&&E&&E!==C&&F.current&&S(b);const M=()=>{F.current&&S(b)};return N&&(a==null||a.on(N,M)),A&&(a==null||a.store.on(A,M)),()=>{F.current=!1,a&&N&&(N==null||N.split(" ").forEach(R=>a.off(R,M))),A&&a&&A.split(" ").forEach(R=>a.store.off(R,M))}},[a,C]),I.useEffect(()=>{F.current&&p&&S(x)},[a,u,p]);const k=[_,a,p];if(k.t=_,k.i18n=a,k.ready=p,p||!p&&!c)return k;throw new Promise(N=>{e.lng?A2(a,e.lng,h,()=>N()):V0(a,h,()=>N())})},$P={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",help:"Help",tools:"Tools",community:"Community"},OP={tabs:{gamified:"Gamified",gamified2:"Gamified 2",gamified3:"Gamified 3"}},VP={connectedCharacters:{title:"Connected characters",empty:"No characters linked yet. Link a character in your account to see it here.",loginPrompt:"Sign in to see your linked characters.",ctaGuest:"Open start guide",ctaAuthed:"Open linked characters guide",chip:{server:"Server",class:"Class"}}},UP={settings:{title:"Settings",subtitle:"Configure your personal preferences.",loading:"Loading settings...",error:"Could not load settings.",retry:"Retry",language:{label:"Preferred language"},defaultSection:{label:"Default section"},compactTables:{label:"Use compact table layout"},experimental:{label:"Enable experimental features"},save:"Save settings",saved:"Settings saved.",noChanges:"No changes to save.",saving:"Saving...",saveError:"Could not save settings. Please try again."},tools:{title:"Tools settings",subtitle:"Configure how tools behave for your account.",loading:"Loading tools settings...",loadError:"Could not load tools settings.",defaultSet:{label:"Default set ID",placeholder:"Enter a default set ID"},showIntro:{label:"Show tools intro"},experimental:{label:"Enable experimental tools"},save:{cta:"Save settings",saving:"Saving...",success:"Settings saved.",noChanges:"No changes to save.",error:"Could not save settings. Please try again."}},connectedCharacters:{title:"Connected characters",subtitle:"These game characters are linked to your SFDataHub account.",loading:"Refreshing characters...",empty:{title:"No characters linked yet",description:'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.',cta:"Click to learn how linking works"},actions:{refresh:"Refresh",refreshing:"Refreshing...",unlink:"Disconnect character"},confirmation:{title:"Are you sure you want to unlink this character?",cancel:"Cancel",confirm:"Yes, unlink",confirming:"Unlinking..."},errors:{serviceUnavailable:"Auth service is not configured for unlinking.",unlink:"Could not unlink character."},columns:{character:"Character",server:"Server",playerId:"Player ID",class:"Class",level:"Level",guild:"Guild",lastVerified:"Last linked",source:"Source",actions:"Actions"},method:{discord:"Discord bot"},help:{title:"How does linking work?",show:"Show",hide:"Hide",steps:{link:'Link a character via the Discord bot using the "!connect char" command.',verify:"We match the character to your latest verified scan; keep your game data up to date.",refresh:"After linking, click Refresh here to sync the latest characters from the auth service.",unlink:"You can unlink any character in the Actions column; the source column shows how it was linked."},footnote:"Tip: Click Refresh after linking or unlinking to update this table."}}},zP={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Placeholder for future gem calculations.",dungeonPause:"Dummy view for dungeon pause tools.",xpDungeon:"Slide for XP dungeon planning."},sets:{defaultName:"New Set",exportActive:"Export active set",import:"Import set",importErrorInvalid:"This file does not contain a valid tools set.",importErrorMaxReached:"You already use the maximum of 3 sets. Delete one before importing a new one.",delete:"Delete set",deleteConfirmTitle:"Delete this set?",deleteConfirmText:"This will remove the set from your browser and free up a slot. Export it first if you want a backup.",deleteLastForbidden:"You need at least one set. Create a new one before deleting this.",rename:"Rename set",renameTitle:"Rename set",renameLabel:"Set name",renamePlaceholder:"Enter a name for this set",renameSave:"Save",renameCancel:"Cancel",renameErrorEmpty:"Please enter a name."},sync:{buttonSave:"Save changes to account",saving:"Saving",error:"Could not save your changes. Please try again.",statusUnsynced:"Unsynced changes",statusSynced:"All changes synced",statusNever:"Not synced yet",lastSyncLabel:"Last sync",noChanges:"No changes to save",cooldownLabel:"Next sync in {{time}}"}},HP={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},GP={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},WP={title:"Help & Overview",subtitle:"Quick guide to SFDataHub",hero:{eyebrow:"Start guide",heading:"Welcome to SFDataHub",lead:"Learn what you can do, how data freshness works, and where to find settings or legal info.",freshnessLabel:"Data freshness",freshnessBody:"Data is refreshed regularly. You will see the exact scan time directly inside top lists and profiles."},dataFreshness:{title:"How up to date is the data?",body:`SFDataHub relies on community scans. Some servers (for example many EU servers) are scanned roughly once per month by us and a few helpers  depending on our free time. Other servers (for example fusion servers) are scanned by other community projects and may have longer gaps between scans.

This means there can be several weeks or even months between two scans. You can always see the exact data age from the "Last scan: " hint in top lists and profiles.

If you want your own profile to be more up to date, you can link your SFDataHub account and upload your own scans. That way you keep your profile fresh and help the overall database stay more current for the whole community.`},sections:{intro:{title:"What is SFDataHub?",body1:"SFDataHub is a community project around Shakes & Fidget.",body2:"You can analyse scan data, browse top lists, and open detailed player and guild profiles. The goal: a quick overview of progress, rankings, and development  without any official connection to Playa Games."},actions:{title:"What can I do on SFDataHub?",items:{toplists:"Browse top lists: compare players and guilds by level or other metrics.",profiles:"Open profiles: view detailed player and guild profiles with extra information.",guides:"Read guides: use guides and tips to plan your progress.",tools:"Use tools & calculators: run interactive tools such as a dungeon XP calculator."}},freshness:{title:"How up to date is the data?",body1:"SFDataHub is based on scans uploaded or linked by the community.",body2:"Next to many values youll find the time of the last scan (for example Last scan: 2025-12-01).",body3:"Top lists and profiles are updated regularly. If an entry hasnt been scanned for a while, the displayed values might differ from the current state in the game."},login:{title:"Login & Settings",body1:"You can log in with your Discord account to unlock additional features.",body2:"After logging in youll see your profile menu with avatar and name in the header.",body3:"In the settings you can adjust basic options for your SFDataHub account.",body4:"Settings are only relevant for logged-in users  without an account theres nothing to configure."},legal:{title:"Help, feedback & legal information",body1:"If you notice bugs, strange data, or have ideas for new features, were happy to hear from you.",body2:"You can find contact options and more information on the contact or imprint page.",body3:"For legal details please use the linked pages:",items:{tos:"Terms of Service (ToS)",privacy:"Privacy Policy",imprint:"Imprint / Contact"}}}},qP={quota:{unlimited:"No limit"}},KP={inputLabel:"Search players, guilds and servers",loading:"Loading",recents:"Recent searches",minCharsHint:"Type at least 3 characters",noResults:"No results",players:"Players",guilds:"Guilds",servers:"Servers",active:"Active",inactive:"Inactive",guildMembers:"{{count}} members",guildMembersUnknown:"Members ?",moreResults:"More results press Enter",recentLabel:"Recent"},QP={about:{title:"About SFDataHub",body:`SFDataHub is a non-commercial fan and community project around Shakes & Fidget. It has no official connection to Playa Games GmbH or the operators of Shakes & Fidget.

All mentioned brands, logos and graphics are the property of their respective owners and are used for identification purposes only.`},shortDisclaimer:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners.",copyright:" 2025 SFDataHub  community project around Shakes & Fidget."},XP={nav:$P,playground:OP,sidebar:VP,account:UP,tools:zP,topbar:HP,profile:GP,help:WP,uploadCenter:qP,search:KP,footer:QP},YP={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",help:"Hilfe",tools:"Tools",community:"Community"},JP={tabs:{gamified:"Gamifiziert",gamified2:"Gamified 2",gamified3:"Gamified 3"}},ZP={connectedCharacters:{title:"Verknuepfte Charaktere",empty:"Noch keine Charaktere verknuepft. Verknuepfe einen Charakter in deinem Account, damit er hier erscheint.",loginPrompt:"Bitte einloggen, um verknuepfte Charaktere zu sehen.",ctaGuest:"Start-Guide oeffnen",ctaAuthed:"Zum Account-Tab wechseln",chip:{server:"Server",class:"Klasse"}}},eR={settings:{title:"Einstellungen",subtitle:"Passe deine persoenlichen Praeferenzen an.",loading:"Einstellungen werden geladen...",error:"Einstellungen konnten nicht geladen werden.",retry:"Erneut versuchen",language:{label:"Bevorzugte Sprache"},defaultSection:{label:"Standardbereich"},compactTables:{label:"Kompaktes Tabellen-Layout nutzen"},experimental:{label:"Experimentelle Features aktivieren"},save:"Einstellungen speichern",saved:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",saving:"Speichern...",saveError:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."},tools:{title:"Tool-Einstellungen",subtitle:"Konfiguriere, wie die Tools fuer deinen Account arbeiten.",loading:"Tool-Einstellungen werden geladen...",loadError:"Tool-Einstellungen konnten nicht geladen werden.",defaultSet:{label:"Standard-Set-ID",placeholder:"Standard-Set-ID eingeben"},showIntro:{label:"Tools-Intro anzeigen"},experimental:{label:"Experimentelle Tools aktivieren"},save:{cta:"Einstellungen speichern",saving:"Speichern...",success:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",error:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."}},connectedCharacters:{title:"Verknuepfte Charaktere",subtitle:"Diese Spielcharaktere sind mit deinem SFDataHub-Account verknuepft.",loading:"Charaktere werden aktualisiert...",empty:{title:"Noch keine Charaktere verknuepft",description:'Nutze den Befehl "!connect char" im Discord-Bot, verknuepfe deinen Account und klicke dann hier auf "Refresh".',cta:"Klicke hier, um zu erfahren, wie das Verknuepfen funktioniert"},actions:{refresh:"Refresh",refreshing:"Aktualisiere...",unlink:"Charakter trennen"},confirmation:{title:"Moechtest du diesen Charakter wirklich trennen?",cancel:"Abbrechen",confirm:"Ja, trennen",confirming:"Trenne..."},errors:{serviceUnavailable:"Auth-Service ist fuer das Trennen nicht konfiguriert.",unlink:"Charakter konnte nicht getrennt werden."},columns:{character:"Charakter",server:"Server",playerId:"Player ID",class:"Klasse",level:"Level",guild:"Gilde",lastVerified:"Zuletzt verknuepft",source:"Quelle",actions:"Aktionen"},method:{discord:"Discord-Bot"},help:{title:"Wie funktioniert das Verknuepfen?",show:"Anzeigen",hide:"Ausblenden",steps:{link:'Verknuepfe einen Charakter ueber den Discord-Bot mit dem Befehl "!connect char".',verify:"Wir gleichen den Charakter mit deinem letzten verifizierten Scan ab; halte deine Daten aktuell.",refresh:"Klicke nach dem Verknuepfen auf Refresh, damit die Liste aktualisiert wird.",unlink:"Du kannst jeden Charakter ueber die Spalte Aktionen trennen; die Quelle zeigt, wie er verknuepft wurde."},footnote:"Tipp: Nach dem Verknuepfen oder Trennen immer kurz auf Refresh klicken."}}},tR={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Platzhalter fuer kuenftige Gem-Berechnungen.",dungeonPause:"Dummy-Ansicht fuer Dungeon-Pausen-Tools.",xpDungeon:"Slide fuer XP-Run-Planung."},sets:{defaultName:"Neues Set",exportActive:"Aktives Set exportieren",import:"Set importieren",importErrorInvalid:"Diese Datei enthlt kein gltiges Tools-Set.",importErrorMaxReached:"Du nutzt bereits das Maximum von 3 Sets. Lsche zuerst ein Set, bevor du ein neues importierst.",delete:"Set l?schen",deleteConfirmTitle:"Dieses Set l?schen?",deleteConfirmText:"Damit wird das Set in diesem Browser entfernt und ein Slot freigegeben. Exportiere es zuerst, wenn du ein Backup behalten m?chtest.",deleteLastForbidden:"Du ben?tigst mindestens ein Set. Erstelle zuerst ein neues, bevor du dieses l?schst.",rename:"Set umbenennen",renameTitle:"Set umbenennen",renameLabel:"Set-Name",renamePlaceholder:"Name f?r dieses Set eingeben",renameSave:"Speichern",renameCancel:"Abbrechen",renameErrorEmpty:"Bitte einen Namen eingeben."},sync:{buttonSave:"nderungen im Account speichern",saving:"Speichere ",error:"Deine nderungen konnten nicht gespeichert werden. Bitte versuche es erneut.",statusUnsynced:"Nicht gespeicherte nderungen",statusSynced:"Alle nderungen synchronisiert",statusNever:"Noch nie synchronisiert",lastSyncLabel:"Letzte Synchronisierung",noChanges:"Keine nderungen zum Speichern",cooldownLabel:"Nchster Sync in {{time}}"}},sR={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},nR={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},rR={title:"Hilfe & bersicht",subtitle:"Kurzer Einstieg in den SFDataHub",hero:{eyebrow:"Start-Guide",heading:"Willkommen im SFDataHub",lead:"Erfahre, was du tun kannst, wie aktuell die Daten sind und wo du Einstellungen oder rechtliche Infos findest.",freshnessLabel:"Datenaktualitt",freshnessBody:"Daten werden regelmig aktualisiert. Den genauen Scan-Zeitpunkt siehst du direkt in Toplisten und Profilen."},dataFreshness:{title:"Wie aktuell sind die Daten?",body:`SFDataHub lebt von Community-Scans. Ein Teil der Server (z. B. die europischen Server) wird von uns und ein paar Helfern ungefhr einmal im Monat gescannt  je nachdem, wie wir Zeit haben. Andere Server (z. B. Fusion-Server) werden von anderen Community-Projekten in greren Abstnden gescannt.

Dadurch knnen zwischen zwei Scans auch mehrere Wochen oder sogar Monate liegen. Den genauen Stand siehst du immer am Hinweis Last scan:  in Toplisten und Profilen.

Wenn du dein Profil besonders aktuell halten mchtest, kannst du dich mit deinem SFDataHub-Account verbinden und eigene Scans hochladen. So hilfst du gleichzeitig mit, dass die Datenbank aktueller bleibt  fr dich selbst und fr die Community.`},sections:{intro:{title:"Was ist SFDataHub?",body1:"SFDataHub ist ein Community-Projekt rund um Shakes & Fidget.",body2:"Du kannst hier Spielerdaten aus Scans auswerten, Toplisten ansehen und detaillierte Spieler- und Gildenprofile ffnen. Ziel ist ein schneller berblick ber Fortschritt, Rankings und Entwicklungen  ohne offizielle Verbindung zu Playa Games."},actions:{title:"Was kann ich auf SFDataHub tun?",items:{toplists:"Toplisten ansehen: Vergleiche Spieler und Gilden nach Level oder anderen Werten.",profiles:"Profile ffnen: Schaue dir detaillierte Spieler- und Gildenprofile mit mehr Informationen an.",guides:"Guides lesen: Nutze Anleitungen und Tipps, um dein Spiel besser zu planen.",tools:"Tools & Rechner verwenden: Berechne z. B. Dungeon-XP oder andere Werte mit interaktiven Tools."}},freshness:{title:"Wie aktuell sind die Daten?",body1:"SFDataHub basiert auf Scans, die von der Community hochgeladen oder verbunden werden.",body2:"Neben vielen Werten findest du einen Hinweis auf den Zeitpunkt des letzten Scans (z. B. Last scan: 2025-12-01).",body3:"Toplisten und Profile werden regelmig aktualisiert. Wenn ein Eintrag lngere Zeit nicht gescannt wurde, knnen die angezeigten Werte vom aktuellen Stand im Spiel abweichen."},login:{title:"Login & Einstellungen",body1:"Du kannst dich mit deinem Discord-Account anmelden, um zustzliche Funktionen nutzen zu knnen.",body2:"Nach dem Login siehst du oben dein Profilmen mit Avatar und Namen.",body3:"In den Einstellungen kannst du grundlegende Optionen fr deinen SFDataHub-Account anpassen.",body4:"Einstellungen sind nur fr eingeloggte Nutzer relevant  ohne Account musst du hier nichts konfigurieren."},legal:{title:"Hilfe, Feedback & rechtliche Infos",body1:"Wenn dir Fehler auffallen, Daten komisch aussehen oder du Ideen fr neue Features hast, freuen wir uns ber Feedback.",body2:"Du findest unsere Kontaktmglichkeiten und weitere Infos auf der Kontakt- oder Impressumsseite.",body3:"Fr rechtliche Details nutze bitte die verlinkten Seiten:",items:{tos:"Terms of Service (ToS)",privacy:"Datenschutz",imprint:"Impressum / Kontakt"}}}},iR={quota:{unlimited:"Kein Limit"}},aR={inputLabel:"Spieler, Gilden und Server suchen",loading:"Ldt?",recents:"Letzte Suchen",minCharsHint:"Mindestens 3 Zeichen eingeben?",noResults:"Keine Treffer",players:"Spieler",guilds:"Gilden",servers:"Server",active:"Aktiv",inactive:"Inaktiv",guildMembers:"{{count}} Mitglieder",guildMembersUnknown:"Mitglieder ?",moreResults:"Mehr Ergebnisse? Enter drcken",recentLabel:"Kuerzlich"},oR={about:{title:"ber SFDataHub",body:`SFDataHub ist ein nicht-kommerzielles Fan- und Community-Projekt rund um Shakes & Fidget. Es besteht keine offizielle Verbindung zu Playa Games GmbH oder den Betreibern von Shakes & Fidget.

Alle genannten Marken, Logos und Grafiken sind Eigentum der jeweiligen Rechteinhaber und werden ausschlielich zu identifizierenden Zwecken verwendet.`},shortDisclaimer:"SFDataHub ist ein inoffizielles, nicht-kommerzielles Fanprojekt. Alle Marken und Bilder gehren ihren jeweiligen Rechteinhabern.",copyright:" 2025 SFDataHub  Community-Projekt rund um Shakes & Fidget."},lR={nav:YP,playground:JP,sidebar:ZP,account:eR,tools:tR,topbar:sR,profile:nR,help:rR,uploadCenter:iR,search:aR,footer:oR},cR={en:{translation:XP},de:{translation:lR}};nr.use(LP).init({resources:cR,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});function Ct(s,e="en"){return nr.t(s,{lng:e})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E2="popstate";function dR(s={}){function e(i,a){let{pathname:l="/",search:c="",hash:u=""}=Ic(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),z0("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof a=="string"?a:Wh(a))}function r(i,a){ui(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return hR(e,n,r,s)}function zs(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function ui(s,e){if(!s){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function uR(){return Math.random().toString(36).substring(2,10)}function P2(s,e){return{usr:s.state,key:s.key,idx:e}}function z0(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ic(e):e,state:n,key:e&&e.key||r||uR()}}function Wh({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Ic(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function hR(s,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",u=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let C=p(),E=C==null?null:C-h;h=C,u&&u({action:c,location:S.location,delta:E})}function x(C,E){c="PUSH";let F=z0(S.location,C,E);n&&n(F,C),h=p()+1;let k=P2(F,h),y=S.createHref(F);try{l.pushState(k,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(y)}a&&u&&u({action:c,location:S.location,delta:1})}function b(C,E){c="REPLACE";let F=z0(S.location,C,E);n&&n(F,C),h=p();let k=P2(F,h),y=S.createHref(F);l.replaceState(k,"",y),a&&u&&u({action:c,location:S.location,delta:0})}function _(C){return pR(C)}let S={get action(){return c},get location(){return s(i,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(E2,g),u=C,()=>{i.removeEventListener(E2,g),u=null}},createHref(C){return e(i,C)},createURL:_,encodeLocation(C){let E=_(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:b,go(C){return l.go(C)}};return S}function pR(s,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zs(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Wh(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function A5(s,e,n="/"){return mR(s,e,n,!1)}function mR(s,e,n,r){let i=typeof e=="string"?Ic(e):e,a=co(i.pathname||"/",n);if(a==null)return null;let l=E5(s);gR(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=kR(a);c=SR(l[u],h,r)}return c}function E5(s,e=[],n=[],r="",i=!1){let a=(l,c,u=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;zs(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=io([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(zs(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),E5(l.children,e,x,g,u)),!(l.path==null&&!l.index)&&e.push({path:g,score:wR(g,l.index),routesMeta:x})};return s.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,c);else for(let h of P5(l.path))a(l,c,!0,h)}),e}function P5(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=P5(r.join("/")),c=[];return c.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...l),c.map(u=>s.startsWith("/")&&u===""?"/":u)}function gR(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:jR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fR=/^:[\w-]+$/,vR=3,xR=2,yR=1,bR=10,_R=-2,R2=s=>s==="*";function wR(s,e){let n=s.split("/"),r=n.length;return n.some(R2)&&(r+=_R),e&&(r+=xR),n.filter(i=>!R2(i)).reduce((i,a)=>i+(fR.test(a)?vR:a===""?yR:bR),r)}function jR(s,e){return s.length===e.length&&s.slice(0,-1).every((r,i)=>r===e[i])?s[s.length-1]-e[e.length-1]:0}function SR(s,e,n=!1){let{routesMeta:r}=s,i={},a="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=lf({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),x=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=lf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:io([a,g.pathname]),pathnameBase:AR(io([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=io([a,g.pathnameBase]))}return l}function lf(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=NR(s.path,s.caseSensitive,s.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let _=c[x]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=c[x];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:s}}function NR(s,e=!1,n=!0){ui(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kR(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function co(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function CR(s,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof s=="string"?Ic(s):s;return{pathname:n?n.startsWith("/")?n:TR(n,e):e,search:ER(r),hash:PR(i)}}function TR(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hy(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J1(s){let e=IR(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Z1(s,e,n,r=!1){let i;typeof s=="string"?i=Ic(s):(i={...s},zs(!i.pathname||!i.pathname.includes("?"),hy("?","pathname","search",i)),zs(!i.pathname||!i.pathname.includes("#"),hy("#","pathname","hash",i)),zs(!i.search||!i.search.includes("#"),hy("#","search","hash",i)));let a=s===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}c=g>=0?e[g]:"/"}let u=CR(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var io=s=>s.join("/").replace(/\/\/+/g,"/"),AR=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ER=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,PR=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function RR(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var R5=["POST","PUT","PATCH","DELETE"];new Set(R5);var LR=["GET",...R5];new Set(LR);var ou=I.createContext(null);ou.displayName="DataRouter";var qf=I.createContext(null);qf.displayName="DataRouterState";I.createContext(!1);var L5=I.createContext({isTransitioning:!1});L5.displayName="ViewTransition";var DR=I.createContext(new Map);DR.displayName="Fetchers";var MR=I.createContext(null);MR.displayName="Await";var Zi=I.createContext(null);Zi.displayName="Navigation";var hp=I.createContext(null);hp.displayName="Location";var Ai=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var eb=I.createContext(null);eb.displayName="RouteError";function FR(s,{relative:e}={}){zs(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(Zi),{hash:i,pathname:a,search:l}=pp(s,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:io([n,a])),r.createHref({pathname:c,search:l,hash:i})}function lu(){return I.useContext(hp)!=null}function gr(){return zs(lu(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(hp).location}var D5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M5(s){I.useContext(Zi).static||I.useLayoutEffect(s)}function Ei(){let{isDataRoute:s}=I.useContext(Ai);return s?JR():BR()}function BR(){zs(lu(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(ou),{basename:e,navigator:n}=I.useContext(Zi),{matches:r}=I.useContext(Ai),{pathname:i}=gr(),a=JSON.stringify(J1(r)),l=I.useRef(!1);return M5(()=>{l.current=!0}),I.useCallback((u,h={})=>{if(ui(l.current,D5),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=Z1(u,JSON.parse(a),i,h.relative==="path");s==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:io([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,i,s])}var $R=I.createContext(null);function OR(s){let e=I.useContext(Ai).outlet;return e&&I.createElement($R.Provider,{value:s},e)}function Kf(){let{matches:s}=I.useContext(Ai),e=s[s.length-1];return e?e.params:{}}function pp(s,{relative:e}={}){let{matches:n}=I.useContext(Ai),{pathname:r}=gr(),i=JSON.stringify(J1(n));return I.useMemo(()=>Z1(s,JSON.parse(i),r,e==="path"),[s,i,r,e])}function VR(s,e){return F5(s,e)}function F5(s,e,n,r,i){var F;zs(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(Zi),{matches:l}=I.useContext(Ai),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let k=g&&g.path||"";B5(h,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=gr(),b;if(e){let k=typeof e=="string"?Ic(e):e;zs(p==="/"||((F=k.pathname)==null?void 0:F.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=x;let _=b.pathname||"/",S=_;if(p!=="/"){let k=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=A5(s,{pathname:S});ui(g||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ui(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=WR(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:io([p,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:io([p,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,r,i);return e&&E?I.createElement(hp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function UR(){let s=YR(),e=RR(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,l)}var zR=I.createElement(UR,null),HR=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?I.createElement(Ai.Provider,{value:this.props.routeContext},I.createElement(eb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GR({routeContext:s,match:e,children:n}){let r=I.useContext(ou);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ai.Provider,{value:s},n)}function WR(s,e=[],n=null,r=null,i=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let a=s,l=n==null?void 0:n.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);zs(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:x}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let x,b=!1,_=null,S=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||zR,c&&(u<0&&g===0?(B5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===g&&(b=!0,S=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),E=()=>{let F;return x?F=_:b?F=S:p.route.Component?F=I.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=h,I.createElement(GR,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:F})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?I.createElement(HR,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):E()},null)}function tb(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qR(s){let e=I.useContext(ou);return zs(e,tb(s)),e}function KR(s){let e=I.useContext(qf);return zs(e,tb(s)),e}function QR(s){let e=I.useContext(Ai);return zs(e,tb(s)),e}function sb(s){let e=QR(s),n=e.matches[e.matches.length-1];return zs(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function XR(){return sb("useRouteId")}function YR(){var r;let s=I.useContext(eb),e=KR("useRouteError"),n=sb("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[n]}function JR(){let{router:s}=qR("useNavigate"),e=sb("useNavigate"),n=I.useRef(!1);return M5(()=>{n.current=!0}),I.useCallback(async(i,a={})=>{ui(n.current,D5),n.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:e,...a}))},[s,e])}var L2={};function B5(s,e,n){!e&&!L2[s]&&(L2[s]=!0,ui(!1,n))}I.memo(ZR);function ZR({routes:s,future:e,state:n,unstable_onError:r}){return F5(s,void 0,n,r,e)}function rl({to:s,replace:e,state:n,relative:r}){zs(lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(Zi);ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=I.useContext(Ai),{pathname:l}=gr(),c=Ei(),u=Z1(s,J1(a),l,r==="path"),h=JSON.stringify(u);return I.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function $5(s){return OR(s.context)}function ge(s){zs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eL({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){zs(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Ic(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,b=I.useMemo(()=>{let _=co(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:x},navigationType:r}},[l,u,h,p,g,x,r]);return ui(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:I.createElement(Zi.Provider,{value:c},I.createElement(hp.Provider,{children:e,value:b}))}function tL({children:s,location:e}){return VR(H0(s),e)}function H0(s,e=[]){let n=[];return I.Children.forEach(s,(r,i)=>{if(!I.isValidElement(r))return;let a=[...e,i];if(r.type===I.Fragment){n.push.apply(n,H0(r.props.children,a));return}zs(r.type===ge,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zs(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=H0(r.props.children,a)),n.push(l)}),n}var Rg="get",Lg="application/x-www-form-urlencoded";function Qf(s){return s!=null&&typeof s.tagName=="string"}function sL(s){return Qf(s)&&s.tagName.toLowerCase()==="button"}function nL(s){return Qf(s)&&s.tagName.toLowerCase()==="form"}function rL(s){return Qf(s)&&s.tagName.toLowerCase()==="input"}function iL(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function aL(s,e){return s.button===0&&(!e||e==="_self")&&!iL(s)}function G0(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let r=s[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function oL(s,e){let n=G0(s);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Jm=null;function lL(){if(Jm===null)try{new FormData(document.createElement("form"),0),Jm=!1}catch(s){Jm=!0}return Jm}var cL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function py(s){return s!=null&&!cL.has(s)?(ui(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lg}"`),null):s}function dL(s,e){let n,r,i,a,l;if(nL(s)){let c=s.getAttribute("action");r=c?co(c,e):null,n=s.getAttribute("method")||Rg,i=py(s.getAttribute("enctype"))||Lg,a=new FormData(s)}else if(sL(s)||rL(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=s.getAttribute("formaction")||c.getAttribute("action");if(r=u?co(u,e):null,n=s.getAttribute("formmethod")||c.getAttribute("method")||Rg,i=py(s.getAttribute("formenctype"))||py(c.getAttribute("enctype"))||Lg,a=new FormData(c,s),!lL()){let{name:h,type:p,value:g}=s;if(p==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,g)}}else{if(Qf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rg,r=null,i=Lg,l=s}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nb(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function uL(s,e,n){let r=typeof s=="string"?new URL(s,typeof window=="undefined"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&co(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function hL(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pL(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function mL(s,e,n){let r=await Promise.all(s.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await hL(a,n);return l.links?l.links():[]}return[]}));return xL(r.flat(1).filter(pL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function D2(s,e,n,r,i,a){let l=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var p;return n[h].pathname!==u.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>l(u,h)||c(u,h)):a==="data"?e.filter((u,h)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(s,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gL(s,e,{includeHydrateFallback:n}={}){return fL(s.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fL(s){return[...new Set(s)]}function vL(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function xL(s,e){let n=new Set;return new Set(e),s.reduce((r,i)=>{let a=JSON.stringify(vL(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function O5(){let s=I.useContext(ou);return nb(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function yL(){let s=I.useContext(qf);return nb(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var rb=I.createContext(void 0);rb.displayName="FrameworkContext";function V5(){let s=I.useContext(rb);return nb(s,"You must render this element inside a <HydratedRouter> element"),s}function bL(s,e){let n=I.useContext(rb),[r,i]=I.useState(!1),[a,l]=I.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=I.useRef(null);I.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let S=E=>{E.forEach(F=>{l(F.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[s]),I.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},_=()=>{i(!1),l(!1)};return n?s!=="intent"?[a,x,{}]:[a,x,{onFocus:eh(c,b),onBlur:eh(u,_),onMouseEnter:eh(h,b),onMouseLeave:eh(p,_),onTouchStart:eh(g,b)}]:[!1,x,{}]}function eh(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function _L({page:s,...e}){let{router:n}=O5(),r=I.useMemo(()=>A5(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?I.createElement(jL,{page:s,matches:r,...e}):null}function wL(s){let{manifest:e,routeModules:n}=V5(),[r,i]=I.useState([]);return I.useEffect(()=>{let a=!1;return mL(s,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[s,e,n]),r}function jL({page:s,matches:e,...n}){let r=gr(),{manifest:i,routeModules:a}=V5(),{basename:l}=O5(),{loaderData:c,matches:u}=yL(),h=I.useMemo(()=>D2(s,e,u,i,r,"data"),[s,e,u,i,r]),p=I.useMemo(()=>D2(s,e,u,i,r,"assets"),[s,e,u,i,r]),g=I.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(E=>{var k;let F=i.routes[E.route.id];!F||!F.hasLoader||(!h.some(y=>y.route.id===E.route.id)&&E.route.id in c&&((k=a[E.route.id])!=null&&k.shouldRevalidate)||F.hasClientLoader?S=!0:_.add(E.route.id))}),_.size===0)return[];let C=uL(s,l,"data");return S&&_.size>0&&C.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[l,c,r,i,h,e,s,a]),x=I.useMemo(()=>gL(p,i),[p,i]),b=wL(p);return I.createElement(I.Fragment,null,g.map(_=>I.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),x.map(_=>I.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:S})=>I.createElement("link",{key:_,nonce:n.nonce,...S})))}function SL(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var U5=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{U5&&(window.__reactRouterVersion="7.9.1")}catch(s){}function NL({basename:s,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=dR({window:n,v5Compat:!0}));let i=r.current,[a,l]=I.useState({action:i.action,location:i.location}),c=I.useCallback(u=>{I.startTransition(()=>l(u))},[l]);return I.useLayoutEffect(()=>i.listen(c),[i,c]),I.createElement(eL,{basename:s,children:e,location:a.location,navigationType:a.action,navigator:i})}var z5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ws=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:u,to:h,preventScrollReset:p,viewTransition:g,...x},b){let{basename:_}=I.useContext(Zi),S=typeof h=="string"&&z5.test(h),C,E=!1;if(typeof h=="string"&&S&&(C=h,U5))try{let A=new URL(window.location.href),M=h.startsWith("//")?new URL(A.protocol+h):new URL(h),R=co(M.pathname,_);M.origin===A.origin&&R!=null?h=R+M.search+M.hash:E=!0}catch(A){ui(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=FR(h,{relative:i}),[k,y,w]=bL(r,x),P=TL(h,{replace:l,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:g});function T(A){e&&e(A),A.defaultPrevented||P(A)}let N=I.createElement("a",{...x,...w,href:C||F,onClick:E||a?e:T,ref:SL(b,y),target:u,"data-discover":!S&&n==="render"?"true":void 0});return k&&!S?I.createElement(I.Fragment,null,N,I.createElement(_L,{page:F})):N});ws.displayName="Link";var ys=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:u,...h},p){let g=pp(l,{relative:h.relative}),x=gr(),b=I.useContext(qf),{navigator:_,basename:S}=I.useContext(Zi),C=b!=null&&RL(g)&&c===!0,E=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,F=x.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(F=F.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&S&&(k=co(k,S)||k);const y=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let w=F===E||!i&&F.startsWith(E)&&F.charAt(y)==="/",P=k!=null&&(k===E||!i&&k.startsWith(E)&&k.charAt(E.length)==="/"),T={isActive:w,isPending:P,isTransitioning:C},N=w?e:void 0,A;typeof r=="function"?A=r(T):A=[r,w?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(T):a;return I.createElement(ws,{...h,"aria-current":N,className:A,ref:p,style:M,to:l,viewTransition:c},typeof u=="function"?u(T):u)});ys.displayName="NavLink";var kL=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Rg,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,...x},b)=>{let _=EL(),S=PL(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&z5.test(c),F=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let y=k.nativeEvent.submitter,w=(y==null?void 0:y.getAttribute("formmethod"))||l;_(y||k.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return I.createElement("form",{ref:b,method:C,action:S,onSubmit:r?u:F,...x,"data-discover":!E&&s==="render"?"true":void 0})});kL.displayName="Form";function CL(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H5(s){let e=I.useContext(ou);return zs(e,CL(s)),e}function TL(s,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=Ei(),u=gr(),h=pp(s,{relative:a});return I.useCallback(p=>{if(aL(p,e)){p.preventDefault();let g=n!==void 0?n:Wh(u)===Wh(h);c(s,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,n,r,e,s,i,a,l])}function Cl(s){ui(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(G0(s)),n=I.useRef(!1),r=gr(),i=I.useMemo(()=>oL(r.search,n.current?null:e.current),[r.search]),a=Ei(),l=I.useCallback((c,u)=>{const h=G0(typeof c=="function"?c(new URLSearchParams(i)):c);n.current=!0,a("?"+h,u)},[a,i]);return[i,l]}var IL=0,AL=()=>`__${String(++IL)}__`;function EL(){let{router:s}=H5("useSubmit"),{basename:e}=I.useContext(Zi),n=XR();return I.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:u,body:h}=dL(r,e);if(i.navigate===!1){let p=i.fetcherKey||AL();await s.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await s.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,e,n])}function PL(s,{relative:e}={}){let{basename:n}=I.useContext(Zi),r=I.useContext(Ai);zs(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...pp(s||".",{relative:e})},l=gr();if(s==null){a.search=l.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!s||s===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:io([n,a.pathname])),Wh(a)}function RL(s,{relative:e}={}){let n=I.useContext(L5);zs(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=H5("useViewTransitionState"),i=pp(s,{relative:e});if(!n.isTransitioning)return!1;let a=co(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=co(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lf(i.pathname,l)!=null||lf(i.pathname,a)!=null}var LL=j5();const DL=X1(LL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FL=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),M2=s=>{const e=FL(s);return e.charAt(0).toUpperCase()+e.slice(1)},G5=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),BL=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $L={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=I.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},u)=>I.createElement("svg",{ref:u,...$L,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:G5("lucide",i),...!a&&!BL(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>I.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(s,e)=>{const n=I.forwardRef(({className:r,...i},a)=>I.createElement(OL,{ref:a,iconNode:e,className:G5(`lucide-${ML(M2(s))}`,`lucide-${s}`,r),...i}));return n.displayName=M2(s),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Xf=jt("aperture",VL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],zL=jt("arrow-up-right",UL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GL=jt("ban",HL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qL=jt("bell",WL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],QL=jt("book-open",KL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],YL=jt("chart-column",XL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ZL=jt("chevron-right",JL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kh=jt("circle-alert",eD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sD=jt("circle-check",tD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Dg=jt("circle-dot",nD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iD=jt("circle-user-round",rD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oD=jt("clock-3",aD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],cD=jt("cloud-upload",lD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uD=jt("compass",dD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],pD=jt("database",hD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],W5=jt("diamond",mD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fD=jt("file-text",gD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],xD=jt("folder-search",vD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bD=jt("globe",yD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],q5=jt("hexagon",_D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jD=jt("house",wD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ND=jt("layers",SD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CD=jt("layout-dashboard",kD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fl=jt("loader-circle",TD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],AD=jt("messages-square",ID);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],PD=jt("pencil",ED);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],LD=jt("pin-off",RD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],MD=jt("pin",DD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Yf=jt("refresh-ccw",FD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],$D=jt("scroll-text",BD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],W0=jt("search",OD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],UD=jt("server-cog",VD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HD=jt("settings",zD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],K5=jt("shapes",GD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Q5=jt("shield-alert",WD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KD=jt("shield-check",qD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],X5=jt("shield-off",QD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ac=jt("shield",XD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],JD=jt("square-activity",YD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],e7=jt("star",ZD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],s7=jt("sticky-note",t7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],r7=jt("trash-2",n7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ib=jt("triangle-alert",i7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],o7=jt("trophy",a7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],c7=jt("upload",l7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jf=jt("users",d7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],h7=jt("wrench",u7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Y5=jt("zap",p7),m7="_topbar_1lc6k_3",g7="_topbarLeft_1lc6k_39",f7="_searchWrap_1lc6k_55",v7="_topbarRight_1lc6k_109",x7="_ico_1lc6k_125",y7="_btnIco_1lc6k_139",b7="_pill_1lc6k_173",_7="_pillActive_1lc6k_195",w7="_onlyExpanded_1lc6k_203",j7="_topbarNav_1lc6k_205",S7="_topbarLink_1lc6k_215",N7="_upload_1lc6k_225",k7="_label_1lc6k_255",C7="_avatarBtn_1lc6k_261",T7="_avatar_1lc6k_261",I7="_avatarSpinnerShell_1lc6k_289",A7="_avatarSpinner_1lc6k_289",E7="_srOnly_1lc6k_325",P7="_accountRoot_1lc6k_351",R7="_accountDropdown_1lc6k_359",L7="_accountHeader_1lc6k_389",D7="_accountName_1lc6k_401",M7="_accountSub_1lc6k_413",F7="_accountStatusText_1lc6k_423",B7="_accountPrimary_1lc6k_433",$7="_accountHint_1lc6k_455",O7="_accountItem_1lc6k_465",V7="_accountDivider_1lc6k_495",U7="_accountMiniAvatar_1lc6k_507",z7="_accountLogout_1lc6k_519",Gt={topbar:m7,topbarLeft:g7,searchWrap:f7,topbarRight:v7,ico:x7,btnIco:y7,pill:b7,pillActive:_7,onlyExpanded:w7,topbarNav:j7,topbarLink:S7,upload:N7,label:k7,avatarBtn:C7,avatar:T7,avatarSpinnerShell:I7,avatarSpinner:A7,srOnly:E7,accountRoot:P7,accountDropdown:R7,accountHeader:L7,accountName:D7,accountSub:M7,accountStatusText:F7,accountPrimary:B7,accountHint:$7,accountItem:O7,accountDivider:V7,accountMiniAvatar:U7,accountLogout:z7},Aa="https://auth.sfdatahub.com",H7=`${Aa}/auth/firebase-token`;async function G7(){var r,i;const s=await fetch(H7,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!s.ok)throw new Error(`Failed to fetch firebase token: ${s.status}`);const e=await s.json(),n=(i=e==null?void 0:e.firebaseToken)!=null?i:(r=e==null?void 0:e.tokens)==null?void 0:r.firebase;if(!n)throw new Error("Firebase token missing in response");return n}var F2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let i=s.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},W7=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const i=s[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=s[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=s[n++],l=s[n++],c=s[n++],u=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=s[n++],l=s[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Z5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<s.length;i+=3){const a=s[i],l=i+1<s.length,c=l?s[i+1]:0,u=i+2<s.length,h=u?s[i+2]:0,p=a>>2,g=(a&3)<<4|c>>4;let x=(c&15)<<2|h>>6,b=h&63;u||(b=64,l||(x=64)),r.push(n[p],n[g],n[x],n[b])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(J5(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):W7(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<s.length;){const a=n[s.charAt(i++)],c=i<s.length?n[s.charAt(i)]:0;++i;const h=i<s.length?n[s.charAt(i)]:64;++i;const g=i<s.length?n[s.charAt(i)]:64;if(++i,a==null||c==null||h==null||g==null)throw new q7;const x=a<<2|c>>4;if(r.push(x),h!==64){const b=c<<4&240|h>>2;if(r.push(b),g!==64){const _=h<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class q7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K7=function(s){const e=J5(s);return Z5.encodeByteArray(e,!0)},cf=function(s){return K7(s).replace(/\./g,"")},e3=function(s){try{return Z5.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=()=>Q7().__FIREBASE_DEFAULTS__,Y7=()=>{if(typeof process=="undefined"||typeof F2=="undefined")return;const s=F2.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},J7=()=>{if(typeof document=="undefined")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=s&&e3(s[1]);return e&&JSON.parse(e)},Zf=()=>{try{return X7()||Y7()||J7()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},t3=s=>{var e,n;return(n=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},Z7=s=>{const e=t3(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s3=()=>{var s;return(s=Zf())===null||s===void 0?void 0:s.config},n3=s=>{var e;return(e=Zf())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=s.iat||0,a=s.sub||s.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},s);return[cf(JSON.stringify(n)),cf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s8(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mr())}function n8(){var s;const e=(s=Zf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function r8(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function i8(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function a8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o8(){const s=mr();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function l8(){return!n8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c8(){try{return typeof indexedDB=="object"}catch(s){return!1}}function d8(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="FirebaseError";class wo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u8,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mp.prototype.create)}}class mp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?h8(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new wo(i,c,r)}}function h8(s,e){return s.replace(p8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p8=/\{\$([^}]+)}/g;function m8(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function df(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=s[i],l=e[i];if(B2(a)&&B2(l)){if(!df(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B2(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function g8(s,e){const n=new f8(s,e);return n.subscribe.bind(n)}class f8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=my),i.error===void 0&&(i.error=my),i.complete===void 0&&(i.complete=my);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(l){}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v8(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function my(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(s){return s&&s._delegate?s._delegate:s}class _c{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b8(e))try{this.getOrInitializeService({instanceIdentifier:cc})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cc){return this.instances.has(e)}getOptions(e=cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=cc){return this.component?this.component.multipleInstances?e:cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y8(s){return s===cc?void 0:s}function b8(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(is||(is={}));const w8={debug:is.DEBUG,verbose:is.VERBOSE,info:is.INFO,warn:is.WARN,error:is.ERROR,silent:is.SILENT},j8=is.INFO,S8={[is.DEBUG]:"log",[is.VERBOSE]:"log",[is.INFO]:"info",[is.WARN]:"warn",[is.ERROR]:"error"},N8=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),i=S8[e];if(i)console[i](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ab{constructor(e){this.name=e,this._logLevel=j8,this._logHandler=N8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in is))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,is.DEBUG,...e),this._logHandler(this,is.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,is.VERBOSE,...e),this._logHandler(this,is.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,is.INFO,...e),this._logHandler(this,is.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,is.WARN,...e),this._logHandler(this,is.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,is.ERROR,...e),this._logHandler(this,is.ERROR,...e)}}const k8=(s,e)=>e.some(n=>s instanceof n);let $2,O2;function C8(){return $2||($2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T8(){return O2||(O2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r3=new WeakMap,q0=new WeakMap,i3=new WeakMap,gy=new WeakMap,ob=new WeakMap;function I8(s){const e=new Promise((n,r)=>{const i=()=>{s.removeEventListener("success",a),s.removeEventListener("error",l)},a=()=>{n(vl(s.result)),i()},l=()=>{r(s.error),i()};s.addEventListener("success",a),s.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&r3.set(n,s)}).catch(()=>{}),ob.set(e,s),e}function A8(s){if(q0.has(s))return;const e=new Promise((n,r)=>{const i=()=>{s.removeEventListener("complete",a),s.removeEventListener("error",l),s.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(s.error||new DOMException("AbortError","AbortError")),i()};s.addEventListener("complete",a),s.addEventListener("error",l),s.addEventListener("abort",l)});q0.set(s,e)}let K0={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return q0.get(s);if(e==="objectStoreNames")return s.objectStoreNames||i3.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vl(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function E8(s){K0=s(K0)}function P8(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(fy(this),e,...n);return i3.set(r,e.sort?e.sort():[e]),vl(r)}:T8().includes(s)?function(...e){return s.apply(fy(this),e),vl(r3.get(this))}:function(...e){return vl(s.apply(fy(this),e))}}function R8(s){return typeof s=="function"?P8(s):(s instanceof IDBTransaction&&A8(s),k8(s,C8())?new Proxy(s,K0):s)}function vl(s){if(s instanceof IDBRequest)return I8(s);if(gy.has(s))return gy.get(s);const e=R8(s);return e!==s&&(gy.set(s,e),ob.set(e,s)),e}const fy=s=>ob.get(s);function L8(s,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(s,e),c=vl(l);return r&&l.addEventListener("upgradeneeded",u=>{r(vl(l.result),u.oldVersion,u.newVersion,vl(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const D8=["get","getKey","getAll","getAllKeys","count"],M8=["put","add","delete","clear"],vy=new Map;function V2(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(vy.get(e))return vy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D8.includes(n)))return;const a=async function(l,...c){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&u.done]))[0]};return vy.set(e,a),a}E8(s=>({...s,get:(e,n,r)=>V2(e,n)||s.get(e,n,r),has:(e,n)=>!!V2(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B8(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q0="@firebase/app",U2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new ab("@firebase/app"),$8="@firebase/app-compat",O8="@firebase/analytics-compat",V8="@firebase/analytics",U8="@firebase/app-check-compat",z8="@firebase/app-check",H8="@firebase/auth",G8="@firebase/auth-compat",W8="@firebase/database",q8="@firebase/data-connect",K8="@firebase/database-compat",Q8="@firebase/functions",X8="@firebase/functions-compat",Y8="@firebase/installations",J8="@firebase/installations-compat",Z8="@firebase/messaging",eM="@firebase/messaging-compat",tM="@firebase/performance",sM="@firebase/performance-compat",nM="@firebase/remote-config",rM="@firebase/remote-config-compat",iM="@firebase/storage",aM="@firebase/storage-compat",oM="@firebase/firestore",lM="@firebase/vertexai-preview",cM="@firebase/firestore-compat",dM="firebase",uM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="[DEFAULT]",hM={[Q0]:"fire-core",[$8]:"fire-core-compat",[V8]:"fire-analytics",[O8]:"fire-analytics-compat",[z8]:"fire-app-check",[U8]:"fire-app-check-compat",[H8]:"fire-auth",[G8]:"fire-auth-compat",[W8]:"fire-rtdb",[q8]:"fire-data-connect",[K8]:"fire-rtdb-compat",[Q8]:"fire-fn",[X8]:"fire-fn-compat",[Y8]:"fire-iid",[J8]:"fire-iid-compat",[Z8]:"fire-fcm",[eM]:"fire-fcm-compat",[tM]:"fire-perf",[sM]:"fire-perf-compat",[nM]:"fire-rc",[rM]:"fire-rc-compat",[iM]:"fire-gcs",[aM]:"fire-gcs-compat",[oM]:"fire-fst",[cM]:"fire-fst-compat",[lM]:"fire-vertex","fire-js":"fire-js",[dM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,pM=new Map,Y0=new Map;function z2(s,e){try{s.container.addComponent(e)}catch(n){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Gd(s){const e=s.name;if(Y0.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;Y0.set(e,s);for(const n of qh.values())z2(n,s);for(const n of pM.values())z2(n,s);return!0}function lb(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function eo(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xl=new mp("app","Firebase",mM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _c("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=uM;function a3(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:X0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xl.create("bad-app-name",{appName:String(i)});if(n||(n=s3()),!n)throw xl.create("no-options");const a=qh.get(i);if(a){if(df(n,a.options)&&df(r,a.config))return a;throw xl.create("duplicate-app",{appName:i})}const l=new _8(i);for(const u of Y0.values())l.addComponent(u);const c=new gM(n,r,l);return qh.set(i,c),c}function cb(s=X0){const e=qh.get(s);if(!e&&s===X0&&s3())return a3();if(!e)throw xl.create("no-app",{appName:s});return e}function fM(){return Array.from(qh.values())}function yl(s,e,n){var r;let i=(r=hM[s])!==null&&r!==void 0?r:s;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(c.join(" "));return}Gd(new _c(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="firebase-heartbeat-database",xM=1,Kh="firebase-heartbeat-store";let xy=null;function o3(){return xy||(xy=L8(vM,xM,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kh)}catch(n){console.warn(n)}}}}).catch(s=>{throw xl.create("idb-open",{originalErrorMessage:s.message})})),xy}async function yM(s){try{const n=(await o3()).transaction(Kh),r=await n.objectStore(Kh).get(l3(s));return await n.done,r}catch(e){if(e instanceof wo)uo.warn(e.message);else{const n=xl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uo.warn(n.message)}}}async function H2(s,e){try{const r=(await o3()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,l3(s)),await r.done}catch(n){if(n instanceof wo)uo.warn(n.message);else{const r=xl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});uo.warn(r.message)}}}function l3(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1024,_M=720*60*60*1e3;class wM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=_M}),this._storage.overwrite(this._heartbeatsCache))}catch(r){uo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G2(),{heartbeatsToSend:r,unsentEntries:i}=jM(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return uo.warn(n),""}}}function G2(){return new Date().toISOString().substring(0,10)}function jM(s,e=bM){const n=[];let r=s.slice();for(const i of s){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),W2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c8()?d8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W2(s){return cf(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(s){Gd(new _c("platform-logger",e=>new F8(e),"PRIVATE")),Gd(new _c("heartbeat",e=>new wM(e),"PRIVATE")),yl(Q0,U2,s),yl(Q0,U2,"esm2017"),yl("fire-js","")}NM("");var kM="firebase",CM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yl(kM,CM,"app");function db(s,e){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(n[r[i]]=s[r[i]]);return n}function c3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TM=c3,d3=new mp("auth","Firebase",c3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new ab("@firebase/auth");function IM(s,...e){uf.logLevel<=is.WARN&&uf.warn(`Auth (${cu}): ${s}`,...e)}function Mg(s,...e){uf.logLevel<=is.ERROR&&uf.error(`Auth (${cu}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(s,...e){throw ub(s,...e)}function xa(s,...e){return ub(s,...e)}function u3(s,e,n){const r=Object.assign(Object.assign({},TM()),{[e]:n});return new mp("auth","Firebase",r).create(e,{appName:s.name})}function bl(s){return u3(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ub(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return d3.create(s,...e)}function At(s,e,...n){if(!s)throw ub(e,...n)}function to(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Mg(e),new Error(e)}function po(s,e){s||to(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function AM(){return q2()==="http:"||q2()==="https:"}function q2(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AM()||i8()||"connection"in navigator)?navigator.onLine:!0}function PM(){if(typeof navigator=="undefined")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.shortDelay=e,this.longDelay=n,po(n>e,"Short delay should be less than long delay!"),this.isMobile=s8()||a8()}get(){return EM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(s,e){po(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new fp(3e4,6e4);function ev(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function du(s,e,n,r,i={}){return p3(s,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=gp(Object.assign({key:s.config.apiKey},l)).slice(1),u=await s._getAdditionalHeaders();u["Content-Type"]="application/json",s.languageCode&&(u["X-Firebase-Locale"]=s.languageCode);const h=Object.assign({method:e,headers:u},a);return r8()||(h.referrerPolicy="no-referrer"),h3.fetch()(g3(s,s.config.apiHost,n,c),h)})}async function p3(s,e,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},RM),e);try{const i=new DM(s),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Zm(s,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zm(s,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Zm(s,"email-already-in-use",l);if(u==="USER_DISABLED")throw Zm(s,"user-disabled",l);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw u3(s,p,h);ho(s,p)}}catch(i){if(i instanceof wo)throw i;ho(s,"network-request-failed",{message:String(i)})}}async function m3(s,e,n,r,i={}){const a=await du(s,e,n,r,i);return"mfaPendingCredential"in a&&ho(s,"multi-factor-auth-required",{_serverResponse:a}),a}function g3(s,e,n,r){const i=`${e}${n}?${r}`;return s.config.emulator?hb(s.config,i):`${s.config.apiScheme}://${i}`}class DM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xa(this.auth,"network-request-failed")),LM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zm(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xa(s,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(s,e){return du(s,"POST","/v1/accounts:delete",e)}async function f3(s,e){return du(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function FM(s,e=!1){const n=Nn(s),r=await n.getIdToken(e),i=pb(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ch(yy(i.auth_time)),issuedAtTime:Ch(yy(i.iat)),expirationTime:Ch(yy(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yy(s){return Number(s)*1e3}function pb(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Mg("JWT malformed, contained fewer than 3 sections"),null;try{const i=e3(n);return i?JSON.parse(i):(Mg("Failed to decode base64 JWT payload"),null)}catch(i){return Mg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K2(s){const e=pb(s);return At(e,"internal-error"),At(typeof e.exp!="undefined","internal-error"),At(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wo&&BM(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function BM({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(s){var e;const n=s.auth,r=await s.getIdToken(),i=await Qh(s,f3(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];s._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?v3(a.providerUserInfo):[],c=VM(s.providerData,l),u=s.isAnonymous,h=!(s.email&&a.passwordHash)&&!(c!=null&&c.length),p=u?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Z0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(s,g)}async function OM(s){const e=Nn(s);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VM(s,e){return[...s.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function v3(s){return s.map(e=>{var{providerId:n}=e,r=db(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(s,e){const n=await p3(s,{},async()=>{const r=gp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=s.config,l=g3(s,i,"/v1/token",`key=${a}`),c=await s._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",h3.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zM(s,e){return du(s,"POST","/v2/accounts:revokeToken",ev(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken!="undefined","internal-error"),At(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):K2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){At(e.length!==0,"internal-error");const n=K2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await UM(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Fd;return r&&(At(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(At(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fd,this.toJSON())}_performRefresh(){return to("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(s,e){At(typeof s=="string"||typeof s=="undefined","internal-error",{appName:e})}class so{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=db(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $M(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Z0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Qh(this,this.stsTokenManager.getToken(this.auth,e));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FM(this,e)}reload(){return OM(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new so(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(eo(this.auth.app))return Promise.reject(bl(this.auth));const e=await this.getIdToken();return await Qh(this,MM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,u,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,_=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(h=n.createdAt)!==null&&h!==void 0?h:void 0,F=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:y,isAnonymous:w,providerData:P,stsTokenManager:T}=n;At(k&&T,e,"internal-error");const N=Fd.fromJSON(this.name,T);At(typeof k=="string",e,"internal-error"),Qo(g,e.name),Qo(x,e.name),At(typeof y=="boolean",e,"internal-error"),At(typeof w=="boolean",e,"internal-error"),Qo(b,e.name),Qo(_,e.name),Qo(S,e.name),Qo(C,e.name),Qo(E,e.name),Qo(F,e.name);const A=new so({uid:k,auth:e,email:x,emailVerified:y,displayName:g,isAnonymous:w,photoURL:_,phoneNumber:b,tenantId:S,stsTokenManager:N,createdAt:E,lastLoginAt:F});return P&&Array.isArray(P)&&(A.providerData=P.map(M=>Object.assign({},M))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fd;i.updateFromServerResponse(n);const a=new so({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];At(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?v3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Fd;c.updateFromIdToken(r);const u=new so({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Z0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Map;function no(s){po(s instanceof Function,"Expected a class definition");let e=Q2.get(s);return e?(po(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Q2.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x3.type="NONE";const X2=x3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(s,e,n){return`firebase:${s}:${e}:${n}`}class Bd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,a),this.fullPersistenceKey=Fg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?so._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bd(no(X2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||no(X2);const l=Fg(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){const g=so._fromJSON(e,p);h!==a&&(c=g),a=h;break}}catch(p){}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Bd(a,e,r):(a=u[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch(p){}})),new Bd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S3(e))return"Blackberry";if(N3(e))return"Webos";if(b3(e))return"Safari";if((e.includes("chrome/")||_3(e))&&!e.includes("edge/"))return"Chrome";if(j3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function y3(s=mr()){return/firefox\//i.test(s)}function b3(s=mr()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _3(s=mr()){return/crios\//i.test(s)}function w3(s=mr()){return/iemobile/i.test(s)}function j3(s=mr()){return/android/i.test(s)}function S3(s=mr()){return/blackberry/i.test(s)}function N3(s=mr()){return/webos/i.test(s)}function mb(s=mr()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function HM(s=mr()){var e;return mb(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GM(){return o8()&&document.documentMode===10}function k3(s=mr()){return mb(s)||j3(s)||N3(s)||S3(s)||/windows phone/i.test(s)||w3(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(s,e=[]){let n;switch(s){case"Browser":n=Y2(mr());break;case"Worker":n=`${Y2(mr())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const u=e(a);l(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(s,e={}){return du(s,"GET","/v2/passwordPolicy",ev(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=6;class QM{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:KM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J2(this),this.idTokenSubscription=new J2(this),this.beforeStateQueue=new WM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=no(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await f3(this,{idToken:e}),r=await so._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(eo(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===c)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(eo(this.app))return Promise.reject(bl(this));const n=e?Nn(e):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return eo(this.app)?Promise.reject(bl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return eo(this.app)?Promise.reject(bl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(no(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qM(this),n=new QM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&no(e)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Bd.create(this,[no(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{l=!0,u()}}else{const u=e.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tv(s){return Nn(s)}class J2{constructor(e){this.auth=e,this.observer=null,this.addObserver=g8(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YM(s){gb=s}function JM(s){return gb.loadJS(s)}function ZM(){return gb.gapiScript}function e9(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(s,e){const n=lb(s,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(df(a,e!=null?e:{}))return i;ho(i,"already-initialized")}return n.initialize({options:e})}function s9(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(no);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n9(s,e,n){const r=tv(s);At(r._canInitEmulator,r,"emulator-config-failed"),At(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=T3(e),{host:l,port:c}=r9(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i9()}function T3(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function r9(s){const e=T3(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Z2(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Z2(l)}}}function Z2(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function i9(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return to("not implemented")}_getIdTokenResponse(e){return to("not implemented")}_linkToIdToken(e,n){return to("not implemented")}_getReauthenticationResolver(e){return to("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(s,e){return m3(s,"POST","/v1/accounts:signInWithIdp",ev(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="http://localhost";class wc extends I3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=db(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new wc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return $d(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$d(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$d(e,n)}buildRequest(){const e={requestUri:a9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends A3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends vp{constructor(){super("facebook.com")}static credential(e){return wc._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return al.credential(e.oauthAccessToken)}catch(n){return null}}}al.FACEBOOK_SIGN_IN_METHOD="facebook.com";al.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends vp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wc._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ol.credential(n,r)}catch(i){return null}}}ol.GOOGLE_SIGN_IN_METHOD="google.com";ol.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends vp{constructor(){super("github.com")}static credential(e){return wc._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ll.credential(e.oauthAccessToken)}catch(n){return null}}}ll.GITHUB_SIGN_IN_METHOD="github.com";ll.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends vp{constructor(){super("twitter.com")}static credential(e,n){return wc._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cl.credential(n,r)}catch(i){return null}}}cl.TWITTER_SIGN_IN_METHOD="twitter.com";cl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await so._fromIdTokenResponse(e,r,i),l=eS(r);return new jc({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eS(r);return new jc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eS(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends wo{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pf(e,n,r,i)}}function E3(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(s,a,e,r):a})}async function o9(s,e,n=!1){const r=await Qh(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return jc._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(s,e,n=!1){const{auth:r}=s;if(eo(r.app))return Promise.reject(bl(r));const i="reauthenticate";try{const a=await Qh(s,E3(r,i,e,s),n);At(a.idToken,r,"internal-error");const l=pb(a.idToken);At(l,r,"internal-error");const{sub:c}=l;return At(s.uid===c,r,"user-mismatch"),jc._forOperation(s,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ho(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(s,e,n=!1){if(eo(s.app))return Promise.reject(bl(s));const r="signIn",i=await E3(s,r,e),a=await jc._fromIdTokenResponse(s,r,i);return n||await s._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(s,e){return m3(s,"POST","/v1/accounts:signInWithCustomToken",ev(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(s,e){if(eo(s.app))return Promise.reject(bl(s));const n=tv(s),r=await d9(n,{token:e,returnSecureToken:!0}),i=await jc._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function h9(s,e,n,r){return Nn(s).onIdTokenChanged(e,n,r)}function p9(s,e,n){return Nn(s).beforeAuthStateChanged(e,n)}function m9(s,e,n,r){return Nn(s).onAuthStateChanged(e,n,r)}function g9(s){return Nn(s).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=1e3,v9=10;class R3 extends P3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);GM()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R3.type="LOCAL";const x9=R3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3 extends P3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L3.type="SESSION";const D3=L3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,a)),u=await y9(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,u)=>{const h=fb("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(p),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(){return window}function _9(s){ya().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return typeof ya().WorkerGlobalScope!="undefined"&&typeof ya().importScripts=="function"}async function w9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(s){return null}}function j9(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function S9(){return M3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="firebaseLocalStorageDb",N9=1,gf="firebaseLocalStorage",B3="fbase_key";class xp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nv(s,e){return s.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function k9(){const s=indexedDB.deleteDatabase(F3);return new xp(s).toPromise()}function e1(){const s=indexedDB.open(F3,N9);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gf,{keyPath:B3})}catch(i){n(i)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gf)?e(r):(r.close(),await k9(),e(await e1()))})})}async function tS(s,e,n){const r=nv(s,!0).put({[B3]:e,value:n});return new xp(r).toPromise()}async function C9(s,e){const n=nv(s,!1).get(e),r=await new xp(n).toPromise();return r===void 0?null:r.value}function sS(s,e){const n=nv(s,!0).delete(e);return new xp(n).toPromise()}const T9=800,I9=3;class $3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(S9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w9(),!this.activeServiceWorker)return;this.sender=new b9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e1();return await tS(e,mf,"1"),await sS(e,mf),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=nv(i,!1).getAll();return new xp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$3.type="LOCAL";const A9=$3;new fp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(s,e){return e?no(e):(At(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends I3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $d(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $d(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $d(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P9(s){return c9(s.auth,new vb(s),s.bypassAuthState)}function R9(s){const{auth:e,user:n}=s;return At(n,e,"internal-error"),l9(n,new vb(s),s.bypassAuthState)}async function L9(s){const{auth:e,user:n}=s;return At(n,e,"internal-error"),o9(n,new vb(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P9;case"linkViaPopup":case"linkViaRedirect":return L9;case"reauthViaPopup":case"reauthViaRedirect":return R9;default:ho(this.auth,"internal-error")}}resolve(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new fp(2e3,1e4);class Td extends O3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Td.currentPopupAction&&Td.currentPopupAction.cancel(),Td.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){po(this.filter.length===1,"Popup operations only handle one event");const e=fb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Td.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D9.get())};e()}}Td.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="pendingRedirect",Bg=new Map;class F9 extends O3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bg.get(this.auth._key());if(!e){try{const r=await B9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bg.set(this.auth._key(),e)}return this.bypassAuthState||Bg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B9(s,e){const n=V9(e),r=O9(s);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $9(s,e){Bg.set(s._key(),e)}function O9(s){return no(s._redirectPersistence)}function V9(s){return Fg(M9,s.config.apiKey,s.name)}async function U9(s,e,n=!1){if(eo(s.app))return Promise.reject(bl(s));const r=tv(s),i=E9(r,e),l=await new F9(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=600*1e3;class H9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!V3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z9&&this.cachedEventUids.clear(),this.cachedEventUids.has(nS(e))}saveEventToCache(e){this.cachedEventUids.add(nS(e)),this.lastProcessedEventTime=Date.now()}}function nS(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function V3({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G9(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V3(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(s,e={}){return du(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K9=/^https?/;async function Q9(s){if(s.config.emulator)return;const{authorizedDomains:e}=await W9(s);for(const n of e)try{if(X9(n))return}catch(r){}ho(s,"unauthorized-domain")}function X9(s){const e=J0(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const l=new URL(s);return l.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!K9.test(n))return!1;if(q9.test(s))return r===s;const i=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new fp(3e4,6e4);function rS(){const s=ya().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function J9(s){return new Promise((e,n)=>{var r,i,a;function l(){rS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rS(),n(xa(s,"network-request-failed"))},timeout:Y9.get()})}if(!((i=(r=ya().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ya().gapi)===null||a===void 0)&&a.load)l();else{const c=e9("iframefcb");return ya()[c]=()=>{gapi.load?l():n(xa(s,"network-request-failed"))},JM(`${ZM()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw $g=null,e})}let $g=null;function Z9(s){return $g=$g||J9(s),$g}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new fp(5e3,15e3),tF="__/auth/iframe",sF="emulator/auth/iframe",nF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iF(s){const e=s.config;At(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?hb(e,sF):`https://${s.config.authDomain}/${tF}`,r={apiKey:e.apiKey,appName:s.name,v:cu},i=rF.get(s.config.apiHost);i&&(r.eid=i);const a=s._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${gp(r).slice(1)}`}async function aF(s){const e=await Z9(s),n=ya().gapi;return At(n,s,"internal-error"),e.open({where:document.body,url:iF(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nF,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=xa(s,"network-request-failed"),c=ya().setTimeout(()=>{a(l)},eF.get());function u(){ya().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lF=500,cF=600,dF="_blank",uF="http://localhost";class iS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function hF(s,e,n,r=lF,i=cF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},oF),{width:r.toString(),height:i.toString(),top:a,left:l}),h=mr().toLowerCase();n&&(c=_3(h)?dF:n),y3(h)&&(e=e||uF,u.scrollbars="yes");const p=Object.entries(u).reduce((x,[b,_])=>`${x}${b}=${_},`,"");if(HM(h)&&c!=="_self")return pF(e||"",c),new iS(null);const g=window.open(e||"",c,p);At(g,s,"popup-blocked");try{g.focus()}catch(x){}return new iS(g)}function pF(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="__/auth/handler",gF="emulator/auth/handler",fF=encodeURIComponent("fac");async function aS(s,e,n,r,i,a){At(s.config.authDomain,s,"auth-domain-config-required"),At(s.config.apiKey,s,"invalid-api-key");const l={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:cu,eventId:i};if(e instanceof A3){e.setDefaultLanguage(s.languageCode),l.providerId=e.providerId||"",m8(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof vp){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}s.tenantId&&(l.tid=s.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await s._getAppCheckToken(),h=u?`#${fF}=${encodeURIComponent(u)}`:"";return`${vF(s)}?${gp(c).slice(1)}${h}`}function vF({config:s}){return s.emulator?hb(s,gF):`https://${s.authDomain}/${mF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="webStorageSupport";class xF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D3,this._completeRedirectFn=U9,this._overrideRedirectResult=$9}async _openPopup(e,n,r,i){var a;po((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await aS(e,n,r,J0(),i);return hF(e,l,fb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await aS(e,n,r,J0(),i);return _9(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(po(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aF(e),r=new H9(e);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(by,{type:by},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[by];l!==void 0&&n(!!l),ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k3()||b3()||mb()}}const yF=xF;var oS="@firebase/auth",lS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wF(s){Gd(new _c("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;At(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:l,authDomain:c,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C3(s)},h=new XM(r,i,a,u);return s9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gd(new _c("auth-internal",e=>{const n=tv(e.getProvider("auth").getImmediate());return(r=>new bF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yl(oS,lS,_F(s)),yl(oS,lS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=300,SF=n3("authIdTokenMaxAge")||jF;let cS=null;const NF=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SF)return;const i=n==null?void 0:n.token;cS!==i&&(cS=i,await fetch(s,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kF(s=cb()){const e=lb(s,"auth");if(e.isInitialized())return e.getImmediate();const n=t9(s,{popupRedirectResolver:yF,persistence:[A9,x9,D3]}),r=n3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=NF(a.toString());p9(n,l,()=>l(n.currentUser)),h9(n,c=>l(c))}}const i=t3("auth");return i&&n9(n,`http://${i}`),n}function CF(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}YM({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=i=>{const a=xa("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",CF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wF("Browser");var dS=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vc,U3;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,N){function A(){}A.prototype=N.prototype,T.D=N.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(M,R,B){for(var $=Array(arguments.length-2),z=2;z<arguments.length;z++)$[z-2]=arguments[z];return N.prototype[R].apply(M,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,N,A){A||(A=0);var M=Array(16);if(typeof N=="string")for(var R=0;16>R;++R)M[R]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(R=0;16>R;++R)M[R]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=T.g[0],A=T.g[1],R=T.g[2];var B=T.g[3],$=N+(B^A&(R^B))+M[0]+3614090360&4294967295;N=A+($<<7&4294967295|$>>>25),$=B+(R^N&(A^R))+M[1]+3905402710&4294967295,B=N+($<<12&4294967295|$>>>20),$=R+(A^B&(N^A))+M[2]+606105819&4294967295,R=B+($<<17&4294967295|$>>>15),$=A+(N^R&(B^N))+M[3]+3250441966&4294967295,A=R+($<<22&4294967295|$>>>10),$=N+(B^A&(R^B))+M[4]+4118548399&4294967295,N=A+($<<7&4294967295|$>>>25),$=B+(R^N&(A^R))+M[5]+1200080426&4294967295,B=N+($<<12&4294967295|$>>>20),$=R+(A^B&(N^A))+M[6]+2821735955&4294967295,R=B+($<<17&4294967295|$>>>15),$=A+(N^R&(B^N))+M[7]+4249261313&4294967295,A=R+($<<22&4294967295|$>>>10),$=N+(B^A&(R^B))+M[8]+1770035416&4294967295,N=A+($<<7&4294967295|$>>>25),$=B+(R^N&(A^R))+M[9]+2336552879&4294967295,B=N+($<<12&4294967295|$>>>20),$=R+(A^B&(N^A))+M[10]+4294925233&4294967295,R=B+($<<17&4294967295|$>>>15),$=A+(N^R&(B^N))+M[11]+2304563134&4294967295,A=R+($<<22&4294967295|$>>>10),$=N+(B^A&(R^B))+M[12]+1804603682&4294967295,N=A+($<<7&4294967295|$>>>25),$=B+(R^N&(A^R))+M[13]+4254626195&4294967295,B=N+($<<12&4294967295|$>>>20),$=R+(A^B&(N^A))+M[14]+2792965006&4294967295,R=B+($<<17&4294967295|$>>>15),$=A+(N^R&(B^N))+M[15]+1236535329&4294967295,A=R+($<<22&4294967295|$>>>10),$=N+(R^B&(A^R))+M[1]+4129170786&4294967295,N=A+($<<5&4294967295|$>>>27),$=B+(A^R&(N^A))+M[6]+3225465664&4294967295,B=N+($<<9&4294967295|$>>>23),$=R+(N^A&(B^N))+M[11]+643717713&4294967295,R=B+($<<14&4294967295|$>>>18),$=A+(B^N&(R^B))+M[0]+3921069994&4294967295,A=R+($<<20&4294967295|$>>>12),$=N+(R^B&(A^R))+M[5]+3593408605&4294967295,N=A+($<<5&4294967295|$>>>27),$=B+(A^R&(N^A))+M[10]+38016083&4294967295,B=N+($<<9&4294967295|$>>>23),$=R+(N^A&(B^N))+M[15]+3634488961&4294967295,R=B+($<<14&4294967295|$>>>18),$=A+(B^N&(R^B))+M[4]+3889429448&4294967295,A=R+($<<20&4294967295|$>>>12),$=N+(R^B&(A^R))+M[9]+568446438&4294967295,N=A+($<<5&4294967295|$>>>27),$=B+(A^R&(N^A))+M[14]+3275163606&4294967295,B=N+($<<9&4294967295|$>>>23),$=R+(N^A&(B^N))+M[3]+4107603335&4294967295,R=B+($<<14&4294967295|$>>>18),$=A+(B^N&(R^B))+M[8]+1163531501&4294967295,A=R+($<<20&4294967295|$>>>12),$=N+(R^B&(A^R))+M[13]+2850285829&4294967295,N=A+($<<5&4294967295|$>>>27),$=B+(A^R&(N^A))+M[2]+4243563512&4294967295,B=N+($<<9&4294967295|$>>>23),$=R+(N^A&(B^N))+M[7]+1735328473&4294967295,R=B+($<<14&4294967295|$>>>18),$=A+(B^N&(R^B))+M[12]+2368359562&4294967295,A=R+($<<20&4294967295|$>>>12),$=N+(A^R^B)+M[5]+4294588738&4294967295,N=A+($<<4&4294967295|$>>>28),$=B+(N^A^R)+M[8]+2272392833&4294967295,B=N+($<<11&4294967295|$>>>21),$=R+(B^N^A)+M[11]+1839030562&4294967295,R=B+($<<16&4294967295|$>>>16),$=A+(R^B^N)+M[14]+4259657740&4294967295,A=R+($<<23&4294967295|$>>>9),$=N+(A^R^B)+M[1]+2763975236&4294967295,N=A+($<<4&4294967295|$>>>28),$=B+(N^A^R)+M[4]+1272893353&4294967295,B=N+($<<11&4294967295|$>>>21),$=R+(B^N^A)+M[7]+4139469664&4294967295,R=B+($<<16&4294967295|$>>>16),$=A+(R^B^N)+M[10]+3200236656&4294967295,A=R+($<<23&4294967295|$>>>9),$=N+(A^R^B)+M[13]+681279174&4294967295,N=A+($<<4&4294967295|$>>>28),$=B+(N^A^R)+M[0]+3936430074&4294967295,B=N+($<<11&4294967295|$>>>21),$=R+(B^N^A)+M[3]+3572445317&4294967295,R=B+($<<16&4294967295|$>>>16),$=A+(R^B^N)+M[6]+76029189&4294967295,A=R+($<<23&4294967295|$>>>9),$=N+(A^R^B)+M[9]+3654602809&4294967295,N=A+($<<4&4294967295|$>>>28),$=B+(N^A^R)+M[12]+3873151461&4294967295,B=N+($<<11&4294967295|$>>>21),$=R+(B^N^A)+M[15]+530742520&4294967295,R=B+($<<16&4294967295|$>>>16),$=A+(R^B^N)+M[2]+3299628645&4294967295,A=R+($<<23&4294967295|$>>>9),$=N+(R^(A|~B))+M[0]+4096336452&4294967295,N=A+($<<6&4294967295|$>>>26),$=B+(A^(N|~R))+M[7]+1126891415&4294967295,B=N+($<<10&4294967295|$>>>22),$=R+(N^(B|~A))+M[14]+2878612391&4294967295,R=B+($<<15&4294967295|$>>>17),$=A+(B^(R|~N))+M[5]+4237533241&4294967295,A=R+($<<21&4294967295|$>>>11),$=N+(R^(A|~B))+M[12]+1700485571&4294967295,N=A+($<<6&4294967295|$>>>26),$=B+(A^(N|~R))+M[3]+2399980690&4294967295,B=N+($<<10&4294967295|$>>>22),$=R+(N^(B|~A))+M[10]+4293915773&4294967295,R=B+($<<15&4294967295|$>>>17),$=A+(B^(R|~N))+M[1]+2240044497&4294967295,A=R+($<<21&4294967295|$>>>11),$=N+(R^(A|~B))+M[8]+1873313359&4294967295,N=A+($<<6&4294967295|$>>>26),$=B+(A^(N|~R))+M[15]+4264355552&4294967295,B=N+($<<10&4294967295|$>>>22),$=R+(N^(B|~A))+M[6]+2734768916&4294967295,R=B+($<<15&4294967295|$>>>17),$=A+(B^(R|~N))+M[13]+1309151649&4294967295,A=R+($<<21&4294967295|$>>>11),$=N+(R^(A|~B))+M[4]+4149444226&4294967295,N=A+($<<6&4294967295|$>>>26),$=B+(A^(N|~R))+M[11]+3174756917&4294967295,B=N+($<<10&4294967295|$>>>22),$=R+(N^(B|~A))+M[2]+718787259&4294967295,R=B+($<<15&4294967295|$>>>17),$=A+(B^(R|~N))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+N&4294967295,T.g[1]=T.g[1]+(R+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+B&4294967295}r.prototype.u=function(T,N){N===void 0&&(N=T.length);for(var A=N-this.blockSize,M=this.B,R=this.h,B=0;B<N;){if(R==0)for(;B<=A;)i(this,T,B),B+=this.blockSize;if(typeof T=="string"){for(;B<N;)if(M[R++]=T.charCodeAt(B++),R==this.blockSize){i(this,M),R=0;break}}else for(;B<N;)if(M[R++]=T[B++],R==this.blockSize){i(this,M),R=0;break}}this.h=R,this.o+=N},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var N=1;N<T.length-8;++N)T[N]=0;var A=8*this.o;for(N=T.length-8;N<T.length;++N)T[N]=A&255,A/=256;for(this.u(T),T=Array(16),N=A=0;4>N;++N)for(var M=0;32>M;M+=8)T[A++]=this.g[N]>>>M&255;return T};function a(T,N){var A=c;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=N(T)}function l(T,N){this.h=N;for(var A=[],M=!0,R=T.length-1;0<=R;R--){var B=T[R]|0;M&&B==N||(A[R]=B,M=!1)}this.g=A}var c={};function u(T){return-128<=T&&128>T?a(T,function(N){return new l([N|0],0>N?-1:0)}):new l([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return C(h(-T));for(var N=[],A=1,M=0;T>=A;M++)N[M]=T/A|0,A*=4294967296;return new l(N,0)}function p(T,N){if(T.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T.charAt(0)=="-")return C(p(T.substring(1),N));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(N,8)),M=g,R=0;R<T.length;R+=8){var B=Math.min(8,T.length-R),$=parseInt(T.substring(R,R+B),N);8>B?(B=h(Math.pow(N,B)),M=M.j(B).add(h($))):(M=M.j(A),M=M.add(h($)))}return M}var g=u(0),x=u(1),b=u(16777216);s=l.prototype,s.m=function(){if(S(this))return-C(this).m();for(var T=0,N=1,A=0;A<this.g.length;A++){var M=this.i(A);T+=(0<=M?M:4294967296+M)*N,N*=4294967296}return T},s.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(S(this))return"-"+C(this).toString(T);for(var N=h(Math.pow(T,6)),A=this,M="";;){var R=y(A,N).g;A=E(A,R.j(N));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=R,_(A))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},s.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var N=0;N<T.g.length;N++)if(T.g[N]!=0)return!1;return!0}function S(T){return T.h==-1}s.l=function(T){return T=E(this,T),S(T)?-1:_(T)?0:1};function C(T){for(var N=T.g.length,A=[],M=0;M<N;M++)A[M]=~T.g[M];return new l(A,~T.h).add(x)}s.abs=function(){return S(this)?C(this):this},s.add=function(T){for(var N=Math.max(this.g.length,T.g.length),A=[],M=0,R=0;R<=N;R++){var B=M+(this.i(R)&65535)+(T.i(R)&65535),$=(B>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);M=$>>>16,B&=65535,$&=65535,A[R]=$<<16|B}return new l(A,A[A.length-1]&-2147483648?-1:0)};function E(T,N){return T.add(C(N))}s.j=function(T){if(_(this)||_(T))return g;if(S(this))return S(T)?C(this).j(C(T)):C(C(this).j(T));if(S(T))return C(this.j(C(T)));if(0>this.l(b)&&0>T.l(b))return h(this.m()*T.m());for(var N=this.g.length+T.g.length,A=[],M=0;M<2*N;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<T.g.length;R++){var B=this.i(M)>>>16,$=this.i(M)&65535,z=T.i(R)>>>16,U=T.i(R)&65535;A[2*M+2*R]+=$*U,F(A,2*M+2*R),A[2*M+2*R+1]+=B*U,F(A,2*M+2*R+1),A[2*M+2*R+1]+=$*z,F(A,2*M+2*R+1),A[2*M+2*R+2]+=B*z,F(A,2*M+2*R+2)}for(M=0;M<N;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=N;M<2*N;M++)A[M]=0;return new l(A,0)};function F(T,N){for(;(T[N]&65535)!=T[N];)T[N+1]+=T[N]>>>16,T[N]&=65535,N++}function k(T,N){this.g=T,this.h=N}function y(T,N){if(_(N))throw Error("division by zero");if(_(T))return new k(g,g);if(S(T))return N=y(C(T),N),new k(C(N.g),C(N.h));if(S(N))return N=y(T,C(N)),new k(C(N.g),N.h);if(30<T.g.length){if(S(T)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var A=x,M=N;0>=M.l(T);)A=w(A),M=w(M);var R=P(A,1),B=P(M,1);for(M=P(M,2),A=P(A,2);!_(M);){var $=B.add(M);0>=$.l(T)&&(R=R.add(A),B=$),M=P(M,1),A=P(A,1)}return N=E(T,R.j(N)),new k(R,N)}for(R=g;0<=T.l(N);){for(A=Math.max(1,Math.floor(T.m()/N.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=h(A),$=B.j(N);S($)||0<$.l(T);)A-=M,B=h(A),$=B.j(N);_(B)&&(B=x),R=R.add(B),T=E(T,$)}return new k(R,T)}s.A=function(T){return y(this,T).h},s.and=function(T){for(var N=Math.max(this.g.length,T.g.length),A=[],M=0;M<N;M++)A[M]=this.i(M)&T.i(M);return new l(A,this.h&T.h)},s.or=function(T){for(var N=Math.max(this.g.length,T.g.length),A=[],M=0;M<N;M++)A[M]=this.i(M)|T.i(M);return new l(A,this.h|T.h)},s.xor=function(T){for(var N=Math.max(this.g.length,T.g.length),A=[],M=0;M<N;M++)A[M]=this.i(M)^T.i(M);return new l(A,this.h^T.h)};function w(T){for(var N=T.g.length+1,A=[],M=0;M<N;M++)A[M]=T.i(M)<<1|T.i(M-1)>>>31;return new l(A,T.h)}function P(T,N){var A=N>>5;N%=32;for(var M=T.g.length-A,R=[],B=0;B<M;B++)R[B]=0<N?T.i(B+A)>>>N|T.i(B+A+1)<<32-N:T.i(B+A);return new l(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U3=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,vc=l}).apply(typeof dS!="undefined"?dS:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var eg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z3,mh,H3,Og,t1,G3,W3,q3;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,L,O){return f==Array.prototype||f==Object.prototype||(f[L]=O.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof eg=="object"&&eg];for(var L=0;L<f.length;++L){var O=f[L];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(f,L){if(L)e:{var O=r;f=f.split(".");for(var G=0;G<f.length-1;G++){var de=f[G];if(!(de in O))break e;O=O[de]}f=f[f.length-1],G=O[f],L=L(G),L!=G&&L!=null&&e(O,f,{configurable:!0,writable:!0,value:L})}}function a(f,L){f instanceof String&&(f+="");var O=0,G=!1,de={next:function(){if(!G&&O<f.length){var ve=O++;return{value:L(ve,f[ve]),done:!1}}return G=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(f){return f||function(){return a(this,function(L,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function u(f){var L=typeof f;return L=L!="object"?L:f?Array.isArray(f)?"array":L:"null",L=="array"||L=="object"&&typeof f.length=="number"}function h(f){var L=typeof f;return L=="object"&&f!=null||L=="function"}function p(f,L,O){return f.call.apply(f.bind,arguments)}function g(f,L,O){if(!f)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,G),f.apply(L,de)}}return function(){return f.apply(L,arguments)}}function x(f,L,O){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,x.apply(null,arguments)}function b(f,L){var O=Array.prototype.slice.call(arguments,1);return function(){var G=O.slice();return G.push.apply(G,arguments),f.apply(this,G)}}function _(f,L){function O(){}O.prototype=L.prototype,f.aa=L.prototype,f.prototype=new O,f.prototype.constructor=f,f.Qb=function(G,de,ve){for(var Oe=Array(arguments.length-2),Ss=2;Ss<arguments.length;Ss++)Oe[Ss-2]=arguments[Ss];return L.prototype[de].apply(G,Oe)}}function S(f){const L=f.length;if(0<L){const O=Array(L);for(let G=0;G<L;G++)O[G]=f[G];return O}return[]}function C(f,L){for(let O=1;O<arguments.length;O++){const G=arguments[O];if(u(G)){const de=f.length||0,ve=G.length||0;f.length=de+ve;for(let Oe=0;Oe<ve;Oe++)f[de+Oe]=G[Oe]}else f.push(G)}}class E{constructor(L,O){this.i=L,this.j=O,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function F(f){return/^[\s\xa0]*$/.test(f)}function k(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var w=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function P(f,L,O){for(const G in f)L.call(O,f[G],G,f)}function T(f,L){for(const O in f)L.call(void 0,f[O],O,f)}function N(f){const L={};for(const O in f)L[O]=f[O];return L}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,L){let O,G;for(let de=1;de<arguments.length;de++){G=arguments[de];for(O in G)f[O]=G[O];for(let ve=0;ve<A.length;ve++)O=A[ve],Object.prototype.hasOwnProperty.call(G,O)&&(f[O]=G[O])}}function R(f){var L=1;f=f.split(":");const O=[];for(;0<L&&f.length;)O.push(f.shift()),L--;return f.length&&O.push(f.join(":")),O}function B(f){c.setTimeout(()=>{throw f},0)}function $(){var f=se;let L=null;return f.g&&(L=f.g,f.g=f.g.next,f.g||(f.h=null),L.next=null),L}class z{constructor(){this.h=this.g=null}add(L,O){const G=U.get();G.set(L,O),this.h?this.h.next=G:this.g=G,this.h=G}}var U=new E(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(L,O){this.h=L,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let K,q=!1,se=new z,ne=()=>{const f=c.Promise.resolve(void 0);K=()=>{f.then(H)}};var H=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(O){B(O)}var L=U;L.j(f),100>L.h&&(L.h++,f.next=L.g,L.g=f)}q=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,L){this.type=f,this.g=this.target=L,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,L=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const O=()=>{};c.addEventListener("test",O,L),c.removeEventListener("test",O,L)}catch(O){}return f})();function he(f,L){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var O=this.type=f.type,G=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=L,L=f.relatedTarget){if(w){e:{try{y(L.nodeName);var de=!0;break e}catch(ve){}de=!1}de||(L=null)}}else O=="mouseover"?L=f.fromElement:O=="mouseout"&&(L=f.toElement);this.relatedTarget=L,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}_(he,le);var xe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Z=0;function fe(f,L,O,G,de){this.listener=f,this.proxy=null,this.src=L,this.type=O,this.capture=!!G,this.ha=de,this.key=++Z,this.da=this.fa=!1}function ie(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,L,O,G,de){var ve=f.toString();f=this.g[ve],f||(f=this.g[ve]=[],this.h++);var Oe=Se(f,L,G,de);return-1<Oe?(L=f[Oe],O||(L.fa=!1)):(L=new fe(L,this.src,ve,!!G,de),L.fa=O,f.push(L)),L};function be(f,L){var O=L.type;if(O in f.g){var G=f.g[O],de=Array.prototype.indexOf.call(G,L,void 0),ve;(ve=0<=de)&&Array.prototype.splice.call(G,de,1),ve&&(ie(L),f.g[O].length==0&&(delete f.g[O],f.h--))}}function Se(f,L,O,G){for(var de=0;de<f.length;++de){var ve=f[de];if(!ve.da&&ve.listener==L&&ve.capture==!!O&&ve.ha==G)return de}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Ue={};function tt(f,L,O,G,de){if(Array.isArray(L)){for(var ve=0;ve<L.length;ve++)tt(f,L[ve],O,G,de);return null}return O=qe(O),f&&f[Re]?f.K(L,O,h(G)?!!G.capture:!1,de):Je(f,L,O,!1,G,de)}function Je(f,L,O,G,de,ve){if(!L)throw Error("Invalid event type");var Oe=h(de)?!!de.capture:!!de,Ss=vt(f);if(Ss||(f[Ve]=Ss=new _e(f)),O=Ss.add(L,O,G,Oe,ve),O.proxy)return O;if(G=ct(),O.proxy=G,G.src=f,G.listener=O,f.addEventListener)oe||(de=Oe),de===void 0&&(de=!1),f.addEventListener(L.toString(),G,de);else if(f.attachEvent)f.attachEvent(Qe(L.toString()),G);else if(f.addListener&&f.removeListener)f.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return O}function ct(){function f(O){return L.call(f.src,f.listener,O)}const L=Ke;return f}function Wt(f,L,O,G,de){if(Array.isArray(L))for(var ve=0;ve<L.length;ve++)Wt(f,L[ve],O,G,de);else G=h(G)?!!G.capture:!!G,O=qe(O),f&&f[Re]?(f=f.i,L=String(L).toString(),L in f.g&&(ve=f.g[L],O=Se(ve,O,G,de),-1<O&&(ie(ve[O]),Array.prototype.splice.call(ve,O,1),ve.length==0&&(delete f.g[L],f.h--)))):f&&(f=vt(f))&&(L=f.g[L.toString()],f=-1,L&&(f=Se(L,O,G,de)),(O=-1<f?L[f]:null)&&je(O))}function je(f){if(typeof f!="number"&&f&&!f.da){var L=f.src;if(L&&L[Re])be(L.i,f);else{var O=f.type,G=f.proxy;L.removeEventListener?L.removeEventListener(O,G,f.capture):L.detachEvent?L.detachEvent(Qe(O),G):L.addListener&&L.removeListener&&L.removeListener(G),(O=vt(L))?(be(O,f),O.h==0&&(O.src=null,L[Ve]=null)):ie(f)}}}function Qe(f){return f in Ue?Ue[f]:Ue[f]="on"+f}function Ke(f,L){if(f.da)f=!0;else{L=new he(L,this);var O=f.listener,G=f.ha||f.src;f.fa&&je(f),f=O.call(G,L)}return f}function vt(f){return f=f[Ve],f instanceof _e?f:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(f){return typeof f=="function"?f:(f[kt]||(f[kt]=function(L){return f.handleEvent(L)}),f[kt])}function Ce(){J.call(this),this.i=new _e(this),this.M=this,this.F=null}_(Ce,J),Ce.prototype[Re]=!0,Ce.prototype.removeEventListener=function(f,L,O,G){Wt(this,f,L,O,G)};function ze(f,L){var O,G=f.F;if(G)for(O=[];G;G=G.F)O.push(G);if(f=f.M,G=L.type||L,typeof L=="string")L=new le(L,f);else if(L instanceof le)L.target=L.target||f;else{var de=L;L=new le(G,f),M(L,de)}if(de=!0,O)for(var ve=O.length-1;0<=ve;ve--){var Oe=L.g=O[ve];de=St(Oe,G,!0,L)&&de}if(Oe=L.g=f,de=St(Oe,G,!0,L)&&de,de=St(Oe,G,!1,L)&&de,O)for(ve=0;ve<O.length;ve++)Oe=L.g=O[ve],de=St(Oe,G,!1,L)&&de}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var f=this.i,L;for(L in f.g){for(var O=f.g[L],G=0;G<O.length;G++)ie(O[G]);delete f.g[L],f.h--}}this.F=null},Ce.prototype.K=function(f,L,O,G){return this.i.add(String(f),L,!1,O,G)},Ce.prototype.L=function(f,L,O,G){return this.i.add(String(f),L,!0,O,G)};function St(f,L,O,G){if(L=f.i.g[String(L)],!L)return!0;L=L.concat();for(var de=!0,ve=0;ve<L.length;++ve){var Oe=L[ve];if(Oe&&!Oe.da&&Oe.capture==O){var Ss=Oe.listener,_n=Oe.ha||Oe.src;Oe.fa&&be(f.i,Oe),de=Ss.call(_n,G)!==!1&&de}}return de&&!G.defaultPrevented}function Bt(f,L,O){if(typeof f=="function")O&&(f=x(f,O));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:c.setTimeout(f,L||0)}function ks(f){f.g=Bt(()=>{f.g=null,f.i&&(f.i=!1,ks(f))},f.l);const L=f.h;f.h=null,f.m.apply(null,L)}class us extends J{constructor(L,O){super(),this.m=L,this.l=O,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:ks(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(f){J.call(this),this.h=f,this.g={}}_(hs,J);var Gs=[];function bt(f){P(f.g,function(L,O){this.g.hasOwnProperty(O)&&je(L)},f),f.g={}}hs.prototype.N=function(){hs.aa.N.call(this),bt(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=c.JSON.stringify,sn=c.JSON.parse,Xt=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Y(){}Y.prototype.h=null;function Fe(f){return f.h||(f.h=f.i())}function He(){}var nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ot(){le.call(this,"d")}_(ot,le);function _t(){le.call(this,"c")}_(_t,le);var as={},$s=null;function kn(){return $s=$s||new Ce}as.La="serverreachability";function rr(f){le.call(this,as.La,f)}_(rr,le);function hn(f){const L=kn();ze(L,new rr(L))}as.STAT_EVENT="statevent";function pi(f,L){le.call(this,as.STAT_EVENT,f),this.stat=L}_(pi,le);function fs(f){const L=kn();ze(L,new pi(L,f))}as.Ma="timingevent";function On(f,L){le.call(this,as.Ma,f),this.size=L}_(On,le);function nn(f,L){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},L)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function vr(f,L,O,G,de,ve){f.info(function(){if(f.g)if(ve)for(var Oe="",Ss=ve.split("&"),_n=0;_n<Ss.length;_n++){var ls=Ss[_n].split("=");if(1<ls.length){var Tn=ls[0];ls=ls[1];var pn=Tn.split("_");Oe=2<=pn.length&&pn[1]=="type"?Oe+(Tn+"="+ls+"&"):Oe+(Tn+"=redacted&")}}else Oe=null;else Oe=ve;return"XMLHTTP REQ ("+G+") [attempt "+de+"]: "+L+`
`+O+`
`+Oe})}function xr(f,L,O,G,de,ve,Oe){f.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+de+"]: "+L+`
`+O+`
`+ve+" "+Oe})}function Cn(f,L,O,G){f.info(function(){return"XMLHTTP TEXT ("+L+"): "+Cs(f,O)+(G?" "+G:"")})}function os(f,L){f.info(function(){return"TIMEOUT: "+L})}fr.prototype.info=function(){};function Cs(f,L){if(!f.g)return L;if(!L)return null;try{var O=JSON.parse(L);if(O){for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var G=O[f];if(!(2>G.length)){var de=G[1];if(Array.isArray(de)&&!(1>de.length)){var ve=de[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(var Oe=1;Oe<de.length;Oe++)de[Oe]=""}}}}return we(O)}catch(Ss){return L}}var Vn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qt;function ta(){}_(ta,Y),ta.prototype.g=function(){return new XMLHttpRequest},ta.prototype.i=function(){return{}},qt=new ta;function Pr(f,L,O,G){this.j=f,this.i=L,this.l=O,this.R=G||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new El}function El(){this.i=null,this.g="",this.h=!1}var No={},Ea={};function Pa(f,L,O){f.L=1,f.v=Ao(Jr(L)),f.m=O,f.P=!0,ko(f,null)}function ko(f,L){f.F=Date.now(),js(f),f.A=Jr(f.v);var O=f.A,G=f.R;Array.isArray(G)||(G=[String(G)]),Po(O.i,"t",G),f.C=0,O=f.j.J,f.h=new El,f.g=tm(f.j,O?L:null,!f.m),0<f.O&&(f.M=new us(x(f.Y,f,f.g),f.O)),L=f.U,O=f.g,G=f.ca;var de="readystatechange";Array.isArray(de)||(de&&(Gs[0]=de.toString()),de=Gs);for(var ve=0;ve<de.length;ve++){var Oe=tt(O,de[ve],G||L.handleEvent,!1,L.h||L);if(!Oe)break;L.g[Oe.key]=Oe}L=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,L)):(f.u="GET",f.g.ea(f.A,f.u,null,L)),hn(),vr(f.i,f.u,f.A,f.l,f.R,f.m)}Pr.prototype.ca=function(f){f=f.target;const L=this.M;L&&Lr(f)==3?L.j():this.Y(f)},Pr.prototype.Y=function(f){try{if(f==this.g)e:{const pn=Lr(this.g);var L=this.g.Ba();const gi=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||pn!=4||L==7||(L==8||0>=gi?hn(3):hn(2)),sa(this);var O=this.g.Z();this.X=O;t:if(Pl(this)){var G=Nu(this.g);f="";var de=G.length,ve=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){yr(this),Pi(this);var Oe="";break t}this.h.i=new c.TextDecoder}for(L=0;L<de;L++)this.h.h=!0,f+=this.h.i.decode(G[L],{stream:!(ve&&L==de-1)});G.length=0,this.h.g+=f,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=O==200,xr(this.i,this.u,this.A,this.l,this.R,pn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Ss,_n=this.g;if((Ss=_n.g?_n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ss)){var ls=Ss;break t}}ls=null}if(O=ls)Cn(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bu(this,O);else{this.o=!1,this.s=3,fs(12),yr(this),Pi(this);break e}}if(this.P){O=!0;let ei;for(;!this.J&&this.C<Oe.length;)if(ei=Mc(this,Oe),ei==Ea){pn==4&&(this.s=4,fs(14),O=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(ei==No){this.s=4,fs(15),Cn(this.i,this.l,Oe,"[Invalid Chunk]"),O=!1;break}else Cn(this.i,this.l,ei,null),bu(this,ei);if(Pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Oe.length!=0||this.h.h||(this.s=1,fs(16),O=!1),this.o=this.o&&O,!O)Cn(this.i,this.l,Oe,"[Invalid Chunked Response]"),yr(this),Pi(this);else if(0<Oe.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Cu(Tn),Tn.M=!0,fs(11))}}else Cn(this.i,this.l,Oe,null),bu(this,Oe);pn==4&&yr(this),this.o&&!this.J&&(pn==4?qc(this.j,this):(this.o=!1,js(this)))}else Uc(this.g),O==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,fs(12)):(this.s=0,fs(13)),yr(this),Pi(this)}}}catch(pn){}finally{}};function Pl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Mc(f,L){var O=f.C,G=L.indexOf(`
`,O);return G==-1?Ea:(O=Number(L.substring(O,G)),isNaN(O)?No:(G+=1,G+O>L.length?Ea:(L=L.slice(G,G+O),f.C=G+O,L)))}Pr.prototype.cancel=function(){this.J=!0,yr(this)};function js(f){f.S=Date.now()+f.I,Rl(f,f.I)}function Rl(f,L){if(f.B!=null)throw Error("WatchDog timer not null");f.B=nn(x(f.ba,f),L)}function sa(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Pr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(os(this.i,this.A),this.L!=2&&(hn(),fs(17)),yr(this),this.s=2,Pi(this)):Rl(this,this.S-f)};function Pi(f){f.j.G==0||f.J||qc(f.j,f)}function yr(f){sa(f);var L=f.M;L&&typeof L.ma=="function"&&L.ma(),f.M=null,bt(f.U),f.g&&(L=f.g,f.g=null,L.abort(),L.ma())}function bu(f,L){try{var O=f.j;if(O.G!=0&&(O.g==f||br(O.h,f))){if(!f.K&&br(O.h,f)&&O.G==3){try{var G=O.Da.g.parse(L)}catch(ls){G=null}if(Array.isArray(G)&&G.length==3){var de=G;if(de[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<f.F)Wc(O),Fi(O);else break e;Gc(O),fs(18)}}else O.za=de[1],0<O.za-O.T&&37500>de[2]&&O.F&&O.v==0&&!O.C&&(O.C=nn(x(O.Za,O),6e3));if(1>=Vp(O.h)&&O.ca){try{O.ca()}catch(ls){}O.ca=void 0}}else Fa(O,11)}else if((f.K||O.g==f)&&Wc(O),!F(L))for(de=O.Da.g.parse(L),L=0;L<de.length;L++){let ls=de[L];if(O.T=ls[0],ls=ls[1],O.G==2)if(ls[0]=="c"){O.K=ls[1],O.ia=ls[2];const Tn=ls[3];Tn!=null&&(O.la=Tn,O.j.info("VER="+O.la));const pn=ls[4];pn!=null&&(O.Aa=pn,O.j.info("SVER="+O.Aa));const gi=ls[5];gi!=null&&typeof gi=="number"&&0<gi&&(G=1.5*gi,O.L=G,O.j.info("backChannelRequestTimeoutMs_="+G)),G=O;const ei=f.g;if(ei){const Ol=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var ve=G.h;ve.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(_u(ve,ve.h),ve.h=null))}if(G.D){const Qc=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Qc&&(G.ya=Qc,Ts(G.I,G.D,Qc))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-f.F,O.j.info("Handshake RTT: "+O.R+"ms")),G=O;var Oe=f;if(G.qa=em(G,G.J?G.ia:null,G.W),Oe.K){Up(G.h,Oe);var Ss=Oe,_n=G.L;_n&&(Ss.I=_n),Ss.B&&(sa(Ss),js(Ss)),G.g=Oe}else $l(G);0<O.i.length&&aa(O)}else ls[0]!="stop"&&ls[0]!="close"||Fa(O,7);else O.G==3&&(ls[0]=="stop"||ls[0]=="close"?ls[0]=="stop"?Fa(O,7):zn(O):ls[0]!="noop"&&O.l&&O.l.ta(ls),O.v=0)}}hn(4)}catch(ls){}}var Op=class{constructor(f,L){this.g=f,this.map=L}};function Ll(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Vp(f){return f.h?1:f.g?f.g.size:0}function br(f,L){return f.h?f.h==L:f.g?f.g.has(L):!1}function _u(f,L){f.g?f.g.add(L):f.h=L}function Up(f,L){f.h&&f.h==L?f.h=null:f.g&&f.g.has(L)&&f.g.delete(L)}Ll.prototype.cancel=function(){if(this.i=zp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function zp(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let L=f.i;for(const O of f.g.values())L=L.concat(O.D);return L}return S(f.i)}function Fc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var L=[],O=f.length,G=0;G<O;G++)L.push(f[G]);return L}L=[],O=0;for(G in f)L[O++]=f[G];return L}function Bc(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var L=[];f=f.length;for(var O=0;O<f;O++)L.push(O);return L}L=[],O=0;for(const G in f)L[O++]=G;return L}}}function Co(f,L){if(f.forEach&&typeof f.forEach=="function")f.forEach(L,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,L,void 0);else for(var O=Bc(f),G=Fc(f),de=G.length,ve=0;ve<de;ve++)L.call(void 0,G[ve],O&&O[ve],f)}var Dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mv(f,L){if(f){f=f.split("&");for(var O=0;O<f.length;O++){var G=f[O].indexOf("="),de=null;if(0<=G){var ve=f[O].substring(0,G);de=f[O].substring(G+1)}else ve=f[O];L(ve,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ra(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ra){this.h=f.h,Ml(this,f.j),this.o=f.o,this.g=f.g,To(this,f.s),this.l=f.l;var L=f.i,O=new na;O.i=L.i,L.g&&(O.g=new Map(L.g),O.h=L.h),Io(this,O),this.m=f.m}else f&&(L=String(f).match(Dl))?(this.h=!1,Ml(this,L[1]||"",!0),this.o=ns(L[2]||""),this.g=ns(L[3]||"",!0),To(this,L[4]),this.l=ns(L[5]||"",!0),Io(this,L[6]||"",!0),this.m=ns(L[7]||"")):(this.h=!1,this.i=new na(null,this.h))}Ra.prototype.toString=function(){var f=[],L=this.j;L&&f.push(Eo(L,$c,!0),":");var O=this.g;return(O||L=="file")&&(f.push("//"),(L=this.o)&&f.push(Eo(L,$c,!0),"@"),f.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&f.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&f.push("/"),f.push(Eo(O,O.charAt(0)=="/"?Wp:Gp,!0))),(O=this.i.toString())&&f.push("?",O),(O=this.m)&&f.push("#",Eo(O,wu)),f.join("")};function Jr(f){return new Ra(f)}function Ml(f,L,O){f.j=O?ns(L,!0):L,f.j&&(f.j=f.j.replace(/:$/,""))}function To(f,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);f.s=L}else f.s=null}function Io(f,L,O){L instanceof na?(f.i=L,ra(f.i,f.h)):(O||(L=Eo(L,qp)),f.i=new na(L,f.h))}function Ts(f,L,O){f.i.set(L,O)}function Ao(f){return Ts(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ns(f,L){return f?L?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Eo(f,L,O){return typeof f=="string"?(f=encodeURI(f).replace(L,Hp),O&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Hp(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var $c=/[#\/\?@]/g,Gp=/[#\?:]/g,Wp=/[#\?]/g,qp=/[#\?@]/g,wu=/#/g;function na(f,L){this.h=this.g=null,this.i=f||null,this.j=!!L}function Un(f){f.g||(f.g=new Map,f.h=0,f.i&&Mv(f.i,function(L,O){f.add(decodeURIComponent(L.replace(/\+/g," ")),O)}))}s=na.prototype,s.add=function(f,L){Un(this),this.i=null,f=mi(this,f);var O=this.g.get(f);return O||this.g.set(f,O=[]),O.push(L),this.h+=1,this};function Ri(f,L){Un(f),L=mi(f,L),f.g.has(L)&&(f.i=null,f.h-=f.g.get(L).length,f.g.delete(L))}function Li(f,L){return Un(f),L=mi(f,L),f.g.has(L)}s.forEach=function(f,L){Un(this),this.g.forEach(function(O,G){O.forEach(function(de){f.call(L,de,G,this)},this)},this)},s.na=function(){Un(this);const f=Array.from(this.g.values()),L=Array.from(this.g.keys()),O=[];for(let G=0;G<L.length;G++){const de=f[G];for(let ve=0;ve<de.length;ve++)O.push(L[G])}return O},s.V=function(f){Un(this);let L=[];if(typeof f=="string")Li(this,f)&&(L=L.concat(this.g.get(mi(this,f))));else{f=Array.from(this.g.values());for(let O=0;O<f.length;O++)L=L.concat(f[O])}return L},s.set=function(f,L){return Un(this),this.i=null,f=mi(this,f),Li(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[L]),this.h+=1,this},s.get=function(f,L){return f?(f=this.V(f),0<f.length?String(f[0]):L):L};function Po(f,L,O){Ri(f,L),0<O.length&&(f.i=null,f.g.set(mi(f,L),S(O)),f.h+=O.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],L=Array.from(this.g.keys());for(var O=0;O<L.length;O++){var G=L[O];const ve=encodeURIComponent(String(G)),Oe=this.V(G);for(G=0;G<Oe.length;G++){var de=ve;Oe[G]!==""&&(de+="="+encodeURIComponent(String(Oe[G]))),f.push(de)}}return this.i=f.join("&")};function mi(f,L){return L=String(L),f.j&&(L=L.toLowerCase()),L}function ra(f,L){L&&!f.j&&(Un(f),f.i=null,f.g.forEach(function(O,G){var de=G.toLowerCase();G!=de&&(Ri(this,G),Po(this,de,O))},f)),f.j=L}function Fv(f,L){const O=new fr;if(c.Image){const G=new Image;G.onload=b(Rr,O,"TestLoadImage: loaded",!0,L,G),G.onerror=b(Rr,O,"TestLoadImage: error",!1,L,G),G.onabort=b(Rr,O,"TestLoadImage: abort",!1,L,G),G.ontimeout=b(Rr,O,"TestLoadImage: timeout",!1,L,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=f}else L(!1)}function Kp(f,L){const O=new fr,G=new AbortController,de=setTimeout(()=>{G.abort(),Rr(O,"TestPingServer: timeout",!1,L)},1e4);fetch(f,{signal:G.signal}).then(ve=>{clearTimeout(de),ve.ok?Rr(O,"TestPingServer: ok",!0,L):Rr(O,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(de),Rr(O,"TestPingServer: error",!1,L)})}function Rr(f,L,O,G,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),G(O)}catch(ve){}}function Bv(){this.g=new Xt}function Qp(f,L,O){const G=O||"";try{Co(f,function(de,ve){let Oe=de;h(de)&&(Oe=we(de)),L.push(G+ve+"="+encodeURIComponent(Oe))})}catch(de){throw L.push(G+"type="+encodeURIComponent("_badmap")),de}}function La(f){this.l=f.Ub||null,this.j=f.eb||!1}_(La,Y),La.prototype.g=function(){return new Fl(this.l,this.j)},La.prototype.i=(function(f){return function(){return f}})({});function Fl(f,L){Ce.call(this),this.D=f,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Fl,Ce),s=Fl.prototype,s.open=function(f,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=L,this.readyState=1,Mi(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(L.body=f),(this.D||c).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xp(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xp(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var L=f.value?f.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!f.done}))&&(this.response=this.responseText+=L)}f.done?Di(this):Mi(this),this.readyState==3&&Xp(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,Di(this))},s.Qa=function(f){this.g&&(this.response=f,Di(this))},s.ga=function(){this.g&&Di(this)};function Di(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Mi(f)}s.setRequestHeader=function(f,L){this.u.append(f,L)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],L=this.h.entries();for(var O=L.next();!O.done;)O=O.value,f.push(O[0]+": "+O[1]),O=L.next();return f.join(`\r
`)};function Mi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Da(f){let L="";return P(f,function(O,G){L+=G,L+=":",L+=O,L+=`\r
`}),L}function Ro(f,L,O){e:{for(G in O){var G=!1;break e}G=!0}G||(O=Da(O),typeof f=="string"?O!=null&&encodeURIComponent(String(O)):Ts(f,L,O))}function Os(f){Ce.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Os,Ce);var $v=/^https?$/i,ju=["POST","PUT"];s=Os.prototype,s.Ha=function(f){this.J=f},s.ea=function(f,L,O,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);L=L?L.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qt.g(),this.v=this.o?Fe(this.o):Fe(qt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(L,String(f),!0),this.B=!1}catch(ve){Bl(this,ve);return}if(f=O||"",O=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var de in G)O.set(de,G[de]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ve of G.keys())O.set(ve,G.get(ve));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(O.keys()).find(ve=>ve.toLowerCase()=="content-type"),de=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ju,L,void 0))||G||de||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,Oe]of O)this.g.setRequestHeader(ve,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vc(this),this.u=!0,this.g.send(f),this.u=!1}catch(ve){Bl(this,ve)}};function Bl(f,L){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=L,f.m=5,Oc(f),Zr(f)}function Oc(f){f.A||(f.A=!0,ze(f,"complete"),ze(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ze(this,"complete"),ze(this,"abort"),Zr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),Os.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Su(this):this.bb())},s.bb=function(){Su(this)};function Su(f){if(f.h&&typeof l!="undefined"&&(!f.v[1]||Lr(f)!=4||f.Z()!=2)){if(f.u&&Lr(f)==4)Bt(f.Ea,0,f);else if(ze(f,"readystatechange"),Lr(f)==4){f.h=!1;try{const Oe=f.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var O;if(!(O=L)){var G;if(G=Oe===0){var de=String(f.D).match(Dl)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),G=!$v.test(de?de.toLowerCase():"")}O=G}if(O)ze(f,"complete"),ze(f,"success");else{f.m=6;try{var ve=2<Lr(f)?f.g.statusText:""}catch(Ss){ve=""}f.l=ve+" ["+f.Z()+"]",Oc(f)}}finally{Zr(f)}}}}function Zr(f,L){if(f.g){Vc(f);const O=f.g,G=f.v[0]?()=>{}:null;f.g=null,f.v=null,L||ze(f,"ready");try{O.onreadystatechange=G}catch(de){}}}function Vc(f){f.I&&(c.clearTimeout(f.I),f.I=null)}s.isActive=function(){return!!this.g};function Lr(f){return f.g?f.g.readyState:0}s.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch(f){return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},s.Oa=function(f){if(this.g){var L=this.g.responseText;return f&&L.indexOf(f)==0&&(L=L.substring(f.length)),sn(L)}};function Nu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(L){return null}}function Uc(f){const L={};f=(f.g&&2<=Lr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<f.length;G++){if(F(f[G]))continue;var O=R(f[G]);const de=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ve=L[de]||[];L[de]=ve,ve.push(O)}T(L,function(G){return G.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(f,L,O){return O&&O.internalChannelParams&&O.internalChannelParams[f]||L}function ku(f){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,f),this.cb=ia("retryDelaySeedMs",1e4,f),this.Wa=ia("forwardChannelMaxRetries",2,f),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ll(f&&f.concurrentRequestLimit),this.Da=new Bv,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ku.prototype,s.la=8,s.G=1,s.connect=function(f,L,O,G){fs(0),this.W=f,this.H=L||{},O&&G!==void 0&&(this.H.OSID=O,this.H.OAID=G),this.F=this.X,this.I=em(this,null,this.W),aa(this)};function zn(f){if(zc(f),f.G==3){var L=f.U++,O=Jr(f.I);if(Ts(O,"SID",f.K),Ts(O,"RID",L),Ts(O,"TYPE","terminate"),Ma(f,O),L=new Pr(f,f.j,L),L.L=2,L.v=Ao(Jr(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(L.v.toString(),"")}catch(G){}!O&&c.Image&&(new Image().src=L.v,O=!0),O||(L.g=tm(L.j,null),L.g.ea(L.v)),L.F=Date.now(),js(L)}Zp(f)}function Fi(f){f.g&&(Cu(f),f.g.cancel(),f.g=null)}function zc(f){Fi(f),f.u&&(c.clearTimeout(f.u),f.u=null),Wc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function aa(f){if(!Yr(f.h)&&!f.s){f.s=!0;var L=f.Ga;K||ne(),q||(K(),q=!0),se.add(L,f),f.B=0}}function Ov(f,L){return Vp(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=L.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=nn(x(f.Ga,f,L),Jp(f,f.B)),f.B++,!0)}s.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const de=new Pr(this,this.j,f);let ve=this.o;if(this.S&&(ve?(ve=N(ve),M(ve,this.S)):ve=this.S),this.m!==null||this.O||(de.H=ve,ve=null),this.P)e:{for(var L=0,O=0;O<this.i.length;O++){t:{var G=this.i[O];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(L+=G,4096<L){L=O;break e}if(L===4096||O===this.i.length-1){L=O+1;break e}}L=1e3}else L=1e3;L=Lo(this,de,L),O=Jr(this.I),Ts(O,"RID",f),Ts(O,"CVER",22),this.D&&Ts(O,"X-HTTP-Session-Id",this.D),Ma(this,O),ve&&(this.O?L="headers="+encodeURIComponent(String(Da(ve)))+"&"+L:this.m&&Ro(O,this.m,ve)),_u(this.h,de),this.Ua&&Ts(O,"TYPE","init"),this.P?(Ts(O,"$req",L),Ts(O,"SID","null"),de.T=!0,Pa(de,O,null)):Pa(de,O,L),this.G=2}}else this.G==3&&(f?Hc(this,f):this.i.length==0||Yr(this.h)||Hc(this))};function Hc(f,L){var O;L?O=L.l:O=f.U++;const G=Jr(f.I);Ts(G,"SID",f.K),Ts(G,"RID",O),Ts(G,"AID",f.T),Ma(f,G),f.m&&f.o&&Ro(G,f.m,f.o),O=new Pr(f,f.j,O,f.B+1),f.m===null&&(O.H=f.o),L&&(f.i=L.D.concat(f.i)),L=Lo(f,O,1e3),O.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),_u(f.h,O),Pa(O,G,L)}function Ma(f,L){f.H&&P(f.H,function(O,G){Ts(L,G,O)}),f.l&&Co({},function(O,G){Ts(L,G,O)})}function Lo(f,L,O){O=Math.min(f.i.length,O);var G=f.l?x(f.l.Na,f.l,f):null;e:{var de=f.i;let ve=-1;for(;;){const Oe=["count="+O];ve==-1?0<O?(ve=de[0].g,Oe.push("ofs="+ve)):ve=0:Oe.push("ofs="+ve);let Ss=!0;for(let _n=0;_n<O;_n++){let ls=de[_n].g;const Tn=de[_n].map;if(ls-=ve,0>ls)ve=Math.max(0,de[_n].g-100),Ss=!1;else try{Qp(Tn,Oe,"req"+ls+"_")}catch(pn){G&&G(Tn)}}if(Ss){G=Oe.join("&");break e}}}return f=f.i.splice(0,O),L.D=f,G}function $l(f){if(!f.g&&!f.u){f.Y=1;var L=f.Fa;K||ne(),q||(K(),q=!0),se.add(L,f),f.v=0}}function Gc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=nn(x(f.Fa,f),Jp(f,f.v)),f.v++,!0)}s.Fa=function(){if(this.u=null,Yp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=nn(x(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fs(10),Fi(this),Yp(this))};function Cu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Yp(f){f.g=new Pr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var L=Jr(f.qa);Ts(L,"RID","rpc"),Ts(L,"SID",f.K),Ts(L,"AID",f.T),Ts(L,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ts(L,"TO",f.ja),Ts(L,"TYPE","xmlhttp"),Ma(f,L),f.m&&f.o&&Ro(L,f.m,f.o),f.L&&(f.g.I=f.L);var O=f.g;f=f.ia,O.L=1,O.v=Ao(Jr(L)),O.m=null,O.P=!0,ko(O,f)}s.Za=function(){this.C!=null&&(this.C=null,Fi(this),Gc(this),fs(19))};function Wc(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function qc(f,L){var O=null;if(f.g==L){Wc(f),Cu(f),f.g=null;var G=2}else if(br(f.h,L))O=L.D,Up(f.h,L),G=1;else return;if(f.G!=0){if(L.o)if(G==1){O=L.m?L.m.length:0,L=Date.now()-L.F;var de=f.B;G=kn(),ze(G,new On(G,O)),aa(f)}else $l(f);else if(de=L.s,de==3||de==0&&0<L.X||!(G==1&&Ov(f,L)||G==2&&Gc(f)))switch(O&&0<O.length&&(L=f.h,L.i=L.i.concat(O)),de){case 1:Fa(f,5);break;case 4:Fa(f,10);break;case 3:Fa(f,6);break;default:Fa(f,2)}}}function Jp(f,L){let O=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(O*=2),O*L}function Fa(f,L){if(f.j.info("Error code "+L),L==2){var O=x(f.fb,f),G=f.Xa;const de=!G;G=new Ra(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ml(G,"https"),Ao(G),de?Fv(G.toString(),O):Kp(G.toString(),O)}else fs(2);f.G=0,f.l&&f.l.sa(L),Zp(f),zc(f)}s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),fs(2)):(this.j.info("Failed to ping google.com"),fs(1))};function Zp(f){if(f.G=0,f.ka=[],f.l){const L=zp(f.h);(L.length!=0||f.i.length!=0)&&(C(f.ka,L),C(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function em(f,L,O){var G=O instanceof Ra?Jr(O):new Ra(O);if(G.g!="")L&&(G.g=L+"."+G.g),To(G,G.s);else{var de=c.location;G=de.protocol,L=L?L+"."+de.hostname:de.hostname,de=+de.port;var ve=new Ra(null);G&&Ml(ve,G),L&&(ve.g=L),de&&To(ve,de),O&&(ve.l=O),G=ve}return O=f.D,L=f.ya,O&&L&&Ts(G,O,L),Ts(G,"VER",f.la),Ma(f,G),G}function tm(f,L,O){if(L&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=f.Ca&&!f.pa?new Os(new La({eb:O})):new Os(f.pa),L.Ha(f.J),L}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Kc(){}Kc.prototype.g=function(f,L){return new _r(f,L)};function _r(f,L){Ce.call(this),this.g=new ku(L),this.l=f,this.h=L&&L.messageUrlParams||null,f=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(f?f["X-WebChannel-Content-Type"]=L.messageContentType:f={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(f?f["X-WebChannel-Client-Profile"]=L.va:f={"X-WebChannel-Client-Profile":L.va}),this.g.S=f,(f=L&&L.Sb)&&!F(f)&&(this.g.m=f),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!F(L)&&(this.g.D=L,f=this.h,f!==null&&L in f&&(f=this.h,L in f&&delete f[L])),this.j=new oa(this)}_(_r,Ce),_r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){zn(this.g)},_r.prototype.o=function(f){var L=this.g;if(typeof f=="string"){var O={};O.__data__=f,f=O}else this.u&&(O={},O.__data__=we(f),f=O);L.i.push(new Op(L.Ya++,f)),L.G==3&&aa(L)},_r.prototype.N=function(){this.g.l=null,delete this.j,zn(this.g),delete this.g,_r.aa.N.call(this)};function sm(f){ot.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var L=f.__sm__;if(L){e:{for(const O in L){f=O;break e}f=void 0}(this.i=f)&&(f=this.i,L=L!==null&&f in L?L[f]:void 0),this.data=L}else this.data=f}_(sm,ot);function nm(){_t.call(this),this.status=1}_(nm,_t);function oa(f){this.g=f}_(oa,Tu),oa.prototype.ua=function(){ze(this.g,"a")},oa.prototype.ta=function(f){ze(this.g,new sm(f))},oa.prototype.sa=function(f){ze(this.g,new nm)},oa.prototype.ra=function(){ze(this.g,"b")},Kc.prototype.createWebChannel=Kc.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,q3=function(){return new Kc},W3=function(){return kn()},G3=as,t1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Og=Vn,Xr.COMPLETE="complete",H3=Xr,He.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,mh=He,Os.prototype.listenOnce=Os.prototype.L,Os.prototype.getLastError=Os.prototype.Ka,Os.prototype.getLastErrorCode=Os.prototype.Ba,Os.prototype.getStatus=Os.prototype.Z,Os.prototype.getResponseJson=Os.prototype.Oa,Os.prototype.getResponseText=Os.prototype.oa,Os.prototype.send=Os.prototype.ea,Os.prototype.setWithCredentials=Os.prototype.Ha,z3=Os}).apply(typeof eg!="undefined"?eg:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const uS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new ab("@firebase/firestore");function th(){return Sc.logLevel}function it(s,...e){if(Sc.logLevel<=is.DEBUG){const n=e.map(xb);Sc.debug(`Firestore (${uu}): ${s}`,...n)}}function mo(s,...e){if(Sc.logLevel<=is.ERROR){const n=e.map(xb);Sc.error(`Firestore (${uu}): ${s}`,...n)}}function Wd(s,...e){if(Sc.logLevel<=is.WARN){const n=e.map(xb);Sc.warn(`Firestore (${uu}): ${s}`,...n)}}function xb(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch(e){return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(s="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+s;throw mo(e),new Error(e)}function Ns(s,e){s||Et()}function Ft(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ur.UNAUTHENTICATED)))}shutdown(){}}class IF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AF{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ns(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ao,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ao)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ns(typeof r.accessToken=="string"),new K3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ns(e===null||typeof e=="string"),new ur(e)}}class EF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(ur.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class RF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ns(this.o===void 0);const r=a=>{a.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,it("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ns(typeof n.token=="string"),this.R=n.token,new RF(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(s){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function xs(s,e){return s<e?-1:s>e?1:0}function qd(s,e,n){return s.length===e.length&&s.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bs.fromMillis(Date.now())}static fromDate(e){return Bs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bs(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xs(this.nanoseconds,e.nanoseconds):xs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Bs(0,0))}static max(){return new Mt(new Bs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Et(),r===void 0?r=e.length-n:r>e.length-n&&Et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xh?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class As extends Xh{construct(e,n,r){return new As(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new As(n)}static emptyPath(){return new As([])}}const MF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Xh{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return MF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ge(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ge(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ge(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Ge(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(As.fromString(e))}static fromName(e){return new ht(As.fromString(e).popFirst(5))}static empty(){return new ht(As.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&As.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return As.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new As(e.slice()))}}function FF(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(r===1e9?new Bs(n+1,0):new Bs(n,r));return new wl(i,ht.empty(),e)}function BF(s){return new wl(s.readTime,s.key,-1)}class wl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wl(Mt.min(),ht.empty(),-1)}static max(){return new wl(Mt.max(),ht.empty(),-1)}}function $F(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(s.documentKey,e.documentKey),n!==0?n:xs(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(s){if(s.code!==ye.FAILED_PRECONDITION||s.message!==OF)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.reject(n)}static resolve(e){return new Ee(((n,r)=>{n(e)}))}static reject(e){return new Ee(((n,r)=>{r(e)}))}static waitFor(e){return new Ee(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(u=>r(u)))})),l=!0,a===i&&n()}))}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next((i=>i?Ee.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Ee(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let u=0;u<a;u++){const h=u;n(e[h]).next((p=>{l[h]=p,++c,c===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Ee(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function UF(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bp(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yb.oe=-1;function rv(s){return s==null}function ff(s){return s===0&&1/s==-1/0}function zF(s){return typeof s=="number"&&Number.isInteger(s)&&!ff(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ec(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function X3(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new Xs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Xs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tg(this.root,e,this.comparator,!0)}}class tg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:Qn.RED,this.left=i!=null?i:Qn.EMPTY,this.right=a!=null?a:Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Qn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.comparator=e,this.data=new Xs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pS(this.data.getIterator())}getIteratorFrom(e){return new pS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new er(this.comparator);return n.data=e,n}}class pS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new ci([])}unionWith(e){let n=new er(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new Y3("Invalid base64 string: "+a):a}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const HF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jl(s){if(Ns(!!s),typeof s=="string"){let e=0;const n=HF.exec(s);if(Ns(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(s.seconds),nanos:ln(s.nanos)}}function ln(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Nc(s){return typeof s=="string"?sr.fromBase64String(s):sr.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bb(s){const e=s.mapValue.fields.__previous_value__;return iv(e)?bb(e):e}function Yh(s){const e=jl(s.mapValue.fields.__local_write_time__.timestampValue);return new Bs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}}class Jh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg={mapValue:{}};function kc(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?iv(s)?4:qF(s)?9007199254740991:WF(s)?10:11:Et()}function Ca(s,e){if(s===e)return!0;const n=kc(s);if(n!==kc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yh(s).isEqual(Yh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=jl(i.timestampValue),c=jl(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(i,a){return Nc(i.bytesValue).isEqual(Nc(a.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(i,a){return ln(i.geoPointValue.latitude)===ln(a.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(a.geoPointValue.longitude)})(s,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return ln(i.integerValue)===ln(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=ln(i.doubleValue),c=ln(a.doubleValue);return l===c?ff(l)===ff(c):isNaN(l)&&isNaN(c)}return!1})(s,e);case 9:return qd(s.arrayValue.values||[],e.arrayValue.values||[],Ca);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(hS(l)!==hS(c))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(c[u]===void 0||!Ca(l[u],c[u])))return!1;return!0})(s,e);default:return Et()}}function Zh(s,e){return(s.values||[]).find((n=>Ca(n,e)))!==void 0}function Kd(s,e){if(s===e)return 0;const n=kc(s),r=kc(e);if(n!==r)return xs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xs(s.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=ln(a.integerValue||a.doubleValue),u=ln(l.integerValue||l.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(s,e);case 3:return mS(s.timestampValue,e.timestampValue);case 4:return mS(Yh(s),Yh(e));case 5:return xs(s.stringValue,e.stringValue);case 6:return(function(a,l){const c=Nc(a),u=Nc(l);return c.compareTo(u)})(s.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),u=l.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=xs(c[h],u[h]);if(p!==0)return p}return xs(c.length,u.length)})(s.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=xs(ln(a.latitude),ln(l.latitude));return c!==0?c:xs(ln(a.longitude),ln(l.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return gS(s.arrayValue,e.arrayValue);case 10:return(function(a,l){var c,u,h,p;const g=a.fields||{},x=l.fields||{},b=(c=g.value)===null||c===void 0?void 0:c.arrayValue,_=(u=x.value)===null||u===void 0?void 0:u.arrayValue,S=xs(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((p=_==null?void 0:_.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:gS(b,_)})(s.mapValue,e.mapValue);case 11:return(function(a,l){if(a===sg.mapValue&&l===sg.mapValue)return 0;if(a===sg.mapValue)return 1;if(l===sg.mapValue)return-1;const c=a.fields||{},u=Object.keys(c),h=l.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const x=xs(u[g],p[g]);if(x!==0)return x;const b=Kd(c[u[g]],h[p[g]]);if(b!==0)return b}return xs(u.length,p.length)})(s.mapValue,e.mapValue);default:throw Et()}}function mS(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return xs(s,e);const n=jl(s),r=jl(e),i=xs(n.seconds,r.seconds);return i!==0?i:xs(n.nanos,r.nanos)}function gS(s,e){const n=s.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Kd(n[i],r[i]);if(a)return a}return xs(n.length,r.length)}function Qd(s){return s1(s)}function s1(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=jl(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Nc(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ht.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=s1(a);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${s1(n.fields[l])}`;return i+"}"})(s.mapValue):Et()}function vf(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function n1(s){return!!s&&"integerValue"in s}function _b(s){return!!s&&"arrayValue"in s}function fS(s){return!!s&&"nullValue"in s}function vS(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vg(s){return!!s&&"mapValue"in s}function WF(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Th(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ec(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Th(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Th(s.arrayValue.values[n]);return e}return Object.assign({},s)}function qF(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Th(n)}setAll(e){let n=Jn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Th(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Vg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ec(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new qr(Th(this.value))}}function J3(s){const e=[];return Ec(s.fields,((n,r)=>{const i=new Jn([n]);if(Vg(r)){const a=J3(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new pr(e,0,Mt.min(),Mt.min(),Mt.min(),qr.empty(),0)}static newFoundDocument(e,n,r,i){return new pr(e,1,n,Mt.min(),r,i,0)}static newNoDocument(e,n){return new pr(e,2,n,Mt.min(),Mt.min(),qr.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,Mt.min(),Mt.min(),qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function xS(s,e,n){let r=0;for(let i=0;i<s.position.length;i++){const a=e[i],l=s.position[i];if(a.field.isKeyField()?r=ht.comparator(ht.fromName(l.referenceValue),n.key):r=Kd(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function yS(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ca(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n="asc"){this.field=e,this.dir=n}}function KF(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{}class bn extends Z3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XF(e,n,r):n==="array-contains"?new ZF(e,r):n==="in"?new eB(e,r):n==="not-in"?new tB(e,r):n==="array-contains-any"?new sB(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YF(e,r):new JF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kd(n,this.value)):n!==null&&kc(this.value)===kc(n)&&this.matchesComparison(Kd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends Z3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ji(e,n)}matches(e){return eT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eT(s){return s.op==="and"}function tT(s){return QF(s)&&eT(s)}function QF(s){for(const e of s.filters)if(e instanceof Ji)return!1;return!0}function r1(s){if(s instanceof bn)return s.field.canonicalString()+s.op.toString()+Qd(s.value);if(tT(s))return s.filters.map((e=>r1(e))).join(",");{const e=s.filters.map((n=>r1(n))).join(",");return`${s.op}(${e})`}}function sT(s,e){return s instanceof bn?(function(r,i){return i instanceof bn&&r.op===i.op&&r.field.isEqual(i.field)&&Ca(r.value,i.value)})(s,e):s instanceof Ji?(function(r,i){return i instanceof Ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&sT(l,i.filters[c])),!0):!1})(s,e):void Et()}function nT(s){return s instanceof bn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qd(n.value)}`})(s):s instanceof Ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(nT).join(" ,")+"}"})(s):"Filter"}class XF extends bn{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class YF extends bn{constructor(e,n){super(e,"in",n),this.keys=rT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JF extends bn{constructor(e,n){super(e,"not-in",n),this.keys=rT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rT(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>ht.fromName(r.referenceValue)))}class ZF extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _b(n)&&Zh(n.arrayValue,this.value)}}class eB extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zh(this.value.arrayValue,n)}}class tB extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zh(this.value.arrayValue,n)}}class sB extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_b(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function bS(s,e=null,n=[],r=[],i=null,a=null,l=null){return new nB(s,e,n,r,i,a,l)}function wb(s){const e=Ft(s);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>r1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qd(r))).join(",")),e.ue=n}return e.ue}function jb(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!KF(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!sT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!yS(s.startAt,e.startAt)&&yS(s.endAt,e.endAt)}function i1(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rB(s,e,n,r,i,a,l,c){return new jo(s,e,n,r,i,a,l,c)}function Sb(s){return new jo(s)}function _S(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Nb(s){return s.collectionGroup!==null}function Od(s){const e=Ft(s);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new er(Jn.comparator);return l.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ep(a,r))})),n.has(Jn.keyField().canonicalString())||e.ce.push(new ep(Jn.keyField(),r))}return e.ce}function ba(s){const e=Ft(s);return e.le||(e.le=iB(e,Od(s))),e.le}function iB(s,e){if(s.limitType==="F")return bS(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new ep(i.field,a)}));const n=s.endAt?new Xd(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Xd(s.startAt.position,s.startAt.inclusive):null;return bS(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function a1(s,e){const n=s.filters.concat([e]);return new jo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function xf(s,e,n){return new jo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function av(s,e){return jb(ba(s),ba(e))&&s.limitType===e.limitType}function iT(s){return`${wb(ba(s))}|lt:${s.limitType}`}function Sd(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>nT(i))).join(", ")}]`),rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Qd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Qd(i))).join(",")),`Target(${r})`})(ba(s))}; limitType=${s.limitType})`}function ov(s,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ht.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(s,e)&&(function(r,i){for(const a of Od(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(s,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(s,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,u){const h=xS(l,c,u);return l.inclusive?h<=0:h<0})(r.startAt,Od(r),i)||r.endAt&&!(function(l,c,u){const h=xS(l,c,u);return l.inclusive?h>=0:h>0})(r.endAt,Od(r),i))})(s,e)}function aB(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function aT(s){return(e,n)=>{let r=!1;for(const i of Od(s)){const a=oB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function oB(s,e,n){const r=s.field.isKeyField()?ht.comparator(e.key,n.key):(function(a,l,c){const u=l.data.field(a),h=c.data.field(a);return u!==null&&h!==null?Kd(u,h):Et()})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ec(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return X3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new Xs(ht.comparator);function go(){return lB}const oT=new Xs(ht.comparator);function gh(...s){let e=oT;for(const n of s)e=e.insert(n.key,n);return e}function lT(s){let e=oT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function mc(){return Ih()}function cT(){return Ih()}function Ih(){return new hu((s=>s.toString()),((s,e)=>s.isEqual(e)))}const cB=new Xs(ht.comparator),dB=new er(ht.comparator);function ss(...s){let e=dB;for(const n of s)e=e.add(n);return e}const uB=new er(xs);function hB(){return uB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function dT(s){return{integerValue:""+s}}function pB(s,e){return zF(e)?dT(e):kb(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this._=void 0}}function mB(s,e,n){return s instanceof tp?(function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&iv(a)&&(a=bb(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(n,e):s instanceof sp?hT(s,e):s instanceof np?pT(s,e):(function(i,a){const l=uT(i,a),c=wS(l)+wS(i.Pe);return n1(l)&&n1(i.Pe)?dT(c):kb(i.serializer,c)})(s,e)}function gB(s,e,n){return s instanceof sp?hT(s,e):s instanceof np?pT(s,e):n}function uT(s,e){return s instanceof yf?(function(r){return n1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class tp extends lv{}class sp extends lv{constructor(e){super(),this.elements=e}}function hT(s,e){const n=mT(e);for(const r of s.elements)n.some((i=>Ca(i,r)))||n.push(r);return{arrayValue:{values:n}}}class np extends lv{constructor(e){super(),this.elements=e}}function pT(s,e){let n=mT(e);for(const r of s.elements)n=n.filter((i=>!Ca(i,r)));return{arrayValue:{values:n}}}class yf extends lv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function wS(s){return ln(s.integerValue||s.doubleValue)}function mT(s){return _b(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n){this.field=e,this.transform=n}}function vB(s,e){return s.field.isEqual(e.field)&&(function(r,i){return r instanceof sp&&i instanceof sp||r instanceof np&&i instanceof np?qd(r.elements,i.elements,Ca):r instanceof yf&&i instanceof yf?Ca(r.Pe,i.Pe):r instanceof tp&&i instanceof tp})(s.transform,e.transform)}class xB{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ug(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class cv{}function gT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Cb(s.key,Ii.none()):new _p(s.key,s.data,Ii.none());{const n=s.data,r=qr.empty();let i=new er(Jn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Tl(s.key,r,new ci(i.toArray()),Ii.none())}}function yB(s,e,n){s instanceof _p?(function(i,a,l){const c=i.value.clone(),u=SS(i.fieldTransforms,a,l.transformResults);c.setAll(u),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(s,e,n):s instanceof Tl?(function(i,a,l){if(!Ug(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=SS(i.fieldTransforms,a,l.transformResults),u=a.data;u.setAll(fT(i)),u.setAll(c),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(s,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ah(s,e,n,r){return s instanceof _p?(function(a,l,c,u){if(!Ug(a.precondition,l))return c;const h=a.value.clone(),p=NS(a.fieldTransforms,u,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(s,e,n,r):s instanceof Tl?(function(a,l,c,u){if(!Ug(a.precondition,l))return c;const h=NS(a.fieldTransforms,u,l),p=l.data;return p.setAll(fT(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(s,e,n,r):(function(a,l,c){return Ug(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(s,e,n)}function bB(s,e){let n=null;for(const r of s.fieldTransforms){const i=e.data.field(r.field),a=uT(r.transform,i||null);a!=null&&(n===null&&(n=qr.empty()),n.set(r.field,a))}return n||null}function jS(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qd(r,i,((a,l)=>vB(a,l)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class _p extends cv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tl extends cv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fT(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function SS(s,e,n){const r=new Map;Ns(s.length===n.length);for(let i=0;i<n.length;i++){const a=s[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,gB(l,c,n[i]))}return r}function NS(s,e,n){const r=new Map;for(const i of s){const a=i.transform,l=n.data.field(i.field);r.set(i.field,mB(a,l,e))}return r}class Cb extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _B extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ah(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ah(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const u=gT(l,c);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(Mt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ss())}isEqual(e){return this.batchId===e.batchId&&qd(this.mutations,e.mutations,((n,r)=>jS(n,r)))&&qd(this.baseMutations,e.baseMutations,((n,r)=>jS(n,r)))}}class Tb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ns(e.mutations.length===r.length);let i=(function(){return cB})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Tb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,cs;function NB(s){switch(s){default:return Et();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function vT(s){if(s===void 0)return mo("GRPC error has no .code"),ye.UNKNOWN;switch(s){case fn.OK:return ye.OK;case fn.CANCELLED:return ye.CANCELLED;case fn.UNKNOWN:return ye.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ye.INTERNAL;case fn.UNAVAILABLE:return ye.UNAVAILABLE;case fn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case fn.NOT_FOUND:return ye.NOT_FOUND;case fn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case fn.ABORTED:return ye.ABORTED;case fn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case fn.DATA_LOSS:return ye.DATA_LOSS;default:return Et()}}(cs=fn||(fn={}))[cs.OK=0]="OK",cs[cs.CANCELLED=1]="CANCELLED",cs[cs.UNKNOWN=2]="UNKNOWN",cs[cs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cs[cs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cs[cs.NOT_FOUND=5]="NOT_FOUND",cs[cs.ALREADY_EXISTS=6]="ALREADY_EXISTS",cs[cs.PERMISSION_DENIED=7]="PERMISSION_DENIED",cs[cs.UNAUTHENTICATED=16]="UNAUTHENTICATED",cs[cs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cs[cs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cs[cs.ABORTED=10]="ABORTED",cs[cs.OUT_OF_RANGE=11]="OUT_OF_RANGE",cs[cs.UNIMPLEMENTED=12]="UNIMPLEMENTED",cs[cs.INTERNAL=13]="INTERNAL",cs[cs.UNAVAILABLE=14]="UNAVAILABLE",cs[cs.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new vc([4294967295,4294967295],0);function kS(s){const e=kB().encode(s),n=new U3;return n.update(e),new Uint8Array(n.digest())}function CS(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vc([n,r],0),new vc([i,a],0)]}class Ib{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fh(`Invalid padding: ${n}`);if(r<0)throw new fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(vc.fromNumber(r)));return i.compare(CB)===1&&(i=new vc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kS(e),[r,i]=CS(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Ib(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.Ie===0)return;const n=kS(e),[r,i]=CS(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dv(Mt.min(),i,new Xs(xs),go(),ss())}}class wp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wp(r,n,ss(),ss(),ss())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class xT{constructor(e,n){this.targetId=e,this.me=n}}class yT{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TS{constructor(){this.fe=0,this.ge=AS(),this.pe=sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ss(),n=ss(),r=ss();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Et()}})),new wp(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=AS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ns(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TB{constructor(e){this.Le=e,this.Be=new Map,this.ke=go(),this.qe=IS(),this.Qe=new Xs(xs)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Et()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(i1(a))if(r===0){const l=new ht(a.path);this.Ue(n,l,pr.newNoDocument(l,Mt.min()))}else Ns(r===1);else{const l=this.Ye(n);if(l!==r){const c=this.Ze(e),u=c?this.Xe(c,e,l):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Nc(r).toUint8Array()}catch(u){if(u instanceof Y3)return Wd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Ib(l,i,a)}catch(u){return Wd(u instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,a,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((a,l)=>{const c=this.Je(l);if(c){if(a.current&&i1(c.target)){const u=new ht(c.target.path);this.ke.get(u)!==null||this.it(l,u)||this.Ue(l,u,pr.newNoDocument(u,e))}a.be&&(n.set(l,a.ve()),a.Ce())}}));let r=ss();this.qe.forEach(((a,l)=>{let c=!0;l.forEachWhile((u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const i=new dv(e,n,this.Qe,this.ke,r);return this.ke=go(),this.qe=IS(),this.Qe=new Xs(xs),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new TS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new er(xs),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||it("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new TS),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function IS(){return new Xs(ht.comparator)}function AS(){return new Xs(ht.comparator)}const IB={asc:"ASCENDING",desc:"DESCENDING"},AB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EB={and:"AND",or:"OR"};class PB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function o1(s,e){return s.useProto3Json||rv(e)?e:{value:e}}function bf(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function RB(s,e){return bf(s,e.toTimestamp())}function _a(s){return Ns(!!s),Mt.fromTimestamp((function(n){const r=jl(n);return new Bs(r.seconds,r.nanos)})(s))}function Ab(s,e){return l1(s,e).canonicalString()}function l1(s,e){const n=(function(i){return new As(["projects",i.projectId,"databases",i.database])})(s).child("documents");return e===void 0?n:n.child(e)}function _T(s){const e=As.fromString(s);return Ns(kT(e)),e}function c1(s,e){return Ab(s.databaseId,e.path)}function _y(s,e){const n=_T(e);if(n.get(1)!==s.databaseId.projectId)throw new Ge(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ge(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ht(jT(n))}function wT(s,e){return Ab(s.databaseId,e)}function LB(s){const e=_T(s);return e.length===4?As.emptyPath():jT(e)}function d1(s){return new As(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function jT(s){return Ns(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function ES(s,e,n){return{name:c1(s,e),fields:n.value.mapValue.fields}}function DB(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Et()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(Ns(p===void 0||typeof p=="string"),sr.fromBase64String(p||"")):(Ns(p===void 0||p instanceof Buffer||p instanceof Uint8Array),sr.fromUint8Array(p||new Uint8Array))})(s,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?ye.UNKNOWN:vT(h.code);return new Ge(p,h.message||"")})(l);n=new yT(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_y(s,r.document.name),a=_a(r.document.updateTime),l=r.document.createTime?_a(r.document.createTime):Mt.min(),c=new qr({mapValue:{fields:r.document.fields}}),u=pr.newFoundDocument(i,a,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new zg(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_y(s,r.document),a=r.readTime?_a(r.readTime):Mt.min(),l=pr.newNoDocument(i,a),c=r.removedTargetIds||[];n=new zg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_y(s,r.document),a=r.removedTargetIds||[];n=new zg([],a,i,null)}else{if(!("filter"in e))return Et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new SB(i,a),c=r.targetId;n=new xT(c,l)}}return n}function MB(s,e){let n;if(e instanceof _p)n={update:ES(s,e.key,e.value)};else if(e instanceof Cb)n={delete:c1(s,e.key)};else if(e instanceof Tl)n={update:ES(s,e.key,e.data),updateMask:GB(e.fieldMask)};else{if(!(e instanceof _B))return Et();n={verify:c1(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof tp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof np)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Et()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:RB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Et()})(s,e.precondition)),n}function FB(s,e){return s&&s.length>0?(Ns(e!==void 0),s.map((n=>(function(i,a){let l=i.updateTime?_a(i.updateTime):_a(a);return l.isEqual(Mt.min())&&(l=_a(a)),new xB(l,i.transformResults||[])})(n,e)))):[]}function BB(s,e){return{documents:[wT(s,e.path)]}}function $B(s,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wT(s,i);const a=(function(h){if(h.length!==0)return NT(Ji.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:Nd(x.field),direction:UB(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=o1(s,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:n,parent:i}}function OB(s){let e=LB(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ns(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const x=ST(g);return x instanceof Ji&&tT(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(_){return new ep(kd(_.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let x;return x=typeof g=="object"?g.value:g,rv(x)?null:x})(n.limit));let u=null;n.startAt&&(u=(function(g){const x=!!g.before,b=g.values||[];return new Xd(b,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,b=g.values||[];return new Xd(b,x)})(n.endAt)),rB(e,i,l,a,c,"F",u,h)}function VB(s,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kd(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kd(n.unaryFilter.field);return bn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kd(n.unaryFilter.field);return bn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=kd(n.unaryFilter.field);return bn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Et()}})(s):s.fieldFilter!==void 0?(function(n){return bn.create(kd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ji.create(n.compositeFilter.filters.map((r=>ST(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Et()}})(n.compositeFilter.op))})(s):Et()}function UB(s){return IB[s]}function zB(s){return AB[s]}function HB(s){return EB[s]}function Nd(s){return{fieldPath:s.canonicalString()}}function kd(s){return Jn.fromServerFormat(s.fieldPath)}function NT(s){return s instanceof bn?(function(n){if(n.op==="=="){if(vS(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NAN"}};if(fS(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vS(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NOT_NAN"}};if(fS(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nd(n.field),op:zB(n.op),value:n.value}}})(s):s instanceof Ji?(function(n){const r=n.getFilters().map((i=>NT(i)));return r.length===1?r[0]:{compositeFilter:{op:HB(n.op),filters:r}}})(s):Et()}function GB(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r,i,a=Mt.min(),l=Mt.min(),c=sr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new ul(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.ct=e}}function qB(s){const e=OB({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.un=new QB}addToCollectionParentIndex(e,n){return this.un.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(wl.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(wl.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class QB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new er(As.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new er(As.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yd(0)}static kn(){return new Yd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.changes=new hu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Ah(r.mutation,i,ci.empty(),Bs.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ss()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ss()){const i=mc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=gh();return a.forEach(((c,u)=>{l=l.insert(c,u.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=mc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ss())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=go();const l=Ih(),c=(function(){return Ih()})();return n.forEach(((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Tl)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Ah(p.mutation,h,p.mutation.getFieldMask(),Bs.now())):l.set(h.key,ci.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>{var g;return c.set(h,new YB(p,(g=l.get(h))!==null&&g!==void 0?g:null))})),c)))}recalculateAndSaveOverlays(e,n){const r=Ih();let i=new Xs(((l,c)=>l-c)),a=ss();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||ci.empty();p=c.applyToLocalView(h,p),r.set(u,p);const g=(i.get(c.batchId)||ss()).add(u);i=i.insert(c.batchId,g)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,g=cT();p.forEach((x=>{if(!a.has(x)){const b=gT(n.get(x),r.get(x));b!==null&&g.set(x,b),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Ee.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ht.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Ee.resolve(mc());let c=-1,u=a;return l.next((h=>Ee.forEach(h,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(p)?Ee.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{u=u.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,ss()))).next((p=>({batchId:c,changes:lT(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next((r=>{let i=gh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=gh();return this.indexManager.getCollectionParents(e,a).next((c=>Ee.forEach(c,(u=>{const h=(function(g,x){return new jo(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((u,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,pr.newInvalidDocument(p)))}));let c=gh();return l.forEach(((u,h)=>{const p=a.get(u);p!==void 0&&Ah(p.mutation,h,ci.empty(),Bs.now()),ov(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:_a(i.createTime)}})(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:qB(i.bundledQuery),readTime:_a(i.readTime)}})(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.overlays=new Xs(ht.comparator),this.Ir=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mc();return Ee.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.ht(e,n,a)})),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const i=mc(),a=n.length+1,l=new ht(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Xs(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=mc(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=mc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return Ee.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new jB(n,r));let a=this.Ir.get(n);a===void 0&&(a=ss(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.Tr=new er(Dn.Er),this.dr=new er(Dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Dn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Dn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new ht(new As([])),r=new Dn(n,e),i=new Dn(n,e+1),a=[];return this.dr.forEachInRange([r,i],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ht(new As([])),r=new Dn(n,e),i=new Dn(n,e+1);let a=ss();return this.dr.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Dn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ht.comparator(e.key,n.key)||xs(e.wr,n.wr)}static Ar(e,n){return xs(e.wr,n.wr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new er(Dn.Er)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new wB(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.br=this.br.add(new Dn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ee.resolve(l)}lookupMutationBatch(e,n){return Ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dn(n,0),i=new Dn(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(l=>{const c=this.Dr(l.wr);a.push(c)})),Ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new er(xs);return n.forEach((i=>{const a=new Dn(i,0),l=new Dn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(c=>{r=r.add(c.wr)}))})),Ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ht.isDocumentKey(a)||(a=a.child(""));const l=new Dn(new ht(a),0);let c=new er(xs);return this.br.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.wr)),!0)}),l),Ee.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ns(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ee.forEach(n.mutations,(i=>{const a=new Dn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Dn(n,0),i=this.br.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.Mr=e,this.docs=(function(){return new Xs(ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let r=go();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pr.newInvalidDocument(i))})),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=go();const l=n.path,c=new ht(l.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||$F(BF(p),r)<=0||(i.has(p.key)||ov(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Et()}Or(e,n){return Ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new r$(this)}getSize(e){return Ee.resolve(this.size)}}class r$ extends XB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),Ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.persistence=e,this.Nr=new hu((n=>wb(n)),jb),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Eb,this.targetCount=0,this.kr=Yd.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Yd(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.Kn(n),Ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ee.waitFor(a).next((()=>i))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n){this.qr={},this.overlays={},this.Qr=new yb(0),this.Kr=!1,this.Kr=!0,this.$r=new t$,this.referenceDelegate=e(this),this.Ur=new i$(this),this.indexManager=new KB,this.remoteDocumentCache=(function(i){return new n$(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new WB(n),this.Gr=new ZB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new s$(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){it("MemoryPersistence","Starting transaction:",e);const i=new o$(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,n){return Ee.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class o$ extends VF{constructor(e){super(),this.currentSequenceNumber=e}}class Pb{constructor(e){this.persistence=e,this.Jr=new Eb,this.Yr=null}static Zr(e){return new Pb(e)}get Xr(){if(this.Yr)return this.Yr;throw Et()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Xr,(r=>{const i=ht.fromPath(r);return this.ei(e,i).next((a=>{a||n.removeEntry(i,Mt.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return Ee.or([()=>Ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ss(),i=ss();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Rb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return l8()?8:UF(mr())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new l$;return this.Xi(e,n,l).next((c=>{if(a.result=c,this.zi)return this.es(e,n,l,c.size)}))})).next((()=>a.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(th()<=is.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Sd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ee.resolve()):(th()<=is.DEBUG&&it("QueryEngine","Query:",Sd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(th()<=is.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Sd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ba(n))):Ee.resolve())}Yi(e,n){if(_S(n))return Ee.resolve(null);let r=ba(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=xf(n,null,"F"),r=ba(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=ss(...a);return this.Ji.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.ts(n,c);return this.ns(n,h,l,u.readTime)?this.Yi(e,xf(n,null,"F")):this.rs(e,h,n,u)}))))})))))}Zi(e,n,r,i){return _S(n)||i.isEqual(Mt.min())?Ee.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(n,a);return this.ns(n,l,r,i)?Ee.resolve(null):(th()<=is.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sd(n)),this.rs(e,l,n,FF(i,-1)).next((c=>c)))}))}ts(e,n){let r=new er(aT(e));return n.forEach(((i,a)=>{ov(e,a)&&(r=r.add(a))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return th()<=is.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Sd(n)),this.Ji.getDocumentsMatchingQuery(e,n,wl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Xs(xs),this._s=new hu((a=>wb(a)),jb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function u$(s,e,n,r){return new d$(s,e,n,r)}async function CT(s,e){const n=Ft(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let u=ss();for(const h of i){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of a){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((h=>({hs:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function h$(s,e){const n=Ft(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,p){const g=h.batch,x=g.keys();let b=Ee.resolve();return x.forEach((_=>{b=b.next((()=>p.getEntry(u,_))).next((S=>{const C=h.docVersions.get(_);Ns(C!==null),S.version.compareTo(C)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ss();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function TT(s){const e=Ft(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function p$(s,e){const n=Ft(s),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const c=[];e.targetChanges.forEach(((p,g)=>{const x=i.get(g);if(!x)return;c.push(n.Ur.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Ur.addMatchingKeys(a,p.addedDocuments,g))));let b=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(sr.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(S,C,E){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(x,b,p)&&c.push(n.Ur.updateTargetData(a,b))}));let u=go(),h=ss();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(m$(a,l,e.documentUpdates).next((p=>{u=p.Ps,h=p.Is}))),!r.isEqual(Mt.min())){const p=n.Ur.getLastRemoteSnapshotVersion(a).next((g=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return Ee.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(n.os=i,a)))}function m$(s,e,n){let r=ss(),i=ss();return n.forEach((a=>r=r.add(a))),e.getEntries(s,r).next((a=>{let l=go();return n.forEach(((c,u)=>{const h=a.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Mt.min())?(e.removeEntry(c,u.readTime),l=l.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),l=l.insert(c,u)):it("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{Ps:l,Is:i}}))}function g$(s,e){const n=Ft(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function f$(s,e){const n=Ft(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((a=>a?(i=a,Ee.resolve(i)):n.Ur.allocateTargetId(r).next((l=>(i=new ul(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function u1(s,e,n){const r=Ft(s),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!bp(l))throw l;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function PS(s,e,n){const r=Ft(s);let i=Mt.min(),a=ss();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(u,h,p){const g=Ft(u),x=g._s.get(p);return x!==void 0?Ee.resolve(g.os.get(x)):g.Ur.getTargetData(h,p)})(r,l,ba(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,c.targetId).next((u=>{a=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,n?i:Mt.min(),n?a:ss()))).next((c=>(v$(r,aB(e),c),{documents:c,Ts:a})))))}function v$(s,e,n){let r=s.us.get(e)||Mt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),s.us.set(e,r)}class RS{constructor(){this.activeTargetIds=hB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x${constructor(){this.so=new RS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new RS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng=null;function wy(){return ng===null?ng=(function(){return 268435456+Math.round(2147483648*Math.random())})():ng++,"0x"+ng.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class w$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,l){const c=wy(),u=this.xo(n,r.toUriEncodedString());it("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,l),this.No(n,u,h,i).then((p=>(it("RestConnection",`Received RPC '${n}' ${c}: `,p),p)),(p=>{throw Wd("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(n,r,i,a,l,c){return this.Mo(n,r,i,a,l)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uu})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>n[l]=a)),i&&i.headers.forEach(((a,l)=>n[l]=a))}xo(n,r){const i=b$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=wy();return new Promise(((l,c)=>{const u=new z3;u.setWithCredentials(!0),u.listenOnce(H3.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Og.NO_ERROR:const p=u.getResponseJson();it(cr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Og.TIMEOUT:it(cr,`RPC '${e}' ${a} timed out`),c(new Ge(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Og.HTTP_ERROR:const g=u.getStatus();if(it(cr,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const b=x==null?void 0:x.error;if(b&&b.status&&b.message){const _=(function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(E)>=0?E:ye.UNKNOWN})(b.status);c(new Ge(_,b.message))}else c(new Ge(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ge(ye.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{it(cr,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);it(cr,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",h,r,15)}))}Bo(e,n,r){const i=wy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=q3(),c=W3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=a.join("");it(cr,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=l.createWebChannel(p,u);let x=!1,b=!1;const _=new _$({Io:C=>{b?it(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(x||(it(cr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),x=!0),it(cr,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},To:()=>g.close()}),S=(C,E,F)=>{C.listen(E,(k=>{try{F(k)}catch(y){setTimeout((()=>{throw y}),0)}}))};return S(g,mh.EventType.OPEN,(()=>{b||(it(cr,`RPC '${e}' stream ${i} transport opened.`),_.yo())})),S(g,mh.EventType.CLOSE,(()=>{b||(b=!0,it(cr,`RPC '${e}' stream ${i} transport closed`),_.So())})),S(g,mh.EventType.ERROR,(C=>{b||(b=!0,Wd(cr,`RPC '${e}' stream ${i} transport errored:`,C),_.So(new Ge(ye.UNAVAILABLE,"The operation could not be completed")))})),S(g,mh.EventType.MESSAGE,(C=>{var E;if(!b){const F=C.data[0];Ns(!!F);const k=F,y=k.error||((E=k[0])===null||E===void 0?void 0:E.error);if(y){it(cr,`RPC '${e}' stream ${i} received error:`,y);const w=y.status;let P=(function(A){const M=fn[A];if(M!==void 0)return vT(M)})(w),T=y.message;P===void 0&&(P=ye.INTERNAL,T="Unknown error status: "+w+" with message "+y.message),b=!0,_.So(new Ge(P,T)),g.close()}else it(cr,`RPC '${e}' stream ${i} received:`,F),_.bo(F)}})),S(c,G3.STAT_EVENT,(C=>{C.stat===t1.PROXY?it(cr,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===t1.NOPROXY&&it(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.wo()}),0),_}}function jy(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(s){return new PB(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&it("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,i,a,l,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(mo(n.toString()),mo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Ge(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class j$ extends AT{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=DB(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Mt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?_a(l.readTime):Mt.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=d1(this.serializer),n.addTarget=(function(a,l){let c;const u=l.target;if(c=i1(u)?{documents:BB(a,u)}:{query:$B(a,u)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=bT(a,l.resumeToken);const h=o1(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Mt.min())>0){c.readTime=bf(a,l.snapshotVersion.toTimestamp());const h=o1(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=VB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=d1(this.serializer),n.removeTarget=e,this.a_(n)}}class S$ extends AT{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ns(!!e.streamToken),this.lastStreamToken=e.streamToken,Ns(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ns(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=FB(e.writeResults,e.commitTime),r=_a(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=d1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>MB(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ge(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,l1(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ge(ye.UNKNOWN,a.toString())}))}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Lo(e,l1(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(ye.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class k${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mo(n),this.D_=!1):it("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{Pc(this)&&(it("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const h=Ft(u);h.L_.add(4),await jp(h),h.q_.set("Unknown"),h.L_.delete(4),await hv(h)})(this))}))})),this.q_=new k$(r,i)}}async function hv(s){if(Pc(s))for(const e of s.B_)await e(!0)}async function jp(s){for(const e of s.B_)await e(!1)}function ET(s,e){const n=Ft(s);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Fb(n)?Mb(n):pu(n).r_()&&Db(n,e))}function Lb(s,e){const n=Ft(s),r=pu(n);n.N_.delete(e),r.r_()&&PT(n,e),n.N_.size===0&&(r.r_()?r.o_():Pc(n)&&n.q_.set("Unknown"))}function Db(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(s).A_(e)}function PT(s,e){s.Q_.xe(e),pu(s).R_(e)}function Mb(s){s.Q_=new TB({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),pu(s).start(),s.q_.v_()}function Fb(s){return Pc(s)&&!pu(s).n_()&&s.N_.size>0}function Pc(s){return Ft(s).L_.size===0}function RT(s){s.Q_=void 0}async function T$(s){s.q_.set("Online")}async function I$(s){s.N_.forEach(((e,n)=>{Db(s,e)}))}async function A$(s,e){RT(s),Fb(s)?(s.q_.M_(e),Mb(s)):s.q_.set("Unknown")}async function E$(s,e,n){if(s.q_.set("Online"),e instanceof yT&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.N_.delete(c),i.Q_.removeTarget(c))})(s,e)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(s,r)}else if(e instanceof zg?s.Q_.Ke(e):e instanceof xT?s.Q_.He(e):s.Q_.We(e),!n.isEqual(Mt.min()))try{const r=await TT(s.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Q_.rt(l);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=a.N_.get(h);p&&a.N_.set(h,p.withResumeToken(u.resumeToken,l))}})),c.targetMismatches.forEach(((u,h)=>{const p=a.N_.get(u);if(!p)return;a.N_.set(u,p.withResumeToken(sr.EMPTY_BYTE_STRING,p.snapshotVersion)),PT(a,u);const g=new ul(p.target,u,h,p.sequenceNumber);Db(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(s,n)}catch(r){it("RemoteStore","Failed to raise snapshot:",r),await _f(s,r)}}async function _f(s,e,n){if(!bp(e))throw e;s.L_.add(1),await jp(s),s.q_.set("Offline"),n||(n=()=>TT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it("RemoteStore","Retrying IndexedDB access"),await n(),s.L_.delete(1),await hv(s)}))}function LT(s,e){return e().catch((n=>_f(s,n,e)))}async function pv(s){const e=Ft(s),n=Sl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;P$(e);)try{const i=await g$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,R$(e,i)}catch(i){await _f(e,i)}DT(e)&&MT(e)}function P$(s){return Pc(s)&&s.O_.length<10}function R$(s,e){s.O_.push(e);const n=Sl(s);n.r_()&&n.V_&&n.m_(e.mutations)}function DT(s){return Pc(s)&&!Sl(s).n_()&&s.O_.length>0}function MT(s){Sl(s).start()}async function L$(s){Sl(s).p_()}async function D$(s){const e=Sl(s);for(const n of s.O_)e.m_(n.mutations)}async function M$(s,e,n){const r=s.O_.shift(),i=Tb.from(r,e,n);await LT(s,(()=>s.remoteSyncer.applySuccessfulWrite(i))),await pv(s)}async function F$(s,e){e&&Sl(s).V_&&await(async function(r,i){if((function(l){return NB(l)&&l!==ye.ABORTED})(i.code)){const a=r.O_.shift();Sl(r).s_(),await LT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await pv(r)}})(s,e),DT(s)&&MT(s)}async function DS(s,e){const n=Ft(s);n.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=Pc(n);n.L_.add(3),await jp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await hv(n)}async function B$(s,e){const n=Ft(s);e?(n.L_.delete(2),await hv(n)):e||(n.L_.add(2),await jp(n),n.q_.set("Unknown"))}function pu(s){return s.K_||(s.K_=(function(n,r,i){const a=Ft(n);return a.w_(),new j$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(s.datastore,s.asyncQueue,{Eo:T$.bind(null,s),Ro:I$.bind(null,s),mo:A$.bind(null,s),d_:E$.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),Fb(s)?Mb(s):s.q_.set("Unknown")):(await s.K_.stop(),RT(s))}))),s.K_}function Sl(s){return s.U_||(s.U_=(function(n,r,i){const a=Ft(n);return a.w_(),new S$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:L$.bind(null,s),mo:F$.bind(null,s),f_:D$.bind(null,s),g_:M$.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await pv(s)):(await s.U_.stop(),s.O_.length>0&&(it("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new Bb(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $b(s,e){if(mo("AsyncQueue",`${e}: ${s}`),bp(s))return new Ge(ye.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=gh(),this.sortedSet=new Xs(this.comparator)}static emptySet(e){return new Vd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.W_=new Xs(ht.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Et():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Jd{constructor(e,n,r,i,a,l,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Jd(e,n,Vd.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class O${constructor(){this.queries=FS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ft(n),a=i.queries;i.queries=FS(),a.forEach(((l,c)=>{for(const u of c.j_)u.onError(r)}))})(this,new Ge(ye.ABORTED,"Firestore shutting down"))}}function FS(){return new hu((s=>iT(s)),av)}async function FT(s,e){const n=Ft(s);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new $$,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=$b(l,`Initialization of query '${Sd(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Ob(n)}async function BT(s,e){const n=Ft(s),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function V$(s,e){const n=Ft(s);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.j_)c.X_(i)&&(r=!0);l.z_=i}}r&&Ob(n)}function U$(s,e,n){const r=Ft(s),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function Ob(s){s.Y_.forEach((e=>{e.next()}))}var h1,BS;(BS=h1||(h1={})).ea="default",BS.Cache="cache";class $T{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==h1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class VT{constructor(e){this.key=e}}class z${constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ss(),this.mutatedKeys=ss(),this.Aa=aT(e),this.Ra=new Vd(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new MS,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const x=i.get(p),b=ov(this.query,g)?g:null,_=!!x&&this.mutatedKeys.has(x.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;x&&b?x.data.isEqual(b.data)?_!==S&&(r.track({type:3,doc:b}),C=!0):this.ga(x,b)||(r.track({type:2,doc:b}),C=!0,(u&&this.Aa(b,u)>0||h&&this.Aa(b,h)<0)&&(c=!0)):!x&&b?(r.track({type:0,doc:b}),C=!0):x&&!b&&(r.track({type:1,doc:x}),C=!0,(u||h)&&(c=!0)),C&&(b?(l=l.add(b),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ra:l,fa:r,ns:c,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((p,g)=>(function(b,_){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return S(b)-S(_)})(p.type,g.type)||this.Aa(p.doc,g.doc))),this.pa(r),i=i!=null&&i;const c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,l.length!==0||h?{snapshot:new Jd(this.query,e.Ra,a,l,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new MS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ss(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new VT(r))})),this.da.forEach((r=>{e.has(r)||n.push(new OT(r))})),n}ba(e){this.Ta=e.Ts,this.da=ss();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Jd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class H${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class G${constructor(e){this.key=e,this.va=!1}}class W${constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new hu((c=>iT(c)),av),this.Ma=new Map,this.xa=new Set,this.Oa=new Xs(ht.comparator),this.Na=new Map,this.La=new Eb,this.Ba={},this.ka=new Map,this.qa=Yd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function q$(s,e,n=!0){const r=qT(s);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await UT(r,e,n,!0),i}async function K$(s,e){const n=qT(s);await UT(n,e,!0,!1)}async function UT(s,e,n,r){const i=await f$(s.localStore,ba(e)),a=i.targetId,l=s.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Q$(s,e,a,l==="current",i.resumeToken)),s.isPrimaryClient&&n&&ET(s.remoteStore,i),c}async function Q$(s,e,n,r,i){s.Ka=(g,x,b)=>(async function(S,C,E,F){let k=C.view.ma(E);k.ns&&(k=await PS(S.localStore,C.query,!1).then((({documents:T})=>C.view.ma(T,k))));const y=F&&F.targetChanges.get(C.targetId),w=F&&F.targetMismatches.get(C.targetId)!=null,P=C.view.applyChanges(k,S.isPrimaryClient,y,w);return OS(S,C.targetId,P.wa),P.snapshot})(s,g,x,b);const a=await PS(s.localStore,e,!0),l=new z$(e,a.Ts),c=l.ma(a.documents),u=wp.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",i),h=l.applyChanges(c,s.isPrimaryClient,u);OS(s,n,h.wa);const p=new H$(e,n,l);return s.Fa.set(e,p),s.Ma.has(n)?s.Ma.get(n).push(e):s.Ma.set(n,[e]),h.snapshot}async function X$(s,e,n){const r=Ft(s),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((l=>!av(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await u1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lb(r.remoteStore,i.targetId),p1(r,i.targetId)})).catch(yp)):(p1(r,i.targetId),await u1(r.localStore,i.targetId,!0))}async function Y$(s,e){const n=Ft(s),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lb(n.remoteStore,r.targetId))}async function J$(s,e,n){const r=iO(s);try{const i=await(function(l,c){const u=Ft(l),h=Bs.now(),p=c.reduce(((b,_)=>b.add(_.key)),ss());let g,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let _=go(),S=ss();return u.cs.getEntries(b,p).next((C=>{_=C,_.forEach(((E,F)=>{F.isValidDocument()||(S=S.add(E))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,_))).next((C=>{g=C;const E=[];for(const F of c){const k=bB(F,g.get(F.key).overlayedDocument);k!=null&&E.push(new Tl(F.key,k,J3(k.value.mapValue),Ii.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,E,c)})).next((C=>{x=C;const E=C.applyToLocalDocumentSet(g,S);return u.documentOverlayCache.saveOverlays(b,C.batchId,E)}))})).then((()=>({batchId:x.batchId,changes:lT(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,u){let h=l.Ba[l.currentUser.toKey()];h||(h=new Xs(xs)),h=h.insert(c,u),l.Ba[l.currentUser.toKey()]=h})(r,i.batchId,n),await Sp(r,i.changes),await pv(r.remoteStore)}catch(i){const a=$b(i,"Failed to persist write");n.reject(a)}}async function zT(s,e){const n=Ft(s);try{const r=await p$(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Na.get(a);l&&(Ns(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?Ns(l.va):i.removedDocuments.size>0&&(Ns(l.va),l.va=!1))})),await Sp(n,r,e)}catch(r){await yp(r)}}function $S(s,e,n){const r=Ft(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((a,l)=>{const c=l.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const u=Ft(l);u.onlineState=c;let h=!1;u.queries.forEach(((p,g)=>{for(const x of g.j_)x.Z_(c)&&(h=!0)})),h&&Ob(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z$(s,e,n){const r=Ft(s);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let l=new Xs(ht.comparator);l=l.insert(a,pr.newNoDocument(a,Mt.min()));const c=ss().add(a),u=new dv(Mt.min(),new Map,new Xs(xs),l,c);await zT(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),Vb(r)}else await u1(r.localStore,e,!1).then((()=>p1(r,e,n))).catch(yp)}async function eO(s,e){const n=Ft(s),r=e.batch.batchId;try{const i=await h$(n.localStore,e);GT(n,r,null),HT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sp(n,i)}catch(i){await yp(i)}}async function tO(s,e,n){const r=Ft(s);try{const i=await(function(l,c){const u=Ft(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(Ns(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);GT(r,e,n),HT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sp(r,i)}catch(i){await yp(i)}}function HT(s,e){(s.ka.get(e)||[]).forEach((n=>{n.resolve()})),s.ka.delete(e)}function GT(s,e,n){const r=Ft(s);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function p1(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Ma.get(e))s.Fa.delete(r),n&&s.Ca.$a(r,n);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((r=>{s.La.containsKey(r)||WT(s,r)}))}function WT(s,e){s.xa.delete(e.path.canonicalString());const n=s.Oa.get(e);n!==null&&(Lb(s.remoteStore,n),s.Oa=s.Oa.remove(e),s.Na.delete(n),Vb(s))}function OS(s,e,n){for(const r of n)r instanceof OT?(s.La.addReference(r.key,e),sO(s,r)):r instanceof VT?(it("SyncEngine","Document no longer in limbo: "+r.key),s.La.removeReference(r.key,e),s.La.containsKey(r.key)||WT(s,r.key)):Et()}function sO(s,e){const n=e.key,r=n.path.canonicalString();s.Oa.get(n)||s.xa.has(r)||(it("SyncEngine","New document in limbo: "+n),s.xa.add(r),Vb(s))}function Vb(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const n=new ht(As.fromString(e)),r=s.qa.next();s.Na.set(r,new G$(n)),s.Oa=s.Oa.insert(n,r),ET(s.remoteStore,new ul(ba(Sb(n.path)),r,"TargetPurposeLimboResolution",yb.oe))}}async function Sp(s,e,n){const r=Ft(s),i=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((c,u)=>{l.push(r.Ka(u,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Rb.Wi(u.targetId,h);a.push(g)}})))})),await Promise.all(l),r.Ca.d_(i),await(async function(u,h){const p=Ft(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ee.forEach(h,(x=>Ee.forEach(x.$i,(b=>p.persistence.referenceDelegate.addReference(g,x.targetId,b))).next((()=>Ee.forEach(x.Ui,(b=>p.persistence.referenceDelegate.removeReference(g,x.targetId,b)))))))))}catch(g){if(!bp(g))throw g;it("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const b=p.os.get(x),_=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(_);p.os=p.os.insert(x,S)}}})(r.localStore,a))}async function nO(s,e){const n=Ft(s);if(!n.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const r=await CT(n.localStore,e);n.currentUser=e,(function(a,l){a.ka.forEach((c=>{c.forEach((u=>{u.reject(new Ge(ye.CANCELLED,l))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sp(n,r.hs)}}function rO(s,e){const n=Ft(s),r=n.Na.get(e);if(r&&r.va)return ss().add(r.key);{let i=ss();const a=n.Ma.get(e);if(!a)return i;for(const l of a){const c=n.Fa.get(l);i=i.unionWith(c.view.Va)}return i}}function qT(s){const e=Ft(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z$.bind(null,e),e.Ca.d_=V$.bind(null,e.eventManager),e.Ca.$a=U$.bind(null,e.eventManager),e}function iO(s){const e=Ft(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return u$(this.persistence,new c$,e.initialUser,this.serializer)}Ga(e){return new a$(Pb.Zr,this.serializer)}Wa(e){return new x$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class m1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$S(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await B$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new O$})()}createDatastore(e){const n=uv(e.databaseInfo.databaseId),r=(function(a){return new w$(a)})(e.databaseInfo);return(function(a,l,c,u){return new N$(a,l,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new C$(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>$S(this.syncEngine,n,0)),(function(){return LS.D()?new LS:new y$})())}createSyncEngine(e,n){return(function(i,a,l,c,u,h,p){const g=new W$(i,a,l,c,u,h);return p&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ft(i);it("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await jp(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}m1.provider={build:()=>new m1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=Q3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{it("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(it("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$b(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sy(s,e){s.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async i=>{r.isEqual(i)||(await CT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function VS(s,e){s.asyncQueue.verifyOperationInProgress();const n=await oO(s);it("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>DS(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,i)=>DS(e.remoteStore,i))),s._onlineComponents=e}async function oO(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sy(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Wd("Error using user provided cache. Falling back to memory cache: "+n),await Sy(s,new wf)}}else it("FirestoreClient","Using default OfflineComponentProvider"),await Sy(s,new wf);return s._offlineComponents}async function QT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),await VS(s,s._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),await VS(s,new m1))),s._onlineComponents}function lO(s){return QT(s).then((e=>e.syncEngine))}async function XT(s){const e=await QT(s),n=e.eventManager;return n.onListen=q$.bind(null,e.syncEngine),n.onUnlisten=X$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y$.bind(null,e.syncEngine),n}function cO(s,e,n={}){const r=new ao;return s.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,u,h){const p=new KT({next:x=>{p.Za(),l.enqueueAndForget((()=>BT(a,g)));const b=x.docs.has(c);!b&&x.fromCache?h.reject(new Ge(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&u&&u.source==="server"?h.reject(new Ge(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new $T(Sb(c.path),p,{includeMetadataChanges:!0,_a:!0});return FT(a,g)})(await XT(s),s.asyncQueue,e,n,r))),r.promise}function dO(s,e,n={}){const r=new ao;return s.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,u,h){const p=new KT({next:x=>{p.Za(),l.enqueueAndForget((()=>BT(a,g))),x.fromCache&&u.source==="server"?h.reject(new Ge(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new $T(c,p,{includeMetadataChanges:!0,_a:!0});return FT(a,g)})(await XT(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s,e,n){if(!n)throw new Ge(ye.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function uO(s,e,n,r){if(e===!0&&r===!0)throw new Ge(ye.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function zS(s){if(!ht.isDocumentKey(s))throw new Ge(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function HS(s){if(ht.isDocumentKey(s))throw new Ge(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function mv(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Et()}function fo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ge(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mv(s);throw new Ge(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function hO(s,e){if(e<=0)throw new Ge(ye.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ge(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GS(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TF;switch(r.type){case"firstParty":return new PF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=US.get(n);r&&(it("ComponentProvider","Removing Datastore"),US.delete(n),r.terminate())})(this),Promise.resolve()}}function pO(s,e,n,r={}){var i;const a=(s=fo(s,Np))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&Wd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ur.MOCK_USER;else{c=t8(r.mockUserToken,(i=s._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ge(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ur(h)}s._authCredentials=new IF(new K3(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class Kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}}class _l extends ea{constructor(e,n,r){super(e,n,Sb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new ht(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function vo(s,e,...n){if(s=Nn(s),Ub("collection","path",e),s instanceof Np){const r=As.fromString(e,...n);return HS(r),new _l(s,null,r)}{if(!(s instanceof Kr||s instanceof _l))throw new Ge(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(As.fromString(e,...n));return HS(r),new _l(s.firestore,null,r)}}function kp(s,e){if(s=fo(s,Np),Ub("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ge(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ea(s,null,(function(r){return new jo(As.emptyPath(),r)})(e))}function Zt(s,e,...n){if(s=Nn(s),arguments.length===1&&(e=Q3.newId()),Ub("doc","path",e),s instanceof Np){const r=As.fromString(e,...n);return zS(r),new Kr(s,null,new ht(r))}{if(!(s instanceof Kr||s instanceof _l))throw new Ge(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(As.fromString(e,...n));return zS(r),new Kr(s.firestore,s instanceof _l?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IT(this,"async_queue_retry"),this.Vu=()=>{const r=jy();r&&it("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=jy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ao;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bp(e))throw e;it("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c})(r);throw mo("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Bb.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&Et()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Cp extends Np{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WS(e),this._firestoreClient=void 0,await e}}}function mO(s,e){const n=typeof s=="object"?s:cb(),r=typeof s=="string"?s:"(default)",i=lb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Z7("firestore");a&&pO(i,...a)}return i}function gv(s){if(s._terminated)throw new Ge(ye.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gO(s),s._firestoreClient}function gO(s){var e,n,r;const i=s._freezeSettings(),a=(function(c,u,h,p){return new GF(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YT(p.experimentalLongPollingOptions),p.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,i);s._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),s._firestoreClient=new aO(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zd(sr.fromBase64String(e))}catch(n){throw new Ge(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zd(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function fO(){return new Tp("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xs(this._lat,e._lat)||xs(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^__.*__$/;class xO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new _p(e,this.data,n,this.fieldTransforms)}}class JT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Gb{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ZT(this.Cu)&&vO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class yO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uv(e)}Qu(e,n,r,i=!1){return new Gb({Cu:e,methodName:n,qu:r,path:Jn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vv(s){const e=s._freezeSettings(),n=uv(s._databaseId);return new yO(s._databaseId,!!e.ignoreUndefinedProperties,n)}function eI(s,e,n,r,i,a={}){const l=s.Qu(a.merge||a.mergeFields?2:0,e,n,i);qb("Data must be an object, but it was:",l,r);const c=sI(r,l);let u,h;if(a.merge)u=new ci(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const x=g1(e,g,n);if(!l.contains(x))throw new Ge(ye.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);rI(p,x)||p.push(x)}u=new ci(p),h=l.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=l.fieldTransforms;return new xO(new qr(c),u,h)}class xv extends fv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xv}}class Wb extends fv{_toFieldTransform(e){return new fB(e.path,new tp)}isEqual(e){return e instanceof Wb}}function bO(s,e,n,r){const i=s.Qu(1,e,n);qb("Data must be an object, but it was:",i,r);const a=[],l=qr.empty();Ec(r,((u,h)=>{const p=Kb(e,u,n);h=Nn(h);const g=i.Nu(p);if(h instanceof xv)a.push(p);else{const x=Ip(h,g);x!=null&&(a.push(p),l.set(p,x))}}));const c=new ci(a);return new JT(l,c,i.fieldTransforms)}function _O(s,e,n,r,i,a){const l=s.Qu(1,e,n),c=[g1(e,r,n)],u=[i];if(a.length%2!=0)throw new Ge(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(g1(e,a[x])),u.push(a[x+1]);const h=[],p=qr.empty();for(let x=c.length-1;x>=0;--x)if(!rI(h,c[x])){const b=c[x];let _=u[x];_=Nn(_);const S=l.Nu(b);if(_ instanceof xv)h.push(b);else{const C=Ip(_,S);C!=null&&(h.push(b),p.set(b,C))}}const g=new ci(h);return new JT(p,g,l.fieldTransforms)}function tI(s,e,n,r=!1){return Ip(n,s.Qu(r?4:3,e))}function Ip(s,e){if(nI(s=Nn(s)))return qb("Unsupported field value:",e,s),sI(s,e);if(s instanceof fv)return(function(r,i){if(!ZT(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let u=Ip(c,i.Lu(l));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),l++}return{arrayValue:{values:a}}})(s,e)}return(function(r,i){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Bs.fromDate(r);return{timestampValue:bf(i.serializer,a)}}if(r instanceof Bs){const a=new Bs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,a)}}if(r instanceof zb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zd)return{bytesValue:bT(i.serializer,r._byteString)};if(r instanceof Kr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ab(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hb)return(function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return kb(c.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${mv(r)}`)})(s,e)}function sI(s,e){const n={};return X3(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ec(s,((r,i)=>{const a=Ip(i,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function nI(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Bs||s instanceof zb||s instanceof Zd||s instanceof Kr||s instanceof fv||s instanceof Hb)}function qb(s,e,n){if(!nI(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=mv(n);throw r==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+r)}}function g1(s,e,n){if((e=Nn(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return Kb(s,e);throw jf("Field path arguments must be of type string or ",s,!1,void 0,n)}const wO=new RegExp("[~\\*/\\[\\]]");function Kb(s,e,n){if(e.search(wO)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Tp(...e.split("."))._internalPath}catch(r){throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function jf(s,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(a||l)&&(u+=" (found",a&&(u+=` in field ${r}`),l&&(u+=` in document ${i}`),u+=")"),new Ge(ye.INVALID_ARGUMENT,c+s+u)}function rI(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jO extends Qb{data(){return super.data()}}function yv(s,e){return typeof e=="string"?Kb(s,e):e instanceof Tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ge(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xb{}class Ap extends Xb{}function Sn(s,e,...n){let r=[];e instanceof Xb&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((u=>u instanceof Yb)).length,c=a.filter((u=>u instanceof bv)).length;if(l>1||l>0&&c>0)throw new Ge(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)s=i._apply(s);return s}class bv extends Ap{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bv(e,n,r)}_apply(e){const n=this._parse(e);return aI(e._query,n),new ea(e.firestore,e.converter,a1(e._query,n))}_parse(e){const n=vv(e.firestore);return(function(a,l,c,u,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ge(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){KS(g,p);const b=[];for(const _ of g)b.push(qS(u,a,_));x={arrayValue:{values:b}}}else x=qS(u,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||KS(g,p),x=tI(c,l,g,p==="in"||p==="not-in");return bn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wa(s,e,n){const r=e,i=yv("where",s);return bv._create(i,r,n)}class Yb extends Xb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const u of c)aI(l,u),l=a1(l,u)})(e._query,n),new ea(e.firestore,e.converter,a1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jb extends Ap{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jb(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Ge(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ge(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ep(a,l)})(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new jo(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ci(s,e="asc"){const n=e,r=yv("orderBy",s);return Jb._create(r,n)}class Zb extends Ap{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Zb(e,n,r)}_apply(e){return new ea(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function Mn(s){return hO("limit",s),Zb._create("limit",s,"F")}class _v extends Ap{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _v(e,n,r)}_apply(e){const n=iI(e,this.type,this._docOrFields,this._inclusive);return new ea(e.firestore,e.converter,(function(i,a){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function hl(...s){return _v._create("startAt",s,!0)}function NO(...s){return _v._create("startAfter",s,!1)}class e_ extends Ap{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new e_(e,n,r)}_apply(e){const n=iI(e,this.type,this._docOrFields,this._inclusive);return new ea(e.firestore,e.converter,(function(i,a){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function pl(...s){return e_._create("endAt",s,!0)}function iI(s,e,n,r){if(n[0]=Nn(n[0]),n[0]instanceof Qb)return(function(a,l,c,u,h){if(!u)throw new Ge(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const g of Od(a))if(g.field.isKeyField())p.push(vf(l,u.key));else{const x=u.data.field(g.field);if(iv(x))throw new Ge(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const b=g.field.canonicalString();throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(x)}return new Xd(p,h)})(s._query,s.firestore._databaseId,e,n[0]._document,r);{const i=vv(s.firestore);return(function(l,c,u,h,p,g){const x=l.explicitOrderBy;if(p.length>x.length)throw new Ge(ye.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let _=0;_<p.length;_++){const S=p[_];if(x[_].field.isKeyField()){if(typeof S!="string")throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof S}`);if(!Nb(l)&&S.indexOf("/")!==-1)throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${S}' contains a slash.`);const C=l.path.child(As.fromString(S));if(!ht.isDocumentKey(C))throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const E=new ht(C);b.push(vf(c,E))}else{const C=tI(u,h,S);b.push(C)}}return new Xd(b,g)})(s._query,s.firestore._databaseId,i,e,n,r)}}function qS(s,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new Ge(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nb(e)&&n.indexOf("/")!==-1)throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(As.fromString(n));if(!ht.isDocumentKey(r))throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vf(s,new ht(r))}if(n instanceof Kr)return vf(s,n._key);throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mv(n)}.`)}function KS(s,e){if(!Array.isArray(s)||s.length===0)throw new Ge(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aI(s,e){const n=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(s.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ge(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kO{convertValue(e,n="none"){switch(kc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ec(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>ln(l.doubleValue)));return new Hb(a)}convertGeoPoint(e){return new zb(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const n=jl(e);return new Bs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=As.fromString(e);Ns(kT(r));const i=new Jh(r.get(1),r.get(3)),a=new ht(r.popFirst(5));return i.isEqual(n)||mo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lI extends Qb{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hg extends lI{data(e={}){return super.data(e)}}class CO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Hg(this._firestore,this._userDataWriter,r.key,r,new vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const u=new Hg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const u=new Hg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:TO(c.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(s){s=fo(s,Kr);const e=fo(s.firestore,Cp);return cO(gv(e),s._key).then((n=>IO(e,s,n)))}class cI extends kO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,n)}}function cn(s){s=fo(s,ea);const e=fo(s.firestore,Cp),n=gv(e),r=new cI(e);return SO(s._query),dO(n,s._query).then((i=>new CO(e,r,s,i)))}function xo(s,e,n){s=fo(s,Kr);const r=fo(s.firestore,Cp),i=oI(s.converter,e,n);return dI(r,[eI(vv(r),"setDoc",s._key,i,s.converter!==null,n).toMutation(s._key,Ii.none())])}function dI(s,e){return(function(r,i){const a=new ao;return r.asyncQueue.enqueueAndForget((async()=>J$(await lO(r),i,a))),a.promise})(gv(s),e)}function IO(s,e,n){const r=n.docs.get(e._key),i=new cI(s);return new lI(s,i,e._key,r,new vh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vv(e)}set(e,n,r){this._verifyNotCommitted();const i=Ny(e,this._firestore),a=oI(i.converter,n,r),l=eI(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ii.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Ny(e,this._firestore);let l;return l=typeof(n=Nn(n))=="string"||n instanceof Tp?_O(this._dataReader,"WriteBatch.update",a._key,n,r,i):bO(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ny(e,this._firestore);return this._mutations=this._mutations.concat(new Cb(n._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ny(s,e){if((s=Nn(s)).firestore!==e)throw new Ge(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Wi(){return new Wb("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(s){return gv(s=fo(s,Cp)),new AO(s,(e=>dI(s,e)))}(function(e,n=!0){(function(i){uu=i})(cu),Gd(new _c("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Cp(new AF(r.getProvider("auth-internal")),new LF(r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ge(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(h.options.projectId,p)})(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),yl(uS,"4.7.3",e),yl(uS,"4.7.3","esm2017")})();const uI={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};uI.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const hI=fM().length?cb():a3(uI),pt=mO(hI),rg=kF(hI),pI=I.createContext(void 0),QS=`${Aa}/auth/session`,XS=`${Aa}/auth/logout`,PO=({children:s})=>{const[e,n]=I.useState(null),[r,i]=I.useState("idle"),a=I.useRef({tried:!1}),l=I.useCallback(S=>{S!=null&&S.authenticated&&S.user?(n(S.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),c=I.useCallback(async S=>{if(S!=null&&S.silent||i("loading"),!QS){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated");return}try{const C=await fetch(QS,{credentials:"include"});if(!C.ok)throw new Error(`Failed to fetch session (${C.status})`);const E=await C.json();l(E)}catch(C){console.error("[Auth] Failed to refresh session.",C),n(null),i("unauthenticated")}},[l]);I.useEffect(()=>{c()},[c]),I.useEffect(()=>{console.log("[AuthDebug] session user:",e);const S=rg.currentUser;console.log("[AuthDebug] firebase currentUser uid:",S==null?void 0:S.uid),S==null||S.getIdTokenResult().then(C=>{console.log("[AuthDebug] firebase claims:",C.claims)}).catch(C=>{console.warn("[AuthDebug] failed to fetch token claims",C)})},[e]),I.useEffect(()=>{const S=m9(rg,C=>{console.log("[AuthDebug] firebase currentUser uid:",C==null?void 0:C.uid)});return()=>S()},[]),I.useEffect(()=>{if(!e){a.current.tried=!1;return}a.current.tried||(a.current.tried=!0,(async()=>{try{const S=await G7();await u9(rg,S),console.log("[AuthDebug] signed in to Firebase with custom token")}catch(S){console.error("[AuthDebug] failed to sign in to Firebase",S)}})())},[e]);const u=I.useCallback(S=>{window.location.href=`${Aa}/auth/${S}/login`},[]),h=I.useCallback(()=>u("discord"),[u]),p=I.useCallback(()=>u("google"),[u]),g=I.useCallback(async()=>{if(await g9(rg).catch(()=>{}),!XS){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const S=await fetch(XS,{method:"POST",credentials:"include"});if(!S.ok)throw new Error(`Logout failed (${S.status})`)}catch(S){console.error("[Auth] Failed to logout. Clearing local session anyway.",S)}finally{n(null),i("unauthenticated")}},[]),x=I.useCallback(async S=>{await c(S)},[c]),b=r==="idle"||r==="loading",_=I.useMemo(()=>({user:e,status:r,isLoading:b,loginWithDiscord:h,loginWithGoogle:p,logout:g,refreshSession:x}),[e,r,b,h,p,g,x]);return t.jsx(pI.Provider,{value:_,children:s})},So=()=>{const s=I.useContext(pI);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},RO="https://i.pravatar.cc/72",LO=({fallbackName:s})=>{var F,k;const{user:e,status:n,logout:r,isLoading:i}=So(),a=Ei(),[l,c]=I.useState(!1),u=I.useRef(null),h=n==="authenticated",p=h?(k=(F=e==null?void 0:e.displayName)!=null?F:s)!=null?k:"Player":s!=null?s:"Guest",g=h&&(e!=null&&e.avatarUrl)?e.avatarUrl:RO;I.useEffect(()=>{const y=w=>{u.current&&!u.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),I.useEffect(()=>{i&&c(!1)},[i]);const x=I.useCallback(()=>c(!1),[]),b=()=>{c(y=>!y)},_=()=>{a("/login"),x()},S=()=>{a("/settings/account"),x()},C=I.useCallback(async()=>{try{await r()}finally{x(),a("/")}},[x,r,a]),E=()=>{var y;if(i)return t.jsx("p",{className:Gt.accountStatusText,children:"Checking session..."});if(n==="unauthenticated")return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Gt.accountHeader,children:[t.jsx("p",{className:Gt.accountName,children:"Not signed in"}),t.jsx("p",{className:Gt.accountSub,children:"Your scans stay synced when you log in."})]}),t.jsx("button",{type:"button",className:Gt.accountPrimary,onClick:_,children:"Sign in"}),t.jsx("p",{className:Gt.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(n==="authenticated"){const w=!!((y=e==null?void 0:e.roles)!=null&&y.includes("admin"));return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Gt.accountHeader,children:[t.jsx("img",{className:Gt.accountMiniAvatar,src:g,alt:p}),t.jsxs("div",{children:[t.jsx("p",{className:Gt.accountName,children:p}),t.jsxs("p",{className:Gt.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),t.jsx("button",{type:"button",className:Gt.accountItem,onClick:S,children:"Account & Profile"}),w?t.jsx("a",{className:Gt.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,t.jsx("hr",{className:Gt.accountDivider}),t.jsx("button",{type:"button",className:`${Gt.accountItem} ${Gt.accountLogout}`,onClick:C,children:"Logout"})]})}return null};return t.jsxs("div",{className:Gt.accountRoot,ref:u,children:[i?t.jsxs("div",{className:Gt.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[t.jsx("span",{className:Gt.avatarSpinner,"aria-hidden":"true"}),t.jsx("span",{className:Gt.srOnly,children:"Checking login status"})]}):t.jsx("button",{type:"button",className:Gt.avatarBtn,"aria-haspopup":"menu","aria-expanded":l,"aria-label":p,onClick:b,children:t.jsx("img",{className:Gt.avatar,src:g,alt:p})}),!i&&l&&t.jsx("div",{className:Gt.accountDropdown,role:"menu",children:E()})]})},DO="sfh:debug:firestoreReadsCallsite",f1=new Map;let MO=1;const ig=(...s)=>{console.log(...s)},t_=()=>!1,mI=()=>!t_()||typeof window=="undefined"||!(window!=null&&window.localStorage)?!1:window.localStorage.getItem(DO)==="1",s_=(s,e)=>s?s.split("/").filter(Boolean)[0]||e||"unknown":e!=null?e:"unknown",FO=()=>{if(!mI())return;const s=new Error;if(!s.stack)return;const n=s.stack.split(`
`).map(r=>r.trim()).filter(r=>r&&!r.toLowerCase().includes("firestorereadtrace")&&!r.toLowerCase().includes("tracegetdoc")&&!r.toLowerCase().includes("tracegetdocs"));return n[1]||n[0]},Bn=s=>t_()?{id:MO++,name:s,startedAt:performance.now(),reads:[]}:null,gI=(s,e)=>{var r;if(!s)return;const n=s_(e.collection||e.path);s.reads.push({collection:n,path:e.path,op:e.op,docCount:e.docCount,startedAt:performance.now(),callsite:FO()}),f1.set(n,((r=f1.get(n))!=null?r:0)+e.docCount)},tn=s=>{var l;if(!s)return;s.endedAt=performance.now();const e=Math.round(s.endedAt-s.startedAt),n=s.reads.reduce((c,u)=>{var h;return c[u.collection]=((h=c[u.collection])!=null?h:0)+u.docCount,c},{}),r=s.reads.reduce((c,u)=>c+u.docCount,0),i=s.reads.map(c=>({op:c.op,path:c.path,collection:c.collection,docs:c.docCount,callsite:c.callsite})),a=`[FirestoreTrace] ${s.name} - ${r} reads in ${e}ms`;if(console.groupCollapsed(a),ig("Breakdown by collection",n),ig("Entries",i),mI()){const c=(l=s.reads.find(u=>u.callsite))==null?void 0:l.callsite;c&&ig("Top callsite",c)}ig("Totals (page lifetime)",Object.fromEntries(f1.entries())),console.groupEnd()},yo=async(s,e,n)=>{const r=await n(),i=r!=null&&r.exists?r.exists()?1:0:1;return gI(s,{collection:s_(e.path),path:e.path,op:"getDoc",docCount:i}),r},dn=async(s,e,n,r)=>{var c,u,h;const i=await n(),a=(c=i==null?void 0:i.size)!=null?c:Array.isArray(i==null?void 0:i.docs)?i.docs.length:0,l=(h=(u=e.path)!=null?u:r==null?void 0:r.collectionHint)!=null?h:"unknown";return gI(s,{collection:s_(l,r==null?void 0:r.collectionHint),path:l,op:"getDocs",docCount:typeof a=="number"?a:0}),i},BO=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"public",minRole:"guest",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"hidden",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub",area:"main",titleKey:"nav.guideHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"admin.cliCommands",route:"/cli-commands",area:"admin",titleKey:"nav.cliCommands",status:"active",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:95},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0},{id:"main.uploadCenter",route:"/upload-center",area:"main",titleKey:"feature.uploadCenter",status:"logged_in",minRole:"user",showInSidebar:!1,showInTopbar:!1,navOrder:200}],YS=["guest","user","moderator","developer","admin"];function fI(s){const e=s.trim();if(!e)return"/";const n=e.startsWith("/")?e:`/${e}`;return n==="/"?n:n.replace(/\/+$/,"").toLowerCase()}function vI(s){if(typeof s!="string")return;const e=s.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function xI(s){if(!Array.isArray(s))return;const e=s.map(n=>vI(n)).filter(Boolean);return e.length?e:void 0}function yI(s){if(!Array.isArray(s))return;const e=s.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function bI(s){if(!Array.isArray(s))return;const e=s.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function n_(s){var e,n,r;return{...s,id:s.id.trim(),route:fI(s.route),area:s.area.trim(),allowedRoles:(e=xI(s.allowedRoles))!=null?e:s.allowedRoles,allowedGroups:(n=yI(s.allowedGroups))!=null?n:s.allowedGroups,allowedUserIds:(r=bI(s.allowedUserIds))!=null?r:s.allowedUserIds}}function $O(s,e){if(!e||typeof e!="object")return null;const n=e,r=typeof n.route=="string"?n.route:"",i=typeof n.area=="string"?n.area:"",a=typeof n.id=="string"&&n.id.trim()||s||(r?`feature:${r}`:"");if(!r||!a||!i)return null;const l={id:a,route:r,area:i,titleKey:typeof n.titleKey=="string"?n.titleKey:void 0,status:typeof n.status=="string"?n.status:void 0,minRole:vI(n.minRole),allowedRoles:xI(n.allowedRoles),allowedGroups:yI(n.allowedGroups),allowedUserIds:bI(n.allowedUserIds),showInTopbar:typeof n.showInTopbar=="boolean"?n.showInTopbar:void 0,showInSidebar:typeof n.showInSidebar=="boolean"?n.showInSidebar:void 0,navOrder:typeof n.navOrder=="number"?n.navOrder:void 0,isExperimental:typeof n.isExperimental=="boolean"?n.isExperimental:void 0,description:typeof n.description=="string"?n.description:void 0};return n_(l)}function OO(s){const e={},n={};return s.forEach(r=>{const i=n_(r);e[i.id]=i,n[i.route]=i}),{byId:e,byRoute:n}}const oo=OO(BO),VO={...oo,loading:!1,error:null},UO=300*1e3;let Cd=null,xh=null;const zO=async s=>{const e=Date.now();return xh&&e-xh.fetchedAt<UO?xh:Cd||(Cd=(async()=>{const n=vo(pt,"feature_access"),r=await dn(s,n,()=>cn(n),{collectionHint:"feature_access"}),i=[];r.forEach(c=>{const u=$O(c.id,c.data());u&&i.push(u)});const l={rules:GO(i),fetchedAt:Date.now()};return xh=l,l})().finally(()=>{Cd=null}),Cd)};function HO(s,e){const n={...s!=null?s:{}};return Object.entries(e).forEach(([i,a])=>{if(a!==void 0){const l=i;n[l]=a}}),n}function GO(s){const e={...oo.byId},n={...oo.byRoute};return s.forEach(r=>{const i=n_(r),a=e[i.id],l=HO(a,i);e[l.id]=l,n[l.route]=l}),{byId:e,byRoute:n}}const _I=X.createContext(VO),WO=({children:s})=>{const[e,n]=X.useState({...oo,loading:!0,error:null});X.useEffect(()=>{let i=!0;return(async()=>{const c=t_()&&!xh&&!Cd?Bn("FeatureAccess:load"):null;try{const{rules:u}=await zO(c);i&&n({...u,loading:!1,error:null})}catch(u){const h=u,p=h==null?void 0:h.code,g=p==="permission-denied"||p==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore feature_access ${g?"not readable":"load failed"}. Falling back to defaults.`,u),i&&n(b=>({...b,loading:!1,error:u instanceof Error?u.message:"Failed to load feature access rules"}))}finally{tn(c)}})(),()=>{i=!1}},[]);const r=X.useMemo(()=>e,[e]);return t.jsx(_I.Provider,{value:r,children:s})};function qO(){return X.useContext(_I)}function KO(s,e){var i,a,l;if(!s)return;const n=e!=null?e:oo,r=fI(s);return(l=(a=(i=n.byId[s])!=null?i:n.byRoute[r])!=null?a:oo.byId[s])!=null?l:oo.byRoute[r]}function QO(s){return!s||s.length===0?"guest":s.includes("admin")?"admin":s.includes("dev")||s.includes("developer")?"developer":s.includes("mod")||s.includes("moderator")?"moderator":"user"}function XO(s,e,n,r,i){if(n)return!0;const a=!!r;if(s.status==="logged_in"&&!a)return!1;const l=e!=null?e:"user";if(s.status==="hidden"||s.status==="dev_only"&&l!=="developer"&&l!=="admin"||s.allowedUserIds&&s.allowedUserIds.length>0&&(!r||!s.allowedUserIds.includes(r))||s.allowedGroups&&s.allowedGroups.length>0&&!(i!=null?i:[]).some(u=>s.allowedGroups.includes(u)))return!1;if(s.allowedRoles&&s.allowedRoles.length>0)return!!l&&s.allowedRoles.includes(l);if(s.minRole){const c=YS.indexOf(l),u=YS.indexOf(s.minRole);return c>=u&&c!==-1}return!0}function wv(){var S;let s=null;try{s=So().user}catch(C){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:n,loading:r,error:i}=qO(),a=X.useMemo(()=>({byId:e!=null?e:oo.byId,byRoute:n!=null?n:oo.byRoute}),[e,n]),l=X.useMemo(()=>QO(s==null?void 0:s.roles),[s==null?void 0:s.roles]),c=X.useMemo(()=>{var C;return!!((C=s==null?void 0:s.roles)!=null&&C.includes("admin"))},[s==null?void 0:s.roles]),u=X.useMemo(()=>{var C;return(C=s==null?void 0:s.accessGroups)!=null?C:[]},[s==null?void 0:s.accessGroups]),h=(S=s==null?void 0:s.id)!=null?S:null,p=X.useCallback(C=>KO(C,a),[a]),g=X.useCallback(C=>C?XO(C,l,c,h,u):!0,[c,u,h,l]),x=X.useCallback(C=>{if(!C)return!0;const E=p(C);return g(E)},[g,p]),b=X.useCallback(C=>{if(!C)return!0;const E=p(C);return E?E.status==="hidden"||E.showInSidebar===!1?!1:g(E):!0},[g,p]),_=X.useCallback(C=>{if(!C)return!0;const E=p(C);return E?E.status==="hidden"||E.showInTopbar===!1?!1:g(E):!0},[g,p]);return{loading:r,error:i,rulesById:e,rulesByRoute:n,storeRules:a,resolveRule:p,canAccessRule:g,canAccessFeature:x,isVisibleInSidebar:b,isVisibleInTopbar:_}}const wI=I.createContext(null);function YO({children:s}){const{canAccessFeature:e}=wv(),[n,r]=I.useState(!1),[i,a]=I.useState("csv"),l=e("main.uploadCenter"),c=I.useCallback(p=>{l&&(p!=null&&p.tab?a(p.tab):a("csv"),r(!0))},[l]),u=I.useCallback(()=>r(!1),[]),h=I.useMemo(()=>({isOpen:n,open:c,close:u,activeTab:i,setTab:a,canUse:l}),[n,c,u,i,l]);return t.jsx(wI.Provider,{value:h,children:s})}function r_(){const s=I.useContext(wI);if(!s)throw new Error("useUploadCenter must be used within UploadCenterProvider");return s}const Hi={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Gi=s=>`https://drive.google.com/uc?export=view&id=${s}`,jI=s=>String(s!=null?s:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),$n=[{key:"warrior",label:"Warrior",iconUrl:Gi(Hi.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Gi(Hi.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Gi(Hi.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Gi(Hi.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Gi(Hi["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Gi(Hi.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Gi(Hi["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Gi(Hi.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Gi(Hi.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Gi(Hi.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Gi(Hi.paladin),fallback:""}],JS=Object.fromEntries($n.map(s=>[s.key,s])),v1=new Map;function Ys(s,e){v1.set(jI(s),e)}for(const s of $n)Ys(s.key,s.key),Ys(s.label,s.key);Ys("war","warrior");Ys("krieger","warrior");Ys("magier","mage");Ys("jaeger","scout");Ys("jger","scout");Ys("assa","assassin");Ys("meuchelmoerder","assassin");Ys("meuchelmrder","assassin");Ys("demonhunter","demon-hunter");Ys("dh","demon-hunter");Ys("daemonenjaeger","demon-hunter");Ys("dmonenjger","demon-hunter");Ys("zerker","berserker");Ys("battlemage","battle-mage");Ys("kampfmagier","battle-mage");Ys("bm","battle-mage");Ys("druide","druid");Ys("barde","bard");Ys("necro","necromancer");Ys("nekromant","necromancer");Ys("pala","paladin");function SI(s){const e=jI(s);if(!e)return{};const n=v1.get(e);if(n){const r=JS[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of v1.entries())if(r.startsWith(e)||e.startsWith(r)){const a=JS[i];return{url:a.iconUrl,fallback:a.fallback}}return{}}function jv(s){if(s==null)return null;const e=typeof s=="string"?s:String(s);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function Gg(s){if(s==null)return;const e=jv(s);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(s)}function NI(s,e=64){if(s==null)return;const n=jv(s);if(!n)return String(s);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function kI(s,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(s)}${r.toString()?"&"+r.toString():""}`}function CI(s,e,n,r){const i=Gg(s);return i?kI(i,{w:e,h:n,fit:r}):void 0}function Qr(s,e=64){const n=NI(s,e);return n?kI(n,{w:e,h:e,fit:"contain"}):void 0}function ky(s){if(s==null)return;const e=jv(s);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof s=="string"&&/^https?:\/\//i.test(s))return s}function JO(s){return`https://images.weserv.nl/?url=${encodeURIComponent(s)}&n=-1`}const Cc=Object.assign(s=>Gg(s),{id:jv,direct:Gg,thumb:NI,proxy:CI,thumbProxy:Qr,raw:ky,gif:ky,gifProxy:s=>{const e=ky(s);return e&&/^https?:\/\//i.test(e)?JO(e):Gg(s)}}),Sv="sfh:search:cache:v1:universal:",TI=`${Sv}lru`,ZO=720*60,Eh=150,mu=()=>typeof window!="undefined"&&!!window.localStorage,eV=s=>s.trim().replace(/\s+/g," ").toLowerCase(),II=(...s)=>{try{mu()&&window.localStorage.getItem("sfh:debug:firestoreReads")==="1"&&console.debug(...s)}catch(e){}},AI=()=>{if(!mu())return[];try{const s=window.localStorage.getItem(TI);if(!s)return[];const e=JSON.parse(s);return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}catch(s){return[]}},EI=s=>{if(mu())try{window.localStorage.setItem(TI,JSON.stringify(s.slice(0,Eh)))}catch(e){}},PI=s=>{const e=AI().filter(n=>n!==s);e.unshift(s),EI(e.slice(0,Eh))},tV=()=>{const s=AI();if(s.length<=Eh)return;const e=s.slice(0,Eh);if(EI(e),!!mu())try{s.slice(Eh).forEach(r=>window.localStorage.removeItem(Sv+r))}catch(n){}},sV=s=>{if(!mu())return null;try{const e=window.localStorage.getItem(Sv+s);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.ts!="number"||typeof n.ttlSec!="number"||Date.now()-n.ts>n.ttlSec*1e3?null:(II("[SearchCache] hit",s),PI(s),n)}catch(e){return null}},nV=(s,e,n=ZO)=>{if(!mu())return;const r={...e,ts:Date.now(),ttlSec:n};try{window.localStorage.setItem(Sv+s,JSON.stringify(r)),PI(s),tV(),II("[SearchCache] store",s,{players:e.players.length,guilds:e.guilds.length})}catch(i){}},ag=3,rV=350,Xo=25,og=10,i_="sfh:search:recents",RI=20,Cy=s=>Number.isFinite(s),vd=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},iV=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),il=()=>{try{const s=typeof window!="undefined"?window.localStorage.getItem(i_):null;if(!s)return[];const e=JSON.parse(s);return Array.isArray(e)?e.slice(0,RI).map(n=>{var r,i,a,l,c,u,h,p,g;return(n==null?void 0:n.kind)==="player"||(n==null?void 0:n.kind)==="guild"?{kind:n.kind,id:String((i=(r=n.id)!=null?r:n.value)!=null?i:""),server:(l=(a=n.server)!=null?a:n.serverId)!=null?l:null,name:(u=(c=n.name)!=null?c:n.label)!=null?u:null,className:(h=n.className)!=null?h:null,level:typeof n.level=="number"?n.level:null,guildName:(p=n.guildName)!=null?p:null}:(n==null?void 0:n.kind)==="query"?{kind:"query",value:String((g=n.value)!=null?g:"")}:null}).filter(Boolean):[]}catch(s){return[]}},xc=s=>{var n;if(s.kind==="query")return`query:${s.value}`;const e=(n=s.server)!=null?n:"";return`${s.kind}:${e}:${s.id}`},ZS=s=>{var e,n,r,i,a,l,c,u,h;if(s.kind!=="player"||s.name&&s.className&&s.server||typeof window=="undefined")return s;try{const p=window.localStorage.getItem(`player-profile-cache:${s.id}`);if(!p)return s;const g=JSON.parse(p),x=(g==null?void 0:g.data)||{};return{...s,name:(n=(e=s.name)!=null?e:x.name)!=null?n:null,className:(i=(r=s.className)!=null?r:x.className)!=null?i:null,server:(l=(a=s.server)!=null?a:x.server)!=null?l:null,level:(c=s.level)!=null?c:typeof x.level=="number"?x.level:null,guildName:(h=(u=s.guildName)!=null?u:x.guild)!=null?h:null}}catch(p){return s}},Ty=s=>{if(typeof window!="undefined")try{const e=il().map(ZS),n=s.kind==="player"?ZS(s):s,r=xc(n),i=[n,...e.filter(a=>xc(a)!==r)];window.localStorage.setItem(i_,JSON.stringify(i.slice(0,RI)))}catch(e){}},Iy=(s,e)=>{try{const n=il().filter(r=>xc(r)!==s);window.localStorage.setItem(i_,JSON.stringify(n)),e(n)}catch(n){e(r=>r.filter(i=>xc(i)!==s))}};function aV(s){const e=s.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function oV({placeholder:s="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const{t:r}=Ia(),i=Ei(),[a,l]=X.useState(""),[c,u]=X.useState(""),[h,p]=X.useState(!1),[g,x]=X.useState(null),[b,_]=X.useState([]),[S,C]=X.useState([]),[E,F]=X.useState([]),[k,y]=X.useState(!1),[w,P]=X.useState(!1),[T,N]=X.useState(il()),[A,M]=X.useState(-1),[R,B]=X.useState(!1),[$,z]=X.useState(!1),[U,W]=X.useState(null),K=X.useRef(null),q=X.useRef(0);X.useEffect(()=>{const Z=setTimeout(()=>u(a.trim()),rV);return()=>clearTimeout(Z)},[a]),X.useEffect(()=>{let Z=!1;async function fe(){const ie=c,_e=eV(ie);if(ie.length<ag){_([]),C([]),F([]),y(!1),P(!1),M(T.length?0:-1),W(null);return}const be=sV(_e);if(be){_(be.players.slice(0,og).map(Ue=>{var tt,Je,ct;return{kind:"player",id:String(Ue.playerId),name:Ue.name,server:(tt=Ue.server)!=null?tt:null,className:(Je=Ue.className)!=null?Je:null,guildName:(ct=Ue.guildName)!=null?ct:null,nameFold:null,level:null}})),C(be.guilds.slice(0,og).map(Ue=>{var tt;return{kind:"guild",id:Ue.guildId,name:Ue.name,nameFold:null,server:(tt=Ue.server)!=null?tt:null,memberCount:null,hofRank:null}})),y(be.playersHasMore),P(be.guildsHasMore),F([]),M(be.players.length+be.guilds.length?0:-1),W("cache");return}B(!0);const Se=Bn("Search:universal");x(null),p(!0);const Ve=++q.current;try{let Ue=function(Xt){var ot,_t,as,$s,kn,rr,hn,pi,fs,On,nn,fr,vr,xr,Cn,os,Cs,Vn,Xr,qt,ta,Pr,El,No,Ea,Pa,ko,Pl,Mc,js,Rl,sa,Pi,yr;const Y=Xt.data(),{root:Fe,id:He}=aV(Xt),nt=He||Y.playerId||Y.guildIdentifier||"";if(Fe==="players"||Y.playerId&&!Y.guildIdentifier){if(!nt||Ke.has(nt))return;Ke.add(nt),kt.push({kind:"player",id:nt,name:(as=(_t=Y.name)!=null?_t:(ot=Y.values)==null?void 0:ot.Name)!=null?as:null,nameFold:($s=Y.nameFold)!=null?$s:null,server:(hn=(rr=Y.server)!=null?rr:(kn=Y.values)==null?void 0:kn.Server)!=null?hn:null,guildName:(On=(fs=Y.guildName)!=null?fs:(pi=Y.values)==null?void 0:pi.Guild)!=null?On:null,className:(vr=(fr=Y.className)!=null?fr:(nn=Y.values)==null?void 0:nn.Class)!=null?vr:null,level:vd((Cn=Y.level)!=null?Cn:(xr=Y.values)==null?void 0:xr.Level),ts:vd(Y.timestamp)});return}if(Fe==="guilds"||Y.guildIdentifier&&!Y.playerId){if(!nt||vt.has(nt))return;vt.add(nt),qe.push({kind:"guild",id:nt,name:(Vn=(Cs=Y.name)!=null?Cs:(os=Y.values)==null?void 0:os.Name)!=null?Vn:null,nameFold:(Xr=Y.nameFold)!=null?Xr:null,server:(Pr=(ta=Y.server)!=null?ta:(qt=Y.values)==null?void 0:qt.Server)!=null?Pr:null,memberCount:vd((Pa=(No=Y.memberCount)!=null?No:(El=Y.values)==null?void 0:El["Guild Member Count"])!=null?Pa:(Ea=Y.values)==null?void 0:Ea.GuildMemberCount),hofRank:vd((yr=(sa=(js=(Pl=Y.hofRank)!=null?Pl:(ko=Y.values)==null?void 0:ko["Hall of Fame Rank"])!=null?js:(Mc=Y.values)==null?void 0:Mc.HoF)!=null?sa:(Rl=Y.values)==null?void 0:Rl.Rank)!=null?yr:(Pi=Y.values)==null?void 0:Pi["Guild Rank"]),ts:vd(Y.timestamp)});return}};const tt=iV(ie),Je=kp(pt,"latest"),ct=Sn(Je,Ci("nameFold"),hl(tt),pl(tt+""),Mn(Xo)),Wt=await dn(Se,{path:"latest"},()=>cn(ct),{collectionHint:"latest"}),je=Sn(Je,wa("nameNgrams","array-contains",tt),Mn(Xo)),Qe=await dn(Se,{path:"latest"},()=>cn(je),{collectionHint:"latest"}),Ke=new Set,vt=new Set,kt=[],qe=[];Wt.forEach(Ue),Qe.forEach(Ue);const Ce=kt.slice(0,Xo),ze=qe.slice(0,Xo);if(Ve!==q.current||Z){tn(Se);return}const St=vo(pt,"servers"),Bt=ie.toLowerCase(),ks=ie.toUpperCase(),us=[dn(Se,{path:"servers"},()=>cn(Sn(St,Ci("displayName"),hl(ie),pl(ie+""),Mn(e))),{collectionHint:"servers"}),dn(Se,{path:"servers"},()=>cn(Sn(St,Ci("code"),hl(ks),pl(ks+""),Mn(e))),{collectionHint:"servers"}),dn(Se,{path:"servers"},()=>cn(Sn(St,Ci("host"),hl(Bt),pl(Bt+""),Mn(e))),{collectionHint:"servers"})],hs=await Promise.allSettled(us),Gs=new Set,bt=[];for(const Xt of hs)Xt.status==="fulfilled"&&Xt.value.forEach(Y=>{var nt,ot,_t,as,$s;const Fe=Y.data(),He=Y.id;!He||Gs.has(He)||(Gs.add(He),bt.push({kind:"server",id:He,displayName:(nt=Fe.displayName)!=null?nt:null,code:(ot=Fe.code)!=null?ot:null,host:(_t=Fe.host)!=null?_t:null,region:(as=Fe.region)!=null?as:null,type:($s=Fe.type)!=null?$s:null,numericId:vd(Fe.numericId),active:typeof Fe.active=="boolean"?Fe.active:null}))});const we=[],sn=Xt=>{for(const Y of Xt){if(we.length>=og)break;we.push(Y)}};sn(Ce),sn(ze),we.length<og&&(sn(Ce.slice(we.length)),sn(ze.slice(we.length))),_(we.filter(Xt=>Xt.kind==="player")),C(we.filter(Xt=>Xt.kind==="guild")),F(bt.slice(0,e)),y(Ce.length===Xo),P(ze.length===Xo),M(we.length+bt.length?0:-1),W("live"),nV(_e,{players:Ce.map(Xt=>({playerId:Xt.id,name:Xt.name,server:Xt.server,className:Xt.className,guildName:Xt.guildName})),guilds:ze.map(Xt=>{var Y;return{guildId:Xt.id,name:Xt.name,server:(Y=Xt.server)!=null?Y:void 0}}),playersHasMore:Ce.length===Xo,guildsHasMore:ze.length===Xo})}catch(Ue){x((Ue==null?void 0:Ue.message)||"Unbekannter Fehler bei der Suche."),_([]),C([]),F([]),M(-1)}finally{tn(Se),p(!1)}}return fe(),()=>{Z=!0}},[c,e,T.length]),X.useEffect(()=>{const Z=fe=>{K.current&&(K.current.contains(fe.target)||(_([]),C([]),F([]),M(-1),B(!1),z(!1)))};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const se=R&&a.trim().length<ag&&T.length>0,ne=R&&(h||g||se||[...b,...S,...E].length>0||$&&a.trim().length<ag),H=T.filter(Z=>Z.kind==="player"||Z.kind==="guild").map(Z=>{var fe,ie,_e,be,Se,Ve,Ue;return Z.kind==="player"?{kind:"player",id:Z.id,name:(fe=Z.name)!=null?fe:null,nameFold:null,server:(ie=Z.server)!=null?ie:null,guildName:(_e=Z.guildName)!=null?_e:null,className:(be=Z.className)!=null?be:null,level:(Se=Z.level)!=null?Se:null,ts:null}:{kind:"guild",id:Z.id,name:(Ve=Z.name)!=null?Ve:null,nameFold:null,server:(Ue=Z.server)!=null?Ue:null,memberCount:null,hofRank:null,ts:null}}),J=se?H:[...b,...S,...E],le=Z=>{Z.kind==="player"?(Ty({kind:"player",id:Z.id,name:Z.name,className:Z.className,level:Z.level,guildName:Z.guildName,server:Z.server}),N(il()),i(`/player/${encodeURIComponent(Z.id)}`)):Z.kind==="guild"?(Ty({kind:"guild",id:Z.id,name:Z.name,server:Z.server}),N(il()),i(`/guild/${encodeURIComponent(Z.id)}`)):i(`/server/${encodeURIComponent(Z.id)}`),_([]),C([]),F([]),M(-1),l(""),B(!1),W(null)},oe=()=>{a.trim().length<ag||(Ty({kind:"query",value:a.trim()}),N(il()),i(`/search?q=${encodeURIComponent(a.trim())}`),B(!1))},he=Z=>{if(Z.key==="Enter"){Z.preventDefault(),A>=0&&J[A]?le(J[A]):oe();return}if(Z.key==="Escape"){_([]),C([]),F([]),M(-1),B(!1);return}J.length&&(Z.key==="ArrowDown"?(Z.preventDefault(),M(fe=>(fe+1)%J.length)):Z.key==="ArrowUp"&&(Z.preventDefault(),M(fe=>(fe-1+J.length)%J.length)))},xe=(Z,fe,ie=!1,_e)=>{var Ue,tt,Je,ct,Wt,je;const be=fe===A,Se=ie?"div":"button",Ve=ie?{role:"button",tabIndex:0,onKeyDown:Qe=>{(Qe.key==="Enter"||Qe.key===" ")&&(Qe.preventDefault(),le(Z))}}:{type:"button"};return t.jsxs(Se,{onClick:()=>le(Z),style:be?mt.itemActive:mt.item,title:Z.name||"",onMouseEnter:()=>M(fe),...Ve,children:[t.jsx("div",{style:mt.iconBox,children:n?t.jsx("img",{src:n((Ue=Z.className)!=null?Ue:void 0,64),alt:(tt=Z.className)!=null?tt:"class icon",style:mt.iconImgShadow,loading:"lazy"}):t.jsx("span",{style:mt.iconFallback,children:(Je=Z.className)!=null?Je:"?"})}),t.jsxs("div",{style:mt.meta,children:[t.jsxs("div",{style:mt.line1,children:[t.jsx("span",{style:mt.name,children:(ct=Z.name)!=null?ct:Z.id}),Cy(Z.level)&&t.jsxs("span",{style:mt.badge,children:["Lvl ",Z.level]}),ie&&t.jsx("span",{style:mt.recentsBadge,children:r("search.recentLabel","Recent")}),ie&&_e&&t.jsx("button",{type:"button",style:mt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:Qe=>{Qe.preventDefault(),Qe.stopPropagation(),Iy(_e,N)},children:""})]}),t.jsxs("div",{style:mt.line2,children:[t.jsx("span",{children:(Wt=Z.className)!=null?Wt:"Klasse ?"}),t.jsx("span",{style:mt.sep,children:""}),t.jsx("span",{children:(je=Z.server)!=null?je:"Server ?"})]})]})]},`p-${Z.id}-${fe}-${ie?"r":"s"}`)},Re=(Z,fe,ie=!1,_e)=>{var Ue,tt;const be=fe===A,Se=ie?"div":"button",Ve=ie?{role:"button",tabIndex:0,onKeyDown:Je=>{(Je.key==="Enter"||Je.key===" ")&&(Je.preventDefault(),le(Z))}}:{type:"button"};return t.jsxs(Se,{onClick:()=>le(Z),style:be?mt.itemActive:mt.item,title:Z.name||"",onMouseEnter:()=>M(fe),...Ve,children:[t.jsx("div",{style:mt.iconBox,children:""}),t.jsxs("div",{style:mt.meta,children:[t.jsxs("div",{style:mt.line1,children:[t.jsx("span",{style:mt.name,children:(Ue=Z.name)!=null?Ue:Z.id}),Cy(Z.hofRank)&&t.jsxs("span",{style:mt.badge,children:["HoF #",Z.hofRank]}),ie&&t.jsx("span",{style:mt.recentsBadge,children:r("search.recentLabel","Recent")}),ie&&_e&&t.jsx("button",{type:"button",style:mt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:Je=>{Je.preventDefault(),Je.stopPropagation(),Iy(_e,N)},children:""})]}),t.jsxs("div",{style:mt.line2,children:[t.jsx("span",{children:(tt=Z.server)!=null?tt:"Server ?"}),t.jsx("span",{style:mt.sep,children:""}),t.jsx("span",{children:Cy(Z.memberCount)?r("search.guildMembers","{{count}} members",{count:Z.memberCount}):r("search.guildMembersUnknown","Members ?")})]})]})]},`g-${Z.id}-${fe}-${ie?"r":"s"}`)};return t.jsxs("div",{ref:K,style:mt.wrap,children:[t.jsx("input",{style:mt.input,placeholder:s,value:a,onChange:Z=>l(Z.target.value),onKeyDown:he,onFocus:()=>{z(!0),B(!0)},onBlur:()=>{z(!1)},"aria-label":r("search.inputLabel","Spieler, Gilden und Server suchen")}),ne&&t.jsxs("div",{style:mt.dropdown,children:[h&&t.jsx("div",{style:mt.hint,children:r("search.loading","Laden ")}),g&&t.jsx("div",{style:mt.err,children:g}),!h&&!g&&se&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:mt.sectionHdr,children:r("search.recents","Recent searches")}),T.length===0&&t.jsx("div",{style:mt.hint,children:r("search.minCharsHint","Type at least 3 characters")}),T.map((Z,fe)=>{var ie,_e,be,Se,Ve,Ue,tt;if(Z.kind==="query"){const Je=xc(Z);return t.jsx("div",{style:mt.item,role:"button",tabIndex:0,onClick:()=>{l(Z.value),u(Z.value),B(!1),N(il())},onKeyDown:ct=>{(ct.key==="Enter"||ct.key===" ")&&(ct.preventDefault(),l(Z.value),u(Z.value),B(!1),N(il()))},children:t.jsx("div",{style:mt.meta,children:t.jsxs("div",{style:mt.line1,children:[t.jsx("span",{style:mt.name,children:Z.value}),t.jsx("span",{style:mt.recentsBadge,children:r("search.recentLabel","Recent")}),t.jsx("button",{type:"button",style:mt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:ct=>{ct.preventDefault(),ct.stopPropagation(),Iy(Je,N)},children:""})]})})},`rq-${fe}`)}if(Z.kind==="player"){const Je={kind:"player",id:Z.id,name:(ie=Z.name)!=null?ie:null,server:(_e=Z.server)!=null?_e:null,guildName:(be=Z.guildName)!=null?be:null,className:(Se=Z.className)!=null?Se:null,level:(Ve=Z.level)!=null?Ve:null},ct=xc(Z);return t.jsx(X.Fragment,{children:xe(Je,fe,!0,ct)},`rp-${Z.id}-${fe}`)}if(Z.kind==="guild"){const Je={kind:"guild",id:Z.id,name:(Ue=Z.name)!=null?Ue:null,server:(tt=Z.server)!=null?tt:null,memberCount:null,hofRank:null},ct=xc(Z);return t.jsx(X.Fragment,{children:Re(Je,fe+b.length,!0,ct)},`rg-${Z.id}-${fe}`)}return null})]}),!h&&!g&&!se&&J.length===0&&t.jsx("div",{style:mt.hint,children:r("search.noResults","No results")}),!h&&!g&&b.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:mt.sectionHdr,children:r("search.players","Players")}),b.map((Z,fe)=>xe(Z,fe))]}),!h&&!g&&S.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:mt.sectionHdr,children:r("search.guilds","Guilds")}),S.map((Z,fe)=>{const ie=b.length+fe;return Re(Z,ie)})]}),!h&&!g&&E.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:mt.sectionHdr,children:r("search.servers","Servers")}),E.map((Z,fe)=>{var be,Se,Ve,Ue,tt,Je;const ie=b.length+S.length+fe,_e=ie===A;return t.jsxs("button",{onClick:()=>le(Z),style:_e?mt.itemActive:mt.item,title:Z.displayName||Z.code||Z.host||"",onMouseEnter:()=>M(ie),children:[t.jsx("div",{style:mt.iconBoxPlain,children:t.jsx("div",{style:mt.serverGlyph,children:""})}),t.jsxs("div",{style:mt.meta,children:[t.jsxs("div",{style:mt.line1,children:[t.jsx("span",{style:mt.name,children:(Ve=(Se=(be=Z.displayName)!=null?be:Z.code)!=null?Se:Z.host)!=null?Ve:Z.id}),Z.active!=null&&t.jsx("span",{style:mt.badge,children:Z.active?r("search.active","Active"):r("search.inactive","Inactive")})]}),t.jsxs("div",{style:mt.line2,children:[t.jsx("span",{children:(Ue=Z.code)!=null?Ue:"?"}),t.jsx("span",{style:mt.sep,children:""}),t.jsx("span",{children:(tt=Z.host)!=null?tt:"?"}),t.jsx("span",{style:mt.sep,children:""}),t.jsx("span",{children:(Je=Z.region)!=null?Je:"?"}),Z.type?t.jsxs(t.Fragment,{children:[t.jsx("span",{style:mt.sep,children:""}),t.jsx("span",{children:Z.type.toUpperCase()})]}):null]})]})]},`s-${Z.id}-${fe}`)})]}),(k||w)&&t.jsx("button",{style:mt.moreCta,onClick:oe,children:r("search.moreResults","More results press Enter")})]})]})}const mt={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},moreCta:{width:"100%",border:"1px dashed rgba(255,255,255,0.3)",background:"transparent",color:"#d6e4f7",padding:"10px 12px",borderRadius:10,cursor:"pointer",marginTop:8},recentsBadge:{marginLeft:8,fontSize:11,color:"#8aa5c4",border:"1px solid rgba(255,255,255,0.2)",padding:"0 6px",borderRadius:12},clearBtn:{marginLeft:8,background:"transparent",border:"none",color:"rgba(214,228,247,0.85)",cursor:"pointer",fontSize:12,padding:"0 4px"}},lg=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"");function a_(s,e=64){if(!s)return;const n=lg(s);let r=$n.find(i=>lg(i.label)===n);return r||(r=$n.find(i=>lg(i.label).startsWith(n)||n.startsWith(lg(i.label)))),r?Qr(r.iconUrl,e):void 0}const lV=[{to:"/",label:"Home",featureId:"main.home"},{to:"/dashboard",label:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",featureId:"main.guildHub"},{to:"/community",label:"Community",featureId:"main.community"},{to:"/tools",label:"Tools",featureId:"main.tools"}];function cV(s,e){return a_(s,e)}function dV({user:s}){const{open:e,canUse:n}=r_(),{isVisibleInTopbar:r}=wv(),i=X.useMemo(()=>lV.filter(l=>!l.featureId||r(l.featureId)),[r]),a=()=>{e({tab:"json"})};return t.jsxs("header",{className:Gt.topbar,children:[t.jsxs("div",{className:Gt.topbarLeft,children:[t.jsx("button",{className:Gt.btnIco,"aria-label":"Benachrichtigungen",children:t.jsx(qL,{className:Gt.ico})}),t.jsx("button",{className:Gt.btnIco,"aria-label":"Favoriten",children:t.jsx(e7,{className:Gt.ico})}),i.length>0?t.jsx("nav",{className:Gt.topbarNav,"aria-label":"Schnellzugriff",children:i.map(l=>t.jsx(ys,{to:l.to,className:({isActive:c})=>`${Gt.pill} ${Gt.topbarLink} ${c?Gt.pillActive:""}`,children:l.label},l.to))}):null]}),t.jsx("div",{className:Gt.searchWrap,children:t.jsx(oV,{placeholder:"Suchen (Spieler)",getClassIcon:cV,maxPerSection:10})}),t.jsxs("div",{className:Gt.topbarRight,children:[t.jsxs("a",{className:`${Gt.pill} ${Gt.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[t.jsx(bD,{className:Gt.ico}),"www.sfgame.net"]}),n?t.jsxs("button",{className:Gt.upload,"aria-label":"Scan hochladen",onClick:a,title:"Scan hochladen",children:[t.jsx(c7,{className:Gt.ico}),t.jsx("span",{className:Gt.label,children:"Scan hochladen"})]}):null,t.jsx(LO,{fallbackName:s==null?void 0:s.name})]})]})}const uV="_root_jjyom_3",hV="_expanded_jjyom_45",pV="_headRow_jjyom_55",mV="_headTitle_jjyom_63",gV="_headDot_jjyom_65",fV="_headLabel_jjyom_67",vV="_pinBtn_jjyom_69",xV="_navScroll_jjyom_81",yV="_pad_jjyom_83",bV="_segCard_jjyom_89",_V="_segTitle_jjyom_121",wV="_connectedCharactersCard_jjyom_139",jV="_connectedCharactersTitle_jjyom_145",SV="_connectedCharactersList_jjyom_159",NV="_characterChip_jjyom_175",kV="_characterChipId_jjyom_215",CV="_characterChipMeta_jjyom_223",TV="_connectedCharactersEmpty_jjyom_231",IV="_connectedCharactersEmptyText_jjyom_285",AV="_connectedCharactersEmptyCta_jjyom_291",EV="_navCol_jjyom_341",PV="_navItemWrap_jjyom_343",RV="_navBtn_jjyom_349",LV="_navBtnActive_jjyom_373",DV="_label_jjyom_377",MV="_trailing_jjyom_407",FV="_isOpen_jjyom_455",BV="_footer_jjyom_481",$V="_login_jjyom_483",OV="_userMeta_jjyom_505",VV="_footerLink_jjyom_519",UV="_legal_jjyom_547",zV="_labelText_jjyom_571",HV="_char_jjyom_175",GV="_mainNavCard_jjyom_649",Pt={root:uV,expanded:hV,headRow:pV,headTitle:mV,headDot:gV,headLabel:fV,pinBtn:vV,navScroll:xV,pad:yV,segCard:bV,segTitle:_V,connectedCharactersCard:wV,connectedCharactersTitle:jV,connectedCharactersList:SV,characterChip:NV,characterChipId:kV,characterChipMeta:CV,connectedCharactersEmpty:TV,connectedCharactersEmptyText:IV,connectedCharactersEmptyCta:AV,navCol:EV,navItemWrap:PV,navBtn:RV,navBtnActive:LV,label:DV,trailing:MV,isOpen:FV,footer:BV,login:$V,userMeta:OV,footerLink:VV,legal:UV,labelText:zV,char:HV,mainNavCard:GV},WV="_panel_90cjk_1",qV="_open_90cjk_31",KV="_col_90cjk_43",QV="_link_90cjk_55",XV="_linkActive_90cjk_73",Ph={panel:WV,open:qV,col:KV,link:QV,linkActive:XV};function YV(s,e=8){const n=s.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function JV({anchorEl:s,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:a}){const[l,c]=X.useState({left:0,top:0});return X.useEffect(()=>{if(!e||!s)return;const u=()=>c(YV(s));u();const h=new ResizeObserver(u);return h.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{h.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,s]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(u=>u.label)),DL.createPortal(t.jsx("div",{className:`${Ph.panel} ${e?Ph.open:""}`,style:{left:l.left,top:l.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:a,role:"menu",children:t.jsx("div",{className:Ph.col,children:n.map(u=>r(u))})}),document.body))}const ZV=[{to:"/",label:"Home",icon:t.jsx(jD,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/discover",label:"Discover",icon:t.jsx(uD,{className:"ico"}),featureId:"main.discover"},{to:"/dashboard",label:"Dashboard",icon:t.jsx(CD,{className:"ico"}),featureId:"main.dashboard"},{to:"/settings",label:"Settings",icon:t.jsx(HD,{className:"ico"}),featureId:"main.settings"},{to:"/guild-hub",label:"Guild Hub",icon:t.jsx(Ac,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",label:"Admin",icon:t.jsx(KD,{className:"ico"}),featureId:"main.admin"},{to:"/playground",label:"Playground",icon:t.jsx(Xf,{className:"ico"}),featureId:"main.playground"}],eU=[{to:"/toplists",label:"Toplists",icon:t.jsx(o7,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub",label:"Guide Hub",icon:t.jsx(QL,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",label:"Tools",icon:t.jsx(h7,{className:"ico"}),i18nKey:"nav.tools",featureId:"main.tools"},{to:"/community",label:"Community",icon:t.jsx(AD,{className:"ico"}),featureId:"main.community"},{to:"/scans",label:"Scans",icon:t.jsx(xD,{className:"ico"}),featureId:"main.scans"}],tU={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function sU(s,e){return e?e==="admin"?s.includes("admin"):s.includes("admin")||s.includes("mod"):!0}function nU(s,e){return s?s.filter(n=>sU(e,n.minRole)):[]}const rU=220;function iU(s=rU){const[e,n]=X.useState(!1),r=X.useRef(null),i=X.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),a=X.useCallback(()=>{i(),n(!0)},[i]),l=X.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),s)},[i,s]);return X.useEffect(()=>()=>i(),[i]),{open:e,onEnter:a,onLeave:l,setOpen:n}}function o_({text:s,isOpen:e,duration:n=1,step:r=45}){const i=X.useMemo(()=>Array.from(s),[s]);return t.jsx("span",{className:Pt.label,children:t.jsx("span",{className:Pt.labelText,"data-open":e?"true":"false","aria-label":s,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((a,l)=>t.jsx("span",{className:Pt.char,style:{"--i":l},"aria-hidden":"true",children:a===" "?"":a},`${s}-${l}`))})})}function aU({it:s,label:e,collapsed:n,allowSubmenus:r,subItems:i}){const a=i.length>0,{open:l,onEnter:c,onLeave:u,setOpen:h}=iU(),p=X.useRef(null),g=X.useCallback(()=>{if(!r||!a){h(!1);return}c()},[r,a,c,h]);return t.jsxs("div",{ref:p,className:`${Pt.navItemWrap} ${l?Pt.isOpen:""}`,onMouseEnter:g,onMouseLeave:u,children:[t.jsxs(ys,{to:s.to,end:!!s.end,className:({isActive:x})=>`${Pt.navBtn} ${x?Pt.navBtnActive:""}`,children:[s.icon,t.jsx(o_,{text:e,isOpen:!n}),a&&!n&&t.jsx("span",{className:Pt.trailing,"aria-hidden":"true",children:t.jsx(ZL,{className:"ico"})})]}),a&&t.jsx(JV,{anchorEl:p.current,open:l,items:i.map(({to:x,label:b})=>({to:x,label:b})),renderLink:x=>t.jsx(ys,{to:x.to,end:!0,className:({isActive:b})=>`${Ph.link} ${b?Ph.linkActive:""}`,children:x.label},x.to),onMouseEnter:c,onMouseLeave:u})]})}function eN({title:s,items:e,collapsed:n,allowSubmenus:r,userRoles:i,translate:a,isItemVisible:l}){return t.jsxs(t.Fragment,{children:[s&&t.jsx("div",{className:`${Pt.navTitle} ${Pt.segTitle}`,children:s}),t.jsx("div",{className:Pt.navCol,children:e.map(c=>{if(!l(c))return null;const u=nU(tU[c.to],i),h=c.i18nKey?a(c.i18nKey):c.label;return u.length?t.jsx(aU,{it:c,label:h,collapsed:n,allowSubmenus:r,subItems:u},c.to):t.jsxs(ys,{to:c.to,end:!!c.end,className:({isActive:p})=>`${Pt.navBtn} ${p?Pt.navBtnActive:""}`,children:[c.icon,t.jsx(o_,{text:h,isOpen:!n})]},c.to)})})]})}const oU=90,lU=180;function cU({expanded:s,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){var $;const a=X.useRef(null),l=X.useRef(null),[c,u]=X.useState(!1),h=X.useCallback(()=>{a.current&&(window.clearTimeout(a.current),a.current=null),l.current&&(window.clearTimeout(l.current),l.current=null)},[]),p=X.useCallback(()=>{!i||n||(h(),u(!1),a.current=window.setTimeout(()=>e(!0),oU))},[i,n,h,e]),g=X.useCallback(()=>{!i||n||(h(),l.current=window.setTimeout(()=>{e(!1),u(!1)},lU))},[i,n,h,e]);X.useEffect(()=>()=>h(),[h]),X.useEffect(()=>{n&&u(!0)},[n]);const x=z=>{z.propertyName==="width"&&s&&!n&&u(!0)};X.useEffect(()=>{if(s&&!n){const z=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(z)}},[s,n]);const b=!s,_=n||s&&c,S=Ei(),{t:C}=Ia(),{status:E,user:F,logout:k}=So(),y=E==="authenticated",w=($=F==null?void 0:F.roles)!=null?$:[],P=X.useMemo(()=>{var z;return(z=F==null?void 0:F.linkedPlayers)!=null?z:[]},[F==null?void 0:F.linkedPlayers]),{isVisibleInSidebar:T}=wv(),N=()=>{y?k():S("/login")},A=z=>{S(`/player/${z}`)},M=()=>{P.length>0||S(y?"/settings/account?tab=connected-characters&openHelp=1":"/help#linking")},R=y?C("sidebar.connectedCharacters.empty",{defaultValue:"No characters linked yet. Link a character in your account to see it here."}):C("sidebar.connectedCharacters.loginPrompt",{defaultValue:"Sign in to see your linked characters."}),B=y?C("sidebar.connectedCharacters.ctaAuthed",{defaultValue:"Open linked characters guide"}):C("sidebar.connectedCharacters.ctaGuest",{defaultValue:"Open start guide"});return t.jsxs("aside",{id:"sidebar-root",className:`${Pt.root} ${s?Pt.expanded:""}`,"data-collapsed":b?"true":"false",onMouseEnter:p,onMouseLeave:g,onTransitionEnd:x,"aria-label":"Navigation",children:[t.jsxs("div",{className:Pt.headRow,children:[t.jsxs("div",{className:Pt.headTitle,children:[t.jsx("span",{className:Pt.headDot})," ",t.jsx("span",{className:Pt.headLabel,children:"Navigation"})]}),t.jsx("button",{className:Pt.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?t.jsx(MD,{className:"ico"}):t.jsx(LD,{className:"ico"})})]}),t.jsx("div",{className:Pt.navScroll,children:t.jsxs("div",{className:Pt.pad,children:[t.jsx("div",{className:`${Pt.segCard} ${Pt.mainNavCard}`,children:t.jsx(eN,{items:ZV,collapsed:b,allowSubmenus:_,userRoles:w,translate:C,isItemVisible:z=>{var U;return T((U=z.featureId)!=null?U:z.to)}})}),t.jsx("div",{className:Pt.segTitle,children:"Kategorien"}),t.jsx("div",{className:`${Pt.segCard} ${Pt.mainNavCard}`,children:t.jsx(eN,{items:eU,collapsed:b,allowSubmenus:_,userRoles:w,translate:C,isItemVisible:z=>{var U;return T((U=z.featureId)!=null?U:z.to)}})}),t.jsxs("div",{className:`${Pt.segCard} ${Pt.mainNavCard} ${Pt.connectedCharactersCard}`,children:[t.jsx("div",{className:Pt.connectedCharactersTitle,children:C("sidebar.connectedCharacters.title",{defaultValue:"Connected characters"})}),P.length===0?t.jsxs("button",{type:"button",className:Pt.connectedCharactersEmpty,onClick:M,children:[t.jsx("span",{className:Pt.connectedCharactersEmptyText,children:R}),t.jsx("span",{className:Pt.connectedCharactersEmptyCta,children:B})]}):t.jsx("div",{className:Pt.connectedCharactersList,"data-collapsed":b?"true":"false",children:P.map(z=>{var q,se;const U=[z.server,z.class].filter(Boolean).join(" | "),W=(q=z.playerId)!=null?q:"-",K=`${(se=z.server)!=null?se:"server"}-${W}`;return t.jsxs("button",{type:"button",className:Pt.characterChip,onClick:()=>A(W),children:[t.jsx("span",{className:Pt.characterChipId,children:W}),U&&t.jsx("span",{className:Pt.characterChipMeta,children:U})]},K)})})]})]})}),t.jsxs("div",{className:`${Pt.footer} ${Pt.segCard} ${Pt.mainNavCard}`,children:[t.jsxs("button",{className:Pt.login,type:"button",onClick:N,children:[t.jsx(Ac,{className:"ico"}),t.jsx(o_,{text:y?"Logout":"Login",isOpen:!b})]}),y&&(F!=null&&F.displayName)?t.jsx("div",{className:Pt.userMeta,title:F.displayName,children:F.displayName}):null,t.jsx(ys,{to:"/help",className:Pt.footerLink,children:C("nav.help",{defaultValue:"Help"})}),t.jsxs("div",{className:Pt.legal,children:["(c) 2025 ",C("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})]})]})]})}const Wg="/assets/logo-sfdatahub-CUdhlsEb.png";function dU({src:s,alt:e="",children:n,to:r="/",loading:i="eager",decoding:a="async"}){const l=s!=null?s:Wg;return t.jsxs("div",{className:"logo-dock",children:[t.jsx(ys,{to:r,"aria-label":"Go to home",children:t.jsx("img",{className:"logo-img",src:l,alt:e,loading:i,decoding:a,onError:c=>{const u=c.currentTarget;u.src!==Wg&&(u.src=Wg)}})}),n]})}const uU={borderColor:"#2B4C73",background:"#1A2F4A"};function hU(){const[s,e]=I.useState(!1),[n,r]=I.useState(!1),i=n||s,{t:a}=Ia(),l=I.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]),c=a("footer.about.body").split(`

`),u=[{key:"tos",to:"/playground/legal/tos",label:a("help.sections.legal.items.tos",{defaultValue:"Terms of Service (ToS)"})},{key:"privacy",to:"/playground/legal/tos",label:a("help.sections.legal.items.privacy",{defaultValue:"Privacy Policy"})},{key:"imprint",to:"/help",label:a("help.sections.legal.items.imprint",{defaultValue:"Imprint / Contact"})}];return t.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":l},children:[t.jsx(dU,{src:"/logo.png"}),t.jsx(dV,{}),t.jsx("div",{className:"logo-fill"}),t.jsx(cU,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),t.jsx("div",{className:"content",children:t.jsx("div",{className:"content-inner",children:t.jsxs("div",{className:"content-body",children:[t.jsx($5,{}),t.jsx("div",{className:"mt-4 px-4 md:px-6",children:t.jsxs("div",{className:"rounded-2xl border px-4 py-4",style:uU,children:[t.jsx("div",{className:"text-sm font-semibold",style:{color:"#F5F9FF"},children:a("footer.about.title")}),t.jsx("div",{className:"mt-2 space-y-2 text-[13px]",style:{color:"#B0C4D9"},children:c.map((h,p)=>t.jsx("p",{className:"whitespace-pre-line",children:h},`footer-about-${p}`))}),t.jsxs("div",{className:"mt-4 space-y-2 text-[12px]",style:{color:"#B0C4D9"},children:[t.jsx("div",{children:a("footer.copyright",{defaultValue:" 2025 SFDataHub  community project around Shakes & Fidget."})}),t.jsx("div",{children:a("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})})]}),t.jsx("div",{className:"mt-3 flex flex-wrap gap-3 text-[13px]",style:{color:"#9EC7FF"},children:u.map(h=>t.jsx(ws,{to:h.to,className:"underline hover:no-underline",children:h.label},h.key))})]})})]})})})]})}const LI=I.createContext({});function l_(s){const e=I.useRef(null);return e.current===null&&(e.current=s()),e.current}const c_=I.createContext(null),d_=I.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function pU(s=!0){const e=I.useContext(c_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=I.useId();I.useEffect(()=>{s&&i(a)},[s]);const l=I.useCallback(()=>s&&r&&r(a),[a,r,s]);return!n&&r?[!1,l]:[!0]}const u_=typeof window!="undefined",DI=u_?I.useLayoutEffect:I.useEffect,di=s=>s;let MI=di;function h_(s){let e;return()=>(e===void 0&&(e=s()),e)}const Tc=(s,e,n)=>{const r=e-s;return r===0?1:(n-s)/r},ja=s=>s*1e3,Sa=s=>s/1e3,mU={useManualTiming:!1};function gU(s){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(u.schedule(h),s()),h(l)}const u={schedule:(h,p=!1,g=!1)=>{const b=g&&r?e:n;return p&&a.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const cg=["read","resolveKeyframes","update","preRender","render","postRender"],fU=40;function FI(s,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=cg.reduce((E,F)=>(E[F]=gU(a),E),{}),{read:c,resolveKeyframes:u,update:h,preRender:p,render:g,postRender:x}=l,b=()=>{const E=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,fU),1),i.timestamp=E,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),p.process(i),g.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,s(b))},_=()=>{n=!0,r=!0,i.isProcessing||s(b)};return{schedule:cg.reduce((E,F)=>{const k=l[F];return E[F]=(y,w=!1,P=!1)=>(n||_(),k.schedule(y,w,P)),E},{}),cancel:E=>{for(let F=0;F<cg.length;F++)l[cg[F]].cancel(E)},state:i,steps:l}}const{schedule:Ls,cancel:bo,state:Kn,steps:Ay}=FI(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:di,!0),BI=I.createContext({strict:!1}),tN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eu={};for(const s in tN)eu[s]={isEnabled:e=>tN[s].some(n=>!!e[n])};function vU(s){for(const e in s)eu[e]={...eu[e],...s[e]}}const xU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||xU.has(s)}let $I=s=>!Sf(s);function yU(s){s&&($I=e=>e.startsWith("on")?!Sf(e):s(e))}try{yU(require("@emotion/is-prop-valid").default)}catch(s){}function bU(s,e,n){const r={};for(const i in s)i==="values"&&typeof s.values=="object"||($I(i)||n===!0&&Sf(i)||!e&&!Sf(i)||s.draggable&&i.startsWith("onDrag"))&&(r[i]=s[i]);return r}function _U(s){if(typeof Proxy=="undefined")return s;const e=new Map,n=(...r)=>s(...r);return new Proxy(n,{get:(r,i)=>i==="create"?s:(e.has(i)||e.set(i,s(i)),e.get(i))})}const Nv=I.createContext({});function rp(s){return typeof s=="string"||Array.isArray(s)}function kv(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const p_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m_=["initial",...p_];function Cv(s){return kv(s.animate)||m_.some(e=>rp(s[e]))}function OI(s){return!!(Cv(s)||s.variants)}function wU(s,e){if(Cv(s)){const{initial:n,animate:r}=s;return{initial:n===!1||rp(n)?n:void 0,animate:rp(r)?r:void 0}}return s.inherit!==!1?e:{}}function jU(s){const{initial:e,animate:n}=wU(s,I.useContext(Nv));return I.useMemo(()=>({initial:e,animate:n}),[sN(e),sN(n)])}function sN(s){return Array.isArray(s)?s.join(" "):s}const SU=Symbol.for("motionComponentSymbol");function Id(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function NU(s,e,n){return I.useCallback(r=>{r&&s.onMount&&s.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Id(n)&&(n.current=r))},[e])}const g_=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kU="framerAppearId",VI="data-"+g_(kU),{schedule:f_}=FI(queueMicrotask,!1),UI=I.createContext({});function CU(s,e,n,r,i){var a,l;const{visualElement:c}=I.useContext(Nv),u=I.useContext(BI),h=I.useContext(c_),p=I.useContext(d_).reducedMotion,g=I.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(s,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const x=g.current,b=I.useContext(UI);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&TU(g.current,n,i,b);const _=I.useRef(!1);I.useInsertionEffect(()=>{x&&_.current&&x.update(n,h)});const S=n[VI],C=I.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return DI(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),f_.render(x.render),C.current&&x.animationState&&x.animationState.animateChanges())}),I.useEffect(()=>{x&&(!C.current&&x.animationState&&x.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,S)}),C.current=!1))}),x}function TU(s,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h}=e;s.projection=new n(s.latestValues,e["data-framer-portal-id"]?void 0:zI(s.parent)),s.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Id(c),visualElement:s,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:h})}function zI(s){if(s)return s.options.allowProjection!==!1?s.projection:zI(s.parent)}function IU({preloadedFeatures:s,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;s&&vU(s);function c(h,p){let g;const x={...I.useContext(d_),...h,layoutId:AU(h)},{isStatic:b}=x,_=jU(h),S=r(h,b);if(!b&&u_){EU();const C=PU(x);g=C.MeasureLayout,_.visualElement=CU(i,S,x,e,C.ProjectionNode)}return t.jsxs(Nv.Provider,{value:_,children:[g&&_.visualElement?t.jsx(g,{visualElement:_.visualElement,...x}):null,n(i,h,NU(S,_.visualElement,p),S,b,_.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const u=I.forwardRef(c);return u[SU]=i,u}function AU({layoutId:s}){const e=I.useContext(LI).id;return e&&s!==void 0?e+"-"+s:s}function EU(s,e){I.useContext(BI).strict}function PU(s){const{drag:e,layout:n}=eu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(s)||n!=null&&n.isEnabled(s)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const RU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v_(s){return typeof s!="string"||s.includes("-")?!1:!!(RU.indexOf(s)>-1||/[A-Z]/u.test(s))}function nN(s){const e=[{},{}];return s==null||s.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function x_(s,e,n,r){if(typeof e=="function"){const[i,a]=nN(r);e=e(n!==void 0?n:s.custom,i,a)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[i,a]=nN(r);e=e(n!==void 0?n:s.custom,i,a)}return e}const x1=s=>Array.isArray(s),LU=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),DU=s=>x1(s)?s[s.length-1]||0:s,Fn=s=>!!(s&&s.getVelocity);function qg(s){const e=Fn(s)?s.get():s;return LU(e)?e.toValue():e}function MU({scrapeMotionValuesFromProps:s,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:FU(r,i,a,s),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const HI=s=>(e,n)=>{const r=I.useContext(Nv),i=I.useContext(c_),a=()=>MU(s,e,r,i);return n?a():l_(a)};function FU(s,e,n,r){const i={},a=r(s,{});for(const x in a)i[x]=qg(a[x]);let{initial:l,animate:c}=s;const u=Cv(s),h=OI(s);e&&h&&!u&&s.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?c:l;if(g&&typeof g!="boolean"&&!kv(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const _=x_(s,x[b]);if(_){const{transitionEnd:S,transition:C,...E}=_;for(const F in E){let k=E[F];if(Array.isArray(k)){const y=p?k.length-1:0;k=k[y]}k!==null&&(i[F]=k)}for(const F in S)i[F]=S[F]}}}return i}const gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rc=new Set(gu),GI=s=>e=>typeof e=="string"&&e.startsWith(s),WI=GI("--"),BU=GI("var(--"),y_=s=>BU(s)?$U.test(s.split("/*")[0].trim()):!1,$U=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qI=(s,e)=>e&&typeof s=="number"?e.transform(s):s,_o=(s,e,n)=>n>e?e:n<s?s:n,fu={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},ip={...fu,transform:s=>_o(0,1,s)},dg={...fu,default:1},Ep=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),sl=Ep("deg"),Na=Ep("%"),yt=Ep("px"),OU=Ep("vh"),VU=Ep("vw"),rN={...Na,parse:s=>Na.parse(s)/100,transform:s=>Na.transform(s*100)},UU={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt},zU={rotate:sl,rotateX:sl,rotateY:sl,rotateZ:sl,scale:dg,scaleX:dg,scaleY:dg,scaleZ:dg,skew:sl,skewX:sl,skewY:sl,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:ip,originX:rN,originY:rN,originZ:yt},iN={...fu,transform:Math.round},b_={...UU,...zU,zIndex:iN,size:yt,fillOpacity:ip,strokeOpacity:ip,numOctaves:iN},HU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GU=gu.length;function WU(s,e,n){let r="",i=!0;for(let a=0;a<GU;a++){const l=gu[a],c=s[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=qI(c,b_[l]);if(!u){i=!1;const p=HU[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function __(s,e,n){const{style:r,vars:i,transformOrigin:a}=s;let l=!1,c=!1;for(const u in e){const h=e[u];if(Rc.has(u)){l=!0;continue}else if(WI(u)){i[u]=h;continue}else{const p=qI(h,b_[u]);u.startsWith("origin")?(c=!0,a[u]=p):r[u]=p}}if(e.transform||(l||n?r.transform=WU(e,s.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:p=0}=a;r.transformOrigin=`${u} ${h} ${p}`}}const qU={offset:"stroke-dashoffset",array:"stroke-dasharray"},KU={offset:"strokeDashoffset",array:"strokeDasharray"};function QU(s,e,n=1,r=0,i=!0){s.pathLength=1;const a=i?qU:KU;s[a.offset]=yt.transform(-r);const l=yt.transform(e),c=yt.transform(n);s[a.array]=`${l} ${c}`}function aN(s,e,n){return typeof s=="string"?s:yt.transform(e+n*s)}function XU(s,e,n){const r=aN(e,s.x,s.width),i=aN(n,s.y,s.height);return`${r} ${i}`}function w_(s,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},p,g){if(__(s,h,g),p){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:x,style:b,dimensions:_}=s;x.transform&&(_&&(b.transform=x.transform),delete x.transform),_&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=XU(_,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),l!==void 0&&QU(x,l,c,u,!1)}const j_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),KI=()=>({...j_(),attrs:{}}),S_=s=>typeof s=="string"&&s.toLowerCase()==="svg";function QI(s,{style:e,vars:n},r,i){Object.assign(s.style,e,i&&i.getProjectionStyles(r));for(const a in n)s.style.setProperty(a,n[a])}const XI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YI(s,e,n,r){QI(s,e,void 0,r);for(const i in e.attrs)s.setAttribute(XI.has(i)?i:g_(i),e.attrs[i])}const Nf={};function YU(s){Object.assign(Nf,s)}function JI(s,{layout:e,layoutId:n}){return Rc.has(s)||s.startsWith("origin")||(e||n!==void 0)&&(!!Nf[s]||s==="opacity")}function N_(s,e,n){var r;const{style:i}=s,a={};for(const l in i)(Fn(i[l])||e.style&&Fn(e.style[l])||JI(l,s)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function ZI(s,e,n){const r=N_(s,e,n);for(const i in s)if(Fn(s[i])||Fn(e[i])){const a=gu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=s[i]}return r}function JU(s,e){try{e.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const oN=["x","y","width","height","cx","cy","r"],ZU={useVisualState:HI({scrapeMotionValuesFromProps:ZI,createRenderState:KI,onUpdate:({props:s,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!s.drag;if(!a){for(const c in i)if(Rc.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<oN.length;c++){const u=oN[c];s[u]!==e[u]&&(l=!0)}l&&Ls.read(()=>{JU(n,r),Ls.render(()=>{w_(r,i,S_(n.tagName),s.transformTemplate),YI(n,r)})})}})},ez={useVisualState:HI({scrapeMotionValuesFromProps:N_,createRenderState:j_})};function e4(s,e,n){for(const r in e)!Fn(e[r])&&!JI(r,n)&&(s[r]=e[r])}function tz({transformTemplate:s},e){return I.useMemo(()=>{const n=j_();return __(n,e,s),Object.assign({},n.vars,n.style)},[e])}function sz(s,e){const n=s.style||{},r={};return e4(r,n,s),Object.assign(r,tz(s,e)),r}function nz(s,e){const n={},r=sz(s,e);return s.drag&&s.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(n.tabIndex=0),n.style=r,n}function rz(s,e,n,r){const i=I.useMemo(()=>{const a=KI();return w_(a,e,S_(r),s.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(s.style){const a={};e4(a,s.style,s),i.style={...a,...i.style}}return i}function iz(s=!1){return(n,r,i,{latestValues:a},l)=>{const u=(v_(n)?rz:nz)(r,a,l,n),h=bU(r,typeof n=="string",s),p=n!==I.Fragment?{...h,...u,ref:i}:{},{children:g}=r,x=I.useMemo(()=>Fn(g)?g.get():g,[g]);return I.createElement(n,{...p,children:x})}}function az(s,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...v_(r)?ZU:ez,preloadedFeatures:s,useRender:iz(i),createVisualElement:e,Component:r};return IU(l)}}function t4(s,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==s.length)return!1;for(let r=0;r<n;r++)if(e[r]!==s[r])return!1;return!0}function Tv(s,e,n){const r=s.getProps();return x_(r,e,n!==void 0?n:r.custom,s)}const oz=h_(()=>window.ScrollTimeline!==void 0);class lz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(oz()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class s4 extends lz{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function k_(s,e){return s?s[e]||s.default||s:void 0}const kf=2e4;function C_(s){let e=0;const n=50;let r=s.next(e);for(;!r.done&&e<kf;)e+=n,r=s.next(e);return e>=kf?1/0:e}function cz(s,e=100,n){const r=n({...s,keyframes:[0,e]}),i=Math.min(C_(r),kf);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Sa(i)}}function Iv(s){return typeof s=="function"}function lN(s,e){s.timeline=e,s.onfinish=null}const T_=s=>Array.isArray(s)&&typeof s[0]=="number",dz={linearEasing:void 0};function uz(s,e){const n=h_(s);return()=>{var r;return(r=dz[e])!==null&&r!==void 0?r:n()}}const Cf=uz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(s){return!1}return!0},"linearEasing"),n4=(s,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=s(Tc(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function r4(s){return!!(typeof s=="function"&&Cf()||!s||typeof s=="string"&&(s in y1||Cf())||T_(s)||Array.isArray(s)&&s.every(r4))}const yh=([s,e,n,r])=>`cubic-bezier(${s}, ${e}, ${n}, ${r})`,y1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yh([0,.65,.55,1]),circOut:yh([.55,0,1,.45]),backIn:yh([.31,.01,.66,-.59]),backOut:yh([.33,1.53,.69,.99])};function i4(s,e){if(s)return typeof s=="function"&&Cf()?n4(s,e):T_(s)?yh(s):Array.isArray(s)?s.map(n=>i4(n,e)||y1.easeOut):y1[s]}const qi={x:!1,y:!1};function a4(){return qi.x||qi.y}function o4(s,e,n){var r;if(s instanceof Element)return[s];if(typeof s=="string"){let i=document;const a=(r=n==null?void 0:n[s])!==null&&r!==void 0?r:i.querySelectorAll(s);return a?Array.from(a):[]}return Array.from(s)}function l4(s,e){const n=o4(s),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function cN(s){return e=>{e.pointerType==="touch"||a4()||s(e)}}function hz(s,e,n={}){const[r,i,a]=l4(s,n),l=cN(c=>{const{target:u}=c,h=e(c);if(typeof h!="function"||!u)return;const p=cN(g=>{h(g),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const c4=(s,e)=>e?s===e?!0:c4(s,e.parentElement):!1,I_=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,pz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mz(s){return pz.has(s.tagName)||s.tabIndex!==-1}const bh=new WeakSet;function dN(s){return e=>{e.key==="Enter"&&s(e)}}function Ey(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gz=(s,e)=>{const n=s.currentTarget;if(!n)return;const r=dN(()=>{if(bh.has(n))return;Ey(n,"down");const i=dN(()=>{Ey(n,"up")}),a=()=>Ey(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function uN(s){return I_(s)&&!a4()}function fz(s,e,n={}){const[r,i,a]=l4(s,n),l=c=>{const u=c.currentTarget;if(!uN(c)||bh.has(u))return;bh.add(u);const h=e(c),p=(b,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),!(!uN(b)||!bh.has(u))&&(bh.delete(u),typeof h=="function"&&h(b,{success:_}))},g=b=>{p(b,n.useGlobalTarget||c4(u,b.target))},x=b=>{p(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",x,i)};return r.forEach(c=>{!mz(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",h=>gz(h,i),i)}),a}function vz(s){return s==="x"||s==="y"?qi[s]?null:(qi[s]=!0,()=>{qi[s]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}const d4=new Set(["width","height","top","left","right","bottom",...gu]);let Kg;function xz(){Kg=void 0}const ka={now:()=>(Kg===void 0&&ka.set(Kn.isProcessing||mU.useManualTiming?Kn.timestamp:performance.now()),Kg),set:s=>{Kg=s,queueMicrotask(xz)}};function A_(s,e){s.indexOf(e)===-1&&s.push(e)}function Av(s,e){const n=s.indexOf(e);n>-1&&s.splice(n,1)}class E_{constructor(){this.subscriptions=[]}add(e){return A_(this.subscriptions,e),()=>Av(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function u4(s,e){return e?s*(1e3/e):0}const hN=30,yz=s=>!isNaN(parseFloat(s)),Rh={current:void 0};class bz{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=ka.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ka.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new E_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ls.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Rh.current&&Rh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ka.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hN);return u4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(s,e){return new bz(s,e)}function _z(s,e,n){s.hasValue(e)?s.getValue(e).set(n):s.addValue(e,tu(n))}function wz(s,e){const n=Tv(s,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=DU(a[l]);_z(s,l,c)}}function jz(s){return!!(Fn(s)&&s.add)}function b1(s,e){const n=s.getValue("willChange");if(jz(n))return n.add(e)}function h4(s){return s.props[VI]}const p4=(s,e,n)=>(((1-3*n+3*e)*s+(3*n-6*e))*s+3*e)*s,Sz=1e-7,Nz=12;function kz(s,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=p4(l,r,i)-s,a>0?n=l:e=l;while(Math.abs(a)>Sz&&++c<Nz);return l}function Pp(s,e,n,r){if(s===e&&n===r)return di;const i=a=>kz(a,0,1,s,n);return a=>a===0||a===1?a:p4(i(a),e,r)}const m4=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,g4=s=>e=>1-s(1-e),f4=Pp(.33,1.53,.69,.99),P_=g4(f4),v4=m4(P_),x4=s=>(s*=2)<1?.5*P_(s):.5*(2-Math.pow(2,-10*(s-1))),R_=s=>1-Math.sin(Math.acos(s)),y4=g4(R_),b4=m4(R_),_4=s=>/^0[^.\s]+$/u.test(s);function Cz(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||_4(s):!0}const Lh=s=>Math.round(s*1e5)/1e5,L_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tz(s){return s==null}const Iz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,D_=(s,e)=>n=>!!(typeof n=="string"&&Iz.test(n)&&n.startsWith(s)||e&&!Tz(n)&&Object.prototype.hasOwnProperty.call(n,e)),w4=(s,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(L_);return{[s]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Az=s=>_o(0,255,s),Py={...fu,transform:s=>Math.round(Az(s))},gc={test:D_("rgb","red"),parse:w4("red","green","blue"),transform:({red:s,green:e,blue:n,alpha:r=1})=>"rgba("+Py.transform(s)+", "+Py.transform(e)+", "+Py.transform(n)+", "+Lh(ip.transform(r))+")"};function Ez(s){let e="",n="",r="",i="";return s.length>5?(e=s.substring(1,3),n=s.substring(3,5),r=s.substring(5,7),i=s.substring(7,9)):(e=s.substring(1,2),n=s.substring(2,3),r=s.substring(3,4),i=s.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _1={test:D_("#"),parse:Ez,transform:gc.transform},Ad={test:D_("hsl","hue"),parse:w4("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(s)+", "+Na.transform(Lh(e))+", "+Na.transform(Lh(n))+", "+Lh(ip.transform(r))+")"},dr={test:s=>gc.test(s)||_1.test(s)||Ad.test(s),parse:s=>gc.test(s)?gc.parse(s):Ad.test(s)?Ad.parse(s):_1.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?gc.transform(s):Ad.transform(s)},Pz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Rz(s){var e,n;return isNaN(s)&&typeof s=="string"&&(((e=s.match(L_))===null||e===void 0?void 0:e.length)||0)+(((n=s.match(Pz))===null||n===void 0?void 0:n.length)||0)>0}const j4="number",S4="color",Lz="var",Dz="var(",pN="${}",Mz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ap(s){const e=s.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(Mz,u=>(dr.test(u)?(r.color.push(a),i.push(S4),n.push(dr.parse(u))):u.startsWith(Dz)?(r.var.push(a),i.push(Lz),n.push(u)):(r.number.push(a),i.push(j4),n.push(parseFloat(u))),++a,pN)).split(pN);return{values:n,split:c,indexes:r,types:i}}function N4(s){return ap(s).values}function k4(s){const{split:e,types:n}=ap(s),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===j4?a+=Lh(i[l]):c===S4?a+=dr.transform(i[l]):a+=i[l]}return a}}const Fz=s=>typeof s=="number"?0:s;function Bz(s){const e=N4(s);return k4(s)(e.map(Fz))}const Nl={test:Rz,parse:N4,createTransformer:k4,getAnimatableNone:Bz},$z=new Set(["brightness","contrast","saturate","opacity"]);function Oz(s){const[e,n]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[r]=n.match(L_)||[];if(!r)return s;const i=n.replace(r,"");let a=$z.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Vz=/\b([a-z-]*)\(.*?\)/gu,w1={...Nl,getAnimatableNone:s=>{const e=s.match(Vz);return e?e.map(Oz).join(" "):s}},Uz={...b_,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:w1,WebkitFilter:w1},M_=s=>Uz[s];function C4(s,e){let n=M_(s);return n!==w1&&(n=Nl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zz=new Set(["auto","none","0"]);function Hz(s,e,n){let r=0,i;for(;r<s.length&&!i;){const a=s[r];typeof a=="string"&&!zz.has(a)&&ap(a).values.length&&(i=s[r]),r++}if(i&&n)for(const a of e)s[a]=C4(n,i)}const mN=s=>s===fu||s===yt,gN=(s,e)=>parseFloat(s.split(", ")[e]),fN=(s,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return gN(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?gN(a[1],s):0}},Gz=new Set(["x","y","z"]),Wz=gu.filter(s=>!Gz.has(s));function qz(s){const e=[];return Wz.forEach(n=>{const r=s.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const su={width:({x:s},{paddingLeft:e="0",paddingRight:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),height:({y:s},{paddingTop:e="0",paddingBottom:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:fN(4,13),y:fN(5,14)};su.translateX=su.x;su.translateY=su.y;const yc=new Set;let j1=!1,S1=!1;function T4(){if(S1){const s=Array.from(yc).filter(r=>r.needsMeasurement),e=new Set(s.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=qz(r);i.length&&(n.set(r,i),r.render())}),s.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),s.forEach(r=>r.measureEndState()),s.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}S1=!1,j1=!1,yc.forEach(s=>s.complete()),yc.clear()}function I4(){yc.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(S1=!0)})}function Kz(){I4(),T4()}class F_{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(yc.add(this),j1||(j1=!0,Ls.read(I4),Ls.resolveKeyframes(T4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const u=r.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),yc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,yc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const A4=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),Qz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xz(s){const e=Qz.exec(s);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function E4(s,e,n=1){const[r,i]=Xz(s);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return A4(l)?parseFloat(l):l}return y_(i)?E4(i,e,n+1):i}const P4=s=>e=>e.test(s),Yz={test:s=>s==="auto",parse:s=>s},R4=[fu,yt,Na,sl,VU,OU,Yz],vN=s=>R4.find(P4(s));class L4 extends F_{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),y_(h))){const p=E4(h,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!d4.has(r)||e.length!==2)return;const[i,a]=e,l=vN(i),c=vN(a);if(l!==c)if(mN(l)&&mN(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Cz(e[i])&&r.push(i);r.length&&Hz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=su[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=su[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{n.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const xN=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Nl.test(s)||s==="0")&&!s.startsWith("url("));function Jz(s){const e=s[0];if(s.length===1)return!0;for(let n=0;n<s.length;n++)if(s[n]!==e)return!0}function Zz(s,e,n,r){const i=s[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=s[s.length-1],l=xN(i,e),c=xN(a,e);return!l||!c?!1:Jz(s)||(n==="spring"||Iv(n))&&r}const eH=s=>s!==null;function Ev(s,{repeat:e,repeatType:n="loop"},r){const i=s.filter(eH),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const tH=40;class D4{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ka.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tH?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Kz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ka.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:u,isGenerator:h}=this.options;if(!h&&!Zz(e,r,i,a))if(l)this.options.duration=0;else{u&&u(Ev(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Us=(s,e,n)=>s+(e-s)*n;function Ry(s,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+(e-s)*6*n:n<1/2?e:n<2/3?s+(e-s)*(2/3-n)*6:s}function sH({hue:s,saturation:e,lightness:n,alpha:r}){s/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=Ry(u,c,s+1/3),a=Ry(u,c,s),l=Ry(u,c,s-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Tf(s,e){return n=>n>0?e:s}const Ly=(s,e,n)=>{const r=s*s,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},nH=[_1,gc,Ad],rH=s=>nH.find(e=>e.test(s));function yN(s){const e=rH(s);if(!e)return!1;let n=e.parse(s);return e===Ad&&(n=sH(n)),n}const bN=(s,e)=>{const n=yN(s),r=yN(e);if(!n||!r)return Tf(s,e);const i={...n};return a=>(i.red=Ly(n.red,r.red,a),i.green=Ly(n.green,r.green,a),i.blue=Ly(n.blue,r.blue,a),i.alpha=Us(n.alpha,r.alpha,a),gc.transform(i))},iH=(s,e)=>n=>e(s(n)),Rp=(...s)=>s.reduce(iH),N1=new Set(["none","hidden"]);function aH(s,e){return N1.has(s)?n=>n<=0?s:e:n=>n>=1?e:s}function oH(s,e){return n=>Us(s,e,n)}function B_(s){return typeof s=="number"?oH:typeof s=="string"?y_(s)?Tf:dr.test(s)?bN:dH:Array.isArray(s)?M4:typeof s=="object"?dr.test(s)?bN:lH:Tf}function M4(s,e){const n=[...s],r=n.length,i=s.map((a,l)=>B_(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function lH(s,e){const n={...s,...e},r={};for(const i in n)s[i]!==void 0&&e[i]!==void 0&&(r[i]=B_(s[i])(s[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function cH(s,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=s.indexes[l][i[l]],u=(n=s.values[c])!==null&&n!==void 0?n:0;r[a]=u,i[l]++}return r}const dH=(s,e)=>{const n=Nl.createTransformer(e),r=ap(s),i=ap(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?N1.has(s)&&!i.values.length||N1.has(e)&&!r.values.length?aH(s,e):Rp(M4(cH(r,i),i.values),n):Tf(s,e)};function F4(s,e,n){return typeof s=="number"&&typeof e=="number"&&typeof n=="number"?Us(s,e,n):B_(s)(s,e)}const uH=5;function B4(s,e,n){const r=Math.max(e-uH,0);return u4(n-s(r),e-r)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dy=.001;function hH({duration:s=en.duration,bounce:e=en.bounce,velocity:n=en.velocity,mass:r=en.mass}){let i,a,l=1-e;l=_o(en.minDamping,en.maxDamping,l),s=_o(en.minDuration,en.maxDuration,Sa(s)),l<1?(i=h=>{const p=h*l,g=p*s,x=p-n,b=k1(h,l),_=Math.exp(-g);return Dy-x/b*_},a=h=>{const g=h*l*s,x=g*n+n,b=Math.pow(l,2)*Math.pow(h,2)*s,_=Math.exp(-g),S=k1(Math.pow(h,2),l);return(-i(h)+Dy>0?-1:1)*((x-b)*_)/S}):(i=h=>{const p=Math.exp(-h*s),g=(h-n)*s+1;return-Dy+p*g},a=h=>{const p=Math.exp(-h*s),g=(n-h)*(s*s);return p*g});const c=5/s,u=mH(i,a,c);if(s=ja(s),isNaN(u))return{stiffness:en.stiffness,damping:en.damping,duration:s};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:s}}}const pH=12;function mH(s,e,n){let r=n;for(let i=1;i<pH;i++)r=r-s(r)/e(r);return r}function k1(s,e){return s*Math.sqrt(1-e*e)}const gH=["duration","bounce"],fH=["stiffness","damping","mass"];function _N(s,e){return e.some(n=>s[n]!==void 0)}function vH(s){let e={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...s};if(!_N(s,fH)&&_N(s,gH))if(s.visualDuration){const n=s.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*_o(.05,1,1-(s.bounce||0))*Math.sqrt(i);e={...e,mass:en.mass,stiffness:i,damping:a}}else{const n=hH(s);e={...e,...n,mass:en.mass},e.isResolvedFromDuration=!0}return e}function $_(s=en.visualDuration,e=en.bounce){const n=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:b}=vH({...n,velocity:-Sa(n.velocity||0)}),_=x||0,S=h/(2*Math.sqrt(u*p)),C=l-a,E=Sa(Math.sqrt(u/p)),F=Math.abs(C)<5;r||(r=F?en.restSpeed.granular:en.restSpeed.default),i||(i=F?en.restDelta.granular:en.restDelta.default);let k;if(S<1){const w=k1(E,S);k=P=>{const T=Math.exp(-S*E*P);return l-T*((_+S*E*C)/w*Math.sin(w*P)+C*Math.cos(w*P))}}else if(S===1)k=w=>l-Math.exp(-E*w)*(C+(_+E*C)*w);else{const w=E*Math.sqrt(S*S-1);k=P=>{const T=Math.exp(-S*E*P),N=Math.min(w*P,300);return l-T*((_+S*E*C)*Math.sinh(N)+w*C*Math.cosh(N))/w}}const y={calculatedDuration:b&&g||null,next:w=>{const P=k(w);if(b)c.done=w>=g;else{let T=0;S<1&&(T=w===0?ja(_):B4(k,w,P));const N=Math.abs(T)<=r,A=Math.abs(l-P)<=i;c.done=N&&A}return c.value=c.done?l:P,c},toString:()=>{const w=Math.min(C_(y),kf),P=n4(T=>y.next(w*T).value,w,30);return w+"ms "+P}};return y}function wN({keyframes:s,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:p}){const g=s[0],x={done:!1,value:g},b=N=>c!==void 0&&N<c||u!==void 0&&N>u,_=N=>c===void 0?u:u===void 0||Math.abs(c-N)<Math.abs(u-N)?c:u;let S=n*e;const C=g+S,E=l===void 0?C:l(C);E!==C&&(S=E-g);const F=N=>-S*Math.exp(-N/r),k=N=>E+F(N),y=N=>{const A=F(N),M=k(N);x.done=Math.abs(A)<=h,x.value=x.done?E:M};let w,P;const T=N=>{b(x.value)&&(w=N,P=$_({keyframes:[x.value,_(x.value)],velocity:B4(k,N,x.value),damping:i,stiffness:a,restDelta:h,restSpeed:p}))};return T(0),{calculatedDuration:null,next:N=>{let A=!1;return!P&&w===void 0&&(A=!0,y(N),T(N)),w!==void 0&&N>=w?P.next(N-w):(!A&&y(N),x)}}}const xH=Pp(.42,0,1,1),yH=Pp(0,0,.58,1),$4=Pp(.42,0,.58,1),O4=s=>Array.isArray(s)&&typeof s[0]!="number",bH={linear:di,easeIn:xH,easeInOut:$4,easeOut:yH,circIn:R_,circInOut:b4,circOut:y4,backIn:P_,backInOut:v4,backOut:f4,anticipate:x4},jN=s=>{if(T_(s)){MI(s.length===4);const[e,n,r,i]=s;return Pp(e,n,r,i)}else if(typeof s=="string")return bH[s];return s};function _H(s,e,n){const r=[],i=n||F4,a=s.length-1;for(let l=0;l<a;l++){let c=i(s[l],s[l+1]);if(e){const u=Array.isArray(e)?e[l]||di:e;c=Rp(u,c)}r.push(c)}return r}function V4(s,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=s.length;if(MI(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=s[0]===s[1];s[0]>s[a-1]&&(s=[...s].reverse(),e=[...e].reverse());const c=_H(e,r,i),u=c.length,h=p=>{if(l&&p<s[0])return e[0];let g=0;if(u>1)for(;g<s.length-2&&!(p<s[g+1]);g++);const x=Tc(s[g],s[g+1],p);return c[g](x)};return n?p=>h(_o(s[0],s[a-1],p)):h}function U4(s,e){const n=s[s.length-1];for(let r=1;r<=e;r++){const i=Tc(0,e,r);s.push(Us(n,1,i))}}function z4(s){const e=[0];return U4(e,s.length-1),e}function wH(s,e){return s.map(n=>n*e)}function jH(s,e){return s.map(()=>e||$4).splice(0,s.length-1)}function If({duration:s=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=O4(r)?r.map(jN):jN(r),a={done:!1,value:e[0]},l=wH(n&&n.length===e.length?n:z4(e),s),c=V4(l,e,{ease:Array.isArray(i)?i:jH(e,i)});return{calculatedDuration:s,next:u=>(a.value=c(u),a.done=u>=s,a)}}const SH=s=>{const e=({timestamp:n})=>s(n);return{start:()=>Ls.update(e,!0),stop:()=>bo(e),now:()=>Kn.isProcessing?Kn.timestamp:ka.now()}},NH={decay:wN,inertia:wN,tween:If,keyframes:If,spring:$_},kH=s=>s/100;class O_ extends D4{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||F_,c=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=Iv(n)?n:NH[n]||If;let u,h;c!==If&&typeof e[0]!="number"&&(u=Rp(kH,F4(e[0],e[1])),e=[0,100]);const p=c({...this.options,keyframes:e});a==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=C_(p));const{calculatedDuration:g}=p,x=g+i,b=x*(r+1)-i;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:x,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=r;if(this.startTime===null)return a.next(0);const{delay:x,repeat:b,repeatType:_,repeatDelay:S,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-x*(this.speed>=0?1:-1),F=this.speed>=0?E<0:E>p;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let k=this.currentTime,y=a;if(b){const N=Math.min(this.currentTime,p)/g;let A=Math.floor(N),M=N%1;!M&&N>=1&&(M=1),M===1&&A--,A=Math.min(A,b+1),!!(A%2)&&(_==="reverse"?(M=1-M,S&&(M-=S/g)):_==="mirror"&&(y=l)),k=_o(0,1,M)*g}const w=F?{done:!1,value:u[0]}:y.next(k);c&&(w.value=c(w.value));let{done:P}=w;!F&&h!==null&&(P=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return T&&i!==void 0&&(w.value=Ev(u,this.options,i)),C&&C(w.value),T&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Sa(e.calculatedDuration):0}get time(){return Sa(this.currentTime)}set time(e){e=ja(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Sa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=SH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CH=new Set(["opacity","clipPath","filter","transform"]);function TH(s,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:u}={}){const h={[e]:n};u&&(h.offset=u);const p=i4(c,i);return Array.isArray(p)&&(h.easing=p),s.animate(h,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const IH=h_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Af=10,AH=2e4;function EH(s){return Iv(s.type)||s.type==="spring"||!r4(s.ease)}function PH(s,e){const n=new O_({...e,keyframes:s,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:s[0]};const i=[];let a=0;for(;!r.done&&a<AH;)r=n.sample(a),i.push(r.value),a+=Af;return{times:void 0,keyframes:i,duration:a-Af,ease:"linear"}}const H4={anticipate:x4,backInOut:v4,circInOut:b4};function RH(s){return s in H4}class SN extends D4{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new L4(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:u,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Cf()&&RH(a)&&(a=H4[a]),EH(this.options)){const{onComplete:g,onUpdate:x,motionValue:b,element:_,...S}=this.options,C=PH(e,S);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,i=C.times,a=C.ease,l="keyframes"}const p=TH(c.owner.current,u,e,{...this.options,duration:r,times:i,ease:a});return p.startTime=h!=null?h:this.calcStartTime(),this.pendingTimeline?(lN(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;c.set(Ev(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Sa(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Sa(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ja(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return di;const{animation:r}=n;lN(r,e)}return di}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:x,...b}=this.options,_=new O_({...b,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),S=ja(this.time);h.setWithVelocity(_.sample(S-Af).value,_.sample(S).value,Af)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=n.owner.getProps();return IH()&&r&&CH.has(r)&&!u&&!h&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const LH={type:"spring",stiffness:500,damping:25,restSpeed:10},DH=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),MH={type:"keyframes",duration:.8},FH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BH=(s,{keyframes:e})=>e.length>2?MH:Rc.has(s)?s.startsWith("scale")?DH(e[1]):LH:FH;function $H({when:s,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const V_=(s,e,n,r={},i,a)=>l=>{const c=k_(r,s)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ja(u);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:s,motionValue:e,element:a?void 0:i};$H(c)||(p={...p,...BH(s,p)}),p.duration&&(p.duration=ja(p.duration)),p.repeatDelay&&(p.repeatDelay=ja(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const x=Ev(p.keyframes,c);if(x!==void 0)return Ls.update(()=>{p.onUpdate(x),p.onComplete()}),new s4([])}return!a&&SN.supports(p)?new SN(p):new O_(p)};function OH({protectedKeys:s,needsAnimating:e},n){const r=s.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function U_(s,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=s.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(l=r);const h=[],p=i&&s.animationState&&s.animationState.getState()[i];for(const g in u){const x=s.getValue(g,(a=s.latestValues[g])!==null&&a!==void 0?a:null),b=u[g];if(b===void 0||p&&OH(p,g))continue;const _={delay:n,...k_(l||{},g)};let S=!1;if(window.MotionHandoffAnimation){const E=h4(s);if(E){const F=window.MotionHandoffAnimation(E,g,Ls);F!==null&&(_.startTime=F,S=!0)}}b1(s,g),x.start(V_(g,x,b,s.shouldReduceMotion&&d4.has(g)?{type:!1}:_,s,S));const C=x.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{Ls.update(()=>{c&&wz(s,c)})}),h}function C1(s,e,n={}){var r;const i=Tv(s,e,n.type==="exit"?(r=s.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=s.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(U_(s,i,n)):()=>Promise.resolve(),c=s.variantChildren&&s.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=a;return VH(s,e,p+h,g,x,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,p]=u==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function VH(s,e,n=0,r=0,i=1,a){const l=[],c=(s.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(s.variantChildren).sort(UH).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(C1(h,e,{...a,delay:n+u(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function UH(s,e){return s.sortNodePosition(e)}function zH(s,e,n={}){s.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>C1(s,a,n));r=Promise.all(i)}else if(typeof e=="string")r=C1(s,e,n);else{const i=typeof e=="function"?Tv(s,e,n.custom):e;r=Promise.all(U_(s,i,n))}return r.then(()=>{s.notify("AnimationComplete",e)})}const HH=m_.length;function G4(s){if(!s)return;if(!s.isControllingVariants){const n=s.parent?G4(s.parent)||{}:{};return s.props.initial!==void 0&&(n.initial=s.props.initial),n}const e={};for(let n=0;n<HH;n++){const r=m_[n],i=s.props[r];(rp(i)||i===!1)&&(e[r]=i)}return e}const GH=[...p_].reverse(),WH=p_.length;function qH(s){return e=>Promise.all(e.map(({animation:n,options:r})=>zH(s,n,r)))}function KH(s){let e=qH(s),n=NN(),r=!0;const i=u=>(h,p)=>{var g;const x=Tv(s,p,u==="exit"?(g=s.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(x){const{transition:b,transitionEnd:_,...S}=x;h={...h,...S,..._}}return h};function a(u){e=u(s)}function l(u){const{props:h}=s,p=G4(s.parent)||{},g=[],x=new Set;let b={},_=1/0;for(let C=0;C<WH;C++){const E=GH[C],F=n[E],k=h[E]!==void 0?h[E]:p[E],y=rp(k),w=E===u?F.isActive:null;w===!1&&(_=C);let P=k===p[E]&&k!==h[E]&&y;if(P&&r&&s.manuallyAnimateOnMount&&(P=!1),F.protectedKeys={...b},!F.isActive&&w===null||!k&&!F.prevProp||kv(k)||typeof k=="boolean")continue;const T=QH(F.prevProp,k);let N=T||E===u&&F.isActive&&!P&&y||C>_&&y,A=!1;const M=Array.isArray(k)?k:[k];let R=M.reduce(i(E),{});w===!1&&(R={});const{prevResolvedValues:B={}}=F,$={...B,...R},z=K=>{N=!0,x.has(K)&&(A=!0,x.delete(K)),F.needsAnimating[K]=!0;const q=s.getValue(K);q&&(q.liveStyle=!1)};for(const K in $){const q=R[K],se=B[K];if(b.hasOwnProperty(K))continue;let ne=!1;x1(q)&&x1(se)?ne=!t4(q,se):ne=q!==se,ne?q!=null?z(K):x.add(K):q!==void 0&&x.has(K)?z(K):F.protectedKeys[K]=!0}F.prevProp=k,F.prevResolvedValues=R,F.isActive&&(b={...b,...R}),r&&s.blockInitialAnimation&&(N=!1),N&&(!(P&&T)||A)&&g.push(...M.map(K=>({animation:K,options:{type:E}})))}if(x.size){const C={};x.forEach(E=>{const F=s.getBaseTarget(E),k=s.getValue(E);k&&(k.liveStyle=!0),C[E]=F!=null?F:null}),g.push({animation:C})}let S=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!s.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(g):Promise.resolve()}function c(u,h){var p;if(n[u].isActive===h)return Promise.resolve();(p=s.variantChildren)===null||p===void 0||p.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),n[u].isActive=h;const g=l(u);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=NN(),r=!0}}}function QH(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!t4(e,s):!1}function Zl(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NN(){return{animate:Zl(!0),whileInView:Zl(),whileHover:Zl(),whileTap:Zl(),whileDrag:Zl(),whileFocus:Zl(),exit:Zl()}}class Il{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XH extends Il{constructor(e){super(e),e.animationState||(e.animationState=KH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let YH=0;class JH extends Il{constructor(){super(...arguments),this.id=YH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ZH={animation:{Feature:XH},exit:{Feature:JH}};function op(s,e,n,r={passive:!0}){return s.addEventListener(e,n,r),()=>s.removeEventListener(e,n)}function Lp(s){return{point:{x:s.pageX,y:s.pageY}}}const eG=s=>e=>I_(e)&&s(e,Lp(e));function Dh(s,e,n,r){return op(s,e,eG(n),r)}const kN=(s,e)=>Math.abs(s-e);function tG(s,e){const n=kN(s.x,e.x),r=kN(s.y,e.y);return Math.sqrt(n**2+r**2)}class W4{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Fy(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=tG(g.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:_}=g,{timestamp:S}=Kn;this.history.push({..._,timestamp:S});const{onStart:C,onMove:E}=this.handlers;x||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=My(x,this.transformPagePoint),Ls.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Fy(g.type==="pointercancel"?this.lastMoveEventInfo:My(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,C),_&&_(g,C)},!I_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Lp(e),c=My(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=Kn;this.history=[{...u,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Fy(c,this.history)),this.removeListeners=Rp(Dh(this.contextWindow,"pointermove",this.handlePointerMove),Dh(this.contextWindow,"pointerup",this.handlePointerUp),Dh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bo(this.updatePoint)}}function My(s,e){return e?{point:e(s.point)}:s}function CN(s,e){return{x:s.x-e.x,y:s.y-e.y}}function Fy({point:s},e){return{point:s,delta:CN(s,q4(e)),offset:CN(s,sG(e)),velocity:nG(e,.1)}}function sG(s){return s[0]}function q4(s){return s[s.length-1]}function nG(s,e){if(s.length<2)return{x:0,y:0};let n=s.length-1,r=null;const i=q4(s);for(;n>=0&&(r=s[n],!(i.timestamp-r.timestamp>ja(e)));)n--;if(!r)return{x:0,y:0};const a=Sa(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const K4=1e-4,rG=1-K4,iG=1+K4,Q4=.01,aG=0-Q4,oG=0+Q4;function hi(s){return s.max-s.min}function lG(s,e,n){return Math.abs(s-e)<=n}function TN(s,e,n,r=.5){s.origin=r,s.originPoint=Us(e.min,e.max,s.origin),s.scale=hi(n)/hi(e),s.translate=Us(n.min,n.max,s.origin)-s.originPoint,(s.scale>=rG&&s.scale<=iG||isNaN(s.scale))&&(s.scale=1),(s.translate>=aG&&s.translate<=oG||isNaN(s.translate))&&(s.translate=0)}function Mh(s,e,n,r){TN(s.x,e.x,n.x,r?r.originX:void 0),TN(s.y,e.y,n.y,r?r.originY:void 0)}function IN(s,e,n){s.min=n.min+e.min,s.max=s.min+hi(e)}function cG(s,e,n){IN(s.x,e.x,n.x),IN(s.y,e.y,n.y)}function AN(s,e,n){s.min=e.min-n.min,s.max=s.min+hi(e)}function Fh(s,e,n){AN(s.x,e.x,n.x),AN(s.y,e.y,n.y)}function dG(s,{min:e,max:n},r){return e!==void 0&&s<e?s=r?Us(e,s,r.min):Math.max(s,e):n!==void 0&&s>n&&(s=r?Us(n,s,r.max):Math.min(s,n)),s}function EN(s,e,n){return{min:e!==void 0?s.min+e:void 0,max:n!==void 0?s.max+n-(s.max-s.min):void 0}}function uG(s,{top:e,left:n,bottom:r,right:i}){return{x:EN(s.x,n,i),y:EN(s.y,e,r)}}function PN(s,e){let n=e.min-s.min,r=e.max-s.max;return e.max-e.min<s.max-s.min&&([n,r]=[r,n]),{min:n,max:r}}function hG(s,e){return{x:PN(s.x,e.x),y:PN(s.y,e.y)}}function pG(s,e){let n=.5;const r=hi(s),i=hi(e);return i>r?n=Tc(e.min,e.max-r,s.min):r>i&&(n=Tc(s.min,s.max-i,e.min)),_o(0,1,n)}function mG(s,e){const n={};return e.min!==void 0&&(n.min=e.min-s.min),e.max!==void 0&&(n.max=e.max-s.min),n}const T1=.35;function gG(s=T1){return s===!1?s=0:s===!0&&(s=T1),{x:RN(s,"left","right"),y:RN(s,"top","bottom")}}function RN(s,e,n){return{min:LN(s,e),max:LN(s,n)}}function LN(s,e){return typeof s=="number"?s:s[e]||0}const DN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ed=()=>({x:DN(),y:DN()}),MN=()=>({min:0,max:0}),Zs=()=>({x:MN(),y:MN()});function Si(s){return[s("x"),s("y")]}function X4({top:s,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:s,max:r}}}function fG({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function vG(s,e){if(!e)return s;const n=e({x:s.left,y:s.top}),r=e({x:s.right,y:s.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function By(s){return s===void 0||s===1}function I1({scale:s,scaleX:e,scaleY:n}){return!By(s)||!By(e)||!By(n)}function dc(s){return I1(s)||Y4(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function Y4(s){return FN(s.x)||FN(s.y)}function FN(s){return s&&s!=="0%"}function Ef(s,e,n){const r=s-n,i=e*r;return n+i}function BN(s,e,n,r,i){return i!==void 0&&(s=Ef(s,i,r)),Ef(s,n,r)+e}function A1(s,e=0,n=1,r,i){s.min=BN(s.min,e,n,r,i),s.max=BN(s.max,e,n,r,i)}function J4(s,{x:e,y:n}){A1(s.x,e.translate,e.scale,e.originPoint),A1(s.y,n.translate,n.scale,n.originPoint)}const $N=.999999999999,ON=1.0000000000001;function xG(s,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Rd(s,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,J4(s,l)),r&&dc(a.latestValues)&&Rd(s,a.latestValues))}e.x<ON&&e.x>$N&&(e.x=1),e.y<ON&&e.y>$N&&(e.y=1)}function Pd(s,e){s.min=s.min+e,s.max=s.max+e}function VN(s,e,n,r,i=.5){const a=Us(s.min,s.max,i);A1(s,e,n,a,r)}function Rd(s,e){VN(s.x,e.x,e.scaleX,e.scale,e.originX),VN(s.y,e.y,e.scaleY,e.scale,e.originY)}function Z4(s,e){return X4(vG(s.getBoundingClientRect(),e))}function yG(s,e,n){const r=Z4(s,n),{scroll:i}=e;return i&&(Pd(r.x,i.offset.x),Pd(r.y,i.offset.y)),r}const eA=({current:s})=>s?s.ownerDocument.defaultView:null,bG=new WeakMap;class _G{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zs(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lp(p).point)},a=(p,g)=>{const{drag:x,dragPropagation:b,onDragStart:_}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vz(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(C=>{let E=this.getAxisMotionValue(C).get()||0;if(Na.test(E)){const{projection:F}=this.visualElement;if(F&&F.layout){const k=F.layout.layoutBox[C];k&&(E=hi(k)*(parseFloat(E)/100))}}this.originPoint[C]=E}),_&&Ls.postRender(()=>_(p,g)),b1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:_,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=g;if(b&&this.currentDirection===null){this.currentDirection=wG(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),S&&S(p,g)},c=(p,g)=>this.stop(p,g),u=()=>Si(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new W4(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:eA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Ls.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ug(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=dG(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Id(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uG(i.layoutBox,n):this.constraints=!1,this.elastic=gG(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=mG(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Id(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=yG(r,i.root,this.visualElement.getTransformPagePoint());let l=hG(i.layout.layoutBox,a);if(n){const c=n(fG(l));this.hasMutatedConstraints=!!c,c&&(l=X4(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Si(p=>{if(!ug(p,n,this.currentDirection))return;let g=u&&u[p]||{};l&&(g={min:0,max:0});const x=i?200:1e6,b=i?40:1e7,_={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return b1(this.visualElement,e),r.start(V_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Si(n=>{const{drag:r}=this.getProps();if(!ug(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-Us(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Id(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Si(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();i[l]=pG({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Si(l=>{if(!ug(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(Us(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;bG.set(this.visualElement,this);const e=this.visualElement.current,n=Dh(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Id(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ls.read(r);const l=op(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Si(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=T1,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function ug(s,e,n){return(e===!0||e===s)&&(n===null||n===s)}function wG(s,e=10){let n=null;return Math.abs(s.y)>e?n="y":Math.abs(s.x)>e&&(n="x"),n}class jG extends Il{constructor(e){super(e),this.removeGroupControls=di,this.removeListeners=di,this.controls=new _G(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const UN=s=>(e,n)=>{s&&Ls.postRender(()=>s(e,n))};class SG extends Il{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(e){this.session=new W4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:UN(e),onStart:UN(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Ls.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Dh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zN(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const sh={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(yt.test(s))s=parseFloat(s);else return s;const n=zN(s,e.target.x),r=zN(s,e.target.y);return`${n}% ${r}%`}},NG={correct:(s,{treeScale:e,projectionDelta:n})=>{const r=s,i=Nl.parse(s);if(i.length>5)return r;const a=Nl.createTransformer(s),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=u;const h=Us(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class kG extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;YU(CG),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Qg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ls.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),f_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tA(s){const[e,n]=pU(),r=I.useContext(LI);return t.jsx(kG,{...s,layoutGroup:r,switchLayoutGroup:I.useContext(UI),isPresent:e,safeToRemove:n})}const CG={borderRadius:{...sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sh,borderTopRightRadius:sh,borderBottomLeftRadius:sh,borderBottomRightRadius:sh,boxShadow:NG};function sA(s,e,n){const r=Fn(s)?s:tu(s);return r.start(V_("",r,e,n)),r.animation}function nA(s){return s instanceof SVGElement&&s.tagName!=="svg"}const TG=(s,e)=>s.depth-e.depth;class IG{constructor(){this.children=[],this.isDirty=!1}add(e){A_(this.children,e),this.isDirty=!0}remove(e){Av(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TG),this.isDirty=!1,this.children.forEach(e)}}function AG(s,e){const n=ka.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(bo(r),s(a-e))};return Ls.read(r,!0),()=>bo(r)}const rA=["TopLeft","TopRight","BottomLeft","BottomRight"],EG=rA.length,HN=s=>typeof s=="string"?parseFloat(s):s,GN=s=>typeof s=="number"||yt.test(s);function PG(s,e,n,r,i,a){i?(s.opacity=Us(0,n.opacity!==void 0?n.opacity:1,RG(r)),s.opacityExit=Us(e.opacity!==void 0?e.opacity:1,0,LG(r))):a&&(s.opacity=Us(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<EG;l++){const c=`border${rA[l]}Radius`;let u=WN(e,c),h=WN(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||GN(u)===GN(h)?(s[c]=Math.max(Us(HN(u),HN(h),r),0),(Na.test(h)||Na.test(u))&&(s[c]+="%")):s[c]=h}(e.rotate||n.rotate)&&(s.rotate=Us(e.rotate||0,n.rotate||0,r))}function WN(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const RG=iA(0,.5,y4),LG=iA(.5,.95,di);function iA(s,e,n){return r=>r<s?0:r>e?1:n(Tc(s,e,r))}function qN(s,e){s.min=e.min,s.max=e.max}function wi(s,e){qN(s.x,e.x),qN(s.y,e.y)}function KN(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function QN(s,e,n,r,i){return s-=e,s=Ef(s,1/n,r),i!==void 0&&(s=Ef(s,1/i,r)),s}function DG(s,e=0,n=1,r=.5,i,a=s,l=s){if(Na.test(e)&&(e=parseFloat(e),e=Us(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Us(a.min,a.max,r);s===a&&(c-=e),s.min=QN(s.min,e,n,c,i),s.max=QN(s.max,e,n,c,i)}function XN(s,e,[n,r,i],a,l){DG(s,e[n],e[r],e[i],e.scale,a,l)}const MG=["x","scaleX","originX"],FG=["y","scaleY","originY"];function YN(s,e,n,r){XN(s.x,e,MG,n?n.x:void 0,r?r.x:void 0),XN(s.y,e,FG,n?n.y:void 0,r?r.y:void 0)}function JN(s){return s.translate===0&&s.scale===1}function aA(s){return JN(s.x)&&JN(s.y)}function ZN(s,e){return s.min===e.min&&s.max===e.max}function BG(s,e){return ZN(s.x,e.x)&&ZN(s.y,e.y)}function ek(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function oA(s,e){return ek(s.x,e.x)&&ek(s.y,e.y)}function tk(s){return hi(s.x)/hi(s.y)}function sk(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class $G{constructor(){this.members=[]}add(e){A_(this.members,e),e.scheduleRender()}remove(e){if(Av(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OG(s,e,n){let r="";const i=s.x.translate/e.x,a=s.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:b,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),x&&(r+=`rotateY(${x}deg) `),b&&(r+=`skewX(${b}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=s.x.scale*e.x,u=s.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const uc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_h=typeof window!="undefined"&&window.MotionDebug!==void 0,$y=["","X","Y","Z"],VG={visibility:"hidden"},nk=1e3;let UG=0;function Oy(s,e,n,r){const{latestValues:i}=e;i[s]&&(n[s]=i[s],e.setStaticValue(s,0),r&&(r[s]=0))}function lA(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const n=h4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=s.options;window.MotionCancelOptimisedAnimation(n,"transform",Ls,!(i||a))}const{parent:r}=s;r&&!r.hasCheckedOptimisedAppear&&lA(r)}function cA({attachResizeListener:s,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=UG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_h&&(uc.totalNodes=uc.resolvedTargetDeltas=uc.recalculatedProjection=0),this.nodes.forEach(GG),this.nodes.forEach(XG),this.nodes.forEach(YG),this.nodes.forEach(WG),_h&&window.MotionDebug.record(uc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new IG)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new E_),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nA(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),s){let g;const x=()=>this.root.updateBlockedByResize=!1;s(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=AG(x,250),Qg.hasAnimatedSinceResize&&(Qg.hasAnimatedSinceResize=!1,this.nodes.forEach(ik))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeTargetChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||sW,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=p.getProps(),F=!this.targetLayout||!oA(this.targetLayout,_)||b,k=!x&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||x&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,k);const y={...k_(S,"layout"),onPlay:C,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else x||ik(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JG),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rk);return}this.isUpdating||this.nodes.forEach(KG),this.isUpdating=!1,this.nodes.forEach(QG),this.nodes.forEach(zG),this.nodes.forEach(HG),this.clearAllSnapshots();const c=ka.now();Kn.delta=_o(0,1e3/60,c-Kn.timestamp),Kn.timestamp=c,Kn.isProcessing=!0,Ay.update.process(Kn),Ay.preRender.process(Kn),Ay.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,f_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qG),this.sharedNodes.forEach(ZG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ls.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ls.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!aA(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&(c||dc(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),nW(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Zs();const u=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(rW))){const{scroll:p}=this.root;p&&(Pd(u.x,p.offset.x),Pd(u.y,p.offset.y))}return u}removeElementScroll(l){var c;const u=Zs();if(wi(u,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&wi(u,l),Pd(u.x,g.offset.x),Pd(u.y,g.offset.y))}return u}applyTransform(l,c=!1){const u=Zs();wi(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Rd(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),dc(p.latestValues)&&Rd(u,p.latestValues)}return dc(this.latestValues)&&Rd(u,this.latestValues),u}removeTransform(l){const c=Zs();wi(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!dc(h.latestValues))continue;I1(h.latestValues)&&h.updateSnapshot();const p=Zs(),g=h.measurePageBox();wi(p,g),YN(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return dc(this.latestValues)&&YN(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zs(),this.relativeTargetOrigin=Zs(),Fh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zs(),this.targetWithTransforms=Zs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),J4(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zs(),this.relativeTargetOrigin=Zs(),Fh(this.relativeTargetOrigin,this.target,b.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_h&&uc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||I1(this.parent.latestValues)||Y4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;wi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;xG(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Zs());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KN(this.prevProjectionDelta.x,this.projectionDelta.x),KN(this.prevProjectionDelta.y,this.projectionDelta.y)),Mh(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!sk(this.projectionDelta.x,this.prevProjectionDelta.x)||!sk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),_h&&uc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ed(),this.projectionDelta=Ed(),this.projectionDeltaWithTransform=Ed()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=Ed();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Zs(),b=u?u.source:void 0,_=this.layout?this.layout.source:void 0,S=b!==_,C=this.getStack(),E=!C||C.members.length<=1,F=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(tW));this.animationProgress=0;let k;this.mixTargetDelta=y=>{const w=y/1e3;ak(g.x,l.x,w),ak(g.y,l.y,w),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eW(this.relativeTarget,this.relativeTargetOrigin,x,w),k&&BG(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Zs()),wi(k,this.relativeTarget)),S&&(this.animationValues=p,PG(p,h,this.latestValues,w,F,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ls.update(()=>{Qg.hasAnimatedSinceResize=!0,this.currentAnimation=sA(0,nk,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:p}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&dA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Zs();const g=hi(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const x=hi(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+x}wi(c,u),Rd(c,p),Mh(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $G),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&Oy("z",l,h,this.animationValues);for(let p=0;p<$y.length;p++)Oy(`rotate${$y[p]}`,l,h,this.animationValues),Oy(`skew${$y[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VG;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=qg(l==null?void 0:l.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=qg(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!dc(this.latestValues)&&(S.transform=p?p({},""):"none",this.hasProjected=!1),S}const x=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=OG(this.projectionDeltaWithTransform,this.treeScale,x),p&&(h.transform=p(x,h.transform));const{x:b,y:_}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const S in Nf){if(x[S]===void 0)continue;const{correct:C,applyTo:E}=Nf[S],F=h.transform==="none"?x[S]:C(x[S],g);if(E){const k=E.length;for(let y=0;y<k;y++)h[E[y]]=F}else h[S]=F}return this.options.layoutId&&(h.pointerEvents=g===this?qg(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(rk),this.root.sharedNodes.clear()}}}function zG(s){s.updateLayout()}function HG(s){var e;const n=((e=s.resumeFrom)===null||e===void 0?void 0:e.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&n&&s.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=s.layout,{animationType:a}=s.options,l=n.source!==s.layout.source;a==="size"?Si(g=>{const x=l?n.measuredBox[g]:n.layoutBox[g],b=hi(x);x.min=r[g].min,x.max=x.min+b}):dA(a,n.layoutBox,r)&&Si(g=>{const x=l?n.measuredBox[g]:n.layoutBox[g],b=hi(r[g]);x.max=x.min+b,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[g].max=s.relativeTarget[g].min+b)});const c=Ed();Mh(c,r,n.layoutBox);const u=Ed();l?Mh(u,s.applyTransform(i,!0),n.measuredBox):Mh(u,r,n.layoutBox);const h=!aA(c);let p=!1;if(!s.resumeFrom){const g=s.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const _=Zs();Fh(_,n.layoutBox,x.layoutBox);const S=Zs();Fh(S,r,b.layoutBox),oA(_,S)||(p=!0),g.options.layoutRoot&&(s.relativeTarget=S,s.relativeTargetOrigin=_,s.relativeParent=g)}}}s.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(s.isLead()){const{onExitComplete:r}=s.options;r&&r()}s.options.transition=void 0}function GG(s){_h&&uc.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function WG(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function qG(s){s.clearSnapshot()}function rk(s){s.clearMeasurements()}function KG(s){s.isLayoutDirty=!1}function QG(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function ik(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function XG(s){s.resolveTargetDelta()}function YG(s){s.calcProjection()}function JG(s){s.resetSkewAndRotation()}function ZG(s){s.removeLeadSnapshot()}function ak(s,e,n){s.translate=Us(e.translate,0,n),s.scale=Us(e.scale,1,n),s.origin=e.origin,s.originPoint=e.originPoint}function ok(s,e,n,r){s.min=Us(e.min,n.min,r),s.max=Us(e.max,n.max,r)}function eW(s,e,n,r){ok(s.x,e.x,n.x,r),ok(s.y,e.y,n.y,r)}function tW(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const sW={duration:.45,ease:[.4,0,.1,1]},lk=s=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),ck=lk("applewebkit/")&&!lk("chrome/")?Math.round:di;function dk(s){s.min=ck(s.min),s.max=ck(s.max)}function nW(s){dk(s.x),dk(s.y)}function dA(s,e,n){return s==="position"||s==="preserve-aspect"&&!lG(tk(e),tk(n),.2)}function rW(s){var e;return s!==s.root&&((e=s.scroll)===null||e===void 0?void 0:e.wasRoot)}const iW=cA({attachResizeListener:(s,e)=>op(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vy={current:void 0},uA=cA({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Vy.current){const s=new iW({});s.mount(window),s.setOptions({layoutScroll:!0}),Vy.current=s}return Vy.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),aW={pan:{Feature:SG},drag:{Feature:jG,ProjectionNode:uA,MeasureLayout:tA}};function uk(s,e,n){const{props:r}=s;s.animationState&&r.whileHover&&s.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ls.postRender(()=>a(e,Lp(e)))}class oW extends Il{mount(){const{current:e}=this.node;e&&(this.unmount=hz(e,n=>(uk(this.node,n,"Start"),r=>uk(this.node,r,"End"))))}unmount(){}}class lW extends Il{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rp(op(this.node.current,"focus",()=>this.onFocus()),op(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hk(s,e,n){const{props:r}=s;s.animationState&&r.whileTap&&s.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ls.postRender(()=>a(e,Lp(e)))}class cW extends Il{mount(){const{current:e}=this.node;e&&(this.unmount=fz(e,n=>(hk(this.node,n,"Start"),(r,{success:i})=>hk(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E1=new WeakMap,Uy=new WeakMap,dW=s=>{const e=E1.get(s.target);e&&e(s)},uW=s=>{s.forEach(dW)};function hW({root:s,...e}){const n=s||document;Uy.has(n)||Uy.set(n,{});const r=Uy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(uW,{root:s,...e})),r[i]}function pW(s,e,n){const r=hW(e);return E1.set(s,n),r.observe(s),()=>{E1.delete(s),r.unobserve(s)}}const mW={some:0,all:1};class gW extends Il{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mW[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(u)};return pW(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fW(e,n))&&this.startObserver()}unmount(){}}function fW({viewport:s={}},{viewport:e={}}={}){return n=>s[n]!==e[n]}const vW={inView:{Feature:gW},tap:{Feature:cW},focus:{Feature:lW},hover:{Feature:oW}},xW={layout:{ProjectionNode:uA,MeasureLayout:tA}},Pf={current:null},z_={current:!1};function hA(){if(z_.current=!0,!!u_)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pf.current=s.matches;s.addListener(e),e()}else Pf.current=!1}const yW=[...R4,dr,Nl],bW=s=>yW.find(P4(s)),nu=new WeakMap;function _W(s,e,n){for(const r in e){const i=e[r],a=n[r];if(Fn(i))s.addValue(r,i);else if(Fn(a))s.addValue(r,tu(i,{owner:s}));else if(a!==i)if(s.hasValue(r)){const l=s.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=s.getStaticValue(r);s.addValue(r,tu(l!==void 0?l:i,{owner:s}))}}for(const r in n)e[r]===void 0&&s.removeValue(r);return e}const pk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=F_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ka.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ls.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:p}=l;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Cv(n),this.isVariantNode=OI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in x){const _=x[b];u[b]!==void 0&&Fn(_)&&_.set(u[b],!1)}}mount(e){this.current=e,nu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z_.current||hA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nu.delete(this.current),this.projection&&this.projection.unmount(),bo(this.notifyUpdate),bo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Rc.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ls.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in eu){const n=eu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pk.length;r++){const i=pk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=_W(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=tu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(A4(i)||_4(i))?i=parseFloat(i):!bW(i)&&Nl.test(n)&&(i=C4(e,n)),this.setBaseTarget(e,Fn(i)?i.get():i)),Fn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=x_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Fn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new E_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mA extends pA{constructor(){super(...arguments),this.KeyframeResolver=L4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wW(s){return window.getComputedStyle(s)}class gA extends mA{constructor(){super(...arguments),this.type="html",this.renderInstance=QI}readValueFromInstance(e,n){if(Rc.has(n)){const r=M_(n);return r&&r.default||0}else{const r=wW(e),i=(WI(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Z4(e,n)}build(e,n,r){__(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return N_(e,n,r)}}class fA extends mA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zs}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rc.has(n)){const r=M_(n);return r&&r.default||0}return n=XI.has(n)?n:g_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZI(e,n,r)}build(e,n,r){w_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){YI(e,n,r,i)}mount(e){this.isSVGTag=S_(e.tagName),super.mount(e)}}const jW=(s,e)=>v_(s)?new fA(e):new gA(e,{allowProjection:s!==I.Fragment}),SW=az({...ZH,...vW,...aW,...xW},jW),vA=_U(SW);function wh(s){const e=l_(()=>tu(s)),{isStatic:n}=I.useContext(d_);if(n){const[,r]=I.useState(s);I.useEffect(()=>e.on("change",r),[])}return e}function xA(s,e){const n=wh(e()),r=()=>n.set(e());return r(),DI(()=>{const i=()=>Ls.preRender(r,!1,!0),a=s.map(l=>l.on("change",i));return()=>{a.forEach(l=>l()),bo(r)}}),n}const NW=s=>s&&typeof s=="object"&&s.mix,kW=s=>NW(s)?s.mix:void 0;function CW(...s){const e=!Array.isArray(s[0]),n=e?0:-1,r=s[0+n],i=s[1+n],a=s[2+n],l=s[3+n],c=V4(i,a,{mixer:kW(a[0]),...l});return e?c(r):c}function TW(s){Rh.current=[],s();const e=xA(Rh.current,s);return Rh.current=void 0,e}function hg(s,e,n,r){if(typeof s=="function")return TW(s);const i=typeof e=="function"?e:CW(e,n,r);return Array.isArray(s)?mk(s,i):mk([s],([a])=>i(a))}function mk(s,e){const n=l_(()=>[]);return xA(s,()=>{n.length=0;const r=s.length;for(let i=0;i<r;i++)n[i]=s[i].get();return e(n)})}function yA(){!z_.current&&hA();const[s]=I.useState(Pf.current);return s}const IW=(s,e,n)=>{const r=e-s;return((n-s)%r+r)%r+s};function bA(s,e){return O4(s)?s[IW(0,s.length,e)]:s}function H_(s){return typeof s=="object"&&!Array.isArray(s)}function _A(s,e,n,r){return typeof s=="string"&&H_(e)?o4(s,n,r):s instanceof NodeList?Array.from(s):Array.isArray(s)?s:[s]}function AW(s,e,n){return s*(e+1)}function gk(s,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,s+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:s}function EW(s,e,n){for(let r=0;r<s.length;r++){const i=s[r];i.at>e&&i.at<n&&(Av(s,i),r--)}}function PW(s,e,n,r,i,a){EW(s,i,a);for(let l=0;l<e.length;l++)s.push({value:e[l],at:Us(i,a,r[l]),easing:bA(n,l)})}function RW(s,e){for(let n=0;n<s.length;n++)s[n]=s[n]/(e+1)}function LW(s,e){return s.at===e.at?s.value===null?1:e.value===null?-1:0:s.at-e.at}const DW="easeInOut";function MW(s,{defaultTransition:e={},...n}={},r,i){const a=e.duration||.3,l=new Map,c=new Map,u={},h=new Map;let p=0,g=0,x=0;for(let b=0;b<s.length;b++){const _=s[b];if(typeof _=="string"){h.set(_,g);continue}else if(!Array.isArray(_)){h.set(_.name,gk(g,_.at,p,h));continue}let[S,C,E={}]=_;E.at!==void 0&&(g=gk(g,E.at,p,h));let F=0;const k=(y,w,P,T=0,N=0)=>{const A=FW(y),{delay:M=0,times:R=z4(A),type:B="keyframes",repeat:$,repeatType:z,repeatDelay:U=0,...W}=w;let{ease:K=e.ease||"easeOut",duration:q}=w;const se=typeof M=="function"?M(T,N):M,ne=A.length,H=Iv(B)?B:i==null?void 0:i[B];if(ne<=2&&H){let he=100;if(ne===2&&OW(A)){const Z=A[1]-A[0];he=Math.abs(Z)}const xe={...W};q!==void 0&&(xe.duration=ja(q));const Re=cz(xe,he,H);K=Re.ease,q=Re.duration}q!=null||(q=a);const J=g+se;R.length===1&&R[0]===0&&(R[1]=1);const le=R.length-A.length;if(le>0&&U4(R,le),A.length===1&&A.unshift(null),$){q=AW(q,$);const he=[...A],xe=[...R];K=Array.isArray(K)?[...K]:[K];const Re=[...K];for(let Z=0;Z<$;Z++){A.push(...he);for(let fe=0;fe<he.length;fe++)R.push(xe[fe]+(Z+1)),K.push(fe===0?"linear":bA(Re,fe-1))}RW(R,$)}const oe=J+q;PW(P,A,K,R,J,oe),F=Math.max(se+q,F),x=Math.max(oe,x)};if(Fn(S)){const y=fk(S,c);k(C,E,vk("default",y))}else{const y=_A(S,C,r,u),w=y.length;for(let P=0;P<w;P++){C=C,E=E;const T=y[P],N=fk(T,c);for(const A in C)k(C[A],BW(E,A),vk(A,N),P,w)}}p=g,g+=F}return c.forEach((b,_)=>{for(const S in b){const C=b[S];C.sort(LW);const E=[],F=[],k=[];for(let w=0;w<C.length;w++){const{at:P,value:T,easing:N}=C[w];E.push(T),F.push(Tc(0,x,P)),k.push(N||"easeOut")}F[0]!==0&&(F.unshift(0),E.unshift(E[0]),k.unshift(DW)),F[F.length-1]!==1&&(F.push(1),E.push(null)),l.has(_)||l.set(_,{keyframes:{},transition:{}});const y=l.get(_);y.keyframes[S]=E,y.transition[S]={...e,duration:x,ease:k,times:F,...n}}}),l}function fk(s,e){return!e.has(s)&&e.set(s,{}),e.get(s)}function vk(s,e){return e[s]||(e[s]=[]),e[s]}function FW(s){return Array.isArray(s)?s:[s]}function BW(s,e){return s&&s[e]?{...s,...s[e]}:{...s}}const $W=s=>typeof s=="number",OW=s=>s.every($W);function VW(s,e){return s in e}class UW extends pA{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(VW(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Zs()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function zW(s){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=nA(s)?new fA(e):new gA(e);n.mount(s),nu.set(s,n)}function HW(s){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new UW(e);n.mount(s),nu.set(s,n)}function GW(s,e){return Fn(s)||typeof s=="number"||typeof s=="string"&&!H_(e)}function wA(s,e,n,r){const i=[];if(GW(s,e))i.push(sA(s,H_(e)&&e.default||e,n&&(n.default||n)));else{const a=_A(s,e,r),l=a.length;for(let c=0;c<l;c++){const u=a[c],h=u instanceof Element?zW:HW;nu.has(u)||h(u);const p=nu.get(u),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(c,l)),i.push(...U_(p,{...e,transition:g},{}))}}return i}function WW(s,e,n){const r=[];return MW(s,e,n,{spring:$_}).forEach(({keyframes:a,transition:l},c)=>{r.push(...wA(c,a,l))}),r}function qW(s){return Array.isArray(s)&&s.some(Array.isArray)}function KW(s){function e(n,r,i){let a=[];return qW(n)?a=WW(n,r,s):a=wA(n,r,i,s),new s4(a)}return e}const pg=KW(),ro={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function QW(){return t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+ro.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function XW(){return t.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[t.jsxs("defs",{children:[t.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[t.jsx("stop",{offset:"0%",stopColor:ro.icon,stopOpacity:"0.42"}),t.jsx("stop",{offset:"70%",stopColor:ro.icon,stopOpacity:"0"})]}),t.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[t.jsx("stop",{offset:"0%",stopColor:ro.icon,stopOpacity:"0.20"}),t.jsx("stop",{offset:"70%",stopColor:ro.icon,stopOpacity:"0"})]})]}),t.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),t.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function xk({rounded:s="rounded-3xl",padded:e=!0,children:n}){const r=yA();return t.jsxs("section",{className:`relative w-full overflow-hidden border ${s}`,style:{borderColor:ro.border,background:"var(--nav, "+ro.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[t.jsx(QW,{}),t.jsx(vA.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),t.jsx(XW,{}),t.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const zy={borderColor:"#2B4C73",background:"#1A2F4A"},mg={borderColor:"#2B4C73",background:"#152A42"};function zt({hex:s,title:e,subtitle:n,actions:r,subheader:i,left:a,right:l,children:c,rounded:u="rounded-3xl",padded:h=!0,centerFramed:p=!1,leftWidth:g=0,rightWidth:x=0,stickyRails:b=!0,mode:_="card",outerPadding:S="px-4 py-3",leftPlacement:C="inside",stickyTopbar:E=!0,stickySubheader:F=!0,shellViewportOffset:k="var(--app-topbar-h,72px)",topbarHeight:y=56}){const w={"--left":typeof g=="number"?`${g}px`:g,"--right":typeof x=="number"?`${x}px`:x},P=t.jsxs(t.Fragment,{children:[s&&t.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:zy,children:s}),(e||n||r)&&t.jsxs("div",{className:[E?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:zy,children:[t.jsxs("div",{className:"min-w-0",children:[e&&t.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&t.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?t.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&t.jsx("div",{className:[F?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...F?{top:E?`${y}px`:0}:{},...zy},children:i})]}),T=_==="card"?({children:A})=>t.jsx(xk,{rounded:u,padded:h,children:A}):({children:A})=>t.jsx("div",{className:`w-full ${S}`,children:A}),N=t.jsx("div",{className:"relative min-h-0 h-full",style:w,children:t.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[a?t.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...mg,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?t.jsx("div",{}):t.jsx("div",{className:"hidden md:block"}),p?t.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:mg,children:c}):t.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:c}),l?t.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...mg,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):x?t.jsx("div",{}):t.jsx("div",{className:"hidden md:block"})]})});return C==="bleed"&&_==="card"?t.jsx("div",{className:`w-full ${S}`,children:t.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[P,t.jsx("div",{className:"flex-1 min-h-0",style:w,children:t.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[a?t.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...mg,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?t.jsx("div",{}):t.jsx("div",{className:"hidden md:block"}),t.jsx(xk,{rounded:u,padded:h,children:t.jsx("div",{className:"flex-1 min-h-0 h-full",children:N})})]})})]})}):t.jsx(T,{children:t.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${k})`},children:[P,t.jsx("div",{className:"flex-1 min-h-0",children:N})]})})}const YW="_row_x5rfq_3",JW="_colFull_x5rfq_17",ZW="_colCommunity_x5rfq_31",eq="_colGuides_x5rfq_33",tq="_card_x5rfq_129",sq="_header_x5rfq_143",nq="_title_x5rfq_155",rq="_subtitle_x5rfq_157",iq="_empty_x5rfq_159",aq="_errorNote_x5rfq_161",oq="_linkBtn_x5rfq_163",lq="_primaryBtn_x5rfq_163",cq="_navBtn_x5rfq_163",dq="_closeBtn_x5rfq_163",uq="_actionsRight_x5rfq_179",hq="_tileGrid_x5rfq_185",pq="_tile_x5rfq_185",mq="_tileIcon_x5rfq_211",gq="_tileIconFallback_x5rfq_213",fq="_tileLabel_x5rfq_215",vq="_newsList_x5rfq_221",xq="_newsItem_x5rfq_223",yq="_newsMeta_x5rfq_225",bq="_newsAuthor_x5rfq_227",_q="_newsTime_x5rfq_229",wq="_newsText_x5rfq_231",jq="_newsImage_x5rfq_233",Sq="_carouselCtrls_x5rfq_241",Nq="_carousel_x5rfq_241",kq="_slide_x5rfq_249",Cq="_slideActive_x5rfq_251",Tq="_slideInactive_x5rfq_253",Iq="_slideThumb_x5rfq_255",Aq="_slideFallback_x5rfq_257",Eq="_slideCaption_x5rfq_259",Pq="_liveCard_x5rfq_265",Rq="_liveAvatar_x5rfq_267",Lq="_liveAvatarFallback_x5rfq_269",Dq="_liveInfo_x5rfq_271",Mq="_liveName_x5rfq_273",Fq="_liveMeta_x5rfq_275",Bq="_liveBadge_x5rfq_277",$q="_liveViewers_x5rfq_279",Oq="_modalOverlay_x5rfq_285",Vq="_modal_x5rfq_285",Uq="_modalHeader_x5rfq_289",zq="_modalTitle_x5rfq_291",Hq="_modalFilters_x5rfq_295",Gq="_formRow_x5rfq_297",Wq="_formRowCheckbox_x5rfq_299",qq="_select_x5rfq_301",Kq="_input_x5rfq_301",Qq="_tableWrap_x5rfq_303",Xq="_table_x5rfq_303",We={row:YW,colFull:JW,colCommunity:ZW,colGuides:eq,card:tq,header:sq,title:nq,subtitle:rq,empty:iq,errorNote:aq,linkBtn:oq,primaryBtn:lq,navBtn:cq,closeBtn:dq,actionsRight:uq,tileGrid:hq,tile:pq,tileIcon:mq,tileIconFallback:gq,tileLabel:fq,newsList:vq,newsItem:xq,newsMeta:yq,newsAuthor:bq,newsTime:_q,newsText:wq,newsImage:jq,carouselCtrls:Sq,carousel:Nq,slide:kq,slideActive:Cq,slideInactive:Tq,slideThumb:Iq,slideFallback:Aq,slideCaption:Eq,liveCard:Pq,liveAvatar:Rq,liveAvatarFallback:Lq,liveInfo:Dq,liveName:Mq,liveMeta:Fq,liveBadge:Bq,liveViewers:$q,modalOverlay:Oq,modal:Vq,modalHeader:Uq,modalTitle:zq,modalFilters:Hq,formRow:Gq,formRowCheckbox:Wq,select:qq,input:Kq,tableWrap:Qq,table:Xq},Yq=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function jA(){const s=[];for(const n of Yq)try{const i=await(await fetch(n,{cache:"no-store"})).text(),a=Jq(i);s.push(...a)}catch(r){}const e=new Map;for(const n of s){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function yk(s){const e=[];let n="",r=!1;for(let i=0;i<s.length;i++){const a=s[i];a==='"'?r&&s[i+1]==='"'?(n+='"',i++):r=!r:a===","&&!r?(e.push(n),n=""):n+=a}return e.push(n),e}function Jq(s){const e=s.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=yk(e[0]);return e.slice(1).map(r=>{const i=yk(r),a={};return n.forEach((l,c)=>{var u;return a[l.trim()]=((u=i[c])!=null?u:"").trim()}),a})}function Zq(s){try{const e=Date.now(),n=typeof s=="number"?s:Date.parse(String(s!=null?s:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const a=Math.floor(i/60);if(a<60)return`${a}m`;const l=Math.floor(a/60);return l<24?`${l}h`:`${Math.floor(l/24)}d`}catch(e){return""}}function eK(s){try{const e=new URL(s);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const tK=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help",label:"Help"},{to:"/settings/",label:"Settings"}],bk={},sK=()=>t.jsxs("section",{className:We.card,"data-i18n-scope":"home.tiles",children:[t.jsxs("header",{className:We.header,children:[t.jsx("span",{className:We.title,"data-i18n":"home.title",children:"Home"}),t.jsx("span",{className:We.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),t.jsx("div",{className:We.tileGrid,role:"list",children:tK.map(s=>t.jsxs(ws,{to:s.to,role:"listitem",className:We.tile,"aria-label":s.label,children:[bk[s.to]?t.jsx("img",{src:bk[s.to],alt:"",className:We.tileIcon}):t.jsx("div",{className:We.tileIconFallback,"aria-hidden":!0,children:s.label.slice(0,2).toUpperCase()}),t.jsx("div",{className:We.tileLabel,"data-i18n":`nav.${s.label.toLowerCase()}`,children:s.label})]},s.to))})]}),nK=()=>{const[s,e]=I.useState(null),[n,r]=I.useState(null);I.useEffect(()=>{async function a(){{e([]);return}}return a(),()=>{}},[]);const i=!s||s.length===0;return t.jsxs("section",{className:We.card,"data-i18n-scope":"home.news","aria-busy":s==null,children:[t.jsx("header",{className:We.header,children:t.jsx("span",{className:We.title,"data-i18n":"home.news.title",children:"Community news"})}),t.jsxs("div",{className:We.newsList,children:[s==null?void 0:s.map(a=>{var l;return t.jsxs("article",{className:We.newsItem,children:[t.jsxs("div",{className:We.newsMeta,children:[t.jsx("span",{className:We.newsAuthor,children:a.author||"Discord"}),t.jsx("span",{className:We.newsTime,children:Zq(a.timestamp)})]}),t.jsx("p",{className:We.newsText,children:a.text}),a.image&&t.jsx("img",{src:a.image,alt:"",className:We.newsImage}),a.url&&t.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",className:We.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(l=a.id)!=null?l:`${a.author}-${a.timestamp}`)}),i&&t.jsx("div",{className:We.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&t.jsx("div",{className:We.errorNote,"aria-live":"polite",children:n})]})},rK=()=>{const[s,e]=I.useState([]),[n,r]=I.useState(0),i=I.useRef(null);I.useEffect(()=>{let u=!0;async function h(){try{const g=(await jA()).map(x=>{const b=String(x["Creator Name"]||x.creator_name||x.name||"").trim(),_=String(x["YouTube Link"]||x.youtube||x.YouTube||"").trim();if(!_)return null;const S=eK(_),C=S?`https://i.ytimg.com/vi/${S}/hqdefault.jpg`:void 0;return{title:b,url:_,thumb:C}}).filter(Boolean).slice(0,12);u&&e(g)}catch(p){u&&e([])}}return h(),()=>{u=!1}},[]),I.useEffect(()=>{if(!(s.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%s.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[s]);const a=()=>r(u=>(u-1+s.length)%Math.max(s.length,1)),l=()=>r(u=>(u+1)%Math.max(s.length,1)),c=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),a()),u.key==="ArrowRight"&&(u.preventDefault(),l())};return t.jsxs("section",{className:We.card,"data-i18n-scope":"home.youtube",children:[t.jsxs("header",{className:We.header,children:[t.jsx("span",{className:We.title,"data-i18n":"home.youtube.title",children:"YouTube"}),t.jsxs("div",{className:We.carouselCtrls,children:[t.jsx("button",{className:We.navBtn,onClick:a,"aria-label":"Prev",children:""}),t.jsx("button",{className:We.navBtn,onClick:l,"aria-label":"Next",children:""})]})]}),t.jsx("div",{className:We.carousel,tabIndex:0,onKeyDown:c,"aria-roledescription":"carousel",children:s.length===0?t.jsx("div",{className:We.empty,children:"No videos"}):s.map((u,h)=>t.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[We.slide,h===n?We.slideActive:We.slideInactive].join(" "),children:[u.thumb?t.jsx("img",{src:u.thumb,alt:"",className:We.slideThumb}):t.jsx("div",{className:We.slideFallback,children:u.title.slice(0,2).toUpperCase()}),t.jsx("div",{className:We.slideCaption,children:u.title})]},u.url))})]})},iK=({onOpenSchedule:s})=>{var p;const[e,n]=I.useState(null),[r,i]=I.useState(new Map),[a,l]=I.useState(0),c=I.useRef(null);if(I.useEffect(()=>{async function g(){{n([]);return}}return g(),()=>{}},[]),I.useEffect(()=>{let g=!0;async function x(){try{const b=await jA(),_=new Map;for(const S of b){const C=String(S["Creator Name"]||S.creator_name||S.name||"").trim(),E=String(S["Twitch Link"]||S.twitch||S.Twitch||"").trim();if(!C||!E)continue;const F=(()=>{try{return new URL(E).pathname.replace(/^\//,"").toLowerCase()}catch(k){return E.toLowerCase()}})();F&&_.set(F,E),_.set(C.toLowerCase(),E)}g&&i(_)}catch(b){g&&i(new Map)}}return x(),()=>{g=!1}},[]),I.useEffect(()=>{if(!(!e||e.length<=1))return c.current=window.setInterval(()=>l(g=>(g+1)%e.length),8e3),()=>{c.current&&window.clearInterval(c.current)}},[e]),!e||e.length===0)return t.jsxs("section",{className:We.card,"data-i18n-scope":"home.live",children:[t.jsx("header",{className:We.header,children:t.jsx("span",{className:We.title,"data-i18n":"home.live.title",children:"Live now"})}),t.jsx("div",{className:We.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),t.jsx("div",{className:We.actionsRight,children:t.jsx("button",{className:We.primaryBtn,onClick:s,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[a],h=(()=>{const g=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(g)return r.has(g)?r.get(g):r.has(g.replace(/^@/,""))?r.get(g.replace(/^@/,"")):`https://www.twitch.tv/${g}`})();return t.jsxs("section",{className:We.card,"data-i18n-scope":"home.live",children:[t.jsx("header",{className:We.header,children:t.jsx("span",{className:We.title,"data-i18n":"home.live.title",children:"Live now"})}),t.jsxs("div",{className:We.liveCard,children:[u!=null&&u.avatar?t.jsx("img",{src:u.avatar,alt:"",className:We.liveAvatar}):t.jsx("div",{className:We.liveAvatarFallback,"aria-hidden":!0,children:(p=u==null?void 0:u.name)==null?void 0:p.slice(0,2).toUpperCase()}),t.jsxs("div",{className:We.liveInfo,children:[t.jsx("div",{className:We.liveName,children:u==null?void 0:u.name}),t.jsxs("div",{className:We.liveMeta,children:[t.jsx("span",{className:We.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&t.jsxs("span",{className:We.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),h&&t.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:We.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),t.jsxs("div",{className:We.carouselCtrls,children:[t.jsx("button",{className:We.navBtn,onClick:()=>l(g=>(g-1+e.length)%e.length),"aria-label":"Prev",children:""}),t.jsx("button",{className:We.navBtn,onClick:()=>l(g=>(g+1)%e.length),"aria-label":"Next",children:""})]})]})},aK=({open:s,onClose:e})=>{var b;const[n,r]=I.useState(null),[i,a]=I.useState("All"),[l,c]=I.useState(""),[u,h]=I.useState(!1);if(I.useEffect(()=>{if(!s)return;async function _(){{r([]);return}}return _(),()=>{}},[s]),I.useEffect(()=>{const _=S=>{S.key==="Escape"&&e()};return s&&window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[s,e]),!s)return null;const p=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),g=(n||[]).filter(_=>{if(i!=="All"&&_.platform.toLowerCase()!==i.toLowerCase()||u&&_.weekday&&_.weekday.toLowerCase()!==p.toLowerCase())return!1;if(l){const S=l.toLowerCase();if(!`${_.streamer} ${_.title}`.toLowerCase().includes(S))return!1}return!0}),x=((b=n==null?void 0:n.length)!=null?b:0)===0;return t.jsx("div",{className:We.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:t.jsxs("div",{className:We.modal,children:[t.jsxs("header",{className:We.modalHeader,children:[t.jsx("h2",{id:"schedule-title",className:We.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),t.jsx("button",{className:We.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),t.jsxs("div",{className:We.modalFilters,children:[t.jsxs("label",{className:We.formRow,children:[t.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),t.jsxs("select",{value:i,onChange:_=>a(_.target.value),className:We.select,children:[t.jsx("option",{value:"All",children:"All"}),t.jsx("option",{value:"Twitch",children:"Twitch"}),t.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),t.jsxs("label",{className:We.formRow,children:[t.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),t.jsx("input",{value:l,onChange:_=>c(_.target.value),className:We.input,placeholder:"Streamer / Title"})]}),t.jsxs("label",{className:We.formRowCheckbox,children:[t.jsx("input",{type:"checkbox",checked:u,onChange:_=>h(_.target.checked)}),t.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),t.jsx("div",{className:We.tableWrap,children:t.jsxs("table",{className:We.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"weekday"}),t.jsx("th",{children:"start_utc"}),t.jsx("th",{children:"end_utc"}),t.jsx("th",{children:"timezone"}),t.jsx("th",{children:"platform"}),t.jsx("th",{children:"channel_url"}),t.jsx("th",{children:"streamer"}),t.jsx("th",{children:"title"})]})}),t.jsx("tbody",{children:x?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:We.empty,children:"No schedule yet"})}):g.map((_,S)=>t.jsxs("tr",{children:[t.jsx("td",{children:_.weekday}),t.jsx("td",{children:_.start_utc}),t.jsx("td",{children:_.end_utc}),t.jsx("td",{children:_.timezone}),t.jsx("td",{children:_.platform}),t.jsx("td",{children:_.channel_url?t.jsx("a",{href:_.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),t.jsx("td",{children:_.streamer}),t.jsx("td",{children:_.title})]},S))})]})})]})})},oK=()=>{const[s,e]=I.useState(!1);return t.jsxs(zt,{title:"home.title",subtitle:"home.subtitle",children:[t.jsx("div",{className:We.row,children:t.jsx("div",{className:We.colFull,children:t.jsx(sK,{})})}),t.jsxs("div",{className:We.row,children:[t.jsx("div",{className:We.colCommunity,children:t.jsx(nK,{})}),t.jsx("div",{className:We.colGuides,children:t.jsx(rK,{})})]}),t.jsx("div",{className:We.row,children:t.jsx("div",{className:We.colFull,children:t.jsx(iK,{onOpenSchedule:()=>e(!0)})})}),t.jsx(aK,{open:s,onClose:()=>e(!1)})]})},lK="_wrapper_125p4_1",cK="_card_125p4_19",dK="_logo_125p4_45",uK="_heading_125p4_61",hK="_subcopy_125p4_73",pK="_buttonStack_125p4_83",mK="_providerButton_125p4_97",gK="_discord_125p4_145",fK="_google_125p4_153",vK="_disclaimer_125p4_161",xK="_status_125p4_173",yK="_sessionBlock_125p4_183",bK="_logoutButton_125p4_197",_K="_linkButton_125p4_227",wK="_loading_125p4_245",jK="_spinner_125p4_261",Wn={wrapper:lK,card:cK,logo:dK,heading:uK,subcopy:hK,buttonStack:pK,providerButton:mK,discord:gK,google:fK,disclaimer:vK,status:xK,sessionBlock:yK,logoutButton:bK,linkButton:_K,loading:wK,spinner:jK},_k="sfh:authNext",wk=s=>{if(!s)return null;const e=s.trim();return!e.startsWith("/")||e.startsWith("//")||/^[a-z][a-z0-9+.-]*:/i.test(e)||e.toLowerCase().startsWith("/login")?null:e},SK=()=>{const s=Ei(),e=gr(),{status:n,user:r,loginWithDiscord:i,loginWithGoogle:a,logout:l}=So(),c=n==="loading"||n==="idle",u=n==="authenticated"&&!!r,h=X.useMemo(()=>new URLSearchParams(e.search).get("next"),[e.search]),p=X.useMemo(()=>{if(typeof window=="undefined")return null;try{return window.sessionStorage.getItem(_k)}catch(E){return console.warn("[Login] Failed to read auth next from sessionStorage",E),null}},[]),g=X.useMemo(()=>{var E;return(E=wk(h))!=null?E:wk(p)},[h,p]);X.useEffect(()=>{if(!u)return;const E=g;typeof window!="undefined"&&window.sessionStorage&&window.sessionStorage.removeItem(_k),E&&s(E,{replace:!0})},[u,s,g]);const x=()=>{c||i()},b=()=>{c||a()},_=async()=>{await l()},S=()=>{s("/")};let C;return c?C=t.jsxs("div",{className:Wn.loading,children:[t.jsx("div",{className:Wn.spinner}),t.jsx("div",{children:"Checking session"})]}):u&&r?C=t.jsxs("div",{className:Wn.sessionBlock,children:[t.jsxs("div",{className:Wn.status,children:["You are logged in as ",r.displayName,"."]}),t.jsx("button",{className:Wn.logoutButton,type:"button",onClick:_,children:"Logout"}),t.jsx("button",{className:Wn.linkButton,type:"button",onClick:S,children:"Back to dashboard"})]}):C=t.jsxs("div",{className:Wn.buttonStack,children:[t.jsx("button",{className:`${Wn.providerButton} ${Wn.discord}`,type:"button",onClick:x,children:"Login with Discord"}),t.jsx("button",{className:`${Wn.providerButton} ${Wn.google}`,type:"button",onClick:b,children:"Login with Google"})]}),t.jsx(zt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:t.jsx("div",{className:Wn.wrapper,children:t.jsxs("div",{className:Wn.card,children:[t.jsx("img",{className:Wn.logo,src:Wg,alt:"SFDataHub logo"}),t.jsx("h1",{className:Wn.heading,children:"Sign in"}),t.jsx("p",{className:Wn.subcopy,children:"Choose a method to access SFDataHub."}),C,t.jsx("p",{className:Wn.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function NK(){return t.jsx(zt,{hex:t.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:t.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:t.jsx(kK,{}),right:t.jsx(CK,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsx(Hy,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),t.jsx(Hy,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),t.jsx(Hy,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function kK(){return t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Gy,{to:"/dashboard/kpis",children:"KPIs"}),t.jsx(Gy,{to:"/dashboard/activity",children:"Activity"}),t.jsx(Gy,{to:"/dashboard/progression",children:"Progression"})]})]})}function CK(){return t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),t.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Hy({to:s,title:e,desc:n}){return t.jsxs(ws,{to:s,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?t.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Gy({to:s,children:e}){return t.jsx(ws,{to:s,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function TK(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Dashboard  KPIs"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx(Wy,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),t.jsx(Wy,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),t.jsx(Wy,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Wy({label:s,value:e,hint:n}){return t.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[t.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:s}),t.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function IK(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Dashboard  Activity"}),t.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),t.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[t.jsx("li",{children:" Neues Scan-File hochgeladen"}),t.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),t.jsx("li",{children:" Gilden-Event geplant"})]})]})}function AK(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Dashboard  Progression"}),t.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[t.jsx(qy,{title:"Scrapbook 100%",progress:72}),t.jsx(qy,{title:"Fortress Ausbaustufe",progress:48}),t.jsx(qy,{title:"Underworld Boss",progress:35})]})]})}function qy({title:s,progress:e}){return t.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:s}),t.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:t.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),t.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function EK(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Discover"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx(ec,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),t.jsx(ec,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),t.jsx(ec,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),t.jsx(ec,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),t.jsx(ec,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),t.jsx(ec,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),t.jsx(ec,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function ec({to:s,title:e,desc:n}){return t.jsxs(ws,{to:s,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function PK({children:s,framed:e=!0}){return e?t.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:ro.border,backgroundColor:ro.tile},children:s}):t.jsx("main",{className:"min-w-0",children:s})}function RK(s,e){if(!s)return"";const n=/^https?:\/\//i.test(s)?s:`https://heyzine.com/flip-book/${s}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const LK=({srcOrId:s,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:a,showInfo:l=!1,infoText:c="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:h=!0})=>{const[p,g]=I.useState(!1),x=I.useMemo(()=>RK(s,h),[s,h]),b=i?"lazy":"eager",_={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},S={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},C=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},E={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return t.jsx("div",{className:a,style:_,children:t.jsx("div",{style:S,children:t.jsxs("div",{style:C,children:[t.jsx("iframe",{src:x,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:b,scrolling:"no",title:"Heyzine Flipbook"}),l&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button","aria-label":"Info",onClick:()=>g(F=>!F),style:E,title:"Info",children:"i"}),p&&t.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[c," ",t.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},DK="#0C1C2E",MK=()=>t.jsx(zt,{children:t.jsx(PK,{children:t.jsxs("div",{style:{position:"relative",width:"100%"},children:[t.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:DK,borderRadius:16,pointerEvents:"none",zIndex:0}}),t.jsx("div",{style:{position:"relative",zIndex:1},children:t.jsx(LK,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),FK="_pageWrap_72re9_7",BK="_infoLine_72re9_17",$K="_viewerHost_72re9_43",OK="_overlay_72re9_99",VK="_dragZoneLeft_72re9_101",UK="_dragZoneRight_72re9_103",zK="_inbookLink_72re9_105",Yo={pageWrap:FK,infoLine:BK,viewerHost:$K,overlay:OK,dragZoneLeft:VK,dragZoneRight:UK,inbookLink:zK};var jh={exports:{}},HK=jh.exports,jk;function GK(){return jk||(jk=1,(function(s,e){(function(n,r){r(e)})(HK,(function(n){class r{constructor(y,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,w,P){super(y,P),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(y){const w=this.render.getContext(),P=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,N=this.render.getRect().height;w.save(),w.translate(P.x,P.y),w.beginPath();for(let A of this.state.area)A!==null&&(A=this.render.convertToGlobal(A),w.lineTo(A.x-P.x,A.y-P.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,T,N):this.drawLoader(w,{x:0,y:0},T,N),w.restore()}simpleDraw(y){const w=this.render.getRect(),P=this.render.getContext(),T=w.pageWidth,N=w.height,A=y===1?w.left+w.pageWidth:w.left,M=w.top;this.isLoad?P.drawImage(this.image,A,M,T,N):this.drawLoader(P,{x:A,y:M},T,N)}drawLoader(y,w,P,T){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(w.x+1,w.y+1,P-1,T-1),y.stroke(),y.fill();const N={x:w.x+P/2,y:w.y+T/2};y.beginPath(),y.lineWidth=10,y.arc(N.x,N.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class a{constructor(y,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let w=y;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const w=this.getSpread();for(let P=0;P<w.length;P++)if(y===w[P][0]||y===w[P][1])return P;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const w=this.pages.indexOf(y);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(y){const w=this.pages.indexOf(y);return w>0?this.pages[w-1]:null}getFlippingPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const P=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return P.length===1||y===0?this.pages[P[0]]:this.pages[P[1]]}}getBottomPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w+1]:this.pages[w-1];{const P=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return P.length===1?this.pages[P[0]]:y===0?this.pages[P[1]]:this.pages[P[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const w=this.getSpreadIndexByPage(y);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends a{constructor(y,w,P){super(y,w),this.imagesHref=P}load(){for(const y of this.imagesHref){const w=new i(this.render,y,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class c{static GetDistanceBetweenTwoPoint(y,w){return y===null||w===null?1/0:Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}static GetSegmentLength(y){return c.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,w){const P=y[0].y-y[1].y,T=w[0].y-w[1].y,N=y[1].x-y[0].x,A=w[1].x-w[0].x;return Math.acos((P*T+N*A)/(Math.sqrt(P*P+N*N)*Math.sqrt(T*T+A*A)))}static PointInRect(y,w){return w===null?null:w.x>=y.left&&w.x<=y.width+y.left&&w.y>=y.top&&w.y<=y.top+y.height?w:null}static GetRotatedPoint(y,w,P){return{x:y.x*Math.cos(P)+y.y*Math.sin(P)+w.x,y:y.y*Math.cos(P)-y.x*Math.sin(P)+w.y}}static LimitPointToCircle(y,w,P){if(c.GetDistanceBetweenTwoPoint(y,P)<=w)return P;const T=y.x,N=y.y,A=P.x,M=P.y;let R=Math.sqrt(Math.pow(w,2)*Math.pow(T-A,2)/(Math.pow(T-A,2)+Math.pow(N-M,2)))+T;P.x<0&&(R*=-1);let B=(R-T)*(N-M)/(T-A)+N;return T-A+N===0&&(B=w),{x:R,y:B}}static GetIntersectBetweenTwoSegment(y,w,P){return c.PointInRect(y,c.GetIntersectBeetwenTwoLine(w,P))}static GetIntersectBeetwenTwoLine(y,w){const P=y[0].y-y[1].y,T=w[0].y-w[1].y,N=y[1].x-y[0].x,A=w[1].x-w[0].x,M=y[0].x*y[1].y-y[1].x*y[0].y,R=w[0].x*w[1].y-w[1].x*w[0].y,B=P*R-T*M,$=N*R-A*M,z=-(M*A-R*N)/(P*A-T*N),U=-(P*R-T*M)/(P*A-T*N);if(isFinite(z)&&isFinite(U))return{x:z,y:U};if(Math.abs(B-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,w){const P=Math.abs(y.x-w.x),T=Math.abs(y.y-w.y),N=Math.max(P,T),A=[y];function M(R,B,$,z,U){return B>R?R+U*($/z):B<R?R-U*($/z):R}for(let R=1;R<=N;R+=1)A.push({x:M(y.x,w.x,P,N,R),y:M(y.y,w.y,T,N,R)});return A}}class u extends r{constructor(y,w,P){super(y,P),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+P)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const w=y||this.nowDrawingDensity,P=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,N=this.render.getRect().height;this.element.classList.remove("--simple");const A=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${T}px;
            height: ${N}px;
        `;w==="hard"?this.drawHard(A):this.drawSoft(P,A)}drawHard(y=""){const w=this.render.getRect().left+this.render.getRect().width/2,P=this.state.hardDrawingAngle,T=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${P}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${P}deg);`);this.element.style.cssText=T}drawSoft(y,w=""){let P="polygon( ";for(const N of this.state.area)if(N!==null){let A=this.render.getDirection()===1?{x:-N.x+this.state.position.x,y:N.y-this.state.position.y}:{x:N.x-this.state.position.x,y:N.y-this.state.position.y};A=c.GetRotatedPoint(A,{x:0,y:0},this.state.angle),P+=A.x+"px "+A.y+"px, "}P=P.slice(0,-2),P+=")";const T=w+`transform-origin: 0 0; clip-path: ${P}; -webkit-clip-path: ${P};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=T}simpleDraw(y){const w=this.render.getRect(),P=w.pageWidth,T=w.height,N=y===1?w.left+w.pageWidth:w.left,A=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${T}px; 
            left: ${N}px; 
            top: ${A}px; 
            width: ${P}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class h extends a{constructor(y,w,P,T){super(y,w),this.element=P,this.pagesElement=T}load(){for(const y of this.pagesElement){const w=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class p{constructor(y,w,P,T){this.direction=y,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(P,10),this.pageHeight=parseInt(T,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const y=[];let w=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),y.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?c.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=c.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let w=y;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const w=this.pageWidth-y.x+1,P=this.corner==="bottom"?this.pageHeight-y.y:y.y;let T=2*Math.acos(w/Math.sqrt(P*P+w*w));P<0&&(T=-T);const N=Math.PI-T;if(!isFinite(T)||N>=0&&N<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(T=-T),T}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,w){return{topLeft:this.getRotatedPoint(y[0],w),topRight:this.getRotatedPoint(y[1],w),bottomLeft:this.getRotatedPoint(y[2],w),bottomRight:this.getRotatedPoint(y[3],w)}}getRotatedPoint(y,w){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+w.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(y){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,w,P){let T=y;const N=c.LimitPointToCircle(w,this.pageWidth,T);T!==N&&(T=N,this.updateAngleAndGeometry(T));const A=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let M=this.rect.bottomRight,R=this.rect.topLeft;if(this.corner==="bottom"&&(M=this.rect.topRight,R=this.rect.bottomLeft),M.x<=0){const B=c.LimitPointToCircle(P,A,R);B!==T&&(T=B,this.updateAngleAndGeometry(T))}return T}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class g{constructor(y,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=w}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const w=this.getBoundsRect();this.setState("flipping");const P=w.height/10,T=this.calc.getCorner()==="bottom"?w.height-P:P,N=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-P,y:T}),this.animateFlippingTo({x:w.pageWidth-P,y:T},{x:-w.pageWidth,y:N},!0)}start(y){this.reset();const w=this.render.convertToBook(y),P=this.getBoundsRect(),T=this.getDirectionByPoint(w),N=w.y>=P.height/2?"bottom":"top";if(!this.checkDirection(T))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(T),this.bottomPage=this.app.getPageCollection().getBottomPage(T),this.render.getOrientation()==="landscape")if(T===1){const A=this.app.getPageCollection().nextBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}else{const A=this.app.getPageCollection().prevBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}return this.render.setDirection(T),this.calc=new p(T,N,P.pageWidth.toString(10),P.height.toString(10)),!0}catch(A){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(y,w){const P=this.app.getPageCollection().getCurrentSpreadIndex(),T=this.app.getPageCollection().getSpreadIndexByPage(y);try{T>P&&(this.app.getPageCollection().setCurrentSpreadIndex(T-1),this.flipNext(w)),T<P&&(this.app.getPageCollection().setCurrentSpreadIndex(T+1),this.flipPrev(w))}catch(N){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),w=this.getBoundsRect(),P=this.calc.getCorner()==="bottom"?w.height:0;y.x<=0?this.animateFlippingTo(y,{x:-w.pageWidth,y:P},!0):this.animateFlippingTo(y,{x:w.pageWidth,y:P},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),P=w.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:P-1,y:1});const T=50,N=this.calc.getCorner()==="bottom"?w.height-1:1,A=this.calc.getCorner()==="bottom"?w.height-T:T;this.animateFlippingTo({x:P-1,y:N},{x:P-T,y:A},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,w,P,T=!0){const N=c.GetCordsFromTwoPoint(y,w),A=[];for(const R of N)A.push(()=>this.do(R));const M=this.getAnimationDuration(N.length);this.render.startAnimation(A,M,()=>{this.calc&&(P&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),T&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-w.pageWidth<=w.width/5)return 1}else if(y.x<w.width/2)return 1;return 0}getAnimationDuration(y){const w=this.app.getSettings().flippingTime;return y>=1e3?w:y/1e3*w}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const w of y)if(this.state===w)return!0;return!1}isPointOnCorners(y){const w=this.getBoundsRect(),P=w.pageWidth,T=Math.sqrt(Math.pow(P,2)+Math.pow(w.height,2))/5,N=this.render.convertToBook(y);return N.x>0&&N.y>0&&N.x<w.width&&N.y<w.height&&(N.x<T||N.x>w.width-T)&&(N.y<T||N.y>w.height-T)}}class x{constructor(y,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=y;const P=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=P.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const w=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=w=>{this.render(w),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,w,P){this.finishAnimation(),this.animation={frames:y,duration:w,durationFrame:w/y.length,onAnimateEnd:P,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const w=this.getBlockWidth(),P=w/2,T=this.getBlockHeight()/2,N=this.setting.width/this.setting.height;let A=this.setting.width,M=this.setting.height,R=P-A;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),A=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,A>this.setting.maxWidth&&(A=this.setting.maxWidth),M=A/N,M>this.getBlockHeight()&&(M=this.getBlockHeight(),A=M*N),R=y==="portrait"?P-A/2-A:P-A):w<2*A&&this.app.getSettings().usePortrait&&(y="portrait",R=P-A/2-A),this.boundsRect={left:R,top:T-M/2,width:2*A,height:M,pageWidth:A},y}setShadowData(y,w,P,T){if(!this.app.getSettings().drawShadow)return;const N=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:w,width:3*this.getRect().pageWidth/4*P/100,opacity:(100-P)*N/100/100,direction:T,progress:2*P}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const w=this.getRect();return{x:y.x-w.left,y:y.y-w.top}}isSafari(){return this.safari}convertToPage(y,w){w||(w=this.direction);const P=this.getRect();return{x:w===0?y.x-P.left-P.width/2:P.width/2-y.x+P.left,y:y.y-P.top}}convertToGlobal(y,w){if(w||(w=this.direction),y==null)return null;const P=this.getRect();return{x:w===0?y.x+P.left+P.width/2:P.width/2-y.x+P.left,y:y.y+P.top}}convertRectToGlobal(y,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(y.topLeft,w),topRight:this.convertToGlobal(y.topRight,w),bottomLeft:this.convertToGlobal(y.bottomLeft,w),bottomRight:this.convertToGlobal(y.bottomRight,w)}}}class b extends x{constructor(y,w,P){super(y,w),this.canvas=P,this.ctx=P.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const P={x:y.left+y.width/2-w/2,y:0};this.ctx.translate(P.x,P.y);const T=this.ctx.createLinearGradient(0,0,w,0);T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),T.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),T.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),T.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),T.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,w,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const P=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),P.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),P.addColorStop(0,"rgba(0, 0, 0, 0)"),P.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=P,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(P.topLeft.x,P.topLeft.y),this.ctx.lineTo(P.topRight.x,P.topRight.y),this.ctx.lineTo(P.bottomRight.x,P.bottomRight.y),this.ctx.lineTo(P.bottomLeft.x,P.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=3*this.shadow.width/4,N=this.ctx.createLinearGradient(0,0,T,0);this.shadow.direction===0?(this.ctx.translate(-T,-100),N.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),N.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),N.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),N.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,T,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class _{constructor(y,w,P){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=N=>{if(this.checkTarget(N.target)){const A=this.getMousePos(N.clientX,N.clientY);this.app.startUserTouch(A),N.preventDefault()}},this.onTouchStart=N=>{if(this.checkTarget(N.target)&&N.changedTouches.length>0){const A=N.changedTouches[0],M=this.getMousePos(A.clientX,A.clientY);this.touchPoint={point:M,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(M)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||N.preventDefault()}},this.onMouseUp=N=>{const A=this.getMousePos(N.clientX,N.clientY);this.app.userStop(A)},this.onMouseMove=N=>{const A=this.getMousePos(N.clientX,N.clientY);this.app.userMove(A,!1)},this.onTouchMove=N=>{if(N.changedTouches.length>0){const A=N.changedTouches[0],M=this.getMousePos(A.clientX,A.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-M.x)>10||this.app.getState()!=="read")&&N.cancelable&&this.app.userMove(M,!0),this.app.getState()!=="read"&&N.preventDefault()):this.app.userMove(M,!0)}},this.onTouchEnd=N=>{if(N.changedTouches.length>0){const A=N.changedTouches[0],M=this.getMousePos(A.clientX,A.clientY);let R=!1;if(this.touchPoint!==null){const B=M.x-this.touchPoint.point.x,$=Math.abs(M.y-this.touchPoint.point.y);Math.abs(B)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(B>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),R=!0),this.touchPoint=null}this.app.userStop(M,R)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=w;const T=this.app.getSettings().usePortrait?1:2;y.style.minWidth=P.minWidth*T+"px",y.style.minHeight=P.minHeight+"px",P.size==="fixed"&&(y.style.minWidth=P.width*T+"px",y.style.minHeight=P.height+"px"),P.autoSize&&(y.style.width="100%",y.style.maxWidth=2*P.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=P.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,w){const P=this.distElement.getBoundingClientRect();return{x:y-P.left,y:w-P.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class S extends _{constructor(y,w,P,T){super(y,w,P),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=T;for(const N of T)this.distElement.appendChild(N);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const w of y)this.distElement.appendChild(w);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class C extends _{constructor(y,w,P){super(y,w,P),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),w=parseInt(y.getPropertyValue("width"),10),P=parseInt(y.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=P}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class E extends x{constructor(y,w,P){super(y,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=P,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let P=(100-w)*(2.5*y.pageWidth)/100+20;P>y.pageWidth&&(P=y.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${P}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=T}drawHardOuterShadow(){const y=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;w>y.pageWidth&&(w=y.pageWidth);let P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;P+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=P}drawInnerShadow(){const y=this.getRect(),w=3*this.shadow.width/4,P=this.getDirection()===0?w:0,T=this.getDirection()===0?"to left":"to right",N=this.convertToGlobal(this.shadow.pos),A=this.shadow.angle+3*Math.PI/2,M=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let R="polygon( ";for(const $ of M){let z=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};z=c.GetRotatedPoint(z,{x:P,y:100},A),R+=z.x+"px "+z.y+"px, "}R=R.slice(0,-2),R+=")";const B=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*y.height}px;
            background: linear-gradient(${T},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${P}px 100px;
            transform: translate3d(${N.x-P}px, ${N.y-100}px, 0) rotate(${A}rad);
            clip-path: ${R};
            -webkit-clip-path: ${R};
        `;this.innerShadow.style.cssText=B}drawOuterShadow(){const y=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.shadow.angle+3*Math.PI/2,T=this.getDirection()===1?this.shadow.width:0,N=this.getDirection()===0?"to right":"to left",A=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let M="polygon( ";for(const B of A)if(B!==null){let $=this.getDirection()===1?{x:-B.x+this.shadow.pos.x,y:B.y-this.shadow.pos.y}:{x:B.x-this.shadow.pos.x,y:B.y-this.shadow.pos.y};$=c.GetRotatedPoint($,{x:T,y:100},P),M+=$.x+"px "+$.y+"px, "}M=M.slice(0,-2),M+=")";const R=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${N}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${T}px 100px;
            transform: translate3d(${w.x-T}px, ${w.y-100}px, 0) rotate(${P}rad);
            clip-path: ${M};
            -webkit-clip-path: ${M};
        `;this.outerShadow.style.cssText=R}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class F{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const w=this._default;if(Object.assign(w,y),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(k,y){y===void 0&&(y={});var w=y.insertAt;if(typeof document!="undefined"){var P=document.head||document.getElementsByTagName("head")[0],T=document.createElement("style");T.type="text/css",w==="top"&&P.firstChild?P.insertBefore(T,P.firstChild):P.appendChild(T),T.styleSheet?T.styleSheet.cssText=k:T.appendChild(document.createTextNode(k))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(k,y){return this.events.has(k)?this.events.get(k).push(y):this.events.set(k,[y]),this}off(k){this.events.delete(k)}trigger(k,y,w=null){if(this.events.has(k))for(const P of this.events.get(k))P({data:w,object:y})}}{constructor(k,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new F().getSettings(y),this.block=k}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(k){this.ui=new C(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new b(this,this.setting,y),this.flipController=new g(this.render,this),this.pages=new l(this,this.render,k),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(k){this.ui=new S(this.block,this,this.setting,k),this.render=new E(this,this.setting,this.ui.getDistElement()),this.flipController=new g(this.render,this),this.pages=new h(this,this.render,this.ui.getDistElement(),k),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(k){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,k),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(k){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new h(this,this.render,this.ui.getDistElement(),k),this.pages.load(),this.ui.updateItems(k),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(k){this.pages.show(k)}flipNext(k="top"){this.flipController.flipNext(k)}flipPrev(k="top"){this.flipController.flipPrev(k)}flip(k,y="top"){this.flipController.flipToPage(k,y)}updateState(k){this.trigger("changeState",this,k)}updatePageIndex(k){this.trigger("flip",this,k)}updateOrientation(k){this.ui.setOrientationStyle(k),this.update(),this.trigger("changeOrientation",this,k)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(k){return this.pages.getPage(k)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(k){this.mousePosition=k,this.isUserTouch=!0,this.isUserMove=!1}userMove(k,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&c.GetDistanceBetweenTwoPoint(this.mousePosition,k)>5&&(this.isUserMove=!0,this.flipController.fold(k)):this.flipController.showCorner(k)}userStop(k,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(k)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(jh,jh.exports)),jh.exports}var WK=GK();const qK="_viewerRoot_hj39c_5",KK="_stage_hj39c_17",QK="_host_hj39c_43",XK="_hud_hj39c_91",YK="_hBtn_hj39c_125",JK="_hText_hj39c_153",ZK="_title_hj39c_167",eQ="_sep_hj39c_169",tQ="_spacer_hj39c_171",sQ="_errorBox_hj39c_175",ri={viewerRoot:qK,stage:KK,host:QK,hud:XK,hBtn:YK,hText:JK,title:ZK,sep:eQ,spacer:tQ,errorBox:sQ},nQ="/".endsWith("/")?"/":"//",SA=s=>{if(/^https?:\/\//i.test(s)||s.startsWith("/"))return s;const e=s.replace(/^\.?\//,"");return`${nQ}${e}`.replace(/\/{2,}/g,"/")},rQ=async s=>{const e=SA(`flipbooks/${s}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${s}"`);return n.json()},iQ=()=>{const s=document.documentElement;return!!(s.requestFullscreen||s.webkitRequestFullscreen||s.msRequestFullscreen)},aQ=(s,e,n)=>Math.max(e,Math.min(n,s)),gn={hostEl:null,pf:null,slug:null},Qi={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},oQ=typeof globalThis.requestIdleCallback=="function"?s=>globalThis.requestIdleCallback(s):s=>setTimeout(s,0);function lQ(s){for(const e of s)e&&(Qi.cache.has(e)||Qi.inFlight.has(e)||Qi.queue.includes(e)||Qi.queue.push(e));NA()}function NA(){oQ(()=>{for(;Qi.inFlight.size<Qi.maxParallel&&Qi.queue.length>0;){const s=Qi.queue.shift();Qi.inFlight.add(s);const e=new Image;e.onload=e.onerror=()=>{Qi.inFlight.delete(s),Qi.cache.add(s),NA()},e.src=s}})}const cQ=({slug:s,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const a=I.useRef(null),l=I.useRef(null),[c,u]=I.useState(null),[h,p]=I.useState(null),g=I.useRef(),x=I.useRef(),b=I.useRef(e);I.useEffect(()=>{g.current=n},[n]),I.useEffect(()=>{x.current=r},[r]),I.useEffect(()=>{b.current=e},[e]);const _=I.useMemo(()=>SA(`flipbooks/${s}`),[s]),S=I.useCallback(k=>{var y,w;if((y=k.srcset)!=null&&y.length){const P=[...k.srcset].sort((N,A)=>N.width-A.width),T=(w=P.find(N=>N.width>=1600))!=null?w:P[P.length-1];return/^https?:\/\//i.test(T.src)||T.src.startsWith("/")?T.src:`${_}/${T.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(k.src)||k.src.startsWith("/")?k.src:`${_}/${k.src}`.replace(/\/{2,}/g,"/")},[_]);I.useEffect(()=>{let k=!0;return p(null),rQ(s).then(y=>{k&&u(y)}).catch(y=>{k&&p(y.message||"Failed to load flipbook manifest.")}),()=>{k=!1}},[s]),I.useEffect(()=>{const k=l.current,y=a.current;if(!k||!y||!c||(gn.hostEl||(gn.hostEl=document.createElement("div"),gn.hostEl.className=ri.host),gn.hostEl.parentElement!==k&&k.appendChild(gn.hostEl),!gn.hostEl.isConnected))return;if(!(!gn.pf||gn.slug!==s)){try{gn.pf.update()}catch($){}return}if(gn.pf){try{gn.pf.destroy()}catch($){}gn.pf=null}const P={width:c.pageWidth,height:c.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},T=new WK.PageFlip(gn.hostEl,P);gn.pf=T,gn.slug=s;const N=c.pages.map(S);T.loadFromImages(N);const A=$=>{const z=[],U=$+1,W=$+2;c.pages[U]&&z.push(S(c.pages[U])),c.pages[W]&&z.push(S(c.pages[W])),lQ(z)},M=()=>{var z;const $=aQ(b.current,1,c.pageCount)-1;T.turnToPage($,"hard"),setTimeout(()=>A($),220),(z=g.current)==null||z.call(g,T)};T.on("init",M),T.on("flip",$=>{var U;const z=$.data;(U=x.current)==null||U.call(x,z),setTimeout(()=>A(z),220)});const R=new ResizeObserver(()=>{var $;try{($=gn.pf)==null||$.update()}catch(z){}});R.observe(y);const B=$=>{var z,U;$.key==="ArrowLeft"&&($.preventDefault(),(z=gn.pf)==null||z.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(U=gn.pf)==null||U.flipNext())};return window.addEventListener("keydown",B,{passive:!1}),()=>{window.removeEventListener("keydown",B),R.disconnect()}},[c,S,s]);const C=()=>{var k;return(k=gn.pf)==null?void 0:k.flipPrev()},E=()=>{var k;return(k=gn.pf)==null?void 0:k.flipNext()},F=()=>{var w;const k=a.current;if(!k)return;const y=k;(w=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||w.call(y)};return h?t.jsxs("div",{className:ri.errorBox,children:["Flipbook konnte nicht geladen werden: ",h]}):c?t.jsxs("div",{className:ri.viewerRoot,ref:a,"aria-label":c.title,children:[t.jsx("div",{className:ri.stage,ref:l}),t.jsxs("div",{className:ri.hud,children:[t.jsx("button",{className:ri.hBtn,onClick:C,"aria-label":"Zurck",children:""}),t.jsxs("div",{className:ri.hText,children:[t.jsx("span",{className:ri.title,children:c.title}),t.jsx("span",{className:ri.sep,children:""}),t.jsxs("span",{children:[c.pageCount," Seiten"]})]}),t.jsx("div",{className:ri.spacer}),iQ()&&t.jsx("button",{className:ri.hBtn,onClick:F,"aria-label":"Fullscreen",children:""}),t.jsx("button",{className:ri.hBtn,onClick:E,"aria-label":"Weiter",children:""})]})]}):t.jsx("div",{className:ri.errorBox,children:"Lade Flipbook"})},dQ=X.memo(cQ),uQ={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},hQ=()=>{const s="sf-history-book",[e,n]=I.useState(1),r=I.useRef(null),i=I.useMemo(()=>{var p;return(p=uQ[e])!=null?p:[]},[e]),a=I.useCallback(p=>{r.current=p},[]),l=I.useCallback(p=>{n(p+1)},[]),c=I.useCallback(p=>{const g=r.current;if(g)try{g.turnToPage(Math.max(0,p-1))}catch(x){}},[]),u=I.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipPrev()},[]),h=I.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipNext()},[]);return t.jsx(zt,{title:"SF History Book",children:t.jsxs("div",{className:Yo.pageWrap,children:[t.jsx("div",{className:Yo.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),t.jsxs("div",{className:Yo.viewerHost,children:[t.jsx(dQ,{slug:s,initialPage:1,onReady:a,onPageChange:l,noSound:!0}),t.jsxs("div",{className:Yo.overlay,"aria-hidden":!0,children:[t.jsx("div",{className:Yo.dragZoneLeft,onClick:u}),t.jsx("div",{className:Yo.dragZoneRight,onClick:h}),i.map((p,g)=>{const x={"--t":`${p.t}%`,"--l":`${p.l}%`,"--w":`${p.w}%`,"--h":`${p.h}%`};return p.kind==="goto"?t.jsx("button",{className:Yo.inbookLink,style:x,"aria-label":p.label,onClick:()=>c(p.toPage)},g):t.jsx("a",{className:Yo.inbookLink,style:x,"aria-label":p.label,href:p.href,target:"_blank",rel:"noopener noreferrer"},g)})]})]})]})})},pQ="_root_zvspc_1",mQ="_hero_zvspc_15",gQ="_eyebrow_zvspc_47",fQ="_heading_zvspc_63",vQ="_lead_zvspc_77",xQ="_freshnessHint_zvspc_91",yQ="_hintLabel_zvspc_105",bQ="_hintText_zvspc_121",_Q="_grid_zvspc_135",wQ="_card_zvspc_147",jQ="_cardTitle_zvspc_163",SQ="_paragraph_zvspc_177",NQ="_list_zvspc_191",kQ="_listItem_zvspc_207",Vr={root:pQ,hero:mQ,eyebrow:gQ,heading:fQ,lead:vQ,freshnessHint:xQ,hintLabel:yQ,hintText:bQ,grid:_Q,card:wQ,cardTitle:jQ,paragraph:SQ,list:NQ,listItem:kQ},CQ=()=>{const{t:s}=Ia(),e=s("help.dataFreshness.body").split(`

`),n=[{key:"intro",title:s("help.sections.intro.title"),paragraphs:[s("help.sections.intro.body1"),s("help.sections.intro.body2")]},{key:"actions",title:s("help.sections.actions.title"),bullets:[s("help.sections.actions.items.toplists"),s("help.sections.actions.items.profiles"),s("help.sections.actions.items.guides"),s("help.sections.actions.items.tools")]},{key:"freshness",title:s("help.dataFreshness.title"),paragraphs:e},{key:"login",title:s("help.sections.login.title"),paragraphs:[s("help.sections.login.body1"),s("help.sections.login.body2"),s("help.sections.login.body3"),s("help.sections.login.body4")]},{key:"legal",title:s("help.sections.legal.title"),paragraphs:[s("help.sections.legal.body1"),s("help.sections.legal.body2"),s("help.sections.legal.body3")],bullets:[s("help.sections.legal.items.tos"),s("help.sections.legal.items.privacy"),s("help.sections.legal.items.imprint")]}];return t.jsx(zt,{title:s("help.title"),subtitle:s("help.subtitle"),centerFramed:!0,padded:!0,children:t.jsxs("div",{className:Vr.root,children:[t.jsxs("section",{className:Vr.hero,children:[t.jsxs("div",{children:[t.jsx("p",{className:Vr.eyebrow,children:s("help.hero.eyebrow")}),t.jsx("h1",{className:Vr.heading,children:s("help.hero.heading")}),t.jsx("p",{className:Vr.lead,children:s("help.hero.lead")})]}),t.jsxs("div",{className:Vr.freshnessHint,children:[t.jsx("div",{className:Vr.hintLabel,children:s("help.hero.freshnessLabel")}),t.jsx("p",{className:Vr.hintText,children:s("help.hero.freshnessBody")})]})]}),t.jsx("div",{className:Vr.grid,children:n.map(r=>{var a;const i=r.key==="login"?"linking":void 0;return t.jsxs("section",{id:i,className:Vr.card,children:[t.jsx("h2",{className:Vr.cardTitle,children:r.title}),(a=r.paragraphs)==null?void 0:a.map((l,c)=>t.jsx("p",{className:Vr.paragraph,children:l},`${r.key}-p-${c}`)),r.bullets&&t.jsx("ul",{className:Vr.list,children:r.bullets.map(l=>t.jsx("li",{className:Vr.listItem,children:l},`${r.key}-${l}`))})]},r.key)})})]})})},kA=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(kA.map(s=>[s.id,s]));const CA="TL_FILTERS_V2",Wr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function TQ(){var s;try{const e=localStorage.getItem(CA);if(!e)return Wr;const n=(s=JSON.parse(e))!=null?s:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:Wr.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:Wr.listView,a=["hud","sheet"].includes(n.filterMode)?n.filterMode:Wr.filterMode,l=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,c=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...Wr,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:l,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:c,quickFav:l,quickActive:c,days:r,listView:i,filterMode:a,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Wr.sortBy,searchText:typeof n.searchText=="string"?n.searchText:Wr.searchText}}catch(e){return Wr}}function IQ(s){try{localStorage.setItem(CA,JSON.stringify(s))}catch(e){}}const TA=I.createContext(null),Sk=s=>Array.from(new Set(s));function gg(s,e){return typeof s=="function"?s(e):s}function AQ({children:s}){const[e,n]=I.useState(()=>TQ());I.useEffect(()=>{IQ(e)},[e]);const r=N=>n(A=>({...A,servers:Sk(gg(N,A.servers))})),i=N=>n(A=>{const M=new Set(A.servers);return M.has(N)?M.delete(N):M.add(N),{...A,servers:Array.from(M)}}),a=()=>n(N=>({...N,servers:[]})),l=N=>n(A=>({...A,classes:Sk(gg(N,A.classes))})),c=N=>n(A=>{const M=new Set(A.classes);return M.has(N)?M.delete(N):M.add(N),{...A,classes:Array.from(M)}}),u=()=>n(N=>({...N,classes:[]})),h=N=>n(A=>({...A,days:N})),p=N=>h(N),g=N=>n(A=>({...A,sortBy:N||"level"})),x=N=>n(A=>({...A,favoritesOnly:!!N,quickFav:!!N})),b=N=>n(A=>({...A,activeOnly:!!N,quickActive:!!N})),_=N=>n(A=>({...A,searchText:N})),S=N=>n(A=>{const M=gg(N,A.quickFav);return{...A,quickFav:M,favoritesOnly:M}}),C=N=>n(A=>{const M=gg(N,A.quickActive);return{...A,quickActive:M,activeOnly:M}}),E=N=>n(A=>({...A,filterMode:N})),F=N=>n(A=>({...A,listView:N})),k=N=>n(A=>({...A,bottomFilterOpen:!!N})),y=N=>n(A=>({...A,serverSheetOpen:!!N})),w=()=>n(Wr),P=()=>w(),T=I.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:a,setClasses:l,toggleClass:c,clearClasses:u,setDays:h,setRange:p,setSortBy:g,setFavoritesOnly:x,setActiveOnly:b,setSearchText:_,setQuickFav:S,setQuickActive:C,setFilterMode:E,setListView:F,setBottomFilterOpen:k,setServerSheetOpen:y,resetFilters:w,resetAll:P}),[e]);return t.jsx(TA.Provider,{value:T,children:s})}function Dp(){const s=I.useContext(TA);return s||{...Wr,range:Wr.days,searchText:Wr.searchText,quickFav:Wr.quickFav,quickActive:Wr.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const EQ="_hudWrap_107o7_9",PQ="_hudBtn_107o7_11",RQ="_hudSubBtn_107o7_15",LQ="_iconRow_107o7_19",DQ="_segmented_107o7_21",MQ="_sortLabel_107o7_27",FQ="_sortSelect_107o7_29",BQ="_chip_107o7_31",$Q="_isActive_107o7_33",Ur={hudWrap:EQ,hudBtn:PQ,hudSubBtn:RQ,iconRow:LQ,segmented:DQ,sortLabel:MQ,sortSelect:FQ,chip:BQ,isActive:$Q};function OQ({active:s=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:a}){const l=Math.round(i*.7),c=X.useMemo(()=>{const E=[],F=CI(n,l*2,l*2,"contain");F&&E.push(F);const k=Qr(n,l*2);return k&&k!==F&&E.push(k),!E.length&&n&&E.push(n),E},[n,l]),[u,h]=X.useState(0),[p,g]=X.useState(!1),[x,b]=X.useState(!1);X.useEffect(()=>h(0),[c]);const _=c[u]||"",S={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:x||s?"inset 0 0 18px rgba(92,139,198,.25)":"none"};p&&(S.background="rgba(255,255,255,.04)"),s&&(S.outline="2px solid #5C8BC6");const C={display:"block",width:l,height:l,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return t.jsx("button",{type:"button",title:e,"aria-pressed":!!s,onClick:a,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>b(!0),onBlur:()=>b(!1),style:S,children:_?t.jsx("img",{src:_,alt:e||"class",width:l,height:l,loading:"lazy",style:C,onError:()=>{h(E=>E+1<c.length?E+1:E)}}):t.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const VQ=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function UQ(){const{servers:s,classes:e,setClasses:n,range:r,setRange:i,sortBy:a,setSortBy:l,quickFav:c,setQuickFav:u,quickActive:h,setQuickActive:p,filterMode:g,setBottomFilterOpen:x,serverSheetOpen:b,setServerSheetOpen:_,resetAll:S}=Dp();return t.jsxs("div",{className:Ur.hudWrap,children:[t.jsxs("button",{type:"button",className:Ur.hudBtn,onClick:C=>{C.preventDefault(),C.stopPropagation(),_(!0)},"aria-haspopup":"dialog","aria-expanded":b||!1,"aria-label":`Select servers${s.length?` (${s.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",s.length?`(${s.length})`:""]}),t.jsxs("div",{className:Ur.iconRow,children:[$n.map(C=>t.jsx(OQ,{active:e.includes(C.key),title:C.label,iconUrl:C.iconUrl,fallback:C.fallback,size:40,onClick:()=>n(E=>E.includes(C.key)?E.filter(F=>F!==C.key):[...E,C.key])},C.key)),t.jsx("button",{type:"button",className:Ur.hudSubBtn,onClick:()=>n($n.map(C=>C.key)),children:"All"}),t.jsx("button",{type:"button",className:Ur.hudSubBtn,onClick:()=>n([]),children:"None"})]}),t.jsx("div",{className:Ur.segmented,role:"group","aria-label":"Range",children:VQ.map(C=>t.jsx("button",{type:"button","aria-pressed":r===C.value,onClick:()=>i(C.value),children:C.label},C.label))}),t.jsx("label",{className:Ur.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),t.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:a,onChange:C=>l(C.target.value),className:Ur.sortSelect,"aria-label":"Sort",children:[t.jsx("option",{value:"level",children:"Level"}),t.jsx("option",{value:"scrapbook",children:"Scrapbook"}),t.jsx("option",{value:"activity",children:"Activity"}),t.jsx("option",{value:"lastScan",children:"Last scan"})]}),t.jsx("button",{type:"button",className:`${Ur.chip} ${c?Ur.isActive:""}`,onClick:()=>u(C=>!C),children:" Favorites"}),t.jsx("button",{type:"button",className:`${Ur.chip} ${h?Ur.isActive:""}`,onClick:()=>p(C=>!C),children:" Active"}),t.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[t.jsx("button",{type:"button",className:Ur.hudSubBtn,onClick:S,children:"Reset"}),g==="sheet"&&t.jsx("button",{type:"button",className:Ur.hudBtn,onClick:C=>{C.preventDefault(),C.stopPropagation(),x(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const zQ=["EU","US","INT","Fusion"],tr={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function HQ({open:s,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:a,onSelectAllInRegion:l,onClearAll:c}){const[u,h]=I.useState(""),p=I.useRef(null);I.useEffect(()=>{if(!s)return;const b=_=>{_.key==="Escape"&&e()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[s,e]),I.useEffect(()=>{if(s&&p.current){const b=p.current.querySelector("#sheet-serversearch");b==null||b.focus()}},[s]);const g=zQ,x=b=>{const _=u.trim().toLowerCase();return _?b.toLowerCase().includes(_):!0};return s?t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:GQ,onClick:b=>{b.target===b.currentTarget&&e()},children:t.jsxs("div",{ref:p,style:n==="modal"?IA:WQ,className:"sf-server-sheet",children:[t.jsxs("div",{style:qQ,children:[t.jsx("h2",{id:"server-dialog-title",style:KQ,children:"Select servers"}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("button",{type:"button",onClick:c,style:Nk,children:"Clear"}),t.jsx("button",{type:"button",onClick:e,style:tX,children:"Done"})]})]}),t.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[t.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),t.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers...",value:u,onChange:b=>h(b.target.value),"aria-label":"Search servers",autoComplete:"off",style:XQ})]}),t.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:g.map(b=>{const _=(r[b]||[]).filter(x);return t.jsxs("section",{"aria-labelledby":`region-${b}`,children:[t.jsxs("div",{style:YQ,children:[t.jsx("h3",{id:`region-${b}`,style:QQ,children:b}),t.jsx("div",{style:{display:"flex",gap:8},children:t.jsx("button",{type:"button",style:Nk,onClick:()=>{l?l(b):_.filter(C=>!i.includes(C)).forEach(a)},children:"Select all"})})]}),t.jsxs("div",{style:JQ,children:[_.map(S=>{const C=i.includes(S);return t.jsx("button",{type:"button",onClick:()=>a(S),"aria-pressed":C,title:S,style:{...ZQ,...C?eX:null},children:S},S)}),_.length===0&&t.jsx("div",{style:{color:tr.text2,fontSize:13,padding:"4px 2px"},children:"No servers found"})]})]},b)})})]})}):null}const GQ={position:"fixed",inset:0,background:tr.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},IA={width:"min(900px, 100%)",background:tr.tile,border:`1px solid ${tr.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:tr.text},WQ={...IA,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},qQ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},KQ={fontSize:18,margin:0},QQ={fontSize:14,margin:0,color:tr.text2},XQ={width:"100%",background:tr.input,color:tr.text,border:`1px solid ${tr.line}`,borderRadius:12,padding:"10px 12px"},YQ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},JQ={display:"flex",flexWrap:"wrap",gap:8},ZQ={background:tr.chip,border:`1px solid ${tr.line}`,padding:"6px 10px",borderRadius:999,color:tr.text},eX={outline:`2px solid ${tr.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},tX={background:"#25456B",color:tr.text,border:`1px solid ${tr.accent}`,borderRadius:10,padding:"8px 12px"},Nk={background:"transparent",color:tr.text,border:`1px solid ${tr.line}`,borderRadius:10,padding:"8px 12px"},sX=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const s="sf-sr-only-style";if(!document.getElementById(s)){const e=document.createElement("style");e.id=s,e.textContent=sX,document.head.appendChild(e)}}const Zn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function nX({open:s,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:a,sortBy:l,setSortBy:c,quickFav:u,setQuickFav:h,quickActive:p,setQuickActive:g}=Dp(),x=I.useRef(null);if(I.useEffect(()=>{if(!s)return;const _=S=>{S.key==="Escape"&&e()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[s,e]),I.useEffect(()=>{if(s&&x.current){const _=x.current.querySelector("#sheet-search");_==null||_.focus()}},[s]),!s)return null;const b=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:rX,onClick:_=>{_.target===_.currentTarget&&e()},children:t.jsxs("div",{ref:x,style:iX,children:[t.jsxs("div",{style:aX,children:[t.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Zn.text},children:"Filters"}),t.jsx("button",{type:"button",onClick:e,style:lX,children:"Done"})]}),t.jsxs("div",{style:{display:"grid",gap:8},children:[t.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),t.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:_=>r(_.target.value),"aria-label":"Search",autoComplete:"off",style:AA})]}),t.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[t.jsx("span",{style:{color:Zn.text2,fontSize:12},children:"Range"}),t.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:b.map(_=>t.jsx("button",{type:"button","aria-pressed":i===_.value,onClick:()=>a(_.value),style:{...Ky,...i===_.value?Qy:null},children:_.label},_.label))})]}),t.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[t.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Zn.text2,fontSize:12},children:"Sort"}),t.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:l,onChange:_=>c(_.target.value),"aria-label":"Sort",autoComplete:"off",style:oX,children:[t.jsx("option",{value:"sum",children:"Base Sum"}),t.jsx("option",{value:"main",children:"Main Base Stat"}),t.jsx("option",{value:"constitution",children:"Constitution"}),t.jsx("option",{value:"level",children:"Level"}),t.jsx("option",{value:"delta",children:" Rank"}),t.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),t.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[t.jsx("button",{type:"button",onClick:()=>h(_=>!_),"aria-pressed":u,style:{...Ky,...u?Qy:null},children:" Favorites"}),t.jsx("button",{type:"button",onClick:()=>g(_=>!_),"aria-pressed":p,style:{...Ky,...p?Qy:null},children:" Active"})]})]})})}const rX={position:"fixed",inset:0,background:Zn.backdrop,zIndex:60,display:"grid",alignItems:"end"},iX={background:Zn.tile,borderTop:`1px solid ${Zn.line}`,borderLeft:`1px solid ${Zn.line}`,borderRight:`1px solid ${Zn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Zn.text,maxHeight:"80vh",overflow:"auto"},aX={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},AA={width:"100%",background:Zn.input,color:Zn.text,border:`1px solid ${Zn.line}`,borderRadius:12,padding:"10px 12px"},oX={...AA,appearance:"none"},Ky={background:"#14273E",border:`1px solid ${Zn.line}`,padding:"6px 10px",borderRadius:999,color:Zn.text},Qy={outline:`2px solid ${Zn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},lX={background:"#25456B",color:Zn.text,border:`1px solid ${Zn.accent}`,borderRadius:10,padding:"8px 12px"},cX=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const s="sf-sr-only-style";if(!document.getElementById(s)){const e=document.createElement("style");e.id=s,e.textContent=cX,document.head.appendChild(e)}}function dX(){var i;const s=Dp(),e=(i=s==null?void 0:s.listView)!=null?i:"table",n=Array.isArray(s==null?void 0:s.list)?s.list:[],r=Array.isArray(s==null?void 0:s.filtered)?s.filtered:n;return e==="table"?null:t.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:t.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(a=>{var l,c,u,h,p,g,x;return t.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[t.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(l=a.name)!=null?l:""}),t.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(c=a.server)!=null?c:""})]}),t.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",t.jsx("span",{style:{textTransform:"uppercase"},children:(u=a.class)!=null?u:""}),"  Lv ",(h=a.level)!=null?h:"","  Scrap ",(p=a.scrapbook)!=null?p:""]}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[t.jsx(Xy,{children:a.active?"Active":"Idle"}),a.favorite&&t.jsx(Xy,{children:" Fav"}),t.jsx(Xy,{children:`Scan ${(g=a.lastScanDays)!=null?g:"?"}d`})]})]},(x=a.id)!=null?x:`${a.name}-${a.server}`)})}),e==="buttons"&&t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(a=>{var l,c,u,h;return t.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[a.favorite&&" ",(l=a.name)!=null?l:"",t.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(c=a.server)!=null?c:"","  Lv ",(u=a.level)!=null?u:"",")"]})]},(h=a.id)!=null?h:`${a.name}-${a.server}`)})})]})}function Xy({children:s}){return t.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:s})}const G_="stats_public",uX="toplists_players_v1";async function hX(){try{const s=await un(Zt(pt,G_,"toplists_bundle_v1"));if(!s.exists())return{ok:!1,error:"not_found"};const n=(s.data()||{}).servers;let r=null;if(Array.isArray(n))r=n;else if(typeof n=="string")try{const a=JSON.parse(n);Array.isArray(a)?r=a:console.warn("[toplistsFirestore] Server bundle string is not an array after parse")}catch(a){console.warn("[toplistsFirestore] Failed to parse server bundle string",a)}if(!Array.isArray(r))return console.warn("[toplistsFirestore] Server bundle missing/invalid, falling back to static config"),{ok:!1,error:"decode_failed",detail:"servers missing or invalid"};const i=[];for(const a of r){if(typeof a!="string"){console.warn("[toplistsFirestore] Skipping non-string server entry",{entry:a});continue}const l=a.trim();l&&i.push(l)}return{ok:!0,servers:i}}catch(s){return console.error("[toplistsFirestore] Firestore error while loading toplist servers",s),{ok:!1,error:"firestore_error",detail:s==null?void 0:s.message}}}function P1(s){const e=a=>(a!=null?a:"").toString().trim().toLowerCase(),n=e(s.group)||"all",r=e(s.timeRange)||"all",i=e(s.sort)||"sum";return`${n}__${r}__${i}`}function pX(s,e){const n=s.toUpperCase(),r=e.toUpperCase();return r==="ALL"?`${n}_all_sum`:`${n}_${r}_sum`}async function mX(){try{const s=await un(Zt(pt,G_,"toplists_meta_v1"));if(!s.exists())return null;const e=s.data();return!e||typeof e!="object"?null:e}catch(s){return console.error("[toplistsFirestore] meta decode failed",s),null}}const oi=s=>{if(typeof s=="number")return Number.isFinite(s)?s:null;if(typeof s=="string"){const e=Number(s);return Number.isFinite(e)?e:null}if(s instanceof Date)return Number.isFinite(s.getTime())?s.getTime():null;if(s&&typeof s.toMillis=="function"){const e=s.toMillis();return Number.isFinite(e)?e:null}return null},Xi=s=>typeof s=="string"?s:null,gX=s=>{if(!s||typeof s!="object")return null;const e=Xi(s.server),n=Xi(s.name),r=Xi(s.class);return!e||!n||!r?null:{flag:Xi(s.flag),deltaRank:oi(s.deltaRank),server:e,name:n,class:r,level:oi(s.level),guild:Xi(s.guild),main:oi(s.main),con:oi(s.con),sum:oi(s.sum),ratio:oi(s.ratio),mine:oi(s.mine),treasury:oi(s.treasury),lastScan:Xi(s.lastScan),deltaSum:oi(s.deltaSum)}};async function kk(s){try{const e=await un(Zt(pt,G_,uX,"lists",s));if(!e.exists())return{ok:!1,error:"not_found"};const n=e.data()||{},r=Xi(n.entity)||"players",i=Xi(n.group),a=Xi(n.server),l=Xi(n.metric),c=Xi(n.timeRange),u=oi(n.limit),h=Array.isArray(n.rows)?n.rows:null;if(r!=="players"||!i||!a||!l||!c||u==null||!h)return console.error("[toplistsFirestore] Decode failed",{entity:r,group:i,server:a,metric:l,timeRange:c,limit:u,hasRowsArray:Array.isArray(n.rows)}),{ok:!1,error:"decode_error",detail:"missing required toplist fields"};const p=[];for(const x of h){const b=gX(x);if(!b)return console.error("[toplistsFirestore] Row decode failed",x),{ok:!1,error:"decode_error",detail:"invalid row shape"};p.push(b)}return{ok:!0,list:{id:s,entity:"players",group:i,server:a,metric:l,timeRange:c,limit:u,updatedAt:oi(n.updatedAt),nextUpdateAt:n.nextUpdateAt!==void 0?oi(n.nextUpdateAt):void 0,ttlSec:n.ttlSec!==void 0?oi(n.ttlSec):void 0,rows:p}}}catch(e){return console.error("[toplistsFirestore] Firestore error",e),{ok:!1,error:"firestore_error",detail:e==null?void 0:e.message}}}async function fX(s){const e=P1(s),n=await kk(e);if(n.ok&&n.list.rows&&n.list.rows.length>0||(s.group||"").toLowerCase()==="all")return n;const i={...s,group:"all"},a=P1(i),l=await kk(a);return l.ok?{ok:!0,list:{...l.list,group:s.group}}:n}const vX={EU:[],US:[],INT:[],Fusion:[]},xX=["EU","US","INT","Fusion"],yX=s=>{const e=s.toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("AM")||e.startsWith("US")||e.startsWith("NA")?"US":e.startsWith("F")?"Fusion":"INT"};function EA(s){const e={EU:new Set,US:new Set,INT:new Set,Fusion:new Set};s.forEach(r=>{if(typeof r!="string")return;const i=yX(r);e[i].add(r)});const n={...vX};return xX.forEach(r=>{n[r]=Array.from(e[r]).sort((i,a)=>i.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"}))}),n}const bX="EU",Yy=EA(kA.map(s=>s.id).filter(s=>typeof s=="string"&&!!s)),PA=I.createContext(null),Ck=(s,e)=>s.length===e.length&&s.every((n,r)=>n===e[r]);function _X(s,e){return s.group===e.group&&s.timeRange===e.timeRange&&Ck(s.servers,e.servers)&&Ck(s.classes,e.classes)}function wX(s,e){return s.key===e.key&&s.dir===e.dir}function jX({children:s}){const[e,n]=I.useState({group:bX,servers:[],classes:[],timeRange:"all"}),[r,i]=I.useState({key:"level",dir:"desc"}),[a,l]=I.useState({rows:[],loading:!1,error:null,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:null}),c=I.useRef(new Map),[u,h]=I.useState(null),[p,g]=I.useState(null),[x,b]=I.useState(Yy),_=I.useCallback(E=>{n(F=>{const k=typeof E=="function"?E(F):{...F,...E};return _X(F,k)?F:k})},[]),S=I.useCallback(E=>{i(F=>{const k=typeof E=="function"?E(F):E;return wX(F,k)?F:k})},[]);I.useEffect(()=>{let E=!1;return(async()=>{const F=await hX();if(!E){if(F.ok){const k=EA(F.servers);if(Object.values(k).some(w=>w.length>0)){b(k);return}}b(Yy)}})().catch(F=>{E||(console.error("[ToplistsProvider] unexpected error while loading server list",F),b(Yy))}),()=>{E=!0}},[]),I.useEffect(()=>{let E=!1;return(async()=>{const F=await mX();E||h(F)})().catch(F=>{E||console.error("[ToplistsProvider] unexpected meta error",F)}),()=>{E=!0}},[]),I.useEffect(()=>{var T,N,A;let E=!1;const F="sum",k=P1({group:e.group,timeRange:e.timeRange,sort:F}),y=c.current.get(k),w=(y==null?void 0:y.list.ttlSec)!=null?y.list.ttlSec*1e3:null,P=y?w==null||Date.now()-y.cachedAt<w:!1;return y&&P?(l({rows:y.list.rows,loading:!1,error:null,lastUpdatedAt:(T=y.list.updatedAt)!=null?T:null,nextUpdateAt:(N=y.list.nextUpdateAt)!=null?N:null,ttlSec:(A=y.list.ttlSec)!=null?A:null,listId:k}),()=>{E=!0}):(l(M=>({...M,listId:k,loading:!0,error:null})),(async()=>{var $,z,U;const M=await fX({group:e.group,timeRange:e.timeRange,sort:F});if(E)return;if(M.ok){c.current.set(k,{list:M.list,cachedAt:Date.now()}),l({rows:M.list.rows,loading:!1,error:null,lastUpdatedAt:($=M.list.updatedAt)!=null?$:null,nextUpdateAt:(z=M.list.nextUpdateAt)!=null?z:null,ttlSec:(U=M.list.ttlSec)!=null?U:null,listId:k});return}const R=M.detail?` (${M.detail})`:"";let B="Firestore Fehler";M.error==="not_found"?B="Topliste nicht verfuegbar":M.error==="decode_error"&&(B="Fehler beim Lesen der Daten"),l({rows:[],loading:!1,error:`${B}${R}`,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:k})})().catch(M=>{E||(console.error("[ToplistsProvider] unexpected error",M),l({rows:[],loading:!1,error:"Unerwarteter Fehler beim Laden",lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:k}))}),()=>{E=!0})},[e.group,e.timeRange]),I.useEffect(()=>{var U,W;if(!u){g(null);return}const E=e.servers&&e.servers.length===1?e.servers[0]:"all",F=pX(e.group||"ALL",E||"all"),k=(U=u.thresholds)==null?void 0:U.players,y=typeof(k==null?void 0:k.minChanges)=="number"?k.minChanges:100,w=typeof(k==null?void 0:k.maxAgeDays)=="number"?k.maxAgeDays:7,P=(W=u.scopeChange)==null?void 0:W[F],T=typeof(P==null?void 0:P.lastRebuildAtMs)=="number"?P.lastRebuildAtMs:null,N=typeof(P==null?void 0:P.lastChangeAtMs)=="number"?P.lastChangeAtMs:null,A=typeof(P==null?void 0:P.changedSinceLastRebuild)=="number"?P.changedSinceLastRebuild:0,M=T?new Date(T):null,R=N?new Date(N):null,B=T!=null?(Date.now()-T)/(1e3*60*60*24):1/0,$=y>0?Math.min(1,Math.max(0,A/y)):0,z=!!M&&(w==null||B<=w)&&(y==null||A<y);g({scopeId:F,lastRebuildAt:M,lastChangeAt:R,changesSinceLastRebuild:A,minChanges:y!=null?y:null,maxAgeDays:w!=null?w:null,progress:$,isFresh:z})},[u,e.group,e.servers]);const C=I.useMemo(()=>({player:a,playerRows:a.rows,playerLoading:a.loading,playerError:a.error,playerLastUpdatedAt:a.lastUpdatedAt,playerNextUpdateAt:a.nextUpdateAt,playerScopeStatus:p,serverGroups:x,filters:e,sort:r,setFilters:_,setSort:S}),[a,e,r,x,_,S,p]);return t.jsx(PA.Provider,{value:C,children:s})}function RA(){const s=I.useContext(PA);if(!s)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return s}function SX(s){switch(s){case"level":return{key:"level",dir:"desc"};case"main":return{key:"main",dir:"desc"};case"constitution":return{key:"con",dir:"desc"};case"sum":return{key:"sum",dir:"desc"};case"lastActivity":case"lastScan":return{key:"lastScan",dir:"desc"};case"name":return{key:"name",dir:"asc"};default:return{key:"level",dir:"desc"}}}function NX(s){const e=(s[0]||"").toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("US")||e.startsWith("NA")||e.startsWith("AM")?"US":e.startsWith("F")?"FUSION":e?"INT":"EU"}function kX(){return t.jsx(jX,{children:t.jsx(CX,{})})}function CX(){const s=Dp(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:a,setBottomFilterOpen:l,serverSheetOpen:c,setServerSheetOpen:u,servers:h,setServers:p,classes:g,range:x,sortBy:b}=s,{serverGroups:_}=RA();return t.jsxs(t.Fragment,{children:[t.jsxs(zt,{mode:"card",title:"Top Lists",actions:t.jsx(IX,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?t.jsx(UQ,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[t.jsx(dX,{}),r==="table"&&t.jsx(TX,{servers:h!=null?h:[],classes:g!=null?g:[],range:x!=null?x:"all",sortKey:b!=null?b:"level"})]}),t.jsx(HQ,{mode:"modal",open:c,onClose:()=>u(!1),serversByRegion:_,selected:h,onToggle:S=>p(C=>C.includes(S)?C.filter(E=>E!==S):[...C,S]),onSelectAllInRegion:S=>{var C;return p((C=_[S])!=null?C:[])},onClearAll:()=>p([])}),t.jsx(nX,{open:e==="sheet"&&a,onClose:()=>l(!1)})]})}function TX({servers:s,classes:e,range:n,sortKey:r}){var C,E,F;const{playerRows:i,playerLoading:a,playerError:l,playerLastUpdatedAt:c,playerScopeStatus:u,setFilters:h,setSort:p}=RA();I.useEffect(()=>{const k=n==="all"?"all":n===60?"30d":`${n}d`,y=NX(s);h({servers:s,classes:e,timeRange:k,group:y})},[s,e,n,h]),I.useEffect(()=>{const k=SX(r);p(k)},[r,p]);const g=k=>k==null?"":new Intl.NumberFormat("en").format(k),x=k=>{if(k==null)return"";const y=g(Math.abs(k));return y?k>0?`+${y}`:`-${y}`:String(k)},b=k=>{if(k==null)return null;const y=k<1e12?k*1e3:k;return new Date(y).toLocaleString()},_=k=>k?k.toLocaleString():"",S=i||[];return t.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[t.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[t.jsxs("div",{children:[a?"Loading...":l?"Error":"Ready"," - ",S.length," rows"]}),t.jsx("div",{children:c?`Updated: ${b(c)}`:null})]}),u&&t.jsxs("div",{style:{opacity:.75,fontSize:12,display:"flex",flexWrap:"wrap",gap:8},children:[t.jsxs("span",{children:["Scope ",u.scopeId,"  ",u.changesSinceLastRebuild,"/",(C=u.minChanges)!=null?C:"?"," changes since last rebuild"]}),t.jsxs("span",{children:["Auto rebuild at ",(E=u.minChanges)!=null?E:"?"," changes or after ",(F=u.maxAgeDays)!=null?F:"?"," days"]}),t.jsxs("span",{children:["Last rebuild: ",_(u.lastRebuildAt)]})]}),l&&t.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[t.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),t.jsx("div",{style:{wordBreak:"break-all"},children:l}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{padding:"8px 6px"},children:"#"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Flag"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Delta Rank"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),t.jsxs("tbody",{children:[S.map((k,y)=>{var w,P,T,N;return t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("td",{style:{padding:"8px 6px"},children:y+1}),t.jsx("td",{style:{padding:"8px 6px"},children:(w=k.flag)!=null?w:""}),t.jsx("td",{style:{padding:"8px 6px"},children:x(k.deltaRank)}),t.jsx("td",{style:{padding:"8px 6px"},children:k.server}),t.jsx("td",{style:{padding:"8px 6px"},children:k.name}),t.jsx("td",{style:{padding:"8px 6px"},children:k.class}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(k.level)}),t.jsx("td",{style:{padding:"8px 6px"},children:(P=k.guild)!=null?P:""}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(k.main)}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(k.con)}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(k.sum)}),t.jsx("td",{style:{padding:"8px 6px"},children:(T=k.ratio)!=null?T:""}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(k.mine)}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(k.treasury)}),t.jsx("td",{style:{padding:"8px 6px"},children:(N=k.lastScan)!=null?N:""}),t.jsx("td",{style:{padding:"8px 6px"},children:x(k.deltaSum)})]},`${k.name}-${k.server}-${y}`)}),a&&S.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:16,style:{padding:12},children:"Loading..."})}),!a&&!l&&S.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:16,style:{padding:12},children:"No results"})})]})]})})]})}function IX(){const{filterMode:s,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:a}=Dp();return t.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[t.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[t.jsx(Tk,{to:"/toplists/players",label:"Players"}),t.jsx(Tk,{to:"/toplists/guilds",label:"Guilds"})]}),t.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),t.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[t.jsx("button",{"aria-pressed":s==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),t.jsx("button",{"aria-pressed":s==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),t.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),t.jsx("button",{onClick:()=>a(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:"Servers"}),t.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[t.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),t.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),t.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function Tk({to:s,label:e}){return t.jsx(ys,{to:s,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const AX=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function EX(){return t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),AX.map(s=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[t.jsxs("div",{children:["#",s.rank]}),t.jsxs("div",{children:[s.name,"  ",s.server]}),t.jsxs("div",{children:["Avg Lv ",s.avgLevel]}),t.jsxs("div",{children:[" ",s.delta24h>0?`+${s.delta24h}`:s.delta24h," (24h)"]})]},s.rank))]})}function PX(s="players"){const e=Ei(),{search:n,pathname:r}=gr();return[new URLSearchParams(n).get("tab")||s,c=>{const u=new URLSearchParams(n);u.set("tab",c),e(`${r}?${u.toString()}`,{replace:!1})}]}function RX(){const[s]=PX("players");return t.jsx(AQ,{children:s==="players"?t.jsx(kX,{}):t.jsx(EX,{})})}function LX(){return t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Players  Browse"})})}function DX(){return t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Players  Rankings"})})}function MX(){return t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Players  Stats"})})}const FX="/assets/demo-avatar-special.png",Ik={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!1,background:"gradient",frame:"",mirrorHorizontal:!0},BX={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},zr=(s,e)=>Math.min(Math.max(Math.round(s),0),e),$X=s=>{var n;const e={...Ik,...s||{}};return{...e,class:zr(e.class,15),race:zr(e.race,8),mouth:zr(e.mouth,30),hair:zr(e.hair,40),hairColor:zr(e.hairColor,12),horn:zr(e.horn,10),hornColor:zr(e.hornColor,10),brows:zr(e.brows,10),eyes:zr(e.eyes,20),beard:zr(e.beard,15),nose:zr(e.nose,10),ears:zr(e.ears,10),extra:zr(e.extra,20),special:zr(e.special,200),showBorder:!1,background:"",frame:"",mirrorHorizontal:(n=e.mirrorHorizontal)!=null?n:Ik.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function LA({config:s,label:e,fallbackImage:n,fallbackLabel:r}){const i=I.useRef(null),a=I.useRef(null),[l,c]=I.useState("idle"),u=I.useMemo(()=>!s||Object.keys(s||{}).length===0?null:$X(s),[JSON.stringify(s||{})]);I.useEffect(()=>{let b=!1;if(!u){c("idle");return}c("loading");try{const _=i.current;if(!_){c("error");return}const S=new w5(_,u);a.current=S,c("ready")}catch(_){console.error("[PortraitMaker] failed to initialize",_),b||c("error")}return()=>{var _,S;b=!0;try{(S=(_=a.current)==null?void 0:_.dispose)==null||S.call(_)}catch(C){}a.current=null}},[u]);const h=u&&l!=="ready"?BX[l]:null,p=n||FX,g=r||e,x=!u||l==="error";return t.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[t.jsxs("div",{className:"avatar-portrait__canvas-shell",children:[!x&&t.jsx("canvas",{ref:i,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`}),x&&t.jsx("img",{src:p,alt:g,className:"avatar-portrait__fallback",draggable:!1,width:240,height:240})]}),h&&t.jsx("span",{className:"avatar-portrait__status",children:h})]})}const Jy=[{key:"str",label:"STR",name:"Strength"},{key:"dex",label:"DEX",name:"Dexterity"},{key:"int",label:"INT",name:"Intelligence"},{key:"con",label:"CON",name:"Constitution"},{key:"lck",label:"LCK",name:"Luck"}],OX=8,Zy=s=>typeof s=="number"&&Number.isFinite(s)?s.toLocaleString("de-DE"):"-",e0=(s,e)=>e<=0?0:Math.min(100,Math.max(0,s/e*100)),Ak=s=>typeof s=="number"&&Number.isFinite(s);function VX({baseStats:s,totalStats:e,benchmarks:n,mode:r,onModeChange:i}){const[a,l]=I.useState("base"),[c,u]=I.useState(!1),[h,p]=I.useState(!1);I.useEffect(()=>{let y=null,w=null;return y=requestAnimationFrame(()=>{w=requestAnimationFrame(()=>u(!0))}),()=>{y!=null&&cancelAnimationFrame(y),w!=null&&cancelAnimationFrame(w)}},[]),I.useEffect(()=>{c&&!h&&p(!0)},[c,h]);const g=Jy.some(y=>Ak(e==null?void 0:e[y.key])),b=(r!=null?r:a)==="total"&&g?"total":"base",_=y=>{y==="total"&&!g||(i?i(y):l(y))},S=Jy.map(y=>{const w=b==="total"?e:s,P=w==null?void 0:w[y.key];return Ak(P)?P:0}),C=Math.max(...S,0),E=C>0?C*1.05:1,F=b==="base",k=b==="base"?"Base Stats":"Total Stats";return t.jsxs("div",{className:"player-profile__attribute-bars",children:[t.jsxs("div",{className:"player-profile__attribute-bars-head",children:[t.jsx("div",{className:"player-profile__card-label",children:k}),t.jsxs("div",{className:"player-profile__attribute-toggle",role:"group","aria-label":"Attribute Ansicht",children:[t.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${b==="base"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":b==="base",onClick:()=>_("base"),children:"Base"}),t.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${b==="total"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":b==="total",onClick:()=>_("total"),disabled:!g,children:"Total"})]})]}),t.jsx("div",{className:"player-profile__attribute-bars-list",children:Jy.map(y=>{var ne,H,J;const w=b==="total"?e:s,P=Number(w==null?void 0:w[y.key])||0,T=F?(ne=n==null?void 0:n.serverAvg)==null?void 0:ne[y.key]:void 0,N=F?(H=n==null?void 0:n.guildAvg)==null?void 0:H[y.key]:void 0,A=F?(J=n==null?void 0:n.scaleMax)==null?void 0:J[y.key]:void 0,M=Number(T)||0,R=Number(N)||0,B=typeof A=="number"&&Number.isFinite(A),$=Math.max(B?Number(A):E,P,M,R,1),z=e0(P,$),U=e0(M,$),W=e0(R,$),K=Math.min(1,Math.max(0,z/100)),q=c?K:0,se=h?void 0:"500ms";return t.jsxs("div",{className:"player-profile__attribute-bar-row",children:[t.jsxs("div",{className:"player-profile__attribute-bar-label","aria-hidden":!0,children:[t.jsx("span",{className:"player-profile__attribute-bar-icon",children:y.label}),t.jsx("span",{className:"player-profile__attribute-bar-name",children:y.name})]}),t.jsxs("div",{className:"player-profile__attribute-bar-track",role:"presentation",children:[t.jsx("div",{className:"player-profile__attribute-bar-fill",style:{transform:`scaleX(${q})`,minWidth:P>0&&z<100?OX:void 0,transitionDuration:se},"aria-hidden":!0}),Number.isFinite(T)&&t.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--server",style:{left:`${U}%`},"aria-hidden":!0}),Number.isFinite(N)&&t.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--guild",style:{left:`${W}%`},"aria-hidden":!0})]}),t.jsxs("div",{className:"player-profile__attribute-bar-values",children:[t.jsx("div",{className:"player-profile__attribute-bar-value",children:Zy(P)}),Number.isFinite(T)&&t.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Server ",Zy(T)]}),Number.isFinite(N)&&t.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Gilde ",Zy(N)]})]})]},y.key)})})]})}const UX="_tooltipWrapper_rgqoj_1",zX="_trigger_rgqoj_7",HX="_bubble_rgqoj_12",GX="_card_rgqoj_32",WX="_tail_rgqoj_45",nh={tooltipWrapper:UX,trigger:zX,bubble:HX,card:GX,tail:WX},qX=({content:s,children:e,className:n})=>s?t.jsxs("div",{className:`${nh.tooltipWrapper}${n?` ${n}`:""}`,children:[t.jsx("div",{className:nh.trigger,children:e}),t.jsxs("div",{className:nh.bubble,role:"tooltip",children:[t.jsx("div",{className:nh.card,children:s}),t.jsx("div",{className:nh.tail})]})]}):t.jsx(t.Fragment,{children:e}),KX=s=>{if(s==null||!Number.isFinite(s))return{level:"unknown",label:"Unknown",hint:"Scan history unavailable"};const e=Math.max(0,Math.floor(s));return e===0?{level:0,label:"Scanned today",hint:"No rescan needed"}:e===1?{level:1,label:"Very fresh",hint:"No rescan needed"}:e<=3?{level:2,label:"Fresh",hint:"No rescan needed"}:e<=7?{level:3,label:"Recent",hint:"Rescan recommended"}:e<=14?{level:4,label:"Aging",hint:"Rescan recommended"}:e<=30?{level:5,label:"Outdated",hint:"Rescan strongly recommended"}:{level:6,label:"Stale",hint:"Rescan strongly recommended"}},QX=s=>{if(s==null||!Number.isFinite(s))return null;const e=Math.max(0,Math.floor(s));return e===0?"today":e===1?"1 day ago":`${e} days ago`};function XX({label:s,size:e=40}){const n=(s||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return t.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function YX({className:s,label:e,size:n=40}){const r=c=>c.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(s||""),a=$n.find(c=>r(c.label)===i)||$n.find(c=>r(c.label).startsWith(i)||i.startsWith(r(c.label))),l=a?Qr(a.iconUrl,n*2):null;return l?t.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:t.jsx("img",{src:l,alt:"",draggable:!1})}):t.jsx(XX,{label:e,size:n})}function JX({data:s,loading:e,onAction:n}){const[r,i]=I.useState("base"),a=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,""),l=I.useMemo(()=>KX(s.lastScanDays),[s.lastScanDays]),c=I.useMemo(()=>{const _=[];s.lastScanAtLabel&&_.push(`Last scan: ${s.lastScanAtLabel}`);const S=QX(s.lastScanDays);return S&&_.push(`Age: ${S}`),l.hint&&_.push(l.hint),_.join(" | ")},[s.lastScanAtLabel,s.lastScanDays,l.hint]),u=$n.find(_=>a(_.label)===a(s.className||""))||$n.find(_=>a(_.label).startsWith(a(s.className||""))||a(s.className||"").startsWith(a(_.label))),h=s.portraitFallbackUrl||(u?Qr(u.iconUrl,420):void 0)||"/assets/demo-avatar-special.png",p=s.portraitFallbackLabel||s.className||s.playerName,g=s.hasPortrait===!1?void 0:s.portrait,x=_=>typeof _=="number"&&Number.isFinite(_)?_.toLocaleString("de-DE"):"-",b=I.useMemo(()=>s.metrics.map(_=>{if(_.label==="Total Base Stats"&&r==="total"){const S=s.totalStats;if(S){const C=(Number(S.str)||0)+(Number(S.dex)||0)+(Number(S.int)||0)+(Number(S.con)||0)+(Number(S.lck)||0);return{..._,label:"Total Stats",value:x(C)}}}return _}),[s.metrics,s.totalStats,r]);return t.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[t.jsxs("div",{className:"player-profile__hero-portrait",children:[t.jsxs("div",{className:"player-profile__identity player-profile__identity--overlay",children:[t.jsx(YX,{className:s.className,label:s.playerName,size:48}),t.jsxs("div",{children:[t.jsx("div",{className:"player-profile__player-name",children:s.playerName}),t.jsxs("div",{className:"player-profile__player-meta",children:[t.jsx("span",{children:s.className||"Klasse ?"}),s.guild&&t.jsxs("span",{children:[" ",s.guild]}),s.server&&t.jsxs("span",{children:[" ",s.server]})]}),s.lastScanLabel&&t.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",s.lastScanLabel]}),t.jsx(qX,{content:c,children:t.jsxs("div",{className:"player-profile__freshness",children:[t.jsx("span",{"aria-hidden":!0,className:`player-profile__freshness-dot player-profile__freshness-dot--${l.level}`}),t.jsx("span",{className:"player-profile__freshness-label",children:l.label}),t.jsx("span",{"aria-hidden":!0,className:"player-profile__freshness-info",children:""})]})})]})]}),t.jsx(LA,{config:g,label:s.playerName,fallbackImage:h,fallbackLabel:p})]}),t.jsxs("div",{className:"player-profile__hero-body",children:[t.jsx("div",{className:"player-profile__hero-metrics",children:b.map(_=>t.jsxs("div",{className:"player-profile__hero-metric",children:[t.jsx("div",{className:"player-profile__hero-metric-label",children:_.label}),t.jsx("div",{className:"player-profile__hero-metric-value",children:_.value}),_.hint&&t.jsx("div",{className:"player-profile__hero-metric-hint",children:_.hint})]},_.label))}),s.baseStats&&t.jsx(VX,{baseStats:s.baseStats,totalStats:s.totalStats,benchmarks:s.baseStatBenchmarks,mode:r,onModeChange:i}),s.badges.length>0&&t.jsx("div",{className:"player-profile__hero-badges",children:s.badges.map(_=>t.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${_.tone||"neutral"}`,title:_.hint,children:[_.icon&&t.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:_.icon}),t.jsx("span",{children:_.label}),t.jsx("strong",{children:_.value})]},_.label))}),s.actions.length>0&&t.jsx("div",{className:"player-profile__hero-actions",children:s.actions.map(_=>t.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||_.disabled,title:_.title,onClick:()=>n==null?void 0:n(_.key),children:_.label},_.key))})]})]})}const ZX=X.memo(JX),t0=600,Xg=240,eY=[80,160,240,320,400,480,560],tY=[40,80,120,160,200],xd=40,sY=560,s0=40,Ek=200,fg=Xg,nY=(s,e,n)=>Math.max(e,Math.min(n,s));function rY({points:s,avgValue:e=null,showAvg:n=!0,showFill:r=!0,showDots:i=!0,showXLabels:a=!0,className:l}){const c=I.useId(),u=sY-xd,h=Ek-s0,{linePath:p,areaPath:g,dots:x,avgY:b,labels:_}=I.useMemo(()=>{if(!s.length)return{linePath:"",areaPath:"",dots:[],avgY:null,labels:[]};let S=Math.min(...s),C=Math.max(...s);const F=Math.max(1,C-S)*.1;S-=F,C+=F;const k=Math.max(1,C-S),y=B=>s.length>1?xd+B/(s.length-1)*u:xd,w=B=>nY(s0+(1-(B-S)/k)*h,s0,Ek);if(s.length===1){const B=xd,$=xd+u*.1,z=w(s[0]),U=`${[`M${B},${z}`,`L${$},${z}`,`L${$},${fg}`,`L${B},${fg}`,"Z"].join(" ")}`;return{linePath:`M${B},${z} L${$},${z}`,areaPath:U,dots:i?[{x:(B+$)/2,y:z}]:[],avgY:n&&e!=null?w(e):null,labels:[{x:xd,text:"t0"}]}}const P=s.map((B,$)=>({x:y($),y:w(B)})),T=P.map((B,$)=>`${$===0?"M":"L"}${B.x},${B.y}`).join(" "),N=`${T} L${P[P.length-1].x},${fg} L${P[0].x},${fg} Z`,A=i?P:[],M=n&&e!=null?w(e):null,R=s.map((B,$)=>({x:y($),text:`t${$}`}));return{linePath:T,areaPath:N,dots:A,avgY:M,labels:R}},[s,e,n,i,u,h]);return t.jsxs("svg",{viewBox:`0 0 ${t0} ${Xg}`,preserveAspectRatio:"none",className:`player-profile__trend-chart ${l!=null?l:""}`.trim(),role:"img","aria-label":"Anchored trend",children:[t.jsxs("g",{className:"player-profile__trend-grid",opacity:"0.55",stroke:"rgba(43,76,115,0.55)",strokeWidth:1,children:[eY.map((S,C)=>t.jsx("line",{x1:S,x2:S,y1:0,y2:Xg},`gv-${C}`)),tY.map((S,C)=>t.jsx("line",{x1:0,x2:t0,y1:S,y2:S},`gh-${C}`))]}),n&&b!=null&&t.jsxs("g",{className:"player-profile__trend-avg",children:[t.jsx("text",{x:12,y:20,className:"player-profile__trend-avg-label",children:"Avg"}),t.jsx("line",{x1:0,x2:t0,y1:b,y2:b})]}),r&&g&&t.jsx("defs",{children:t.jsxs("linearGradient",{id:c,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"rgba(92, 139, 198, 0.28)"}),t.jsx("stop",{offset:"100%",stopColor:"rgba(92, 139, 198, 0)"})]})}),r&&g&&t.jsx("path",{d:g,className:"player-profile__trend-area",fill:`url(#${c})`}),p&&t.jsx("path",{d:p,className:"player-profile__trend-line",fill:"none"}),x.map((S,C)=>t.jsx("circle",{cx:S.x,cy:S.y,r:4,className:"player-profile__trend-dot"},`dot-${C}`)),a&&t.jsx("g",{className:"player-profile__trend-xlabels",children:_.map((S,C)=>t.jsx("text",{x:S.x,y:Xg-8,textAnchor:"middle",children:S.text},`lbl-${C}`))})]})}const n0=s=>s==null?"-":s.toLocaleString("de-DE");function iY({title:s,subtitle:e,badgeLabel:n="Line + Avg marker",series:r,className:i}){const{latest:a,start:l,delta:c,deltaPct:u,avg:h,xLabels:p}=I.useMemo(()=>{const x=Array.isArray(r.points)?r.points:[],b=x.length?x[x.length-1]:null,_=x.length?x[0]:null,S=b!=null&&_!=null?b-_:null,C=S!=null&&_&&Math.abs(_)>0?S/_*100:null,E=x.length?x.reduce((k,y)=>k+y,0)/x.length:null,F=x.map((k,y)=>`t${y}`);return{latest:b,start:_,delta:S,deltaPct:C,avg:E,xLabels:F}},[r.points]),g=u!=null?`${u>=0?"+":""}${u.toFixed(1)}%`:c!=null?`${c>=0?"+":""}${c.toLocaleString("de-DE")}`:"+0";return t.jsxs("article",{className:`anchored-card ${i!=null?i:""}`.trim(),children:[t.jsxs("header",{className:"anchored-card__header",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"anchored-card__title",children:[s,n&&t.jsx("span",{className:"anchored-card__badge",children:n})]}),e&&t.jsx("div",{className:"anchored-card__subtitle",children:e})]}),t.jsxs("div",{className:"anchored-card__delta anchored-card__delta--up","aria-label":"Delta",children:[" ",g]})]}),t.jsx("div",{className:"anchored-card__chart",children:t.jsx(rY,{points:r.points,avgValue:h,showAvg:!0,showDots:!0,showFill:!0,showXLabels:!0})}),t.jsxs("footer",{className:"anchored-card__footer",children:[t.jsxs("div",{className:"anchored-card__kpis",children:[t.jsxs("div",{className:"anchored-card__kpi",children:[t.jsx("strong",{children:n0(a)}),t.jsx("span",{children:"Base Stats (latest)"})]}),t.jsxs("div",{className:"anchored-card__kpi",children:[t.jsx("strong",{children:n0(l)}),t.jsx("span",{children:"Server  marker"})]}),t.jsxs("div",{className:"anchored-card__pill anchored-card__pill--up",children:[" ",n0(c)]})]}),t.jsxs("div",{className:"anchored-card__legend",children:[t.jsxs("span",{children:[t.jsx("span",{className:"anchored-card__dot"})," Player"]}),t.jsxs("span",{children:[t.jsx("span",{className:"anchored-card__dot anchored-card__dot--muted"})," Average marker"]})]})]})]})}function aY({data:s}){return t.jsxs("div",{className:"player-profile__tab-panel",children:[t.jsx("div",{className:"player-profile__grid",children:s.summary.map(e=>t.jsxs("article",{className:"player-profile__card",children:[t.jsx("div",{className:"player-profile__card-label",children:e.label}),t.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&t.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),t.jsxs("div",{className:"player-profile__section",children:[t.jsxs("header",{className:"player-profile__section-head",children:[t.jsx("h3",{children:"Attribute"}),t.jsx("span",{children:"Basis vs. Gesamt"})]}),t.jsx("div",{className:"player-profile__attr-grid",children:s.attributes.map(e=>t.jsxs("div",{className:"player-profile__attr-card",children:[t.jsxs("div",{children:[t.jsx("div",{className:"player-profile__attr-label",children:e.label}),t.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&t.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),t.jsxs("div",{className:"player-profile__split",children:[t.jsxs("div",{className:"player-profile__section",children:[t.jsx("header",{className:"player-profile__section-head",children:t.jsx("h3",{children:"Resistenzen"})}),t.jsx("ul",{className:"player-profile__list",children:s.resistances.map(e=>t.jsxs("li",{children:[t.jsx("span",{children:e.label}),t.jsx("strong",{children:e.value})]},e.label))})]}),t.jsxs("div",{className:"player-profile__section",children:[t.jsx("header",{className:"player-profile__section-head",children:t.jsx("h3",{children:"konomie"})}),t.jsx("ul",{className:"player-profile__list",children:s.resources.map(e=>t.jsxs("li",{children:[t.jsx("span",{children:e.label}),t.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function oY({items:s}){return t.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:s.map(e=>t.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[t.jsxs("div",{className:"player-profile__progress-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"player-profile__card-label",children:e.label}),t.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),t.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),t.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:t.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&t.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function lY({series:s}){return t.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:s.map(e=>{var n;return t.jsx(iY,{title:e.label,subtitle:(n=e.subLabel)!=null?n:"Looks natural even when the values are high (no 0-baseline).",series:e},e.label)})})}function cY({rows:s}){return t.jsxs("div",{className:"player-profile__tab-panel",children:[t.jsx("div",{className:"player-profile__section-head",children:t.jsx("h3",{children:"Serververgleich"})}),t.jsx("div",{className:"player-profile__comparison-wrapper",children:t.jsxs("table",{className:"player-profile__comparison",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Kategorie"}),t.jsx("th",{children:"Spieler"}),t.jsx("th",{children:"Cluster"}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:s.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:e.label}),t.jsx("td",{children:e.playerValue}),t.jsx("td",{children:e.benchmark}),t.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function dY({entries:s}){return t.jsx("div",{className:"player-profile__tab-panel",children:t.jsx("ol",{className:"player-profile__timeline",children:s.map(e=>t.jsxs("li",{children:[t.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),t.jsxs("div",{className:"player-profile__timeline-card",children:[t.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),t.jsx("div",{className:"player-profile__timeline-title",children:e.title}),t.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}const uY={genderName:"male",class:1,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:1,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},Hr=(s,e,n=0)=>{if(!Array.isArray(s)||e<0)return n;const r=s[e],i=typeof r=="number"?r:Number(r);return Number.isFinite(i)?i:n},hY=s=>{switch(s){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}};function Pk(s){const e=Hr(s,18),n=Hr(s,21),r=Hr(s,25),i=Hr(s,705),a=Hr(s,28)&255,l=Math.floor(e/100),c=Math.max(l,1),u=Math.floor(e/100);return{...uY,genderName:a===1?"female":"male",class:Hr(s,29)&65535,race:Hr(s,27)&65535,mouth:Hr(s,17),hair:Math.max(e%100,0),brows:Math.max(Hr(s,19)%100,0),eyes:Hr(s,20),beard:Math.max(n%100,0),nose:Hr(s,22),ears:Hr(s,23),extra:Hr(s,24),horn:Math.max(r%100,0),special:Math.min(Hr(s,26),0),hairColor:c,hornColor:a===1?1:u===0?c:u,frame:hY(i)}}function pY(s){return typeof s!="string"||!s.trim()?[]:s.split("/").map(e=>{const n=Number(e.trim());return Number.isFinite(n)?n:0})}const mY={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},bs=(s,e=0)=>{const n=typeof s=="number"?s:Number(s);return Number.isFinite(n)?n:e},gY=s=>s&&typeof s=="object"&&Object.values(s).some(e=>e!=null),Rk=s=>{if(typeof s!="string")return[];const e=s.trim();if(!e)return[];const n=e.toLowerCase().replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"");return n?[n]:[]},rh=new Map,Lk="avatar-cache:",fY=1440*60*1e3,vY=async(s,e,n,r)=>{var F,k;const i=Number(s),a=String(s!=null?s:"").trim(),l=(F=Rk(e)[0])!=null?F:"",c=typeof n=="string"&&n.trim()?n.trim():"",h=(y=>{if(!y)return"";const w=y.trim().toLowerCase();if(!w)return"";const P=w.split("/").filter(Boolean).pop()||w,[T,...N]=P.split("__"),A=N.join("__");if(T&&A){const M=Rk(A)[0];if(M)return`${T}__${M}`}return a&&l?`${a}__${l}`:P.replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"")})(c)||(a&&l?`${a}__${l}`:"");if(!h)return null;const g=(()=>{var y;if(rh.has(h))return(y=rh.get(h))!=null?y:null;try{const w=typeof window!="undefined"?window.localStorage.getItem(`${Lk}${h}`):null;if(!w)return null;const P=JSON.parse(w);return!(P!=null&&P.data)||typeof P.savedAt!="number"||!(Date.now()-P.savedAt<fY)?null:P.data}catch(w){return null}})();if(g)return rh.set(h,g),g;const x=await yo(r!=null?r:null,Zt(pt,"linked_players","avatars","avatars",h),()=>un(Zt(pt,"linked_players","avatars","avatars",h)));if(!x.exists())return rh.set(h,null),null;const b=x.data(),_=(b==null?void 0:b.portrait)||{},S=gY(_),C={genderName:(_==null?void 0:_.genderName)==="female"?"female":"male",classId:bs(_==null?void 0:_.classId),raceId:bs(_==null?void 0:_.raceId),mouth:bs(_==null?void 0:_.mouth),hair:bs(_==null?void 0:_.hair),hairColor:bs(_==null?void 0:_.hairColor),horn:bs(_==null?void 0:_.horn),hornColor:bs(_==null?void 0:_.hornColor),brows:bs(_==null?void 0:_.brows),eyes:bs(_==null?void 0:_.eyes),beard:bs(_==null?void 0:_.beard),nose:bs(_==null?void 0:_.nose),ears:bs(_==null?void 0:_.ears),extra:bs(_==null?void 0:_.extra),special:bs(_==null?void 0:_.special),frameId:bs(_==null?void 0:_.frameId),frame:typeof(_==null?void 0:_.frame)=="string"?_.frame:void 0,background:typeof(_==null?void 0:_.background)=="string"?_.background:void 0,showBorder:typeof(_==null?void 0:_.showBorder)=="boolean"?_.showBorder:void 0,mirrorHorizontal:typeof(_==null?void 0:_.mirrorHorizontal)=="boolean"?_.mirrorHorizontal:void 0},E={playerId:bs(b==null?void 0:b.playerId,i),server:typeof(b==null?void 0:b.server)=="string"?b.server:e,portrait:C,updatedAt:(k=b==null?void 0:b.updatedAt)!=null?k:null,hasPortraitData:S};if(rh.set(h,E),typeof window!="undefined")try{window.localStorage.setItem(`${Lk}${h}`,JSON.stringify({data:E,savedAt:Date.now()}))}catch(y){}return E},xY=s=>{switch(s){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}},yY=["","goldenFrame","twitchFrame","zenFrame","silverFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"],bY=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],_Y=(s,e)=>{const n=(s==null?void 0:s.portrait)||{},r={...mY,...e||{}},i=xY(bs(n.frameId,0)),a=typeof n.frame=="string"&&yY.includes(n.frame)?n.frame:"",l=typeof n.background=="string"&&bY.includes(n.background)?n.background:r.background;return{...r,genderName:n.genderName==="female"?"female":r.genderName,class:bs(n.classId,r.class),race:bs(n.raceId,r.race),mouth:bs(n.mouth,r.mouth),hair:bs(n.hair,r.hair),hairColor:bs(n.hairColor,r.hairColor),horn:bs(n.horn,r.horn),hornColor:bs(n.hornColor,r.hornColor),brows:bs(n.brows,r.brows),eyes:bs(n.eyes,r.eyes),beard:bs(n.beard,r.beard),nose:bs(n.nose,r.nose),ears:bs(n.ears,r.ears),extra:bs(n.extra,r.extra),special:bs(n.special,r.special),frame:i||a||r.frame||"",background:l,showBorder:typeof n.showBorder=="boolean"?n.showBorder:r.showBorder,mirrorHorizontal:typeof n.mirrorHorizontal=="boolean"?n.mirrorHorizontal:r.mirrorHorizontal}},wY=["Statistiken","Charts","Fortschritt","Vergleich","Historie"],jY="player-profile-cache:",SY=900*1e3,NY="playerProfile:charts:monthly3:",kY=720*60*1e3,DA=3,r0="Last 3 months",R1="history_monthly",MA=["honor","ehre","honour","honorpoints","ehrepunkte"],FA=[{key:"str",label:"Strke",base:["Base Strength","Strke","basestrength"],total:["Strength"]},{key:"dex",label:"Geschick",base:["Base Dexterity","Geschick","basedexterity"],total:["Dexterity"]},{key:"int",label:"Intelligenz",base:["Base Intelligence","Intelligenz","baseintelligence"],total:["Intelligence"]},{key:"con",label:"Konstitution",base:["Base Constitution","Konstitution","baseconstitution"],total:["Constitution"]},{key:"lck",label:"Glck",base:["Base Luck","Glck","baseluck"],total:["Luck"]}];function CY(){const s=Kf(),e=s.id||s.pid||s.playerId||s.player||"",n=Ei(),[r,i]=I.useState(!0),[a,l]=I.useState(null),[c,u]=I.useState(null),[h,p]=I.useState("Statistiken"),[g,x]=I.useState(null),[b,_]=I.useState(null),[,S]=I.useState(!1),[,C]=I.useState(null),[E,F]=I.useState(null),k=I.useRef(!1),y=I.useRef(null),w=I.useRef(null),P=I.useRef(null),T=I.useRef(null);I.useEffect(()=>{let z=!1;const U=Bn("PlayerProfile:load");async function W(){var ne,H,J,le,oe,he,xe,Re,Z,fe,ie,_e,be,Se,Ve,Ue,tt,Je,ct,Wt,je,Qe,Ke,vt,kt,qe,Ce,ze,St,Bt,ks;i(!0),l(null);const K=`${jY}${e}`,se=(()=>{try{const us=typeof window!="undefined"?window.localStorage.getItem(K):null;if(!us)return null;const hs=JSON.parse(us);return!(hs!=null&&hs.data)||typeof hs.timestamp!="number"||!(Date.now()-hs.timestamp<SY)?null:{data:hs.data,timestamp:hs.timestamp,version:typeof hs.version=="number"?hs.version:null}}catch(us){return null}})();if(se){u(se.data),tn(U),i(!1);return}try{const us=(e||"").trim();if(!us)throw new Error("Kein Spieler ausgewhlt.");const hs=Zt(pt,`players/${us}/latest/latest`),Gs=await yo(U,hs,()=>un(hs));if(!Gs.exists())throw new Error("Spieler nicht gefunden.");const bt=(ne=Gs.data())!=null?ne:{},we=typeof bt.values=="object"&&bt.values?bt.values:{};bt.timestampRaw!=null&&we.timestampRaw==null&&(we.timestampRaw=bt.timestampRaw);const sn=Array.isArray(bt.save)&&bt.save||Array.isArray(we==null?void 0:we.save)&&we.save||Array.isArray(bt.saveArray)&&bt.saveArray||Array.isArray(we==null?void 0:we.saveArray)&&we.saveArray||void 0,Xt=typeof bt.save=="string"&&bt.save||typeof(we==null?void 0:we.save)=="string"&&we.save||typeof bt.saveString=="string"&&bt.saveString||typeof(we==null?void 0:we.saveString)=="string"&&we.saveString||void 0,Y=(J=Ar((H=bt.level)!=null?H:we==null?void 0:we.Level))!=null?J:null,Fe=((oe=(le=bt.className)!=null?le:we==null?void 0:we.Class)!=null?oe:null)||null,He=((xe=(he=bt.guildName)!=null?he:we==null?void 0:we.Guild)!=null?xe:null)||null,nt=we["Guild Identifier"],ot=typeof nt=="string"&&nt.trim()||null,_t=we["Guild Joined"],as=typeof _t=="string"&&_t.trim()||null,$s=(Z=(Re=bt.name)!=null?Re:we==null?void 0:we.Name)!=null?Z:us,kn=(ie=(fe=bt.server)!=null?fe:we==null?void 0:we.Server)!=null?ie:null,rr=typeof kn=="string"?kn.trim().toLowerCase().replace(/\./g,"_"):"",hn=(Ve=(Se=(be=(_e=bt.avatarIdentifier)!=null?_e:bt.identifier)!=null?be:we==null?void 0:we.avatarIdentifier)!=null?Se:we==null?void 0:we.identifier)!=null?Ve:rr?`${us}__${rr}`:null,pi=(tt=Ar((Ue=bt.totalStats)!=null?Ue:we==null?void 0:we["Total Stats"]))!=null?tt:null,fs=(St=(ze=(Ce=(qe=(kt=(vt=(Ke=(Qe=(je=(Wt=(ct=(Je=bt.scrapbookPct)!=null?Je:bt.scrapbook)!=null?ct:we==null?void 0:we.scrapbookPct)!=null?Wt:we==null?void 0:we.scrapbook)!=null?je:we==null?void 0:we["Scrapbook %"])!=null?Qe:we==null?void 0:we.Scrapbook)!=null?Ke:we==null?void 0:we.Album)!=null?vt:we==null?void 0:we["Album %"])!=null?kt:we==null?void 0:we.AlbumPct)!=null?qe:we==null?void 0:we.AlbumPercent)!=null?Ce:we==null?void 0:we.AlbumPercentage)!=null?ze:we==null?void 0:we.AlbumCompletion)!=null?St:we==null?void 0:we.AlbumProgress,On=(Bt=Ar(fs))!=null?Bt:null,nn=(ks=Ar(bt.timestamp))!=null?ks:Ar(we==null?void 0:we.timestamp),fr=BA(nn),vr=typeof bt.portrait=="object"?bt.portrait:typeof bt.portraitOptions=="object"?bt.portraitOptions:typeof(we==null?void 0:we.portraitOptions)=="object"?we.portraitOptions:void 0,xr={id:us,name:$s,className:Fe,level:Y,guild:He,guildIdentifier:ot,guildJoined:as,server:kn,avatarIdentifier:hn,scrapbookPct:On,totalStats:pi,lastScanDays:fr,values:we,portraitConfig:vr,saveArray:sn,saveString:Xt};if(typeof window!="undefined")try{window.localStorage.setItem(K,JSON.stringify({data:xr,timestamp:Date.now(),version:nn!=null?nn:null}))}catch(Cn){}z||u(xr)}catch(us){z||(u(null),l((us==null?void 0:us.message)||"Unbekannter Fehler beim Laden."))}finally{tn(U),z||i(!1)}}return W(),()=>{z=!0}},[e]),I.useEffect(()=>{F(null),k.current=!1,y.current=null,w.current=null},[e,c==null?void 0:c.server]),I.useEffect(()=>{P.current=E},[E]);const N=z=>{p(z)};I.useEffect(()=>()=>{T.current&&clearTimeout(T.current)},[]),I.useEffect(()=>{let z=!1;return(async()=>{var q,se;const W=Bn("PlayerProfile:avatar");if(!(c!=null&&c.id)){_(null),S(!1),C(null),tn(W);return}const K=Ar(c.id);if(K==null){_(null),S(!1),C(null),tn(W);return}S(!0),C(null);try{const ne=await vY(K,(q=c.server)!=null?q:"",(se=c.avatarIdentifier)!=null?se:void 0,W);z||_(ne)}catch(ne){z||(_(null),C(ne instanceof Error?ne:new Error("AvatarSnapshot failed")))}finally{tn(W),z||S(!1)}})(),()=>{z=!0}},[c==null?void 0:c.id,c==null?void 0:c.server]),I.useEffect(()=>{if(h!=="Charts"||!(c!=null&&c.id))return;const z=`${OA(c.server)}:${c.id}`;if(k.current||w.current===z&&y.current&&P.current)return;const U=IY(c.id,c.server),W=EY(U);if(W){const ne=o0(W.months);F(H=>{const J=vg(H,ne);return J||console.log(`[charts] load set from cache key=${z} months=${W.months.length}`),J?H:ne}),P.current=o0(W.months),y.current="cache",w.current=z;return}let K=!1;k.current=!0,console.log(`[charts] load start key=${z} source=firestore`);const q=Bn("PlayerProfile:charts");return(async()=>{try{const ne=vo(pt,`players/${c.id}/history_monthly`),H=Sn(ne,Ci(fO(),"desc"),Mn(3)),le=(await dn(q,{path:ne.path},()=>cn(H))).docs.map(he=>AY(he)).filter(he=>!!he);if(!le.length){if(Yg(U),!K){const he=Dk(c);P.current=he,y.current="fallback",w.current=z,F(xe=>vg(xe,he)?xe:he),console.log(`[charts] load done key=${z} months=0 (fallback)`)}return}const oe=o0(le);K||(P.current=oe,y.current="monthly",w.current=z,F(he=>vg(he,oe)?he:oe),PY(U,le),console.log(`[charts] load done key=${z} months=${le.length}`))}catch(ne){if(!K){const H=Dk(c);P.current=H,y.current="fallback",w.current=z,F(J=>vg(J,H)?J:H),console.log(`[charts] load error key=${z}`,ne)}}finally{k.current=!1,tn(q)}})(),()=>{K=!0}},[h,c==null?void 0:c.id,c==null?void 0:c.server]);const A=I.useMemo(()=>c?DY(c,b,E):null,[c,b,E]),M=I.useCallback(z=>{x(z),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>x(null),3500)},[]),R=I.useCallback(async z=>{if(c){if(z==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const U=`${window.location.origin}/players/profile/${c.id}`;try{await navigator.clipboard.writeText(U),M("Profil-Link wurde kopiert.")}catch(W){M("Konnte Link nicht kopieren.")}}return}if(z==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:c.name,text:`Shakes & Fidget Charakter ${c.name}`,url:window.location.href}),M("Profil geteilt.")}catch(U){M("Teilen abgebrochen.")}return}if(z==="guild"){c.guildIdentifier&&n(`/guild/${c.guildIdentifier}`);return}if(z==="rescan"){M("Rescan-Queue folgt aktuell noch Platzhalter.");return}}},[n,M,c]),B=()=>{if(!A)return null;switch(h){case"Statistiken":return t.jsx(aY,{data:A.stats});case"Charts":return t.jsx(lY,{series:A.charts});case"Fortschritt":return t.jsx(oY,{items:A.progress});case"Vergleich":return t.jsx(cY,{rows:A.comparison});case"Historie":return t.jsx(dY,{entries:A.history});default:return null}},$=()=>t.jsxs("div",{className:"player-profile__loading",children:[t.jsx("p",{children:a!=null?a:"Spieler nicht gefunden."}),t.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return t.jsxs("div",{className:"player-profile",children:[r&&!c&&t.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!c||!A)&&$(),A&&t.jsxs(t.Fragment,{children:[t.jsx(ZX,{data:A.hero,loading:r,onAction:R}),t.jsx(TY,{message:g}),t.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:wY.map(z=>{const U=h===z;return t.jsx("button",{type:"button",role:"tab","aria-selected":U,className:`player-profile__tab-button ${U?"player-profile__tab-button--active":""}`,onClick:()=>N(z),children:z},z)})}),B()]})]})}const TY=X.memo(({message:s})=>s?t.jsx("p",{className:"player-profile__hero-feedback",role:"status","aria-live":"polite",children:s}):null),Ar=s=>{if(s==null||s==="")return null;if(typeof s=="number")return Number.isFinite(s)?s:null;const e=String(s).trim(),n=e.startsWith("-")?-1:1,r=e.replace(/^[+-]/,"").replace(/[\s%]/g,""),i=r.lastIndexOf(","),a=r.lastIndexOf("."),l=Math.max(i,a);let c="";if(l>-1){const h=r.slice(l+1).replace(/[^0-9]/g,""),p=r.slice(0,l).replace(/[^0-9]/g,"");h.length>0&&h.length<=2?c=`${p}.${h}`:c=(p+h).replace(/[^0-9]/g,"")}else c=r.replace(/[^0-9]/g,"");if(!c)return null;const u=Number(c)*n;return Number.isFinite(u)?u:null},BA=s=>{if(!s)return null;const e=Date.now()/1e3,n=Math.max(0,e-s);return Math.floor(n/86400)},i0=s=>s.toLowerCase().replace(/[^a-z0-9]/g,""),$A=s=>{const e=new Map;return Object.entries(s||{}).forEach(([n,r])=>e.set(i0(n),r)),{number(n,r=null){for(const i of n){const a=Ar(e.get(i0(i)));if(a!=null)return a}return r},text(n,r=null){for(const i of n){const a=e.get(i0(i));if(a!=null&&String(a).trim())return String(a).trim()}return r}}},OA=s=>typeof s!="string"?"unknown":s.trim().toLowerCase().replace(/\./g,"_")||"unknown",IY=(s,e)=>`${NY}${OA(e)}:${s}`,lo=s=>typeof s=="number"&&Number.isFinite(s)?s:0,a0=(s,e=3)=>{var r;const n=s.map(i=>Number.isFinite(i)?i:0);for(n.length||n.push(0);n.length<e;)n.unshift((r=n[0])!=null?r:0);return n.slice(-e)},Rf=(s,e,n)=>[{label:"Level Verlauf",points:a0(s),unit:"",subLabel:r0},{label:"Total Stats",points:a0(e),unit:"",subLabel:r0},{label:"Honor",points:a0(n),unit:"",subLabel:r0}],VA=s=>{const e=$A(s||{}),n=e.number(["level"]),r=e.number(MA);let a=e.number(["totalstats","stats"]);if(a==null){let l=0,c=0;FA.forEach(u=>{var p;const h=(p=e.number(u.total))!=null?p:e.number(u.base);h!=null&&(l+=h,c++)}),a=c?l:null}return{level:n,totalStats:a,honor:r}},o0=s=>{if(!s.length)return Rf([],[],[]);const e=[...s].sort((a,l)=>a.monthId.localeCompare(l.monthId)),n=e.map(a=>lo(a.values.level)),r=e.map(a=>lo(a.values.totalStats)),i=e.map(a=>lo(a.values.honor));return Rf(n,r,i)},vg=(s,e)=>{if(s===e)return!0;if(!s||!e||s.length!==e.length)return!1;for(let n=0;n<s.length;n++){if(s[n].label!==e[n].label||s[n].unit!==e[n].unit||s[n].subLabel!==e[n].subLabel||s[n].points.length!==e[n].points.length)return!1;for(let r=0;r<s[n].points.length;r++)if(s[n].points[r]!==e[n].points[r])return!1}return!0},AY=s=>{var i,a,l;const e=typeof s.data=="function"?s.data():{},n=e!=null&&e.values&&typeof e.values=="object"?e.values:{},r=typeof(e==null?void 0:e.monthId)=="string"&&e.monthId?e.monthId:s.id;return r?{monthId:r,lastTs:(l=Ar((a=(i=e==null?void 0:e.lastTs)!=null?i:e==null?void 0:e.lastTimestamp)!=null?a:e==null?void 0:e.lastTimestampRaw))!=null?l:null,values:VA(n)}:null},Yg=s=>{if(typeof window!="undefined")try{window.localStorage.removeItem(s)}catch(e){}},EY=s=>{if(typeof window=="undefined")return null;try{const e=window.localStorage.getItem(s);if(!e)return null;const n=JSON.parse(e),r=(n==null?void 0:n.source)===R1,i=typeof n.fetchedAt=="number"&&n.version===DA,a=i&&Date.now()-n.fetchedAt<=kY,l=Array.isArray(n.months)?n.months:null;if(!r||!i||!a||!l)return Yg(s),null;const c=l.map(u=>{var h,p,g,x,b,_;return!u||typeof u.monthId!="string"?null:{monthId:u.monthId,lastTs:typeof u.lastTs=="number"?u.lastTs:null,values:{level:(p=Ar((h=u.values)==null?void 0:h.level))!=null?p:null,totalStats:(x=Ar((g=u.values)==null?void 0:g.totalStats))!=null?x:null,honor:(_=Ar((b=u.values)==null?void 0:b.honor))!=null?_:null}}}).filter(u=>!!u);return c.length<1?(Yg(s),null):{fetchedAt:n.fetchedAt,version:n.version,source:R1,months:c}}catch(e){return Yg(s),null}},PY=(s,e)=>{if(typeof window=="undefined"||e.length<1)return;const n={fetchedAt:Date.now(),version:DA,source:R1,months:e.map(r=>{var i,a,l;return{monthId:r.monthId,lastTs:r.lastTs,values:{level:(i=r.values.level)!=null?i:null,totalStats:(a=r.values.totalStats)!=null?a:null,honor:(l=r.values.honor)!=null?l:null}}})};try{window.localStorage.setItem(s,JSON.stringify(n))}catch(r){}},Dk=s=>{var r,i,a,l,c;const e=VA(s.values||{}),n={level:(i=(r=e.level)!=null?r:s.level)!=null?i:null,totalStats:(l=(a=e.totalStats)!=null?a:s.totalStats)!=null?l:null,honor:(c=e.honor)!=null?c:null};return Rf([lo(n.level)],[lo(n.totalStats)],[lo(n.honor)])},RY=s=>{let e=2166136261;for(let n=0;n<s.length;n++)e^=s.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Pn=(s,e="-")=>s==null?e:s.toLocaleString("de-DE"),Jg=s=>{if(s==null)return"-";const e=Math.floor(s*100)/100,n=e%1!==0;return`${e.toLocaleString("de-DE",{minimumFractionDigits:n?2:0,maximumFractionDigits:2})}%`},Mk=s=>s==null?null:s===0?"heute":`${s} Tag${s===1?"":"e"} her`,Fk=s=>{if(s==null)return null;const e=new Date(s*1e3);if(Number.isNaN(e.getTime()))return null;const n=r=>String(r).padStart(2,"0");return`${n(e.getDate())}.${n(e.getMonth()+1)}.${e.getFullYear()} ${n(e.getHours())}:${n(e.getMinutes())}`},LY=(s,e)=>{let n;const r=s.portraitConfig&&Object.keys(s.portraitConfig).length>0;if(Array.isArray(s.saveArray)&&s.saveArray.length>0)n=Pk(s.saveArray);else if(s.saveString){const i=pY(s.saveString);n=i.length>0?Pk(i):void 0}else r&&(n={...s.portraitConfig});return e!=null&&e.hasPortraitData?{config:_Y(e,n),hasData:!0}:n?{config:n,hasData:!0}:{config:void 0,hasData:!1}},DY=(s,e,n)=>{var Wt,je,Qe,Ke,vt,kt,qe,Ce,ze,St,Bt,ks,us,hs,Gs,bt,we,sn,Xt;const r=s.values||{},i=$A(r),a=RY(s.id),l=LY(s,e),c=SI((Wt=s.className)!=null?Wt:void 0),u=Qr(c.url,420)||"/assets/demo-avatar-special.png",h=s.className?`Klassenbild ${s.className}`:"Portrait-Platzhalter",p=["album","album%","albumpct","albumpercent","albumpercentage","albumcompletion","albumprogress","scrapbook","scrapbook%","scrapbookpct","scrapbookpercent"],g=MA,x=["hofrank","halloffamerank","hofposition","halloffameposition","hofplatz","halloffame","hof"],b=["mount","reittier","mountname"],_=["mountpct","mountpercent","mountpercentage","mountspeed","mountbonus","mountvalue"],S=["guildrole","role","guildrank","gildenrolle"],C=(je=s.level)!=null?je:i.number(["level"]),E=(Qe=s.scrapbookPct)!=null?Qe:i.number(p),F=i.number(g),k=(Ke=s.totalStats)!=null?Ke:i.number(["totalstats","stats"]),y=FA,w={str:0,dex:0,int:0,con:0,lck:0},P={str:0,dex:0,int:0,con:0,lck:0};let T=!1,N=!1;y.forEach(Y=>{const Fe=i.number(Y.base);Fe!=null&&(w[Y.key]=Fe,T=!0);const He=i.number(Y.total);He!=null&&(P[Y.key]=He,N=!0)});const A=T?Object.values(w).reduce((Y,Fe)=>Y+Fe,0):null,M=E!=null?E:null,R=(vt=i.number(["fortresslevel","fortress"]))!=null?vt:Math.round(a()*20)+30,B=(kt=i.number(["underworld","underworldlevel"]))!=null?kt:Math.round(a()*10)+20,$=(qe=i.number(["tower","towerfloor"]))!=null?qe:Math.round(a()*90)+10,z=(Ce=i.number(["pets","petprogress"]))!=null?Ce:Math.round(a()*50)+25,U=(C!=null?C:0)*1200+(A!=null?A:0)+Math.round((E!=null?E:0)*3200),W=i.text(b),K=W&&/[a-zA-Z]/.test(W)||W&&/%/.test(W)?W:null,q=(us=(ks=(Bt=(St=(ze=r==null?void 0:r["Mount %"])!=null?ze:r==null?void 0:r["mount %"])!=null?St:r==null?void 0:r.MountPct)!=null?Bt:r==null?void 0:r.mountPct)!=null?ks:r==null?void 0:r.MountBonus)!=null?us:r==null?void 0:r.mountBonus,se=(hs=Ar(q))!=null?hs:i.number(_),ne=K?Ar((K.match(/(\d+)\s*%/)||[])[1]):null,H=se!=null?se:ne;let J="-";K?J=H!=null&&!/%/.test(K)?`${K} (${Math.round(H)}%)`:K:H!=null&&(J=`${Math.round(H)}%`);const le=i.text(S),oe=Ar(r==null?void 0:r.Rank),he=oe!=null?oe:i.number(x),xe=i.text(["timestampraw"]),Re=i.number(["timestamp"]),Z=xe&&/^\s*\d+\s*$/.test(xe)?(Gs=Fk(Ar(xe)))!=null?Gs:xe:(bt=xe!=null?xe:Fk(Re))!=null?bt:"-",fe=(we=s.lastScanDays)!=null?we:Re!=null?BA(Re):null,ie=[{label:"Last Scan",value:Z},{label:"Level",value:C!=null?`Lvl ${Pn(C)}`:"-"},{label:"Scrapbook",value:Jg(M)},{label:"Total Base Stats",value:A!=null?Pn(A):"-"}],_e=[{label:"Mount",value:J!=null?J:"-",tone:"neutral"},{label:"Honor",value:Pn(F),tone:"success"},{label:"Gildenrolle",value:le!=null?le:"-",tone:"warning"},{label:"HoF",value:he!=null?`#${Pn(he)}`:"-",tone:"neutral"}],be=T?w:void 0,Se={playerName:s.name,className:s.className,guild:s.guild,server:s.server,guildIdentifier:s.guildIdentifier,guildJoined:s.guildJoined,levelLabel:C?`Level ${Pn(C)}`:void 0,lastScanLabel:(sn=Mk(fe))!=null?sn:void 0,lastScanAtLabel:Z!=="-"?Z:void 0,lastScanDays:fe,status:fe!=null&&fe<=2?"online":"offline",metrics:ie,badges:_e,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!s.guildIdentifier,title:s.guildIdentifier?void 0:"No guild linked in latest scan."},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:l.hasData?l.config:void 0,hasPortrait:l.hasData,portraitFallbackUrl:u,portraitFallbackLabel:h,baseStats:be,totalStats:N?P:void 0},Ve={summary:[{label:"Power Score",value:Pn(U),hint:"Level * SumBase"},{label:"Honor",value:Pn(F)},{label:"HoF Platz",value:he?`#${Pn(he)}`:"-"},{label:"Letzter Scan",value:(Xt=Mk(fe))!=null?Xt:"-"}],attributes:y.map(Y=>({label:Y.label,baseLabel:Pn(i.number(Y.base)),totalLabel:i.number(Y.total)!=null?`Gesamt ${Pn(i.number(Y.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(a()*40+40)}%`},{label:"Schatten",value:`${Math.round(a()*40+35)}%`},{label:"Frost",value:`${Math.round(a()*30+30)}%`},{label:"Licht",value:`${Math.round(a()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Pn(Math.round((C!=null?C:1)*(a()*8+3)))}k`},{label:"XP/h",value:`${Pn(Math.round((C!=null?C:1)*(a()*5+2)))}k`},{label:"Mount Bonus",value:J},{label:"Quest Slots",value:`${Math.round(a()*2)+3}`}]},Ue=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(M!=null?M:0)/100),targetLabel:`${Jg(M)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:M!=null&&M>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,$/100),targetLabel:`Ebene ${Math.round($)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudebau",progress:Math.min(1,R/25),targetLabel:`Lvl ${Math.round(R)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,B/30),targetLabel:`Lvl ${Math.round(B)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,z/100),targetLabel:`${Math.round(z)} / 100`,meta:"Habitate offen"}],tt=n!=null?n:Rf([lo(C)],[lo(k)],[lo(F)]),Je=[{label:"Level",playerValue:C?`Lvl ${Pn(C)}`:"-",benchmark:C?`Lvl ${Pn(Math.round(C*.92))}`:"-",diffLabel:C?`+${Math.round(C*.08)}`:"-",trend:"up"},{label:"Power Score",playerValue:Pn(U),benchmark:Pn(Math.round(U*.9)),diffLabel:`+${Pn(Math.round(U*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:Jg(M),benchmark:`${Math.min(100,Math.round((M!=null?M:60)-8))}%`,diffLabel:M!=null?`+${Math.round(M-60)}%`:"-",trend:M!=null&&M>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(R)}`,benchmark:`Lvl ${Math.round(R-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(B)}`,benchmark:`Lvl ${Math.round(B-2)}`,diffLabel:"+2",trend:"neutral"}],ct=MY(s,i,a);return{hero:Se,stats:Ve,progress:Ue,charts:tt,comparison:Je,history:ct}},MY=(s,e,n)=>{var l,c;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:s.guild?`Joined ${s.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const a=e.text(["lastdungeon","lastfight"]);return a&&r.push({dateLabel:xg(Math.round(n()*15)+5),title:"Dungeon Clear",description:a,tag:"Dungeon"}),r.push({dateLabel:xg(2),title:"Level-Up",description:`Erreichte Level ${Pn(s.level)}`,tag:"Level"}),r.push({dateLabel:xg(10),title:"Scrapbook Meilenstein",description:`${Jg((l=s.scrapbookPct)!=null?l:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:xg(18),title:"Festung",description:`Fortress Level ${Math.round((c=e.number(["fortress"],Math.round(n()*20+15)))!=null?c:0)}`,tag:"Festung"}),r},xg=s=>new Date(Date.now()-s*864e5).toLocaleDateString("de-DE");function l0(){return t.jsx(zt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:t.jsx(CY,{})})}function ru(s,e=300){const[n,r]=X.useState(s);return X.useEffect(()=>{const i=window.setTimeout(()=>r(s),e);return()=>window.clearTimeout(i)},[s,e]),n}function iu(s){const e=X.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(s).matches,[s]),[n,r]=X.useState(()=>e());return X.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(s),a=l=>r(l.matches);return r(i.matches),i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[s]),n}const FY='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function au(s,e){X.useEffect(()=>{var l;if(!e)return;const n=s.current;if(!n)return;const r=()=>n.querySelectorAll(FY);(l=r()[0])==null||l.focus();const a=c=>{if(c.key!=="Tab")return;const u=r();if(u.length===0)return;const h=u[0],p=u[u.length-1];c.shiftKey?document.activeElement===h&&(c.preventDefault(),p.focus()):document.activeElement===p&&(c.preventDefault(),h.focus())};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[s,e])}const BY="_page_1jzf5_1",$Y="_header_1jzf5_13",OY="_headerStack_1jzf5_25",VY="_kicker_1jzf5_37",UY="_title_1jzf5_53",zY="_subtitle_1jzf5_65",HY="_headerActions_1jzf5_79",GY="_secondaryAction_1jzf5_89",WY="_infoStrip_1jzf5_131",qY="_infoCard_1jzf5_143",KY="_infoLabel_1jzf5_163",QY="_inlineFilters_1jzf5_177",XY="_filterField_1jzf5_197",YY="_select_1jzf5_227",JY="_searchInput_1jzf5_229",ZY="_layout_1jzf5_249",eJ="_selectionColumn_1jzf5_261",tJ="_selectionCard_1jzf5_273",sJ="_slotHeader_1jzf5_293",nJ="_slotLabel_1jzf5_307",rJ="_slotStatus_1jzf5_323",iJ="_clearButton_1jzf5_335",aJ="_slotBody_1jzf5_355",oJ="_resultList_1jzf5_367",lJ="_emptyResult_1jzf5_385",cJ="_resultItem_1jzf5_397",dJ="_resultName_1jzf5_421",uJ="_resultMeta_1jzf5_433",hJ="_selectButton_1jzf5_445",pJ="_selectedCard_1jzf5_465",mJ="_selectedName_1jzf5_479",gJ="_selectedMeta_1jzf5_489",fJ="_selectedTagline_1jzf5_491",vJ="_comparisonColumn_1jzf5_503",xJ="_comparisonCard_1jzf5_515",yJ="_comparisonHeader_1jzf5_535",bJ="_sectionTitle_1jzf5_551",_J="_diffBadge_1jzf5_561",wJ="_metricGrid_1jzf5_579",jJ="_metricCard_1jzf5_591",SJ="_metricLabel_1jzf5_611",NJ="_metricValues_1jzf5_627",kJ="_metricDivider_1jzf5_643",CJ="_metricDelta_1jzf5_653",TJ="_freshnessRow_1jzf5_665",IJ="_freshnessItem_1jzf5_677",AJ="_freshnessBadge_1jzf5_685",EJ="_freshnessPopover_1jzf5_733",PJ="_popoverTitle_1jzf5_757",RJ="_classCard_1jzf5_807",LJ="_classGrid_1jzf5_827",DJ="_classColumn_1jzf5_837",MJ="_classBar_1jzf5_857",FJ="_classSlice_1jzf5_873",BJ="_classLegend_1jzf5_907",$J="_emptyState_1jzf5_931",OJ="_supportPanels_1jzf5_947",VJ="_checklistCard_1jzf5_959",UJ="_infoCardExtended_1jzf5_961",zJ="_checklist_1jzf5_959",HJ="_infoNote_1jzf5_1033",GJ="_sheetOverlay_1jzf5_1045",WJ="_sheetOpen_1jzf5_1073",qJ="_sheet_1jzf5_1045",KJ="_sheetHeader_1jzf5_1105",QJ="_sheetBody_1jzf5_1119",ce={page:BY,header:$Y,headerStack:OY,kicker:VY,title:UY,subtitle:zY,headerActions:HY,secondaryAction:GY,infoStrip:WY,infoCard:qY,infoLabel:KY,inlineFilters:QY,filterField:XY,select:YY,searchInput:JY,layout:ZY,selectionColumn:eJ,selectionCard:tJ,slotHeader:sJ,slotLabel:nJ,slotStatus:rJ,clearButton:iJ,slotBody:aJ,resultList:oJ,emptyResult:lJ,resultItem:cJ,resultName:dJ,resultMeta:uJ,selectButton:hJ,selectedCard:pJ,selectedName:mJ,selectedMeta:gJ,selectedTagline:fJ,comparisonColumn:vJ,comparisonCard:xJ,comparisonHeader:yJ,sectionTitle:bJ,diffBadge:_J,metricGrid:wJ,metricCard:jJ,metricLabel:SJ,metricValues:NJ,metricDivider:kJ,metricDelta:CJ,freshnessRow:TJ,freshnessItem:IJ,freshnessBadge:AJ,freshnessPopover:EJ,popoverTitle:PJ,classCard:RJ,classGrid:LJ,classColumn:DJ,classBar:MJ,classSlice:FJ,classLegend:BJ,emptyState:$J,supportPanels:OJ,checklistCard:VJ,infoCardExtended:UJ,checklist:zJ,infoNote:HJ,sheetOverlay:GJ,sheetOpen:WJ,sheet:qJ,sheetHeader:KJ,sheetBody:QJ},UA=["Ari","Borin","Celeste","Doran","Lena","Nix"],XJ={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},W_={raid:"Raid",event:"Event",task:"Task"},q_={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},Bk={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},$k={urgent:4,high:3,medium:2,low:1},YJ={"7d":7,"30d":30,"90d":90,all:null},c0={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},JJ=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:tc(5,20),createdAt:Sr(2,14),updatedAt:Sr(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:bg(3),nextUpdateAt:yg(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:tc(2,12),createdAt:Sr(4,9),updatedAt:Sr(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:bg(8),nextUpdateAt:yg(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:tc(7,17),createdAt:Sr(1,10),updatedAt:Sr(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:bg(22),nextUpdateAt:yg(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:Sr(1,19),createdAt:Sr(9,10),updatedAt:Sr(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:Sr(1,19),nextUpdateAt:tc(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:tc(12,18),createdAt:Sr(6,15),updatedAt:Sr(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:bg(1),nextUpdateAt:yg(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:tc(18,13),createdAt:Sr(12,18),updatedAt:Sr(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:Sr(2,16),nextUpdateAt:tc(4,9)}];function tc(s,e=12){const n=new Date;return n.setDate(n.getDate()+s),n.setHours(e,0,0,0),n.toISOString()}function yg(s){const e=new Date;return e.setHours(e.getHours()+s,e.getMinutes(),0,0),e.toISOString()}function Sr(s,e=12){const n=new Date;return n.setDate(n.getDate()-s),n.setHours(e,0,0,0),n.toISOString()}function bg(s){const e=new Date;return e.setHours(e.getHours()-s,e.getMinutes(),0,0),e.toISOString()}function Ok(s){return{...s,page:Math.max(1,s.page),pageSize:Math.min(25,Math.max(4,s.pageSize)),owner:Array.from(new Set(s.owner))}}function ZJ(s,e,n){const r=Date.now(),i=YJ[e.range];return s.filter(a=>{const l=n===""||a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()),c=e.type==="all"||a.type===e.type,u=e.status==="all"||a.status===e.status,h=e.owner.length===0||e.owner.includes(a.owner)||a.assignees.some(g=>e.owner.includes(g));let p=!0;if(i!==null){const g=new Date(a.dueAt).getTime(),x=r+i*24*60*60*1e3;p=g<=x}return l&&c&&u&&h&&p})}function eZ(s,e,n){const r=[...s];return r.sort((i,a)=>{let l=0;switch(e){case"dueAt":l=new Date(i.dueAt).getTime()-new Date(a.dueAt).getTime();break;case"updatedAt":l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break;case"priority":l=$k[i.priority]-$k[a.priority];break;case"title":l=i.title.localeCompare(a.title);break;default:l=0}return n==="asc"?l:-l}),r}function tZ(s,e,n){const r=(e-1)*n;return s.slice(r,r+n)}function Ta(s){return new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Mp(s){const e=Date.now()-new Date(s).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function lp(s,e){const n=new Date(s).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function sZ(s){return s.length===0?null:s.reduce((e,n)=>e?Bk[n.freshness]>Bk[e.freshness]?n:e:n,null)}const L1=["EU-01","EU-02","US-01","US-02","ASIA-01"],Bh=new Intl.NumberFormat("de-DE");function nZ(){const s=iu("(min-width: 768px)"),[e,n]=X.useState("all"),[r,i]=X.useState(null),[a,l]=X.useState(null),[c,u]=X.useState(null),[h,p]=X.useState(null),g=[r,a].filter(Boolean).length,x=X.useMemo(()=>{const R=[c,h].filter(Boolean);if(!R.length)return 0;const B=R.reduce(($,z)=>{var U;return $+((U=z.level)!=null?U:0)},0);return Math.round(B/R.length)},[c,h]),[b,_]=X.useState(null),[S,C]=X.useState(!1),E=X.useRef(null);au(E,S&&!s),X.useEffect(()=>{s&&C(!1)},[s]),X.useEffect(()=>{if(!b)return;const R=$=>{const z=$.target;z&&(z.closest(`.${ce.freshnessBadge}`)||z.closest(`.${ce.freshnessPopover}`)||_(null))},B=$=>{$.key==="Escape"&&_(null)};return document.addEventListener("pointerdown",R),document.addEventListener("keydown",B),()=>{document.removeEventListener("pointerdown",R),document.removeEventListener("keydown",B)}},[b]);const F=X.useMemo(()=>c?lp(c.nextUpdateAt,Date.now()):"",[c]),k=X.useMemo(()=>h?lp(h.nextUpdateAt,Date.now()):"",[h]),y=()=>C(!0),w=()=>C(!1),P=R=>{n(R)},T=(R,B)=>{R==="playerA"?(i(B.id),u(B)):(l(B.id),p(B))},N=R=>{R==="playerA"?(i(null),u(null)):(l(null),p(null))},A=R=>{_(B=>B===R?null:R)},M=c&&h;return t.jsxs(zt,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[t.jsxs("div",{className:ce.page,children:[t.jsxs("header",{className:ce.header,children:[t.jsxs("div",{className:ce.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Players"}),t.jsx("h1",{className:ce.title,children:"Spieler vergleichen"}),t.jsx("p",{className:ce.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),t.jsx("div",{className:ce.headerActions,children:!s&&t.jsx("button",{type:"button",className:ce.secondaryAction,onClick:y,children:"Filter"})})]}),t.jsxs("div",{className:ce.infoStrip,children:[t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Slots gefuellt"}),t.jsxs("strong",{children:[Bh.format(g)," Spieler"]})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Durchschnittslevel"}),t.jsx("strong",{children:Bh.format(x)})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Serverfilter"}),t.jsx("strong",{children:e==="all"?"Alle":e})]})]}),s&&t.jsx("div",{className:ce.inlineFilters,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),L1.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]}),t.jsxs("div",{className:ce.layout,children:[t.jsxs("section",{className:ce.selectionColumn,children:[t.jsx(Vk,{title:"Spieler A",slot:"playerA",selectedPlayer:c,excludeId:a,onSelect:T,onClear:N,serverFilter:e,onServerChange:P}),t.jsx(Vk,{title:"Spieler B",slot:"playerB",selectedPlayer:h,excludeId:r,onSelect:T,onClear:N,serverFilter:e,onServerChange:P})]}),t.jsxs("section",{className:ce.comparisonColumn,children:[t.jsxs("div",{className:ce.comparisonCard,children:[t.jsxs("div",{className:ce.comparisonHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Vergleich"}),t.jsx("h2",{className:ce.sectionTitle,children:"Kennzahlen"})]}),M&&t.jsxs("span",{className:ce.diffBadge,children:["Delta Level: ",Bh.format(c.level-h.level)]})]}),M?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:ce.metricGrid,children:[t.jsx(Uk,{label:"Level",aValue:c.level,bValue:h.level}),t.jsx(Uk,{label:"Scrapbook (%)",aValue:c.scrapbookPct,bValue:h.scrapbookPct,isDecimal:!0}),t.jsx(rZ,{playerA:c,playerB:h,countdownA:F,countdownB:k,activePopover:b,onToggle:A})]}),t.jsx(iZ,{playerA:c,playerB:h})]}):t.jsx("div",{className:ce.emptyState,children:t.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),t.jsxs("div",{className:ce.supportPanels,children:[t.jsx(aZ,{}),t.jsx(oZ,{})]})]})]})]}),!s&&t.jsx("div",{className:`${ce.sheetOverlay} ${S?ce.sheetOpen:""}`,children:t.jsxs("div",{className:ce.sheet,role:"dialog","aria-modal":"true",ref:E,children:[t.jsxs("header",{className:ce.sheetHeader,children:[t.jsx("h3",{children:"Filter"}),t.jsx("button",{type:"button",className:ce.clearButton,onClick:w,children:"Schliessen"})]}),t.jsx("div",{className:ce.sheetBody,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),L1.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]})})]})}function Vk({title:s,slot:e,selectedPlayer:n,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:c}){const[u,h]=X.useState(""),p=ru(u,300);X.useEffect(()=>{h("")},[n,l]);const{results:g,loading:x}=lZ(p,l,r);return t.jsxs("article",{className:ce.selectionCard,children:[t.jsxs("div",{className:ce.slotHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.slotLabel,children:s}),t.jsx("p",{className:ce.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&t.jsx("button",{type:"button",className:ce.clearButton,onClick:()=>a(e),children:"Reset"})]}),t.jsxs("div",{className:ce.slotBody,children:[t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:l,onChange:b=>c(b.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),L1.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Suchen"}),t.jsx("input",{className:ce.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),t.jsxs("div",{className:ce.resultList,role:"list",children:[x&&t.jsx("div",{className:ce.emptyResult,children:"Lade..."}),!x&&g.length===0&&t.jsx("div",{className:ce.emptyResult,children:"Kein Spieler gefunden."}),!x&&g.map(b=>t.jsxs("div",{className:ce.resultItem,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.resultName,children:b.name}),t.jsxs("p",{className:ce.resultMeta,children:[b.server," - Level ",b.level," - ",b.className]})]}),t.jsx("button",{type:"button",className:ce.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&t.jsxs("div",{className:ce.selectedCard,children:[t.jsx("p",{className:ce.selectedName,children:n.name}),t.jsxs("p",{className:ce.selectedMeta,children:[n.server," - Level ",n.level," - ",n.className," -"," ",n.guildName||"ohne Gilde"]}),t.jsx("p",{className:ce.selectedTagline,children:n.tagline})]})]})]})}function Uk({label:s,aValue:e,bValue:n,isDecimal:r=!1}){const i=c=>r?c.toFixed(1).replace(".",","):Bh.format(c),a=e-n;let l="gleich";if(a!==0){const c=r?Math.abs(a).toFixed(1).replace(".",","):Bh.format(Math.abs(a));l=a>0?`+${c}`:`-${c}`}return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:s}),t.jsxs("div",{className:ce.metricValues,children:[t.jsx("span",{"aria-label":"Spieler A",children:i(e)}),t.jsx("span",{className:ce.metricDivider,children:"vs"}),t.jsx("span",{"aria-label":"Spieler B",children:i(n)})]}),t.jsx("p",{className:ce.metricDelta,children:l})]})}function rZ({playerA:s,playerB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Freshness"}),t.jsx("div",{className:ce.freshnessRow,children:[s,e].map(l=>{const c=l.id===s.id?n:r,u=`fresh-${l.id}`,h=i===u;return t.jsxs("div",{className:ce.freshnessItem,children:[t.jsxs("button",{type:"button",className:ce.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[t.jsx("span",{children:l.freshness.toUpperCase()}),t.jsx("small",{children:Mp(l.lastScanAt)})]}),h&&t.jsxs("div",{className:ce.freshnessPopover,role:"dialog",children:[t.jsx("p",{className:ce.popoverTitle,children:l.name}),t.jsxs("dl",{children:[t.jsxs("div",{children:[t.jsx("dt",{children:"Status"}),t.jsx("dd",{children:q_[l.freshness]})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Zuletzt gescannt"}),t.jsx("dd",{children:Ta(l.lastScanAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Naechstes Update"}),t.jsxs("dd",{children:[Ta(l.nextUpdateAt)," (",c,")"]})]})]})]})]},l.id)})})]})}function iZ({playerA:s,playerB:e}){const n=X.useMemo(()=>Array.from(new Set([...s.stats,...e.stats].map(i=>i.label))),[s.stats,e.stats]),r=i=>{const a=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return t.jsxs("div",{className:ce.classColumn,children:[t.jsx("h3",{children:i.name}),t.jsx("div",{className:ce.classBar,"aria-label":`Statverteilung ${i.name}`,children:a.map(l=>t.jsxs("span",{style:{width:`${l.percent}%`},className:ce.classSlice,children:[t.jsx("small",{children:l.label}),t.jsxs("strong",{children:[l.percent,"%"]})]},`${i.id}-${l.label}`))})]})};return t.jsxs("div",{className:ce.classCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Stat-Verteilung"}),t.jsx("div",{className:ce.classGrid,children:[s,e].map(r)}),n.length>0&&t.jsx("ul",{className:ce.classLegend,children:n.map(i=>t.jsx("li",{children:i},i))})]})}function aZ(){const s=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return t.jsxs("section",{className:ce.checklistCard,children:[t.jsx("h3",{children:"Vor dem Vergleich pruefen"}),t.jsx("ul",{className:ce.checklist,children:s.map(e=>t.jsx("li",{children:e},e))})]})}function oZ(){return t.jsxs("section",{className:ce.infoCardExtended,children:[t.jsx("h3",{children:"Matchup-Diff"}),t.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",t.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),t.jsx("p",{className:ce.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),t.jsx("button",{type:"button",className:ce.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function lZ(s,e,n){const[r,i]=X.useState([]),[a,l]=X.useState(!1);return X.useEffect(()=>{const c=s.trim();if(c.length===0){i([]),l(!1);return}let u=!1;async function h(){const p=Bn("PlayersCompare:search");l(!0);try{const g=c.toLowerCase(),x=kp(pt,"latest"),b=await dn(p,{path:"players/latest (collectionGroup)"},()=>cn(Sn(x,Ci("nameFold"),hl(g),pl(g+""),Mn(15)))),_=await dn(p,{path:"players/latest (collectionGroup)"},()=>cn(Sn(x,wa("nameNgrams","array-contains",g),Mn(15)))),S=new Set,C=[],E=F=>{var q,se,ne,H,J,le,oe,he,xe,Re,Z,fe,ie,_e,be,Se,Ve,Ue,tt,Je,ct,Wt,je,Qe,Ke,vt,kt,qe,Ce;const k=F.data(),w=(q=F.ref.parent)==null?void 0:q.parent,P=w==null?void 0:w.parent;if((P==null?void 0:P.id)!=="players")return;const N=(ne=(se=w==null?void 0:w.id)!=null?se:k.playerIdentifier)!=null?ne:F.id;if(!N||S.has(N)||n&&N===n)return;const A=(le=(J=k.name)!=null?J:(H=k.values)==null?void 0:H.Name)!=null?le:"Unbekannter Spieler",M=(xe=(he=k.server)!=null?he:(oe=k.values)==null?void 0:oe.Server)!=null?xe:"Unknown";if(e!=="all"&&M!==e)return;const R=(_e=(ie=(Z=k.className)!=null?Z:(Re=k.values)==null?void 0:Re.Class)!=null?ie:(fe=k.values)==null?void 0:fe.Class)!=null?_e:"Unbekannte Klasse",B=(Ve=(Se=k.guildName)!=null?Se:(be=k.values)==null?void 0:be.Guild)!=null?Ve:"",$=nl(k.level)||nl((Ue=k.values)==null?void 0:Ue.Level)||nl((tt=k.values)==null?void 0:tt.Level),z=nl(k.scrapbookPct)||nl((Je=k.values)==null?void 0:Je["Album %"])||nl((ct=k.values)==null?void 0:ct.AlbumPct)||nl((Wt=k.values)==null?void 0:Wt["Scrapbook %"]),U=(Ke=(Qe=k.updatedAt)!=null?Qe:(je=k.values)==null?void 0:je.UpdatedAt)!=null?Ke:k.timestamp?new Date(k.timestamp*1e3).toISOString():new Date().toISOString(),W=(vt=k.nextUpdateAt)!=null?vt:dZ(12),K=cZ((kt=k.values)!=null?kt:k.stats);S.add(N),C.push({id:N,name:A,tagline:(qe=k.tagline)!=null?qe:B?`Mitglied in ${B}`:R,server:M,className:R,guildName:B,level:$||0,scrapbookPct:z,lastScanAt:U,updatedAt:U,nextUpdateAt:W,freshness:(Ce=k.freshness)!=null?Ce:"unknown",stats:K})};b.forEach(E),_.forEach(E),u||(C.sort((F,k)=>F.name.localeCompare(k.name)),i(C))}catch(g){console.error("[Players Compare] player search failed",g),u||i([])}finally{tn(p),u||l(!1)}}return h(),()=>{u=!0}},[s,e,n]),{results:r,loading:a}}const zk={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function cZ(s={}){const e=Object.keys(zk).map(r=>{var a;const i=(a=s==null?void 0:s[r])!=null?a:s==null?void 0:s[r.toLowerCase()];return{label:zk[r],value:nl(i)}}).filter(r=>r.value>0),n=e.reduce((r,i)=>r+i.value,0);return n?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/n*100))})):[]}function nl(s){const e=Number(s);return Number.isFinite(e)?e:0}function dZ(s){const e=new Date;return e.setHours(e.getHours()+s),e.toISOString()}function uZ(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Guilds"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx(Hk,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),t.jsx(Hk,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function Hk({to:s,title:e,desc:n}){return t.jsxs(ws,{to:s,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function hZ(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Guilds  Rankings"}),t.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function pZ(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Guilds  Stats"}),t.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function mZ(s){return String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const gZ={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function fZ(s){var n;const e=mZ(s);return(n=gZ[e])!=null?n:null}function vZ(s,e=128){var a,l;const n=fZ(s);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Cc(n))!=null?a:null,i=r&&(l=Qr(r,e))!=null?l:null;return{id:n,url:r,thumb:i,fallback:""}}function cp(s,e=128){return vZ(s,e).thumb}const Lc={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},Pv=(s,e)=>({...s||{},...e||{}}),Gk=s=>{if(s==null||s==="")return"";const e=s instanceof Date?s:new Date(s),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},xZ=s=>Object.values(s||{}).reduce((e,n)=>e+(n||0),0),qn=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function yZ(s){var x,b,_,S,C,E,F,k;const e=qn(s==null?void 0:s.sumBaseTotal);if(e!=null)return e;const n=qn(s==null?void 0:s.baseMain),r=qn(s==null?void 0:s.conBase);if(n!=null&&r!=null)return n+r;const i=(s==null?void 0:s.baseStats)||{},a=qn(i==null?void 0:i.sumBaseTotal);if(a!=null)return a;const l=qn(i==null?void 0:i.main),c=qn(i==null?void 0:i.con);if(l!=null&&c!=null)return l+c;const u=(s==null?void 0:s.values)||{},h=(b=(x=qn(u==null?void 0:u.SumBaseTotal))!=null?x:qn(u==null?void 0:u.sumBaseTotal))!=null?b:qn(u==null?void 0:u["Sum Base Total"]);if(h!=null)return h;const p=(C=(S=(_=qn(u==null?void 0:u.Main))!=null?_:qn(u==null?void 0:u.main))!=null?S:qn(u==null?void 0:u.BaseMain))!=null?C:qn(u==null?void 0:u.baseMain),g=(k=(F=(E=qn(u==null?void 0:u.Con))!=null?E:qn(u==null?void 0:u.con))!=null?F:qn(u==null?void 0:u.ConBase))!=null?k:qn(u==null?void 0:u.conBase);return p!=null&&g!=null?p+g:null}function sc(s){return String(s!=null?s:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function bZ(s,e=56){if(!s)return;const n=sc(s),r=$n.find(i=>sc(i.label)===n||sc(i.key)===n)||$n.find(i=>sc(i.label).startsWith(n)||n.startsWith(sc(i.label))||sc(i.key).startsWith(n)||n.startsWith(sc(i.key)));return r?Qr(r.iconUrl,e):void 0}function _Z({name:s,memberClass:e,online:n,theme:r=Lc}){const i=s.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=bZ(e,56);return t.jsxs("div",{className:"relative",children:[a?t.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const c=l.currentTarget.parentElement;c&&(c.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):t.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&t.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const wZ={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},jZ=({role:s})=>t.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(wZ[s]||""),children:s});function Wk(s,e){const n=(s!=null?s:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function SZ(s){const e=typeof(s==null?void 0:s.sumBaseTotal)=="number"?s.sumBaseTotal:null,n=typeof(s==null?void 0:s.baseMain)=="number"?s.baseMain:null,r=typeof(s==null?void 0:s.conBase)=="number"?s.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function _g({label:s,value:e,theme:n=Lc}){return t.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[t.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:s}),t.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function NZ({member:s,theme:e,actions:n,extraKPIs:r}){var p,g,x,b,_,S,C,E,F;if(!s)return null;const i=Pv(Lc,e),a=s,l=Wk((g=(p=a.guildJoined)!=null?p:a.joinedAt)!=null?g:null,(x=a.guildJoinedMs)!=null?x:null),c=Wk((b=a.lastActivity)!=null?b:null,(_=a.lastActivityMs)!=null?_:typeof a.lastOnline=="number"?a.lastOnline:null),u=SZ(a),h=typeof a.totalStats=="number"?a.totalStats.toLocaleString("de-DE"):"";return t.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[t.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),t.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[t.jsx("div",{className:"shrink-0",children:t.jsx(_Z,{name:s.name,memberClass:(E=(C=a.class)!=null?C:(S=a.values)==null?void 0:S.Class)!=null?E:null,online:a.online,theme:i})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:s.name}),a.role&&t.jsx(jZ,{role:a.role})]}),t.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[a.class||"",a.server?`  ${a.server}`:"","  Joined ",l,"  Last ",c]})]}),t.jsx("div",{className:"ml-auto",children:n})]}),t.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(_g,{label:"Level",value:(F=a.level)!=null?F:"",theme:i}),typeof a.scrapbook=="number"&&t.jsx(_g,{label:"Scrapbook",value:`${a.scrapbook}%`,theme:i}),t.jsx(_g,{label:"Sum Base",value:u,theme:i}),t.jsx(_g,{label:"Total Stats",value:h,theme:i}),r]})]})}function nc(s){return String(s!=null?s:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function kZ(s,e=40){if(!s)return;const n=nc(s);let r=$n.find(i=>nc(i.label)===n||nc(i.key)===n)||$n.find(i=>nc(i.label).startsWith(n)||n.startsWith(nc(i.label))||nc(i.key).startsWith(n)||n.startsWith(nc(i.key)));return r?Qr(r.iconUrl,e):void 0}function CZ({name:s,memberClass:e,online:n,theme:r=Lc}){const i=s.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=kZ(e,40);return t.jsxs("div",{className:"relative",children:[a?t.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const c=l.currentTarget.parentElement;c&&(c.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):t.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&t.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const TZ=({role:s})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return t.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[s]||""),children:s})};function IZ({rows:s,selId:e,onSelect:n,rightCols:r,theme:i}){const a=Pv(Lc,i);return t.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:a.border},children:[t.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),t.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:a.tableBg},children:[t.jsx("div",{className:"h-8 sticky top-0",style:{background:a.header}}),s.map((l,c)=>{var u,h,p;return t.jsxs("button",{onClick:()=>n(l.id),"aria-pressed":l.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(c%2?"bg-slate-800/10":"")+(l.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[t.jsx(CZ,{name:l.name,memberClass:(p=(h=l.class)!=null?h:(u=l.values)==null?void 0:u.Class)!=null?p:null,online:l.online,theme:a}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),t.jsxs("div",{className:"text-xs truncate",style:{color:a.sub},children:[l.class,l.server?`  ${l.server}`:""]})]}),t.jsx("div",{className:"justify-self-end",children:t.jsx(TZ,{role:l.role})}),r(l)]},l.id)})]})]})}function rc(s){return String(s!=null?s:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function AZ(s,e=40){if(!s)return;const n=rc(s);let r=$n.find(i=>rc(i.label)===n||rc(i.key)===n)||$n.find(i=>rc(i.label).startsWith(n)||n.startsWith(rc(i.label))||rc(i.key).startsWith(n)||n.startsWith(rc(i.key)));return r?Qr(r.iconUrl,e):void 0}function EZ({rows:s,selId:e,onSelect:n,footer:r,theme:i}){const a=Pv(Lc,i);return t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(l=>{var x,b,_,S,C,E,F,k,y;const c=l,u=l.name.slice(0,2).toUpperCase(),h=AZ((_=(b=c.class)!=null?b:(x=c.values)==null?void 0:x.Class)!=null?_:null,40),p=typeof c.level=="number"?c.level:typeof((S=c.values)==null?void 0:S.Level)=="number"?c.values.Level:"",g=typeof c.scrapbook=="number"?`${c.scrapbook}%`:typeof((C=c.values)==null?void 0:C.Scrapbook)=="number"?`${c.values.Scrapbook}%`:null;return t.jsxs("button",{onClick:()=>n(l.id),"aria-pressed":l.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(l.id===e?" ring-1":""),style:{borderColor:a.border,background:`linear-gradient(180deg, ${a.tile} 0%, ${a.tableBg} 100%)`,boxShadow:l.id===e?`0 12px 30px -12px ${a.glow}`:"none"},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[h?t.jsx("img",{src:h,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:a.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const P=w.currentTarget.parentElement;P&&(P.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${a.tile};color:${a.title};border-color:${a.border}">${u}</div>`)}}):t.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:a.tile,color:a.title,borderColor:a.border},children:u}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),t.jsxs("div",{className:"text-xs",style:{color:a.sub},children:[(k=(F=c.class)!=null?F:(E=c.values)==null?void 0:E.Class)!=null?k:"",c.server?`  ${c.server}`:""]})]}),t.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:a.border},children:(y=c.role)!=null?y:""})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),t.jsx("div",{className:"font-semibold",style:{color:a.title},children:p})]}),g&&t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),t.jsx("div",{className:"font-semibold",style:{color:a.title},children:g})]})]}),t.jsx("div",{className:"mt-3",children:r(l)})]},l.id)})})}const PZ=s=>{if(!s)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=s[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function RZ({members:s,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:a,onSelect:l,renderActions:c,renderKPIs:u,theme:h}){var M;const p=I.useMemo(()=>Pv(Lc,h),[h]),[g,x]=I.useState(e),[b,_]=I.useState(n),[S,C]=I.useState(r.key),[E,F]=I.useState(r.dir),[k,y]=I.useState((M=s[0])==null?void 0:M.id),w=a!=null?a:k,P=R=>{a||y(R);const B=s.find($=>$.id===R);B&&l&&l(B)},T=I.useMemo(()=>{const R=b.trim().toLowerCase();return R?s.filter(B=>B.name.toLowerCase().includes(R)||B.class.toLowerCase().includes(R)||String(B.role).toLowerCase().includes(R)):s},[s,b]),N=I.useMemo(()=>{const R=E==="asc"?1:-1,B=$=>{var z,U;switch(S){case"sumBaseStats":{const W=yZ($);return W==null?-1/0:W}case"totalStats":return(U=(z=$.totalStats)!=null?z:xZ(PZ($.baseStats)))!=null?U:-1/0;default:return $[S]}};return[...T].sort(($,z)=>{const U=B($),W=B(z);return U===W?0:U>W?R:-R})},[T,S,E]),A=I.useMemo(()=>N.find(R=>R.id===w)||N[0],[N,w]);return t.jsxs("div",{children:[i&&t.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:p.tile,borderColor:p.border},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"View"}),t.jsxs("select",{value:g,onChange:R=>x(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[t.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),t.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Search"}),t.jsx("input",{value:b,onChange:R=>_(R.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:p.border}})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Sort by"}),t.jsxs("select",{value:String(S),onChange:R=>C(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[t.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),t.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),t.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),t.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),t.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),t.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),t.jsx("button",{onClick:()=>F(R=>R==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:p.border},children:E==="asc"?"":""})]})]}),t.jsx(NZ,{member:A,actions:A&&(c?c(A):t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Profile"}),t.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Compare"}),t.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Message"})]})),extraKPIs:A&&u?u(A):null,theme:p}),g==="list"?t.jsx(IZ,{rows:N,selId:w,onSelect:P,theme:p,rightCols:R=>{var B;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-right text-sm",children:(B=R.level)!=null?B:""}),t.jsx("div",{className:"text-right text-xs",style:{color:p.sub},children:Gk(R.lastOnline)})]})}}):t.jsx(EZ,{rows:N,selId:w,onSelect:P,theme:p,footer:R=>t.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:p.sub},children:t.jsxs("span",{children:["Last ",Gk(R.lastOnline)]})})})]})}function LZ({guildName:s,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:a,totalPower:l,activity7d:c,topClasses:u,tickerItems:h,href:p,onClick:g,className:x}){const b=!!yA(),_=I.useMemo(()=>{if(!r)return null;const B=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(B/6e4));if($<60)return`${$}m`;const z=Math.floor($/60);return z<24?`${z}h`:`${Math.floor(z/24)}d`},[r]),S=wh(0),C=wh(0),E=wh(0),F=wh(0),k=hg(S,B=>Math.round(B).toString()),y=hg(C,B=>Math.round(B).toString()),w=hg(E,B=>Math.round(B).toLocaleString()),P=hg(F,B=>`${Math.round(B)}%`);I.useEffect(()=>{const B=b?0:.6;if(B===0){S.set(i),C.set(a),E.set(l!=null?l:0),F.set(c!=null?c:0);return}const $=[pg(S,i,{duration:B}),pg(C,a,{duration:B}),pg(E,l!=null?l:0,{duration:B}),pg(F,c!=null?c:0,{duration:B})];return()=>$.forEach(z=>z.stop())},[i,a,l,c,b]);const T=I.useRef(null);I.useEffect(()=>{if(b||!T.current)return;const B=T.current;let $=0,z=0;const U=()=>{z+=.016;const W=z*14%140-20;B.style.setProperty("--s-x",`${W}%`),$=requestAnimationFrame(U)};return $=requestAnimationFrame(U),()=>cancelAnimationFrame($)},[b]);const N={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},A=100,M=p?"a":"div",R=p?{href:p}:{onClick:g};return t.jsxs(M,{...R,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",x!=null?x:""].join(" "),style:{background:`linear-gradient(135deg, ${N.bgFrom}, ${N.bgTo})`},children:[t.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),t.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[t.jsx("div",{className:"relative",children:t.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[t.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?t.jsx("img",{src:n,alt:`${s} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):t.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:t.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),t.jsx("div",{ref:T,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),_&&t.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:N.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${N.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",_]}),t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${A}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${A}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${A}deg, transparent 0 46px, ${N.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),t.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[t.jsx("h3",{className:"truncate font-extrabold",style:{color:N.title,fontSize:22},children:s}),t.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:N.soft,border:`1px solid ${N.border}`},children:e})]}),t.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[t.jsx(wg,{label:"Members",value:k}),t.jsx(wg,{label:" Level",value:y}),t.jsx(wg,{label:"Total Power",value:w}),typeof c=="number"&&t.jsx(wg,{label:"Activity (7d)",value:P})]}),u!=null&&u.length?t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:N.soft},children:"Top Classes"}),u.slice(0,3).map(B=>t.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${N.border}`,color:N.text},children:[B.iconUrl?t.jsx("img",{src:B.iconUrl,alt:B.key,className:"h-4 w-4 object-contain"}):t.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:N.accent,opacity:.85}}),t.jsxs("span",{className:"text-xs",children:[B.key," ",t.jsxs("span",{className:"opacity-70",children:["(",Math.round(B.percent),"%)"]})]})]},B.key))]}):null]})]})]}),h!=null&&h.length?t.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${N.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:t.jsx(DZ,{items:h,muted:b,color:N.soft})}):null]})}function wg({label:s,value:e}){return t.jsxs("div",{className:"relative z-10 min-w-0",children:[t.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:s}),t.jsx(vA.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function DZ({items:s,muted:e,color:n}){const r=I.useRef(null);return I.useEffect(()=>{if(e||!r.current)return;const i=r.current;let a=0,l=0;const c=()=>{a+=.016;const u=a*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,l=requestAnimationFrame(c)};return l=requestAnimationFrame(c),()=>cancelAnimationFrame(l)},[e]),t.jsx("div",{className:"overflow-hidden",children:t.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:s.concat(s).map((i,a)=>t.jsx("span",{className:"mx-6 text-xs align-middle",children:i},a))})})}const MZ="_wrap_q5gkc_53",FZ="_banner_q5gkc_59",BZ="_bannerRowTop_q5gkc_61",$Z="_bannerStripe_q5gkc_71",OZ="_bannerTitle_q5gkc_79",VZ="_bannerRowBottom_q5gkc_93",UZ="_bannerSub_q5gkc_95",zZ="_monthPickerWrap_q5gkc_101",HZ="_monthPickerLabel_q5gkc_113",GZ="_monthPicker_q5gkc_101",WZ="_monthButton_q5gkc_131",qZ="_monthButtonText_q5gkc_159",KZ="_chev_q5gkc_161",QZ="_monthList_q5gkc_165",XZ="_monthOption_q5gkc_195",YZ="_monthBadge_q5gkc_221",JZ="_gridRow_q5gkc_237",ZZ="_gridRowBottom_q5gkc_239",eee="_sideImage_q5gkc_253",tee="_sideImagePh_q5gkc_271",see="_emblemPanel_q5gkc_275",nee="_emblemFrame_q5gkc_295",ree="_emblemImg_q5gkc_297",iee="_emblemPlaceholder_q5gkc_299",aee="_emblemShimmer_q5gkc_307",oee="_emblemCaption_q5gkc_315",lee="_card_q5gkc_319",cee="_cardHeader_q5gkc_331",dee="_cardTitle_q5gkc_339",uee="_cardSubtitle_q5gkc_341",hee="_headerRight_q5gkc_343",pee="_cardBody_q5gkc_345",mee="_tableWrap_q5gkc_349",gee="_tableTitle_q5gkc_351",fee="_table_q5gkc_349",vee="_th_q5gkc_355",xee="_td_q5gkc_355",yee="_tdEmpty_q5gkc_365",bee="_sectionDivider_q5gkc_375",_ee="_sectionStripe_q5gkc_389",wee="_sectionTitle_q5gkc_397",Rt={wrap:MZ,banner:FZ,bannerRowTop:BZ,bannerStripe:$Z,bannerTitle:OZ,bannerRowBottom:VZ,bannerSub:UZ,monthPickerWrap:zZ,monthPickerLabel:HZ,monthPicker:GZ,monthButton:WZ,monthButtonText:qZ,chev:KZ,monthList:QZ,monthOption:XZ,monthBadge:YZ,gridRow:JZ,gridRowBottom:ZZ,sideImage:eee,sideImagePh:tee,emblemPanel:see,emblemFrame:nee,emblemImg:ree,emblemPlaceholder:iee,emblemShimmer:aee,emblemCaption:oee,card:lee,cardHeader:cee,cardTitle:dee,cardSubtitle:uee,headerRight:hee,cardBody:pee,tableWrap:mee,tableTitle:gee,table:fee,th:vee,td:xee,tdEmpty:yee,sectionDivider:bee,sectionStripe:_ee,sectionTitle:wee};function jee(s){if(s==null||s==="")return"";const e=typeof s=="number"?s:Number(String(s).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(s)}function qk(s,e="de-DE"){const n=new Date(s);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const Kk=({title:s,subtitle:e,children:n,rightBadge:r})=>t.jsxs("section",{className:Rt.card,children:[(s||e||r)&&t.jsxs("header",{className:Rt.cardHeader,children:[t.jsxs("div",{className:Rt.headerTitles,children:[s&&t.jsx("h3",{className:Rt.cardTitle,children:s}),e&&t.jsx("div",{className:Rt.cardSubtitle,children:e})]}),r&&t.jsx("div",{className:Rt.headerRight,children:r})]}),t.jsx("div",{className:Rt.cardBody,children:n})]}),Qk=({block:s})=>{var r,i;const e=s.columns,n=(r=s.rows)!=null?r:[];return t.jsxs("div",{className:Rt.tableWrap,role:"region","aria-label":(i=s.title)!=null?i:"table",children:[s.title&&t.jsx("div",{className:Rt.tableTitle,children:s.title}),t.jsxs("table",{className:Rt.table,children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(a=>t.jsx("th",{className:Rt.th,style:{width:a.width},children:a.label},a.key))})}),t.jsx("tbody",{children:n.length===0?t.jsx("tr",{children:t.jsx("td",{className:Rt.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((a,l)=>{var c;return t.jsx("tr",{children:e.map(u=>{var x;const h=a[u.key],p=typeof h=="number"||typeof h=="string"?h:"",g=u.format==="num"?jee(p):p;return t.jsx("td",{className:Rt.td,"data-align":(x=u.align)!=null?x:"left",children:u.render?u.render(a):g},u.key)})},(c=a.id)!=null?c:l)})})]}),s.footer&&t.jsx("div",{className:Rt.tableFooter,children:s.footer})]})},See=(s,e)=>{I.useEffect(()=>{function n(r){s.current&&(s.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[s,e])},Nee=({months:s,currentKey:e,onChange:n,fallbackDate:r})=>{var p;if(!(Array.isArray(s)&&s.length>0&&e))return t.jsx("div",{className:Rt.bannerSub,children:r!=null?r:""});const a=I.useRef(null),[l,c]=I.useState(!1);See(a,()=>c(!1));const u=s.find(g=>g.key===e),h=u?`${qk(u.fromISO)}${qk(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return t.jsxs("div",{className:Rt.monthPickerWrap,children:[t.jsx("div",{className:Rt.monthPickerLabel,children:"Monat"}),t.jsxs("div",{className:Rt.monthPicker,ref:a,children:[t.jsxs("button",{type:"button",className:Rt.monthButton,onClick:()=>c(g=>!g),"aria-haspopup":"listbox","aria-expanded":l,children:[t.jsx("span",{className:Rt.monthButtonText,children:(p=u==null?void 0:u.label)!=null?p:""}),t.jsx("svg",{className:Rt.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),l&&t.jsx("ul",{className:Rt.monthList,role:"listbox",children:s.map(g=>t.jsx("li",{children:t.jsx("button",{type:"button",className:Rt.monthOption,onClick:()=>{c(!1),n==null||n(g.key)},role:"option","aria-selected":g.key===e,children:g.label})},g.key))})]}),h&&t.jsx("span",{className:Rt.monthBadge,children:h})]})},kee=({title:s,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>t.jsxs("div",{className:Rt.banner,children:[t.jsxs("div",{className:Rt.bannerRowTop,children:[t.jsx("div",{className:Rt.bannerStripe}),t.jsx("div",{className:Rt.bannerTitle,children:s}),t.jsx("div",{className:Rt.bannerStripe})]}),t.jsx("div",{className:Rt.bannerRowBottom,children:t.jsx(Nee,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),Cee=({emblemUrl:s,caption:e})=>t.jsxs("div",{className:Rt.emblemPanel,children:[t.jsxs("div",{className:Rt.emblemFrame,children:[s?t.jsx("img",{src:s,alt:"Guild Emblem",className:Rt.emblemImg}):t.jsx("div",{className:Rt.emblemPlaceholder,children:"Emblem"}),t.jsx("div",{className:Rt.emblemShimmer})]}),e&&t.jsx("div",{className:Rt.emblemCaption,children:e})]}),Xk=({imgUrl:s,alt:e})=>t.jsx("div",{className:Rt.sideImage,children:s?t.jsx("img",{src:s,alt:e!=null?e:"side"}):t.jsx("div",{className:Rt.sideImagePh,children:"Image"})}),d0=({children:s,className:e})=>t.jsx("div",{className:`${Rt.gridRow} ${e!=null?e:""}`,children:s}),Tee=({children:s})=>t.jsxs("div",{className:Rt.sectionDivider,children:[t.jsx("div",{className:Rt.sectionStripe}),t.jsx("div",{className:Rt.sectionTitle,children:s}),t.jsx("div",{className:Rt.sectionStripe})]}),Iee=({data:s,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:a}=s;return t.jsxs("div",{className:Rt.wrap,children:[t.jsx(kee,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),t.jsxs(d0,{children:[t.jsx(Xk,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),t.jsx(Cee,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),t.jsx(Xk,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),t.jsx(d0,{children:i.map((l,c)=>t.jsx(Kk,{title:l.title,subtitle:l.subtitle,children:t.jsx(Qk,{block:l})},c))}),t.jsx(Tee,{children:"Guild Overview"}),t.jsx(d0,{className:Rt.gridRowBottom,children:a.map((l,c)=>t.jsx(Kk,{title:l.title,subtitle:l.subtitle,children:t.jsx(Qk,{block:l})},c))})]})},Aee=({guildId:s,guildName:e,guildServer:n})=>{const[r,i]=I.useState(!0),[a,l]=I.useState(null),[c,u]=I.useState(void 0),h=I.useRef({}),[p,g]=I.useState(()=>jg(e,n));I.useEffect(()=>{let b=!1;async function _(){var C,E,F,k,y;const S=Bn("GuildMonthly:months");i(!0);try{const w=vo(pt,`guilds/${s}/history_monthly`),P=await dn(S,{path:w.path},()=>cn(w)),T=[];for(const M of P.docs){const R=M.id,B=M.data();if(!B)continue;h.current[R]=B;const $=(C=B==null?void 0:B.meta)!=null?C:{},z=$.fromISO||$.baselineISO||$.firstISO||"",U=$.toISO||$.latestISO||$.nowISO||"",W=Number((E=$.daysSpan)!=null?E:Math.floor((+new Date(U)-+new Date(z))/864e5))||0,K=!!((k=(F=B==null?void 0:B.status)==null?void 0:F.available)!=null?k:z&&U&&W<=40),q=$.label||new Date(R+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});T.push({key:R,label:q,fromISO:z||new Date(R+"-01").toISOString(),toISO:U||new Date(R+"-28").toISOString(),daysSpan:W,available:K,reason:K||(y=B==null?void 0:B.status)==null?void 0:y.reason})}if(T.sort((M,R)=>M.key<R.key?1:-1),b)return;if(T.length===0){l(null),u(void 0),g(jg(e,n)),i(!1);return}l(T);const N=T[0].key;u(N);const A=h.current[N];g(Yk(A,{guildName:e,guildServer:n,currentMonthKey:N,months:T}))}catch(w){console.error(w),l(null),u(void 0),g(jg(e,n))}finally{tn(S),b||i(!1)}}return _(),()=>{b=!0}},[s,e,n]);async function x(b){u(b);let _=h.current[b];if(!_){const S=Bn("GuildMonthly:monthDoc");try{const C=Zt(pt,`guilds/${s}/history_monthly/${b}`),E=await yo(S,C,()=>un(C));E.exists()?(_=E.data(),h.current[b]=_):_=null}catch(C){console.error(C),_=null}finally{tn(S)}}if(!_){g(jg(e,n,{currentMonthKey:b,months:a!=null?a:void 0}));return}g(Yk(_,{guildName:e,guildServer:n,currentMonthKey:b,months:a!=null?a:void 0}))}return t.jsx(Iee,{data:p,onMonthChange:x})};function jg(s,e,n){return{header:{title:`${s}  Monthly Progress`,monthRange:"-",emblemUrl:cp(s,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[ic("Most Base Stats gained",e?`Server ${e}`:void 0),ic("Sum Base Stats"),ic("Highest Base Stats")],tablesBottom:[ic("Main & Con"),ic("Sum Base Stats"),ic("Highest Base Stats"),ic("Highest Total Stats")]}}function ic(s,e){return{title:s,subtitle:e,columns:[],rows:[]}}function Yk(s,e){var l,c,u,h,p,g,x,b;(l=s==null?void 0:s.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:cp(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((c=s==null?void 0:s.mostBaseGained)!=null?c:[]).map((_,S)=>{var C,E,F,k,y,w,P,T;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(E=_.name)!=null?E:"-",level:(k=(F=_.levelLatest)!=null?F:_.level)!=null?k:null,base:(w=(y=_.baseLatest)!=null?y:_.base)!=null?w:null,delta:(T=(P=_.baseDelta)!=null?P:_.delta)!=null?T:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=s==null?void 0:s.sumBaseStats)!=null?u:[]).map((_,S)=>{var C,E,F,k,y,w,P;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(E=_.name)!=null?E:"-",base:(F=_.base)!=null?F:null,stam:(y=(k=_.stamDelta)!=null?k:_.staminaDelta)!=null?y:null,sho:(P=(w=_.shoDelta)!=null?w:_.shootingDelta)!=null?P:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((h=s==null?void 0:s.highestBaseStats)!=null?h:[]).map((_,S)=>{var C,E,F,k,y;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(E=_.name)!=null?E:"-",stats:(k=(F=_.stats)!=null?F:_.base)!=null?k:null,delta:(y=_.delta)!=null?y:null}})}],a=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=s==null?void 0:s.mainAndCon)!=null?p:[]).map((_,S)=>{var C,E,F,k,y,w;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(E=_.name)!=null?E:"-",class:(k=(F=_.class)!=null?F:_.className)!=null?k:"",stats:(y=_.stats)!=null?y:null,delta:(w=_.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((g=s==null?void 0:s.sumBaseStats)!=null?g:[]).map((_,S)=>{var C,E,F,k,y;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(E=_.name)!=null?E:"-",base:(F=_.base)!=null?F:null,stam:(k=_.stamDelta)!=null?k:null,sho:(y=_.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((x=s==null?void 0:s.highestBaseStats)!=null?x:[]).map((_,S)=>{var C,E,F,k;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(E=_.name)!=null?E:"-",stats:(F=_.stats)!=null?F:null,delta:(k=_.delta)!=null?k:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=s==null?void 0:s.highestTotalStats)!=null?b:[]).map((_,S)=>{var C,E,F,k;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(E=_.name)!=null?E:"-",total:(F=_.total)!=null?F:null,delta:(k=_.delta)!=null?k:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:a}}const Eee="_root_r1uj3_5",Pee="_sectionDivider_r1uj3_17",Ree="_sectionStripe_r1uj3_31",Lee="_sectionTitle_r1uj3_33",ih={root:Eee,sectionDivider:Pee,sectionStripe:Ree,sectionTitle:Lee},Dee="_root_4jywc_1",Mee="_accent_4jywc_31",Jk={root:Dee,default:"_default_4jywc_29",accent:Mee};function kl({text:s,tone:e="default",className:n}){return t.jsx("div",{className:`${Jk.root} ${Jk[e]} ${n!=null?n:""}`.trim(),children:s})}const Fee="_card_vvv3s_3",Bee="_wrap_vvv3s_31",$ee="_divider_vvv3s_45",Oee="_rows_vvv3s_77",Vee="_row_vvv3s_77",Uee="_left_vvv3s_109",zee="_label_vvv3s_111",Hee="_avgHead_vvv3s_113",Gee="_avgNum_vvv3s_115",Wee="_top3_vvv3s_121",qee="_chip_vvv3s_123",Kee="_badge_vvv3s_151",Qee="_name_vvv3s_159",Xee="_score_vvv3s_161",Yee="_headerSpacer_vvv3s_167",Tr={card:Fee,wrap:Bee,divider:$ee,rows:Oee,row:Vee,left:Uee,label:zee,avgHead:Hee,avgNum:Gee,top3:Wee,chip:qee,badge:Kee,name:Qee,score:Xee,headerSpacer:Yee};function Jee({name:s,value:e,classLabel:n,colors:r}){const i=a_(n,64);return t.jsxs("div",{className:Tr.chip,children:[t.jsx("span",{className:Tr.badge,children:i?t.jsx("img",{src:i,alt:""}):null}),t.jsx("span",{className:Tr.name,children:s!=null?s:""}),t.jsx("span",{className:Tr.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function Zee({snapshot:s,colors:e,title:n="Base Stats"}){var l;const r=(l=s==null?void 0:s.members)!=null?l:[],i=c=>[...r].filter(u=>typeof u[c]=="number").sort((u,h)=>{var p,g;return((p=h[c])!=null?p:0)-((g=u[c])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:s==null?void 0:s.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:s==null?void 0:s.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:s==null?void 0:s.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return t.jsxs("div",{className:Tr.card,children:[t.jsx(kl,{text:n}),t.jsx("div",{className:Tr.headerSpacer}),t.jsxs("div",{className:Tr.wrap,children:[t.jsx("div",{className:Tr.divider}),t.jsx("div",{className:Tr.rows,children:a.map((c,u)=>t.jsxs("div",{className:Tr.row,children:[t.jsxs("div",{className:Tr.left,children:[t.jsx("div",{className:Tr.label,children:c.label}),t.jsx("div",{className:Tr.avgHead,children:""}),t.jsx("div",{className:Tr.avgNum,style:{color:e.title},children:typeof c.avg=="number"?c.avg.toLocaleString("de-DE"):""})]}),t.jsx("div",{className:Tr.top3,children:c.list.map((h,p)=>t.jsx(Jee,{name:h.name,value:h[c.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}const ete="_card_1enwc_1",tte="_wrap_1enwc_1",ste="_divider_1enwc_1",nte="_rows_1enwc_1",rte="_row_1enwc_1",ite="_left_1enwc_1",ate="_label_1enwc_1",ote="_avgHead_1enwc_1",lte="_avgNum_1enwc_1",cte="_top3_1enwc_1",dte="_chip_1enwc_1",ute="_badge_1enwc_1",hte="_name_1enwc_1",pte="_score_1enwc_1",mte="_headerSpacer_1enwc_1",Ir={card:ete,wrap:tte,divider:ste,rows:nte,row:rte,left:ite,label:ate,avgHead:ote,avgNum:lte,top3:cte,chip:dte,badge:ute,name:hte,score:pte,headerSpacer:mte};function gte({name:s,value:e,classLabel:n,colors:r}){const i=a_(n,64);return t.jsxs("div",{className:Ir.chip,children:[t.jsx("span",{className:Ir.badge,children:i?t.jsx("img",{src:i,alt:""}):null}),t.jsx("span",{className:Ir.name,children:s!=null?s:""}),t.jsx("span",{className:Ir.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function fte({snapshot:s,colors:e,title:n="Total Stats"}){var l;const r=(l=s==null?void 0:s.members)!=null?l:[],i=c=>[...r].filter(u=>typeof u[c]=="number").sort((u,h)=>{var p,g;return((p=h[c])!=null?p:0)-((g=u[c])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:s==null?void 0:s.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:s==null?void 0:s.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:s==null?void 0:s.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return t.jsxs("div",{className:Ir.card,children:[t.jsx(kl,{text:n}),t.jsx("div",{className:Ir.headerSpacer}),t.jsxs("div",{className:Ir.wrap,children:[t.jsx("div",{className:Ir.divider}),t.jsx("div",{className:Ir.rows,children:a.map((c,u)=>t.jsxs("div",{className:Ir.row,children:[t.jsxs("div",{className:Ir.left,children:[t.jsx("div",{className:Ir.label,children:c.label}),t.jsx("div",{className:Ir.avgHead,children:""}),t.jsx("div",{className:Ir.avgNum,style:{color:e.title},children:typeof c.avg=="number"?c.avg.toLocaleString("de-DE"):""})]}),t.jsx("div",{className:Ir.top3,children:c.list.map((h,p)=>t.jsx(gte,{name:h.name,value:h[c.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}function vte({guild:s,snapshot:e,colors:n}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(kl,{text:"General Info"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function xte({colors:s}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(kl,{text:"Fortress"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function yte({colors:s}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(kl,{text:"Rankings"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function bte({colors:s}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(kl,{text:"Serververgleich"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const _te=I.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const a=i.icon,l=({text:c})=>t.jsxs("div",{className:ih.sectionDivider,children:[t.jsx("div",{className:ih.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}}),t.jsx("div",{className:ih.sectionTitle,style:{color:i.soft},children:c}),t.jsx("div",{className:ih.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}})]});return t.jsxs("div",{className:ih.root+" space-y-4",children:[t.jsx(l,{text:"GUILD OVERVIEW"}),t.jsx("div",{style:{marginTop:6,marginBottom:10},children:t.jsx(l,{text:"AVERAGE PLAYER STATS"})}),t.jsx(vte,{guild:e,snapshot:n,colors:i}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[t.jsx(Zee,{snapshot:n,colors:i}),t.jsx(fte,{snapshot:n,colors:i})]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[t.jsx(xte,{colors:i}),t.jsx(yte,{colors:i})]}),t.jsx("div",{className:"mt-4",children:t.jsx(bte,{colors:i})})]})}),wte="_wrapper_zqchq_3",jte="_grid_zqchq_9",Ste="_tile_zqchq_13",Nte="_disabled_zqchq_37",kte="_crestWrap_zqchq_41",Cte="_crest_zqchq_41",Tte="_ring_zqchq_53",Ite="_badge_zqchq_55",Ate="_meta_zqchq_67",Ete="_nameRow_zqchq_69",Pte="_name_zqchq_69",Rte="_share_zqchq_73",Lte="_sub_zqchq_75",Dte="_tileButton_zqchq_79",Mte="_donutCard_zqchq_85",Fte="_donutHeader_zqchq_87",Bte="_legend_zqchq_91",$te="_legendItem_zqchq_93",Ote="_legendSwatch_zqchq_95",Vte="_legendRight_zqchq_97",Ute="_centerLabel_zqchq_101",Qs={wrapper:wte,grid:jte,tile:Ste,disabled:Nte,crestWrap:kte,crest:Cte,ring:Tte,badge:Ite,meta:Ate,nameRow:Ete,name:Pte,share:Rte,sub:Lte,tileButton:Dte,donutCard:Mte,donutHeader:Fte,legend:Bte,legendItem:$te,legendSwatch:Ote,legendRight:Vte,centerLabel:Ute},D1=56;function Lf(s){return s==null||!isFinite(s)?"0.0%":`${Math.round(s*10)/10}%`}function Zk(s){return s==null||!isFinite(s)?"0":`${Math.round(s)}`}const zte=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function Hte(s){return s?/drive\.google\.com/.test(s):!1}function eC(s,e=D1){if(s)return Hte(s)?Qr(s,e):s}function Gte(s){if(s==null)return null;let e=String(s).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function Wte(s){var p,g,x,b,_,S;if(!s)return null;const e=s,n=s,r=(p=e.key)!=null?p:n.id,i=(g=e.label)!=null?g:n.name,a=(b=(x=n.crestUrl)!=null?x:e.iconUrl)!=null?b:n.iconUrl,l=(_=e.iconUrl)!=null?_:n.iconUrl,c=(S=e.fallback)!=null?S:n.fallback;if(!r||!i)return null;const u=eC(a,D1),h=eC(l,D1);return{id:r,name:String(i),crestUrl:u||h,iconUrl:h||u,fallback:c?String(c):void 0}}function zA(s,e){var p,g,x,b,_,S,C,E,F,k,y,w,P,T,N,A,M,R,B,$,z;const n={},r={},i={},a={},l=e.map(U=>U.id);for(const U of l)n[U]=0,r[U]=0,i[U]=0,a[U]=null;for(const U of Array.isArray(s)?s:[]){const W=(w=(k=(E=(S=(b=(x=(g=(p=U.classId)!=null?p:U.class)!=null?g:U.klass)!=null?x:U.playerClass)!=null?b:U.cls)!=null?S:(_=U.values)==null?void 0:_.Class)!=null?E:(C=U.values)==null?void 0:C.class)!=null?k:(F=U.values)==null?void 0:F.Klasse)!=null?w:(y=U.values)==null?void 0:y.klasse,K=Gte(W);if(!K||!l.includes(K))continue;n[K]+=1;const q=zte((A=(T=U.level)!=null?T:(P=U.values)==null?void 0:P.Level)!=null?A:(N=U.values)==null?void 0:N.level);q!=null&&(r[K]+=q,i[K]+=1,(!a[K]||((R=(M=a[K])==null?void 0:M.level)!=null?R:-1/0)<q)&&(a[K]={id:U.id,name:(z=($=U.name)!=null?$:(B=U.values)==null?void 0:B.Name)!=null?z:null,level:q}))}const c=Object.values(n).reduce((U,W)=>U+W,0),u={},h={};return l.forEach(U=>{u[U]=c>0?n[U]/c*100:0,h[U]=i[U]>0?r[U]/i[U]:null}),{counts:n,shares:u,avg:h,top:a}}const qte=({valuePct:s})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,s))/100);return t.jsxs("svg",{className:Qs.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[t.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),t.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},Kte=({data:s,classMeta:e,onPickClass:n})=>{const[r,i]=I.useState({}),a=Array.isArray(s)?s:[],l=Array.isArray(e)?e:[],{counts:c,shares:u,avg:h,top:p}=I.useMemo(()=>zA(a,l),[a,l]);return t.jsx("section",{className:Qs.wrapper,children:t.jsx("div",{className:Qs.grid,style:{gridTemplateColumns:"1fr"},children:l.map(g=>{var F,k,y;const x=(F=c[g.id])!=null?F:0,b=(k=u[g.id])!=null?k:0,_=h[g.id],S=p[g.id],C=x<=0,E=r[g.id]?void 0:g.crestUrl||g.iconUrl;return t.jsxs("div",{className:`${Qs.tile} ${C?Qs.disabled:""}`,title:C?`${g.name}: kein Mitglied`:`${g.name}  ${Zk(x)}  ${Lf(b)}${_?`   ${_.toFixed(1)}`:""}`,children:[t.jsxs("div",{className:Qs.crestWrap,children:[E?t.jsx("img",{className:Qs.crest,src:E,alt:g.name,onError:()=>i(w=>({...w,[g.id]:!0}))}):t.jsx("div",{className:Qs.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=g.fallback)!=null?y:""}),t.jsx(qte,{valuePct:b}),t.jsx("div",{className:Qs.badge,children:Zk(x)})]}),t.jsxs("div",{className:Qs.meta,children:[t.jsxs("div",{className:Qs.nameRow,children:[t.jsx("div",{className:Qs.name,children:g.name}),t.jsx("div",{className:Qs.share,children:Lf(b)})]}),t.jsxs("div",{className:Qs.sub,children:[_?` Lvl ${_.toFixed(1)}`:"",S?`  Top: ${S.name}${S.level?` (Lv ${S.level})`:""}`:""]})]}),!C&&n&&t.jsx("button",{className:Qs.tileButton,onClick:()=>n(g.id),"aria-label":`${g.name} filtern`})]},g.id)})})})},Qte=({data:s,classMeta:e})=>{const n=Array.isArray(s)?s:[],r=Array.isArray(e)?e:[],{shares:i,counts:a}=I.useMemo(()=>zA(n,r),[n,r]),l=I.useMemo(()=>Object.values(a).reduce((c,u)=>c+u,0),[a]);return t.jsxs("div",{className:Qs.donutCard,children:[t.jsxs("div",{className:Qs.donutHeader,children:[t.jsx("div",{children:"Klassen-Verteilung"}),t.jsxs("div",{className:Qs.legendRight,children:["Gesamt: ",l]})]}),t.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[t.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[t.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const g=Math.PI*2,x=r.map((_,S)=>{var C;return{id:_.id,pct:(C=i[_.id])!=null?C:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*S)} 60% 55%)`}});let b=0;return x.map(_=>{const S=(_.pct||0)/100;if(S<=0)return null;const C=b,E=b+g*S;b=E;const F=E-C>Math.PI?1:0,k=130+100*Math.cos(C),y=130+100*Math.sin(C),w=130+100*Math.cos(E),P=130+100*Math.sin(E),T=130+64*Math.cos(E),N=130+64*Math.sin(E),A=130+64*Math.cos(C),M=130+64*Math.sin(C),R=`M ${k} ${y} A 100 100 0 ${F} 1 ${w} ${P} L ${T} ${N} A 64 64 0 ${F} 0 ${A} ${M} Z`;return t.jsx("path",{d:R,fill:_.color,opacity:.95},_.id)})})()]}),t.jsx("div",{className:Qs.legend,children:r.map((c,u)=>{var g,x;const h=(g=i[c.id])!=null?g:0,p=(x=a[c.id])!=null?x:0;return t.jsxs("div",{className:Qs.legendItem,title:`${c.name}: ${p}  ${Lf(h)}`,children:[t.jsx("span",{className:Qs.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),t.jsx("span",{children:c.name}),t.jsxs("span",{className:Qs.legendRight,children:[p,"  ",Lf(h)]})]},c.id)})})]}),t.jsx("div",{className:Qs.centerLabel,children:"Anteile je Klasse"})]})},xn={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},Xte=s=>{var e,n,r,i,a,l,c,u,h,p,g,x,b,_,S;return{id:s.id,name:(e=s.name)!=null?e:"Unknown",class:(n=s.class)!=null?n:"Unknown",role:(r=s.role)!=null?r:"Unknown",level:(i=s.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(a=s.lastActivityMs)!=null?a:null,server:null,baseStats:{main:(l=s.baseMain)!=null?l:void 0,con:(c=s.conBase)!=null?c:void 0,sumBaseTotal:(u=s.sumBaseTotal)!=null?u:void 0},totalStats:(h=s.totalStats)!=null?h:void 0,values:{treasury:(p=s.treasury)!=null?p:void 0,mine:(g=s.mine)!=null?g:void 0,attrTotal:(x=s.attrTotal)!=null?x:void 0,conTotal:(b=s.conTotal)!=null?b:void 0,lastScan:(_=s.lastScan)!=null?_:void 0,lastActivity:(S=s.lastActivity)!=null?S:void 0}}},u0=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},Yte=s=>{if(!s)return null;const e=Math.max(0,Date.now()/1e3-s);return Math.floor(e/86400)};function HA({title:s,right:e,children:n}){return t.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:xn.tile,border:`1px solid ${xn.line}`},children:[(s||e)&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:xn.line},children:[t.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:xn.soft},children:s}),e]}),t.jsx("div",{className:"p-4",children:n})]})}function ah({k:s,v:e}){return t.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[t.jsx("span",{className:"opacity-80",children:s}),t.jsx("span",{className:"font-semibold",style:{color:xn.title},children:e})]})}function Jte({guild:s}){var n,r;const e=cp(s.name,800);return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:t.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?t.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):t.jsx("div",{className:"text-6xl",children:""})})}),t.jsx(HA,{title:"GILDEN INFO",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsx(ah,{k:"Mitglieder",v:(n=s.memberCount)!=null?n:""}),t.jsx(ah,{k:"HoF-Rang",v:s.hofRank!=null?`#${s.hofRank}`:""}),t.jsx(ah,{k:"Server",v:(r=s.server)!=null?r:""}),t.jsx(ah,{k:"Inaktiv",v:"0"}),t.jsx(ah,{k:"Aktivitt",v:"100%"})]})})]})}function h0(){var C,E,F,k,y,w;const s=Kf(),e=s.id||s.gid||s.guildId||s.guild||"",n=Ei(),[r,i]=I.useState(!0),[a,l]=I.useState(null),[c,u]=I.useState(null),[h,p]=I.useState(null),[g,x]=I.useState("grid"),b=I.useMemo(()=>(Array.isArray($n)?$n:[]).map(Wte).filter(Boolean),[]);I.useEffect(()=>{let P=!1;async function T(){var A,M,R,B,$,z,U,W,K,q,se,ne,H,J,le,oe,he,xe,Re,Z,fe,ie,_e,be,Se,Ve,Ue,tt,Je,ct,Wt,je,Qe,Ke,vt,kt,qe;const N=Bn("GuildProfile:load");i(!0),l(null);try{const Ce=e.trim();if(!Ce){l("Keine Gilde gewhlt."),i(!1);return}const ze=Zt(pt,`guilds/${Ce}/latest/latest`),St=await yo(N,ze,()=>un(ze));if(!St.exists()){l("Gilde nicht gefunden."),i(!1);return}const Bt=St.data(),ks=(R=(M=Bt.name)!=null?M:(A=Bt.values)==null?void 0:A.Name)!=null?R:Ce,us=(z=($=Bt.server)!=null?$:(B=Bt.values)==null?void 0:B.Server)!=null?z:null,hs=(se=u0((q=(W=Bt.memberCount)!=null?W:(U=Bt.values)==null?void 0:U["Guild Member Count"])!=null?q:(K=Bt.values)==null?void 0:K.GuildMemberCount))!=null?se:null,Gs=(Z=u0((Re=(he=(le=(H=Bt.hofRank)!=null?H:(ne=Bt.values)==null?void 0:ne["Hall of Fame Rank"])!=null?le:(J=Bt.values)==null?void 0:J.HoF)!=null?he:(oe=Bt.values)==null?void 0:oe.Rank)!=null?Re:(xe=Bt.values)==null?void 0:xe["Guild Rank"]))!=null?Z:null,bt=Yte(u0(Bt.timestamp));P||u({id:Ce,name:ks,server:us,memberCount:hs,hofRank:Gs,lastScanDays:bt});const sn=Zt(pt,`guilds/${Ce}/snapshots/members_summary`),Xt=await yo(N,sn,()=>un(sn));if(Xt.exists()&&!P){const Y=Xt.data(),Fe={guildId:String((fe=Y.guildId)!=null?fe:Ce),updatedAt:String((be=(_e=Y.updatedAt)!=null?_e:(ie=Bt.values)==null?void 0:ie.Timestamp)!=null?be:""),updatedAtMs:Number((Ve=(Se=Y.updatedAtMs)!=null?Se:Bt.timestamp*1e3)!=null?Ve:0),count:Number((Ue=Y.count)!=null?Ue:0),hash:String((tt=Y.hash)!=null?tt:""),avgLevel:(Je=Y.avgLevel)!=null?Je:null,avgTreasury:(ct=Y.avgTreasury)!=null?ct:null,avgMine:(Wt=Y.avgMine)!=null?Wt:null,avgBaseMain:(je=Y.avgBaseMain)!=null?je:null,avgConBase:(Qe=Y.avgConBase)!=null?Qe:null,avgSumBaseTotal:(Ke=Y.avgSumBaseTotal)!=null?Ke:null,avgAttrTotal:(vt=Y.avgAttrTotal)!=null?vt:null,avgConTotal:(kt=Y.avgConTotal)!=null?kt:null,avgTotalStats:(qe=Y.avgTotalStats)!=null?qe:null,members:Array.isArray(Y.members)?Y.members:[]};p(Fe)}}catch(Ce){P||l((Ce==null?void 0:Ce.message)||"Fehler beim Laden.")}finally{tn(N),P||i(!1)}}return T(),()=>{P=!0}},[e]);const _=I.useMemo(()=>{var P;return((P=h==null?void 0:h.members)!=null?P:[]).map(T=>Xte(T))},[h]);if(r)return t.jsx(zt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:t.jsx("div",{className:"text-sm",style:{color:xn.soft},children:"Lade Gildenprofil"})});if(!c)return t.jsx(zt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:t.jsxs("div",{className:"text-sm",style:{color:xn.soft},children:[a!=null?a:"Unbekannter Fehler.",t.jsx("div",{className:"mt-3",children:t.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const S=t.jsx("div",{className:"mt-2",children:t.jsxs("div",{className:"px-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${xn.line}`,position:"relative",zIndex:2},children:[t.jsx("div",{className:"min-w-[120px]",children:t.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:xn.tile,border:`1px solid ${xn.line}`,color:xn.title},children:(C=c.server)!=null?C:"S?.EU"})}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("div",{className:"font-extrabold",style:{color:xn.title,fontSize:26,lineHeight:1.15},children:c.name})}),t.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:xn.soft},children:["Zuletzt aktualisiert:",h!=null&&h.updatedAt?h.updatedAt:""," ",t.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),t.jsx("div",{style:{height:1,background:xn.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return t.jsxs(zt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[S,t.jsx("div",{className:"px-6 pb-8",children:t.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[t.jsx("div",{className:"col-span-12 md:col-span-3",children:t.jsx(Jte,{guild:c})}),t.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[t.jsx(_te,{guild:c,snapshot:h,emblemUrl:cp(c.name,512)||void 0,colors:xn}),t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-full max-w-[980px]",children:t.jsx(LZ,{guildName:c.name,server:(E=c.server)!=null?E:"",emblemUrl:cp(c.name,512)||void 0,lastScanISO:h!=null&&h.updatedAtMs?new Date(h.updatedAtMs).toISOString():void 0,members:(F=c.memberCount)!=null?F:0,avgLevel:(k=h==null?void 0:h.avgLevel)!=null?k:0,totalPower:(y=h==null?void 0:h.avgTotalStats)!=null?y:void 0,tickerItems:h!=null&&h.updatedAt?[`Updated ${h.updatedAt}`,`Members ${(w=c.memberCount)!=null?w:0}`]:void 0})})}),t.jsx(Zte,{members:_,guildId:c.id,guildName:c.name,guildServer:c.server})]}),t.jsxs("div",{className:"col-span-12 md:col-span-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("button",{onClick:()=>x("grid"),"aria-label":"Klassenbersicht",children:t.jsx(kl,{text:"Klassenbersicht",tone:g==="grid"?"accent":"default"})}),t.jsx("button",{onClick:()=>x("donut"),"aria-label":"Klassenverteilung",children:t.jsx(kl,{text:"Klassenverteilung",tone:g==="donut"?"accent":"default"})})]}),g==="grid"?t.jsx(Kte,{data:_,classMeta:b,onPickClass:P=>{const T=new URL(window.location.href);T.searchParams.set("tab","bersicht"),T.searchParams.set("class",P),window.location.href=T.toString()}}):t.jsx(Qte,{data:_,classMeta:b})]})]})})]})}function Zte({members:s,guildId:e,guildName:n,guildServer:r}){const[i,a]=I.useState("bersicht");return t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:xn.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(l=>{const c=l===i;return t.jsx("button",{role:"tab","aria-selected":c,onClick:()=>a(l),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${c?xn.header:"transparent"}`,background:c?"rgba(45,78,120,0.35)":"transparent",color:xn.title},children:l},l)})}),t.jsxs(HA,{children:[i==="bersicht"&&t.jsx(RZ,{members:s,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&t.jsxs("div",{className:"text-sm",style:{color:xn.soft},children:["Platzhalter ",t.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&t.jsx(Aee,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&t.jsxs("div",{className:"text-sm",style:{color:xn.soft},children:["Platzhalter ",t.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function ese(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Servers"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx(tC,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),t.jsx(tC,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function tC({to:s,title:e,desc:n}){return t.jsxs(ws,{to:s,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function tse(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Servers  Rankings"}),t.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function sse(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Servers  Stats"}),t.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Rn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function sC({children:s,style:e}){return t.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:s})}function nse({size:s=36}){return t.jsx("div",{style:{width:s,height:s,display:"grid",placeItems:"center"},"aria-hidden":!0,children:t.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(s*.72)},children:""})})}function yd({label:s,value:e}){return t.jsxs("div",{style:{background:Rn.tileAlt,border:`1px solid ${Rn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[t.jsx("div",{style:{fontSize:12,color:Rn.textSoft,marginBottom:4},children:s}),t.jsx("div",{style:{fontSize:22,color:Rn.title,fontWeight:700},children:e})]})}function rse(s){const e=s.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),a=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let l="";const c=n.match(/^([A-Z]{2})(\d{1,3})$/);if(c){const u=c[1],h=String(parseInt(c[2],10)),p=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();l=`s${h}.sfgame.${p}`}return Array.from(new Set([e,n,r,i,a,l].filter(Boolean)))}function p0(){var S,C,E,F;const s=Kf(),e=Ei(),n=gr(),r=s.id||s.sid||s.serverId||s.server||"",[i,a]=I.useState(!0),[l,c]=I.useState(null),[u,h]=I.useState(null),[p,g]=I.useState(null);I.useEffect(()=>{let k=!1;async function y(){const w=Bn("ServerProfile:load");a(!0),c(null),h(null),g(null);try{const P=r.trim();if(!P)throw new Error("Kein Server gewhlt.");const T=Zt(pt,`servers/${P}`),N=await yo(w,T,()=>un(T));if(N.exists()){k||(h(N.id),g(N.data()));return}const A=vo(pt,"servers"),M=rse(P),R=[];for(const U of M)R.push(dn(w,A,()=>cn(Sn(A,wa("code","==",U),Mn(1))))),R.push(dn(w,A,()=>cn(Sn(A,wa("displayName","==",U),Mn(1))))),R.push(dn(w,A,()=>cn(Sn(A,wa("host","==",U),Mn(1)))));const B=await Promise.allSettled(R);let $=null,z=null;for(const U of B){if(U.status!=="fulfilled")continue;const W=U.value;if(!W.empty){const K=W.docs[0];$=K.id,z=K.data();break}}if(!$||!z)throw new Error("Server nicht gefunden.");k||(h($),g(z),$!==P&&e(`/server/${encodeURIComponent($)}`,{replace:!0,state:{from:n.pathname}}))}catch(P){k||c((P==null?void 0:P.message)||"Fehler beim Laden.")}finally{tn(w),k||a(!1)}}return y(),()=>{k=!0}},[r,e,n.pathname]);const x=I.useMemo(()=>t.jsxs("div",{style:{padding:24,color:Rn.textSoft},children:[l!=null?l:"Unbekannter Fehler.",t.jsx("div",{style:{marginTop:12},children:t.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Rn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,e]);if(i)return t.jsx(zt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:t.jsx("div",{style:{padding:16,color:Rn.textSoft},children:"Lade Serverprofil"})});if(!p)return t.jsx(zt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:x});const b=p.displayName||p.code||u||r,_=p.active===!0?"Aktiv":p.active===!1?"Inaktiv":"";return t.jsxs(zt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[t.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Rn.line}`},children:t.jsxs(sC,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[t.jsx(nse,{size:36}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:18,color:Rn.title,fontWeight:700},children:b}),t.jsxs("div",{style:{fontSize:12,color:Rn.textSoft},children:[p.host||"","  ",p.region||"","  ",((S=p.type)==null?void 0:S.toUpperCase())||""]})]})]})}),t.jsxs(sC,{style:{paddingTop:12,paddingBottom:24},children:[t.jsxs("div",{style:{background:Rn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Rn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:0,color:Rn.title,fontSize:24,fontWeight:800},children:b}),t.jsxs("div",{style:{marginTop:6,color:Rn.textSoft,fontSize:13},children:[p.host||"","  ",p.region||"","  ",((C=p.type)==null?void 0:C.toUpperCase())||""]})]}),t.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[t.jsxs("span",{style:{color:Rn.textSoft},children:["Status: ",_]}),t.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:p.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[t.jsx(yd,{label:"Code",value:p.code||""}),t.jsx(yd,{label:"Host",value:p.host||""}),t.jsx(yd,{label:"Region",value:p.region||""}),t.jsx(yd,{label:"Typ",value:((E=p.type)==null?void 0:E.toUpperCase())||""}),t.jsx(yd,{label:"Numeric ID",value:(F=p.numericId)!=null?F:""}),t.jsx(yd,{label:"Status",value:_})]}),t.jsxs("div",{style:{marginTop:16,background:Rn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Rn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Rn.textSoft},children:["Platzhalter ",t.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const ise="_page_177kv_1",ase="_sectionCard_177kv_15",ose="_identityCard_177kv_29",lse="_identityGrid_177kv_39",cse="_profileName_177kv_63",dse="_identityMeta_177kv_77",use="_mainCharacter_177kv_95",hse="_characterHeader_177kv_117",pse="_characterTitle_177kv_131",mse="_characterSubtitle_177kv_143",gse="_classIcon_177kv_153",fse="_metaGrid_177kv_181",vse="_metaLabel_177kv_193",xse="_metaValue_177kv_207",yse="_portrait_177kv_217",bse="_sectionHeader_177kv_245",_se="_sectionHint_177kv_265",wse="_bioText_177kv_275",jse="_tagGroups_177kv_295",Sse="_tagGroupLabel_177kv_309",Nse="_tagList_177kv_323",kse="_tag_177kv_295",Cse="_showcaseGrid_177kv_353",Tse="_characterCard_177kv_365",Ise="_characterCardHeader_177kv_385",Ase="_characterName_177kv_399",Ese="_badge_177kv_411",Pse="_characterMeta_177kv_433",Rse="_characterStats_177kv_449",Lse="_statGrid_177kv_465",Dse="_statTile_177kv_477",Mse="_statLabel_177kv_491",Fse="_statValue_177kv_505",Bse="_statSubtext_177kv_519",$se="_emptyState_177kv_531",Ose="_recordsHighlights_177kv_551",Vse="_highlightCard_177kv_565",Use="_recordType_177kv_579",zse="_recordTitle_177kv_593",Hse="_timeline_177kv_607",Gse="_timelineItem_177kv_625",Wse="_timelineBullet_177kv_635",qse="_timelineContent_177kv_653",Kse="_timelineTitle_177kv_661",Qse="_timelineMeta_177kv_673",Xse="_achievementsHighlights_177kv_685",Yse="_achievementCard_177kv_699",Jse="_achievementIcon_177kv_723",Zse="_achievementName_177kv_747",ene="_achievementDesc_177kv_759",tne="_achievementTier_177kv_771",sne="_achievementDate_177kv_785",nne="_achievementsGrid_177kv_795",rne="_achievementBadge_177kv_807",ine="_tierGold_177kv_831",ane="_tierSilver_177kv_839",one="_tierBronze_177kv_847",Be={page:ise,sectionCard:ase,identityCard:ose,identityGrid:lse,profileName:cse,identityMeta:dse,mainCharacter:use,characterHeader:hse,characterTitle:pse,characterSubtitle:mse,classIcon:gse,metaGrid:fse,metaLabel:vse,metaValue:xse,portrait:yse,sectionHeader:bse,sectionHint:_se,bioText:wse,tagGroups:jse,tagGroupLabel:Sse,tagList:Nse,tag:kse,showcaseGrid:Cse,characterCard:Tse,characterCardHeader:Ise,characterName:Ase,badge:Ese,characterMeta:Pse,characterStats:Rse,statGrid:Lse,statTile:Dse,statLabel:Mse,statValue:Fse,statSubtext:Bse,emptyState:$se,recordsHighlights:Ose,highlightCard:Vse,recordType:Use,recordTitle:zse,timeline:Hse,timelineItem:Gse,timelineBullet:Wse,timelineContent:qse,timelineTitle:Kse,timelineMeta:Qse,achievementsHighlights:Xse,achievementCard:Yse,achievementIcon:Jse,achievementName:Zse,achievementDesc:ene,achievementTier:tne,achievementDate:sne,achievementsGrid:nne,achievementBadge:rne,tierGold:ine,tierSilver:ane,tierBronze:one},lne={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},cne=1e3*60*60*24,nC={gold:3,silver:2,bronze:1};function dne(s){const e=new Date(s).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/cne)}function Sg(s){const e=new Date(s);return Number.isNaN(e.getTime())?Ct("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function une(){const{profileId:s}=Kf(),e=lne,n=dne(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(p=>p.type==="record").slice(0,3),a=[...e.achievements].sort((p,g)=>nC[g.tier]-nC[p.tier]).slice(0,3),l=[{label:Ct("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:Ct("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:Ct("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:Ct("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],c=n==null?Ct("profile.public.identity.dateUnknown"):n===0?Ct("profile.public.identity.lastScanToday"):`${n} ${Ct("profile.public.identity.daysAgoSuffix")}`,u=Ct("profile.public.identity.portraitPlaceholder"),h=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):Ct("profile.public.identity.unknownValue");return t.jsx(zt,{title:Ct("profile.public.title"),subtitle:Ct("profile.public.subtitle"),centerFramed:!1,padded:!0,children:t.jsxs("div",{className:Be.page,children:[t.jsx("section",{className:`${Be.sectionCard} ${Be.identityCard}`,children:t.jsxs("div",{className:Be.identityGrid,children:[t.jsxs("div",{children:[t.jsx("h1",{className:Be.profileName,children:e.profileUser.displayName}),t.jsxs("div",{className:Be.identityMeta,children:[t.jsxs("span",{children:[Ct("profile.public.identity.profileIdLabel"),": ",s!=null?s:Ct("profile.public.identity.unknownValue")]}),t.jsxs("span",{children:[Ct("profile.public.identity.lastScanLabel"),": ",c]})]}),t.jsxs("article",{className:Be.mainCharacter,children:[t.jsxs("div",{className:Be.characterHeader,children:[t.jsxs("div",{children:[t.jsx("div",{className:Be.metaLabel,children:Ct("profile.public.identity.mainCharacterLabel")}),t.jsx("div",{className:Be.characterTitle,children:e.mainCharacter.name}),t.jsxs("div",{className:Be.characterSubtitle,children:[e.mainCharacter.class,"  ",Ct("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),t.jsx("div",{className:Be.classIcon,children:e.mainCharacter.class.charAt(0)})]}),t.jsxs("div",{className:Be.metaGrid,children:[t.jsxs("div",{children:[t.jsx("div",{className:Be.metaLabel,children:Ct("profile.public.identity.serverLabel")}),t.jsx("div",{className:Be.metaValue,children:e.mainCharacter.server})]}),t.jsxs("div",{children:[t.jsx("div",{className:Be.metaLabel,children:Ct("profile.public.identity.guildLabel")}),t.jsx("div",{className:Be.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),t.jsx("div",{className:Be.portrait,children:u})]})}),t.jsxs("section",{className:Be.sectionCard,children:[t.jsx("div",{className:Be.sectionHeader,children:t.jsx("span",{children:Ct("profile.public.bio.title")})}),t.jsx("p",{className:Be.bioText,children:e.bio}),t.jsxs("div",{className:Be.tagGroups,children:[t.jsxs("div",{children:[t.jsx("div",{className:Be.tagGroupLabel,children:Ct("profile.public.bio.languagesLabel")}),t.jsx("div",{className:Be.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(p=>t.jsx("span",{className:Be.tag,children:p.toUpperCase()},p)):t.jsx("span",{className:Be.tag,children:Ct("profile.public.identity.unknownValue")})})]}),t.jsxs("div",{children:[t.jsx("div",{className:Be.tagGroupLabel,children:Ct("profile.public.bio.rolesLabel")}),t.jsx("div",{className:Be.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(p=>t.jsx("span",{className:Be.tag,children:Ct(`profile.public.roles.${p}`)},p)):t.jsx("span",{className:Be.tag,children:Ct("profile.public.identity.unknownValue")})})]})]})]}),t.jsxs("section",{className:Be.sectionCard,children:[t.jsxs("div",{className:Be.sectionHeader,children:[t.jsx("span",{children:Ct("profile.public.showcase.title")}),t.jsx("span",{className:Be.sectionHint,children:Ct("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?t.jsx("div",{className:Be.emptyState,children:Ct("profile.public.showcase.empty")}):t.jsx("div",{className:Be.showcaseGrid,children:e.showcaseCharacters.map(p=>t.jsxs("article",{className:Be.characterCard,children:[t.jsxs("div",{className:Be.characterCardHeader,children:[t.jsxs("div",{children:[t.jsx("div",{className:Be.characterName,children:p.name}),t.jsxs("div",{className:Be.characterMeta,children:[t.jsx("span",{children:p.class}),t.jsxs("span",{children:[Ct("profile.public.identity.levelShort")," ",p.level]})]})]}),t.jsx("span",{className:Be.badge,children:Ct(`profile.public.showcase.tags.${p.tag}`)})]}),t.jsxs("div",{className:Be.characterMeta,children:[t.jsx("span",{children:p.server}),t.jsx("span",{children:p.guildName})]}),t.jsxs("div",{className:Be.characterStats,children:[t.jsxs("span",{children:[Ct("profile.public.showcase.scrapbookLabel")," ",p.scrapbookPercent,"%"]}),t.jsxs("span",{children:[Ct("profile.public.showcase.highlightLabel"),": ",p.highlightProgress]})]})]},p.id))})]}),t.jsxs("section",{className:Be.sectionCard,children:[t.jsx("div",{className:Be.sectionHeader,children:t.jsx("span",{children:Ct("profile.public.stats.title")})}),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:Be.statGrid,children:l.map(p=>t.jsxs("article",{className:Be.statTile,children:[t.jsx("div",{className:Be.statLabel,children:p.label}),t.jsx("div",{className:Be.statValue,children:p.value})]},p.label))}),t.jsxs("div",{className:Be.statSubtext,children:[Ct("profile.public.stats.topServersLabel"),": ",h]}),t.jsxs("div",{className:Be.statSubtext,children:[Ct("profile.public.stats.firstScanLabel"),": ",Sg(e.scanStats.firstScanAt)]})]})]}),t.jsxs("section",{className:Be.sectionCard,children:[t.jsx("div",{className:Be.sectionHeader,children:t.jsx("span",{children:Ct("profile.public.records.title")})}),e.recordsAndMilestones.length===0?t.jsx("div",{className:Be.emptyState,children:Ct("profile.public.records.empty")}):t.jsxs(t.Fragment,{children:[i.length>0&&t.jsx("div",{className:Be.recordsHighlights,children:i.map(p=>t.jsxs("article",{className:Be.highlightCard,children:[t.jsx("div",{className:Be.recordType,children:Ct(`profile.public.records.type.${p.type}`)}),t.jsx("div",{className:Be.recordTitle,children:p.title}),t.jsxs("div",{className:Be.timelineMeta,children:[Sg(p.when),"  ",p.context]})]},p.id))}),t.jsx("ul",{className:Be.timeline,children:e.recordsAndMilestones.map(p=>t.jsxs("li",{className:Be.timelineItem,children:[t.jsx("div",{className:Be.timelineBullet}),t.jsxs("div",{className:Be.timelineContent,children:[t.jsx("div",{className:Be.timelineTitle,children:p.title}),t.jsxs("div",{className:Be.timelineMeta,children:[Sg(p.when),"  ",p.context]})]})]},p.id))})]})]}),t.jsxs("section",{className:Be.sectionCard,children:[t.jsxs("div",{className:Be.sectionHeader,children:[t.jsx("span",{children:Ct("profile.public.achievements.title")}),e.achievements.length>0&&t.jsx("span",{className:Be.sectionHint,children:Ct("profile.public.achievements.highlights")})]}),e.achievements.length===0?t.jsx("div",{className:Be.emptyState,children:Ct("profile.public.achievements.empty")}):t.jsxs(t.Fragment,{children:[a.length>0&&t.jsx("div",{className:Be.achievementsHighlights,children:a.map(p=>t.jsxs("article",{className:Be.achievementCard,children:[t.jsx("div",{className:[Be.achievementIcon,p.tier==="gold"?Be.tierGold:p.tier==="silver"?Be.tierSilver:Be.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),t.jsx("div",{className:Be.achievementTier,children:Ct(`profile.public.achievements.tiers.${p.tier}`)}),t.jsx("div",{className:Be.achievementName,children:Ct(p.nameKey)}),t.jsx("div",{className:Be.achievementDesc,children:Ct(p.descriptionKey)}),p.unlockedAt&&t.jsx("div",{className:Be.achievementDate,children:Sg(p.unlockedAt)})]},p.id))}),t.jsx("div",{className:Be.achievementsGrid,children:e.achievements.map(p=>t.jsxs("article",{className:Be.achievementBadge,children:[t.jsx("div",{className:[Be.achievementIcon,p.tier==="gold"?Be.tierGold:p.tier==="silver"?Be.tierSilver:Be.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),t.jsx("div",{className:Be.achievementName,children:Ct(p.nameKey)}),t.jsx("div",{className:Be.achievementDesc,children:Ct(p.descriptionKey)})]},p.id))})]})]})]})})}const hne="_wrap_k6pqt_1",pne="_centerLogoWrap_k6pqt_21",mne="_centerLogoLink_k6pqt_37",gne="_centerLogo_k6pqt_21",fne="_arc_k6pqt_55",vne="_left_k6pqt_57",xne="_right_k6pqt_59",yne="_sub_k6pqt_61",bne="_full_k6pqt_63",_ne="_arcItem_k6pqt_65",wne="_iconBtn_k6pqt_71",jne="_active_k6pqt_125",Sne="_iconImg_k6pqt_135",Nne="_placeholderIcon_k6pqt_139",kne="_placeholderText_k6pqt_157",Cne="_iconLabel_k6pqt_161",Xn={wrap:hne,centerLogoWrap:pne,centerLogoLink:mne,centerLogo:gne,arc:fne,left:vne,right:xne,sub:yne,full:bne,arcItem:_ne,iconBtn:wne,active:jne,iconImg:Sne,placeholderIcon:Nne,placeholderText:kne,iconLabel:Cne},Tne=({to:s,label:e,icon:n,variant:r="main"})=>{const{search:i}=gr();let a=!1;try{const l=new URLSearchParams(i),c=l.get("tab"),u=l.get("sub"),h=l.get("sub2"),p=new URL(s,window.location.origin).searchParams,g=p.get("tab"),x=p.get("sub"),b=p.get("sub2");r==="main"?a=c===g:r==="sub"?a=c===g&&!!x&&u===x:a=c===g&&!!x&&u===x&&!!b&&h===b}catch(l){a=!1}return t.jsxs(ws,{to:s,"aria-label":e,className:[Xn.iconBtn,a?Xn.active:""].join(" "),title:e,replace:!1,children:[n?t.jsx("img",{src:n,alt:"",className:Xn.iconImg}):t.jsx("div",{className:Xn.placeholderIcon,"aria-hidden":"true",children:t.jsx("span",{className:Xn.placeholderText,children:e.slice(0,2).toUpperCase()})}),t.jsx("div",{className:Xn.iconLabel,children:e})]})},Ng=({items:s,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440,superOffset:c=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const u=I.useMemo(()=>{const g=s.length;if(g===0)return[];let x=-90,b=90;e==="left"?(x=90,b=270):e==="sub"||e==="sub2"?n==="left"?(x=90,b=270):(x=-90,b=90):e==="full"&&(x=0,b=360);const _=(b-x)/(g+1),S=r?190:250;return s.map((C,E)=>{const k=(x+_*(E+1))*Math.PI/180;return{it:C,x:Math.cos(k)*S,y:Math.sin(k)*S}})},[s,e,n,r]),h=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${a}px)`:e==="right"?g.left=`calc(50% + ${a}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),g})(),p=e==="sub"?"sub":e==="sub2"?"sub2":"main";return t.jsx("div",{className:[Xn.arc,e==="left"?Xn.left:"",e==="right"?Xn.right:"",e==="sub"?Xn.sub:"",e==="sub2"?Xn.sub2:"",e==="full"?Xn.full:""].join(" "),style:h,children:u.map(({it:g,x,y:b})=>t.jsx("div",{className:Xn.arcItem,style:{transform:`translate(${x}px, ${b}px)`},children:t.jsx(Tne,{to:g.to,label:g.label,icon:g.icon,variant:p})},g.key))})},Ine=({logoSrc:s,categories:e})=>{const[n]=Cl(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const a=I.useMemo(()=>e.find(k=>k.key===r)||null,[e,r]),l=(a==null?void 0:a.sub)||[],c=I.useMemo(()=>l.find(k=>k.key===i)||null,[l,i]),u=(c==null?void 0:c.sub2)||[],h=(a==null?void 0:a.side)==="left"||(a==null?void 0:a.side)==="right"?a.side:"right",p=I.useRef(null),[g,x]=I.useState(!1),[b,_]=I.useState(220),[S,C]=I.useState(440),[E,F]=I.useState(660);return I.useLayoutEffect(()=>{(()=>{var M,R;const w=((R=(M=p.current)==null?void 0:M.getBoundingClientRect().width)!=null?R:380)/2,T=Math.round(w+60),N=Math.round(T+220),A=Math.round(N+220);_(T),C(N),F(A),x(!0)})()},[]),I.useEffect(()=>{let k=0,y=null,w={main:b,out:S,sup:E};const P=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{k=requestAnimationFrame(()=>{var W,K;const N=((K=(W=p.current)==null?void 0:W.getBoundingClientRect().width)!=null?K:380)/2,M=Math.round(N+60),R=Math.round(M+220),B=Math.round(R+220),$=Math.abs(M-w.main),z=Math.abs(R-w.out),U=Math.abs(B-w.sup);$>1&&_(M),z>1&&C(R),U>1&&F(B),w={main:M,out:R,sup:B}})},120)};return window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P),y!=null&&window.clearTimeout(y),k&&cancelAnimationFrame(k)}},[b,S,E]),t.jsxs("div",{className:Xn.wrap,children:[t.jsx("div",{className:Xn.centerLogoWrap,children:t.jsx(ws,{to:"/guidehub",className:Xn.centerLogoLink,"aria-label":"Guide Hub Home",children:t.jsx("img",{ref:p,src:s,alt:"Guide Hub",className:Xn.centerLogo})})}),g&&t.jsxs(t.Fragment,{children:[t.jsx(Ng,{items:e.filter(k=>k.side==="left").map(k=>({key:k.key,to:k.to,label:k.label,icon:k.icon})),side:"left",variant:"main",arcOffset:b}),t.jsx(Ng,{items:e.filter(k=>k.side==="right").map(k=>({key:k.key,to:k.to,label:k.label,icon:k.icon})),side:"right",variant:"main",arcOffset:b}),h&&l.length>0&&t.jsx(Ng,{items:l.map(k=>({key:k.key,to:k.to,label:k.label,icon:k.icon})),side:"sub",anchorSide:h,variant:"sub",outerOffset:S,compact:!0}),h&&u.length>0&&t.jsx(Ng,{items:u.map(k=>({key:k.key,to:k.to,label:k.label,icon:k.icon})),side:"sub2",anchorSide:h,variant:"sub2",superOffset:E,compact:!0})]})]})},rC=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],Ane="_topWrap_1vr4p_1",Ene="_divider_1vr4p_19",Pne="_contentArea_1vr4p_53",Rne="_placeholder_1vr4p_65",Lne="_placeholderTitle_1vr4p_79",Dne="_placeholderText_1vr4p_93",bd={topWrap:Ane,divider:Ene,contentArea:Pne,placeholder:Rne,placeholderTitle:Lne,placeholderText:Dne},Mne="/assets/logo_guidehub-c4zKGdF-.png";function Dc({title:s}){return t.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[t.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:s}),t.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const Fne=()=>t.jsx(Dc,{title:"Game Features"});function Hs({title:s}){return t.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[t.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:s}),t.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const Bne=()=>t.jsx(Hs,{title:"Progression"}),$ne=()=>t.jsx(Hs,{title:"Hellevator"}),One=()=>t.jsx(Hs,{title:"Legendary Dungeon"}),Vne=()=>t.jsx(Hs,{title:"Events"}),Une="_card_1rxdx_21",zne="_hoverLift_1rxdx_51",Hne="_title_1rxdx_63",Gne="_body_1rxdx_89",Wne="_iconStack_1rxdx_99",oh={card:Une,hoverLift:zne,title:Hne,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:Gne,iconStack:Wne};function qne({title:s,padding:e="md",hover:n=!0,className:r="",children:i}){return t.jsxs("div",{className:[oh.card,oh[`pad-${e}`],n?oh.hoverLift:"",r].join(" "),children:[s?t.jsx("div",{className:oh.title,children:s}):null,t.jsx("div",{className:oh.body,children:i})]})}const Kne=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],Qne="_grid_1amcc_3",Xne="_tileBtn_1amcc_45",Yne="_wrap_1amcc_87",Jne="_headerBar_1amcc_99",Zne="_title_1amcc_117",lh={grid:Qne,tileBtn:Xne,wrap:Yne,headerBar:Jne,title:Zne};function ere(){const[s,e]=Cl(),n=r=>{const i=new URLSearchParams(s);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return t.jsxs("div",{className:lh.wrap,children:[t.jsx("div",{className:lh.headerBar,children:t.jsx("h2",{className:lh.title,children:"Calculators"})}),t.jsx("div",{className:lh.grid,children:Kne.map(r=>t.jsx("button",{className:lh.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:t.jsx(qne,{title:r.title,padding:"md",hover:!0,children:t.jsx(t.Fragment,{children:" "})})},r.slug))})]})}const tre=()=>t.jsx(Hs,{title:"Infographics (Dropdown inside page)"}),sre=()=>t.jsx(Hs,{title:"Class book"}),nre=()=>t.jsx(Hs,{title:"Dungeons"}),rre=()=>t.jsx(Dc,{title:"Fortress"}),ire=()=>t.jsx(Dc,{title:"Fortress Calculator"}),are="_wrap_1skhh_7",ore="_headerBar_1skhh_21",lre="_title_1skhh_39",cre="_meta_1skhh_55",dre="_description_1skhh_67",ure="_contentWrapper_1skhh_83",hre="_tableSection_1skhh_97",pre="_table_1skhh_97",mre="_infoBox_1skhh_151",gre="_sectionTitle_1skhh_165",fre="_divider_1skhh_181",Gr={wrap:are,headerBar:ore,title:lre,meta:cre,description:dre,contentWrapper:ure,tableSection:hre,table:pre,infoBox:mre,sectionTitle:gre,divider:fre};function vre(){return t.jsxs("div",{className:Gr.wrap,children:[t.jsxs("div",{className:Gr.headerBar,children:[t.jsx("h2",{className:Gr.title,children:"Fortress Package skip order"}),t.jsx("span",{className:Gr.meta,children:"Last updated: 21.02.2025"})]}),t.jsx("p",{className:Gr.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),t.jsxs("div",{className:Gr.contentWrapper,children:[t.jsxs("section",{className:Gr.tableSection,children:[t.jsx("h3",{className:Gr.sectionTitle,children:"Fortress Build Order"}),t.jsxs("table",{className:Gr.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Building"}),t.jsx("th",{children:"Level"}),t.jsx("th",{children:"Gold Cost"}),t.jsx("th",{children:"Shroom Cost"}),t.jsx("th",{children:"Wood Cost"}),t.jsx("th",{children:"Stone Cost"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"35"}),t.jsx("td",{children:"12"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"20"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"150"}),t.jsx("td",{children:"50"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"138"}),t.jsx("td",{children:"46"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"30"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"440"}),t.jsx("td",{children:"140"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"15"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"406"}),t.jsx("td",{children:"129"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"40"}),t.jsx("td",{children:"12"}),t.jsx("td",{children:"1,100"}),t.jsx("td",{children:"333"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"20"}),t.jsx("td",{children:"12"}),t.jsx("td",{children:"1,015"}),t.jsx("td",{children:"308"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"50"}),t.jsx("td",{children:"24"}),t.jsx("td",{children:"2,500"}),t.jsx("td",{children:"800"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"25"}),t.jsx("td",{children:"24"}),t.jsx("td",{children:"2,308"}),t.jsx("td",{children:"738"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"60"}),t.jsx("td",{children:"36"}),t.jsx("td",{children:"6,000"}),t.jsx("td",{children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"30"}),t.jsx("td",{children:"36"}),t.jsx("td",{children:"5,538"}),t.jsx("td",{children:"1,849"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"7"}),t.jsx("td",{children:"70"}),t.jsx("td",{children:"48"}),t.jsx("td",{children:"13,417"}),t.jsx("td",{children:"4,433"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"8"}),t.jsx("td",{children:"80"}),t.jsx("td",{children:"78"}),t.jsx("td",{children:"27,200"}),t.jsx("td",{children:"9,280"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Hall of Knight"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"720"}),t.jsx("td",{children:"240"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Hall of Knight"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"1,408"}),t.jsx("td",{children:"448"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Hall of Knight"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"2,640"}),t.jsx("td",{children:"800"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Gem Mine"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"15"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"50"}),t.jsx("td",{children:"17"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Treasury"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"25"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"40"}),t.jsx("td",{children:"13"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"20"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"30"}),t.jsx("td",{children:"20"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"92"}),t.jsx("td",{children:"74"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"8"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"248"}),t.jsx("td",{children:"200"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"21"}),t.jsx("td",{children:"500"}),t.jsx("td",{children:"320"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"22"}),t.jsx("td",{children:"0"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"90"}),t.jsx("td",{children:"16"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"9"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"264"}),t.jsx("td",{children:"45"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"12"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"660"}),t.jsx("td",{children:"107"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Barracks"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"20"}),t.jsx("td",{children:"14"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Barracks"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"8"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"82"}),t.jsx("td",{children:"55"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Total cost"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"577"}),t.jsx("td",{children:"363"}),t.jsx("td",{children:"99,881"}),t.jsx("td",{children:"33,218"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress Pack ressources"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"300"}),t.jsx("td",{children:"100,000"}),t.jsx("td",{children:"50,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Left over"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"-577"}),t.jsx("td",{children:"-63"}),t.jsx("td",{children:"119"}),t.jsx("td",{children:"16,782"})]})]})]})]}),t.jsxs("section",{className:Gr.infoBox,children:[t.jsx("h3",{className:Gr.sectionTitle,children:"Important"}),t.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Archery Guild"}),t.jsx("li",{children:"Mage's Tower"}),t.jsx("li",{children:"Fortifications"})]}),t.jsx("div",{className:Gr.divider}),t.jsx("h3",{className:Gr.sectionTitle,children:"Total Costs"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total Gold:"})," 577 ",t.jsx("br",{}),t.jsx("strong",{children:"Total Shrooms:"})," 363 ",t.jsx("br",{}),t.jsx("strong",{children:"Total Wood:"})," 99,881 ",t.jsx("br",{}),t.jsx("strong",{children:"Total Stone:"})," 33,218 ",t.jsx("br",{})]}),t.jsx("h3",{className:Gr.sectionTitle,children:"Remaining Resources"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Remaining Gold:"})," -577 ",t.jsx("br",{}),t.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",t.jsx("br",{}),t.jsx("strong",{children:"Remaining Wood:"})," 119 ",t.jsx("br",{}),t.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const xre=()=>t.jsx(Dc,{title:"Fortress attack duplication guide"}),yre=()=>t.jsx(Dc,{title:"Underworld"}),bre=()=>t.jsx(Dc,{title:"Underworld Calculator"}),_re=()=>t.jsx(Dc,{title:"Underworld Pro Package skip order"}),wre=()=>t.jsx(Hs,{title:"Arena / AM"}),jre="_wrap_mm7x0_5",Sre="_headerBar_mm7x0_19",Nre="_title_mm7x0_37",kre="_meta_mm7x0_51",Cre="_description_mm7x0_63",Tre="_controls_mm7x0_79",Ire="_search_mm7x0_83",Are="_tableWrap_mm7x0_119",Ere="_table_mm7x0_119",Pre="_thead_mm7x0_143",Rre="_th_mm7x0_143",Lre="_td_mm7x0_167",Dre="_tierCell_mm7x0_179",Mre="_amountCell_mm7x0_181",Fre="_bonusCell_mm7x0_183",Bre="_tags_mm7x0_185",$re="_tierBox_mm7x0_191",Ore="_tierIcon_mm7x0_193",Vre="_tierTexts_mm7x0_203",Ure="_tierName_mm7x0_205",zre="_badge_mm7x0_211",Hre="_badgeMax_mm7x0_231",Gre="_badgeAchiev_mm7x0_233",Wre="_badgeX2_mm7x0_235",qre="_badgeX12_mm7x0_237",Kre="_badgeX60_mm7x0_239",Qre="_iconHead_mm7x0_245",Xre="_achiev_mm7x0_261",Yre="_achievImg_mm7x0_263",Jre="_dataRow_mm7x0_291",Zre="_tierCellHover_mm7x0_311",Ze={wrap:jre,headerBar:Sre,title:Nre,meta:kre,description:Cre,controls:Tre,search:Ire,tableWrap:Are,table:Ere,thead:Pre,th:Rre,td:Lre,tierCell:Dre,amountCell:Mre,bonusCell:Fre,tags:Bre,tierBox:$re,tierIcon:Ore,tierTexts:Vre,tierName:Ure,badge:zre,badgeMax:Hre,badgeAchiev:Gre,badgeX2:Wre,badgeX12:qre,badgeX60:Kre,iconHead:Qre,achiev:Xre,achievImg:Yre,dataRow:Jre,tierCellHover:Zre};function GA(s){return String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function eie(s){const e=s.filter(Boolean).join(" ");return GA(e)}const tie={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function sie(s){var n;const e=Array.isArray(s)?eie(s):GA(s!=null?s:"");return(n=tie[e])!=null?n:null}function Rv(s,e=512){var a,l;const n=sie(s);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Cc(n))!=null?a:null,i=r&&(l=Qr(r,e))!=null?l:null;return{id:n,url:r,thumb:i,fallback:""}}function bc(s,e=512){return Rv(s,e).thumb}const Jo={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},iC={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Zo({keyName:s,label:e}){const n=Rv(s,36);return t.jsxs("div",{className:Ze.iconHead,children:[n.thumb?t.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):t.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),t.jsx("span",{children:e})]})}function nie({name:s}){const e=Object.keys(iC).find(r=>s.toLowerCase().includes(r.toLowerCase())),n=Rv(e?iC[e]:"achiev_generic",16);return t.jsxs("div",{className:Ze.achiev,children:[n.thumb?t.jsx("img",{src:n.thumb,alt:s,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):t.jsx("div",{className:Ze.achievImg}),t.jsx("span",{children:s})]})}const Df=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function m0(s){const e=s.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function rie(s){const e=(s!=null?s:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function iie(s){const e=(s!=null?s:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const aC={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},aie="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function oie(s){const e=s.trim().toLowerCase();return e?Df.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Df}function lie(){const[s,e]=I.useState(""),[n,r]=I.useState(null),i=oie(s),a=I.useMemo(()=>Math.max(...Df.map(c=>m0(c.amount))),[]),l=I.useMemo(()=>{const c=new Map;for(const h of i)c.has(h.tier)||c.set(h.tier,[]),c.get(h.tier).push(h);const u=Array.from(new Set(Df.map(h=>h.tier)));return Array.from(c.entries()).sort((h,p)=>u.indexOf(h[0])-u.indexOf(p[0]))},[i]);return t.jsxs("div",{className:Ze.wrap,children:[t.jsxs("div",{className:Ze.headerBar,children:[t.jsx("h2",{className:Ze.title,children:"Arena Manager  Rune bonuses"}),t.jsx("span",{className:Ze.meta,children:"last updated: 15.01.2025"})]}),t.jsx("p",{className:Ze.description,children:aie}),t.jsx("div",{className:Ze.controls,children:t.jsx("input",{className:Ze.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:s,onChange:c=>e(c.target.value)})}),t.jsx("div",{className:Ze.tableWrap,children:t.jsxs("table",{className:Ze.table,children:[t.jsx("thead",{className:Ze.thead,children:t.jsxs("tr",{className:Ze.headRow,children:[t.jsx("th",{className:`${Ze.th} ${Ze.tierCell}`,children:"Tier"}),t.jsx("th",{className:`${Ze.th} ${Ze.amountCell}`,children:"Amount"}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.gold,label:"Gold Bonus"})}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.xp,label:"XP Bonus"})}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.hp,label:"HP Bonus"})}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.totalRes,label:"Total Resistance"})}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.singleRes,label:"Single Resistance"})}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.elem,label:"Elemental Damage"})}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.item,label:"Improved Item Quality"})}),t.jsx("th",{className:Ze.th,children:t.jsx(Zo,{keyName:Jo.epics,label:"Chances of Epics"})}),t.jsx("th",{className:Ze.th,children:"Tags"})]})}),t.jsx("tbody",{children:l.map(([c,u])=>{const h=Math.max(...u.map(p=>m0(p.amount)));return u.map((p,g)=>{var _,S,C,E,F,k,y,w;const x=Math.abs(m0(p.amount)-a)<1e-6,b=iie(p.note);return t.jsxs("tr",{className:Ze.dataRow,onMouseEnter:()=>r(c),onMouseLeave:()=>r(null),children:[g===0&&t.jsx("td",{className:`${Ze.td} ${Ze.tierCell} ${Math.abs(h-a)<1e-6?Ze.tierMax:""} ${n===c?Ze.tierCellHover:""}`,rowSpan:u.length,children:t.jsxs("div",{className:Ze.tierBox,children:[t.jsx("div",{className:Ze.tierIcon,children:c.slice(0,1).toUpperCase()}),t.jsxs("div",{className:Ze.tierTexts,children:[t.jsx("div",{className:Ze.tierName,children:c}),aC[c]&&t.jsx(nie,{name:aC[c]})]})]})}),t.jsx("td",{className:`${Ze.td} ${Ze.amountCell}`,children:p.amount}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(_=p.gold)!=null?_:""}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(S=p.xp)!=null?S:""}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(C=p.hp)!=null?C:""}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(E=p.totalRes)!=null?E:""}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(F=p.singleRes)!=null?F:""}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(k=p.elemDmg)!=null?k:""}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(y=p.itemQuality)!=null?y:""}),t.jsx("td",{className:`${Ze.td} ${Ze.bonusCell}`,children:(w=p.epics)!=null?w:""}),t.jsxs("td",{className:`${Ze.td} ${Ze.tags}`,children:[x&&t.jsx("span",{className:`${Ze.badge} ${Ze.badgeMax}`,children:"MAX"}),rie(p.note)&&t.jsx("span",{className:`${Ze.badge} ${Ze.badgeAchiev}`,children:"Achievement"}),b==="x2"&&t.jsx("span",{className:`${Ze.badge} ${Ze.badgeX2}`,children:"x2"}),b==="x12"&&t.jsx("span",{className:`${Ze.badge} ${Ze.badgeX12}`,children:"x12"}),b==="x60"&&t.jsx("span",{className:`${Ze.badge} ${Ze.badgeX60}`,children:"x60"}),b==="x8"&&t.jsx("span",{className:Ze.badge,children:"x8"})]})]},`${c}-${g}`)})})})]})})]})}const cie="_wrap_zrza7_11",die="_headerBar_zrza7_15",uie="_title_zrza7_31",hie="_meta_zrza7_33",pie="_centerCol_zrza7_37",mie="_text_zrza7_53",gie="_imageBox_zrza7_55",fie="_imageFallback_zrza7_57",vie="_credit_zrza7_59",Wa={wrap:cie,headerBar:die,title:uie,meta:hie,centerCol:pie,text:mie,imageBox:gie,imageFallback:fie,credit:vie};function xie(){const s=Rv("ambuildorder"),e=I.useMemo(()=>s.id?`https://drive.google.com/thumbnail?id=${s.id}&sz=w1024`:null,[s.id]),n=I.useMemo(()=>s.id?`https://drive.google.com/uc?export=view&id=${s.id}`:null,[s.id]),r=s.thumb||null,i=e||n||r;return t.jsxs("div",{className:Wa.wrap,children:[t.jsxs("div",{className:Wa.headerBar,children:[t.jsx("h2",{className:Wa.title,children:"Arena Manager  Build Order"}),t.jsx("span",{className:Wa.meta,children:"Last updated: 30.11.2024"})]}),t.jsxs("div",{className:Wa.centerCol,children:[t.jsxs("div",{className:Wa.text,children:[t.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),t.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",t.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?t.jsx("div",{className:Wa.imageBox,children:t.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):t.jsx("div",{className:Wa.imageFallback,children:""}),t.jsxs("p",{className:Wa.credit,children:["Credit to ",t.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const yie=()=>t.jsx(Hs,{title:"Hellevator Guide"}),bie=()=>t.jsx(Hs,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),_ie=()=>t.jsx(Hs,{title:"Event List"}),wie=()=>t.jsx(Hs,{title:"Event Cycle"}),jie="_foCalc_18a5w_3",Sie="_panel_18a5w_211",Nie="_panelHead_18a5w_227",kie="_panelTitle_18a5w_241",Cie="_controls_18a5w_243",Tie="_ctrlLabel_18a5w_245",Iie="_ctrlSelect_18a5w_249",Aie="_tableWrap_18a5w_291",Eie="_table_18a5w_291",Pie="_th_18a5w_305",Rie="_td_18a5w_321",Lie="_row_18a5w_333",Die="_note_18a5w_335",Ks={foCalc:jie,panel:Sie,panelHead:Nie,panelTitle:kie,controls:Cie,ctrlLabel:Tie,ctrlSelect:Iie,tableWrap:Aie,table:Eie,th:Pie,td:Rie,row:Lie,note:Die},WA={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},an=(s,e=0)=>s*3600+e*60,ae=[an(0,15),an(0,31),an(1,6),an(2,20),an(5,0),an(8,0),an(11,25),an(18,27),an(40,0),an(87,16),an(190,46),an(320,0),an(480,0),an(615,33),an(800,0)],rs=[an(1054,17),an(1122,51),an(1245,42),an(1343,20),an(1440,0)],Mie={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:ae[0]},{level:2,wood:150,stone:50,gold:20,timeSec:ae[1]},{level:3,wood:440,stone:140,gold:30,timeSec:ae[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:ae[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:ae[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:ae[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:ae[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:ae[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:ae[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:ae[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:ae[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:ae[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:ae[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:ae[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:ae[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:rs[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:rs[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:rs[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:rs[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:rs[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:ae[0]},{level:2,wood:138,stone:46,gold:10,timeSec:ae[1]},{level:3,wood:406,stone:129,gold:15,timeSec:ae[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:ae[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:ae[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:ae[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:ae[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:ae[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:ae[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:ae[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:ae[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:ae[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:ae[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:ae[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:ae[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:ae[0]},{level:2,wood:28,stone:37,gold:14,timeSec:ae[1]},{level:3,wood:81,stone:103,gold:21,timeSec:ae[2]},{level:4,wood:203,stone:246,gold:28,timeSec:ae[3]},{level:5,wood:462,stone:591,gold:35,timeSec:ae[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:ae[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:ae[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:ae[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:ae[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:ae[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:ae[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:ae[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:ae[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:ae[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:ae[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:rs[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:rs[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:rs[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:rs[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:rs[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:ae[0]},{level:2,wood:160,stone:53,gold:50,timeSec:ae[1]},{level:3,wood:469,stone:149,gold:75,timeSec:ae[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:ae[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:ae[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:ae[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:ae[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:ae[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:ae[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:ae[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:ae[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:ae[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:ae[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:ae[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:ae[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:ae[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:ae[0]},{level:2,wood:200,stone:67,gold:30,timeSec:ae[1]},{level:3,wood:587,stone:187,gold:45,timeSec:ae[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:ae[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:ae[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:ae[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:ae[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:ae[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:ae[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:ae[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:ae[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:ae[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:ae[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:ae[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:ae[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:rs[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:rs[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:rs[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:rs[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:rs[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:an(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:ae[0]},{level:2,wood:30,stone:20,gold:4,timeSec:ae[1]},{level:3,wood:88,stone:56,gold:6,timeSec:ae[2]},{level:4,wood:220,stone:133,gold:8,timeSec:ae[3]},{level:5,wood:500,stone:320,gold:10,timeSec:ae[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:ae[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:ae[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:ae[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:ae[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:ae[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:ae[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:ae[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:ae[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:ae[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:ae[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:rs[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:rs[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:rs[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:rs[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:rs[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:ae[0]},{level:2,wood:90,stone:16,gold:6,timeSec:ae[1]},{level:3,wood:264,stone:45,gold:9,timeSec:ae[2]},{level:4,wood:660,stone:107,gold:12,timeSec:ae[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:ae[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:ae[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:ae[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:ae[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:ae[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:ae[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:ae[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:ae[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:ae[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:ae[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:ae[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:rs[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:rs[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:rs[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:rs[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:rs[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:ae[0]},{level:2,wood:82,stone:55,gold:8,timeSec:ae[1]},{level:3,wood:240,stone:153,gold:12,timeSec:ae[2]},{level:4,wood:600,stone:364,gold:16,timeSec:ae[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:ae[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:ae[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:ae[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:ae[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:ae[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:ae[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:ae[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:ae[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:ae[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:ae[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:ae[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:ae[0]},{level:2,wood:100,stone:33,gold:8,timeSec:ae[1]},{level:3,wood:293,stone:93,gold:12,timeSec:ae[2]},{level:4,wood:733,stone:222,gold:16,timeSec:ae[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:ae[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:ae[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:ae[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:ae[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:ae[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:ae[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:ae[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:ae[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:ae[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:ae[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:ae[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:rs[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:rs[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:rs[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:rs[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:rs[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:ae[0]},{level:2,wood:240,stone:61,gold:12,timeSec:ae[1]},{level:3,wood:675,stone:205,gold:18,timeSec:ae[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:ae[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:ae[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:ae[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:ae[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:ae[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:ae[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:ae[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:ae[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:ae[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:ae[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:ae[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:ae[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:ae[0]},{level:2,wood:164,stone:27,gold:10,timeSec:ae[1]},{level:3,wood:480,stone:76,gold:15,timeSec:ae[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:ae[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:ae[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:ae[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:ae[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:ae[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:ae[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:ae[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:ae[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:ae[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:ae[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:ae[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:ae[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:ae[0]},{level:2,wood:120,stone:53,gold:30,timeSec:ae[1]},{level:3,wood:352,stone:149,gold:45,timeSec:ae[2]},{level:4,wood:880,stone:356,gold:60,timeSec:ae[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:ae[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:ae[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:ae[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:ae[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:ae[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:ae[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:ae[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:ae[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:ae[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:ae[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:ae[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:rs[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:rs[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:rs[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:rs[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:rs[4]}]}},Fie=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],Bie="fortress",$ie={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function Oie(s){return s<=0?0:s>=15?.75:+(s*.05).toFixed(2)}function oC(s){const e=Math.max(0,Math.round(s)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,a=l=>l.toString().padStart(2,"0");return`${a(n)}:${a(r)}:${a(i)}`}const Vie=()=>{const[s,e]=I.useState(Bie),[n,r]=I.useState(1),i=I.useMemo(()=>{var p;const c=$ie[s],u=WA[c],h=(p=u==null?void 0:u.id)!=null?p:u;return Cc.gifProxy(h)||Cc.gif(h)||""},[s]),a=I.useMemo(()=>{var c,u;return(u=(c=Mie[s])==null?void 0:c.costs)!=null?u:[]},[s]),l=I.useMemo(()=>Oie(n),[n]);return t.jsxs("div",{className:`${Ks.foCalc}`,children:[t.jsxs("div",{className:"tabs",children:[t.jsx("span",{className:"tabSelectLabel",children:"Select building"}),t.jsx("select",{className:"tabSelect",value:s,onChange:c=>e(c.target.value),children:Fie.map(c=>t.jsx("option",{value:c.key,children:c.label},c.key))})]}),t.jsxs("div",{className:"mediaRow",children:[t.jsx("div",{className:"media",children:i?t.jsx("img",{src:i,alt:s}):null}),t.jsxs("div",{className:Ks.panel,children:[t.jsxs("div",{className:Ks.panelHead,children:[t.jsxs("div",{className:Ks.panelTitle,children:["Fortress  ",s]}),t.jsxs("div",{className:Ks.controls,children:[t.jsx("span",{className:Ks.ctrlLabel,children:"L2 (Laborers)"}),t.jsx("select",{className:Ks.ctrlSelect,value:n,onChange:c=>r(parseInt(c.target.value,10)),children:Array.from({length:16},(c,u)=>u).map(c=>t.jsx("option",{value:c,children:c},c))})]})]}),t.jsx("div",{className:Ks.tableWrap,children:t.jsxs("table",{className:Ks.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:Ks.th,children:"Level"}),t.jsx("th",{className:Ks.th,children:"Wood"}),t.jsx("th",{className:Ks.th,children:"Stone"}),t.jsx("th",{className:Ks.th,children:"Build Time"}),t.jsx("th",{className:Ks.th,children:"Build Time (L2)"}),t.jsx("th",{className:Ks.th,children:"Skip (Mushr.)"})]})}),t.jsx("tbody",{children:a.map(c=>{var g,x,b,_,S,C,E;const u=(g=c.timeSec)!=null?g:0,h=Math.round(u*(1-l)),p=Math.ceil(Math.ceil(h/60)/10);return t.jsxs("tr",{className:Ks.row,children:[t.jsx("td",{className:Ks.td,children:c.level}),t.jsx("td",{className:Ks.td,children:(_=(b=(x=c.wood)==null?void 0:x.toLocaleString)==null?void 0:b.call(x))!=null?_:c.wood}),t.jsx("td",{className:Ks.td,children:(E=(C=(S=c.stone)==null?void 0:S.toLocaleString)==null?void 0:C.call(S))!=null?E:c.stone}),t.jsx("td",{className:Ks.td,children:oC(u)}),t.jsx("td",{className:Ks.td,children:oC(h)}),t.jsx("td",{className:Ks.td,children:p.toLocaleString()})]},c.level)})})]})}),t.jsx("div",{className:Ks.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},Uie="_uwCalc_64lws_3",zie="_panel_64lws_211",Hie="_panelHead_64lws_227",Gie="_panelTitle_64lws_241",Wie="_controls_64lws_243",qie="_ctrlLabel_64lws_245",Kie="_ctrlSelect_64lws_251",Qie="_tableWrap_64lws_295",Xie="_table_64lws_295",Yie="_th_64lws_309",Jie="_td_64lws_325",Zie="_row_64lws_337",eae="_note_64lws_339",Fs={uwCalc:Uie,panel:zie,panelHead:Hie,panelTitle:Gie,controls:Wie,ctrlLabel:qie,ctrlSelect:Kie,tableWrap:Qie,table:Xie,th:Yie,td:Jie,row:Zie,note:eae},tae={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},sae={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function nae(s){return Math.max(0,Math.min(15,Math.round(s)))*.05}function rae(s){const e=Math.max(0,s),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60;return{h:r,m:i,s:a}}function lC(s){const{h:e,m:n,s:r}=rae(s),i=a=>String(a).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function iae(s,e){var i,a;const n=nae(e);return((a=(i=sae[s])==null?void 0:i.costs)!=null?a:[]).map(l=>{const c=l.timeSec*(1-n),u=Math.ceil(Math.ceil(c/60)/10);return{...l,timeAdjSec:c,skipMushroomsAdj:u}})}const aae=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],oae=()=>{const[s,e]=I.useState("hearthofdarkngif"),[n,r]=I.useState(1),i=I.useMemo(()=>{var h;const c=WA[s],u=(h=c==null?void 0:c.id)!=null?h:c;return Cc.gifProxy(u)||Cc.gif(u)||""},[s]),a=I.useMemo(()=>{var c;return(c=tae[s])!=null?c:"hearthofdarkn"},[s]),l=I.useMemo(()=>iae(a,n),[a,n]);return t.jsxs("div",{className:Fs.uwCalc,children:[t.jsxs("div",{className:"tabs",children:[t.jsx("span",{className:"tabSelectLabel",children:"Select building"}),t.jsx("select",{className:"tabSelect",value:s,onChange:c=>e(c.target.value),children:aae.map(c=>t.jsx("option",{value:c,children:c.replace(/gif$/i,"")},c))})]}),t.jsxs("div",{className:"mediaRow",children:[t.jsx("div",{className:"media",children:i?t.jsx("img",{src:i,alt:s}):null}),t.jsxs("div",{className:Fs.panel,children:[t.jsxs("div",{className:Fs.panelHead,children:[t.jsxs("div",{className:Fs.panelTitle,children:["Underworld  ",a]}),t.jsxs("div",{className:Fs.controls,children:[t.jsx("label",{htmlFor:"uw-l2",className:Fs.ctrlLabel,children:"L2 (Laborers)"}),t.jsx("select",{id:"uw-l2",className:Fs.ctrlSelect,value:n,onChange:c=>r(parseInt(c.target.value,10)),children:Array.from({length:15},(c,u)=>u+1).map(c=>t.jsx("option",{value:c,children:c},c))})]})]}),t.jsx("div",{className:Fs.tableWrap,children:t.jsxs("table",{className:Fs.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:Fs.th,children:"Level"}),t.jsx("th",{className:Fs.th,children:"Soul"}),t.jsx("th",{className:Fs.th,children:"Gold"}),t.jsx("th",{className:Fs.th,children:"Build Time"}),t.jsx("th",{className:Fs.th,children:"Build Time (L2)"}),t.jsx("th",{className:Fs.th,children:"Skip (Mushr.)"})]})}),t.jsx("tbody",{children:l.length===0?t.jsx("tr",{className:Fs.row,children:t.jsx("td",{className:Fs.td,colSpan:6,children:"No data for this building yet."})}):l.map(c=>t.jsxs("tr",{className:Fs.row,children:[t.jsx("td",{className:Fs.td,children:c.level}),t.jsx("td",{className:Fs.td,children:c.soul}),t.jsx("td",{className:Fs.td,children:c.gold}),t.jsx("td",{className:Fs.td,children:lC(c.timeSec)}),t.jsx("td",{className:Fs.td,children:lC(c.timeAdjSec)}),t.jsx("td",{className:Fs.td,children:c.skipMushroomsAdj})]},c.level))})]})}),t.jsx("p",{className:Fs.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},lae=()=>t.jsx(Hs,{title:"Max Item Stats Calculator"}),cae="_wrap_mnr0g_1",dae="_card_mnr0g_13",uae="_title_mnr0g_33",hae="_form_mnr0g_45",pae="_field_mnr0g_57",mae="_input_mnr0g_71",gae="_gemsRow_mnr0g_87",fae="_gemBox_mnr0g_101",vae="_disabled_mnr0g_127",xae="_gemImg_mnr0g_135",yae="_gemFallback_mnr0g_149",bae="_normalGem_mnr0g_165",_ae="_blackGem_mnr0g_173",wae="_legendaryGem_mnr0g_181",jae="_gemLabel_mnr0g_189",Sae="_gemValue_mnr0g_199",Nae="_hint_mnr0g_211",ms={wrap:cae,card:dae,title:uae,form:hae,field:pae,input:mae,gemsRow:gae,gemBox:fae,disabled:vae,gemImg:xae,gemFallback:yae,normalGem:bae,blackGem:_ae,legendaryGem:wae,gemLabel:jae,gemValue:Sae,hint:Nae},kae={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},Cae=.25,Mf=s=>Math.round(Number.isFinite(s)?s:0);function Tae(s){const e=Number(s.charLevel),n=Number(s.mineLevel),r=Number(s.guildHoK);if(n<25){const C=e*Cae*(1+(n-1)*.25)+r/3;return Mf(C)}const{A:i,B:a,C:l,D:c,E:u,F:h,G:p,H:g,I:x,J:b}=kae,S=i+a*e+l/n+c*e**2+u/n**2+h*e/n+p*e**3+g/n**3+x*e/n**2+b*e**2/n+r/3;return Mf(S)}function Iae(s){return Mf(s*(2/3))}function Aae(s){return Mf(s)}const g0={char:1e3,mine:100,hok:1e3},qA=({initialState:s,onStateChange:e})=>{var S,C,E;const[n,r]=I.useState((S=s==null?void 0:s.charLevel)!=null?S:""),[i,a]=I.useState((C=s==null?void 0:s.mineLevel)!=null?C:""),[l,c]=I.useState((E=s==null?void 0:s.guildHoKLevel)!=null?E:""),u=(F,k,y)=>{e&&(typeof F!="number"||typeof k!="number"||typeof y!="number"||e({charLevel:F,mineLevel:k,guildHoKLevel:y}))},h=I.useMemo(()=>n===""||i===""||l===""?null:Tae({charLevel:Number(n),mineLevel:Number(i),guildHoK:Number(l)}),[n,i,l]),p=I.useMemo(()=>h==null?null:Iae(h),[h]),g=I.useMemo(()=>h==null?null:Aae(h),[h]),x=bc("luckbig"),b=bc("blackbig"),_=bc("legendarybig");return t.jsx("div",{className:ms.wrap,children:t.jsxs("div",{className:ms.card,children:[t.jsx("h2",{className:ms.title,children:"Gem Calculator"}),t.jsxs("div",{className:ms.form,children:[t.jsxs("label",{className:ms.field,children:[t.jsx("span",{children:"Char Level"}),t.jsx("input",{type:"number",inputMode:"numeric",className:ms.input,placeholder:"e.g., 360",value:n,onChange:F=>{const k=F.currentTarget.value;if(k===""){r("");return}const y=Number(k),w=Number.isFinite(y)?y:"";r(w),u(w,i,l)},max:g0.char})]}),t.jsxs("label",{className:ms.field,children:[t.jsx("span",{children:"Mine Level"}),t.jsx("input",{type:"number",inputMode:"numeric",className:ms.input,placeholder:"e.g., 10",value:i,onChange:F=>{const k=F.currentTarget.value;if(k===""){a("");return}const y=Number(k),w=Number.isFinite(y)?y:"";a(w),u(n,w,l)},max:g0.mine})]}),t.jsxs("label",{className:ms.field,children:[t.jsx("span",{children:"Guild HoK"}),t.jsx("input",{type:"number",inputMode:"numeric",className:ms.input,placeholder:"e.g., 840",value:l,onChange:F=>{const k=F.currentTarget.value;if(k===""){c("");return}const y=Number(k),w=Number.isFinite(y)?y:"";c(w),u(n,i,w)},max:g0.hok})]})]}),t.jsxs("div",{className:ms.gemsRow,children:[t.jsxs("div",{className:`${ms.gemBox} ${h==null?ms.disabled:""}`,children:[x?t.jsx("img",{className:ms.gemImg,src:x,alt:"Normal Gem"}):t.jsx("div",{className:`${ms.gemFallback} ${ms.normalGem}`}),t.jsx("div",{className:ms.gemLabel,children:"Normal"}),t.jsx("div",{className:ms.gemValue,children:h!=null?h:"-"})]}),t.jsxs("div",{className:`${ms.gemBox} ${p==null?ms.disabled:""}`,children:[b?t.jsx("img",{className:ms.gemImg,src:b,alt:"Black Gem"}):t.jsx("div",{className:`${ms.gemFallback} ${ms.blackGem}`}),t.jsx("div",{className:ms.gemLabel,children:"Black"}),t.jsx("div",{className:ms.gemValue,children:p!=null?p:"-"})]}),t.jsxs("div",{className:`${ms.gemBox} ${g==null?ms.disabled:""}`,children:[_?t.jsx("img",{className:ms.gemImg,src:_,alt:"Legendary Gem"}):t.jsx("div",{className:`${ms.gemFallback} ${ms.legendaryGem}`}),t.jsx("div",{className:ms.gemLabel,children:"Legendary"}),t.jsx("div",{className:ms.gemValue,children:g!=null?g:"-"})]})]}),t.jsxs("p",{className:ms.hint,children:["The values are approximations and represent the ",t.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},Eae="_container_19zdf_1",Pae="_headerBar_19zdf_13",Rae="_title_19zdf_31",Lae="_meta_19zdf_47",Dae="_description_19zdf_59",ch={container:Eae,headerBar:Pae,title:Rae,meta:Lae,description:Dae},KA=({title:s,meta:e,description:n})=>t.jsxs("header",{className:ch.container,children:[t.jsxs("div",{className:ch.headerBar,children:[t.jsx("h2",{className:ch.title,children:s}),e&&t.jsx("span",{className:ch.meta,children:e})]}),n&&t.jsx("p",{className:ch.description,children:n})]}),Mae=()=>t.jsxs(t.Fragment,{children:[t.jsx(KA,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:t.jsxs(t.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",t.jsx("em",{children:"max possible"})," you can find."]})}),t.jsx(qA,{})]}),Fae="_wrapper_67xyv_1",Bae="_panel_67xyv_11",$ae="_header_67xyv_27",Oae="_title_67xyv_41",Vae="_resetBtn_67xyv_53",Uae="_table_67xyv_73",zae="_row_67xyv_99",Hae="_name_67xyv_115",Gae="_selectCell_67xyv_125",Wae="_sumCell_67xyv_143",qae="_footer_67xyv_155",Kae="_footerLine_67xyv_175",Qae="_note_67xyv_187",on={wrapper:Fae,panel:Bae,header:$ae,title:Oae,resetBtn:Vae,table:Uae,row:zae,name:Hae,selectCell:Gae,sumCell:Wae,footer:qae,footerLine:Kae,note:Qae};function $h(s,e,n){var l;if(!Array.isArray(s)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let a=0;for(let c=r;c<=i;c++)a+=(l=s[c])!=null?l:0;return a}function Xae(s){const e=[0];for(let n=1;n<=s;n++)e.push(n);return e}function Vt(s,e){const n=[0,...s.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const Yae=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:Vt([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:Vt([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:Vt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:Vt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:Vt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:Vt([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:Vt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:Vt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:Vt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)}],Jae=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:Vt([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:Vt([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:Vt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:Vt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:Vt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:Vt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:Vt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:Vt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:Vt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:Vt([0,0,0,0,0,0,0,0,0,0],10)}],cC=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],Zae=(()=>{const s=[0,...cC],e=1e3-cC.length;for(let n=0;n<e;n++)s.push(3e7);return s})(),eoe=Vt([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),toe=(()=>{const s=new Array(1001).fill(3e7);return s[0]=0,s})(),Za={light:Yae.map(s=>({key:s.key,name:s.name,minLevel:1,maxLevel:10,levels:s.levels})),shadow:Jae.map(s=>({key:s.key,name:s.name,minLevel:1,maxLevel:10,levels:s.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:Zae,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:eoe,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:toe,specialType:"sandstorm"}]},Ff=s=>s.toLocaleString("en-US");function dC(){const s={},e={},n={};return Za.light.forEach(r=>s[r.key]={from:0,to:0}),Za.shadow.forEach(r=>e[r.key]={from:0,to:0}),Za.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:s,shadow:e,special:n}}function QA({row:s,range:e,onChange:n}){var c,u;const r=I.useMemo(()=>Xae(s.maxLevel),[s.maxLevel]),i=(c=e.from)!=null?c:0,a=(u=e.to)!=null?u:0,l=I.useMemo(()=>i===0||a===0?0:$h(s.levels,i,a),[s.levels,i,a]);return t.jsxs("tr",{className:on.row,children:[t.jsx("td",{className:on.name,children:s.name}),t.jsx("td",{className:on.selectCell,children:t.jsx("select",{value:i,onChange:h=>n({from:Number(h.target.value),to:a}),children:r.map(h=>t.jsx("option",{value:h,children:h===0?"":h},h))})}),t.jsx("td",{className:on.selectCell,children:t.jsx("select",{value:a,onChange:h=>n({from:i,to:Number(h.target.value)}),children:r.map(h=>t.jsx("option",{value:h,children:h===0?"":h},h))})}),t.jsxs("td",{className:on.sumCell,children:[Ff(l)," XP"]})]})}function uC({title:s,rows:e,ranges:n,setRanges:r}){const i=I.useMemo(()=>e.reduce((a,l)=>{const c=n[l.key]||{from:0,to:0};return a+$h(l.levels,c.from,c.to)},0),[e,n]);return t.jsxs("div",{className:on.panel,children:[t.jsx("div",{className:on.header,children:t.jsx("div",{className:on.title,children:s})}),t.jsxs("table",{className:on.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Dungeon"}),t.jsx("th",{children:"From"}),t.jsx("th",{children:"To"}),t.jsx("th",{children:"Sum XP"})]})}),t.jsx("tbody",{children:e.map(a=>{var l;return t.jsx(QA,{row:a,range:(l=n[a.key])!=null?l:{from:0,to:0},onChange:c=>r(a.key,c)},a.key)})})]}),t.jsx("div",{className:on.footer,children:t.jsxs("div",{className:on.footerLine,children:[t.jsxs("span",{children:["Sum Total ",s]}),t.jsxs("span",{children:[Ff(i)," XP"]})]})})]})}function XA({initialState:s,onStateChange:e}){var F,k,y;const n=I.useMemo(()=>dC(),[]),[r,i]=I.useState((F=s==null?void 0:s.light)!=null?F:n.light),[a,l]=I.useState((k=s==null?void 0:s.shadow)!=null?k:n.shadow),[c,u]=I.useState((y=s==null?void 0:s.special)!=null?y:n.special),h=(w,P,T)=>{e&&e({light:w,shadow:P,special:T})},p=(w,P)=>{i(T=>{const N={...T,[w]:P};return h(N,a,c),N})},g=(w,P)=>{l(T=>{const N={...T,[w]:P};return h(r,N,c),N})},x=(w,P)=>{u(T=>{const N={...T,[w]:P};return h(r,a,N),N})};I.useEffect(()=>{var w,P,T;if(s){i((w=s.light)!=null?w:n.light),l((P=s.shadow)!=null?P:n.shadow),u((T=s.special)!=null?T:n.special);return}i(n.light),l(n.shadow),u(n.special)},[s,n]);const b=I.useMemo(()=>Za.light.reduce((w,P)=>{const T=r[P.key];return w+(T?$h(P.levels,T.from,T.to):0)},0),[r]),_=I.useMemo(()=>Za.shadow.reduce((w,P)=>{const T=a[P.key];return w+(T?$h(P.levels,T.from,T.to):0)},0),[a]),S=I.useMemo(()=>Za.special.reduce((w,P)=>{const T=c[P.key];return w+(T?$h(P.levels,T.from,T.to):0)},0),[c]),C=b+_+S,E=()=>{const w=dC();i(w.light),l(w.shadow),u(w.special),h(w.light,w.shadow,w.special)};return t.jsxs("div",{className:on.wrapper,children:[t.jsx(uC,{title:"Light World",rows:Za.light,ranges:r,setRanges:p}),t.jsx(uC,{title:"Shadow World",rows:Za.shadow,ranges:a,setRanges:g}),t.jsxs("div",{className:on.panel,children:[t.jsxs("div",{className:on.header,children:[t.jsx("div",{className:on.title,children:"Special Dungeons"}),t.jsx("button",{className:on.resetBtn,onClick:E,children:"RESET"})]}),t.jsxs("table",{className:on.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Dungeon"}),t.jsx("th",{children:"From"}),t.jsx("th",{children:"To"}),t.jsx("th",{children:"Sum"})]})}),t.jsx("tbody",{children:Za.special.map(w=>{var P;return t.jsx(QA,{row:w,range:(P=c[w.key])!=null?P:{from:0,to:0},onChange:T=>x(w.key,T)},w.key)})})]}),t.jsxs("div",{className:on.footer,children:[t.jsxs("div",{className:on.footerLine,children:[t.jsx("span",{children:"Sum Total Special"}),t.jsxs("span",{children:[Ff(S)," XP"]})]}),t.jsxs("div",{className:on.footerLine,children:[t.jsx("span",{children:"Total XP"}),t.jsxs("span",{children:[Ff(C)," XP"]})]}),t.jsxs("div",{className:on.note,children:["Flle die XP-Arrays in ",t.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function soe(){return t.jsx("div",{style:{padding:12},children:t.jsx(XA,{})})}const noe=()=>t.jsx(Hs,{title:"Progression  Early Game"}),roe="_wrap_n2poq_31",ioe="_title_n2poq_33",aoe="_infoBox_n2poq_39",ooe="_infoTitle_n2poq_63",loe="_infoList_n2poq_73",coe="_section_n2poq_89",doe="_h2_n2poq_101",uoe="_h3_n2poq_103",hoe="_intro_n2poq_105",poe="_ul_n2poq_107",moe="_img_n2poq_113",Is={wrap:roe,title:ioe,infoBox:aoe,infoTitle:ooe,infoList:loe,section:coe,h2:doe,h3:uoe,intro:hoe,ul:poe,img:moe},goe=()=>{Cl();const s=[bc("first-weekend-guide-day1",900),bc("first-weekend-guide-day2",900),bc("first-weekend-guide-day3",900)];return t.jsxs("div",{className:Is.wrap,children:[t.jsx("h1",{className:Is.title,children:"First Weekend Guide"}),t.jsxs("aside",{className:Is.infoBox,role:"note","aria-label":"Important Level Tips",children:[t.jsx("div",{className:Is.infoTitle,children:"Important Level Tips"}),t.jsxs("ul",{className:Is.infoList,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),t.jsx("p",{className:Is.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),t.jsxs("div",{className:Is.section,children:[t.jsx("h2",{className:Is.h2,children:"Preparation before launch"}),t.jsxs("ul",{className:Is.ul,children:[t.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),t.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),t.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),t.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),t.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),t.jsxs("div",{className:Is.section,children:[t.jsx("h2",{className:Is.h2,children:"Day 1"}),t.jsx("h3",{className:Is.h3,children:"Level 13"}),t.jsxs("ul",{className:Is.ul,children:[t.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),t.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),s[0]&&t.jsx("img",{className:Is.img,src:s[0],alt:"Day 1 overview"})]}),t.jsxs("div",{className:Is.section,children:[t.jsx("h3",{className:Is.h3,children:"Level 410"}),t.jsxs("ul",{className:Is.ul,children:[t.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),t.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),t.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),t.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),t.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),t.jsxs("div",{className:Is.section,children:[t.jsx("h2",{className:Is.h2,children:"Day 2"}),t.jsx("h3",{className:Is.h3,children:"Level 1015"}),t.jsxs("ul",{className:Is.ul,children:[t.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),t.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),t.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),t.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),s[1]&&t.jsx("img",{className:Is.img,src:s[1],alt:"Day 2 overview"})]}),t.jsxs("div",{className:Is.section,children:[t.jsx("h2",{className:Is.h2,children:"Day 3"}),t.jsx("h3",{className:Is.h3,children:"Level 1520"}),t.jsxs("ul",{className:Is.ul,children:[t.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),t.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),s[2]&&t.jsx("img",{className:Is.img,src:s[2],alt:"Day 3 overview"})]})]})},foe=()=>t.jsx(Hs,{title:"Max Item Stats Calculator"}),voe=()=>t.jsx(Hs,{title:"Fortress Package skip order (Early)"}),xoe=()=>t.jsx(Hs,{title:"Underworld Pro Package skip order (Early)"}),yoe=()=>t.jsx(Hs,{title:"Gem Calculator (Early)"}),boe=()=>t.jsx(Hs,{title:"Fortress attack duplication guide (Early)"}),_oe=()=>t.jsx(Hs,{title:"Progression  Mid Game"}),woe="_wrap_1x7jo_31",joe="_header_1x7jo_35",Soe="_titles_1x7jo_55",Noe="_h1_1x7jo_57",koe="_lead_1x7jo_59",Coe="_ctaRow_1x7jo_63",Toe="_cta_1x7jo_63",Ioe="_section_1x7jo_85",Aoe="_sectionGrid_1x7jo_87",Eoe="_card_1x7jo_99",Poe="_h2_1x7jo_103",Roe="_h3_1x7jo_105",Loe="_p_1x7jo_107",Doe="_ul_1x7jo_111",Moe="_ol_1x7jo_111",Foe="_figure_1x7jo_117",Boe="_figureNarrow_1x7jo_139",$oe="_img_1x7jo_149",Ooe="_fallbackImg_1x7jo_151",Voe="_figCaption_1x7jo_159",Uoe="_tableWrap_1x7jo_163",zoe="_table_1x7jo_163",Hoe="_footer_1x7jo_217",Goe="_tools_1x7jo_219",Woe="_toolBtn_1x7jo_221",es={wrap:woe,header:joe,titles:Soe,h1:Noe,lead:koe,ctaRow:Coe,cta:Toe,section:Ioe,sectionGrid:Aoe,card:Eoe,h2:Poe,h3:Roe,p:Loe,ul:Doe,ol:Moe,figure:Foe,figureNarrow:Boe,img:$oe,fallbackImg:Ooe,figCaption:Voe,tableWrap:Uoe,table:zoe,footer:Hoe,tools:Goe,toolBtn:Woe},qoe=1400;function Koe(){const s=I.useMemo(()=>bc("goldxpcurve",qoe),[]);return t.jsxs("div",{className:es.wrap,children:[t.jsxs("header",{className:es.header,children:[t.jsxs("div",{className:es.titles,children:[t.jsx("h1",{className:es.h1,children:"Dungeon Pause"}),t.jsx("p",{className:es.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),t.jsxs("div",{className:es.ctaRow,children:[t.jsx(ws,{className:es.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),t.jsx(ws,{className:es.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),t.jsxs("section",{className:es.section,children:[t.jsx("h2",{className:es.h2,children:"Worum gehts?"}),t.jsxs("p",{className:es.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",t.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",t.jsx("strong",{children:"Level 370"})," und endet um ",t.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),t.jsxs("section",{className:es.section,children:[t.jsx("h3",{className:es.h3,children:"XP & Gold  Verlauf"}),t.jsxs("div",{className:`${es.figure} ${es.figureNarrow}`,children:[s?t.jsx("img",{src:s,alt:"XP/Gold Verlaufskurve",className:es.img}):t.jsx("div",{className:es.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),t.jsx("div",{className:es.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),t.jsxs("section",{className:es.sectionGrid,children:[t.jsxs("div",{className:es.card,children:[t.jsx("h3",{className:es.h3,children:"Start & Ende"}),t.jsxs("ul",{className:es.ul,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",t.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",t.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),t.jsxs("div",{className:es.card,children:[t.jsx("h3",{className:es.h3,children:"Twister & Light/Shadow"}),t.jsxs("ul",{className:es.ul,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Twister:"})," bei ca. ",t.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),t.jsxs("li",{children:["Whrend der Pause weiterhin ",t.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",t.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",t.jsx("em",{children:"Devilsatt"})," &"," ",t.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),t.jsxs("section",{className:es.section,children:[t.jsx("h3",{className:es.h3,children:"Vorgehen"}),t.jsxs("ol",{className:es.ol,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",t.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",t.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",t.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),t.jsxs("section",{className:es.section,children:[t.jsx("h3",{className:es.h3,children:"Kompaktbersicht"}),t.jsx("div",{className:es.tableWrap,children:t.jsxs("table",{className:es.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Aspekt"}),t.jsx("th",{children:"Empfehlung"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Start (Faustregel)"}),t.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Ende (Faustregel)"}),t.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Open XP vor Eintritt"}),t.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Twister"}),t.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Light/Shadow"}),t.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Whrend der Pause"}),t.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Pets"}),t.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Optimaler Exit"}),t.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),t.jsx("footer",{className:es.footer,children:t.jsxs("div",{className:es.tools,children:[t.jsx(ws,{className:es.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),t.jsx(ws,{className:es.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const Qoe=()=>t.jsx(Hs,{title:"Dungeon Pause open XP Calculator"}),Xoe="_wrap_1uhww_3",Yoe="_headerBar_1uhww_15",Joe="_title_1uhww_33",Zoe="_meta_1uhww_45",ele="_description_1uhww_55",tle="_section_1uhww_69",sle="_sectionTitle_1uhww_77",nle="_steps_1uhww_87",ha={wrap:Xoe,headerBar:Yoe,title:Joe,meta:Zoe,description:ele,section:tle,sectionTitle:sle,steps:nle};function rle(){return t.jsxs("div",{className:ha.wrap,children:[t.jsxs("div",{className:ha.headerBar,children:[t.jsx("h2",{className:ha.title,children:"Dungeon Pause Exit"}),t.jsx("span",{className:ha.meta,children:"Last updated: 28.03.2025"})]}),t.jsx("p",{className:ha.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),t.jsxs("section",{className:ha.section,children:[t.jsx("h3",{className:ha.sectionTitle,children:"Sequence for the Exit"}),t.jsxs("ol",{className:ha.steps,children:[t.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),t.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),t.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),t.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),t.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),t.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),t.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),t.jsxs("section",{className:ha.section,children:[t.jsx("h3",{className:ha.sectionTitle,children:"Extra Tip"}),t.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const ile=()=>t.jsx(Hs,{title:"Gem Calculator (Mid)"}),ale=()=>t.jsx(Hs,{title:"Calendar Skip"}),ole=()=>t.jsx(Hs,{title:"Progression  Late Game"}),lle="_layout_13sgm_29",cle="_side_13sgm_49",dle="_sideHead_13sgm_61",ule="_search_13sgm_71",hle="_spotBtn_13sgm_89",ple="_sideList_13sgm_109",mle="_sideItem_13sgm_111",gle="_active_13sgm_119",fle="_sideTitle_13sgm_121",vle="_ico_13sgm_123",xle="_badge_13sgm_125",yle="_detail_13sgm_139",ble="_detailInner_13sgm_141",_le="_detailHead_13sgm_143",wle="_detailTitle_13sgm_145",jle="_empty_13sgm_147",Sle="_grid_13sgm_151",Nle="_card_13sgm_157",kle="_cardHead_13sgm_175",Cle="_btnGrid_13sgm_177",Tle="_itemBtn_13sgm_179",Ile="_spotWrap_13sgm_203",Ale="_spot_13sgm_89",Ele="_spotHead_13sgm_227",Ple="_spotSearch_13sgm_235",Rle="_spotClose_13sgm_243",Lle="_spotList_13sgm_253",Dle="_spotItem_13sgm_255",Mle="_spotItemEmpty_13sgm_259",Fle="_spotCat_13sgm_261",Ble="_spotLabel_13sgm_263",$le="_mark_13sgm_267",Qt={layout:lle,side:cle,sideHead:dle,search:ule,spotBtn:hle,sideList:ple,sideItem:mle,active:gle,sideTitle:fle,ico:vle,badge:xle,detail:yle,detailInner:ble,detailHead:_le,detailTitle:wle,empty:jle,grid:Sle,card:Nle,cardHead:kle,btnGrid:Cle,itemBtn:Tle,spotWrap:Ile,spot:Ale,spotHead:Ele,spotSearch:Ple,spotClose:Rle,spotList:Lle,spotItem:Dle,spotItemEmpty:Mle,spotCat:Fle,spotLabel:Ble,mark:$le};function Ole(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dh(s,e){if(!e)return s;const n=new RegExp(`(${Ole(e)})`,"ig");return s.replace(n,`<mark class="${Qt.mark}">$1</mark>`)}function hC(s){if(!s||!s.length)return 0;let e=0;for(const n of s)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function Vle(s){const e=[];for(const n of s){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(l=>l.sub2&&l.sub2.length))for(const l of i.sub2)if(l.sub2&&l.sub2.length)for(const c of l.sub2)e.push({full:`${r}  ${i.label}  ${l.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:n.key,subKey:i.key,sub2Key:l.key});else for(const l of i.sub2)e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:n.key,subKey:i.key,sub2Key:l.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function Ule(s,e){var n;return e&&s.some(r=>r.key===e)?e:((n=s==null?void 0:s[0])==null?void 0:n.key)||""}const zle=({categories:s,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=I.useState(()=>{var F;return((F=s==null?void 0:s[0])==null?void 0:F.key)||""}),[a,l]=I.useState(""),[c,u]=I.useState(!1),h=I.useRef(null),p=I.useMemo(()=>{const F=a.trim().toLowerCase();if(!F)return s;const k=y=>y.toLowerCase().includes(F);return s.map(y=>{const w=k(y.label),P=[];for(const T of y.sub||[]){const N=k(T.label);if(T.sub2&&T.sub2.length)if(T.sub2.some(M=>M.sub2&&M.sub2.length)){const M=[];for(const R of T.sub2)if(R.sub2&&R.sub2.length){const B=R.sub2.filter($=>k($.label));B.length&&M.push({...R,sub2:B})}else k(R.label)&&M.push(R);(N||M.length)&&P.push({...T,sub2:M})}else{const M=T.sub2.filter(R=>k(R.label));(N||M.length)&&P.push({...T,sub2:M})}else N&&P.push(T)}return w||P.length?{...y,sub:P.length?P:y.sub}:null}).filter(Boolean)},[s,a]),g=I.useMemo(()=>{const F=p.length?p:s,k=Ule(F,r);return F.find(y=>y.key===k)||F[0]||null},[p,s,r]),x=I.useMemo(()=>Vle(s),[s]),[b,_]=I.useState(""),S=I.useMemo(()=>{const F=b.trim().toLowerCase();return F?x.filter(k=>k.full.toLowerCase().includes(F)):x},[x,b]);I.useEffect(()=>{const F=k=>{const y=k.key.toLowerCase()==="k";(k.metaKey||k.ctrlKey)&&y&&(k.preventDefault(),u(!0),setTimeout(()=>{var w;return(w=h.current)==null?void 0:w.focus()},0)),k.key==="Escape"&&u(!1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[]);const C=I.useRef(null);I.useEffect(()=>{var F;n&&((F=C.current)==null||F.focus())},[n]);const E=()=>{var P;const F=a.trim().toLowerCase(),k=(F?x.find(T=>T.full.toLowerCase().includes(F)):x[0])||null;if(k){e({tab:k.catKey,sub:k.subKey,sub2:k.sub2Key});return}const y=g,w=(P=y==null?void 0:y.sub)==null?void 0:P[0];if(!(!y||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(N=>N.sub2&&N.sub2.length)){const N=w.sub2[0];N.sub2&&N.sub2.length?e({tab:y.key,sub:w.key,sub2:N.sub2[0].key}):e({tab:y.key,sub:w.key,sub2:N.key})}else e({tab:y.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:y.key,sub:w.key})};return t.jsxs("div",{className:Qt.layout,children:[t.jsxs("div",{className:Qt.side,children:[t.jsxs("div",{className:Qt.sideHead,children:[t.jsx("input",{ref:C,className:Qt.search,type:"search",placeholder:"Suche",value:a,onChange:F=>l(F.target.value),onKeyDown:F=>{F.key==="Enter"&&E()}}),t.jsx("button",{className:Qt.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var F;return(F=h.current)==null?void 0:F.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),t.jsx("div",{className:Qt.sideList,children:(p.length?p:s).map(F=>t.jsxs("div",{className:`${Qt.sideItem} ${(g==null?void 0:g.key)===F.key?Qt.active:""}`,onClick:()=>i(F.key),children:[t.jsxs("span",{className:Qt.sideTitle,children:[F.icon?t.jsx("span",{className:Qt.ico,"aria-hidden":!0,children:F.icon}):null,F.label]}),t.jsx("span",{className:Qt.badge,children:hC(F.sub)})]},F.key))})]}),t.jsx("div",{className:Qt.detail,children:g?t.jsxs("div",{className:Qt.detailInner,children:[t.jsxs("div",{className:Qt.detailHead,children:[t.jsxs("h3",{className:Qt.detailTitle,children:[g.icon?t.jsx("span",{className:Qt.ico,"aria-hidden":!0,children:g.icon}):null,g.label]}),t.jsxs("div",{className:Qt.badge,children:[hC(g.sub)," Eintrge"]})]}),t.jsx("div",{className:Qt.grid,children:(g.sub||[]).map(F=>{const k=F.sub2&&F.sub2.length>0,y=k&&F.sub2.some(w=>w.sub2&&w.sub2.length);return t.jsxs("div",{className:Qt.card,children:[t.jsx("div",{className:Qt.cardHead,dangerouslySetInnerHTML:{__html:dh(F.label,a)}}),k?t.jsx("div",{className:Qt.btnGrid,children:y?F.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(P=>t.jsx("button",{className:Qt.itemBtn,onClick:()=>e({tab:g.key,sub:F.key,sub2:P.key}),dangerouslySetInnerHTML:{__html:dh(`${w.label}  ${P.label}`,a)}},`${w.key}__${P.key}`)):[t.jsx("button",{className:Qt.itemBtn,onClick:()=>e({tab:g.key,sub:F.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:dh(w.label,a)}},w.key)]):F.sub2.map(w=>t.jsx("button",{className:Qt.itemBtn,onClick:()=>e({tab:g.key,sub:F.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:dh(w.label,a)}},w.key))}):t.jsx("div",{className:Qt.btnGrid,children:t.jsx("button",{className:Qt.itemBtn,onClick:()=>e({tab:g.key,sub:F.key}),dangerouslySetInnerHTML:{__html:dh(F.label,a)}})})]},F.key)})}),a&&g.sub&&g.sub.length>0&&g.sub.every(F=>!F.sub2||!F.sub2.length?!F.label.toLowerCase().includes(a.trim().toLowerCase()):F.sub2.some(y=>y.sub2&&y.sub2.length)?F.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(w=>!w.label.toLowerCase().includes(a.trim().toLowerCase())):!y.label.toLowerCase().includes(a.trim().toLowerCase())):F.sub2.every(y=>!y.label.toLowerCase().includes(a.trim().toLowerCase())))?t.jsxs("div",{className:Qt.empty,children:["Keine Treffer in ",g.label,"."]}):null]}):t.jsx("div",{className:Qt.empty,children:"Keine Kategorie gefunden."})}),c&&t.jsx("div",{className:Qt.spotWrap,onClick:()=>u(!1),children:t.jsxs("div",{className:Qt.spot,onClick:F=>F.stopPropagation(),children:[t.jsxs("div",{className:Qt.spotHead,children:[t.jsx("input",{ref:h,className:Qt.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:b,onChange:F=>_(F.target.value)}),t.jsx("button",{className:Qt.spotClose,onClick:()=>u(!1),children:"Esc"})]}),t.jsx("div",{className:Qt.spotList,children:S.length===0?t.jsx("div",{className:Qt.spotItemEmpty,children:"Keine Treffer"}):S.map((F,k)=>t.jsxs("div",{className:Qt.spotItem,onClick:()=>{u(!1),e({tab:F.catKey,sub:F.subKey,sub2:F.sub2Key})},children:[t.jsx("div",{className:Qt.spotCat,children:F.catKey}),t.jsx("div",{className:Qt.spotLabel,children:F.full})]},k))})]})})]})},Hle={gamefeatures:Fne,progression:Bne,hellevator:$ne,"legendary-dungeon":One,events:Vne,calculators:ere,infographics:tre,"class-book":sre,dungeons:nre},pC={gamefeatures:{fortress:rre,underworld:yre,arenaam:wre},hellevator:{"hellevator-guide":yie},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":bie},events:{"event-list":_ie,"event-cycle":wie},calculators:{"fortress-calculator":Vie,"underworld-calculator":oae,"max-item-stats-calculator":lae,"gem-calculator":Mae,"dungeon-pause-open-xp-calculator":soe},progression:{early:noe,mid:_oe,late:ole}},f0={gamefeatures:{arenaam:{"am-rune-bonuses":lie,"am-build-order":xie},underworld:{"underworld-calculator":bre,"underworld-pro-package-skip-order":_re},fortress:{"fortress-calculator":ire,"fortress-package-skip-order":vre,"fortress-attack-duplication":xre}},progression:{early:{"first-weekend-guide":goe,"max-item-stats-calculator":foe,"fortress-package-skip-order":voe,"underworld-pro-package-skip-order":xoe,"gem-calculator":yoe,"fortress-attack-duplication":boe},mid:{"dungeon-pause":Koe,"dungeon-pause-open-xp-calculator":Qoe,"dungeon-pause-exit":rle,"gem-calculator":ile,"calendar-skip":ale}}};function Gle(){const[s,e]=Cl(),n=s.get("tab")||"",r=s.get("sub")||"",i=s.get("sub2")||"";let a=null;n?n&&!r?a=Hle[n]||null:n&&r&&!i?a=pC[n]&&pC[n][r]||null:n&&r&&i&&(a=f0[n]&&f0[n][r]&&f0[n][r][i]||null):a=null;const l=c=>{const u=new URLSearchParams(s);u.set("tab",c.tab),c.sub?u.set("sub",c.sub):u.delete("sub"),c.sub2?u.set("sub2",c.sub2):u.delete("sub2"),e(u,{replace:!1})};return t.jsxs(zt,{children:[t.jsx("div",{className:bd.topWrap,children:t.jsx(Ine,{logoSrc:Mne,categories:rC,titleI18nKey:"guides.index.title"})}),t.jsx("div",{className:bd.divider}),t.jsx("div",{className:bd.contentArea,children:a?t.jsx(a,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:bd.placeholder,children:[t.jsx("h2",{className:bd.placeholderTitle,children:"Guides"}),t.jsx("p",{className:bd.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),t.jsx(zle,{categories:rC,onNavigate:l,autoFocusSearch:!1})]})})]})}const Wle="_wrap_1353r_1",qle="_centerLogoWrap_1353r_21",Kle="_centerLogoLink_1353r_37",Qle="_centerLogo_1353r_21",Xle="_arc_1353r_71",Yle="_left_1353r_73",Jle="_right_1353r_75",Zle="_sub_1353r_77",ece="_full_1353r_79",tce="_arcItem_1353r_81",sce="_iconBtn_1353r_87",nce="_active_1353r_141",rce="_iconImg_1353r_151",ice="_placeholderIcon_1353r_155",ace="_placeholderText_1353r_173",oce="_iconLabel_1353r_177",Yn={wrap:Wle,centerLogoWrap:qle,centerLogoLink:Kle,centerLogo:Qle,arc:Xle,left:Yle,right:Jle,sub:Zle,full:ece,arcItem:tce,iconBtn:sce,active:nce,iconImg:rce,placeholderIcon:ice,placeholderText:ace,iconLabel:oce},lce=({to:s,label:e,icon:n,variant:r="main"})=>{const{search:i}=gr();let a=!1;try{const l=new URLSearchParams(i),c=l.get("tab"),u=l.get("sub"),p=new URL(s,window.location.origin).searchParams,g=p.get("tab"),x=p.get("sub");a=r==="sub"?c===g&&!!x&&u===x:c===g}catch(l){a=!1}return t.jsxs(ws,{to:s,"aria-label":e,className:[Yn.iconBtn,r==="sub"?Yn.muted:"",a?Yn.active:""].join(" "),title:e,replace:!1,children:[n?t.jsx("img",{src:n,alt:"",className:Yn.iconImg}):t.jsx("div",{className:Yn.placeholderIcon,"aria-hidden":"true",children:t.jsx("span",{className:Yn.placeholderText,children:e.slice(0,2).toUpperCase()})}),t.jsx("div",{className:Yn.iconLabel,children:e})]})},v0=({items:s,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440})=>{const c=I.useMemo(()=>{const h=s.length;if(h===0)return[];let p=-90,g=90;e==="left"?(p=90,g=270):e==="sub"?n==="left"?(p=90,g=270):(p=-90,g=90):e==="full"&&(p=0,g=360);const x=(g-p)/(h+1),b=r?190:250;return s.map((_,S)=>{const E=(p+x*(S+1))*Math.PI/180;return{it:_,x:Math.cos(E)*b,y:Math.sin(E)*b}})},[s,e,n,r]),u=(()=>{const h={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?h.left=`calc(50% - ${a}px)`:e==="right"?h.left=`calc(50% + ${a}px)`:e==="sub"&&(h.left=n==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`),h})();return t.jsx("div",{className:[Yn.arc,e==="left"?Yn.left:"",e==="right"?Yn.right:"",e==="sub"?Yn.sub:"",e==="full"?Yn.full:""].join(" "),style:u,children:c.map(({it:h,x:p,y:g})=>t.jsx("div",{className:Yn.arcItem,style:{transform:`translate(${p}px, ${g}px)`},children:t.jsx(lce,{to:h.to,label:h.label,icon:h.icon,variant:i})},h.key))})},cce=["creators","scans","predictions","news","records","feedback"],M1=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],dce={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},uce=new Set(cce),hce=M1.reduce((s,e)=>(s[e.key]=e,s),{}),pce=s=>typeof s=="string"&&uce.has(s),mce=({logoSrc:s})=>{const[e]=Cl(),n=e.get("tab")||null,r=I.useMemo(()=>M1.filter(b=>b.side==="left"),[]),i=I.useMemo(()=>M1.filter(b=>b.side==="right"),[]),a=pce(n)?n:null,l=a?dce[a]:[],c=a?hce[a].side:"right",u=I.useRef(null),[h,p]=I.useState(220),[g,x]=I.useState(440);return I.useEffect(()=>{const b=()=>{var k,y;const S=((y=(k=u.current)==null?void 0:k.offsetWidth)!=null?y:380)/2,E=Math.round(S+60),F=Math.round(E+220);p(E),x(F)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),t.jsxs("div",{className:Yn.wrap,children:[t.jsx("div",{className:Yn.centerLogoWrap,children:t.jsx(ws,{to:"/community",className:Yn.centerLogoLink,"aria-label":"Community Hub Home",children:t.jsx("img",{ref:u,src:s,alt:"Community Hub",className:Yn.centerLogo})})}),t.jsx(v0,{items:r.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"left",variant:"main",arcOffset:h}),t.jsx(v0,{items:i.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&t.jsx(v0,{items:l.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},gce="_topWrap_1rivx_1",fce="_divider_1rivx_19",vce="_contentArea_1rivx_53",xce="_placeholder_1rivx_63",yce="_placeholderTitle_1rivx_77",bce="_placeholderText_1rivx_91",_d={topWrap:gce,divider:fce,contentArea:vce,placeholder:xce,placeholderTitle:yce,placeholderText:bce},_ce="/assets/logo_communityhub-LVMLHRD6.png",wce=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function YA(s){return s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function jce(s){if(!s)return new Date().toISOString();const e=s.split(".");if(e.length===3){const[r,i,a]=e.map(l=>parseInt(l,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(a))return new Date(a,i-1,r).toISOString()}const n=new Date(s);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function x0(s){if(!s)return null;const e=s.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function Sce(s){const e=[];return s.code&&e.push(`Creator code: ${s.code}`),s.drops&&e.push(`Drops access: ${s.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function Nce(s){return s.avatar?s.avatar:`/avatars/${YA(s.code||s.name||"creator")}.png`}function kce(s){const e=YA(s.code||s.name||"creator"),n=[],r=x0(s.youtube);r&&n.push({type:"YouTube",url:r});const i=x0(s.twitch);i&&n.push({type:"Twitch",url:i});const a=x0(s.discord);return a&&n.push({type:"Discord",url:a}),{id:`sheet-${e}`,name:s.name,avatar:Nce(s),description:Sce(s),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:s.drops?3:1,lastActive:jce(s.latestActivity),platforms:n}}function Cce(s){var n,r,i;const e=Array.isArray(s)?s:Array.isArray(s==null?void 0:s.data)?s.data:[];return{generatedAt:(n=s==null?void 0:s.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=s==null?void 0:s.warnings)!=null?r:s==null?void 0:s.errors)!=null?i:[],stats:s==null?void 0:s.stats}}function JA(s="/data/creators-live.json"){const[e,n]=I.useState(null),[r,i]=I.useState(""),[a,l]=I.useState(!1),[c,u]=I.useState(0);return I.useEffect(()=>{let h=!1;async function p(){l(!0),i("");try{const g=await fetch(s,{cache:"no-store"});if(!g.ok)throw new Error(`HTTP ${g.status}`);const x=await g.json();h||n(Cce(x))}catch(g){h||(i((g==null?void 0:g.message)||"Failed to load creator snapshot"),n(null))}finally{h||l(!1)}}return p(),()=>{h=!0}},[s,c]),{snapshot:e,error:r,loading:a,refresh:()=>u(h=>h+1)}}const Tce=wce,Ice=Tce.map(kce),Ace=[...Ice];function ZA(s){return s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}k`:String(s)}function ml(s,e,n=ZA){if(s<=0)return"";const r=n(s);return e?`${r} ${e}`:r}function dp(s){const e=new Date(s).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function Ece(s,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(s){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(dp(r.lastActive)-dp(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function Pce(s){const e={width:16,height:16};switch(s){case"YouTube":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[t.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),t.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[t.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),t.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),t.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[t.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),t.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),t.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[t.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),t.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),t.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function mC({c:s}){return t.jsxs("article",{className:"cc-card",children:[t.jsxs("header",{className:"cc-card-head",children:[t.jsx("img",{src:s.avatar,alt:`${s.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),t.jsxs("div",{className:"cc-card-title",children:[t.jsx("h3",{className:"cc-name",children:s.name}),t.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:s.platforms.map(e=>t.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[Pce(e.type),t.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),t.jsx("p",{className:"cc-desc",children:s.description}),t.jsxs("div",{className:"cc-stats",children:[t.jsx("span",{title:"Subscribers",children:ml(s.subscribers,"subs")}),t.jsx("span",{title:"Total views",children:ml(s.totalViews,"views")}),t.jsx("span",{title:"Weekly views",children:ml(s.weeklyViews,"/wk")}),t.jsx("span",{title:"Weekly posts",children:ml(s.weeklyPosts,"posts/wk",e=>`${e}`)})]}),t.jsxs("footer",{className:"cc-meta",children:[t.jsx("span",{className:"cc-badge",children:s.language.toUpperCase()}),t.jsxs("span",{className:"cc-meta-right",children:["active ",dp(s.lastActive),"d ago"]})]})]},s.id)}function Rce({data:s}){return t.jsx("div",{className:"cc-table-wrap",children:t.jsxs("table",{className:"cc-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Lang"}),t.jsx("th",{children:"Subs"}),t.jsx("th",{children:"Total Views"}),t.jsx("th",{children:"Weekly Views"}),t.jsx("th",{children:"Weekly Posts"}),t.jsx("th",{children:"Active"})]})}),t.jsx("tbody",{children:s.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"cc-table-name",children:[t.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),t.jsx("span",{children:e.name})]})}),t.jsx("td",{children:e.language.toUpperCase()}),t.jsx("td",{children:ml(e.subscribers)}),t.jsx("td",{children:ml(e.totalViews)}),t.jsx("td",{children:ml(e.weeklyViews)}),t.jsx("td",{children:ml(e.weeklyPosts,void 0,n=>`${n}`)}),t.jsxs("td",{children:[dp(e.lastActive),"d"]})]},e.id))})]})})}function eE(){var J,le;const[s,e]=I.useState("static"),[n,r]=I.useState("cards"),[i,a]=I.useState("subs"),[l,c]=I.useState("desc"),[u,h]=I.useState("all"),[p,g]=I.useState("all"),[x,b]=I.useState(0),[_,S]=I.useState(365),[C,E]=I.useState(null),[F,k]=I.useState(""),[y,w]=I.useState(!1),[P,T]=I.useState(""),[N,A]=I.useState(null),{snapshot:M,error:R}=JA(),B=(J=M==null?void 0:M.data)!=null&&J.length?M.data:null,$=B!=null?B:Ace,z=s==="static"?$:(le=N!=null?N:B)!=null?le:[],U=I.useMemo(()=>{const oe=new Set(z.map(he=>he.language));return Array.from(oe).sort()},[z]),W=I.useMemo(()=>z.filter(oe=>u==="all"?!0:oe.language===u).filter(oe=>p==="all"?!0:oe.platforms.some(he=>he.type===p)).filter(oe=>oe.subscribers>=x).filter(oe=>dp(oe.lastActive)<=_).slice().sort(Ece(i,l)),[z,u,p,x,_,i,l]);I.useEffect(()=>{if(!C&&W.length){const oe=W[Math.floor(Math.random()*W.length)];E(oe.id)}},[W,C]);const K=I.useMemo(()=>W.find(oe=>oe.id===C)||null,[W,C]),q=I.useMemo(()=>W.slice().sort((oe,he)=>he.weeklyViews-oe.weeklyViews).slice(0,5),[W]),se=I.useMemo(()=>W.slice().sort((oe,he)=>he.weeklyPosts-oe.weeklyPosts).slice(0,5),[W]);async function ne(){T(""),w(!0);try{const oe=await fetch(F,{headers:{Accept:"application/json"}});if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const he=await oe.json(),xe=Array.isArray(he)?he:Array.isArray(he==null?void 0:he.data)?he.data:[];A(xe)}catch(oe){T((oe==null?void 0:oe.message)||"Fetch failed")}finally{w(!1)}}const H=W.length===0;return t.jsxs("section",{className:"cc-wrap",children:[t.jsxs("div",{className:"cc-heading",children:[t.jsx("h1",{children:"Content Creator Hub"}),t.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),M&&t.jsxs("p",{className:"cc-sync",children:[t.jsxs("span",{children:["Live stats synced ",new Date(M.generatedAt).toLocaleString()]}),t.jsxs("span",{children:[M.data.length," profiles"]})]}),R&&t.jsx("p",{className:"cc-sync-error",children:R})]}),t.jsxs("div",{className:"cc-toolbar",children:[t.jsxs("div",{className:"cc-toolbar-row",children:[t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Data"}),t.jsxs("select",{value:s,onChange:oe=>e(oe.target.value),children:[t.jsx("option",{value:"static",children:"Static"}),t.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"View"}),t.jsxs("select",{value:n,onChange:oe=>r(oe.target.value),children:[t.jsx("option",{value:"cards",children:"Cards"}),t.jsx("option",{value:"table",children:"Table"}),t.jsx("option",{value:"json",children:"JSON"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Sort by"}),t.jsxs("select",{value:i,onChange:oe=>a(oe.target.value),children:[t.jsx("option",{value:"subs",children:"Subs"}),t.jsx("option",{value:"views",children:"Views"}),t.jsx("option",{value:"activity",children:"Activity"}),t.jsx("option",{value:"language",children:"Language"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Dir"}),t.jsxs("select",{value:l,onChange:oe=>c(oe.target.value),children:[t.jsx("option",{value:"desc",children:"Desc"}),t.jsx("option",{value:"asc",children:"Asc"})]})]})]}),t.jsxs("div",{className:"cc-toolbar-row",children:[t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Language"}),t.jsxs("select",{value:u,onChange:oe=>h(oe.target.value),children:[t.jsx("option",{value:"all",children:"All"}),U.map(oe=>t.jsx("option",{value:oe,children:oe.toUpperCase()},oe))]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Platform"}),t.jsxs("select",{value:p,onChange:oe=>g(oe.target.value),children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"YouTube",children:"YouTube"}),t.jsx("option",{value:"Twitch",children:"Twitch"}),t.jsx("option",{value:"TikTok",children:"TikTok"}),t.jsx("option",{value:"Discord",children:"Discord"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Min subs"}),t.jsx("input",{type:"number",min:0,value:x,onChange:oe=>b(Number(oe.target.value||0)),placeholder:"0"})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Active within"}),t.jsxs("select",{value:_,onChange:oe=>S(Number(oe.target.value)),children:[t.jsx("option",{value:7,children:"7 days"}),t.jsx("option",{value:30,children:"30 days"}),t.jsx("option",{value:90,children:"90 days"}),t.jsx("option",{value:365,children:"365 days"})]})]})]})]}),s==="dynamic"&&t.jsxs("div",{className:"cc-api",children:[t.jsxs("div",{className:"cc-api-ctrls",children:[t.jsxs("label",{className:"cc-field cc-field-grow",children:[t.jsx("span",{children:"API URL"}),t.jsx("input",{type:"url",value:F,onChange:oe=>k(oe.target.value),placeholder:"https://api.example.com/creators"})]}),t.jsx("button",{className:"cc-btn",onClick:ne,disabled:!F||y,children:y?"Loading":"Fetch"})]}),P&&t.jsx("div",{className:"cc-api-error",children:P}),t.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),K&&t.jsxs("div",{className:"cc-spotlight",children:[t.jsxs("div",{className:"cc-spot-head",children:[t.jsx("h2",{children:"Random CC Spotlight"}),t.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!W.length)return;const oe=W[Math.floor(Math.random()*W.length)];E(oe.id)},children:"Shuffle"})]}),t.jsx(mC,{c:K})]}),t.jsxs("div",{className:"cc-main",children:[t.jsxs("div",{className:"cc-main-left",children:[H&&t.jsxs("div",{className:"cc-empty",children:[t.jsx("h3",{children:"No creators match the filters"}),t.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!H&&n==="cards"&&t.jsx("div",{className:"cc-grid",children:W.map(oe=>t.jsx(mC,{c:oe},oe.id))}),!H&&n==="table"&&t.jsx(Rce,{data:W}),n==="json"&&t.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(W,null,2)})]}),t.jsxs("aside",{className:"cc-main-right",children:[t.jsxs("div",{className:"cc-side",children:[t.jsx("h3",{children:"Weekly Toplists"}),t.jsxs("div",{className:"cc-toplist",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"By Weekly Views"}),t.jsx("ol",{children:q.map(oe=>t.jsxs("li",{children:[t.jsx("span",{children:oe.name}),t.jsx("span",{className:"cc-top-val",children:ZA(oe.weeklyViews)})]},oe.id))})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"By Weekly Posts"}),t.jsx("ol",{children:se.map(oe=>t.jsxs("li",{children:[t.jsx("span",{children:oe.name}),t.jsx("span",{className:"cc-top-val",children:oe.weeklyPosts})]},oe.id))})]})]})]}),t.jsxs("div",{className:"cc-side cc-legal",children:[t.jsx("h3",{children:"Legal & Disclaimer"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Only public data; no embedding without permission."}),t.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),t.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function tE(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  Scans"}),t.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function sE(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  Predictions"}),t.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function nE(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  News"}),t.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function rE(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  Feedback"}),t.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const Lce=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],y0=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],Dce={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},Mce=s=>Dce[s],Fce=(s,e=64)=>{var i;const n=Mce(s),r=Cc(n);return r&&(i=Qr(r,e))!=null?i:null},Bce="_recordsPage_kdw96_1",$ce="_navArea_kdw96_15",Oce="_tabList_kdw96_27",Vce="_tabButton_kdw96_55",Uce="_tabButtonActive_kdw96_101",zce="_sectionContent_kdw96_115",Hce="_placeholderPanel_kdw96_127",Gce="_placeholderTitle_kdw96_143",Wce="_placeholderText_kdw96_157",qce="_milestoneSection_kdw96_171",Kce="_sectionHeader_kdw96_183",Qce="_filterBar_kdw96_197",Xce="_filterButtons_kdw96_231",Yce="_filterButton_kdw96_231",Jce="_filterButtonActive_kdw96_295",Zce="_filterSelectWrapper_kdw96_309",ede="_filterLabel_kdw96_321",tde="_filterSelect_kdw96_309",sde="_emptyFilterMessage_kdw96_355",nde="_currentSection_kdw96_369",rde="_currentGrid_kdw96_381",ide="_currentCard_kdw96_393",ade="_categoryLabel_kdw96_419",ode="_recordTitle_kdw96_433",lde="_currentDetails_kdw96_445",cde="_notes_kdw96_457",dde="_infoPanel_kdw96_469",ude="_infoCard_kdw96_481",hde="_disclaimerCard_kdw96_483",pde="_infoHeader_kdw96_525",mde="_infoAuthor_kdw96_539",gde="_authorName_kdw96_557",fde="_authorBadge_kdw96_565",vde="_infoAuthorIcon_kdw96_591",xde="_infoDate_kdw96_623",yde="_infoBody_kdw96_633",bde="_infoTitle_kdw96_645",_de="_infoLink_kdw96_665",wde="_milestoneGrid_kdw96_719",jde="_milestoneCard_kdw96_731",Sde="_milestoneCategory_kdw96_757",Nde="_milestoneTitle_kdw96_771",kde="_milestoneDetails_kdw96_785",Cde="_detailRow_kdw96_797",Tde="_detailLabel_kdw96_809",Ide="_detailValue_kdw96_823",Ade="_sourceLink_kdw96_833",Ede="_emptyState_kdw96_855",Xe={recordsPage:Bce,navArea:$ce,tabList:Oce,tabButton:Vce,tabButtonActive:Uce,sectionContent:zce,placeholderPanel:Hce,placeholderTitle:Gce,placeholderText:Wce,milestoneSection:qce,sectionHeader:Kce,filterBar:Qce,filterButtons:Xce,filterButton:Yce,filterButtonActive:Jce,filterSelectWrapper:Zce,filterLabel:ede,filterSelect:tde,emptyFilterMessage:sde,currentSection:nde,currentGrid:rde,currentCard:ide,categoryLabel:ade,recordTitle:ode,currentDetails:lde,notes:cde,infoPanel:dde,infoCard:ude,disclaimerCard:hde,infoHeader:pde,infoAuthor:mde,authorName:gde,authorBadge:fde,infoAuthorIcon:vde,infoDate:xde,infoBody:yde,infoTitle:bde,infoLink:_de,milestoneGrid:wde,milestoneCard:jde,milestoneCategory:Sde,milestoneTitle:Nde,milestoneDetails:kde,detailRow:Cde,detailLabel:Tde,detailValue:Ide,sourceLink:Ade,emptyState:Ede},Pde=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],Rde={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},Lde=({title:s,description:e,hint:n})=>t.jsxs("article",{className:Xe.placeholderPanel,children:[t.jsx("h2",{className:Xe.placeholderTitle,children:s}),t.jsx("p",{className:Xe.placeholderText,children:e}),n&&t.jsx("p",{className:Xe.emptyState,children:n})]}),Dde=()=>{const[s,e]=I.useState("all"),n=I.useMemo(()=>{const a=new Set,l=[];for(const c of y0)a.has(c.category)||(a.add(c.category),l.push(c.category));return["all",...l]},[]),r=s==="all"?y0:y0.filter(a=>a.category===s),i=a=>{e(a)};return t.jsxs("section",{className:Xe.milestoneSection,"aria-label":"Records milestones",children:[t.jsxs("div",{className:Xe.sectionHeader,children:[t.jsx("p",{children:"Milestones"}),t.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),t.jsxs("div",{className:Xe.filterBar,children:[t.jsx("div",{className:Xe.filterButtons,children:n.map(a=>t.jsx("button",{type:"button",className:[Xe.filterButton,s===a&&Xe.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(a),"aria-pressed":s===a,children:a==="all"?"All Categories":a},a))}),t.jsxs("label",{className:Xe.filterSelectWrapper,children:[t.jsx("span",{className:Xe.filterLabel,children:"Category"}),t.jsx("select",{value:s,onChange:a=>i(a.target.value),className:Xe.filterSelect,children:n.map(a=>t.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),r.length===0?t.jsx("p",{className:Xe.emptyFilterMessage,children:"No milestones fall into this category yet."}):t.jsx("div",{className:Xe.milestoneGrid,children:r.map(a=>t.jsxs("article",{className:Xe.milestoneCard,children:[t.jsx("span",{className:Xe.milestoneCategory,children:a.category}),t.jsx("h3",{className:Xe.milestoneTitle,children:a.achievement}),t.jsxs("div",{className:Xe.milestoneDetails,children:[t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Name"}),t.jsx("span",{className:Xe.detailValue,children:a.name})]}),t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Server"}),t.jsx("span",{className:Xe.detailValue,children:a.server})]}),t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Date"}),t.jsx("span",{className:Xe.detailValue,children:a.date})]}),a.notes&&t.jsx("p",{className:Xe.notes,children:a.notes}),a.source&&t.jsx("a",{href:a.source,target:"_blank",rel:"noreferrer",className:Xe.sourceLink,children:"Source"})]})]},`${a.achievement}-${a.name}`))})]})},Mde=()=>t.jsxs("section",{className:Xe.currentSection,"aria-label":"Current community records",children:[t.jsxs("div",{className:Xe.sectionHeader,children:[t.jsx("p",{children:"Current Records"}),t.jsx("h2",{children:"The latest verified achievements"})]}),t.jsx("div",{className:Xe.currentGrid,children:Lce.map((s,e)=>t.jsxs("article",{className:Xe.currentCard,children:[t.jsx("span",{className:Xe.categoryLabel,children:s.category}),t.jsx("h3",{className:Xe.recordTitle,children:s.record}),t.jsxs("div",{className:Xe.currentDetails,children:[t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Class"}),t.jsx("span",{className:Xe.detailValue,children:s.classType})]}),t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Player"}),t.jsx("span",{className:Xe.detailValue,children:s.playerName})]}),t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Server"}),t.jsx("span",{className:Xe.detailValue,children:s.server})]}),t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Days"}),t.jsx("span",{className:Xe.detailValue,children:s.days})]}),s.release&&t.jsxs("div",{className:Xe.detailRow,children:[t.jsx("span",{className:Xe.detailLabel,children:"Release"}),t.jsx("span",{className:Xe.detailValue,children:s.release})]}),(s.previousDays||s.previousName)&&t.jsxs("p",{className:Xe.notes,children:["Previous: ",s.previousDays?`${s.previousDays} days`:""," ",s.previousName?`(${s.previousName})`:""]}),s.notes&&t.jsx("p",{className:Xe.notes,children:s.notes})]})]},`${s.category}-${s.playerName}-${e}`))})]}),uh={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function iE(){const[s,e]=I.useState("current"),n=Fce("infoCard",32),r=()=>{if(s==="current")return t.jsx(Mde,{});if(s==="milestones")return t.jsx(Dde,{});const i=Rde[s];return t.jsx(Lde,{title:i.title,description:i.description,hint:i.hint})};return t.jsxs("section",{className:Xe.recordsPage,children:[t.jsx(KA,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),t.jsxs("div",{className:Xe.infoPanel,children:[t.jsxs("div",{className:Xe.infoCard,children:[t.jsxs("div",{className:Xe.infoHeader,children:[t.jsxs("div",{className:Xe.infoAuthor,children:[n?t.jsx("img",{src:n,alt:"Community Data",className:Xe.infoAuthorIcon}):null,t.jsx("span",{className:Xe.authorName,children:"S&F Tavern Info"}),t.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Xe.authorBadge,children:"Discord"})]}),t.jsx("span",{className:Xe.infoDate,children:"11.12.2020 14:08"})]}),t.jsxs("div",{className:Xe.infoBody,children:[t.jsx("h3",{className:Xe.infoTitle,children:uh.title}),uh.paragraphs.map(i=>t.jsx("p",{children:i},i))]}),t.jsxs("div",{className:Xe.infoLink,children:[t.jsx("span",{children:uh.linkLabel}),t.jsx("a",{href:uh.linkUrl,target:"_blank",rel:"noreferrer",children:uh.linkUrl})]})]}),t.jsxs("div",{className:Xe.disclaimerCard,children:[t.jsx("h3",{className:Xe.infoTitle,children:"Disclaimer"}),t.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),t.jsx("div",{className:Xe.navArea,children:t.jsx("nav",{className:Xe.tabList,"aria-label":"Records navigation",children:Pde.map(i=>t.jsx("button",{type:"button",className:`${Xe.tabButton} ${s===i.key?Xe.tabButtonActive:""}`,"aria-pressed":s===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),t.jsx("div",{className:Xe.sectionContent,children:r()})]})}const Fde={creators:eE,scans:tE,predictions:sE,news:nE,records:iE,feedback:rE};function Bde(){const[s]=Cl(),e=s.get("tab")||"",n=Fde[e];return t.jsxs(zt,{children:[t.jsx("div",{className:_d.topWrap,children:t.jsx(mce,{logoSrc:_ce})}),t.jsx("div",{className:_d.divider}),t.jsx("div",{className:_d.contentArea,children:n?t.jsx(n,{}):t.jsxs("div",{className:_d.placeholder,children:[t.jsx("h2",{className:_d.placeholderTitle,children:"Community"}),t.jsx("p",{className:_d.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function $de(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Scans"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsxs(ws,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),t.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),t.jsxs(ws,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),t.jsx("div",{style:{opacity:.75,marginTop:4},children:"Aeltere Scans & Verlauf"})]}),t.jsxs(ws,{to:"/upload-center",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Upload Center"}),t.jsx("div",{style:{opacity:.75,marginTop:4},children:"CSV Import & lokale Vorschau (Spieler & Gilden)"})]})]})]})}function Ode(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Scans  Letzter Scan"}),t.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function Vde(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Scans  Archiv"}),t.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function Ude(){return t.jsx(zt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:t.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:t.jsx(zde,{}),right:t.jsx(Hde,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[t.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),t.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx(ws,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),t.jsx(ws,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsx(kg,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),t.jsx(kg,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),t.jsx(kg,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),t.jsx(kg,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function zde(){return t.jsxs("nav",{className:"space-y-2 text-sm",children:[t.jsx(hh,{to:"/guild-hub/planner",children:"Planner"}),t.jsx(hh,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),t.jsx(hh,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),t.jsx(hh,{to:"/guild-hub/waitlist",children:"Waitlist"}),t.jsx(hh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function Hde(){return t.jsxs("aside",{className:"space-y-3 text-sm",children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),t.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function kg({to:s,title:e,desc:n}){return t.jsxs(ws,{to:s,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?t.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function hh({to:s,children:e}){return t.jsx(ys,{to:s,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const Gde="_page_1mlmy_1",Wde="_header_1mlmy_13",qde="_headerStack_1mlmy_25",Kde="_kicker_1mlmy_37",Qde="_title_1mlmy_53",Xde="_headerActions_1mlmy_65",Yde="_primaryAction_1mlmy_77",Jde="_secondaryAction_1mlmy_79",Zde="_infoStrip_1mlmy_127",eue="_infoBlock_1mlmy_147",tue="_infoLabel_1mlmy_161",sue="_freshnessWrapper_1mlmy_181",nue="_freshnessBadge_1mlmy_189",rue="_badge_f0_1mlmy_213",iue="_badge_f1_1mlmy_215",aue="_badge_f2_1mlmy_217",oue="_badge_f3_1mlmy_219",lue="_badge_f4_1mlmy_221",cue="_badge_f5_1mlmy_223",due="_badge_f6_1mlmy_225",uue="_badge_f7_1mlmy_227",hue="_badge_unknown_1mlmy_229",pue="_popover_1mlmy_233",mue="_popoverLabel_1mlmy_265",gue="_filterToolbar_1mlmy_275",fue="_filterSheetButton_1mlmy_285",vue="_inlineFilters_1mlmy_303",xue="_searchInput_1mlmy_315",yue="_select_1mlmy_317",bue="_ownerGroup_1mlmy_335",_ue="_ownerChip_1mlmy_347",wue="_ownerChipActive_1mlmy_365",jue="_sortGroup_1mlmy_375",Sue="_sortLabel_1mlmy_387",Nue="_directionButton_1mlmy_397",kue="_listBody_1mlmy_415",Cue="_tableWrapper_1mlmy_427",Tue="_table_1mlmy_427",Iue="_stickyColumn_1mlmy_481",Aue="_rowTitleButton_1mlmy_495",Eue="_tableStatus_1mlmy_513",Pue="_cardList_1mlmy_533",Rue="_card_1mlmy_533",Lue="_cardHeader_1mlmy_565",Due="_cardTitle_1mlmy_577",Mue="_cardMeta_1mlmy_595",Fue="_cardDescription_1mlmy_611",Bue="_cardFooter_1mlmy_623",$ue="_cardLabel_1mlmy_639",Oue="_scanBadge_1mlmy_649",Vue="_emptyState_1mlmy_665",Uue="_sheetBackdrop_1mlmy_681",zue="_sheet_1mlmy_681",Hue="_sheetHandle_1mlmy_721",Gue="_sheetBody_1mlmy_739",Wue="_sheetLabel_1mlmy_755",que="_sheetActions_1mlmy_793",Kue="_overlay_1mlmy_807",Que="_panel_1mlmy_825",Xue="_modal_1mlmy_851",Yue="_drawer_1mlmy_861",Jue="_panelHeader_1mlmy_869",Zue="_panelControls_1mlmy_883",ehe="_panelDescription_1mlmy_913",the="_detailGrid_1mlmy_925",she="_panelFooter_1mlmy_957",nhe="_formOverlay_1mlmy_969",rhe="_formPanel_1mlmy_991",ihe="_formGrid_1mlmy_1017",ahe="_menuWrapper_1mlmy_1029",ohe="_dotsButton_1mlmy_1037",lhe="_menu_1mlmy_1029",che="_pagination_1mlmy_1109",Ie={page:Gde,header:Wde,headerStack:qde,kicker:Kde,title:Qde,headerActions:Xde,primaryAction:Yde,secondaryAction:Jde,infoStrip:Zde,infoBlock:eue,infoLabel:tue,freshnessWrapper:sue,freshnessBadge:nue,badge_f0:rue,badge_f1:iue,badge_f2:aue,badge_f3:oue,badge_f4:lue,badge_f5:cue,badge_f6:due,badge_f7:uue,badge_unknown:hue,popover:pue,popoverLabel:mue,filterToolbar:gue,filterSheetButton:fue,inlineFilters:vue,searchInput:xue,select:yue,ownerGroup:bue,ownerChip:_ue,ownerChipActive:wue,sortGroup:jue,sortLabel:Sue,directionButton:Nue,listBody:kue,tableWrapper:Cue,table:Tue,stickyColumn:Iue,rowTitleButton:Aue,tableStatus:Eue,cardList:Pue,card:Rue,cardHeader:Lue,cardTitle:Due,cardMeta:Mue,cardDescription:Fue,cardFooter:Bue,cardLabel:$ue,scanBadge:Oue,emptyState:Vue,sheetBackdrop:Uue,sheet:zue,sheetHandle:Hue,sheetBody:Gue,sheetLabel:Wue,sheetActions:que,overlay:Kue,panel:Que,modal:Xue,drawer:Yue,panelHeader:Jue,panelControls:Zue,panelDescription:ehe,detailGrid:the,panelFooter:she,formOverlay:nhe,formPanel:rhe,formGrid:ihe,menuWrapper:ahe,dotsButton:ohe,menu:lhe,pagination:che};function dhe(){var ne;const[s,e]=X.useState(JJ),[n,r]=X.useState(c0),[i,a]=X.useState(c0),l=ru(n.q,300),c=X.useMemo(()=>{const H=ZJ(s,n,l);return eZ(H,n.sort,n.dir)},[s,n,l]),u=X.useMemo(()=>tZ(c,n.page,n.pageSize),[c,n.page,n.pageSize]),h=Math.max(1,Math.ceil(c.length/n.pageSize)),p=X.useMemo(()=>Array.from(new Set(s.map(H=>H.owner))),[s]),g=iu("(min-width: 768px)"),x=iu("(min-width: 1024px)"),[b,_]=X.useState(!1),[S,C]=X.useState(null),E=(ne=s.find(H=>H.id===S))!=null?ne:null,F=X.useRef(null);au(F,!!E&&!x);const[k,y]=X.useState(null),[w,P]=X.useState(!1),T=X.useRef(null);au(T,w);const N=X.useMemo(()=>sZ(s),[s]),A=X.useMemo(()=>N?lp(N.nextUpdateAt,Date.now()):"",[N]),M=g,R=x,B=t.jsxs("div",{className:Ie.headerActions,children:[t.jsx("button",{type:"button",className:Ie.primaryAction,onClick:()=>{y(null),P(!0)},children:"Neuer Eintrag"}),!g&&t.jsx("button",{type:"button",className:Ie.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>_(!0),children:"Filter"})]}),$=H=>{const J=Ok(H);r(J),a(J)},z=(H,J)=>{const le=Ok({...n,[H]:J,page:H==="page"||H==="pageSize"?J:1});$(le)},U=()=>{$(i),_(!1)},W=()=>{$(c0),_(!1)},K=(H,J=!1)=>{if(J)a(le=>{const he=le.owner.includes(H)?le.owner.filter(xe=>xe!==H):[...le.owner,H];return{...le,owner:he}});else{const oe=n.owner.includes(H)?n.owner.filter(he=>he!==H):[...n.owner,H];z("owner",oe)}},q=(H,J)=>{e(le=>le.map(oe=>oe.id===H?{...oe,status:J,updatedAt:new Date().toISOString()}:oe))},se=H=>{e(J=>J.some(oe=>oe.id===H.id)?J.map(oe=>oe.id===H.id?H:oe):[H,...J]),P(!1)};return t.jsxs(zt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[t.jsxs("div",{className:Ie.page,children:[t.jsxs("header",{className:Ie.header,children:[t.jsxs("div",{className:Ie.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ie.kicker,children:"Deployment"}),t.jsx("h1",{className:Ie.title,children:"Planer"})]}),B]}),t.jsxs("div",{className:Ie.infoStrip,children:[t.jsxs("div",{className:Ie.infoBlock,children:[t.jsx("span",{className:Ie.infoLabel,children:"Offen"}),t.jsx("strong",{children:c.filter(H=>H.status==="open").length})]}),t.jsxs("div",{className:Ie.infoBlock,children:[t.jsx("span",{className:Ie.infoLabel,children:"In Arbeit"}),t.jsx("strong",{children:c.filter(H=>H.status==="in_progress").length})]}),N&&t.jsx(uhe,{code:N.freshness,label:q_[N.freshness],updatedAt:N.lastScanAt,nextUpdateAt:N.nextUpdateAt,countdown:A})]})]}),t.jsx("section",{className:Ie.filterToolbar,children:g?t.jsx(hhe,{filters:n,owners:p,onChange:z,onOwnerToggle:H=>K(H,!1)}):t.jsx("button",{type:"button",className:Ie.filterSheetButton,onClick:()=>_(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),t.jsx("section",{className:Ie.listBody,children:M?t.jsx(phe,{items:u,sort:n.sort,dir:n.dir,onSortChange:H=>{const J=n.sort===H&&n.dir==="asc"?"desc":"asc";z("sort",H),z("dir",J)},onSelect:H=>C(H.id),onStatusChange:q,onEdit:H=>{y(H),P(!0)}}):t.jsx(mhe,{items:u,onSelect:H=>C(H.id),onStatusChange:q,onEdit:H=>{y(H),P(!0)}})}),t.jsx(fhe,{page:n.page,totalPages:h,onChange:H=>z("page",H)})]}),b&&t.jsx(ghe,{filters:i,owners:p,onChange:a,onOwnerToggle:H=>K(H,!0),onClose:()=>_(!1),onApply:U,onReset:W}),E&&t.jsx(oE,{ref:F,item:E,mode:R?"drawer":"modal",onClose:()=>C(null),onEdit:()=>{y(E),P(!0),C(null)},onStatusChange:q}),w&&t.jsx(lE,{ref:T,owners:p.length?p:UA,item:k,onClose:()=>P(!1),onSubmit:se})]})}function uhe({code:s,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var c;const[a,l]=X.useState(!1);return t.jsxs("div",{className:Ie.freshnessWrapper,children:[t.jsx("button",{type:"button",className:`${Ie.freshnessBadge} ${(c=Ie[`badge_${s}`])!=null?c:""}`,"aria-label":`Freshness ${e}`,onClick:()=>l(u=>!u),children:e}),a&&t.jsxs("div",{className:Ie.popover,role:"dialog","aria-label":"Freshness Details",children:[t.jsxs("div",{children:[t.jsx("span",{className:Ie.popoverLabel,children:"Zuletzt gescannt"}),t.jsx("strong",{children:Ta(n)})]}),t.jsxs("div",{children:[t.jsx("span",{className:Ie.popoverLabel,children:"Naechster Scan"}),t.jsx("strong",{children:Ta(r)})]}),t.jsxs("div",{children:[t.jsx("span",{className:Ie.popoverLabel,children:"Countdown"}),t.jsx("strong",{children:i})]})]})]})}function hhe({filters:s,owners:e,onChange:n,onOwnerToggle:r}){return t.jsxs("div",{className:Ie.inlineFilters,children:[t.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:Ie.searchInput,placeholder:"Suchen...",value:s.q,onChange:i=>n("q",i.target.value)}),t.jsxs("select",{className:Ie.select,name:"plannerType","aria-label":"Planner Typ",value:s.type,onChange:i=>n("type",i.target.value),children:[t.jsx("option",{value:"all",children:"Typ (alle)"}),t.jsx("option",{value:"raid",children:"Raid"}),t.jsx("option",{value:"event",children:"Event"}),t.jsx("option",{value:"task",children:"Task"})]}),t.jsxs("select",{className:Ie.select,name:"plannerStatus","aria-label":"Planner Status",value:s.status,onChange:i=>n("status",i.target.value),children:[t.jsx("option",{value:"all",children:"Status (alle)"}),t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),t.jsxs("select",{className:Ie.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:s.range,onChange:i=>n("range",i.target.value),children:[t.jsx("option",{value:"7d",children:"7 Tage"}),t.jsx("option",{value:"30d",children:"30 Tage"}),t.jsx("option",{value:"90d",children:"90 Tage"}),t.jsx("option",{value:"all",children:"Alle"})]}),t.jsx("div",{className:Ie.ownerGroup,children:e.map(i=>{const a=s.owner.includes(i);return t.jsx("button",{type:"button",className:`${Ie.ownerChip} ${a?Ie.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),t.jsxs("div",{className:Ie.sortGroup,children:[t.jsx("label",{htmlFor:"planner-sort",className:Ie.sortLabel,children:"Sortieren"}),t.jsxs("select",{id:"planner-sort",name:"plannerSort",className:Ie.select,value:s.sort,onChange:i=>n("sort",i.target.value),children:[t.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),t.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),t.jsx("option",{value:"priority",children:"Prioritaet"}),t.jsx("option",{value:"title",children:"Titel"})]}),t.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:Ie.directionButton,onClick:()=>n("dir",s.dir==="asc"?"desc":"asc"),children:s.dir==="asc"?"":""})]})]})}function phe({items:s,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a,onEdit:l}){const c=u=>e===u?n==="asc"?" ":" ":"";return s.length===0?t.jsx(aE,{}):t.jsx("div",{className:Ie.tableWrapper,children:t.jsxs("table",{className:Ie.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{className:Ie.stickyColumn,onClick:()=>r("title"),children:["Titel",c("title")]}),t.jsx("th",{children:"Typ"}),t.jsx("th",{children:"Owner"}),t.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",c("dueAt")]}),t.jsx("th",{children:"Status"}),t.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",c("updatedAt")]}),t.jsx("th",{})]})}),t.jsx("tbody",{children:s.map(u=>t.jsxs("tr",{children:[t.jsx("td",{className:Ie.stickyColumn,children:t.jsx("button",{type:"button",className:Ie.rowTitleButton,onClick:()=>i(u),children:u.title})}),t.jsx("td",{children:W_[u.type]}),t.jsx("td",{children:u.owner}),t.jsx("td",{children:Ta(u.dueAt)}),t.jsx("td",{children:t.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:Ie.tableStatus,value:u.status,onChange:h=>a(u.id,h.target.value),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),t.jsx("td",{children:Mp(u.updatedAt)}),t.jsx("td",{children:t.jsx(cE,{onEdit:()=>l(u),onComplete:()=>a(u.id,"done")})})]},u.id))})]})})}function mhe({items:s,onSelect:e,onStatusChange:n,onEdit:r}){return s.length===0?t.jsx(aE,{}):t.jsx("div",{className:Ie.cardList,children:s.map(i=>t.jsxs("article",{className:Ie.card,children:[t.jsxs("div",{className:Ie.cardHeader,children:[t.jsxs("div",{children:[t.jsx("button",{type:"button",className:Ie.cardTitle,onClick:()=>e(i),children:i.title}),t.jsxs("div",{className:Ie.cardMeta,children:[t.jsx("span",{children:W_[i.type]}),t.jsx("span",{children:XJ[i.status]}),t.jsxs("span",{children:["Due ",Ta(i.dueAt)]})]})]}),t.jsx(cE,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),t.jsx("p",{className:Ie.cardDescription,children:i.description}),t.jsxs("div",{className:Ie.cardFooter,children:[t.jsxs("div",{children:[t.jsx("span",{className:Ie.cardLabel,children:"Owner"}),t.jsx("strong",{children:i.owner})]}),t.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:Ie.tableStatus,value:i.status,onChange:a=>n(i.id,a.target.value),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),t.jsxs("span",{className:Ie.scanBadge,children:["Letzter Scan ",Mp(i.lastScanAt)]})]})]},i.id))})}function aE(){return t.jsx("div",{className:Ie.emptyState,children:t.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function ghe({filters:s,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:a,onReset:l}){return t.jsx("div",{className:Ie.sheetBackdrop,role:"presentation",onClick:i,children:t.jsxs("div",{className:Ie.sheet,role:"dialog","aria-label":"Filter",onClick:c=>c.stopPropagation(),children:[t.jsx("div",{className:Ie.sheetHandle}),t.jsxs("div",{className:Ie.sheetBody,children:[t.jsx("h2",{children:"Filter"}),t.jsxs("label",{className:Ie.sheetLabel,children:["Suche",t.jsx("input",{type:"search",name:"plannerSheetSearch",value:s.q,onChange:c=>n(u=>({...u,q:c.target.value}))})]}),t.jsxs("label",{className:Ie.sheetLabel,children:["Typ",t.jsxs("select",{name:"plannerSheetType",value:s.type,onChange:c=>n(u=>({...u,type:c.target.value})),children:[t.jsx("option",{value:"all",children:"Alle"}),t.jsx("option",{value:"raid",children:"Raid"}),t.jsx("option",{value:"event",children:"Event"}),t.jsx("option",{value:"task",children:"Task"})]})]}),t.jsxs("label",{className:Ie.sheetLabel,children:["Status",t.jsxs("select",{name:"plannerSheetStatus",value:s.status,onChange:c=>n(u=>({...u,status:c.target.value})),children:[t.jsx("option",{value:"all",children:"Alle"}),t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),t.jsxs("label",{className:Ie.sheetLabel,children:["Zeitraum",t.jsxs("select",{name:"plannerSheetRange",value:s.range,onChange:c=>n(u=>({...u,range:c.target.value})),children:[t.jsx("option",{value:"7d",children:"7 Tage"}),t.jsx("option",{value:"30d",children:"30 Tage"}),t.jsx("option",{value:"90d",children:"90 Tage"}),t.jsx("option",{value:"all",children:"Alle"})]})]}),t.jsxs("div",{className:Ie.sheetLabel,children:["Owner",t.jsx("div",{className:Ie.ownerGroup,children:e.map(c=>{const u=s.owner.includes(c);return t.jsx("button",{type:"button",className:`${Ie.ownerChip} ${u?Ie.ownerChipActive:""}`,onClick:()=>r(c),children:c},c)})})]})]}),t.jsxs("div",{className:Ie.sheetActions,children:[t.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),t.jsx("button",{type:"button",className:Ie.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const oE=X.forwardRef(({item:s,mode:e,onClose:n,onEdit:r,onStatusChange:i},a)=>t.jsx("div",{className:Ie.overlay,children:t.jsxs("div",{ref:a,className:`${Ie.panel} ${e==="drawer"?Ie.drawer:Ie.modal}`,children:[t.jsxs("header",{className:Ie.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ie.cardLabel,children:W_[s.type]}),t.jsx("h2",{children:s.title})]}),t.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:n,children:"Schliessen"})]}),t.jsxs("div",{className:Ie.panelControls,children:[t.jsxs("label",{children:["Status",t.jsxs("select",{value:s.status,onChange:l=>i(s.id,l.target.value),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),t.jsxs("label",{children:["Prioritaet",t.jsxs("select",{disabled:!0,value:s.priority,children:[t.jsx("option",{value:"urgent",children:"Urgent"}),t.jsx("option",{value:"high",children:"Hoch"}),t.jsx("option",{value:"medium",children:"Mittel"}),t.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),t.jsx("p",{className:Ie.panelDescription,children:s.description}),t.jsxs("dl",{className:Ie.detailGrid,children:[t.jsxs("div",{children:[t.jsx("dt",{children:"Owner"}),t.jsx("dd",{children:s.owner})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Assignees"}),t.jsx("dd",{children:s.assignees.join(", ")})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Termin"}),t.jsx("dd",{children:Ta(s.dueAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Zuletzt aktualisiert"}),t.jsx("dd",{children:Mp(s.updatedAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Erstellt"}),t.jsx("dd",{children:Ta(s.createdAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Tags"}),t.jsx("dd",{children:s.tags.join(", ")})]})]}),t.jsxs("div",{className:Ie.panelFooter,children:[t.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:r,children:"Bearbeiten"}),t.jsx("button",{type:"button",className:Ie.primaryAction,onClick:()=>i(s.id,"done"),children:"Als erledigt markieren"})]})]})}));oE.displayName="DetailPanel";const lE=X.forwardRef(({owners:s,item:e,onClose:n,onSubmit:r},i)=>{const[a,l]=X.useState(()=>{var h;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(h=s[0])!=null?h:UA[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});X.useEffect(()=>{e&&l(e)},[JSON.stringify(e)]);const c=h=>{h.preventDefault(),a.title.trim()&&r({...a,updatedAt:new Date().toISOString()})},u=h=>{l(p=>{const x=p.tags.includes(h)?p.tags.filter(b=>b!==h):[...p.tags,h];return{...p,tags:x}})};return t.jsx("div",{className:Ie.formOverlay,children:t.jsxs("form",{ref:i,className:Ie.formPanel,onSubmit:c,children:[t.jsxs("header",{className:Ie.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ie.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),t.jsx("h2",{children:e?e.title:"Planner Task"})]}),t.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:n,children:"Schliessen"})]}),t.jsxs("label",{className:Ie.sheetLabel,children:["Titel",t.jsx("input",{name:"plannerFormTitle",value:a.title,onChange:h=>l(p=>({...p,title:h.target.value})),required:!0})]}),t.jsxs("label",{className:Ie.sheetLabel,children:["Beschreibung",t.jsx("textarea",{name:"plannerFormDescription",value:a.description,onChange:h=>l(p=>({...p,description:h.target.value})),rows:4})]}),t.jsxs("div",{className:Ie.formGrid,children:[t.jsxs("label",{children:["Typ",t.jsxs("select",{name:"plannerFormType",value:a.type,onChange:h=>l(p=>({...p,type:h.target.value})),children:[t.jsx("option",{value:"raid",children:"Raid"}),t.jsx("option",{value:"event",children:"Event"}),t.jsx("option",{value:"task",children:"Task"})]})]}),t.jsxs("label",{children:["Status",t.jsxs("select",{name:"plannerFormStatus",value:a.status,onChange:h=>l(p=>({...p,status:h.target.value})),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),t.jsxs("label",{children:["Owner",t.jsx("select",{name:"plannerFormOwner",value:a.owner,onChange:h=>l(p=>({...p,owner:h.target.value})),children:s.map(h=>t.jsx("option",{value:h,children:h},h))})]}),t.jsxs("label",{children:["Prioritaet",t.jsxs("select",{name:"plannerFormPriority",value:a.priority,onChange:h=>l(p=>({...p,priority:h.target.value})),children:[t.jsx("option",{value:"urgent",children:"Urgent"}),t.jsx("option",{value:"high",children:"Hoch"}),t.jsx("option",{value:"medium",children:"Mittel"}),t.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),t.jsxs("label",{className:Ie.sheetLabel,children:["Termin",t.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:a.dueAt.slice(0,16),onChange:h=>l(p=>({...p,dueAt:new Date(h.target.value).toISOString()}))})]}),t.jsxs("div",{className:Ie.sheetLabel,children:["Tags",t.jsx("div",{className:Ie.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(h=>{const p=a.tags.includes(h);return t.jsx("button",{type:"button",className:`${Ie.ownerChip} ${p?Ie.ownerChipActive:""}`,onClick:()=>u(h),children:h},h)})})]}),t.jsxs("footer",{className:Ie.panelFooter,children:[t.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:n,children:"Abbrechen"}),t.jsx("button",{type:"submit",className:Ie.primaryAction,children:"Speichern"})]})]})})});lE.displayName="PlannerFormOverlay";function cE({onEdit:s,onComplete:e}){const[n,r]=X.useState(!1),i=X.useRef(null);return X.useEffect(()=>{if(!n)return;const a=l=>{var c;(c=i.current)!=null&&c.contains(l.target)||r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]),t.jsxs("div",{className:Ie.menuWrapper,ref:i,children:[t.jsx("button",{type:"button",className:Ie.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(a=>!a),children:"..."}),n&&t.jsxs("div",{className:Ie.menu,role:"menu",children:[t.jsx("button",{type:"button",onClick:()=>s(),children:"Bearbeiten"}),t.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),t.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function fhe({page:s,totalPages:e,onChange:n}){return t.jsxs("div",{className:Ie.pagination,children:[t.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:()=>n(Math.max(1,s-1)),disabled:s===1,children:"Zurueck"}),t.jsxs("span",{children:["Seite ",s," / ",e]}),t.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:()=>n(Math.min(e,s+1)),disabled:s===e,children:"Weiter"})]})}const vhe="_page_1cvuk_1",xhe="_header_1cvuk_13",yhe="_headerLeading_1cvuk_29",bhe="_backLink_1cvuk_41",_he="_headerStack_1cvuk_77",whe="_kicker_1cvuk_89",jhe="_title_1cvuk_105",She="_subtitle_1cvuk_117",Nhe="_headerActions_1cvuk_129",khe="_plannerNotice_1cvuk_141",Che="_noticeItem_1cvuk_163",The="_noticeWarning_1cvuk_185",Ihe="_noticeDot_1cvuk_197",Ahe="_tabSection_1cvuk_213",Ehe="_tabBar_1cvuk_225",Phe="_tabItem_1cvuk_239",Rhe="_tabItemActive_1cvuk_279",Lhe="_tabLabel_1cvuk_291",Dhe="_tabHelper_1cvuk_301",Mhe="_tabPanel_1cvuk_311",Fhe="_tabBadge_1cvuk_331",Bhe="_primaryAction_1cvuk_1331",$he="_secondaryAction_1cvuk_1333",Ohe="_infoStrip_1cvuk_1383",Vhe="_infoBlock_1cvuk_1403",Uhe="_infoLabel_1cvuk_1415",zhe="_infoHint_1cvuk_1441",Hhe="_stageGrid_1cvuk_1453",Ghe="_panel_1cvuk_1465",Whe="_panelHeader_1cvuk_1487",qhe="_panelKicker_1cvuk_1501",Khe="_panelTitle_1cvuk_1517",Qhe="_panelLead_1cvuk_1529",Xhe="_badge_1cvuk_1541",Yhe="_panelBody_1cvuk_1563",Jhe="_placeholderGrid_1cvuk_1575",Zhe="_placeholderCard_1cvuk_1587",epe="_placeholderTitle_1cvuk_1609",tpe="_placeholderText_1cvuk_1619",spe="_helperSection_1cvuk_1631",npe="_helperCard_1cvuk_1639",rpe="_helperKicker_1cvuk_1661",ipe="_helperTitle_1cvuk_1677",ape="_helperText_1cvuk_1689",ope="_helperActions_1cvuk_1701",ut={page:vhe,header:xhe,headerLeading:yhe,backLink:bhe,headerStack:_he,kicker:whe,title:jhe,subtitle:She,headerActions:Nhe,plannerNotice:khe,noticeItem:Che,noticeWarning:The,noticeDot:Ihe,tabSection:Ahe,tabBar:Ehe,tabItem:Phe,tabItemActive:Rhe,tabLabel:Lhe,tabHelper:Dhe,tabPanel:Mhe,tabBadge:Fhe,primaryAction:Bhe,secondaryAction:$he,infoStrip:Ohe,infoBlock:Vhe,infoLabel:Uhe,infoHint:zhe,stageGrid:Hhe,panel:Ghe,panelHeader:Whe,panelKicker:qhe,panelTitle:Khe,panelLead:Qhe,badge:Xhe,panelBody:Yhe,placeholderGrid:Jhe,placeholderCard:Zhe,placeholderTitle:epe,placeholderText:tpe,helperSection:spe,helperCard:npe,helperKicker:rpe,helperTitle:ipe,helperText:ape,helperActions:ope},lpe="_setupGrid_rdp6l_1",cpe="_setupLeft_rdp6l_13",dpe="_setupRight_rdp6l_15",upe="_card_rdp6l_27",hpe="_cardHeader_rdp6l_49",ppe="_cardKicker_rdp6l_61",mpe="_cardTitle_rdp6l_77",gpe="_cardText_rdp6l_89",fpe="_toggleGroup_rdp6l_101",vpe="_toggleButton_rdp6l_113",xpe="_toggleButtonActive_rdp6l_143",ype="_modeHint_rdp6l_155",bpe="_formGrid_rdp6l_167",_pe="_formField_rdp6l_179",wpe="_formLabel_rdp6l_191",jpe="_input_rdp6l_201",Spe="_suggestions_rdp6l_231",Npe="_suggestionBtn_rdp6l_257",kpe="_suggestionName_rdp6l_297",Cpe="_suggestionMeta_rdp6l_305",Tpe="_partnerActions_rdp6l_315",Ipe="_primaryAction_rdp6l_329",Ape="_secondaryAction_rdp6l_331",Epe="_partnerList_rdp6l_381",Ppe="_partnerRow_rdp6l_393",Rpe="_partnerName_rdp6l_413",Lpe="_partnerMeta_rdp6l_423",Dpe="_removeButton_rdp6l_433",Mpe="_emptyState_rdp6l_463",Fpe="_previewBlock_rdp6l_473",Bpe="_previewLabel_rdp6l_485",$pe="_previewValue_rdp6l_499",Ope="_previewCard_rdp6l_509",Vpe="_previewTitle_rdp6l_523",Upe="_previewMeta_rdp6l_533",zpe="_previewList_rdp6l_543",Hpe="_previewItem_rdp6l_555",Gpe="_setupInfo_rdp6l_569",Wpe="_setupWarning_rdp6l_593",qpe="_setupInfoIcon_rdp6l_605",Kpe="_setupInfoTitle_rdp6l_629",Qpe="_setupInfoText_rdp6l_639",$e={setupGrid:lpe,setupLeft:cpe,setupRight:dpe,card:upe,cardHeader:hpe,cardKicker:ppe,cardTitle:mpe,cardText:gpe,toggleGroup:fpe,toggleButton:vpe,toggleButtonActive:xpe,modeHint:ype,formGrid:bpe,formField:_pe,formLabel:wpe,input:jpe,suggestions:Spe,suggestionBtn:Npe,suggestionName:kpe,suggestionMeta:Cpe,partnerActions:Tpe,primaryAction:Ipe,secondaryAction:Ape,partnerList:Epe,partnerRow:Ppe,partnerName:Rpe,partnerMeta:Lpe,removeButton:Dpe,emptyState:Mpe,previewBlock:Fpe,previewLabel:Bpe,previewValue:$pe,previewCard:Ope,previewTitle:Vpe,previewMeta:Upe,previewList:zpe,previewItem:Hpe,setupInfo:Gpe,setupWarning:Wpe,setupInfoIcon:qpe,setupInfoTitle:Kpe,setupInfoText:Qpe};function Xpe({setupState:s,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var C,E,F,k,y,w,P,T,N,A;const[a,l]=X.useState(()=>{var M,R,B,$;return{name:(R=(M=s.baseGuild)==null?void 0:M.name)!=null?R:"",server:($=(B=s.baseGuild)==null?void 0:B.server)!=null?$:""}}),[c,u]=X.useState({id:void 0,name:"",server:""}),h=ru(a.name,250),p=ru(c.name,250),g=gC(h,a.server||"all"),x=gC(p,c.server||"all"),b=!!((E=(C=s.baseGuild)==null?void 0:C.name)!=null&&E.trim()&&((k=(F=s.baseGuild)==null?void 0:F.server)!=null&&k.trim())),_=s.partnerGuilds.length>0;X.useEffect(()=>{var R,B,$,z;const M={name:(B=(R=s.baseGuild)==null?void 0:R.name)!=null?B:"",server:(z=($=s.baseGuild)==null?void 0:$.server)!=null?z:""};(M.name!==a.name||M.server!==a.server)&&l(M)},[(y=s.baseGuild)==null?void 0:y.name,(w=s.baseGuild)==null?void 0:w.server]);const S=()=>{!c.name.trim()||!c.server.trim()||(r(c),u({id:void 0,name:"",server:""}))};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:$e.setupGrid,children:[t.jsxs("div",{className:$e.setupLeft,children:[t.jsxs("div",{className:$e.card,children:[t.jsx("div",{className:$e.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:$e.cardKicker,children:"Modus"}),t.jsx("h3",{className:$e.cardTitle,children:"Scan-based oder manuell"}),t.jsx("p",{className:$e.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),t.jsxs("div",{className:$e.toggleGroup,role:"group","aria-label":"Setup Modus",children:[t.jsx("button",{type:"button",className:`${$e.toggleButton} ${s.mode==="scan"?$e.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),t.jsx("button",{type:"button",className:`${$e.toggleButton} ${s.mode==="manual"?$e.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),t.jsx("p",{className:$e.modeHint,children:s.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),t.jsxs("div",{className:$e.card,children:[t.jsx("div",{className:$e.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:$e.cardKicker,children:"Base Guild"}),t.jsx("h3",{className:$e.cardTitle,children:"Stammdaten"}),t.jsx("p",{className:$e.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),t.jsxs("div",{className:$e.formGrid,children:[t.jsxs("label",{className:$e.formField,children:[t.jsx("span",{className:$e.formLabel,children:"Guild name"}),t.jsx("input",{type:"text",className:$e.input,value:a.name,onChange:M=>{const R=M.target.value;l(B=>({...B,name:R}))},onBlur:()=>n({name:a.name}),placeholder:"z.B. Solaris"}),g.length>0&&t.jsx("div",{className:$e.suggestions,children:g.map(M=>t.jsxs("button",{type:"button",className:$e.suggestionBtn,onClick:()=>{l({name:M.name,server:M.server}),n({id:M.id,name:M.name,server:M.server})},children:[t.jsx("span",{className:$e.suggestionName,children:M.name}),t.jsx("span",{className:$e.suggestionMeta,children:M.server})]},M.id))})]}),t.jsxs("label",{className:$e.formField,children:[t.jsx("span",{className:$e.formLabel,children:"Server"}),t.jsx("input",{type:"text",className:$e.input,value:a.server,onChange:M=>{const R=M.target.value;l(B=>({...B,server:R}))},onBlur:()=>n({server:a.server}),placeholder:"z.B. EU-01"})]})]})]}),t.jsxs("div",{className:$e.card,children:[t.jsx("div",{className:$e.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:$e.cardKicker,children:"Partner Guilds"}),t.jsx("h3",{className:$e.cardTitle,children:"Partner hinzufuegen"}),t.jsx("p",{className:$e.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),t.jsxs("div",{className:$e.formGrid,children:[t.jsxs("label",{className:$e.formField,children:[t.jsx("span",{className:$e.formLabel,children:"Name"}),t.jsx("input",{type:"text",className:$e.input,value:c.name,onChange:M=>u(R=>({...R,name:M.target.value})),placeholder:"z.B. Nova Alliance"}),x.length>0&&t.jsx("div",{className:$e.suggestions,children:x.map(M=>t.jsxs("button",{type:"button",className:$e.suggestionBtn,onClick:()=>u({id:M.id,name:M.name,server:M.server}),children:[t.jsx("span",{className:$e.suggestionName,children:M.name}),t.jsx("span",{className:$e.suggestionMeta,children:M.server})]},M.id))})]}),t.jsxs("label",{className:$e.formField,children:[t.jsx("span",{className:$e.formLabel,children:"Server"}),t.jsx("input",{type:"text",className:$e.input,value:c.server,onChange:M=>u(R=>({...R,server:M.target.value})),placeholder:"z.B. EU-02"})]})]}),t.jsxs("div",{className:$e.partnerActions,children:[t.jsx("button",{type:"button",className:$e.primaryAction,onClick:S,children:"Add partner guild"}),t.jsx("button",{type:"button",className:$e.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),t.jsx("div",{className:$e.partnerList,children:s.partnerGuilds.length===0?t.jsx("div",{className:$e.emptyState,children:"No partner guilds added yet."}):s.partnerGuilds.map(M=>t.jsxs("div",{className:$e.partnerRow,children:[t.jsxs("div",{children:[t.jsx("div",{className:$e.partnerName,children:M.name||"Unbenannt"}),t.jsx("div",{className:$e.partnerMeta,children:M.server||"Server n/a"})]}),t.jsx("button",{type:"button",className:$e.removeButton,onClick:()=>i(M.id),children:"Remove"})]},M.id))})]})]}),t.jsx("aside",{className:$e.setupRight,children:t.jsxs("div",{className:$e.card,children:[t.jsx("div",{className:$e.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:$e.cardKicker,children:"Preview"}),t.jsx("h3",{className:$e.cardTitle,children:"Uebersicht"}),t.jsx("p",{className:$e.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),t.jsxs("div",{className:$e.previewBlock,children:[t.jsx("div",{className:$e.previewLabel,children:"Modus"}),t.jsx("div",{className:$e.previewValue,children:s.mode==="scan"?"Scan-based":"Manual"})]}),t.jsxs("div",{className:$e.previewBlock,children:[t.jsx("div",{className:$e.previewLabel,children:"Base Guild"}),t.jsx("div",{className:$e.previewCard,children:(P=s.baseGuild)!=null&&P.name||(T=s.baseGuild)!=null&&T.server?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:$e.previewTitle,children:((N=s.baseGuild)==null?void 0:N.name)||"Unbenannt"}),t.jsx("div",{className:$e.previewMeta,children:((A=s.baseGuild)==null?void 0:A.server)||"Server n/a"})]}):t.jsx("div",{className:$e.emptyState,children:"No base guild selected yet."})})]}),t.jsxs("div",{className:$e.previewBlock,children:[t.jsx("div",{className:$e.previewLabel,children:"Partner Guilds"}),t.jsx("div",{className:$e.previewList,children:s.partnerGuilds.length===0?t.jsx("div",{className:$e.emptyState,children:"No partner guilds added yet."}):s.partnerGuilds.map(M=>t.jsxs("div",{className:$e.previewItem,children:[t.jsx("div",{className:$e.previewTitle,children:M.name||"Unbenannt"}),t.jsx("div",{className:$e.previewMeta,children:M.server||"Server n/a"})]},M.id))})]})]})})]}),b?_?null:t.jsxs("div",{className:$e.setupInfo,role:"status","aria-live":"polite",children:[t.jsx("span",{className:$e.setupInfoIcon,"aria-hidden":!0,children:"i"}),t.jsxs("div",{children:[t.jsx("div",{className:$e.setupInfoTitle,children:"Optional: add partner guilds."}),t.jsx("p",{className:$e.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):t.jsxs("div",{className:`${$e.setupInfo} ${$e.setupWarning}`,role:"status","aria-live":"polite",children:[t.jsx("span",{className:$e.setupInfoIcon,"aria-hidden":!0,children:"i"}),t.jsxs("div",{children:[t.jsx("div",{className:$e.setupInfoTitle,children:"No base guild selected yet."}),t.jsx("p",{className:$e.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function gC(s,e){const[n,r]=X.useState([]);return X.useEffect(()=>{const i=s.trim().toLowerCase();if(!i){r([]);return}let a=!1;async function l(){const c=Bn("FusionSetup:guildSearch");try{const u=kp(pt,"latest"),h=await dn(c,{path:"guilds/latest (collectionGroup)"},()=>cn(Sn(u,Ci("nameFold"),hl(i),pl(i+""),Mn(12)))),p=await dn(c,{path:"guilds/latest (collectionGroup)"},()=>cn(Sn(u,wa("nameNgrams","array-contains",i),Mn(12)))),g=new Set,x=[],b=_=>{var P,T,N,A,M,R,B,$,z,U;const S=_.data(),E=(P=_.ref.parent)==null?void 0:P.parent;if(((T=E==null?void 0:E.parent)==null?void 0:T.id)!=="guilds")return;const k=(A=(N=E==null?void 0:E.id)!=null?N:S.guildIdentifier)!=null?A:_.id;if(!k||g.has(k))return;const y=(B=(R=S.server)!=null?R:(M=S.values)==null?void 0:M.Server)!=null?B:"Unknown";if(e!=="all"&&y!==e)return;const w=(U=(z=S.name)!=null?z:($=S.values)==null?void 0:$.Name)!=null?U:"Unbekannte Gilde";g.add(k),x.push({id:k,name:w,server:y})};h.forEach(b),p.forEach(b),a||(x.sort((_,S)=>_.name.localeCompare(S.name)),r(x))}catch(u){console.error("[FusionPlanner] guild search failed",u),a||r([])}finally{tn(c)}}return l(),()=>{a=!0}},[s,e]),n}const Ype="_membersContainer_1ctw8_1",Jpe="_scenarioSwitcher_1ctw8_13",Zpe="_scenarioButton_1ctw8_25",eme="_scenarioButtonActive_1ctw8_63",tme="_scenarioButtonName_1ctw8_75",sme="_scenarioButtonDesc_1ctw8_83",nme="_setupInfo_1ctw8_93",rme="_setupInfoHeader_1ctw8_113",ime="_setupInfoTitle_1ctw8_127",ame="_setupInfoMode_1ctw8_139",ome="_setupInfoRow_1ctw8_163",lme="_setupInfoLabel_1ctw8_175",cme="_setupInfoValue_1ctw8_189",dme="_setupInfoMeta_1ctw8_199",ume="_setupInfoPartners_1ctw8_209",hme="_setupInfoBadge_1ctw8_221",pme="_setupInfoEmpty_1ctw8_245",mme="_membersSummary_1ctw8_255",gme="_membersSummaryItem_1ctw8_275",fme="_membersSummaryLabel_1ctw8_287",vme="_membersSummaryValue_1ctw8_301",xme="_maxSlotsInput_1ctw8_313",yme="_membersTable_1ctw8_331",bme="_membersRow_1ctw8_349",_me="_membersHead_1ctw8_375",wme="_membersCell_1ctw8_385",jme="_memberName_1ctw8_395",Sme="_memberBadge_1ctw8_403",Nme="_assignmentCell_1ctw8_427",kme="_assignmentBadge_1ctw8_439",Cme="_assignmentBadgeMain_1ctw8_463",Tme="_assignmentBadgePartner_1ctw8_475",Ime="_assignmentBadgeWatch_1ctw8_487",Ame="_assignmentBadgeIdle_1ctw8_499",Eme="_assignmentActions_1ctw8_507",Pme="_assignmentButton_1ctw8_519",Rme="_assignmentButtonActive_1ctw8_551",Lme="_decisionGroup_1ctw8_563",Dme="_decisionButton_1ctw8_575",Mme="_decisionButtonActive_1ctw8_607",Fme="_emptyWrap_1ctw8_619",Bme="_emptyTitle_1ctw8_633",$me="_emptyText_1ctw8_641",Ome="_contextMenuBackdrop_1ctw8_651",Vme="_contextMenu_1ctw8_651",Ume="_contextMenuItem_1ctw8_693",zme="_partnerPickerCell_1ctw8_725",Hme="_partnerLabel_1ctw8_737",Gme="_partnerSelect_1ctw8_751",Le={membersContainer:Ype,scenarioSwitcher:Jpe,scenarioButton:Zpe,scenarioButtonActive:eme,scenarioButtonName:tme,scenarioButtonDesc:sme,setupInfo:nme,setupInfoHeader:rme,setupInfoTitle:ime,setupInfoMode:ame,setupInfoRow:ome,setupInfoLabel:lme,setupInfoValue:cme,setupInfoMeta:dme,setupInfoPartners:ume,setupInfoBadge:hme,setupInfoEmpty:pme,membersSummary:mme,membersSummaryItem:gme,membersSummaryLabel:fme,membersSummaryValue:vme,maxSlotsInput:xme,membersTable:yme,membersRow:bme,membersHead:_me,membersCell:wme,memberName:jme,memberBadge:Sme,assignmentCell:Nme,assignmentBadge:kme,assignmentBadgeMain:Cme,assignmentBadgePartner:Tme,assignmentBadgeWatch:Ime,assignmentBadgeIdle:Ame,assignmentActions:Eme,assignmentButton:Pme,assignmentButtonActive:Rme,decisionGroup:Lme,decisionButton:Dme,decisionButtonActive:Mme,emptyWrap:Fme,emptyTitle:Bme,emptyText:$me,contextMenuBackdrop:Ome,contextMenu:Vme,contextMenuItem:Ume,partnerPickerCell:zme,partnerLabel:Hme,partnerSelect:Gme};function Wme({members:s,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:a}){var T,N,A,M,R,B;const[l,c]=X.useState(null),u=X.useRef(null),h=a.partnerGuilds.length>0?a.partnerGuilds.map(($,z)=>({id:$.id,label:$.name||`Partner ${z+1}`})):[{id:"partner-default",label:"Partner guild"}],p=X.useCallback(($,z)=>{c({memberId:$,...z})},[]),g=X.useCallback(()=>{c(null)},[]),x=X.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),b=X.useCallback(($,z,U)=>{x(),u.current=window.setTimeout(()=>{p($,{x:z,y:U})},550)},[x,p]);X.useEffect(()=>()=>x(),[x]);const _=X.useCallback(($,z,U)=>{if(z==="main")n($,"take"),r($,"main");else if(z==="partner"){const W=U?`partner:${U}`:"partner";n($,"take"),r($,W)}else n($,"bench"),r($,"none");g()},[g,n,r]),S=X.useCallback(($,z)=>{n($,z),z==="take"?r($,"main"):r($,"none")},[n,r]);if(!!!((N=(T=a.baseGuild)==null?void 0:T.name)!=null&&N.trim()&&((M=(A=a.baseGuild)==null?void 0:A.server)!=null&&M.trim())))return t.jsxs("div",{className:Le.emptyWrap,children:[t.jsx("h3",{className:Le.emptyTitle,children:"No base guild configured"}),t.jsx("p",{className:Le.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return t.jsxs("div",{className:Le.emptyWrap,children:[t.jsx("h3",{className:Le.emptyTitle,children:"Members & Slots"}),t.jsx("p",{className:Le.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!s||s.length===0)return t.jsxs("div",{className:Le.emptyWrap,children:[t.jsx("h3",{className:Le.emptyTitle,children:"No members found"}),t.jsx("p",{className:Le.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const E=(R=e.decisions)!=null?R:{},F=(B=e.targetGuildAssignments)!=null?B:{},k=s.filter($=>E[$.id]==="take").length,y=s.filter($=>E[$.id]==="bench").length,w=s.filter($=>E[$.id]==="drop").length,P=Math.max(0,e.maxSlots-e.reservedSlots-k);return t.jsxs("div",{className:Le.membersContainer,children:[t.jsx("div",{className:Le.scenarioSwitcher,children:t.jsxs("div",{className:`${Le.scenarioButton} ${Le.scenarioButtonActive}`,children:[t.jsx("span",{className:Le.scenarioButtonName,children:e.name}),e.description?t.jsx("span",{className:Le.scenarioButtonDesc,children:e.description}):null]})}),t.jsxs("div",{className:Le.setupInfo,children:[t.jsxs("div",{className:Le.setupInfoHeader,children:[t.jsx("div",{className:Le.setupInfoTitle,children:"Planning for"}),t.jsx("span",{className:Le.setupInfoMode,children:a.mode==="scan"?"Scan":"Manual"})]}),a.baseGuild?t.jsxs("div",{className:Le.setupInfoRow,children:[t.jsx("span",{className:Le.setupInfoLabel,children:"Base Guild"}),t.jsxs("span",{className:Le.setupInfoValue,children:[a.baseGuild.name||"Unbenannt"," ",t.jsxs("span",{className:Le.setupInfoMeta,children:["(",a.baseGuild.server||"Server n/a",")"]})]})]}):t.jsx("div",{className:Le.setupInfoEmpty,children:"No base guild selected in Setup tab."}),t.jsxs("div",{className:Le.setupInfoRow,children:[t.jsx("span",{className:Le.setupInfoLabel,children:"Partner Guilds"}),a.partnerGuilds.length?t.jsx("div",{className:Le.setupInfoPartners,children:a.partnerGuilds.map($=>t.jsxs("span",{className:Le.setupInfoBadge,children:[$.name||"Unbenannt",t.jsxs("span",{className:Le.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):t.jsx("span",{className:Le.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),t.jsxs("div",{className:Le.membersSummary,children:[t.jsxs("div",{className:Le.membersSummaryItem,children:[t.jsx("div",{className:Le.membersSummaryLabel,children:"Selected"}),t.jsxs("div",{className:Le.membersSummaryValue,children:[k," / ",e.maxSlots]})]}),t.jsxs("div",{className:Le.membersSummaryItem,children:[t.jsx("div",{className:Le.membersSummaryLabel,children:"Free slots"}),t.jsx("div",{className:Le.membersSummaryValue,children:P})]}),t.jsxs("div",{className:Le.membersSummaryItem,children:[t.jsx("div",{className:Le.membersSummaryLabel,children:"Bench"}),t.jsx("div",{className:Le.membersSummaryValue,children:y})]}),t.jsxs("div",{className:Le.membersSummaryItem,children:[t.jsx("div",{className:Le.membersSummaryLabel,children:"Drop"}),t.jsx("div",{className:Le.membersSummaryValue,children:w})]}),t.jsxs("div",{className:Le.membersSummaryItem,children:[t.jsx("div",{className:Le.membersSummaryLabel,children:"Reserved"}),t.jsx("div",{className:Le.membersSummaryValue,children:e.reservedSlots})]}),t.jsxs("div",{className:Le.membersSummaryItem,children:[t.jsx("div",{className:Le.membersSummaryLabel,children:"Max slots"}),t.jsx("input",{type:"number",className:Le.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),t.jsxs("div",{className:Le.membersTable,children:[t.jsxs("div",{className:`${Le.membersRow} ${Le.membersHead}`,children:[t.jsx("div",{className:Le.membersCell,children:"Name"}),t.jsx("div",{className:Le.membersCell,children:"Level"}),t.jsx("div",{className:Le.membersCell,children:"Guild"}),t.jsx("div",{className:Le.membersCell,children:"Class"}),t.jsx("div",{className:Le.membersCell,children:"Plan"}),t.jsx("div",{className:Le.membersCell,children:"Decision"}),t.jsx("div",{className:Le.membersCell,children:"Partner"})]}),s.map($=>{var ne,H,J,le,oe,he,xe,Re,Z;const z=(ne=E[$.id])!=null?ne:"undecided",U=(H=F[$.id])!=null?H:"none",W=U&&U.toString().startsWith("partner:")?U.split(":")[1]:null,K=(he=(J=h.find(fe=>fe.id===W))==null?void 0:J.label)!=null?he:U==="partner"?(oe=(le=h[0])==null?void 0:le.label)!=null?oe:"Partner guild":null,q=z==="take"&&U==="main"?"main":z==="take"&&(U==="partner"||W)?"partner":z==="bench"?"watch":"unassigned",se=q==="main"?"Main guild":q==="partner"?K||"Partner guild":q==="watch"?"Watchlist":"Not planned";return t.jsxs("div",{className:Le.membersRow,onContextMenu:fe=>{fe.preventDefault(),p($.id,{x:fe.clientX,y:fe.clientY})},onTouchStart:fe=>{const ie=fe.touches[0];ie&&b($.id,ie.clientX,ie.clientY)},onTouchEnd:x,onTouchCancel:x,children:[t.jsx("div",{className:Le.membersCell,children:t.jsx("div",{className:Le.memberName,children:$.name})}),t.jsx("div",{className:Le.membersCell,children:t.jsxs("span",{className:Le.memberBadge,children:["Lvl ",$.level]})}),t.jsx("div",{className:Le.membersCell,children:$.guildName}),t.jsx("div",{className:Le.membersCell,children:(Re=(xe=$.className)!=null?xe:$.class)!=null?Re:"?"}),t.jsxs("div",{className:`${Le.membersCell} ${Le.assignmentCell}`,children:[t.jsx("span",{className:`${Le.assignmentBadge} ${q==="main"?Le.assignmentBadgeMain:q==="partner"?Le.assignmentBadgePartner:q==="watch"?Le.assignmentBadgeWatch:Le.assignmentBadgeIdle}`,children:se}),t.jsxs("div",{className:Le.assignmentActions,role:"group","aria-label":"Target guild selection",children:[t.jsx("button",{type:"button",className:`${Le.assignmentButton} ${q==="main"?Le.assignmentButtonActive:""}`,onClick:()=>_($.id,"main"),children:"Main"}),t.jsx("button",{type:"button",className:`${Le.assignmentButton} ${q==="watch"?Le.assignmentButtonActive:""}`,onClick:()=>_($.id,"watch"),children:"Watch"}),t.jsx("button",{type:"button",className:`${Le.assignmentButton} ${q==="partner"?Le.assignmentButtonActive:""}`,onClick:()=>_($.id,"partner"),children:"Partner"})]})]}),t.jsx("div",{className:Le.membersCell,children:t.jsx("div",{className:Le.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(fe=>t.jsx("button",{type:"button",className:`${Le.decisionButton} ${z===fe?Le.decisionButtonActive:""}`,onClick:()=>S($.id,fe),children:fe==="take"?"Take":fe==="bench"?"Bench":fe==="drop"?"Drop":"?"},fe))})}),t.jsxs("div",{className:`${Le.membersCell} ${Le.partnerPickerCell}`,children:[t.jsx("label",{className:Le.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),t.jsx("select",{id:`partner-select-${$.id}`,className:Le.partnerSelect,value:W!=null?W:(Z=h[0])==null?void 0:Z.id,onChange:fe=>_($.id,"partner",fe.target.value),children:h.map(fe=>t.jsx("option",{value:fe.id,children:fe.label},fe.id))})]})]},$.id)})]}),l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:Le.contextMenuBackdrop,onClick:g}),t.jsxs("div",{className:Le.contextMenu,style:{top:l.y,left:l.x},children:[t.jsx("button",{type:"button",className:Le.contextMenuItem,onClick:()=>_(l.memberId,"main"),children:"Move to Main guild"}),t.jsx("button",{type:"button",className:Le.contextMenuItem,onClick:()=>_(l.memberId,"watch"),children:"Move to Watchlist"}),h.map($=>t.jsxs("button",{type:"button",className:Le.contextMenuItem,onClick:()=>_(l.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const qme="_overview_6ytw3_1",Kme="_contextBox_6ytw3_15",Qme="_contextKicker_6ytw3_35",Xme="_contextTitle_6ytw3_51",Yme="_contextText_6ytw3_61",Jme="_contextDetails_6ytw3_71",Zme="_detailItem_6ytw3_85",ege="_detailLabel_6ytw3_99",tge="_detailValue_6ytw3_113",sge="_kpiGrid_6ytw3_121",nge="_kpiCard_6ytw3_133",rge="_kpiLabel_6ytw3_153",ige="_kpiValue_6ytw3_167",age="_columnsWrapper_6ytw3_177",oge="_column_6ytw3_177",lge="_columnDropTarget_6ytw3_213",cge="_columnHeader_6ytw3_223",dge="_columnKicker_6ytw3_235",uge="_columnTitle_6ytw3_251",hge="_columnCount_6ytw3_259",pge="_columnBody_6ytw3_281",mge="_memberCard_6ytw3_293",gge="_memberTop_6ytw3_337",fge="_memberName_6ytw3_349",vge="_memberMeta_6ytw3_357",xge="_memberBadge_6ytw3_369",yge="_memberBottom_6ytw3_395",bge="_memberGuild_6ytw3_409",_ge="_memberServer_6ytw3_419",wge="_memberActions_6ytw3_427",jge="_emptyList_6ytw3_469",Sge="_emptyWrap_6ytw3_487",Nge="_emptyTitle_6ytw3_501",kge="_emptyText_6ytw3_509",Cge="_addPartnerCard_6ytw3_519",Tge="_contextMenuBackdrop_6ytw3_559",Ige="_contextMenu_6ytw3_559",Age="_contextMenuItem_6ytw3_601",at={overview:qme,contextBox:Kme,contextKicker:Qme,contextTitle:Xme,contextText:Yme,contextDetails:Jme,detailItem:Zme,detailLabel:ege,detailValue:tge,kpiGrid:sge,kpiCard:nge,kpiLabel:rge,kpiValue:ige,columnsWrapper:age,column:oge,columnDropTarget:lge,columnHeader:cge,columnKicker:dge,columnTitle:uge,columnCount:hge,columnBody:pge,memberCard:mge,memberTop:gge,memberName:fge,memberMeta:vge,memberBadge:xge,memberBottom:yge,memberGuild:bge,memberServer:_ge,memberActions:wge,emptyList:jge,emptyWrap:Sge,emptyTitle:Nge,emptyText:kge,addPartnerCard:Cge,contextMenuBackdrop:Tge,contextMenu:Ige,contextMenuItem:Age};function Ege({members:s,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:a}){var U,W,K;const l=(U=e==null?void 0:e.decisions)!=null?U:{},c=(W=e==null?void 0:e.targetGuildAssignments)!=null?W:{},u=n.partnerGuilds.length>0?n.partnerGuilds.map((q,se)=>({id:q.id,label:q.name||`Partner ${se+1}`})):[{id:"partner-default",label:"Partner guild"}],h=s.filter(q=>l[q.id]==="take"&&c[q.id]==="main"),p=s.filter(q=>l[q.id]==="bench"),g=u.reduce((q,se)=>(q[se.id]=s.filter(ne=>{const H=c[ne.id];return l[ne.id]==="take"&&(H===`partner:${se.id}`||H==="partner")}),q),{}),x=s.filter(q=>!h.includes(q)&&!p.includes(q)&&!Object.values(g).some(se=>se.includes(q))),[b,_]=X.useState(null),[S,C]=X.useState(null),E=X.useRef(null),F=s.length,k=h.length,y=p.length,w=Object.values(g).reduce((q,se)=>q+se.length,0),P=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-k-w):0,T=X.useCallback((q,se,ne)=>{q&&(se==="main"?(r(q,"take"),i(q,"main")):se==="partner"?(r(q,"take"),i(q,ne?`partner:${ne}`:"partner")):se==="unassigned"?(r(q,"undecided"),i(q,"none")):(r(q,"bench"),i(q,"none")),C(null))},[r,i]),N=X.useCallback((q,se)=>ne=>{ne.preventDefault();const H=ne.dataTransfer.getData("text/plain");H&&T(H,q,se),_(null)},[T]),A=X.useCallback(q=>se=>{se.preventDefault(),_(q)},[]),M=X.useCallback(()=>_(null),[]),R=X.useCallback((q,se)=>{C({memberId:q,...se})},[]),B=X.useCallback(()=>{E.current!==null&&(window.clearTimeout(E.current),E.current=null)},[]),$=X.useCallback((q,se,ne)=>{B(),E.current=window.setTimeout(()=>{R(q,{x:se,y:ne})},550)},[B,R]);if(X.useEffect(()=>()=>B(),[B]),!e)return t.jsxs("div",{className:at.emptyWrap,children:[t.jsx("h3",{className:at.emptyTitle,children:"Overview"}),t.jsx("p",{className:at.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!s.length)return t.jsxs("div",{className:at.emptyWrap,children:[t.jsx("h3",{className:at.emptyTitle,children:"No members loaded"}),t.jsx("p",{className:at.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const z=(q,se,ne,H,J)=>t.jsxs("div",{className:`${at.column} ${b===q?at.columnDropTarget:""}`,onDragOver:A(q),onDragEnter:A(q),onDragLeave:M,onDrop:N(q,J),children:[t.jsxs("div",{className:at.columnHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:at.columnKicker,children:ne}),t.jsx("h4",{className:at.columnTitle,children:se})]}),t.jsx("span",{className:at.columnCount,children:H.length})]}),t.jsx("div",{className:at.columnBody,children:H.length?H.map(le=>{var oe,he,xe,Re;return t.jsxs("div",{className:at.memberCard,draggable:!0,onDragStart:Z=>Z.dataTransfer.setData("text/plain",le.id),onContextMenu:Z=>{Z.preventDefault(),R(le.id,{x:Z.clientX,y:Z.clientY})},onTouchStart:Z=>{const fe=Z.touches[0];fe&&$(le.id,fe.clientX,fe.clientY)},onTouchEnd:B,onTouchCancel:B,children:[t.jsxs("div",{className:at.memberTop,children:[t.jsxs("div",{children:[t.jsx("div",{className:at.memberName,children:le.name}),t.jsxs("p",{className:at.memberMeta,children:[(he=(oe=le.className)!=null?oe:le.class)!=null?he:"Unknown","  ",(xe=le.role)!=null?xe:"Unknown"]})]}),t.jsxs("span",{className:at.memberBadge,children:["Lvl ",(Re=le.level)!=null?Re:"?"]})]}),t.jsxs("div",{className:at.memberBottom,children:[t.jsxs("span",{className:at.memberGuild,children:[le.guildName," ",t.jsxs("span",{className:at.memberServer,children:["(",le.server||"Server n/a",")"]})]}),t.jsxs("div",{className:at.memberActions,children:[t.jsx("button",{type:"button",onClick:()=>T(le.id,"main"),children:"Main"}),t.jsx("button",{type:"button",onClick:()=>T(le.id,"watch"),children:"Watch"}),t.jsx("button",{type:"button",onClick:()=>T(le.id,"partner"),children:"Partner"})]})]})]},le.id)}):t.jsx("div",{className:at.emptyList,children:"No players in this list yet."})})]});return t.jsxs("div",{className:at.overview,children:[t.jsxs("div",{className:at.contextBox,children:[t.jsxs("div",{children:[t.jsx("p",{className:at.contextKicker,children:"Setup"}),t.jsx("h3",{className:at.contextTitle,children:"Fusion Overview"}),t.jsx("p",{className:at.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),t.jsxs("div",{className:at.contextDetails,children:[t.jsxs("div",{className:at.detailItem,children:[t.jsx("span",{className:at.detailLabel,children:"Base Guild"}),t.jsx("strong",{className:at.detailValue,children:((K=n.baseGuild)==null?void 0:K.name)||"Unbenannt"})]}),t.jsxs("div",{className:at.detailItem,children:[t.jsx("span",{className:at.detailLabel,children:"Partner Guilds"}),t.jsx("strong",{className:at.detailValue,children:n.partnerGuilds.length})]}),t.jsxs("div",{className:at.detailItem,children:[t.jsx("span",{className:at.detailLabel,children:"Max Slots"}),t.jsx("strong",{className:at.detailValue,children:e.maxSlots})]})]})]}),t.jsxs("div",{className:at.kpiGrid,children:[t.jsxs("div",{className:at.kpiCard,children:[t.jsx("span",{className:at.kpiLabel,children:"Total players"}),t.jsx("strong",{className:at.kpiValue,children:F})]}),t.jsxs("div",{className:at.kpiCard,children:[t.jsx("span",{className:at.kpiLabel,children:"Main guild"}),t.jsx("strong",{className:at.kpiValue,children:k})]}),t.jsxs("div",{className:at.kpiCard,children:[t.jsx("span",{className:at.kpiLabel,children:"Watchlist"}),t.jsx("strong",{className:at.kpiValue,children:y})]}),t.jsxs("div",{className:at.kpiCard,children:[t.jsx("span",{className:at.kpiLabel,children:"Partner guild"}),t.jsx("strong",{className:at.kpiValue,children:w})]}),t.jsxs("div",{className:at.kpiCard,children:[t.jsx("span",{className:at.kpiLabel,children:"Free slots"}),t.jsx("strong",{className:at.kpiValue,children:P})]})]}),t.jsxs("div",{className:at.columnsWrapper,children:[z("unassigned","Unassigned","Noch ohne Planung",x),z("main","Main guild","Take & Assign main",h),z("watch","Watchlist","Bench for review",p),u.map(q=>{var se;return z("partner",q.label,"Take & Assign partner",(se=g[q.id])!=null?se:[],q.id)}),t.jsx("button",{type:"button",className:at.addPartnerCard,onClick:()=>a(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),S?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:at.contextMenuBackdrop,onClick:()=>C(null)}),t.jsxs("div",{className:at.contextMenu,style:{top:S.y,left:S.x},children:[t.jsx("button",{type:"button",className:at.contextMenuItem,onClick:()=>T(S.memberId,"main"),children:"Move to Main guild"}),t.jsx("button",{type:"button",className:at.contextMenuItem,onClick:()=>T(S.memberId,"watch"),children:"Move to Watchlist"}),u.map(q=>t.jsxs("button",{type:"button",className:at.contextMenuItem,onClick:()=>T(S.memberId,"partner",q.id),children:["Move to ",q.label]},q.id))]})]}):null]})}const Pge="_scenariosTab_3v4iw_1",Rge="_scenariosHeader_3v4iw_13",Lge="_scenariosTitle_3v4iw_35",Dge="_scenariosText_3v4iw_45",Mge="_scenarioInfo_3v4iw_57",Fge="_headerActions_3v4iw_71",Bge="_createButton_3v4iw_81",$ge="_scenarioList_3v4iw_115",Oge="_scenarioCard_3v4iw_127",Vge="_scenarioCardActive_3v4iw_147",Uge="_scenarioCardTop_3v4iw_157",zge="_cardKicker_3v4iw_169",Hge="_cardTitle_3v4iw_185",Gge="_cardText_3v4iw_197",Wge="_scenarioActiveBadge_3v4iw_209",qge="_scenarioMeta_3v4iw_231",Kge="_scenarioMetaLabel_3v4iw_243",Qge="_scenarioMetaValue_3v4iw_259",Xge="_scenarioStats_3v4iw_269",Yge="_scenarioStatItem_3v4iw_281",Jge="_scenarioStatLabel_3v4iw_295",Zge="_scenarioStatValue_3v4iw_311",efe="_scenarioActions_3v4iw_321",tfe="_scenarioActionButton_3v4iw_337",sfe="_scenarioActionActive_3v4iw_367",nfe="_scenarioActionGroup_3v4iw_377",rfe="_secondaryActionButton_3v4iw_389",ife="_deleteActionButton_3v4iw_391",afe="_deleteActionDisabled_3v4iw_443",Ut={scenariosTab:Pge,scenariosHeader:Rge,scenariosTitle:Lge,scenariosText:Dge,scenarioInfo:Mge,headerActions:Fge,createButton:Bge,scenarioList:$ge,scenarioCard:Oge,scenarioCardActive:Vge,scenarioCardTop:Uge,cardKicker:zge,cardTitle:Hge,cardText:Gge,scenarioActiveBadge:Wge,scenarioMeta:qge,scenarioMetaLabel:Kge,scenarioMetaValue:Qge,scenarioStats:Xge,scenarioStatItem:Yge,scenarioStatLabel:Jge,scenarioStatValue:Zge,scenarioActions:efe,scenarioActionButton:tfe,scenarioActionActive:sfe,scenarioActionGroup:nfe,secondaryActionButton:rfe,deleteActionButton:ife,deleteActionDisabled:afe};function ofe({scenarios:s,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:a,onDeleteScenario:l}){const c=X.useCallback(p=>{const g=Object.values(p.decisions),x=g.filter(C=>C==="take").length,b=g.filter(C=>C==="bench").length,_=g.filter(C=>C==="drop").length,S=Math.max(0,p.maxSlots-p.reservedSlots-x);return{selected:x,bench:b,drop:_,free:S}},[]),u=p=>{const g=window.prompt("Neuer Szenario-Name",p.name);g!==null&&a(p.id,g)},h=p=>{if(s.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&l(p.id)};return t.jsxs("div",{className:Ut.scenariosTab,children:[t.jsxs("div",{className:Ut.scenariosHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ut.cardKicker,children:"Scenarios"}),t.jsx("h3",{className:Ut.scenariosTitle,children:"Fusion Plans verwalten"}),t.jsx("p",{className:Ut.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),t.jsx("div",{className:Ut.headerActions,children:t.jsx("button",{type:"button",className:Ut.createButton,onClick:r,children:"Neues Szenario"})})]}),t.jsx("p",{className:Ut.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),t.jsx("div",{className:Ut.scenarioList,children:s.map(p=>{const g=c(p),x=p.id===e,b=s.length<=1;return t.jsxs("article",{className:`${Ut.scenarioCard} ${x?Ut.scenarioCardActive:""}`,children:[t.jsxs("div",{className:Ut.scenarioCardTop,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ut.cardKicker,children:"Scenario"}),t.jsx("h3",{className:Ut.cardTitle,children:p.name}),p.description?t.jsx("p",{className:Ut.cardText,children:p.description}):null]}),x?t.jsx("span",{className:Ut.scenarioActiveBadge,children:"Active"}):null]}),t.jsxs("div",{className:Ut.scenarioMeta,children:[t.jsxs("div",{children:[t.jsx("span",{className:Ut.scenarioMetaLabel,children:"Max slots"}),t.jsx("span",{className:Ut.scenarioMetaValue,children:p.maxSlots})]}),t.jsxs("div",{children:[t.jsx("span",{className:Ut.scenarioMetaLabel,children:"Reserved"}),t.jsx("span",{className:Ut.scenarioMetaValue,children:p.reservedSlots})]})]}),t.jsxs("div",{className:Ut.scenarioStats,children:[t.jsxs("div",{className:Ut.scenarioStatItem,children:[t.jsx("span",{className:Ut.scenarioStatLabel,children:"Selected"}),t.jsx("strong",{className:Ut.scenarioStatValue,children:g.selected})]}),t.jsxs("div",{className:Ut.scenarioStatItem,children:[t.jsx("span",{className:Ut.scenarioStatLabel,children:"Free"}),t.jsx("strong",{className:Ut.scenarioStatValue,children:g.free})]}),t.jsxs("div",{className:Ut.scenarioStatItem,children:[t.jsx("span",{className:Ut.scenarioStatLabel,children:"Bench"}),t.jsx("strong",{className:Ut.scenarioStatValue,children:g.bench})]}),t.jsxs("div",{className:Ut.scenarioStatItem,children:[t.jsx("span",{className:Ut.scenarioStatLabel,children:"Drop"}),t.jsx("strong",{className:Ut.scenarioStatValue,children:g.drop})]})]}),t.jsxs("div",{className:Ut.scenarioActions,children:[t.jsx("button",{type:"button",className:`${Ut.scenarioActionButton} ${x?Ut.scenarioActionActive:""}`,onClick:()=>n(p.id),children:"Set active"}),t.jsxs("div",{className:Ut.scenarioActionGroup,children:[t.jsx("button",{type:"button",className:Ut.secondaryActionButton,onClick:()=>i(p.id),children:"Duplicate"}),t.jsx("button",{type:"button",className:Ut.secondaryActionButton,onClick:()=>u(p),children:"Rename"}),t.jsx("button",{type:"button",className:`${Ut.deleteActionButton} ${b?Ut.deleteActionDisabled:""}`,onClick:()=>h(p),disabled:b,children:"Delete"})]})]})]},p.id)})})]})}const lfe="_resultWrap_179wi_1",cfe="_emptyState_179wi_13",dfe="_emptyTitle_179wi_35",ufe="_emptyText_179wi_43",hfe="_resultHeader_179wi_55",pfe="_resultKicker_179wi_79",mfe="_resultTitle_179wi_95",gfe="_resultText_179wi_107",ffe="_emptyNote_179wi_119",vfe="_setupSummary_179wi_131",xfe="_setupSummaryTitle_179wi_149",yfe="_setupSummaryRow_179wi_159",bfe="_setupSummaryLabel_179wi_171",_fe="_setupSummaryValue_179wi_185",wfe="_setupSummaryMeta_179wi_195",jfe="_setupSummaryTags_179wi_205",Sfe="_setupSummaryTag_179wi_205",Nfe="_classDistribution_179wi_241",kfe="_resultStats_179wi_253",Cfe="_resultStatBadge_179wi_267",Tfe="_resultStatBadgeMuted_179wi_269",Ife="_group_179wi_307",Afe="_groupHeader_179wi_327",Efe="_groupTitle_179wi_341",Pfe="_groupHint_179wi_351",Rfe="_groupBadge_179wi_361",Lfe="_badgeSuccess_179wi_387",Dfe="_badgeMuted_179wi_399",Mfe="_badgeDanger_179wi_409",Ffe="_groupEmpty_179wi_421",Bfe="_groupTable_179wi_437",$fe="_groupRow_179wi_455",Ofe="_groupHead_179wi_327",Vfe="_groupCell_179wi_491",Ufe="_memberName_179wi_501",zfe="_memberBadge_179wi_509",dt={resultWrap:lfe,emptyState:cfe,emptyTitle:dfe,emptyText:ufe,resultHeader:hfe,resultKicker:pfe,resultTitle:mfe,resultText:gfe,emptyNote:ffe,setupSummary:vfe,setupSummaryTitle:xfe,setupSummaryRow:yfe,setupSummaryLabel:bfe,setupSummaryValue:_fe,setupSummaryMeta:wfe,setupSummaryTags:jfe,setupSummaryTag:Sfe,classDistribution:Nfe,resultStats:kfe,resultStatBadge:Cfe,resultStatBadgeMuted:Tfe,group:Ife,groupHeader:Afe,groupTitle:Efe,groupHint:Pfe,groupBadge:Rfe,badgeSuccess:Lfe,badgeMuted:Dfe,badgeDanger:Mfe,groupEmpty:Ffe,groupTable:Bfe,groupRow:$fe,groupHead:Ofe,groupCell:Vfe,memberName:Ufe,memberBadge:zfe};function Hfe({members:s,scenario:e,setupState:n}){var _;if(!e)return t.jsxs("div",{className:dt.emptyState,children:[t.jsx("h3",{className:dt.emptyTitle,children:"No scenario selected"}),t.jsx("p",{className:dt.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!s||s.length===0)return t.jsxs("div",{className:dt.emptyState,children:[t.jsx("h3",{className:dt.emptyTitle,children:"No members available"}),t.jsx("p",{className:dt.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:a,undecidedMembers:l}=X.useMemo(()=>{const S=[],C=[],E=[],F=[];return s.forEach(k=>{var w;const y=(w=e.decisions[k.id])!=null?w:"undecided";y==="take"?S.push(k):y==="bench"?C.push(k):y==="drop"?E.push(k):F.push(k)}),{takeMembers:S,benchMembers:C,dropMembers:E,undecidedMembers:F}},[s,e.decisions]),c=r.length,u=i.length,h=a.length,p=Math.max(0,e.maxSlots-c),g=e.maxSlots?Math.round(c/e.maxSlots*100):0,x=X.useMemo(()=>{const S=r.reduce((E,F)=>{var y,w;const k=(y=F.className)!=null?y:F.class;return k&&(E[k]=((w=E[k])!=null?w:0)+1),E},{});return Object.entries(S).map(([E,F])=>`${E}: ${F}`).join(" | ")},[r]),b=(S,C,E,F)=>t.jsxs("div",{className:dt.group,children:[t.jsxs("div",{className:dt.groupHeader,children:[t.jsxs("div",{children:[t.jsx("h4",{className:dt.groupTitle,children:S}),t.jsx("span",{className:dt.groupHint,children:C})]}),t.jsx("span",{className:`${dt.groupBadge} ${F}`,children:E.length})]}),E.length===0?t.jsx("div",{className:dt.groupEmpty,children:"No players in this group."}):t.jsxs("div",{className:dt.groupTable,role:"table",children:[t.jsxs("div",{className:`${dt.groupRow} ${dt.groupHead}`,role:"row",children:[t.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Name"}),t.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Level"}),t.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Guild"}),t.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Class"})]}),E.map(k=>{var y,w;return t.jsxs("div",{className:dt.groupRow,role:"row",children:[t.jsx("div",{className:dt.groupCell,role:"cell",children:t.jsx("span",{className:dt.memberName,children:k.name})}),t.jsx("div",{className:dt.groupCell,role:"cell",children:t.jsxs("span",{className:dt.memberBadge,children:["Lvl ",k.level]})}),t.jsx("div",{className:dt.groupCell,role:"cell",children:k.guildName}),t.jsx("div",{className:dt.groupCell,role:"cell",children:(w=(y=k.className)!=null?y:k.class)!=null?w:"-"})]},k.id)})]})]});return t.jsxs("div",{className:dt.resultWrap,children:[t.jsxs("div",{className:dt.resultHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:dt.resultKicker,children:"Final Plan"}),t.jsx("h3",{className:dt.resultTitle,children:e.name}),t.jsx("p",{className:dt.resultText,children:(_=e.description)!=null?_:"Zusammenfassung des aktuellen Plans."}),r.length===0?t.jsx("p",{className:dt.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,x?t.jsxs("p",{className:dt.classDistribution,children:["Class distribution: ",x]}):null,t.jsxs("div",{className:dt.setupSummary,children:[t.jsx("div",{className:dt.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?t.jsxs("div",{className:dt.setupSummaryRow,children:[t.jsx("span",{className:dt.setupSummaryLabel,children:"Base"}),t.jsxs("span",{className:dt.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",t.jsxs("span",{className:dt.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):t.jsxs("div",{className:dt.setupSummaryRow,children:[t.jsx("span",{className:dt.setupSummaryLabel,children:"Base"}),t.jsx("span",{className:dt.setupSummaryMeta,children:"No base guild selected."})]}),t.jsxs("div",{className:dt.setupSummaryRow,children:[t.jsx("span",{className:dt.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?t.jsx("div",{className:dt.setupSummaryTags,children:n.partnerGuilds.map(S=>t.jsxs("span",{className:dt.setupSummaryTag,children:[S.name||"Unbenannt"," ",t.jsxs("span",{className:dt.setupSummaryMeta,children:["(",S.server||"Server n/a",")"]})]},S.id))}):t.jsx("span",{className:dt.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),t.jsxs("div",{className:dt.resultStats,children:[t.jsxs("span",{className:dt.resultStatBadge,children:["Members selected: ",c," / ",e.maxSlots]}),t.jsxs("span",{className:dt.resultStatBadge,children:["Bench: ",u]}),t.jsxs("span",{className:dt.resultStatBadge,children:["Drop: ",h]}),t.jsxs("span",{className:dt.resultStatBadge,children:["Free slots: ",p]}),t.jsxs("span",{className:dt.resultStatBadge,children:["Utilization: ",g,"%"]}),l.length>0?t.jsxs("span",{className:dt.resultStatBadgeMuted,children:["Undecided: ",l.length]}):null]})]}),b("Final roster (selected)","Take",r,dt.badgeSuccess),b("Bench (waiting list)","Bench",i,dt.badgeMuted),b("Not included","Drop",a,dt.badgeDanger)]})}const Cg=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],fC=s=>s.reduce((e,n)=>(e[n.id]="undecided",e),{}),vC=s=>s.reduce((e,n)=>(e[n.id]="none",e),{}),Gfe=(s,e,n)=>{var r,i,a,l,c,u,h,p,g,x,b,_,S,C,E,F;return{id:s.id,name:(r=s.name)!=null?r:"Unknown",class:(i=s.class)!=null?i:"Unknown",className:(a=s.class)!=null?a:void 0,role:(l=s.role)!=null?l:"Unknown",level:(c=s.level)!=null?c:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(u=s.lastActivityMs)!=null?u:null,baseStats:{main:(h=s.baseMain)!=null?h:void 0,con:(p=s.conBase)!=null?p:void 0,sumBaseTotal:(g=s.sumBaseTotal)!=null?g:void 0},totalStats:(x=s.totalStats)!=null?x:void 0,values:{treasury:(b=s.treasury)!=null?b:void 0,mine:(_=s.mine)!=null?_:void 0,attrTotal:(S=s.attrTotal)!=null?S:void 0,conTotal:(C=s.conTotal)!=null?C:void 0,lastScan:(E=s.lastScan)!=null?E:void 0,lastActivity:(F=s.lastActivity)!=null?F:void 0}}},Wfe=s=>{var r,i;if(!s)return null;const e=(r=s.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=s.name)==null?void 0:i.trim();return n||null},xC=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,yC=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],qfe=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function Kfe(){var $;const[s,e]=X.useState("setup"),[n,r]=X.useState(Cg),[i,a]=X.useState(!1),[l,c]=X.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,h]=X.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:fC(Cg),targetGuildAssignments:vC(Cg),isDefault:!0}]),[p,g]=X.useState("plan-a"),x=X.useMemo(()=>{var z,U;return(U=(z=u.find(W=>W.id===p))!=null?z:u[0])!=null?U:null},[p,u]),b=X.useMemo(()=>{var K,q;const z=l.baseGuild,U=(K=z==null?void 0:z.name)==null?void 0:K.trim(),W=(q=z==null?void 0:z.server)==null?void 0:q.trim();return!!(U&&W)},[l.baseGuild]),_=X.useMemo(()=>n.length>0,[n.length]),S=X.useMemo(()=>u.length>0,[u.length]),C=X.useMemo(()=>{const z=[];return b||z.push("Setup incomplete - no base guild selected."),b&&!_&&z.push("No members loaded yet. Check scans or setup."),S||z.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),z},[b,_,S]),E=(z,U)=>{h(W=>W.map(K=>K.id===p?{...K,decisions:{...K.decisions,[z]:U}}:K))},F=(z,U)=>{h(W=>W.map(K=>{var q;return K.id===p?{...K,targetGuildAssignments:{...(q=K.targetGuildAssignments)!=null?q:{},[z]:U}}:K}))},k=z=>{const U=Number(z)||0;h(W=>W.map(K=>K.id===p?{...K,maxSlots:Math.max(0,U)}:K))},y=()=>{h(z=>{const U={id:xC(),name:`Plan ${z.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:fC(n),targetGuildAssignments:vC(n)};return g(U.id),[...z,U]})},w=z=>{h(U=>{var q;const W=U.find(se=>se.id===z);if(!W)return U;const K={...W,id:xC(),name:`${W.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...W.decisions},targetGuildAssignments:{...(q=W.targetGuildAssignments)!=null?q:{}}};return g(K.id),[...U,K]})},P=(z,U)=>{const W=U.trim();W&&h(K=>K.map(q=>q.id===z?{...q,name:W}:q))},T=z=>{h(U=>{if(U.length<=1)return U;const W=U.filter(K=>K.id!==z);return W.length?(p===z&&g(W[0].id),W):U})};X.useEffect(()=>{if(l.mode!=="scan"){a(!1),r(Cg);return}const z=[l.baseGuild,...l.partnerGuilds].filter(Boolean);if(z.length===0){a(!1),r([]);return}let U=!1;async function W(){var q,se,ne,H,J,le,oe,he,xe,Re;const K=Bn("FusionPlanner:loadMembers");a(!0);try{const Z=[];for(const fe of z){const ie=Wfe(fe);if(!ie)continue;const _e=Zt(pt,`guilds/${ie}/latest/latest`),be=await yo(K,_e,()=>un(_e)),Se=be.exists()?be.data():null,Ve=(J=(H=(se=(q=fe.name)==null?void 0:q.trim())!=null?se:Se==null?void 0:Se.name)!=null?H:(ne=Se==null?void 0:Se.values)==null?void 0:ne.Name)!=null?J:ie,Ue=(Re=(xe=(oe=(le=fe.server)==null?void 0:le.trim())!=null?oe:Se==null?void 0:Se.server)!=null?xe:(he=Se==null?void 0:Se.values)==null?void 0:he.Server)!=null?Re:null,tt=Zt(pt,`guilds/${ie}/snapshots/members_summary`),Je=await yo(K,tt,()=>un(tt));if(!Je.exists())continue;const ct=Je.data();(Array.isArray(ct.members)?ct.members:[]).forEach(je=>{Z.push(Gfe(je,Ve,Ue))})}U||r(Z)}catch(Z){console.error("[FusionPlanner] Failed to load members",Z),U||r([])}finally{U||a(!1),tn(K)}}return r([]),W(),()=>{U=!0}},[l.baseGuild,l.partnerGuilds,l.mode]),X.useEffect(()=>{i||h(z=>z.map(U=>{var se;const W=new Set(n.map(ne=>ne.id)),K={...U.decisions},q={...(se=U.targetGuildAssignments)!=null?se:{}};return n.forEach(ne=>{K[ne.id]||(K[ne.id]="undecided"),q[ne.id]||(q[ne.id]="none")}),Object.keys(K).forEach(ne=>{W.has(ne)||delete K[ne]}),Object.keys(q).forEach(ne=>{W.has(ne)||delete q[ne]}),{...U,decisions:K,targetGuildAssignments:q}}))},[n,i]);const N=z=>{c(U=>({...U,mode:z}))},A=z=>{c(U=>{var K,q,se;const W=(K=U.baseGuild)!=null?K:{id:"base-1",kind:"base",name:"",server:""};return{...U,baseGuild:{...W,...z.id?{id:z.id}:{},name:(q=z.name)!=null?q:W.name,server:(se=z.server)!=null?se:W.server}}})},M=z=>{var q;if(!z.name.trim()||!z.server.trim())return;const U=z.name.trim(),W=z.server.trim(),K=(q=z.id)==null?void 0:q.trim();c(se=>({...se,partnerGuilds:[...se.partnerGuilds,{id:K&&!K.startsWith("partner-")?K:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:U,server:W,kind:"partner"}]}))},R=z=>{c(U=>({...U,partnerGuilds:U.partnerGuilds.filter(W=>W.id!==z)}))},B=()=>{switch(s){case"setup":return t.jsx(Xpe,{setupState:l,onChangeMode:N,onChangeBaseGuild:A,onAddPartnerGuild:M,onRemovePartnerGuild:R});case"members":return t.jsx(Wme,{members:n,scenario:x,onChangeScenarioDecision:E,onChangeScenarioTargetGuild:F,onChangeScenarioMaxSlots:k,setupState:l});case"overview":return t.jsx(Ege,{members:n,scenario:x,setupState:l,onChangeScenarioDecision:E,onChangeScenarioTargetGuild:F,onAddPartnerGuild:z=>M({name:z,server:"tbd"})});case"scenarios":return t.jsx(ofe,{scenarios:u,activeScenarioId:p,onSetActiveScenario:g,onCreateScenario:y,onDuplicateScenario:w,onRenameScenario:P,onDeleteScenario:T});case"result":return t.jsx(Hfe,{members:n,scenario:x,setupState:l});default:return null}};return t.jsx(zt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:t.jsxs("div",{className:ut.page,children:[t.jsxs("header",{className:ut.header,children:[t.jsxs("div",{className:ut.headerLeading,children:[t.jsx(ws,{to:"/guild-hub",className:ut.backLink,children:"Back to Guild Hub"}),t.jsxs("div",{className:ut.headerStack,children:[t.jsx("p",{className:ut.kicker,children:"Guild Hub"}),t.jsx("h1",{className:ut.title,children:"Fusion Planner"}),t.jsx("p",{className:ut.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),t.jsxs("div",{className:ut.headerActions,children:[t.jsx("button",{type:"button",className:ut.primaryAction,children:"Neues Setup"}),t.jsx("button",{type:"button",className:ut.secondaryAction,children:"Checkliste"})]})]}),C.length?t.jsx("div",{className:ut.plannerNotice,role:"status","aria-live":"polite",children:C.map(z=>t.jsxs("div",{className:`${ut.noticeItem} ${z.toLowerCase().includes("no base guild")?ut.noticeWarning:""}`,children:[t.jsx("span",{className:ut.noticeDot,"aria-hidden":!0}),t.jsx("span",{children:z})]},z))}):null,t.jsxs("section",{className:ut.tabSection,"aria-label":"Fusion Planner Tabs",children:[t.jsx("div",{className:ut.tabBar,children:yC.map(z=>{const U=z.key===s;return t.jsxs("button",{type:"button",className:`${ut.tabItem} ${U?ut.tabItemActive:""}`,onClick:()=>e(z.key),"aria-pressed":U,children:[t.jsx("span",{className:ut.tabLabel,children:z.label}),t.jsx("span",{className:ut.tabHelper,children:z.helper})]},z.key)})}),t.jsxs("div",{className:ut.tabPanel,children:[t.jsx("span",{className:ut.tabBadge,children:($=yC.find(z=>z.key===s))==null?void 0:$.label}),B()]})]}),t.jsxs("section",{className:ut.infoStrip,children:[t.jsxs("div",{className:ut.infoBlock,children:[t.jsx("span",{className:ut.infoLabel,children:"Status"}),t.jsx("strong",{children:"Entwurf"}),t.jsx("p",{className:ut.infoHint,children:"Bereit fuer weitere Eingaben."})]}),t.jsxs("div",{className:ut.infoBlock,children:[t.jsx("span",{className:ut.infoLabel,children:"Slots geplant"}),t.jsx("strong",{children:"0 / 40"}),t.jsx("p",{className:ut.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),t.jsxs("div",{className:ut.infoBlock,children:[t.jsx("span",{className:ut.infoLabel,children:"Szenarien"}),t.jsx("strong",{children:"3"}),t.jsx("p",{className:ut.infoHint,children:"Baseline, Optimistic, Risiko."})]}),t.jsxs("div",{className:ut.infoBlock,children:[t.jsx("span",{className:ut.infoLabel,children:"Letztes Update"}),t.jsx("strong",{children:"vor wenigen Minuten"}),t.jsx("p",{className:ut.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),t.jsx("section",{className:ut.stageGrid,children:qfe.map(z=>t.jsxs("article",{className:ut.panel,children:[t.jsxs("div",{className:ut.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ut.panelKicker,children:z.step}),t.jsx("h2",{className:ut.panelTitle,children:z.title}),t.jsx("p",{className:ut.panelLead,children:z.description})]}),z.badge?t.jsx("span",{className:ut.badge,children:z.badge}):null]}),t.jsx("div",{className:ut.panelBody,children:t.jsx("div",{className:ut.placeholderGrid,children:z.placeholders.map(U=>t.jsxs("div",{className:ut.placeholderCard,children:[t.jsx("div",{className:ut.placeholderTitle,children:U}),t.jsx("p",{className:ut.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},U))})})]},z.key))}),t.jsx("section",{className:ut.helperSection,children:t.jsxs("div",{className:ut.helperCard,children:[t.jsxs("div",{children:[t.jsx("p",{className:ut.helperKicker,children:"Result"}),t.jsx("h3",{className:ut.helperTitle,children:"Finaler Merge-Plan"}),t.jsx("p",{className:ut.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),t.jsxs("div",{className:ut.helperActions,children:[t.jsx("button",{type:"button",className:ut.secondaryAction,children:"Teilen"}),t.jsx("button",{type:"button",className:ut.primaryAction,children:"Review starten"})]})]})})]})})}const F1=["EU-01","EU-02","US-01","US-02","ASIA-01"],Oh=new Intl.NumberFormat("de-DE");function Qfe(){const s=iu("(min-width: 768px)"),[e,n]=X.useState("all"),[r,i]=X.useState(null),[a,l]=X.useState(null),[c,u]=X.useState(null),[h,p]=X.useState(null),g=[r,a].filter(Boolean).length,x=X.useMemo(()=>{const R=[c,h].filter(Boolean);if(!R.length)return 0;const B=R.reduce(($,z)=>{var U;return $+((U=z.members)!=null?U:0)},0);return Math.round(B/R.length)},[c,h]),[b,_]=X.useState(null),[S,C]=X.useState(!1),E=X.useRef(null);au(E,S&&!s),X.useEffect(()=>{s&&C(!1)},[s]),X.useEffect(()=>{if(!b)return;const R=$=>{const z=$.target;z&&(z.closest(`.${ce.freshnessBadge}`)||z.closest(`.${ce.freshnessPopover}`)||_(null))},B=$=>{$.key==="Escape"&&_(null)};return document.addEventListener("pointerdown",R),document.addEventListener("keydown",B),()=>{document.removeEventListener("pointerdown",R),document.removeEventListener("keydown",B)}},[b]);const F=X.useMemo(()=>c?lp(c.nextUpdateAt,Date.now()):"",[c]),k=X.useMemo(()=>h?lp(h.nextUpdateAt,Date.now()):"",[h]),y=()=>C(!0),w=()=>C(!1),P=R=>{n(R)},T=(R,B)=>{R==="guildA"?(i(B.id),u(B)):(l(B.id),p(B))},N=R=>{R==="guildA"?(i(null),u(null)):(l(null),p(null))},A=R=>{_(B=>B===R?null:R)},M=c&&h;return t.jsxs(zt,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[t.jsxs("div",{className:ce.page,children:[t.jsxs("header",{className:ce.header,children:[t.jsxs("div",{className:ce.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Guild Hub"}),t.jsx("h1",{className:ce.title,children:"Gilden vergleichen"}),t.jsx("p",{className:ce.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),t.jsx("div",{className:ce.headerActions,children:!s&&t.jsx("button",{type:"button",className:ce.secondaryAction,onClick:y,children:"Filter"})})]}),t.jsxs("div",{className:ce.infoStrip,children:[t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Pool"}),t.jsxs("strong",{children:[Oh.format(g)," Gilden"]})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Durchschnitt Mitglieder"}),t.jsx("strong",{children:Oh.format(x)})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Serverfilter"}),t.jsx("strong",{children:e==="all"?"Alle":e})]})]}),s&&t.jsx("div",{className:ce.inlineFilters,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),F1.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]}),t.jsxs("div",{className:ce.layout,children:[t.jsxs("section",{className:ce.selectionColumn,children:[t.jsx(bC,{title:"Gilde A",slot:"guildA",selectedGuild:c,excludeId:a,onSelect:T,onClear:N,serverFilter:e,onServerChange:P}),t.jsx(bC,{title:"Gilde B",slot:"guildB",selectedGuild:h,excludeId:r,onSelect:T,onClear:N,serverFilter:e,onServerChange:P})]}),t.jsxs("section",{className:ce.comparisonColumn,children:[t.jsxs("div",{className:ce.comparisonCard,children:[t.jsxs("div",{className:ce.comparisonHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Vergleich"}),t.jsx("h2",{className:ce.sectionTitle,children:"Kennzahlen"})]}),M&&t.jsxs("span",{className:ce.diffBadge,children:["Delta Mitglieder:"," ",Oh.format(c.members-h.members)]})]}),M?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:ce.metricGrid,children:[t.jsx(_C,{label:"Mitglieder",aValue:c.members,bValue:h.members}),t.jsx(_C,{label:"Durchschnittslevel",aValue:c.avgLevel,bValue:h.avgLevel,isDecimal:!0}),t.jsx(Xfe,{guildA:c,guildB:h,countdownA:F,countdownB:k,activePopover:b,onToggle:A})]}),t.jsx(Yfe,{guildA:c,guildB:h})]}):t.jsx("div",{className:ce.emptyState,children:t.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),t.jsxs("div",{className:ce.supportPanels,children:[t.jsx(Jfe,{}),t.jsx(Zfe,{})]})]})]})]}),!s&&t.jsx("div",{className:`${ce.sheetOverlay} ${S?ce.sheetOpen:""}`,children:t.jsxs("div",{className:ce.sheet,role:"dialog","aria-modal":"true",ref:E,children:[t.jsxs("header",{className:ce.sheetHeader,children:[t.jsx("h3",{children:"Filter"}),t.jsx("button",{type:"button",className:ce.clearButton,onClick:w,children:"Schliessen"})]}),t.jsx("div",{className:ce.sheetBody,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),F1.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]})})]})}function bC({title:s,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:c}){const[u,h]=X.useState(""),p=ru(u,300);X.useEffect(()=>{h("")},[n,l]);const{results:g,loading:x}=eve(p,l,r);return t.jsxs("article",{className:ce.selectionCard,children:[t.jsxs("div",{className:ce.slotHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.slotLabel,children:s}),t.jsx("p",{className:ce.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&t.jsx("button",{type:"button",className:ce.clearButton,onClick:()=>a(e),children:"Reset"})]}),t.jsxs("div",{className:ce.slotBody,children:[t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:l,onChange:b=>c(b.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),F1.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Suchen"}),t.jsx("input",{className:ce.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),t.jsxs("div",{className:ce.resultList,role:"list",children:[x&&t.jsx("div",{className:ce.emptyResult,children:"Lade..."}),!x&&g.length===0&&t.jsx("div",{className:ce.emptyResult,children:"Keine Gilde gefunden."}),!x&&g.map(b=>t.jsxs("div",{className:ce.resultItem,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.resultName,children:b.name}),t.jsxs("p",{className:ce.resultMeta,children:[b.server," - ",b.members," Mitglieder"]})]}),t.jsx("button",{type:"button",className:ce.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&t.jsxs("div",{className:ce.selectedCard,children:[t.jsx("p",{className:ce.selectedName,children:n.name}),t.jsxs("p",{className:ce.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),t.jsx("p",{className:ce.selectedTagline,children:n.tagline})]})]})]})}function _C({label:s,aValue:e,bValue:n,isDecimal:r=!1}){const i=c=>r?c.toFixed(1).replace(".",","):Oh.format(c),a=e-n;let l="gleich";if(a!==0){const c=r?Math.abs(a).toFixed(1).replace(".",","):Oh.format(Math.abs(a));l=a>0?`+${c}`:`-${c}`}return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:s}),t.jsxs("div",{className:ce.metricValues,children:[t.jsx("span",{"aria-label":"Gilde A",children:i(e)}),t.jsx("span",{className:ce.metricDivider,children:"vs"}),t.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),t.jsx("p",{className:ce.metricDelta,children:l})]})}function Xfe({guildA:s,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Freshness"}),t.jsx("div",{className:ce.freshnessRow,children:[s,e].map(l=>{const c=l.id===s.id?n:r,u=`fresh-${l.id}`,h=i===u;return t.jsxs("div",{className:ce.freshnessItem,children:[t.jsxs("button",{type:"button",className:ce.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[t.jsx("span",{children:l.freshness.toUpperCase()}),t.jsx("small",{children:Mp(l.lastScanAt)})]}),h&&t.jsxs("div",{className:ce.freshnessPopover,role:"dialog",children:[t.jsx("p",{className:ce.popoverTitle,children:l.name}),t.jsxs("dl",{children:[t.jsxs("div",{children:[t.jsx("dt",{children:"Status"}),t.jsx("dd",{children:q_[l.freshness]})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Zuletzt gescannt"}),t.jsx("dd",{children:Ta(l.lastScanAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Naechstes Update"}),t.jsxs("dd",{children:[Ta(l.nextUpdateAt)," (",c,")"]})]})]})]})]},l.id)})})]})}function Yfe({guildA:s,guildB:e}){const n=X.useMemo(()=>Array.from(new Set([...s.classes,...e.classes].map(r=>r.label))),[s.classes,e.classes]);return t.jsxs("div",{className:ce.classCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Klassenverteilung"}),t.jsx("div",{className:ce.classGrid,children:[s,e].map(r=>t.jsxs("div",{className:ce.classColumn,children:[t.jsx("h3",{children:r.name}),t.jsx("div",{className:ce.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>t.jsxs("span",{style:{width:`${i.percent}%`},className:ce.classSlice,children:[t.jsx("small",{children:i.label}),t.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),t.jsx("ul",{className:ce.classLegend,children:n.map(r=>t.jsx("li",{children:r},r))})]})}function Jfe(){const s=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return t.jsxs("section",{className:ce.checklistCard,children:[t.jsx("h3",{children:"Vor dem Vergleich pruefen"}),t.jsx("ul",{className:ce.checklist,children:s.map(e=>t.jsx("li",{children:e},e))})]})}function Zfe(){return t.jsxs("section",{className:ce.infoCardExtended,children:[t.jsx("h3",{children:"Transfers-Diff"}),t.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",t.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),t.jsx("p",{className:ce.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),t.jsx("button",{type:"button",className:ce.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function eve(s,e,n){const[r,i]=X.useState([]),[a,l]=X.useState(!1);return X.useEffect(()=>{const c=s.trim();if(c.length===0){i([]),l(!1);return}let u=!1;async function h(){const p=Bn("CompareGuilds:search");l(!0);try{const g=c.toLowerCase(),x=kp(pt,"latest"),b=await dn(p,{path:"guilds/latest (collectionGroup)"},()=>cn(Sn(x,Ci("nameFold"),hl(g),pl(g+""),Mn(15)))),_=await dn(p,{path:"guilds/latest (collectionGroup)"},()=>cn(Sn(x,wa("nameNgrams","array-contains",g),Mn(15)))),S=new Set,C=[],E=F=>{var $,z,U,W,K,q,se,ne,H,J,le,oe,he,xe,Re,Z,fe,ie,_e,be,Se;const k=F.data(),w=($=F.ref.parent)==null?void 0:$.parent,P=w==null?void 0:w.parent;if((P==null?void 0:P.id)!=="guilds")return;const N=(U=(z=w==null?void 0:w.id)!=null?z:k.guildIdentifier)!=null?U:F.id;if(!N||S.has(N)||n&&N===n)return;const A=(q=(K=k.name)!=null?K:(W=k.values)==null?void 0:W.Name)!=null?q:"Unbekannte Gilde",M=(H=(ne=k.server)!=null?ne:(se=k.values)==null?void 0:se.Server)!=null?H:"Unknown";if(e!=="all"&&M!==e)return;const R=(xe=(he=(le=k.memberCount)!=null?le:(J=k.values)==null?void 0:J["Guild Member Count"])!=null?he:(oe=k.values)==null?void 0:oe.GuildMemberCount)!=null?xe:0,B=(fe=(Z=k.updatedAt)!=null?Z:(Re=k.values)==null?void 0:Re.UpdatedAt)!=null?fe:k.timestamp?new Date(k.timestamp*1e3).toISOString():new Date().toISOString();S.add(N),C.push({id:N,name:A,tagline:(ie=k.tagline)!=null?ie:"",server:M,members:R,avgLevel:(Se=(be=k.avgLevel)!=null?be:(_e=k.values)==null?void 0:_e.AvgLevel)!=null?Se:0,lastScanAt:B,updatedAt:B,nextUpdateAt:B,freshness:"unknown",classes:[]})};b.forEach(E),_.forEach(E),u||(C.sort((F,k)=>F.name.localeCompare(k.name)),i(C))}catch(g){console.error("[GuildHub CompareGuilds] guild search failed",g),u||i([])}finally{tn(p),u||l(!1)}}return h(),()=>{u=!0}},[s,e,n]),{results:r,loading:a}}const tve="_page_o27vc_1",sve="_header_o27vc_13",nve="_headerStack_o27vc_25",rve="_kicker_o27vc_37",ive="_title_o27vc_53",ave="_headerActions_o27vc_65",ove="_primaryAction_o27vc_77",lve="_secondaryAction_o27vc_79",cve="_infoStrip_o27vc_109",dve="_infoPill_o27vc_129",uve="_freshnessWrapper_o27vc_163",hve="_freshnessBadge_o27vc_171",pve="_popover_o27vc_191",mve="_popoverLabel_o27vc_221",gve="_filterToolbar_o27vc_231",fve="_filterSheetButton_o27vc_241",vve="_inlineFilters_o27vc_259",xve="_searchInput_o27vc_271",yve="_select_o27vc_273",bve="_chipGroup_o27vc_295",_ve="_chip_o27vc_295",wve="_chipActive_o27vc_325",jve="_levelRow_o27vc_335",Sve="_sortControls_o27vc_363",Nve="_sortLabel_o27vc_375",kve="_directionButton_o27vc_385",Cve="_listBody_o27vc_403",Tve="_tableWrapper_o27vc_415",Ive="_table_o27vc_415",Ave="_cardFooter_o27vc_459",Eve="_panel_o27vc_461",Pve="_formPanel_o27vc_463",Rve="_statusSelect_o27vc_481",Lve="_stickyColumn_o27vc_515",Dve="_rowButton_o27vc_529",Mve="_scanBadge_o27vc_545",Fve="_cardList_o27vc_561",Bve="_card_o27vc_459",$ve="_cardHeader_o27vc_593",Ove="_cardTitle_o27vc_605",Vve="_cardMeta_o27vc_623",Uve="_cardNotes_o27vc_635",zve="_emptyState_o27vc_659",Hve="_sheetBackdrop_o27vc_675",Gve="_sheet_o27vc_675",Wve="_sheetHandle_o27vc_717",qve="_sheetBody_o27vc_733",Kve="_sheetLabel_o27vc_749",Qve="_sheetActions_o27vc_785",Xve="_overlay_o27vc_797",Yve="_drawer_o27vc_837",Jve="_modal_o27vc_845",Zve="_panelHeader_o27vc_853",exe="_section_o27vc_867",txe="_tagRow_o27vc_899",sxe="_historyList_o27vc_913",nxe="_panelFooter_o27vc_943",rxe="_formOverlay_o27vc_955",ixe="_formGrid_o27vc_1003",axe="_warning_o27vc_1015",oxe="_pagination_o27vc_1033",Ae={page:tve,header:sve,headerStack:nve,kicker:rve,title:ive,headerActions:ave,primaryAction:ove,secondaryAction:lve,infoStrip:cve,infoPill:dve,freshnessWrapper:uve,freshnessBadge:hve,popover:pve,popoverLabel:mve,filterToolbar:gve,filterSheetButton:fve,inlineFilters:vve,searchInput:xve,select:yve,chipGroup:bve,chip:_ve,chipActive:wve,levelRow:jve,sortControls:Sve,sortLabel:Nve,directionButton:kve,listBody:Cve,tableWrapper:Tve,table:Ive,cardFooter:Ave,panel:Eve,formPanel:Pve,statusSelect:Rve,stickyColumn:Lve,rowButton:Dve,scanBadge:Mve,cardList:Fve,card:Bve,cardHeader:$ve,cardTitle:Ove,cardMeta:Vve,cardNotes:Uve,emptyState:zve,sheetBackdrop:Hve,sheet:Gve,sheetHandle:Wve,sheetBody:qve,sheetLabel:Kve,sheetActions:Qve,overlay:Xve,drawer:Yve,modal:Jve,panelHeader:Zve,section:exe,tagRow:txe,historyList:sxe,panelFooter:nxe,formOverlay:rxe,formGrid:ixe,warning:axe,pagination:oxe},Bf=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],$f=["EU-01","EU-02","US-01","US-02","ASIA-01"],K_={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},wC={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},b0={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},lxe=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:el(2),updatedAt:el(3),freshness:"f1",history:[{date:ii(1),message:"Interview abgeschlossen"},{date:ii(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:el(10),updatedAt:el(11),freshness:"f3",history:[{date:ii(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:el(20),updatedAt:el(5),freshness:"f4",history:[{date:ii(4),message:"Probe erfolgreich"},{date:ii(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:ii(2),updatedAt:ii(2),freshness:"f5",history:[{date:ii(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:ii(3),updatedAt:ii(1),freshness:"f6",history:[{date:ii(1),message:"Bewerbung zurueckgezogen"},{date:ii(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:el(5),updatedAt:el(5),freshness:"f2",history:[{date:ii(1),message:"Profil verifiziert"}]}];function jC(s){return{...s,lvMin:Math.max(1,s.lvMin),lvMax:Math.max(s.lvMin,Math.min(200,s.lvMax)),page:Math.max(1,s.page),pageSize:Math.min(25,Math.max(4,s.pageSize)),classes:Array.from(new Set(s.classes)),servers:Array.from(new Set(s.servers))}}function cxe(s,e,n){const r=n.toLowerCase();return s.filter(i=>{const a=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),l=e.status==="all"||i.status===e.status,c=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),h=i.level>=e.lvMin&&i.level<=e.lvMax;return a&&l&&c&&u&&h})}function dxe(s,e,n){const r=[...s];return r.sort((i,a)=>{let l=0;switch(e){case"name":l=i.name.localeCompare(a.name);break;case"level":l=i.level-a.level;break;case"status":l=i.status.localeCompare(a.status);break;case"lastScan":l=new Date(i.lastScanAt).getTime()-new Date(a.lastScanAt).getTime();break;case"updatedAt":default:l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break}return n==="asc"?l:-l}),r}function uxe(s,e,n){const r=(e-1)*n;return s.slice(r,r+n)}function Zg(s){return new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function hxe(s){const e=Date.now()-new Date(s).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function pxe(s){return s.length?s.reduce((e,n)=>e?wC[n.freshness]>wC[e.freshness]?n:e:n,null):null}function ii(s){const e=new Date;return e.setDate(e.getDate()-s),e.toISOString()}function el(s){const e=new Date;return e.setHours(e.getHours()-s),e.toISOString()}function mxe(){var U;const[s,e]=X.useState(lxe),[n,r]=X.useState(b0),[i,a]=X.useState(b0),l=ru(n.q,300),c=X.useMemo(()=>{const W=cxe(s,n,l);return dxe(W,n.sort,n.dir)},[s,n,l]),u=X.useMemo(()=>uxe(c,n.page,n.pageSize),[c,n.page,n.pageSize]),h=Math.max(1,Math.ceil(c.length/n.pageSize)),p=iu("(min-width: 768px)"),g=iu("(min-width: 1024px)"),[x,b]=X.useState(!1),[_,S]=X.useState(null),C=(U=s.find(W=>W.id===_))!=null?U:null,E=X.useRef(null);au(E,!!C&&!g);const[F,k]=X.useState(null),[y,w]=X.useState(!1),P=X.useRef(null);au(P,y);const T=X.useMemo(()=>pxe(s),[s]),N=T&&T.lastScanAt?hxe(T.lastScanAt):"unbekannt",A=W=>{const K=jC(W);r(K),a(K)},M=(W,K)=>{const q=jC({...n,[W]:K,page:W==="page"?K:1});A(q)},R=()=>{A(i),b(!1)},B=()=>{A(b0),b(!1)},$=(W,K)=>{e(q=>q.map(se=>se.id===W?{...se,status:K,updatedAt:new Date().toISOString()}:se))},z=W=>{e(K=>K.some(se=>se.id===W.id)?K.map(se=>se.id===W.id?W:se):[W,...K]),w(!1)};return t.jsxs(zt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[t.jsxs("div",{className:Ae.page,children:[t.jsxs("header",{className:Ae.header,children:[t.jsxs("div",{className:Ae.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ae.kicker,children:"Recruiting"}),t.jsx("h1",{className:Ae.title,children:"Waitlist"})]}),t.jsxs("div",{className:Ae.headerActions,children:[t.jsx("button",{type:"button",className:Ae.primaryAction,onClick:()=>{k(null),w(!0)},children:"Neuer Eintrag"}),!p&&t.jsx("button",{type:"button",className:Ae.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>b(!0),children:"Filter"})]})]}),t.jsxs("div",{className:Ae.infoStrip,children:[t.jsx(_0,{label:"Neu",value:c.filter(W=>W.status==="new").length}),t.jsx(_0,{label:"In Review",value:c.filter(W=>W.status==="in_review").length}),t.jsx(_0,{label:"Zugesagt",value:c.filter(W=>W.status==="accepted").length}),T&&t.jsx(gxe,{label:K_[T.freshness],updatedAt:T.lastScanAt,countdown:N})]})]}),t.jsx("section",{className:Ae.filterToolbar,children:p?t.jsx(fxe,{filters:n,onChange:M,onToggleClass:W=>{const K=n.classes.includes(W)?n.classes.filter(q=>q!==W):[...n.classes,W];M("classes",K)},onToggleServer:W=>{const K=n.servers.includes(W)?n.servers.filter(q=>q!==W):[...n.servers,W];M("servers",K)}}):t.jsx("button",{type:"button",className:Ae.filterSheetButton,onClick:()=>b(!0),children:"Filter & Sortierung"})}),t.jsx("section",{className:Ae.listBody,children:p?t.jsx(vxe,{items:u,sort:n.sort,dir:n.dir,onSortChange:W=>{const K=n.sort===W&&n.dir==="asc"?"desc":"asc";M("sort",W),M("dir",K)},onSelect:S,onStatusChange:$}):t.jsx(xxe,{items:u,onSelect:S,onStatusChange:$})}),t.jsx(bxe,{page:n.page,totalPages:h,onChange:W=>M("page",W)})]}),x&&t.jsx(yxe,{filters:i,onChange:a,onToggleClass:W=>a(K=>({...K,classes:K.classes.includes(W)?K.classes.filter(q=>q!==W):[...K.classes,W]})),onToggleServer:W=>a(K=>({...K,servers:K.servers.includes(W)?K.servers.filter(q=>q!==W):[...K.servers,W]})),onClose:()=>b(!1),onApply:R,onReset:B}),C&&t.jsx(uE,{ref:E,item:C,mode:g?"drawer":"modal",onClose:()=>S(null),onEdit:()=>{k(C),w(!0),S(null)}}),y&&t.jsx(hE,{ref:P,item:F,entries:s,onClose:()=>w(!1),onSubmit:z})]})}function _0({label:s,value:e}){return t.jsxs("div",{className:Ae.infoPill,children:[t.jsx("span",{children:s}),t.jsx("strong",{children:e})]})}function gxe({label:s,updatedAt:e,countdown:n}){const[r,i]=X.useState(!1);return t.jsxs("div",{className:Ae.freshnessWrapper,children:[t.jsx("button",{type:"button",className:Ae.freshnessBadge,onClick:()=>i(a=>!a),"aria-expanded":r,children:s}),r&&t.jsxs("div",{className:Ae.popover,children:[t.jsxs("div",{children:[t.jsx("span",{className:Ae.popoverLabel,children:"Letzter Scan"}),t.jsx("strong",{children:Zg(e)})]}),t.jsxs("div",{children:[t.jsx("span",{className:Ae.popoverLabel,children:"Aktualisiert"}),t.jsx("strong",{children:n})]})]})]})}function fxe({filters:s,onChange:e,onToggleClass:n,onToggleServer:r}){return t.jsxs("div",{className:Ae.inlineFilters,children:[t.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:Ae.searchInput,placeholder:"Suchen...",value:s.q,onChange:i=>e("q",i.target.value)}),t.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:Ae.select,value:s.status,onChange:i=>e("status",i.target.value),children:[t.jsx("option",{value:"all",children:"Status (alle)"}),t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),t.jsx("div",{className:Ae.chipGroup,children:Bf.map(i=>{const a=s.classes.includes(i);return t.jsx("button",{type:"button",className:`${Ae.chip} ${a?Ae.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),t.jsx("div",{className:Ae.chipGroup,children:$f.map(i=>{const a=s.servers.includes(i);return t.jsx("button",{type:"button",className:`${Ae.chip} ${a?Ae.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),t.jsxs("div",{className:Ae.levelRow,children:[t.jsxs("label",{children:["Lv min",t.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:s.lvMin,min:1,max:s.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),t.jsxs("label",{children:["Lv max",t.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:s.lvMax,min:s.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),t.jsxs("div",{className:Ae.sortControls,children:[t.jsx("label",{className:Ae.sortLabel,children:"Sortieren"}),t.jsxs("select",{value:s.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[t.jsx("option",{value:"name",children:"Name"}),t.jsx("option",{value:"level",children:"Level"}),t.jsx("option",{value:"status",children:"Status"}),t.jsx("option",{value:"lastScan",children:"Letzter Scan"}),t.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),t.jsx("button",{type:"button",className:Ae.directionButton,onClick:()=>e("dir",s.dir==="asc"?"desc":"asc"),children:s.dir==="asc"?"ASC":"DESC"})]})]})}function vxe({items:s,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a}){const l=c=>e===c?n==="asc"?" ":" ":"";return s.length?t.jsx("div",{className:Ae.tableWrapper,children:t.jsxs("table",{className:Ae.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{className:Ae.stickyColumn,onClick:()=>r("name"),children:["Name",l("name")]}),t.jsx("th",{children:"Klasse"}),t.jsxs("th",{onClick:()=>r("level"),children:["Level",l("level")]}),t.jsx("th",{children:"Server"}),t.jsxs("th",{onClick:()=>r("status"),children:["Status",l("status")]}),t.jsx("th",{children:"Notizen"}),t.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",l("lastScan")]})]})}),t.jsx("tbody",{children:s.map(c=>t.jsxs("tr",{children:[t.jsx("td",{className:Ae.stickyColumn,children:t.jsx("button",{type:"button",className:Ae.rowButton,onClick:()=>i(c.id),children:c.name})}),t.jsx("td",{children:c.classRole}),t.jsx("td",{children:c.level}),t.jsx("td",{children:c.server}),t.jsx("td",{children:t.jsxs("select",{className:Ae.statusSelect,name:`waitlistStatus-${c.id}`,"aria-label":`Status fuer ${c.name}`,value:c.status,onChange:u=>a(c.id,u.target.value),children:[t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),t.jsxs("td",{children:[c.notes.slice(0,64),"..."]}),t.jsx("td",{children:t.jsx("span",{className:Ae.scanBadge,children:K_[c.freshness]})})]},c.id))})]})}):t.jsx(dE,{})}function xxe({items:s,onSelect:e,onStatusChange:n}){return s.length?t.jsx("div",{className:Ae.cardList,children:s.map(r=>t.jsxs("article",{className:Ae.card,children:[t.jsxs("div",{className:Ae.cardHeader,children:[t.jsxs("div",{children:[t.jsx("button",{type:"button",className:Ae.cardTitle,onClick:()=>e(r.id),children:r.name}),t.jsxs("p",{className:Ae.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),t.jsx("span",{className:Ae.scanBadge,children:K_[r.freshness]})]}),t.jsxs("p",{className:Ae.cardNotes,children:[r.notes.slice(0,160),"..."]}),t.jsxs("div",{className:Ae.cardFooter,children:[t.jsxs("select",{className:Ae.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),t.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):t.jsx(dE,{})}function dE(){return t.jsx("div",{className:Ae.emptyState,children:t.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function yxe({filters:s,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:a,onReset:l}){return t.jsx("div",{className:Ae.sheetBackdrop,onClick:i,children:t.jsxs("div",{className:Ae.sheet,onClick:c=>c.stopPropagation(),children:[t.jsx("div",{className:Ae.sheetHandle}),t.jsxs("div",{className:Ae.sheetBody,children:[t.jsx("h2",{children:"Filter"}),t.jsxs("label",{className:Ae.sheetLabel,children:["Suche",t.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:s.q,onChange:c=>e(u=>({...u,q:c.target.value}))})]}),t.jsxs("label",{className:Ae.sheetLabel,children:["Status",t.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:s.status,onChange:c=>e(u=>({...u,status:c.target.value})),children:[t.jsx("option",{value:"all",children:"Alle"}),t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),t.jsxs("div",{className:Ae.sheetLabel,children:["Klassen",t.jsx("div",{className:Ae.chipGroup,children:Bf.map(c=>{const u=s.classes.includes(c);return t.jsx("button",{type:"button",className:`${Ae.chip} ${u?Ae.chipActive:""}`,"aria-label":`Klasse ${c}`,onClick:()=>n(c),children:c},c)})})]}),t.jsxs("div",{className:Ae.sheetLabel,children:["Server",t.jsx("div",{className:Ae.chipGroup,children:$f.map(c=>{const u=s.servers.includes(c);return t.jsx("button",{type:"button",className:`${Ae.chip} ${u?Ae.chipActive:""}`,"aria-label":`Server ${c}`,onClick:()=>r(c),children:c},c)})})]}),t.jsxs("div",{className:Ae.levelRow,children:[t.jsxs("label",{children:["Lv min",t.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:s.lvMin,onChange:c=>e(u=>({...u,lvMin:Number(c.target.value)}))})]}),t.jsxs("label",{children:["Lv max",t.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:s.lvMax,onChange:c=>e(u=>({...u,lvMax:Number(c.target.value)}))})]})]})]}),t.jsxs("div",{className:Ae.sheetActions,children:[t.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),t.jsx("button",{type:"button",className:Ae.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const uE=X.forwardRef(({item:s,mode:e,onClose:n,onEdit:r},i)=>t.jsx("div",{className:Ae.overlay,children:t.jsxs("div",{ref:i,className:`${Ae.panel} ${e==="drawer"?Ae.drawer:Ae.modal}`,children:[t.jsxs("header",{className:Ae.panelHeader,children:[t.jsxs("div",{children:[t.jsxs("p",{className:Ae.cardMeta,children:[s.classRole," - Lv ",s.level," - ",s.server]}),t.jsx("h2",{children:s.name})]}),t.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:n,children:"Schliessen"})]}),t.jsxs("section",{className:Ae.section,children:[t.jsx("h3",{children:"Kontakt"}),t.jsx("p",{children:s.contact}),t.jsxs("p",{children:["Quelle: ",s.source]})]}),t.jsxs("section",{className:Ae.section,children:[t.jsx("h3",{children:"Notizen"}),t.jsx("p",{children:s.notes})]}),t.jsxs("section",{className:Ae.section,children:[t.jsx("h3",{children:"Tags"}),t.jsx("div",{className:Ae.tagRow,children:s.tags.length?s.tags.map(a=>t.jsx("span",{children:a},a)):t.jsx("span",{children:"Keine"})})]}),t.jsxs("section",{className:Ae.section,children:[t.jsx("h3",{children:"Historie"}),t.jsx("ul",{className:Ae.historyList,children:s.history.map(a=>t.jsxs("li",{children:[t.jsx("span",{children:Zg(a.date)}),t.jsx("p",{children:a.message})]},`${a.date}-${a.message}`))})]}),t.jsxs("section",{className:Ae.section,children:[t.jsx("h3",{children:"Scan-Infos"}),t.jsxs("p",{children:["Letzter Scan: ",Zg(s.lastScanAt)]}),t.jsxs("p",{children:["Aktualisiert: ",Zg(s.updatedAt)]})]}),t.jsxs("footer",{className:Ae.panelFooter,children:[t.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:r,children:"Bearbeiten"}),t.jsx("button",{type:"button",className:Ae.primaryAction,onClick:n,children:"Schliessen"})]})]})}));uE.displayName="DetailPanel";const hE=X.forwardRef(({item:s,entries:e,onClose:n,onSubmit:r},i)=>{const[a,l]=X.useState(()=>s!=null?s:{id:`wl-${Date.now()}`,name:"",classRole:Bf[0],level:1,server:$f[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});X.useEffect(()=>{s&&l(s)},[JSON.stringify(s)]);const c=h=>{h.preventDefault(),r({...a,updatedAt:new Date().toISOString()})},u=e.some(h=>h.id!==a.id&&h.name.toLowerCase()===a.name.toLowerCase()&&h.server===a.server);return t.jsx("div",{className:Ae.formOverlay,children:t.jsxs("form",{ref:i,className:Ae.formPanel,onSubmit:c,children:[t.jsxs("header",{className:Ae.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ae.cardMeta,children:s?"Bearbeiten":"Neu"}),t.jsx("h2",{children:s?s.name:"Neuer Bewerber"})]}),t.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:n,children:"Schliessen"})]}),u&&t.jsx("div",{className:Ae.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),t.jsxs("label",{className:Ae.sheetLabel,children:["Name",t.jsx("input",{name:"waitlistFormName",value:a.name,onChange:h=>l(p=>({...p,name:h.target.value}))})]}),t.jsxs("div",{className:Ae.formGrid,children:[t.jsxs("label",{children:["Klasse",t.jsx("select",{name:"waitlistFormClass",value:a.classRole,onChange:h=>l(p=>({...p,classRole:h.target.value})),children:Bf.map(h=>t.jsx("option",{value:h,children:h},h))})]}),t.jsxs("label",{children:["Level",t.jsx("input",{type:"number",name:"waitlistFormLevel",value:a.level,min:1,max:200,onChange:h=>l(p=>({...p,level:Number(h.target.value)}))})]}),t.jsxs("label",{children:["Server",t.jsx("select",{name:"waitlistFormServer",value:a.server,onChange:h=>l(p=>({...p,server:h.target.value})),children:$f.map(h=>t.jsx("option",{value:h,children:h},h))})]}),t.jsxs("label",{children:["Status",t.jsxs("select",{name:"waitlistFormStatus",value:a.status,onChange:h=>l(p=>({...p,status:h.target.value})),children:[t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),t.jsxs("label",{className:Ae.sheetLabel,children:["Kontakt",t.jsx("input",{name:"waitlistFormContact",value:a.contact,onChange:h=>l(p=>({...p,contact:h.target.value}))})]}),t.jsxs("label",{className:Ae.sheetLabel,children:["Quelle",t.jsx("input",{name:"waitlistFormSource",value:a.source,onChange:h=>l(p=>({...p,source:h.target.value}))})]}),t.jsxs("label",{className:Ae.sheetLabel,children:["Notizen",t.jsx("textarea",{name:"waitlistFormNotes",value:a.notes,onChange:h=>l(p=>({...p,notes:h.target.value})),rows:4})]}),t.jsxs("footer",{className:Ae.panelFooter,children:[t.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:n,children:"Abbrechen"}),t.jsx("button",{type:"submit",className:Ae.primaryAction,children:"Speichern"})]})]})})});hE.displayName="WaitlistForm";function bxe({page:s,totalPages:e,onChange:n}){return t.jsxs("div",{className:Ae.pagination,children:[t.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:()=>n(Math.max(1,s-1)),disabled:s===1,children:"Zurueck"}),t.jsxs("span",{children:["Seite ",s," / ",e]}),t.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:()=>n(Math.min(e,s+1)),disabled:s===e,children:"Weiter"})]})}const _xe=["tab","sub","sub2","q","sort","dir","page","pageSize"];function vu(s=[]){const[e,n]=Cl(),r=X.useMemo(()=>[...s].sort().join("|"),[s]),i=X.useMemo(()=>{const p=new Set([..._xe]);return s.forEach(g=>p.add(g)),Array.from(p)},[r]),a=X.useMemo(()=>{const p={};return i.forEach(g=>{const x=e.get(g);x!==null&&(p[g]=x)}),p},[e,i]),l=X.useCallback((p,g)=>{var b;const x=new URLSearchParams(e);Object.entries(p).forEach(([_,S])=>{S==null||S===""?x.delete(_):x.set(_,String(S))}),n(x,{replace:(b=g==null?void 0:g.replace)!=null?b:!1})},[e,n]),c=X.useCallback(p=>{const g=new URLSearchParams(e);(p&&p.length>0?p:i).forEach(b=>g.delete(b)),n(g,{replace:!0})},[e,n,i]),u=X.useCallback((p,g="")=>{var x;return(x=a[p])!=null?x:g},[a]),h=X.useCallback((p,g=0)=>{const x=a[p],b=x?Number(x):NaN;return Number.isFinite(b)?b:g},[a]);return{params:a,getParam:u,getNumberParam:h,writeParams:l,resetParams:c}}function wxe(){return vu(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Activity"})})}function jxe(){return vu(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Imports"})})}function Sxe(){return vu(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Announcements"})})}function Nxe(){return vu(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Events"})})}function kxe(){return vu(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Roles"})})}function Cxe(){return vu(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Settings"})})}const Txe=[{icon:t.jsx(Jf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:t.jsx(JD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:t.jsx(UD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],Ixe=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],Axe=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function Exe(){return t.jsx(zt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ws,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),t.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:t.jsx(Pxe,{}),right:t.jsx(Rxe,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Txe.map(s=>t.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.icon,s.label]}),t.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:s.value})]})}),t.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:s.hint})]},s.label))}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),t.jsx(ws,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),t.jsx("ul",{className:"space-y-3",children:Ixe.map(s=>t.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.jsx(ib,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.title]}),t.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",s.scope]})]}),t.jsx("span",{className:"text-xs text-[#8AA5C4]",children:s.time})]})},s.id))})]})]})})}function Pxe(){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),t.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[t.jsx(ws,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),t.jsx(ws,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),t.jsx(ws,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),t.jsx(ws,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),t.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[t.jsx("li",{children:" Pager rotation: Ops Team"}),t.jsx("li",{children:" Slack channel: #sf-alerts"}),t.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function Rxe(){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),t.jsx("ul",{className:"mt-3 space-y-2",children:Axe.map(s=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:s.env}),t.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:s.version}),t.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:s.status}),t.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:s.time})]},s.env))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),t.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const Lxe=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function Dxe(){return t.jsx(zt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:t.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[t.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[t.jsx("span",{children:"ID"}),t.jsx("span",{children:"Time"}),t.jsx("span",{children:"Service"}),t.jsx("span",{className:"text-right",children:"Severity"})]}),t.jsx("ul",{children:Lxe.map(s=>t.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("span",{className:"font-mono text-[#8AA5C4]",children:s.id}),t.jsx("span",{className:"text-xs text-[#B0C4D9]",children:s.time}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:s.service}),t.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:s.message})]}),t.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:Mxe(s.severity)},children:s.severity})]},s.id))})]})})}function Mxe(s){switch(s){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const Yi={background:"#152A42",borderColor:"#2B4C73"},Ld={background:"#1A2F4A",borderColor:"#2B4C73"},w0=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function Fxe(){const{data:s,loading:e,refreshing:n,error:r,refresh:i}=Vxe(),a=X.useMemo(()=>[{label:"Total uploads",value:Ni(s.metrics.totalUploads),hint:`${Ni(s.metrics.last24h)} in the last 24h`,icon:t.jsx(cD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:up(s.metrics.successRate),hint:`${Ni(s.metrics.failed)} failed`,icon:t.jsx(YL,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:s.metrics.avgProcessingMs?j0(s.metrics.avgProcessingMs):"",hint:s.metrics.p95ProcessingMs?`p95 ${j0(s.metrics.p95ProcessingMs)}`:"Awaiting data",icon:t.jsx(oD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:SC(s.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:t.jsx(pD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Ni(s.metrics.uniqueUploaders),hint:`${Ni(s.metrics.uniqueGuilds)} guilds represented`,icon:t.jsx(Jf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Ni(s.recentFailures.length),hint:"Latest 5 shown on the right",icon:t.jsx(Q5,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[s]);return t.jsx(zt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:t.jsx(Bxe,{breakdown:s.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:t.jsx($xe,{issues:s.issues,failures:s.recentFailures,uploaders:s.topUploaders,guilds:s.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(l=>t.jsxs("article",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsx("div",{className:"flex items-start justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[l.icon,l.label]}),t.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:l.value})]})}),t.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:l.hint})]},l.label))}),t.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[t.jsxs("article",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsx("header",{className:"flex items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),t.jsx("ul",{className:"mt-4 space-y-3",children:s.statusBreakdown.map(l=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Ld,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Dd(l.status)},"aria-hidden":"true"}),Q_(l.status)]}),t.jsx("span",{className:"font-semibold",children:Ni(l.count)})]}),t.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:t.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(l.share*100,100).toFixed(1)}%`,backgroundColor:Dd(l.status)}})}),t.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[up(l.share)," of window"]})]},l.status))})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsx("header",{className:"flex items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),t.jsx("ul",{className:"mt-4 space-y-3",children:s.timeline.map(l=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Ld,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsx("span",{className:"font-semibold",children:l.hourLabel}),t.jsxs("span",{children:[Ni(l.total)," uploads"]})]}),t.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Dd("success")},"aria-hidden":"true"}),"Success ",Ni(l.success)]}),t.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[t.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Dd("failed")},"aria-hidden":"true"}),"Failed ",Ni(l.failed)]})]})]},l.hourLabel))})]})]}),t.jsxs("section",{className:"rounded-2xl border",style:Yi,children:[t.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),t.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx(fl,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?t.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[t.jsx(ib,{className:"h-3.5 w-3.5"}),r]}):t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx(zL,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),t.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[t.jsx("span",{children:"ID"}),t.jsx("span",{children:"Status"}),t.jsx("span",{children:"Uploader"}),t.jsx("span",{children:"Guild"}),t.jsx("span",{className:"text-right",children:"Processing"}),t.jsx("span",{className:"text-right",children:"File size"})]}),t.jsx("ul",{children:s.recentUploads.map(l=>{var c,u,h,p;return t.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:l.id}),t.jsx("span",{children:t.jsx(Oxe,{status:l.status})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(c=l.uploaderName)!=null?c:l.uploaderId)!=null?u:""}),t.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.uploadedAt?l.uploadedAt.toLocaleString():"Timestamp missing"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(p=(h=l.guildName)!=null?h:l.guildId)!=null?p:""}),t.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.errorCode?`Issue: ${l.errorCode}`:"Healthy"})]}),t.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.processingMs?j0(l.processingMs):"Pending"}),t.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.fileSizeBytes?SC(l.fileSizeBytes):""})]},l.id)})})]})]})})}function Bxe({breakdown:s,onRefresh:e,loading:n,refreshing:r}){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[t.jsx("span",{children:"Controls"}),t.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[t.jsx(Yf,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),t.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),t.jsxs("div",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:s.map(i=>t.jsxs("li",{className:"flex items-center justify-between gap-2",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Dd(i.status)},"aria-hidden":"true"}),Q_(i.status)]}),t.jsx("span",{children:up(i.share)})]},i.status))}),n&&t.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[t.jsx(fl,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),t.jsxs("div",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),t.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Dg,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Dg,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Dg,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function $xe({issues:s,failures:e,uploaders:n,guilds:r}){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("article",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(Q5,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.jsx("span",{children:"Top failure signatures"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:s.length===0?t.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):s.map(i=>t.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Ld,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsx("span",{children:i.code}),t.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),t.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(ib,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),t.jsx("span",{children:"Latest failed uploads"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?t.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var a;return t.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Ld,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),t.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),t.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(a=i.errorCode)!=null?a:"No error code provided"})]},i.id)})})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(Jf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Uploader leaderboard"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>t.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Ld,children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),t.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",up(i.successRate)]})]}),t.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Ni(i.count)})]},i.id))})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:Yi,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(fD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Guild spotlight"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>t.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Ld,children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),t.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",up(i.successRate)]})]}),t.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Ni(i.count)})]},i.id))})]})]})}function Oxe({status:s}){const e=Dd(s);return t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[t.jsx(Dg,{className:"h-3 w-3","aria-hidden":"true"}),Q_(s)]})}function Vxe(){const[s,e]=X.useState(w0),[n,r]=X.useState(!0),[i,a]=X.useState(!1),[l,c]=X.useState(null),u=X.useCallback(async(p=!1)=>{const g=Bn("AdminScansUploaded:overview");p?a(!0):r(!0);try{const x=vo(pt,"scanUploads"),b=Sn(x,Ci("uploadedAt","desc"),Mn(100)),S=(await dn(g,x,()=>cn(b))).docs.map(C=>Uxe(C.id,C.data()));S.length>0?(e(S),c(null)):(e(w0),c("No uploads in window - showing fallback snapshot"))}catch(x){console.error("[ScansUploaded] Failed to load Firestore data",x),c("Live data unavailable - fallback snapshot active"),e(w0)}finally{tn(g),p?a(!1):r(!1)}},[]);X.useEffect(()=>{u(!1)},[u]);const h=X.useMemo(()=>Hxe(s),[s]);return{loading:n,refreshing:i,error:l,data:h,refresh:X.useCallback(()=>u(!0),[u])}}function Uxe(s,e){const n=zxe(e.status);return{id:s,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof Bs?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function zxe(s){return s==="success"||s==="failed"||s==="processing"||s==="queued"?s:"unknown"}function Hxe(s){var A,M;const e=new Map,n=new Map,r=new Map,i=new Map,a=[];let l=0,c=0;const h=Date.now()-1440*60*1e3,p=new Map;s.forEach(R=>{var U,W,K,q,se,ne,H,J,le,oe,he,xe,Re,Z,fe,ie,_e;const B=(U=e.get(R.status))!=null?U:0;if(e.set(R.status,B+1),R.uploadedAt&&R.uploadedAt.getTime()>=h&&(c+=1),R.processingMs!=null&&a.push(R.processingMs),R.fileSizeBytes!=null&&(l+=R.fileSizeBytes),R.status==="failed"&&R.errorCode){const be=(W=n.get(R.errorCode))!=null?W:{count:0,lastSeen:null};n.set(R.errorCode,{count:be.count+1,lastSeen:!be.lastSeen||R.uploadedAt&&be.lastSeen<R.uploadedAt?R.uploadedAt:be.lastSeen})}const $=(q=(K=R.uploaderId)!=null?K:R.uploaderName)!=null?q:`anon-${R.id}`,z=(H=r.get($))!=null?H:{name:(ne=(se=R.uploaderName)!=null?se:R.uploaderId)!=null?ne:"Unknown",success:0,total:0};if(r.set($,{name:(le=(J=R.uploaderName)!=null?J:R.uploaderId)!=null?le:"Unknown",success:z.success+(R.status==="success"?1:0),total:z.total+1}),R.guildId||R.guildName){const be=(he=(oe=R.guildId)!=null?oe:R.guildName)!=null?he:`guild-${R.id}`,Se=(Z=i.get(be))!=null?Z:{name:(Re=(xe=R.guildName)!=null?xe:R.guildId)!=null?Re:"Unknown",success:0,total:0};i.set(be,{name:(ie=(fe=R.guildName)!=null?fe:R.guildId)!=null?ie:"Unknown",success:Se.success+(R.status==="success"?1:0),total:Se.total+1})}if(R.uploadedAt){const be=new Date(R.uploadedAt);be.setMinutes(0,0,0);const Se=be.toISOString(),Ve=(_e=p.get(Se))!=null?_e:{hourLabel:Wxe(be),timestamp:be,total:0,success:0,failed:0};p.set(Se,{hourLabel:Ve.hourLabel,timestamp:Ve.timestamp,total:Ve.total+1,success:Ve.success+(R.status==="success"?1:0),failed:Ve.failed+(R.status==="failed"?1:0)})}});const g=s.length,x=(A=e.get("success"))!=null?A:0,b=(M=e.get("failed"))!=null?M:0,_=a.length?a.reduce((R,B)=>R+B,0)/a.length:null,S=a.length?Gxe(a,95):null,C=r.size,E=i.size,F=Array.from(e.entries()).map(([R,B])=>({status:R,count:B,share:g?B/g:0})).sort((R,B)=>B.count-R.count),k=Array.from(p.values()).sort((R,B)=>B.timestamp.getTime()-R.timestamp.getTime()).slice(0,12),y=Array.from(n.entries()).map(([R,B])=>({code:R,...B})).sort((R,B)=>B.count-R.count).slice(0,6),w=[...s].sort((R,B)=>{var $,z,U,W;return((z=($=B.uploadedAt)==null?void 0:$.getTime())!=null?z:0)-((W=(U=R.uploadedAt)==null?void 0:U.getTime())!=null?W:0)}).slice(0,12),P=s.filter(R=>R.status==="failed").sort((R,B)=>{var $,z,U,W;return((z=($=B.uploadedAt)==null?void 0:$.getTime())!=null?z:0)-((W=(U=R.uploadedAt)==null?void 0:U.getTime())!=null?W:0)}),T=Array.from(r.entries()).map(([R,B])=>({id:R,name:B.name,count:B.total,successRate:B.total?B.success/B.total:0})).sort((R,B)=>B.count-R.count).slice(0,5),N=Array.from(i.entries()).map(([R,B])=>({id:R,name:B.name,count:B.total,successRate:B.total?B.success/B.total:0})).sort((R,B)=>B.count-R.count).slice(0,5);return{metrics:{totalUploads:g,last24h:c,successRate:g?x/g:0,failed:b,avgProcessingMs:_,p95ProcessingMs:S,uniqueUploaders:C,uniqueGuilds:E,totalFileSizeBytes:l},statusBreakdown:F,timeline:k,issues:y,recentFailures:P,recentUploads:w,topUploaders:T,topGuilds:N}}function Gxe(s,e){const n=[...s].sort((c,u)=>c-u);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),a=Math.ceil(r);if(i===a)return n[i];const l=r-i;return n[i]*(1-l)+n[a]*l}function Ni(s){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(s)}function up(s){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:s>0&&s<.1?1:0,maximumFractionDigits:1}).format(s)}function j0(s){return s<1e3?`${s.toFixed(0)}ms`:`${(s/1e3).toFixed(1)}s`}function SC(s){if(s<=0)return"0 B";const e=["B","KB","MB","GB"];let n=s,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function Dd(s){switch(s){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function Q_(s){switch(s){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function Wxe(s){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(s)}function S0({label:s,value:e,hint:n}){return t.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:s}),t.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&t.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function qxe(){var c,u,h,p,g,x;const{snapshot:s,error:e,loading:n,refresh:r}=JA(),i=(c=s==null?void 0:s.warnings)!=null?c:[],a=(h=(u=s==null?void 0:s.data)==null?void 0:u.length)!=null?h:0,l=(p=s==null?void 0:s.stats)!=null?p:{};return t.jsx(zt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsx(S0,{label:"Last successful sync",value:s!=null&&s.generatedAt?new Date(s.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),t.jsx(S0,{label:"Creators tracked",value:a?a.toString():"0"}),t.jsx(S0,{label:"API lookups",value:`${(g=l.youtubeLookups)!=null?g:0}  ${(x=l.twitchLookups)!=null?x:0}`,hint:"YouTube  Twitch"})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsxs("header",{className:"mb-3",children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?t.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):t.jsx("ul",{className:"space-y-2",children:i.map((b,_)=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[t.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[b.creator,"  ",b.scope]}),t.jsx("div",{className:"text-xs text-[#B0C4D9]",children:b.message}),b.source&&t.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:b.source})]},`${b.scope}-${_}`))})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsxs("header",{className:"mb-3",children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),t.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[t.jsxs("li",{children:["Add the following environment variables (e.g. in ",t.jsx("code",{children:".env.local"}),"):",t.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),t.jsxs("li",{children:["Execute the sync script:",t.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),t.jsxs("li",{children:["Commit/deploy the generated ",t.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&t.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const Lv=`${Aa}/admin/users`,Kxe=25,X_=()=>{if(!Lv)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},NC=s=>typeof s!="number"?null:Bs.fromMillis(s),Y_=s=>{var e;return{id:s.id,userId:s.userId,displayName:s.displayName,avatarUrl:s.avatarUrl,primaryProvider:(e=s.primaryProvider)!=null?e:"discord",roles:s.roles,providers:s.providers,profile:s.profile,createdAt:NC(s.createdAt),lastLoginAt:NC(s.lastLoginAt),status:s.status,notes:s.notes}},Qxe=s=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=s.pageSize)!=null?r:Kxe)),s.cursor&&e.set("cursor",s.cursor),s.role&&e.set("role",s.role),s.status&&e.set("status",s.status),s.provider&&e.set("provider",s.provider),s.search&&e.set("search",s.search);const n=e.toString();return n?`?${n}`:""},J_=async s=>{let e=`Request failed (${s.status})`;try{const n=await s.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function kC(s={}){var r;X_();const e=Qxe(s),n=`${Lv}${e}`;try{const i=await fetch(n,{credentials:"include"});if(!i.ok)throw await J_(i);const a=await i.json();return{users:a.users.map(Y_),nextPageCursor:(r=a.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function Xxe(s){X_();const e=await fetch(`${Lv}/${encodeURIComponent(s)}`,{credentials:"include"});if(!e.ok)throw await J_(e);const n=await e.json();return Y_(n.user)}async function Yxe(s,e){X_();const n=await fetch(`${Lv}/${encodeURIComponent(s)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw await J_(n);const r=await n.json();return Y_(r.user)}const pE=`${Aa}/admin/audit-events`,Jxe=50,Zxe=()=>{if(!pE)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},eye=s=>typeof s!="number"?null:Bs.fromMillis(s),tye=s=>{var e,n;return{id:s.id,createdAt:eye(s.createdAt),actorUserId:s.actorUserId,actorDisplayName:(e=s.actorDisplayName)!=null?e:null,targetUserId:s.targetUserId,action:s.action,summary:s.summary,changes:(n=s.changes)!=null?n:{},context:s.context}},sye=s=>{var r;const e=new URLSearchParams;e.set("limit",String((r=s.limit)!=null?r:Jxe)),s.cursor&&e.set("cursor",s.cursor),s.actorUserId&&e.set("actorUserId",s.actorUserId),s.targetUserId&&e.set("targetUserId",s.targetUserId),s.action&&e.set("action",s.action);const n=e.toString();return n?`?${n}`:""},nye=async s=>{let e=`Request failed (${s.status})`;try{const n=await s.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function B1(s={}){var i;Zxe();const e=`${pE}${sye(s)}`,n=await fetch(e,{credentials:"include"});if(!n.ok)throw await nye(n);const r=await n.json();return{events:r.events.map(tye),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function rye(s,e=10){return B1({targetUserId:s,limit:e})}const iye=20,aye=50,Vh={borderColor:"#2B4C73",background:"#152A42"},mE={background:"#1A2F4A"};function oye(){var c;const{status:s,user:e}=So(),n=(c=e==null?void 0:e.roles)!=null?c:[],r=n.includes("admin"),i=r||n.includes("mod"),[a,l]=I.useState("users");return s==="loading"||s==="idle"?t.jsx(zt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:t.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[t.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?t.jsx(zt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:t.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[t.jsx(Ac,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:t.jsx(lye,{activeTab:a,onChange:l}),children:a==="users"?t.jsx(cye,{isAdmin:r}):t.jsx(dye,{isAdmin:r,onSelectUser:u=>{l("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):t.jsx(zt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[t.jsx(X5,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),t.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),t.jsxs("p",{children:["You need at least the ",t.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function lye({activeTab:s,onChange:e}){const n=[{key:"users",label:"Users",icon:t.jsx(Jf,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:t.jsx($D,{className:"h-4 w-4"})}];return t.jsx("div",{className:"flex gap-2",children:n.map(r=>t.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${s===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":s===r.key,children:[r.icon,r.label]},r.key))})}function cye({isAdmin:s}){const[e,n]=I.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=I.useState(""),a=O1(r,350);I.useEffect(()=>{n(ie=>ie.search===a?ie:{...ie,search:a})},[a]);const[l,c]=I.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,h]=I.useState(0),p=I.useMemo(()=>({pageSize:iye,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);I.useEffect(()=>{let ie=!1;return c(_e=>({..._e,loading:!0,error:null})),kC(p).then(_e=>{ie||c({items:_e.users,cursor:_e.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(_e=>{ie||c(be=>({...be,loading:!1,loadingMore:!1,error:_e instanceof Error?_e.message:"Failed to load users"}))}),()=>{ie=!0}},[p,u]);const g=()=>h(ie=>ie+1),x=async()=>{if(l.cursor){c(ie=>({...ie,loadingMore:!0,error:null}));try{const ie=await kC({...p,cursor:l.cursor});c(_e=>({items:[..._e.items,...ie.users],cursor:ie.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(ie){c(_e=>{var be;return{..._e,loadingMore:!1,error:(be=ie==null?void 0:ie.message)!=null?be:"Failed to load additional users"}})}}},[b,_]=I.useState(null),[S,C]=I.useState(null),[E,F]=I.useState(!1),[k,y]=I.useState(null),[w,P]=I.useState(""),[T,N]=I.useState(!1),[A,M]=I.useState(null),[R,B]=I.useState(!1),[$,z]=I.useState(!1),[U,W]=I.useState([]),[K,q]=I.useState(!1),[se,ne]=I.useState(null),H=I.useRef(null);I.useEffect(()=>{H.current=b},[b]);const J=I.useRef(!1);I.useEffect(()=>{J.current=T},[T]);const le=I.useCallback(async ie=>{var _e;q(!0),ne(null);try{const be=await rye(ie,12);H.current===ie&&W(be.events)}catch(be){H.current===ie&&ne((_e=be==null?void 0:be.message)!=null?_e:"Failed to load audit history")}finally{H.current===ie&&q(!1)}},[]);I.useEffect(()=>{var Se;if(!b){C(null),P(""),N(!1),W([]),ne(null),z(!1);return}const ie=b,_e=l.items.find(Ve=>Ve.id===ie);_e?(C(_e),P((Se=_e.notes)!=null?Se:"")):(C(null),P("")),N(!1),F(!0),y(null);let be=!1;return Xxe(ie).then(Ve=>{var Ue;be||H.current!==ie||(C(Ve),P((Ue=Ve.notes)!=null?Ue:""),N(!1),F(!1))}).catch(Ve=>{var Ue;be||H.current!==ie||(F(!1),y((Ue=Ve==null?void 0:Ve.message)!=null?Ue:"Failed to load user"))}),le(ie),()=>{be=!0}},[b,l.items,le]),I.useEffect(()=>{var _e;if(!b)return;const ie=l.items.find(be=>be.id===b);ie&&(C(be=>be&&be.id===ie.id?{...be,...ie}:ie),J.current||P((_e=ie.notes)!=null?_e:""))},[l.items,b]);const oe=I.useCallback(ie=>{c(_e=>({..._e,items:_e.items.map(be=>be.id===ie.id?ie:be)}))},[]),he=I.useCallback(async ie=>{var _e,be;if(S){B(!0),M(null);try{const Se=await Yxe(S.id,ie);C(Se),oe(Se),"notes"in ie&&(N(!1),P((_e=Se.notes)!=null?_e:"")),await le(Se.id)}catch(Se){M((be=Se==null?void 0:Se.message)!=null?be:"Failed to update user")}finally{B(!1)}}},[S,le,oe]),xe=ie=>{if(!S||!s||ie==="user")return;const _e=new Set(S.roles);_e.has(ie)?_e.delete(ie):_e.add(ie),_e.add("user"),he({roles:Array.from(_e)})},Re=ie=>{!S||!s||$1(S.status)===ie||ie==="banned"&&!window.confirm(`Ban ${Uh(S)}? They will lose access to the control panel.`)||he({status:ie})},Z=ie=>{P(ie),N(!0)},fe=()=>{!S||!s||!T||he({notes:w.trim().length?w:null})};return I.useEffect(()=>{if(typeof window=="undefined")return;const ie=_e=>{const be=_e.detail;be!=null&&be.userId&&_(be.userId)};return window.addEventListener("sf-admin-open-user",ie),()=>{window.removeEventListener("sf-admin-open-user",ie)}},[]),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Vh,children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[t.jsx(W0,{className:"h-4 w-4 text-[#5C8BC6]"}),t.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:ie=>i(ie.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),t.jsx(ef,{label:"Role",value:e.role,onChange:ie=>n(_e=>({..._e,role:ie})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),t.jsx(ef,{label:"Status",value:e.status,onChange:ie=>n(_e=>({..._e,status:ie})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),t.jsx(ef,{label:"Provider",value:e.provider,onChange:ie=>n(_e=>({..._e,provider:ie})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),t.jsx("div",{className:"ml-auto flex items-center gap-2",children:t.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[t.jsx(Yf,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),t.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[t.jsxs("div",{className:"rounded-2xl border",style:Vh,children:[t.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsxs("span",{className:"text-[#B0C4D9]",children:[l.items.length," users ",e.search?"filtered":""]}),l.loading&&t.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[t.jsx(fl,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[t.jsx("thead",{style:mE,children:t.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[t.jsx("th",{className:"px-4 py-2",children:"User ID"}),t.jsx("th",{className:"px-4 py-2",children:"Display name"}),t.jsx("th",{className:"px-4 py-2",children:"Role"}),t.jsx("th",{className:"px-4 py-2",children:"Status"}),t.jsx("th",{className:"px-4 py-2",children:"Providers"}),t.jsx("th",{className:"px-4 py-2",children:"Created"}),t.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),t.jsx("tbody",{children:l.items.map(ie=>{var be,Se,Ve;const _e=ie.id===b;return t.jsxs("tr",{onClick:()=>_(ie.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${_e?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[t.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:ie.userId}),t.jsx("td",{className:"px-4 py-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fE,{url:yE(ie),name:Uh(ie)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:Uh(ie)}),(be=ie.profile)!=null&&be.displayName&&ie.profile.displayName!==ie.displayName?t.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:ie.profile.displayName}):null]})]})}),t.jsx("td",{className:"px-4 py-2",children:t.jsx(vE,{role:xE(ie.roles)})}),t.jsx("td",{className:"px-4 py-2",children:t.jsx(hye,{status:$1(ie.status)})}),t.jsx("td",{className:"px-4 py-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(Of,{provider:"discord",active:!!((Se=ie.providers)!=null&&Se.discord)}),t.jsx(Of,{provider:"google",active:!!((Ve=ie.providers)!=null&&Ve.google)})]})}),t.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Ud(ie.createdAt)}),t.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Ud(ie.lastLoginAt)})]},ie.id)})})]}),!l.loading&&!l.items.length&&t.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),l.error&&t.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[t.jsx(kh,{className:"h-3.5 w-3.5"}),l.error]}),t.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsx("span",{className:"text-[#8AA5C4]",children:l.cursor?"More users available":"End of list"}),t.jsx("button",{type:"button",onClick:x,disabled:!l.cursor||l.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:l.loadingMore?"Loading...":"Load more"})]})]}),t.jsx("aside",{className:"rounded-2xl border p-3",style:Vh,children:S?t.jsx(uye,{user:S,isAdmin:s,detailLoading:E,detailError:k,notesValue:w,notesDirty:T,onNotesChange:Z,onNotesSave:fe,onRoleToggle:xe,onStatusChange:Re,actionError:A,actionPending:R,auditEntries:U,auditLoading:K,auditError:se,onRefreshAudit:()=>S&&le(S.id),showRawJson:$,toggleRawJson:()=>z(ie=>!ie)}):t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[t.jsx(iD,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function dye({isAdmin:s,onSelectUser:e}){const[n,r]=I.useState({actor:"",target:"",action:"all"}),[i,a]=I.useState(""),[l,c]=I.useState(""),u=O1(i,350),h=O1(l,350);I.useEffect(()=>{r(E=>E.actor===u&&E.target===h?E:{...E,actor:u,target:h})},[u,h]);const[p,g]=I.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[x,b]=I.useState(0),_=I.useMemo(()=>{const E=n.action==="all"?void 0:n.action,F=n.actor.includes(":")?n.actor:void 0,k=n.target.includes(":")?n.target:void 0;return{limit:aye,action:E,actorUserId:F,targetUserId:k}},[n]);I.useEffect(()=>{let E=!1;return g(F=>({...F,loading:!0,error:null})),B1(_).then(F=>{E||g({items:F.events,cursor:F.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(F=>{E||g(k=>{var y;return{...k,loading:!1,loadingMore:!1,error:(y=F==null?void 0:F.message)!=null?y:"Failed to load audit log"}})}),()=>{E=!0}},[_,x]);const S=async()=>{if(p.cursor){g(E=>({...E,loadingMore:!0,error:null}));try{const E=await B1({..._,cursor:p.cursor});g(F=>({items:[...F.items,...E.events],cursor:E.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(E){g(F=>{var k;return{...F,loadingMore:!1,error:(k=E==null?void 0:E.message)!=null?k:"Failed to load more events"}})}}},C=I.useMemo(()=>{const E=n.actor.trim().toLowerCase(),F=n.target.trim().toLowerCase();return p.items.filter(k=>{var P;const y=!E||k.actorUserId.toLowerCase().includes(E)||((P=k.actorDisplayName)!=null?P:"").toLowerCase().includes(E),w=!F||k.targetUserId.toLowerCase().includes(F);return y&&w})},[p.items,n.actor,n.target]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Vh,children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[t.jsx(W0,{className:"h-4 w-4 text-[#5C8BC6]"}),t.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:E=>a(E.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[t.jsx(W0,{className:"h-4 w-4 text-[#5C8BC6]"}),t.jsx("input",{type:"text",placeholder:"Target user id",value:l,onChange:E=>c(E.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),t.jsx(ef,{label:"Action",value:n.action,onChange:E=>r(F=>({...F,action:E})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),t.jsx("div",{className:"ml-auto flex items-center gap-2",children:t.jsxs("button",{type:"button",onClick:()=>b(E=>E+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[t.jsx(Yf,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),t.jsxs("div",{className:"rounded-2xl border",style:Vh,children:[t.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsxs("span",{className:"text-[#8AA5C4]",children:[C.length," events"]}),p.loading&&t.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[t.jsx(fl,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[t.jsx("thead",{style:mE,children:t.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[t.jsx("th",{className:"px-4 py-2",children:"Time"}),t.jsx("th",{className:"px-4 py-2",children:"Actor"}),t.jsx("th",{className:"px-4 py-2",children:"Target User"}),t.jsx("th",{className:"px-4 py-2",children:"Action"}),t.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),t.jsx("tbody",{children:C.map(E=>{var F;return t.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[t.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Ud(E.createdAt)}),t.jsxs("td",{className:"px-4 py-2",children:[t.jsx("div",{className:"text-white",children:(F=E.actorDisplayName)!=null?F:"N/A"}),t.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:E.actorUserId})]}),t.jsx("td",{className:"px-4 py-2",children:t.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(E.targetUserId),children:E.targetUserId})}),t.jsx("td",{className:"px-4 py-2",children:t.jsx(gE,{action:E.action})}),t.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:E.summary})]},E.id)})})]}),!C.length&&!p.loading&&t.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),p.error&&t.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[t.jsx(kh,{className:"h-3.5 w-3.5"}),p.error]}),t.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsx("span",{className:"text-[#8AA5C4]",children:p.cursor?"More events available":"End of audit log"}),t.jsx("button",{type:"button",onClick:S,disabled:!p.cursor||p.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:p.loadingMore?"Loading...":"Load more"})]})]}),!s&&t.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function uye({user:s,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:a,onNotesChange:l,onNotesSave:c,onRoleToggle:u,onStatusChange:h,actionError:p,actionPending:g,auditEntries:x,auditLoading:b,auditError:_,onRefreshAudit:S,showRawJson:C,toggleRawJson:E}){var k,y;const F=xE(s.roles);return t.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&t.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[t.jsx(fl,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&t.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[t.jsx(kh,{className:"h-3.5 w-3.5"}),r]}),t.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(fE,{url:yE(s),name:Uh(s),size:56}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"truncate text-base text-white",children:Uh(s)}),t.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:s.userId}),t.jsxs("div",{className:"mt-1 flex gap-1",children:[t.jsx(vE,{role:F}),t.jsx(Of,{provider:"discord",active:!!((k=s.providers)!=null&&k.discord)}),t.jsx(Of,{provider:"google",active:!!((y=s.providers)!=null&&y.google)})]})]})]})}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(w=>t.jsx("button",{type:"button",onClick:()=>u(w),disabled:!e||w==="user",className:`rounded-full px-3 py-1 text-xs ${s.roles.includes(w)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:w},w))})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),t.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(w=>t.jsx("button",{type:"button",onClick:()=>h(w),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${$1(s.status)===w?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:w},w))})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&t.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),t.jsx("textarea",{value:i,onChange:w=>l(w.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),t.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[g&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(fl,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),a&&e&&t.jsx("button",{type:"button",onClick:c,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),p&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[t.jsx(kh,{className:"h-3 w-3"}),p]})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),t.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[t.jsx(Yf,{className:"h-3 w-3"}),"Refresh"]})]}),b&&t.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[t.jsx(fl,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),_&&t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[t.jsx(kh,{className:"h-3 w-3"}),_]}),!b&&!x.length&&t.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),t.jsx("ul",{className:"space-y-2",children:x.map(w=>{var P;return t.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[t.jsx("span",{children:Ud(w.createdAt)}),t.jsx(gE,{action:w.action})]}),t.jsx("div",{className:"mt-1 text-white",children:(P=w.actorDisplayName)!=null?P:w.actorUserId}),t.jsx("div",{className:"text-[#C8D6EC]",children:w.summary})]},w.id)})})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),t.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[t.jsx(s7,{className:"h-3 w-3"}),C?"Hide raw JSON":"Show raw JSON"]})]}),t.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[t.jsx(Tg,{label:"Created",value:Ud(s.createdAt)}),t.jsx(Tg,{label:"Last login",value:Ud(s.lastLoginAt)}),t.jsx(Tg,{label:"Primary provider",value:s.primaryProvider}),t.jsx(Tg,{label:"Roles",value:s.roles.join(", ")})]}),C&&t.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(s,null,2)})]})]})}function gE({action:s}){const e=s==="user.role.update"?"Role update":s==="user.status.update"?"Status update":"Notes update";return t.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Tg({label:s,value:e}){return e?t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsx("span",{className:"text-[#6E86A6]",children:s}),t.jsx("span",{className:"text-white",children:e})]}):null}function ef({label:s,value:e,options:n,onChange:r}){return t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[#8AA5C4]",children:s}),t.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>t.jsx("option",{value:i.value,children:i.label},i.value))})]})}function fE({url:s,name:e,size:n=32}){return s?t.jsx("img",{src:s,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):t.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function vE({role:s}){const e=s==="admin"?"#F87171":s==="mod"?"#FBBF24":s==="creator"?"#34D399":"#93C5FD";return t.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:s})}function hye({status:s}){const e={active:{label:"Active",color:"#5CC689",icon:t.jsx(sD,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:t.jsx(Ac,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:t.jsx(GL,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[s];return t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function Of({provider:s,active:e}){const n=s==="discord"?"D":"G";return t.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:s,children:n})}function xE(s){const e=["admin","mod","creator","user"];for(const n of e)if(s.includes(n))return n;return"user"}function Uh(s){var e,n,r,i,a,l,c,u,h;return(h=(u=(a=(n=s.displayName)!=null?n:(e=s.profile)==null?void 0:e.displayName)!=null?a:(i=(r=s.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(c=(l=s.providers)==null?void 0:l.google)==null?void 0:c.displayName)!=null?h:s.userId}function yE(s){var e,n,r,i,a,l,c;return(c=(l=(r=s.avatarUrl)!=null?r:(n=(e=s.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?l:(a=(i=s.providers)==null?void 0:i.google)==null?void 0:a.avatarUrl)!=null?c:null}function $1(s){return s!=null?s:"active"}function Ud(s){if(!s)return"";const e=s.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function O1(s,e){const[n,r]=I.useState(s);return I.useEffect(()=>{const i=window.setTimeout(()=>r(s),e);return()=>window.clearTimeout(i)},[s,e]),n}function pye(){return t.jsx(zt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:t.jsx("div",{className:"space-y-4",children:t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[t.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),t.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[t.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",t.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),t.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",t.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const mye="_page_rpt6g_1",gye="_tabs_rpt6g_17",fye="_tab_rpt6g_17",vye="_tabActive_rpt6g_71",xye="_banner_rpt6g_87",yye="_bannerSuccess_rpt6g_101",bye="_bannerError_rpt6g_113",_ye="_card_rpt6g_125",wye="_cardTitle_rpt6g_145",jye="_settingsForm_rpt6g_159",Sye="_formRow_rpt6g_173",Nye="_selectInput_rpt6g_185",kye="_checkboxRow_rpt6g_203",Cye="_settingsFooter_rpt6g_227",Tye="_inlineStatus_rpt6g_245",Iye="_helperText_rpt6g_259",Aye="_secondaryButton_rpt6g_271",Eye="_cardSubtitle_rpt6g_297",Pye="_identityHeader_rpt6g_309",Rye="_identityAvatar_rpt6g_323",Lye="_identityName_rpt6g_337",Dye="_identityProvider_rpt6g_351",Mye="_identityForm_rpt6g_363",Fye="_nameInputWrap_rpt6g_379",Bye="_nameLabel_rpt6g_395",$ye="_nameInput_rpt6g_379",Oye="_nameSaveButton_rpt6g_427",Vye="_feedbackError_rpt6g_471",Uye="_feedbackSuccess_rpt6g_483",zye="_metaGrid_rpt6g_495",Hye="_metaItem_rpt6g_507",Gye="_metaLabel_rpt6g_521",Wye="_metaValue_rpt6g_535",qye="_serviceList_rpt6g_549",Kye="_serviceRow_rpt6g_559",Qye="_serviceName_rpt6g_587",Xye="_serviceStatus_rpt6g_601",Yye="_serviceAction_rpt6g_613",Jye="_securityText_rpt6g_645",Zye="_securityNote_rpt6g_657",e0e="_logoutButton_rpt6g_669",t0e="_loadingState_rpt6g_701",s0e="_emptyState_rpt6g_703",n0e="_emptyStateTitle_rpt6g_721",r0e="_emptyStateText_rpt6g_733",i0e="_primaryButton_rpt6g_745",Me={page:mye,tabs:gye,tab:fye,tabActive:vye,banner:xye,bannerSuccess:yye,bannerError:bye,card:_ye,cardTitle:wye,settingsForm:jye,formRow:Sye,selectInput:Nye,checkboxRow:kye,settingsFooter:Cye,inlineStatus:Tye,helperText:Iye,secondaryButton:Aye,cardSubtitle:Eye,identityHeader:Pye,identityAvatar:Rye,identityName:Lye,identityProvider:Dye,identityForm:Mye,nameInputWrap:Fye,nameLabel:Bye,nameInput:$ye,nameSaveButton:Oye,feedbackError:Vye,feedbackSuccess:Uye,metaGrid:zye,metaItem:Hye,metaLabel:Gye,metaValue:Wye,serviceList:qye,serviceRow:Kye,serviceName:Qye,serviceStatus:Xye,serviceAction:Yye,securityText:Jye,securityNote:Zye,logoutButton:e0e,loadingState:t0e,emptyState:s0e,emptyStateTitle:n0e,emptyStateText:r0e,primaryButton:i0e},a0e="_header_t1aqh_1",o0e="_headerTexts_t1aqh_17",l0e="_tableWrap_t1aqh_31",c0e="_table_t1aqh_31",d0e="_tableRow_t1aqh_87",u0e="_dateCell_t1aqh_95",h0e="_actionsHeader_t1aqh_103",p0e="_actionCell_t1aqh_111",m0e="_unlinkButton_t1aqh_119",g0e="_unlinkIcon_t1aqh_175",f0e="_muted_t1aqh_185",v0e="_emptyState_t1aqh_193",x0e="_emptyTitle_t1aqh_209",y0e="_emptyDescription_t1aqh_221",b0e="_emptyCta_t1aqh_233",_0e="_helpAccordion_t1aqh_277",w0e="_helpToggle_t1aqh_291",j0e="_helpToggleOpen_t1aqh_331",S0e="_helpToggleAction_t1aqh_339",N0e="_helpBody_t1aqh_351",k0e="_helpList_t1aqh_359",C0e="_helpListItem_t1aqh_377",T0e="_helpFootnote_t1aqh_385",I0e="_confirmBackdrop_t1aqh_397",A0e="_confirmDialog_t1aqh_419",E0e="_confirmTitle_t1aqh_443",P0e="_confirmText_t1aqh_457",R0e="_confirmName_t1aqh_473",L0e="_confirmMeta_t1aqh_483",D0e="_errorText_t1aqh_491",M0e="_confirmActions_t1aqh_503",F0e="_cancelButton_t1aqh_517",B0e="_confirmButton_t1aqh_519",ts={header:a0e,headerTexts:o0e,tableWrap:l0e,table:c0e,tableRow:d0e,dateCell:u0e,actionsHeader:h0e,actionCell:p0e,unlinkButton:m0e,unlinkIcon:g0e,muted:f0e,emptyState:v0e,emptyTitle:x0e,emptyDescription:y0e,emptyCta:b0e,helpAccordion:_0e,helpToggle:w0e,helpToggleOpen:j0e,helpToggleAction:S0e,helpBody:N0e,helpList:k0e,helpListItem:C0e,helpFootnote:T0e,confirmBackdrop:I0e,confirmDialog:A0e,confirmTitle:E0e,confirmText:P0e,confirmName:R0e,confirmMeta:L0e,errorText:D0e,confirmActions:M0e,cancelButton:F0e,confirmButton:B0e},$0e=s=>{if(!s)return"-";const e=new Date(s);return Number.isNaN(e.getTime())?s:e.toLocaleString()},N0=s=>{var n;const e=(n=s.name)==null?void 0:n.trim();return e||(s.playerId!==void 0&&s.playerId!==null?`#${s.playerId}`:"-")},O0e=({user:s,refreshSession:e,openHelp:n=!1})=>{const{t:r}=Ia(),i=I.useMemo(()=>{var A;return(A=s.linkedPlayers)!=null?A:[]},[s.linkedPlayers]),[a,l]=I.useState(!1),[c,u]=I.useState(!1),[h,p]=I.useState(null),[g,x]=I.useState(null),[b,_]=I.useState(()=>n||i.length===0),S=I.useMemo(()=>`${Aa}/user/unlink-character`,[]);X.useEffect(()=>{n&&_(!0)},[n]),X.useEffect(()=>{i.length===0&&_(!0)},[i.length]);const C=async()=>{l(!0);try{await e({silent:!0})}catch(A){console.error("[Account] Failed to refresh linked players",A)}finally{l(!1)}},E=A=>{p(A),x(null)},F=()=>{c||(p(null),x(null))},k=async()=>{var A;if(h){if(!S){x(r("account.connectedCharacters.errors.serviceUnavailable","Auth service is not configured for unlinking."));return}u(!0),l(!0),x(null);try{const M=await fetch(S,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:h.playerId,server:h.server})});if(!M.ok){const R=await M.json().catch(()=>null),B=(R==null?void 0:R.error)||(R==null?void 0:R.message)||r("account.connectedCharacters.errors.unlink","Could not unlink character.");throw new Error(B)}await e({silent:!0}),p(null)}catch(M){const R=(A=M==null?void 0:M.message)!=null?A:r("account.connectedCharacters.errors.unlink","Could not unlink character.");x(R)}finally{u(!1),l(!1)}}},y=A=>A?A.startsWith("discord_")?r("account.connectedCharacters.method.discord","Discord bot"):A:"-",w=I.useMemo(()=>[r("account.connectedCharacters.help.steps.link",'Link a character via the Discord bot using the "!connect char" command.'),r("account.connectedCharacters.help.steps.verify","We match the character to your latest verified scan; keep your game data up to date."),r("account.connectedCharacters.help.steps.refresh","After linking, click Refresh here to sync the latest characters from the auth service."),r("account.connectedCharacters.help.steps.unlink","You can unlink any character in the Actions column; the source column shows how it was linked.")],[r]),P=()=>{const A="connected-characters-help";return t.jsxs("div",{className:ts.helpAccordion,children:[t.jsxs("button",{type:"button",className:`${ts.helpToggle} ${b?ts.helpToggleOpen:""}`,"aria-expanded":b,"aria-controls":A,onClick:()=>_(M=>!M),children:[t.jsx("span",{children:r("account.connectedCharacters.help.title","How does linking work?")}),t.jsx("span",{className:ts.helpToggleAction,children:b?r("account.connectedCharacters.help.hide","Hide"):r("account.connectedCharacters.help.show","Show")})]}),b&&t.jsxs("div",{id:A,className:ts.helpBody,children:[t.jsx("ul",{className:ts.helpList,children:w.map((M,R)=>t.jsx("li",{className:ts.helpListItem,children:M},`help-step-${R}`))}),t.jsx("p",{className:ts.helpFootnote,children:r("account.connectedCharacters.help.footnote","Tip: Click Refresh after linking or unlinking to update this table.")})]})]})},T=()=>t.jsx("div",{className:ts.tableWrap,children:t.jsxs("table",{className:ts.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:r("account.connectedCharacters.columns.character","Character")}),t.jsx("th",{children:r("account.connectedCharacters.columns.server","Server")}),t.jsx("th",{children:r("account.connectedCharacters.columns.playerId","Player ID")}),t.jsx("th",{children:r("account.connectedCharacters.columns.class","Class")}),t.jsx("th",{children:r("account.connectedCharacters.columns.level","Level")}),t.jsx("th",{children:r("account.connectedCharacters.columns.guild","Guild")}),t.jsx("th",{children:r("account.connectedCharacters.columns.lastVerified","Last linked")}),t.jsx("th",{children:r("account.connectedCharacters.columns.source","Source")}),t.jsx("th",{className:ts.actionsHeader,children:r("account.connectedCharacters.columns.actions","Actions")})]})}),t.jsx("tbody",{children:i.map((A,M)=>{var W,K,q,se;const R=`${(W=A.server)!=null?W:"unknown"}-${(K=A.playerId)!=null?K:M}`,B=(q=A.level)!=null?q:"-",$=A.guildName||"-",z=A.class||"-",U=y(A.method);return t.jsxs("tr",{className:ts.tableRow,children:[t.jsx("td",{children:N0(A)}),t.jsx("td",{children:A.server||"-"}),t.jsx("td",{children:(se=A.playerId)!=null?se:"-"}),t.jsx("td",{className:A.class?void 0:ts.muted,children:z}),t.jsx("td",{className:typeof A.level!="number"?ts.muted:void 0,children:B}),t.jsx("td",{className:A.guildName?void 0:ts.muted,children:$}),t.jsx("td",{className:ts.dateCell,children:$0e(A.verifiedAt)}),t.jsx("td",{className:A.method?void 0:ts.muted,children:U}),t.jsx("td",{className:ts.actionCell,children:t.jsx("button",{type:"button",className:ts.unlinkButton,onClick:()=>E(A),title:r("account.connectedCharacters.actions.unlink","Disconnect character"),"aria-label":`${r("account.connectedCharacters.actions.unlink","Disconnect character")} ${N0(A)}`,disabled:c||a,children:t.jsx("svg",{className:ts.unlinkIcon,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:t.jsx("path",{fill:"currentColor",d:"M9 4h6a1 1 0 0 1 1 1v2h5v2h-2.1l-1.05 11.2A2 2 0 0 1 15.86 22H8.14a2 2 0 0 1-1.99-1.8L5.1 9H3V7h5V5a1 1 0 0 1 1-1Zm5 2V6H10v2h4Zm-6.93 3 1.02 10.8a1 1 0 0 0 1 .9h7.72a1 1 0 0 0 1-.9L18.83 9ZM10 11v7h2v-7Zm4 0v7h2v-7Z"})})})})]},R)})})]})}),N=()=>{var M;if(!h)return null;const A="unlink-dialog-title";return t.jsx("div",{className:ts.confirmBackdrop,role:"dialog","aria-modal":"true","aria-labelledby":A,children:t.jsxs("div",{className:ts.confirmDialog,children:[t.jsx("h3",{id:A,className:ts.confirmTitle,children:r("account.connectedCharacters.confirmation.title","Are you sure you want to unlink this character?")}),t.jsxs("p",{className:ts.confirmText,children:[t.jsx("span",{className:ts.confirmName,children:N0(h)}),t.jsxs("span",{className:ts.confirmMeta,children:[h.server||"-"," - #",(M=h.playerId)!=null?M:"-"]})]}),g&&t.jsx("p",{className:ts.errorText,children:g}),t.jsxs("div",{className:ts.confirmActions,children:[t.jsx("button",{type:"button",className:ts.cancelButton,onClick:F,disabled:c,children:r("account.connectedCharacters.confirmation.cancel","Cancel")}),t.jsx("button",{type:"button",className:ts.confirmButton,onClick:k,disabled:c,children:c?r("account.connectedCharacters.confirmation.confirming","Unlinking..."):r("account.connectedCharacters.confirmation.confirm","Yes, unlink")})]})]})})};return s?t.jsxs("section",{className:Me.card,children:[t.jsxs("div",{className:ts.header,children:[t.jsxs("div",{className:ts.headerTexts,children:[t.jsx("h2",{className:Me.cardTitle,children:r("account.connectedCharacters.title","Connected characters")}),t.jsx("p",{className:Me.cardSubtitle,children:r("account.connectedCharacters.subtitle","These game characters are linked to your SFDataHub account.")})]}),t.jsx("button",{type:"button",className:Me.secondaryButton,onClick:C,disabled:a,children:a?r("account.connectedCharacters.actions.refreshing","Refreshing..."):r("account.connectedCharacters.actions.refresh","Refresh")})]}),a&&t.jsx("p",{className:Me.helperText,children:r("account.connectedCharacters.loading","Refreshing characters...")}),P(),!a&&i.length===0&&t.jsxs("div",{className:ts.emptyState,children:[t.jsx("p",{className:ts.emptyTitle,children:r("account.connectedCharacters.empty.title","No characters linked yet")}),t.jsx("p",{className:ts.emptyDescription,children:r("account.connectedCharacters.empty.description",'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.')}),t.jsx("button",{type:"button",className:ts.emptyCta,onClick:()=>_(!0),children:r("account.connectedCharacters.empty.cta","Click to learn how linking works")})]}),i.length>0&&T(),N()]}):null},bE="user_settings";async function CC(s){if(!s)return null;try{const e=Zt(pt,bE,s),n=await un(e);if(!n.exists())return null;const r=n.data();return r!=null?r:null}catch(e){return console.warn("[UserSettings] Failed to load settings",e),null}}async function V0e(s,e){if(s)try{const n=Zt(pt,bE,s);await xo(n,e,{merge:!0})}catch(n){throw console.error("[UserSettings] Failed to update settings",n),n}}const _E="user_tools_state";async function U0e(s){var e;if(!s)return null;try{const n=Zt(pt,_E,s),r=await un(n);return r.exists()&&(e=r.data())!=null?e:null}catch(n){return console.warn("[UserToolsSettings] Failed to load tools settings",n),null}}async function z0e(s,e){if(s)try{const n=Zt(pt,_E,s),r={...e,updatedAt:new Date().toISOString()};await xo(n,r,{merge:!0})}catch(n){throw console.error("[UserToolsSettings] Failed to save tools settings",n),n}}const H0e="https://i.pravatar.cc/72",Ig=`${Aa}/auth/account/profile`,k0=`${Aa}/auth/google/link/start`,TC=3,IC=32,G0e=["overview","settings","tools","connected-characters"],AC=s=>{if(!s)return;const e=new Date(s);return Number.isNaN(e.getTime())?s:e.toLocaleString()},W0e=()=>{const{status:s,user:e,logout:n,refreshSession:r}=So(),i=Ei(),a=gr(),{t:l,i18n:c}=Ia(),[u,h]=I.useState("overview"),[p,g]=I.useState(null),[x,b]=I.useState(null),[_,S]=I.useState(!1),[C,E]=I.useState(null),[F,k]=I.useState(!1),[y,w]=I.useState(!1),[P,T]=I.useState(null),[N,A]=I.useState(null),[M,R]=I.useState(!0),[B,$]=I.useState(!1),[z,U]=I.useState(null),[W,K]=I.useState(!1),q=I.useMemo(()=>{const qe=new URLSearchParams(a.search);return qe.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:qe.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[a.search]),se=s==="loading"||s==="idle",ne=s==="authenticated"&&!!e,H=e==null?void 0:e.id,J=I.useMemo(()=>new URLSearchParams(a.search),[a.search]),le=J.get("tab"),oe=J.get("openHelp")==="1",he=I.useMemo(()=>({language:c.language==="de"?"de":"en",defaultSection:"home",compactTables:!1,showExperimentalFeatures:!1}),[c.language]);I.useEffect(()=>{if(!H){g(null),b(null),E(null),S(!1),T(null),A(null),R(!1),$(!1),U(null),K(!1);return}let qe=!0;return(async()=>{S(!0),E(null),w(!1);try{const ze=await CC(H),St=ze?{...he,...ze}:he;if(!qe)return;g(St),b(St)}catch(ze){if(!qe)return;E(l("account.settings.error","Could not load settings."))}finally{qe&&S(!1)}})(),()=>{qe=!1}},[H,he,l]),I.useEffect(()=>{if(!H)return;let qe=!0;const Ce={defaultSetId:null,showToolsIntro:!0,enableExperimentalTools:!1};return(async()=>{R(!0),U(null),K(!1);try{const St=await U0e(H);if(!qe)return;const Bt=St?{...Ce,...St}:Ce;T(Bt),A(Bt)}catch(St){if(!qe)return;U(l("account.tools.loadError","Could not load tools settings."))}finally{qe&&R(!1)}})(),()=>{qe=!1}},[H,l]),I.useEffect(()=>{le&&G0e.includes(le)&&le!==u&&h(le)},[le,u]);const xe=(qe,Ce)=>{const ze=new URLSearchParams(a.search);ze.set("tab",qe),Ce!=null&&Ce.openHelp?ze.set("openHelp","1"):ze.delete("openHelp");const St=ze.toString();i({pathname:a.pathname,search:St?`?${St}`:""},{replace:!0})},Re=()=>{i("/login")},Z=async()=>{await n(),i("/")},fe=()=>{if(!k0){window.alert("Auth service is not configured for Google linking.");return}window.location.href=k0},ie=()=>t.jsx("div",{className:Me.loadingState,children:"Checking session..."}),_e=()=>t.jsxs("div",{className:Me.emptyState,children:[t.jsx("p",{className:Me.emptyStateTitle,children:"You are not signed in."}),t.jsx("p",{className:Me.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),t.jsx("button",{type:"button",className:Me.primaryButton,onClick:Re,children:"Go to sign-in"})]}),be=()=>{if(!q)return null;const qe=q.type==="success"?`${Me.banner} ${Me.bannerSuccess}`:`${Me.banner} ${Me.bannerError}`;return t.jsx("div",{className:qe,children:q.message})},Se=()=>{var hs,Gs,bt;if(!e)return null;const qe=(hs=e.providers)==null?void 0:hs.discord,Ce=(Gs=e.providers)==null?void 0:Gs.google,ze=!!qe,St=!!Ce,Bt=!!k0,ks=Bt?St?Ce!=null&&Ce.displayName?`Connected as ${Ce.displayName}`:"Connected":"Not connected":"Auth service not configured",us=[{key:"discord",name:"Discord",status:ze?`Connected as ${(bt=qe==null?void 0:qe.displayName)!=null?bt:e.displayName}`:"Not connected",actionLabel:ze?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:ks,actionLabel:St?"Connected":"Connect",disabled:St||!Bt,onClick:St||!Bt?void 0:fe},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return t.jsxs("section",{className:Me.card,children:[t.jsx("h2",{className:Me.cardTitle,children:"Connected services"}),t.jsx("p",{className:Me.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),t.jsx("div",{className:Me.serviceList,children:us.map(we=>t.jsxs("div",{className:Me.serviceRow,children:[t.jsxs("div",{children:[t.jsx("p",{className:Me.serviceName,children:we.name}),t.jsx("p",{className:Me.serviceStatus,children:we.status})]}),t.jsx("button",{type:"button",className:Me.serviceAction,disabled:we.disabled,onClick:we.onClick,children:we.actionLabel})]},we.key))})]})},Ve=()=>t.jsxs("section",{className:Me.card,children:[t.jsx("h2",{className:Me.cardTitle,children:"Security & session"}),t.jsx("p",{className:Me.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),t.jsx("p",{className:Me.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),t.jsx("button",{type:"button",className:Me.logoutButton,onClick:Z,children:"Log out from this device"}),t.jsx("p",{className:Me.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),Ue=(qe,Ce)=>{p&&(g(ze=>({...ze!=null?ze:he,[qe]:Ce})),w(!1))},tt=!!(p&&x&&JSON.stringify(p)!==JSON.stringify(x)),Je=!!(P&&N&&JSON.stringify(P)!==JSON.stringify(N)),ct=async()=>{if(!(!H||!p||F||!tt))try{k(!0),E(null),await V0e(H,p),b(p),w(!0)}catch(qe){E(l("account.settings.saveError","Could not save settings. Please try again."))}finally{k(!1)}},Wt=(qe,Ce)=>{P&&(T(ze=>({...ze!=null?ze:{},[qe]:Ce})),K(!1))},je=async()=>{if(!(!H||!P||B||!Je))try{$(!0),U(null),await z0e(H,P),A(P),K(!0)}catch(qe){U(l("account.tools.save.error","Could not save settings. Please try again."))}finally{$(!1)}},Qe=()=>{var qe,Ce;return t.jsxs("section",{className:Me.card,children:[t.jsx("h2",{className:Me.cardTitle,children:l("account.settings.title","Settings")}),t.jsx("p",{className:Me.cardSubtitle,children:l("account.settings.subtitle","Configure your personal preferences.")}),_&&t.jsx("p",{className:Me.helperText,children:l("account.settings.loading","Loading settings...")}),C&&t.jsxs("div",{className:Me.feedbackError,children:[t.jsx("p",{children:C}),t.jsx("button",{type:"button",className:Me.secondaryButton,onClick:()=>{H&&(E(null),w(!1),S(!0),CC(H).then(ze=>{const St=ze?{...he,...ze}:he;g(St),b(St)}).catch(()=>{E(l("account.settings.error","Could not load settings."))}).finally(()=>S(!1)))},children:l("account.settings.retry","Retry")})]}),p&&!_&&t.jsxs("div",{className:Me.settingsForm,children:[t.jsxs("div",{className:Me.formRow,children:[t.jsx("label",{className:Me.nameLabel,htmlFor:"settings-language",children:l("account.settings.language.label","Preferred language")}),t.jsxs("select",{id:"settings-language",className:Me.selectInput,value:(qe=p.language)!=null?qe:he.language,onChange:ze=>Ue("language",ze.target.value),children:[t.jsx("option",{value:"en",children:l("topbar.lang_en","English")}),t.jsx("option",{value:"de",children:l("topbar.lang_de","Deutsch")})]})]}),t.jsxs("div",{className:Me.formRow,children:[t.jsx("label",{className:Me.nameLabel,htmlFor:"settings-section",children:l("account.settings.defaultSection.label","Default section")}),t.jsxs("select",{id:"settings-section",className:Me.selectInput,value:(Ce=p.defaultSection)!=null?Ce:he.defaultSection,onChange:ze=>Ue("defaultSection",ze.target.value),children:[t.jsx("option",{value:"home",children:l("nav.home","Home")}),t.jsx("option",{value:"toplists",children:l("nav.toplists","Top Lists")}),t.jsx("option",{value:"guilds",children:l("nav.guilds","Guilds")}),t.jsx("option",{value:"tools",children:l("nav.tools","Tools")}),t.jsx("option",{value:"community",children:l("nav.community","Community")})]})]}),t.jsxs("label",{className:Me.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!p.compactTables,onChange:ze=>Ue("compactTables",ze.target.checked)}),t.jsx("span",{children:l("account.settings.compactTables.label","Use compact table layout")})]}),t.jsxs("label",{className:Me.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!p.showExperimentalFeatures,onChange:ze=>Ue("showExperimentalFeatures",ze.target.checked)}),t.jsx("span",{children:l("account.settings.experimental.label","Enable experimental features")})]})]}),t.jsxs("div",{className:Me.settingsFooter,children:[t.jsxs("div",{className:Me.inlineStatus,children:[y?t.jsx("span",{className:Me.feedbackSuccess,children:l("account.settings.saved","Settings saved.")}):tt?null:t.jsx("span",{className:Me.helperText,children:l("account.settings.noChanges","No changes to save.")}),F&&t.jsx("span",{className:Me.helperText,children:l("account.settings.saving","Saving...")})]}),t.jsx("button",{type:"button",className:Me.primaryButton,disabled:!tt||F||!p,onClick:ct,children:l("account.settings.save","Save settings")})]})]})},Ke=()=>{const qe=[{key:"overview",label:l("account.tabs.overview","Overview")},{key:"settings",label:l("account.tabs.settings","Settings")},{key:"tools",label:l("account.tabs.tools","Tools")},{key:"connected-characters",label:l("account.tabs.connectedCharacters","Connected characters")}];return t.jsx("div",{className:Me.tabs,role:"tablist","aria-label":"Account sections",children:qe.map(Ce=>{const ze=u===Ce.key;return t.jsx("button",{type:"button",className:`${Me.tab} ${ze?Me.tabActive:""}`,onClick:()=>{h(Ce.key),xe(Ce.key,{openHelp:Ce.key==="connected-characters"&&oe})},role:"tab","aria-selected":ze,children:Ce.label},Ce.key)})})},vt=()=>{var qe;if(!e)return null;switch(u){case"overview":return t.jsxs(t.Fragment,{children:[t.jsx(q0e,{user:e,refreshSession:r}),Se(),Ve()]});case"settings":return Qe();case"tools":return t.jsxs("section",{className:Me.card,children:[t.jsx("h2",{className:Me.cardTitle,children:l("account.tools.title","Tools settings")}),t.jsx("p",{className:Me.cardSubtitle,children:l("account.tools.subtitle","Configure how tools behave for your account.")}),M&&t.jsx("p",{className:Me.helperText,children:l("account.tools.loading","Loading tools settings...")}),z&&t.jsx("p",{className:Me.feedbackError,children:z}),P&&!M&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Me.settingsForm,children:[t.jsxs("div",{className:Me.formRow,children:[t.jsx("label",{className:Me.nameLabel,htmlFor:"tools-default-set",children:l("account.tools.defaultSet.label","Default set ID")}),t.jsx("input",{id:"tools-default-set",type:"text",className:Me.nameInput,value:(qe=P.defaultSetId)!=null?qe:"",onChange:Ce=>Wt("defaultSetId",Ce.target.value),placeholder:l("account.tools.defaultSet.placeholder","Enter a default set ID")})]}),t.jsxs("label",{className:Me.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!P.showToolsIntro,onChange:Ce=>Wt("showToolsIntro",Ce.target.checked)}),t.jsx("span",{children:l("account.tools.showIntro.label","Show tools intro")})]}),t.jsxs("label",{className:Me.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!P.enableExperimentalTools,onChange:Ce=>Wt("enableExperimentalTools",Ce.target.checked)}),t.jsx("span",{children:l("account.tools.experimental.label","Enable experimental tools")})]})]}),t.jsxs("div",{className:Me.settingsFooter,children:[t.jsxs("div",{className:Me.inlineStatus,children:[W?t.jsx("span",{className:Me.feedbackSuccess,children:l("account.tools.save.success","Settings saved.")}):Je?null:t.jsx("span",{className:Me.helperText,children:l("account.tools.save.noChanges","No changes to save.")}),B&&t.jsx("span",{className:Me.helperText,children:l("account.tools.save.saving","Saving...")})]}),t.jsx("button",{type:"button",className:Me.primaryButton,disabled:M||B||!Je||!P,onClick:je,children:l("account.tools.save.cta","Save settings")})]})]})]});case"connected-characters":return t.jsx(O0e,{user:e,refreshSession:r,openHelp:oe});default:return null}},kt=()=>se?ie():ne?t.jsxs(t.Fragment,{children:[Ke(),vt()]}):_e();return t.jsx(zt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:t.jsxs("div",{className:Me.page,children:[be(),kt()]})})};function q0e({user:s,refreshSession:e}){var P;const[n,r]=I.useState(()=>{var T;return(T=s==null?void 0:s.displayName)!=null?T:""}),[i,a]=I.useState(!1),[l,c]=I.useState(null),[u,h]=I.useState(!1),p=(s==null?void 0:s.avatarUrl)||H0e,g=(s==null?void 0:s.provider)==="google"?"Google":"Discord",x=(P=s==null?void 0:s.displayName)!=null?P:"",b=n.trim(),_=b.length===0||b.length>=TC&&b.length<=IC,S=!!s&&b.length>0&&b!==x,C=!!(Ig&&_&&S&&!i),E=b.length>0&&!_?`Name must be between ${TC} and ${IC} characters.`:null;I.useEffect(()=>{var T;r((T=s==null?void 0:s.displayName)!=null?T:""),h(!1),c(null)},[s==null?void 0:s.id,s==null?void 0:s.displayName]);const F=I.useMemo(()=>{var T;return s?[{label:"SFDataHub ID",value:s.id},(T=s.roles)!=null&&T.length?{label:"Roles",value:s.roles.join(", ")}:null,s.createdAt?{label:"Created at",value:AC(s.createdAt)}:null,s.lastLoginAt?{label:"Last login",value:AC(s.lastLoginAt)}:null].filter(N=>!!(N!=null&&N.value)):[]},[s]),k=async()=>{var T,N;if(!C||!Ig){Ig||c("Auth service is not configured.");return}try{a(!0),c(null),h(!1);const A=await fetch(Ig,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:b})});if(!A.ok){const M=await A.json().catch(()=>null);throw new Error((T=M==null?void 0:M.error)!=null?T:"Failed to update name.")}await e(),h(!0),r(b)}catch(A){const M=(N=A==null?void 0:A.message)!=null?N:"Failed to update name.";c(M)}finally{a(!1)}},y=T=>{T.key==="Enter"&&(T.preventDefault(),C&&k())},w=()=>{C&&k()};return s?t.jsxs("section",{className:Me.card,children:[t.jsxs("div",{className:Me.identityHeader,children:[t.jsx("img",{src:p,alt:"",className:Me.identityAvatar}),t.jsxs("div",{children:[t.jsx("p",{className:Me.identityName,children:s.displayName||"Unbenannter Nutzer"}),t.jsxs("p",{className:Me.identityProvider,children:[g," sign-in"]})]}),t.jsx("span",{className:Me.statusBadge,children:"Verified"})]}),t.jsxs("div",{className:Me.identityForm,children:[t.jsxs("div",{className:Me.nameInputWrap,children:[t.jsx("label",{className:Me.nameLabel,children:"Display name"}),t.jsx("input",{type:"text",className:Me.nameInput,value:n,onChange:T=>r(T.target.value),onKeyDown:y,onBlur:w,placeholder:"Enter your display name"})]}),t.jsx("button",{type:"button",className:Me.nameSaveButton,disabled:!C,onClick:k,children:i?"Saving...":"Save"})]}),E&&t.jsx("p",{className:Me.feedbackError,children:E}),l&&t.jsx("p",{className:Me.feedbackError,children:l}),u&&t.jsx("p",{className:Me.feedbackSuccess,children:"Name updated."}),F.length>0&&t.jsx("div",{className:Me.metaGrid,children:F.map(T=>t.jsxs("div",{className:Me.metaItem,children:[t.jsx("span",{className:Me.metaLabel,children:T.label}),t.jsx("span",{className:Me.metaValue,children:T.value})]},T.label))})]}):null}const xt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function K0e(){const{t:s}=Ia();return t.jsx("div",{style:xt.wrap,children:t.jsxs("div",{style:xt.grid,children:[t.jsxs("aside",{style:xt.tile,children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),t.jsx("p",{style:xt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),t.jsxs("nav",{children:[t.jsx("div",{style:xt.groupLabel,children:"Allgemein"}),t.jsx(ys,{to:"list-views",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"List-View Switcher"}),t.jsx(ys,{to:"rescan-widget",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Rescan Widget (auto)"}),t.jsx(ys,{to:"upload-sim",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Upload Simulator"}),t.jsx(ys,{to:"hud/game-buttons",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"HUD  Game Buttons"}),t.jsx(ys,{to:"theme-maker",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Theme / Template Maker"}),t.jsx(ys,{to:"theme-maker-pro",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Theme / Template Maker  Pro"}),t.jsx(ys,{to:"gamified",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:s("playground.tabs.gamified",{defaultValue:"Gamified"})}),t.jsx(ys,{to:"gamified-2",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:s("playground.tabs.gamified2",{defaultValue:"Gamified 2"})}),t.jsx(ys,{to:"gamified-3",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:s("playground.tabs.gamified3",{defaultValue:"Gamified 3"})}),t.jsx(ys,{to:"gamified-4",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:s("playground.tabs.gamified4",{defaultValue:"Gamified 4"})}),t.jsx(ys,{to:"gamified-5",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:s("playground.tabs.gamified5",{defaultValue:"Gamified 5"})}),t.jsx(ys,{to:"gamified-6",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:s("playground.tabs.gamified6",{defaultValue:"Gamified 6"})}),t.jsx(ys,{to:"gamified-7",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:s("playground.tabs.gamified7",{defaultValue:"Gamified 7"})}),t.jsx("div",{style:xt.groupLabel,children:"Templates"}),t.jsx(ys,{to:"templates/content-shell",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"ContentShell Template"}),t.jsx(ys,{to:"templates/blank",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Leere Vorlage"}),t.jsx(ys,{to:"templates/blank-alt",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Leere Vorlage (Neu)"}),t.jsx(ys,{to:"templates/blank-layout-2",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Leere Vorlage  Layout 2"}),t.jsx(ys,{to:"templates/blank-layout-3",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Leere Vorlage  Layout 3"}),t.jsx(ys,{to:"templates/blank-layout-4",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"Leere Vorlage  Layout 4"}),t.jsx("div",{style:xt.groupLabel,children:"Guide Hub Demos"}),t.jsx(ys,{to:"am-rune-bonuses-demos",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),t.jsx("div",{style:xt.groupLabel,children:"Graphics / Portraits"}),t.jsx(ys,{to:"portrait-maker",style:({isActive:e})=>({...xt.link,...e?xt.active:{}}),children:"PortraitMaker Demo"})]})]}),t.jsx("section",{style:xt.tile,children:t.jsx($5,{})})]})})}const Q0e="_page_1kokx_1",X0e="_topBar_1kokx_17",Y0e="_tabs_1kokx_31",J0e="_tab_1kokx_31",Z0e="_tabActive_1kokx_63",e1e="_searchWrap_1kokx_73",t1e="_input_1kokx_85",s1e="_stickyIcons_1kokx_105",n1e="_iconBtn_1kokx_129",r1e="_tableWrap_1kokx_161",i1e="_table_1kokx_161",a1e="_th_1kokx_181",o1e="_td_1kokx_181",l1e="_row_1kokx_201",c1e="_chips_1kokx_219",d1e="_chip_1kokx_219",u1e="_badges_1kokx_249",h1e="_badge_1kokx_249",p1e="_badgeMax_1kokx_275",m1e="_badgeAchiev_1kokx_277",g1e="_badgeX2_1kokx_279",f1e="_badgeX12_1kokx_281",v1e="_badgeX60_1kokx_283",x1e="_section_1kokx_289",y1e="_sectionHeader_1kokx_297",b1e="_cardList_1kokx_315",_1e="_card_1kokx_315",w1e="_cardMax_1kokx_353",j1e="_iconXL_1kokx_355",S1e="_split_1kokx_369",N1e="_left_1kokx_379",k1e="_leftBtn_1kokx_399",C1e="_leftBtnActive_1kokx_411",T1e="_detail_1kokx_413",I1e="_grid_1kokx_433",A1e="_tile_1kokx_443",E1e="_drawer_1kokx_457",P1e="_timeline_1kokx_487",R1e="_node_1kokx_493",L1e="_dot_1kokx_501",wt={page:Q0e,topBar:X0e,tabs:Y0e,tab:J0e,tabActive:Z0e,searchWrap:e1e,input:t1e,stickyIcons:s1e,iconBtn:n1e,tableWrap:r1e,table:i1e,th:a1e,td:o1e,row:l1e,chips:c1e,chip:d1e,badges:u1e,badge:h1e,badgeMax:p1e,badgeAchiev:m1e,badgeX2:g1e,badgeX12:f1e,badgeX60:v1e,section:x1e,sectionHeader:y1e,cardList:b1e,card:_1e,cardMax:w1e,iconXL:j1e,split:S1e,left:N1e,leftBtn:k1e,leftBtnActive:C1e,detail:T1e,grid:I1e,tile:A1e,drawer:E1e,timeline:P1e,node:R1e,dot:L1e},EC=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Ti(s){const e=s.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function D1e(s){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${s.tier} ${(e=s.note)!=null?e:""}`)}function M1e(s){var n,r;const e=(r=(n=s.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Vf({label:s}){const e=(s||"?").slice(0,1).toUpperCase();return t.jsx("div",{className:wt.iconBtn,title:s||"Rune",children:e})}function Z_({label:s}){const e=(s||"?").slice(0,1).toUpperCase();return t.jsx("div",{className:wt.iconXL,title:s||"Rune",children:e})}function F1e(s){const e=new Map;for(const n of s){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function Fp({r:s}){const e=[];return s.gold&&e.push(`Gold ${s.gold}`),s.xp&&e.push(`XP ${s.xp}`),s.hp&&e.push(`HP ${s.hp}`),s.totalRes&&e.push(`Total Res ${s.totalRes}`),s.singleRes&&e.push(`Single Res ${s.singleRes}`),s.elemDmg&&e.push(`Elem ${s.elemDmg}`),s.itemQuality&&e.push(`Item ${s.itemQuality}`),s.epics&&e.push(`Epics ${s.epics}`),t.jsx("div",{className:wt.chips,children:e.map((n,r)=>t.jsx("span",{className:wt.chip,children:n},r))})}function Bp({r:s,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:wt.badgeMax}),D1e(s)&&n.push({label:"Achievement",cls:wt.badgeAchiev});const r=M1e(s);return r==="x2"&&n.push({label:"x2",cls:wt.badgeX2}),r==="x12"&&n.push({label:"x12",cls:wt.badgeX12}),r==="x60"&&n.push({label:"x60",cls:wt.badgeX60}),n.length===0?null:t.jsx("div",{className:wt.badges,children:n.map((i,a)=>{var l;return t.jsx("span",{className:`${wt.badge} ${(l=i.cls)!=null?l:""}`,children:i.label},a)})})}function B1e(s){const e=s.trim().toLowerCase();return e?EC.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):EC}function $1e({data:s}){const e=Math.max(...s.map(i=>Ti(i.amount))),n=I.useMemo(()=>Array.from(new Set(s.map(i=>i.tier||"(no tier)"))),[s]);function r(i){const a=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:wt.stickyIcons,children:n.map((i,a)=>t.jsx("div",{onClick:()=>r(i),children:t.jsx(Vf,{label:i||"(no tier)"})},a))}),t.jsx("div",{className:wt.tableWrap,children:t.jsxs("table",{className:wt.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:wt.th,style:{width:42}}),t.jsx("th",{className:wt.th,style:{width:120},children:"Amount"}),t.jsx("th",{className:wt.th,children:"Bonuses"}),t.jsx("th",{className:wt.th,style:{width:220},children:"Tags"})]})}),t.jsx("tbody",{children:s.map((i,a)=>{const l=Math.abs(Ti(i.amount)-e)<1e-6;return t.jsxs("tr",{className:wt.row,"data-tier":i.tier||"(no tier)",children:[t.jsx("td",{className:wt.td,children:t.jsx(Vf,{label:i.tier||""})}),t.jsx("td",{className:wt.td,children:i.amount}),t.jsx("td",{className:wt.td,children:t.jsx(Fp,{r:i})}),t.jsx("td",{className:wt.td,children:t.jsx(Bp,{r:i,isMax:l})})]},a)})})]})})]})}function O1e({data:s}){const e=F1e(s),n=Math.max(...s.map(r=>Ti(r.amount)));return t.jsx(t.Fragment,{children:e.map(([r,i])=>t.jsxs("section",{className:wt.section,children:[t.jsx("div",{className:wt.sectionHeader,children:r}),t.jsx("div",{className:wt.cardList,children:i.map((a,l)=>{const c=Math.abs(Ti(a.amount)-n)<1e-6;return t.jsxs("div",{className:`${wt.card} ${c?wt.cardMax:""}`,children:[t.jsx(Z_,{label:r}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[t.jsx("strong",{children:a.amount}),t.jsx(Bp,{r:a,isMax:c})]}),t.jsx(Fp,{r:a})]}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},l)})})]},r))})}function V1e({data:s}){var l;const e=Array.from(new Set(s.map(c=>c.tier||"(no tier)"))),[n,r]=I.useState((l=e[0])!=null?l:""),i=s.filter(c=>(c.tier||"(no tier)")===n),a=Math.max(...s.map(c=>Ti(c.amount)));return t.jsxs("div",{className:wt.split,children:[t.jsx("div",{className:wt.left,children:e.map(c=>t.jsxs("button",{className:`${wt.leftBtn} ${c===n?wt.leftBtnActive:""}`,onClick:()=>r(c),children:[t.jsx(Vf,{label:c}),t.jsx("span",{children:c})]},c))}),t.jsxs("div",{className:wt.detail,children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(Z_,{label:n}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:n}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((c,u)=>{const h=Math.abs(Ti(c.amount)-a)<1e-6;return t.jsxs("div",{className:wt.card,style:{gridTemplateColumns:"1fr auto"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[t.jsx("strong",{children:c.amount}),t.jsx(Bp,{r:c,isMax:h})]}),t.jsx(Fp,{r:c})]}),t.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function U1e({data:s}){const[e,n]=I.useState(null),r=Math.max(...s.map(i=>Ti(i.amount)));return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:wt.grid,children:s.map((i,a)=>t.jsx("div",{className:wt.tile,onClick:()=>n(i),title:i.tier||"",children:t.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[t.jsx(Vf,{label:i.tier||""}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},a))}),e&&t.jsxs("div",{className:wt.drawer,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[t.jsx(Z_,{label:e.tier||""}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:e.amount}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),t.jsx("button",{className:wt.tab,onClick:()=>n(null),children:"Close"})]}),t.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:t.jsx(Bp,{r:e,isMax:Math.abs(Ti(e.amount)-r)<1e-6})}),t.jsx(Fp,{r:e})]})]})}function z1e({data:s}){const e=Math.max(...s.map(r=>Ti(r.amount))),n=[...s].sort((r,i)=>Ti(r.amount)-Ti(i.amount));return t.jsx("div",{className:wt.timeline,children:n.map((r,i)=>{const a=Math.abs(Ti(r.amount)-e)<1e-6;return t.jsxs("div",{className:wt.node,children:[t.jsx("div",{className:wt.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx("strong",{children:r.amount}),t.jsx(Bp,{r,isMax:a})]}),t.jsx(Fp,{r})]}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const H1e=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function G1e(){const[s,e]=I.useState("A: Compact Table"),[n,r]=I.useState(""),i=B1e(n);return t.jsxs("div",{className:wt.page,children:[t.jsxs("div",{className:wt.topBar,children:[t.jsx("div",{className:wt.tabs,children:H1e.map(a=>t.jsx("button",{onClick:()=>e(a),className:`${wt.tab} ${s===a?wt.tabActive:""}`,children:a},a))}),t.jsx("div",{className:wt.searchWrap,children:t.jsx("input",{className:wt.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:a=>r(a.target.value)})})]}),s==="A: Compact Table"&&t.jsx($1e,{data:i}),s==="B: Card Track"&&t.jsx(O1e,{data:i}),s==="C: Two-Pane"&&t.jsx(V1e,{data:i}),s==="D: Icon Grid + Drawer"&&t.jsx(U1e,{data:i}),s==="E: Timeline"&&t.jsx(z1e,{data:i})]})}function W1e(){return t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),t.jsx("div",{className:"mt-4 grid gap-3",children:t.jsx(ys,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const Ne={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},q1e=()=>t.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),hc={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function K1e(s){return s==="sm"?"px-3 py-1.5 text-xs":s==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function xu(s){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",K1e(s.size),s.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",s.press?"active:translate-y-[1px]":"",s.lift?"hover:-translate-y-[1px]":"",s.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function wE(s){const e=s.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},a={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},l={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},c={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},h={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},p={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},g={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},x={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},b={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:a,gold:l,obsidian:c,neon:u,plasma:h,aurora:p,satin:g,matte:x,holo:b}[s.material]}function Al(s){const e={color:Ne.title,borderColor:Ne.border,...wE(s)};return s.baseBorder&&s.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),s.baseBorder&&s.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),s.baseBorder||(e.border="0 solid transparent"),e}const $p=({children:s})=>t.jsx("span",{className:"relative z-10",children:s});function yu({fx:s,clip:e}){return t.jsxs(t.Fragment,{children:[s.shine&&t.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:t.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),s.scan&&t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),s.hologram&&t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),s.vignette&&t.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),s.glow&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),s.bevel&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),s.baseBorder&&s.outline&&t.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),s.pulse&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),s.noiseTex&&t.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),s.rimLight&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),s.innerGlow2&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),s.innerShadow2&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),s.sparkles&&t.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>t.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),s.stripesDiag&&t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),s.cornerNotch&&t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function Q1e({fx:s,children:e}){const n=xu(s),r=Al(s),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:s.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),t.jsx(yu,{fx:s,clip:i}),s.withIcon&&t.jsx(W5,{size:16,className:"relative z-10"}),t.jsx($p,{children:e})]})}function X1e({fx:s,children:e}){const n=xu(s),r=Al(s),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),t.jsx(yu,{fx:s,clip:i}),s.withIcon&&t.jsx(q5,{size:16,className:"relative z-10"}),t.jsx($p,{children:e})]})}function Y1e({fx:s,children:e}){const n=xu(s),r=Al(s),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),t.jsx(yu,{fx:s,clip:i}),s.withIcon&&t.jsx(Ac,{size:16,className:"relative z-10"}),t.jsx($p,{children:e})]})}function J1e({fx:s,children:e}){const n=xu(s),r=Al(s),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${Ne.tile}, ${Ne.active})`}}),t.jsx(yu,{fx:s,clip:i}),s.withIcon&&t.jsx(K5,{size:16,className:"relative z-10"}),t.jsx($p,{children:e})]})}function Z1e({fx:s,children:e}){const n=xu(s),r=Al(s);return t.jsxs("button",{disabled:s.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[t.jsx(yu,{fx:s}),s.withIcon&&t.jsx(Xf,{size:16,className:"relative z-10"}),t.jsx($p,{children:e})]})}function ebe({fx:s,tabs:e}){const[n,r]=I.useState(0);return t.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:Ne.tile,border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:e.map((i,a)=>t.jsxs("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg text-sm transition-colors ${a===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:a===n?Ne.active:"transparent",border:a===n&&s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:[s.withIcon&&a===n&&t.jsx(Xf,{size:14,className:"inline mr-1"}),i]},a))})}function tbe({fx:s}){const e=xu(s),n=Al(s);return t.jsx("button",{disabled:s.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:t.jsx(Y5,{})})}const V1={Arcade:s=>({...s,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:s=>({...s,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:s=>({...s,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:s=>({...s,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:s=>({...s,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function sbe({fx:s,setFx:e}){const n=(c,u)=>e(h=>({...h,[c]:u})),r=c=>e(u=>({...u,[c]:!u[c]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],a=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],l=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return t.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:Ne.tile,border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:[t.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:s.baseBorder?`1px solid ${Ne.border}`:"0"},children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ne.title},children:"Presets"}),Object.keys(V1).map(c=>t.jsx("button",{onClick:()=>e(u=>V1[c](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:Ne.btn,borderColor:Ne.border,color:Ne.title},children:c},c))]}),t.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:s.baseBorder?`1px solid ${Ne.border}`:"0"},children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ne.title},children:"Material"}),i.map(c=>t.jsx("button",{onClick:()=>n("material",c),className:`px-2.5 py-1 rounded-md border text-xs ${s.material===c?"":"opacity-70"}`,style:{backgroundColor:s.material===c?Ne.active:Ne.btn,borderColor:Ne.border,color:Ne.title},children:c},c)),t.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:Ne.title},children:"Size"}),["sm","md","lg"].map(c=>t.jsx("button",{onClick:()=>n("size",c),className:`px-2.5 py-1 rounded-md border text-xs ${s.size===c?"":"opacity-70"}`,style:{backgroundColor:s.size===c?Ne.active:Ne.btn,borderColor:Ne.border,color:Ne.title},children:c.toUpperCase()},c)),t.jsx("button",{onClick:()=>e(c=>({...c,withIcon:!c.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:s.withIcon?Ne.active:Ne.btn,borderColor:Ne.border,color:Ne.title},children:"Icon"}),t.jsx("button",{onClick:()=>e(c=>({...c,disabled:!c.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:s.disabled?Ne.active:Ne.btn,borderColor:Ne.border,color:Ne.title},children:"Disabled"})]}),t.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:s.baseBorder?`1px solid ${Ne.border}`:"0"},children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ne.title},children:"Core FX"}),a.map(([c,u])=>t.jsx("button",{onClick:()=>r(c),className:`px-2.5 py-1 rounded-md border text-xs ${s[c]?"":"opacity-70"}`,style:{backgroundColor:s[c]?Ne.active:Ne.btn,borderColor:Ne.border,color:Ne.title},children:u},c))]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ne.title},children:"Advanced"}),l.map(([c,u])=>t.jsx("button",{onClick:()=>r(c),className:`px-2.5 py-1 rounded-md border text-xs ${s[c]?"":"opacity-70"}`,style:{backgroundColor:s[c]?Ne.active:Ne.btn,borderColor:Ne.border,color:Ne.title},children:u},c))]}),t.jsx("button",{onClick:()=>e(hc),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:Ne.btn,borderColor:Ne.border,color:Ne.title},children:"Reset"})]})}function Rs({fx:s,className:e="",style:n={},children:r,clip:i}){const a=Al(s);return t.jsxs("div",{className:`relative ${e}`,style:{...a,...n},children:[t.jsx(yu,{fx:s,clip:i}),t.jsx("div",{className:"relative z-10",children:r})]})}function Er({fx:s,className:e="",children:n}){return t.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:Ne.tile,border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:n})}function nbe({fx:s}){const[e,n]=I.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Toggle Chips"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const a=e.includes(i);return t.jsx(Rs,{fx:s,className:`rounded-full border ${a?"":"opacity-80"}`,style:{borderColor:Ne.border},children:t.jsx("button",{onClick:()=>n(l=>a?l.filter(c=>c!==i):[...l,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function rbe({fx:s}){return t.jsxs(Er,{fx:s,className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",style:{color:Ne.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>t.jsx(Rs,{fx:s,className:"rounded-xl border p-2",style:{borderColor:Ne.border},children:t.jsxs("button",{className:"relative",children:[t.jsx(Y5,{size:16}),e===3&&t.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function ibe({fx:s}){return t.jsxs(Rs,{fx:s,className:"rounded-xl p-3",style:{border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Breadcrumb HUD"}),t.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>t.jsx(Rs,{fx:s,className:"rounded-md border px-2 py-1",style:{borderColor:Ne.border},children:e},e))})]})}function abe({fx:s}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Stat Tiles"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>t.jsxs(Rs,{fx:s,className:"rounded-lg border p-2 text-white",style:{borderColor:Ne.border},children:[t.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),t.jsx("div",{className:"text-sm",children:n.v}),t.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function obe({fx:s}){const[e,n]=I.useState(.66);return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Meter / Energy Bar"}),t.jsx(Rs,{fx:s,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:Ne.border},children:t.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),t.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>t.jsx(Rs,{fx:s,className:"rounded-md border",style:{borderColor:Ne.border},children:t.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function lbe({fx:s}){return t.jsxs(Er,{fx:s,className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-sm",style:{color:Ne.title},children:"Badge / Medal"}),t.jsxs(Rs,{fx:s,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:Ne.border},children:[t.jsx(Ac,{size:16}),t.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function cbe({fx:s}){const[e,n]=I.useState(!1);return t.jsxs(Er,{fx:s,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm",style:{color:Ne.title},children:"Toast / Notification"}),t.jsx(Rs,{fx:s,className:"rounded-md border",style:{borderColor:Ne.border},children:t.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&t.jsxs(Rs,{fx:s,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:Ne.border},children:[t.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),t.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function dbe({fx:s}){const[e,n]=I.useState(!0);return t.jsxs(Er,{fx:s,className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm",style:{color:Ne.title},children:"Toggle Switch"}),t.jsxs(Rs,{fx:s,className:"relative h-6 w-11 rounded-full border",style:{borderColor:Ne.border},children:[t.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),t.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function ube({fx:s}){const[e,n]=I.useState(!1),r=["Overview","Stats","Activity","Hydra"];return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Dropdown HUD"}),t.jsx(Rs,{fx:s,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:Ne.border},children:t.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&t.jsx(Rs,{fx:s,className:"mt-2 rounded-lg border",style:{borderColor:Ne.border},children:r.map(i=>t.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function hbe({fx:s}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Radial Menu (Preview)"}),t.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,a=56,l=56+Math.cos(i)*a,c=56+Math.sin(i)*a;return t.jsx(Rs,{fx:s,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:l,top:c,borderColor:Ne.border},children:n},n)}),t.jsx(Rs,{fx:s,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:Ne.border},children:"Menu"})]})]})}function pbe({fx:s}){const e=[1,2,3,4,5],[n,r]=I.useState(2);return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Pagination HUD"}),t.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>t.jsx(Rs,{fx:s,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:Ne.border},children:t.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function mbe({fx:s}){const[e,n]=I.useState(!1);return t.jsxs(Er,{fx:s,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm",style:{color:Ne.title},children:"Modal HUD"}),t.jsx(Rs,{fx:s,className:"rounded-md border",style:{borderColor:Ne.border},children:t.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&t.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:t.jsxs(Rs,{fx:s,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:Ne.border},children:[t.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),t.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),t.jsxs("div",{className:"mt-3 flex gap-2",children:[t.jsx(Rs,{fx:s,className:"rounded-md border",style:{borderColor:Ne.border},children:t.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),t.jsx(Rs,{fx:s,className:"rounded-md border",style:{borderColor:Ne.border},children:t.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function gbe({fx:s}){const[e,n]=I.useState("");return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Search HUD"}),t.jsx(Rs,{fx:s,className:"rounded-lg border p-2",style:{borderColor:Ne.border},children:t.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function fbe({fx:s}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=I.useState("Bravo");return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"List Selectable"}),t.jsx("div",{className:"space-y-2",children:e.map(i=>t.jsx(Rs,{fx:s,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:Ne.border},children:t.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function vbe({fx:s}){const e=["Init","Scan","Verify","Done"],[n,r]=I.useState(1);return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Steps"}),t.jsx("div",{className:"flex items-center gap-3",children:e.map((i,a)=>t.jsxs(X.Fragment,{children:[t.jsx(Rs,{fx:s,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${a<=n?"":"opacity-70"}`,style:{borderColor:Ne.border},children:a+1}),a<e.length-1&&t.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx(Rs,{fx:s,className:"rounded-md border",style:{borderColor:Ne.border},children:t.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),t.jsx(Rs,{fx:s,className:"rounded-md border",style:{borderColor:Ne.border},children:t.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function xbe({fx:s}){const e=["","","","","",""];return t.jsxs(Er,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ne.title},children:"Dock Bar"}),t.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>t.jsx(Rs,{fx:s,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:Ne.border},children:n},r))})]})}function ybe(){const[s,e]=I.useState(hc);return t.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:Ne.bg,color:Ne.txt},children:[t.jsx(q1e,{}),t.jsxs("header",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ND,{}),t.jsx("h1",{className:"text-xl font-bold",style:{color:Ne.title},children:"Game Buttons Playground"}),t.jsx("span",{className:"text-xs",style:{color:Ne.txt2},children:"(Materials + FX extended + Presets)"})]})}),t.jsx(sbe,{fx:s,setFx:e})]}),t.jsxs("section",{className:"grid gap-4",children:[t.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Ne.tile,border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:[t.jsx("h2",{className:"font-semibold mb-3",style:{color:Ne.title},children:"Shapes"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs(Q1e,{fx:s,children:[t.jsx(W5,{size:16})," Diamond"]}),t.jsxs(X1e,{fx:s,children:[t.jsx(q5,{size:16})," Hex"]}),t.jsxs(Y1e,{fx:s,children:[t.jsx(Ac,{size:16})," Octagon/Shield"]}),t.jsxs(J1e,{fx:s,children:[t.jsx(K5,{size:16})," Shard"]}),t.jsxs(Z1e,{fx:s,children:[t.jsx(Xf,{size:16})," Pill/Chip"]}),t.jsx(tbe,{fx:s})]})]}),t.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:Ne.tile,border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:[t.jsx("h2",{className:"font-semibold",style:{color:Ne.title},children:"Tabs"}),t.jsx(ebe,{fx:s,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),t.jsx("section",{className:"grid gap-4",children:t.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Ne.tile,border:s.baseBorder?`1px solid ${Ne.border}`:"0 solid transparent"},children:[t.jsx("h2",{className:"font-semibold mb-3",style:{color:Ne.title},children:"More HUD Patterns"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[t.jsx(nbe,{fx:s}),t.jsx(rbe,{fx:s}),t.jsx(ibe,{fx:s}),t.jsx(abe,{fx:s}),t.jsx(obe,{fx:s}),t.jsx(lbe,{fx:s}),t.jsx(cbe,{fx:s}),t.jsx(dbe,{fx:s}),t.jsx(ube,{fx:s}),t.jsx(hbe,{fx:s}),t.jsx(pbe,{fx:s}),t.jsx(mbe,{fx:s}),t.jsx(gbe,{fx:s}),t.jsx(fbe,{fx:s}),t.jsx(vbe,{fx:s}),t.jsx(xbe,{fx:s})]})]})}),t.jsx(bbe,{}),t.jsx("footer",{className:"text-center text-xs",style:{color:Ne.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function bbe(){return I.useEffect(()=>{try{const s=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(s.includes(hc.material),"Material type present");const e=Al(hc);console.assert(e&&typeof e=="object","surfaceStyles returns object"),s.forEach(r=>{const i=wE({...hc,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof hc[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(V1).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const a=i({...hc});console.assert(a&&typeof a=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(s){console.error("DevTests error",s)}},[]),null}const zh={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},PC={Arcade:{...zh,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...zh,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},wd={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},jE={display:"grid",gap:8,alignItems:"center"};function qa({label:s,value:e,onChange:n}){return t.jsxs("label",{style:{...jE,gridTemplateColumns:"120px 1fr"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function C0({label:s,value:e,min:n,max:r,onChange:i}){return t.jsxs("label",{style:{...jE,gridTemplateColumns:"120px 1fr 70px"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"range",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value))}),t.jsx("input",{type:"number",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value||"0"))})]})}function RC(){const[s,e]=X.useState(zh),n=X.useRef(null),r=u=>{const h=n.current;h&&(h.style.setProperty("--page",u.page),h.style.setProperty("--tile",u.tile),h.style.setProperty("--tile-hover",u.tileHover),h.style.setProperty("--nav",u.nav),h.style.setProperty("--active",u.active),h.style.setProperty("--text",u.text),h.style.setProperty("--text-soft",u.textSoft),h.style.setProperty("--title",u.title),h.style.setProperty("--line",u.line),h.style.setProperty("--radius",`${u.radius}px`),h.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),h.style.setProperty("--gap",`${u.gap}px`))};X.useEffect(()=>{r(s)},[s]);const i=u=>e(PC[u]),a=()=>e(zh),l=()=>{const u=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="sfdatahub-theme.json",h.click()},c=async u=>{const h=await u.text();e({...zh,...JSON.parse(h)})};return t.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[t.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[t.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(PC).map(u=>t.jsx("button",{style:wd,onClick:()=>i(u),children:u},u)),t.jsx("button",{style:wd,onClick:a,children:"Default"}),t.jsx("button",{style:wd,onClick:l,children:"Export JSON"}),t.jsxs("label",{style:{...wd,display:"inline-block"},children:["Import JSON",t.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&c(u.target.files[0]),style:{display:"none"}})]})]}),t.jsx(qa,{label:"Page",value:s.page,onChange:u=>e(h=>({...h,page:u}))}),t.jsx(qa,{label:"Tile",value:s.tile,onChange:u=>e(h=>({...h,tile:u}))}),t.jsx(qa,{label:"Tile Hover",value:s.tileHover,onChange:u=>e(h=>({...h,tileHover:u}))}),t.jsx(qa,{label:"Nav",value:s.nav,onChange:u=>e(h=>({...h,nav:u}))}),t.jsx(qa,{label:"Active",value:s.active,onChange:u=>e(h=>({...h,active:u}))}),t.jsx(qa,{label:"Text",value:s.text,onChange:u=>e(h=>({...h,text:u}))}),t.jsx(qa,{label:"Text Soft",value:s.textSoft,onChange:u=>e(h=>({...h,textSoft:u}))}),t.jsx(qa,{label:"Title",value:s.title,onChange:u=>e(h=>({...h,title:u}))}),t.jsx(qa,{label:"Line",value:s.line,onChange:u=>e(h=>({...h,line:u}))}),t.jsx(C0,{label:"Radius",value:s.radius,min:8,max:28,onChange:u=>e(h=>({...h,radius:u}))}),t.jsx(C0,{label:"Shadow",value:s.shadow,min:8,max:40,onChange:u=>e(h=>({...h,shadow:u}))}),t.jsx(C0,{label:"Grid Gap",value:s.gap,min:6,max:24,onChange:u=>e(h=>({...h,gap:u}))})]}),t.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[t.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),t.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[t.jsx("button",{style:{...wd,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),t.jsx("button",{style:wd,children:"Secondary"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,h)=>t.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[t.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",h+1]}),t.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},h))})]})]})]})}const U1={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},LC={"SFDataHub (Default)":{...U1},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Dv={display:"grid",gap:8,alignItems:"center"},ac={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},oc={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function ji({label:s,value:e,onChange:n}){return t.jsxs("label",{style:{...Dv,gridTemplateColumns:"140px 1fr"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ka({label:s,value:e,min:n,max:r,step:i=1,onChange:a,suffix:l}){return t.jsxs("label",{style:{...Dv,gridTemplateColumns:"140px 1fr 70px"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:c=>a(parseFloat(c.target.value))}),t.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:c=>a(parseFloat(c.target.value||"0"))})]})}function _be({label:s,checked:e,onChange:n}){return t.jsxs("label",{style:{...Dv,gridTemplateColumns:"1fr 46px"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function DC(){const[s,e]=X.useState(U1),n=X.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--accent",h.accent),p.style.setProperty("--success",h.success),p.style.setProperty("--warning",h.warning),p.style.setProperty("--danger",h.danger),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--border",`${h.border}px`),p.style.setProperty("--gap",`${h.gap}px`),p.style.setProperty("--shadow",`0 10px ${h.shadow}px rgba(0,0,0,0.30)`),p.style.setProperty("--surface-opacity",`${h.surfaceOpacity}%`),p.style.setProperty("--noise",`${h.noise}%`),p.style.setProperty("--font",h.fontFamily),p.style.setProperty("--font-size",`${h.fontSize}px`),p.style.setProperty("--heading-tight",h.headingsTight?"1.1":"1.3"),p.style.setProperty("--glow",`${h.glow}`),p.style.setProperty("--scanlines",`${h.scanlines}`))};X.useEffect(()=>{r(s)},[s]);const i=(h,p)=>e(g=>({...g,[h]:p})),a=h=>e(p=>({...p,...LC[h]})),l=()=>{const h=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme-pro.json",p.click()},c=async h=>{try{const p=await h.text(),g=JSON.parse(p);e({...s,...g})}catch(p){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return t.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[t.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[t.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(LC).map(h=>t.jsx("button",{style:ac,onClick:()=>a(h),children:h},h)),t.jsx("button",{style:ac,onClick:()=>e(U1),children:"Reset"}),t.jsx("button",{style:ac,onClick:l,children:"Export"}),t.jsxs("label",{style:{...ac,display:"inline-block"},children:["Import",t.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:h=>h.target.files&&c(h.target.files[0])})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx(ji,{label:"Page",value:s.page,onChange:h=>i("page",h)}),t.jsx(ji,{label:"Tile",value:s.tile,onChange:h=>i("tile",h)}),t.jsx(ji,{label:"Tile Hover",value:s.tileHover,onChange:h=>i("tileHover",h)}),t.jsx(ji,{label:"Active",value:s.active,onChange:h=>i("active",h)}),t.jsx(ji,{label:"Text",value:s.text,onChange:h=>i("text",h)}),t.jsx(ji,{label:"Text Soft",value:s.textSoft,onChange:h=>i("textSoft",h)}),t.jsx(ji,{label:"Title",value:s.title,onChange:h=>i("title",h)}),t.jsx(ji,{label:"Line",value:s.line,onChange:h=>i("line",h)}),t.jsx(ji,{label:"Accent",value:s.accent,onChange:h=>i("accent",h)}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[t.jsx(ji,{label:"Success",value:s.success,onChange:h=>i("success",h)}),t.jsx(ji,{label:"Warning",value:s.warning,onChange:h=>i("warning",h)}),t.jsx(ji,{label:"Danger",value:s.danger,onChange:h=>i("danger",h)})]})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx(Ka,{label:"Radius",min:0,max:28,value:s.radius,onChange:h=>i("radius",h)}),t.jsx(Ka,{label:"Border (px)",min:0,max:3,step:.5,value:s.border,onChange:h=>i("border",h)}),t.jsx(Ka,{label:"Grid Gap",min:6,max:28,value:s.gap,onChange:h=>i("gap",h)}),t.jsx(Ka,{label:"Shadow (blur)",min:0,max:48,value:s.shadow,onChange:h=>i("shadow",h)}),t.jsx(Ka,{label:"Surface Opacity",min:40,max:100,value:s.surfaceOpacity,onChange:h=>i("surfaceOpacity",h),suffix:"%"}),t.jsx(Ka,{label:"Noise",min:0,max:20,value:s.noise,onChange:h=>i("noise",h),suffix:"%"})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsxs("label",{style:{...Dv,gridTemplateColumns:"140px 1fr"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),t.jsx("input",{value:s.fontFamily,onChange:h=>i("fontFamily",h.target.value)})]}),t.jsx(Ka,{label:"Base Font Size",min:12,max:18,value:s.fontSize,onChange:h=>i("fontSize",h)}),t.jsx(_be,{label:"Headings tighter",checked:s.headingsTight,onChange:h=>i("headingsTight",h)})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx(Ka,{label:"Accent Glow",min:0,max:.6,step:.02,value:s.glow,onChange:h=>i("glow",h)}),t.jsx(Ka,{label:"Scanlines",min:0,max:.6,step:.02,value:s.scanlines,onChange:h=>i("scanlines",h)})]})]})]}),t.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[t.jsxs("span",{style:oc,children:[t.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),t.jsx("span",{style:{...oc,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),t.jsx("span",{style:{...oc,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),t.jsx("span",{style:{...oc,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),t.jsxs("span",{style:oc,children:["Radius: ",s.radius]}),t.jsxs("span",{style:oc,children:["Shadow: ",s.shadow]}),t.jsxs("span",{style:oc,children:["Noise: ",s.noise,"%"]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+s.glow*24}px ${s.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),t.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",t.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),t.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((h,p)=>t.jsxs("div",{style:{display:"grid",gap:4},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[t.jsx("span",{children:h.label}),t.jsx("span",{style:{color:"var(--title)"},children:h.value})]}),t.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:t.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(h.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${h.color} 75%, transparent), ${h.color})`,borderRadius:999,boxShadow:`0 0 ${8+s.glow*12}px color-mix(in srgb, ${h.color} 40%, transparent)`}})})]},p))}),t.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[t.jsx("button",{style:{...ac,background:"var(--tile-hover)"},children:"Open Profile"}),t.jsx("button",{style:{...ac,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((h,p)=>t.jsx("button",{style:{...ac,background:p===0?"var(--tile-hover)":"transparent",borderColor:p===0?"var(--active)":"var(--line)",boxShadow:p===0?`0 0 ${10+s.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:h},h))}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((h,p)=>t.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[t.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:h.k}),t.jsx("div",{style:{fontWeight:800,fontSize:24},children:h.v}),t.jsx("div",{style:{fontSize:12,color:h.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:h.trend})]},p))}),t.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[t.jsx("div",{style:{padding:10},children:"Attribute"}),t.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),t.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((h,p)=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:p%2?"rgba(255,255,255,.025)":"transparent"},children:[t.jsx("div",{style:{padding:10},children:h[0]}),t.jsx("div",{style:{padding:10,textAlign:"right"},children:h[1]}),t.jsx("div",{style:{padding:10,textAlign:"right",color:h[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:h[2]})]},p))]})]})]}),t.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const Lt={wrap:{color:"#F5F9FF"},intro:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,marginBottom:14},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:14},card:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)",minHeight:160,display:"flex",flexDirection:"column",gap:10},header:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},sub:{color:"#B0C4D9",fontSize:13,lineHeight:1.4},badgeRow:{display:"flex",gap:6,flexWrap:"wrap"}},Ki=(s,e="#1E3A5C")=>t.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",fontSize:11,borderRadius:999,background:e,border:"1px solid rgba(255,255,255,.12)",color:"#D9E7FF",textTransform:"uppercase",letterSpacing:.4},children:s}),ai=()=>t.jsxs("div",{style:Lt.badgeRow,children:[Ki("mock"),Ki("concept","#234569"),Ki("ui","#1F4D67")]}),MC={common:"#1f3b5d",rare:"#234f7a",epic:"#3c2f6d",legendary:"#6b3b0f"};function wbe(){const s=[{title:"Data Whisperer",rarity:"epic",status:"Unlocked"},{title:"Perfect Sync",rarity:"rare",status:"Unlocked"},{title:"Zero Downtime",rarity:"legendary",status:"Locked"},{title:"Scout Elite",rarity:"common",status:"Unlocked"},{title:"API Ranger",rarity:"rare",status:"Locked"},{title:"Schema Sleuth",rarity:"epic",status:"Unlocked"}],e=[{title:"Scan 10 servers",status:"Done",reward:"+250 XP"},{title:"Fix 3 warnings",status:"In progress",reward:"+1 reroll"},{title:"Share a dashboard",status:"Ready",reward:"Title shard"},{title:"Hit uptime streak",status:"Locked",reward:"Glow badge"}],n=[{tier:"Mythic",delta:"+2",trend:"up"},{tier:"Diamond",delta:"-1",trend:"down"},{tier:"Platinum",delta:"+4",trend:"up"},{tier:"Gold",delta:"0",trend:"flat"}],r=[{label:"Level 12",done:!0},{label:"Sync Master",done:!0},{label:"API Adept",done:!1},{label:"Data Virtuoso",done:!1}],i=[{level:1,reward:"Theme Skin",unlocked:!0},{level:4,reward:"Badge Token",unlocked:!0},{level:7,reward:"Loot Cache",unlocked:!1},{level:10,reward:"Mythic Frame",unlocked:!1}],a=[{label:"Common",value:32,color:"#1e3b5d"},{label:"Rare",value:28,color:"#1f5d77"},{label:"Epic",value:22,color:"#3c2f6d"},{label:"Legendary",value:18,color:"#6b3b0f"}],l=[{name:"Link Speed",state:"active"},{name:"Alert Vision",state:"active"},{name:"Schema Insight",state:"locked"},{name:"API Armor",state:"active"},{name:"Sync Surge",state:"active"},{name:"Data Forge",state:"locked"},{name:"Audit Ghost",state:"locked"},{name:"Chronicle",state:"locked"}];return t.jsxs("div",{style:Lt.wrap,children:[t.jsxs("div",{style:Lt.intro,children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:0,color:"#F5F9FF"},children:"Gamified Visuals"}),t.jsx("p",{style:Lt.sub,children:"Static showcase of badges, streaks, ladders, and tracks in SFDataHub styling."})]}),ai()]}),t.jsxs("div",{style:Lt.grid,children:[t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Achievement Badges"}),t.jsx("div",{style:Lt.sub,children:"Unlocked vs. locked set with rarity color tags."})]}),ai()]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:s.map(c=>t.jsxs("div",{style:{border:"1px dashed rgba(255,255,255,.15)",borderRadius:12,padding:10,background:"rgba(255,255,255,.02)"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:6},children:c.title}),t.jsxs("div",{style:Lt.badgeRow,children:[Ki(c.status,c.status==="Unlocked"?"#1f4f62":"#422b2b"),Ki(c.rarity,MC[c.rarity])]})]},c.title))})]}),t.jsxs("div",{style:{...Lt.card,background:"linear-gradient(145deg, #143257, #0f243d)"},children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Scan Streak"}),t.jsx("div",{style:Lt.sub,children:"Keep the flame alive with consistent daily scans."})]}),ai()]}),t.jsxs("div",{style:{background:"rgba(0,0,0,.25)",borderRadius:12,padding:12,border:"1px solid rgba(255,255,255,.06)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Current streak"}),t.jsx("div",{style:{fontSize:32,fontWeight:800},children:"12 days "})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Best streak"}),t.jsx("div",{style:{fontWeight:700},children:"21 days"}),t.jsx("div",{style:{marginTop:6,background:"#0e1e33",borderRadius:999,padding:"4px 10px"},children:"+3d buffer"})]})]}),t.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next reward: Ember Frame at 14 days."})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Quest Log"}),t.jsx("div",{style:Lt.sub,children:"Short mission stack with rewards."})]}),ai()]}),t.jsx("div",{style:{display:"grid",gap:8},children:e.map(c=>t.jsxs("div",{style:{borderRadius:10,padding:10,background:"rgba(255,255,255,.03)",border:"1px solid rgba(255,255,255,.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:c.title}),t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:c.reward})]}),Ki(c.status,c.status==="Done"?"#1f4f62":c.status==="In progress"?"#4f3b1f":"#3a2f4f")]},c.title))})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Trophy Podium"}),t.jsx("div",{style:Lt.sub,children:"Top 3 snapshot with podium heights."})]}),ai()]}),t.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:10,justifyContent:"space-around",paddingTop:8},children:[{rank:2,height:60},{rank:1,height:90},{rank:3,height:45}].map(c=>t.jsxs("div",{style:{textAlign:"center"},children:[t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["#",c.rank]}),t.jsxs("div",{style:{width:70,height:c.height,background:c.rank===1?"linear-gradient(180deg,#f5d26b,#b87b1a)":"linear-gradient(180deg,#345a8a,#203752)",borderRadius:10,border:"1px solid rgba(255,255,255,.2)",display:"grid",placeItems:"center",fontWeight:800,color:c.rank===1?"#1a1a1a":"#F5F9FF"},children:["S",c.rank]}),t.jsxs("div",{style:{marginTop:4,fontSize:12},children:["Squad ",c.rank]})]},c.rank))})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Rank Ladder"}),t.jsx("div",{style:Lt.sub,children:"League rungs with movement delta."})]}),ai()]}),t.jsx("div",{style:{display:"grid",gap:8},children:n.map(c=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderRadius:10,border:"1px solid rgba(255,255,255,.08)",background:"rgba(255,255,255,.02)"},children:[t.jsx("div",{style:{fontWeight:700},children:c.tier}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:c.delta}),t.jsx("span",{style:{color:c.trend==="up"?"#5AD8A6":c.trend==="down"?"#E06C75":"#B0C4D9"},children:c.trend==="up"?"":c.trend==="down"?"":""})]})]},c.tier))})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Milestone Timeline"}),t.jsx("div",{style:Lt.sub,children:"Linear track with unlocked markers."})]}),ai()]}),t.jsxs("div",{style:{position:"relative",padding:"10px 4px 0"},children:[t.jsx("div",{style:{position:"absolute",top:22,left:0,right:0,height:2,background:"rgba(255,255,255,.12)"}}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r.length}, 1fr)`,gap:6,position:"relative"},children:r.map(c=>t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:22,height:22,margin:"0 auto",borderRadius:"50%",background:c.done?"#2d7f5f":"#2f415e",border:"2px solid rgba(255,255,255,.1)",display:"grid",placeItems:"center",fontSize:11,fontWeight:700},children:c.done?"":""}),t.jsx("div",{style:{marginTop:6,fontSize:12},children:c.label})]},c.label))})]})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Collection Ring"}),t.jsx("div",{style:Lt.sub,children:"Donut visualization for scrapbook completion."})]}),ai()]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[t.jsx("div",{style:{width:120,height:120,borderRadius:"50%",background:"conic-gradient(#3c7bd9 0% 68%, #1d3051 68% 100%)",display:"grid",placeItems:"center",border:"1px solid rgba(255,255,255,.08)"},children:t.jsx("div",{style:{width:78,height:78,borderRadius:"50%",background:"#0f1e33",display:"grid",placeItems:"center",color:"#F5F9FF",fontWeight:800},children:"68%"})}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:Lt.badgeRow,children:[Ki("Unlocked 45/66","#1f4f62"),Ki("Sets: 6","#2a3f68")]}),t.jsx("div",{style:{marginTop:10,fontSize:12,color:"#B0C4D9"},children:"Next reward at 75%: Chronicle stencil frame."})]})]})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Boss HP  Goal Bar"}),t.jsx("div",{style:Lt.sub,children:"Progress toward the next major unlock."})]}),ai()]}),t.jsxs("div",{style:{background:"#0f1f33",borderRadius:12,padding:10,border:"1px solid rgba(255,255,255,.08)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"#B0C4D9"},children:[t.jsx("span",{children:"Phase 2/3"}),t.jsx("span",{children:"82% to go"})]}),t.jsx("div",{style:{height:22,borderRadius:10,overflow:"hidden",marginTop:6,border:"1px solid rgba(255,255,255,.1)"},children:t.jsx("div",{style:{width:"18%",height:"100%",background:"linear-gradient(90deg, #d95f5f, #f2a45d)",boxShadow:"0 0 12px rgba(242,164,93,.4)"}})}),t.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next shield break at 25% HP."})]})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Skill Tree Mini"}),t.jsx("div",{style:Lt.sub,children:"Node states with locked paths."})]}),ai()]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0,1fr))",gap:8},children:l.map(c=>t.jsxs("div",{style:{background:"rgba(255,255,255,.03)",borderRadius:10,border:`1px solid ${c.state==="active"?"rgba(90,216,166,.4)":"rgba(255,255,255,.08)"}`,padding:10,boxShadow:c.state==="active"?"0 0 12px rgba(90,216,166,.25)":"none"},children:[t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:c.state==="active"?"Unlocked":"Locked"}),t.jsx("div",{style:{fontWeight:700,marginTop:4},children:c.name})]},c.name))}),t.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Path glow = active; darker cells stay locked."})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Season Pass Track"}),t.jsx("div",{style:Lt.sub,children:"Horizontal progression with staged rewards."})]}),ai()]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginTop:4},children:[t.jsx("div",{style:{flex:1,height:10,borderRadius:999,background:"#0f1f33",position:"relative",overflow:"hidden"},children:t.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"45%",background:"linear-gradient(90deg,#2a7bbd,#54c9e7)"}})}),Ki("45%","#1f4f62")]}),t.jsx("div",{style:{display:"flex",gap:8,marginTop:10,overflowX:"auto"},children:i.map(c=>t.jsxs("div",{style:{minWidth:120,background:"rgba(255,255,255,.03)",borderRadius:12,padding:10,border:`1px solid ${c.unlocked?"rgba(84,201,231,.4)":"rgba(255,255,255,.08)"}`},children:[t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Level ",c.level]}),t.jsx("div",{style:{fontWeight:700},children:c.reward}),t.jsx("div",{style:{marginTop:6},children:Ki(c.unlocked?"Claimed":"Locked",c.unlocked?"#1f4f62":"#2f2f4f")})]},c.level))})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Title Plates"}),t.jsx("div",{style:Lt.sub,children:"Unlockable nameplates with rarity glow."})]}),ai()]}),t.jsx("div",{style:{display:"grid",gap:10},children:[{name:"Data Pioneer",tone:"linear-gradient(90deg,#2f5b90,#1f3d68)",rarity:"rare"},{name:"Mythic Cartographer",tone:"linear-gradient(90deg,#6b3b0f,#b87b1a)",rarity:"legendary"},{name:"Night Runner",tone:"linear-gradient(90deg,#28354f,#1a2335)",rarity:"common"}].map(c=>t.jsxs("div",{style:{borderRadius:12,padding:12,background:c.tone,border:"1px solid rgba(255,255,255,.12)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontWeight:800},children:c.name}),Ki(c.rarity,MC[c.rarity]||"#234569")]},c.name))})]}),t.jsxs("div",{style:Lt.card,children:[t.jsxs("div",{style:Lt.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Loot / Rarity Mix"}),t.jsx("div",{style:Lt.sub,children:"Stacked distribution snapshot."})]}),ai()]}),t.jsx("div",{style:{height:24,borderRadius:12,overflow:"hidden",display:"flex",border:"1px solid rgba(255,255,255,.08)"},children:a.map(c=>t.jsxs("div",{style:{width:`${c.value}%`,background:c.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,color:"#DAE8FF",borderRight:"1px solid rgba(255,255,255,.05)"},children:[c.value,"%"]},c.label))}),t.jsx("div",{style:Lt.badgeRow,children:a.map(c=>t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"2px 8px",borderRadius:999,background:"rgba(255,255,255,.04)",border:"1px solid rgba(255,255,255,.08)",fontSize:12},children:[t.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:c.color,display:"inline-block"}}),c.label]},c.label))})]})]})]})}const FC=[{id:"quests",title:"Quests & Objectives",description:"Logs, chains, rewards, and difficulty chips.",items:[{id:"11",categoryId:"quests",title:"Quest Log (3 steps)",subtitle:"Ordered checklist",tags:["mock"],previewId:"pv_quest_steps"},{id:"12",categoryId:"quests",title:"Daily Objectives Board",subtitle:"Checkbox grid",tags:["ui"],previewId:"pv_daily_checklist"},{id:"13",categoryId:"quests",title:"Weekly Contract Card",subtitle:"Timer + tear edge",tags:["concept"],previewId:"pv_contract_timer"},{id:"14",categoryId:"quests",title:"Bounty Card",subtitle:"Target + reward tag",tags:["mock"],previewId:"pv_bounty_target"},{id:"15",categoryId:"quests",title:"Multi-Objective Chips",subtitle:"3 tagged goals",tags:["ui"],previewId:"pv_objective_chips"},{id:"16",categoryId:"quests",title:"Quest Chain Path",subtitle:"Linked nodes",tags:["mock"],previewId:"pv_quest_chain_nodes"},{id:"17",categoryId:"quests",title:"Reward Preview Panel",subtitle:"XP + coins bundle",tags:["ui"],previewId:"pv_reward_bundle"},{id:"18",categoryId:"quests",title:"Side Quest Mini",subtitle:"Compact lane",tags:["mock"],previewId:"pv_sidequest_compact"},{id:"19",categoryId:"quests",title:"Claim Reward States",subtitle:"Enabled vs locked",tags:["ui"],previewId:"pv_claim_states"},{id:"20",categoryId:"quests",title:"Difficulty Tags",subtitle:"Easy / Hard / Insane",tags:["mock"],previewId:"pv_difficulty_tags"}]},{id:"progress",title:"Progress Bars & Gauges",description:"Boss phases, dual progress, rings, and risk arcs.",items:[{id:"21",categoryId:"progress",title:"Boss HP Goal Bar",subtitle:"Segmented phases",tags:["mock"],previewId:"pv_boss_hp_segmented"},{id:"22",categoryId:"progress",title:"Dual Progress vs Avg",subtitle:"Overlay marker",tags:["ui"],previewId:"pv_dual_progress_marker"},{id:"23",categoryId:"progress",title:"Segmented Track (10)",subtitle:"10 stops rail",tags:["concept"],previewId:"pv_segment_track_10"},{id:"24",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"pv_donut_completion"},{id:"25",categoryId:"progress",title:"Battery Gauge",subtitle:"Energy level",tags:["ui"],previewId:"pv_battery_gauge"},{id:"26",categoryId:"progress",title:"Thermometer Vertical",subtitle:"Heat column",tags:["mock"],previewId:"pv_thermo_vertical"},{id:"27",categoryId:"progress",title:"Level XP Bar + ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"pv_xp_ticks"},{id:"28",categoryId:"progress",title:"Multi-Stat Mini Bars",subtitle:"STR/DEX/INT/CON/LCK",tags:["mock"],previewId:"pv_multibar_stats5"},{id:"29",categoryId:"progress",title:"Risk Meter",subtitle:"Arc pointer",tags:["concept"],previewId:"pv_risk_meter"},{id:"30",categoryId:"progress",title:"Perfect Run Bar",subtitle:"Checklist + bar",tags:["ui"],previewId:"pv_perfect_run"}]},{id:"rankings",title:"Rankings & Leagues",description:"Podiums, ladders, deltas, and history.",items:[{id:"31",categoryId:"rankings",title:"Trophy Podium Top 3",subtitle:"Height podium",tags:["mock"],previewId:"pv_podium_top3"},{id:"32",categoryId:"rankings",title:"Rank Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"pv_ladder_rungs"},{id:"33",categoryId:"rankings",title:"League Tier Card",subtitle:"Bronze -> Diamond",tags:["concept"],previewId:"pv_league_tiers"},{id:"34",categoryId:"rankings",title:"Rank Delta Chip",subtitle:"Up/down pill",tags:["ui"],previewId:"pv_delta_chip"},{id:"35",categoryId:"rankings",title:"Percentile Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"pv_percentile_gauge"},{id:"36",categoryId:"rankings",title:"Rival Slot (nearest)",subtitle:"You vs nearest",tags:["concept"],previewId:"pv_rival_slot"},{id:"37",categoryId:"rankings",title:"Promotion Zone Highlight",subtitle:"Green band",tags:["ui"],previewId:"pv_promo_zone"},{id:"38",categoryId:"rankings",title:"Relegation Warning",subtitle:"Red band",tags:["mock"],previewId:"pv_relegation_zone"},{id:"39",categoryId:"rankings",title:"Top 5 Mini List",subtitle:"Ranked list",tags:["ui"],previewId:"pv_top5_list"},{id:"40",categoryId:"rankings",title:"Rank History Step",subtitle:"Step chart",tags:["mock"],previewId:"pv_rank_step_history"}]},{id:"duels",title:"Comparisons & Duels",description:"Splits, overlays, and matchup meters.",items:[{id:"41",categoryId:"duels",title:"Stat Split Compare",subtitle:"Two columns",tags:["mock"],previewId:"pv_split_compare"},{id:"42",categoryId:"duels",title:"You vs Avg Bars",subtitle:"Overlay bars",tags:["ui"],previewId:"pv_you_vs_avg_bars"},{id:"43",categoryId:"duels",title:"Best of 3 Dots",subtitle:"Round tracker",tags:["mock"],previewId:"pv_bestof3_dots"},{id:"44",categoryId:"duels",title:"Duel Outcome Card",subtitle:"Win/Loss plate",tags:["ui"],previewId:"pv_duel_outcome"},{id:"45",categoryId:"duels",title:"Advantage Meter",subtitle:"Arrow to winner",tags:["concept"],previewId:"pv_advantage_meter"},{id:"46",categoryId:"duels",title:"KPI Side-by-side",subtitle:"Four KPI tiles",tags:["mock"],previewId:"pv_kpi_tiles_4"},{id:"47",categoryId:"duels",title:"Delta Breakdown Chips",subtitle:"Pos/neg split",tags:["ui"],previewId:"pv_delta_chips_breakdown"},{id:"48",categoryId:"duels",title:"Mirror Match",subtitle:"Symmetric view",tags:["mock"],previewId:"pv_mirror_neutral"},{id:"49",categoryId:"duels",title:"Radar Mock",subtitle:"Polygon radar",tags:["concept"],previewId:"pv_radar_polygon"},{id:"50",categoryId:"duels",title:"Gap to Next",subtitle:"Distance marker",tags:["ui"],previewId:"pv_gap_to_next"}]},{id:"guild",title:"Guild & Social",description:"Roles, readiness, and alliance visuals.",items:[{id:"61",categoryId:"guild",title:"Guild Role Badges",subtitle:"Role chips",tags:["mock"],previewId:"pv_guild_roles"},{id:"62",categoryId:"guild",title:"Contribution Per Member",subtitle:"Member bars",tags:["ui"],previewId:"pv_contrib_bars"},{id:"63",categoryId:"guild",title:"Member Spotlight",subtitle:"Highlight lane",tags:["concept"],previewId:"pv_spotlight_card"},{id:"64",categoryId:"guild",title:"Guild Power Composite",subtitle:"Gauge blend",tags:["mock"],previewId:"pv_guild_power_meter"},{id:"65",categoryId:"guild",title:"Recruitment Slots",subtitle:"Open vs filled",tags:["ui"],previewId:"pv_slots_open_filled"},{id:"66",categoryId:"guild",title:"War Readiness Panel",subtitle:"Status chips",tags:["mock"],previewId:"pv_war_readiness"},{id:"67",categoryId:"guild",title:"Activity Pulse Spark",subtitle:"Pulse waveform",tags:["concept"],previewId:"pv_activity_pulse"},{id:"68",categoryId:"guild",title:"Alliance Link Card",subtitle:"Linked hubs",tags:["mock"],previewId:"pv_alliance_link"},{id:"69",categoryId:"guild",title:"Pinned Announcement",subtitle:"Pinned note",tags:["ui"],previewId:"pv_pinned_announcement"},{id:"70",categoryId:"guild",title:"Trophy Shelf",subtitle:"Shelf icons",tags:["mock"],previewId:"pv_trophy_shelf"}]}],Ht=({label:s})=>t.jsx("span",{className:"g2-pill",children:s}),Tt=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g2-bar tone-${e}`,style:{width:s,height:n}}),BC={pv_quest_steps:()=>t.jsx("div",{className:"g2-preview g2-steps",children:[1,2,3].map(s=>t.jsxs("div",{className:"g2-step-row",children:[t.jsx("span",{className:"g2-step-dot"}),t.jsx(Tt,{width:`${70-s*10}%`,tone:s===3?"muted":"accent"})]},s))}),pv_daily_checklist:()=>t.jsx("div",{className:"g2-preview g2-checklist",children:["Login","Scan","Share","Claim"].map((s,e)=>t.jsxs("div",{className:"g2-check-row",children:[t.jsx("span",{className:`g2-checkbox ${e<2?"checked":""}`}),t.jsx("span",{className:"g2-check-label",children:s}),t.jsx(Tt,{width:`${40+e*10}%`,tone:"accent",height:5})]},s))}),pv_contract_timer:()=>t.jsxs("div",{className:"g2-preview g2-contract",children:[t.jsxs("div",{className:"g2-contract-top",children:[t.jsx(Tt,{width:"80%",tone:"accent"}),t.jsx(Ht,{label:"7d"})]}),t.jsxs("div",{className:"g2-contract-body",children:[t.jsx(Tt,{width:"100%",tone:"muted",height:6}),t.jsx(Tt,{width:"65%",tone:"warning",height:6})]}),t.jsx("div",{className:"g2-contract-tear"})]}),pv_bounty_target:()=>t.jsxs("div",{className:"g2-preview g2-row",children:[t.jsxs("div",{className:"g2-target",children:[t.jsx("div",{className:"g2-target-ring"}),t.jsx("div",{className:"g2-target-dot"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"60%",tone:"accent"}),t.jsx(Tt,{width:"45%",tone:"success"}),t.jsx(Ht,{label:"Reward"})]})]}),pv_objective_chips:()=>t.jsxs("div",{className:"g2-preview g2-chip-stack",children:[t.jsx(Ht,{label:"Win 2 matches"}),t.jsx(Ht,{label:"Scan 3"}),t.jsx(Ht,{label:"Share once"})]}),pv_quest_chain_nodes:()=>t.jsx("div",{className:"g2-preview g2-node-chain",children:[0,1,2,3,4].map(s=>t.jsxs(X.Fragment,{children:[t.jsx("div",{className:`g2-node ${s<3?"active":""}`}),s<4?t.jsx("div",{className:"g2-node-connector"}):null]},s))}),pv_reward_bundle:()=>t.jsxs("div",{className:"g2-preview g2-row g2-space-between",children:[t.jsx("div",{className:"g2-loot g2-loot-gem"}),t.jsx("div",{className:"g2-loot g2-loot-coin"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"70%",tone:"accent"}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Ht,{label:"+250 XP"}),t.jsx(Ht,{label:"+2 keys"})]})]})]}),pv_sidequest_compact:()=>t.jsxs("div",{className:"g2-preview g2-row g2-sidequest",children:[t.jsx("div",{className:"g2-sidequest-tag",children:"Side"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"60%",tone:"accent"}),t.jsx(Tt,{width:"35%",tone:"muted"})]}),t.jsx("div",{className:"g2-arrow-right"})]}),pv_claim_states:()=>t.jsxs("div",{className:"g2-preview g2-claims",children:[t.jsx("div",{className:"g2-claim-btn enabled",children:"Claim"}),t.jsx("div",{className:"g2-claim-btn disabled",children:"Locked"})]}),pv_difficulty_tags:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Ht,{label:"Easy"}),t.jsx(Ht,{label:"Hard"}),t.jsx(Ht,{label:"Insane"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"40%",tone:"success"}),t.jsx(Tt,{width:"60%",tone:"warning"}),t.jsx(Tt,{width:"80%",tone:"danger"})]})]}),pv_boss_hp_segmented:()=>t.jsxs("div",{className:"g2-preview g2-bossbar",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g2-boss-segment ${s<3?"filled":""}`},s)),t.jsx("div",{className:"g2-marker",style:{left:"72%"}})]}),pv_dual_progress_marker:()=>t.jsxs("div",{className:"g2-preview g2-col g2-gap-xs",children:[t.jsx(Tt,{width:"85%",tone:"accent",height:10}),t.jsxs("div",{className:"g2-dual-overlay",children:[t.jsx(Tt,{width:"60%",tone:"success",height:8}),t.jsx("div",{className:"g2-marker",style:{left:"60%"}}),t.jsx("div",{className:"g2-marker muted",style:{left:"85%"}})]})]}),pv_segment_track_10:()=>t.jsx("div",{className:"g2-preview g2-segment-track",children:Array.from({length:10}).map((s,e)=>t.jsx("div",{className:`g2-segment ${e<6?"active":""}`},e))}),pv_donut_completion:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsxs("div",{className:"g2-donut",children:[t.jsx("div",{className:"g2-donut-fill"}),t.jsx("div",{className:"g2-donut-hole",children:"72%"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"50%",tone:"accent"}),t.jsx(Tt,{width:"40%",tone:"muted"})]})]}),pv_battery_gauge:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsxs("div",{className:"g2-battery",children:[t.jsx("div",{className:"g2-battery-cap"}),t.jsx("div",{className:"g2-battery-fill"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Ht,{label:"82%"}),t.jsx(Tt,{width:"70%",tone:"accent"})]})]}),pv_thermo_vertical:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-thermo",children:t.jsx("div",{className:"g2-thermo-fill"})}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"40%",tone:"warning"}),t.jsx(Tt,{width:"30%",tone:"muted"})]})]}),pv_xp_ticks:()=>t.jsxs("div",{className:"g2-preview g2-col",children:[t.jsxs("div",{className:"g2-xpbar",children:[t.jsx("div",{className:"g2-xp-fill"}),Array.from({length:8}).map((s,e)=>t.jsx("span",{className:"g2-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),t.jsx(Ht,{label:"Level 42"})]}),pv_multibar_stats5:()=>t.jsx("div",{className:"g2-preview g2-stats5",children:["STR","DEX","INT","CON","LCK"].map((s,e)=>t.jsxs("div",{className:"g2-stat-row",children:[t.jsx("span",{className:"g2-stat-label",children:s}),t.jsx(Tt,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success",height:6})]},s))}),pv_risk_meter:()=>t.jsxs("div",{className:"g2-preview g2-risk",children:[t.jsx("div",{className:"g2-risk-arc",children:t.jsx("div",{className:"g2-risk-pointer"})}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Ht,{label:"Risk"}),t.jsx(Ht,{label:"68%"})]})]}),pv_perfect_run:()=>t.jsxs("div",{className:"g2-preview g2-perfect",children:[t.jsx(Tt,{width:"100%",tone:"success",height:12}),t.jsx("div",{className:"g2-checklist tiny",children:["No deaths","No errors","All chests"].map(s=>t.jsxs("div",{className:"g2-check-row",children:[t.jsx("span",{className:"g2-checkbox checked"}),t.jsx("span",{className:"g2-check-label",children:s})]},s))})]}),pv_podium_top3:()=>t.jsx("div",{className:"g2-preview g2-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((s,e)=>t.jsxs("div",{className:`g2-podium-col ${s.tone}`,style:{height:s.h},children:["#",e+1]},e))}),pv_ladder_rungs:()=>t.jsx("div",{className:"g2-preview g2-ladder",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g2-rung ${e===2?"active":""}`},e))}),pv_league_tiers:()=>t.jsxs("div",{className:"g2-preview g2-row g2-league",children:[t.jsx("div",{className:"g2-league-shield"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"70%",tone:"accent"}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Ht,{label:"Bronze"}),t.jsx(Ht,{label:"Diamond"})]})]})]}),pv_delta_chip:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Ht,{label:"^ +12"}),t.jsx(Ht,{label:"v -3"}),t.jsx(Tt,{width:"50%",tone:"accent"})]}),pv_percentile_gauge:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-percent-gauge",children:t.jsx("div",{className:"g2-percent-needle"})}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Ht,{label:"Top 5%"}),t.jsx(Tt,{width:"40%",tone:"accent"})]})]}),pv_rival_slot:()=>t.jsxs("div",{className:"g2-preview g2-rival",children:[t.jsxs("div",{className:"g2-vs-block",children:[t.jsx(Tt,{width:"60%",tone:"accent"}),t.jsx(Ht,{label:"You"})]}),t.jsx("div",{className:"g2-vs-mid",children:"VS"}),t.jsxs("div",{className:"g2-vs-block rival",children:[t.jsx(Tt,{width:"55%",tone:"warning"}),t.jsx(Ht,{label:"Rival"})]})]}),pv_promo_zone:()=>t.jsxs("div",{className:"g2-preview g2-zone promo",children:[t.jsx("div",{className:"g2-zone-band"}),t.jsx("div",{className:"g2-zone-label",children:"Promotion Zone"})]}),pv_relegation_zone:()=>t.jsxs("div",{className:"g2-preview g2-zone danger",children:[t.jsx("div",{className:"g2-zone-band"}),t.jsx("div",{className:"g2-zone-label",children:"Relegation"})]}),pv_top5_list:()=>t.jsx("div",{className:"g2-preview g2-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((s,e)=>t.jsxs("div",{className:"g2-list-row",children:[t.jsx("span",{className:"g2-list-num",children:e+1}),t.jsx(Tt,{width:`${70-e*8}%`,tone:e<2?"accent":"muted",height:6})]},s))}),pv_rank_step_history:()=>t.jsxs("div",{className:"g2-preview g2-rank-history",children:[Array.from({length:6}).map((s,e)=>t.jsx("div",{className:"g2-rank-node",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),t.jsx("div",{className:"g2-rank-line"})]}),pv_split_compare:()=>t.jsxs("div",{className:"g2-preview g2-split",children:[t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"70%",tone:"accent"}),t.jsx(Tt,{width:"40%",tone:"accent"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"60%",tone:"warning"}),t.jsx(Tt,{width:"50%",tone:"warning"})]})]}),pv_you_vs_avg_bars:()=>t.jsxs("div",{className:"g2-preview g2-col",children:[t.jsxs("div",{className:"g2-overlay-bars",children:[t.jsx(Tt,{width:"80%",tone:"accent",height:10}),t.jsx(Tt,{width:"55%",tone:"muted",height:10})]}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Ht,{label:"You"}),t.jsx(Ht,{label:"Server Avg"})]})]}),pv_bestof3_dots:()=>t.jsx("div",{className:"g2-preview g2-row g2-gap-sm",children:[0,1,2].map(s=>t.jsx("div",{className:`g2-round-dot ${s<2?"won":""}`},s))}),pv_duel_outcome:()=>t.jsxs("div",{className:"g2-preview g2-duel",children:[t.jsx("div",{className:"g2-shield win",children:"Win"}),t.jsx("div",{className:"g2-shield loss",children:"Loss"})]}),pv_advantage_meter:()=>t.jsxs("div",{className:"g2-preview g2-meter",children:[t.jsxs("div",{className:"g2-meter-track",children:[t.jsx("div",{className:"g2-meter-fill"}),t.jsx("div",{className:"g2-meter-pointer",style:{left:"62%"}})]}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Ht,{label:"Advantage"}),t.jsx(Ht,{label:"+12%"})]})]}),pv_kpi_tiles_4:()=>t.jsx("div",{className:"g2-preview g2-kpi-grid",children:["KPI","CTR","UPT","LTV"].map((s,e)=>t.jsxs("div",{className:"g2-kpi-tile",children:[t.jsx("div",{className:"g2-kpi-label",children:s}),t.jsx(Tt,{width:`${40+e*10}%`,tone:"accent"})]},s))}),pv_delta_chips_breakdown:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Ht,{label:"+18"}),t.jsx(Ht,{label:"-5"}),t.jsx(Ht,{label:"+2"}),t.jsx(Ht,{label:"-1"})]}),pv_mirror_neutral:()=>t.jsxs("div",{className:"g2-preview g2-mirror",children:[t.jsx("div",{className:"g2-mirror-half",children:t.jsx(Tt,{width:"60%",tone:"accent"})}),t.jsx("div",{className:"g2-divider"}),t.jsx("div",{className:"g2-mirror-half",children:t.jsx(Tt,{width:"60%",tone:"warning"})})]}),pv_radar_polygon:()=>t.jsx("div",{className:"g2-preview g2-radar",children:t.jsxs("svg",{viewBox:"0 0 120 120",children:[t.jsx("polygon",{points:"60,15 100,50 90,105 30,105 20,50",className:"g2-radar-bg"}),t.jsx("polygon",{points:"60,30 90,55 80,90 40,90 30,55",className:"g2-radar-fill"})]})}),pv_gap_to_next:()=>t.jsxs("div",{className:"g2-preview g2-gap-bar",children:[t.jsx(Tt,{width:"80%",tone:"accent",height:8}),t.jsx("div",{className:"g2-marker",style:{left:"65%"}}),t.jsx("div",{className:"g2-gap-label",children:"Gap: 12 pts"})]}),pv_guild_roles:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Ht,{label:"Leader"}),t.jsx(Ht,{label:"Officer"}),t.jsx(Ht,{label:"Member"})]}),pv_contrib_bars:()=>t.jsx("div",{className:"g2-preview g2-col g2-gap-xs",children:["Ava","Ben","Caro"].map((s,e)=>t.jsxs("div",{className:"g2-contrib-row",children:[t.jsx("span",{className:"g2-contrib-name",children:s}),t.jsx(Tt,{width:`${50+e*15}%`,tone:"accent",height:6})]},s))}),pv_spotlight_card:()=>t.jsxs("div",{className:"g2-preview g2-spotlight",children:[t.jsx("div",{className:"g2-spotlight-glow"}),t.jsx(Tt,{width:"70%",tone:"accent"}),t.jsx(Ht,{label:"Spotlight"})]}),pv_guild_power_meter:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-power-donut",children:t.jsx("div",{className:"g2-power-fill"})}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Tt,{width:"60%",tone:"success"}),t.jsx(Tt,{width:"40%",tone:"warning"})]})]}),pv_slots_open_filled:()=>t.jsx("div",{className:"g2-preview g2-slots",children:[0,1,2,3].map(s=>t.jsx("div",{className:`g2-slot-card ${s<2?"open":"filled"}`},s))}),pv_war_readiness:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Ht,{label:"Ready"}),t.jsx(Ht,{label:"Armor"}),t.jsx(Ht,{label:"Supplies"}),t.jsx(Tt,{width:"50%",tone:"accent"})]}),pv_activity_pulse:()=>t.jsx("div",{className:"g2-preview g2-pulse",children:Array.from({length:14}).map((s,e)=>t.jsx("div",{className:"g2-pulse-bar",style:{height:`${10+e%5*8}px`}},e))}),pv_alliance_link:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-link-node"}),t.jsx("div",{className:"g2-link-chain"}),t.jsx("div",{className:"g2-link-node"})]}),pv_pinned_announcement:()=>t.jsxs("div",{className:"g2-preview g2-pinned",children:[t.jsx("div",{className:"g2-pin"}),t.jsx(Tt,{width:"70%",tone:"accent"}),t.jsx(Tt,{width:"40%",tone:"muted"})]}),pv_trophy_shelf:()=>t.jsxs("div",{className:"g2-preview g2-shelf",children:[t.jsx("div",{className:"g2-trophies",children:[0,1,2].map(s=>t.jsx("div",{className:"g2-trophy"},s))}),t.jsx("div",{className:"g2-shelf-wood"})]})},jbe=s=>BC[s]?BC[s]():t.jsx("div",{className:"g2-preview",children:t.jsx(Tt,{width:"60%",tone:"accent"})});function Sbe(){return t.jsxs("div",{className:"g2-root",children:[t.jsxs("header",{className:"g2-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 2"}),t.jsx("p",{className:"g2-sub",children:"50 unique mock widgets mapped to the original playground list. All static and scoped."})]}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Ht,{label:"mock"}),t.jsx(Ht,{label:"concept"}),t.jsx(Ht,{label:"ui"})]})]}),t.jsx("nav",{className:"g2-toc",children:FC.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g2-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g2-sections",children:FC.map(s=>t.jsxs("details",{className:"g2-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g2-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g2-section-title",children:s.title}),t.jsx("div",{className:"g2-section-sub",children:s.description})]}),t.jsxs("span",{className:"g2-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g2-grid",children:s.items.map(e=>t.jsxs("div",{className:"g2-card",children:[t.jsxs("div",{className:"g2-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g2-card-title",children:e.title}),t.jsx("div",{className:"g2-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g2-pill-row",children:(e.tags||["mock"]).map(n=>t.jsx(Ht,{label:n},n))})]}),jbe(e.previewId)]},e.id))})]},s.id))})]})}const $C=[{id:"badges",title:"Badges & Titles",description:"Unlocks, nameplates, and medal visuals.",items:[{id:"1",categoryId:"badges",title:"Achievement Unlocked",subtitle:"Shimmer check",tags:["mock","ui"],previewId:"g3_badge_unlock_ring"},{id:"2",categoryId:"badges",title:"Locked Badge Mask",subtitle:"Silhouette lock",tags:["mock"],previewId:"g3_badge_lock_mask"},{id:"3",categoryId:"badges",title:"Rarity Fan",subtitle:"Common to mythic fan",tags:["concept"],previewId:"g3_rarity_fan"},{id:"4",categoryId:"badges",title:"Mastery Tiers",subtitle:"I-V concentric",tags:["ui"],previewId:"g3_mastery_tiers"},{id:"5",categoryId:"badges",title:"Title Plate Frame",subtitle:"Nameplate glow",tags:["mock"],previewId:"g3_title_plate"},{id:"6",categoryId:"badges",title:"Medal Banner",subtitle:"Bronze/Silver/Gold bar",tags:["ui"],previewId:"g3_medal_banner"},{id:"7",categoryId:"badges",title:"Badge Glow Card",subtitle:"Starburst pop",tags:["concept"],previewId:"g3_badge_glow"},{id:"8",categoryId:"badges",title:"Approved Stamp",subtitle:"Circular stamp",tags:["mock"],previewId:"g3_stamp_card"},{id:"9",categoryId:"badges",title:"Showcase Strip",subtitle:"Static carousel",tags:["ui"],previewId:"g3_showcase_strip"},{id:"10",categoryId:"badges",title:"First Scan Popover",subtitle:"Speech bubble",tags:["mock"],previewId:"g3_first_popover"}]},{id:"progress",title:"Progress & Gauges",description:"Bars, gauges, and segmented tracks.",items:[{id:"11",categoryId:"progress",title:"Boss Segments",subtitle:"Phase chunks",tags:["mock"],previewId:"g3_boss_segments"},{id:"12",categoryId:"progress",title:"Dual Progress",subtitle:"You vs avg marker",tags:["ui"],previewId:"g3_dual_progress"},{id:"13",categoryId:"progress",title:"Segment Rail",subtitle:"10-block rail",tags:["concept"],previewId:"g3_segment_rail"},{id:"14",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"g3_donut_completion"},{id:"15",categoryId:"progress",title:"Battery Meter",subtitle:"Energy cell",tags:["ui"],previewId:"g3_battery_meter"},{id:"16",categoryId:"progress",title:"Thermo Column",subtitle:"Vertical fill",tags:["mock"],previewId:"g3_thermo_column"},{id:"17",categoryId:"progress",title:"XP With Ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"g3_xp_ticks"},{id:"18",categoryId:"progress",title:"Stat Stack",subtitle:"Five attributes",tags:["mock"],previewId:"g3_stat_stack"},{id:"19",categoryId:"progress",title:"Risk Arc",subtitle:"Arc meter",tags:["concept"],previewId:"g3_risk_arc"},{id:"20",categoryId:"progress",title:"Perfect Run",subtitle:"Checklist + bar",tags:["ui"],previewId:"g3_perfect_run"}]},{id:"rankings",title:"Rankings & Competitive",description:"Podiums, ladders, deltas, and rivals.",items:[{id:"21",categoryId:"rankings",title:"Podium Trio",subtitle:"Top 3 heights",tags:["mock"],previewId:"g3_podium_trio"},{id:"22",categoryId:"rankings",title:"Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"g3_ladder_rungs"},{id:"23",categoryId:"rankings",title:"League Shield",subtitle:"Tier shield",tags:["concept"],previewId:"g3_league_shield"},{id:"24",categoryId:"rankings",title:"Delta Chips",subtitle:"Up/Down pills",tags:["ui"],previewId:"g3_delta_chips"},{id:"25",categoryId:"rankings",title:"Percent Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"g3_percent_gauge"},{id:"26",categoryId:"rankings",title:"Rival Split",subtitle:"You vs rival",tags:["concept"],previewId:"g3_rival_split"},{id:"27",categoryId:"rankings",title:"Promotion Band",subtitle:"Green band",tags:["ui"],previewId:"g3_promo_band"},{id:"28",categoryId:"rankings",title:"Relegation Band",subtitle:"Red band",tags:["mock"],previewId:"g3_relegation_band"},{id:"29",categoryId:"rankings",title:"Top Five Rows",subtitle:"Ranked rows",tags:["ui"],previewId:"g3_top_five"},{id:"30",categoryId:"rankings",title:"Rank Steps",subtitle:"Step chart",tags:["mock"],previewId:"g3_rank_steps"}]},{id:"collections",title:"Collections & Inventory",description:"Binders, stickers, and milestones.",items:[{id:"31",categoryId:"collections",title:"Binder Slots",subtitle:"Grid slots",tags:["mock"],previewId:"g3_binder_slots"},{id:"32",categoryId:"collections",title:"Set Progress",subtitle:"3 of 5 lit",tags:["ui"],previewId:"g3_set_progress"},{id:"33",categoryId:"collections",title:"Missing Checklist",subtitle:"Remaining shards",tags:["mock"],previewId:"g3_missing_list"},{id:"34",categoryId:"collections",title:"Rarity Rows",subtitle:"Tier lines",tags:["concept"],previewId:"g3_rarity_rows"},{id:"35",categoryId:"collections",title:"Legendary Spread",subtitle:"Book spread",tags:["ui"],previewId:"g3_legendary_spread"},{id:"36",categoryId:"collections",title:"Pet Album",subtitle:"Avatar minis",tags:["mock"],previewId:"g3_pet_album"},{id:"37",categoryId:"collections",title:"Sticker Sheet",subtitle:"Sticker grid",tags:["concept"],previewId:"g3_sticker_sheet"},{id:"38",categoryId:"collections",title:"Duplicate Dial",subtitle:"Count dial",tags:["ui"],previewId:"g3_duplicate_dial"},{id:"39",categoryId:"collections",title:"Trade/Lock Tags",subtitle:"State chips",tags:["mock"],previewId:"g3_trade_lock"},{id:"40",categoryId:"collections",title:"Collection Timeline",subtitle:"Milestone nodes",tags:["ui"],previewId:"g3_collection_timeline"}]},{id:"micro",title:"Micro Interactions",description:"Toasts, tabs, ribbons, and overlays.",items:[{id:"41",categoryId:"micro",title:"Unlock Glow",subtitle:"Glowing card",tags:["mock"],previewId:"g3_unlock_glow"},{id:"42",categoryId:"micro",title:"Inspect Tooltip",subtitle:"Hover tip",tags:["ui"],previewId:"g3_inspect_tooltip"},{id:"43",categoryId:"micro",title:"Confetti Burst",subtitle:"Sprinkled dots",tags:["concept"],previewId:"g3_confetti_burst"},{id:"44",categoryId:"micro",title:"Corner Ribbon",subtitle:"New ribbon",tags:["mock"],previewId:"g3_corner_ribbon"},{id:"45",categoryId:"micro",title:"Locked Blur",subtitle:"Frosted overlay",tags:["ui"],previewId:"g3_locked_blur"},{id:"46",categoryId:"micro",title:"Pulse Progress",subtitle:"Animated pulse",tags:["concept"],previewId:"g3_pulse_progress"},{id:"47",categoryId:"micro",title:"Mini Tabs",subtitle:"Inline tab pills",tags:["ui"],previewId:"g3_mini_tabs"},{id:"48",categoryId:"micro",title:"Expandable Block",subtitle:"Details reveal",tags:["mock"],previewId:"g3_expand_block"},{id:"49",categoryId:"micro",title:"Toast Message",subtitle:"Inline toast",tags:["ui"],previewId:"g3_toast_message"},{id:"50",categoryId:"micro",title:"Quest Failed",subtitle:"Warning slab",tags:["mock"],previewId:"g3_quest_failed"}]}],Ln=({label:s})=>t.jsx("span",{className:"g3-pill",children:s}),gs=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g3-bar tone-${e}`,style:{width:s,height:n}}),Ag=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g3-dot tone-${s}`,style:{width:e,height:e}}),Nbe=s=>{const e=kbe[s];return e?e():t.jsx("div",{className:"g3-preview g3-fallback"})},kbe={g3_badge_unlock_ring:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-icon ring success",children:t.jsx("span",{className:"g3-checkmark"})}),t.jsxs("div",{className:"g3-col",children:[t.jsx(gs,{width:"80%",tone:"success"}),t.jsxs("div",{className:"g3-pill-row",children:[t.jsx(Ln,{label:"Unlocked"}),t.jsx(Ln,{label:"+150 XP"})]})]})]}),g3_badge_lock_mask:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-icon ring muted",children:t.jsx("div",{className:"g3-lock-hole"})}),t.jsxs("div",{className:"g3-col",children:[t.jsx("div",{className:"g3-mask-figure"}),t.jsx(gs,{width:"60%",tone:"muted"})]})]}),g3_rarity_fan:()=>t.jsx("div",{className:"g3-preview g3-row g3-gap-sm",children:["muted","accent","success","warning","danger"].map(s=>t.jsx("div",{className:`g3-diamond tone-${s}`},s))}),g3_mastery_tiers:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-ring-stack",children:[1,2,3].map(s=>t.jsx("div",{className:`g3-ring-${s}`},s))}),t.jsxs("div",{className:"g3-col",children:[t.jsx(gs,{width:"65%"}),t.jsxs("div",{className:"g3-dot-row",children:[t.jsx(Ag,{}),t.jsx(Ag,{tone:"success"}),t.jsx(Ag,{tone:"warning"})]})]})]}),g3_title_plate:()=>t.jsxs("div",{className:"g3-preview g3-plate",children:[t.jsx("div",{className:"g3-plate-left"}),t.jsx("div",{className:"g3-plate-text",children:"Title"}),t.jsx("div",{className:"g3-plate-right"})]}),g3_medal_banner:()=>t.jsxs("div",{className:"g3-preview g3-row g3-space-between",children:[t.jsx("div",{className:"g3-medal bronze"}),t.jsx("div",{className:"g3-medal silver"}),t.jsx("div",{className:"g3-medal gold"})]}),g3_badge_glow:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-starburst"}),t.jsxs("div",{className:"g3-col",children:[t.jsx(gs,{width:"70%"}),t.jsx(gs,{width:"45%",tone:"success"})]})]}),g3_stamp_card:()=>t.jsxs("div",{className:"g3-preview g3-stamp-card",children:[t.jsx("div",{className:"g3-stamp-ring",children:"APPROVED"}),t.jsx(gs,{width:"60%"})]}),g3_showcase_strip:()=>t.jsxs("div",{className:"g3-preview g3-carousel",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g3-slide ${s===1?"active":""}`},s)),t.jsx("div",{className:"g3-dot-row",children:[0,1,2,3].map(s=>t.jsx(Ag,{tone:s===1?"accent":"muted"},s))})]}),g3_first_popover:()=>t.jsxs("div",{className:"g3-preview g3-pop",children:[t.jsxs("div",{className:"g3-pop-bubble",children:[t.jsx("div",{className:"g3-pop-title",children:"First scan"}),t.jsx(gs,{width:"70%"})]}),t.jsx("div",{className:"g3-pop-arrow"})]}),g3_boss_segments:()=>t.jsxs("div",{className:"g3-preview g3-bossbar",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g3-boss-segment ${s<3?"filled":""}`},s)),t.jsx("div",{className:"g3-marker",style:{left:"72%"}})]}),g3_dual_progress:()=>t.jsxs("div",{className:"g3-preview g3-col",children:[t.jsx(gs,{width:"85%"}),t.jsxs("div",{className:"g3-dual",children:[t.jsx(gs,{width:"60%",tone:"success",height:8}),t.jsx("div",{className:"g3-marker",style:{left:"60%"}}),t.jsx("div",{className:"g3-marker muted",style:{left:"85%"}})]})]}),g3_segment_rail:()=>t.jsx("div",{className:"g3-preview g3-rail",children:Array.from({length:10}).map((s,e)=>t.jsx("div",{className:`g3-rail-segment ${e<6?"active":""}`},e))}),g3_donut_completion:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsxs("div",{className:"g3-donut",children:[t.jsx("div",{className:"g3-donut-fill"}),t.jsx("div",{className:"g3-donut-hole",children:"72%"})]}),t.jsx(gs,{width:"50%"})]}),g3_battery_meter:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsxs("div",{className:"g3-battery",children:[t.jsx("div",{className:"g3-battery-cap"}),t.jsx("div",{className:"g3-battery-fill"})]}),t.jsx(Ln,{label:"82%"})]}),g3_thermo_column:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsx("div",{className:"g3-thermo",children:t.jsx("div",{className:"g3-thermo-fill"})}),t.jsxs("div",{className:"g3-col",children:[t.jsx(gs,{width:"40%",tone:"warning"}),t.jsx(gs,{width:"30%",tone:"muted"})]})]}),g3_xp_ticks:()=>t.jsxs("div",{className:"g3-preview g3-col",children:[t.jsxs("div",{className:"g3-xpbar",children:[t.jsx("div",{className:"g3-xp-fill"}),Array.from({length:8}).map((s,e)=>t.jsx("span",{className:"g3-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),t.jsx(Ln,{label:"Lvl 42"})]}),g3_stat_stack:()=>t.jsx("div",{className:"g3-preview g3-stats",children:["STR","DEX","INT","CON","LCK"].map((s,e)=>t.jsxs("div",{className:"g3-stat-row",children:[t.jsx("span",{className:"g3-stat-label",children:s}),t.jsx(gs,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success"})]},s))}),g3_risk_arc:()=>t.jsxs("div",{className:"g3-preview g3-risk",children:[t.jsx("div",{className:"g3-risk-arc",children:t.jsx("div",{className:"g3-risk-pointer"})}),t.jsx(Ln,{label:"68%"})]}),g3_perfect_run:()=>t.jsxs("div",{className:"g3-preview g3-perfect",children:[t.jsx(gs,{width:"100%",tone:"success"}),t.jsx("div",{className:"g3-checklist tiny",children:["No deaths","No errors","All chests"].map(s=>t.jsxs("div",{className:"g3-check-row",children:[t.jsx("span",{className:"g3-checkbox checked"}),t.jsx("span",{className:"g3-check-label",children:s})]},s))})]}),g3_podium_trio:()=>t.jsx("div",{className:"g3-preview g3-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((s,e)=>t.jsxs("div",{className:`g3-podium-col ${s.tone}`,style:{height:s.h},children:["#",e+1]},e))}),g3_ladder_rungs:()=>t.jsx("div",{className:"g3-preview g3-ladder",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g3-rung ${e===2?"active":""}`},e))}),g3_league_shield:()=>t.jsxs("div",{className:"g3-preview g3-row g3-league",children:[t.jsx("div",{className:"g3-league-shield"}),t.jsx(gs,{width:"70%"})]}),g3_delta_chips:()=>t.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[t.jsx(Ln,{label:"^ +12"}),t.jsx(Ln,{label:"v -3"}),t.jsx(gs,{width:"50%"})]}),g3_percent_gauge:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsx("div",{className:"g3-percent",children:t.jsx("div",{className:"g3-percent-needle"})}),t.jsx(Ln,{label:"Top 5%"})]}),g3_rival_split:()=>t.jsxs("div",{className:"g3-preview g3-rival",children:[t.jsxs("div",{className:"g3-vs",children:[t.jsx(gs,{width:"60%"}),t.jsx(Ln,{label:"You"})]}),t.jsx("div",{className:"g3-vs-mid",children:"VS"}),t.jsxs("div",{className:"g3-vs rival",children:[t.jsx(gs,{width:"55%",tone:"warning"}),t.jsx(Ln,{label:"Rival"})]})]}),g3_promo_band:()=>t.jsxs("div",{className:"g3-preview g3-zone promo",children:[t.jsx("div",{className:"g3-zone-band"}),t.jsx("div",{className:"g3-zone-label",children:"Promotion"})]}),g3_relegation_band:()=>t.jsxs("div",{className:"g3-preview g3-zone danger",children:[t.jsx("div",{className:"g3-zone-band"}),t.jsx("div",{className:"g3-zone-label",children:"Relegation"})]}),g3_top_five:()=>t.jsx("div",{className:"g3-preview g3-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((s,e)=>t.jsxs("div",{className:"g3-list-row",children:[t.jsx("span",{className:"g3-list-num",children:e+1}),t.jsx(gs,{width:`${70-e*8}%`,tone:e<2?"accent":"muted"})]},s))}),g3_rank_steps:()=>t.jsxs("div",{className:"g3-preview g3-rank-steps",children:[Array.from({length:6}).map((s,e)=>t.jsx("div",{className:"g3-step-dot",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),t.jsx("div",{className:"g3-step-line"})]}),g3_binder_slots:()=>t.jsx("div",{className:"g3-preview g3-grid-cards",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g3-slot ${e<3?"filled":""}`},e))}),g3_set_progress:()=>t.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[Array.from({length:5}).map((s,e)=>t.jsx("div",{className:`g3-piece ${e<3?"active":""}`},e)),t.jsx(Ln,{label:"3 / 5"})]}),g3_missing_list:()=>t.jsx("div",{className:"g3-preview g3-checklist",children:["Shard A","Shard B","Shard C"].map((s,e)=>t.jsxs("div",{className:"g3-check-row",children:[t.jsx("span",{className:`g3-checkbox ${e===2?"":"checked"}`}),t.jsx("span",{className:"g3-check-label",children:s})]},s))}),g3_rarity_rows:()=>t.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[t.jsx(gs,{width:"90%",tone:"muted"}),t.jsx(gs,{width:"70%",tone:"accent"}),t.jsx(gs,{width:"50%",tone:"success"}),t.jsx(gs,{width:"40%",tone:"warning"}),t.jsx(gs,{width:"30%",tone:"danger"})]}),g3_legendary_spread:()=>t.jsxs("div",{className:"g3-preview g3-book",children:[t.jsx("div",{className:"g3-book-page left"}),t.jsx("div",{className:"g3-book-page right"})]}),g3_pet_album:()=>t.jsx("div",{className:"g3-preview g3-pet-grid",children:Array.from({length:6}).map((s,e)=>t.jsxs("div",{className:"g3-pet-avatar",children:[t.jsx("span",{className:"g3-pet-ear"}),t.jsx("span",{className:"g3-pet-ear"})]},e))}),g3_sticker_sheet:()=>t.jsx("div",{className:"g3-preview g3-sticker-sheet",children:Array.from({length:4}).map((s,e)=>t.jsx("div",{className:"g3-sticker"},e))}),g3_duplicate_dial:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsx("div",{className:"g3-counter",children:t.jsx("div",{className:"g3-counter-needle"})}),t.jsx(Ln,{label:"x4"})]}),g3_trade_lock:()=>t.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[t.jsx(Ln,{label:"Tradeable"}),t.jsx(Ln,{label:"Locked"}),t.jsx(gs,{width:"40%"})]}),g3_collection_timeline:()=>t.jsxs("div",{className:"g3-preview g3-timeline",children:[[10,25,50,100].map((s,e)=>t.jsx("div",{className:"g3-timeline-node",style:{left:`${e*25}%`},children:t.jsx("span",{className:"g3-timeline-label",children:s})},s)),t.jsx("div",{className:"g3-timeline-line"})]}),g3_unlock_glow:()=>t.jsx("div",{className:"g3-preview g3-glow-card",children:t.jsx(gs,{width:"60%",tone:"success"})}),g3_inspect_tooltip:()=>t.jsxs("div",{className:"g3-preview g3-tooltip-card",children:[t.jsx("div",{className:"g3-tooltip-box",children:"Inspect"}),t.jsx("div",{className:"g3-tooltip-tail"})]}),g3_confetti_burst:()=>t.jsx("div",{className:"g3-preview g3-confetti",children:Array.from({length:12}).map((s,e)=>t.jsx("div",{className:"g3-confetti-dot"},e))}),g3_corner_ribbon:()=>t.jsxs("div",{className:"g3-preview g3-corner",children:[t.jsx("div",{className:"g3-corner-ribbon",children:"New"}),t.jsx(gs,{width:"60%"})]}),g3_locked_blur:()=>t.jsxs("div",{className:"g3-preview g3-locked",children:[t.jsx("div",{className:"g3-locked-mask"}),t.jsx("div",{className:"g3-lock-hole"})]}),g3_pulse_progress:()=>t.jsx("div",{className:"g3-preview g3-pulse-bar",children:t.jsx("div",{className:"g3-pulse-fill"})}),g3_mini_tabs:()=>t.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[t.jsxs("div",{className:"g3-tabs",children:[t.jsx("div",{className:"g3-tab active",children:"One"}),t.jsx("div",{className:"g3-tab",children:"Two"}),t.jsx("div",{className:"g3-tab",children:"Three"})]}),t.jsx(gs,{width:"70%"})]}),g3_expand_block:()=>t.jsxs("div",{className:"g3-preview g3-details",children:[t.jsx("div",{className:"g3-details-summary",children:"Details"}),t.jsxs("div",{className:"g3-details-body",children:[t.jsx(gs,{width:"60%",tone:"muted"}),t.jsx(gs,{width:"40%",tone:"muted"})]})]}),g3_toast_message:()=>t.jsxs("div",{className:"g3-preview g3-toast",children:[t.jsx("div",{className:"g3-toast-dot"}),t.jsx(gs,{width:"70%"})]}),g3_quest_failed:()=>t.jsxs("div",{className:"g3-preview g3-failed",children:[t.jsx("div",{className:"g3-warning-icon"}),t.jsxs("div",{className:"g3-col",children:[t.jsx(gs,{width:"60%",tone:"danger"}),t.jsx(gs,{width:"40%",tone:"muted"})]})]})};function Cbe(){return t.jsxs("div",{className:"g3-root",children:[t.jsxs("header",{className:"g3-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 3"}),t.jsx("p",{className:"g3-sub",children:"50 unique mock previews across 5 categories. All static and scoped to this page."})]}),t.jsxs("div",{className:"g3-pill-row",children:[t.jsx(Ln,{label:"mock"}),t.jsx(Ln,{label:"concept"}),t.jsx(Ln,{label:"ui"})]})]}),t.jsx("nav",{className:"g3-toc",children:$C.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g3-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g3-sections",children:$C.map(s=>t.jsxs("details",{className:"g3-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g3-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g3-section-title",children:s.title}),t.jsx("div",{className:"g3-section-sub",children:s.description})]}),t.jsxs("span",{className:"g3-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g3-grid",children:s.items.map(e=>t.jsxs("div",{className:"g3-card",children:[t.jsxs("div",{className:"g3-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g3-card-title",children:e.title}),t.jsx("div",{className:"g3-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g3-pill-row",children:(e.tags||["mock"]).map(n=>t.jsx(Ln,{label:n},n))})]}),Nbe(e.previewId)]},e.id))})]},s.id))})]})}const OC=[{id:"controls",title:"Controls & Navigation",description:"Chips, toggles, sliders, and small navigation rails.",items:[{id:"1",categoryId:"controls",title:"Segmented Toggle Bar",subtitle:"3 states, active glow",tags:["UI"],previewId:"pv_ui_seg_toggle_3"},{id:"2",categoryId:"controls",title:"Icon Tab Rail",subtitle:"mini tabs with badges",tags:["UI"],previewId:"pv_ui_icon_tabs_badges"},{id:"3",categoryId:"controls",title:"Filter Chips Row",subtitle:"wrap + selected state",tags:["UI"],previewId:"pv_ui_filter_chips_wrap"},{id:"4",categoryId:"controls",title:"Sort Pill Switch",subtitle:"ASC/DESC pill",tags:["UI"],previewId:"pv_ui_sort_pill"},{id:"5",categoryId:"controls",title:"Search Field + Hint",subtitle:"inline hint + icon",tags:["UI"],previewId:"pv_ui_search_hint"},{id:"6",categoryId:"controls",title:"Dropdown Menu Stack",subtitle:"3 options + separators",tags:["UI"],previewId:"pv_ui_dropdown_stack"},{id:"7",categoryId:"controls",title:"Range Slider Track",subtitle:"ticks + thumb",tags:["UI"],previewId:"pv_ui_slider_ticks"},{id:"8",categoryId:"controls",title:"Stepper Control",subtitle:"prev/next + step dots",tags:["UI"],previewId:"pv_ui_stepper_dots"},{id:"9",categoryId:"controls",title:"Compact Pagination",subtitle:"1..5 + next",tags:["UI"],previewId:"pv_ui_pagination_compact"},{id:"10",categoryId:"controls",title:"Sticky Subnav",subtitle:"active underline",tags:["UI"],previewId:"pv_ui_sticky_subnav"}]},{id:"cards",title:"Cards, Frames, Overlays",description:"Mini cards, ribbons, overlays, and tooltip shells.",items:[{id:"11",categoryId:"cards",title:"Card Header Ribbon",subtitle:"angled label",tags:["UI"],previewId:"pv_ui_ribbon_header"},{id:"12",categoryId:"cards",title:"Corner Tag Overlay",subtitle:"top-right chip",tags:["UI"],previewId:"pv_ui_corner_tag"},{id:"13",categoryId:"cards",title:"Locked Overlay Blur",subtitle:"frosted lock",tags:["UI"],previewId:"pv_ui_locked_blur2"},{id:"14",categoryId:"cards",title:"Tooltip Bubble",subtitle:"arrow + shadow",tags:["UI"],previewId:"pv_ui_tooltip_bubble"},{id:"15",categoryId:"cards",title:"Popover Panel",subtitle:"title + actions",tags:["UI"],previewId:"pv_ui_popover_panel"},{id:"16",categoryId:"cards",title:"Modal Mini Mock",subtitle:"header/body/footer",tags:["UI"],previewId:"pv_ui_modal_mini"},{id:"17",categoryId:"cards",title:"Drawer Slide Mock",subtitle:"right drawer",tags:["UI"],previewId:"pv_ui_drawer_right"},{id:"18",categoryId:"cards",title:"Toast Stack",subtitle:"3 toasts",tags:["UI"],previewId:"pv_ui_toast_stack3"},{id:"19",categoryId:"cards",title:"Inline Callout",subtitle:"info box",tags:["UI"],previewId:"pv_ui_callout_inline"},{id:"20",categoryId:"cards",title:"Badge Cluster",subtitle:"3 badge styles",tags:["UI"],previewId:"pv_ui_badge_cluster"}]},{id:"progress",title:"Progress & Meters",description:"Bars, dials, ladders, and dual markers.",items:[{id:"21",categoryId:"progress",title:"XP Bar with Ticks",subtitle:"level ticks",tags:["UI"],previewId:"pv_ui_xp_ticks2"},{id:"22",categoryId:"progress",title:"Dual Marker Bar",subtitle:"avg marker line",tags:["UI"],previewId:"pv_ui_dual_marker_bar"},{id:"23",categoryId:"progress",title:"Donut + Label",subtitle:"% inside ring",tags:["UI"],previewId:"pv_ui_donut_label"},{id:"24",categoryId:"progress",title:"Segmented Track 12",subtitle:"filled segments",tags:["UI"],previewId:"pv_ui_segment_track_12"},{id:"25",categoryId:"progress",title:"Vertical Thermometer",subtitle:"fill + cap",tags:["UI"],previewId:"pv_ui_thermo_cap"},{id:"26",categoryId:"progress",title:"Battery Gauge",subtitle:"4 cells",tags:["UI"],previewId:"pv_ui_battery_cells"},{id:"27",categoryId:"progress",title:"Multi Stat Microbars",subtitle:"5 bars",tags:["UI"],previewId:"pv_ui_microbars_5"},{id:"28",categoryId:"progress",title:"Streak Chain Meter",subtitle:"linked dots",tags:["UI"],previewId:"pv_ui_streak_chain"},{id:"29",categoryId:"progress",title:"Risk Dial",subtitle:"semi arc gauge",tags:["UI"],previewId:"pv_ui_risk_semi_dial"},{id:"30",categoryId:"progress",title:"Goal Ladder",subtitle:"milestones steps",tags:["UI"],previewId:"pv_ui_goal_ladder"}]},{id:"lists",title:"Lists & Tables",description:"Leaderboard rows, KPIs, timelines, and accordions.",items:[{id:"31",categoryId:"lists",title:"Mini Leaderboard",subtitle:"top 5 rows",tags:["UI"],previewId:"pv_ui_leaderboard_5"},{id:"32",categoryId:"lists",title:"Two-Column KPI List",subtitle:"label/value",tags:["UI"],previewId:"pv_ui_kpi_list_2col"},{id:"33",categoryId:"lists",title:"Table Row Hover",subtitle:"highlight row mock",tags:["UI"],previewId:"pv_ui_table_hover"},{id:"34",categoryId:"lists",title:"Rank Delta Row",subtitle:" chips in row",tags:["UI"],previewId:"pv_ui_rank_delta_row"},{id:"35",categoryId:"lists",title:"Avatar List Compact",subtitle:"3 entries",tags:["UI"],previewId:"pv_ui_avatar_list3"},{id:"36",categoryId:"lists",title:"Timeline Row",subtitle:"dots + text",tags:["UI"],previewId:"pv_ui_timeline_row"},{id:"37",categoryId:"lists",title:"Split Panel List",subtitle:"left labels, right values",tags:["UI"],previewId:"pv_ui_split_panel_list"},{id:"38",categoryId:"lists",title:"Chip List with Counts",subtitle:"chips + numbers",tags:["UI"],previewId:"pv_ui_chip_counts"},{id:"39",categoryId:"lists",title:"Accordion List",subtitle:"3 items expanded",tags:["UI"],previewId:"pv_ui_accordion3"},{id:"40",categoryId:"lists",title:"Activity Spark Row",subtitle:"sparkline + value",tags:["UI"],previewId:"pv_ui_spark_row"}]},{id:"animated",title:"Animated/Interactive UI",description:"Pulses, flips, shimmer, and motion stripes.",items:[{id:"41",categoryId:"animated",title:"Pulse Progress",subtitle:"subtle animated fill",tags:["UI"],previewId:"pv_ui_pulse_progress2"},{id:"42",categoryId:"animated",title:"Unlock Glow",subtitle:"animated border glow",tags:["UI"],previewId:"pv_ui_unlock_glow2"},{id:"43",categoryId:"animated",title:"Shimmer Skeleton",subtitle:"loading skeleton",tags:["UI"],previewId:"pv_ui_skeleton_shimmer"},{id:"44",categoryId:"animated",title:"Confetti Dots",subtitle:"sprinkle burst",tags:["UI"],previewId:"pv_ui_confetti_dots2"},{id:"45",categoryId:"animated",title:"Hover Lift Card",subtitle:"lift + shadow",tags:["UI"],previewId:"pv_ui_hover_lift"},{id:"46",categoryId:"animated",title:"Scan Ping Indicator",subtitle:"radial ping",tags:["UI"],previewId:"pv_ui_ping_indicator"},{id:"47",categoryId:"animated",title:"Badge Pop Animation",subtitle:"scale pop",tags:["UI"],previewId:"pv_ui_badge_pop"},{id:"48",categoryId:"animated",title:"Toggle Flip",subtitle:"switch animation",tags:["UI"],previewId:"pv_ui_toggle_flip"},{id:"49",categoryId:"animated",title:"Progress Stripe Motion",subtitle:"moving stripes",tags:["UI"],previewId:"pv_ui_stripe_motion"},{id:"50",categoryId:"animated",title:"Notification Bell Pulse",subtitle:"tiny pulse ring",tags:["UI"],previewId:"pv_ui_bell_pulse"}]}],kr=({label:s})=>t.jsx("span",{className:"g4-pill",children:s}),$t=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g4-bar tone-${e}`,style:{width:s,height:n}}),Tbe={pv_ui_seg_toggle_3:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm",children:["Stats","Roster","Logs"].map((s,e)=>t.jsx("div",{className:`g4-seg ${e===1?"active":""}`,children:s},s))}),pv_ui_icon_tabs_badges:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm",children:[{icon:"",badge:2},{icon:"",badge:4,active:!0},{icon:"",badge:1}].map(s=>t.jsxs("div",{className:`g4-icon-tab ${s.active?"active":""}`,children:[t.jsx("span",{className:"g4-icon",children:s.icon}),t.jsx("span",{className:"g4-badge",children:s.badge})]},s.icon))}),pv_ui_filter_chips_wrap:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xs g4-wrap",children:["All","PVE","PVP","Guild","Trades","Events"].map((s,e)=>t.jsx("span",{className:`g4-chip ${e===2?"active":""}`,children:s},s))}),pv_ui_sort_pill:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-space-between",children:[t.jsxs("div",{className:"g4-pill-toggle",children:[t.jsx("span",{className:"on",children:"ASC"}),t.jsx("span",{className:"off",children:"DESC"})]}),t.jsxs("div",{className:"g4-sort-arrows",children:[t.jsx("div",{className:"g4-arrow up"}),t.jsx("div",{className:"g4-arrow down"})]})]}),pv_ui_search_hint:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsxs("div",{className:"g4-search",children:[t.jsx("span",{className:"g4-search-icon",children:""}),t.jsx("input",{className:"g4-search-input",value:"search players",readOnly:!0})]}),t.jsx("span",{className:"g4-hint",children:"Press / to focus"})]}),pv_ui_dropdown_stack:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Newest","Top Rated","Favorites"].map((s,e)=>t.jsxs("div",{className:"g4-menu-row",children:[t.jsx("span",{children:s}),e===0&&t.jsx("span",{className:"g4-check",children:""})]},s))}),pv_ui_slider_ticks:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xs",children:[t.jsxs("div",{className:"g4-slider",children:[t.jsxs("div",{className:"g4-slider-track",children:[t.jsx("div",{className:"g4-slider-fill",style:{width:"64%"}}),t.jsx("div",{className:"g4-slider-thumb",style:{left:"64%"}})]}),t.jsx("div",{className:"g4-slider-ticks",children:Array.from({length:7}).map((s,e)=>t.jsx("span",{},e))})]}),t.jsxs("div",{className:"g4-slider-labels",children:[t.jsx("span",{children:"0"}),t.jsx("span",{children:"64"}),t.jsx("span",{children:"100"})]})]}),pv_ui_stepper_dots:()=>t.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[t.jsx("button",{className:"g4-btn ghost",children:"Prev"}),t.jsx("div",{className:"g4-row g4-gap-xs g4-center",children:Array.from({length:5}).map((s,e)=>t.jsx("span",{className:`g4-step-dot ${e<2?"done":e===2?"active":""}`},e))}),t.jsx("button",{className:"g4-btn solid",children:"Next"})]}),pv_ui_pagination_compact:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-xs g4-center",children:[[1,2,3,4,5].map(s=>t.jsx("span",{className:`g4-page ${s===3?"active":""}`,children:s},s)),t.jsx("span",{className:"g4-page ghost",children:"Next"})]}),pv_ui_sticky_subnav:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm g4-sticky",children:["Overview","Teams","History","Files"].map((s,e)=>t.jsxs("div",{className:`g4-subtab ${e===1?"active":""}`,children:[s,e===1&&t.jsx("div",{className:"g4-underline"})]},s))}),pv_ui_ribbon_header:()=>t.jsxs("div",{className:"g4-preview g4-card-slab",children:[t.jsx("div",{className:"g4-ribbon",children:"NEW"}),t.jsxs("div",{className:"g4-col g4-gap-xs",children:[t.jsx($t,{width:"70%"}),t.jsx($t,{width:"50%",tone:"muted"})]})]}),pv_ui_corner_tag:()=>t.jsxs("div",{className:"g4-preview g4-card-slab",children:[t.jsx("div",{className:"g4-corner-tag",children:"UI"}),t.jsx($t,{width:"60%"}),t.jsx($t,{width:"40%",tone:"muted"})]}),pv_ui_locked_blur2:()=>t.jsxs("div",{className:"g4-preview g4-locked",children:[t.jsx("div",{className:"g4-locked-blur"}),t.jsx("div",{className:"g4-lock-icon",children:""}),t.jsx($t,{width:"50%",tone:"muted"})]}),pv_ui_tooltip_bubble:()=>t.jsxs("div",{className:"g4-preview g4-tooltip",children:[t.jsxs("div",{className:"g4-tooltip-body",children:[t.jsx($t,{width:"70%"}),t.jsx($t,{width:"40%",tone:"muted"})]}),t.jsx("div",{className:"g4-tooltip-arrow"})]}),pv_ui_popover_panel:()=>t.jsxs("div",{className:"g4-preview g4-popover",children:[t.jsxs("div",{className:"g4-popover-head",children:[t.jsx($t,{width:"50%"}),t.jsxs("div",{className:"g4-row g4-gap-xs",children:[t.jsx("span",{className:"g4-dot tone-muted"}),t.jsx("span",{className:"g4-dot tone-muted"})]})]}),t.jsx($t,{width:"80%",tone:"muted"}),t.jsx($t,{width:"60%",tone:"muted"})]}),pv_ui_modal_mini:()=>t.jsxs("div",{className:"g4-preview g4-modal",children:[t.jsxs("div",{className:"g4-modal-head",children:[t.jsx($t,{width:"50%"}),t.jsx("span",{className:"g4-close",children:""})]}),t.jsxs("div",{className:"g4-modal-body",children:[t.jsx($t,{width:"90%",tone:"muted"}),t.jsx($t,{width:"70%",tone:"muted"})]}),t.jsxs("div",{className:"g4-modal-foot",children:[t.jsx("button",{className:"g4-btn ghost",children:"Cancel"}),t.jsx("button",{className:"g4-btn solid",children:"Save"})]})]}),pv_ui_drawer_right:()=>t.jsxs("div",{className:"g4-preview g4-drawer",children:[t.jsxs("div",{className:"g4-drawer-body",children:[t.jsx($t,{width:"65%"}),t.jsx($t,{width:"40%",tone:"muted"})]}),t.jsxs("div",{className:"g4-drawer-panel",children:[t.jsx("div",{className:"g4-panel-handle"}),t.jsx($t,{width:"70%"}),t.jsx($t,{width:"50%",tone:"muted"})]})]}),pv_ui_toast_stack3:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Synced","New invite","Warning"].map((s,e)=>t.jsxs("div",{className:`g4-toast ${e===2?"warn":""}`,children:[t.jsx("span",{className:"g4-dot tone-success"}),t.jsx("span",{children:s})]},s))}),pv_ui_callout_inline:()=>t.jsxs("div",{className:"g4-preview g4-callout",children:[t.jsx("div",{className:"g4-callout-icon",children:"i"}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx($t,{width:"60%"}),t.jsx($t,{width:"40%",tone:"muted"})]})]}),pv_ui_badge_cluster:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-xs",children:[t.jsx(kr,{label:"Beta"}),t.jsx(kr,{label:"Live"}),t.jsx(kr,{label:"Pro"})]}),pv_ui_xp_ticks2:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xs",children:[t.jsxs("div",{className:"g4-xpbar",children:[t.jsx("div",{className:"g4-xp-fill",style:{width:"78%"}}),Array.from({length:9}).map((s,e)=>t.jsx("span",{className:"g4-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),t.jsxs("div",{className:"g4-row g4-gap-xs",children:[t.jsx(kr,{label:"Lvl 56"}),t.jsx(kr,{label:"78%"})]})]}),pv_ui_dual_marker_bar:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[t.jsxs("div",{className:"g4-bar-line",children:[t.jsx($t,{width:"92%"}),t.jsx("div",{className:"g4-marker",style:{left:"64%"}}),t.jsx("div",{className:"g4-marker muted",style:{left:"82%"}})]}),t.jsxs("div",{className:"g4-row g4-gap-sm g4-center",children:[t.jsx(kr,{label:"You"}),t.jsx(kr,{label:"Avg"})]})]}),pv_ui_donut_label:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsxs("div",{className:"g4-donut",children:[t.jsx("div",{className:"g4-donut-fill"}),t.jsx("div",{className:"g4-donut-hole",children:"64%"})]}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx($t,{width:"60%"}),t.jsx($t,{width:"40%",tone:"muted"})]})]}),pv_ui_segment_track_12:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xxs g4-seg-track",children:Array.from({length:12}).map((s,e)=>t.jsx("div",{className:`g4-track-seg ${e<8?"active":""}`},e))}),pv_ui_thermo_cap:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsxs("div",{className:"g4-thermo",children:[t.jsx("div",{className:"g4-thermo-fill",style:{height:"70%"}}),t.jsx("div",{className:"g4-thermo-cap"})]}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx($t,{width:"50%",tone:"warning"}),t.jsx($t,{width:"30%",tone:"muted"})]})]}),pv_ui_battery_cells:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsxs("div",{className:"g4-battery",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g4-battery-cell ${s<3?"filled":""}`},s)),t.jsx("div",{className:"g4-battery-cap"})]}),t.jsx(kr,{label:"75%"})]}),pv_ui_microbars_5:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["ATK","SPD","HP","DEF","LCK"].map((s,e)=>t.jsxs("div",{className:"g4-row g4-gap-xs g4-center",children:[t.jsx("span",{className:"g4-stat-label",children:s}),t.jsx($t,{width:`${40+e*12}%`,tone:e%2===0?"accent":"success",height:6})]},s))}),pv_ui_streak_chain:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xxs g4-center",children:Array.from({length:8}).map((s,e)=>t.jsxs(X.Fragment,{children:[t.jsx("span",{className:`g4-chain-dot ${e<5?"active":""}`}),e<7&&t.jsx("div",{className:"g4-chain-link"})]},e))}),pv_ui_risk_semi_dial:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsx("div",{className:"g4-semi-dial",children:t.jsx("div",{className:"g4-dial-needle",style:{transform:"rotate(30deg)"}})}),t.jsx(kr,{label:"Risk 34%"})]}),pv_ui_goal_ladder:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs g4-ladder",children:[1,2,3,4].map((s,e)=>t.jsxs("div",{className:`g4-ladder-step ${e<2?"done":""}`,children:[t.jsx("span",{className:"g4-ladder-rung"}),t.jsx($t,{width:`${40+e*10}%`,tone:"accent",height:6})]},s))}),pv_ui_leaderboard_5:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Aster","Bloom","Cinder","Dawn","Echo"].map((s,e)=>t.jsxs("div",{className:`g4-row g4-gap-sm g4-leader-row ${e===0?"active":""}`,children:[t.jsx("span",{className:"g4-rank-num",children:e+1}),t.jsx($t,{width:`${70-e*8}%`,tone:e<2?"accent":"muted",height:6}),t.jsx(kr,{label:"+12"})]},s))}),pv_ui_kpi_list_2col:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:[["Win rate","62%"],["Uptime","99.1%"],["Scan time","4.3s"]].map(([s,e])=>t.jsxs("div",{className:"g4-row g4-space-between g4-center",children:[t.jsx("span",{className:"g4-label",children:s}),t.jsx("span",{className:"g4-value",children:e})]},s))}),pv_ui_table_hover:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Row A","Row B","Row C"].map((s,e)=>t.jsx("div",{className:`g4-table-row ${e===1?"hover":""}`,children:t.jsx($t,{width:"60%",tone:"muted",height:6})},s))}),pv_ui_rank_delta_row:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx(kr,{label:" +6"}),t.jsx(kr,{label:" -2"}),t.jsx($t,{width:"50%",tone:"accent"})]}),pv_ui_avatar_list3:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Aria","Bex","Cole"].map((s,e)=>t.jsxs("div",{className:"g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-avatar",children:s[0]}),t.jsx($t,{width:`${50+e*10}%`,tone:"accent",height:6})]},s))}),pv_ui_timeline_row:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:["Step 1","Step 2","Step 3"].map((s,e)=>t.jsxs("div",{className:"g4-col g4-center g4-gap-xxs",children:[t.jsx("span",{className:`g4-timeline-dot ${e<=1?"active":""}`}),t.jsx("span",{className:"g4-mini-label",children:s})]},s))}),pv_ui_split_panel_list:()=>t.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx("span",{className:"g4-label",children:"Power"}),t.jsx("span",{className:"g4-label",children:"Speed"}),t.jsx("span",{className:"g4-label",children:"Luck"})]}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx($t,{width:"60%"}),t.jsx($t,{width:"40%",tone:"warning"}),t.jsx($t,{width:"30%",tone:"success"})]})]}),pv_ui_chip_counts:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xs g4-wrap",children:[["Tanks","12"],["Healers","5"],["DPS","18"],["Support","7"]].map(([s,e],n)=>t.jsxs("span",{className:`g4-chip ${n===2?"active":""}`,children:[s," ",t.jsx("span",{className:"g4-count",children:e})]},s))}),pv_ui_accordion3:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Summary","Details","Meta"].map((s,e)=>t.jsxs("div",{className:`g4-accordion ${e===0?"open":""}`,children:[t.jsxs("div",{className:"g4-accordion-head",children:[t.jsx("span",{children:s}),t.jsx("span",{className:"g4-chevron"})]}),e===0&&t.jsxs("div",{className:"g4-accordion-body",children:[t.jsx($t,{width:"70%",tone:"muted"}),t.jsx($t,{width:"40%",tone:"muted"})]})]},s))}),pv_ui_spark_row:()=>t.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[t.jsx("div",{className:"g4-sparkline",children:Array.from({length:12}).map((s,e)=>t.jsx("span",{style:{height:`${8+e%5*6}px`}},e))}),t.jsx(kr,{label:"72%"})]}),pv_ui_pulse_progress2:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[t.jsx("div",{className:"g4-pulse-bar",children:t.jsx("div",{className:"g4-pulse-fill",style:{width:"68%"}})}),t.jsx("span",{className:"g4-mini-label",children:"Syncing"})]}),pv_ui_unlock_glow2:()=>t.jsxs("div",{className:"g4-preview g4-glow-card",children:[t.jsx("div",{className:"g4-lock-icon",children:""}),t.jsx($t,{width:"60%"})]}),pv_ui_skeleton_shimmer:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[t.jsx("div",{className:"g4-skeleton shimmer"}),t.jsx("div",{className:"g4-skeleton shimmer short"})]}),pv_ui_confetti_dots2:()=>t.jsx("div",{className:"g4-preview g4-confetti",children:Array.from({length:14}).map((s,e)=>t.jsx("span",{className:"g4-confetti-dot"},e))}),pv_ui_hover_lift:()=>t.jsxs("div",{className:"g4-preview g4-hover-card",children:[t.jsx($t,{width:"70%"}),t.jsx($t,{width:"50%",tone:"muted"})]}),pv_ui_ping_indicator:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsx("div",{className:"g4-ping",children:t.jsx("span",{className:"g4-ping-dot"})}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx($t,{width:"50%"}),t.jsx($t,{width:"30%",tone:"muted"})]})]}),pv_ui_badge_pop:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-pop-badge",children:"UI"}),t.jsx($t,{width:"60%"})]}),pv_ui_toggle_flip:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-toggle",children:t.jsx("div",{className:"g4-toggle-thumb"})}),t.jsx("span",{className:"g4-mini-label",children:"Flip"})]}),pv_ui_stripe_motion:()=>t.jsx("div",{className:"g4-preview g4-stripes",children:t.jsx("div",{className:"g4-stripe-fill",style:{width:"72%"}})}),pv_ui_bell_pulse:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-bell",children:t.jsx("span",{className:"g4-bell-ping"})}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx($t,{width:"55%"}),t.jsx($t,{width:"35%",tone:"muted"})]})]})},Ibe=s=>{const e=Tbe[s];return e?e():t.jsx("div",{className:"g4-preview g4-fallback"})};function Abe(){return t.jsxs("div",{className:"g4-root",children:[t.jsxs("header",{className:"g4-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 4"}),t.jsx("p",{className:"g4-sub",children:"50 UI mini-previews focused on controls, overlays, meters, tables, and animated bits."})]}),t.jsx("div",{className:"g4-pill-row",children:t.jsx(kr,{label:"UI"})})]}),t.jsx("nav",{className:"g4-toc",children:OC.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g4-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g4-sections",children:OC.map(s=>t.jsxs("details",{className:"g4-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g4-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g4-section-title",children:s.title}),t.jsx("div",{className:"g4-section-sub",children:s.description})]}),t.jsxs("span",{className:"g4-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g4-grid",children:s.items.map(e=>t.jsxs("div",{className:"g4-card",children:[t.jsxs("div",{className:"g4-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g4-card-title",children:e.title}),t.jsx("div",{className:"g4-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g4-pill-row",children:(e.tags||["UI"]).map(n=>t.jsx(kr,{label:n},n))})]}),Ibe(e.previewId)]},e.id))})]},s.id))})]})}const VC=[{id:"meta",title:"Meta Systems",description:"Loops, ladders, and macro-structure sketches.",items:[{id:"1",categoryId:"meta",title:"Prestige Loop Diagram",subtitle:"reset + boost",tags:["CONCEPT"],previewId:"pv_cpt_prestige_loop"},{id:"2",categoryId:"meta",title:"Seasonal Arc Map",subtitle:"startend path",tags:["CONCEPT"],previewId:"pv_cpt_season_arc"},{id:"3",categoryId:"meta",title:"Progress Economy Flow",subtitle:"earnspendupgrade",tags:["CONCEPT"],previewId:"pv_cpt_economy_flow"},{id:"4",categoryId:"meta",title:"Skill Synergy Web",subtitle:"nodes + links",tags:["CONCEPT"],previewId:"pv_cpt_synergy_web"},{id:"5",categoryId:"meta",title:"Difficulty Curve",subtitle:"soft curve concept",tags:["CONCEPT"],previewId:"pv_cpt_difficulty_curve"},{id:"6",categoryId:"meta",title:"Reward Probability Bands",subtitle:"bands/tiers",tags:["CONCEPT"],previewId:"pv_cpt_prob_bands"},{id:"7",categoryId:"meta",title:"Milestone Radar",subtitle:"milestones ring",tags:["CONCEPT"],previewId:"pv_cpt_milestone_radar"},{id:"8",categoryId:"meta",title:"Collection Completion Map",subtitle:"zones filled",tags:["CONCEPT"],previewId:"pv_cpt_collection_map"},{id:"9",categoryId:"meta",title:"Engagement Flywheel",subtitle:"cycle arrows",tags:["CONCEPT"],previewId:"pv_cpt_flywheel"},{id:"10",categoryId:"meta",title:"Reputation Ladder",subtitle:"tiers + gates",tags:["CONCEPT"],previewId:"pv_cpt_reputation_ladder"}]},{id:"planning",title:"Planning & Strategy",description:"Allocation, risks, paths, and scenarios.",items:[{id:"11",categoryId:"planning",title:"Optimization Triangle",subtitle:"choose 2 of 3",tags:["CONCEPT"],previewId:"pv_cpt_opt_triangle"},{id:"12",categoryId:"planning",title:"Resource Allocation Bars",subtitle:"split budget",tags:["CONCEPT"],previewId:"pv_cpt_allocation_bars"},{id:"13",categoryId:"planning",title:"Upgrade Path Tree",subtitle:"branch choices",tags:["CONCEPT"],previewId:"pv_cpt_upgrade_tree"},{id:"14",categoryId:"planning",title:"Risk/Reward Matrix",subtitle:"4 quadrants",tags:["CONCEPT"],previewId:"pv_cpt_risk_reward_matrix"},{id:"15",categoryId:"planning",title:"Time-to-Goal Estimator",subtitle:"ETA blocks",tags:["CONCEPT"],previewId:"pv_cpt_eta_blocks"},{id:"16",categoryId:"planning",title:"Rival Distance Map",subtitle:"gaps + targets",tags:["CONCEPT"],previewId:"pv_cpt_rival_distance_map"},{id:"17",categoryId:"planning",title:"Power Spike Timeline",subtitle:"spike markers",tags:["CONCEPT"],previewId:"pv_cpt_power_spike_timeline"},{id:"18",categoryId:"planning",title:"Weekly Strategy Board",subtitle:"3 focus cards",tags:["CONCEPT"],previewId:"pv_cpt_weekly_board"},{id:"19",categoryId:"planning",title:"Breakpoint Indicators",subtitle:"threshold lines",tags:["CONCEPT"],previewId:"pv_cpt_breakpoints"},{id:"20",categoryId:"planning",title:"Scenario Switcher",subtitle:"A/B/C outcomes",tags:["CONCEPT"],previewId:"pv_cpt_scenarios_abc"}]},{id:"social",title:"Social Concepts",description:"Guild health, equity, coverage, and momentum ideas.",items:[{id:"21",categoryId:"social",title:"Guild Health Dashboard",subtitle:"pillars concept",tags:["CONCEPT"],previewId:"pv_cpt_guild_health"},{id:"22",categoryId:"social",title:"Contribution Equity Meter",subtitle:"fairness bar",tags:["CONCEPT"],previewId:"pv_cpt_equity_meter"},{id:"23",categoryId:"social",title:"Role Coverage Grid",subtitle:"roles coverage",tags:["CONCEPT"],previewId:"pv_cpt_role_coverage"},{id:"24",categoryId:"social",title:"Alliance Network Graph",subtitle:"nodes network",tags:["CONCEPT"],previewId:"pv_cpt_alliance_graph"},{id:"25",categoryId:"social",title:"Recruitment Funnel",subtitle:"stages funnel",tags:["CONCEPT"],previewId:"pv_cpt_recruit_funnel"},{id:"26",categoryId:"social",title:"Activity Rhythm Wheel",subtitle:"cycle wheel",tags:["CONCEPT"],previewId:"pv_cpt_rhythm_wheel"},{id:"27",categoryId:"social",title:"Leadership Heat Zones",subtitle:"zones concept",tags:["CONCEPT"],previewId:"pv_cpt_leadership_zones"},{id:"28",categoryId:"social",title:"Social Momentum Score",subtitle:"momentum line",tags:["CONCEPT"],previewId:"pv_cpt_social_momentum"},{id:"29",categoryId:"social",title:"Collaboration Contract",subtitle:"agreement card",tags:["CONCEPT"],previewId:"pv_cpt_collab_contract"},{id:"30",categoryId:"social",title:"Community Challenge Pool",subtitle:"pool + goals",tags:["CONCEPT"],previewId:"pv_cpt_challenge_pool"}]},{id:"insights",title:"Insights Concepts",description:"Signals, outliers, archetypes, and opportunity maps.",items:[{id:"31",categoryId:"insights",title:"Trend vs Noise Lens",subtitle:"signal filter",tags:["CONCEPT"],previewId:"pv_cpt_signal_noise"},{id:"32",categoryId:"insights",title:"Outlier Detector Panel",subtitle:"flagged dots",tags:["CONCEPT"],previewId:"pv_cpt_outlier_panel"},{id:"33",categoryId:"insights",title:"Consistency Index",subtitle:"stability meter",tags:["CONCEPT"],previewId:"pv_cpt_consistency_index"},{id:"34",categoryId:"insights",title:"Growth Regimes",subtitle:"phases blocks",tags:["CONCEPT"],previewId:"pv_cpt_growth_regimes"},{id:"35",categoryId:"insights",title:"Player Archetypes",subtitle:"3 archetype cards",tags:["CONCEPT"],previewId:"pv_cpt_archetypes"},{id:"36",categoryId:"insights",title:"Benchmark Stack",subtitle:"compare layers",tags:["CONCEPT"],previewId:"pv_cpt_benchmark_stack"},{id:"37",categoryId:"insights",title:"KPI Storyboard",subtitle:"3-step insight",tags:["CONCEPT"],previewId:"pv_cpt_kpi_storyboard"},{id:"38",categoryId:"insights",title:"Efficiency Frontier",subtitle:"frontier curve",tags:["CONCEPT"],previewId:"pv_cpt_efficiency_frontier"},{id:"39",categoryId:"insights",title:"Progress Forecast Bands",subtitle:"band forecast",tags:["CONCEPT"],previewId:"pv_cpt_forecast_bands"},{id:"40",categoryId:"insights",title:"Opportunity Radar",subtitle:"radar points",tags:["CONCEPT"],previewId:"pv_cpt_opportunity_radar"}]},{id:"loops",title:"Gamification Loops",description:"Cadence, multipliers, chains, caps, and rewards.",items:[{id:"41",categoryId:"loops",title:"Daily/Weekly Loop",subtitle:"cadence map",tags:["CONCEPT"],previewId:"pv_cpt_cadence_loop"},{id:"42",categoryId:"loops",title:"Reward Multipliers",subtitle:"stacked multipliers",tags:["CONCEPT"],previewId:"pv_cpt_multiplier_stack"},{id:"43",categoryId:"loops",title:"Quest Chain System",subtitle:"chain gates",tags:["CONCEPT"],previewId:"pv_cpt_chain_gates"},{id:"44",categoryId:"loops",title:"Badge Progression",subtitle:"ranked badges",tags:["CONCEPT"],previewId:"pv_cpt_badge_progression"},{id:"45",categoryId:"loops",title:"Streak Protection",subtitle:"shield mechanic",tags:["CONCEPT"],previewId:"pv_cpt_streak_shield"},{id:"46",categoryId:"loops",title:"Catch-up Mechanic",subtitle:"boost for low",tags:["CONCEPT"],previewId:"pv_cpt_catchup"},{id:"47",categoryId:"loops",title:"Event Spike Model",subtitle:"event peaks",tags:["CONCEPT"],previewId:"pv_cpt_event_spikes"},{id:"48",categoryId:"loops",title:"Soft Cap Concept",subtitle:"diminishing returns",tags:["CONCEPT"],previewId:"pv_cpt_soft_cap"},{id:"49",categoryId:"loops",title:"Reward Choice Wheel",subtitle:"choose 1 of 3",tags:["CONCEPT"],previewId:"pv_cpt_choice_wheel"},{id:"50",categoryId:"loops",title:"Meta Progress Passport",subtitle:"stamps journey",tags:["CONCEPT"],previewId:"pv_cpt_passport"}]}],pc=({label:s})=>t.jsx("span",{className:"g5-pill",children:s}),tl=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g5-bar tone-${e}`,style:{width:s,height:n}}),T0=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g5-dot tone-${s}`,style:{width:e,height:e}}),Ebe={pv_cpt_prestige_loop:()=>t.jsx("div",{className:"g5-preview g5-loop",children:["Earn","Reset","Boost"].map((s,e)=>t.jsxs("div",{className:"g5-loop-node",children:[t.jsx("span",{className:"g5-loop-label",children:s}),t.jsx("div",{className:`g5-loop-arrow ${e===2?"end":""}`})]},s))}),pv_cpt_season_arc:()=>t.jsxs("div",{className:"g5-preview g5-arc",children:[t.jsx("div",{className:"g5-arc-track",children:t.jsx("div",{className:"g5-arc-progress",style:{width:"70%"}})}),t.jsxs("div",{className:"g5-row g5-space-between g5-mini",children:[t.jsx("span",{children:"Start"}),t.jsx("span",{children:"Season"}),t.jsx("span",{children:"Final"})]})]}),pv_cpt_economy_flow:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-flow-card",children:"Earn"}),t.jsx("div",{className:"g5-flow-arrow"}),t.jsx("div",{className:"g5-flow-card alt",children:"Spend"}),t.jsx("div",{className:"g5-flow-arrow"}),t.jsx("div",{className:"g5-flow-card",children:"Upgrade"})]}),pv_cpt_synergy_web:()=>t.jsxs("div",{className:"g5-preview g5-web",children:[t.jsx("div",{className:"g5-web-node center"}),Array.from({length:5}).map((s,e)=>t.jsx("div",{className:`g5-web-node arm-${e}`},e))]}),pv_cpt_difficulty_curve:()=>t.jsxs("div",{className:"g5-preview g5-curve",children:[t.jsx("div",{className:"g5-curve-line"}),t.jsx("div",{className:"g5-dot tone-accent",style:{left:"25%"}}),t.jsx("div",{className:"g5-dot tone-warning",style:{left:"70%"}})]}),pv_cpt_prob_bands:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Common","Rare","Epic"].map((s,e)=>t.jsxs("div",{className:"g5-band",children:[t.jsx("span",{className:"g5-band-label",children:s}),t.jsx("div",{className:`g5-band-fill tone-${e===2?"warning":"accent"}`,style:{width:`${40+e*20}%`}})]},s))}),pv_cpt_milestone_radar:()=>t.jsxs("div",{className:"g5-preview g5-radar",children:[t.jsx("div",{className:"g5-radar-ring outer"}),t.jsx("div",{className:"g5-radar-ring inner"}),t.jsx(T0,{tone:"warning",size:10}),t.jsx(T0,{tone:"accent",size:8}),t.jsx(T0,{tone:"success",size:8})]}),pv_cpt_collection_map:()=>t.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g5-zone ${e<3?"filled":""}`},e))}),pv_cpt_flywheel:()=>t.jsxs("div",{className:"g5-preview g5-flywheel",children:[t.jsx("div",{className:"g5-flywheel-ring"}),t.jsx("div",{className:"g5-flywheel-arrow a1"}),t.jsx("div",{className:"g5-flywheel-arrow a2"}),t.jsx("div",{className:"g5-flywheel-arrow a3"})]}),pv_cpt_reputation_ladder:()=>t.jsx("div",{className:"g5-preview g5-ladder",children:[0,1,2,3].map(s=>t.jsxs("div",{className:`g5-tier ${s<2?"active":""}`,children:["Tier ",s+1]},s))}),pv_cpt_opt_triangle:()=>t.jsxs("div",{className:"g5-preview g5-triangle",children:[t.jsx("div",{className:"g5-tri-corner top",children:"Speed"}),t.jsx("div",{className:"g5-tri-corner left",children:"Quality"}),t.jsx("div",{className:"g5-tri-corner right",children:"Cost"}),t.jsx("div",{className:"g5-tri-fill"})]}),pv_cpt_allocation_bars:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Gold","Gems","Energy"].map((s,e)=>t.jsxs("div",{className:"g5-row g5-gap-sm g5-center",children:[t.jsx("span",{className:"g5-label",children:s}),t.jsx(tl,{width:`${30+e*15}%`,tone:e===1?"warning":"accent",height:6})]},s))}),pv_cpt_upgrade_tree:()=>t.jsxs("div",{className:"g5-preview g5-tree",children:[t.jsx("div",{className:"g5-tree-node root"}),t.jsxs("div",{className:"g5-tree-branch left",children:[t.jsx("div",{className:"g5-tree-node"}),t.jsx("div",{className:"g5-tree-node"})]}),t.jsxs("div",{className:"g5-tree-branch right",children:[t.jsx("div",{className:"g5-tree-node"}),t.jsx("div",{className:"g5-tree-node"})]})]}),pv_cpt_risk_reward_matrix:()=>t.jsxs("div",{className:"g5-preview g5-matrix",children:[t.jsx("div",{className:"g5-matrix-quad high",children:"High Reward"}),t.jsx("div",{className:"g5-matrix-quad",children:"Low Reward"}),t.jsx("div",{className:"g5-matrix-quad",children:"Low Risk"}),t.jsx("div",{className:"g5-matrix-quad warn",children:"High Risk"})]}),pv_cpt_eta_blocks:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-xs",children:["10d","20d","30d"].map((s,e)=>t.jsx("div",{className:`g5-eta-block ${e===2?"active":""}`,children:s},s))}),pv_cpt_rival_distance_map:()=>t.jsxs("div",{className:"g5-preview g5-row g5-center g5-gap-sm",children:[t.jsx("div",{className:"g5-distance",children:t.jsxs("div",{className:"g5-distance-line",children:[t.jsx("div",{className:"g5-distance-marker you",style:{left:"22%"}}),t.jsx("div",{className:"g5-distance-marker rival",style:{left:"62%"}})]})}),t.jsx(pc,{label:"Gap 40%"})]}),pv_cpt_power_spike_timeline:()=>t.jsxs("div",{className:"g5-preview g5-col g5-gap-xxs",children:[t.jsx("div",{className:"g5-spike-line",children:[20,60,80].map((s,e)=>t.jsx("div",{className:"g5-spike",style:{left:`${s}%`},children:t.jsx("div",{className:`g5-spike-pin ${e===2?"strong":""}`})},s))}),t.jsx("div",{className:"g5-mini",children:"Power spikes"})]}),pv_cpt_weekly_board:()=>t.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:["Focus","Risks","Wins"].map(s=>t.jsxs("div",{className:"g5-cardlet",children:[t.jsx(tl,{width:"60%"}),t.jsx(tl,{width:"40%",tone:"muted"})]},s))}),pv_cpt_breakpoints:()=>t.jsx("div",{className:"g5-preview g5-breakpoints",children:[25,50,75].map(s=>t.jsx("div",{className:"g5-breakpoint",style:{left:`${s}%`},children:t.jsx("span",{children:s})},s))}),pv_cpt_scenarios_abc:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:["A","B","C"].map((s,e)=>t.jsxs("div",{className:`g5-scenario ${e===1?"active":""}`,children:[t.jsx("div",{className:"g5-scenario-title",children:s}),t.jsx(tl,{width:`${40+e*10}%`,tone:"accent"})]},s))}),pv_cpt_guild_health:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[[50,70,40].map((s,e)=>t.jsx("div",{className:"g5-pillar",children:t.jsx("div",{className:"g5-pillar-fill",style:{height:`${s}%`}})},e)),t.jsx(pc,{label:"Guild Health"})]}),pv_cpt_equity_meter:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-meter",children:t.jsx("div",{className:"g5-meter-fill",style:{width:"56%"}})}),t.jsx("span",{className:"g5-mini",children:"Fair"})]}),pv_cpt_role_coverage:()=>t.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:["Tank","Heal","DPS"].map((s,e)=>t.jsxs("div",{className:"g5-role",children:[t.jsx("div",{className:"g5-role-bar",style:{width:`${40+e*15}%`}}),t.jsx("span",{className:"g5-mini",children:s})]},s))}),pv_cpt_alliance_graph:()=>t.jsxs("div",{className:"g5-preview g5-network",children:[[0,1,2,3,4].map(s=>t.jsx("div",{className:`g5-node n${s}`},s)),t.jsx("div",{className:"g5-link l1"}),t.jsx("div",{className:"g5-link l2"}),t.jsx("div",{className:"g5-link l3"})]}),pv_cpt_recruit_funnel:()=>t.jsxs("div",{className:"g5-preview g5-funnel",children:[t.jsx("div",{className:"g5-funnel-layer big"}),t.jsx("div",{className:"g5-funnel-layer mid"}),t.jsx("div",{className:"g5-funnel-layer small"})]}),pv_cpt_rhythm_wheel:()=>t.jsx("div",{className:"g5-preview g5-wheel",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{className:`g5-wheel-dot ${e%2===0?"active":""}`},e))}),pv_cpt_leadership_zones:()=>t.jsxs("div",{className:"g5-preview g5-zones",children:[t.jsx("div",{className:"g5-zone-block warm"}),t.jsx("div",{className:"g5-zone-block cool"}),t.jsx("div",{className:"g5-zone-block neutral"})]}),pv_cpt_social_momentum:()=>t.jsxs("div",{className:"g5-preview g5-linechart",children:[t.jsx("div",{className:"g5-line-path"}),t.jsx("div",{className:"g5-line-marker",style:{left:"70%"}})]}),pv_cpt_collab_contract:()=>t.jsxs("div",{className:"g5-preview g5-contract",children:[t.jsx(tl,{width:"70%"}),t.jsx(tl,{width:"40%",tone:"muted"}),t.jsx("div",{className:"g5-signature"})]}),pv_cpt_challenge_pool:()=>t.jsxs("div",{className:"g5-preview g5-pool",children:[t.jsx("div",{className:"g5-pool-water"}),t.jsx("div",{className:"g5-goal-chip",children:"Goal A"}),t.jsx("div",{className:"g5-goal-chip",children:"Goal B"})]}),pv_cpt_signal_noise:()=>t.jsxs("div",{className:"g5-preview g5-signal",children:[t.jsx("div",{className:"g5-signal-band strong"}),t.jsx("div",{className:"g5-signal-band weak"}),t.jsx("div",{className:"g5-filter"})]}),pv_cpt_outlier_panel:()=>t.jsx("div",{className:"g5-preview g5-scatter",children:Array.from({length:8}).map((s,e)=>t.jsx("span",{className:`g5-scatter-dot ${e===7?"alert":""}`},e))}),pv_cpt_consistency_index:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-gauge",children:t.jsx("div",{className:"g5-gauge-fill",style:{width:"72%"}})}),t.jsx(pc,{label:"Stable"})]}),pv_cpt_growth_regimes:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Launch","Scale","Mature"].map((s,e)=>t.jsxs("div",{className:"g5-phase",children:[t.jsx("div",{className:`g5-phase-box ${e===1?"active":""}`}),t.jsx("span",{className:"g5-mini",children:s})]},s))}),pv_cpt_archetypes:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:["Explorer","Achiever","Social"].map(s=>t.jsxs("div",{className:"g5-arch-card",children:[t.jsx(tl,{width:"60%"}),t.jsx("div",{className:"g5-arch-badge",children:s[0]})]},s))}),pv_cpt_benchmark_stack:()=>t.jsxs("div",{className:"g5-preview g5-stack",children:[t.jsx("div",{className:"g5-stack-layer"}),t.jsx("div",{className:"g5-stack-layer mid"}),t.jsx("div",{className:"g5-stack-layer top"})]}),pv_cpt_kpi_storyboard:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:[1,2,3].map(s=>t.jsxs("div",{className:"g5-story-card",children:[t.jsxs("span",{className:"g5-story-step",children:["Step ",s]}),t.jsx(tl,{width:"50%"})]},s))}),pv_cpt_efficiency_frontier:()=>t.jsxs("div",{className:"g5-preview g5-frontier",children:[t.jsx("div",{className:"g5-frontier-curve"}),t.jsx("div",{className:"g5-frontier-dot"})]}),pv_cpt_forecast_bands:()=>t.jsxs("div",{className:"g5-preview g5-bands",children:[t.jsx("div",{className:"g5-band-line upper"}),t.jsx("div",{className:"g5-band-line lower"}),t.jsx("div",{className:"g5-band-fill"})]}),pv_cpt_opportunity_radar:()=>t.jsx("div",{className:"g5-preview g5-radar-grid",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{className:"g5-radar-dot"},e))}),pv_cpt_cadence_loop:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-loop-mini daily",children:"Daily"}),t.jsx("div",{className:"g5-loop-mini weekly active",children:"Weekly"}),t.jsx("div",{className:"g5-loop-mini monthly",children:"Monthly"})]}),pv_cpt_multiplier_stack:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:[1,2,3].map(s=>t.jsxs("div",{className:"g5-multiplier",children:[t.jsxs("span",{children:["x",s]}),t.jsx("div",{className:"g5-multi-bar",style:{width:`${s*20+30}%`}})]},s))}),pv_cpt_chain_gates:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-xs g5-center",children:["Q1","Q2","Q3","Boss"].map((s,e)=>t.jsxs(X.Fragment,{children:[t.jsx("div",{className:`g5-gate ${e===3?"final":""}`,children:s}),e<3&&t.jsx("div",{className:"g5-gate-line"})]},s))}),pv_cpt_badge_progression:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:["Bronze","Silver","Gold"].map((s,e)=>t.jsx("div",{className:`g5-badge ${e===2?"shine":""}`,children:s[0]},s))}),pv_cpt_streak_shield:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-shield",children:"Streak"}),t.jsx(pc,{label:"Protected"})]}),pv_cpt_catchup:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-boost-bar",children:t.jsx("div",{className:"g5-boost-fill",style:{width:"45%"}})}),t.jsx(pc,{label:"+Catch Up"})]}),pv_cpt_event_spikes:()=>t.jsxs("div",{className:"g5-preview g5-col g5-gap-xxs",children:[t.jsx("div",{className:"g5-spike-line",children:Array.from({length:5}).map((s,e)=>t.jsx("div",{className:"g5-spike event",style:{left:`${e*20}%`,height:`${10+e*8}px`}},e))}),t.jsx("span",{className:"g5-mini",children:"Events"})]}),pv_cpt_soft_cap:()=>t.jsxs("div",{className:"g5-preview g5-softcap",children:[t.jsx("div",{className:"g5-softcap-line"}),t.jsx("div",{className:"g5-softcap-cap",style:{left:"65%"}})]}),pv_cpt_choice_wheel:()=>t.jsx("div",{className:"g5-preview g5-wheel-choice",children:["A","B","C"].map((s,e)=>t.jsx("div",{className:`g5-choice ${e===0?"active":""}`,children:s},s))}),pv_cpt_passport:()=>t.jsx("div",{className:"g5-preview g5-passport",children:["Zone 1","Zone 2","Zone 3"].map((s,e)=>t.jsx("div",{className:`g5-stamp ${e<2?"filled":""}`,children:s},s))})},Pbe=s=>{const e=Ebe[s];return e?e():t.jsx("div",{className:"g5-preview g5-fallback"})};function Rbe(){return t.jsxs("div",{className:"g5-root",children:[t.jsxs("header",{className:"g5-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 5"}),t.jsx("p",{className:"g5-sub",children:"50 concept sketches across macro systems, planning, social, insights, and loops."})]}),t.jsx("div",{className:"g5-pill-row",children:t.jsx(pc,{label:"CONCEPT"})})]}),t.jsx("nav",{className:"g5-toc",children:VC.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g5-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g5-sections",children:VC.map(s=>t.jsxs("details",{className:"g5-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g5-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g5-section-title",children:s.title}),t.jsx("div",{className:"g5-section-sub",children:s.description})]}),t.jsxs("span",{className:"g5-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g5-grid",children:s.items.map(e=>t.jsxs("div",{className:"g5-card",children:[t.jsxs("div",{className:"g5-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g5-card-title",children:e.title}),t.jsx("div",{className:"g5-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g5-pill-row",children:(e.tags||["CONCEPT"]).map(n=>t.jsx(pc,{label:n},n))})]}),Pbe(e.previewId)]},e.id))})]},s.id))})]})}const UC=[{id:"profile",title:"Profile Widgets",description:"Compact profile cards, KPIs, and progression snippets.",items:[{id:"1",categoryId:"profile",title:"Hero Panel Mini",subtitle:"avatar + 3 KPIs",tags:["MOCK"],previewId:"pv_mock_hero_panel_mini"},{id:"2",categoryId:"profile",title:"Attribute Bars Card",subtitle:"5 bars + markers",tags:["MOCK"],previewId:"pv_mock_attr_bars"},{id:"3",categoryId:"profile",title:"Scan Freshness Badge",subtitle:"age + color",tags:["MOCK"],previewId:"pv_mock_scan_freshness"},{id:"4",categoryId:"profile",title:"Profile Tabs Strip",subtitle:"overview/scans/etc",tags:["MOCK"],previewId:"pv_mock_profile_tabs"},{id:"5",categoryId:"profile",title:"Linked Characters Row",subtitle:"tabs switch",tags:["MOCK"],previewId:"pv_mock_linked_chars"},{id:"6",categoryId:"profile",title:"Snapshot Compare Card",subtitle:"then vs now",tags:["MOCK"],previewId:"pv_mock_snapshot_compare"},{id:"7",categoryId:"profile",title:"Rank Delta Inline",subtitle:"rank + arrows",tags:["MOCK"],previewId:"pv_mock_rank_inline"},{id:"8",categoryId:"profile",title:"Scrapbook Completion Tile",subtitle:"% + ring",tags:["MOCK"],previewId:"pv_mock_scrapbook_tile"},{id:"9",categoryId:"profile",title:"Legendary Counter Card",subtitle:"count + rarity",tags:["MOCK"],previewId:"pv_mock_legendary_counter"},{id:"10",categoryId:"profile",title:"Progress History Mini",subtitle:"tiny history list",tags:["MOCK"],previewId:"pv_mock_history_mini"}]},{id:"guild",title:"Guild Widgets",description:"Guild header, queues, planner tiles, and readiness snapshots.",items:[{id:"11",categoryId:"guild",title:"Guild Header Mock",subtitle:"emblem + KPIs",tags:["MOCK"],previewId:"pv_mock_guild_header"},{id:"12",categoryId:"guild",title:"Member List Row",subtitle:"role + last scan",tags:["MOCK"],previewId:"pv_mock_member_row"},{id:"13",categoryId:"guild",title:"Recruitment Card",subtitle:"open slots",tags:["MOCK"],previewId:"pv_mock_recruitment"},{id:"14",categoryId:"guild",title:"Fusion Planner Tile",subtitle:"two guild compare",tags:["MOCK"],previewId:"pv_mock_fusion_tile"},{id:"15",categoryId:"guild",title:"Waitlist Panel",subtitle:"queue preview",tags:["MOCK"],previewId:"pv_mock_waitlist_panel"},{id:"16",categoryId:"guild",title:"Guild Activity Panel",subtitle:"last 7d",tags:["MOCK"],previewId:"pv_mock_guild_activity"},{id:"17",categoryId:"guild",title:"Guild Benchmarks",subtitle:"avg markers",tags:["MOCK"],previewId:"pv_mock_guild_benchmarks"},{id:"18",categoryId:"guild",title:"War Readiness Mock",subtitle:"ready/not",tags:["MOCK"],previewId:"pv_mock_war_readiness2"},{id:"19",categoryId:"guild",title:"Treasury Summary",subtitle:"treasury KPIs",tags:["MOCK"],previewId:"pv_mock_treasury_summary"},{id:"20",categoryId:"guild",title:"Guild Notes Card",subtitle:"pinned notes",tags:["MOCK"],previewId:"pv_mock_guild_notes"}]},{id:"tables",title:"Top Lists / Tables",description:"Tables, filters, timers, pagination, and compare bars.",items:[{id:"21",categoryId:"tables",title:"Toplist Table Card",subtitle:"header + rows",tags:["MOCK"],previewId:"pv_mock_toplist_table"},{id:"22",categoryId:"tables",title:"Rank Change Column",subtitle:" deltas",tags:["MOCK"],previewId:"pv_mock_rank_change_col"},{id:"23",categoryId:"tables",title:"Server Filter Sidebar",subtitle:"filters stack",tags:["MOCK"],previewId:"pv_mock_server_filters"},{id:"24",categoryId:"tables",title:"Class Filter Chips",subtitle:"class chips",tags:["MOCK"],previewId:"pv_mock_class_chips"},{id:"25",categoryId:"tables",title:"Snapshot Timer Pill",subtitle:"next refresh",tags:["MOCK"],previewId:"pv_mock_snapshot_timer"},{id:"26",categoryId:"tables",title:"Pagination Footer Mock",subtitle:"page controls",tags:["MOCK"],previewId:"pv_mock_pagination_footer"},{id:"27",categoryId:"tables",title:"Sticky Header Mock",subtitle:"sticky header row",tags:["MOCK"],previewId:"pv_mock_sticky_header"},{id:"28",categoryId:"tables",title:"Row Expand Detail",subtitle:"expand drawer",tags:["MOCK"],previewId:"pv_mock_row_expand"},{id:"29",categoryId:"tables",title:"Export Button Strip",subtitle:"CSV/Excel",tags:["MOCK"],previewId:"pv_mock_export_strip"},{id:"30",categoryId:"tables",title:"Compare Selected Rows",subtitle:"compare bar",tags:["MOCK"],previewId:"pv_mock_compare_bar"}]},{id:"upload",title:"Upload / Import UX",description:"Queues, validation, progress, notices, and summaries.",items:[{id:"31",categoryId:"upload",title:"Upload Queue Card",subtitle:"pending items",tags:["MOCK"],previewId:"pv_mock_upload_queue"},{id:"32",categoryId:"upload",title:"Dedup Result Toast",subtitle:"created/duplicate",tags:["MOCK"],previewId:"pv_mock_dedup_toast"},{id:"33",categoryId:"upload",title:"Dry-Run Validation Panel",subtitle:"errors list",tags:["MOCK"],previewId:"pv_mock_validation_panel"},{id:"34",categoryId:"upload",title:"Progress Upload Meter",subtitle:"step progress",tags:["MOCK"],previewId:"pv_mock_upload_progress"},{id:"35",categoryId:"upload",title:"Selected Entities Counter",subtitle:"players/guilds",tags:["MOCK"],previewId:"pv_mock_selected_counter"},{id:"36",categoryId:"upload",title:"Token TTL Notice",subtitle:"1015min",tags:["MOCK"],previewId:"pv_mock_ttl_notice"},{id:"37",categoryId:"upload",title:"Privacy Preview Box",subtitle:"what gets sent",tags:["MOCK"],previewId:"pv_mock_privacy_preview"},{id:"38",categoryId:"upload",title:"Error Log Card",subtitle:"recent errors",tags:["MOCK"],previewId:"pv_mock_error_log"},{id:"39",categoryId:"upload",title:"Retry/Backoff Banner",subtitle:"rate limit",tags:["MOCK"],previewId:"pv_mock_retry_banner"},{id:"40",categoryId:"upload",title:"Success Summary Panel",subtitle:"import summary",tags:["MOCK"],previewId:"pv_mock_success_summary"}]},{id:"admin",title:"Admin/Control Panel Mocks",description:"Roles, feature toggles, access groups, and moderation queues.",items:[{id:"41",categoryId:"admin",title:"Roles Context Menu",subtitle:"role switch UI",tags:["MOCK"],previewId:"pv_mock_roles_menu"},{id:"42",categoryId:"admin",title:"Feature Gate Table",subtitle:"toggles rows",tags:["MOCK"],previewId:"pv_mock_feature_table"},{id:"43",categoryId:"admin",title:"Access Group Card",subtitle:"group members",tags:["MOCK"],previewId:"pv_mock_access_group"},{id:"44",categoryId:"admin",title:"Audit Log Row",subtitle:"who changed what",tags:["MOCK"],previewId:"pv_mock_audit_row"},{id:"45",categoryId:"admin",title:"Error Monitor Tile",subtitle:"status lights",tags:["MOCK"],previewId:"pv_mock_error_monitor"},{id:"46",categoryId:"admin",title:"API Status Card",subtitle:"endpoint health",tags:["MOCK"],previewId:"pv_mock_api_status"},{id:"47",categoryId:"admin",title:"Seed Token Warning",subtitle:"internal endpoint",tags:["MOCK"],previewId:"pv_mock_seed_warning"},{id:"48",categoryId:"admin",title:"Moderation Queue",subtitle:"approve/deny",tags:["MOCK"],previewId:"pv_mock_mod_queue"},{id:"49",categoryId:"admin",title:"Feedback Inbox Card",subtitle:"decision buttons",tags:["MOCK"],previewId:"pv_mock_feedback_inbox"},{id:"50",categoryId:"admin",title:"Release Toggle Panel",subtitle:"staging/prod",tags:["MOCK"],previewId:"pv_mock_release_toggle"}]}],ds=({label:s})=>t.jsx("span",{className:"g6-pill",children:s}),Ot=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g6-bar tone-${e}`,style:{width:s,height:n}}),zC=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g6-dot tone-${s}`,style:{width:e,height:e}}),Lbe={pv_mock_hero_panel_mini:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-avatar big",children:"A"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"70%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ds,{label:"XP 42k"}),t.jsx(ds,{label:"Lvl 58"}),t.jsx(ds,{label:"WR 62%"})]})]})]}),pv_mock_attr_bars:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["STR","DEX","INT","VIT","LCK"].map((s,e)=>t.jsxs("div",{className:"g6-row g6-gap-xs g6-center",children:[t.jsx("span",{className:"g6-label",children:s}),t.jsx(Ot,{width:`${35+e*12}%`,tone:e%2===0?"accent":"warning",height:6}),t.jsx(zC,{tone:"muted"})]},s))}),pv_mock_scan_freshness:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge fresh",children:"3h ago"}),t.jsx(Ot,{width:"50%"})]}),pv_mock_profile_tabs:()=>t.jsx("div",{className:"g6-preview g6-row g6-gap-xs",children:["Overview","Scans","Gear","Notes"].map((s,e)=>t.jsx("div",{className:`g6-tab ${e===1?"active":""}`,children:s},s))}),pv_mock_linked_chars:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[["Main","Alt 1","Alt 2"].map((s,e)=>t.jsx("div",{className:`g6-chip ${e===0?"active":""}`,children:s},s)),t.jsx("div",{className:"g6-arrow-right"})]}),pv_mock_snapshot_compare:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Then"}),t.jsx(Ot,{width:"40%",tone:"muted"})]}),t.jsx("div",{className:"g6-compare-arrow"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Now"}),t.jsx(Ot,{width:"70%",tone:"accent"})]})]}),pv_mock_rank_inline:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ds,{label:"#24"}),t.jsx(ds,{label:" 3"}),t.jsx(ds,{label:" 1"})]}),pv_mock_scrapbook_tile:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-ring",children:[t.jsx("div",{className:"g6-ring-fill"}),t.jsx("div",{className:"g6-ring-hole",children:"68%"})]}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"60%"}),t.jsx(Ot,{width:"35%",tone:"muted"})]})]}),pv_mock_legendary_counter:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-legendary",children:"12"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Legendary"}),t.jsx(Ot,{width:"70%",tone:"warning"})]})]}),pv_mock_history_mini:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["+12 Lvl","+2 shards","Joined guild"].map((s,e)=>t.jsxs("div",{className:"g6-history-row",children:[t.jsx(zC,{tone:"accent",size:8}),t.jsx("span",{children:s}),t.jsxs("span",{className:"g6-time",children:[e+1,"d"]})]},s))}),pv_mock_guild_header:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-emblem"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ds,{label:"Lvl 12"}),t.jsx(ds,{label:"42 members"})]})]})]}),pv_mock_member_row:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-avatar",children:"M"}),t.jsx(Ot,{width:"50%"}),t.jsx(ds,{label:"Officer"}),t.jsx(ds,{label:"Scan 1d"})]}),pv_mock_recruitment:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ds,{label:"Open 3"}),t.jsx(ds,{label:"Role: DPS"})]})]}),pv_mock_fusion_tile:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"40%"}),t.jsx(ds,{label:"Guild A"})]}),t.jsx("div",{className:"g6-merge"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"40%"}),t.jsx(ds,{label:"Guild B"})]})]}),pv_mock_waitlist_panel:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Rae","Noah","Ivy"].map((s,e)=>t.jsxs("div",{className:"g6-wait-row",children:[t.jsx("span",{className:"g6-badge muted",children:e+1}),t.jsx(Ot,{width:`${40+e*15}%`})]},s))}),pv_mock_guild_activity:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-heat",children:Array.from({length:7}).map((s,e)=>t.jsx("span",{style:{height:`${10+e*4}px`}},e))}),t.jsx(ds,{label:"7d"})]}),pv_mock_guild_benchmarks:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Avg","Target","You"].map((s,e)=>t.jsxs("div",{className:"g6-row g6-gap-xs g6-center",children:[t.jsx("span",{className:"g6-mini",children:s}),t.jsx("div",{className:"g6-marker-line",children:t.jsx("div",{className:"g6-marker",style:{left:`${30+e*20}%`}})})]},s))}),pv_mock_war_readiness2:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[t.jsx(ds,{label:"Ready"}),t.jsx(ds,{label:"Needs Gear"}),t.jsx(ds,{label:"Needs Scans"})]}),pv_mock_treasury_summary:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Gold"}),t.jsx(Ot,{width:"70%",tone:"warning"})]}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Gems"}),t.jsx(Ot,{width:"50%",tone:"accent"})]})]}),pv_mock_guild_notes:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx("div",{className:"g6-note-pin"}),t.jsx(Ot,{width:"65%"}),t.jsx(Ot,{width:"40%",tone:"muted"})]}),pv_mock_toplist_table:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsxs("div",{className:"g6-table-head",children:[t.jsx(Ot,{width:"30%"}),t.jsx(Ot,{width:"20%"}),t.jsx(Ot,{width:"25%"})]}),Array.from({length:3}).map((s,e)=>t.jsx("div",{className:"g6-table-row",children:t.jsx(Ot,{width:`${60-e*10}%`,tone:"muted",height:6})},e))]}),pv_mock_rank_change_col:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[t.jsx(ds,{label:" 8"}),t.jsx(ds,{label:" 2"}),t.jsx(Ot,{width:"40%"})]}),pv_mock_server_filters:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["EU","US","INT"].map((s,e)=>t.jsxs("div",{className:"g6-filter-row",children:[t.jsx("input",{type:"checkbox",checked:e===0,readOnly:!0}),t.jsx("span",{children:s})]},s))}),pv_mock_class_chips:()=>t.jsx("div",{className:"g6-preview g6-row g6-gap-xs g6-wrap",children:["Warrior","Mage","Hunter","Cleric"].map((s,e)=>t.jsx("span",{className:`g6-chip ${e===2?"active":""}`,children:s},s))}),pv_mock_snapshot_timer:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ds,{label:"Refresh in 03:12"}),t.jsx("div",{className:"g6-ring tiny",children:t.jsx("div",{className:"g6-ring-fill"})})]}),pv_mock_pagination_footer:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[t.jsx("span",{className:"g6-page",children:"Prev"}),[1,2,3].map(s=>t.jsx("span",{className:`g6-page ${s===2?"active":""}`,children:s},s)),t.jsx("span",{className:"g6-page",children:"Next"})]}),pv_mock_sticky_header:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsxs("div",{className:"g6-sticky-head",children:[t.jsx(Ot,{width:"40%"}),t.jsx(Ot,{width:"20%",tone:"muted"})]}),t.jsx("div",{className:"g6-table-row",children:t.jsx(Ot,{width:"70%",tone:"muted",height:6})})]}),pv_mock_row_expand:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsxs("div",{className:"g6-expand-row",children:[t.jsx("span",{className:"g6-chevron"}),t.jsx(Ot,{width:"50%"})]}),t.jsxs("div",{className:"g6-expand-body",children:[t.jsx(Ot,{width:"60%",tone:"muted"}),t.jsx(Ot,{width:"40%",tone:"muted"})]})]}),pv_mock_export_strip:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs",children:[t.jsx("button",{className:"g6-btn ghost",children:"CSV"}),t.jsx("button",{className:"g6-btn ghost",children:"Excel"}),t.jsx("button",{className:"g6-btn solid",children:"Export"})]}),pv_mock_compare_bar:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(Ot,{width:"60%",tone:"accent"}),t.jsx(ds,{label:"2 selected"})]}),pv_mock_upload_queue:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["players.csv","guilds.csv"].map(s=>t.jsxs("div",{className:"g6-queue-row",children:[t.jsx(Ot,{width:"50%"}),t.jsx("span",{className:"g6-mini",children:s})]},s))}),pv_mock_dedup_toast:()=>t.jsxs("div",{className:"g6-preview g6-toast",children:[t.jsx("span",{className:"g6-dot tone-success"}),t.jsx("span",{children:"3 created / 1 duplicate"})]}),pv_mock_validation_panel:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Missing name","Invalid server","Bad class"].map(s=>t.jsxs("div",{className:"g6-error-row",children:[t.jsx("span",{className:"g6-badge warn",children:"!"}),t.jsx("span",{children:s})]},s))}),pv_mock_upload_progress:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx("div",{className:"g6-steps",children:[1,2,3,4].map((s,e)=>t.jsx("div",{className:`g6-step ${e<2?"done":e===2?"active":""}`},s))}),t.jsx(Ot,{width:"65%"})]}),pv_mock_selected_counter:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ds,{label:"Players 32"}),t.jsx(ds,{label:"Guilds 4"}),t.jsx(ds,{label:"Servers 2"})]}),pv_mock_ttl_notice:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge warn",children:"TTL 12m"}),t.jsx(Ot,{width:"50%",tone:"warning"})]}),pv_mock_privacy_preview:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Sending"}),t.jsx(Ot,{width:"60%"}),t.jsx(Ot,{width:"40%",tone:"muted"})]}),pv_mock_error_log:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Timeout","Bad payload"].map(s=>t.jsxs("div",{className:"g6-error-row",children:[t.jsx("span",{className:"g6-badge danger",children:"!"}),t.jsx("span",{children:s})]},s))}),pv_mock_retry_banner:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge warn",children:"Rate limit"}),t.jsx("button",{className:"g6-btn ghost",children:"Retry"}),t.jsx("button",{className:"g6-btn ghost",children:"Backoff"})]}),pv_mock_success_summary:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"70%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ds,{label:"Created 42"}),t.jsx(ds,{label:"Duplicates 3"})]})]}),pv_mock_roles_menu:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Viewer","Editor","Admin"].map((s,e)=>t.jsxs("div",{className:`g6-menu-row ${e===2?"active":""}`,children:[t.jsx("span",{children:s}),e===2&&t.jsx("span",{className:"g6-check",children:""})]},s))}),pv_mock_feature_table:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Feature A","Feature B","Feature C"].map((s,e)=>t.jsxs("div",{className:"g6-feature-row",children:[t.jsx(Ot,{width:"40%"}),t.jsx("div",{className:`g6-toggle ${e===1?"on":""}`,children:t.jsx("div",{className:"g6-toggle-thumb"})})]},s))}),pv_mock_access_group:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx("div",{className:"g6-avatar small",children:"A"}),t.jsx("div",{className:"g6-avatar small",children:"B"}),t.jsx("div",{className:"g6-avatar small",children:"C"})]})]}),pv_mock_audit_row:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(Ot,{width:"40%"}),t.jsx(ds,{label:"by Admin"}),t.jsx(ds,{label:"2h ago"})]}),pv_mock_error_monitor:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[["OK","WARN","FAIL"].map((s,e)=>t.jsx("div",{className:`g6-status ${e===2?"danger":e===1?"warn":"ok"}`},s)),t.jsx(Ot,{width:"40%"})]}),pv_mock_api_status:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ds,{label:"/api/status"}),t.jsx("div",{className:"g6-dot tone-success"}),t.jsx("div",{className:"g6-mini",children:"200 OK"})]}),pv_mock_seed_warning:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge danger",children:"Internal"}),t.jsx(Ot,{width:"50%",tone:"danger"})]}),pv_mock_mod_queue:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Report #45","Report #46"].map(s=>t.jsxs("div",{className:"g6-mod-row",children:[t.jsx(Ot,{width:"50%"}),t.jsxs("div",{className:"g6-row g6-gap-xxs",children:[t.jsx("button",{className:"g6-btn ghost",children:"Approve"}),t.jsx("button",{className:"g6-btn ghost",children:"Deny"})]})]},s))}),pv_mock_feedback_inbox:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Ot,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx("button",{className:"g6-btn ghost",children:"Keep"}),t.jsx("button",{className:"g6-btn ghost",children:"Discard"})]})]}),pv_mock_release_toggle:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ds,{label:"Staging"}),t.jsx("div",{className:"g6-toggle on",children:t.jsx("div",{className:"g6-toggle-thumb"})}),t.jsx(ds,{label:"Prod"})]})},Dbe=s=>{const e=Lbe[s];return e?e():t.jsx("div",{className:"g6-preview g6-fallback"})};function Mbe(){return t.jsxs("div",{className:"g6-root",children:[t.jsxs("header",{className:"g6-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 6"}),t.jsx("p",{className:"g6-sub",children:"50 mock UI widgets spanning profile, guild, tables, upload, and admin snippets."})]}),t.jsx("div",{className:"g6-pill-row",children:t.jsx(ds,{label:"MOCK"})})]}),t.jsx("nav",{className:"g6-toc",children:UC.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g6-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g6-sections",children:UC.map(s=>t.jsxs("details",{className:"g6-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g6-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g6-section-title",children:s.title}),t.jsx("div",{className:"g6-section-sub",children:s.description})]}),t.jsxs("span",{className:"g6-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g6-grid",children:s.items.map(e=>t.jsxs("div",{className:"g6-card",children:[t.jsxs("div",{className:"g6-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g6-card-title",children:e.title}),t.jsx("div",{className:"g6-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g6-pill-row",children:(e.tags||["MOCK"]).map(n=>t.jsx(ds,{label:n},n))})]}),Dbe(e.previewId)]},e.id))})]},s.id))})]})}const HC=[{id:"progress",title:"Animated Progress",description:"Animated stripes, sweeps, counters, and wave fills.",items:[{id:"1",categoryId:"progress",title:"Stripe Motion Bar",subtitle:"moving stripes",tags:["UI"],previewId:"pv_ui7_stripe_motion2"},{id:"2",categoryId:"progress",title:"Gradient Sweep Fill",subtitle:"slow sweep",tags:["UI"],previewId:"pv_ui7_gradient_sweep"},{id:"3",categoryId:"progress",title:"Tick-Up Counter",subtitle:"odometer style",tags:["UI"],previewId:"pv_ui7_tickup_counter"},{id:"4",categoryId:"progress",title:"Milestone Pop",subtitle:"pop at thresholds",tags:["UI"],previewId:"pv_ui7_milestone_pop"},{id:"5",categoryId:"progress",title:"Ring Spinner Progress",subtitle:"rotating arc",tags:["UI"],previewId:"pv_ui7_ring_spinner"},{id:"6",categoryId:"progress",title:"Pulse Marker Line",subtitle:"avg marker pulse",tags:["UI"],previewId:"pv_ui7_marker_pulse"},{id:"7",categoryId:"progress",title:"Step Fill Animation",subtitle:"segment fill",tags:["UI"],previewId:"pv_ui7_step_fill"},{id:"8",categoryId:"progress",title:"Wave Fill Gauge",subtitle:"wave in bar",tags:["UI"],previewId:"pv_ui7_wave_fill"},{id:"9",categoryId:"progress",title:"Micro Spark Animate",subtitle:"spark drawing",tags:["UI"],previewId:"pv_ui7_spark_draw"},{id:"10",categoryId:"progress",title:"Heat Glow Cells",subtitle:"glow on cells",tags:["UI"],previewId:"pv_ui7_heat_glow_cells"}]},{id:"hover",title:"Hover/Focus States",description:"Focus rings, tilts, bounces, outlines, and menus.",items:[{id:"11",categoryId:"hover",title:"Focus Ring Showcase",subtitle:"focus styles",tags:["UI"],previewId:"pv_ui7_focus_rings"},{id:"12",categoryId:"hover",title:"Hover Tilt Card",subtitle:"subtle tilt",tags:["UI"],previewId:"pv_ui7_hover_tilt"},{id:"13",categoryId:"hover",title:"Glow Border on Hover",subtitle:"outer glow",tags:["UI"],previewId:"pv_ui7_hover_glow_border"},{id:"14",categoryId:"hover",title:"Icon Bounce Hover",subtitle:"bounce icon",tags:["UI"],previewId:"pv_ui7_icon_bounce"},{id:"15",categoryId:"hover",title:"Tooltip Follow Mock",subtitle:"offset tooltip",tags:["UI"],previewId:"pv_ui7_tooltip_follow"},{id:"16",categoryId:"hover",title:"Pressed Button Depth",subtitle:"down state",tags:["UI"],previewId:"pv_ui7_button_depth"},{id:"17",categoryId:"hover",title:"Selection Outline",subtitle:"selected frame",tags:["UI"],previewId:"pv_ui7_select_outline"},{id:"18",categoryId:"hover",title:"Drag Handle Mock",subtitle:"grab dots",tags:["UI"],previewId:"pv_ui7_drag_handle"},{id:"19",categoryId:"hover",title:"Context Menu Hover",subtitle:"menu highlight",tags:["UI"],previewId:"pv_ui7_context_hover"},{id:"20",categoryId:"hover",title:"Keyboard Nav Dots",subtitle:"tab order hint",tags:["UI"],previewId:"pv_ui7_keynav_dots"}]},{id:"decor",title:"Decorative UI",description:"Glass headers, neon lines, patterns, and status clusters.",items:[{id:"21",categoryId:"decor",title:"Glass Panel Header",subtitle:"frosted header",tags:["UI"],previewId:"pv_ui7_glass_header"},{id:"22",categoryId:"decor",title:"Neon Accent Line",subtitle:"accent stroke",tags:["UI"],previewId:"pv_ui7_neon_accent"},{id:"23",categoryId:"decor",title:"Pattern Background Card",subtitle:"subtle pattern",tags:["UI"],previewId:"pv_ui7_pattern_bg"},{id:"24",categoryId:"decor",title:"Corner Cut Card",subtitle:"cut corners",tags:["UI"],previewId:"pv_ui7_corner_cut"},{id:"25",categoryId:"decor",title:"Divider Variants",subtitle:"3 divider styles",tags:["UI"],previewId:"pv_ui7_dividers"},{id:"26",categoryId:"decor",title:"Tag Pill Variants",subtitle:"solid/outline",tags:["UI"],previewId:"pv_ui7_tag_variants"},{id:"27",categoryId:"decor",title:"Icon Badge Stack",subtitle:"icon + badge",tags:["UI"],previewId:"pv_ui7_icon_badges"},{id:"28",categoryId:"decor",title:"Mini Banner Strip",subtitle:"announcement strip",tags:["UI"],previewId:"pv_ui7_banner_strip"},{id:"29",categoryId:"decor",title:"Progress Notches",subtitle:"notched bar",tags:["UI"],previewId:"pv_ui7_notches_bar"},{id:"30",categoryId:"decor",title:"Status Dot Cluster",subtitle:"3 statuses",tags:["UI"],previewId:"pv_ui7_status_cluster"}]},{id:"micro",title:"Micro-layouts",description:"Mini cards, headers, grids, and stacked chips.",items:[{id:"31",categoryId:"micro",title:"KPI + Mini Chart",subtitle:"two-column",tags:["UI"],previewId:"pv_ui7_kpi_minichart"},{id:"32",categoryId:"micro",title:"Split Header Actions",subtitle:"actions right",tags:["UI"],previewId:"pv_ui7_header_actions"},{id:"33",categoryId:"micro",title:"Compact Card Grid",subtitle:"22 grid",tags:["UI"],previewId:"pv_ui7_compact_grid"},{id:"34",categoryId:"micro",title:"Sticky Mini Footer",subtitle:"footer tools",tags:["UI"],previewId:"pv_ui7_sticky_footer"},{id:"35",categoryId:"micro",title:"Inline Editable Field",subtitle:"edit pencil",tags:["UI"],previewId:"pv_ui7_inline_edit"},{id:"36",categoryId:"micro",title:"Multi-line Subtitle Clamp",subtitle:"clamp demo",tags:["UI"],previewId:"pv_ui7_clamp_demo"},{id:"37",categoryId:"micro",title:"Icon List with Counts",subtitle:"icon + num",tags:["UI"],previewId:"pv_ui7_icon_counts"},{id:"38",categoryId:"micro",title:"Dual Badge Header",subtitle:"two tags",tags:["UI"],previewId:"pv_ui7_dual_badge"},{id:"39",categoryId:"micro",title:"Avatar Stack",subtitle:"overlapping",tags:["UI"],previewId:"pv_ui7_avatar_stack"},{id:"40",categoryId:"micro",title:"Chips + Progress Row",subtitle:"mixed row",tags:["UI"],previewId:"pv_ui7_chips_progress_row"}]},{id:"states",title:"Feedback & States",description:"Success, warning, error, empty, loading, sync, offline, locked.",items:[{id:"41",categoryId:"states",title:"Success Glow Toast",subtitle:"success state",tags:["UI"],previewId:"pv_ui7_success_toast"},{id:"42",categoryId:"states",title:"Warning Banner",subtitle:"attention state",tags:["UI"],previewId:"pv_ui7_warning_banner"},{id:"43",categoryId:"states",title:"Error Inline Panel",subtitle:"error state",tags:["UI"],previewId:"pv_ui7_error_panel"},{id:"44",categoryId:"states",title:"Empty State Illustration",subtitle:"empty",tags:["UI"],previewId:"pv_ui7_empty_state"},{id:"45",categoryId:"states",title:"Loading Dots",subtitle:"3 dots",tags:["UI"],previewId:"pv_ui7_loading_dots"},{id:"46",categoryId:"states",title:"Sync Indicator",subtitle:"sync badge",tags:["UI"],previewId:"pv_ui7_sync_indicator"},{id:"47",categoryId:"states",title:"Offline Mode Chip",subtitle:"offline badge",tags:["UI"],previewId:"pv_ui7_offline_chip"},{id:"48",categoryId:"states",title:"Disabled Overlay",subtitle:"disabled state",tags:["UI"],previewId:"pv_ui7_disabled_overlay"},{id:"49",categoryId:"states",title:"New Ribbon + Glow",subtitle:"new state",tags:["UI"],previewId:"pv_ui7_new_ribbon_glow"},{id:"50",categoryId:"states",title:"Locked State Stamp",subtitle:"locked stamp",tags:["UI"],previewId:"pv_ui7_locked_stamp"}]}],ma=({label:s})=>t.jsx("span",{className:"g7-pill",children:s}),_s=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g7-bar tone-${e}`,style:{width:s,height:n}}),I0=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g7-dot tone-${s}`,style:{width:e,height:e}}),Fbe={pv_ui7_stripe_motion2:()=>t.jsx("div",{className:"g7-preview g7-stripes",children:t.jsx("div",{className:"g7-stripe-fill",style:{width:"78%"}})}),pv_ui7_gradient_sweep:()=>t.jsx("div",{className:"g7-preview g7-gradient",children:t.jsx("div",{className:"g7-gradient-fill"})}),pv_ui7_tickup_counter:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-odometer",children:["0","1","2"].map((s,e)=>t.jsx("span",{className:`g7-odo-digit ${e===2?"active":""}`,children:s},e))}),t.jsx(ma,{label:"Counter"})]}),pv_ui7_milestone_pop:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[20,50,80].map((s,e)=>t.jsxs("div",{className:"g7-milestone",children:[t.jsx("div",{className:`g7-milestone-dot ${e===1?"pop":""}`}),t.jsx("span",{className:"g7-mini",children:s})]},s))}),pv_ui7_ring_spinner:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-spinner",children:t.jsx("div",{className:"g7-spinner-arc"})}),t.jsx(_s,{width:"50%"})]}),pv_ui7_marker_pulse:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[t.jsx("div",{className:"g7-marker-line",children:t.jsx("div",{className:"g7-marker",style:{left:"62%"}})}),t.jsx("span",{className:"g7-mini",children:"Average"})]}),pv_ui7_step_fill:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-stepper",children:Array.from({length:5}).map((s,e)=>t.jsx("div",{className:`g7-step ${e<3?"filled":""}`},e))}),pv_ui7_wave_fill:()=>t.jsx("div",{className:"g7-preview g7-wave",children:t.jsx("div",{className:"g7-wave-fill"})}),pv_ui7_spark_draw:()=>t.jsx("div",{className:"g7-preview g7-spark",children:Array.from({length:10}).map((s,e)=>t.jsx("span",{className:"g7-spark-bar",style:{height:`${8+e%4*6}px`}},e))}),pv_ui7_heat_glow_cells:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g7-heat-cell ${e>=3?"glow":""}`},e))}),pv_ui7_focus_rings:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-focus"}),t.jsx("div",{className:"g7-focus strong"}),t.jsx("div",{className:"g7-focus dashed"})]}),pv_ui7_hover_tilt:()=>t.jsxs("div",{className:"g7-preview g7-tilt-card",children:[t.jsx(_s,{width:"70%"}),t.jsx(_s,{width:"40%",tone:"muted"})]}),pv_ui7_hover_glow_border:()=>t.jsx("div",{className:"g7-preview g7-glow-border",children:t.jsx(_s,{width:"60%"})}),pv_ui7_icon_bounce:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-bounce",children:""}),t.jsx(_s,{width:"40%"})]}),pv_ui7_tooltip_follow:()=>t.jsxs("div",{className:"g7-preview g7-tooltip-follow",children:[t.jsx("div",{className:"g7-target"}),t.jsx("div",{className:"g7-follow-tip",children:t.jsx(_s,{width:"50%"})})]}),pv_ui7_button_depth:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("button",{className:"g7-press-btn",children:"Press"}),t.jsx("button",{className:"g7-press-btn pressed",children:"Pressed"})]}),pv_ui7_select_outline:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-outline-card active",children:t.jsx(_s,{width:"60%"})}),t.jsx("div",{className:"g7-outline-card",children:t.jsx(_s,{width:"40%"})})]}),pv_ui7_drag_handle:()=>t.jsxs("div",{className:"g7-preview g7-row g7-center g7-gap-sm",children:[t.jsx("div",{className:"g7-drag-handle",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{},e))}),t.jsx(_s,{width:"50%"})]}),pv_ui7_context_hover:()=>t.jsx("div",{className:"g7-preview g7-col g7-gap-xxs",children:["Edit","Duplicate","Archive"].map((s,e)=>t.jsx("div",{className:`g7-menu-row ${e===1?"hover":""}`,children:s},s))}),pv_ui7_keynav_dots:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[Array.from({length:4}).map((s,e)=>t.jsx("span",{className:`g7-keydot ${e===0?"active":""}`},e)),t.jsx("span",{className:"g7-mini",children:"Tab order"})]}),pv_ui7_glass_header:()=>t.jsxs("div",{className:"g7-preview g7-glass",children:[t.jsx("div",{className:"g7-glass-bar"}),t.jsx(_s,{width:"50%"})]}),pv_ui7_neon_accent:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-neon-line"}),t.jsx(_s,{width:"40%"})]}),pv_ui7_pattern_bg:()=>t.jsxs("div",{className:"g7-preview g7-pattern",children:[t.jsx(_s,{width:"60%"}),t.jsx(_s,{width:"30%",tone:"muted"})]}),pv_ui7_corner_cut:()=>t.jsxs("div",{className:"g7-preview g7-corner-card",children:[t.jsx(_s,{width:"70%"}),t.jsx(_s,{width:"40%",tone:"muted"})]}),pv_ui7_dividers:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xs",children:[t.jsx("div",{className:"g7-divider solid"}),t.jsx("div",{className:"g7-divider dashed"}),t.jsx("div",{className:"g7-divider dotted"})]}),pv_ui7_tag_variants:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-xs",children:[t.jsx(ma,{label:"Solid"}),t.jsx("span",{className:"g7-pill ghost",children:"Outline"}),t.jsx("span",{className:"g7-pill muted",children:"Muted"})]}),pv_ui7_icon_badges:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsxs("div",{className:"g7-icon-badge",children:[t.jsx("span",{children:""}),t.jsx("span",{className:"g7-badge-num",children:"3"})]}),t.jsx(_s,{width:"50%"})]}),pv_ui7_banner_strip:()=>t.jsxs("div",{className:"g7-preview g7-banner",children:[t.jsx("span",{children:"Announcement"}),t.jsx(ma,{label:"Live"})]}),pv_ui7_notches_bar:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-notches",children:Array.from({length:8}).map((s,e)=>t.jsx("div",{className:`g7-notch ${e<5?"active":""}`},e))}),pv_ui7_status_cluster:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx(I0,{tone:"success"}),t.jsx(I0,{tone:"warning"}),t.jsx(I0,{tone:"danger"}),t.jsx("span",{className:"g7-mini",children:"Status"})]}),pv_ui7_kpi_minichart:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm",children:[t.jsxs("div",{className:"g7-col g7-gap-xxs",children:[t.jsx("span",{className:"g7-mini",children:"KPI"}),t.jsx(_s,{width:"60%"})]}),t.jsx("div",{className:"g7-mini-chart",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{style:{height:`${10+e*4}px`}},e))})]}),pv_ui7_header_actions:()=>t.jsxs("div",{className:"g7-preview g7-row g7-space-between g7-center",children:[t.jsx(_s,{width:"40%"}),t.jsxs("div",{className:"g7-row g7-gap-xs",children:[t.jsx("button",{className:"g7-btn ghost",children:"Action"}),t.jsx("button",{className:"g7-btn solid",children:"Primary"})]})]}),pv_ui7_compact_grid:()=>t.jsx("div",{className:"g7-preview g7-grid g7-grid-2",children:Array.from({length:4}).map((s,e)=>t.jsxs("div",{className:"g7-mini-card",children:[t.jsx(_s,{width:"50%"}),t.jsx(_s,{width:"30%",tone:"muted"})]},e))}),pv_ui7_sticky_footer:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[t.jsx(_s,{width:"70%"}),t.jsxs("div",{className:"g7-sticky-footer",children:[t.jsx("button",{className:"g7-btn ghost",children:"Cancel"}),t.jsx("button",{className:"g7-btn solid",children:"Save"})]})]}),pv_ui7_inline_edit:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("input",{className:"g7-inline",value:"Editable text",readOnly:!0}),t.jsx("span",{className:"g7-pencil"})]}),pv_ui7_clamp_demo:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[t.jsx("div",{className:"g7-clamp",children:"Very long subtitle that is clamped after two lines for readability."}),t.jsx(_s,{width:"40%"})]}),pv_ui7_icon_counts:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:["","",""].map((s,e)=>t.jsxs("div",{className:"g7-icon-count",children:[t.jsx("span",{children:s}),t.jsx("span",{className:"g7-badge-num",children:e+2})]},s))}),pv_ui7_dual_badge:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-xs g7-center",children:[t.jsx(ma,{label:"Pro"}),t.jsx(ma,{label:"UI"}),t.jsx(_s,{width:"40%"})]}),pv_ui7_avatar_stack:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-xs g7-center",children:[t.jsx("div",{className:"g7-stack",children:["A","B","C"].map((s,e)=>t.jsx("span",{className:"g7-stack-avatar",style:{left:`${e*12}px`},children:s},s))}),t.jsx("span",{className:"g7-mini",children:"+5"})]}),pv_ui7_chips_progress_row:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx(ma,{label:"UI"}),t.jsx(ma,{label:"Motion"}),t.jsx("div",{className:"g7-pulse-bar",children:t.jsx("div",{className:"g7-pulse-fill",style:{width:"64%"}})})]}),pv_ui7_success_toast:()=>t.jsxs("div",{className:"g7-preview g7-toast success",children:[t.jsx("span",{className:"g7-dot tone-success"}),t.jsx("span",{children:"Saved successfully"})]}),pv_ui7_warning_banner:()=>t.jsx("div",{className:"g7-preview g7-banner warn",children:t.jsx("span",{children:"Warning: changes pending"})}),pv_ui7_error_panel:()=>t.jsxs("div",{className:"g7-preview g7-error",children:[t.jsx("div",{className:"g7-error-icon",children:"!"}),t.jsxs("div",{className:"g7-col g7-gap-xxs",children:[t.jsx(_s,{width:"60%",tone:"danger"}),t.jsx(_s,{width:"40%",tone:"muted"})]})]}),pv_ui7_empty_state:()=>t.jsxs("div",{className:"g7-preview g7-empty",children:[t.jsx("div",{className:"g7-ghost"}),t.jsx(_s,{width:"50%",tone:"muted"})]}),pv_ui7_loading_dots:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-center",children:Array.from({length:3}).map((s,e)=>t.jsx("span",{className:"g7-loading-dot"},e))}),pv_ui7_sync_indicator:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-sync",children:t.jsx("div",{className:"g7-sync-arc"})}),t.jsx(ma,{label:"Syncing"})]}),pv_ui7_offline_chip:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-chip offline",children:"Offline"}),t.jsx(_s,{width:"40%",tone:"muted"})]}),pv_ui7_disabled_overlay:()=>t.jsxs("div",{className:"g7-preview g7-disabled",children:[t.jsx(_s,{width:"60%"}),t.jsx("div",{className:"g7-disabled-mask"})]}),pv_ui7_new_ribbon_glow:()=>t.jsxs("div",{className:"g7-preview g7-ribbon-card",children:[t.jsx("div",{className:"g7-ribbon",children:"New"}),t.jsx("div",{className:"g7-ribbon-glow"}),t.jsx(_s,{width:"60%"})]}),pv_ui7_locked_stamp:()=>t.jsxs("div",{className:"g7-preview g7-stamp",children:[t.jsx("div",{className:"g7-stamp-ring",children:"LOCKED"}),t.jsx(_s,{width:"40%"})]})},Bbe=s=>{const e=Fbe[s];return e?e():t.jsx("div",{className:"g7-preview g7-fallback"})};function $be(){return t.jsxs("div",{className:"g7-root",children:[t.jsxs("header",{className:"g7-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 7"}),t.jsx("p",{className:"g7-sub",children:"50 animated UI micro-previews covering motion, hover states, decorative bits, and feedback."})]}),t.jsx("div",{className:"g7-pill-row",children:t.jsx(ma,{label:"UI"})})]}),t.jsx("nav",{className:"g7-toc",children:HC.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g7-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g7-sections",children:HC.map(s=>t.jsxs("details",{className:"g7-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g7-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g7-section-title",children:s.title}),t.jsx("div",{className:"g7-section-sub",children:s.description})]}),t.jsxs("span",{className:"g7-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g7-grid",children:s.items.map(e=>t.jsxs("div",{className:"g7-card",children:[t.jsxs("div",{className:"g7-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g7-card-title",children:e.title}),t.jsx("div",{className:"g7-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g7-pill-row",children:(e.tags||["UI"]).map(n=>t.jsx(ma,{label:n},n))})]}),Bbe(e.previewId)]},e.id))})]},s.id))})]})}const GC=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function Obe(s=120){const e=[];for(let n=1;n<=s;n++)e.push({id:String(n),name:`Player ${n}`,className:GC[n%GC.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const A0={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function WC(){const[s,e]=I.useState("rows"),[n,r]=I.useState(0),[i,a]=I.useState(""),[l,c]=I.useState(60),u=I.useMemo(()=>Obe(240),[]),h=I.useMemo(()=>u.filter(p=>p.level>=n).filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).slice(0,l),[u,n,i,l]);return t.jsxs("div",{children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),t.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[t.jsxs("select",{value:s,onChange:p=>e(p.target.value),children:[t.jsx("option",{value:"rows",children:"Compact Rows"}),t.jsx("option",{value:"cards",children:"Card Grid"}),t.jsx("option",{value:"masonry",children:"Masonry"})]}),t.jsx("input",{placeholder:"Search",value:i,onChange:p=>a(p.target.value)}),t.jsxs("label",{children:["Min Level ",t.jsx("input",{type:"number",value:n,onChange:p=>r(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]}),t.jsxs("label",{children:["Limit ",t.jsx("input",{type:"number",value:l,onChange:p=>c(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),s==="rows"&&t.jsx("div",{style:{...A0,padding:0,overflow:"hidden"},children:h.map(p=>{var g;return t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:700},children:[p.name," ",t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:p.className})]}),t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),t.jsx("div",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),s==="cards"&&t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>{var g;return t.jsxs("div",{style:A0,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontWeight:700},children:p.name}),t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),t.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[t.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),t.jsx("span",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),s==="masonry"&&t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>t.jsxs("div",{style:{...A0,height:140+parseInt(p.id)%3*40},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontWeight:700},children:p.name}),t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),t.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},p.id))})]})}function qC(s=24){const e=[];for(let n=1;n<=s;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function KC(){const[s,e]=I.useState(120),[n,r]=I.useState(()=>qC(24));I.useEffect(()=>{const a=setInterval(()=>{r(l=>{if(!l.length)return l;const c=Math.floor(Math.random()*l.length),u=[...l];return u[c]={...u[c],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(a)},[]),I.useEffect(()=>{const a=setInterval(()=>{r(l=>l.map(c=>({...c,lastScanMinsAgo:c.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(a)},[]);const i=I.useMemo(()=>n.filter(a=>a.lastScanMinsAgo>s),[n,s]);return t.jsxs("div",{children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),t.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[t.jsxs("label",{children:["Freshness TTL (min) ",t.jsx("input",{type:"number",value:s,onChange:a=>e(parseInt(a.target.value||"0")),style:{marginLeft:8,width:100}})]}),t.jsx("button",{onClick:()=>r(qC(24)),children:"Reset Demo Data"})]}),t.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),t.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[t.jsx("div",{children:"Player"}),t.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(a=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[t.jsxs("div",{children:[a.name," ",t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:a.server})]}),t.jsxs("div",{style:{width:180,textAlign:"right"},children:[a.lastScanMinsAgo," min ago"]})]},a.id)),i.length===0&&t.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Vbe(s){const e=/"log"\s*:\s*\{/.test(s)&&/"entries"\s*:\s*\[/.test(s),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(s);return{isHar:e,isSf:n}}function QC(){const[s,e]=I.useState("idle"),[n,r]=I.useState(null),[i,a]=I.useState(!1),l=I.useCallback(async c=>{var h;c.preventDefault(),a(!1);const u=(h=c.dataTransfer.files)==null?void 0:h[0];if(u){e("validating");try{const p=await u.text(),{isHar:g,isSf:x}=Vbe(p);if(e("parsing"),await new Promise(b=>setTimeout(b,600)),!g&&!x){e("error"),r({isHar:g,isSf:x,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:g,isSf:x,sizeKB:Math.round(u.size/1024),summary:`Detected: ${g?"HAR":x?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(p.length/2500)} (rough).`})}catch(p){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(p==null?void 0:p.message)||"Parse failed"})}}},[]);return t.jsxs("div",{children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),t.jsx("div",{onDragOver:c=>{c.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:l,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),t.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Status:"})," ",s]}),n?t.jsxs("ul",{children:[t.jsxs("li",{children:["isHar: ",String(n.isHar)]}),t.jsxs("li",{children:["isSf: ",String(n.isSf)]}),t.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&t.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&t.jsxs("li",{children:["summary: ",n.summary]})]}):t.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const Ube="_wrap_hxkkn_3",zbe="_left_hxkkn_17",Hbe="_right_hxkkn_25",Gbe="_canvasCard_hxkkn_33",Wbe="_hint_hxkkn_83",qbe="_panel_hxkkn_95",Kbe="_panelTitle_hxkkn_109",Qbe="_panelBody_hxkkn_121",Qa={wrap:Ube,left:zbe,right:Hbe,canvasCard:Gbe,hint:Wbe,panel:qbe,panelTitle:Kbe,panelBody:Qbe},Xbe=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],Ybe=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function Jbe(){const[s,e]=I.useState("Canvas ist vorbereitet (526526)."),n=I.useRef(null),[r,i]=I.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[a,l]=I.useState(!0);I.useEffect(()=>{const p=document.getElementById("PortraitCanvas");if(!p){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(b){}let g=console.error;a&&(console.error=(...b)=>{var S;const _=String((S=b==null?void 0:b[0])!=null?S:"");_.includes("Failed to load URL")&&_.includes("PortraitMaker-res/portraits/")||g(...b)});let x=null;try{x=new w5(p,{...r}),n.current=x,e("Rendering")}catch(b){a&&(console.error=g),g("Error initializing PortraitMaker:",b),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return x&&(x.onFinish=()=>{a&&(console.error=g),e("Fertig gerendert.")}),()=>{try{x&&typeof x.dispose=="function"&&x.dispose()}finally{a&&(console.error=g)}}},[r,a]);const c=()=>{const p=document.getElementById("PortraitCanvas");if(!p)return;const g=p.toDataURL("image/png"),x=document.createElement("a");x.href=g,x.download="portrait.png",x.click()},u=p=>{i(g=>({...g,genderName:p,beard:p==="female"?0:g.beard}))},h=r.special!==0;return t.jsxs("div",{className:Qa.wrap,children:[t.jsx("div",{className:Qa.left,children:t.jsxs("div",{className:Qa.canvasCard,children:[t.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),t.jsx("div",{className:Qa.hint,children:s})]})}),t.jsx("div",{className:Qa.right,children:t.jsxs("div",{className:Qa.panel,children:[t.jsx("h2",{className:Qa.panelTitle,children:"Controls"}),t.jsx("div",{className:Qa.panelBody,children:t.jsxs("div",{style:{display:"grid",gap:8},children:[t.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",t.jsx("input",{type:"number",value:r.special,onChange:p=>i(g=>({...g,special:Number(p.target.value||0)})),style:{width:100}})]}),t.jsxs("fieldset",{disabled:h,style:{border:0,padding:0,margin:0},children:[t.jsxs("label",{children:["Gender:",t.jsxs("select",{value:r.genderName,onChange:p=>u(p.target.value),children:[t.jsx("option",{value:"male",children:"male"}),t.jsx("option",{value:"female",children:"female"})]})]}),t.jsxs("label",{children:["Class:",t.jsx("input",{type:"number",min:1,value:r.class,onChange:p=>i(g=>({...g,class:Number(p.target.value||0)})),style:{width:80}})]}),t.jsxs("label",{children:["Race:",t.jsx("input",{type:"number",min:1,value:r.race,onChange:p=>i(g=>({...g,race:Number(p.target.value||0)})),style:{width:80}})]})]}),t.jsxs("label",{children:["Background:",t.jsx("select",{value:r.background,onChange:p=>i(g=>({...g,background:p.target.value})),children:Xbe.map(p=>t.jsx("option",{value:p,children:p===""?"transparent":p},p))})]}),t.jsxs("label",{children:["Frame:",t.jsx("select",{value:r.frame,onChange:p=>i(g=>({...g,frame:p.target.value})),children:Ybe.map(p=>t.jsx("option",{value:p,children:p===""?"none":p},p))})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:p=>i(g=>({...g,showBorder:p.target.checked}))}),"showBorder"]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("input",{type:"checkbox",checked:a,onChange:p=>l(p.target.checked)}),"Mute 404 logs (Playground)"]}),t.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:t.jsx("button",{onClick:c,children:"Export PNG"})}),h&&t.jsxs("div",{className:Qa.hint,children:["Hinweis: Bei ",t.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const Zbe=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],e_e=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],t_e=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function s_e(){return t.jsx(zt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:t.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),t.jsx("ul",{className:"mt-2 space-y-2",children:Zbe.map(s=>t.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[t.jsx("div",{className:"font-semibold text-slate-50",children:s.title}),t.jsx("p",{className:"text-xs text-slate-400",children:s.description})]},s.id))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),t.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[t.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),t.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),t.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:t.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),t.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:e_e.map(s=>t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("dt",{className:"text-xs text-slate-400",children:s.label}),t.jsx("dd",{className:"font-semibold",children:s.value})]},s.label))})]}),t.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),t.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:t_e.map(s=>t.jsx("li",{children:s},s))})]})]}),children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),t.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),t.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),t.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),t.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(s=>t.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:s}),t.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},s))}),t.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(s=>t.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[t.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",s]}),t.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",s]})]}),t.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),t.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},s))})]})})}const n_e={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function r_e(){return t.jsx(zt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:t.jsx("div",{className:"flex w-full justify-center pt-10",children:t.jsx(LA,{config:n_e,label:"Playground Avatar"})})})}const i_e=Array.from({length:4},(s,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function a_e(){return t.jsx(zt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:t.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:t.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:i_e.map(s=>t.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:s.label}),t.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),t.jsx("p",{className:"text-[11px] text-slate-400",children:s.note})]},s.id))})})})}const o_e="_avatarFrameMask_1pzs8_5",l_e="_avatarFrameOverlay_1pzs8_7",XC={avatarFrameMask:o_e,avatarFrameOverlay:l_e},c_e=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function d_e(){return t.jsx(zt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:t.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[t.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:c_e.map(s=>t.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:s.title}),t.jsx("p",{className:"mt-2 text-xs text-slate-300",children:s.detail}),t.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},s.title))}),t.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),t.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:XC.avatarFrameMask,children:t.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),t.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:XC.avatarFrameOverlay,children:t.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const u_e=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function h_e(){return t.jsx(zt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:t.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:t.jsx("div",{className:"flex w-full flex-col gap-4",children:u_e.map(s=>t.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[s.label,t.jsx("span",{children:"Leer"})]}),t.jsx("p",{className:"mt-2 text-sm text-slate-300",children:s.info}),t.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},s.label))})})})}function p_e(){return t.jsx(zt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:t.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),t.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),t.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),t.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const te={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},m_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},g_e={maxWidth:1200,margin:"0 auto"},f_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function v_e(){return t.jsx("div",{style:m_e,children:t.jsxs("div",{style:g_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"HAR Import Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:f_e,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),t.jsxs("div",{style:{border:`1px dashed ${te.line}`,borderRadius:12,padding:24,textAlign:"center",background:te.tileAlt},children:["Drop .har file here or"," ",t.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),t.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const x_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},y_e={maxWidth:1200,margin:"0 auto"},b_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function __e(){return t.jsx("div",{style:x_e,children:t.jsxs("div",{style:y_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"JSON/CSV Import Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:b_e,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),t.jsxs("div",{style:{display:"grid",gap:8},children:[t.jsxs("label",{children:["Upload JSON ",t.jsx("input",{type:"file",accept:".json"})]}),t.jsxs("label",{children:["Upload CSV ",t.jsx("input",{type:"file",accept:".csv"})]})]}),t.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const w_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},j_e={maxWidth:1200,margin:"0 auto"},S_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function N_e(){return t.jsx("div",{style:w_e,children:t.jsxs("div",{style:j_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Index Schema Viewer Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:S_e,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(s=>t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:te.title},children:s}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},s))})]})})]})})}const k_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},C_e={maxWidth:1200,margin:"0 auto"},T_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function I_e(){return t.jsx("div",{style:k_e,children:t.jsxs("div",{style:C_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Player Profile (Contained) Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:T_e,children:[t.jsxs("div",{style:{display:"flex",gap:12},children:[t.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${te.line}`}}),t.jsxs("div",{children:[t.jsx("h3",{style:{margin:"4px 0",color:te.title},children:"NightRaven"}),t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(s=>t.jsx("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:s},s))})]})})]})})}const A_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},E_e={maxWidth:1200,margin:"0 auto"},P_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function R_e(){return t.jsx("div",{style:A_e,children:t.jsxs("div",{style:E_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Guild Hub Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:P_e,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[t.jsx("b",{style:{color:te.title},children:"Ravens"}),t.jsx("span",{children:"Avg Lvl 465"}),t.jsx("span",{children:"Fresh scans 82%"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[t.jsx("b",{style:{color:te.title},children:"Arcana"}),t.jsx("span",{children:"Avg Lvl 458"}),t.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const L_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},D_e={maxWidth:1200,margin:"0 auto"},M_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function F_e(){return t.jsx("div",{style:L_e,children:t.jsxs("div",{style:D_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Server Hub Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:M_e,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(s=>t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:te.title},children:s}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},s))})]})})]})})}const B_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},$_e={maxWidth:1200,margin:"0 auto"},O_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function V_e(){return t.jsx("div",{style:B_e,children:t.jsxs("div",{style:$_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Rankings Views Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:O_e,children:[t.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(s=>t.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${te.line}`,borderRadius:10},children:s},s))}),t.jsx("div",{style:{border:`1px solid ${te.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((s,e)=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[t.jsx("b",{style:{color:te.title},children:s.name}),t.jsx("span",{children:s.delta}),t.jsxs("span",{children:["Lvl ",s.lvl]})]},s.id))})]})})]})})}const U_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},z_e={maxWidth:1200,margin:"0 auto"},H_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function G_e(){return t.jsx("div",{style:U_e,children:t.jsxs("div",{style:z_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"KPI Dashboard Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsx("div",{style:H_e,children:t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(s=>t.jsx("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:s},s))})})})]})})}const W_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},q_e={maxWidth:1200,margin:"0 auto"},K_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Q_e(){return t.jsx("div",{style:W_e,children:t.jsxs("div",{style:q_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Progression Tracker Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:K_e,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),t.jsx("div",{style:{height:160,border:`1px dashed ${te.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const X_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Y_e={maxWidth:1200,margin:"0 auto"},J_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Z_e(){return t.jsx("div",{style:X_e,children:t.jsxs("div",{style:Y_e,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Legendary & Pets Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsx("div",{style:J_e,children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:te.title},children:"Legendary Tracker"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Shadow Bow "}),t.jsx("li",{children:"Mythic Ring "})]})]}),t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:te.title},children:"Pets"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Firewolf 4/5"}),t.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const ewe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},twe={maxWidth:1200,margin:"0 auto"},swe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function nwe(){return t.jsx("div",{style:ewe,children:t.jsxs("div",{style:twe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Community Scans Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:swe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(s=>t.jsx("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:s},s))})]})})]})})}const rwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},iwe={maxWidth:1200,margin:"0 auto"},awe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function owe(){return t.jsx("div",{style:rwe,children:t.jsxs("div",{style:iwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Creator Hub Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:awe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(s=>t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:te.title},children:s}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},s))})]})})]})})}const lwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},cwe={maxWidth:1200,margin:"0 auto"},dwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function uwe(){return t.jsx("div",{style:lwe,children:t.jsxs("div",{style:cwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Feedback Form Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:dwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),t.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[t.jsx("span",{children:"Category"}),t.jsxs("select",{style:{background:"#152A42",color:te.text,border:`1px solid ${te.line}`,borderRadius:8,padding:"6px 8px"},children:[t.jsx("option",{children:"UI"}),t.jsx("option",{children:"Data"}),t.jsx("option",{children:"Bug"})]})]}),t.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[t.jsx("span",{children:"Message"}),t.jsx("textarea",{rows:4,style:{background:"#152A42",color:te.text,border:`1px solid ${te.line}`,borderRadius:8,padding:"6px 8px"}})]}),t.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${te.line}`,borderRadius:10},children:"Send"})]})})]})})}const hwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},pwe={maxWidth:1200,margin:"0 auto"},mwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function gwe(){return t.jsx("div",{style:hwe,children:t.jsxs("div",{style:pwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Feedback Admin Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:mwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),t.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(s=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("span",{children:s}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),t.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},s))})]})})]})})}const fwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},vwe={maxWidth:1200,margin:"0 auto"},xwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function ywe(){return t.jsx("div",{style:fwe,children:t.jsxs("div",{style:vwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Tutorials Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:xwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Step highlights"}),t.jsx("li",{children:"Progress bar"}),t.jsx("li",{children:"Badges"})]})]})})]})})}const bwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},_we={maxWidth:1200,margin:"0 auto"},wwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function jwe(){return t.jsx("div",{style:bwe,children:t.jsxs("div",{style:_we,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Wiki & FAQ Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:wwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),t.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${te.line}`,borderRadius:10}}),t.jsxs("ul",{style:{marginTop:8},children:[t.jsx("li",{children:"How to import HAR?"}),t.jsx("li",{children:"What data is stored?"})]})]})})]})})}const Swe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Nwe={maxWidth:1200,margin:"0 auto"},kwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Cwe(){return t.jsx("div",{style:Swe,children:t.jsxs("div",{style:Nwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Settings Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:kwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[t.jsxs("label",{children:["Language",t.jsxs("select",{style:{marginLeft:8},children:[t.jsx("option",{children:"EN"}),t.jsx("option",{children:"DE"})]})]}),t.jsxs("label",{children:["Theme",t.jsxs("select",{style:{marginLeft:8},children:[t.jsx("option",{children:"Dark"}),t.jsx("option",{children:"Custom"})]})]}),t.jsxs("label",{children:["Notifications",t.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),t.jsxs("label",{children:["Privacy",t.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const Twe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Iwe={maxWidth:1200,margin:"0 auto"},Awe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Ewe(){return t.jsx("div",{style:Twe,children:t.jsxs("div",{style:Iwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"ToS & Privacy Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Awe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),t.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:t.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),t.jsxs("label",{style:{marginTop:8},children:[t.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const Pwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Rwe={maxWidth:1200,margin:"0 auto"},Lwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Dwe(){return t.jsx("div",{style:Pwe,children:t.jsxs("div",{style:Rwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Transparency Viewer Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Lwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),t.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const Mwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Fwe={maxWidth:1200,margin:"0 auto"},Bwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function $we(){return t.jsx("div",{style:Mwe,children:t.jsxs("div",{style:Fwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"PWA Update Flow Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Bwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),t.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[t.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),t.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const Owe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Vwe={maxWidth:1200,margin:"0 auto"},Uwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function zwe(){return t.jsx("div",{style:Owe,children:t.jsxs("div",{style:Vwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"PWA Install Prompt Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Uwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[t.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${te.line}`,borderRadius:20}}),t.jsxs("div",{children:[t.jsx("b",{style:{color:te.title},children:"Install SFDataHub"}),t.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),t.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Hwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Gwe={maxWidth:1200,margin:"0 auto"},Wwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function qwe(){return t.jsx("div",{style:Hwe,children:t.jsxs("div",{style:Gwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Connect Manual Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Wwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:[t.jsx("b",{style:{color:te.title},children:"View source"}),t.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const Kwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Qwe={maxWidth:1200,margin:"0 auto"},Xwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Ywe(){return t.jsx("div",{style:Kwe,children:t.jsxs("div",{style:Qwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Connect Userscript Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Xwe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx("div",{children:"Install/Enable check"}),t.jsx("div",{children:"Events preview"})]})]})})]})})}const Jwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Zwe={maxWidth:1200,margin:"0 auto"},eje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function tje(){return t.jsx("div",{style:Jwe,children:t.jsxs("div",{style:Zwe,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Exports Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:eje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:te.title},children:"CSV/Excel"}),t.jsx("div",{children:"Tabs, widths, locales"})]}),t.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:te.title},children:"JSON API"}),t.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const sje={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},nje={maxWidth:1200,margin:"0 auto"},rje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function ije(){return t.jsx("div",{style:sje,children:t.jsxs("div",{style:nje,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Deeplinks Demo Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:rje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),t.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const aje={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},oje={maxWidth:1200,margin:"0 auto"},lje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function cje(){return t.jsx("div",{style:aje,children:t.jsxs("div",{style:oje,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Servers Editor Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:lje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[t.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),t.jsxs("select",{children:[t.jsx("option",{children:"Active"}),t.jsx("option",{children:"Disabled"})]}),t.jsx("button",{children:"Add"})]})]})})]})})}const dje={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},uje={maxWidth:1200,margin:"0 auto"},hje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function pje(){return t.jsx("div",{style:dje,children:t.jsxs("div",{style:uje,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Jobs & Queues Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:hje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),t.jsxs("ul",{style:{marginTop:8},children:[t.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),t.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const mje={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},gje={maxWidth:1200,margin:"0 auto"},fje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function vje(){return t.jsx("div",{style:mje,children:t.jsxs("div",{style:gje,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Feature Flags Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:fje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[t.jsx("span",{children:"Beta: New Rankings"}),t.jsx("label",{children:t.jsx("input",{type:"checkbox",defaultChecked:!0})}),t.jsx("span",{children:"Widgets v2"}),t.jsx("label",{children:t.jsx("input",{type:"checkbox"})})]})]})})]})})}const xje={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},yje={maxWidth:1200,margin:"0 auto"},bje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function _je(){return t.jsx("div",{style:xje,children:t.jsxs("div",{style:yje,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Table Performance Lab Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:bje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),t.jsx("div",{style:{height:160,border:`1px dashed ${te.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const wje={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},jje={maxWidth:1200,margin:"0 auto"},Sje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Nje(){return t.jsx("div",{style:wje,children:t.jsxs("div",{style:jje,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Sje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),t.jsx("div",{style:{height:180,border:`1px dashed ${te.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const kje={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Cje={maxWidth:1200,margin:"0 auto"},Tje={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Ije(){return t.jsx("div",{style:kje,children:t.jsxs("div",{style:Cje,children:[t.jsx("h1",{style:{color:te.title,marginTop:0},children:"Accessibility Pass Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Tje,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),t.jsxs("ul",{style:{marginTop:8},children:[t.jsx("li",{children:"Focus ring visible"}),t.jsx("li",{children:"Skip links"}),t.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const Aje=s=>s?s instanceof Date?s.getTime():typeof s=="string"?new Date(s).getTime():typeof s=="number"?s:null:null;function Eje({isLoggedIn:s,hasUnsyncedChanges:e,lastSyncedAt:n,cooldownUntil:r,onSyncClick:i,isSaving:a,syncError:l}){const{t:c}=Ia(),[u,h]=I.useState(null);I.useEffect(()=>{const E=Aje(r);if(!E){h(null);return}const F=()=>{const y=Date.now(),w=Math.max(0,Math.floor((E-y)/1e3));h(w)};F();const k=window.setInterval(F,1e3);return()=>window.clearInterval(k)},[r]);const p=u!==null&&u>0,g=!s||a||!e||p,x=I.useMemo(()=>{if(u===null||u<=0)return null;const E=Math.floor(u/60),F=u%60;return`${String(E).padStart(2,"0")}:${String(F).padStart(2,"0")}`},[u]),b=a?c("tools.sync.saving"):x?c("tools.sync.cooldownLabel",{time:x}):c("tools.sync.buttonSave"),_=I.useMemo(()=>c(e?"tools.sync.statusUnsynced":n?"tools.sync.statusSynced":"tools.sync.statusNever"),[e,n,c]),S=I.useMemo(()=>{if(e)return null;if(n){const E=typeof n=="string"?new Date(n):n;return`${c("tools.sync.lastSyncLabel")}: ${E.toLocaleTimeString()}`}return c("tools.sync.noChanges")},[e,n,c]),C=["rounded-xl border px-4 py-2 text-sm font-semibold uppercase tracking-wide transition focus:outline-none focus:ring-2 focus:ring-emerald-400/70",g?"cursor-not-allowed border-slate-700/70 bg-slate-800/70 text-slate-500":"border-emerald-400/60 bg-emerald-500/10 text-emerald-50 hover:border-emerald-300 hover:bg-emerald-500/20"].join(" ");return t.jsx("div",{className:"mt-4 rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[t.jsx("button",{type:"button",disabled:g,onClick:i,className:C,children:b}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:_}),S&&t.jsx("p",{className:"text-sm text-slate-200",children:S}),l&&t.jsx("p",{className:"text-sm text-rose-400",children:l})]})]})})}const Eg=3,SE="sfdatahub.tools.sets.v1",YC=[{id:"set-main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"set-twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],jd=[{id:"gemSim",labelKey:"tools.labels.gemSim",defaultLabel:"Gem Simulator",descriptionKey:"tools.descriptions.gemSim",defaultDescription:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeonPauseOpenXP",labelKey:"tools.labels.dungeonPause",defaultLabel:"Dungeon Pause",descriptionKey:"tools.descriptions.dungeonPause",defaultDescription:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xpDungeon",labelKey:"tools.labels.xpDungeon",defaultLabel:"XP Dungeon",descriptionKey:"tools.descriptions.xpDungeon",defaultDescription:"Slide fuer XP-Lauf-Planung als Platzhalter."}],Pje=300*1e3;async function Rje(s,e){const n=Zt(vo(pt,"user_tools_state"),s);console.log("[ToolsSync] userId param:",s,"doc path:",n.path);const r={version:1,updatedAt:Wi(),sets:e.sets,activeSetId:e.activeSetId,activeToolId:e.activeToolId};await xo(n,r,{merge:!1})}const Lje=()=>{if(typeof window=="undefined")return null;try{const s=window.localStorage.getItem(SE);if(!s)return null;const e=JSON.parse(s);return!e||e.version!==1||e.type!=="toolSet"||!Array.isArray(e.sets)?null:e}catch(s){return console.warn("Failed to parse persisted tools state",s),null}};function Dje(){var ct,Wt;const{t:s}=Ia(),{user:e,status:n,loginWithDiscord:r}=So(),i=n==="authenticated"&&!!e,a=I.useMemo(()=>Lje(),[]),l=I.useMemo(()=>{var je;return(je=a==null?void 0:a.sets)!=null&&je.length?a.sets.slice(0,Eg):YC},[a]),c=I.useMemo(()=>{var Qe,Ke,vt,kt;const je=a==null?void 0:a.activeSetId;return je&&l.some(qe=>qe.id===je)?je:(kt=(vt=(Qe=l[0])==null?void 0:Qe.id)!=null?vt:(Ke=YC[0])==null?void 0:Ke.id)!=null?kt:"set-main-dh"},[a,l]),u=I.useMemo(()=>{var Qe,Ke;const je=a==null?void 0:a.activeToolId;return je&&jd.some(vt=>vt.id===je)?je:(Ke=(Qe=jd[0])==null?void 0:Qe.id)!=null?Ke:"gemSim"},[a]),[h,p]=I.useState(l),[g,x]=I.useState(c),[b,_]=I.useState(u),[S,C]=I.useState(null),[E,F]=I.useState(""),[k,y]=I.useState(""),[w,P]=I.useState(!1),[T,N]=I.useState(null),[A,M]=I.useState(null),[R,B]=I.useState(!1),[$,z]=I.useState(null),U=I.useRef(null),W=I.useRef(!0);I.useEffect(()=>{if(typeof window!="undefined")try{const je={version:1,type:"toolSet",sets:h,activeSetId:g!=null?g:null,activeToolId:b};window.localStorage.setItem(SE,JSON.stringify(je))}catch(je){console.warn("Failed to persist tools state",je)}},[h,g,b]),I.useEffect(()=>{if(!i){P(!1),W.current=!0;return}if(W.current){W.current=!1;return}P(!0)},[i,h,g,b]);const K=I.useMemo(()=>{var je;return(je=h.find(Qe=>Qe.id===g))!=null?je:h[0]},[g,h]),q=I.useMemo(()=>{var je;return(je=jd.find(Qe=>Qe.id===b))!=null?je:jd[0]},[b]),se=(ct=K==null?void 0:K.tools)==null?void 0:ct.gemSim,ne=(Wt=K==null?void 0:K.tools)==null?void 0:Wt.dungeonPauseOpenXP,H=h.length,J=H>=Eg,le=()=>{if(J)return;const je=H+1,Qe=s("tools.sets.defaultName","New Set"),Ke={id:`set-${Date.now()}`,name:`${Qe} ${je}`,classLabel:"Class TBD",serverLabel:"Server TBD"};p(vt=>[...vt,Ke]),x(Ke.id)},oe=()=>{r()},he=()=>{if(!K){console.warn("No active set to export.");return}const je={version:1,type:"toolSet",set:K},Qe=new Blob([JSON.stringify(je,null,2)],{type:"application/json"}),Ke=URL.createObjectURL(Qe),vt=document.createElement("a"),kt=K.name.toLowerCase().replace(/\s+/g,"-");vt.href=Ke,vt.download=`sfdatahub-set-${kt}.json`,vt.click(),URL.revokeObjectURL(Ke)},xe=()=>{var je;(je=U.current)==null||je.click()},Re=je=>{var qe,Ce;if(h.length<=1){alert(s("tools.sets.deleteLastForbidden"));return}const Qe=s("tools.sets.deleteConfirmTitle"),Ke=s("tools.sets.deleteConfirmText");if(!window.confirm(`${Qe}

${Ke}`))return;const vt=h.filter(ze=>ze.id!==je),kt=je===g?(Ce=(qe=vt[0])==null?void 0:qe.id)!=null?Ce:null:g;p(vt),kt&&x(kt)},Z=je=>{const Qe=h.find(Ke=>Ke.id===je);Qe&&(C(je),F(Qe.name),y(""))},fe=()=>{C(null),F(""),y("")},ie=()=>{if(!S)return;const je=E.trim();if(!je){y(s("tools.sets.renameErrorEmpty"));return}p(Qe=>Qe.map(Ke=>Ke.id===S?{...Ke,name:je}:Ke)),C(null),F(""),y("")},_e=async je=>{var Ke,vt;const Qe=(vt=(Ke=je.target)==null?void 0:Ke.files)==null?void 0:vt[0];if(Qe)try{if(h.length>=Eg){alert(s("tools.sets.importErrorMaxReached"));return}const kt=await Qe.text(),qe=JSON.parse(kt);if((qe==null?void 0:qe.version)!==1||(qe==null?void 0:qe.type)!=="toolSet"||typeof(qe==null?void 0:qe.set)!="object")throw new Error("invalid payload");const{set:Ce}=qe;if(typeof(Ce==null?void 0:Ce.name)!="string"||typeof(Ce==null?void 0:Ce.classLabel)!="string"||typeof(Ce==null?void 0:Ce.serverLabel)!="string")throw new Error("invalid set");const ze={...Ce,id:`imported-${Date.now()}`,name:Ce.name,classLabel:Ce.classLabel,serverLabel:Ce.serverLabel};p(St=>[...St,ze]),x(ze.id)}catch(kt){console.error("Failed to import set",kt),alert(s("tools.sets.importErrorInvalid"))}finally{je.target.value=""}},be=je=>{g&&(p(Qe=>Qe.map(Ke=>{var kt;if(Ke.id!==g)return Ke;const vt={...(kt=Ke.tools)!=null?kt:{},gemSim:je};return{...Ke,tools:vt}})),P(!0))},Se=je=>{g&&(p(Qe=>Qe.map(Ke=>{var kt;if(Ke.id!==g)return Ke;const vt={...(kt=Ke.tools)!=null?kt:{},dungeonPauseOpenXP:je};return{...Ke,tools:vt}})),P(!0))},Ve=`${H}/${Eg}`,Ue=s(q.labelKey,q.defaultLabel),tt=s(q.descriptionKey,q.defaultDescription),Je=async()=>{if(!i)return;const je=e==null?void 0:e.id;if(!(!je||R||A!==null&&A>Date.now())&&w){B(!0),z(null);try{await Rje(je,{sets:h,activeSetId:g,activeToolId:b});const Ke=Date.now(),vt=Ke+Pje;P(!1),N(new Date(Ke)),M(vt)}catch(Ke){console.error("Failed to sync tools state",Ke),z(s("tools.sync.error"))}finally{B(!1)}}};return t.jsx(zt,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:t.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),t.jsx("span",{className:"text-xs text-slate-400",children:Ve})]}),t.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[h.map(je=>{const Qe=je.id===g;return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:()=>x(je.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Qe?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-50",children:je.name}),t.jsx("span",{role:"button",tabIndex:0,onClick:Ke=>{Ke.stopPropagation(),Z(je.id)},onKeyDown:Ke=>{(Ke.key==="Enter"||Ke.key===" ")&&(Ke.preventDefault(),Ke.stopPropagation(),Z(je.id))},"aria-label":s("tools.sets.rename"),className:"rounded-full border border-transparent p-1 text-slate-300 transition hover:border-slate-500 hover:text-white",children:t.jsx(PD,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"text-xs text-emerald-200/90",children:je.classLabel}),t.jsx("div",{className:"text-xs text-slate-400",children:je.serverLabel}),Qe&&t.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]}),h.length>1&&t.jsx("button",{type:"button",onClick:Ke=>{Ke.stopPropagation(),Re(je.id)},className:"absolute bottom-2 right-2 rounded-full border border-slate-600/60 bg-slate-900/80 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-slate-200 transition hover:border-slate-400 hover:text-white",children:s("tools.sets.delete")})]},je.id)}),t.jsxs("button",{type:"button",onClick:le,disabled:J,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",J?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[t.jsx("span",{className:"text-lg",children:"+"}),t.jsx("span",{children:h.length>=3?"Max erreicht":"Neues Set"})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[t.jsx("button",{type:"button",onClick:he,className:"rounded-xl border border-slate-600/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400/80 hover:bg-slate-800/60",children:s("tools.sets.exportActive")}),t.jsx("button",{type:"button",onClick:xe,className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200 transition hover:border-emerald-300 hover:bg-emerald-500/20",children:s("tools.sets.import")})]}),t.jsx("input",{ref:U,type:"file",accept:"application/json",className:"hidden",onChange:_e})]}),t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[t.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),t.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:jd.map(je=>{const Qe=je.id===b,Ke=s(je.labelKey,je.defaultLabel);return t.jsxs("button",{type:"button",onClick:()=>_(je.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Qe?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[t.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),t.jsx("span",{children:Ke})]},je.id)})})]}),t.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:s("tools.banner.accountComingSoon")}),t.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:s("tools.banner.accountTitle")})]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[s("tools.banner.featureSetComparison"),s("tools.banner.featureIntegration"),s("tools.banner.featureCloudSync")].map(je=>t.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:s("tools.banner.accountComingSoon")}),t.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:je})]},je))})]}),t.jsx(Eje,{isLoggedIn:i,hasUnsyncedChanges:w,lastSyncedAt:T,cooldownUntil:A,onSyncClick:Je,isSaving:R,syncError:$})]}):t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:s("tools.banner.guestTitle")}),t.jsx("p",{className:"text-sm text-slate-400",children:s("tools.banner.guestDescription")}),t.jsx("ul",{className:"text-sm text-slate-300",children:[s("tools.banner.featureSetComparison"),s("tools.banner.featureIntegration"),s("tools.banner.featureCloudSync")].map(je=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),t.jsx("span",{children:je})]},je))})]}),t.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:t.jsx("button",{type:"button",onClick:oe,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:s("tools.banner.guestLoginCta")})})]})}),t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),t.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:Ue}),t.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(K==null?void 0:K.name)||"kein Set"]})]}),t.jsx("div",{className:"flex gap-2",children:jd.map(je=>t.jsx("div",{className:["h-2 w-8 rounded-full transition",b===je.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},je.id))})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsx("div",{className:"text-sm text-slate-300",children:tt}),t.jsx("div",{className:"mt-4",children:b==="gemSim"?t.jsx(qA,{initialState:se,onStateChange:be}):b==="dungeonPauseOpenXP"?t.jsx(XA,{initialState:ne,onStateChange:Se},g):t.jsxs("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",t.jsx("br",{}),"(z. B. ",Ue,")"]})})]}),t.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),t.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:K==null?void 0:K.name}),t.jsx("div",{className:"text-sm text-emerald-200/90",children:K==null?void 0:K.classLabel}),t.jsx("div",{className:"text-xs text-slate-400",children:K==null?void 0:K.serverLabel})]}),t.jsxs("div",{className:"rounded-2xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",t.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]}),S&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:fe}),t.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-slate-700/80 bg-slate-900/95 p-6 shadow-2xl",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:s("tools.sets.renameTitle")}),t.jsx("label",{className:"mt-4 block text-xs uppercase tracking-[0.3em] text-slate-400",children:s("tools.sets.renameLabel")}),t.jsx("input",{value:E,onChange:je=>F(je.target.value),autoFocus:!0,className:"mt-2 w-full rounded-xl border border-slate-700/70 bg-slate-900/60 px-4 py-2 text-sm text-slate-50 outline-none transition focus:border-emerald-400",placeholder:s("tools.sets.renamePlaceholder")}),k&&t.jsx("p",{className:"mt-2 text-xs text-rose-400",children:k}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:fe,className:"rounded-xl border border-slate-600/80 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400 hover:bg-slate-800/60",children:s("tools.sets.renameCancel")}),t.jsx("button",{type:"button",onClick:ie,className:"rounded-xl border border-emerald-400/60 bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/80",children:s("tools.sets.renameSave")})]})]})]})]})})}const E0=50,Mje=3,Fje=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),P0=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function Bje(){var w,P;const[s]=Cl(),e=(P=(w=s.get("q"))==null?void 0:w.trim())!=null?P:"",n=Fje(e),[r,i]=X.useState([]),[a,l]=X.useState([]),[c,u]=X.useState(null),[h,p]=X.useState(null),[g,x]=X.useState(!1),[b,_]=X.useState(!1),[S,C]=X.useState(!1),[E,F]=X.useState(null),k=async T=>{const N=Bn("Search:results");try{const A=Sn(kp(pt,"latest"),Ci("nameFold"),hl(n),pl(n+""),...T?[NO(T)]:[],Mn(E0)),M=await dn(N,{},()=>cn(A)),R=M.docs.length?M.docs[M.docs.length-1]:null,B=[],$=[];M.forEach(z=>{var se,ne,H,J,le,oe,he,xe,Re,Z,fe,ie,_e,be,Se,Ve,Ue,tt,Je,ct,Wt,je,Qe,Ke,vt,kt,qe,Ce,ze,St,Bt,ks;const U=z.data(),W=(se=z.ref.parent)==null?void 0:se.parent,K=(ne=W==null?void 0:W.parent)==null?void 0:ne.id,q=(H=W==null?void 0:W.id)!=null?H:z.id;K==="players"?B.push({id:q,name:(oe=(le=U.name)!=null?le:(J=U.values)==null?void 0:J.Name)!=null?oe:null,server:(Re=(xe=U.server)!=null?xe:(he=U.values)==null?void 0:he.Server)!=null?Re:null,className:(ie=(fe=U.className)!=null?fe:(Z=U.values)==null?void 0:Z.Class)!=null?ie:null,level:P0((be=U.level)!=null?be:(_e=U.values)==null?void 0:_e.Level)}):K==="guilds"&&$.push({id:q,name:(Ue=(Ve=U.name)!=null?Ve:(Se=U.values)==null?void 0:Se.Name)!=null?Ue:null,server:(ct=(Je=U.server)!=null?Je:(tt=U.values)==null?void 0:tt.Server)!=null?ct:null,memberCount:P0((Ke=(je=U.memberCount)!=null?je:(Wt=U.values)==null?void 0:Wt["Guild Member Count"])!=null?Ke:(Qe=U.values)==null?void 0:Qe.GuildMemberCount),hofRank:P0((ks=(St=(Ce=(kt=U.hofRank)!=null?kt:(vt=U.values)==null?void 0:vt["Hall of Fame Rank"])!=null?Ce:(qe=U.values)==null?void 0:qe.HoF)!=null?St:(ze=U.values)==null?void 0:ze.Rank)!=null?ks:(Bt=U.values)==null?void 0:Bt["Guild Rank"])})}),i(z=>[...z,...B]),l(z=>[...z,...$]),u(R),p(R),x(M.docs.length===E0),_(M.docs.length===E0)}finally{tn(N)}};X.useEffect(()=>{if(n.length<Mje){F("Type at least 3 characters to search.");return}F(null),i([]),l([]),u(null),p(null),x(!1),_(!1),C(!0),k().catch(T=>F((T==null?void 0:T.message)||"Search failed")).finally(()=>C(!1))},[n]);const y=()=>{S||(C(!0),k(c||h).catch(T=>F((T==null?void 0:T.message)||"Search failed")).finally(()=>C(!1)))};return t.jsxs(zt,{title:"Search",subtitle:e?`Results for ${e}`:"",children:[E&&t.jsx("p",{style:{color:"#ff9c9c",marginBottom:12},children:E}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[t.jsxs("section",{children:[t.jsx("h3",{children:"Players"}),r.map(T=>{var N,A,M;return t.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700},children:(N=T.name)!=null?N:T.id}),t.jsxs("div",{style:{opacity:.8},children:[(A=T.className)!=null?A:"?","  ",(M=T.server)!=null?M:"?","  ",T.level!=null?`Lvl ${T.level}`:"Lvl ?"]})]},T.id)})]}),t.jsxs("section",{children:[t.jsx("h3",{children:"Guilds"}),a.map(T=>{var N,A;return t.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700},children:(N=T.name)!=null?N:T.id}),t.jsxs("div",{style:{opacity:.8},children:[(A=T.server)!=null?A:"?"," "," ",T.memberCount!=null?`${T.memberCount} members`:"Members ?"," "," ",T.hofRank!=null?`HoF #${T.hofRank}`:"HoF ?"]})]},T.id)})]})]}),(g||b)&&t.jsx("div",{style:{marginTop:16},children:t.jsx("button",{type:"button",onClick:y,disabled:S,style:{padding:"10px 14px"},children:S?"Loading":"Load more"})})]})}const $je="_backdrop_19xh2_1",Oje="_panel_19xh2_19",Vje="_header_19xh2_43",Uje="_tabs_19xh2_63",zje="_tabBtn_19xh2_75",Hje="_tabActive_19xh2_97",Gje="_closeBtn_19xh2_101",Wje="_content_19xh2_123",pa={backdrop:$je,panel:Oje,header:Vje,tabs:Uje,tabBtn:zje,tabActive:Hje,closeBtn:Gje,content:Wje},fa=s=>{if(typeof s=="number")return s;if(s==null)return 0;let e=String(s).trim();if(!e||e==="-"||e.toLowerCase()==="nan")return 0;e=e.replace(/\s+/g,"").replace(/\.(?=\d{3}\b)/g,"").replace(/,/g,".");const n=Number(e);return Number.isFinite(n)?n:0},qje=s=>{if(!s)return{group:"ALL",serverKey:"all"};const e=String(s).toUpperCase();let n=e.match(/S?(\d+)[._-]?EU|S(\d+)\.SFGAME\.EU/);return n?{group:"EU",serverKey:`EU${n[1]||n[2]}`}:e.includes("AM1")||e.includes("S1.SFGAME.US")?{group:"US",serverKey:"AM1"}:e.includes("MAERWYNN")?{group:"INT",serverKey:"MAERWYNN"}:(n=e.match(/F(\d+)/),n?{group:"FUSION",serverKey:`F${n[1]}`}:{group:"ALL",serverKey:"all"})},Kje={Warrior:"Base Strength",Berserker:"Base Strength",Paladin:"Base Strength",Scout:"Base Dexterity",Assassin:"Base Dexterity","Demon Hunter":"Base Dexterity",Bard:"Base Dexterity",Mage:"Base Intelligence","Battle Mage":"Base Intelligence",Necromancer:"Base Intelligence",Druid:"Base Intelligence"},dl=(s,e)=>s&&Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0,Qje=s=>{const e={str:fa(dl(s,"Base Strength")),dex:fa(dl(s,"Base Dexterity")),intl:fa(dl(s,"Base Intelligence")),con:fa(dl(s,"Base Constitution")),luck:fa(dl(s,"Base Luck"))},n=e.str+e.dex+e.intl+e.con+e.luck;return{...e,sum:n}},Xje=(s,e)=>{var N,A;const{playerId:n,name:r,className:i,level:a,server:l,guildIdentifier:c,guildName:u,timestamp:h,updatedAt:p,values:g={}}=s||{},x=fa(a),{group:b,serverKey:_}=qje(l),S=Qje(g),C=(N=Kje[String(i)])!=null?N:"Base Intelligence",E=fa(dl(g,C)),F=S.sum,k=S.con,y=x>0?F/x:0,w=fa(dl(g,"Gem Mine")),P=fa(dl(g,"Treasury")),T=e?e():null;return{playerId:String(n!=null?n:""),name:String(r!=null?r:""),class:String(i!=null?i:""),level:x,group:b,serverKey:_,guildId:c?String(c):"",guildName:u?String(u):"",sum:F,main:E,con:k,ratio:y,mine:w,treasury:P,timestamp:fa(h),updatedAtFromLatest:(A=p!=null?p:T)!=null?A:null}},ki=s=>String(s!=null?s:"").trim(),NE=s=>ki(s).toUpperCase(),Jt=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,""),JC=s=>s<10?`0${s}`:String(s),Yje=s=>{const e=s?new Date(s*1e3):new Date;return+`${e.getFullYear()}${JC(e.getMonth()+1)}${JC(e.getDate())}`},tf=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),ZC=s=>{const e=tf(s);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},e5=s=>{const e=new Set;for(const n of s)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},t5=s=>{var n;const e=String((n=s==null?void 0:s.code)!=null?n:"").toLowerCase();return e.includes("permission")||e.includes("already")||e.includes("failed-precondition")},z1=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},s5=s=>{const e=z1(s);return Number.isFinite(e!=null?e:NaN)?Math.trunc(e):null},Jje=s=>{const e=Jt(s);for(const[n,r]of Object.entries(kE))if(Jt(r)===e)return Number(n);return null},n5=s=>{var a;const e=s==null?"":String(s).trim();if(!e)return{classId:null,className:null};const n=Number(e);if(Number.isInteger(n)&&!Number.isNaN(n)){const l=n;return{classId:l,className:(a=kE[l])!=null?a:String(l)}}return{classId:Jje(e),className:e}},Ps={PLAYERS:{IDENTIFIER:Jt("Identifier"),PID:Jt("ID"),GUILD_IDENTIFIER:Jt("Guild Identifier"),SERVER:Jt("Server"),NAME:Jt("Name"),TIMESTAMP:Jt("Timestamp"),LEVEL:Jt("Level"),CLASS:Jt("Class"),GUILD:Jt("Guild")},GUILDS:{GUILD_IDENTIFIER:Jt("Guild Identifier"),SERVER:Jt("Server"),NAME:Jt("Name"),MEMBER_COUNT:Jt("Guild Member Count"),TIMESTAMP:Jt("Timestamp"),HOF:Jt("Hall of Fame Rank"),HOF_ALT:Jt("HoF"),RANK:Jt("Rank"),GUILD_RANK:Jt("Guild Rank")}},kE={1:"Warrior",2:"Mage",3:"Scout",4:"Assassin",5:"Battle Mage",6:"Berserker",7:"Demon Hunter",8:"Bard"},CE=[Ps.PLAYERS.LEVEL,Jt("Level"),Jt("Lvl"),Jt("Stufe")],TE=[Ps.PLAYERS.CLASS,Jt("Class"),Jt("ClassID"),Jt("Class ID"),Jt("CharClass"),Jt("Klasse")],IE=s=>{const e=new Map;return s.forEach(n=>{const r=Jt(n);e.has(r)||e.set(r,n)}),e},Md=s=>{const e=new Set;for(const n of s)Object.keys(n).forEach(r=>e.add(r));return Array.from(e)},li=(s,e,n)=>{const r=e.get(n);return r&&Object.prototype.hasOwnProperty.call(s,r)?s[r]:Ja(s,n)},H1=(s,e,n)=>n.map(r=>li(s,e,r)).find(r=>r!=null&&String(r)!==""),Zje=new Set([Jt("Strength"),Jt("Dexterity"),Jt("Intelligence"),Jt("Constitution"),Jt("Luck"),Jt("Attribute")]),e2e=["equipment"],t2e=s=>Zje.has(s)||e2e.some(e=>s.includes(e)),Ja=(s,e)=>{for(const n of Object.keys(s))if(Jt(n)===e)return s[n]};function Uf(s){if(s==null)return null;const e=String(s).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,l=Number(n[3]),c=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,p=new Date(l,a,i,c,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function r5(s){const e=new Date(s*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),a=Math.ceil(((+n-+i)/864e5+1)/7),l=n.getUTCFullYear(),c=a.toString().padStart(2,"0");return`${l}-W${c}`}function i5(s){const e=new Date(s*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),a=i+7*86400-1;return{start:i,end:a}}function a5(s){const e=new Date(s*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function o5(s){const e=new Date(s*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function s2e(s){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(s.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function zf(s){var u;const n=s.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=s2e((u=n[0])!=null?u:""),i=h=>{const p=[];let g="",x=!1;for(let b=0;b<h.length;b++){const _=h[b];_==='"'?x&&h[b+1]==='"'?(g+='"',b++):x=!x:_===r&&!x?(p.push(g),g=""):g+=_}return p.push(g),p},l=(n[0]?i(n[0]).map(ki):[]).map((h,p)=>h||`col${p}`),c=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const p=i(n[h]);if(p.every(x=>ki(x)===""))continue;const g={};for(let x=0;x<l.length;x++)g[l[x]]=p[x]!=null?ki(p[x]):"";c.push(g)}return{headers:l,rows:c}}function n2e(s){const e={};for(let n=0;n<s.length;n++){const r=Jt(s[n]);CE.includes(r)&&e.levelIndex==null&&(e.levelIndex=n),TE.includes(r)&&e.classIndex==null&&(e.classIndex=n)}if(e.levelIndex==null){const n=s.findIndex(r=>r.trim()==="Level");n>=0&&(e.levelIndex=n)}if(e.classIndex==null){const n=s.findIndex(r=>r.trim()==="Class");n>=0&&(e.classIndex=n)}return e}function AE(s,e){var c;const n=e&&e.length?e:Md(s),r=IE(n),i={missingIdentifier:0,badTimestamp:0,missingServer:0},a=[],l=n2e(n);for(const u of s){const h=(c=li(u,r,Ps.PLAYERS.PID))!=null?c:li(u,r,Ps.PLAYERS.IDENTIFIER),p=ki(h);if(!p){i.missingIdentifier++;continue}const g=Uf(li(u,r,Ps.PLAYERS.TIMESTAMP));if(g==null){i.badTimestamp++;continue}const x=li(u,r,Ps.PLAYERS.SERVER),b=x&&ki(x)!==""?NE(x):void 0;if(!b){i.missingServer++;continue}const _=li(u,r,Ps.PLAYERS.NAME),S=_!=null&&ki(_)!==""?String(_):null,C=li(u,r,Ps.PLAYERS.GUILD_IDENTIFIER),E=C!=null&&ki(C)!==""?String(C):null,F=li(u,r,Ps.PLAYERS.GUILD),k=F!=null&&ki(F)!==""?String(F):null,y=l.levelIndex!=null?s5(u[n[l.levelIndex]]):s5(H1(u,r,CE)),w=l.classIndex!=null?n5(u[n[l.classIndex]]):n5(H1(u,r,TE));a.push({playerId:p,server:b,name:S,timestampSec:g,guildIdentifier:E,guildName:k,level:y,classId:w.classId,className:w.className,raw:u})}return{rows:a,stats:i,headers:n}}function EE(s,e){const n=e&&e.length?e:Md(s),r=IE(n),i={missingIdentifier:0,badTimestamp:0,missingServer:0},a=[];for(const l of s){const c=li(l,r,Ps.GUILDS.GUILD_IDENTIFIER),u=ki(c);if(!u){i.missingIdentifier++;continue}const h=Uf(li(l,r,Ps.GUILDS.TIMESTAMP));if(h==null){i.badTimestamp++;continue}const p=li(l,r,Ps.GUILDS.SERVER),g=p&&ki(p)!==""?NE(p):void 0;if(!g){i.missingServer++;continue}const x=li(l,r,Ps.GUILDS.NAME),b=x!=null&&ki(x)!==""?String(x):null,_=z1(li(l,r,Ps.GUILDS.MEMBER_COUNT)),S=z1(H1(l,r,[Ps.GUILDS.HOF,Ps.GUILDS.HOF_ALT,Ps.GUILDS.RANK,Ps.GUILDS.GUILD_RANK]));a.push({guildIdentifier:u,server:g,name:b,timestampSec:h,memberCount:_,hofRank:S,raw:l})}return{rows:a,stats:i,headers:n}}function r2e(s){const e=zf(s);return AE(e.rows,e.headers).rows}function i2e(s){const e=zf(s);return EE(e.rows,e.headers).rows}const l5="stats_cache_player_derived",a2e="stats_index_players_daily_compact",sf=40,c5=120;async function zd(s,e,n,r){r==null||r({phase:"prepare",current:0,total:s.length,pass:n});for(let i=0;i<s.length;i+=e){const a=EO(pt),l=s.slice(i,i+e);for(const c of l)c(a);r==null||r({phase:"write",current:Math.min(i+l.length,s.length),total:s.length,pass:n}),await a.commit(),await new Promise(c=>setTimeout(c,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}async function d5(s,e,n){var p,g,x;const r=[];if(!s.length)return r;let i=0,a=0,l=0,c=0;const u=b=>{e==null||e({phase:b,current:b==="done"?s.length:i,total:s.length,pass:"scans",created:a,duplicate:l,error:c,kind:n})};u("prepare");const h=pt.bulkWriter;if(typeof h=="function"){const b=h.call(pt,{throttling:!0}),_=()=>{i++,u("write")};for(const{ref:S,data:C,key:E}of s)b.create(S,C).then(()=>{a++,r.push({key:E,status:"created"}),_()}).catch(F=>{var y,w;const k=String((y=F==null?void 0:F.code)!=null?y:"").toLowerCase();k.includes("already")&&k.includes("exist")?(l++,r.push({key:E,status:"duplicate"})):(c++,r.push({key:E,status:"error",message:String((w=F==null?void 0:F.message)!=null?w:F)})),_()});try{await b.close()}catch(S){console.warn("[ImportCsv] bulkWriter close with errors",{error:S})}return u("done"),r}for(const{ref:b,data:_,key:S}of s){try{await xo(b,_),a++,r.push({key:S,status:"created"})}catch(C){const E=String((p=C==null?void 0:C.code)!=null?p:"").toLowerCase();E.includes("permission")||E.includes("already")?(l++,r.push({key:S,status:"duplicate",message:String((g=C==null?void 0:C.message)!=null?g:C)})):(c++,r.push({key:S,status:"error",message:String((x=C==null?void 0:C.message)!=null?x:C)}))}i++,u("write")}return u("done"),r}async function o2e(s,e,n,r){if(!s.length&&!e.length&&!n.length)return;const i=s.length+e.length+n.length,a=pt.bulkWriter;if(typeof a=="function"){const h=a.call(pt,{throttling:!0});r==null||r({phase:"prepare",current:0,total:i,pass:"latest"});for(const{ref:p,data:g}of s)h.set(p,g,{merge:!0});for(const{pid:p,data:g}of e)h.set(Zt(pt,`${l5}/${p}`),g,{merge:!0});for(const{ref:p,data:g}of n)h.set(p,g,{merge:!0});r==null||r({phase:"write",current:i,total:i,pass:"latest"}),await h.close(),r==null||r({phase:"done",current:1,total:1,pass:"latest"});return}const l=s.map(({ref:h,data:p})=>g=>g.set(h,p,{merge:!0})),c=e.map(({pid:h,data:p})=>g=>g.set(Zt(pt,`${l5}/${h}`),p,{merge:!0})),u=n.map(({ref:h,data:p})=>g=>g.set(h,p,{merge:!0}));await zd(l,sf,"latest",r),await zd(c,sf,"latest",r),await zd(u,sf,"latest",r)}function Pg(s,e){const n={};for(const r of e){const i=Jt(r);if(t2e(i)){let a=null,l;for(const c of s){const u=c.row[r];if(u==null||u==="")continue;const h=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(h)||(a==null||h>a)&&(a=h,l=u)}n[r]=l!=null?l:""}else{let a="";for(let l=s.length-1;l>=0;l--){const c=s[l].row[r];if(c!=null&&String(c)!==""){a=c;break}}n[r]=a}}return n}async function u5(s){var i;const e=await un(s);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const a=Uf(n.values.Timestamp);if(a!=null)return a}if((n==null?void 0:n.timestampRaw)!=null){const a=Uf(n.timestampRaw);if(a!=null)return a}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const a=Date.parse(r);return Number.isFinite(a)?Math.floor(a/1e3):0}return 0}async function h5(s,e){var p,g,x,b,_,S,C;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],a={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0},l=[],c=[];if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');const u=e.onProgress?(E=>{var F;return(F=e.onProgress)==null?void 0:F.call(e,{...E,kind:e.kind})}):void 0;if(e.kind==="players"){const E=[],F=[],k=[],y=new Map,w=[];let P=[],T=[];if(e.rows&&Array.isArray(e.rows))P=e.rows,T=Md(P);else if(e.raw&&typeof e.raw=="string"){const U=zf(e.raw);P=U.rows,T=U.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:N,stats:A,headers:M}=AE(P,T);a.skippedMissingIdentifier+=A.missingIdentifier,a.skippedBadTs+=A.badTimestamp,a.skippedMissingServer+=A.missingServer;const R=M.length?M:Md(P),B=new Map;for(const U of N){const W=`${U.playerId}__${U.server}__${U.timestampSec}`;E.push({key:W,ref:Zt(pt,`players/${U.playerId}/scans/${U.timestampSec}`),data:{playerId:U.playerId,server:U.server,timestamp:U.timestampSec,timestampRaw:Ja(U.raw,Ps.PLAYERS.TIMESTAMP),name:U.name,values:U.raw,createdAt:Wi()}}),B.has(U.playerId)||B.set(U.playerId,[]),B.get(U.playerId).push({row:U.raw,ts:U.timestampSec,parsed:U})}const $=await d5(E,u,"players");l.push(...$),a.writtenScanPlayers=$.filter(U=>U.status==="created").length;for(const[U,W]of B){W.sort((be,Se)=>be.ts-Se.ts);const K=W[W.length-1],q=K.parsed,se=q.server,ne=q.name,H=(p=q.level)!=null?p:null,J=(g=q.className)!=null?g:null,le=(x=q.guildName)!=null?x:null,oe=q.guildIdentifier,he=ne!=null?ne:"",xe=ZC(he),Re=e5(xe),Z=Zt(pt,`players/${U}/latest/latest`),fe=await u5(Z);if(K.ts>fe){const be=Wi();F.push({ref:Z,data:{playerId:U,server:se,timestamp:K.ts,timestampRaw:Ja(K.row,Ps.PLAYERS.TIMESTAMP),name:ne,values:K.row,updatedAt:be,nameFold:tf(he),nameTokens:xe,nameNgrams:Re,level:H,className:J,guildName:le,guildNameFold:le?tf(le):null}});const Se={playerId:U,name:ne,className:J,level:H,server:se,guildIdentifier:oe||void 0,guildName:le||void 0,values:K.row,timestamp:K.ts,updatedAt:be},Ve=Xje(Se,Wi);k.push({pid:U,data:Ve});const Ue=Yje(K.ts),tt=[{scopeId:"all_all_sum",group:"ALL",serverKey:"all"},{scopeId:`${Ve.group||"ALL"}_all_sum`,group:Ve.group||"ALL",serverKey:"all"}];Ve.serverKey&&Ve.serverKey!=="all"&&tt.push({scopeId:`${Ve.group||"ALL"}_${Ve.serverKey}_sum`,group:Ve.group||"ALL",serverKey:Ve.serverKey});for(const Je of tt){const ct=`${Ue}__${Je.scopeId}`;y.has(ct)||y.set(ct,{dateKey:Ue,scopeId:Je.scopeId,group:Je.group,serverKey:Je.serverKey,ids:[],vals:[]});const Wt=y.get(ct);Wt.ids.push(U),Wt.vals.push(Number((b=Ve.sum)!=null?b:0))}a.writtenLatestPlayers++}const ie=new Map,_e=new Map;for(const be of W){const Se=r5(be.ts),Ve=a5(be.ts);ie.has(Se)||ie.set(Se,[]),_e.has(Ve)||_e.set(Ve,[]),ie.get(Se).push(be),_e.get(Ve).push(be)}for(const[be,Se]of ie){Se.sort((Je,ct)=>Je.ts-ct.ts);const Ve=Pg(Se,R),Ue=i5(Se[Se.length-1].ts),tt=Se[Se.length-1];w.push(Je=>{const ct=Zt(pt,`players/${U}/history_weekly/${be}`);Je.set(ct,{playerId:U,weekId:be,periodStartSec:Ue.start,periodEndSec:Ue.end,lastTs:tt.ts,lastTimestampRaw:Ja(tt.row,Ps.PLAYERS.TIMESTAMP),server:tt.parsed.server,name:tt.parsed.name,values:Ve,updatedAt:Wi()},{merge:!0})}),a.writtenWeeklyPlayers++}for(const[be,Se]of _e){Se.sort((Je,ct)=>Je.ts-ct.ts);const Ve=Pg(Se,R),Ue=o5(Se[Se.length-1].ts),tt=Se[Se.length-1];w.push(Je=>{const ct=Zt(pt,`players/${U}/history_monthly/${be}`);Je.set(ct,{playerId:U,monthId:be,periodStartSec:Ue.start,periodEndSec:Ue.end,lastTs:tt.ts,lastTimestampRaw:Ja(tt.row,Ps.PLAYERS.TIMESTAMP),server:tt.parsed.server,name:tt.parsed.name,values:Ve,updatedAt:Wi()},{merge:!0})}),a.writtenMonthlyPlayers++}}const z=[];for(const{dateKey:U,scopeId:W,group:K,serverKey:q,ids:se,vals:ne}of y.values()){const H=se.map((he,xe)=>{var Re;return{id:he,val:(Re=ne[xe])!=null?Re:0}});H.sort((he,xe)=>xe.val-he.val);const J=H.map(he=>he.id),le=H.map(he=>he.val),oe=H.map((he,xe)=>xe+1);z.push({ref:Zt(pt,`${a2e}/${U}__${W}`),data:{n:H.length,ids:J,vals:le,ranks:oe,generatedAt:Date.now(),group:K,serverKey:q,metric:"sum",dateKey:U}})}await o2e(F,k,z,u),await zd(w,c5,"history",u)}if(e.kind==="guilds"){const E=[],F=[],k=[];let y=[],w=[];if(e.rows&&Array.isArray(e.rows))y=e.rows,w=Md(y);else if(e.raw&&typeof e.raw=="string"){const B=zf(e.raw);y=B.rows,w=B.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:P,stats:T,headers:N}=EE(y,w);a.skippedMissingGuildIdentifier+=T.missingIdentifier,a.skippedBadTsGuild+=T.badTimestamp,a.skippedMissingServer+=T.missingServer;const A=N.length?N:Md(y),M=new Map;for(const B of P){const $=`${B.guildIdentifier}__${B.server}__${B.timestampSec}`;E.push({key:$,ref:Zt(pt,`guilds/${B.guildIdentifier}/scans/${B.timestampSec}`),data:{guildIdentifier:B.guildIdentifier,server:B.server,timestamp:B.timestampSec,timestampRaw:Ja(B.raw,Ps.GUILDS.TIMESTAMP),name:B.name,values:B.raw,createdAt:Wi()}}),M.has(B.guildIdentifier)||M.set(B.guildIdentifier,[]),M.get(B.guildIdentifier).push({row:B.raw,ts:B.timestampSec,parsed:B})}const R=await d5(E,u,"guilds");c.push(...R),a.writtenScanGuilds=R.filter(B=>B.status==="created").length;for(const[B,$]of M){$.sort((he,xe)=>he.ts-xe.ts);const z=$[$.length-1],U=z.parsed,W=(_=U.name)!=null?_:"",K=ZC(W),q=e5(K),se=(S=U.memberCount)!=null?S:null,ne=(C=U.hofRank)!=null?C:null,H=Zt(pt,`guilds/${B}/latest/latest`),J=await u5(H);z.ts>J&&(F.push(he=>{he.set(H,{guildIdentifier:B,server:U.server,timestamp:z.ts,timestampRaw:Ja(z.row,Ps.GUILDS.TIMESTAMP),name:U.name,values:z.row,updatedAt:Wi(),nameFold:tf(W),nameTokens:K,nameNgrams:q,memberCount:se,hofRank:ne},{merge:!0})}),a.writtenLatestGuilds++);const le=new Map,oe=new Map;for(const he of $){const xe=r5(he.ts),Re=a5(he.ts);le.has(xe)||le.set(xe,[]),oe.has(Re)||oe.set(Re,[]),le.get(xe).push(he),oe.get(Re).push(he)}for(const[he,xe]of le){xe.sort((ie,_e)=>ie.ts-_e.ts);const Re=Pg(xe,A),Z=i5(xe[xe.length-1].ts),fe=xe[xe.length-1];k.push(ie=>{const _e=Zt(pt,`guilds/${B}/history_weekly/${he}`);ie.set(_e,{guildIdentifier:B,weekId:he,periodStartSec:Z.start,periodEndSec:Z.end,lastTs:fe.ts,lastTimestampRaw:Ja(fe.row,Ps.GUILDS.TIMESTAMP),server:fe.parsed.server,name:fe.parsed.name,values:Re,updatedAt:Wi()},{merge:!0})}),a.writtenWeeklyGuilds++}for(const[he,xe]of oe){xe.sort((ie,_e)=>ie.ts-_e.ts);const Re=Pg(xe,A),Z=o5(xe[xe.length-1].ts),fe=xe[xe.length-1];k.push(ie=>{const _e=Zt(pt,`guilds/${B}/history_monthly/${he}`);ie.set(_e,{guildIdentifier:B,monthId:he,periodStartSec:Z.start,periodEndSec:Z.end,lastTs:fe.ts,lastTimestampRaw:Ja(fe.row,Ps.GUILDS.TIMESTAMP),server:fe.parsed.server,name:fe.parsed.name,values:Re,updatedAt:Wi()},{merge:!0})}),a.writtenMonthlyGuilds++}}try{await zd(F,sf,"latest",u)}catch(B){if(t5(B))console.warn("[ImportCsv] guild latest write skipped (duplicate/permission)",{error:B});else throw B}try{await zd(k,c5,"history",u)}catch(B){if(t5(B))console.warn("[ImportCsv] guild history write skipped (duplicate/permission)",{error:B});else throw B}}const h=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:a,errors:r,warnings:i,durationMs:h-n,playerResults:l,guildResults:c}}const Dt=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,""),l2e=s=>String(s!=null?s:"").trim(),G1=s=>l2e(s).toUpperCase(),W1=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function hr(s,e){for(const n of Object.keys(s))if(Dt(n)===e)return s[n]}function Xa(s,e){for(const n of e){const r=hr(s,n);if(r!=null&&String(r)!=="")return r}}function lc(s){if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Hd(s){if(s==null)return null;const e=String(s).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,l=Number(n[3]),c=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,p=new Date(l,a,i,c,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const vn={GUILD_IDENTIFIER:Dt("Guild Identifier"),SERVER:Dt("Server"),NAME:Dt("Name"),TIMESTAMP:Dt("Timestamp"),LEVEL:Dt("Level"),CLASS:Dt("Class"),GUILD:Dt("Guild"),GUILD_ROLE:[Dt("Role"),Dt("Guild Role")],TREASURY:[Dt("Treasury"),Dt("Fortress Treasury"),Dt("Treasury Level"),Dt("Festungsschatzkammer")],MINE:[Dt("Mine"),Dt("Gem Mine"),Dt("Mine Level"),Dt("Festungsmine")],BASE_MAIN:[Dt("Base"),Dt("Base Attribute"),Dt("BaseMain"),Dt("Basis Attribut")],CON_BASE:[Dt("Con Base"),Dt("Constitution Base"),Dt("Base Constitution"),Dt("Basis Konstitution"),Dt("conbase")],ATTR_TOT:[Dt("Attribute"),Dt("Attr Total"),Dt("Attribut"),Dt("Attribut Gesamt")],CON_TOT:[Dt("Constitution"),Dt("Constitution Total"),Dt("Konstitution"),Dt("Konstitution Gesamt")],LAST_ACTIVE:[Dt("Last Active"),Dt("LastActivity"),Dt("Letzte Aktivitt")],GUILD_JOINED:[Dt("Guild Joined"),Dt("Joined Guild"),Dt("Gildenbeitritt")]},nf={GUILD_IDENTIFIER:Dt("Guild Identifier"),SERVER:Dt("Server"),NAME:Dt("Name")};function p5(s){const e=String(s||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function c2e(s){let e=5381;for(let n=0;n<s.length;n++)e=e*33^s.charCodeAt(n);return(e>>>0).toString(36)}function d2e(s){var n;const e=new Map;for(const r of s){const i=String((n=hr(r,nf.GUILD_IDENTIFIER))!=null?n:"").trim(),a=hr(r,nf.SERVER),l=hr(r,nf.NAME);if(!i||!a||!l)continue;const c=`${G1(a)}__${W1(String(l))}`;e.set(c,i)}return e}function u2e(s){var k,y;const e=hr(s,vn.TIMESTAMP),n=Hd(e),r=Xa(s,vn.LAST_ACTIVE),i=Hd(r),a=Xa(s,vn.GUILD_JOINED),l=Hd(a),c=lc(hr(s,vn.LEVEL)),u=(()=>{const w=hr(s,vn.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),h=(()=>{const w=Xa(s,vn.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),p=lc(Xa(s,vn.TREASURY)),g=lc(Xa(s,vn.MINE)),x=lc(Xa(s,vn.BASE_MAIN)),b=lc(Xa(s,vn.CON_BASE)),_=lc(Xa(s,vn.ATTR_TOT)),S=lc(Xa(s,vn.CON_TOT)),C=x!=null&&b!=null?x+b:null,E=_!=null&&S!=null?_+S:null,F=(()=>{const w=hr(s,vn.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((y=(k=s==null?void 0:s.ID)!=null?k:s==null?void 0:s.Identifier)!=null?y:""),name:F,class:u,role:h,level:c,treasury:p,mine:g,baseMain:x,conBase:b,sumBaseTotal:C,attrTotal:_,conTotal:S,totalStats:E,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:a!=null?String(a):null,guildJoinedMs:l!=null?l*1e3:null}}function Ya(s,e){const n=s.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}const h2e=s=>{const e=s==null?void 0:s.code;if(!e)return!1;const n=String(e).toLowerCase();return n==="permission-denied"||n==="already-exists"||n==="failed-precondition"};async function p2e(s){var l,c,u;const e=Zt(pt,`guilds/${s}/latest/latest`),n=await un(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(u=(c=r.timestampRaw)!=null?c:(l=r.values)==null?void 0:l.Timestamp)!=null?u:null;let a=null;return typeof r.timestamp=="number"?a=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(a=Hd(i)),{sec:a,raw:i}}async function m2e(s){const e=Zt(pt,`guilds/${s}/snapshots/members_summary`),n=await un(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=Hd(r.updatedAt);if(i!=null)return i}return 0}async function g2e(s,e){var l,c,u,h,p,g,x;const n=d2e(e||[]),r=new Set;for(const b of e||[]){const _=String((l=hr(b,nf.GUILD_IDENTIFIER))!=null?l:"").trim();_&&r.add(_)}for(const b of s||[]){const _=hr(b,vn.SERVER);let S=String((c=hr(b,vn.GUILD_IDENTIFIER))!=null?c:"").trim();if(!S){const C=(u=hr(b,vn.GUILD))!=null?u:b.Guild;if(C&&_){const E=`${G1(_)}__${W1(String(C))}`,F=n.get(E);F&&(S=F)}}S&&r.add(S)}let i=0,a=null;for(const b of r){const{sec:_,raw:S}=await p2e(b);if(_==null)continue;const C=await m2e(b);if(_<=C)continue;const E=new Map;for(const W of s||[]){const K=hr(W,vn.SERVER);let q=String((h=hr(W,vn.GUILD_IDENTIFIER))!=null?h:"").trim();if(!q){const H=(p=hr(W,vn.GUILD))!=null?p:W.Guild;if(H&&K){const J=`${G1(K)}__${W1(String(H))}`,le=n.get(J);le&&(q=le)}}if(q!==b)continue;const se=Hd(hr(W,vn.TIMESTAMP));if(se==null||se!==_)continue;const ne=String((x=(g=W==null?void 0:W.ID)!=null?g:W==null?void 0:W.Identifier)!=null?x:"").trim();ne&&(E.has(ne)||E.set(ne,W))}const F=Array.from(E.values()),k=[];for(const W of F)k.push(u2e(W));k.sort((W,K)=>{var ne,H;const q=p5(W.role),se=p5(K.role);return q!==se?q-se:((ne=W.name)!=null?ne:"").toLowerCase().localeCompare(((H=K.name)!=null?H:"").toLowerCase())});const y=Ya(k,"level"),w=Ya(k,"treasury"),P=Ya(k,"mine"),T=Ya(k,"baseMain"),N=Ya(k,"conBase"),A=Ya(k,"sumBaseTotal"),M=Ya(k,"attrTotal"),R=Ya(k,"conTotal"),B=Ya(k,"totalStats"),$=JSON.stringify({gid:b,tsSec:_,members:k.map(W=>{var K,q,se,ne,H,J,le,oe,he,xe,Re,Z,fe;return{id:W.id,name:(K=W.name)!=null?K:"",class:(q=W.class)!=null?q:"",role:(se=W.role)!=null?se:"",level:(ne=W.level)!=null?ne:null,treasury:(H=W.treasury)!=null?H:null,mine:(J=W.mine)!=null?J:null,baseMain:(le=W.baseMain)!=null?le:null,conBase:(oe=W.conBase)!=null?oe:null,sumBaseTotal:(he=W.sumBaseTotal)!=null?he:null,attrTotal:(xe=W.attrTotal)!=null?xe:null,conTotal:(Re=W.conTotal)!=null?Re:null,totalStats:(Z=W.totalStats)!=null?Z:null,guildJoinedMs:(fe=W.guildJoinedMs)!=null?fe:null}})}),z=c2e($),U=Zt(pt,`guilds/${b}/snapshots/members_summary`);try{await xo(U,{guildId:b,count:k.length,updatedAt:S!=null?S:String(_),updatedAtMs:_*1e3,hash:z,avgLevel:y,avgTreasury:w,avgMine:P,avgBaseMain:T,avgConBase:N,avgSumBaseTotal:A,avgAttrTotal:M,avgConTotal:R,avgTotalStats:B,members:k,updatedAtServer:Wi()},{merge:!0}),i++}catch(W){if(h2e(W)){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows duplicate/permission",{gid:b,error:W});continue}console.error("[ImportSelectionToDb] writeGuildSnapshotsFromRows fatal",{gid:b,error:W}),a=a||W}}if(a)throw a;return{guildsProcessed:r.size,snapshotsWritten:i}}function f2e(s){const e=new Date(s),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function v2e(s,e,n,r){var u,h,p;const i=Zt(pt,`guilds/${s}/history_monthly/${e}/snapshots/members_summary_first`),a=await un(i);if(!a.exists())return await xo(i,n,{merge:!1}),{first:n,firstTsMs:(u=n.updatedAtMs)!=null?u:n.timestamp?n.timestamp*1e3:r};const l=a.data(),c=(h=l.updatedAtMs)!=null?h:l.timestamp?l.timestamp*1e3:r;return r<c?(await xo(i,n,{merge:!1}),{first:n,firstTsMs:(p=n.updatedAtMs)!=null?p:n.timestamp?n.timestamp*1e3:r}):{first:l,firstTsMs:c}}async function x2e(s,e,n){const r=Zt(pt,`guilds/${s}/history_monthly/${e}`);await xo(r,n,{merge:!0})}function y2e(s){var F,k,y,w,P,T,N,A,M,R,B,$,z;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:a,latest:l,latestTsMs:c}=s,u=a!=null?Math.floor((c-a)/864e5):null,h=u!=null&&u<=40,p={available:h};h||(p.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const g={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:a?new Date(a).toISOString():null,toISO:new Date(c).toISOString(),fromTs:a?Math.floor(a/1e3):null,toTs:Math.floor(c/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:p};if(!h||!i)return g;const x=new Map;for(const U of i.members||[])U.playerId&&x.set(U.playerId,U);const b=[],_=[],S=[],C=[],E=[];for(const U of l.members||[]){if(!U.playerId)continue;const W=x.get(U.playerId)||null,K=(F=U.sumBaseTotal)!=null?F:null,q=(k=W==null?void 0:W.sumBaseTotal)!=null?k:null,se=K!=null&&q!=null?K-q:0,ne=(y=U.totalStats)!=null?y:null,H=(w=W==null?void 0:W.totalStats)!=null?w:null,J=ne!=null&&H!=null?ne-H:0;b.push({playerId:U.playerId,name:(P=U.name)!=null?P:null,class:(T=U.class)!=null?T:null,levelLatest:(N=U.level)!=null?N:null,baseLatest:K,baseDelta:se}),_.push({playerId:U.playerId,name:(A=U.name)!=null?A:null,base:K,stamDelta:null,shoDelta:null}),S.push({playerId:U.playerId,name:(M=U.name)!=null?M:null,stats:K,delta:se}),C.push({playerId:U.playerId,name:(R=U.name)!=null?R:null,total:ne,delta:J}),E.push({playerId:U.playerId,name:(B=U.name)!=null?B:null,class:($=U.class)!=null?$:null,stats:(z=U.baseMain)!=null?z:null,delta:(W==null?void 0:W.baseMain)!=null&&U.baseMain!=null?U.baseMain-W.baseMain:0})}return b.sort((U,W)=>{var K,q;return((K=W.baseDelta)!=null?K:-1/0)-((q=U.baseDelta)!=null?q:-1/0)}),S.sort((U,W)=>{var K,q;return((K=W.stats)!=null?K:-1/0)-((q=U.stats)!=null?q:-1/0)}),C.sort((U,W)=>{var K,q;return((K=W.total)!=null?K:-1/0)-((q=U.total)!=null?q:-1/0)}),_.sort((U,W)=>{var K,q;return((K=W.base)!=null?K:-1/0)-((q=U.base)!=null?q:-1/0)}),E.sort((U,W)=>{var K,q;return((K=W.stats)!=null?K:-1/0)-((q=U.stats)!=null?q:-1/0)}),{...g,mostBaseGained:b.slice(0,50),sumBaseStats:_.slice(0,50),highestBaseStats:S.slice(0,50),highestTotalStats:C.slice(0,50),mainAndCon:E.slice(0,50)}}const q1=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,""),m5=(s,e)=>{for(const n of Object.keys(s))if(q1(n)===e)return s[n]};async function PE(s,e){var p,g;const{playersRows:n,guildsRows:r}=s,i=[];let a=[],l=[],c=!0;const u=e!=null&&e.onProgress?(x,b)=>{var _;return(_=e.onProgress)==null?void 0:_.call(e,{...x,kind:b})}:void 0;try{const x=await h5(null,{kind:"guilds",rows:r,onProgress:u?b=>u(b,"guilds"):void 0});i.push(x),Array.isArray(x.guildResults)&&(l=x.guildResults)}catch(x){console.error("[ImportSelectionToDb] guild import error",x),c=!1}try{const x=await h5(null,{kind:"players",rows:n,onProgress:u?b=>u(b,"players"):void 0});i.push(x),Array.isArray(x.playerResults)&&(a=x.playerResults)}catch(x){console.error("[ImportSelectionToDb] player import error",x),c=!1}try{await g2e(n,r)}catch(x){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows skipped",x),c=!1}const h=new Set;for(const x of r){const b=m5(x,q1("Guild Identifier"));b&&h.add(String(b))}for(const x of n){const b=m5(x,q1("Guild Identifier"));b&&h.add(String(b))}for(const x of h){const b=Bn("ImportCsv:guildLatest"),_=Zt(pt,`guilds/${x}/snapshots/members_summary`);let S;try{S=await yo(b,_,()=>un(_))}finally{tn(b)}if(!S.exists())continue;const C=S.data(),E=Number((p=C.updatedAtMs)!=null?p:C.timestamp?C.timestamp*1e3:Date.now()),F=f2e(E);let k=null,y=null;try{const P=await v2e(x,F,C,E);k=P.first,y=P.firstTsMs}catch(P){console.warn("[ImportSelectionToDb] ensureFirstOfMonth skipped",{guildId:x,monthKey:F,error:P})}const w=y2e({guildId:x,monthKey:F,server:(g=C.server)!=null?g:null,first:k,firstTsMs:y,latest:C,latestTsMs:E});try{await x2e(x,F,w)}catch(P){console.warn("[ImportSelectionToDb] writeMonthlyDoc skipped",{guildId:x,monthKey:F,error:P})}}return{ok:c,players:a,guilds:l,reports:i}}const R0=s=>String(s!=null?s:"").trim(),Cr=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,"");function b2e(s){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(s.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function K1(s){var u;const n=s.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=b2e((u=n[0])!=null?u:""),i=h=>{const p=[];let g="",x=!1;for(let b=0;b<h.length;b++){const _=h[b];_==='"'?x&&h[b+1]==='"'?(g+='"',b++):x=!x:_===r&&!x?(p.push(g),g=""):g+=_}return p.push(g),p},l=(n[0]?i(n[0]).map(R0):[]).map((h,p)=>h||`col${p}`),c=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const p=i(n[h]);if(p.every(x=>R0(x)===""))continue;const g={};for(let x=0;x<l.length;x++)g[l[x]]=p[x]!=null?R0(p[x]):"";c.push(g)}return{headers:l,rows:c,delimiter:r}}const yn={PLAYERS:{IDENTIFIER:Cr("Identifier"),PID:Cr("ID"),GUILD_IDENTIFIER:Cr("Guild Identifier"),TIMESTAMP:Cr("Timestamp"),NAME:Cr("Name"),SERVER:Cr("Server"),OWN:Cr("Own")},GUILDS:{GUILD_IDENTIFIER:Cr("Guild Identifier"),GUILD_MEMBER_COUNT:Cr("Guild Member Count"),NAME:Cr("Name"),TIMESTAMP:Cr("Timestamp"),SERVER:Cr("Server")}},RE=(s,e)=>{const n=new Set(s.map(Cr));return e.every(r=>n.has(r))},ga=(s,e)=>{for(const n of Object.keys(s))if(Cr(n)===e)return s[n]};function _2e(s){const e=s.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function g5(s){const e=s.map(Cr),n=a=>e.includes(a);let r=0,i=0;return n(yn.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(yn.PLAYERS.IDENTIFIER)&&(r+=2),n(yn.PLAYERS.TIMESTAMP)&&(r+=1),n(yn.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(yn.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(yn.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(yn.PLAYERS.IDENTIFIER)?"players":"guilds"}function Q1(s,e){const n=_2e(s);if(n!=="unknown"){const i=g5(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=g5(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function LE(s){if(s==null)return null;const e=String(s).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function w2e(s,e){var r;const n=[];if(!RE(e,[yn.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of s){const a=ga(i,yn.PLAYERS.GUILD_IDENTIFIER);if(!a)continue;const l=ga(i,yn.PLAYERS.SERVER),c=l&&String(l).trim()!==""?String(l).trim().toUpperCase():void 0;n.push({guildIdentifier:String(a),id:ga(i,yn.PLAYERS.IDENTIFIER)||void 0,name:ga(i,yn.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(ga(i,yn.PLAYERS.OWN)).toLowerCase()),server:c,tsSec:(r=LE(ga(i,yn.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function j2e(s,e){const n=[];if(!RE(e,[yn.GUILDS.GUILD_IDENTIFIER,yn.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of s){const i=ga(r,yn.GUILDS.GUILD_IDENTIFIER),a=Number(ga(r,yn.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(a))continue;const l=LE(ga(r,yn.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:ga(r,yn.GUILDS.NAME)||void 0,memberCount:a,tsSec:l!=null?l:void 0})}return n}function DE(s){var c,u,h,p,g,x,b,_;let e=[],n=[];for(const S of s){const C=K1(S.text),{kind:E}=Q1(S.name,C.headers);E==="players"?e=e.concat(r2e(S.text)):E==="guilds"&&(n=n.concat(i2e(S.text)))}const r=[],i=new Map,a=new Map;for(const S of e){const C={playerId:S.playerId,name:(c=S.name)!=null?c:"",server:S.server,guildId:(u=S.guildIdentifier)!=null?u:void 0,level:(h=S.level)!=null?h:void 0,className:(p=S.className)!=null?p:void 0,scanTimestampSec:S.timestampSec};r.push(C),S.guildIdentifier&&(i.has(S.guildIdentifier)||i.set(S.guildIdentifier,[]),i.get(S.guildIdentifier).push(C),a.has(S.guildIdentifier)||a.set(S.guildIdentifier,S.server))}const l=[];for(const S of n){const C=(g=i.get(S.guildIdentifier))!=null?g:[];l.push({guildId:S.guildIdentifier,name:(x=S.name)!=null?x:S.guildIdentifier,server:S.server,memberCount:(b=S.memberCount)!=null?b:C.length,scanTimestampSec:S.timestampSec,members:C.map(E=>({playerId:E.playerId,name:E.name,level:E.level,className:E.className}))}),i.delete(S.guildIdentifier)}for(const[S,C]of i.entries()){if(!C.length)continue;const E=a.get(S);if(!E)continue;const F=C.reduce((k,y)=>Math.max(k,y.scanTimestampSec),C[0].scanTimestampSec);l.push({guildId:S,name:S,server:E,memberCount:C.length,scanTimestampSec:F,members:C.map(k=>({playerId:k.playerId,name:k.name,level:k.level,className:k.className}))})}return{filename:(_=s[0])==null?void 0:_.name,players:r,guilds:l}}function S2e(s,e){var C,E,F,k,y,w;const n=[],r=new Map;for(const P of s){const T=P.id||"",N=(C=P.server)==null?void 0:C.toUpperCase();if(T){const A=`${N!=null?N:"NO"}::${T}`;r.has(A)||r.set(A,{server:N,id:T,name:P.name||"",own:!!P.own})}}const i=r.size,a=s.length,l=Array.from(r.values()).filter(P=>P.own).length,c=new Map;for(const P of r.values())P.server&&c.set(P.server,((E=c.get(P.server))!=null?E:0)+1);const u=Array.from(c.entries()).map(([P,T])=>({server:P,players:T})).sort((P,T)=>T.players-P.players),h=u.length,p=new Map;for(const P of s)p.set(P.guildIdentifier,((F=p.get(P.guildIdentifier))!=null?F:0)+1);const g=new Set,x=new Map;for(const P of e)g.add(P.guildIdentifier),x.set(P.guildIdentifier,{name:P.name||"",declared:P.memberCount});for(const P of p.keys())g.add(P);let b=0;const _=[];for(const P of g){const T=(k=x.get(P))==null?void 0:k.declared,N=(y=p.get(P))!=null?y:0,A=T!=null&&N===T;A&&b++,_.push({id:P,name:((w=x.get(P))==null?void 0:w.name)||"",declaredCount:T!=null?T:0,playersCount:N,full:A})}[...x.values()].some(P=>Number.isFinite(P.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),_.sort((P,T)=>P.name?P.name.localeCompare(T.name):P.id.localeCompare(T.id));const S=Array.from(r.values()).sort((P,T)=>(P.server||"")===(T.server||"")?P.name.localeCompare(T.name):(P.server||"").localeCompare(T.server||""));return{totalPlayers:a,uniquePlayerIds:i,ownPlayers:l,servers:h,perServer:u,guildsRepresented:g.size,fullyScannedGuilds:b,notes:n,playersList:S,guildsList:_}}function ME({mode:s="db",onBuildUploadSession:e}){const[n,r]=I.useState([]),[i,a]=I.useState(null),[l,c]=I.useState(!1),[u,h]=I.useState(null),[p,g]=I.useState(!1),[x,b]=I.useState(null),[_,S]=I.useState([]),[C,E]=I.useState(null);I.useEffect(()=>{const R=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=R}},[]);const F=I.useCallback(async R=>{var B;c(!0),h(null),a(null),S([]),b(null);try{const $=Array.from(R).slice(0,2),z=[];let U=[],W=[];for(const K of $){const q=K,se=await q.text(),ne=K1(se),{kind:H,warn:J}=Q1(q.name,ne.headers);z.push({name:q.name,size:q.size||se.length,rows:ne.rows.length,delimiter:ne.delimiter,text:se,kind:H,warn:J}),H==="players"?U=U.concat(w2e(ne.rows,ne.headers)):H==="guilds"&&(W=W.concat(j2e(ne.rows,ne.headers)))}r(z),a(S2e(U,W))}catch($){h(String((B=$==null?void 0:$.message)!=null?B:$))}finally{c(!1)}},[]),k=I.useCallback(async R=>{!R||R.length===0||await F(R)},[F]),y=I.useCallback(async R=>{R.preventDefault();const B=R.dataTransfer.files;!B||!B.length||await F(B)},[F]),w=I.useCallback(()=>{const R=n.map(B=>({name:B.name,text:B.text}));return DE(R)},[n]);async function P(){var R;if(n.length){g(!0),E({phase:"prepare",current:0,total:0}),b(null),S([]);try{let B=[],$=[];for(const U of n){const W=K1(U.text),{kind:K}=Q1(U.name,W.headers);K==="players"&&(B=B.concat(W.rows)),K==="guilds"&&($=$.concat(W.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!B.length,hasGuildsCsv:!!$.length,playersRows:B.length,guildsRows:$.length}),!$.length)throw new Error('Guilds-CSV mit "Guild Identifier" + "Guild Member Count" + "Timestamp" nicht gefunden.');if(!B.length)throw new Error('Players-CSV mit "Guild Identifier" nicht gefunden.');const z=await PE({playersRows:B,guildsRows:$},{onProgress:U=>E(U)});E({phase:"done",current:1,total:1}),S(z.reports),b("Import abgeschlossen.")}catch(B){console.error("[UploadCenter] Import error:",B),b(`Fehler beim Import: ${(R=B==null?void 0:B.message)!=null?R:B}`)}finally{g(!1),setTimeout(()=>E(null),1200)}}}const T=I.useCallback(async()=>{var R;if(!(s!=="session"||!e||!n.length)){g(!0),b(null),S([]),h(null),E(null);try{const B=w();e(B),b("Session prepared locally.")}catch(B){console.error("[UploadCenter] Session build error:",B),b(`Fehler beim Import: ${(R=B==null?void 0:B.message)!=null?R:B}`)}finally{g(!1)}}},[s,e,n,w]),N=I.useMemo(()=>n.map(R=>`${R.name} (${R.rows} rows, ${R.delimiter}, ${R.kind}${R.warn?" ":""})`),[n]),A=I.useMemo(()=>n.reduce((R,B)=>R+B.rows,0),[n]),M=C?Math.floor(100*C.current/Math.max(1,C.total||1)):0;return t.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[t.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),t.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[N.map((R,B)=>t.jsx("span",{className:"uc-chip",title:n[B].warn||"",children:R},B)),n.length>0&&t.jsxs("span",{className:"uc-chip",children:["Total: ",A," rows"]})]}),t.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[C&&s==="db"&&t.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[t.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:t.jsx("div",{style:{width:`${M}%`,height:"100%",background:"#2E75F0"}})}),t.jsxs("span",{style:{color:"#D6E4F7"},children:[M,"%"]})]}),t.jsx("button",{onClick:s==="session"?T:P,disabled:!n.length||!i||p||s==="session"&&!e,className:"uc-btn",children:p?"Loading":s==="session"?"Add as Upload Session":"Load to DB"}),x&&t.jsx("span",{style:{color:x.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:x})]})]}),t.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[t.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),t.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:R=>k(R.target.files),disabled:l})]}),t.jsx("div",{onDragOver:R=>R.preventDefault(),onDrop:y,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),l&&t.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),u&&t.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[t.jsx("b",{children:"Fehler:"})," ",u]}),i&&t.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[t.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:t.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),t.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[t.jsx(ph,{label:"Eigene Charaktere (unique IDs)",value:i.ownPlayers}),t.jsx(ph,{label:"Spieler in Datei (eindeutige IDs)",value:i.uniquePlayerIds,hint:`Total (mit ID): ${i.totalPlayers}`}),t.jsx(ph,{label:"Vertretene Gilden (mit ID)",value:i.guildsRepresented}),t.jsx(ph,{label:"Vollstndig gescannte Gilden",value:i.fullyScannedGuilds}),t.jsx(ph,{label:"Verschiedene Server",value:i.servers})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),t.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{textAlign:"left"},children:"Server"}),t.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),t.jsx("tbody",{children:i.perServer.map(R=>t.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[t.jsx("td",{children:R.server}),t.jsx("td",{style:{textAlign:"right"},children:R.players})]},R.server))})]})]}),t.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[t.jsxs("details",{children:[t.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",i.playersList.length,")"]}),t.jsx("div",{style:{marginTop:8},children:t.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{textAlign:"left"},children:"Server"}),t.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),t.jsx("th",{style:{textAlign:"left"},children:"Name"}),t.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),t.jsx("tbody",{children:i.playersList.map((R,B)=>{var $,z;return t.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[t.jsx("td",{children:($=R.server)!=null?$:""}),t.jsx("td",{children:R.id}),t.jsx("td",{children:R.name||""}),t.jsx("td",{children:R.own?"":""})]},`${(z=R.server)!=null?z:"NO"}-${R.id}-${B}`)})})]})})]}),t.jsxs("details",{open:!0,children:[t.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",i.guildsList.length,")"]}),t.jsx("div",{style:{marginTop:8},children:t.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),t.jsx("th",{style:{textAlign:"left"},children:"Name"}),t.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),t.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),t.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),t.jsx("tbody",{children:i.guildsList.map((R,B)=>t.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[t.jsx("td",{children:R.id}),t.jsx("td",{children:R.name||""}),t.jsx("td",{style:{textAlign:"right"},children:R.declaredCount||0}),t.jsx("td",{style:{textAlign:"right"},children:R.playersCount}),t.jsx("td",{style:{textAlign:"center"},children:R.full?"":""})]},`${R.id}-${B}`))})]})})]})]}),!!i.notes.length&&t.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",t.jsx("ul",{children:i.notes.map((R,B)=>t.jsx("li",{children:R},B))})]})]})]})}function ph({label:s,value:e,hint:n}){return t.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[t.jsx("div",{style:{fontSize:12,opacity:.85},children:s}),t.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&t.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function N2e(){return t.jsxs("div",{children:[t.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),t.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",t.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function k2e(){const{isOpen:s,close:e,activeTab:n,setTab:r,canUse:i}=r_();return!s||!i?null:t.jsx("div",{className:pa.backdrop,onClick:e,children:t.jsxs("div",{className:pa.panel,onClick:a=>a.stopPropagation(),children:[t.jsxs("div",{className:pa.header,children:[t.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),t.jsxs("div",{className:pa.tabs,children:[t.jsx("button",{type:"button",className:`${pa.tabBtn} ${n==="csv"?pa.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),t.jsx("button",{type:"button",className:`${pa.tabBtn} ${n==="json"?pa.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),t.jsx("button",{type:"button",className:pa.closeBtn,onClick:e,children:"Schlieen"})]}),t.jsx("div",{className:pa.content,children:n==="csv"?t.jsx(ME,{mode:"db"}):t.jsx(N2e,{})})]})})}const FE="sfdatahub_upload_sessions_v1",L0={sessions:[],activeSessionId:null},C2e=()=>{var s,e,n,r,i,a;if(typeof window=="undefined")return L0;try{const l=window.localStorage.getItem(FE);if(!l)return L0;const c=JSON.parse(l);if(c&&typeof c=="object"){if("version"in c&&(c==null?void 0:c.version)===1&&c.type==="uploadCenter.sessions"&&Array.isArray(c.sessions)){const u=c;return{sessions:u.sessions,activeSessionId:(n=(e=u.activeSessionId)!=null?e:(s=u.sessions[0])==null?void 0:s.id)!=null?n:null}}if(Array.isArray(c.sessions)){const u=c;return{sessions:u.sessions,activeSessionId:(a=(i=u.activeSessionId)!=null?i:(r=u.sessions[0])==null?void 0:r.id)!=null?a:null}}}}catch(l){console.warn("[UploadCenterSessions] Failed to parse persisted state",l)}return L0},BE=I.createContext(null);function T2e({children:s}){const e=I.useMemo(()=>C2e(),[]),[n,r]=I.useState(()=>e.sessions),[i,a]=I.useState(()=>e.activeSessionId),l=I.useCallback(k=>({...k,players:k.players.map(y=>({...y,status:"pending"})),guilds:k.guilds.map(y=>({...y,status:"pending"}))}),[]);I.useEffect(()=>{if(typeof window!="undefined")try{const k={version:1,type:"uploadCenter.sessions",sessions:n,activeSessionId:i};window.localStorage.setItem(FE,JSON.stringify(k))}catch(k){console.warn("[UploadCenterSessions] Failed to persist state",k)}},[n,i]);const c=I.useCallback(k=>{const y=l(k);r(w=>[...w,y]),a(y.id)},[l]),u=I.useCallback(k=>{a(k)},[]),h=I.useCallback(k=>{r(y=>{const w=y.filter(P=>P.id!==k);return a(P=>{var T,N;return P===k?(N=(T=w[0])==null?void 0:T.id)!=null?N:null:P}),w})},[]),p=I.useCallback(()=>{r([]),a(null)},[]),g=I.useCallback((k,y,w,P)=>{r(T=>T.map(N=>{if(N.id!==k)return N;if(y==="player"){const M=N.players.map(R=>R.key===w?{...R,selected:P}:R);return{...N,players:M}}const A=N.guilds.map(M=>M.key===w?{...M,selected:P}:M);return{...N,guilds:A}}))},[]),x=I.useCallback((k,y,w)=>{r(P=>P.map(T=>{if(T.id!==k)return T;if(y==="player"){const A=T.players.map(M=>({...M,selected:w}));return{...T,players:A}}const N=T.guilds.map(A=>({...A,selected:w}));return{...T,guilds:N}}))},[]),b=I.useCallback((k,y,w)=>{r(P=>P.map(T=>{if(T.id!==k)return T;const N=T.guilds.find(B=>B.key===y);if(!N)return T;const A=N.guildId,M=T.players.map(B=>B.guildId===A?{...B,selected:w}:B),R=T.guilds.map(B=>B.key===y?{...B,selected:w}:B);return{...T,players:M,guilds:R}}))},[]),_=I.useCallback((k,y,w)=>{r(P=>P.map(T=>{if(T.id!==k)return T;let N;const A=T.players.map($=>$.key!==y?$:(N=$.guildId,{...$,selected:w}));if(!N)return{...T,players:A};const M=A.filter($=>$.guildId===N),R=M.length>0&&M.every($=>$.selected),B=T.guilds.map($=>$.guildId!==N?$:w===!1?{...$,selected:!1}:R?{...$,selected:!0}:$);return{...T,players:A,guilds:B}}))},[]),S=I.useCallback((k,y)=>{r(w=>w.map(P=>{if(P.id!==k)return P;const T=P.players.map(A=>({...A,selected:y})),N=P.guilds.map(A=>{if(!y)return{...A,selected:!1};const M=T.filter(B=>B.guildId===A.guildId),R=M.length>0&&M.every(B=>B.selected);return{...A,selected:R}});return{...P,players:T,guilds:N}}))},[]),C=I.useCallback((k,y)=>{r(w=>w.map(P=>{if(P.id!==k)return P;const T=P.guilds.map(A=>({...A,selected:y})),N=P.players.map(A=>y&&A.guildId?{...A,selected:!0}:!y&&A.guildId?{...A,selected:!1}:A);return{...P,guilds:T,players:N}}))},[]),E=I.useCallback((k,y,w,P)=>{console.log("[UploadSessions] setRecordStatus",{sessionId:k,kind:y,recordKey:w,status:P}),r(T=>T.map(N=>{if(N.id!==k)return N;if(y==="player"){const M=N.players.map(R=>R.key===w?{...R,status:P}:R);return{...N,players:M}}const A=N.guilds.map(M=>M.key===w?{...M,status:P}:M);return{...N,guilds:A}}))},[]),F=I.useMemo(()=>({sessions:n,activeSessionId:i,addSession:c,setActiveSession:u,removeSession:h,clearAllSessions:p,toggleRecordSelection:g,selectAllInSession:x,selectGuildWithPlayers:b,updateGuildSelectionFromPlayer:_,selectAllPlayersWithGuilds:S,selectAllGuildsWithPlayers:C,setRecordStatus:E}),[n,i,c,u,h,p,g,x,b,_,S,C,E]);return t.jsx(BE.Provider,{value:F,children:s})}function I2e(){const s=I.useContext(BE);if(!s)throw new Error("useUploadCenterSessions must be used within UploadCenterSessionsProvider");return s}const A2e="sfh:authNext";function E2e({route:s,featureId:e,fallback:n=null,children:r}){var S;const{isLoading:i,status:a}=So(),{resolveRule:l,canAccessFeature:c,canAccessRule:u,loading:h}=wv(),p=gr(),g=(S=e!=null?e:s)!=null?S:"/",x=X.useMemo(()=>l(g),[l,g]);X.useEffect(()=>{x||console.debug(`[FeatureGate] No rule found for target "${g}", allowing by default.`)},[x,g]);const b=X.useMemo(()=>!e&&!s?!0:x?u(x):c(g),[c,u,e,s,x,g]),_=X.useMemo(()=>x?!!(x.status==="logged_in"||x.minRole&&x.minRole!=="guest"||x.allowedRoles&&x.allowedRoles.length>0||x.allowedGroups&&x.allowedGroups.length>0||x.allowedUserIds&&x.allowedUserIds.length>0):!1,[x]);if(i||h)return null;if(!b){const C=a==="unauthenticated",E=p.pathname==="/login";if(_&&C&&!E){const F=`${p.pathname}${p.search||""}`,k=F.startsWith("/")&&!F.startsWith("//");typeof window!="undefined"&&window.sessionStorage&&k&&window.sessionStorage.setItem(A2e,F);const y=k?`/login?next=${encodeURIComponent(F)}`:"/login";return t.jsx(rl,{to:y,replace:!0})}return t.jsx(t.Fragment,{children:n})}return t.jsx(t.Fragment,{children:r})}const f5="pending";function v5(s,e,n){const r=s.players.map(a=>{var c;return{key:`${a.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:a.playerId,name:a.name,server:a.server,scanTimestampSec:a.scanTimestampSec,guildId:(c=a.guildId)!=null?c:void 0,level:a.level,className:a.className,selected:!0,status:f5}}),i=s.guilds.map(a=>{var u;const l=`${a.guildId}__${a.server}__${a.scanTimestampSec}`,c=a.members.map(h=>({key:`${h.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:h.playerId,name:h.name,level:h.level,className:h.className}));return{key:l,guildId:a.guildId,name:a.name,server:a.server,memberCount:(u=a.memberCount)!=null?u:a.members.length,scanTimestampSec:a.scanTimestampSec,members:c,selected:!0,status:f5}});return{id:e,createdAt:n,sourceFilename:s.filename,scanUploadId:void 0,players:r,guilds:i}}const rf=()=>{const s=new Date,e=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${e}-${n}-${r}`};async function P2e(s){var n,r,i,a;if(!s)return console.warn("[UploadCenterUsage] Missing userId, returning empty usage."),{date:null,guilds:0,players:0};const e=Zt(pt,"users",s);try{const l=await un(e);if(!l.exists())return console.warn("[UploadCenterUsage] User document does not exist.",{userId:s}),{date:null,guilds:0,players:0};const c=(n=l.data())==null?void 0:n.uploadCenter,u=(r=c==null?void 0:c.usage)!=null?r:{};return{date:typeof(u==null?void 0:u.date)=="string"?u.date:null,guilds:Number((i=u==null?void 0:u.guilds)!=null?i:0)||0,players:Number((a=u==null?void 0:u.players)!=null?a:0)||0}}catch(l){return console.error("[UploadCenterUsage] Failed to fetch usage data.",{userId:s,error:l}),{date:null,guilds:0,players:0}}}async function R2e(s,e,n){var b,_,S;if(!s){console.warn("[UploadCenterUsage] Missing userId, skipping usage update.");return}const r=rf(),i=Zt(pt,"users",s);let a;try{a=await un(i)}catch(C){console.error("[UploadCenterUsage] Failed to fetch user document.",{userId:s,error:C});return}if(!a.exists()){console.warn("[UploadCenterUsage] User document does not exist.",{userId:s});return}const l=(b=a.data())==null?void 0:b.uploadCenter,c=l==null?void 0:l.usage,u=(c==null?void 0:c.date)===r,h=u?Number((_=c==null?void 0:c.guilds)!=null?_:0):0,p=u?Number((S=c==null?void 0:c.players)!=null?S:0):0,g=h+Number(e!=null?e:0),x=p+Number(n!=null?n:0);try{await xo(i,{uploadCenter:{...l!=null?l:{},usage:{date:r,guilds:g,players:x}}},{merge:!0})}catch(C){console.error("[UploadCenterUsage] Failed to update usage data.",{userId:s,error:C})}}const gl={enabled:!0,dailyGuildLimit:9999,dailyPlayerLimit:999999},Hf=s=>{if(s==null||typeof s=="boolean"||typeof s=="string"&&s.trim()==="")return null;const e=Number(s);return Number.isFinite(e)&&e>=0?e:null},L2e=s=>{if(!s||typeof s!="object")return;const e={};return Object.entries(s).forEach(([n,r])=>{if(!r||typeof r!="object")return;const i=r,a=Hf(i.dailyGuildLimit),l=Hf(i.dailyPlayerLimit),c=i.enabled,u={};typeof c=="boolean"&&(u.enabled=c),a!==null&&(u.dailyGuildLimit=a),l!==null&&(u.dailyPlayerLimit=l),Object.keys(u).length>0&&(e[n]=u)}),Object.keys(e).length>0?e:void 0};async function D2e(s){const e=Zt(pt,"upload_quota_config","default");try{const n=await un(e);if(!n.exists())return console.warn("[UploadQuota] Missing config document. Using defaults."),gl;const r=n.data(),i=Hf(r==null?void 0:r.dailyGuildLimit),a=Hf(r==null?void 0:r.dailyPlayerLimit),l=L2e(r==null?void 0:r.roles),c={dailyGuildLimit:i!=null?i:gl.dailyGuildLimit,dailyPlayerLimit:a!=null?a:gl.dailyPlayerLimit};typeof(r==null?void 0:r.enabled)=="boolean"&&(c.enabled=r.enabled),l&&(c.roles=l);const u=r&&Object.prototype.hasOwnProperty.call(r,"dailyGuildLimit")&&i===null,h=r&&Object.prototype.hasOwnProperty.call(r,"dailyPlayerLimit")&&a===null;return(u||h)&&console.warn("[UploadQuota] Invalid config payload. Using defaults.",{data:r}),c}catch(n){return console.error("[UploadQuota] Failed to load quota config.",{userId:s==null?void 0:s.id,error:n}),gl}}function M2e(s,e){var a,l,c;const n=Array.isArray(e)?e.filter(u=>typeof u=="string"&&u.length>0):[],r=Number.isFinite(s.dailyGuildLimit)?s.dailyGuildLimit:gl.dailyGuildLimit,i=Number.isFinite(s.dailyPlayerLimit)?s.dailyPlayerLimit:gl.dailyPlayerLimit;for(const u of n){const h=(a=s.roles)==null?void 0:a[u];if(!h||h.enabled===!1)continue;const p=(l=h.dailyGuildLimit)!=null?l:r,g=(c=h.dailyPlayerLimit)!=null?c:i;return console.debug("[UploadQuota] Applying role override for upload limits.",{role:u,guildLimit:p,playerLimit:g}),{dailyGuildLimit:p,dailyPlayerLimit:g}}return{dailyGuildLimit:r,dailyPlayerLimit:i}}async function x5(s){var u,h,p;const e=(u=s==null?void 0:s.id)!=null?u:null,n=(p=(h=s==null?void 0:s.uploadCenter)==null?void 0:h.usage)!=null?p:{date:null,guilds:0,players:0},r=Array.isArray(s==null?void 0:s.roles)?s.roles:[],[i,a]=await Promise.all([D2e(s),e?P2e(e):Promise.resolve(null)]),l=M2e(i,r);return{config:{...i,dailyGuildLimit:l.dailyGuildLimit,dailyPlayerLimit:l.dailyPlayerLimit},usage:a!=null?a:n}}const F2e=(s,e)=>`${Aa}/scan-uploads/${encodeURIComponent(s)}/${e}.csv`,B2e=async s=>{let e=`Request failed (${s.status})`;try{const n=await s.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function y5(s,e){const n=F2e(s,e);console.log(`[scan-uploads] Fetching ${e} CSV for scanId=${s}`);const r=await fetch(n,{method:"GET",credentials:"include",headers:{Accept:"text/csv"}});if(!r.ok)throw console.error(`[scan-uploads] Failed to fetch ${e} CSV for scanId=${s} (status ${r.status})`),await B2e(r);const i=await r.text();return console.log(`[scan-uploads] Fetched ${e} CSV for scanId=${s} (${i.length} chars)`),i}const $2e="sfdatahub:uploadCenter:scanUploads:v1:",$E=5,OE=s=>s&&"seconds"in s&&"nanoseconds"in s?{seconds:s.seconds,nanoseconds:s.nanoseconds}:null,Sh=s=>s?s instanceof Bs?s.toMillis():"seconds"in s&&"nanoseconds"in s?s.seconds*1e3+s.nanoseconds/1e6:-1/0:-1/0,O2e=s=>({...s,uploadedAt:s.uploadedAt?new Bs(s.uploadedAt.seconds,s.uploadedAt.nanoseconds):null}),V2e=s=>({...s,uploadedAt:OE(s.uploadedAt)}),VE=s=>{let e=null,n=-1/0;return s.forEach(r=>{var l;const i=OE("uploadedAt"in r&&(l=r.uploadedAt)!=null?l:null),a=Sh(i);a>n&&i&&(e=i,n=a)}),e},U2e=(s,e)=>{const n=new Map,r=i=>{const a=i.id||i.scanId;if(!a)return;const l=n.get(a);if(!l){n.set(a,i);return}const c=Sh(l.uploadedAt),u=Sh(i.uploadedAt);n.set(a,u>=c?i:l)};return s.forEach(r),e.forEach(r),Array.from(n.values()).sort((i,a)=>Sh(a.uploadedAt)-Sh(i.uploadedAt)).slice(0,$E)},z2e=s=>{if(typeof window=="undefined")return null;try{const e=window.localStorage.getItem(s);if(!e)return null;const n=JSON.parse(e);return!n||!Array.isArray(n.items)?null:n}catch(e){return console.warn("[upload-center] Failed to read scan uploads cache",e),null}},b5=(s,e)=>{if(typeof window!="undefined")try{const n={savedAtMs:Date.now(),lastUploadedAt:VE(e),items:e.map(V2e)};window.localStorage.setItem(s,JSON.stringify(n))}catch(n){console.warn("[upload-center] Failed to persist scan uploads cache",n)}},D0=new Map,H2e=s=>{const[e,n]=I.useState([]),[r,i]=I.useState(!1),[a,l]=I.useState(null);return I.useEffect(()=>{if(!s){n([]),i(!1),l(null);return}let c=!0;const u=`${$2e}${s}`,h=z2e(u),p=h?h.items.map(O2e):[],g=(h==null?void 0:h.lastUploadedAt)||VE(p);l(null),p.length>0?(n(p),i(!1)):(n([]),i(!0));const x=async()=>{const _=Bn("UploadCenter:scanUploads");try{const S=vo(pt,"scan_uploads"),C=Sn(S,wa("discordUserId","==",s),Ci("uploadedAt","desc"),Mn($E)),E=await dn(_,{path:S.path},()=>cn(C));if(!c)return;const F=E.docs.map(k=>({id:k.id,...k.data()}));console.log(`[upload-center] Loaded ${F.length} scan_uploads for current user (remote sessions)`),n(F),b5(u,F)}catch(S){if(!c)return;console.error("[upload-center] Failed to load scan_uploads for current user (index may be required)",S),l(S instanceof Error?S:new Error("Failed to load scan uploads")),n([])}finally{tn(_),c&&i(!1)}},b=async _=>{const S=`${s}:${_.seconds}:${_.nanoseconds}`,C=D0.get(S);if(C){await C;return}const E=Bn("UploadCenter:scanUploads"),k=(async()=>{try{const y=vo(pt,"scan_uploads"),w=Sn(y,wa("discordUserId","==",s),Ci("uploadedAt","asc"),wa("uploadedAt",">=",new Bs(_.seconds,_.nanoseconds))),P=await dn(E,{path:y.path},()=>cn(w));if(!c)return;const T=P.docs.map(N=>({id:N.id,...N.data()}));if(T.length===0){console.log("[upload-center] No new scan_uploads found; using cached entries");return}n(N=>{const A=U2e(N.length?N:p,T);return b5(u,A),A})}catch(y){if(!c)return;console.error("[upload-center] Delta refresh for scan_uploads failed (index may be required)",y)}finally{tn(E)}})().finally(()=>{D0.delete(S)});D0.set(S,k),await k};return p.length>0&&g?b(g):x(),()=>{c=!1}},[s]),{items:e,loading:r,error:a}},UE="sfdatahub_upload_quota_v1",zE=s=>{var e,n;return{date:typeof(s==null?void 0:s.date)=="string"?s.date:null,guilds:Number((e=s==null?void 0:s.guilds)!=null?e:0)||0,players:Number((n=s==null?void 0:s.players)!=null?n:0)||0}},M0=(s,e)=>{if(typeof window=="undefined")return;const n={version:1,config:s,usage:zE(e),storedAt:new Date().toISOString()};try{window.localStorage.setItem(UE,JSON.stringify(n))}catch(r){console.warn("[UploadQuotaStorage] Failed to persist quota data",r)}},G2e=()=>{var s,e;if(typeof window=="undefined")return null;try{const n=window.localStorage.getItem(UE);if(!n)return null;const r=JSON.parse(n);return!r||typeof r!="object"||r.version!==1||typeof((s=r.config)==null?void 0:s.dailyGuildLimit)!="number"||typeof((e=r.config)==null?void 0:e.dailyPlayerLimit)!="number"?null:{version:1,config:{dailyGuildLimit:Number(r.config.dailyGuildLimit)||0,dailyPlayerLimit:Number(r.config.dailyPlayerLimit)||0},usage:zE(r.usage),storedAt:typeof r.storedAt=="string"?r.storedAt:""}}catch(n){return console.warn("[UploadQuotaStorage] Failed to read quota data",n),null}},Gf=(s,e)=>Math.max(s-e,0),_5=(s,e,n)=>{var l,c,u;const r=e.date===n,i=r&&(l=e.guilds)!=null?l:0,a=r&&(c=e.players)!=null?c:0;return{config:s,usageDate:(u=e.date)!=null?u:null,usedGuildsToday:i,usedPlayersToday:a,remainingGuilds:Gf(s.dailyGuildLimit,i),remainingPlayers:Gf(s.dailyPlayerLimit,a),today:n}},W2e=({className:s})=>{if(!s)return t.jsx("span",{title:"Unknown class",className:"text-xs text-center text-zinc-400 block",children:"Unknown"});const{url:e,fallback:n}=SI(s),r=e?Qr(e,28):void 0;return r?t.jsx("img",{src:r,alt:s,title:s,className:"mx-auto h-6 w-6 rounded-full object-contain",draggable:!1}):n?t.jsx("span",{title:s,className:"mx-auto text-center text-sm leading-none",style:{display:"block"},children:n}):t.jsx("span",{title:s,className:"text-xs text-center text-zinc-400 block",children:s})};function q2e(){return t.jsx(zt,{title:"Upload Center",subtitle:"Import CSV scans locally, review all players and guilds, then upload only the records you want to store.",centerFramed:!1,children:t.jsx(K2e,{})},"upload-center-shell")}function K2e(){var Bt,ks,us,hs,Gs,bt,we,sn,Xt;const{sessions:s,activeSessionId:e,addSession:n,setActiveSession:r,removeSession:i,selectGuildWithPlayers:a,updateGuildSelectionFromPlayer:l,selectAllPlayersWithGuilds:c,selectAllGuildsWithPlayers:u,setRecordStatus:h}=I2e(),{t:p}=Ia(),{user:g}=So(),x=(us=(ks=(Bt=g==null?void 0:g.providers)==null?void 0:Bt.discord)==null?void 0:ks.id)!=null?us:(g==null?void 0:g.provider)==="discord"?g.id:null,{items:b,loading:_,error:S}=H2e(x),C=!!x,E=s.find(Y=>Y.id===e)||null,F=I.useMemo(()=>new Set(s.map(Y=>Y.scanUploadId).filter(Y=>!!Y)),[s]),[k,y]=X.useState(new Set),[w,P]=I.useState({phase:"idle",processed:0,total:0,created:0,duplicate:0,error:0}),[T,N]=I.useState("all"),[A,M]=I.useState("all"),[R,B]=I.useState(!1),[$,z]=I.useState(!1),[U,W]=I.useState(null),[K,q]=I.useState(null),[se,ne]=I.useState(()=>_5(gl,{date:null,guilds:0,players:0},rf())),[H,J]=I.useState(null),le=I.useCallback((Y,Fe)=>{const He=rf();ne(_5(Y,Fe,He)),J(null)},[]),oe=I.useCallback(async()=>{try{const Y=await x5(g!=null?g:null);le(Y.config,Y.usage),M0(Y.config,Y.usage)}catch(Y){console.error("[UploadCenter] Failed to refresh upload quota",Y),J("Could not refresh upload quota. Using last known values.")}},[le,g]);I.useEffect(()=>{var nt,ot;let Y=!0;rf();const Fe=(ot=(nt=g==null?void 0:g.uploadCenter)==null?void 0:nt.usage)!=null?ot:{date:null,guilds:0,players:0};le(gl,Fe);const He=G2e();return He&&le(He.config,He.usage),(async()=>{try{const _t=await x5(g!=null?g:null);if(!Y)return;le(_t.config,_t.usage),M0(_t.config,_t.usage)}catch(_t){console.error("[UploadCenter] Failed to refresh upload quota",_t),Y&&J("Could not refresh upload quota. Using last known values.")}})(),()=>{Y=!1}},[g,(Gs=(hs=g==null?void 0:g.uploadCenter)==null?void 0:hs.usage)==null?void 0:Gs.date,(we=(bt=g==null?void 0:g.uploadCenter)==null?void 0:bt.usage)==null?void 0:we.guilds,(Xt=(sn=g==null?void 0:g.uploadCenter)==null?void 0:sn.usage)==null?void 0:Xt.players,le]);const he=I.useCallback(Y=>{const Fe=`csv_${Date.now()}`,He=new Date().toISOString(),nt=v5(Y,Fe,He);n(nt),r(Fe)},[n,r]),xe=Y=>{const Fe=new Date(Y);return Number.isNaN(Fe.getTime())?"Unknown date":Fe.toLocaleString()},Re=Y=>{y(Fe=>{const He=new Set(Fe);return He.has(Y)?He.delete(Y):He.add(Y),He})},Z=Y=>{var ot,_t;const Fe="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",He={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",created:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",duplicate:"bg-amber-500/10 text-amber-100 border border-amber-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},nt={pending:"PENDING",created:"UPLOADED",duplicate:"IN DB",error:"ERROR"};return t.jsx("span",{className:`${Fe} ${(ot=He[Y])!=null?ot:He.pending}`,children:(_t=nt[Y])!=null?_t:Y})},fe=Y=>{if(!Y)return"Unknown date";try{if(typeof Y.toDate=="function")return Y.toDate().toLocaleString()}catch(Fe){}return"Unknown date"},ie=Y=>{var _t,as,$s;const Fe="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",He={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",stored:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",received:"bg-sky-500/10 text-sky-100 border border-sky-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},nt={pending:"PENDING",stored:"STORED",received:"RECEIVED",error:"ERROR"},ot=(_t=Y==null?void 0:Y.toLowerCase())!=null?_t:"pending";return t.jsx("span",{className:`${Fe} ${(as=He[ot])!=null?as:He.pending}`,children:($s=nt[ot])!=null?$s:Y||"PENDING"})},_e=I.useCallback((Y,Fe,He)=>{const nt=Y==="created"||Y==="duplicate";return He&&nt?!1:Fe==="all"?!0:Fe==="pending"?Y==="pending":Fe==="inDb"?nt:Fe==="error"?Y==="error":!0},[]),be=I.useMemo(()=>E?E.players.filter(Y=>_e(Y.status,T,R)):[],[E,_e,T,R]),Se=I.useMemo(()=>E?E.guilds.filter(Y=>_e(Y.status,A,$)):[],[E,_e,A,$]),Ve=I.useCallback(async Y=>{if(Y!=null&&Y.id){q(null),W(Y.id);try{const Fe=[],He=Y.queueId||Y.scanId||Y.id,nt=Y.hasPlayersCsv!==!1,ot=Y.hasGuildsCsv!==!1;if(nt){const hn=await y5(Y.id,"players");Fe.push({name:`players.scan-${He}.csv`,text:hn})}if(ot){const hn=await y5(Y.id,"guilds");Fe.push({name:`guilds.scan-${He}.csv`,text:hn})}if(!Fe.length)throw new Error("No CSV data available for this scan.");const _t=DE(Fe);_t.filename=He||_t.filename;const as=`scan_${Y.id}_${Date.now()}`,$s=new Date().toISOString(),rr={...v5(_t,as,$s),scanUploadId:Y.id};n(rr),r(as),console.log(`[upload-center] Loaded remote scan session for scanId=${Y.id} (session ${as})`)}catch(Fe){console.error(`[upload-center] Failed to load remote scan session for scanId=${Y==null?void 0:Y.id}`,Fe),q(Fe instanceof Error?Fe.message:"Failed to load remote scan session.")}finally{W(null)}}},[n,r]),Ue=I.useMemo(()=>{if(!E)return!1;const Y=E.players.some(He=>He.selected),Fe=E.guilds.some(He=>He.selected);return Y||Fe},[E]),tt=w.phase==="uploading"||w.phase==="finalizing",Je=()=>{if(!E)return null;const Y=E.players.filter(ot=>ot.selected),Fe=E.guilds.filter(ot=>ot.selected);if(!Y.length&&!Fe.length)return null;const He=Y.map(ot=>{var _t,as,$s;return{Identifier:ot.playerId,"Guild Identifier":(_t=ot.guildId)!=null?_t:"",Timestamp:ot.scanTimestampSec,Server:ot.server,Name:ot.name,Class:(as=ot.className)!=null?as:"",Level:($s=ot.level)!=null?$s:""}}),nt=Fe.map(ot=>{var _t;return{"Guild Identifier":ot.guildId,"Guild Member Count":(_t=ot.memberCount)!=null?_t:ot.members.length,Timestamp:ot.scanTimestampSec,Name:ot.name,Server:ot.server}});return{playersRows:He,guildsRows:nt}},ct=I.useCallback((Y,Fe)=>{ne(He=>{const nt=He.usedGuildsToday+Y,ot=He.usedPlayersToday+Fe,_t={...He,usedGuildsToday:nt,usedPlayersToday:ot,remainingGuilds:Gf(He.config.dailyGuildLimit,nt),remainingPlayers:Gf(He.config.dailyPlayerLimit,ot),usageDate:He.today};return M0(He.config,{date:He.today,guilds:nt,players:ot}),_t})},[]),Wt=I.useMemo(()=>se.usageDate?se.usageDate===se.today?"Today":se.usageDate:"No uploads yet",[se.today,se.usageDate]),je=se.config.dailyPlayerLimit===0,Qe=se.config.dailyGuildLimit===0,Ke=je?p("uploadCenter.quota.unlimited"):se.config.dailyPlayerLimit,vt=Qe?p("uploadCenter.quota.unlimited"):se.config.dailyGuildLimit,kt=je?p("uploadCenter.quota.unlimited"):`${Ke} limit today`,qe=Qe?p("uploadCenter.quota.unlimited"):`${vt} limit today`,Ce=je?p("uploadCenter.quota.unlimited"):se.remainingPlayers,ze=Qe?p("uploadCenter.quota.unlimited"):se.remainingGuilds,St=async()=>{var vr,xr,Cn;if(!E)return;const Y=Je();if(!Y)return;const Fe=E.players.filter(os=>os.selected),He=E.guilds.filter(os=>os.selected),nt=Fe.length+He.length;if(!nt)return;const ot=(vr=g==null?void 0:g.id)!=null?vr:null,{config:_t,usedGuildsToday:as,usedPlayersToday:$s}=se,kn=as+He.length,rr=$s+Fe.length,hn=kn>_t.dailyGuildLimit,pi=rr>_t.dailyPlayerLimit;if(hn||pi){J(`Daily quota exceeded: You can import up to ${_t.dailyGuildLimit} guilds / ${_t.dailyPlayerLimit} players per day. Today you already imported ${as} guilds / ${$s} players. This selection would bring you to ${kn} guilds / ${rr} players.`);return}J(null),P({phase:"uploading",processed:0,total:nt,created:0,duplicate:0,error:0});const fs={processed:0,created:0,duplicate:0,error:0},On={processed:0,created:0,duplicate:0,error:0},nn=()=>{const os=Math.min(fs.processed+On.processed,nt),Cs=os>=nt&&nt>0?"finalizing":"uploading";P({phase:Cs,processed:os,total:nt,created:fs.created+On.created,duplicate:fs.duplicate+On.duplicate,error:fs.error+On.error})},fr=os=>Cs=>{var Xr;if((Cs==null?void 0:Cs.pass)!=="scans")return;const Vn=os==="players"?fs:On;typeof Cs.current=="number"&&(Vn.processed=Math.min(Cs.current,(Xr=Cs.total)!=null?Xr:Cs.current)),typeof Cs.created=="number"&&(Vn.created=Cs.created),typeof Cs.duplicate=="number"&&(Vn.duplicate=Cs.duplicate),typeof Cs.error=="number"&&(Vn.error=Cs.error),nn()};try{console.log("[UploadCenter] starting selection upload",{players:Fe.length,guilds:He.length});const os=await PE(Y,{onProgress:qt=>{(qt==null?void 0:qt.kind)==="players"?fr("players")(qt):(qt==null?void 0:qt.kind)==="guilds"&&fr("guilds")(qt)}}),Cs=E.id;let Vn=!1,Xr=!1;if(console.log("[UploadCenter] importSelectionToDb result",{playersSample:(xr=os==null?void 0:os.players)==null?void 0:xr.slice(0,5),guildsSample:(Cn=os==null?void 0:os.guilds)==null?void 0:Cn.slice(0,5),selectedPlayerKeys:Fe.slice(0,5).map(qt=>qt.key),selectedGuildKeys:He.slice(0,5).map(qt=>qt.key)}),((os==null?void 0:os.players)||[]).forEach(qt=>{Vn=!0,h(Cs,"player",qt.key,qt.status)}),((os==null?void 0:os.guilds)||[]).forEach(qt=>{Xr=!0,h(Cs,"guild",qt.key,qt.status)}),!Vn&&!Xr&&(Fe.forEach(qt=>h(Cs,"player",qt.key,"created")),He.forEach(qt=>h(Cs,"guild",qt.key,"created"))),Fe.length||He.length){if(ct(He.length,Fe.length),!ot)console.warn("[UploadCenter] Cannot persist upload usage because the user ID is missing.");else try{await R2e(ot,He.length,Fe.length)}catch(qt){console.error("[UploadCenter] Failed to record upload usage.",qt)}await oe()}}catch(os){console.error("[UploadCenter] Failed to upload selection",os)}finally{P(os=>({...os,phase:"done"}))}};return t.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[t.jsxs("section",{className:"rounded-2xl border border-emerald-400/40 bg-emerald-500/5 p-4 md:p-5",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:"Local-only until you upload"}),t.jsx("h2",{className:"mt-1 text-lg font-semibold text-emerald-50",children:"Review first, then opt-in to store data"}),t.jsx("p",{className:"mt-2 text-sm text-emerald-50/80",children:"CSV files are parsed in your browser. Nothing is written to SFDataHub until you pick records and trigger the upload."})]}),t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/80 p-4 md:p-5",children:[t.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Upload quota"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Daily limits & usage"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Values are cached locally in your browser so you can resume uploads across page reloads."})]}),t.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800/80 px-3 py-2 text-xs text-slate-200",children:["Last upload: ",Wt]})]}),t.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[t.jsxs("div",{className:"rounded-xl border border-emerald-400/40 bg-emerald-500/5 p-3",children:[t.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-emerald-200/80",children:"Players"}),t.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[t.jsx("span",{className:"text-2xl font-semibold text-emerald-50",children:Ce}),t.jsx("span",{className:"text-sm text-emerald-100/80",children:"remaining"})]}),t.jsxs("div",{className:"mt-1 text-xs text-emerald-100/70",children:[se.usedPlayersToday," used / ",kt]})]}),t.jsxs("div",{className:"rounded-xl border border-sky-400/40 bg-sky-500/5 p-3",children:[t.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-sky-200/80",children:"Guilds"}),t.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[t.jsx("span",{className:"text-2xl font-semibold text-sky-50",children:ze}),t.jsx("span",{className:"text-sm text-sky-100/80",children:"remaining"})]}),t.jsxs("div",{className:"mt-1 text-xs text-sky-100/70",children:[se.usedGuildsToday," used / ",qe]})]})]}),H&&t.jsx("div",{className:"mt-3 rounded-xl border border-amber-400/60 bg-amber-500/10 px-3 py-2 text-sm text-amber-50",children:H})]}),t.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Sessions"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Import Sessions"}),t.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-3 md:p-4",children:[t.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-100",children:"Import CSV"}),t.jsx(ME,{mode:"session",onBuildUploadSession:he})]}),t.jsx("p",{className:"text-sm text-slate-400",children:"Here you will see your locally imported CSV sessions (filename, date, player/guild counts)."}),s.length===0?t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Placeholder - once CSV imports are wired up, recent sessions will appear here with quick actions to resume, inspect, or discard them."}):t.jsx("div",{className:"flex flex-col gap-3",children:s.map(Y=>{const Fe=Y.id===e;return t.jsxs("div",{role:"button",tabIndex:0,onClick:()=>r(Y.id),onKeyDown:He=>{(He.key==="Enter"||He.key===" ")&&(He.preventDefault(),r(Y.id))},className:["w-full rounded-xl border px-4 py-3 text-left transition",Fe?"border-emerald-400/80 bg-emerald-500/10 text-emerald-50 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/60 text-slate-100 hover:border-emerald-400/60 hover:text-emerald-50"].join(" "),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-sm font-semibold",children:Y.sourceFilename||"Unnamed session"}),t.jsx("span",{className:"text-xs text-slate-400",children:xe(Y.createdAt)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsxs("div",{children:["Players: ",Y.players.length]}),t.jsxs("div",{children:["Guilds: ",Y.guilds.length]})]}),t.jsx("button",{type:"button",onClick:He=>{He.stopPropagation(),window.confirm("Remove this session from the list? This will NOT delete any data from the database.")&&i(Y.id)},className:"rounded-full p-1 transition text-red-400 hover:text-red-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-300","aria-label":"Remove session",title:"Remove this session from the list",children:t.jsx(r7,{className:"h-4 w-4"})})]})]}),Fe&&t.jsx("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-emerald-100",children:"Active"})]},Y.id)})}),t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-100",children:"Scan uploads from Discord bot"}),K&&t.jsx("div",{className:"rounded-xl border border-amber-400/60 bg-amber-500/10 p-3 text-sm text-amber-100",children:K}),C?_?t.jsx("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Loading scan uploads..."}):S?t.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-100",children:"Error loading scan uploads."}):b.length===0?t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"No scan uploads from Discord bot yet."}):t.jsx("div",{className:"flex flex-col gap-3",children:b.map(Y=>{const Fe=U===Y.id,He=F.has(Y.id),nt=Fe||He;return t.jsxs("button",{type:"button",onClick:()=>{nt||Ve(Y)},disabled:nt,title:He?"This scan is already loaded above. Remove it there to load it again.":void 0,className:["w-full rounded-xl border px-4 py-3 text-left text-slate-100 transition","border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:text-emerald-50",nt?"cursor-not-allowed opacity-70 bg-slate-700/60 text-slate-400":""].join(" "),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-sm font-semibold",children:Y.queueId||Y.scanId||Y.id}),t.jsx("span",{className:"text-xs text-slate-400",children:fe(Y.uploadedAt)}),Y.discordUsername&&t.jsx("span",{className:"text-xs text-slate-400",children:Y.discordUsername})]}),t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsxs("div",{children:["Players CSV: ",Y.hasPlayersCsv?"yes":"no"]}),t.jsxs("div",{children:["Guilds CSV: ",Y.hasGuildsCsv?"yes":"no"]})]})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-300",children:[ie(Y.status),Y.serverCode&&t.jsxs("span",{className:"rounded-full border border-slate-600/70 bg-slate-800/60 px-2 py-0.5",children:["Server: ",Y.serverCode]}),Y.lastError&&t.jsxs("span",{className:"rounded-full border border-rose-500/60 bg-rose-500/10 px-2 py-0.5 text-rose-100",children:["Error: ",Y.lastError]}),t.jsx("span",{className:"rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-emerald-100",children:He?"Loaded":Fe?"Loading...":"Load into preview"})]})]},Y.id)})}):t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Link your Discord account to see bot uploads here."})]})]})}),t.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Review"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Preview & Selection"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Use these previews to decide what to keep. Tables will support filters, sorting, and selection before committing."}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[t.jsx("button",{type:"button",className:"inline-flex items-center gap-2 rounded-xl bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-50 shadow-[0_10px_30px_-12px_rgba(16,185,129,0.8)] transition hover:bg-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-300 disabled:cursor-not-allowed disabled:bg-slate-700 disabled:text-slate-300 disabled:shadow-none",onClick:St,disabled:tt||!E||!Ue,children:w.phase==="uploading"?"Uploading...":w.phase==="finalizing"?"Finalizing...":"Upload selected to DB"}),H&&t.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-100",children:H}),w.total>0&&t.jsx("div",{className:"text-xs text-slate-300",children:w.phase==="uploading"?t.jsxs(t.Fragment,{children:["Uploading ",w.processed," / ",w.total," records (",Math.round(w.processed/Math.max(w.total,1)*100),"%) - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="finalizing"?t.jsxs(t.Fragment,{children:["Finalizing import - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="done"?t.jsxs(t.Fragment,{children:["Upload finished: ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):null}),E?t.jsx("div",{className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-100",children:`Active session: ${E.sourceFilename||E.id} - ${E.players.length} players, ${E.guilds.length} guilds`}):t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 px-3 py-2 text-sm text-slate-300",children:s.length>0?"Select a session in the list above to review its players and guilds.":"No active CSV session. Import a CSV via the Upload Center modal to start."})]})]}),E&&t.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[t.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[t.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Players"}),t.jsxs("div",{className:"text-xs text-slate-300",children:["Players: ",E.players.length," total,"," ",E.players.filter(Y=>Y.selected).length," selected"]})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[t.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>c(E.id,!0),children:"Select all"}),t.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>c(E.id,!1),children:"Clear selection"})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[t.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(Y=>t.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",T===Y?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>N(Y),children:Y==="all"?"All":Y==="pending"?"Pending":Y==="inDb"?"In DB":"Error"},Y))}),t.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:R,onChange:Y=>B(Y.target.checked)}),t.jsx("span",{children:"Hide uploaded"})]})]}),be.length===0?t.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any player records."}):t.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:t.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[t.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Level"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Class"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),t.jsx("tbody",{children:be.map(Y=>{var Fe;return t.jsxs("tr",{className:"border-t border-slate-800/70",children:[t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"checkbox",checked:Y.selected,onChange:()=>l(E.id,Y.key,!Y.selected)})}),t.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:Y.name||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:Y.server||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:(Fe=Y.level)!=null?Fe:""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:t.jsx(W2e,{className:Y.className})}),t.jsx("td",{className:"px-3 py-2",children:Z(Y.status)})]},Y.key)})})]})})]}),t.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[t.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Guilds"}),t.jsxs("div",{className:"text-xs text-slate-300",children:["Guilds: ",E.guilds.length," total,"," ",E.guilds.filter(Y=>Y.selected).length," selected"]})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[t.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>u(E.id,!0),children:"Select all"}),t.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>u(E.id,!1),children:"Clear selection"})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[t.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(Y=>t.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",A===Y?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>M(Y),children:Y==="all"?"All":Y==="pending"?"Pending":Y==="inDb"?"In DB":"Error"},Y))}),t.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:$,onChange:Y=>z(Y.target.checked)}),t.jsx("span",{children:"Hide uploaded"})]})]}),Se.length===0?t.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any guild records."}):t.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:t.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[t.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left",children:"Expand"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Guild"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Members"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),t.jsx("tbody",{children:Se.map(Y=>{var nt;const Fe=k.has(Y.key),He=(nt=Y.memberCount)!=null?nt:Y.members.length;return t.jsxs(X.Fragment,{children:[t.jsxs("tr",{className:"border-t border-slate-800/70",children:[t.jsx("td",{className:"px-3 py-2",children:t.jsx("button",{type:"button",className:"rounded border border-slate-600/70 bg-slate-800/60 px-2 py-1 text-xs text-slate-200",onClick:()=>Re(Y.key),"aria-expanded":Fe,children:Fe?"Collapse":"Expand"})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"checkbox",checked:Y.selected,onChange:()=>a(E.id,Y.key,!Y.selected)})}),t.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:Y.name||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:Y.server||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:He}),t.jsx("td",{className:"px-3 py-2",children:Z(Y.status)})]}),Fe&&t.jsx("tr",{className:"border-t border-slate-800/70 bg-slate-900/60",children:t.jsxs("td",{className:"px-3 py-3 text-slate-200",colSpan:6,children:[t.jsx("div",{className:"mb-2 text-xs uppercase tracking-[0.18em] text-slate-400",children:"Members"}),Y.members.length===0?t.jsx("div",{className:"text-sm text-slate-300",children:"No members listed."}):t.jsxs("table",{className:"w-full text-sm text-slate-100",children:[t.jsx("thead",{className:"bg-slate-900/50 text-xs uppercase tracking-wide text-slate-400",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-2 py-1 text-left",children:"Name"}),t.jsx("th",{className:"px-2 py-1 text-left",children:"Level"}),t.jsx("th",{className:"px-2 py-1 text-left",children:"Class"})]})}),t.jsx("tbody",{children:Y.members.map(ot=>{var _t,as;return t.jsxs("tr",{className:"border-t border-slate-800/70",children:[t.jsx("td",{className:"px-2 py-1",children:ot.name||""}),t.jsx("td",{className:"px-2 py-1",children:(_t=ot.level)!=null?_t:""}),t.jsx("td",{className:"px-2 py-1",children:(as=ot.className)!=null?as:""})]},ot.key)})})]})]})})]},Y.key)})})]})})]})]})]})})]})}function Q2e(){const{canUse:s}=r_();return s?t.jsx(q2e,{}):t.jsx(zt,{title:"Upload Center",subtitle:"Upload Center access required",centerFramed:!0,mode:"page",children:t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 text-center text-sm text-[#B0C4D9]",children:[t.jsx(X5,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),t.jsx("p",{className:"text-base font-semibold text-white",children:"You don't have access to this feature."}),t.jsx("p",{children:"Contact an admin if you think you should be able to use the Upload Center."})]})})}const X2e=s=>()=>t.jsx("div",{style:{padding:16},children:t.jsx("h2",{style:{color:"var(--title)"},children:s})}),Nr=X2e("Diese Unterseite existiert in der neuen Struktur nicht mehr."),Kt=(s,e,n,r=t.jsx(rl,{to:"/",replace:!0}))=>t.jsx(E2e,{featureId:s,route:e,fallback:r,children:n});tP.createRoot(document.getElementById("root")).render(t.jsx(X.StrictMode,{children:t.jsx(PO,{children:t.jsx(WO,{children:t.jsx(YO,{children:t.jsxs(T2e,{children:[t.jsx(NL,{children:t.jsx(tL,{children:t.jsxs(ge,{element:t.jsx(hU,{}),children:[t.jsx(ge,{path:"/",element:Kt("main.home","/",t.jsx(oK,{}),t.jsx(rl,{to:"/login",replace:!0}))}),t.jsx(ge,{path:"/login",element:t.jsx(SK,{})}),t.jsx(ge,{path:"/dashboard",element:Kt("main.dashboard","/dashboard",t.jsx(NK,{}))}),t.jsx(ge,{path:"/dashboard/kpis",element:Kt("main.dashboard","/dashboard",t.jsx(TK,{}))}),t.jsx(ge,{path:"/dashboard/activity",element:Kt("main.dashboard","/dashboard",t.jsx(IK,{}))}),t.jsx(ge,{path:"/dashboard/progression",element:Kt("main.dashboard","/dashboard",t.jsx(AK,{}))}),t.jsx(ge,{path:"/discover",element:Kt("main.discover","/discover",t.jsx(EK,{}))}),t.jsx(ge,{path:"/toplists",element:Kt("main.toplists","/toplists",t.jsx(RX,{}))}),t.jsx(ge,{path:"/sfmagazine",element:t.jsx(MK,{})}),t.jsx(ge,{path:"/sfmagazine/historybook",element:t.jsx(hQ,{})}),t.jsx(ge,{path:"/help",element:t.jsx(CQ,{})}),t.jsx(ge,{path:"/search",element:t.jsx(Bje,{})}),t.jsx(ge,{path:"/players",element:t.jsx(LX,{})}),t.jsx(ge,{path:"/players/rankings",element:t.jsx(DX,{})}),t.jsx(ge,{path:"/players/stats",element:t.jsx(MX,{})}),t.jsx(ge,{path:"/players/profile",element:t.jsx(l0,{})}),t.jsx(ge,{path:"/players/profile/:playerId",element:t.jsx(l0,{})}),t.jsx(ge,{path:"/players/compare",element:t.jsx(nZ,{})}),t.jsx(ge,{path:"/player/:playerId",element:t.jsx(l0,{})}),t.jsx(ge,{path:"/guilds",element:t.jsx(uZ,{})}),t.jsx(ge,{path:"/guilds/rankings",element:t.jsx(hZ,{})}),t.jsx(ge,{path:"/guilds/stats",element:t.jsx(pZ,{})}),t.jsx(ge,{path:"/guilds/profile",element:t.jsx(h0,{})}),t.jsx(ge,{path:"/guilds/profile/:guildId",element:t.jsx(h0,{})}),t.jsx(ge,{path:"/guild/:guildId",element:t.jsx(h0,{})}),t.jsx(ge,{path:"/servers",element:t.jsx(ese,{})}),t.jsx(ge,{path:"/servers/rankings",element:t.jsx(tse,{})}),t.jsx(ge,{path:"/servers/stats",element:t.jsx(sse,{})}),t.jsx(ge,{path:"/servers/profile",element:t.jsx(p0,{})}),t.jsx(ge,{path:"/servers/profile/:serverId",element:t.jsx(p0,{})}),t.jsx(ge,{path:"/server/:serverId",element:t.jsx(p0,{})}),t.jsx(ge,{path:"/u/:profileId",element:t.jsx(une,{})}),t.jsx(ge,{path:"/guidehub/*",element:Kt("main.guidehub","/guidehub",t.jsx(Gle,{}))}),t.jsx(ge,{path:"/tools",element:Kt("main.tools","/tools",t.jsx(Dje,{}))}),t.jsx(ge,{path:"/upload-center",element:Kt("main.uploadCenter","/upload-center",t.jsx(Q2e,{}),t.jsx(rl,{to:"/login",replace:!0}))}),t.jsx(ge,{path:"/UploadCenter",element:t.jsx(rl,{to:"/upload-center",replace:!0})}),t.jsx(ge,{path:"/community",element:Kt("main.community","/community",t.jsx(Bde,{}))}),t.jsx(ge,{path:"/community/scans",element:Kt("main.community","/community",t.jsx(tE,{}))}),t.jsx(ge,{path:"/community/predictions",element:Kt("main.community","/community",t.jsx(sE,{}))}),t.jsx(ge,{path:"/community/creators",element:Kt("main.community","/community",t.jsx(eE,{}))}),t.jsx(ge,{path:"/community/feedback",element:Kt("main.community","/community",t.jsx(rE,{}))}),t.jsx(ge,{path:"/community/news",element:Kt("main.community","/community",t.jsx(nE,{}))}),t.jsx(ge,{path:"/community/records",element:Kt("main.community","/community",t.jsx(iE,{}))}),t.jsx(ge,{path:"/scans",element:Kt("main.scans","/scans",t.jsx($de,{}))}),t.jsx(ge,{path:"/scans/latest",element:Kt("main.scans","/scans",t.jsx(Ode,{}))}),t.jsx(ge,{path:"/scans/archive",element:Kt("main.scans","/scans",t.jsx(Vde,{}))}),t.jsx(ge,{path:"/guild-hub",element:Kt("main.guildHub","/guild-hub",t.jsx(Ude,{}))}),t.jsx(ge,{path:"/guild-hub/planner",element:Kt("main.guildHub","/guild-hub",t.jsx(dhe,{}))}),t.jsx(ge,{path:"/guild-hub/fusion-planner",element:Kt("main.guildHub","/guild-hub",t.jsx(Kfe,{}))}),t.jsx(ge,{path:"/guild-hub/compare-guilds",element:Kt("main.guildHub","/guild-hub",t.jsx(Qfe,{}))}),t.jsx(ge,{path:"/guild-hub/waitlist",element:Kt("main.guildHub","/guild-hub",t.jsx(mxe,{}))}),t.jsx(ge,{path:"/guild-hub/activity",element:Kt("main.guildHub","/guild-hub",t.jsx(wxe,{}))}),t.jsx(ge,{path:"/guild-hub/imports",element:Kt("main.guildHub","/guild-hub",t.jsx(jxe,{}))}),t.jsx(ge,{path:"/guild-hub/announcements",element:Kt("main.guildHub","/guild-hub",t.jsx(Sxe,{}))}),t.jsx(ge,{path:"/guild-hub/events",element:Kt("main.guildHub","/guild-hub",t.jsx(Nxe,{}))}),t.jsx(ge,{path:"/guild-hub/roles",element:Kt("main.guildHub","/guild-hub",t.jsx(kxe,{}))}),t.jsx(ge,{path:"/guild-hub/settings",element:Kt("main.guildHub","/guild-hub",t.jsx(Cxe,{}))}),t.jsx(ge,{path:"/admin",element:Kt("main.admin","/admin",t.jsx(Exe,{}))}),t.jsx(ge,{path:"/admin/errors",element:Kt("main.admin","/admin",t.jsx(Dxe,{}))}),t.jsx(ge,{path:"/admin/scans-uploaded",element:Kt("main.admin","/admin",t.jsx(Fxe,{}))}),t.jsx(ge,{path:"/admin/creators-api",element:Kt("main.admin","/admin",t.jsx(qxe,{}))}),t.jsx(ge,{path:"/admin/users",element:Kt("main.admin","/admin",t.jsx(oye,{}))}),t.jsx(ge,{path:"/settings",element:Kt("main.settings","/settings",t.jsx(pye,{}))}),t.jsx(ge,{path:"/settings/account",element:Kt("main.settings","/settings",t.jsx(W0e,{}))}),t.jsxs(ge,{path:"/playground",element:Kt("main.playground","/playground",t.jsx(K0e,{})),children:[t.jsx(ge,{index:!0,element:t.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),t.jsx(ge,{path:"list-views",element:t.jsx(WC,{})}),t.jsx(ge,{path:"rescan-widget",element:t.jsx(KC,{})}),t.jsx(ge,{path:"upload-sim",element:t.jsx(QC,{})}),t.jsx(ge,{path:"theme-maker",element:t.jsx(RC,{})}),t.jsx(ge,{path:"theme-maker-pro",element:t.jsx(DC,{})}),t.jsx(ge,{path:"gamified",element:t.jsx(wbe,{})}),t.jsx(ge,{path:"gamified-2",element:t.jsx(Sbe,{})}),t.jsx(ge,{path:"gamified-3",element:t.jsx(Cbe,{})}),t.jsx(ge,{path:"gamified-4",element:t.jsx(Abe,{})}),t.jsx(ge,{path:"gamified-5",element:t.jsx(Rbe,{})}),t.jsx(ge,{path:"gamified-6",element:t.jsx(Mbe,{})}),t.jsx(ge,{path:"gamified-7",element:t.jsx($be,{})}),t.jsx(ge,{path:"am-rune-bonuses-demos",element:t.jsx(G1e,{})}),t.jsx(ge,{path:"templates/content-shell",element:t.jsx(s_e,{})}),t.jsx(ge,{path:"templates/blank",element:t.jsx(r_e,{})}),t.jsx(ge,{path:"templates/blank-alt",element:t.jsx(a_e,{})}),t.jsx(ge,{path:"templates/blank-layout-2",element:t.jsx(d_e,{})}),t.jsx(ge,{path:"templates/blank-layout-3",element:t.jsx(h_e,{})}),t.jsx(ge,{path:"templates/blank-layout-4",element:t.jsx(p_e,{})}),t.jsx(ge,{path:"portrait-maker",element:t.jsx(Jbe,{})}),t.jsx(ge,{path:"hud",element:t.jsx(W1e,{})}),t.jsx(ge,{path:"hud/game-buttons",element:t.jsx(ybe,{})}),t.jsx(ge,{path:"core-ui/theme-maker",element:t.jsx(RC,{})}),t.jsx(ge,{path:"core-ui/theme-maker-pro",element:t.jsx(DC,{})}),t.jsx(ge,{path:"core-ui/list-views",element:t.jsx(WC,{})}),t.jsx(ge,{path:"sync/rescan",element:t.jsx(KC,{})}),t.jsx(ge,{path:"upload/sim",element:t.jsx(QC,{})}),t.jsx(ge,{path:"import/har",element:t.jsx(v_e,{})}),t.jsx(ge,{path:"import/json-csv",element:t.jsx(__e,{})}),t.jsx(ge,{path:"import/schema",element:t.jsx(N_e,{})}),t.jsx(ge,{path:"hubs/player-contained",element:t.jsx(I_e,{})}),t.jsx(ge,{path:"hubs/guilds",element:t.jsx(R_e,{})}),t.jsx(ge,{path:"hubs/servers",element:t.jsx(F_e,{})}),t.jsx(ge,{path:"rankings/views",element:t.jsx(V_e,{})}),t.jsx(ge,{path:"analytics/kpi",element:t.jsx(G_e,{})}),t.jsx(ge,{path:"analytics/progression",element:t.jsx(Q_e,{})}),t.jsx(ge,{path:"analytics/legendary-pets",element:t.jsx(Z_e,{})}),t.jsx(ge,{path:"community/scans",element:t.jsx(nwe,{})}),t.jsx(ge,{path:"community/creators",element:t.jsx(owe,{})}),t.jsx(ge,{path:"feedback/form",element:t.jsx(uwe,{})}),t.jsx(ge,{path:"feedback/admin",element:t.jsx(gwe,{})}),t.jsx(ge,{path:"help/tutorials",element:t.jsx(ywe,{})}),t.jsx(ge,{path:"help/wiki",element:t.jsx(jwe,{})}),t.jsx(ge,{path:"legal/tos",element:t.jsx(Ewe,{})}),t.jsx(ge,{path:"legal/transparency",element:t.jsx(Dwe,{})}),t.jsx(ge,{path:"settings",element:t.jsx(Cwe,{})}),t.jsx(ge,{path:"pwa/update",element:t.jsx($we,{})}),t.jsx(ge,{path:"pwa/install",element:t.jsx(zwe,{})}),t.jsx(ge,{path:"connect/manual",element:t.jsx(qwe,{})}),t.jsx(ge,{path:"connect/userscript",element:t.jsx(Ywe,{})}),t.jsx(ge,{path:"interop/exports",element:t.jsx(tje,{})}),t.jsx(ge,{path:"interop/deeplinks",element:t.jsx(ije,{})}),t.jsx(ge,{path:"admin/servers",element:t.jsx(cje,{})}),t.jsx(ge,{path:"admin/jobs",element:t.jsx(pje,{})}),t.jsx(ge,{path:"admin/flags",element:t.jsx(vje,{})}),t.jsx(ge,{path:"perf/table-lab",element:t.jsx(_je,{})}),t.jsx(ge,{path:"mobile/filters",element:t.jsx(Nje,{})}),t.jsx(ge,{path:"qa/a11y",element:t.jsx(Ije,{})})]}),t.jsx(ge,{path:"/latest-scan",element:t.jsx(rl,{to:"/scans/latest",replace:!0})}),t.jsx(ge,{path:"/old-scans",element:t.jsx(rl,{to:"/scans/archive",replace:!0})}),t.jsx(ge,{path:"/favorites",element:Nr()}),t.jsx(ge,{path:"/notifications",element:Nr()}),t.jsx(ge,{path:"/guilds/planner",element:Nr()}),t.jsx(ge,{path:"/guilds/fusion",element:Nr()}),t.jsx(ge,{path:"/guilds/academy",element:Nr()}),t.jsx(ge,{path:"/toplists/players",element:Nr()}),t.jsx(ge,{path:"/toplists/guilds",element:Nr()}),t.jsx(ge,{path:"/toplists/servers",element:Nr()}),t.jsx(ge,{path:"/settings/profile",element:Nr()}),t.jsx(ge,{path:"/settings/appearance",element:Nr()}),t.jsx(ge,{path:"/players/search",element:Nr()}),t.jsx(ge,{path:"/servers/list",element:Nr()}),t.jsx(ge,{path:"/servers/trend",element:Nr()}),t.jsx(ge,{path:"/scans/upload",element:Nr()}),t.jsx(ge,{path:"/scans/history",element:Nr()}),t.jsx(ge,{path:"*",element:t.jsx(rl,{to:"/",replace:!0})})]})})}),t.jsx(k2e,{})]})})})})}));
