import ST from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function S_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ty={exports:{}},yh={},Ey={exports:{}},es={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function e6(){if(O2)return es;O2=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function C(U,J,se){this.props=U,this.context=J,this.refs=S,this.updater=se||b}C.prototype.isReactComponent={},C.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=C.prototype;function M(U,J,se){this.props=U,this.context=J,this.refs=S,this.updater=se||b}var j=M.prototype=new A;j.constructor=M,_(j,C.prototype),j.isPureReactComponent=!0;var y=Array.isArray,w=Object.prototype.hasOwnProperty,P={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function k(U,J,se){var ne,ue={},we=null,Me=null;if(J!=null)for(ne in J.ref!==void 0&&(Me=J.ref),J.key!==void 0&&(we=""+J.key),J)w.call(J,ne)&&!N.hasOwnProperty(ne)&&(ue[ne]=J[ne]);var ee=arguments.length-2;if(ee===1)ue.children=se;else if(1<ee){for(var ge=Array(ee),oe=0;oe<ee;oe++)ge[oe]=arguments[oe+2];ue.children=ge}if(U&&U.defaultProps)for(ne in ee=U.defaultProps,ee)ue[ne]===void 0&&(ue[ne]=ee[ne]);return{$$typeof:s,type:U,key:we,ref:Me,props:ue,_owner:P.current}}function T(U,J){return{$$typeof:s,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function R(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(se){return J[se]})}var $=/\/+/g;function B(U,J){return typeof U=="object"&&U!==null&&U.key!=null?R(""+U.key):J.toString(36)}function H(U,J,se,ne,ue){var we=typeof U;(we==="undefined"||we==="boolean")&&(U=null);var Me=!1;if(U===null)Me=!0;else switch(we){case"string":case"number":Me=!0;break;case"object":switch(U.$$typeof){case s:case e:Me=!0}}if(Me)return Me=U,ue=ue(Me),U=ne===""?"."+B(Me,0):ne,y(ue)?(se="",U!=null&&(se=U.replace($,"$&/")+"/"),H(ue,J,se,"",function(oe){return oe})):ue!=null&&(L(ue)&&(ue=T(ue,se+(!ue.key||Me&&Me.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+U)),J.push(ue)),1;if(Me=0,ne=ne===""?".":ne+":",y(U))for(var ee=0;ee<U.length;ee++){we=U[ee];var ge=ne+B(we,ee);Me+=H(we,J,se,ge,ue)}else if(ge=x(U),typeof ge=="function")for(U=ge.call(U),ee=0;!(we=U.next()).done;)we=we.value,ge=ne+B(we,ee++),Me+=H(we,J,se,ge,ue);else if(we==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Me}function z(U,J,se){if(U==null)return U;var ne=[],ue=0;return H(U,ne,"","",function(we){return J.call(se,we,ue++)}),ne}function W(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(se){(U._status===0||U._status===-1)&&(U._status=1,U._result=se)},function(se){(U._status===0||U._status===-1)&&(U._status=2,U._result=se)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var G={current:null},K={transition:null},te={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:K,ReactCurrentOwner:P};function X(){throw Error("act(...) is not supported in production builds of React.")}return es.Children={map:z,forEach:function(U,J,se){z(U,function(){J.apply(this,arguments)},se)},count:function(U){var J=0;return z(U,function(){J++}),J},toArray:function(U){return z(U,function(J){return J})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},es.Component=C,es.Fragment=n,es.Profiler=i,es.PureComponent=M,es.StrictMode=r,es.Suspense=u,es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,es.act=X,es.cloneElement=function(U,J,se){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ne=_({},U.props),ue=U.key,we=U.ref,Me=U._owner;if(J!=null){if(J.ref!==void 0&&(we=J.ref,Me=P.current),J.key!==void 0&&(ue=""+J.key),U.type&&U.type.defaultProps)var ee=U.type.defaultProps;for(ge in J)w.call(J,ge)&&!N.hasOwnProperty(ge)&&(ne[ge]=J[ge]===void 0&&ee!==void 0?ee[ge]:J[ge])}var ge=arguments.length-2;if(ge===1)ne.children=se;else if(1<ge){ee=Array(ge);for(var oe=0;oe<ge;oe++)ee[oe]=arguments[oe+2];ne.children=ee}return{$$typeof:s,type:U.type,key:ue,ref:we,props:ne,_owner:Me}},es.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},es.createElement=k,es.createFactory=function(U){var J=k.bind(null,U);return J.type=U,J},es.createRef=function(){return{current:null}},es.forwardRef=function(U){return{$$typeof:c,render:U}},es.isValidElement=L,es.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:W}},es.memo=function(U,J){return{$$typeof:h,type:U,compare:J===void 0?null:J}},es.startTransition=function(U){var J=K.transition;K.transition={};try{U()}finally{K.transition=J}},es.unstable_act=X,es.useCallback=function(U,J){return G.current.useCallback(U,J)},es.useContext=function(U){return G.current.useContext(U)},es.useDebugValue=function(){},es.useDeferredValue=function(U){return G.current.useDeferredValue(U)},es.useEffect=function(U,J){return G.current.useEffect(U,J)},es.useId=function(){return G.current.useId()},es.useImperativeHandle=function(U,J,se){return G.current.useImperativeHandle(U,J,se)},es.useInsertionEffect=function(U,J){return G.current.useInsertionEffect(U,J)},es.useLayoutEffect=function(U,J){return G.current.useLayoutEffect(U,J)},es.useMemo=function(U,J){return G.current.useMemo(U,J)},es.useReducer=function(U,J,se){return G.current.useReducer(U,J,se)},es.useRef=function(U){return G.current.useRef(U)},es.useState=function(U){return G.current.useState(U)},es.useSyncExternalStore=function(U,J,se){return G.current.useSyncExternalStore(U,J,se)},es.useTransition=function(){return G.current.useTransition()},es.version="18.3.1",es}var V2;function N_(){return V2||(V2=1,Ey.exports=e6()),Ey.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function t6(){if(U2)return yh;U2=1;var s=N_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,h){var p,g={},x=null,b=null;h!==void 0&&(x=""+h),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(b=u.ref);for(p in u)r.call(u,p)&&!a.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:c,key:x,ref:b,props:g,_owner:i.current}}return yh.Fragment=n,yh.jsx=l,yh.jsxs=l,yh}var z2;function s6(){return z2||(z2=1,Ty.exports=t6()),Ty.exports}var t=s6(),E=N_();const Q=S_(E);var bg={},Ay={exports:{}},ei={},Py={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function n6(){return H2||(H2=1,(function(s){function e(K,te){var X=K.length;K.push(te);e:for(;0<X;){var U=X-1>>>1,J=K[U];if(0<i(J,te))K[U]=te,K[X]=J,X=U;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],X=K.pop();if(X!==te){K[0]=X;e:for(var U=0,J=K.length,se=J>>>1;U<se;){var ne=2*(U+1)-1,ue=K[ne],we=ne+1,Me=K[we];if(0>i(ue,X))we<J&&0>i(Me,ue)?(K[U]=Me,K[we]=X,U=we):(K[U]=ue,K[ne]=X,U=ne);else if(we<J&&0>i(Me,X))K[U]=Me,K[we]=X,U=we;else break e}}return te}function i(K,te){var X=K.sortIndex-te.sortIndex;return X!==0?X:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var u=[],h=[],p=1,g=null,x=3,b=!1,_=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(K){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=K)r(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function y(K){if(S=!1,j(K),!_)if(n(u)!==null)_=!0,W(w);else{var te=n(h);te!==null&&G(y,te.startTime-K)}}function w(K,te){_=!1,S&&(S=!1,A(k),k=-1),b=!0;var X=x;try{for(j(te),g=n(u);g!==null&&(!(g.expirationTime>te)||K&&!R());){var U=g.callback;if(typeof U=="function"){g.callback=null,x=g.priorityLevel;var J=U(g.expirationTime<=te);te=s.unstable_now(),typeof J=="function"?g.callback=J:g===n(u)&&r(u),j(te)}else r(u);g=n(u)}if(g!==null)var se=!0;else{var ne=n(h);ne!==null&&G(y,ne.startTime-te),se=!1}return se}finally{g=null,x=X,b=!1}}var P=!1,N=null,k=-1,T=5,L=-1;function R(){return!(s.unstable_now()-L<T)}function $(){if(N!==null){var K=s.unstable_now();L=K;var te=!0;try{te=N(!0,K)}finally{te?B():(P=!1,N=null)}}else P=!1}var B;if(typeof M=="function")B=function(){M($)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=$,B=function(){z.postMessage(null)}}else B=function(){C($,0)};function W(K){N=K,P||(P=!0,B())}function G(K,te){k=C(function(){K(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_continueExecution=function(){_||b||(_=!0,W(w))},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_getFirstCallbackNode=function(){return n(u)},s.unstable_next=function(K){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var X=x;x=te;try{return K()}finally{x=X}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=x;x=K;try{return te()}finally{x=X}},s.unstable_scheduleCallback=function(K,te,X){var U=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?U+X:U):X=U,K){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,K={id:p++,callback:te,priorityLevel:K,startTime:X,expirationTime:J,sortIndex:-1},X>U?(K.sortIndex=X,e(h,K),n(u)===null&&K===n(h)&&(S?(A(k),k=-1):S=!0,G(y,X-U))):(K.sortIndex=J,e(u,K),_||b||(_=!0,W(w))),K},s.unstable_shouldYield=R,s.unstable_wrapCallback=function(K){var te=x;return function(){var X=x;x=te;try{return K.apply(this,arguments)}finally{x=X}}}})(Ry)),Ry}var G2;function r6(){return G2||(G2=1,Py.exports=n6()),Py.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2;function i6(){if(W2)return ei;W2=1;var s=N_(),e=r6();function n(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,d){l(o,d),l(o+"Capture",d)}function l(o,d){for(i[o]=d,o=0;o<d.length;o++)r.add(d[o])}var c=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function x(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function b(o,d,m,v){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,d,m,v){if(d===null||typeof d=="undefined"||b(o,d,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(o,d,m,v,I,F,V){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=v,this.attributeNamespace=I,this.mustUseProperty=m,this.propertyName=o,this.type=d,this.sanitizeURL=F,this.removeEmptyString=V}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){C[o]=new S(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];C[d]=new S(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){C[o]=new S(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){C[o]=new S(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){C[o]=new S(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){C[o]=new S(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){C[o]=new S(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){C[o]=new S(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){C[o]=new S(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(A,M);C[d]=new S(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(A,M);C[d]=new S(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(A,M);C[d]=new S(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){C[o]=new S(o,1,!1,o.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){C[o]=new S(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,d,m,v){var I=C.hasOwnProperty(d)?C[d]:null;(I!==null?I.type!==0:v||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,m,I,v)&&(m=null),v||I===null?x(d)&&(m===null?o.removeAttribute(d):o.setAttribute(d,""+m)):I.mustUseProperty?o[I.propertyName]=m===null?I.type===3?!1:"":m:(d=I.attributeName,v=I.attributeNamespace,m===null?o.removeAttribute(d):(I=I.type,m=I===3||I===4&&m===!0?"":""+m,v?o.setAttributeNS(v,d,m):o.setAttribute(d,m))))}var y=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),K=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var X=Object.assign,U;function J(o){if(U===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);U=d&&d[1]||""}return`
`+U+o}var se=!1;function ne(o,d){if(!o||se)return"";se=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ve){var v=ve}Reflect.construct(o,[],d)}else{try{d.call()}catch(ve){v=ve}o.call(d.prototype)}else{try{throw Error()}catch(ve){v=ve}o()}}catch(ve){if(ve&&v&&typeof ve.stack=="string"){for(var I=ve.stack.split(`
`),F=v.stack.split(`
`),V=I.length-1,Y=F.length-1;1<=V&&0<=Y&&I[V]!==F[Y];)Y--;for(;1<=V&&0<=Y;V--,Y--)if(I[V]!==F[Y]){if(V!==1||Y!==1)do if(V--,Y--,0>Y||I[V]!==F[Y]){var re=`
`+I[V].replace(" at new "," at ");return o.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",o.displayName)),re}while(1<=V&&0<=Y);break}}}finally{se=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?J(o):""}function ue(o){switch(o.tag){case 5:return J(o.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return o=ne(o.type,!1),o;case 11:return o=ne(o.type.render,!1),o;case 1:return o=ne(o.type,!0),o;default:return""}}function we(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case P:return"Portal";case T:return"Profiler";case k:return"StrictMode";case B:return"Suspense";case H:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case R:return(o.displayName||"Context")+".Consumer";case L:return(o._context.displayName||"Context")+".Provider";case $:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return d=o.displayName||null,d!==null?d:we(o.type)||"Memo";case W:d=o._payload,o=o._init;try{return we(o(d))}catch(m){}}return null}function Me(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(d);case 8:return d===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ee(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ge(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function oe(o){var d=ge(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),v=""+o[d];if(!o.hasOwnProperty(d)&&typeof m!="undefined"&&typeof m.get=="function"&&typeof m.set=="function"){var I=m.get,F=m.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return I.call(this)},set:function(V){v=""+V,F.call(this,V)}}),Object.defineProperty(o,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function ye(o){o._valueTracker||(o._valueTracker=oe(o))}function je(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return o&&(v=ge(o)?o.checked?"true":"false":o.value),o=v,o!==m?(d.setValue(o),!0):!1}function ke(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(d){return o.body}}function qe(o,d){var m=d.checked;return X({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m!=null?m:o._wrapperState.initialChecked})}function me(o,d){var m=d.defaultValue==null?"":d.defaultValue,v=d.checked!=null?d.checked:d.defaultChecked;m=ee(d.value!=null?d.value:m),o._wrapperState={initialChecked:v,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ie(o,d){d=d.checked,d!=null&&j(o,"checked",d,!1)}function Xe(o,d){Ie(o,d);var m=ee(d.value),v=d.type;if(m!=null)v==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?Nt(o,d.type,m):d.hasOwnProperty("defaultValue")&&Nt(o,d.type,ee(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function it(o,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!(v!=="submit"&&v!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,m||d===o.value||(o.value=d),o.defaultValue=d}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function Nt(o,d,m){(d!=="number"||ke(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var be=Array.isArray;function De(o,d,m,v){if(o=o.options,d){d={};for(var I=0;I<m.length;I++)d["$"+m[I]]=!0;for(m=0;m<o.length;m++)I=d.hasOwnProperty("$"+o[m].value),o[m].selected!==I&&(o[m].selected=I),I&&v&&(o[m].defaultSelected=!0)}else{for(m=""+ee(m),d=null,I=0;I<o.length;I++){if(o[I].value===m){o[I].selected=!0,v&&(o[I].defaultSelected=!0);return}d!==null||o[I].disabled||(d=o[I])}d!==null&&(d.selected=!0)}}function Ee(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function at(o,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(be(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}o._wrapperState={initialValue:ee(m)}}function mt(o,d){var m=ee(d.value),v=ee(d.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),d.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),v!=null&&(o.defaultValue=""+v)}function Ve(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Se(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Se(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var _t,Ot=(function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(d,m,v,I){MSApp.execUnsafeLocalFunction(function(){return o(d,m,v,I)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=_t.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function Rs(o,d){if(d){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=d;return}}o.textContent=d}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(o){gs.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),ms[d]=ms[o]})});function Js(o,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||ms.hasOwnProperty(o)&&ms[o]?(""+d).trim():d+"px"}function It(o,d){o=o.style;for(var m in d)if(d.hasOwnProperty(m)){var v=m.indexOf("--")===0,I=Js(m,d[m],v);m==="float"&&(m="cssFloat"),v?o.setProperty(m,I):o[m]=I}}var Ne=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mn(o,d){if(d){if(Ne[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Zt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z=null;function ze(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Je=null,lt=null,tt=null;function Et(o){if(o=rh(o)){if(typeof Je!="function")throw Error(n(280));var d=o.stateNode;d&&(d=Dm(d),Je(o.stateNode,o.type,d))}}function cs(o){lt?tt?tt.push(o):tt=[o]:lt=o}function Ws(){if(lt){var o=lt,d=tt;if(tt=lt=null,Et(o),d)for(o=0;o<d.length;o++)Et(d[o])}}function gn(o,d){return o(d)}function Ln(){}var Zs=!1;function Ts(o,d,m){if(Zs)return o(d,m);Zs=!0;try{return gn(o,d,m)}finally{Zs=!1,(lt!==null||tt!==null)&&(Ln(),Ws())}}function _s(o,d){var m=o.stateNode;if(m===null)return null;var v=Dm(m);if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var er=!1;if(c)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){er=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch(o){er=!1}function Cr(o,d,m,v,I,F,V,Y,re){var ve=Array.prototype.slice.call(arguments,3);try{d.apply(m,ve)}catch(Ae){this.onError(Ae)}}var Ir=!1,Tr=null,Bn=!1,ds=null,Ls={onError:function(o){Ir=!0,Tr=o}};function tr(o,d,m,v,I,F,V,Y,re){Ir=!1,Tr=null,Cr.apply(Ls,arguments)}function ci(o,d,m,v,I,F,V,Y,re){if(tr.apply(this,arguments),Ir){if(Ir){var ve=Tr;Ir=!1,Tr=null}else throw Error(n(198));Bn||(Bn=!0,ds=ve)}}function Xt(o){var d=o,m=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(m=d.return),o=d.return;while(o)}return d.tag===3?m:null}function ya(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function Wr(o){if(Xt(o)!==o)throw Error(n(188))}function Gl(o){var d=o.alternate;if(!d){if(d=Xt(o),d===null)throw Error(n(188));return d!==o?null:o}for(var m=o,v=d;;){var I=m.return;if(I===null)break;var F=I.alternate;if(F===null){if(v=I.return,v!==null){m=v;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===m)return Wr(I),o;if(F===v)return Wr(I),d;F=F.sibling}throw Error(n(188))}if(m.return!==v.return)m=I,v=F;else{for(var V=!1,Y=I.child;Y;){if(Y===m){V=!0,m=I,v=F;break}if(Y===v){V=!0,v=I,m=F;break}Y=Y.sibling}if(!V){for(Y=F.child;Y;){if(Y===m){V=!0,m=F,v=I;break}if(Y===v){V=!0,v=F,m=I;break}Y=Y.sibling}if(!V)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:d}function Oo(o){return o=Gl(o),o!==null?Ya(o):null}function Ya(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Ya(o);if(d!==null)return d;o=o.sibling}return null}var Xa=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,Wl=e.unstable_shouldYield,sd=e.unstable_requestPaint,Es=e.unstable_now,Kl=e.unstable_getCurrentPriorityLevel,ba=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,Er=e.unstable_NormalPriority,Vu=e.unstable_LowPriority,dm=e.unstable_IdlePriority,ql=null,di=null;function um(o){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot(ql,o,void 0,(o.current.flags&128)===128)}catch(d){}}var Ar=Math.clz32?Math.clz32:pm,Uu=Math.log,hm=Math.LN2;function pm(o){return o>>>=0,o===0?32:31-(Uu(o)/hm|0)|0}var nd=64,rd=4194304;function Uo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ql(o,d){var m=o.pendingLanes;if(m===0)return 0;var v=0,I=o.suspendedLanes,F=o.pingedLanes,V=m&268435455;if(V!==0){var Y=V&~I;Y!==0?v=Uo(Y):(F&=V,F!==0&&(v=Uo(F)))}else V=m&~I,V!==0?v=Uo(V):F!==0&&(v=Uo(F));if(v===0)return 0;if(d!==0&&d!==v&&(d&I)===0&&(I=v&-v,F=d&-d,I>=F||I===16&&(F&4194240)!==0))return d;if((v&4)!==0&&(v|=m&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=v;0<d;)m=31-Ar(d),I=1<<m,v|=o[m],d&=~I;return v}function ix(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(o,d){for(var m=o.suspendedLanes,v=o.pingedLanes,I=o.expirationTimes,F=o.pendingLanes;0<F;){var V=31-Ar(F),Y=1<<V,re=I[V];re===-1?((Y&m)===0||(Y&v)!==0)&&(I[V]=ix(Y,d)):re<=d&&(o.expiredLanes|=Y),F&=~Y}}function ui(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Yl(){var o=nd;return nd<<=1,(nd&4194240)===0&&(nd=64),o}function zo(o){for(var d=[],m=0;31>m;m++)d.push(o);return d}function Ho(o,d,m){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-Ar(d),o[d]=m}function Ds(o,d){var m=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<m;){var I=31-Ar(m),F=1<<I;d[I]=0,v[I]=-1,o[I]=-1,m&=~F}}function Go(o,d){var m=o.entangledLanes|=d;for(o=o.entanglements;m;){var v=31-Ar(m),I=1<<v;I&d|o[v]&d&&(o[v]|=d),m&=~I}}var as=0;function Wo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var mm,id,gm,fm,vm,zu=!1,_a=[],sr=null,Ki=null,qi=null,Ko=new Map,Ti=new Map,wa=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xm(o,d){switch(o){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Ko.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(d.pointerId)}}function Kr(o,d,m,v,I,F){return o===null||o.nativeEvent!==F?(o={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:F,targetContainers:[I]},d!==null&&(d=rh(d),d!==null&&id(d)),o):(o.eventSystemFlags|=v,d=o.targetContainers,I!==null&&d.indexOf(I)===-1&&d.push(I),o)}function ox(o,d,m,v,I){switch(d){case"focusin":return sr=Kr(sr,o,d,m,v,I),!0;case"dragenter":return Ki=Kr(Ki,o,d,m,v,I),!0;case"mouseover":return qi=Kr(qi,o,d,m,v,I),!0;case"pointerover":var F=I.pointerId;return Ko.set(F,Kr(Ko.get(F)||null,o,d,m,v,I)),!0;case"gotpointercapture":return F=I.pointerId,Ti.set(F,Kr(Ti.get(F)||null,o,d,m,v,I)),!0}return!1}function ym(o){var d=tc(o.target);if(d!==null){var m=Xt(d);if(m!==null){if(d=m.tag,d===13){if(d=ya(m),d!==null){o.blockedOn=d,vm(o.priority,function(){gm(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Za(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var m=ad(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var v=new m.constructor(m.type,m);Z=v,m.target.dispatchEvent(v),Z=null}else return d=rh(m),d!==null&&id(d),o.blockedOn=m,!1;d.shift()}return!0}function Xl(o,d,m){Za(o)&&m.delete(d)}function bm(){zu=!1,sr!==null&&Za(sr)&&(sr=null),Ki!==null&&Za(Ki)&&(Ki=null),qi!==null&&Za(qi)&&(qi=null),Ko.forEach(Xl),Ti.forEach(Xl)}function Qi(o,d){o.blockedOn===d&&(o.blockedOn=null,zu||(zu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bm)))}function Yi(o){function d(I){return Qi(I,o)}if(0<_a.length){Qi(_a[0],o);for(var m=1;m<_a.length;m++){var v=_a[m];v.blockedOn===o&&(v.blockedOn=null)}}for(sr!==null&&Qi(sr,o),Ki!==null&&Qi(Ki,o),qi!==null&&Qi(qi,o),Ko.forEach(d),Ti.forEach(d),m=0;m<wa.length;m++)v=wa[m],v.blockedOn===o&&(v.blockedOn=null);for(;0<wa.length&&(m=wa[0],m.blockedOn===null);)ym(m),m.blockedOn===null&&wa.shift()}var eo=y.ReactCurrentBatchConfig,qo=!0;function Ks(o,d,m,v){var I=as,F=eo.transition;eo.transition=null;try{as=1,Hu(o,d,m,v)}finally{as=I,eo.transition=F}}function lx(o,d,m,v){var I=as,F=eo.transition;eo.transition=null;try{as=4,Hu(o,d,m,v)}finally{as=I,eo.transition=F}}function Hu(o,d,m,v){if(qo){var I=ad(o,d,m,v);if(I===null)yx(o,d,v,Jl,m),xm(o,v);else if(ox(I,o,d,m,v))v.stopPropagation();else if(xm(o,v),d&4&&-1<ax.indexOf(o)){for(;I!==null;){var F=rh(I);if(F!==null&&mm(F),F=ad(o,d,m,v),F===null&&yx(o,d,v,Jl,m),F===I)break;I=F}I!==null&&v.stopPropagation()}else yx(o,d,v,null,m)}}var Jl=null;function ad(o,d,m,v){if(Jl=null,o=ze(v),o=tc(o),o!==null)if(d=Xt(o),d===null)o=null;else if(m=d.tag,m===13){if(o=ya(d),o!==null)return o;o=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return Jl=o,null}function Gu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kl()){case ba:return 1;case Wi:return 4;case Er:case Vu:return 16;case dm:return 536870912;default:return 16}default:return 16}}var hi=null,od=null,qr=null;function Wu(){if(qr)return qr;var o,d=od,m=d.length,v,I="value"in hi?hi.value:hi.textContent,F=I.length;for(o=0;o<m&&d[o]===I[o];o++);var V=m-o;for(v=1;v<=V&&d[m-v]===I[F-v];v++);return qr=I.slice(o,1<v?1-v:void 0)}function ld(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function ja(){return!0}function Ku(){return!1}function nr(o){function d(m,v,I,F,V){this._reactName=m,this._targetInst=I,this.type=v,this.nativeEvent=F,this.target=V,this.currentTarget=null;for(var Y in o)o.hasOwnProperty(Y)&&(m=o[Y],this[Y]=m?m(F):F[Y]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?ja:Ku,this.isPropagationStopped=Ku,this}return X(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),d}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cd=nr(Xi),Sa=X({},Xi,{view:0,detail:0}),cx=nr(Sa),dd,to,Qo,Zl=X({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Qo&&(Qo&&o.type==="mousemove"?(dd=o.screenX-Qo.screenX,to=o.screenY-Qo.screenY):to=dd=0,Qo=o),dd)},movementY:function(o){return"movementY"in o?o.movementY:to}}),ud=nr(Zl),qu=X({},Zl,{dataTransfer:0}),_m=nr(qu),hd=X({},Sa,{relatedTarget:0}),pd=nr(hd),wm=X({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),so=nr(wm),jm=X({},Xi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Sm=nr(jm),Nm=X({},Xi,{data:0}),Qu=nr(Nm),md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cm(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=km[o])?!!d[o]:!1}function Na(){return Cm}var f=X({},Sa,{key:function(o){if(o.key){var d=md[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=ld(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Pr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(o){return o.type==="keypress"?ld(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ld(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),D=nr(f),O=X({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=nr(O),de=X({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),xe=nr(de),Qe=X({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),As=nr(Qe),Dn=X({},Zl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),us=nr(Dn),On=[9,13,27,32],jn=c&&"CompositionEvent"in window,Ei=null;c&&"documentMode"in document&&(Ei=document.documentMode);var pi=c&&"TextEvent"in window&&!Ei,ec=c&&(!jn||Ei&&8<Ei&&11>=Ei),gd=" ",Lw=!1;function Dw(o,d){switch(o){case"keyup":return On.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fd=!1;function XP(o,d){switch(o){case"compositionend":return Mw(d);case"keypress":return d.which!==32?null:(Lw=!0,gd);case"textInput":return o=d.data,o===gd&&Lw?null:o;default:return null}}function JP(o,d){if(fd)return o==="compositionend"||!jn&&Dw(o,d)?(o=Wu(),qr=od=hi=null,fd=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return ec&&d.locale!=="ko"?null:d.data;default:return null}}var ZP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!ZP[o.type]:d==="textarea"}function $w(o,d,m,v){cs(v),d=Pm(d,"onChange"),0<d.length&&(m=new cd("onChange","change",null,m,v),o.push({event:m,listeners:d}))}var Yu=null,Xu=null;function eR(o){sj(o,0)}function Im(o){var d=_d(o);if(je(d))return o}function tR(o,d){if(o==="change")return d}var Bw=!1;if(c){var dx;if(c){var ux="oninput"in document;if(!ux){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),ux=typeof Ow.oninput=="function"}dx=ux}else dx=!1;Bw=dx&&(!document.documentMode||9<document.documentMode)}function Vw(){Yu&&(Yu.detachEvent("onpropertychange",Uw),Xu=Yu=null)}function Uw(o){if(o.propertyName==="value"&&Im(Xu)){var d=[];$w(d,Xu,o,ze(o)),Ts(eR,d)}}function sR(o,d,m){o==="focusin"?(Vw(),Yu=d,Xu=m,Yu.attachEvent("onpropertychange",Uw)):o==="focusout"&&Vw()}function nR(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Im(Xu)}function rR(o,d){if(o==="click")return Im(d)}function iR(o,d){if(o==="input"||o==="change")return Im(d)}function aR(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var Ji=typeof Object.is=="function"?Object.is:aR;function Ju(o,d){if(Ji(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var m=Object.keys(o),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var I=m[v];if(!u.call(d,I)||!Ji(o[I],d[I]))return!1}return!0}function zw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Hw(o,d){var m=zw(o);o=0;for(var v;m;){if(m.nodeType===3){if(v=o+m.textContent.length,o<=d&&v>=d)return{node:m,offset:d-o};o=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=zw(m)}}function Gw(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Gw(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function Ww(){for(var o=window,d=ke();d instanceof o.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch(v){m=!1}if(m)o=d.contentWindow;else break;d=ke(o.document)}return d}function hx(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function oR(o){var d=Ww(),m=o.focusedElem,v=o.selectionRange;if(d!==m&&m&&m.ownerDocument&&Gw(m.ownerDocument.documentElement,m)){if(v!==null&&hx(m)){if(d=v.start,o=v.end,o===void 0&&(o=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(o,m.value.length);else if(o=(d=m.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var I=m.textContent.length,F=Math.min(v.start,I);v=v.end===void 0?F:Math.min(v.end,I),!o.extend&&F>v&&(I=v,v=F,F=I),I=Hw(m,F);var V=Hw(m,v);I&&V&&(o.rangeCount!==1||o.anchorNode!==I.node||o.anchorOffset!==I.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(d=d.createRange(),d.setStart(I.node,I.offset),o.removeAllRanges(),F>v?(o.addRange(d),o.extend(V.node,V.offset)):(d.setEnd(V.node,V.offset),o.addRange(d)))}}for(d=[],o=m;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)o=d[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var lR=c&&"documentMode"in document&&11>=document.documentMode,vd=null,px=null,Zu=null,mx=!1;function Kw(o,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;mx||vd==null||vd!==ke(v)||(v=vd,"selectionStart"in v&&hx(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Zu&&Ju(Zu,v)||(Zu=v,v=Pm(px,"onSelect"),0<v.length&&(d=new cd("onSelect","select",null,d,m),o.push({event:d,listeners:v}),d.target=vd)))}function Tm(o,d){var m={};return m[o.toLowerCase()]=d.toLowerCase(),m["Webkit"+o]="webkit"+d,m["Moz"+o]="moz"+d,m}var xd={animationend:Tm("Animation","AnimationEnd"),animationiteration:Tm("Animation","AnimationIteration"),animationstart:Tm("Animation","AnimationStart"),transitionend:Tm("Transition","TransitionEnd")},gx={},qw={};c&&(qw=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function Em(o){if(gx[o])return gx[o];if(!xd[o])return o;var d=xd[o],m;for(m in d)if(d.hasOwnProperty(m)&&m in qw)return gx[o]=d[m];return o}var Qw=Em("animationend"),Yw=Em("animationiteration"),Xw=Em("animationstart"),Jw=Em("transitionend"),Zw=new Map,ej="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yo(o,d){Zw.set(o,d),a(d,[o])}for(var fx=0;fx<ej.length;fx++){var vx=ej[fx],cR=vx.toLowerCase(),dR=vx[0].toUpperCase()+vx.slice(1);Yo(cR,"on"+dR)}Yo(Qw,"onAnimationEnd"),Yo(Yw,"onAnimationIteration"),Yo(Xw,"onAnimationStart"),Yo("dblclick","onDoubleClick"),Yo("focusin","onFocus"),Yo("focusout","onBlur"),Yo(Jw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));function tj(o,d,m){var v=o.type||"unknown-event";o.currentTarget=m,ci(v,d,void 0,o),o.currentTarget=null}function sj(o,d){d=(d&4)!==0;for(var m=0;m<o.length;m++){var v=o[m],I=v.event;v=v.listeners;e:{var F=void 0;if(d)for(var V=v.length-1;0<=V;V--){var Y=v[V],re=Y.instance,ve=Y.currentTarget;if(Y=Y.listener,re!==F&&I.isPropagationStopped())break e;tj(I,Y,ve),F=re}else for(V=0;V<v.length;V++){if(Y=v[V],re=Y.instance,ve=Y.currentTarget,Y=Y.listener,re!==F&&I.isPropagationStopped())break e;tj(I,Y,ve),F=re}}}if(Bn)throw o=ds,Bn=!1,ds=null,o}function Vs(o,d){var m=d[Nx];m===void 0&&(m=d[Nx]=new Set);var v=o+"__bubble";m.has(v)||(nj(d,o,2,!1),m.add(v))}function xx(o,d,m){var v=0;d&&(v|=4),nj(m,o,v,d)}var Am="_reactListening"+Math.random().toString(36).slice(2);function th(o){if(!o[Am]){o[Am]=!0,r.forEach(function(m){m!=="selectionchange"&&(uR.has(m)||xx(m,!1,o),xx(m,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[Am]||(d[Am]=!0,xx("selectionchange",!1,d))}}function nj(o,d,m,v){switch(Gu(d)){case 1:var I=Ks;break;case 4:I=lx;break;default:I=Hu}m=I.bind(null,d,m,o),I=void 0,!er||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(I=!0),v?I!==void 0?o.addEventListener(d,m,{capture:!0,passive:I}):o.addEventListener(d,m,!0):I!==void 0?o.addEventListener(d,m,{passive:I}):o.addEventListener(d,m,!1)}function yx(o,d,m,v,I){var F=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var Y=v.stateNode.containerInfo;if(Y===I||Y.nodeType===8&&Y.parentNode===I)break;if(V===4)for(V=v.return;V!==null;){var re=V.tag;if((re===3||re===4)&&(re=V.stateNode.containerInfo,re===I||re.nodeType===8&&re.parentNode===I))return;V=V.return}for(;Y!==null;){if(V=tc(Y),V===null)return;if(re=V.tag,re===5||re===6){v=F=V;continue e}Y=Y.parentNode}}v=v.return}Ts(function(){var ve=F,Ae=ze(m),Fe=[];e:{var Te=Zw.get(o);if(Te!==void 0){var st=cd,ot=o;switch(o){case"keypress":if(ld(m)===0)break e;case"keydown":case"keyup":st=D;break;case"focusin":ot="focus",st=pd;break;case"focusout":ot="blur",st=pd;break;case"beforeblur":case"afterblur":st=pd;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=xe;break;case Qw:case Yw:case Xw:st=so;break;case Jw:st=As;break;case"scroll":st=cx;break;case"wheel":st=us;break;case"copy":case"cut":case"paste":st=Sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=q}var ct=(d&4)!==0,vn=!ct&&o==="scroll",he=ct?Te!==null?Te+"Capture":null:Te;ct=[];for(var ae=ve,pe;ae!==null;){pe=ae;var Oe=pe.stateNode;if(pe.tag===5&&Oe!==null&&(pe=Oe,he!==null&&(Oe=_s(ae,he),Oe!=null&&ct.push(sh(ae,Oe,pe)))),vn)break;ae=ae.return}0<ct.length&&(Te=new st(Te,ot,null,m,Ae),Fe.push({event:Te,listeners:ct}))}}if((d&7)===0){e:{if(Te=o==="mouseover"||o==="pointerover",st=o==="mouseout"||o==="pointerout",Te&&m!==Z&&(ot=m.relatedTarget||m.fromElement)&&(tc(ot)||ot[no]))break e;if((st||Te)&&(Te=Ae.window===Ae?Ae:(Te=Ae.ownerDocument)?Te.defaultView||Te.parentWindow:window,st?(ot=m.relatedTarget||m.toElement,st=ve,ot=ot?tc(ot):null,ot!==null&&(vn=Xt(ot),ot!==vn||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(st=null,ot=ve),st!==ot)){if(ct=ud,Oe="onMouseLeave",he="onMouseEnter",ae="mouse",(o==="pointerout"||o==="pointerover")&&(ct=q,Oe="onPointerLeave",he="onPointerEnter",ae="pointer"),vn=st==null?Te:_d(st),pe=ot==null?Te:_d(ot),Te=new ct(Oe,ae+"leave",st,m,Ae),Te.target=vn,Te.relatedTarget=pe,Oe=null,tc(Ae)===ve&&(ct=new ct(he,ae+"enter",ot,m,Ae),ct.target=pe,ct.relatedTarget=vn,Oe=ct),vn=Oe,st&&ot)t:{for(ct=st,he=ot,ae=0,pe=ct;pe;pe=yd(pe))ae++;for(pe=0,Oe=he;Oe;Oe=yd(Oe))pe++;for(;0<ae-pe;)ct=yd(ct),ae--;for(;0<pe-ae;)he=yd(he),pe--;for(;ae--;){if(ct===he||he!==null&&ct===he.alternate)break t;ct=yd(ct),he=yd(he)}ct=null}else ct=null;st!==null&&rj(Fe,Te,st,ct,!1),ot!==null&&vn!==null&&rj(Fe,vn,ot,ct,!0)}}e:{if(Te=ve?_d(ve):window,st=Te.nodeName&&Te.nodeName.toLowerCase(),st==="select"||st==="input"&&Te.type==="file")var pt=tR;else if(Fw(Te))if(Bw)pt=iR;else{pt=nR;var jt=sR}else(st=Te.nodeName)&&st.toLowerCase()==="input"&&(Te.type==="checkbox"||Te.type==="radio")&&(pt=rR);if(pt&&(pt=pt(o,ve))){$w(Fe,pt,m,Ae);break e}jt&&jt(o,Te,ve),o==="focusout"&&(jt=Te._wrapperState)&&jt.controlled&&Te.type==="number"&&Nt(Te,"number",Te.value)}switch(jt=ve?_d(ve):window,o){case"focusin":(Fw(jt)||jt.contentEditable==="true")&&(vd=jt,px=ve,Zu=null);break;case"focusout":Zu=px=vd=null;break;case"mousedown":mx=!0;break;case"contextmenu":case"mouseup":case"dragend":mx=!1,Kw(Fe,m,Ae);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":Kw(Fe,m,Ae)}var St;if(jn)e:{switch(o){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else fd?Dw(o,m)&&(Rt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Rt="onCompositionStart");Rt&&(ec&&m.locale!=="ko"&&(fd||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&fd&&(St=Wu()):(hi=Ae,od="value"in hi?hi.value:hi.textContent,fd=!0)),jt=Pm(ve,Rt),0<jt.length&&(Rt=new Qu(Rt,o,null,m,Ae),Fe.push({event:Rt,listeners:jt}),St?Rt.data=St:(St=Mw(m),St!==null&&(Rt.data=St)))),(St=pi?XP(o,m):JP(o,m))&&(ve=Pm(ve,"onBeforeInput"),0<ve.length&&(Ae=new Qu("onBeforeInput","beforeinput",null,m,Ae),Fe.push({event:Ae,listeners:ve}),Ae.data=St))}sj(Fe,d)})}function sh(o,d,m){return{instance:o,listener:d,currentTarget:m}}function Pm(o,d){for(var m=d+"Capture",v=[];o!==null;){var I=o,F=I.stateNode;I.tag===5&&F!==null&&(I=F,F=_s(o,m),F!=null&&v.unshift(sh(o,F,I)),F=_s(o,d),F!=null&&v.push(sh(o,F,I))),o=o.return}return v}function yd(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function rj(o,d,m,v,I){for(var F=d._reactName,V=[];m!==null&&m!==v;){var Y=m,re=Y.alternate,ve=Y.stateNode;if(re!==null&&re===v)break;Y.tag===5&&ve!==null&&(Y=ve,I?(re=_s(m,F),re!=null&&V.unshift(sh(m,re,Y))):I||(re=_s(m,F),re!=null&&V.push(sh(m,re,Y)))),m=m.return}V.length!==0&&o.push({event:d,listeners:V})}var hR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function ij(o){return(typeof o=="string"?o:""+o).replace(hR,`
`).replace(pR,"")}function Rm(o,d,m){if(d=ij(d),ij(o)!==d&&m)throw Error(n(425))}function Lm(){}var bx=null,_x=null;function wx(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var jx=typeof setTimeout=="function"?setTimeout:void 0,mR=typeof clearTimeout=="function"?clearTimeout:void 0,aj=typeof Promise=="function"?Promise:void 0,gR=typeof queueMicrotask=="function"?queueMicrotask:typeof aj!="undefined"?function(o){return aj.resolve(null).then(o).catch(fR)}:jx;function fR(o){setTimeout(function(){throw o})}function Sx(o,d){var m=d,v=0;do{var I=m.nextSibling;if(o.removeChild(m),I&&I.nodeType===8)if(m=I.data,m==="/$"){if(v===0){o.removeChild(I),Yi(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=I}while(m);Yi(d)}function Xo(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function oj(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return o;d--}else m==="/$"&&d++}o=o.previousSibling}return null}var bd=Math.random().toString(36).slice(2),ka="__reactFiber$"+bd,nh="__reactProps$"+bd,no="__reactContainer$"+bd,Nx="__reactEvents$"+bd,vR="__reactListeners$"+bd,xR="__reactHandles$"+bd;function tc(o){var d=o[ka];if(d)return d;for(var m=o.parentNode;m;){if(d=m[no]||m[ka]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(o=oj(o);o!==null;){if(m=o[ka])return m;o=oj(o)}return d}o=m,m=o.parentNode}return null}function rh(o){return o=o[ka]||o[no],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function _d(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Dm(o){return o[nh]||null}var kx=[],wd=-1;function Jo(o){return{current:o}}function Us(o){0>wd||(o.current=kx[wd],kx[wd]=null,wd--)}function $s(o,d){wd++,kx[wd]=o.current,o.current=d}var Zo={},xr=Jo(Zo),Qr=Jo(!1),sc=Zo;function jd(o,d){var m=o.type.contextTypes;if(!m)return Zo;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var I={},F;for(F in m)I[F]=d[F];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=I),I}function Yr(o){return o=o.childContextTypes,o!=null}function Mm(){Us(Qr),Us(xr)}function lj(o,d,m){if(xr.current!==Zo)throw Error(n(168));$s(xr,d),$s(Qr,m)}function cj(o,d,m){var v=o.stateNode;if(d=d.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var I in v)if(!(I in d))throw Error(n(108,Me(o)||"Unknown",I));return X({},m,v)}function Fm(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Zo,sc=xr.current,$s(xr,o),$s(Qr,Qr.current),!0}function dj(o,d,m){var v=o.stateNode;if(!v)throw Error(n(169));m?(o=cj(o,d,sc),v.__reactInternalMemoizedMergedChildContext=o,Us(Qr),Us(xr),$s(xr,o)):Us(Qr),$s(Qr,m)}var ro=null,$m=!1,Cx=!1;function uj(o){ro===null?ro=[o]:ro.push(o)}function yR(o){$m=!0,uj(o)}function el(){if(!Cx&&ro!==null){Cx=!0;var o=0,d=as;try{var m=ro;for(as=1;o<m.length;o++){var v=m[o];do v=v(!0);while(v!==null)}ro=null,$m=!1}catch(I){throw ro!==null&&(ro=ro.slice(o+1)),Xa(ba,el),I}finally{as=d,Cx=!1}}return null}var Sd=[],Nd=0,Bm=null,Om=0,Ai=[],Pi=0,nc=null,io=1,ao="";function rc(o,d){Sd[Nd++]=Om,Sd[Nd++]=Bm,Bm=o,Om=d}function hj(o,d,m){Ai[Pi++]=io,Ai[Pi++]=ao,Ai[Pi++]=nc,nc=o;var v=io;o=ao;var I=32-Ar(v)-1;v&=~(1<<I),m+=1;var F=32-Ar(d)+I;if(30<F){var V=I-I%5;F=(v&(1<<V)-1).toString(32),v>>=V,I-=V,io=1<<32-Ar(d)+I|m<<I|v,ao=F+o}else io=1<<F|m<<I|v,ao=o}function Ix(o){o.return!==null&&(rc(o,1),hj(o,1,0))}function Tx(o){for(;o===Bm;)Bm=Sd[--Nd],Sd[Nd]=null,Om=Sd[--Nd],Sd[Nd]=null;for(;o===nc;)nc=Ai[--Pi],Ai[Pi]=null,ao=Ai[--Pi],Ai[Pi]=null,io=Ai[--Pi],Ai[Pi]=null}var mi=null,gi=null,qs=!1,Zi=null;function pj(o,d){var m=Mi(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=o,d=o.deletions,d===null?(o.deletions=[m],o.flags|=16):d.push(m)}function mj(o,d){switch(o.tag){case 5:var m=o.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,mi=o,gi=Xo(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,mi=o,gi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=nc!==null?{id:io,overflow:ao}:null,o.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Mi(18,null,null,0),m.stateNode=d,m.return=o,o.child=m,mi=o,gi=null,!0):!1;default:return!1}}function Ex(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ax(o){if(qs){var d=gi;if(d){var m=d;if(!mj(o,d)){if(Ex(o))throw Error(n(418));d=Xo(m.nextSibling);var v=mi;d&&mj(o,d)?pj(v,m):(o.flags=o.flags&-4097|2,qs=!1,mi=o)}}else{if(Ex(o))throw Error(n(418));o.flags=o.flags&-4097|2,qs=!1,mi=o}}}function gj(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;mi=o}function Vm(o){if(o!==mi)return!1;if(!qs)return gj(o),qs=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!wx(o.type,o.memoizedProps)),d&&(d=gi)){if(Ex(o))throw fj(),Error(n(418));for(;d;)pj(o,d),d=Xo(d.nextSibling)}if(gj(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(d===0){gi=Xo(o.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}o=o.nextSibling}gi=null}}else gi=mi?Xo(o.stateNode.nextSibling):null;return!0}function fj(){for(var o=gi;o;)o=Xo(o.nextSibling)}function kd(){gi=mi=null,qs=!1}function Px(o){Zi===null?Zi=[o]:Zi.push(o)}var bR=y.ReactCurrentBatchConfig;function ih(o,d,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,o));var I=v,F=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===F?d.ref:(d=function(V){var Y=I.refs;V===null?delete Y[F]:Y[F]=V},d._stringRef=F,d)}if(typeof o!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,o))}return o}function Um(o,d){throw o=Object.prototype.toString.call(d),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function vj(o){var d=o._init;return d(o._payload)}function xj(o){function d(he,ae){if(o){var pe=he.deletions;pe===null?(he.deletions=[ae],he.flags|=16):pe.push(ae)}}function m(he,ae){if(!o)return null;for(;ae!==null;)d(he,ae),ae=ae.sibling;return null}function v(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function I(he,ae){return he=ll(he,ae),he.index=0,he.sibling=null,he}function F(he,ae,pe){return he.index=pe,o?(pe=he.alternate,pe!==null?(pe=pe.index,pe<ae?(he.flags|=2,ae):pe):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function V(he){return o&&he.alternate===null&&(he.flags|=2),he}function Y(he,ae,pe,Oe){return ae===null||ae.tag!==6?(ae=jy(pe,he.mode,Oe),ae.return=he,ae):(ae=I(ae,pe),ae.return=he,ae)}function re(he,ae,pe,Oe){var pt=pe.type;return pt===N?Ae(he,ae,pe.props.children,Oe,pe.key):ae!==null&&(ae.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===W&&vj(pt)===ae.type)?(Oe=I(ae,pe.props),Oe.ref=ih(he,ae,pe),Oe.return=he,Oe):(Oe=hg(pe.type,pe.key,pe.props,null,he.mode,Oe),Oe.ref=ih(he,ae,pe),Oe.return=he,Oe)}function ve(he,ae,pe,Oe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=Sy(pe,he.mode,Oe),ae.return=he,ae):(ae=I(ae,pe.children||[]),ae.return=he,ae)}function Ae(he,ae,pe,Oe,pt){return ae===null||ae.tag!==7?(ae=hc(pe,he.mode,Oe,pt),ae.return=he,ae):(ae=I(ae,pe),ae.return=he,ae)}function Fe(he,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=jy(""+ae,he.mode,pe),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return pe=hg(ae.type,ae.key,ae.props,null,he.mode,pe),pe.ref=ih(he,null,ae),pe.return=he,pe;case P:return ae=Sy(ae,he.mode,pe),ae.return=he,ae;case W:var Oe=ae._init;return Fe(he,Oe(ae._payload),pe)}if(be(ae)||te(ae))return ae=hc(ae,he.mode,pe,null),ae.return=he,ae;Um(he,ae)}return null}function Te(he,ae,pe,Oe){var pt=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pt!==null?null:Y(he,ae,""+pe,Oe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return pe.key===pt?re(he,ae,pe,Oe):null;case P:return pe.key===pt?ve(he,ae,pe,Oe):null;case W:return pt=pe._init,Te(he,ae,pt(pe._payload),Oe)}if(be(pe)||te(pe))return pt!==null?null:Ae(he,ae,pe,Oe,null);Um(he,pe)}return null}function st(he,ae,pe,Oe,pt){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return he=he.get(pe)||null,Y(ae,he,""+Oe,pt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case w:return he=he.get(Oe.key===null?pe:Oe.key)||null,re(ae,he,Oe,pt);case P:return he=he.get(Oe.key===null?pe:Oe.key)||null,ve(ae,he,Oe,pt);case W:var jt=Oe._init;return st(he,ae,pe,jt(Oe._payload),pt)}if(be(Oe)||te(Oe))return he=he.get(pe)||null,Ae(ae,he,Oe,pt,null);Um(ae,Oe)}return null}function ot(he,ae,pe,Oe){for(var pt=null,jt=null,St=ae,Rt=ae=0,zn=null;St!==null&&Rt<pe.length;Rt++){St.index>Rt?(zn=St,St=null):zn=St.sibling;var ws=Te(he,St,pe[Rt],Oe);if(ws===null){St===null&&(St=zn);break}o&&St&&ws.alternate===null&&d(he,St),ae=F(ws,ae,Rt),jt===null?pt=ws:jt.sibling=ws,jt=ws,St=zn}if(Rt===pe.length)return m(he,St),qs&&rc(he,Rt),pt;if(St===null){for(;Rt<pe.length;Rt++)St=Fe(he,pe[Rt],Oe),St!==null&&(ae=F(St,ae,Rt),jt===null?pt=St:jt.sibling=St,jt=St);return qs&&rc(he,Rt),pt}for(St=v(he,St);Rt<pe.length;Rt++)zn=st(St,he,Rt,pe[Rt],Oe),zn!==null&&(o&&zn.alternate!==null&&St.delete(zn.key===null?Rt:zn.key),ae=F(zn,ae,Rt),jt===null?pt=zn:jt.sibling=zn,jt=zn);return o&&St.forEach(function(cl){return d(he,cl)}),qs&&rc(he,Rt),pt}function ct(he,ae,pe,Oe){var pt=te(pe);if(typeof pt!="function")throw Error(n(150));if(pe=pt.call(pe),pe==null)throw Error(n(151));for(var jt=pt=null,St=ae,Rt=ae=0,zn=null,ws=pe.next();St!==null&&!ws.done;Rt++,ws=pe.next()){St.index>Rt?(zn=St,St=null):zn=St.sibling;var cl=Te(he,St,ws.value,Oe);if(cl===null){St===null&&(St=zn);break}o&&St&&cl.alternate===null&&d(he,St),ae=F(cl,ae,Rt),jt===null?pt=cl:jt.sibling=cl,jt=cl,St=zn}if(ws.done)return m(he,St),qs&&rc(he,Rt),pt;if(St===null){for(;!ws.done;Rt++,ws=pe.next())ws=Fe(he,ws.value,Oe),ws!==null&&(ae=F(ws,ae,Rt),jt===null?pt=ws:jt.sibling=ws,jt=ws);return qs&&rc(he,Rt),pt}for(St=v(he,St);!ws.done;Rt++,ws=pe.next())ws=st(St,he,Rt,ws.value,Oe),ws!==null&&(o&&ws.alternate!==null&&St.delete(ws.key===null?Rt:ws.key),ae=F(ws,ae,Rt),jt===null?pt=ws:jt.sibling=ws,jt=ws);return o&&St.forEach(function(ZR){return d(he,ZR)}),qs&&rc(he,Rt),pt}function vn(he,ae,pe,Oe){if(typeof pe=="object"&&pe!==null&&pe.type===N&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:e:{for(var pt=pe.key,jt=ae;jt!==null;){if(jt.key===pt){if(pt=pe.type,pt===N){if(jt.tag===7){m(he,jt.sibling),ae=I(jt,pe.props.children),ae.return=he,he=ae;break e}}else if(jt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===W&&vj(pt)===jt.type){m(he,jt.sibling),ae=I(jt,pe.props),ae.ref=ih(he,jt,pe),ae.return=he,he=ae;break e}m(he,jt);break}else d(he,jt);jt=jt.sibling}pe.type===N?(ae=hc(pe.props.children,he.mode,Oe,pe.key),ae.return=he,he=ae):(Oe=hg(pe.type,pe.key,pe.props,null,he.mode,Oe),Oe.ref=ih(he,ae,pe),Oe.return=he,he=Oe)}return V(he);case P:e:{for(jt=pe.key;ae!==null;){if(ae.key===jt)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){m(he,ae.sibling),ae=I(ae,pe.children||[]),ae.return=he,he=ae;break e}else{m(he,ae);break}else d(he,ae);ae=ae.sibling}ae=Sy(pe,he.mode,Oe),ae.return=he,he=ae}return V(he);case W:return jt=pe._init,vn(he,ae,jt(pe._payload),Oe)}if(be(pe))return ot(he,ae,pe,Oe);if(te(pe))return ct(he,ae,pe,Oe);Um(he,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ae!==null&&ae.tag===6?(m(he,ae.sibling),ae=I(ae,pe),ae.return=he,he=ae):(m(he,ae),ae=jy(pe,he.mode,Oe),ae.return=he,he=ae),V(he)):m(he,ae)}return vn}var Cd=xj(!0),yj=xj(!1),zm=Jo(null),Hm=null,Id=null,Rx=null;function Lx(){Rx=Id=Hm=null}function Dx(o){var d=zm.current;Us(zm),o._currentValue=d}function Mx(o,d,m){for(;o!==null;){var v=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),o===m)break;o=o.return}}function Td(o,d){Hm=o,Rx=Id=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(Xr=!0),o.firstContext=null)}function Ri(o){var d=o._currentValue;if(Rx!==o)if(o={context:o,memoizedValue:d,next:null},Id===null){if(Hm===null)throw Error(n(308));Id=o,Hm.dependencies={lanes:0,firstContext:o}}else Id=Id.next=o;return d}var ic=null;function Fx(o){ic===null?ic=[o]:ic.push(o)}function bj(o,d,m,v){var I=d.interleaved;return I===null?(m.next=m,Fx(d)):(m.next=I.next,I.next=m),d.interleaved=m,oo(o,v)}function oo(o,d){o.lanes|=d;var m=o.alternate;for(m!==null&&(m.lanes|=d),m=o,o=o.return;o!==null;)o.childLanes|=d,m=o.alternate,m!==null&&(m.childLanes|=d),m=o,o=o.return;return m.tag===3?m.stateNode:null}var tl=!1;function $x(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _j(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function lo(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function sl(o,d,m){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(fs&2)!==0){var I=v.pending;return I===null?d.next=d:(d.next=I.next,I.next=d),v.pending=d,oo(o,m)}return I=v.interleaved,I===null?(d.next=d,Fx(v)):(d.next=I.next,I.next=d),v.interleaved=d,oo(o,m)}function Gm(o,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var v=d.lanes;v&=o.pendingLanes,m|=v,d.lanes=m,Go(o,m)}}function wj(o,d){var m=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var I=null,F=null;if(m=m.firstBaseUpdate,m!==null){do{var V={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};F===null?I=F=V:F=F.next=V,m=m.next}while(m!==null);F===null?I=F=d:F=F.next=d}else I=F=d;m={baseState:v.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:v.shared,effects:v.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=d}function Wm(o,d,m,v){var I=o.updateQueue;tl=!1;var F=I.firstBaseUpdate,V=I.lastBaseUpdate,Y=I.shared.pending;if(Y!==null){I.shared.pending=null;var re=Y,ve=re.next;re.next=null,V===null?F=ve:V.next=ve,V=re;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,Y=Ae.lastBaseUpdate,Y!==V&&(Y===null?Ae.firstBaseUpdate=ve:Y.next=ve,Ae.lastBaseUpdate=re))}if(F!==null){var Fe=I.baseState;V=0,Ae=ve=re=null,Y=F;do{var Te=Y.lane,st=Y.eventTime;if((v&Te)===Te){Ae!==null&&(Ae=Ae.next={eventTime:st,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var ot=o,ct=Y;switch(Te=d,st=m,ct.tag){case 1:if(ot=ct.payload,typeof ot=="function"){Fe=ot.call(st,Fe,Te);break e}Fe=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ct.payload,Te=typeof ot=="function"?ot.call(st,Fe,Te):ot,Te==null)break e;Fe=X({},Fe,Te);break e;case 2:tl=!0}}Y.callback!==null&&Y.lane!==0&&(o.flags|=64,Te=I.effects,Te===null?I.effects=[Y]:Te.push(Y))}else st={eventTime:st,lane:Te,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ae===null?(ve=Ae=st,re=Fe):Ae=Ae.next=st,V|=Te;if(Y=Y.next,Y===null){if(Y=I.shared.pending,Y===null)break;Te=Y,Y=Te.next,Te.next=null,I.lastBaseUpdate=Te,I.shared.pending=null}}while(!0);if(Ae===null&&(re=Fe),I.baseState=re,I.firstBaseUpdate=ve,I.lastBaseUpdate=Ae,d=I.shared.interleaved,d!==null){I=d;do V|=I.lane,I=I.next;while(I!==d)}else F===null&&(I.shared.lanes=0);lc|=V,o.lanes=V,o.memoizedState=Fe}}function jj(o,d,m){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var v=o[d],I=v.callback;if(I!==null){if(v.callback=null,v=m,typeof I!="function")throw Error(n(191,I));I.call(v)}}}var ah={},Ca=Jo(ah),oh=Jo(ah),lh=Jo(ah);function ac(o){if(o===ah)throw Error(n(174));return o}function Bx(o,d){switch($s(lh,d),$s(oh,o),$s(Ca,ah),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:We(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=We(d,o)}Us(Ca),$s(Ca,d)}function Ed(){Us(Ca),Us(oh),Us(lh)}function Sj(o){ac(lh.current);var d=ac(Ca.current),m=We(d,o.type);d!==m&&($s(oh,o),$s(Ca,m))}function Ox(o){oh.current===o&&(Us(Ca),Us(oh))}var en=Jo(0);function Km(o){for(var d=o;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Vx=[];function Ux(){for(var o=0;o<Vx.length;o++)Vx[o]._workInProgressVersionPrimary=null;Vx.length=0}var qm=y.ReactCurrentDispatcher,zx=y.ReactCurrentBatchConfig,oc=0,tn=null,Mn=null,Vn=null,Qm=!1,ch=!1,dh=0,_R=0;function yr(){throw Error(n(321))}function Hx(o,d){if(d===null)return!1;for(var m=0;m<d.length&&m<o.length;m++)if(!Ji(o[m],d[m]))return!1;return!0}function Gx(o,d,m,v,I,F){if(oc=F,tn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,qm.current=o===null||o.memoizedState===null?NR:kR,o=m(v,I),ch){F=0;do{if(ch=!1,dh=0,25<=F)throw Error(n(301));F+=1,Vn=Mn=null,d.updateQueue=null,qm.current=CR,o=m(v,I)}while(ch)}if(qm.current=Jm,d=Mn!==null&&Mn.next!==null,oc=0,Vn=Mn=tn=null,Qm=!1,d)throw Error(n(300));return o}function Wx(){var o=dh!==0;return dh=0,o}function Ia(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?tn.memoizedState=Vn=o:Vn=Vn.next=o,Vn}function Li(){if(Mn===null){var o=tn.alternate;o=o!==null?o.memoizedState:null}else o=Mn.next;var d=Vn===null?tn.memoizedState:Vn.next;if(d!==null)Vn=d,Mn=o;else{if(o===null)throw Error(n(310));Mn=o,o={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Vn===null?tn.memoizedState=Vn=o:Vn=Vn.next=o}return Vn}function uh(o,d){return typeof d=="function"?d(o):d}function Kx(o){var d=Li(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var v=Mn,I=v.baseQueue,F=m.pending;if(F!==null){if(I!==null){var V=I.next;I.next=F.next,F.next=V}v.baseQueue=I=F,m.pending=null}if(I!==null){F=I.next,v=v.baseState;var Y=V=null,re=null,ve=F;do{var Ae=ve.lane;if((oc&Ae)===Ae)re!==null&&(re=re.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),v=ve.hasEagerState?ve.eagerState:o(v,ve.action);else{var Fe={lane:Ae,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};re===null?(Y=re=Fe,V=v):re=re.next=Fe,tn.lanes|=Ae,lc|=Ae}ve=ve.next}while(ve!==null&&ve!==F);re===null?V=v:re.next=Y,Ji(v,d.memoizedState)||(Xr=!0),d.memoizedState=v,d.baseState=V,d.baseQueue=re,m.lastRenderedState=v}if(o=m.interleaved,o!==null){I=o;do F=I.lane,tn.lanes|=F,lc|=F,I=I.next;while(I!==o)}else I===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function qx(o){var d=Li(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var v=m.dispatch,I=m.pending,F=d.memoizedState;if(I!==null){m.pending=null;var V=I=I.next;do F=o(F,V.action),V=V.next;while(V!==I);Ji(F,d.memoizedState)||(Xr=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),m.lastRenderedState=F}return[F,v]}function Nj(){}function kj(o,d){var m=tn,v=Li(),I=d(),F=!Ji(v.memoizedState,I);if(F&&(v.memoizedState=I,Xr=!0),v=v.queue,Qx(Tj.bind(null,m,v,o),[o]),v.getSnapshot!==d||F||Vn!==null&&Vn.memoizedState.tag&1){if(m.flags|=2048,hh(9,Ij.bind(null,m,v,I,d),void 0,null),Un===null)throw Error(n(349));(oc&30)!==0||Cj(m,d,I)}return I}function Cj(o,d,m){o.flags|=16384,o={getSnapshot:d,value:m},d=tn.updateQueue,d===null?(d={lastEffect:null,stores:null},tn.updateQueue=d,d.stores=[o]):(m=d.stores,m===null?d.stores=[o]:m.push(o))}function Ij(o,d,m,v){d.value=m,d.getSnapshot=v,Ej(d)&&Aj(o)}function Tj(o,d,m){return m(function(){Ej(d)&&Aj(o)})}function Ej(o){var d=o.getSnapshot;o=o.value;try{var m=d();return!Ji(o,m)}catch(v){return!0}}function Aj(o){var d=oo(o,1);d!==null&&na(d,o,1,-1)}function Pj(o){var d=Ia();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:o},d.queue=o,o=o.dispatch=SR.bind(null,tn,o),[d.memoizedState,o]}function hh(o,d,m,v){return o={tag:o,create:d,destroy:m,deps:v,next:null},d=tn.updateQueue,d===null?(d={lastEffect:null,stores:null},tn.updateQueue=d,d.lastEffect=o.next=o):(m=d.lastEffect,m===null?d.lastEffect=o.next=o:(v=m.next,m.next=o,o.next=v,d.lastEffect=o)),o}function Rj(){return Li().memoizedState}function Ym(o,d,m,v){var I=Ia();tn.flags|=o,I.memoizedState=hh(1|d,m,void 0,v===void 0?null:v)}function Xm(o,d,m,v){var I=Li();v=v===void 0?null:v;var F=void 0;if(Mn!==null){var V=Mn.memoizedState;if(F=V.destroy,v!==null&&Hx(v,V.deps)){I.memoizedState=hh(d,m,F,v);return}}tn.flags|=o,I.memoizedState=hh(1|d,m,F,v)}function Lj(o,d){return Ym(8390656,8,o,d)}function Qx(o,d){return Xm(2048,8,o,d)}function Dj(o,d){return Xm(4,2,o,d)}function Mj(o,d){return Xm(4,4,o,d)}function Fj(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function $j(o,d,m){return m=m!=null?m.concat([o]):null,Xm(4,4,Fj.bind(null,d,o),m)}function Yx(){}function Bj(o,d){var m=Li();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&Hx(d,v[1])?v[0]:(m.memoizedState=[o,d],o)}function Oj(o,d){var m=Li();d=d===void 0?null:d;var v=m.memoizedState;return v!==null&&d!==null&&Hx(d,v[1])?v[0]:(o=o(),m.memoizedState=[o,d],o)}function Vj(o,d,m){return(oc&21)===0?(o.baseState&&(o.baseState=!1,Xr=!0),o.memoizedState=m):(Ji(m,d)||(m=Yl(),tn.lanes|=m,lc|=m,o.baseState=!0),d)}function wR(o,d){var m=as;as=m!==0&&4>m?m:4,o(!0);var v=zx.transition;zx.transition={};try{o(!1),d()}finally{as=m,zx.transition=v}}function Uj(){return Li().memoizedState}function jR(o,d,m){var v=al(o);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},zj(o))Hj(d,m);else if(m=bj(o,d,m,v),m!==null){var I=Lr();na(m,o,v,I),Gj(m,d,v)}}function SR(o,d,m){var v=al(o),I={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(zj(o))Hj(d,I);else{var F=o.alternate;if(o.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var V=d.lastRenderedState,Y=F(V,m);if(I.hasEagerState=!0,I.eagerState=Y,Ji(Y,V)){var re=d.interleaved;re===null?(I.next=I,Fx(d)):(I.next=re.next,re.next=I),d.interleaved=I;return}}catch(ve){}finally{}m=bj(o,d,I,v),m!==null&&(I=Lr(),na(m,o,v,I),Gj(m,d,v))}}function zj(o){var d=o.alternate;return o===tn||d!==null&&d===tn}function Hj(o,d){ch=Qm=!0;var m=o.pending;m===null?d.next=d:(d.next=m.next,m.next=d),o.pending=d}function Gj(o,d,m){if((m&4194240)!==0){var v=d.lanes;v&=o.pendingLanes,m|=v,d.lanes=m,Go(o,m)}}var Jm={readContext:Ri,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},NR={readContext:Ri,useCallback:function(o,d){return Ia().memoizedState=[o,d===void 0?null:d],o},useContext:Ri,useEffect:Lj,useImperativeHandle:function(o,d,m){return m=m!=null?m.concat([o]):null,Ym(4194308,4,Fj.bind(null,d,o),m)},useLayoutEffect:function(o,d){return Ym(4194308,4,o,d)},useInsertionEffect:function(o,d){return Ym(4,2,o,d)},useMemo:function(o,d){var m=Ia();return d=d===void 0?null:d,o=o(),m.memoizedState=[o,d],o},useReducer:function(o,d,m){var v=Ia();return d=m!==void 0?m(d):d,v.memoizedState=v.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},v.queue=o,o=o.dispatch=jR.bind(null,tn,o),[v.memoizedState,o]},useRef:function(o){var d=Ia();return o={current:o},d.memoizedState=o},useState:Pj,useDebugValue:Yx,useDeferredValue:function(o){return Ia().memoizedState=o},useTransition:function(){var o=Pj(!1),d=o[0];return o=wR.bind(null,o[1]),Ia().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,m){var v=tn,I=Ia();if(qs){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Un===null)throw Error(n(349));(oc&30)!==0||Cj(v,d,m)}I.memoizedState=m;var F={value:m,getSnapshot:d};return I.queue=F,Lj(Tj.bind(null,v,F,o),[o]),v.flags|=2048,hh(9,Ij.bind(null,v,F,m,d),void 0,null),m},useId:function(){var o=Ia(),d=Un.identifierPrefix;if(qs){var m=ao,v=io;m=(v&~(1<<32-Ar(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=dh++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=_R++,d=":"+d+"r"+m.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},kR={readContext:Ri,useCallback:Bj,useContext:Ri,useEffect:Qx,useImperativeHandle:$j,useInsertionEffect:Dj,useLayoutEffect:Mj,useMemo:Oj,useReducer:Kx,useRef:Rj,useState:function(){return Kx(uh)},useDebugValue:Yx,useDeferredValue:function(o){var d=Li();return Vj(d,Mn.memoizedState,o)},useTransition:function(){var o=Kx(uh)[0],d=Li().memoizedState;return[o,d]},useMutableSource:Nj,useSyncExternalStore:kj,useId:Uj,unstable_isNewReconciler:!1},CR={readContext:Ri,useCallback:Bj,useContext:Ri,useEffect:Qx,useImperativeHandle:$j,useInsertionEffect:Dj,useLayoutEffect:Mj,useMemo:Oj,useReducer:qx,useRef:Rj,useState:function(){return qx(uh)},useDebugValue:Yx,useDeferredValue:function(o){var d=Li();return Mn===null?d.memoizedState=o:Vj(d,Mn.memoizedState,o)},useTransition:function(){var o=qx(uh)[0],d=Li().memoizedState;return[o,d]},useMutableSource:Nj,useSyncExternalStore:kj,useId:Uj,unstable_isNewReconciler:!1};function ea(o,d){if(o&&o.defaultProps){d=X({},d),o=o.defaultProps;for(var m in o)d[m]===void 0&&(d[m]=o[m]);return d}return d}function Xx(o,d,m,v){d=o.memoizedState,m=m(v,d),m=m==null?d:X({},d,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Zm={isMounted:function(o){return(o=o._reactInternals)?Xt(o)===o:!1},enqueueSetState:function(o,d,m){o=o._reactInternals;var v=Lr(),I=al(o),F=lo(v,I);F.payload=d,m!=null&&(F.callback=m),d=sl(o,F,I),d!==null&&(na(d,o,I,v),Gm(d,o,I))},enqueueReplaceState:function(o,d,m){o=o._reactInternals;var v=Lr(),I=al(o),F=lo(v,I);F.tag=1,F.payload=d,m!=null&&(F.callback=m),d=sl(o,F,I),d!==null&&(na(d,o,I,v),Gm(d,o,I))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var m=Lr(),v=al(o),I=lo(m,v);I.tag=2,d!=null&&(I.callback=d),d=sl(o,I,v),d!==null&&(na(d,o,v,m),Gm(d,o,v))}};function Wj(o,d,m,v,I,F,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,F,V):d.prototype&&d.prototype.isPureReactComponent?!Ju(m,v)||!Ju(I,F):!0}function Kj(o,d,m){var v=!1,I=Zo,F=d.contextType;return typeof F=="object"&&F!==null?F=Ri(F):(I=Yr(d)?sc:xr.current,v=d.contextTypes,F=(v=v!=null)?jd(o,I):Zo),d=new d(m,F),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zm,o.stateNode=d,d._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=I,o.__reactInternalMemoizedMaskedChildContext=F),d}function qj(o,d,m,v){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==o&&Zm.enqueueReplaceState(d,d.state,null)}function Jx(o,d,m,v){var I=o.stateNode;I.props=m,I.state=o.memoizedState,I.refs={},$x(o);var F=d.contextType;typeof F=="object"&&F!==null?I.context=Ri(F):(F=Yr(d)?sc:xr.current,I.context=jd(o,F)),I.state=o.memoizedState,F=d.getDerivedStateFromProps,typeof F=="function"&&(Xx(o,d,F,m),I.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(d=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),d!==I.state&&Zm.enqueueReplaceState(I,I.state,null),Wm(o,m,I,v),I.state=o.memoizedState),typeof I.componentDidMount=="function"&&(o.flags|=4194308)}function Ad(o,d){try{var m="",v=d;do m+=ue(v),v=v.return;while(v);var I=m}catch(F){I=`
Error generating stack: `+F.message+`
`+F.stack}return{value:o,source:d,stack:I,digest:null}}function Zx(o,d,m){return{value:o,source:null,stack:m!=null?m:null,digest:d!=null?d:null}}function ey(o,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function Qj(o,d,m){m=lo(-1,m),m.tag=3,m.payload={element:null};var v=d.value;return m.callback=function(){ag||(ag=!0,gy=v),ey(o,d)},m}function Yj(o,d,m){m=lo(-1,m),m.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var I=d.value;m.payload=function(){return v(I)},m.callback=function(){ey(o,d)}}var F=o.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(m.callback=function(){ey(o,d),typeof v!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),m}function Xj(o,d,m){var v=o.pingCache;if(v===null){v=o.pingCache=new IR;var I=new Set;v.set(d,I)}else I=v.get(d),I===void 0&&(I=new Set,v.set(d,I));I.has(m)||(I.add(m),o=UR.bind(null,o,d,m),d.then(o,o))}function Jj(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function Zj(o,d,m,v,I){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=lo(-1,1),d.tag=2,sl(m,d,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=I,o)}var TR=y.ReactCurrentOwner,Xr=!1;function Rr(o,d,m,v){d.child=o===null?yj(d,null,m,v):Cd(d,o.child,m,v)}function e2(o,d,m,v,I){m=m.render;var F=d.ref;return Td(d,I),v=Gx(o,d,m,v,F,I),m=Wx(),o!==null&&!Xr?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~I,co(o,d,I)):(qs&&m&&Ix(d),d.flags|=1,Rr(o,d,v,I),d.child)}function t2(o,d,m,v,I){if(o===null){var F=m.type;return typeof F=="function"&&!wy(F)&&F.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=F,s2(o,d,F,v,I)):(o=hg(m.type,null,v,d,d.mode,I),o.ref=d.ref,o.return=d,d.child=o)}if(F=o.child,(o.lanes&I)===0){var V=F.memoizedProps;if(m=m.compare,m=m!==null?m:Ju,m(V,v)&&o.ref===d.ref)return co(o,d,I)}return d.flags|=1,o=ll(F,v),o.ref=d.ref,o.return=d,d.child=o}function s2(o,d,m,v,I){if(o!==null){var F=o.memoizedProps;if(Ju(F,v)&&o.ref===d.ref)if(Xr=!1,d.pendingProps=v=F,(o.lanes&I)!==0)(o.flags&131072)!==0&&(Xr=!0);else return d.lanes=o.lanes,co(o,d,I)}return ty(o,d,m,v,I)}function n2(o,d,m){var v=d.pendingProps,I=v.children,F=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},$s(Rd,fi),fi|=m;else{if((m&1073741824)===0)return o=F!==null?F.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,$s(Rd,fi),fi|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=F!==null?F.baseLanes:m,$s(Rd,fi),fi|=v}else F!==null?(v=F.baseLanes|m,d.memoizedState=null):v=m,$s(Rd,fi),fi|=v;return Rr(o,d,I,m),d.child}function r2(o,d){var m=d.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function ty(o,d,m,v,I){var F=Yr(m)?sc:xr.current;return F=jd(d,F),Td(d,I),m=Gx(o,d,m,v,F,I),v=Wx(),o!==null&&!Xr?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~I,co(o,d,I)):(qs&&v&&Ix(d),d.flags|=1,Rr(o,d,m,I),d.child)}function i2(o,d,m,v,I){if(Yr(m)){var F=!0;Fm(d)}else F=!1;if(Td(d,I),d.stateNode===null)tg(o,d),Kj(d,m,v),Jx(d,m,v,I),v=!0;else if(o===null){var V=d.stateNode,Y=d.memoizedProps;V.props=Y;var re=V.context,ve=m.contextType;typeof ve=="object"&&ve!==null?ve=Ri(ve):(ve=Yr(m)?sc:xr.current,ve=jd(d,ve));var Ae=m.getDerivedStateFromProps,Fe=typeof Ae=="function"||typeof V.getSnapshotBeforeUpdate=="function";Fe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Y!==v||re!==ve)&&qj(d,V,v,ve),tl=!1;var Te=d.memoizedState;V.state=Te,Wm(d,v,V,I),re=d.memoizedState,Y!==v||Te!==re||Qr.current||tl?(typeof Ae=="function"&&(Xx(d,m,Ae,v),re=d.memoizedState),(Y=tl||Wj(d,m,Y,v,Te,re,ve))?(Fe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=re),V.props=v,V.state=re,V.context=ve,v=Y):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{V=d.stateNode,_j(o,d),Y=d.memoizedProps,ve=d.type===d.elementType?Y:ea(d.type,Y),V.props=ve,Fe=d.pendingProps,Te=V.context,re=m.contextType,typeof re=="object"&&re!==null?re=Ri(re):(re=Yr(m)?sc:xr.current,re=jd(d,re));var st=m.getDerivedStateFromProps;(Ae=typeof st=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Y!==Fe||Te!==re)&&qj(d,V,v,re),tl=!1,Te=d.memoizedState,V.state=Te,Wm(d,v,V,I);var ot=d.memoizedState;Y!==Fe||Te!==ot||Qr.current||tl?(typeof st=="function"&&(Xx(d,m,st,v),ot=d.memoizedState),(ve=tl||Wj(d,m,ve,v,Te,ot,re)||!1)?(Ae||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,ot,re),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,ot,re)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||Y===o.memoizedProps&&Te===o.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&Te===o.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=ot),V.props=v,V.state=ot,V.context=re,v=ve):(typeof V.componentDidUpdate!="function"||Y===o.memoizedProps&&Te===o.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&Te===o.memoizedState||(d.flags|=1024),v=!1)}return sy(o,d,m,v,F,I)}function sy(o,d,m,v,I,F){r2(o,d);var V=(d.flags&128)!==0;if(!v&&!V)return I&&dj(d,m,!1),co(o,d,F);v=d.stateNode,TR.current=d;var Y=V&&typeof m.getDerivedStateFromError!="function"?null:v.render();return d.flags|=1,o!==null&&V?(d.child=Cd(d,o.child,null,F),d.child=Cd(d,null,Y,F)):Rr(o,d,Y,F),d.memoizedState=v.state,I&&dj(d,m,!0),d.child}function a2(o){var d=o.stateNode;d.pendingContext?lj(o,d.pendingContext,d.pendingContext!==d.context):d.context&&lj(o,d.context,!1),Bx(o,d.containerInfo)}function o2(o,d,m,v,I){return kd(),Px(I),d.flags|=256,Rr(o,d,m,v),d.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function ry(o){return{baseLanes:o,cachePool:null,transitions:null}}function l2(o,d,m){var v=d.pendingProps,I=en.current,F=!1,V=(d.flags&128)!==0,Y;if((Y=V)||(Y=o!==null&&o.memoizedState===null?!1:(I&2)!==0),Y?(F=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(I|=1),$s(en,I&1),o===null)return Ax(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(V=v.children,o=v.fallback,F?(v=d.mode,F=d.child,V={mode:"hidden",children:V},(v&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=V):F=pg(V,v,0,null),o=hc(o,v,m,null),F.return=d,o.return=d,F.sibling=o,d.child=F,d.child.memoizedState=ry(m),d.memoizedState=ny,o):iy(d,V));if(I=o.memoizedState,I!==null&&(Y=I.dehydrated,Y!==null))return ER(o,d,V,v,Y,I,m);if(F){F=v.fallback,V=d.mode,I=o.child,Y=I.sibling;var re={mode:"hidden",children:v.children};return(V&1)===0&&d.child!==I?(v=d.child,v.childLanes=0,v.pendingProps=re,d.deletions=null):(v=ll(I,re),v.subtreeFlags=I.subtreeFlags&14680064),Y!==null?F=ll(Y,F):(F=hc(F,V,m,null),F.flags|=2),F.return=d,v.return=d,v.sibling=F,d.child=v,v=F,F=d.child,V=o.child.memoizedState,V=V===null?ry(m):{baseLanes:V.baseLanes|m,cachePool:null,transitions:V.transitions},F.memoizedState=V,F.childLanes=o.childLanes&~m,d.memoizedState=ny,v}return F=o.child,o=F.sibling,v=ll(F,{mode:"visible",children:v.children}),(d.mode&1)===0&&(v.lanes=m),v.return=d,v.sibling=null,o!==null&&(m=d.deletions,m===null?(d.deletions=[o],d.flags|=16):m.push(o)),d.child=v,d.memoizedState=null,v}function iy(o,d){return d=pg({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function eg(o,d,m,v){return v!==null&&Px(v),Cd(d,o.child,null,m),o=iy(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function ER(o,d,m,v,I,F,V){if(m)return d.flags&256?(d.flags&=-257,v=Zx(Error(n(422))),eg(o,d,V,v)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(F=v.fallback,I=d.mode,v=pg({mode:"visible",children:v.children},I,0,null),F=hc(F,I,V,null),F.flags|=2,v.return=d,F.return=d,v.sibling=F,d.child=v,(d.mode&1)!==0&&Cd(d,o.child,null,V),d.child.memoizedState=ry(V),d.memoizedState=ny,F);if((d.mode&1)===0)return eg(o,d,V,null);if(I.data==="$!"){if(v=I.nextSibling&&I.nextSibling.dataset,v)var Y=v.dgst;return v=Y,F=Error(n(419)),v=Zx(F,v,void 0),eg(o,d,V,v)}if(Y=(V&o.childLanes)!==0,Xr||Y){if(v=Un,v!==null){switch(V&-V){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(v.suspendedLanes|V))!==0?0:I,I!==0&&I!==F.retryLane&&(F.retryLane=I,oo(o,I),na(v,o,I,-1))}return _y(),v=Zx(Error(n(421))),eg(o,d,V,v)}return I.data==="$?"?(d.flags|=128,d.child=o.child,d=zR.bind(null,o),I._reactRetry=d,null):(o=F.treeContext,gi=Xo(I.nextSibling),mi=d,qs=!0,Zi=null,o!==null&&(Ai[Pi++]=io,Ai[Pi++]=ao,Ai[Pi++]=nc,io=o.id,ao=o.overflow,nc=d),d=iy(d,v.children),d.flags|=4096,d)}function c2(o,d,m){o.lanes|=d;var v=o.alternate;v!==null&&(v.lanes|=d),Mx(o.return,d,m)}function ay(o,d,m,v,I){var F=o.memoizedState;F===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:I}:(F.isBackwards=d,F.rendering=null,F.renderingStartTime=0,F.last=v,F.tail=m,F.tailMode=I)}function d2(o,d,m){var v=d.pendingProps,I=v.revealOrder,F=v.tail;if(Rr(o,d,v.children,m),v=en.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&c2(o,m,d);else if(o.tag===19)c2(o,m,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if($s(en,v),(d.mode&1)===0)d.memoizedState=null;else switch(I){case"forwards":for(m=d.child,I=null;m!==null;)o=m.alternate,o!==null&&Km(o)===null&&(I=m),m=m.sibling;m=I,m===null?(I=d.child,d.child=null):(I=m.sibling,m.sibling=null),ay(d,!1,I,m,F);break;case"backwards":for(m=null,I=d.child,d.child=null;I!==null;){if(o=I.alternate,o!==null&&Km(o)===null){d.child=I;break}o=I.sibling,I.sibling=m,m=I,I=o}ay(d,!0,m,null,F);break;case"together":ay(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function tg(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function co(o,d,m){if(o!==null&&(d.dependencies=o.dependencies),lc|=d.lanes,(m&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(n(153));if(d.child!==null){for(o=d.child,m=ll(o,o.pendingProps),d.child=m,m.return=d;o.sibling!==null;)o=o.sibling,m=m.sibling=ll(o,o.pendingProps),m.return=d;m.sibling=null}return d.child}function AR(o,d,m){switch(d.tag){case 3:a2(d),kd();break;case 5:Sj(d);break;case 1:Yr(d.type)&&Fm(d);break;case 4:Bx(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,I=d.memoizedProps.value;$s(zm,v._currentValue),v._currentValue=I;break;case 13:if(v=d.memoizedState,v!==null)return v.dehydrated!==null?($s(en,en.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?l2(o,d,m):($s(en,en.current&1),o=co(o,d,m),o!==null?o.sibling:null);$s(en,en.current&1);break;case 19:if(v=(m&d.childLanes)!==0,(o.flags&128)!==0){if(v)return d2(o,d,m);d.flags|=128}if(I=d.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),$s(en,en.current),v)break;return null;case 22:case 23:return d.lanes=0,n2(o,d,m)}return co(o,d,m)}var u2,oy,h2,p2;u2=function(o,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},oy=function(){},h2=function(o,d,m,v){var I=o.memoizedProps;if(I!==v){o=d.stateNode,ac(Ca.current);var F=null;switch(m){case"input":I=qe(o,I),v=qe(o,v),F=[];break;case"select":I=X({},I,{value:void 0}),v=X({},v,{value:void 0}),F=[];break;case"textarea":I=Ee(o,I),v=Ee(o,v),F=[];break;default:typeof I.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=Lm)}mn(m,v);var V;m=null;for(ve in I)if(!v.hasOwnProperty(ve)&&I.hasOwnProperty(ve)&&I[ve]!=null)if(ve==="style"){var Y=I[ve];for(V in Y)Y.hasOwnProperty(V)&&(m||(m={}),m[V]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(i.hasOwnProperty(ve)?F||(F=[]):(F=F||[]).push(ve,null));for(ve in v){var re=v[ve];if(Y=I!=null?I[ve]:void 0,v.hasOwnProperty(ve)&&re!==Y&&(re!=null||Y!=null))if(ve==="style")if(Y){for(V in Y)!Y.hasOwnProperty(V)||re&&re.hasOwnProperty(V)||(m||(m={}),m[V]="");for(V in re)re.hasOwnProperty(V)&&Y[V]!==re[V]&&(m||(m={}),m[V]=re[V])}else m||(F||(F=[]),F.push(ve,m)),m=re;else ve==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Y=Y?Y.__html:void 0,re!=null&&Y!==re&&(F=F||[]).push(ve,re)):ve==="children"?typeof re!="string"&&typeof re!="number"||(F=F||[]).push(ve,""+re):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(i.hasOwnProperty(ve)?(re!=null&&ve==="onScroll"&&Vs("scroll",o),F||Y===re||(F=[])):(F=F||[]).push(ve,re))}m&&(F=F||[]).push("style",m);var ve=F;(d.updateQueue=ve)&&(d.flags|=4)}},p2=function(o,d,m,v){m!==v&&(d.flags|=4)};function ph(o,d){if(!qs)switch(o.tailMode){case"hidden":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function br(o){var d=o.alternate!==null&&o.alternate.child===o.child,m=0,v=0;if(d)for(var I=o.child;I!==null;)m|=I.lanes|I.childLanes,v|=I.subtreeFlags&14680064,v|=I.flags&14680064,I.return=o,I=I.sibling;else for(I=o.child;I!==null;)m|=I.lanes|I.childLanes,v|=I.subtreeFlags,v|=I.flags,I.return=o,I=I.sibling;return o.subtreeFlags|=v,o.childLanes=m,d}function PR(o,d,m){var v=d.pendingProps;switch(Tx(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(d),null;case 1:return Yr(d.type)&&Mm(),br(d),null;case 3:return v=d.stateNode,Ed(),Us(Qr),Us(xr),Ux(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(Vm(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Zi!==null&&(xy(Zi),Zi=null))),oy(o,d),br(d),null;case 5:Ox(d);var I=ac(lh.current);if(m=d.type,o!==null&&d.stateNode!=null)h2(o,d,m,v,I),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(d.stateNode===null)throw Error(n(166));return br(d),null}if(o=ac(Ca.current),Vm(d)){v=d.stateNode,m=d.type;var F=d.memoizedProps;switch(v[ka]=d,v[nh]=F,o=(d.mode&1)!==0,m){case"dialog":Vs("cancel",v),Vs("close",v);break;case"iframe":case"object":case"embed":Vs("load",v);break;case"video":case"audio":for(I=0;I<eh.length;I++)Vs(eh[I],v);break;case"source":Vs("error",v);break;case"img":case"image":case"link":Vs("error",v),Vs("load",v);break;case"details":Vs("toggle",v);break;case"input":me(v,F),Vs("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!F.multiple},Vs("invalid",v);break;case"textarea":at(v,F),Vs("invalid",v)}mn(m,F),I=null;for(var V in F)if(F.hasOwnProperty(V)){var Y=F[V];V==="children"?typeof Y=="string"?v.textContent!==Y&&(F.suppressHydrationWarning!==!0&&Rm(v.textContent,Y,o),I=["children",Y]):typeof Y=="number"&&v.textContent!==""+Y&&(F.suppressHydrationWarning!==!0&&Rm(v.textContent,Y,o),I=["children",""+Y]):i.hasOwnProperty(V)&&Y!=null&&V==="onScroll"&&Vs("scroll",v)}switch(m){case"input":ye(v),it(v,F,!0);break;case"textarea":ye(v),Ve(v);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(v.onclick=Lm)}v=I,d.updateQueue=v,v!==null&&(d.flags|=4)}else{V=I.nodeType===9?I:I.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Se(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=V.createElement(m,{is:v.is}):(o=V.createElement(m),m==="select"&&(V=o,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):o=V.createElementNS(o,m),o[ka]=d,o[nh]=v,u2(o,d,!1,!1),d.stateNode=o;e:{switch(V=Zt(m,v),m){case"dialog":Vs("cancel",o),Vs("close",o),I=v;break;case"iframe":case"object":case"embed":Vs("load",o),I=v;break;case"video":case"audio":for(I=0;I<eh.length;I++)Vs(eh[I],o);I=v;break;case"source":Vs("error",o),I=v;break;case"img":case"image":case"link":Vs("error",o),Vs("load",o),I=v;break;case"details":Vs("toggle",o),I=v;break;case"input":me(o,v),I=qe(o,v),Vs("invalid",o);break;case"option":I=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},I=X({},v,{value:void 0}),Vs("invalid",o);break;case"textarea":at(o,v),I=Ee(o,v),Vs("invalid",o);break;default:I=v}mn(m,I),Y=I;for(F in Y)if(Y.hasOwnProperty(F)){var re=Y[F];F==="style"?It(o,re):F==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Ot(o,re)):F==="children"?typeof re=="string"?(m!=="textarea"||re!=="")&&Rs(o,re):typeof re=="number"&&Rs(o,""+re):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?re!=null&&F==="onScroll"&&Vs("scroll",o):re!=null&&j(o,F,re,V))}switch(m){case"input":ye(o),it(o,v,!1);break;case"textarea":ye(o),Ve(o);break;case"option":v.value!=null&&o.setAttribute("value",""+ee(v.value));break;case"select":o.multiple=!!v.multiple,F=v.value,F!=null?De(o,!!v.multiple,F,!1):v.defaultValue!=null&&De(o,!!v.multiple,v.defaultValue,!0);break;default:typeof I.onClick=="function"&&(o.onclick=Lm)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return br(d),null;case 6:if(o&&d.stateNode!=null)p2(o,d,o.memoizedProps,v);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(m=ac(lh.current),ac(Ca.current),Vm(d)){if(v=d.stateNode,m=d.memoizedProps,v[ka]=d,(F=v.nodeValue!==m)&&(o=mi,o!==null))switch(o.tag){case 3:Rm(v.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Rm(v.nodeValue,m,(o.mode&1)!==0)}F&&(d.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[ka]=d,d.stateNode=v}return br(d),null;case 13:if(Us(en),v=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(qs&&gi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)fj(),kd(),d.flags|=98560,F=!1;else if(F=Vm(d),v!==null&&v.dehydrated!==null){if(o===null){if(!F)throw Error(n(318));if(F=d.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(n(317));F[ka]=d}else kd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;br(d),F=!1}else Zi!==null&&(xy(Zi),Zi=null),F=!0;if(!F)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(en.current&1)!==0?Fn===0&&(Fn=3):_y())),d.updateQueue!==null&&(d.flags|=4),br(d),null);case 4:return Ed(),oy(o,d),o===null&&th(d.stateNode.containerInfo),br(d),null;case 10:return Dx(d.type._context),br(d),null;case 17:return Yr(d.type)&&Mm(),br(d),null;case 19:if(Us(en),F=d.memoizedState,F===null)return br(d),null;if(v=(d.flags&128)!==0,V=F.rendering,V===null)if(v)ph(F,!1);else{if(Fn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(V=Km(o),V!==null){for(d.flags|=128,ph(F,!1),v=V.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),d.subtreeFlags=0,v=m,m=d.child;m!==null;)F=m,o=v,F.flags&=14680066,V=F.alternate,V===null?(F.childLanes=0,F.lanes=o,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=V.childLanes,F.lanes=V.lanes,F.child=V.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=V.memoizedProps,F.memoizedState=V.memoizedState,F.updateQueue=V.updateQueue,F.type=V.type,o=V.dependencies,F.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return $s(en,en.current&1|2),d.child}o=o.sibling}F.tail!==null&&Es()>Ld&&(d.flags|=128,v=!0,ph(F,!1),d.lanes=4194304)}else{if(!v)if(o=Km(V),o!==null){if(d.flags|=128,v=!0,m=o.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),ph(F,!0),F.tail===null&&F.tailMode==="hidden"&&!V.alternate&&!qs)return br(d),null}else 2*Es()-F.renderingStartTime>Ld&&m!==1073741824&&(d.flags|=128,v=!0,ph(F,!1),d.lanes=4194304);F.isBackwards?(V.sibling=d.child,d.child=V):(m=F.last,m!==null?m.sibling=V:d.child=V,F.last=V)}return F.tail!==null?(d=F.tail,F.rendering=d,F.tail=d.sibling,F.renderingStartTime=Es(),d.sibling=null,m=en.current,$s(en,v?m&1|2:m&1),d):(br(d),null);case 22:case 23:return by(),v=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(d.flags|=8192),v&&(d.mode&1)!==0?(fi&1073741824)!==0&&(br(d),d.subtreeFlags&6&&(d.flags|=8192)):br(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function RR(o,d){switch(Tx(d),d.tag){case 1:return Yr(d.type)&&Mm(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Ed(),Us(Qr),Us(xr),Ux(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return Ox(d),null;case 13:if(Us(en),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(n(340));kd()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return Us(en),null;case 4:return Ed(),null;case 10:return Dx(d.type._context),null;case 22:case 23:return by(),null;case 24:return null;default:return null}}var sg=!1,_r=!1,LR=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Pd(o,d){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){cn(o,d,v)}else m.current=null}function ly(o,d,m){try{m()}catch(v){cn(o,d,v)}}var m2=!1;function DR(o,d){if(bx=qo,o=Ww(),hx(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var I=v.anchorOffset,F=v.focusNode;v=v.focusOffset;try{m.nodeType,F.nodeType}catch(Oe){m=null;break e}var V=0,Y=-1,re=-1,ve=0,Ae=0,Fe=o,Te=null;t:for(;;){for(var st;Fe!==m||I!==0&&Fe.nodeType!==3||(Y=V+I),Fe!==F||v!==0&&Fe.nodeType!==3||(re=V+v),Fe.nodeType===3&&(V+=Fe.nodeValue.length),(st=Fe.firstChild)!==null;)Te=Fe,Fe=st;for(;;){if(Fe===o)break t;if(Te===m&&++ve===I&&(Y=V),Te===F&&++Ae===v&&(re=V),(st=Fe.nextSibling)!==null)break;Fe=Te,Te=Fe.parentNode}Fe=st}m=Y===-1||re===-1?null:{start:Y,end:re}}else m=null}m=m||{start:0,end:0}}else m=null;for(_x={focusedElem:o,selectionRange:m},qo=!1,rt=d;rt!==null;)if(d=rt,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,rt=o;else for(;rt!==null;){d=rt;try{var ot=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ct=ot.memoizedProps,vn=ot.memoizedState,he=d.stateNode,ae=he.getSnapshotBeforeUpdate(d.elementType===d.type?ct:ea(d.type,ct),vn);he.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var pe=d.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Oe){cn(d,d.return,Oe)}if(o=d.sibling,o!==null){o.return=d.return,rt=o;break}rt=d.return}return ot=m2,m2=!1,ot}function mh(o,d,m){var v=d.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var I=v=v.next;do{if((I.tag&o)===o){var F=I.destroy;I.destroy=void 0,F!==void 0&&ly(d,m,F)}I=I.next}while(I!==v)}}function ng(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&o)===o){var v=m.create;m.destroy=v()}m=m.next}while(m!==d)}}function cy(o){var d=o.ref;if(d!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof d=="function"?d(o):d.current=o}}function g2(o){var d=o.alternate;d!==null&&(o.alternate=null,g2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[ka],delete d[nh],delete d[Nx],delete d[vR],delete d[xR])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function f2(o){return o.tag===5||o.tag===3||o.tag===4}function v2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||f2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function dy(o,d,m){var v=o.tag;if(v===5||v===6)o=o.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(o,d):m.insertBefore(o,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(o,m)):(d=m,d.appendChild(o)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Lm));else if(v!==4&&(o=o.child,o!==null))for(dy(o,d,m),o=o.sibling;o!==null;)dy(o,d,m),o=o.sibling}function uy(o,d,m){var v=o.tag;if(v===5||v===6)o=o.stateNode,d?m.insertBefore(o,d):m.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(uy(o,d,m),o=o.sibling;o!==null;)uy(o,d,m),o=o.sibling}var rr=null,ta=!1;function nl(o,d,m){for(m=m.child;m!==null;)x2(o,d,m),m=m.sibling}function x2(o,d,m){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount(ql,m)}catch(Y){}switch(m.tag){case 5:_r||Pd(m,d);case 6:var v=rr,I=ta;rr=null,nl(o,d,m),rr=v,ta=I,rr!==null&&(ta?(o=rr,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):rr.removeChild(m.stateNode));break;case 18:rr!==null&&(ta?(o=rr,m=m.stateNode,o.nodeType===8?Sx(o.parentNode,m):o.nodeType===1&&Sx(o,m),Yi(o)):Sx(rr,m.stateNode));break;case 4:v=rr,I=ta,rr=m.stateNode.containerInfo,ta=!0,nl(o,d,m),rr=v,ta=I;break;case 0:case 11:case 14:case 15:if(!_r&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){I=v=v.next;do{var F=I,V=F.destroy;F=F.tag,V!==void 0&&((F&2)!==0||(F&4)!==0)&&ly(m,d,V),I=I.next}while(I!==v)}nl(o,d,m);break;case 1:if(!_r&&(Pd(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(Y){cn(m,d,Y)}nl(o,d,m);break;case 21:nl(o,d,m);break;case 22:m.mode&1?(_r=(v=_r)||m.memoizedState!==null,nl(o,d,m),_r=v):nl(o,d,m);break;default:nl(o,d,m)}}function y2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new LR),d.forEach(function(v){var I=HR.bind(null,o,v);m.has(v)||(m.add(v),v.then(I,I))})}}function sa(o,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var I=m[v];try{var F=o,V=d,Y=V;e:for(;Y!==null;){switch(Y.tag){case 5:rr=Y.stateNode,ta=!1;break e;case 3:rr=Y.stateNode.containerInfo,ta=!0;break e;case 4:rr=Y.stateNode.containerInfo,ta=!0;break e}Y=Y.return}if(rr===null)throw Error(n(160));x2(F,V,I),rr=null,ta=!1;var re=I.alternate;re!==null&&(re.return=null),I.return=null}catch(ve){cn(I,d,ve)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)b2(d,o),d=d.sibling}function b2(o,d){var m=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(sa(d,o),Ta(o),v&4){try{mh(3,o,o.return),ng(3,o)}catch(ct){cn(o,o.return,ct)}try{mh(5,o,o.return)}catch(ct){cn(o,o.return,ct)}}break;case 1:sa(d,o),Ta(o),v&512&&m!==null&&Pd(m,m.return);break;case 5:if(sa(d,o),Ta(o),v&512&&m!==null&&Pd(m,m.return),o.flags&32){var I=o.stateNode;try{Rs(I,"")}catch(ct){cn(o,o.return,ct)}}if(v&4&&(I=o.stateNode,I!=null)){var F=o.memoizedProps,V=m!==null?m.memoizedProps:F,Y=o.type,re=o.updateQueue;if(o.updateQueue=null,re!==null)try{Y==="input"&&F.type==="radio"&&F.name!=null&&Ie(I,F),Zt(Y,V);var ve=Zt(Y,F);for(V=0;V<re.length;V+=2){var Ae=re[V],Fe=re[V+1];Ae==="style"?It(I,Fe):Ae==="dangerouslySetInnerHTML"?Ot(I,Fe):Ae==="children"?Rs(I,Fe):j(I,Ae,Fe,ve)}switch(Y){case"input":Xe(I,F);break;case"textarea":mt(I,F);break;case"select":var Te=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!F.multiple;var st=F.value;st!=null?De(I,!!F.multiple,st,!1):Te!==!!F.multiple&&(F.defaultValue!=null?De(I,!!F.multiple,F.defaultValue,!0):De(I,!!F.multiple,F.multiple?[]:"",!1))}I[nh]=F}catch(ct){cn(o,o.return,ct)}}break;case 6:if(sa(d,o),Ta(o),v&4){if(o.stateNode===null)throw Error(n(162));I=o.stateNode,F=o.memoizedProps;try{I.nodeValue=F}catch(ct){cn(o,o.return,ct)}}break;case 3:if(sa(d,o),Ta(o),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Yi(d.containerInfo)}catch(ct){cn(o,o.return,ct)}break;case 4:sa(d,o),Ta(o);break;case 13:sa(d,o),Ta(o),I=o.child,I.flags&8192&&(F=I.memoizedState!==null,I.stateNode.isHidden=F,!F||I.alternate!==null&&I.alternate.memoizedState!==null||(my=Es())),v&4&&y2(o);break;case 22:if(Ae=m!==null&&m.memoizedState!==null,o.mode&1?(_r=(ve=_r)||Ae,sa(d,o),_r=ve):sa(d,o),Ta(o),v&8192){if(ve=o.memoizedState!==null,(o.stateNode.isHidden=ve)&&!Ae&&(o.mode&1)!==0)for(rt=o,Ae=o.child;Ae!==null;){for(Fe=rt=Ae;rt!==null;){switch(Te=rt,st=Te.child,Te.tag){case 0:case 11:case 14:case 15:mh(4,Te,Te.return);break;case 1:Pd(Te,Te.return);var ot=Te.stateNode;if(typeof ot.componentWillUnmount=="function"){v=Te,m=Te.return;try{d=v,ot.props=d.memoizedProps,ot.state=d.memoizedState,ot.componentWillUnmount()}catch(ct){cn(v,m,ct)}}break;case 5:Pd(Te,Te.return);break;case 22:if(Te.memoizedState!==null){j2(Fe);continue}}st!==null?(st.return=Te,rt=st):j2(Fe)}Ae=Ae.sibling}e:for(Ae=null,Fe=o;;){if(Fe.tag===5){if(Ae===null){Ae=Fe;try{I=Fe.stateNode,ve?(F=I.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(Y=Fe.stateNode,re=Fe.memoizedProps.style,V=re!=null&&re.hasOwnProperty("display")?re.display:null,Y.style.display=Js("display",V))}catch(ct){cn(o,o.return,ct)}}}else if(Fe.tag===6){if(Ae===null)try{Fe.stateNode.nodeValue=ve?"":Fe.memoizedProps}catch(ct){cn(o,o.return,ct)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===o)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===o)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===o)break e;Ae===Fe&&(Ae=null),Fe=Fe.return}Ae===Fe&&(Ae=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:sa(d,o),Ta(o),v&4&&y2(o);break;case 21:break;default:sa(d,o),Ta(o)}}function Ta(o){var d=o.flags;if(d&2){try{e:{for(var m=o.return;m!==null;){if(f2(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var I=v.stateNode;v.flags&32&&(Rs(I,""),v.flags&=-33);var F=v2(o);uy(o,F,I);break;case 3:case 4:var V=v.stateNode.containerInfo,Y=v2(o);dy(o,Y,V);break;default:throw Error(n(161))}}catch(re){cn(o,o.return,re)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function MR(o,d,m){rt=o,_2(o)}function _2(o,d,m){for(var v=(o.mode&1)!==0;rt!==null;){var I=rt,F=I.child;if(I.tag===22&&v){var V=I.memoizedState!==null||sg;if(!V){var Y=I.alternate,re=Y!==null&&Y.memoizedState!==null||_r;Y=sg;var ve=_r;if(sg=V,(_r=re)&&!ve)for(rt=I;rt!==null;)V=rt,re=V.child,V.tag===22&&V.memoizedState!==null?S2(I):re!==null?(re.return=V,rt=re):S2(I);for(;F!==null;)rt=F,_2(F),F=F.sibling;rt=I,sg=Y,_r=ve}w2(o)}else(I.subtreeFlags&8772)!==0&&F!==null?(F.return=I,rt=F):w2(o)}}function w2(o){for(;rt!==null;){var d=rt;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:_r||ng(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!_r)if(m===null)v.componentDidMount();else{var I=d.elementType===d.type?m.memoizedProps:ea(d.type,m.memoizedProps);v.componentDidUpdate(I,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var F=d.updateQueue;F!==null&&jj(d,F,v);break;case 3:var V=d.updateQueue;if(V!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}jj(d,V,m)}break;case 5:var Y=d.stateNode;if(m===null&&d.flags&4){m=Y;var re=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&m.focus();break;case"img":re.src&&(m.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ve=d.alternate;if(ve!==null){var Ae=ve.memoizedState;if(Ae!==null){var Fe=Ae.dehydrated;Fe!==null&&Yi(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_r||d.flags&512&&cy(d)}catch(Te){cn(d,d.return,Te)}}if(d===o){rt=null;break}if(m=d.sibling,m!==null){m.return=d.return,rt=m;break}rt=d.return}}function j2(o){for(;rt!==null;){var d=rt;if(d===o){rt=null;break}var m=d.sibling;if(m!==null){m.return=d.return,rt=m;break}rt=d.return}}function S2(o){for(;rt!==null;){var d=rt;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{ng(4,d)}catch(re){cn(d,m,re)}break;case 1:var v=d.stateNode;if(typeof v.componentDidMount=="function"){var I=d.return;try{v.componentDidMount()}catch(re){cn(d,I,re)}}var F=d.return;try{cy(d)}catch(re){cn(d,F,re)}break;case 5:var V=d.return;try{cy(d)}catch(re){cn(d,V,re)}}}catch(re){cn(d,d.return,re)}if(d===o){rt=null;break}var Y=d.sibling;if(Y!==null){Y.return=d.return,rt=Y;break}rt=d.return}}var FR=Math.ceil,rg=y.ReactCurrentDispatcher,hy=y.ReactCurrentOwner,Di=y.ReactCurrentBatchConfig,fs=0,Un=null,Sn=null,ir=0,fi=0,Rd=Jo(0),Fn=0,gh=null,lc=0,ig=0,py=0,fh=null,Jr=null,my=0,Ld=1/0,uo=null,ag=!1,gy=null,rl=null,og=!1,il=null,lg=0,vh=0,fy=null,cg=-1,dg=0;function Lr(){return(fs&6)!==0?Es():cg!==-1?cg:cg=Es()}function al(o){return(o.mode&1)===0?1:(fs&2)!==0&&ir!==0?ir&-ir:bR.transition!==null?(dg===0&&(dg=Yl()),dg):(o=as,o!==0||(o=window.event,o=o===void 0?16:Gu(o.type)),o)}function na(o,d,m,v){if(50<vh)throw vh=0,fy=null,Error(n(185));Ho(o,m,v),((fs&2)===0||o!==Un)&&(o===Un&&((fs&2)===0&&(ig|=m),Fn===4&&ol(o,ir)),Zr(o,v),m===1&&fs===0&&(d.mode&1)===0&&(Ld=Es()+500,$m&&el()))}function Zr(o,d){var m=o.callbackNode;Ja(o,d);var v=Ql(o,o===Un?ir:0);if(v===0)m!==null&&Vo(m),o.callbackNode=null,o.callbackPriority=0;else if(d=v&-v,o.callbackPriority!==d){if(m!=null&&Vo(m),d===1)o.tag===0?yR(k2.bind(null,o)):uj(k2.bind(null,o)),gR(function(){(fs&6)===0&&el()}),m=null;else{switch(Wo(v)){case 1:m=ba;break;case 4:m=Wi;break;case 16:m=Er;break;case 536870912:m=dm;break;default:m=Er}m=L2(m,N2.bind(null,o))}o.callbackPriority=d,o.callbackNode=m}}function N2(o,d){if(cg=-1,dg=0,(fs&6)!==0)throw Error(n(327));var m=o.callbackNode;if(Dd()&&o.callbackNode!==m)return null;var v=Ql(o,o===Un?ir:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||d)d=ug(o,v);else{d=v;var I=fs;fs|=2;var F=I2();(Un!==o||ir!==d)&&(uo=null,Ld=Es()+500,dc(o,d));do try{OR();break}catch(Y){C2(o,Y)}while(!0);Lx(),rg.current=F,fs=I,Sn!==null?d=0:(Un=null,ir=0,d=Fn)}if(d!==0){if(d===2&&(I=ui(o),I!==0&&(v=I,d=vy(o,I))),d===1)throw m=gh,dc(o,0),ol(o,v),Zr(o,Es()),m;if(d===6)ol(o,v);else{if(I=o.current.alternate,(v&30)===0&&!$R(I)&&(d=ug(o,v),d===2&&(F=ui(o),F!==0&&(v=F,d=vy(o,F))),d===1))throw m=gh,dc(o,0),ol(o,v),Zr(o,Es()),m;switch(o.finishedWork=I,o.finishedLanes=v,d){case 0:case 1:throw Error(n(345));case 2:uc(o,Jr,uo);break;case 3:if(ol(o,v),(v&130023424)===v&&(d=my+500-Es(),10<d)){if(Ql(o,0)!==0)break;if(I=o.suspendedLanes,(I&v)!==v){Lr(),o.pingedLanes|=o.suspendedLanes&I;break}o.timeoutHandle=jx(uc.bind(null,o,Jr,uo),d);break}uc(o,Jr,uo);break;case 4:if(ol(o,v),(v&4194240)===v)break;for(d=o.eventTimes,I=-1;0<v;){var V=31-Ar(v);F=1<<V,V=d[V],V>I&&(I=V),v&=~F}if(v=I,v=Es()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*FR(v/1960))-v,10<v){o.timeoutHandle=jx(uc.bind(null,o,Jr,uo),v);break}uc(o,Jr,uo);break;case 5:uc(o,Jr,uo);break;default:throw Error(n(329))}}}return Zr(o,Es()),o.callbackNode===m?N2.bind(null,o):null}function vy(o,d){var m=fh;return o.current.memoizedState.isDehydrated&&(dc(o,d).flags|=256),o=ug(o,d),o!==2&&(d=Jr,Jr=m,d!==null&&xy(d)),o}function xy(o){Jr===null?Jr=o:Jr.push.apply(Jr,o)}function $R(o){for(var d=o;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var I=m[v],F=I.getSnapshot;I=I.value;try{if(!Ji(F(),I))return!1}catch(V){return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ol(o,d){for(d&=~py,d&=~ig,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var m=31-Ar(d),v=1<<m;o[m]=-1,d&=~v}}function k2(o){if((fs&6)!==0)throw Error(n(327));Dd();var d=Ql(o,0);if((d&1)===0)return Zr(o,Es()),null;var m=ug(o,d);if(o.tag!==0&&m===2){var v=ui(o);v!==0&&(d=v,m=vy(o,v))}if(m===1)throw m=gh,dc(o,0),ol(o,d),Zr(o,Es()),m;if(m===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,uc(o,Jr,uo),Zr(o,Es()),null}function yy(o,d){var m=fs;fs|=1;try{return o(d)}finally{fs=m,fs===0&&(Ld=Es()+500,$m&&el())}}function cc(o){il!==null&&il.tag===0&&(fs&6)===0&&Dd();var d=fs;fs|=1;var m=Di.transition,v=as;try{if(Di.transition=null,as=1,o)return o()}finally{as=v,Di.transition=m,fs=d,(fs&6)===0&&el()}}function by(){fi=Rd.current,Us(Rd)}function dc(o,d){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,mR(m)),Sn!==null)for(m=Sn.return;m!==null;){var v=m;switch(Tx(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Mm();break;case 3:Ed(),Us(Qr),Us(xr),Ux();break;case 5:Ox(v);break;case 4:Ed();break;case 13:Us(en);break;case 19:Us(en);break;case 10:Dx(v.type._context);break;case 22:case 23:by()}m=m.return}if(Un=o,Sn=o=ll(o.current,null),ir=fi=d,Fn=0,gh=null,py=ig=lc=0,Jr=fh=null,ic!==null){for(d=0;d<ic.length;d++)if(m=ic[d],v=m.interleaved,v!==null){m.interleaved=null;var I=v.next,F=m.pending;if(F!==null){var V=F.next;F.next=I,v.next=V}m.pending=v}ic=null}return o}function C2(o,d){do{var m=Sn;try{if(Lx(),qm.current=Jm,Qm){for(var v=tn.memoizedState;v!==null;){var I=v.queue;I!==null&&(I.pending=null),v=v.next}Qm=!1}if(oc=0,Vn=Mn=tn=null,ch=!1,dh=0,hy.current=null,m===null||m.return===null){Fn=1,gh=d,Sn=null;break}e:{var F=o,V=m.return,Y=m,re=d;if(d=ir,Y.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ve=re,Ae=Y,Fe=Ae.tag;if((Ae.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Te=Ae.alternate;Te?(Ae.updateQueue=Te.updateQueue,Ae.memoizedState=Te.memoizedState,Ae.lanes=Te.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var st=Jj(V);if(st!==null){st.flags&=-257,Zj(st,V,Y,F,d),st.mode&1&&Xj(F,ve,d),d=st,re=ve;var ot=d.updateQueue;if(ot===null){var ct=new Set;ct.add(re),d.updateQueue=ct}else ot.add(re);break e}else{if((d&1)===0){Xj(F,ve,d),_y();break e}re=Error(n(426))}}else if(qs&&Y.mode&1){var vn=Jj(V);if(vn!==null){(vn.flags&65536)===0&&(vn.flags|=256),Zj(vn,V,Y,F,d),Px(Ad(re,Y));break e}}F=re=Ad(re,Y),Fn!==4&&(Fn=2),fh===null?fh=[F]:fh.push(F),F=V;do{switch(F.tag){case 3:F.flags|=65536,d&=-d,F.lanes|=d;var he=Qj(F,re,d);wj(F,he);break e;case 1:Y=re;var ae=F.type,pe=F.stateNode;if((F.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(rl===null||!rl.has(pe)))){F.flags|=65536,d&=-d,F.lanes|=d;var Oe=Yj(F,Y,d);wj(F,Oe);break e}}F=F.return}while(F!==null)}E2(m)}catch(pt){d=pt,Sn===m&&m!==null&&(Sn=m=m.return);continue}break}while(!0)}function I2(){var o=rg.current;return rg.current=Jm,o===null?Jm:o}function _y(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Un===null||(lc&268435455)===0&&(ig&268435455)===0||ol(Un,ir)}function ug(o,d){var m=fs;fs|=2;var v=I2();(Un!==o||ir!==d)&&(uo=null,dc(o,d));do try{BR();break}catch(I){C2(o,I)}while(!0);if(Lx(),fs=m,rg.current=v,Sn!==null)throw Error(n(261));return Un=null,ir=0,Fn}function BR(){for(;Sn!==null;)T2(Sn)}function OR(){for(;Sn!==null&&!Wl();)T2(Sn)}function T2(o){var d=R2(o.alternate,o,fi);o.memoizedProps=o.pendingProps,d===null?E2(o):Sn=d,hy.current=null}function E2(o){var d=o;do{var m=d.alternate;if(o=d.return,(d.flags&32768)===0){if(m=PR(m,d,fi),m!==null){Sn=m;return}}else{if(m=RR(m,d),m!==null){m.flags&=32767,Sn=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Fn=6,Sn=null;return}}if(d=d.sibling,d!==null){Sn=d;return}Sn=d=o}while(d!==null);Fn===0&&(Fn=5)}function uc(o,d,m){var v=as,I=Di.transition;try{Di.transition=null,as=1,VR(o,d,m,v)}finally{Di.transition=I,as=v}return null}function VR(o,d,m,v){do Dd();while(il!==null);if((fs&6)!==0)throw Error(n(327));m=o.finishedWork;var I=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var F=m.lanes|m.childLanes;if(Ds(o,F),o===Un&&(Sn=Un=null,ir=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||og||(og=!0,L2(Er,function(){return Dd(),null})),F=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||F){F=Di.transition,Di.transition=null;var V=as;as=1;var Y=fs;fs|=4,hy.current=null,DR(o,m),b2(m,o),oR(_x),qo=!!bx,_x=bx=null,o.current=m,MR(m),sd(),fs=Y,as=V,Di.transition=F}else o.current=m;if(og&&(og=!1,il=o,lg=I),F=o.pendingLanes,F===0&&(rl=null),um(m.stateNode),Zr(o,Es()),d!==null)for(v=o.onRecoverableError,m=0;m<d.length;m++)I=d[m],v(I.value,{componentStack:I.stack,digest:I.digest});if(ag)throw ag=!1,o=gy,gy=null,o;return(lg&1)!==0&&o.tag!==0&&Dd(),F=o.pendingLanes,(F&1)!==0?o===fy?vh++:(vh=0,fy=o):vh=0,el(),null}function Dd(){if(il!==null){var o=Wo(lg),d=Di.transition,m=as;try{if(Di.transition=null,as=16>o?16:o,il===null)var v=!1;else{if(o=il,il=null,lg=0,(fs&6)!==0)throw Error(n(331));var I=fs;for(fs|=4,rt=o.current;rt!==null;){var F=rt,V=F.child;if((rt.flags&16)!==0){var Y=F.deletions;if(Y!==null){for(var re=0;re<Y.length;re++){var ve=Y[re];for(rt=ve;rt!==null;){var Ae=rt;switch(Ae.tag){case 0:case 11:case 15:mh(8,Ae,F)}var Fe=Ae.child;if(Fe!==null)Fe.return=Ae,rt=Fe;else for(;rt!==null;){Ae=rt;var Te=Ae.sibling,st=Ae.return;if(g2(Ae),Ae===ve){rt=null;break}if(Te!==null){Te.return=st,rt=Te;break}rt=st}}}var ot=F.alternate;if(ot!==null){var ct=ot.child;if(ct!==null){ot.child=null;do{var vn=ct.sibling;ct.sibling=null,ct=vn}while(ct!==null)}}rt=F}}if((F.subtreeFlags&2064)!==0&&V!==null)V.return=F,rt=V;else e:for(;rt!==null;){if(F=rt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:mh(9,F,F.return)}var he=F.sibling;if(he!==null){he.return=F.return,rt=he;break e}rt=F.return}}var ae=o.current;for(rt=ae;rt!==null;){V=rt;var pe=V.child;if((V.subtreeFlags&2064)!==0&&pe!==null)pe.return=V,rt=pe;else e:for(V=ae;rt!==null;){if(Y=rt,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:ng(9,Y)}}catch(pt){cn(Y,Y.return,pt)}if(Y===V){rt=null;break e}var Oe=Y.sibling;if(Oe!==null){Oe.return=Y.return,rt=Oe;break e}rt=Y.return}}if(fs=I,el(),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot(ql,o)}catch(pt){}v=!0}return v}finally{as=m,Di.transition=d}}return!1}function A2(o,d,m){d=Ad(m,d),d=Qj(o,d,1),o=sl(o,d,1),d=Lr(),o!==null&&(Ho(o,1,d),Zr(o,d))}function cn(o,d,m){if(o.tag===3)A2(o,o,m);else for(;d!==null;){if(d.tag===3){A2(d,o,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(rl===null||!rl.has(v))){o=Ad(m,o),o=Yj(d,o,1),d=sl(d,o,1),o=Lr(),d!==null&&(Ho(d,1,o),Zr(d,o));break}}d=d.return}}function UR(o,d,m){var v=o.pingCache;v!==null&&v.delete(d),d=Lr(),o.pingedLanes|=o.suspendedLanes&m,Un===o&&(ir&m)===m&&(Fn===4||Fn===3&&(ir&130023424)===ir&&500>Es()-my?dc(o,0):py|=m),Zr(o,d)}function P2(o,d){d===0&&((o.mode&1)===0?d=1:(d=rd,rd<<=1,(rd&130023424)===0&&(rd=4194304)));var m=Lr();o=oo(o,d),o!==null&&(Ho(o,d,m),Zr(o,m))}function zR(o){var d=o.memoizedState,m=0;d!==null&&(m=d.retryLane),P2(o,m)}function HR(o,d){var m=0;switch(o.tag){case 13:var v=o.stateNode,I=o.memoizedState;I!==null&&(m=I.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(d),P2(o,m)}var R2;R2=function(o,d,m){if(o!==null)if(o.memoizedProps!==d.pendingProps||Qr.current)Xr=!0;else{if((o.lanes&m)===0&&(d.flags&128)===0)return Xr=!1,AR(o,d,m);Xr=(o.flags&131072)!==0}else Xr=!1,qs&&(d.flags&1048576)!==0&&hj(d,Om,d.index);switch(d.lanes=0,d.tag){case 2:var v=d.type;tg(o,d),o=d.pendingProps;var I=jd(d,xr.current);Td(d,m),I=Gx(null,d,v,o,I,m);var F=Wx();return d.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Yr(v)?(F=!0,Fm(d)):F=!1,d.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,$x(d),I.updater=Zm,d.stateNode=I,I._reactInternals=d,Jx(d,v,o,m),d=sy(null,d,v,!0,F,m)):(d.tag=0,qs&&F&&Ix(d),Rr(null,d,I,m),d=d.child),d;case 16:v=d.elementType;e:{switch(tg(o,d),o=d.pendingProps,I=v._init,v=I(v._payload),d.type=v,I=d.tag=WR(v),o=ea(v,o),I){case 0:d=ty(null,d,v,o,m);break e;case 1:d=i2(null,d,v,o,m);break e;case 11:d=e2(null,d,v,o,m);break e;case 14:d=t2(null,d,v,ea(v.type,o),m);break e}throw Error(n(306,v,""))}return d;case 0:return v=d.type,I=d.pendingProps,I=d.elementType===v?I:ea(v,I),ty(o,d,v,I,m);case 1:return v=d.type,I=d.pendingProps,I=d.elementType===v?I:ea(v,I),i2(o,d,v,I,m);case 3:e:{if(a2(d),o===null)throw Error(n(387));v=d.pendingProps,F=d.memoizedState,I=F.element,_j(o,d),Wm(d,v,null,m);var V=d.memoizedState;if(v=V.element,F.isDehydrated)if(F={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},d.updateQueue.baseState=F,d.memoizedState=F,d.flags&256){I=Ad(Error(n(423)),d),d=o2(o,d,v,m,I);break e}else if(v!==I){I=Ad(Error(n(424)),d),d=o2(o,d,v,m,I);break e}else for(gi=Xo(d.stateNode.containerInfo.firstChild),mi=d,qs=!0,Zi=null,m=yj(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(kd(),v===I){d=co(o,d,m);break e}Rr(o,d,v,m)}d=d.child}return d;case 5:return Sj(d),o===null&&Ax(d),v=d.type,I=d.pendingProps,F=o!==null?o.memoizedProps:null,V=I.children,wx(v,I)?V=null:F!==null&&wx(v,F)&&(d.flags|=32),r2(o,d),Rr(o,d,V,m),d.child;case 6:return o===null&&Ax(d),null;case 13:return l2(o,d,m);case 4:return Bx(d,d.stateNode.containerInfo),v=d.pendingProps,o===null?d.child=Cd(d,null,v,m):Rr(o,d,v,m),d.child;case 11:return v=d.type,I=d.pendingProps,I=d.elementType===v?I:ea(v,I),e2(o,d,v,I,m);case 7:return Rr(o,d,d.pendingProps,m),d.child;case 8:return Rr(o,d,d.pendingProps.children,m),d.child;case 12:return Rr(o,d,d.pendingProps.children,m),d.child;case 10:e:{if(v=d.type._context,I=d.pendingProps,F=d.memoizedProps,V=I.value,$s(zm,v._currentValue),v._currentValue=V,F!==null)if(Ji(F.value,V)){if(F.children===I.children&&!Qr.current){d=co(o,d,m);break e}}else for(F=d.child,F!==null&&(F.return=d);F!==null;){var Y=F.dependencies;if(Y!==null){V=F.child;for(var re=Y.firstContext;re!==null;){if(re.context===v){if(F.tag===1){re=lo(-1,m&-m),re.tag=2;var ve=F.updateQueue;if(ve!==null){ve=ve.shared;var Ae=ve.pending;Ae===null?re.next=re:(re.next=Ae.next,Ae.next=re),ve.pending=re}}F.lanes|=m,re=F.alternate,re!==null&&(re.lanes|=m),Mx(F.return,m,d),Y.lanes|=m;break}re=re.next}}else if(F.tag===10)V=F.type===d.type?null:F.child;else if(F.tag===18){if(V=F.return,V===null)throw Error(n(341));V.lanes|=m,Y=V.alternate,Y!==null&&(Y.lanes|=m),Mx(V,m,d),V=F.sibling}else V=F.child;if(V!==null)V.return=F;else for(V=F;V!==null;){if(V===d){V=null;break}if(F=V.sibling,F!==null){F.return=V.return,V=F;break}V=V.return}F=V}Rr(o,d,I.children,m),d=d.child}return d;case 9:return I=d.type,v=d.pendingProps.children,Td(d,m),I=Ri(I),v=v(I),d.flags|=1,Rr(o,d,v,m),d.child;case 14:return v=d.type,I=ea(v,d.pendingProps),I=ea(v.type,I),t2(o,d,v,I,m);case 15:return s2(o,d,d.type,d.pendingProps,m);case 17:return v=d.type,I=d.pendingProps,I=d.elementType===v?I:ea(v,I),tg(o,d),d.tag=1,Yr(v)?(o=!0,Fm(d)):o=!1,Td(d,m),Kj(d,v,I),Jx(d,v,I,m),sy(null,d,v,!0,o,m);case 19:return d2(o,d,m);case 22:return n2(o,d,m)}throw Error(n(156,d.tag))};function L2(o,d){return Xa(o,d)}function GR(o,d,m,v){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(o,d,m,v){return new GR(o,d,m,v)}function wy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function WR(o){if(typeof o=="function")return wy(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===z)return 14}return 2}function ll(o,d){var m=o.alternate;return m===null?(m=Mi(o.tag,d,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=d,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,d=o.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function hg(o,d,m,v,I,F){var V=2;if(v=o,typeof o=="function")wy(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case N:return hc(m.children,I,F,d);case k:V=8,I|=8;break;case T:return o=Mi(12,m,d,I|2),o.elementType=T,o.lanes=F,o;case B:return o=Mi(13,m,d,I),o.elementType=B,o.lanes=F,o;case H:return o=Mi(19,m,d,I),o.elementType=H,o.lanes=F,o;case G:return pg(m,I,F,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:V=10;break e;case R:V=9;break e;case $:V=11;break e;case z:V=14;break e;case W:V=16,v=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return d=Mi(V,m,d,I),d.elementType=o,d.type=v,d.lanes=F,d}function hc(o,d,m,v){return o=Mi(7,o,v,d),o.lanes=m,o}function pg(o,d,m,v){return o=Mi(22,o,v,d),o.elementType=G,o.lanes=m,o.stateNode={isHidden:!1},o}function jy(o,d,m){return o=Mi(6,o,null,d),o.lanes=m,o}function Sy(o,d,m){return d=Mi(4,o.children!==null?o.children:[],o.key,d),d.lanes=m,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function KR(o,d,m,v,I){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=v,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function Ny(o,d,m,v,I,F,V,Y,re){return o=new KR(o,d,m,Y,re),d===1?(d=1,F===!0&&(d|=8)):d=0,F=Mi(3,null,null,d),o.current=F,F.stateNode=o,F.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},$x(F),o}function qR(o,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:v==null?null:""+v,children:o,containerInfo:d,implementation:m}}function D2(o){if(!o)return Zo;o=o._reactInternals;e:{if(Xt(o)!==o||o.tag!==1)throw Error(n(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Yr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(o.tag===1){var m=o.type;if(Yr(m))return cj(o,m,d)}return d}function M2(o,d,m,v,I,F,V,Y,re){return o=Ny(m,v,!0,o,I,F,V,Y,re),o.context=D2(null),m=o.current,v=Lr(),I=al(m),F=lo(v,I),F.callback=d!=null?d:null,sl(m,F,I),o.current.lanes=I,Ho(o,I,v),Zr(o,v),o}function mg(o,d,m,v){var I=d.current,F=Lr(),V=al(I);return m=D2(m),d.context===null?d.context=m:d.pendingContext=m,d=lo(F,V),d.payload={element:o},v=v===void 0?null:v,v!==null&&(d.callback=v),o=sl(I,d,V),o!==null&&(na(o,I,V,F),Gm(o,I,V)),V}function gg(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function F2(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<d?m:d}}function ky(o,d){F2(o,d),(o=o.alternate)&&F2(o,d)}function QR(){return null}var $2=typeof reportError=="function"?reportError:function(o){console.error(o)};function Cy(o){this._internalRoot=o}fg.prototype.render=Cy.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(n(409));mg(o,d,null,null)},fg.prototype.unmount=Cy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;cc(function(){mg(null,o,null,null)}),d[no]=null}};function fg(o){this._internalRoot=o}fg.prototype.unstable_scheduleHydration=function(o){if(o){var d=fm();o={blockedOn:null,target:o,priority:d};for(var m=0;m<wa.length&&d!==0&&d<wa[m].priority;m++);wa.splice(m,0,o),m===0&&ym(o)}};function Iy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function vg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function B2(){}function YR(o,d,m,v,I){if(I){if(typeof v=="function"){var F=v;v=function(){var ve=gg(V);F.call(ve)}}var V=M2(d,v,o,0,null,!1,!1,"",B2);return o._reactRootContainer=V,o[no]=V.current,th(o.nodeType===8?o.parentNode:o),cc(),V}for(;I=o.lastChild;)o.removeChild(I);if(typeof v=="function"){var Y=v;v=function(){var ve=gg(re);Y.call(ve)}}var re=Ny(o,0,!1,null,null,!1,!1,"",B2);return o._reactRootContainer=re,o[no]=re.current,th(o.nodeType===8?o.parentNode:o),cc(function(){mg(d,re,m,v)}),re}function xg(o,d,m,v,I){var F=m._reactRootContainer;if(F){var V=F;if(typeof I=="function"){var Y=I;I=function(){var re=gg(V);Y.call(re)}}mg(d,V,o,I)}else V=YR(m,d,o,I,v);return gg(V)}mm=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var m=Uo(d.pendingLanes);m!==0&&(Go(d,m|1),Zr(d,Es()),(fs&6)===0&&(Ld=Es()+500,el()))}break;case 13:cc(function(){var v=oo(o,1);if(v!==null){var I=Lr();na(v,o,1,I)}}),ky(o,1)}},id=function(o){if(o.tag===13){var d=oo(o,134217728);if(d!==null){var m=Lr();na(d,o,134217728,m)}ky(o,134217728)}},gm=function(o){if(o.tag===13){var d=al(o),m=oo(o,d);if(m!==null){var v=Lr();na(m,o,d,v)}ky(o,d)}},fm=function(){return as},vm=function(o,d){var m=as;try{return as=o,d()}finally{as=m}},Je=function(o,d,m){switch(d){case"input":if(Xe(o,m),d=m.name,m.type==="radio"&&d!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==o&&v.form===o.form){var I=Dm(v);if(!I)throw Error(n(90));je(v),Xe(v,I)}}}break;case"textarea":mt(o,m);break;case"select":d=m.value,d!=null&&De(o,!!m.multiple,d,!1)}},gn=yy,Ln=cc;var XR={usingClientEntryPoint:!1,Events:[rh,_d,Dm,cs,Ws,yy]},xh={findFiberByHostInstance:tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:xh.bundleType,version:xh.version,rendererPackageName:xh.rendererPackageName,rendererConfig:xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Oo(o),o===null?null:o.stateNode},findFiberByHostInstance:xh.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{ql=yg.inject(JR),di=yg}catch(o){}}return ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR,ei.createPortal=function(o,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iy(d))throw Error(n(200));return qR(o,d,null,m)},ei.createRoot=function(o,d){if(!Iy(o))throw Error(n(299));var m=!1,v="",I=$2;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),d=Ny(o,1,!1,null,null,m,!1,v,I),o[no]=d.current,th(o.nodeType===8?o.parentNode:o),new Cy(d)},ei.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Oo(d),o=o===null?null:o.stateNode,o},ei.flushSync=function(o){return cc(o)},ei.hydrate=function(o,d,m){if(!vg(d))throw Error(n(200));return xg(null,o,d,!0,m)},ei.hydrateRoot=function(o,d,m){if(!Iy(o))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,I=!1,F="",V=$2;if(m!=null&&(m.unstable_strictMode===!0&&(I=!0),m.identifierPrefix!==void 0&&(F=m.identifierPrefix),m.onRecoverableError!==void 0&&(V=m.onRecoverableError)),d=M2(d,null,o,1,m!=null?m:null,I,!1,F,V),o[no]=d.current,th(o),v)for(o=0;o<v.length;o++)m=v[o],I=m._getVersion,I=I(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,I]:d.mutableSourceEagerHydrationData.push(m,I);return new fg(d)},ei.render=function(o,d,m){if(!vg(d))throw Error(n(200));return xg(null,o,d,!1,m)},ei.unmountComponentAtNode=function(o){if(!vg(o))throw Error(n(40));return o._reactRootContainer?(cc(function(){xg(null,null,o,!1,function(){o._reactRootContainer=null,o[no]=null})}),!0):!1},ei.unstable_batchedUpdates=yy,ei.unstable_renderSubtreeIntoContainer=function(o,d,m,v){if(!vg(m))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return xg(o,d,m,!1,v)},ei.version="18.3.1-next-f1338f8080-20240426",ei}var K2;function NT(){if(K2)return Ay.exports;K2=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ay.exports=i6(),Ay.exports}var q2;function a6(){if(q2)return bg;q2=1;var s=NT();return bg.createRoot=s.createRoot,bg.hydrateRoot=s.hydrateRoot,bg}var o6=a6();const l6=S_(o6),Ft=s=>typeof s=="string",bh=()=>{let s,e;const n=new Promise((r,i)=>{s=r,e=i});return n.resolve=s,n.reject=e,n},Q2=s=>s==null?"":""+s,c6=(s,e,n)=>{s.forEach(r=>{e[r]&&(n[r]=e[r])})},d6=/###/g,Y2=s=>s&&s.indexOf("###")>-1?s.replace(d6,"."):s,X2=s=>!s||Ft(s),Hh=(s,e,n)=>{const r=Ft(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(X2(s))return{};const a=Y2(r[i]);!s[a]&&n&&(s[a]=new n),Object.prototype.hasOwnProperty.call(s,a)?s=s[a]:s={},++i}return X2(s)?{}:{obj:s,k:Y2(r[i])}},J2=(s,e,n)=>{const{obj:r,k:i}=Hh(s,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=Hh(s,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=Hh(s,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]!="undefined"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},u6=(s,e,n,r)=>{const{obj:i,k:a}=Hh(s,e,Object);i[a]=i[a]||[],i[a].push(n)},Tf=(s,e)=>{const{obj:n,k:r}=Hh(s,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},h6=(s,e,n)=>{const r=Tf(s,n);return r!==void 0?r:Tf(e,n)},kT=(s,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in s?Ft(s[r])||s[r]instanceof String||Ft(e[r])||e[r]instanceof String?n&&(s[r]=e[r]):kT(s[r],e[r],n):s[r]=e[r]);return s},Md=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var p6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const m6=s=>Ft(s)?s.replace(/[&<>"'\/]/g,e=>p6[e]):s;class g6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const f6=[" ",",","?","!",";"],v6=new g6(20),x6=(s,e,n)=>{e=e||"",n=n||"";const r=f6.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;const i=v6.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(s);if(!a){const l=s.indexOf(n);l>0&&!i.test(s.substring(0,l))&&(a=!0)}return a},ub=(s,e,n=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const r=e.split(n);let i=s;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let u=a;u<r.length;++u)if(u!==a&&(c+=n),c+=r[u],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<r.length-1)continue;a+=u-a+1;break}i=l}return i},up=s=>s==null?void 0:s.replace("_","-"),y6={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var n,r;(r=(n=console==null?void 0:console[s])==null?void 0:n.apply)==null||r.call(n,console,e)}};let b6=class hb{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||y6,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Ft(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new hb(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new hb(this.logger,e)}};var Ma=new b6;class xv{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...n])})}}class Z2 extends xv{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var h,p;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):Ft(r)&&a?c.push(...r.split(a)):c.push(r)));const u=Tf(this.data,c);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),u||!l||!Ft(r)?u:ub((p=(h=this.data)==null?void 0:h[e])==null?void 0:p[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,n];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=n,n=c[1]),this.addNamespaces(n),J2(this.data,c,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(Ft(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=n,n=c[1]),this.addNamespaces(n);let u=Tf(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?kT(u,r,a):u={...u,...r},J2(this.data,c,u),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var CT={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,n,r,i){return s.forEach(a=>{var l,c;e=(c=(l=this.processors[a])==null?void 0:l.process(e,n,r,i))!=null?c:e}),e}};const IT=Symbol("i18next/PATH_KEY");function _6(){const s=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===IT?s:(s.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function pb(s,e){var r;const{[IT]:n}=s(_6());return n.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const eS={},tS=s=>!Ft(s)&&typeof s!="boolean"&&typeof s!="number";class Ef extends xv{constructor(e,n={}){super(),c6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ma.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!x6(e,r,i);if(l&&!c){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Ft(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:Ft(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=pb(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(e[e.length-1],i),h=u[u.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=i.lng||this.language,x=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return x?a?{res:`${h}${p}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${p}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:c;const b=this.resolve(e,i);let _=b==null?void 0:b.res;const S=(b==null?void 0:b.usedKey)||c,C=(b==null?void 0:b.exactUsedKey)||c,A=["[object Number]","[object Function]","[object RegExp]"],M=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!Ft(i.count),w=Ef.hasDefaultValue(i),P=y?this.pluralResolver.getSuffix(g,i.count,i):"",N=i.ordinal&&y?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",k=y&&!i.ordinal&&i.count===0,T=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${N}`]||i.defaultValue;let L=_;j&&!_&&w&&(L=T);const R=tS(L),$=Object.prototype.toString.apply(L);if(j&&L&&R&&A.indexOf($)<0&&!(Ft(M)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const B=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,L,{...i,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(b.res=B,b.usedParams=this.getUsedParamsDetails(i),b):B}if(l){const B=Array.isArray(L),H=B?[]:{},z=B?C:S;for(const W in L)if(Object.prototype.hasOwnProperty.call(L,W)){const G=`${z}${l}${W}`;w&&!_?H[W]=this.translate(G,{...i,defaultValue:tS(T)?T[W]:void 0,joinArrays:!1,ns:u}):H[W]=this.translate(G,{...i,joinArrays:!1,ns:u}),H[W]===G&&(H[W]=L[W])}_=H}}else if(j&&Ft(M)&&Array.isArray(_))_=_.join(M),_&&(_=this.extendTranslation(_,e,i,r));else{let B=!1,H=!1;!this.isValidLookup(_)&&w&&(B=!0,_=T),this.isValidLookup(_)||(H=!0,_=c);const W=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:_,G=w&&T!==_&&this.options.updateMissing;if(H||B||G){if(this.logger.log(G?"updateKey":"missingKey",g,h,c,G?T:_),l){const U=this.resolve(c,{...i,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let K=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let U=0;U<te.length;U++)K.push(te[U]);else this.options.saveMissingTo==="all"?K=this.languageUtils.toResolveHierarchy(i.lng||this.language):K.push(i.lng||this.language);const X=(U,J,se)=>{var ue;const ne=w&&se!==_?se:W;this.options.missingKeyHandler?this.options.missingKeyHandler(U,h,J,ne,G,i):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(U,h,J,ne,G,i),this.emit("missingKey",U,h,J,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?K.forEach(U=>{const J=this.pluralResolver.getSuffixes(U,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(se=>{X([U],c+se,i[`defaultValue${se}`]||T)})}):X(K,c,T))}_=this.extendTranslation(_,e,i,b,r),H&&_===c&&this.options.appendNamespaceToMissingKey&&(_=`${h}${p}${c}`),(H||B)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${c}`:c,B?_:void 0,i))}return a?(b.res=_,b.usedParams=this.getUsedParamsDetails(i),b):_}extendTranslation(e,n,r,i,a){var u,h;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=Ft(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const b=e.match(this.interpolator.nestingRegexp);g=b&&b.length}let x=r.replace&&!Ft(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),e=this.interpolator.interpolate(e,x,r.lng||this.language||i.usedLng,r),p){const b=e.match(this.interpolator.nestingRegexp),_=b&&b.length;g<_&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>(a==null?void 0:a[0])===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Ft(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=CT.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,l,c;return Ft(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(u,n),p=h.key;i=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const x=n.count!==void 0&&!Ft(n.count),b=x&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(Ft(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(C=>{var A,M;this.isValidLookup(r)||(c=C,!eS[`${S[0]}-${C}`]&&((A=this.utils)!=null&&A.hasLoadedNamespace)&&!((M=this.utils)!=null&&M.hasLoadedNamespace(c))&&(eS[`${S[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(j=>{var P;if(this.isValidLookup(r))return;l=j;const y=[p];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(y,p,j,C,n);else{let N;x&&(N=this.pluralResolver.getSuffix(j,n.count,n));const k=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&N.indexOf(T)===0&&y.push(p+N.replace(T,this.options.pluralSeparator)),y.push(p+N),b&&y.push(p+k)),_){const L=`${p}${this.options.contextSeparator||"_"}${n.context}`;y.push(L),x&&(n.ordinal&&N.indexOf(T)===0&&y.push(L+N.replace(T,this.options.pluralSeparator)),y.push(L+N),b&&y.push(L+k))}}let w;for(;w=y.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(j,C,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ft(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class sS{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ma.create("languageUtils")}getScriptPartFromCode(e){if(e=up(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=up(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ft(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(r){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ft(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ft(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Ft(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const nS={zero:0,one:1,two:2,few:3,many:4,other:5},rS={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class w6{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ma.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=up(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch(c){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),rS;if(!e.match(/-|_/))return rS;const u=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(u,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>nS[i]-nS[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const iS=(s,e,n,r=".",i=!0)=>{let a=h6(s,e,n);return!a&&i&&Ft(n)&&(a=ub(s,n,r),a===void 0&&(a=ub(e,n,r))),a},Ly=s=>s.replace(/\$/g,"$$$$");class j6{constructor(e={}){var n;this.logger=Ma.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:u,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:x,nestingPrefixEscaped:b,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:C,maxReplaces:A,alwaysFormat:M}=e.interpolation;this.escape=n!==void 0?n:m6,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Md(a):l||"{{",this.suffix=c?Md(c):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?Md(x):b||Md("$t("),this.nestingSuffix=_?Md(_):S||Md(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=A||1e3,this.alwaysFormat=M!==void 0?M:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var b;let a,l,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const M=iS(n,u,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(M,void 0,r,{...i,...n,interpolationkey:_}):M}const S=_.split(this.formatSeparator),C=S.shift().trim(),A=S.join(this.formatSeparator).trim();return this.format(iS(n,u,C,this.options.keySeparator,this.options.ignoreJSONStructure),A,r,{...i,...n,interpolationkey:C})};this.resetRegExp();const p=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Ly(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Ly(this.escape(_)):Ly(_)}].forEach(_=>{for(c=0;a=_.regex.exec(e);){const S=a[1].trim();if(l=h(S),l===void 0)if(typeof p=="function"){const A=p(e,a,i);l=Ft(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),l="";else!Ft(l)&&!this.useRawValueToEscape&&(l=Q2(l));const C=_.safeValue(l);if(e=e.replace(a[0],C),g?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,l;const c=(u,h)=>{var S;const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const g=u.split(new RegExp(`${p}[ ]*{`));let x=`{${g[1]}`;u=g[0],x=this.interpolate(x,l);const b=x.match(/'/g),_=x.match(/"/g);(((S=b==null?void 0:b.length)!=null?S:0)%2===0&&!_||_.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),h&&(l={...h,...l})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,C),`${u}${p}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];l={...r},l=l.replace&&!Ft(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(u=i[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=n(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Ft(a))return a;Ft(a)||(a=Q2(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((p,g)=>this.format(p,g,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const S6=s=>{let e=s.toLowerCase().trim();const n={};if(s.indexOf("(")>-1){const r=s.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...u]=l.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},aS=s=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=s(up(r),i),e[l]=c),c(n)}},N6=s=>(e,n,r)=>s(up(n),r)(e);class k6{constructor(e={}){this.logger=Ma.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?aS:N6;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=aS(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,u)=>{var g;const{formatName:h,formatOptions:p}=S6(u);if(this.formats[h]){let x=c;try{const b=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},_=b.locale||b.lng||i.locale||i.lng||r;x=this.formats[h](c,_,{...p,...i,...b})}catch(b){this.logger.warn(b)}return x}else this.logger.warn(`there was no format function for ${h}`);return c},e)}}const C6=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class I6 extends xv{constructor(e,n,r,i={}){var a,l;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ma.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},l={},c={},u={};return e.forEach(h=>{let p=!0;n.forEach(g=>{const x=`${h}|${g}`;!r.reload&&this.store.hasResourceBundle(h,g)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,p=!1,l[x]===void 0&&(l[x]=!0),a[x]===void 0&&(a[x]=!0),u[g]===void 0&&(u[g]=!0)))}),p||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const i=e.split("|"),a=i[0],l=i[1];n&&this.emit("failedLoading",a,l,n),!n&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const c={};this.queue.forEach(u=>{u6(u.loaded,[a],l),C6(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{c[h]||(c[h]={});const p=u.loaded[h];p.length&&p.forEach(g=>{c[h][g]===void 0&&(c[h][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,l)},a);return}l(h,p)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const h=u(e,n);h&&typeof h.then=="function"?h.then(p=>c(null,p)).catch(c):c(null,h)}catch(h){c(h)}return}return u(e,n,c)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ft(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ft(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,n,r,i,a,l={},c=()=>{}){var u,h,p,g,x;if((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((x=this.backend)!=null&&x.create){const b={...l,isUpdate:a},_=this.backend.create.bind(this.backend);if(_.length<6)try{let S;_.length===5?S=_(e,n,r,i,b):S=_(e,n,r,i),S&&typeof S.then=="function"?S.then(C=>c(null,C)).catch(c):c(null,S)}catch(S){c(S)}else _(e,n,r,i,c,b)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const oS=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),Ft(s[1])&&(e.defaultValue=s[1]),Ft(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const n=s[3]||s[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),lS=s=>{var e,n;return Ft(s.ns)&&(s.ns=[s.ns]),Ft(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),Ft(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((n=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},_g=()=>{},T6=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(n=>{typeof s[n]=="function"&&(s[n]=s[n].bind(s))})};class hp extends xv{constructor(e={},n){if(super(),this.options=lS(e),this.services={},this.logger=Ma,this.modules={external:[]},T6(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ft(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=oS();this.options={...r,...this.options,...lS(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Ma.init(i(this.modules.logger),this.options):Ma.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=k6;const p=new sS(this.options);this.store=new Z2(this.options.resources,this.options);const g=this.services;g.logger=Ma,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new w6(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new j6(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new I6(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Ef(this.services,this.options),this.translator.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=_g),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const c=bh(),u=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(e,n=_g){var a,l;let r=n;const i=Ft(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&c.indexOf(g)<0&&c.push(g)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>u(p)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>u(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const i=bh();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=_g),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&CT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=bh();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{var p,g;!e&&!c&&this.services.languageDetector&&(c=[]);const u=Ft(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Ft(c)?[c]:c);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,x=>{a(x,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){const i=(a,l,...c)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([a,l].concat(c)):u={...l},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=pb(g,{...this.options,...l})),`${u.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=pb(a,{...this.options,...l})),p=u.keyPrefix?`${u.keyPrefix}${h}${a}`:a),this.t(p,u)};return Ft(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,u)=>{const h=this.services.backendConnector.state[`${c}|${u}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,n){const r=bh();return this.options.ns?(Ft(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=bh();Ft(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const c=l.getTextInfo();if(c&&c.direction)return c.direction}}catch(l){}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new sS(oS());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new hp(e,n)}cloneInstance(e={},n=_g){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new hp(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((p,g)=>(p[g]={...u[h][g]},p),u[h]),u),{});a.store=new Z2(c,i),a.services.resourceStore=a.store}return a.translator=new Ef(a.services,i),a.translator.on("*",(c,...u)=>{a.emit(c,...u)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vr=hp.createInstance();vr.createInstance=hp.createInstance;vr.createInstance;vr.dir;vr.init;vr.loadResources;vr.reloadResources;vr.use;vr.changeLanguage;vr.getFixedT;vr.t;vr.exists;vr.setDefaultNamespace;vr.hasLoadedNamespace;vr.loadNamespaces;vr.loadLanguages;const E6=(s,e,n,r)=>{var a,l,c,u;const i=[n,{code:e,...r||{}}];if((l=(a=s==null?void 0:s.services)==null?void 0:a.logger)!=null&&l.forward)return s.services.logger.forward(i,"warn","react-i18next::",!0);Rc(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(c=s==null?void 0:s.services)==null?void 0:c.logger)!=null&&u.warn?s.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},cS={},mb=(s,e,n,r)=>{Rc(n)&&cS[n]||(Rc(n)&&(cS[n]=new Date),E6(s,e,n,r))},TT=(s,e)=>()=>{if(s.isInitialized)e();else{const n=()=>{setTimeout(()=>{s.off("initialized",n)},0),e()};s.on("initialized",n)}},gb=(s,e,n)=>{s.loadNamespaces(e,TT(s,n))},dS=(s,e,n,r)=>{if(Rc(n)&&(n=[n]),s.options.preload&&s.options.preload.indexOf(e)>-1)return gb(s,n,r);n.forEach(i=>{s.options.ns.indexOf(i)<0&&s.options.ns.push(i)}),s.loadLanguages(e,TT(s,r))},A6=(s,e,n={})=>!e.languages||!e.languages.length?(mb(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(s,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,s))return!1}}),Rc=s=>typeof s=="string",P6=s=>typeof s=="object"&&s!==null,R6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,L6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},D6=s=>L6[s],M6=s=>s.replace(R6,D6);let fb={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:M6};const F6=(s={})=>{fb={...fb,...s}},$6=()=>fb;let ET;const B6=s=>{ET=s},O6=()=>ET,V6={type:"3rdParty",init(s){F6(s.options.react),B6(s)}},U6=E.createContext();class z6{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const H6=(s,e)=>{const n=E.useRef();return E.useEffect(()=>{n.current=s},[s,e]),n.current},AT=(s,e,n,r)=>s.getFixedT(e,n,r),G6=(s,e,n,r)=>E.useCallback(AT(s,e,n,r),[s,e,n,r]),wn=(s,e={})=>{var y,w,P,N;const{i18n:n}=e,{i18n:r,defaultNS:i}=E.useContext(U6)||{},a=n||r||O6();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new z6),!a){mb(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const k=(L,R)=>Rc(R)?R:P6(R)&&Rc(R.defaultValue)?R.defaultValue:Array.isArray(L)?L[L.length-1]:L,T=[k,{},!1];return T.t=k,T.i18n={},T.ready=!1,T}(y=a.options.react)!=null&&y.wait&&mb(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...$6(),...a.options.react,...e},{useSuspense:c,keyPrefix:u}=l;let h=i||((w=a.options)==null?void 0:w.defaultNS);h=Rc(h)?[h]:h||["translation"],(N=(P=a.reportNamespaces).addUsedNamespaces)==null||N.call(P,h);const p=(a.isInitialized||a.initializedStoreOnce)&&h.every(k=>A6(k,a,l)),g=G6(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),x=()=>g,b=()=>AT(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),[_,S]=E.useState(x);let C=h.join();e.lng&&(C=`${e.lng}${C}`);const A=H6(C),M=E.useRef(!0);E.useEffect(()=>{const{bindI18n:k,bindI18nStore:T}=l;M.current=!0,!p&&!c&&(e.lng?dS(a,e.lng,h,()=>{M.current&&S(b)}):gb(a,h,()=>{M.current&&S(b)})),p&&A&&A!==C&&M.current&&S(b);const L=()=>{M.current&&S(b)};return k&&(a==null||a.on(k,L)),T&&(a==null||a.store.on(T,L)),()=>{M.current=!1,a&&k&&(k==null||k.split(" ").forEach(R=>a.off(R,L))),T&&a&&T.split(" ").forEach(R=>a.store.off(R,L))}},[a,C]),E.useEffect(()=>{M.current&&p&&S(x)},[a,u,p]);const j=[_,a,p];if(j.t=_,j.i18n=a,j.ready=p,p||!p&&!c)return j;throw new Promise(k=>{e.lng?dS(a,e.lng,h,()=>k()):gb(a,h,()=>k())})},W6={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",help:"Help",tools:"Tools",community:"Community",creatorHub:"Creator Hub",settings:"Settings"},K6={title:"Home",subtitle:"Welcome back",historybook:{title:"Historybook",credit:"Historybook - created by Resist 2 Exist & DonMuErte",logoAlt:"Historybook logo",coverAlt:"Historybook cover",open:"Open Historybook"},guidehub:{title:"GuideHub",subtitle:"Guides & calculators",logoAlt:"GuideHub logo",previewAlt:"GuideHub preview",open:"Open GuideHub"},sftools:{title:"SFTools",subtitle:"Tools & resources",previewAlt:"SFTools preview"},taverndiscord:{title:"Tavern Discord",subtitle:"Community Discord",previewAlt:"Tavern Discord preview"},news:{title:"Community news",empty:"No news yet.",emptyChannel:"No recent news in this channel.",openOnDiscord:"Open on Discord",prev:"Previous channel",next:"Next channel"},youtube:{title:"YouTube",prev:"Previous video",next:"Next video",empty:"No videos"},live:{title:"Live now",none:"Nobody is live right now.",open_on_twitch:"Open on Twitch",badge:"LIVE",viewers:"{{viewers}} viewers",prev:"Previous stream",next:"Next stream"},schedule:{open:"Show streaming schedule",title:"Streaming schedule",close:"Close",platform:"Platform",platformAll:"All",platformTwitch:"Twitch",platformYouTube:"YouTube",search:"Search",searchPlaceholder:"Streamer / Title",today:"Today only",columns:{weekday:"Weekday",start:"Start (UTC)",end:"End (UTC)",timezone:"Timezone",platform:"Platform",channel:"Channel URL",streamer:"Streamer",title:"Title"},empty:"No schedule yet.",link:"Link"}},q6={tiles:{overview:{title:"Server Overview",subtitle:"Fusion tree & active servers"}},overview:{pageTitle:"Server Overview",expandAll:"Expand all",collapseAll:"Collapse all"}},Q6={tabs:{gamified:"Gamified",gamified2:"Gamified 2",gamified3:"Gamified 3"}},Y6={connectedCharacters:{title:"Connected characters",empty:"No characters linked yet. Link a character in your account to see it here.",loginPrompt:"Sign in to see your linked characters.",ctaGuest:"Open start guide",ctaAuthed:"Open linked characters guide",chip:{server:"Server",class:"Class"}}},X6={settings:{title:"Settings",subtitle:"Configure your personal preferences.",loading:"Loading settings...",error:"Could not load settings.",retry:"Retry",language:{label:"Preferred language"},defaultSection:{label:"Default section"},compactTables:{label:"Use compact table layout"},experimental:{label:"Enable experimental features"},save:"Save settings",saved:"Settings saved.",noChanges:"No changes to save.",saving:"Saving...",saveError:"Could not save settings. Please try again."},tools:{title:"Tools settings",subtitle:"Configure how tools behave for your account.",loading:"Loading tools settings...",loadError:"Could not load tools settings.",defaultSet:{label:"Default set ID",placeholder:"Enter a default set ID"},showIntro:{label:"Show tools intro"},experimental:{label:"Enable experimental tools"},save:{cta:"Save settings",saving:"Saving...",success:"Settings saved.",noChanges:"No changes to save.",error:"Could not save settings. Please try again."}},connectedCharacters:{title:"Connected characters",subtitle:"These game characters are linked to your SFDataHub account.",loading:"Refreshing characters...",empty:{title:"No characters linked yet",description:'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.',cta:"Click to learn how linking works"},actions:{refresh:"Refresh",refreshing:"Refreshing...",unlink:"Disconnect character"},confirmation:{title:"Are you sure you want to unlink this character?",cancel:"Cancel",confirm:"Yes, unlink",confirming:"Unlinking..."},errors:{serviceUnavailable:"Auth service is not configured for unlinking.",unlink:"Could not unlink character."},columns:{character:"Character",server:"Server",playerId:"Player ID",class:"Class",level:"Level",guild:"Guild",lastVerified:"Last linked",source:"Source",actions:"Actions"},method:{discord:"Discord bot"},help:{title:"How does linking work?",show:"Show",hide:"Hide",steps:{link:'Link a character via the Discord bot using the "!connect char" command.',verify:"We match the character to your latest verified scan; keep your game data up to date.",refresh:"After linking, click Refresh here to sync the latest characters from the auth service.",unlink:"You can unlink any character in the Actions column; the source column shows how it was linked."},footnote:"Tip: Click Refresh after linking or unlinking to update this table."}}},J6={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Placeholder for future gem calculations.",dungeonPause:"Dummy view for dungeon pause tools.",xpDungeon:"Slide for XP dungeon planning."},sets:{defaultName:"New Set",exportActive:"Export active set",import:"Import set",importErrorInvalid:"This file does not contain a valid tools set.",importErrorMaxReached:"You already use the maximum of 3 sets. Delete one before importing a new one.",delete:"Delete set",deleteConfirmTitle:"Delete this set?",deleteConfirmText:"This will remove the set from your browser and free up a slot. Export it first if you want a backup.",deleteLastForbidden:"You need at least one set. Create a new one before deleting this.",rename:"Rename set",renameTitle:"Rename set",renameLabel:"Set name",renamePlaceholder:"Enter a name for this set",renameSave:"Save",renameCancel:"Cancel",renameErrorEmpty:"Please enter a name."},sync:{buttonSave:"Save changes to account",saving:"Saving",error:"Could not save your changes. Please try again.",statusUnsynced:"Unsynced changes",statusSynced:"All changes synced",statusNever:"Not synced yet",lastSyncLabel:"Last sync",noChanges:"No changes to save",cooldownLabel:"Next sync in {{time}}"}},Z6={quickAccess:"Quick access",upload:"Upload scan",search:"Search /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},eL={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},tL={title:"Help & Overview",subtitle:"Quick guide to SFDataHub",hero:{eyebrow:"Start guide",heading:"Welcome to SFDataHub",lead:"Learn what you can do, how data freshness works, and where to find settings or legal info.",freshnessLabel:"Data freshness",freshnessBody:"Data is refreshed regularly. You will see the exact scan time directly inside top lists and profiles."},dataFreshness:{title:"How up to date is the data?",body:`SFDataHub relies on community scans. Some servers (for example many EU servers) are scanned roughly once per month by us and a few helpers  depending on our free time. Other servers (for example fusion servers) are scanned by other community projects and may have longer gaps between scans.

This means there can be several weeks or even months between two scans. You can always see the exact data age from the "Last scan: " hint in top lists and profiles.

If you want your own profile to be more up to date, you can link your SFDataHub account and upload your own scans. That way you keep your profile fresh and help the overall database stay more current for the whole community.`},sections:{intro:{title:"What is SFDataHub?",body1:"SFDataHub is a community project around Shakes & Fidget.",body2:"You can analyse scan data, browse top lists, and open detailed player and guild profiles. The goal: a quick overview of progress, rankings, and development  without any official connection to Playa Games."},actions:{title:"What can I do on SFDataHub?",items:{toplists:"Browse top lists: compare players and guilds by level or other metrics.",profiles:"Open profiles: view detailed player and guild profiles with extra information.",guides:"Read guides: use guides and tips to plan your progress.",tools:"Use tools & calculators: run interactive tools such as a dungeon XP calculator."}},freshness:{title:"How up to date is the data?",body1:"SFDataHub is based on scans uploaded or linked by the community.",body2:"Next to many values youll find the time of the last scan (for example Last scan: 2025-12-01).",body3:"Top lists and profiles are updated regularly. If an entry hasnt been scanned for a while, the displayed values might differ from the current state in the game."},login:{title:"Login & Settings",body1:"You can log in with your Discord account to unlock additional features.",body2:"After logging in youll see your profile menu with avatar and name in the header.",body3:"In the settings you can adjust basic options for your SFDataHub account.",body4:"Settings are only relevant for logged-in users  without an account theres nothing to configure."},legal:{title:"Help, feedback & legal information",body1:"If you notice bugs, strange data, or have ideas for new features, were happy to hear from you.",body2:"You can find contact options and more information on the contact or imprint page.",body3:"For legal details please use the linked pages:",items:{tos:"Terms of Service (ToS)",privacy:"Privacy Policy",imprint:"Imprint / Contact"}}}},sL={quota:{unlimited:"No limit"}},nL={placeholder:"Search players",inputLabel:"Search players, guilds and servers",loading:"Loading",recents:"Recent searches",minCharsHint:"Type at least 3 characters",noResults:"No results",players:"Players",guilds:"Guilds",servers:"Servers",active:"Active",inactive:"Inactive",guildMembers:"{{count}} members",guildMembersUnknown:"Members ?",moreResults:"More results press Enter",recentLabel:"Recent"},rL={about:{title:"About SFDataHub",body:`SFDataHub is a non-commercial fan and community project around Shakes & Fidget. It has no official connection to Playa Games GmbH or the operators of Shakes & Fidget.

All mentioned brands, logos and graphics are the property of their respective owners and are used for identification purposes only.`},shortDisclaimer:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners.",copyright:" 2025 SFDataHub  community project around Shakes & Fidget."},iL={v2:{searchPlaceholder:"Search guides",searchLabel:"Search guides",navHomeLabel:"Home",emptyStateTitle:"Select a guide",emptyStateBody:"Choose an entry from the guide navigation.",loading:"Loading guide...",missingTitle:"Guide not available yet",missingBody:"This guide does not have markdown content yet.",createdLabel:"Created",updatedLabel:"Last edited",sectionsLabel:"Sections",noSections:"No sections",galleryLabel:"Gallery",closeLabel:"Close"}},aL={nav:W6,home:K6,servers:q6,playground:Q6,sidebar:Y6,account:X6,tools:J6,topbar:Z6,profile:eL,help:tL,uploadCenter:sL,search:nL,footer:rL,guides:iL},oL={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",help:"Hilfe",tools:"Tools",community:"Community",creatorHub:"Creator Hub",settings:"Einstellungen"},lL={title:"Start",subtitle:"Willkommen zurueck",historybook:{title:"Historybook",credit:"Historybook - erstellt von Resist 2 Exist & DonMuErte",logoAlt:"Historybook Logo",coverAlt:"Historybook Cover",open:"Historybook oeffnen"},guidehub:{title:"GuideHub",subtitle:"Guides & Rechner",logoAlt:"GuideHub Logo",previewAlt:"GuideHub Vorschau",open:"GuideHub oeffnen"},sftools:{title:"SFTools",subtitle:"Tools & Ressourcen",previewAlt:"SFTools Vorschau"},taverndiscord:{title:"Tavern Discord",subtitle:"Community-Discord",previewAlt:"Tavern Discord Vorschau"},news:{title:"Community-News",empty:"Noch keine Neuigkeiten.",emptyChannel:"Keine aktuellen News in diesem Kanal.",openOnDiscord:"Auf Discord oeffnen",prev:"Vorheriger Kanal",next:"Naechster Kanal"},youtube:{title:"YouTube",prev:"Vorheriges Video",next:"Naechstes Video",empty:"Keine Videos"},live:{title:"Jetzt live",none:"Niemand ist gerade live.",open_on_twitch:"Auf Twitch oeffnen",badge:"LIVE",viewers:"{{viewers}} Zuschauer",prev:"Vorheriger Stream",next:"Naechster Stream"},schedule:{open:"Streaming-Plan anzeigen",title:"Streaming-Plan",close:"Schliessen",platform:"Plattform",platformAll:"Alle",platformTwitch:"Twitch",platformYouTube:"YouTube",search:"Suche",searchPlaceholder:"Streamer / Titel",today:"Nur heute",columns:{weekday:"Wochentag",start:"Start (UTC)",end:"Ende (UTC)",timezone:"Zeitzone",platform:"Plattform",channel:"Kanal-URL",streamer:"Streamer",title:"Titel"},empty:"Noch kein Streaming-Plan.",link:"Link"}},cL={tiles:{overview:{title:"Server-Uebersicht",subtitle:"Fusion-Tree & aktive Server"}},overview:{pageTitle:"Server-Uebersicht",expandAll:"Alle aufklappen",collapseAll:"Alle einklappen"}},dL={tabs:{gamified:"Gamifiziert",gamified2:"Gamified 2",gamified3:"Gamified 3"}},uL={connectedCharacters:{title:"Verknuepfte Charaktere",empty:"Noch keine Charaktere verknuepft. Verknuepfe einen Charakter in deinem Account, damit er hier erscheint.",loginPrompt:"Bitte einloggen, um verknuepfte Charaktere zu sehen.",ctaGuest:"Start-Guide oeffnen",ctaAuthed:"Zum Account-Tab wechseln",chip:{server:"Server",class:"Klasse"}}},hL={settings:{title:"Einstellungen",subtitle:"Passe deine persoenlichen Praeferenzen an.",loading:"Einstellungen werden geladen...",error:"Einstellungen konnten nicht geladen werden.",retry:"Erneut versuchen",language:{label:"Bevorzugte Sprache"},defaultSection:{label:"Standardbereich"},compactTables:{label:"Kompaktes Tabellen-Layout nutzen"},experimental:{label:"Experimentelle Features aktivieren"},save:"Einstellungen speichern",saved:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",saving:"Speichern...",saveError:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."},tools:{title:"Tool-Einstellungen",subtitle:"Konfiguriere, wie die Tools fuer deinen Account arbeiten.",loading:"Tool-Einstellungen werden geladen...",loadError:"Tool-Einstellungen konnten nicht geladen werden.",defaultSet:{label:"Standard-Set-ID",placeholder:"Standard-Set-ID eingeben"},showIntro:{label:"Tools-Intro anzeigen"},experimental:{label:"Experimentelle Tools aktivieren"},save:{cta:"Einstellungen speichern",saving:"Speichern...",success:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",error:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."}},connectedCharacters:{title:"Verknuepfte Charaktere",subtitle:"Diese Spielcharaktere sind mit deinem SFDataHub-Account verknuepft.",loading:"Charaktere werden aktualisiert...",empty:{title:"Noch keine Charaktere verknuepft",description:'Nutze den Befehl "!connect char" im Discord-Bot, verknuepfe deinen Account und klicke dann hier auf "Refresh".',cta:"Klicke hier, um zu erfahren, wie das Verknuepfen funktioniert"},actions:{refresh:"Refresh",refreshing:"Aktualisiere...",unlink:"Charakter trennen"},confirmation:{title:"Moechtest du diesen Charakter wirklich trennen?",cancel:"Abbrechen",confirm:"Ja, trennen",confirming:"Trenne..."},errors:{serviceUnavailable:"Auth-Service ist fuer das Trennen nicht konfiguriert.",unlink:"Charakter konnte nicht getrennt werden."},columns:{character:"Charakter",server:"Server",playerId:"Player ID",class:"Klasse",level:"Level",guild:"Gilde",lastVerified:"Zuletzt verknuepft",source:"Quelle",actions:"Aktionen"},method:{discord:"Discord-Bot"},help:{title:"Wie funktioniert das Verknuepfen?",show:"Anzeigen",hide:"Ausblenden",steps:{link:'Verknuepfe einen Charakter ueber den Discord-Bot mit dem Befehl "!connect char".',verify:"Wir gleichen den Charakter mit deinem letzten verifizierten Scan ab; halte deine Daten aktuell.",refresh:"Klicke nach dem Verknuepfen auf Refresh, damit die Liste aktualisiert wird.",unlink:"Du kannst jeden Charakter ueber die Spalte Aktionen trennen; die Quelle zeigt, wie er verknuepft wurde."},footnote:"Tipp: Nach dem Verknuepfen oder Trennen immer kurz auf Refresh klicken."}}},pL={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Platzhalter fuer kuenftige Gem-Berechnungen.",dungeonPause:"Dummy-Ansicht fuer Dungeon-Pausen-Tools.",xpDungeon:"Slide fuer XP-Run-Planung."},sets:{defaultName:"Neues Set",exportActive:"Aktives Set exportieren",import:"Set importieren",importErrorInvalid:"Diese Datei enthlt kein gltiges Tools-Set.",importErrorMaxReached:"Du nutzt bereits das Maximum von 3 Sets. Lsche zuerst ein Set, bevor du ein neues importierst.",delete:"Set l?schen",deleteConfirmTitle:"Dieses Set l?schen?",deleteConfirmText:"Damit wird das Set in diesem Browser entfernt und ein Slot freigegeben. Exportiere es zuerst, wenn du ein Backup behalten m?chtest.",deleteLastForbidden:"Du ben?tigst mindestens ein Set. Erstelle zuerst ein neues, bevor du dieses l?schst.",rename:"Set umbenennen",renameTitle:"Set umbenennen",renameLabel:"Set-Name",renamePlaceholder:"Name f?r dieses Set eingeben",renameSave:"Speichern",renameCancel:"Abbrechen",renameErrorEmpty:"Bitte einen Namen eingeben."},sync:{buttonSave:"nderungen im Account speichern",saving:"Speichere ",error:"Deine nderungen konnten nicht gespeichert werden. Bitte versuche es erneut.",statusUnsynced:"Nicht gespeicherte nderungen",statusSynced:"Alle nderungen synchronisiert",statusNever:"Noch nie synchronisiert",lastSyncLabel:"Letzte Synchronisierung",noChanges:"Keine nderungen zum Speichern",cooldownLabel:"Nchster Sync in {{time}}"}},mL={quickAccess:"Schnellzugriff",upload:"Scan hochladen",search:"Suchen /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},gL={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},fL={title:"Hilfe & bersicht",subtitle:"Kurzer Einstieg in den SFDataHub",hero:{eyebrow:"Start-Guide",heading:"Willkommen im SFDataHub",lead:"Erfahre, was du tun kannst, wie aktuell die Daten sind und wo du Einstellungen oder rechtliche Infos findest.",freshnessLabel:"Datenaktualitt",freshnessBody:"Daten werden regelmig aktualisiert. Den genauen Scan-Zeitpunkt siehst du direkt in Toplisten und Profilen."},dataFreshness:{title:"Wie aktuell sind die Daten?",body:`SFDataHub lebt von Community-Scans. Ein Teil der Server (z. B. die europischen Server) wird von uns und ein paar Helfern ungefhr einmal im Monat gescannt  je nachdem, wie wir Zeit haben. Andere Server (z. B. Fusion-Server) werden von anderen Community-Projekten in greren Abstnden gescannt.

Dadurch knnen zwischen zwei Scans auch mehrere Wochen oder sogar Monate liegen. Den genauen Stand siehst du immer am Hinweis Last scan:  in Toplisten und Profilen.

Wenn du dein Profil besonders aktuell halten mchtest, kannst du dich mit deinem SFDataHub-Account verbinden und eigene Scans hochladen. So hilfst du gleichzeitig mit, dass die Datenbank aktueller bleibt  fr dich selbst und fr die Community.`},sections:{intro:{title:"Was ist SFDataHub?",body1:"SFDataHub ist ein Community-Projekt rund um Shakes & Fidget.",body2:"Du kannst hier Spielerdaten aus Scans auswerten, Toplisten ansehen und detaillierte Spieler- und Gildenprofile ffnen. Ziel ist ein schneller berblick ber Fortschritt, Rankings und Entwicklungen  ohne offizielle Verbindung zu Playa Games."},actions:{title:"Was kann ich auf SFDataHub tun?",items:{toplists:"Toplisten ansehen: Vergleiche Spieler und Gilden nach Level oder anderen Werten.",profiles:"Profile ffnen: Schaue dir detaillierte Spieler- und Gildenprofile mit mehr Informationen an.",guides:"Guides lesen: Nutze Anleitungen und Tipps, um dein Spiel besser zu planen.",tools:"Tools & Rechner verwenden: Berechne z. B. Dungeon-XP oder andere Werte mit interaktiven Tools."}},freshness:{title:"Wie aktuell sind die Daten?",body1:"SFDataHub basiert auf Scans, die von der Community hochgeladen oder verbunden werden.",body2:"Neben vielen Werten findest du einen Hinweis auf den Zeitpunkt des letzten Scans (z. B. Last scan: 2025-12-01).",body3:"Toplisten und Profile werden regelmig aktualisiert. Wenn ein Eintrag lngere Zeit nicht gescannt wurde, knnen die angezeigten Werte vom aktuellen Stand im Spiel abweichen."},login:{title:"Login & Einstellungen",body1:"Du kannst dich mit deinem Discord-Account anmelden, um zustzliche Funktionen nutzen zu knnen.",body2:"Nach dem Login siehst du oben dein Profilmen mit Avatar und Namen.",body3:"In den Einstellungen kannst du grundlegende Optionen fr deinen SFDataHub-Account anpassen.",body4:"Einstellungen sind nur fr eingeloggte Nutzer relevant  ohne Account musst du hier nichts konfigurieren."},legal:{title:"Hilfe, Feedback & rechtliche Infos",body1:"Wenn dir Fehler auffallen, Daten komisch aussehen oder du Ideen fr neue Features hast, freuen wir uns ber Feedback.",body2:"Du findest unsere Kontaktmglichkeiten und weitere Infos auf der Kontakt- oder Impressumsseite.",body3:"Fr rechtliche Details nutze bitte die verlinkten Seiten:",items:{tos:"Terms of Service (ToS)",privacy:"Datenschutz",imprint:"Impressum / Kontakt"}}}},vL={quota:{unlimited:"Kein Limit"}},xL={placeholder:"Suchen (Spieler)",inputLabel:"Spieler, Gilden und Server suchen",loading:"Ldt?",recents:"Letzte Suchen",minCharsHint:"Mindestens 3 Zeichen eingeben?",noResults:"Keine Treffer",players:"Spieler",guilds:"Gilden",servers:"Server",active:"Aktiv",inactive:"Inaktiv",guildMembers:"{{count}} Mitglieder",guildMembersUnknown:"Mitglieder ?",moreResults:"Mehr Ergebnisse? Enter drcken",recentLabel:"Kuerzlich"},yL={about:{title:"ber SFDataHub",body:`SFDataHub ist ein nicht-kommerzielles Fan- und Community-Projekt rund um Shakes & Fidget. Es besteht keine offizielle Verbindung zu Playa Games GmbH oder den Betreibern von Shakes & Fidget.

Alle genannten Marken, Logos und Grafiken sind Eigentum der jeweiligen Rechteinhaber und werden ausschlielich zu identifizierenden Zwecken verwendet.`},shortDisclaimer:"SFDataHub ist ein inoffizielles, nicht-kommerzielles Fanprojekt. Alle Marken und Bilder gehren ihren jeweiligen Rechteinhabern.",copyright:" 2025 SFDataHub  Community-Projekt rund um Shakes & Fidget."},bL={v2:{searchPlaceholder:"Guides suchen",searchLabel:"Guides suchen",navHomeLabel:"Startseite",emptyStateTitle:"Guide auswaehlen",emptyStateBody:"Waehle einen Eintrag in der Guide-Navigation.",loading:"Guide wird geladen...",missingTitle:"Guide noch nicht verfuegbar",missingBody:"Fuer diesen Guide gibt es noch keinen Markdown-Inhalt.",createdLabel:"Erstellt",updatedLabel:"Bearbeitet",sectionsLabel:"Sektionen",noSections:"Keine Sektionen",galleryLabel:"Galerie",closeLabel:"Schliessen"}},_L={nav:oL,home:lL,servers:cL,playground:dL,sidebar:uL,account:hL,tools:pL,topbar:mL,profile:gL,help:fL,uploadCenter:vL,search:xL,footer:yL,guides:bL},wL={en:{translation:aL},de:{translation:_L}};vr.use(V6).init({resources:wL,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});function Lt(s,e="en"){return vr.t(s,{lng:e})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uS="popstate";function jL(s={}){function e(i,a){let{pathname:l="/",search:c="",hash:u=""}=qc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),vb("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof a=="string"?a:pp(a))}function r(i,a){Ci(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return NL(e,n,r,s)}function Ys(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function Ci(s,e){if(!s){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function SL(){return Math.random().toString(36).substring(2,10)}function hS(s,e){return{usr:s.state,key:s.key,idx:e}}function vb(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?qc(e):e,state:n,key:e&&e.key||r||SL()}}function pp({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function qc(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function NL(s,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",u=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let C=p(),A=C==null?null:C-h;h=C,u&&u({action:c,location:S.location,delta:A})}function x(C,A){c="PUSH";let M=vb(S.location,C,A);n&&n(M,C),h=p()+1;let j=hS(M,h),y=S.createHref(M);try{l.pushState(j,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(y)}a&&u&&u({action:c,location:S.location,delta:1})}function b(C,A){c="REPLACE";let M=vb(S.location,C,A);n&&n(M,C),h=p();let j=hS(M,h),y=S.createHref(M);l.replaceState(j,"",y),a&&u&&u({action:c,location:S.location,delta:0})}function _(C){return kL(C)}let S={get action(){return c},get location(){return s(i,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(uS,g),u=C,()=>{i.removeEventListener(uS,g),u=null}},createHref(C){return e(i,C)},createURL:_,encodeLocation(C){let A=_(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:b,go(C){return l.go(C)}};return S}function kL(s,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ys(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:pp(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PT(s,e,n="/"){return CL(s,e,n,!1)}function CL(s,e,n,r){let i=typeof e=="string"?qc(e):e,a=Io(i.pathname||"/",n);if(a==null)return null;let l=RT(s);IL(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=BL(a);c=FL(l[u],h,r)}return c}function RT(s,e=[],n=[],r="",i=!1){let a=(l,c,u=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Ys(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=No([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(Ys(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),RT(l.children,e,x,g,u)),!(l.path==null&&!l.index)&&e.push({path:g,score:DL(g,l.index),routesMeta:x})};return s.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,c);else for(let h of LT(l.path))a(l,c,!0,h)}),e}function LT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=LT(r.join("/")),c=[];return c.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...l),c.map(u=>s.startsWith("/")&&u===""?"/":u)}function IL(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:ML(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var TL=/^:[\w-]+$/,EL=3,AL=2,PL=1,RL=10,LL=-2,pS=s=>s==="*";function DL(s,e){let n=s.split("/"),r=n.length;return n.some(pS)&&(r+=LL),e&&(r+=AL),n.filter(i=>!pS(i)).reduce((i,a)=>i+(TL.test(a)?EL:a===""?PL:RL),r)}function ML(s,e){return s.length===e.length&&s.slice(0,-1).every((r,i)=>r===e[i])?s[s.length-1]-e[e.length-1]:0}function FL(s,e,n=!1){let{routesMeta:r}=s,i={},a="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Af({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),x=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Af({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:No([a,g.pathname]),pathnameBase:zL(No([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=No([a,g.pathnameBase]))}return l}function Af(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=$L(s.path,s.caseSensitive,s.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let _=c[x]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=c[x];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:s}}function $L(s,e=!1,n=!0){Ci(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BL(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ci(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Io(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function OL(s,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof s=="string"?qc(s):s;return{pathname:n?n.startsWith("/")?n:VL(n,e):e,search:HL(r),hash:GL(i)}}function VL(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dy(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UL(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k_(s){let e=UL(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function C_(s,e,n,r=!1){let i;typeof s=="string"?i=qc(s):(i={...s},Ys(!i.pathname||!i.pathname.includes("?"),Dy("?","pathname","search",i)),Ys(!i.pathname||!i.pathname.includes("#"),Dy("#","pathname","hash",i)),Ys(!i.search||!i.search.includes("#"),Dy("#","search","hash",i)));let a=s===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}c=g>=0?e[g]:"/"}let u=OL(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var No=s=>s.join("/").replace(/\/\/+/g,"/"),zL=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),HL=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,GL=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function WL(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var KL=["GET",...DT];new Set(KL);var ku=E.createContext(null);ku.displayName="DataRouter";var yv=E.createContext(null);yv.displayName="DataRouterState";E.createContext(!1);var MT=E.createContext({isTransitioning:!1});MT.displayName="ViewTransition";var qL=E.createContext(new Map);qL.displayName="Fetchers";var QL=E.createContext(null);QL.displayName="Await";var fa=E.createContext(null);fa.displayName="Navigation";var Lp=E.createContext(null);Lp.displayName="Location";var Hi=E.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var I_=E.createContext(null);I_.displayName="RouteError";function YL(s,{relative:e}={}){Ys(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(fa),{hash:i,pathname:a,search:l}=Dp(s,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:No([n,a])),r.createHref({pathname:c,search:l,hash:i})}function Cu(){return E.useContext(Lp)!=null}function Zn(){return Ys(Cu(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Lp).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(s){E.useContext(fa).static||E.useLayoutEffect(s)}function oi(){let{isDataRoute:s}=E.useContext(Hi);return s?u8():XL()}function XL(){Ys(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let s=E.useContext(ku),{basename:e,navigator:n}=E.useContext(fa),{matches:r}=E.useContext(Hi),{pathname:i}=Zn(),a=JSON.stringify(k_(r)),l=E.useRef(!1);return $T(()=>{l.current=!0}),E.useCallback((u,h={})=>{if(Ci(l.current,FT),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=C_(u,JSON.parse(a),i,h.relative==="path");s==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:No([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,i,s])}var JL=E.createContext(null);function ZL(s){let e=E.useContext(Hi).outlet;return e&&E.createElement(JL.Provider,{value:s},e)}function bv(){let{matches:s}=E.useContext(Hi),e=s[s.length-1];return e?e.params:{}}function Dp(s,{relative:e}={}){let{matches:n}=E.useContext(Hi),{pathname:r}=Zn(),i=JSON.stringify(k_(n));return E.useMemo(()=>C_(s,JSON.parse(i),r,e==="path"),[s,i,r,e])}function e8(s,e){return BT(s,e)}function BT(s,e,n,r,i){var M;Ys(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(fa),{matches:l}=E.useContext(Hi),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let j=g&&g.path||"";OT(h,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=Zn(),b;if(e){let j=typeof e=="string"?qc(e):e;Ys(p==="/"||((M=j.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=x;let _=b.pathname||"/",S=_;if(p!=="/"){let j=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=PT(s,{pathname:S});Ci(g||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ci(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=i8(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:No([p,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:No([p,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,r,i);return e&&A?E.createElement(Lp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function t8(){let s=d8(),e=WL(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,l)}var s8=E.createElement(t8,null),n8=class extends E.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?E.createElement(Hi.Provider,{value:this.props.routeContext},E.createElement(I_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r8({routeContext:s,match:e,children:n}){let r=E.useContext(ku);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Hi.Provider,{value:s},n)}function i8(s,e=[],n=null,r=null,i=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let a=s,l=n==null?void 0:n.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Ys(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:x}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let x,b=!1,_=null,S=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||s8,c&&(u<0&&g===0?(OT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===g&&(b=!0,S=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),A=()=>{let M;return x?M=_:b?M=S:p.route.Component?M=E.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=h,E.createElement(r8,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(n8,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):A()},null)}function T_(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a8(s){let e=E.useContext(ku);return Ys(e,T_(s)),e}function o8(s){let e=E.useContext(yv);return Ys(e,T_(s)),e}function l8(s){let e=E.useContext(Hi);return Ys(e,T_(s)),e}function E_(s){let e=l8(s),n=e.matches[e.matches.length-1];return Ys(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function c8(){return E_("useRouteId")}function d8(){var r;let s=E.useContext(I_),e=o8("useRouteError"),n=E_("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[n]}function u8(){let{router:s}=a8("useNavigate"),e=E_("useNavigate"),n=E.useRef(!1);return $T(()=>{n.current=!0}),E.useCallback(async(i,a={})=>{Ci(n.current,FT),n.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:e,...a}))},[s,e])}var mS={};function OT(s,e,n){!e&&!mS[s]&&(mS[s]=!0,Ci(!1,n))}E.memo(h8);function h8({routes:s,future:e,state:n,unstable_onError:r}){return BT(s,void 0,n,r,e)}function yl({to:s,replace:e,state:n,relative:r}){Ys(Cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(fa);Ci(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(Hi),{pathname:l}=Zn(),c=oi(),u=C_(s,k_(a),l,r==="path"),h=JSON.stringify(u);return E.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function VT(s){return ZL(s.context)}function fe(s){Ys(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p8({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Ys(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=qc(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,b=E.useMemo(()=>{let _=Io(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:x},navigationType:r}},[l,u,h,p,g,x,r]);return Ci(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(fa.Provider,{value:c},E.createElement(Lp.Provider,{children:e,value:b}))}function m8({children:s,location:e}){return e8(xb(s),e)}function xb(s,e=[]){let n=[];return E.Children.forEach(s,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){n.push.apply(n,xb(r.props.children,a));return}Ys(r.type===fe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ys(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xb(r.props.children,a)),n.push(l)}),n}var nf="get",rf="application/x-www-form-urlencoded";function _v(s){return s!=null&&typeof s.tagName=="string"}function g8(s){return _v(s)&&s.tagName.toLowerCase()==="button"}function f8(s){return _v(s)&&s.tagName.toLowerCase()==="form"}function v8(s){return _v(s)&&s.tagName.toLowerCase()==="input"}function x8(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function y8(s,e){return s.button===0&&(!e||e==="_self")&&!x8(s)}function yb(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let r=s[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function b8(s,e){let n=yb(s);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var wg=null;function _8(){if(wg===null)try{new FormData(document.createElement("form"),0),wg=!1}catch(s){wg=!0}return wg}var w8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(s){return s!=null&&!w8.has(s)?(Ci(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rf}"`),null):s}function j8(s,e){let n,r,i,a,l;if(f8(s)){let c=s.getAttribute("action");r=c?Io(c,e):null,n=s.getAttribute("method")||nf,i=My(s.getAttribute("enctype"))||rf,a=new FormData(s)}else if(g8(s)||v8(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=s.getAttribute("formaction")||c.getAttribute("action");if(r=u?Io(u,e):null,n=s.getAttribute("formmethod")||c.getAttribute("method")||nf,i=My(s.getAttribute("formenctype"))||My(c.getAttribute("enctype"))||rf,a=new FormData(c,s),!_8()){let{name:h,type:p,value:g}=s;if(p==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,g)}}else{if(_v(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nf,r=null,i=rf,l=s}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A_(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function S8(s,e,n){let r=typeof s=="string"?new URL(s,typeof window=="undefined"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Io(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function N8(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k8(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function C8(s,e,n){let r=await Promise.all(s.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await N8(a,n);return l.links?l.links():[]}return[]}));return A8(r.flat(1).filter(k8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gS(s,e,n,r,i,a){let l=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var p;return n[h].pathname!==u.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>l(u,h)||c(u,h)):a==="data"?e.filter((u,h)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(s,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function I8(s,e,{includeHydrateFallback:n}={}){return T8(s.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function T8(s){return[...new Set(s)]}function E8(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function A8(s,e){let n=new Set;return new Set(e),s.reduce((r,i)=>{let a=JSON.stringify(E8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function UT(){let s=E.useContext(ku);return A_(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function P8(){let s=E.useContext(yv);return A_(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var P_=E.createContext(void 0);P_.displayName="FrameworkContext";function zT(){let s=E.useContext(P_);return A_(s,"You must render this element inside a <HydratedRouter> element"),s}function R8(s,e){let n=E.useContext(P_),[r,i]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=E.useRef(null);E.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let S=A=>{A.forEach(M=>{l(M.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[s]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},_=()=>{i(!1),l(!1)};return n?s!=="intent"?[a,x,{}]:[a,x,{onFocus:_h(c,b),onBlur:_h(u,_),onMouseEnter:_h(h,b),onMouseLeave:_h(p,_),onTouchStart:_h(g,b)}]:[!1,x,{}]}function _h(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function L8({page:s,...e}){let{router:n}=UT(),r=E.useMemo(()=>PT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?E.createElement(M8,{page:s,matches:r,...e}):null}function D8(s){let{manifest:e,routeModules:n}=zT(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return C8(s,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[s,e,n]),r}function M8({page:s,matches:e,...n}){let r=Zn(),{manifest:i,routeModules:a}=zT(),{basename:l}=UT(),{loaderData:c,matches:u}=P8(),h=E.useMemo(()=>gS(s,e,u,i,r,"data"),[s,e,u,i,r]),p=E.useMemo(()=>gS(s,e,u,i,r,"assets"),[s,e,u,i,r]),g=E.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(A=>{var j;let M=i.routes[A.route.id];!M||!M.hasLoader||(!h.some(y=>y.route.id===A.route.id)&&A.route.id in c&&((j=a[A.route.id])!=null&&j.shouldRevalidate)||M.hasClientLoader?S=!0:_.add(A.route.id))}),_.size===0)return[];let C=S8(s,l,"data");return S&&_.size>0&&C.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[l,c,r,i,h,e,s,a]),x=E.useMemo(()=>I8(p,i),[p,i]),b=D8(p);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),x.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:S})=>E.createElement("link",{key:_,nonce:n.nonce,...S})))}function F8(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HT=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{HT&&(window.__reactRouterVersion="7.9.1")}catch(s){}function $8({basename:s,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=jL({window:n,v5Compat:!0}));let i=r.current,[a,l]=E.useState({action:i.action,location:i.location}),c=E.useCallback(u=>{E.startTransition(()=>l(u))},[l]);return E.useLayoutEffect(()=>i.listen(c),[i,c]),E.createElement(p8,{basename:s,children:e,location:a.location,navigationType:a.action,navigator:i})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ks=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:u,to:h,preventScrollReset:p,viewTransition:g,...x},b){let{basename:_}=E.useContext(fa),S=typeof h=="string"&&GT.test(h),C,A=!1;if(typeof h=="string"&&S&&(C=h,HT))try{let T=new URL(window.location.href),L=h.startsWith("//")?new URL(T.protocol+h):new URL(h),R=Io(L.pathname,_);L.origin===T.origin&&R!=null?h=R+L.search+L.hash:A=!0}catch(T){Ci(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=YL(h,{relative:i}),[j,y,w]=R8(r,x),P=V8(h,{replace:l,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:g});function N(T){e&&e(T),T.defaultPrevented||P(T)}let k=E.createElement("a",{...x,...w,href:C||M,onClick:A||a?e:N,ref:F8(b,y),target:u,"data-discover":!S&&n==="render"?"true":void 0});return j&&!S?E.createElement(E.Fragment,null,k,E.createElement(L8,{page:M})):k});ks.displayName="Link";var js=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:u,...h},p){let g=Dp(l,{relative:h.relative}),x=Zn(),b=E.useContext(yv),{navigator:_,basename:S}=E.useContext(fa),C=b!=null&&W8(g)&&c===!0,A=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,M=x.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(M=M.toLowerCase(),j=j?j.toLowerCase():null,A=A.toLowerCase()),j&&S&&(j=Io(j,S)||j);const y=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let w=M===A||!i&&M.startsWith(A)&&M.charAt(y)==="/",P=j!=null&&(j===A||!i&&j.startsWith(A)&&j.charAt(A.length)==="/"),N={isActive:w,isPending:P,isTransitioning:C},k=w?e:void 0,T;typeof r=="function"?T=r(N):T=[r,w?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(N):a;return E.createElement(ks,{...h,"aria-current":k,className:T,ref:p,style:L,to:l,viewTransition:c},typeof u=="function"?u(N):u)});js.displayName="NavLink";var B8=E.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=nf,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,...x},b)=>{let _=H8(),S=G8(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&GT.test(c),M=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let y=j.nativeEvent.submitter,w=(y==null?void 0:y.getAttribute("formmethod"))||l;_(y||j.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return E.createElement("form",{ref:b,method:C,action:S,onSubmit:r?u:M,...x,"data-discover":!A&&s==="render"?"true":void 0})});B8.displayName="Form";function O8(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(s){let e=E.useContext(ku);return Ys(e,O8(s)),e}function V8(s,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=oi(),u=Zn(),h=Dp(s,{relative:a});return E.useCallback(p=>{if(y8(p,e)){p.preventDefault();let g=n!==void 0?n:pp(u)===pp(h);c(s,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,n,r,e,s,i,a,l])}function Fo(s){Ci(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(yb(s)),n=E.useRef(!1),r=Zn(),i=E.useMemo(()=>b8(r.search,n.current?null:e.current),[r.search]),a=oi(),l=E.useCallback((c,u)=>{const h=yb(typeof c=="function"?c(new URLSearchParams(i)):c);n.current=!0,a("?"+h,u)},[a,i]);return[i,l]}var U8=0,z8=()=>`__${String(++U8)}__`;function H8(){let{router:s}=WT("useSubmit"),{basename:e}=E.useContext(fa),n=c8();return E.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:u,body:h}=j8(r,e);if(i.navigate===!1){let p=i.fetcherKey||z8();await s.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await s.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,e,n])}function G8(s,{relative:e}={}){let{basename:n}=E.useContext(fa),r=E.useContext(Hi);Ys(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Dp(s||".",{relative:e})},l=Zn();if(s==null){a.search=l.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!s||s===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:No([n,a.pathname])),pp(a)}function W8(s,{relative:e}={}){let n=E.useContext(MT);Ys(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WT("useViewTransitionState"),i=Dp(s,{relative:e});if(!n.isTransitioning)return!1;let a=Io(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Io(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Af(i.pathname,l)!=null||Af(i.pathname,a)!=null}var K8=NT();const q8=S_(K8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y8=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fS=s=>{const e=Y8(s);return e.charAt(0).toUpperCase()+e.slice(1)},KT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),X8=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=E.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},u)=>E.createElement("svg",{ref:u,...J8,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:KT("lucide",i),...!a&&!X8(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>E.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(s,e)=>{const n=E.forwardRef(({className:r,...i},a)=>E.createElement(Z8,{ref:a,iconNode:e,className:KT(`lucide-${Q8(fS(s))}`,`lucide-${s}`,r),...i}));return n.displayName=fS(s),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],wv=Tt("aperture",eD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],sD=Tt("arrow-up-right",tD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rD=Tt("ban",nD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],aD=Tt("bell",iD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lD=Tt("book-open",oD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dD=Tt("chart-column",cD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hD=Tt("chevron-right",uD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gh=Tt("circle-alert",pD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gD=Tt("circle-check",mD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],af=Tt("circle-dot",fD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xD=Tt("circle-user-round",vD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bD=Tt("clock-3",yD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],wD=Tt("cloud-upload",_D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SD=Tt("compass",jD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],kD=Tt("database",ND);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],qT=Tt("diamond",CD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],TD=Tt("file-text",ID);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],AD=Tt("folder-search",ED);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],RD=Tt("globe",PD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],QT=Tt("hexagon",LD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],MD=Tt("house",DD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$D=Tt("layers",FD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OD=Tt("layout-dashboard",BD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Al=Tt("loader-circle",VD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zD=Tt("menu",UD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],GD=Tt("messages-square",HD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],KD=Tt("pencil",WD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],QD=Tt("pin-off",qD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],XD=Tt("pin",YD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],jv=Tt("refresh-ccw",JD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],e7=Tt("scroll-text",ZD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pf=Tt("search",t7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],n7=Tt("server-cog",s7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i7=Tt("settings",r7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],YT=Tt("shapes",a7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],XT=Tt("shield-alert",o7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c7=Tt("shield-check",l7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],JT=Tt("shield-off",d7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qc=Tt("shield",u7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],p7=Tt("square-activity",h7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],g7=Tt("star",m7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],v7=Tt("sticky-note",f7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],y7=Tt("trash-2",x7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R_=Tt("triangle-alert",b7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],w7=Tt("trophy",_7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],S7=Tt("upload",j7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sv=Tt("users",N7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],C7=Tt("wrench",k7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZT=Tt("zap",I7),T7="_topbar_m8njg_3",E7="_topbarLeft_m8njg_39",A7="_searchWrap_m8njg_55",P7="_topbarRight_m8njg_109",R7="_mobileSearchBtn_m8njg_123",L7="_ico_m8njg_133",D7="_btnIco_m8njg_147",M7="_pill_m8njg_181",F7="_pillActive_m8njg_203",$7="_onlyExpanded_m8njg_211",B7="_topbarNav_m8njg_213",O7="_topbarLink_m8njg_223",V7="_upload_m8njg_233",U7="_label_m8njg_263",z7="_avatarBtn_m8njg_269",H7="_avatar_m8njg_269",G7="_avatarSpinnerShell_m8njg_297",W7="_avatarSpinner_m8njg_297",K7="_srOnly_m8njg_333",q7="_accountRoot_m8njg_359",Q7="_accountDropdown_m8njg_367",Y7="_accountHeader_m8njg_397",X7="_accountName_m8njg_409",J7="_accountSub_m8njg_421",Z7="_accountStatusText_m8njg_431",eM="_accountPrimary_m8njg_441",tM="_accountHint_m8njg_463",sM="_accountItem_m8njg_473",nM="_accountDivider_m8njg_503",rM="_accountMiniAvatar_m8njg_515",iM="_accountLogout_m8njg_527",aM="_mobileSearchPanel_m8njg_557",oM="_mobileSearchOverlay_m8njg_585",Mt={topbar:T7,topbarLeft:E7,searchWrap:A7,topbarRight:P7,mobileSearchBtn:R7,ico:L7,btnIco:D7,pill:M7,pillActive:F7,onlyExpanded:$7,topbarNav:B7,topbarLink:O7,upload:V7,label:U7,avatarBtn:z7,avatar:H7,avatarSpinnerShell:G7,avatarSpinner:W7,srOnly:K7,accountRoot:q7,accountDropdown:Q7,accountHeader:Y7,accountName:X7,accountSub:J7,accountStatusText:Z7,accountPrimary:eM,accountHint:tM,accountItem:sM,accountDivider:nM,accountMiniAvatar:rM,accountLogout:iM,mobileSearchPanel:aM,mobileSearchOverlay:oM},va="https://auth.sfdatahub.com",lM=`${va}/auth/firebase-token`;async function cM(){var r,i;const s=await fetch(lM,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!s.ok)throw new Error(`Failed to fetch firebase token: ${s.status}`);const e=await s.json(),n=(i=e==null?void 0:e.firebaseToken)!=null?i:(r=e==null?void 0:e.tokens)==null?void 0:r.firebase;if(!n)throw new Error("Firebase token missing in response");return n}var vS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let i=s.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dM=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const i=s[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=s[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=s[n++],l=s[n++],c=s[n++],u=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=s[n++],l=s[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},t3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<s.length;i+=3){const a=s[i],l=i+1<s.length,c=l?s[i+1]:0,u=i+2<s.length,h=u?s[i+2]:0,p=a>>2,g=(a&3)<<4|c>>4;let x=(c&15)<<2|h>>6,b=h&63;u||(b=64,l||(x=64)),r.push(n[p],n[g],n[x],n[b])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(e3(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):dM(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<s.length;){const a=n[s.charAt(i++)],c=i<s.length?n[s.charAt(i)]:0;++i;const h=i<s.length?n[s.charAt(i)]:64;++i;const g=i<s.length?n[s.charAt(i)]:64;if(++i,a==null||c==null||h==null||g==null)throw new uM;const x=a<<2|c>>4;if(r.push(x),h!==64){const b=c<<4&240|h>>2;if(r.push(b),g!==64){const _=h<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hM=function(s){const e=e3(s);return t3.encodeByteArray(e,!0)},Rf=function(s){return hM(s).replace(/\./g,"")},s3=function(s){try{return t3.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=()=>pM().__FIREBASE_DEFAULTS__,gM=()=>{if(typeof process=="undefined"||typeof vS=="undefined")return;const s=vS.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},fM=()=>{if(typeof document=="undefined")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=s&&s3(s[1]);return e&&JSON.parse(e)},Nv=()=>{try{return mM()||gM()||fM()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},n3=s=>{var e,n;return(n=(e=Nv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},vM=s=>{const e=n3(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r3=()=>{var s;return(s=Nv())===null||s===void 0?void 0:s.config},i3=s=>{var e;return(e=Nv())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=s.iat||0,a=s.sub||s.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bM(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function _M(){var s;const e=(s=Nv())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function wM(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function jM(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NM(){const s=kr();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function kM(){return!_M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CM(){try{return typeof indexedDB=="object"}catch(s){return!1}}function IM(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="FirebaseError";class $o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TM,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mp.prototype.create)}}class Mp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?EM(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new $o(i,c,r)}}function EM(s,e){return s.replace(AM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AM=/\{\$([^}]+)}/g;function PM(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Lf(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=s[i],l=e[i];if(xS(a)&&xS(l)){if(!Lf(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xS(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RM(s,e){const n=new LM(s,e);return n.subscribe.bind(n)}class LM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fy),i.error===void 0&&(i.error=Fy),i.complete===void 0&&(i.complete=Fy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(l){}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DM(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Fy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(s){return s&&s._delegate?s._delegate:s}class Bc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($M(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FM(s){return s===Sc?void 0:s}function $M(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ls||(ls={}));const OM={debug:ls.DEBUG,verbose:ls.VERBOSE,info:ls.INFO,warn:ls.WARN,error:ls.ERROR,silent:ls.SILENT},VM=ls.INFO,UM={[ls.DEBUG]:"log",[ls.VERBOSE]:"log",[ls.INFO]:"info",[ls.WARN]:"warn",[ls.ERROR]:"error"},zM=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),i=UM[e];if(i)console[i](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class L_{constructor(e){this.name=e,this._logLevel=VM,this._logHandler=zM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ls))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ls.DEBUG,...e),this._logHandler(this,ls.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ls.VERBOSE,...e),this._logHandler(this,ls.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ls.INFO,...e),this._logHandler(this,ls.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ls.WARN,...e),this._logHandler(this,ls.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ls.ERROR,...e),this._logHandler(this,ls.ERROR,...e)}}const HM=(s,e)=>e.some(n=>s instanceof n);let yS,bS;function GM(){return yS||(yS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WM(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a3=new WeakMap,bb=new WeakMap,o3=new WeakMap,$y=new WeakMap,D_=new WeakMap;function KM(s){const e=new Promise((n,r)=>{const i=()=>{s.removeEventListener("success",a),s.removeEventListener("error",l)},a=()=>{n(Pl(s.result)),i()},l=()=>{r(s.error),i()};s.addEventListener("success",a),s.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&a3.set(n,s)}).catch(()=>{}),D_.set(e,s),e}function qM(s){if(bb.has(s))return;const e=new Promise((n,r)=>{const i=()=>{s.removeEventListener("complete",a),s.removeEventListener("error",l),s.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(s.error||new DOMException("AbortError","AbortError")),i()};s.addEventListener("complete",a),s.addEventListener("error",l),s.addEventListener("abort",l)});bb.set(s,e)}let _b={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return bb.get(s);if(e==="objectStoreNames")return s.objectStoreNames||o3.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pl(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function QM(s){_b=s(_b)}function YM(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(By(this),e,...n);return o3.set(r,e.sort?e.sort():[e]),Pl(r)}:WM().includes(s)?function(...e){return s.apply(By(this),e),Pl(a3.get(this))}:function(...e){return Pl(s.apply(By(this),e))}}function XM(s){return typeof s=="function"?YM(s):(s instanceof IDBTransaction&&qM(s),HM(s,GM())?new Proxy(s,_b):s)}function Pl(s){if(s instanceof IDBRequest)return KM(s);if($y.has(s))return $y.get(s);const e=XM(s);return e!==s&&($y.set(s,e),D_.set(e,s)),e}const By=s=>D_.get(s);function JM(s,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(s,e),c=Pl(l);return r&&l.addEventListener("upgradeneeded",u=>{r(Pl(l.result),u.oldVersion,u.newVersion,Pl(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const ZM=["get","getKey","getAll","getAllKeys","count"],eF=["put","add","delete","clear"],Oy=new Map;function _S(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Oy.get(e))return Oy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZM.includes(n)))return;const a=async function(l,...c){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&u.done]))[0]};return Oy.set(e,a),a}QM(s=>({...s,get:(e,n,r)=>_S(e,n)||s.get(e,n,r),has:(e,n)=>!!_S(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sF(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wb="@firebase/app",wS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new L_("@firebase/app"),nF="@firebase/app-compat",rF="@firebase/analytics-compat",iF="@firebase/analytics",aF="@firebase/app-check-compat",oF="@firebase/app-check",lF="@firebase/auth",cF="@firebase/auth-compat",dF="@firebase/database",uF="@firebase/data-connect",hF="@firebase/database-compat",pF="@firebase/functions",mF="@firebase/functions-compat",gF="@firebase/installations",fF="@firebase/installations-compat",vF="@firebase/messaging",xF="@firebase/messaging-compat",yF="@firebase/performance",bF="@firebase/performance-compat",_F="@firebase/remote-config",wF="@firebase/remote-config-compat",jF="@firebase/storage",SF="@firebase/storage-compat",NF="@firebase/firestore",kF="@firebase/vertexai-preview",CF="@firebase/firestore-compat",IF="firebase",TF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="[DEFAULT]",EF={[wb]:"fire-core",[nF]:"fire-core-compat",[iF]:"fire-analytics",[rF]:"fire-analytics-compat",[oF]:"fire-app-check",[aF]:"fire-app-check-compat",[lF]:"fire-auth",[cF]:"fire-auth-compat",[dF]:"fire-rtdb",[uF]:"fire-data-connect",[hF]:"fire-rtdb-compat",[pF]:"fire-fn",[mF]:"fire-fn-compat",[gF]:"fire-iid",[fF]:"fire-iid-compat",[vF]:"fire-fcm",[xF]:"fire-fcm-compat",[yF]:"fire-perf",[bF]:"fire-perf-compat",[_F]:"fire-rc",[wF]:"fire-rc-compat",[jF]:"fire-gcs",[SF]:"fire-gcs-compat",[NF]:"fire-fst",[CF]:"fire-fst-compat",[kF]:"fire-vertex","fire-js":"fire-js",[IF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Map,AF=new Map,Sb=new Map;function jS(s,e){try{s.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function uu(s){const e=s.name;if(Sb.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;Sb.set(e,s);for(const n of mp.values())jS(n,s);for(const n of AF.values())jS(n,s);return!0}function M_(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Fa(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rl=new Mp("app","Firebase",PF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=TF;function l3(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Rl.create("bad-app-name",{appName:String(i)});if(n||(n=r3()),!n)throw Rl.create("no-options");const a=mp.get(i);if(a){if(Lf(n,a.options)&&Lf(r,a.config))return a;throw Rl.create("duplicate-app",{appName:i})}const l=new BM(i);for(const u of Sb.values())l.addComponent(u);const c=new RF(n,r,l);return mp.set(i,c),c}function F_(s=jb){const e=mp.get(s);if(!e&&s===jb&&r3())return l3();if(!e)throw Rl.create("no-app",{appName:s});return e}function LF(){return Array.from(mp.values())}function Ll(s,e,n){var r;let i=(r=EF[s])!==null&&r!==void 0?r:s;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(c.join(" "));return}uu(new Bc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="firebase-heartbeat-database",MF=1,gp="firebase-heartbeat-store";let Vy=null;function c3(){return Vy||(Vy=JM(DF,MF,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(gp)}catch(n){console.warn(n)}}}}).catch(s=>{throw Rl.create("idb-open",{originalErrorMessage:s.message})})),Vy}async function FF(s){try{const n=(await c3()).transaction(gp),r=await n.objectStore(gp).get(d3(s));return await n.done,r}catch(e){if(e instanceof $o)To.warn(e.message);else{const n=Rl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});To.warn(n.message)}}}async function SS(s,e){try{const r=(await c3()).transaction(gp,"readwrite");await r.objectStore(gp).put(e,d3(s)),await r.done}catch(n){if(n instanceof $o)To.warn(n.message);else{const r=Rl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});To.warn(r.message)}}}function d3(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=1024,BF=720*60*60*1e3;class OF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=NS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=BF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){To.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NS(),{heartbeatsToSend:r,unsentEntries:i}=VF(this._heartbeatsCache.heartbeats),a=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return To.warn(n),""}}}function NS(){return new Date().toISOString().substring(0,10)}function VF(s,e=$F){const n=[];let r=s.slice();for(const i of s){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),kS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CM()?IM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kS(s){return Rf(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(s){uu(new Bc("platform-logger",e=>new tF(e),"PRIVATE")),uu(new Bc("heartbeat",e=>new OF(e),"PRIVATE")),Ll(wb,wS,s),Ll(wb,wS,"esm2017"),Ll("fire-js","")}zF("");var HF="firebase",GF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ll(HF,GF,"app");function $_(s,e){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(n[r[i]]=s[r[i]]);return n}function u3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WF=u3,h3=new Mp("auth","Firebase",u3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new L_("@firebase/auth");function KF(s,...e){Df.logLevel<=ls.WARN&&Df.warn(`Auth (${Iu}): ${s}`,...e)}function of(s,...e){Df.logLevel<=ls.ERROR&&Df.error(`Auth (${Iu}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(s,...e){throw O_(s,...e)}function ma(s,...e){return O_(s,...e)}function B_(s,e,n){const r=Object.assign(Object.assign({},WF()),{[e]:n});return new Mp("auth","Firebase",r).create(e,{appName:s.name})}function Dl(s){return B_(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qF(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ga(s,"argument-error"),B_(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O_(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return h3.create(s,...e)}function $t(s,e,...n){if(!s)throw O_(e,...n)}function _o(s){const e="INTERNAL ASSERTION FAILED: "+s;throw of(e),new Error(e)}function Eo(s,e){s||_o(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function QF(){return CS()==="http:"||CS()==="https:"}function CS(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QF()||jM()||"connection"in navigator)?navigator.onLine:!0}function XF(){if(typeof navigator=="undefined")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.shortDelay=e,this.longDelay=n,Eo(n>e,"Short delay should be less than long delay!"),this.isMobile=bM()||SM()}get(){return YF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(s,e){Eo(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;_o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;_o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;_o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=new $p(3e4,6e4);function kv(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Tu(s,e,n,r,i={}){return m3(s,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Fp(Object.assign({key:s.config.apiKey},l)).slice(1),u=await s._getAdditionalHeaders();u["Content-Type"]="application/json",s.languageCode&&(u["X-Firebase-Locale"]=s.languageCode);const h=Object.assign({method:e,headers:u},a);return wM()||(h.referrerPolicy="no-referrer"),p3.fetch()(f3(s,s.config.apiHost,n,c),h)})}async function m3(s,e,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},JF),e);try{const i=new e9(s),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw jg(s,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jg(s,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw jg(s,"email-already-in-use",l);if(u==="USER_DISABLED")throw jg(s,"user-disabled",l);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw B_(s,p,h);Ga(s,p)}}catch(i){if(i instanceof $o)throw i;Ga(s,"network-request-failed",{message:String(i)})}}async function g3(s,e,n,r,i={}){const a=await Tu(s,e,n,r,i);return"mfaPendingCredential"in a&&Ga(s,"multi-factor-auth-required",{_serverResponse:a}),a}function f3(s,e,n,r){const i=`${e}${n}?${r}`;return s.config.emulator?V_(s.config,i):`${s.config.apiScheme}://${i}`}class e9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ma(this.auth,"network-request-failed")),ZF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jg(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ma(s,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(s,e){return Tu(s,"POST","/v1/accounts:delete",e)}async function v3(s,e){return Tu(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function s9(s,e=!1){const n=Rn(s),r=await n.getIdToken(e),i=U_(r);$t(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Wh(Uy(i.auth_time)),issuedAtTime:Wh(Uy(i.iat)),expirationTime:Wh(Uy(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Uy(s){return Number(s)*1e3}function U_(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const i=s3(n);return i?JSON.parse(i):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IS(s){const e=U_(s);return $t(e,"internal-error"),$t(typeof e.exp!="undefined","internal-error"),$t(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $o&&n9(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function n9({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wh(this.lastLoginAt),this.creationTime=Wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(s){var e;const n=s.auth,r=await s.getIdToken(),i=await fp(s,v3(n,{idToken:r}));$t(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];s._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?x3(a.providerUserInfo):[],c=a9(s.providerData,l),u=s.isAnonymous,h=!(s.email&&a.passwordHash)&&!(c!=null&&c.length),p=u?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new kb(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(s,g)}async function i9(s){const e=Rn(s);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a9(s,e){return[...s.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x3(s){return s.map(e=>{var{providerId:n}=e,r=$_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(s,e){const n=await m3(s,{},async()=>{const r=Fp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=s.config,l=f3(s,i,"/v1/token",`key=${a}`),c=await s._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",p3.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l9(s,e){return Tu(s,"POST","/v2/accounts:revokeToken",kv(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken!="undefined","internal-error"),$t(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):IS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const n=IS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await o9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new ru;return r&&($t(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&($t(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&($t(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ru,this.toJSON())}_performRefresh(){return _o("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(s,e){$t(typeof s=="string"||typeof s=="undefined","internal-error",{appName:e})}class wo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=$_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new kb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await fp(this,this.stsTokenManager.getToken(this.auth,e));return $t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s9(this,e)}reload(){return i9(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fa(this.auth.app))return Promise.reject(Dl(this.auth));const e=await this.getIdToken();return await fp(this,t9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,u,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,_=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,M=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:y,isAnonymous:w,providerData:P,stsTokenManager:N}=n;$t(j&&N,e,"internal-error");const k=ru.fromJSON(this.name,N);$t(typeof j=="string",e,"internal-error"),dl(g,e.name),dl(x,e.name),$t(typeof y=="boolean",e,"internal-error"),$t(typeof w=="boolean",e,"internal-error"),dl(b,e.name),dl(_,e.name),dl(S,e.name),dl(C,e.name),dl(A,e.name),dl(M,e.name);const T=new wo({uid:j,auth:e,email:x,emailVerified:y,displayName:g,isAnonymous:w,photoURL:_,phoneNumber:b,tenantId:S,stsTokenManager:k,createdAt:A,lastLoginAt:M});return P&&Array.isArray(P)&&(T.providerData=P.map(L=>Object.assign({},L))),C&&(T._redirectEventId=C),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new ru;i.updateFromServerResponse(n);const a=new wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];$t(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?x3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new ru;c.updateFromIdToken(r);const u=new wo({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Map;function jo(s){Eo(s instanceof Function,"Expected a class definition");let e=TS.get(s);return e?(Eo(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,TS.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y3.type="NONE";const ES=y3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(s,e,n){return`firebase:${s}:${e}:${n}`}class iu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=lf(this.userKey,i.apiKey,a),this.fullPersistenceKey=lf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new iu(jo(ES),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||jo(ES);const l=lf(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){const g=wo._fromJSON(e,p);h!==a&&(c=g),a=h;break}}catch(p){}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new iu(a,e,r):(a=u[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch(p){}})),new iu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N3(e))return"Blackberry";if(k3(e))return"Webos";if(_3(e))return"Safari";if((e.includes("chrome/")||w3(e))&&!e.includes("edge/"))return"Chrome";if(S3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b3(s=kr()){return/firefox\//i.test(s)}function _3(s=kr()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w3(s=kr()){return/crios\//i.test(s)}function j3(s=kr()){return/iemobile/i.test(s)}function S3(s=kr()){return/android/i.test(s)}function N3(s=kr()){return/blackberry/i.test(s)}function k3(s=kr()){return/webos/i.test(s)}function z_(s=kr()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function c9(s=kr()){var e;return z_(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d9(){return NM()&&document.documentMode===10}function C3(s=kr()){return z_(s)||S3(s)||k3(s)||N3(s)||/windows phone/i.test(s)||j3(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(s,e=[]){let n;switch(s){case"Browser":n=AS(kr());break;case"Worker":n=`${AS(kr())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const u=e(a);l(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(s,e={}){return Tu(s,"GET","/v2/passwordPolicy",kv(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=6;class m9{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:p9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PS(this),this.idTokenSubscription=new PS(this),this.beforeStateQueue=new u9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await iu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await v3(this,{idToken:e}),r=await wo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fa(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===c)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fa(this.app))return Promise.reject(Dl(this));const n=e?Rn(e):null;return n&&$t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fa(this.app)?Promise.reject(Dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fa(this.app)?Promise.reject(Dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h9(this),n=new m9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jo(e)||this._popupRedirectResolver;$t(n,this,"argument-error"),this.redirectPersistenceManager=await iu.create(this,[jo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{l=!0,u()}}else{const u=e.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bp(s){return Rn(s)}class PS{constructor(e){this.auth=e,this.observer=null,this.addObserver=RM(n=>this.observer=n)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f9(s){H_=s}function v9(s){return H_.loadJS(s)}function x9(){return H_.gapiScript}function y9(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(s,e){const n=M_(s,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Lf(a,e!=null?e:{}))return i;Ga(i,"already-initialized")}return n.initialize({options:e})}function _9(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jo);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w9(s,e,n){const r=Bp(s);$t(r._canInitEmulator,r,"emulator-config-failed"),$t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=T3(e),{host:l,port:c}=j9(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),S9()}function T3(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function j9(s){const e=T3(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:RS(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:RS(l)}}}function RS(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function S9(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _o("not implemented")}_getIdTokenResponse(e){return _o("not implemented")}_linkToIdToken(e,n){return _o("not implemented")}_getReauthenticationResolver(e){return _o("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(s,e){return g3(s,"POST","/v1/accounts:signInWithIdp",kv(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="http://localhost";class Oc extends E3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ga("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=$_(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Oc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return au(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,au(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,au(e,n)}buildRequest(){const e={requestUri:N9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends G_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Op{constructor(){super("facebook.com")}static credential(e){return Oc._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _l.credential(e.oauthAccessToken)}catch(n){return null}}}_l.FACEBOOK_SIGN_IN_METHOD="facebook.com";_l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Op{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oc._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bo.credential(n,r)}catch(i){return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Op{constructor(){super("github.com")}static credential(e){return Oc._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wl.credential(e.oauthAccessToken)}catch(n){return null}}}wl.GITHUB_SIGN_IN_METHOD="github.com";wl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Op{constructor(){super("twitter.com")}static credential(e,n){return Oc._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jl.credentialFromTaggedObject(e)}static credentialFromError(e){return jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jl.credential(n,r)}catch(i){return null}}}jl.TWITTER_SIGN_IN_METHOD="twitter.com";jl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await wo._fromIdTokenResponse(e,r,i),l=LS(r);return new Vc({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LS(r);return new Vc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LS(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends $o{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ff(e,n,r,i)}}function A3(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(s,a,e,r):a})}async function k9(s,e,n=!1){const r=await fp(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Vc._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(s,e,n=!1){const{auth:r}=s;if(Fa(r.app))return Promise.reject(Dl(r));const i="reauthenticate";try{const a=await fp(s,A3(r,i,e,s),n);$t(a.idToken,r,"internal-error");const l=U_(a.idToken);$t(l,r,"internal-error");const{sub:c}=l;return $t(s.uid===c,r,"user-mismatch"),Vc._forOperation(s,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ga(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(s,e,n=!1){if(Fa(s.app))return Promise.reject(Dl(s));const r="signIn",i=await A3(s,r,e),a=await Vc._fromIdTokenResponse(s,r,i);return n||await s._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(s,e){return g3(s,"POST","/v1/accounts:signInWithCustomToken",kv(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(s,e){if(Fa(s.app))return Promise.reject(Dl(s));const n=Bp(s),r=await T9(n,{token:e,returnSecureToken:!0}),i=await Vc._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function E9(s,e,n,r){return Rn(s).onIdTokenChanged(e,n,r)}function A9(s,e,n){return Rn(s).beforeAuthStateChanged(e,n)}function P9(s,e,n,r){return Rn(s).onAuthStateChanged(e,n,r)}function R9(s){return Rn(s).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=1e3,D9=10;class R3 extends P3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);d9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R3.type="LOCAL";const M9=R3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3 extends P3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L3.type="SESSION";const D3=L3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,a)),u=await F9(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,u)=>{const h=W_("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(p),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(){return window}function B9(s){$a().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return typeof $a().WorkerGlobalScope!="undefined"&&typeof $a().importScripts=="function"}async function O9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(s){return null}}function V9(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function U9(){return M3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="firebaseLocalStorageDb",z9=1,Bf="firebaseLocalStorage",$3="fbase_key";class Vp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iv(s,e){return s.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function H9(){const s=indexedDB.deleteDatabase(F3);return new Vp(s).toPromise()}function Cb(){const s=indexedDB.open(F3,z9);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Bf,{keyPath:$3})}catch(i){n(i)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await H9(),e(await Cb()))})})}async function MS(s,e,n){const r=Iv(s,!0).put({[$3]:e,value:n});return new Vp(r).toPromise()}async function G9(s,e){const n=Iv(s,!1).get(e),r=await new Vp(n).toPromise();return r===void 0?null:r.value}function FS(s,e){const n=Iv(s,!0).delete(e);return new Vp(n).toPromise()}const W9=800,K9=3;class B3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>K9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cv._getInstance(U9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await O9(),!this.activeServiceWorker)return;this.sender=new $9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cb();return await MS(e,$f,"1"),await FS(e,$f),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Iv(i,!1).getAll();return new Vp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B3.type="LOCAL";const q9=B3;new $p(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(s,e){return e?jo(e):($t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends E3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return au(e,this._buildIdpRequest())}_linkToIdToken(e,n){return au(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return au(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q9(s){return I9(s.auth,new K_(s),s.bypassAuthState)}function Y9(s){const{auth:e,user:n}=s;return $t(n,e,"internal-error"),C9(n,new K_(s),s.bypassAuthState)}async function X9(s){const{auth:e,user:n}=s;return $t(n,e,"internal-error"),k9(n,new K_(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q9;case"linkViaPopup":case"linkViaRedirect":return X9;case"reauthViaPopup":case"reauthViaRedirect":return Y9;default:Ga(this.auth,"internal-error")}}resolve(e){Eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new $p(2e3,1e4);async function Z9(s,e,n){if(Fa(s.app))return Promise.reject(ma(s,"operation-not-supported-in-this-environment"));const r=Bp(s);qF(s,e,G_);const i=O3(r,n);return new Tc(r,"signInViaPopup",e,i).executeNotNull()}class Tc extends V3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Tc.currentPopupAction&&Tc.currentPopupAction.cancel(),Tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){Eo(this.filter.length===1,"Popup operations only handle one event");const e=W_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J9.get())};e()}}Tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="pendingRedirect",cf=new Map;class t$ extends V3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const r=await s$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s$(s,e){const n=i$(e),r=r$(s);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function n$(s,e){cf.set(s._key(),e)}function r$(s){return jo(s._redirectPersistence)}function i$(s){return lf(e$,s.config.apiKey,s.name)}async function a$(s,e,n=!1){if(Fa(s.app))return Promise.reject(Dl(s));const r=Bp(s),i=O3(r,e),l=await new t$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=600*1e3;class l${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!U3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ma(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o$&&this.cachedEventUids.clear(),this.cachedEventUids.has($S(e))}saveEventToCache(e){this.cachedEventUids.add($S(e)),this.lastProcessedEventTime=Date.now()}}function $S(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function U3({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c$(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U3(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(s,e={}){return Tu(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h$=/^https?/;async function p$(s){if(s.config.emulator)return;const{authorizedDomains:e}=await d$(s);for(const n of e)try{if(m$(n))return}catch(r){}Ga(s,"unauthorized-domain")}function m$(s){const e=Nb(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const l=new URL(s);return l.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!h$.test(n))return!1;if(u$.test(s))return r===s;const i=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=new $p(3e4,6e4);function BS(){const s=$a().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function f$(s){return new Promise((e,n)=>{var r,i,a;function l(){BS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BS(),n(ma(s,"network-request-failed"))},timeout:g$.get()})}if(!((i=(r=$a().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=$a().gapi)===null||a===void 0)&&a.load)l();else{const c=y9("iframefcb");return $a()[c]=()=>{gapi.load?l():n(ma(s,"network-request-failed"))},v9(`${x9()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw df=null,e})}let df=null;function v$(s){return df=df||f$(s),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=new $p(5e3,15e3),y$="__/auth/iframe",b$="emulator/auth/iframe",_$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j$(s){const e=s.config;$t(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?V_(e,b$):`https://${s.config.authDomain}/${y$}`,r={apiKey:e.apiKey,appName:s.name,v:Iu},i=w$.get(s.config.apiHost);i&&(r.eid=i);const a=s._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Fp(r).slice(1)}`}async function S$(s){const e=await v$(s),n=$a().gapi;return $t(n,s,"internal-error"),e.open({where:document.body,url:j$(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_$,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ma(s,"network-request-failed"),c=$a().setTimeout(()=>{a(l)},x$.get());function u(){$a().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k$=500,C$=600,I$="_blank",T$="http://localhost";class OS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function E$(s,e,n,r=k$,i=C$){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},N$),{width:r.toString(),height:i.toString(),top:a,left:l}),h=kr().toLowerCase();n&&(c=w3(h)?I$:n),b3(h)&&(e=e||T$,u.scrollbars="yes");const p=Object.entries(u).reduce((x,[b,_])=>`${x}${b}=${_},`,"");if(c9(h)&&c!=="_self")return A$(e||"",c),new OS(null);const g=window.open(e||"",c,p);$t(g,s,"popup-blocked");try{g.focus()}catch(x){}return new OS(g)}function A$(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="__/auth/handler",R$="emulator/auth/handler",L$=encodeURIComponent("fac");async function VS(s,e,n,r,i,a){$t(s.config.authDomain,s,"auth-domain-config-required"),$t(s.config.apiKey,s,"invalid-api-key");const l={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Iu,eventId:i};if(e instanceof G_){e.setDefaultLanguage(s.languageCode),l.providerId=e.providerId||"",PM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Op){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}s.tenantId&&(l.tid=s.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await s._getAppCheckToken(),h=u?`#${L$}=${encodeURIComponent(u)}`:"";return`${D$(s)}?${Fp(c).slice(1)}${h}`}function D$({config:s}){return s.emulator?V_(s,R$):`https://${s.authDomain}/${P$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="webStorageSupport";class M${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D3,this._completeRedirectFn=a$,this._overrideRedirectResult=n$}async _openPopup(e,n,r,i){var a;Eo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await VS(e,n,r,Nb(),i);return E$(e,l,W_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await VS(e,n,r,Nb(),i);return B9(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Eo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S$(e),r=new l$(e);return n.register("authEvent",i=>($t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zy,{type:zy},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[zy];l!==void 0&&n(!!l),Ga(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C3()||_3()||z_()}}const F$=M$;var US="@firebase/auth",zS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O$(s){uu(new Bc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;$t(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:l,authDomain:c,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I3(s)},h=new g9(r,i,a,u);return _9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uu(new Bc("auth-internal",e=>{const n=Bp(e.getProvider("auth").getImmediate());return(r=>new $$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ll(US,zS,B$(s)),Ll(US,zS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=300,U$=i3("authIdTokenMaxAge")||V$;let HS=null;const z$=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U$)return;const i=n==null?void 0:n.token;HS!==i&&(HS=i,await fetch(s,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H$(s=F_()){const e=M_(s,"auth");if(e.isInitialized())return e.getImmediate();const n=b9(s,{popupRedirectResolver:F$,persistence:[q9,M9,D3]}),r=i3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=z$(a.toString());A9(n,l,()=>l(n.currentUser)),E9(n,c=>l(c))}}const i=n3("auth");return i&&w9(n,`http://${i}`),n}function G$(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}f9({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=i=>{const a=ma("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",G$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O$("Browser");var GS=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lc,z3;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function T(){}T.prototype=k.prototype,N.D=k.prototype,N.prototype=new T,N.prototype.constructor=N,N.C=function(L,R,$){for(var B=Array(arguments.length-2),H=2;H<arguments.length;H++)B[H-2]=arguments[H];return k.prototype[R].apply(L,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,T){T||(T=0);var L=Array(16);if(typeof k=="string")for(var R=0;16>R;++R)L[R]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(R=0;16>R;++R)L[R]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=N.g[0],T=N.g[1],R=N.g[2];var $=N.g[3],B=k+($^T&(R^$))+L[0]+3614090360&4294967295;k=T+(B<<7&4294967295|B>>>25),B=$+(R^k&(T^R))+L[1]+3905402710&4294967295,$=k+(B<<12&4294967295|B>>>20),B=R+(T^$&(k^T))+L[2]+606105819&4294967295,R=$+(B<<17&4294967295|B>>>15),B=T+(k^R&($^k))+L[3]+3250441966&4294967295,T=R+(B<<22&4294967295|B>>>10),B=k+($^T&(R^$))+L[4]+4118548399&4294967295,k=T+(B<<7&4294967295|B>>>25),B=$+(R^k&(T^R))+L[5]+1200080426&4294967295,$=k+(B<<12&4294967295|B>>>20),B=R+(T^$&(k^T))+L[6]+2821735955&4294967295,R=$+(B<<17&4294967295|B>>>15),B=T+(k^R&($^k))+L[7]+4249261313&4294967295,T=R+(B<<22&4294967295|B>>>10),B=k+($^T&(R^$))+L[8]+1770035416&4294967295,k=T+(B<<7&4294967295|B>>>25),B=$+(R^k&(T^R))+L[9]+2336552879&4294967295,$=k+(B<<12&4294967295|B>>>20),B=R+(T^$&(k^T))+L[10]+4294925233&4294967295,R=$+(B<<17&4294967295|B>>>15),B=T+(k^R&($^k))+L[11]+2304563134&4294967295,T=R+(B<<22&4294967295|B>>>10),B=k+($^T&(R^$))+L[12]+1804603682&4294967295,k=T+(B<<7&4294967295|B>>>25),B=$+(R^k&(T^R))+L[13]+4254626195&4294967295,$=k+(B<<12&4294967295|B>>>20),B=R+(T^$&(k^T))+L[14]+2792965006&4294967295,R=$+(B<<17&4294967295|B>>>15),B=T+(k^R&($^k))+L[15]+1236535329&4294967295,T=R+(B<<22&4294967295|B>>>10),B=k+(R^$&(T^R))+L[1]+4129170786&4294967295,k=T+(B<<5&4294967295|B>>>27),B=$+(T^R&(k^T))+L[6]+3225465664&4294967295,$=k+(B<<9&4294967295|B>>>23),B=R+(k^T&($^k))+L[11]+643717713&4294967295,R=$+(B<<14&4294967295|B>>>18),B=T+($^k&(R^$))+L[0]+3921069994&4294967295,T=R+(B<<20&4294967295|B>>>12),B=k+(R^$&(T^R))+L[5]+3593408605&4294967295,k=T+(B<<5&4294967295|B>>>27),B=$+(T^R&(k^T))+L[10]+38016083&4294967295,$=k+(B<<9&4294967295|B>>>23),B=R+(k^T&($^k))+L[15]+3634488961&4294967295,R=$+(B<<14&4294967295|B>>>18),B=T+($^k&(R^$))+L[4]+3889429448&4294967295,T=R+(B<<20&4294967295|B>>>12),B=k+(R^$&(T^R))+L[9]+568446438&4294967295,k=T+(B<<5&4294967295|B>>>27),B=$+(T^R&(k^T))+L[14]+3275163606&4294967295,$=k+(B<<9&4294967295|B>>>23),B=R+(k^T&($^k))+L[3]+4107603335&4294967295,R=$+(B<<14&4294967295|B>>>18),B=T+($^k&(R^$))+L[8]+1163531501&4294967295,T=R+(B<<20&4294967295|B>>>12),B=k+(R^$&(T^R))+L[13]+2850285829&4294967295,k=T+(B<<5&4294967295|B>>>27),B=$+(T^R&(k^T))+L[2]+4243563512&4294967295,$=k+(B<<9&4294967295|B>>>23),B=R+(k^T&($^k))+L[7]+1735328473&4294967295,R=$+(B<<14&4294967295|B>>>18),B=T+($^k&(R^$))+L[12]+2368359562&4294967295,T=R+(B<<20&4294967295|B>>>12),B=k+(T^R^$)+L[5]+4294588738&4294967295,k=T+(B<<4&4294967295|B>>>28),B=$+(k^T^R)+L[8]+2272392833&4294967295,$=k+(B<<11&4294967295|B>>>21),B=R+($^k^T)+L[11]+1839030562&4294967295,R=$+(B<<16&4294967295|B>>>16),B=T+(R^$^k)+L[14]+4259657740&4294967295,T=R+(B<<23&4294967295|B>>>9),B=k+(T^R^$)+L[1]+2763975236&4294967295,k=T+(B<<4&4294967295|B>>>28),B=$+(k^T^R)+L[4]+1272893353&4294967295,$=k+(B<<11&4294967295|B>>>21),B=R+($^k^T)+L[7]+4139469664&4294967295,R=$+(B<<16&4294967295|B>>>16),B=T+(R^$^k)+L[10]+3200236656&4294967295,T=R+(B<<23&4294967295|B>>>9),B=k+(T^R^$)+L[13]+681279174&4294967295,k=T+(B<<4&4294967295|B>>>28),B=$+(k^T^R)+L[0]+3936430074&4294967295,$=k+(B<<11&4294967295|B>>>21),B=R+($^k^T)+L[3]+3572445317&4294967295,R=$+(B<<16&4294967295|B>>>16),B=T+(R^$^k)+L[6]+76029189&4294967295,T=R+(B<<23&4294967295|B>>>9),B=k+(T^R^$)+L[9]+3654602809&4294967295,k=T+(B<<4&4294967295|B>>>28),B=$+(k^T^R)+L[12]+3873151461&4294967295,$=k+(B<<11&4294967295|B>>>21),B=R+($^k^T)+L[15]+530742520&4294967295,R=$+(B<<16&4294967295|B>>>16),B=T+(R^$^k)+L[2]+3299628645&4294967295,T=R+(B<<23&4294967295|B>>>9),B=k+(R^(T|~$))+L[0]+4096336452&4294967295,k=T+(B<<6&4294967295|B>>>26),B=$+(T^(k|~R))+L[7]+1126891415&4294967295,$=k+(B<<10&4294967295|B>>>22),B=R+(k^($|~T))+L[14]+2878612391&4294967295,R=$+(B<<15&4294967295|B>>>17),B=T+($^(R|~k))+L[5]+4237533241&4294967295,T=R+(B<<21&4294967295|B>>>11),B=k+(R^(T|~$))+L[12]+1700485571&4294967295,k=T+(B<<6&4294967295|B>>>26),B=$+(T^(k|~R))+L[3]+2399980690&4294967295,$=k+(B<<10&4294967295|B>>>22),B=R+(k^($|~T))+L[10]+4293915773&4294967295,R=$+(B<<15&4294967295|B>>>17),B=T+($^(R|~k))+L[1]+2240044497&4294967295,T=R+(B<<21&4294967295|B>>>11),B=k+(R^(T|~$))+L[8]+1873313359&4294967295,k=T+(B<<6&4294967295|B>>>26),B=$+(T^(k|~R))+L[15]+4264355552&4294967295,$=k+(B<<10&4294967295|B>>>22),B=R+(k^($|~T))+L[6]+2734768916&4294967295,R=$+(B<<15&4294967295|B>>>17),B=T+($^(R|~k))+L[13]+1309151649&4294967295,T=R+(B<<21&4294967295|B>>>11),B=k+(R^(T|~$))+L[4]+4149444226&4294967295,k=T+(B<<6&4294967295|B>>>26),B=$+(T^(k|~R))+L[11]+3174756917&4294967295,$=k+(B<<10&4294967295|B>>>22),B=R+(k^($|~T))+L[2]+718787259&4294967295,R=$+(B<<15&4294967295|B>>>17),B=T+($^(R|~k))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(R+(B<<21&4294967295|B>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.u=function(N,k){k===void 0&&(k=N.length);for(var T=k-this.blockSize,L=this.B,R=this.h,$=0;$<k;){if(R==0)for(;$<=T;)i(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<k;)if(L[R++]=N.charCodeAt($++),R==this.blockSize){i(this,L),R=0;break}}else for(;$<k;)if(L[R++]=N[$++],R==this.blockSize){i(this,L),R=0;break}}this.h=R,this.o+=k},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;var T=8*this.o;for(k=N.length-8;k<N.length;++k)N[k]=T&255,T/=256;for(this.u(N),N=Array(16),k=T=0;4>k;++k)for(var L=0;32>L;L+=8)N[T++]=this.g[k]>>>L&255;return N};function a(N,k){var T=c;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=k(N)}function l(N,k){this.h=k;for(var T=[],L=!0,R=N.length-1;0<=R;R--){var $=N[R]|0;L&&$==k||(T[R]=$,L=!1)}this.g=T}var c={};function u(N){return-128<=N&&128>N?a(N,function(k){return new l([k|0],0>k?-1:0)}):new l([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return C(h(-N));for(var k=[],T=1,L=0;N>=T;L++)k[L]=N/T|0,T*=4294967296;return new l(k,0)}function p(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return C(p(N.substring(1),k));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(k,8)),L=g,R=0;R<N.length;R+=8){var $=Math.min(8,N.length-R),B=parseInt(N.substring(R,R+$),k);8>$?($=h(Math.pow(k,$)),L=L.j($).add(h(B))):(L=L.j(T),L=L.add(h(B)))}return L}var g=u(0),x=u(1),b=u(16777216);s=l.prototype,s.m=function(){if(S(this))return-C(this).m();for(var N=0,k=1,T=0;T<this.g.length;T++){var L=this.i(T);N+=(0<=L?L:4294967296+L)*k,k*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(S(this))return"-"+C(this).toString(N);for(var k=h(Math.pow(N,6)),T=this,L="";;){var R=y(T,k).g;T=A(T,R.j(k));var $=((0<T.g.length?T.g[0]:T.h)>>>0).toString(N);if(T=R,_(T))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function _(N){if(N.h!=0)return!1;for(var k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function S(N){return N.h==-1}s.l=function(N){return N=A(this,N),S(N)?-1:_(N)?0:1};function C(N){for(var k=N.g.length,T=[],L=0;L<k;L++)T[L]=~N.g[L];return new l(T,~N.h).add(x)}s.abs=function(){return S(this)?C(this):this},s.add=function(N){for(var k=Math.max(this.g.length,N.g.length),T=[],L=0,R=0;R<=k;R++){var $=L+(this.i(R)&65535)+(N.i(R)&65535),B=($>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);L=B>>>16,$&=65535,B&=65535,T[R]=B<<16|$}return new l(T,T[T.length-1]&-2147483648?-1:0)};function A(N,k){return N.add(C(k))}s.j=function(N){if(_(this)||_(N))return g;if(S(this))return S(N)?C(this).j(C(N)):C(C(this).j(N));if(S(N))return C(this.j(C(N)));if(0>this.l(b)&&0>N.l(b))return h(this.m()*N.m());for(var k=this.g.length+N.g.length,T=[],L=0;L<2*k;L++)T[L]=0;for(L=0;L<this.g.length;L++)for(var R=0;R<N.g.length;R++){var $=this.i(L)>>>16,B=this.i(L)&65535,H=N.i(R)>>>16,z=N.i(R)&65535;T[2*L+2*R]+=B*z,M(T,2*L+2*R),T[2*L+2*R+1]+=$*z,M(T,2*L+2*R+1),T[2*L+2*R+1]+=B*H,M(T,2*L+2*R+1),T[2*L+2*R+2]+=$*H,M(T,2*L+2*R+2)}for(L=0;L<k;L++)T[L]=T[2*L+1]<<16|T[2*L];for(L=k;L<2*k;L++)T[L]=0;return new l(T,0)};function M(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function j(N,k){this.g=N,this.h=k}function y(N,k){if(_(k))throw Error("division by zero");if(_(N))return new j(g,g);if(S(N))return k=y(C(N),k),new j(C(k.g),C(k.h));if(S(k))return k=y(N,C(k)),new j(C(k.g),k.h);if(30<N.g.length){if(S(N)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var T=x,L=k;0>=L.l(N);)T=w(T),L=w(L);var R=P(T,1),$=P(L,1);for(L=P(L,2),T=P(T,2);!_(L);){var B=$.add(L);0>=B.l(N)&&(R=R.add(T),$=B),L=P(L,1),T=P(T,1)}return k=A(N,R.j(k)),new j(R,k)}for(R=g;0<=N.l(k);){for(T=Math.max(1,Math.floor(N.m()/k.m())),L=Math.ceil(Math.log(T)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=h(T),B=$.j(k);S(B)||0<B.l(N);)T-=L,$=h(T),B=$.j(k);_($)&&($=x),R=R.add($),N=A(N,B)}return new j(R,N)}s.A=function(N){return y(this,N).h},s.and=function(N){for(var k=Math.max(this.g.length,N.g.length),T=[],L=0;L<k;L++)T[L]=this.i(L)&N.i(L);return new l(T,this.h&N.h)},s.or=function(N){for(var k=Math.max(this.g.length,N.g.length),T=[],L=0;L<k;L++)T[L]=this.i(L)|N.i(L);return new l(T,this.h|N.h)},s.xor=function(N){for(var k=Math.max(this.g.length,N.g.length),T=[],L=0;L<k;L++)T[L]=this.i(L)^N.i(L);return new l(T,this.h^N.h)};function w(N){for(var k=N.g.length+1,T=[],L=0;L<k;L++)T[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(T,N.h)}function P(N,k){var T=k>>5;k%=32;for(var L=N.g.length-T,R=[],$=0;$<L;$++)R[$]=0<k?N.i($+T)>>>k|N.i($+T+1)<<32-k:N.i($+T);return new l(R,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,z3=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Lc=l}).apply(typeof GS!="undefined"?GS:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Sg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H3,Dh,G3,uf,Ib,W3,K3,q3;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,D,O){return f==Array.prototype||f==Object.prototype||(f[D]=O.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sg=="object"&&Sg];for(var D=0;D<f.length;++D){var O=f[D];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(f,D){if(D)e:{var O=r;f=f.split(".");for(var q=0;q<f.length-1;q++){var de=f[q];if(!(de in O))break e;O=O[de]}f=f[f.length-1],q=O[f],D=D(q),D!=q&&D!=null&&e(O,f,{configurable:!0,writable:!0,value:D})}}function a(f,D){f instanceof String&&(f+="");var O=0,q=!1,de={next:function(){if(!q&&O<f.length){var xe=O++;return{value:D(xe,f[xe]),done:!1}}return q=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(f){return f||function(){return a(this,function(D,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function u(f){var D=typeof f;return D=D!="object"?D:f?Array.isArray(f)?"array":D:"null",D=="array"||D=="object"&&typeof f.length=="number"}function h(f){var D=typeof f;return D=="object"&&f!=null||D=="function"}function p(f,D,O){return f.call.apply(f.bind,arguments)}function g(f,D,O){if(!f)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,q),f.apply(D,de)}}return function(){return f.apply(D,arguments)}}function x(f,D,O){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,x.apply(null,arguments)}function b(f,D){var O=Array.prototype.slice.call(arguments,1);return function(){var q=O.slice();return q.push.apply(q,arguments),f.apply(this,q)}}function _(f,D){function O(){}O.prototype=D.prototype,f.aa=D.prototype,f.prototype=new O,f.prototype.constructor=f,f.Qb=function(q,de,xe){for(var Qe=Array(arguments.length-2),As=2;As<arguments.length;As++)Qe[As-2]=arguments[As];return D.prototype[de].apply(q,Qe)}}function S(f){const D=f.length;if(0<D){const O=Array(D);for(let q=0;q<D;q++)O[q]=f[q];return O}return[]}function C(f,D){for(let O=1;O<arguments.length;O++){const q=arguments[O];if(u(q)){const de=f.length||0,xe=q.length||0;f.length=de+xe;for(let Qe=0;Qe<xe;Qe++)f[de+Qe]=q[Qe]}else f.push(q)}}class A{constructor(D,O){this.i=D,this.j=O,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function M(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var w=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function P(f,D,O){for(const q in f)D.call(O,f[q],q,f)}function N(f,D){for(const O in f)D.call(void 0,f[O],O,f)}function k(f){const D={};for(const O in f)D[O]=f[O];return D}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,D){let O,q;for(let de=1;de<arguments.length;de++){q=arguments[de];for(O in q)f[O]=q[O];for(let xe=0;xe<T.length;xe++)O=T[xe],Object.prototype.hasOwnProperty.call(q,O)&&(f[O]=q[O])}}function R(f){var D=1;f=f.split(":");const O=[];for(;0<D&&f.length;)O.push(f.shift()),D--;return f.length&&O.push(f.join(":")),O}function $(f){c.setTimeout(()=>{throw f},0)}function B(){var f=te;let D=null;return f.g&&(D=f.g,f.g=f.g.next,f.g||(f.h=null),D.next=null),D}class H{constructor(){this.h=this.g=null}add(D,O){const q=z.get();q.set(D,O),this.h?this.h.next=q:this.g=q,this.h=q}}var z=new A(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(D,O){this.h=D,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let G,K=!1,te=new H,X=()=>{const f=c.Promise.resolve(void 0);G=()=>{f.then(U)}};var U=()=>{for(var f;f=B();){try{f.h.call(f.g)}catch(O){$(O)}var D=z;D.j(f),100>D.h&&(D.h++,f.next=D.g,D.g=f)}K=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(f,D){this.type=f,this.g=this.target=D,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ne=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,D=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const O=()=>{};c.addEventListener("test",O,D),c.removeEventListener("test",O,D)}catch(O){}return f})();function ue(f,D){if(se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var O=this.type=f.type,q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=D,D=f.relatedTarget){if(w){e:{try{y(D.nodeName);var de=!0;break e}catch(xe){}de=!1}de||(D=null)}}else O=="mouseover"?D=f.fromElement:O=="mouseout"&&(D=f.toElement);this.relatedTarget=D,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:we[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ue.aa.h.call(this)}}_(ue,se);var we={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),ee=0;function ge(f,D,O,q,de){this.listener=f,this.proxy=null,this.src=D,this.type=O,this.capture=!!q,this.ha=de,this.key=++ee,this.da=this.fa=!1}function oe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ye(f){this.src=f,this.g={},this.h=0}ye.prototype.add=function(f,D,O,q,de){var xe=f.toString();f=this.g[xe],f||(f=this.g[xe]=[],this.h++);var Qe=ke(f,D,q,de);return-1<Qe?(D=f[Qe],O||(D.fa=!1)):(D=new ge(D,this.src,xe,!!q,de),D.fa=O,f.push(D)),D};function je(f,D){var O=D.type;if(O in f.g){var q=f.g[O],de=Array.prototype.indexOf.call(q,D,void 0),xe;(xe=0<=de)&&Array.prototype.splice.call(q,de,1),xe&&(oe(D),f.g[O].length==0&&(delete f.g[O],f.h--))}}function ke(f,D,O,q){for(var de=0;de<f.length;++de){var xe=f[de];if(!xe.da&&xe.listener==D&&xe.capture==!!O&&xe.ha==q)return de}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),me={};function Ie(f,D,O,q,de){if(Array.isArray(D)){for(var xe=0;xe<D.length;xe++)Ie(f,D[xe],O,q,de);return null}return O=Ve(O),f&&f[Me]?f.K(D,O,h(q)?!!q.capture:!1,de):Xe(f,D,O,!1,q,de)}function Xe(f,D,O,q,de,xe){if(!D)throw Error("Invalid event type");var Qe=h(de)?!!de.capture:!!de,As=at(f);if(As||(f[qe]=As=new ye(f)),O=As.add(D,O,q,Qe,xe),O.proxy)return O;if(q=it(),O.proxy=q,q.src=f,q.listener=O,f.addEventListener)ne||(de=Qe),de===void 0&&(de=!1),f.addEventListener(D.toString(),q,de);else if(f.attachEvent)f.attachEvent(De(D.toString()),q);else if(f.addListener&&f.removeListener)f.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return O}function it(){function f(O){return D.call(f.src,f.listener,O)}const D=Ee;return f}function Nt(f,D,O,q,de){if(Array.isArray(D))for(var xe=0;xe<D.length;xe++)Nt(f,D[xe],O,q,de);else q=h(q)?!!q.capture:!!q,O=Ve(O),f&&f[Me]?(f=f.i,D=String(D).toString(),D in f.g&&(xe=f.g[D],O=ke(xe,O,q,de),-1<O&&(oe(xe[O]),Array.prototype.splice.call(xe,O,1),xe.length==0&&(delete f.g[D],f.h--)))):f&&(f=at(f))&&(D=f.g[D.toString()],f=-1,D&&(f=ke(D,O,q,de)),(O=-1<f?D[f]:null)&&be(O))}function be(f){if(typeof f!="number"&&f&&!f.da){var D=f.src;if(D&&D[Me])je(D.i,f);else{var O=f.type,q=f.proxy;D.removeEventListener?D.removeEventListener(O,q,f.capture):D.detachEvent?D.detachEvent(De(O),q):D.addListener&&D.removeListener&&D.removeListener(q),(O=at(D))?(je(O,f),O.h==0&&(O.src=null,D[qe]=null)):oe(f)}}}function De(f){return f in me?me[f]:me[f]="on"+f}function Ee(f,D){if(f.da)f=!0;else{D=new ue(D,this);var O=f.listener,q=f.ha||f.src;f.fa&&be(f),f=O.call(q,D)}return f}function at(f){return f=f[qe],f instanceof ye?f:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(f){return typeof f=="function"?f:(f[mt]||(f[mt]=function(D){return f.handleEvent(D)}),f[mt])}function Se(){J.call(this),this.i=new ye(this),this.M=this,this.F=null}_(Se,J),Se.prototype[Me]=!0,Se.prototype.removeEventListener=function(f,D,O,q){Nt(this,f,D,O,q)};function We(f,D){var O,q=f.F;if(q)for(O=[];q;q=q.F)O.push(q);if(f=f.M,q=D.type||D,typeof D=="string")D=new se(D,f);else if(D instanceof se)D.target=D.target||f;else{var de=D;D=new se(q,f),L(D,de)}if(de=!0,O)for(var xe=O.length-1;0<=xe;xe--){var Qe=D.g=O[xe];de=_t(Qe,q,!0,D)&&de}if(Qe=D.g=f,de=_t(Qe,q,!0,D)&&de,de=_t(Qe,q,!1,D)&&de,O)for(xe=0;xe<O.length;xe++)Qe=D.g=O[xe],de=_t(Qe,q,!1,D)&&de}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var f=this.i,D;for(D in f.g){for(var O=f.g[D],q=0;q<O.length;q++)oe(O[q]);delete f.g[D],f.h--}}this.F=null},Se.prototype.K=function(f,D,O,q){return this.i.add(String(f),D,!1,O,q)},Se.prototype.L=function(f,D,O,q){return this.i.add(String(f),D,!0,O,q)};function _t(f,D,O,q){if(D=f.i.g[String(D)],!D)return!0;D=D.concat();for(var de=!0,xe=0;xe<D.length;++xe){var Qe=D[xe];if(Qe&&!Qe.da&&Qe.capture==O){var As=Qe.listener,Dn=Qe.ha||Qe.src;Qe.fa&&je(f.i,Qe),de=As.call(Dn,q)!==!1&&de}}return de&&!q.defaultPrevented}function Ot(f,D,O){if(typeof f=="function")O&&(f=x(f,O));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:c.setTimeout(f,D||0)}function Rs(f){f.g=Ot(()=>{f.g=null,f.i&&(f.i=!1,Rs(f))},f.l);const D=f.h;f.h=null,f.m.apply(null,D)}class ms extends J{constructor(D,O){super(),this.m=D,this.l=O,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(f){J.call(this),this.h=f,this.g={}}_(gs,J);var Js=[];function It(f){P(f.g,function(D,O){this.g.hasOwnProperty(O)&&be(D)},f),f.g={}}gs.prototype.N=function(){gs.aa.N.call(this),It(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=c.JSON.stringify,mn=c.JSON.parse,Zt=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Z(){}Z.prototype.h=null;function ze(f){return f.h||(f.h=f.i())}function Je(){}var lt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tt(){se.call(this,"d")}_(tt,se);function Et(){se.call(this,"c")}_(Et,se);var cs={},Ws=null;function gn(){return Ws=Ws||new Se}cs.La="serverreachability";function Ln(f){se.call(this,cs.La,f)}_(Ln,se);function Zs(f){const D=gn();We(D,new Ln(D))}cs.STAT_EVENT="statevent";function Ts(f,D){se.call(this,cs.STAT_EVENT,f),this.stat=D}_(Ts,se);function _s(f){const D=gn();We(D,new Ts(D,f))}cs.Ma="timingevent";function er(f,D){se.call(this,cs.Ma,f),this.size=D}_(er,se);function fn(f,D){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},D)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Ir(f,D,O,q,de,xe){f.info(function(){if(f.g)if(xe)for(var Qe="",As=xe.split("&"),Dn=0;Dn<As.length;Dn++){var us=As[Dn].split("=");if(1<us.length){var On=us[0];us=us[1];var jn=On.split("_");Qe=2<=jn.length&&jn[1]=="type"?Qe+(On+"="+us+"&"):Qe+(On+"=redacted&")}}else Qe=null;else Qe=xe;return"XMLHTTP REQ ("+q+") [attempt "+de+"]: "+D+`
`+O+`
`+Qe})}function Tr(f,D,O,q,de,xe,Qe){f.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+de+"]: "+D+`
`+O+`
`+xe+" "+Qe})}function Bn(f,D,O,q){f.info(function(){return"XMLHTTP TEXT ("+D+"): "+Ls(f,O)+(q?" "+q:"")})}function ds(f,D){f.info(function(){return"TIMEOUT: "+D})}Cr.prototype.info=function(){};function Ls(f,D){if(!f.g)return D;if(!D)return null;try{var O=JSON.parse(D);if(O){for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var q=O[f];if(!(2>q.length)){var de=q[1];if(Array.isArray(de)&&!(1>de.length)){var xe=de[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(var Qe=1;Qe<de.length;Qe++)de[Qe]=""}}}}return Ne(O)}catch(As){return D}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xt;function ya(){}_(ya,Z),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},Xt=new ya;function Wr(f,D,O,q){this.j=f,this.i=D,this.l=O,this.R=q||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gl}function Gl(){this.i=null,this.g="",this.h=!1}var Oo={},Ya={};function Xa(f,D,O){f.L=1,f.v=Go(ui(D)),f.m=O,f.P=!0,Vo(f,null)}function Vo(f,D){f.F=Date.now(),Es(f),f.A=ui(f.v);var O=f.A,q=f.R;Array.isArray(q)||(q=[String(q)]),Ko(O.i,"t",q),f.C=0,O=f.j.J,f.h=new Gl,f.g=Nm(f.j,O?D:null,!f.m),0<f.O&&(f.M=new ms(x(f.Y,f,f.g),f.O)),D=f.U,O=f.g,q=f.ca;var de="readystatechange";Array.isArray(de)||(de&&(Js[0]=de.toString()),de=Js);for(var xe=0;xe<de.length;xe++){var Qe=Ie(O,de[xe],q||D.handleEvent,!1,D.h||D);if(!Qe)break;D.g[Qe.key]=Qe}D=f.H?k(f.H):{},f.m?(f.u||(f.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,D)):(f.u="GET",f.g.ea(f.A,f.u,null,D)),Zs(),Ir(f.i,f.u,f.A,f.l,f.R,f.m)}Wr.prototype.ca=function(f){f=f.target;const D=this.M;D&&qr(f)==3?D.j():this.Y(f)},Wr.prototype.Y=function(f){try{if(f==this.g)e:{const jn=qr(this.g);var D=this.g.Ba();const Ei=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||jn!=4||D==7||(D==8||0>=Ei?Zs(3):Zs(2)),ba(this);var O=this.g.Z();this.X=O;t:if(Wl(this)){var q=Wu(this.g);f="";var de=q.length,xe=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Er(this),Wi(this);var Qe="";break t}this.h.i=new c.TextDecoder}for(D=0;D<de;D++)this.h.h=!0,f+=this.h.i.decode(q[D],{stream:!(xe&&D==de-1)});q.length=0,this.h.g+=f,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=O==200,Tr(this.i,this.u,this.A,this.l,this.R,jn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var As,Dn=this.g;if((As=Dn.g?Dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(As)){var us=As;break t}}us=null}if(O=us)Bn(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vu(this,O);else{this.o=!1,this.s=3,_s(12),Er(this),Wi(this);break e}}if(this.P){O=!0;let pi;for(;!this.J&&this.C<Qe.length;)if(pi=sd(this,Qe),pi==Ya){jn==4&&(this.s=4,_s(14),O=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(pi==Oo){this.s=4,_s(15),Bn(this.i,this.l,Qe,"[Invalid Chunk]"),O=!1;break}else Bn(this.i,this.l,pi,null),Vu(this,pi);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||Qe.length!=0||this.h.h||(this.s=1,_s(16),O=!1),this.o=this.o&&O,!O)Bn(this.i,this.l,Qe,"[Invalid Chunked Response]"),Er(this),Wi(this);else if(0<Qe.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),qu(On),On.M=!0,_s(11))}}else Bn(this.i,this.l,Qe,null),Vu(this,Qe);jn==4&&Er(this),this.o&&!this.J&&(jn==4?pd(this.j,this):(this.o=!1,Es(this)))}else ld(this.g),O==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,_s(12)):(this.s=0,_s(13)),Er(this),Wi(this)}}}catch(jn){}finally{}};function Wl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function sd(f,D){var O=f.C,q=D.indexOf(`
`,O);return q==-1?Ya:(O=Number(D.substring(O,q)),isNaN(O)?Oo:(q+=1,q+O>D.length?Ya:(D=D.slice(q,q+O),f.C=q+O,D)))}Wr.prototype.cancel=function(){this.J=!0,Er(this)};function Es(f){f.S=Date.now()+f.I,Kl(f,f.I)}function Kl(f,D){if(f.B!=null)throw Error("WatchDog timer not null");f.B=fn(x(f.ba,f),D)}function ba(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Wr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ds(this.i,this.A),this.L!=2&&(Zs(),_s(17)),Er(this),this.s=2,Wi(this)):Kl(this,this.S-f)};function Wi(f){f.j.G==0||f.J||pd(f.j,f)}function Er(f){ba(f);var D=f.M;D&&typeof D.ma=="function"&&D.ma(),f.M=null,It(f.U),f.g&&(D=f.g,f.g=null,D.abort(),D.ma())}function Vu(f,D){try{var O=f.j;if(O.G!=0&&(O.g==f||Ar(O.h,f))){if(!f.K&&Ar(O.h,f)&&O.G==3){try{var q=O.Da.g.parse(D)}catch(us){q=null}if(Array.isArray(q)&&q.length==3){var de=q;if(de[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<f.F)hd(O),Xi(O);else break e;ud(O),_s(18)}}else O.za=de[1],0<O.za-O.T&&37500>de[2]&&O.F&&O.v==0&&!O.C&&(O.C=fn(x(O.Za,O),6e3));if(1>=um(O.h)&&O.ca){try{O.ca()}catch(us){}O.ca=void 0}}else so(O,11)}else if((f.K||O.g==f)&&hd(O),!M(D))for(de=O.Da.g.parse(D),D=0;D<de.length;D++){let us=de[D];if(O.T=us[0],us=us[1],O.G==2)if(us[0]=="c"){O.K=us[1],O.ia=us[2];const On=us[3];On!=null&&(O.la=On,O.j.info("VER="+O.la));const jn=us[4];jn!=null&&(O.Aa=jn,O.j.info("SVER="+O.Aa));const Ei=us[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(q=1.5*Ei,O.L=q,O.j.info("backChannelRequestTimeoutMs_="+q)),q=O;const pi=f.g;if(pi){const ec=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ec){var xe=q.h;xe.g||ec.indexOf("spdy")==-1&&ec.indexOf("quic")==-1&&ec.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(Uu(xe,xe.h),xe.h=null))}if(q.D){const gd=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;gd&&(q.ya=gd,Ds(q.I,q.D,gd))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-f.F,O.j.info("Handshake RTT: "+O.R+"ms")),q=O;var Qe=f;if(q.qa=Sm(q,q.J?q.ia:null,q.W),Qe.K){hm(q.h,Qe);var As=Qe,Dn=q.L;Dn&&(As.I=Dn),As.B&&(ba(As),Es(As)),q.g=Qe}else Zl(q);0<O.i.length&&Sa(O)}else us[0]!="stop"&&us[0]!="close"||so(O,7);else O.G==3&&(us[0]=="stop"||us[0]=="close"?us[0]=="stop"?so(O,7):nr(O):us[0]!="noop"&&O.l&&O.l.ta(us),O.v=0)}}Zs(4)}catch(us){}}var dm=class{constructor(f,D){this.g=f,this.map=D}};function ql(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function di(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function um(f){return f.h?1:f.g?f.g.size:0}function Ar(f,D){return f.h?f.h==D:f.g?f.g.has(D):!1}function Uu(f,D){f.g?f.g.add(D):f.h=D}function hm(f,D){f.h&&f.h==D?f.h=null:f.g&&f.g.has(D)&&f.g.delete(D)}ql.prototype.cancel=function(){if(this.i=pm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function pm(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let D=f.i;for(const O of f.g.values())D=D.concat(O.D);return D}return S(f.i)}function nd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var D=[],O=f.length,q=0;q<O;q++)D.push(f[q]);return D}D=[],O=0;for(q in f)D[O++]=f[q];return D}function rd(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var D=[];f=f.length;for(var O=0;O<f;O++)D.push(O);return D}D=[],O=0;for(const q in f)D[O++]=q;return D}}}function Uo(f,D){if(f.forEach&&typeof f.forEach=="function")f.forEach(D,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,D,void 0);else for(var O=rd(f),q=nd(f),de=q.length,xe=0;xe<de;xe++)D.call(void 0,q[xe],O&&O[xe],f)}var Ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ix(f,D){if(f){f=f.split("&");for(var O=0;O<f.length;O++){var q=f[O].indexOf("="),de=null;if(0<=q){var xe=f[O].substring(0,q);de=f[O].substring(q+1)}else xe=f[O];D(xe,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ja(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ja){this.h=f.h,Yl(this,f.j),this.o=f.o,this.g=f.g,zo(this,f.s),this.l=f.l;var D=f.i,O=new _a;O.i=D.i,D.g&&(O.g=new Map(D.g),O.h=D.h),Ho(this,O),this.m=f.m}else f&&(D=String(f).match(Ql))?(this.h=!1,Yl(this,D[1]||"",!0),this.o=as(D[2]||""),this.g=as(D[3]||"",!0),zo(this,D[4]),this.l=as(D[5]||"",!0),Ho(this,D[6]||"",!0),this.m=as(D[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}Ja.prototype.toString=function(){var f=[],D=this.j;D&&f.push(Wo(D,id,!0),":");var O=this.g;return(O||D=="file")&&(f.push("//"),(D=this.o)&&f.push(Wo(D,id,!0),"@"),f.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&f.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&f.push("/"),f.push(Wo(O,O.charAt(0)=="/"?fm:gm,!0))),(O=this.i.toString())&&f.push("?",O),(O=this.m)&&f.push("#",Wo(O,zu)),f.join("")};function ui(f){return new Ja(f)}function Yl(f,D,O){f.j=O?as(D,!0):D,f.j&&(f.j=f.j.replace(/:$/,""))}function zo(f,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);f.s=D}else f.s=null}function Ho(f,D,O){D instanceof _a?(f.i=D,wa(f.i,f.h)):(O||(D=Wo(D,vm)),f.i=new _a(D,f.h))}function Ds(f,D,O){f.i.set(D,O)}function Go(f){return Ds(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function as(f,D){return f?D?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Wo(f,D,O){return typeof f=="string"?(f=encodeURI(f).replace(D,mm),O&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mm(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var id=/[#\/\?@]/g,gm=/[#\?:]/g,fm=/[#\?]/g,vm=/[#\?@]/g,zu=/#/g;function _a(f,D){this.h=this.g=null,this.i=f||null,this.j=!!D}function sr(f){f.g||(f.g=new Map,f.h=0,f.i&&ix(f.i,function(D,O){f.add(decodeURIComponent(D.replace(/\+/g," ")),O)}))}s=_a.prototype,s.add=function(f,D){sr(this),this.i=null,f=Ti(this,f);var O=this.g.get(f);return O||this.g.set(f,O=[]),O.push(D),this.h+=1,this};function Ki(f,D){sr(f),D=Ti(f,D),f.g.has(D)&&(f.i=null,f.h-=f.g.get(D).length,f.g.delete(D))}function qi(f,D){return sr(f),D=Ti(f,D),f.g.has(D)}s.forEach=function(f,D){sr(this),this.g.forEach(function(O,q){O.forEach(function(de){f.call(D,de,q,this)},this)},this)},s.na=function(){sr(this);const f=Array.from(this.g.values()),D=Array.from(this.g.keys()),O=[];for(let q=0;q<D.length;q++){const de=f[q];for(let xe=0;xe<de.length;xe++)O.push(D[q])}return O},s.V=function(f){sr(this);let D=[];if(typeof f=="string")qi(this,f)&&(D=D.concat(this.g.get(Ti(this,f))));else{f=Array.from(this.g.values());for(let O=0;O<f.length;O++)D=D.concat(f[O])}return D},s.set=function(f,D){return sr(this),this.i=null,f=Ti(this,f),qi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[D]),this.h+=1,this},s.get=function(f,D){return f?(f=this.V(f),0<f.length?String(f[0]):D):D};function Ko(f,D,O){Ki(f,D),0<O.length&&(f.i=null,f.g.set(Ti(f,D),S(O)),f.h+=O.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],D=Array.from(this.g.keys());for(var O=0;O<D.length;O++){var q=D[O];const xe=encodeURIComponent(String(q)),Qe=this.V(q);for(q=0;q<Qe.length;q++){var de=xe;Qe[q]!==""&&(de+="="+encodeURIComponent(String(Qe[q]))),f.push(de)}}return this.i=f.join("&")};function Ti(f,D){return D=String(D),f.j&&(D=D.toLowerCase()),D}function wa(f,D){D&&!f.j&&(sr(f),f.i=null,f.g.forEach(function(O,q){var de=q.toLowerCase();q!=de&&(Ki(this,q),Ko(this,de,O))},f)),f.j=D}function ax(f,D){const O=new Cr;if(c.Image){const q=new Image;q.onload=b(Kr,O,"TestLoadImage: loaded",!0,D,q),q.onerror=b(Kr,O,"TestLoadImage: error",!1,D,q),q.onabort=b(Kr,O,"TestLoadImage: abort",!1,D,q),q.ontimeout=b(Kr,O,"TestLoadImage: timeout",!1,D,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=f}else D(!1)}function xm(f,D){const O=new Cr,q=new AbortController,de=setTimeout(()=>{q.abort(),Kr(O,"TestPingServer: timeout",!1,D)},1e4);fetch(f,{signal:q.signal}).then(xe=>{clearTimeout(de),xe.ok?Kr(O,"TestPingServer: ok",!0,D):Kr(O,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(de),Kr(O,"TestPingServer: error",!1,D)})}function Kr(f,D,O,q,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),q(O)}catch(xe){}}function ox(){this.g=new Zt}function ym(f,D,O){const q=O||"";try{Uo(f,function(de,xe){let Qe=de;h(de)&&(Qe=Ne(de)),D.push(q+xe+"="+encodeURIComponent(Qe))})}catch(de){throw D.push(q+"type="+encodeURIComponent("_badmap")),de}}function Za(f){this.l=f.Ub||null,this.j=f.eb||!1}_(Za,Z),Za.prototype.g=function(){return new Xl(this.l,this.j)},Za.prototype.i=(function(f){return function(){return f}})({});function Xl(f,D){Se.call(this),this.D=f,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Xl,Se),s=Xl.prototype,s.open=function(f,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=D,this.readyState=1,Yi(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(D.body=f),(this.D||c).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bm(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function bm(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var D=f.value?f.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!f.done}))&&(this.response=this.responseText+=D)}f.done?Qi(this):Yi(this),this.readyState==3&&bm(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,Qi(this))},s.Qa=function(f){this.g&&(this.response=f,Qi(this))},s.ga=function(){this.g&&Qi(this)};function Qi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Yi(f)}s.setRequestHeader=function(f,D){this.u.append(f,D)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],D=this.h.entries();for(var O=D.next();!O.done;)O=O.value,f.push(O[0]+": "+O[1]),O=D.next();return f.join(`\r
`)};function Yi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function eo(f){let D="";return P(f,function(O,q){D+=q,D+=":",D+=O,D+=`\r
`}),D}function qo(f,D,O){e:{for(q in O){var q=!1;break e}q=!0}q||(O=eo(O),typeof f=="string"?O!=null&&encodeURIComponent(String(O)):Ds(f,D,O))}function Ks(f){Se.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ks,Se);var lx=/^https?$/i,Hu=["POST","PUT"];s=Ks.prototype,s.Ha=function(f){this.J=f},s.ea=function(f,D,O,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);D=D?D.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xt.g(),this.v=this.o?ze(this.o):ze(Xt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(D,String(f),!0),this.B=!1}catch(xe){Jl(this,xe);return}if(f=O||"",O=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var de in q)O.set(de,q[de]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const xe of q.keys())O.set(xe,q.get(xe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(O.keys()).find(xe=>xe.toLowerCase()=="content-type"),de=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Hu,D,void 0))||q||de||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Qe]of O)this.g.setRequestHeader(xe,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{od(this),this.u=!0,this.g.send(f),this.u=!1}catch(xe){Jl(this,xe)}};function Jl(f,D){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=D,f.m=5,ad(f),hi(f)}function ad(f){f.A||(f.A=!0,We(f,"complete"),We(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,We(this,"complete"),We(this,"abort"),hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Ks.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Gu(this):this.bb())},s.bb=function(){Gu(this)};function Gu(f){if(f.h&&typeof l!="undefined"&&(!f.v[1]||qr(f)!=4||f.Z()!=2)){if(f.u&&qr(f)==4)Ot(f.Ea,0,f);else if(We(f,"readystatechange"),qr(f)==4){f.h=!1;try{const Qe=f.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var O;if(!(O=D)){var q;if(q=Qe===0){var de=String(f.D).match(Ql)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),q=!lx.test(de?de.toLowerCase():"")}O=q}if(O)We(f,"complete"),We(f,"success");else{f.m=6;try{var xe=2<qr(f)?f.g.statusText:""}catch(As){xe=""}f.l=xe+" ["+f.Z()+"]",ad(f)}}finally{hi(f)}}}}function hi(f,D){if(f.g){od(f);const O=f.g,q=f.v[0]?()=>{}:null;f.g=null,f.v=null,D||We(f,"ready");try{O.onreadystatechange=q}catch(de){}}}function od(f){f.I&&(c.clearTimeout(f.I),f.I=null)}s.isActive=function(){return!!this.g};function qr(f){return f.g?f.g.readyState:0}s.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch(f){return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},s.Oa=function(f){if(this.g){var D=this.g.responseText;return f&&D.indexOf(f)==0&&(D=D.substring(f.length)),mn(D)}};function Wu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(D){return null}}function ld(f){const D={};f=(f.g&&2<=qr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<f.length;q++){if(M(f[q]))continue;var O=R(f[q]);const de=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const xe=D[de]||[];D[de]=xe,xe.push(O)}N(D,function(q){return q.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(f,D,O){return O&&O.internalChannelParams&&O.internalChannelParams[f]||D}function Ku(f){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,f),this.cb=ja("retryDelaySeedMs",1e4,f),this.Wa=ja("forwardChannelMaxRetries",2,f),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ql(f&&f.concurrentRequestLimit),this.Da=new ox,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ku.prototype,s.la=8,s.G=1,s.connect=function(f,D,O,q){_s(0),this.W=f,this.H=D||{},O&&q!==void 0&&(this.H.OSID=O,this.H.OAID=q),this.F=this.X,this.I=Sm(this,null,this.W),Sa(this)};function nr(f){if(cd(f),f.G==3){var D=f.U++,O=ui(f.I);if(Ds(O,"SID",f.K),Ds(O,"RID",D),Ds(O,"TYPE","terminate"),to(f,O),D=new Wr(f,f.j,D),D.L=2,D.v=Go(ui(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(D.v.toString(),"")}catch(q){}!O&&c.Image&&(new Image().src=D.v,O=!0),O||(D.g=Nm(D.j,null),D.g.ea(D.v)),D.F=Date.now(),Es(D)}jm(f)}function Xi(f){f.g&&(qu(f),f.g.cancel(),f.g=null)}function cd(f){Xi(f),f.u&&(c.clearTimeout(f.u),f.u=null),hd(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Sa(f){if(!di(f.h)&&!f.s){f.s=!0;var D=f.Ga;G||X(),K||(G(),K=!0),te.add(D,f),f.B=0}}function cx(f,D){return um(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=D.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=fn(x(f.Ga,f,D),wm(f,f.B)),f.B++,!0)}s.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const de=new Wr(this,this.j,f);let xe=this.o;if(this.S&&(xe?(xe=k(xe),L(xe,this.S)):xe=this.S),this.m!==null||this.O||(de.H=xe,xe=null),this.P)e:{for(var D=0,O=0;O<this.i.length;O++){t:{var q=this.i[O];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(D+=q,4096<D){D=O;break e}if(D===4096||O===this.i.length-1){D=O+1;break e}}D=1e3}else D=1e3;D=Qo(this,de,D),O=ui(this.I),Ds(O,"RID",f),Ds(O,"CVER",22),this.D&&Ds(O,"X-HTTP-Session-Id",this.D),to(this,O),xe&&(this.O?D="headers="+encodeURIComponent(String(eo(xe)))+"&"+D:this.m&&qo(O,this.m,xe)),Uu(this.h,de),this.Ua&&Ds(O,"TYPE","init"),this.P?(Ds(O,"$req",D),Ds(O,"SID","null"),de.T=!0,Xa(de,O,null)):Xa(de,O,D),this.G=2}}else this.G==3&&(f?dd(this,f):this.i.length==0||di(this.h)||dd(this))};function dd(f,D){var O;D?O=D.l:O=f.U++;const q=ui(f.I);Ds(q,"SID",f.K),Ds(q,"RID",O),Ds(q,"AID",f.T),to(f,q),f.m&&f.o&&qo(q,f.m,f.o),O=new Wr(f,f.j,O,f.B+1),f.m===null&&(O.H=f.o),D&&(f.i=D.D.concat(f.i)),D=Qo(f,O,1e3),O.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Uu(f.h,O),Xa(O,q,D)}function to(f,D){f.H&&P(f.H,function(O,q){Ds(D,q,O)}),f.l&&Uo({},function(O,q){Ds(D,q,O)})}function Qo(f,D,O){O=Math.min(f.i.length,O);var q=f.l?x(f.l.Na,f.l,f):null;e:{var de=f.i;let xe=-1;for(;;){const Qe=["count="+O];xe==-1?0<O?(xe=de[0].g,Qe.push("ofs="+xe)):xe=0:Qe.push("ofs="+xe);let As=!0;for(let Dn=0;Dn<O;Dn++){let us=de[Dn].g;const On=de[Dn].map;if(us-=xe,0>us)xe=Math.max(0,de[Dn].g-100),As=!1;else try{ym(On,Qe,"req"+us+"_")}catch(jn){q&&q(On)}}if(As){q=Qe.join("&");break e}}}return f=f.i.splice(0,O),D.D=f,q}function Zl(f){if(!f.g&&!f.u){f.Y=1;var D=f.Fa;G||X(),K||(G(),K=!0),te.add(D,f),f.v=0}}function ud(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=fn(x(f.Fa,f),wm(f,f.v)),f.v++,!0)}s.Fa=function(){if(this.u=null,_m(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=fn(x(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_s(10),Xi(this),_m(this))};function qu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function _m(f){f.g=new Wr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var D=ui(f.qa);Ds(D,"RID","rpc"),Ds(D,"SID",f.K),Ds(D,"AID",f.T),Ds(D,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ds(D,"TO",f.ja),Ds(D,"TYPE","xmlhttp"),to(f,D),f.m&&f.o&&qo(D,f.m,f.o),f.L&&(f.g.I=f.L);var O=f.g;f=f.ia,O.L=1,O.v=Go(ui(D)),O.m=null,O.P=!0,Vo(O,f)}s.Za=function(){this.C!=null&&(this.C=null,Xi(this),ud(this),_s(19))};function hd(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function pd(f,D){var O=null;if(f.g==D){hd(f),qu(f),f.g=null;var q=2}else if(Ar(f.h,D))O=D.D,hm(f.h,D),q=1;else return;if(f.G!=0){if(D.o)if(q==1){O=D.m?D.m.length:0,D=Date.now()-D.F;var de=f.B;q=gn(),We(q,new er(q,O)),Sa(f)}else Zl(f);else if(de=D.s,de==3||de==0&&0<D.X||!(q==1&&cx(f,D)||q==2&&ud(f)))switch(O&&0<O.length&&(D=f.h,D.i=D.i.concat(O)),de){case 1:so(f,5);break;case 4:so(f,10);break;case 3:so(f,6);break;default:so(f,2)}}}function wm(f,D){let O=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(O*=2),O*D}function so(f,D){if(f.j.info("Error code "+D),D==2){var O=x(f.fb,f),q=f.Xa;const de=!q;q=new Ja(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yl(q,"https"),Go(q),de?ax(q.toString(),O):xm(q.toString(),O)}else _s(2);f.G=0,f.l&&f.l.sa(D),jm(f),cd(f)}s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),_s(2)):(this.j.info("Failed to ping google.com"),_s(1))};function jm(f){if(f.G=0,f.ka=[],f.l){const D=pm(f.h);(D.length!=0||f.i.length!=0)&&(C(f.ka,D),C(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Sm(f,D,O){var q=O instanceof Ja?ui(O):new Ja(O);if(q.g!="")D&&(q.g=D+"."+q.g),zo(q,q.s);else{var de=c.location;q=de.protocol,D=D?D+"."+de.hostname:de.hostname,de=+de.port;var xe=new Ja(null);q&&Yl(xe,q),D&&(xe.g=D),de&&zo(xe,de),O&&(xe.l=O),q=xe}return O=f.D,D=f.ya,O&&D&&Ds(q,O,D),Ds(q,"VER",f.la),to(f,q),q}function Nm(f,D,O){if(D&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=f.Ca&&!f.pa?new Ks(new Za({eb:O})):new Ks(f.pa),D.Ha(f.J),D}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}s=Qu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function md(){}md.prototype.g=function(f,D){return new Pr(f,D)};function Pr(f,D){Se.call(this),this.g=new Ku(D),this.l=f,this.h=D&&D.messageUrlParams||null,f=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(f?f["X-WebChannel-Content-Type"]=D.messageContentType:f={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(f?f["X-WebChannel-Client-Profile"]=D.va:f={"X-WebChannel-Client-Profile":D.va}),this.g.S=f,(f=D&&D.Sb)&&!M(f)&&(this.g.m=f),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!M(D)&&(this.g.D=D,f=this.h,f!==null&&D in f&&(f=this.h,D in f&&delete f[D])),this.j=new Na(this)}_(Pr,Se),Pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pr.prototype.close=function(){nr(this.g)},Pr.prototype.o=function(f){var D=this.g;if(typeof f=="string"){var O={};O.__data__=f,f=O}else this.u&&(O={},O.__data__=Ne(f),f=O);D.i.push(new dm(D.Ya++,f)),D.G==3&&Sa(D)},Pr.prototype.N=function(){this.g.l=null,delete this.j,nr(this.g),delete this.g,Pr.aa.N.call(this)};function km(f){tt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var D=f.__sm__;if(D){e:{for(const O in D){f=O;break e}f=void 0}(this.i=f)&&(f=this.i,D=D!==null&&f in D?D[f]:void 0),this.data=D}else this.data=f}_(km,tt);function Cm(){Et.call(this),this.status=1}_(Cm,Et);function Na(f){this.g=f}_(Na,Qu),Na.prototype.ua=function(){We(this.g,"a")},Na.prototype.ta=function(f){We(this.g,new km(f))},Na.prototype.sa=function(f){We(this.g,new Cm)},Na.prototype.ra=function(){We(this.g,"b")},md.prototype.createWebChannel=md.prototype.g,Pr.prototype.send=Pr.prototype.o,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,q3=function(){return new md},K3=function(){return gn()},W3=cs,Ib={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,uf=tr,ci.COMPLETE="complete",G3=ci,Je.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",Se.prototype.listen=Se.prototype.K,Dh=Je,Ks.prototype.listenOnce=Ks.prototype.L,Ks.prototype.getLastError=Ks.prototype.Ka,Ks.prototype.getLastErrorCode=Ks.prototype.Ba,Ks.prototype.getStatus=Ks.prototype.Z,Ks.prototype.getResponseJson=Ks.prototype.Oa,Ks.prototype.getResponseText=Ks.prototype.oa,Ks.prototype.send=Ks.prototype.ea,Ks.prototype.setWithCredentials=Ks.prototype.Ha,H3=Ks}).apply(typeof Sg!="undefined"?Sg:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const WS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new L_("@firebase/firestore");function wh(){return Uc.logLevel}function dt(s,...e){if(Uc.logLevel<=ls.DEBUG){const n=e.map(q_);Uc.debug(`Firestore (${Eu}): ${s}`,...n)}}function Ao(s,...e){if(Uc.logLevel<=ls.ERROR){const n=e.map(q_);Uc.error(`Firestore (${Eu}): ${s}`,...n)}}function hu(s,...e){if(Uc.logLevel<=ls.WARN){const n=e.map(q_);Uc.warn(`Firestore (${Eu}): ${s}`,...n)}}function q_(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch(e){return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(s="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+s;throw Ao(e),new Error(e)}function ys(s,e){s||Ct()}function Bt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends $o{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sr.UNAUTHENTICATED)))}shutdown(){}}class K${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q${constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ys(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ba,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ba)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ys(typeof r.accessToken=="string"),new Q3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ys(e===null||typeof e=="string"),new Sr(e)}}class Q${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Y${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Q$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ys(this.o===void 0);const r=a=>{a.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,dt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ys(typeof n.token=="string"),this.R=n.token,new X$(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(s){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Z$(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Ss(s,e){return s<e?-1:s>e?1:0}function pu(s,e,n){return s.length===e.length&&s.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ye(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ye(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ye(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gs.fromMillis(Date.now())}static fromDate(e){return Gs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Gs(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ss(this.nanoseconds,e.nanoseconds):Ss(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Gs(0,0))}static max(){return new Pt(new Gs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ct(),r===void 0?r=e.length-n:r>e.length-n&&Ct(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vp?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ps extends vp{construct(e,n,r){return new Ps(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ps(n)}static emptyPath(){return new Ps([])}}const eB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends vp{construct(e,n,r){return new ur(e,n,r)}static isValidIdentifier(e){return eB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ye(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ye(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ye(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Ye(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(n)}static emptyPath(){return new ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Ps.fromString(e))}static fromName(e){return new vt(Ps.fromString(e).popFirst(5))}static empty(){return new vt(Ps.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ps.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ps.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Ps(e.slice()))}}function tB(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(r===1e9?new Gs(n+1,0):new Gs(n,r));return new Fl(i,vt.empty(),e)}function sB(s){return new Fl(s.readTime,s.key,-1)}class Fl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fl(Pt.min(),vt.empty(),-1)}static max(){return new Fl(Pt.max(),vt.empty(),-1)}}function nB(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(s.documentKey,e.documentKey),n!==0?n:Ss(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(s){if(s.code!==_e.FAILED_PRECONDITION||s.message!==rB)throw s;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Le(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Le.reject(n)}static resolve(e){return new Le(((n,r)=>{n(e)}))}static reject(e){return new Le(((n,r)=>{r(e)}))}static waitFor(e){return new Le(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(u=>r(u)))})),l=!0,a===i&&n()}))}static or(e){let n=Le.resolve(!1);for(const r of e)n=n.next((i=>i?Le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Le(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let u=0;u<a;u++){const h=u;n(e[h]).next((p=>{l[h]=p,++c,c===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Le(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function aB(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zp(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Q_.oe=-1;function Hp(s){return s==null}function Of(s){return s===0&&1/s==-1/0}function oB(s){return typeof s=="number"&&Number.isInteger(s)&&!Of(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Yc(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function X3(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.comparator=e,this.root=n||lr.EMPTY}insert(e,n){return new an(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ng(this.root,e,this.comparator,!0)}}class Ng{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:lr.RED,this.left=i!=null?i:lr.EMPTY,this.right=a!=null?a:lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new lr(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(e,n,r,i,a){return this}insert(e,n,r){return new lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qS(this.data.getIterator())}getIteratorFrom(e){return new qS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new mr(this.comparator);return n.data=e,n}}class qS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new ji([])}unionWith(e){let n=new mr(ur.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new J3("Invalid base64 string: "+a):a}})(e);return new fr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ss(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const lB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $l(s){if(ys(!!s),typeof s=="string"){let e=0;const n=lB.exec(s);if(ys(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(s.seconds),nanos:bn(s.nanos)}}function bn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function zc(s){return typeof s=="string"?fr.fromBase64String(s):fr.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Y_(s){const e=s.mapValue.fields.__previous_value__;return Tv(e)?Y_(e):e}function xp(s){const e=$l(s.mapValue.fields.__local_write_time__.timestampValue);return new Gs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n,r,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}}class yp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg={mapValue:{}};function Hc(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tv(s)?4:uB(s)?9007199254740991:dB(s)?10:11:Ct()}function Wa(s,e){if(s===e)return!0;const n=Hc(s);if(n!==Hc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return xp(s).isEqual(xp(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=$l(i.timestampValue),c=$l(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(i,a){return zc(i.bytesValue).isEqual(zc(a.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(i,a){return bn(i.geoPointValue.latitude)===bn(a.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(a.geoPointValue.longitude)})(s,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return bn(i.integerValue)===bn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=bn(i.doubleValue),c=bn(a.doubleValue);return l===c?Of(l)===Of(c):isNaN(l)&&isNaN(c)}return!1})(s,e);case 9:return pu(s.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(KS(l)!==KS(c))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(c[u]===void 0||!Wa(l[u],c[u])))return!1;return!0})(s,e);default:return Ct()}}function bp(s,e){return(s.values||[]).find((n=>Wa(n,e)))!==void 0}function mu(s,e){if(s===e)return 0;const n=Hc(s),r=Hc(e);if(n!==r)return Ss(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ss(s.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=bn(a.integerValue||a.doubleValue),u=bn(l.integerValue||l.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(s,e);case 3:return QS(s.timestampValue,e.timestampValue);case 4:return QS(xp(s),xp(e));case 5:return Ss(s.stringValue,e.stringValue);case 6:return(function(a,l){const c=zc(a),u=zc(l);return c.compareTo(u)})(s.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),u=l.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=Ss(c[h],u[h]);if(p!==0)return p}return Ss(c.length,u.length)})(s.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Ss(bn(a.latitude),bn(l.latitude));return c!==0?c:Ss(bn(a.longitude),bn(l.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return YS(s.arrayValue,e.arrayValue);case 10:return(function(a,l){var c,u,h,p;const g=a.fields||{},x=l.fields||{},b=(c=g.value)===null||c===void 0?void 0:c.arrayValue,_=(u=x.value)===null||u===void 0?void 0:u.arrayValue,S=Ss(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((p=_==null?void 0:_.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:YS(b,_)})(s.mapValue,e.mapValue);case 11:return(function(a,l){if(a===kg.mapValue&&l===kg.mapValue)return 0;if(a===kg.mapValue)return 1;if(l===kg.mapValue)return-1;const c=a.fields||{},u=Object.keys(c),h=l.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const x=Ss(u[g],p[g]);if(x!==0)return x;const b=mu(c[u[g]],h[p[g]]);if(b!==0)return b}return Ss(u.length,p.length)})(s.mapValue,e.mapValue);default:throw Ct()}}function QS(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ss(s,e);const n=$l(s),r=$l(e),i=Ss(n.seconds,r.seconds);return i!==0?i:Ss(n.nanos,r.nanos)}function YS(s,e){const n=s.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=mu(n[i],r[i]);if(a)return a}return Ss(n.length,r.length)}function gu(s){return Tb(s)}function Tb(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=$l(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return zc(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return vt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Tb(a);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Tb(n.fields[l])}`;return i+"}"})(s.mapValue):Ct()}function Vf(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Eb(s){return!!s&&"integerValue"in s}function X_(s){return!!s&&"arrayValue"in s}function XS(s){return!!s&&"nullValue"in s}function JS(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function hf(s){return!!s&&"mapValue"in s}function dB(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kh(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Yc(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kh(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kh(s.arrayValue.values[n]);return e}return Object.assign({},s)}function uB(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kh(n)}setAll(e){let n=ur.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Kh(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yc(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new zr(Kh(this.value))}}function Z3(s){const e=[];return Yc(s.fields,((n,r)=>{const i=new ur([n]);if(hf(r)){const a=Z3(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new qn(e,0,Pt.min(),Pt.min(),Pt.min(),zr.empty(),0)}static newFoundDocument(e,n,r,i){return new qn(e,1,n,Pt.min(),r,i,0)}static newNoDocument(e,n){return new qn(e,2,n,Pt.min(),Pt.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Pt.min(),Pt.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.position=e,this.inclusive=n}}function ZS(s,e,n){let r=0;for(let i=0;i<s.position.length;i++){const a=e[i],l=s.position[i];if(a.field.isKeyField()?r=vt.comparator(vt.fromName(l.referenceValue),n.key):r=mu(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function eN(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Wa(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n="asc"){this.field=e,this.dir=n}}function hB(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{}class An extends e5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mB(e,n,r):n==="array-contains"?new vB(e,r):n==="in"?new xB(e,r):n==="not-in"?new yB(e,r):n==="array-contains-any"?new bB(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gB(e,r):new fB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mu(n,this.value)):n!==null&&Hc(this.value)===Hc(n)&&this.matchesComparison(mu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ga extends e5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ga(e,n)}matches(e){return t5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function t5(s){return s.op==="and"}function s5(s){return pB(s)&&t5(s)}function pB(s){for(const e of s.filters)if(e instanceof ga)return!1;return!0}function Ab(s){if(s instanceof An)return s.field.canonicalString()+s.op.toString()+gu(s.value);if(s5(s))return s.filters.map((e=>Ab(e))).join(",");{const e=s.filters.map((n=>Ab(n))).join(",");return`${s.op}(${e})`}}function n5(s,e){return s instanceof An?(function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(s,e):s instanceof ga?(function(r,i){return i instanceof ga&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&n5(l,i.filters[c])),!0):!1})(s,e):void Ct()}function r5(s){return s instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${gu(n.value)}`})(s):s instanceof ga?(function(n){return n.op.toString()+" {"+n.getFilters().map(r5).join(" ,")+"}"})(s):"Filter"}class mB extends An{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class gB extends An{constructor(e,n){super(e,"in",n),this.keys=i5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fB extends An{constructor(e,n){super(e,"not-in",n),this.keys=i5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function i5(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>vt.fromName(r.referenceValue)))}class vB extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return X_(n)&&bp(n.arrayValue,this.value)}}class xB extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bp(this.value.arrayValue,n)}}class yB extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(bp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bp(this.value.arrayValue,n)}}class bB extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!X_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function tN(s,e=null,n=[],r=[],i=null,a=null,l=null){return new _B(s,e,n,r,i,a,l)}function J_(s){const e=Bt(s);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ab(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gu(r))).join(",")),e.ue=n}return e.ue}function Z_(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!hB(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!n5(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!eN(s.startAt,e.startAt)&&eN(s.endAt,e.endAt)}function Pb(s){return vt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wB(s,e,n,r,i,a,l,c){return new Bo(s,e,n,r,i,a,l,c)}function e1(s){return new Bo(s)}function sN(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function t1(s){return s.collectionGroup!==null}function ou(s){const e=Bt(s);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new mr(ur.comparator);return l.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new _p(a,r))})),n.has(ur.keyField().canonicalString())||e.ce.push(new _p(ur.keyField(),r))}return e.ce}function Oa(s){const e=Bt(s);return e.le||(e.le=jB(e,ou(s))),e.le}function jB(s,e){if(s.limitType==="F")return tN(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new _p(i.field,a)}));const n=s.endAt?new fu(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fu(s.startAt.position,s.startAt.inclusive):null;return tN(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Rb(s,e){const n=s.filters.concat([e]);return new Bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Uf(s,e,n){return new Bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Ev(s,e){return Z_(Oa(s),Oa(e))&&s.limitType===e.limitType}function a5(s){return`${J_(Oa(s))}|lt:${s.limitType}`}function Hd(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>r5(i))).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>gu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>gu(i))).join(",")),`Target(${r})`})(Oa(s))}; limitType=${s.limitType})`}function Av(s,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):vt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(s,e)&&(function(r,i){for(const a of ou(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(s,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(s,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,u){const h=ZS(l,c,u);return l.inclusive?h<=0:h<0})(r.startAt,ou(r),i)||r.endAt&&!(function(l,c,u){const h=ZS(l,c,u);return l.inclusive?h>=0:h>0})(r.endAt,ou(r),i))})(s,e)}function SB(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function o5(s){return(e,n)=>{let r=!1;for(const i of ou(s)){const a=NB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function NB(s,e,n){const r=s.field.isKeyField()?vt.comparator(e.key,n.key):(function(a,l,c){const u=l.data.field(a),h=c.data.field(a);return u!==null&&h!==null?mu(u,h):Ct()})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yc(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return X3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new an(vt.comparator);function Po(){return kB}const l5=new an(vt.comparator);function Mh(...s){let e=l5;for(const n of s)e=e.insert(n.key,n);return e}function c5(s){let e=l5;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ec(){return qh()}function d5(){return qh()}function qh(){return new Au((s=>s.toString()),((s,e)=>s.isEqual(e)))}const CB=new an(vt.comparator),IB=new mr(vt.comparator);function is(...s){let e=IB;for(const n of s)e=e.add(n);return e}const TB=new mr(Ss);function EB(){return TB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function u5(s){return{integerValue:""+s}}function AB(s,e){return oB(e)?u5(e):s1(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this._=void 0}}function PB(s,e,n){return s instanceof wp?(function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Tv(a)&&(a=Y_(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(n,e):s instanceof jp?p5(s,e):s instanceof Sp?m5(s,e):(function(i,a){const l=h5(i,a),c=nN(l)+nN(i.Pe);return Eb(l)&&Eb(i.Pe)?u5(c):s1(i.serializer,c)})(s,e)}function RB(s,e,n){return s instanceof jp?p5(s,e):s instanceof Sp?m5(s,e):n}function h5(s,e){return s instanceof zf?(function(r){return Eb(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class wp extends Pv{}class jp extends Pv{constructor(e){super(),this.elements=e}}function p5(s,e){const n=g5(e);for(const r of s.elements)n.some((i=>Wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Sp extends Pv{constructor(e){super(),this.elements=e}}function m5(s,e){let n=g5(e);for(const r of s.elements)n=n.filter((i=>!Wa(i,r)));return{arrayValue:{values:n}}}class zf extends Pv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nN(s){return bn(s.integerValue||s.doubleValue)}function g5(s){return X_(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n){this.field=e,this.transform=n}}function DB(s,e){return s.field.isEqual(e.field)&&(function(r,i){return r instanceof jp&&i instanceof jp||r instanceof Sp&&i instanceof Sp?pu(r.elements,i.elements,Wa):r instanceof zf&&i instanceof zf?Wa(r.Pe,i.Pe):r instanceof wp&&i instanceof wp})(s.transform,e.transform)}class MB{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Rv{}function f5(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Lv(s.key,hr.none()):new Gp(s.key,s.data,hr.none());{const n=s.data,r=zr.empty();let i=new mr(ur.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Ul(s.key,r,new ji(i.toArray()),hr.none())}}function FB(s,e,n){s instanceof Gp?(function(i,a,l){const c=i.value.clone(),u=iN(i.fieldTransforms,a,l.transformResults);c.setAll(u),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(s,e,n):s instanceof Ul?(function(i,a,l){if(!pf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=iN(i.fieldTransforms,a,l.transformResults),u=a.data;u.setAll(v5(i)),u.setAll(c),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(s,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Qh(s,e,n,r){return s instanceof Gp?(function(a,l,c,u){if(!pf(a.precondition,l))return c;const h=a.value.clone(),p=aN(a.fieldTransforms,u,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(s,e,n,r):s instanceof Ul?(function(a,l,c,u){if(!pf(a.precondition,l))return c;const h=aN(a.fieldTransforms,u,l),p=l.data;return p.setAll(v5(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(s,e,n,r):(function(a,l,c){return pf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(s,e,n)}function $B(s,e){let n=null;for(const r of s.fieldTransforms){const i=e.data.field(r.field),a=h5(r.transform,i||null);a!=null&&(n===null&&(n=zr.empty()),n.set(r.field,a))}return n||null}function rN(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pu(r,i,((a,l)=>DB(a,l)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Gp extends Rv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ul extends Rv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function v5(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function iN(s,e,n){const r=new Map;ys(s.length===n.length);for(let i=0;i<n.length;i++){const a=s[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,RB(l,c,n[i]))}return r}function aN(s,e,n){const r=new Map;for(const i of s){const a=i.transform,l=n.data.field(i.field);r.set(i.field,PB(a,l,e))}return r}class Lv extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x5 extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&FB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d5();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const u=f5(l,c);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(Pt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),is())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,((n,r)=>rN(n,r)))&&pu(this.baseMutations,e.baseMutations,((n,r)=>rN(n,r)))}}class n1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ys(e.mutations.length===r.length);let i=(function(){return CB})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new n1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,hs;function y5(s){switch(s){default:return Ct();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function b5(s){if(s===void 0)return Ao("GRPC error has no .code"),_e.UNKNOWN;switch(s){case Cn.OK:return _e.OK;case Cn.CANCELLED:return _e.CANCELLED;case Cn.UNKNOWN:return _e.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return _e.INTERNAL;case Cn.UNAVAILABLE:return _e.UNAVAILABLE;case Cn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Cn.NOT_FOUND:return _e.NOT_FOUND;case Cn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Cn.ABORTED:return _e.ABORTED;case Cn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Cn.DATA_LOSS:return _e.DATA_LOSS;default:return Ct()}}(hs=Cn||(Cn={}))[hs.OK=0]="OK",hs[hs.CANCELLED=1]="CANCELLED",hs[hs.UNKNOWN=2]="UNKNOWN",hs[hs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hs[hs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hs[hs.NOT_FOUND=5]="NOT_FOUND",hs[hs.ALREADY_EXISTS=6]="ALREADY_EXISTS",hs[hs.PERMISSION_DENIED=7]="PERMISSION_DENIED",hs[hs.UNAUTHENTICATED=16]="UNAUTHENTICATED",hs[hs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hs[hs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hs[hs.ABORTED=10]="ABORTED",hs[hs.OUT_OF_RANGE=11]="OUT_OF_RANGE",hs[hs.UNIMPLEMENTED=12]="UNIMPLEMENTED",hs[hs.INTERNAL=13]="INTERNAL",hs[hs.UNAVAILABLE=14]="UNAVAILABLE",hs[hs.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new Lc([4294967295,4294967295],0);function oN(s){const e=UB().encode(s),n=new z3;return n.update(e),new Uint8Array(n.digest())}function lN(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Lc([n,r],0),new Lc([i,a],0)]}class r1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fh(`Invalid padding: ${n}`);if(r<0)throw new Fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Lc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Lc.fromNumber(r)));return i.compare(zB)===1&&(i=new Lc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=oN(e),[r,i]=lN(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new r1(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.Ie===0)return;const n=oN(e),[r,i]=lN(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dv(Pt.min(),i,new an(Ss),Po(),is())}}class Wp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wp(r,n,is(),is(),is())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _5{constructor(e,n){this.targetId=e,this.me=n}}class w5{constructor(e,n,r=fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cN{constructor(){this.fe=0,this.ge=uN(),this.pe=fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=is(),n=is(),r=is();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ct()}})),new Wp(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=uN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ys(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Po(),this.qe=dN(),this.Qe=new an(Ss)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ct()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Pb(a))if(r===0){const l=new vt(a.path);this.Ue(n,l,qn.newNoDocument(l,Pt.min()))}else ys(r===1);else{const l=this.Ye(n);if(l!==r){const c=this.Ze(e),u=c?this.Xe(c,e,l):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=zc(r).toUint8Array()}catch(u){if(u instanceof J3)return hu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new r1(l,i,a)}catch(u){return hu(u instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,a,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((a,l)=>{const c=this.Je(l);if(c){if(a.current&&Pb(c.target)){const u=new vt(c.target.path);this.ke.get(u)!==null||this.it(l,u)||this.Ue(l,u,qn.newNoDocument(u,e))}a.be&&(n.set(l,a.ve()),a.Ce())}}));let r=is();this.qe.forEach(((a,l)=>{let c=!0;l.forEachWhile((u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const i=new Dv(e,n,this.Qe,this.ke,r);return this.ke=Po(),this.qe=dN(),this.Qe=new an(Ss),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cN,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mr(Ss),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cN),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dN(){return new an(vt.comparator)}function uN(){return new an(vt.comparator)}const GB={asc:"ASCENDING",desc:"DESCENDING"},WB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KB={and:"AND",or:"OR"};class qB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lb(s,e){return s.useProto3Json||Hp(e)?e:{value:e}}function Hf(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j5(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QB(s,e){return Hf(s,e.toTimestamp())}function Ni(s){return ys(!!s),Pt.fromTimestamp((function(n){const r=$l(n);return new Gs(r.seconds,r.nanos)})(s))}function i1(s,e){return Db(s,e).canonicalString()}function Db(s,e){const n=(function(i){return new Ps(["projects",i.projectId,"databases",i.database])})(s).child("documents");return e===void 0?n:n.child(e)}function S5(s){const e=Ps.fromString(s);return ys(E5(e)),e}function Gf(s,e){return i1(s.databaseId,e.path)}function Yh(s,e){const n=S5(e);if(n.get(1)!==s.databaseId.projectId)throw new Ye(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ye(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new vt(k5(n))}function N5(s,e){return i1(s.databaseId,e)}function YB(s){const e=S5(s);return e.length===4?Ps.emptyPath():k5(e)}function Mb(s){return new Ps(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function k5(s){return ys(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function hN(s,e,n){return{name:Gf(s,e),fields:n.value.mapValue.fields}}function XB(s,e){return"found"in e?(function(r,i){ys(!!i.found),i.found.name,i.found.updateTime;const a=Yh(r,i.found.name),l=Ni(i.found.updateTime),c=i.found.createTime?Ni(i.found.createTime):Pt.min(),u=new zr({mapValue:{fields:i.found.fields}});return qn.newFoundDocument(a,l,c,u)})(s,e):"missing"in e?(function(r,i){ys(!!i.missing),ys(!!i.readTime);const a=Yh(r,i.missing),l=Ni(i.readTime);return qn.newNoDocument(a,l)})(s,e):Ct()}function JB(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ct()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(ys(p===void 0||typeof p=="string"),fr.fromBase64String(p||"")):(ys(p===void 0||p instanceof Buffer||p instanceof Uint8Array),fr.fromUint8Array(p||new Uint8Array))})(s,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?_e.UNKNOWN:b5(h.code);return new Ye(p,h.message||"")})(l);n=new w5(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yh(s,r.document.name),a=Ni(r.document.updateTime),l=r.document.createTime?Ni(r.document.createTime):Pt.min(),c=new zr({mapValue:{fields:r.document.fields}}),u=qn.newFoundDocument(i,a,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new mf(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yh(s,r.document),a=r.readTime?Ni(r.readTime):Pt.min(),l=qn.newNoDocument(i,a),c=r.removedTargetIds||[];n=new mf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yh(s,r.document),a=r.removedTargetIds||[];n=new mf([],a,i,null)}else{if(!("filter"in e))return Ct();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new VB(i,a),c=r.targetId;n=new _5(c,l)}}return n}function C5(s,e){let n;if(e instanceof Gp)n={update:hN(s,e.key,e.value)};else if(e instanceof Lv)n={delete:Gf(s,e.key)};else if(e instanceof Ul)n={update:hN(s,e.key,e.data),updateMask:oO(e.fieldMask)};else{if(!(e instanceof x5))return Ct();n={verify:Gf(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof wp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Sp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Ct()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:QB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ct()})(s,e.precondition)),n}function ZB(s,e){return s&&s.length>0?(ys(e!==void 0),s.map((n=>(function(i,a){let l=i.updateTime?Ni(i.updateTime):Ni(a);return l.isEqual(Pt.min())&&(l=Ni(a)),new MB(l,i.transformResults||[])})(n,e)))):[]}function eO(s,e){return{documents:[N5(s,e.path)]}}function tO(s,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=N5(s,i);const a=(function(h){if(h.length!==0)return T5(ga.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:Gd(x.field),direction:rO(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Lb(s,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:n,parent:i}}function sO(s){let e=YB(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ys(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const x=I5(g);return x instanceof ga&&s5(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(_){return new _p(Wd(_.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let x;return x=typeof g=="object"?g.value:g,Hp(x)?null:x})(n.limit));let u=null;n.startAt&&(u=(function(g){const x=!!g.before,b=g.values||[];return new fu(b,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,b=g.values||[];return new fu(b,x)})(n.endAt)),wB(e,i,l,a,c,"F",u,h)}function nO(s,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function I5(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wd(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wd(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wd(n.unaryFilter.field);return An.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wd(n.unaryFilter.field);return An.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}})(s):s.fieldFilter!==void 0?(function(n){return An.create(Wd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ga.create(n.compositeFilter.filters.map((r=>I5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ct()}})(n.compositeFilter.op))})(s):Ct()}function rO(s){return GB[s]}function iO(s){return WB[s]}function aO(s){return KB[s]}function Gd(s){return{fieldPath:s.canonicalString()}}function Wd(s){return ur.fromServerFormat(s.fieldPath)}function T5(s){return s instanceof An?(function(n){if(n.op==="=="){if(JS(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NAN"}};if(XS(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JS(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NOT_NAN"}};if(XS(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gd(n.field),op:iO(n.op),value:n.value}}})(s):s instanceof ga?(function(n){const r=n.getFilters().map((i=>T5(i)));return r.length===1?r[0]:{compositeFilter:{op:aO(n.op),filters:r}}})(s):Ct()}function oO(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function E5(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r,i,a=Pt.min(),l=Pt.min(),c=fr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.ct=e}}function cO(s){const e=sO({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.un=new uO}addToCollectionParentIndex(e,n){return this.un.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}deleteAllFieldIndexes(e){return Le.resolve()}createTargetIndexes(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(Fl.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(Fl.min())}updateCollectionGroup(e,n,r){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}}class uO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mr(Ps.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mr(Ps.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vu(0)}static kn(){return new vu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new Au((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Qh(r.mutation,i,ji.empty(),Gs.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,is()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=is()){const i=Ec();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Mh();return a.forEach(((c,u)=>{l=l.insert(c,u.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ec();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,is())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=Po();const l=qh(),c=(function(){return qh()})();return n.forEach(((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ul)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Qh(p.mutation,h,p.mutation.getFieldMask(),Gs.now())):l.set(h.key,ji.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>{var g;return c.set(h,new pO(p,(g=l.get(h))!==null&&g!==void 0?g:null))})),c)))}recalculateAndSaveOverlays(e,n){const r=qh();let i=new an(((l,c)=>l-c)),a=is();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||ji.empty();p=c.applyToLocalView(h,p),r.set(u,p);const g=(i.get(c.batchId)||is()).add(u);i=i.insert(c.batchId,g)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,g=d5();p.forEach((x=>{if(!a.has(x)){const b=f5(n.get(x),r.get(x));b!==null&&g.set(x,b),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Le.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return vt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Le.resolve(Ec());let c=-1,u=a;return l.next((h=>Le.forEach(h,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(p)?Le.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{u=u.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,is()))).next((p=>({batchId:c,changes:c5(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next((r=>{let i=Mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Mh();return this.indexManager.getCollectionParents(e,a).next((c=>Le.forEach(c,(u=>{const h=(function(g,x){return new Bo(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((u,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,qn.newInvalidDocument(p)))}));let c=Mh();return l.forEach(((u,h)=>{const p=a.get(u);p!==void 0&&Qh(p.mutation,h,ji.empty(),Gs.now()),Av(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ni(i.createTime)}})(n)),Le.resolve()}getNamedQuery(e,n){return Le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:cO(i.bundledQuery),readTime:Ni(i.readTime)}})(n)),Le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.overlays=new an(vt.comparator),this.Ir=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ec();return Le.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.ht(e,n,a)})),Le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),Le.resolve()}getOverlaysForCollection(e,n,r){const i=Ec(),a=n.length+1,l=new vt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new an(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=Ec(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Ec(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return Le.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new OB(n,r));let a=this.Ir.get(n);a===void 0&&(a=is(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.sessionToken=fr.EMPTY_BYTE_STRING}getSessionToken(e){return Le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.Tr=new mr(Kn.Er),this.dr=new mr(Kn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Kn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new vt(new Ps([])),r=new Kn(n,e),i=new Kn(n,e+1),a=[];return this.dr.forEachInRange([r,i],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new vt(new Ps([])),r=new Kn(n,e),i=new Kn(n,e+1);let a=is();return this.dr.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Kn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return vt.comparator(e.key,n.key)||Ss(e.wr,n.wr)}static Ar(e,n){return Ss(e.wr,n.wr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mr(Kn.Er)}checkEmpty(e){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new BB(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.br=this.br.add(new Kn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Le.resolve(l)}lookupMutationBatch(e,n){return Le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(l=>{const c=this.Dr(l.wr);a.push(c)})),Le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mr(Ss);return n.forEach((i=>{const a=new Kn(i,0),l=new Kn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(c=>{r=r.add(c.wr)}))})),Le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;vt.isDocumentKey(a)||(a=a.child(""));const l=new Kn(new vt(a),0);let c=new mr(Ss);return this.br.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.wr)),!0)}),l),Le.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ys(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Le.forEach(n.mutations,(i=>{const a=new Kn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Kn(n,0),i=this.br.firstAfterOrEqual(r);return Le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.Mr=e,this.docs=(function(){return new an(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Le.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let r=Po();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():qn.newInvalidDocument(i))})),Le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Po();const l=n.path,c=new vt(l.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||nB(sB(p),r)<=0||(i.has(p.key)||Av(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ct()}Or(e,n){return Le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new bO(this)}getSize(e){return Le.resolve(this.size)}}class bO extends hO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),Le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.persistence=e,this.Nr=new Au((n=>J_(n)),Z_),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new a1,this.targetCount=0,this.kr=vu.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.Kn(n),Le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Le.waitFor(a).next((()=>i))}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Le.resolve(r)}containsKey(e,n){return Le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Q_(0),this.Kr=!1,this.Kr=!0,this.$r=new vO,this.referenceDelegate=e(this),this.Ur=new _O(this),this.indexManager=new dO,this.remoteDocumentCache=(function(i){return new yO(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new lO(n),this.Gr=new gO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){dt("MemoryPersistence","Starting transaction:",e);const i=new jO(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,n){return Le.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class jO extends iB{constructor(e){super(),this.currentSequenceNumber=e}}class o1{constructor(e){this.persistence=e,this.Jr=new a1,this.Yr=null}static Zr(e){return new o1(e)}get Xr(){if(this.Yr)return this.Yr;throw Ct()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Xr,(r=>{const i=vt.fromPath(r);return this.ei(e,i).next((a=>{a||n.removeEntry(i,Pt.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return Le.or([()=>Le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=is(),i=is();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new l1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return kM()?8:aB(kr())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new SO;return this.Xi(e,n,l).next((c=>{if(a.result=c,this.zi)return this.es(e,n,l,c.size)}))})).next((()=>a.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(wh()<=ls.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Hd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Le.resolve()):(wh()<=ls.DEBUG&&dt("QueryEngine","Query:",Hd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wh()<=ls.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Hd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oa(n))):Le.resolve())}Yi(e,n){if(sN(n))return Le.resolve(null);let r=Oa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Uf(n,null,"F"),r=Oa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=is(...a);return this.Ji.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.ts(n,c);return this.ns(n,h,l,u.readTime)?this.Yi(e,Uf(n,null,"F")):this.rs(e,h,n,u)}))))})))))}Zi(e,n,r,i){return sN(n)||i.isEqual(Pt.min())?Le.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(n,a);return this.ns(n,l,r,i)?Le.resolve(null):(wh()<=ls.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hd(n)),this.rs(e,l,n,tB(i,-1)).next((c=>c)))}))}ts(e,n){let r=new mr(o5(e));return n.forEach(((i,a)=>{Av(e,a)&&(r=r.add(a))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return wh()<=ls.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Hd(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new an(Ss),this._s=new Au((a=>J_(a)),Z_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function CO(s,e,n,r){return new kO(s,e,n,r)}async function A5(s,e){const n=Bt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let u=is();for(const h of i){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of a){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((h=>({hs:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function IO(s,e){const n=Bt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,p){const g=h.batch,x=g.keys();let b=Le.resolve();return x.forEach((_=>{b=b.next((()=>p.getEntry(u,_))).next((S=>{const C=h.docVersions.get(_);ys(C!==null),S.version.compareTo(C)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=is();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function P5(s){const e=Bt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function TO(s,e){const n=Bt(s),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const c=[];e.targetChanges.forEach(((p,g)=>{const x=i.get(g);if(!x)return;c.push(n.Ur.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Ur.addMatchingKeys(a,p.addedDocuments,g))));let b=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(fr.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(S,C,A){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(x,b,p)&&c.push(n.Ur.updateTargetData(a,b))}));let u=Po(),h=is();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(EO(a,l,e.documentUpdates).next((p=>{u=p.Ps,h=p.Is}))),!r.isEqual(Pt.min())){const p=n.Ur.getLastRemoteSnapshotVersion(a).next((g=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return Le.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(n.os=i,a)))}function EO(s,e,n){let r=is(),i=is();return n.forEach((a=>r=r.add(a))),e.getEntries(s,r).next((a=>{let l=Po();return n.forEach(((c,u)=>{const h=a.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Pt.min())?(e.removeEntry(c,u.readTime),l=l.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),l=l.insert(c,u)):dt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{Ps:l,Is:i}}))}function AO(s,e){const n=Bt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function PO(s,e){const n=Bt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((a=>a?(i=a,Le.resolve(i)):n.Ur.allocateTargetId(r).next((l=>(i=new kl(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Fb(s,e,n){const r=Bt(s),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!zp(l))throw l;dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function pN(s,e,n){const r=Bt(s);let i=Pt.min(),a=is();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(u,h,p){const g=Bt(u),x=g._s.get(p);return x!==void 0?Le.resolve(g.os.get(x)):g.Ur.getTargetData(h,p)})(r,l,Oa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,c.targetId).next((u=>{a=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,n?i:Pt.min(),n?a:is()))).next((c=>(RO(r,SB(e),c),{documents:c,Ts:a})))))}function RO(s,e,n){let r=s.us.get(e)||Pt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),s.us.set(e,r)}class mN{constructor(){this.activeTargetIds=EB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LO{constructor(){this.so=new mN,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg=null;function Hy(){return Cg===null?Cg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cg++,"0x"+Cg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class $O extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,l){const c=Hy(),u=this.xo(n,r.toUriEncodedString());dt("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,l),this.No(n,u,h,i).then((p=>(dt("RestConnection",`Received RPC '${n}' ${c}: `,p),p)),(p=>{throw hu("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(n,r,i,a,l,c){return this.Mo(n,r,i,a,l)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eu})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>n[l]=a)),i&&i.headers.forEach(((a,l)=>n[l]=a))}xo(n,r){const i=MO[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=Hy();return new Promise(((l,c)=>{const u=new H3;u.setWithCredentials(!0),u.listenOnce(G3.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case uf.NO_ERROR:const p=u.getResponseJson();dt(wr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case uf.TIMEOUT:dt(wr,`RPC '${e}' ${a} timed out`),c(new Ye(_e.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const g=u.getStatus();if(dt(wr,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const b=x==null?void 0:x.error;if(b&&b.status&&b.message){const _=(function(C){const A=C.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(A)>=0?A:_e.UNKNOWN})(b.status);c(new Ye(_,b.message))}else c(new Ye(_e.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ye(_e.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{dt(wr,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);dt(wr,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",h,r,15)}))}Bo(e,n,r){const i=Hy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=q3(),c=K3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=a.join("");dt(wr,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=l.createWebChannel(p,u);let x=!1,b=!1;const _=new FO({Io:C=>{b?dt(wr,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(x||(dt(wr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),x=!0),dt(wr,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},To:()=>g.close()}),S=(C,A,M)=>{C.listen(A,(j=>{try{M(j)}catch(y){setTimeout((()=>{throw y}),0)}}))};return S(g,Dh.EventType.OPEN,(()=>{b||(dt(wr,`RPC '${e}' stream ${i} transport opened.`),_.yo())})),S(g,Dh.EventType.CLOSE,(()=>{b||(b=!0,dt(wr,`RPC '${e}' stream ${i} transport closed`),_.So())})),S(g,Dh.EventType.ERROR,(C=>{b||(b=!0,hu(wr,`RPC '${e}' stream ${i} transport errored:`,C),_.So(new Ye(_e.UNAVAILABLE,"The operation could not be completed")))})),S(g,Dh.EventType.MESSAGE,(C=>{var A;if(!b){const M=C.data[0];ys(!!M);const j=M,y=j.error||((A=j[0])===null||A===void 0?void 0:A.error);if(y){dt(wr,`RPC '${e}' stream ${i} received error:`,y);const w=y.status;let P=(function(T){const L=Cn[T];if(L!==void 0)return b5(L)})(w),N=y.message;P===void 0&&(P=_e.INTERNAL,N="Unknown error status: "+w+" with message "+y.message),b=!0,_.So(new Ye(P,N)),g.close()}else dt(wr,`RPC '${e}' stream ${i} received:`,M),_.bo(M)}})),S(c,W3.STAT_EVENT,(C=>{C.stat===Ib.PROXY?dt(wr,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Ib.NOPROXY&&dt(wr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.wo()}),0),_}}function Gy(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(s){return new qB(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n,r,i,a,l,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new c1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(Ao(n.toString()),Ao("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Ye(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BO extends R5{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=JB(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?Ni(l.readTime):Pt.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Mb(this.serializer),n.addTarget=(function(a,l){let c;const u=l.target;if(c=Pb(u)?{documents:eO(a,u)}:{query:tO(a,u)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=j5(a,l.resumeToken);const h=Lb(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Pt.min())>0){c.readTime=Hf(a,l.snapshotVersion.toTimestamp());const h=Lb(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=nO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Mb(this.serializer),n.removeTarget=e,this.a_(n)}}class OO extends R5{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ys(!!e.streamToken),this.lastStreamToken=e.streamToken,ys(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ys(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ZB(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Mb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>C5(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ye(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,Db(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(_e.UNKNOWN,a.toString())}))}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Lo(e,Db(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ye(_e.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class UO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ao(n),this.D_=!1):dt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{Xc(this)&&(dt("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const h=Bt(u);h.L_.add(4),await Kp(h),h.q_.set("Unknown"),h.L_.delete(4),await Fv(h)})(this))}))})),this.q_=new UO(r,i)}}async function Fv(s){if(Xc(s))for(const e of s.B_)await e(!0)}async function Kp(s){for(const e of s.B_)await e(!1)}function L5(s,e){const n=Bt(s);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),p1(n)?h1(n):Pu(n).r_()&&u1(n,e))}function d1(s,e){const n=Bt(s),r=Pu(n);n.N_.delete(e),r.r_()&&D5(n,e),n.N_.size===0&&(r.r_()?r.o_():Xc(n)&&n.q_.set("Unknown"))}function u1(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pu(s).A_(e)}function D5(s,e){s.Q_.xe(e),Pu(s).R_(e)}function h1(s){s.Q_=new HB({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),Pu(s).start(),s.q_.v_()}function p1(s){return Xc(s)&&!Pu(s).n_()&&s.N_.size>0}function Xc(s){return Bt(s).L_.size===0}function M5(s){s.Q_=void 0}async function HO(s){s.q_.set("Online")}async function GO(s){s.N_.forEach(((e,n)=>{u1(s,e)}))}async function WO(s,e){M5(s),p1(s)?(s.q_.M_(e),h1(s)):s.q_.set("Unknown")}async function KO(s,e,n){if(s.q_.set("Online"),e instanceof w5&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.N_.delete(c),i.Q_.removeTarget(c))})(s,e)}catch(r){dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wf(s,r)}else if(e instanceof mf?s.Q_.Ke(e):e instanceof _5?s.Q_.He(e):s.Q_.We(e),!n.isEqual(Pt.min()))try{const r=await P5(s.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Q_.rt(l);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=a.N_.get(h);p&&a.N_.set(h,p.withResumeToken(u.resumeToken,l))}})),c.targetMismatches.forEach(((u,h)=>{const p=a.N_.get(u);if(!p)return;a.N_.set(u,p.withResumeToken(fr.EMPTY_BYTE_STRING,p.snapshotVersion)),D5(a,u);const g=new kl(p.target,u,h,p.sequenceNumber);u1(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(s,n)}catch(r){dt("RemoteStore","Failed to raise snapshot:",r),await Wf(s,r)}}async function Wf(s,e,n){if(!zp(e))throw e;s.L_.add(1),await Kp(s),s.q_.set("Offline"),n||(n=()=>P5(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{dt("RemoteStore","Retrying IndexedDB access"),await n(),s.L_.delete(1),await Fv(s)}))}function F5(s,e){return e().catch((n=>Wf(s,n,e)))}async function $v(s){const e=Bt(s),n=Bl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qO(e);)try{const i=await AO(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,QO(e,i)}catch(i){await Wf(e,i)}$5(e)&&B5(e)}function qO(s){return Xc(s)&&s.O_.length<10}function QO(s,e){s.O_.push(e);const n=Bl(s);n.r_()&&n.V_&&n.m_(e.mutations)}function $5(s){return Xc(s)&&!Bl(s).n_()&&s.O_.length>0}function B5(s){Bl(s).start()}async function YO(s){Bl(s).p_()}async function XO(s){const e=Bl(s);for(const n of s.O_)e.m_(n.mutations)}async function JO(s,e,n){const r=s.O_.shift(),i=n1.from(r,e,n);await F5(s,(()=>s.remoteSyncer.applySuccessfulWrite(i))),await $v(s)}async function ZO(s,e){e&&Bl(s).V_&&await(async function(r,i){if((function(l){return y5(l)&&l!==_e.ABORTED})(i.code)){const a=r.O_.shift();Bl(r).s_(),await F5(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await $v(r)}})(s,e),$5(s)&&B5(s)}async function fN(s,e){const n=Bt(s);n.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const r=Xc(n);n.L_.add(3),await Kp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Fv(n)}async function eV(s,e){const n=Bt(s);e?(n.L_.delete(2),await Fv(n)):e||(n.L_.add(2),await Kp(n),n.q_.set("Unknown"))}function Pu(s){return s.K_||(s.K_=(function(n,r,i){const a=Bt(n);return a.w_(),new BO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(s.datastore,s.asyncQueue,{Eo:HO.bind(null,s),Ro:GO.bind(null,s),mo:WO.bind(null,s),d_:KO.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),p1(s)?h1(s):s.q_.set("Unknown")):(await s.K_.stop(),M5(s))}))),s.K_}function Bl(s){return s.U_||(s.U_=(function(n,r,i){const a=Bt(n);return a.w_(),new OO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YO.bind(null,s),mo:ZO.bind(null,s),f_:XO.bind(null,s),g_:JO.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await $v(s)):(await s.U_.stop(),s.O_.length>0&&(dt("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new m1(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g1(s,e){if(Ao("AsyncQueue",`${e}: ${s}`),zp(s))return new Ye(_e.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=Mh(),this.sortedSet=new an(this.comparator)}static emptySet(e){return new lu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.W_=new an(vt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ct():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xu{constructor(e,n,r,i,a,l,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new xu(e,n,lu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class sV{constructor(){this.queries=xN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Bt(n),a=i.queries;i.queries=xN(),a.forEach(((l,c)=>{for(const u of c.j_)u.onError(r)}))})(this,new Ye(_e.ABORTED,"Firestore shutting down"))}}function xN(){return new Au((s=>a5(s)),Ev)}async function O5(s,e){const n=Bt(s);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new tV,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=g1(l,`Initialization of query '${Hd(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&f1(n)}async function V5(s,e){const n=Bt(s),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nV(s,e){const n=Bt(s);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.j_)c.X_(i)&&(r=!0);l.z_=i}}r&&f1(n)}function rV(s,e,n){const r=Bt(s),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function f1(s){s.Y_.forEach((e=>{e.next()}))}var $b,yN;(yN=$b||($b={})).ea="default",yN.Cache="cache";class U5{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$b.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.key=e}}class H5{constructor(e){this.key=e}}class iV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=is(),this.mutatedKeys=is(),this.Aa=o5(e),this.Ra=new lu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new vN,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const x=i.get(p),b=Av(this.query,g)?g:null,_=!!x&&this.mutatedKeys.has(x.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;x&&b?x.data.isEqual(b.data)?_!==S&&(r.track({type:3,doc:b}),C=!0):this.ga(x,b)||(r.track({type:2,doc:b}),C=!0,(u&&this.Aa(b,u)>0||h&&this.Aa(b,h)<0)&&(c=!0)):!x&&b?(r.track({type:0,doc:b}),C=!0):x&&!b&&(r.track({type:1,doc:x}),C=!0,(u||h)&&(c=!0)),C&&(b?(l=l.add(b),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ra:l,fa:r,ns:c,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((p,g)=>(function(b,_){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return S(b)-S(_)})(p.type,g.type)||this.Aa(p.doc,g.doc))),this.pa(r),i=i!=null&&i;const c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,l.length!==0||h?{snapshot:new xu(this.query,e.Ra,a,l,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vN,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=is(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new H5(r))})),this.da.forEach((r=>{e.has(r)||n.push(new z5(r))})),n}ba(e){this.Ta=e.Ts,this.da=is();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class aV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oV{constructor(e){this.key=e,this.va=!1}}class lV{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Au((c=>a5(c)),Ev),this.Ma=new Map,this.xa=new Set,this.Oa=new an(vt.comparator),this.Na=new Map,this.La=new a1,this.Ba={},this.ka=new Map,this.qa=vu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cV(s,e,n=!0){const r=Y5(s);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await G5(r,e,n,!0),i}async function dV(s,e){const n=Y5(s);await G5(n,e,!0,!1)}async function G5(s,e,n,r){const i=await PO(s.localStore,Oa(e)),a=i.targetId,l=s.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await uV(s,e,a,l==="current",i.resumeToken)),s.isPrimaryClient&&n&&L5(s.remoteStore,i),c}async function uV(s,e,n,r,i){s.Ka=(g,x,b)=>(async function(S,C,A,M){let j=C.view.ma(A);j.ns&&(j=await pN(S.localStore,C.query,!1).then((({documents:N})=>C.view.ma(N,j))));const y=M&&M.targetChanges.get(C.targetId),w=M&&M.targetMismatches.get(C.targetId)!=null,P=C.view.applyChanges(j,S.isPrimaryClient,y,w);return _N(S,C.targetId,P.wa),P.snapshot})(s,g,x,b);const a=await pN(s.localStore,e,!0),l=new iV(e,a.Ts),c=l.ma(a.documents),u=Wp.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",i),h=l.applyChanges(c,s.isPrimaryClient,u);_N(s,n,h.wa);const p=new aV(e,n,l);return s.Fa.set(e,p),s.Ma.has(n)?s.Ma.get(n).push(e):s.Ma.set(n,[e]),h.snapshot}async function hV(s,e,n){const r=Bt(s),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((l=>!Ev(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&d1(r.remoteStore,i.targetId),Bb(r,i.targetId)})).catch(Up)):(Bb(r,i.targetId),await Fb(r.localStore,i.targetId,!0))}async function pV(s,e){const n=Bt(s),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d1(n.remoteStore,r.targetId))}async function mV(s,e,n){const r=_V(s);try{const i=await(function(l,c){const u=Bt(l),h=Gs.now(),p=c.reduce(((b,_)=>b.add(_.key)),is());let g,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let _=Po(),S=is();return u.cs.getEntries(b,p).next((C=>{_=C,_.forEach(((A,M)=>{M.isValidDocument()||(S=S.add(A))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,_))).next((C=>{g=C;const A=[];for(const M of c){const j=$B(M,g.get(M.key).overlayedDocument);j!=null&&A.push(new Ul(M.key,j,Z3(j.value.mapValue),hr.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,A,c)})).next((C=>{x=C;const A=C.applyToLocalDocumentSet(g,S);return u.documentOverlayCache.saveOverlays(b,C.batchId,A)}))})).then((()=>({batchId:x.batchId,changes:c5(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,u){let h=l.Ba[l.currentUser.toKey()];h||(h=new an(Ss)),h=h.insert(c,u),l.Ba[l.currentUser.toKey()]=h})(r,i.batchId,n),await qp(r,i.changes),await $v(r.remoteStore)}catch(i){const a=g1(i,"Failed to persist write");n.reject(a)}}async function W5(s,e){const n=Bt(s);try{const r=await TO(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Na.get(a);l&&(ys(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?ys(l.va):i.removedDocuments.size>0&&(ys(l.va),l.va=!1))})),await qp(n,r,e)}catch(r){await Up(r)}}function bN(s,e,n){const r=Bt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((a,l)=>{const c=l.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const u=Bt(l);u.onlineState=c;let h=!1;u.queries.forEach(((p,g)=>{for(const x of g.j_)x.Z_(c)&&(h=!0)})),h&&f1(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gV(s,e,n){const r=Bt(s);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let l=new an(vt.comparator);l=l.insert(a,qn.newNoDocument(a,Pt.min()));const c=is().add(a),u=new Dv(Pt.min(),new Map,new an(Ss),l,c);await W5(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),v1(r)}else await Fb(r.localStore,e,!1).then((()=>Bb(r,e,n))).catch(Up)}async function fV(s,e){const n=Bt(s),r=e.batch.batchId;try{const i=await IO(n.localStore,e);q5(n,r,null),K5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qp(n,i)}catch(i){await Up(i)}}async function vV(s,e,n){const r=Bt(s);try{const i=await(function(l,c){const u=Bt(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(ys(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);q5(r,e,n),K5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qp(r,i)}catch(i){await Up(i)}}function K5(s,e){(s.ka.get(e)||[]).forEach((n=>{n.resolve()})),s.ka.delete(e)}function q5(s,e,n){const r=Bt(s);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Bb(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Ma.get(e))s.Fa.delete(r),n&&s.Ca.$a(r,n);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((r=>{s.La.containsKey(r)||Q5(s,r)}))}function Q5(s,e){s.xa.delete(e.path.canonicalString());const n=s.Oa.get(e);n!==null&&(d1(s.remoteStore,n),s.Oa=s.Oa.remove(e),s.Na.delete(n),v1(s))}function _N(s,e,n){for(const r of n)r instanceof z5?(s.La.addReference(r.key,e),xV(s,r)):r instanceof H5?(dt("SyncEngine","Document no longer in limbo: "+r.key),s.La.removeReference(r.key,e),s.La.containsKey(r.key)||Q5(s,r.key)):Ct()}function xV(s,e){const n=e.key,r=n.path.canonicalString();s.Oa.get(n)||s.xa.has(r)||(dt("SyncEngine","New document in limbo: "+n),s.xa.add(r),v1(s))}function v1(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const n=new vt(Ps.fromString(e)),r=s.qa.next();s.Na.set(r,new oV(n)),s.Oa=s.Oa.insert(n,r),L5(s.remoteStore,new kl(Oa(e1(n.path)),r,"TargetPurposeLimboResolution",Q_.oe))}}async function qp(s,e,n){const r=Bt(s),i=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((c,u)=>{l.push(r.Ka(u,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=l1.Wi(u.targetId,h);a.push(g)}})))})),await Promise.all(l),r.Ca.d_(i),await(async function(u,h){const p=Bt(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Le.forEach(h,(x=>Le.forEach(x.$i,(b=>p.persistence.referenceDelegate.addReference(g,x.targetId,b))).next((()=>Le.forEach(x.Ui,(b=>p.persistence.referenceDelegate.removeReference(g,x.targetId,b)))))))))}catch(g){if(!zp(g))throw g;dt("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const b=p.os.get(x),_=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(_);p.os=p.os.insert(x,S)}}})(r.localStore,a))}async function yV(s,e){const n=Bt(s);if(!n.currentUser.isEqual(e)){dt("SyncEngine","User change. New user:",e.toKey());const r=await A5(n.localStore,e);n.currentUser=e,(function(a,l){a.ka.forEach((c=>{c.forEach((u=>{u.reject(new Ye(_e.CANCELLED,l))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qp(n,r.hs)}}function bV(s,e){const n=Bt(s),r=n.Na.get(e);if(r&&r.va)return is().add(r.key);{let i=is();const a=n.Ma.get(e);if(!a)return i;for(const l of a){const c=n.Fa.get(l);i=i.unionWith(c.view.Va)}return i}}function Y5(s){const e=Bt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=W5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gV.bind(null,e),e.Ca.d_=nV.bind(null,e.eventManager),e.Ca.$a=rV.bind(null,e.eventManager),e}function _V(s){const e=Bt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vV.bind(null,e),e}class Kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return CO(this.persistence,new NO,e.initialUser,this.serializer)}Ga(e){return new wO(o1.Zr,this.serializer)}Wa(e){return new LO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kf.provider={build:()=>new Kf};class Ob{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,this.syncEngine),await eV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sV})()}createDatastore(e){const n=Mv(e.databaseInfo.databaseId),r=(function(a){return new $O(a)})(e.databaseInfo);return(function(a,l,c,u){return new VO(a,l,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new zO(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>bN(this.syncEngine,n,0)),(function(){return gN.D()?new gN:new DO})())}createSyncEngine(e,n){return(function(i,a,l,c,u,h,p){const g=new lV(i,a,l,c,u,h);return p&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Bt(i);dt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Kp(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ob.provider={build:()=>new Ob};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ao("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ye(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const l=Bt(i),c={documents:a.map((g=>Gf(l.serializer,g)))},u=await l.Lo("BatchGetDocuments",l.serializer.databaseId,Ps.emptyPath(),c,a.length),h=new Map;u.forEach((g=>{const x=XB(l.serializer,g);h.set(x.key.toString(),x)}));const p=[];return a.forEach((g=>{const x=h.get(g.toString());ys(!!x),p.push(x)})),p})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=vt.fromPath(r);this.mutations.push(new x5(i,this.precondition(i)))})),await(async function(r,i){const a=Bt(r),l={writes:i.map((c=>C5(a.serializer,c)))};await a.Mo("Commit",a.serializer.databaseId,Ps.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ct();n=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ye(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Pt.min())?hr.exists(!1):hr.updateTime(n):hr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Pt.min()))throw new Ye(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(n)}return hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this._u=r.maxAttempts,this.t_=new c1(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new wV(this.datastore),n=this.cu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.lu(i)}))))})).catch((r=>{this.lu(r)}))}))}cu(e){try{const n=this.updateFunction(e);return!Hp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!y5(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=Y3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{dt("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(dt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Wy(s,e){s.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async i=>{r.isEqual(i)||(await A5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function wN(s,e){s.asyncQueue.verifyOperationInProgress();const n=await NV(s);dt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>fN(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,i)=>fN(e.remoteStore,i))),s._onlineComponents=e}async function NV(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){dt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wy(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;hu("Error using user provided cache. Falling back to memory cache: "+n),await Wy(s,new Kf)}}else dt("FirestoreClient","Using default OfflineComponentProvider"),await Wy(s,new Kf);return s._offlineComponents}async function x1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(dt("FirestoreClient","Using user provided OnlineComponentProvider"),await wN(s,s._uninitializedComponentsProvider._online)):(dt("FirestoreClient","Using default OnlineComponentProvider"),await wN(s,new Ob))),s._onlineComponents}function kV(s){return x1(s).then((e=>e.syncEngine))}function CV(s){return x1(s).then((e=>e.datastore))}async function J5(s){const e=await x1(s),n=e.eventManager;return n.onListen=cV.bind(null,e.syncEngine),n.onUnlisten=hV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pV.bind(null,e.syncEngine),n}function IV(s,e,n={}){const r=new Ba;return s.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,u,h){const p=new X5({next:x=>{p.Za(),l.enqueueAndForget((()=>V5(a,g)));const b=x.docs.has(c);!b&&x.fromCache?h.reject(new Ye(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&u&&u.source==="server"?h.reject(new Ye(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new U5(e1(c.path),p,{includeMetadataChanges:!0,_a:!0});return O5(a,g)})(await J5(s),s.asyncQueue,e,n,r))),r.promise}function TV(s,e,n={}){const r=new Ba;return s.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,u,h){const p=new X5({next:x=>{p.Za(),l.enqueueAndForget((()=>V5(a,g))),x.fromCache&&u.source==="server"?h.reject(new Ye(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new U5(c,p,{includeMetadataChanges:!0,_a:!0});return O5(a,g)})(await J5(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s,e,n){if(!n)throw new Ye(_e.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function EV(s,e,n,r){if(e===!0&&r===!0)throw new Ye(_e.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function SN(s){if(!vt.isDocumentKey(s))throw new Ye(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function NN(s){if(vt.isDocumentKey(s))throw new Ye(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Bv(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ct()}function Ka(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ye(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bv(s);throw new Ye(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function AV(s,e){if(e<=0)throw new Ye(_e.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ye(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ye(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ye(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ye(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kN({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kN(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new W$;switch(r.type){case"firstParty":return new Y$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ye(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jN.get(n);r&&(dt("ComponentProvider","Removing Datastore"),jN.delete(n),r.terminate())})(this),Promise.resolve()}}function PV(s,e,n,r={}){var i;const a=(s=Ka(s,Qp))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Sr.MOCK_USER;else{c=yM(r.mockUserToken,(i=s._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ye(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sr(h)}s._authCredentials=new K$(new Q3(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class Hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}}class Ml extends xa{constructor(e,n,r){super(e,n,e1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new vt(e))}withConverter(e){return new Ml(this.firestore,e,this._path)}}function qa(s,e,...n){if(s=Rn(s),y1("collection","path",e),s instanceof Qp){const r=Ps.fromString(e,...n);return NN(r),new Ml(s,null,r)}{if(!(s instanceof Hr||s instanceof Ml))throw new Ye(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ps.fromString(e,...n));return NN(r),new Ml(s.firestore,null,r)}}function Yp(s,e){if(s=Ka(s,Qp),y1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ye(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xa(s,null,(function(r){return new Bo(Ps.emptyPath(),r)})(e))}function rs(s,e,...n){if(s=Rn(s),arguments.length===1&&(e=Y3.newId()),y1("doc","path",e),s instanceof Qp){const r=Ps.fromString(e,...n);return SN(r),new Hr(s,null,new vt(r))}{if(!(s instanceof Hr||s instanceof Ml))throw new Ye(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ps.fromString(e,...n));return SN(r),new Hr(s.firestore,s instanceof Ml?s.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new c1(this,"async_queue_retry"),this.Vu=()=>{const r=Gy();r&&dt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Gy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Gy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Ba;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zp(e))throw e;dt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c})(r);throw Ao("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=m1.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&Ct()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Ru extends Qp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CN(e),this._firestoreClient=void 0,await e}}}function RV(s,e){const n=typeof s=="object"?s:F_(),r=typeof s=="string"?s:"(default)",i=M_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=vM("firestore");a&&PV(i,...a)}return i}function Xp(s){if(s._terminated)throw new Ye(_e.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LV(s),s._firestoreClient}function LV(s){var e,n,r;const i=s._freezeSettings(),a=(function(c,u,h,p){return new cB(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Z5(p.experimentalLongPollingOptions),p.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,i);s._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),s._firestoreClient=new SV(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gc(fr.fromBase64String(e))}catch(n){throw new Ye(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gc(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ye(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Vb(){return new Lu("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ye(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ye(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ss(this._lat,e._lat)||Ss(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=/^__.*__$/;class MV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ul(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gp(e,this.data,n,this.fieldTransforms)}}class eE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ul(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class w1{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new w1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return qf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tE(this.Cu)&&DV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class FV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mv(e)}Qu(e,n,r,i=!1){return new w1({Cu:e,methodName:n,qu:r,path:ur.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(s){const e=s._freezeSettings(),n=Mv(s._databaseId);return new FV(s._databaseId,!!e.ignoreUndefinedProperties,n)}function j1(s,e,n,r,i,a={}){const l=s.Qu(a.merge||a.mergeFields?2:0,e,n,i);N1("Data must be an object, but it was:",l,r);const c=iE(r,l);let u,h;if(a.merge)u=new ji(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const x=Ub(e,g,n);if(!l.contains(x))throw new Ye(_e.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);oE(p,x)||p.push(x)}u=new ji(p),h=l.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=l.fieldTransforms;return new MV(new zr(c),u,h)}class Vv extends Ov{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vv}}class S1 extends Ov{_toFieldTransform(e){return new LB(e.path,new wp)}isEqual(e){return e instanceof S1}}function sE(s,e,n,r){const i=s.Qu(1,e,n);N1("Data must be an object, but it was:",i,r);const a=[],l=zr.empty();Yc(r,((u,h)=>{const p=k1(e,u,n);h=Rn(h);const g=i.Nu(p);if(h instanceof Vv)a.push(p);else{const x=Zp(h,g);x!=null&&(a.push(p),l.set(p,x))}}));const c=new ji(a);return new eE(l,c,i.fieldTransforms)}function nE(s,e,n,r,i,a){const l=s.Qu(1,e,n),c=[Ub(e,r,n)],u=[i];if(a.length%2!=0)throw new Ye(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(Ub(e,a[x])),u.push(a[x+1]);const h=[],p=zr.empty();for(let x=c.length-1;x>=0;--x)if(!oE(h,c[x])){const b=c[x];let _=u[x];_=Rn(_);const S=l.Nu(b);if(_ instanceof Vv)h.push(b);else{const C=Zp(_,S);C!=null&&(h.push(b),p.set(b,C))}}const g=new ji(h);return new eE(p,g,l.fieldTransforms)}function rE(s,e,n,r=!1){return Zp(n,s.Qu(r?4:3,e))}function Zp(s,e){if(aE(s=Rn(s)))return N1("Unsupported field value:",e,s),iE(s,e);if(s instanceof Ov)return(function(r,i){if(!tE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let u=Zp(c,i.Lu(l));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),l++}return{arrayValue:{values:a}}})(s,e)}return(function(r,i){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Gs.fromDate(r);return{timestampValue:Hf(i.serializer,a)}}if(r instanceof Gs){const a=new Gs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(i.serializer,a)}}if(r instanceof b1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gc)return{bytesValue:j5(i.serializer,r._byteString)};if(r instanceof Hr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:i1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _1)return(function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return s1(c.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Bv(r)}`)})(s,e)}function iE(s,e){const n={};return X3(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yc(s,((r,i)=>{const a=Zp(i,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function aE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Gs||s instanceof b1||s instanceof Gc||s instanceof Hr||s instanceof Ov||s instanceof _1)}function N1(s,e,n){if(!aE(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Bv(n);throw r==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+r)}}function Ub(s,e,n){if((e=Rn(e))instanceof Lu)return e._internalPath;if(typeof e=="string")return k1(s,e);throw qf("Field path arguments must be of type string or ",s,!1,void 0,n)}const $V=new RegExp("[~\\*/\\[\\]]");function k1(s,e,n){if(e.search($V)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Lu(...e.split("."))._internalPath}catch(r){throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function qf(s,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(a||l)&&(u+=" (found",a&&(u+=` in field ${r}`),l&&(u+=` in document ${i}`),u+=")"),new Ye(_e.INVALID_ARGUMENT,c+s+u)}function oE(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BV extends Np{data(){return super.data()}}function Uv(s,e){return typeof e=="string"?k1(s,e):e instanceof Lu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ye(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C1{}class em extends C1{}function Pn(s,e,...n){let r=[];e instanceof C1&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((u=>u instanceof I1)).length,c=a.filter((u=>u instanceof zv)).length;if(l>1||l>0&&c>0)throw new Ye(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)s=i._apply(s);return s}class zv extends em{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zv(e,n,r)}_apply(e){const n=this._parse(e);return cE(e._query,n),new xa(e.firestore,e.converter,Rb(e._query,n))}_parse(e){const n=Jp(e.firestore);return(function(a,l,c,u,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ye(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){TN(g,p);const b=[];for(const _ of g)b.push(IN(u,a,_));x={arrayValue:{values:b}}}else x=IN(u,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||TN(g,p),x=rE(c,l,g,p==="in"||p==="not-in");return An.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wi(s,e,n){const r=e,i=Uv("where",s);return zv._create(i,r,n)}class I1 extends C1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new I1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ga.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const u of c)cE(l,u),l=Rb(l,u)})(e._query,n),new xa(e.firestore,e.converter,Rb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T1 extends em{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new T1(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Ye(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ye(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _p(a,l)})(e._query,this._field,this._direction);return new xa(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Bo(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Si(s,e="asc"){const n=e,r=Uv("orderBy",s);return T1._create(r,n)}class E1 extends em{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new E1(e,n,r)}_apply(e){return new xa(e.firestore,e.converter,Uf(e._query,this._limit,this._limitType))}}function Qn(s){return AV("limit",s),E1._create("limit",s,"F")}class Hv extends em{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Hv(e,n,r)}_apply(e){const n=lE(e,this.type,this._docOrFields,this._inclusive);return new xa(e.firestore,e.converter,(function(i,a){return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function Cl(...s){return Hv._create("startAt",s,!0)}function VV(...s){return Hv._create("startAfter",s,!1)}class A1 extends em{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new A1(e,n,r)}_apply(e){const n=lE(e,this.type,this._docOrFields,this._inclusive);return new xa(e.firestore,e.converter,(function(i,a){return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function Il(...s){return A1._create("endAt",s,!0)}function lE(s,e,n,r){if(n[0]=Rn(n[0]),n[0]instanceof Np)return(function(a,l,c,u,h){if(!u)throw new Ye(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const g of ou(a))if(g.field.isKeyField())p.push(Vf(l,u.key));else{const x=u.data.field(g.field);if(Tv(x))throw new Ye(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const b=g.field.canonicalString();throw new Ye(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(x)}return new fu(p,h)})(s._query,s.firestore._databaseId,e,n[0]._document,r);{const i=Jp(s.firestore);return(function(l,c,u,h,p,g){const x=l.explicitOrderBy;if(p.length>x.length)throw new Ye(_e.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let _=0;_<p.length;_++){const S=p[_];if(x[_].field.isKeyField()){if(typeof S!="string")throw new Ye(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof S}`);if(!t1(l)&&S.indexOf("/")!==-1)throw new Ye(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${S}' contains a slash.`);const C=l.path.child(Ps.fromString(S));if(!vt.isDocumentKey(C))throw new Ye(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const A=new vt(C);b.push(Vf(c,A))}else{const C=rE(u,h,S);b.push(C)}}return new fu(b,g)})(s._query,s.firestore._databaseId,i,e,n,r)}}function IN(s,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new Ye(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t1(e)&&n.indexOf("/")!==-1)throw new Ye(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ps.fromString(n));if(!vt.isDocumentKey(r))throw new Ye(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vf(s,new vt(r))}if(n instanceof Hr)return Vf(s,n._key);throw new Ye(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bv(n)}.`)}function TN(s,e){if(!Array.isArray(s)||s.length===0)throw new Ye(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cE(s,e){const n=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(s.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ye(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ye(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dE{convertValue(e,n="none"){switch(Hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yc(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>bn(l.doubleValue)));return new _1(a)}convertGeoPoint(e){return new b1(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Y_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xp(e));default:return null}}convertTimestamp(e){const n=$l(e);return new Gs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ps.fromString(e);ys(E5(r));const i=new yp(r.get(1),r.get(3)),a=new vt(r.popFirst(5));return i.isEqual(n)||Ao(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class UV extends dE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R1 extends Np{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Uv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gf extends R1{data(e={}){return super.data(e)}}class zV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new qd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ye(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const u=new gf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const u=new gf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:HV(c.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HV(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(s){s=Ka(s,Hr);const e=Ka(s.firestore,Ru);return IV(Xp(e),s._key).then((n=>GV(e,s,n)))}class L1 extends dE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,n)}}function rn(s){s=Ka(s,xa);const e=Ka(s.firestore,Ru),n=Xp(e),r=new L1(e);return OV(s._query),TV(n,s._query).then((i=>new zV(e,r,s,i)))}function Ro(s,e,n){s=Ka(s,Hr);const r=Ka(s.firestore,Ru),i=P1(s.converter,e,n);return uE(r,[j1(Jp(r),"setDoc",s._key,i,s.converter!==null,n).toMutation(s._key,hr.none())])}function uE(s,e){return(function(r,i){const a=new Ba;return r.asyncQueue.enqueueAndForget((async()=>mV(await kV(r),i,a))),a.promise})(Xp(s),e)}function GV(s,e,n){const r=n.docs.get(e._key),i=new L1(s);return new R1(s,i,e._key,r,new qd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jp(e)}set(e,n,r){this._verifyNotCommitted();const i=Sl(e,this._firestore),a=P1(i.converter,n,r),l=j1(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,hr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Sl(e,this._firestore);let l;return l=typeof(n=Rn(n))=="string"||n instanceof Lu?nE(this._dataReader,"WriteBatch.update",a._key,n,r,i):sE(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Sl(e,this._firestore);return this._mutations=this._mutations.concat(new Lv(n._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sl(s,e){if((s=Rn(s)).firestore!==e)throw new Ye(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Jp(n)}get(n){const r=Sl(n,this._firestore),i=new UV(this._firestore);return this._transaction.lookup([r._key]).then((a=>{if(!a||a.length!==1)return Ct();const l=a[0];if(l.isFoundDocument())return new Np(this._firestore,i,l.key,l,r.converter);if(l.isNoDocument())return new Np(this._firestore,i,r._key,null,r.converter);throw Ct()}))}set(n,r,i){const a=Sl(n,this._firestore),l=P1(a.converter,r,i),c=j1(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(n,r,i,...a){const l=Sl(n,this._firestore);let c;return c=typeof(r=Rn(r))=="string"||r instanceof Lu?nE(this._dataReader,"Transaction.update",l._key,r,i,a):sE(this._dataReader,"Transaction.update",l._key,r),this._transaction.update(l._key,c),this}delete(n){const r=Sl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Sl(e,this._firestore),r=new L1(this._firestore);return super.get(e).then((i=>new R1(this._firestore,r,n._key,i._document,new qd(!1,!1),n.converter)))}}function QV(s,e,n){s=Ka(s,Ru);const r=Object.assign(Object.assign({},WV),n);return(function(a){if(a.maxAttempts<1)throw new Ye(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,l,c){const u=new Ba;return a.asyncQueue.enqueueAndForget((async()=>{const h=await CV(a);new jV(a.asyncQueue,h,c,l,u).au()})),u.promise})(Xp(s),(i=>e(new qV(s,i))),r)}function Vi(){return new S1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(s){return Xp(s=Ka(s,Ru)),new KV(s,(e=>uE(s,e)))}(function(e,n=!0){(function(i){Eu=i})(Iu),uu(new Bc("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Ru(new q$(r.getProvider("auth-internal")),new J$(r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ye(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yp(h.options.projectId,p)})(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Ll(WS,"4.7.3",e),Ll(WS,"4.7.3","esm2017")})();const hE={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};hE.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const pE=LF().length?F_():l3(hE),yt=RV(pE),oa=H$(pE),mE=E.createContext(void 0),EN=`${va}/auth/session`,AN=`${va}/auth/logout`,Ky="sfh:authPopupNonce",XV=2e3,JV=new Set(["auth/popup-blocked","auth/popup-closed-by-user","auth/cancelled-popup-request","auth/operation-not-supported-in-this-environment"]),ZV=()=>{var e;if(typeof window=="undefined")return!1;try{const n=(e=window.localStorage)==null?void 0:e.getItem("sfh:debug:auth");if(n==="1"||n==="true")return!0}catch(n){console.warn("[Auth] Failed to read auth debug flag",n)}return!1},ra=(...s)=>{ZV()&&console.info(...s)},eU=()=>{var s;try{const e=new Uint8Array(16);if(typeof window!="undefined"&&((s=window.crypto)!=null&&s.getRandomValues))return window.crypto.getRandomValues(e),Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}catch(e){}return Math.random().toString(36).slice(2,14)},PN=(s,e)=>{try{const n=new URL(`${va}/auth/${s}/login`);return(e==null?void 0:e.mode)==="popup"&&n.searchParams.set("mode","popup"),e!=null&&e.nonce&&n.searchParams.set("nonce",e.nonce),n.toString()}catch(n){return console.warn("[Auth] Failed to construct login URL",n),""}},tU=()=>{var e;const s=new Set;typeof window!="undefined"&&((e=window.location)!=null&&e.origin)&&s.add(window.location.origin);try{s.add(new URL(va).origin)}catch(n){console.warn("[Auth] Failed to parse AUTH_BASE_URL for allowed origins",n)}return s},sU=({children:s})=>{const[e,n]=E.useState(null),[r,i]=E.useState("idle"),a=E.useRef({tried:!1}),l=E.useRef(!1),c=E.useRef(!1),u=E.useMemo(()=>{try{return new bo}catch(y){return console.warn("[Auth] Failed to initialize Google provider",y),null}},[]),h=E.useCallback(y=>{y!=null&&y.authenticated&&y.user?(n(y.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),p=E.useCallback(async y=>{if(y!=null&&y.silent||i("loading"),!EN)return console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated"),!1;try{const w=await fetch(EN,{credentials:"include"});if(!w.ok)throw new Error(`Failed to fetch session (${w.status})`);const P=await w.json();return h(P),!!(P!=null&&P.authenticated&&P.user)}catch(w){return console.error("[Auth] Failed to refresh session.",w),n(null),i("unauthenticated"),!1}},[h]);E.useEffect(()=>{p()},[p]),E.useEffect(()=>{console.log("[AuthDebug] session user:",e);const y=oa.currentUser;console.log("[AuthDebug] firebase currentUser uid:",y==null?void 0:y.uid),y==null||y.getIdTokenResult().then(w=>{console.log("[AuthDebug] firebase claims:",w.claims)}).catch(w=>{console.warn("[AuthDebug] failed to fetch token claims",w)})},[e]),E.useEffect(()=>{const y=P9(oa,w=>{console.log("[AuthDebug] firebase currentUser uid:",w==null?void 0:w.uid)});return()=>y()},[]),E.useEffect(()=>{if(!e){a.current.tried=!1;return}a.current.tried||(a.current.tried=!0,(async()=>{try{const y=await cM();await DS(oa,y),console.log("[AuthDebug] signed in to Firebase with custom token")}catch(y){console.error("[AuthDebug] failed to sign in to Firebase",y)}})())},[e]);const g=E.useCallback(y=>{window.location.href=PN(y)},[]),x=E.useCallback(async(y,w)=>{const P=tU();return new Promise((N,k)=>{let T=!1;const L=window.setTimeout(()=>{T||($(),k(new Error("auth_popup_timeout")))},18e4),R=window.setInterval(()=>{if(y.closed){if(T||c.current){$(),N({});return}ra("[Auth] Discord popup closed; starting grace window");const H=2200,z=Date.now(),W=window.setInterval(()=>{if(T||c.current){window.clearInterval(W),$(),N({});return}if(oa.currentUser||r==="authenticated"&&e){window.clearInterval(W),$(),N({});return}Date.now()-z>=H&&(window.clearInterval(W),$(),k(new Error("auth_popup_closed")))},200)}},500),$=H=>{window.removeEventListener("message",B),window.clearTimeout(L),window.clearInterval(R)},B=H=>{if(!P.has(H.origin))return;const z=H.data;(z==null?void 0:z.type)==="sfh:discordAuth"&&(z!=null&&z.nonce&&z.nonce!==w||(c.current=!0,T=!0,$(),N({customToken:typeof(z==null?void 0:z.customToken)=="string"?z.customToken:void 0})))};window.addEventListener("message",B)})},[]),b=E.useCallback(async()=>{const y=Date.now(),w=2e3,P=200,N=async()=>await p({silent:!0})?!0:Date.now()-y>=w?!1:(await new Promise(T=>setTimeout(T,P)),N());return N()},[p]),_=E.useCallback(async()=>{var T,L,R;if(l.current){ra("[Auth] Discord login already in-flight, ignoring new request");return}l.current=!0,c.current=!1;const y=typeof window!="undefined"?window.location.origin:"N/A",w=typeof window!="undefined"?window.location.host:"N/A";ra("[Auth] Starting Discord auth-api popup login",{origin:y,host:w});const P=eU();try{(T=window.sessionStorage)==null||T.setItem(Ky,P)}catch($){console.warn("[Auth] Failed to persist popup nonce",$)}const N=PN("discord",{mode:"popup",nonce:P});if(!N){console.warn("[Auth] Missing AUTH_BASE_URL for Discord login.");return}const k=window.open(N,"sfh_discord_oauth","width=520,height=720,menubar=no,toolbar=no,resizable=yes,scrollbars=yes");if(!k||k.closed){ra("[Auth] Popup blocked or failed, redirecting to auth-api flow");try{(L=window.sessionStorage)==null||L.removeItem(Ky)}catch($){}g("discord"),l.current=!1;return}try{const $=await x(k,P);$!=null&&$.customToken?(await DS(oa,$.customToken),ra("[Auth] Discord popup custom token received and signed in"),await p({silent:!0})):await b()||(ra("[Auth] Popup login completed but session missing, redirecting for sync"),g("discord"))}catch($){ra("[Auth] Popup login did not complete, falling back to redirect",{code:$==null?void 0:$.code,message:$==null?void 0:$.message}),g("discord")}finally{try{(R=window.sessionStorage)==null||R.removeItem(Ky)}catch($){}setTimeout(()=>{l.current=!1},XV)}},[g,x,b]),S=E.useCallback(async()=>{var L,R,$,B,H,z,W;const y=typeof window!="undefined"?window.location.origin:"N/A",w=typeof window!="undefined"?window.location.host:"N/A",P=($=(R=(L=oa.app)==null?void 0:L.options)==null?void 0:R.projectId)!=null?$:"unknown",N=(z=(H=(B=oa.app)==null?void 0:B.options)==null?void 0:H.authDomain)!=null?z:"unknown";ra("[Auth] Starting google login",{origin:y,host:w,projectId:P,authDomain:N});const k=u;if(!k||(()=>{var K;if(typeof window=="undefined")return!1;const G=(((K=window.navigator)==null?void 0:K.userAgent)||"").toLowerCase();return/mobile|android|iphone|ipad|ipod/.test(G)?!0:typeof window.matchMedia=="function"?window.matchMedia("(max-width: 768px)").matches:!1})()){ra("[Auth] Falling back to redirect for google",{reason:k?"mobile":"provider_unavailable"}),g("google");return}try{await Z9(oa,k),await p({silent:!0})||(ra("[Auth] Popup login succeeded but session missing, redirecting for sync"),g("google"))}catch(G){const K=typeof(G==null?void 0:G.code)=="string"?G.code:"",te=typeof(G==null?void 0:G.message)=="string"?G.message:"Auth popup failed",X=JV.has(K);if(ra("[Auth] Popup login failed for google",{code:K,message:te,host:w,origin:y,projectId:P,authDomain:N,email:typeof((W=G==null?void 0:G.customData)==null?void 0:W.email)=="string"?G.customData.email:void 0}),X){g("google");return}console.error("[Auth] Popup login failed for google (no fallback)",{code:K,message:te});const U=new Error(te);throw K&&(U.code=K),U}},[p,u,g]),C=E.useCallback(async()=>{if(await R9(oa).catch(()=>{}),!AN){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const y=await fetch(AN,{method:"POST",credentials:"include"});if(!y.ok)throw new Error(`Logout failed (${y.status})`)}catch(y){console.error("[Auth] Failed to logout. Clearing local session anyway.",y)}finally{n(null),i("unauthenticated")}},[]),A=E.useCallback(async y=>p(y),[p]),M=r==="idle"||r==="loading",j=E.useMemo(()=>({user:e,status:r,isLoading:M,loginWithDiscord:_,loginWithGoogle:S,logout:C,refreshSession:A}),[e,r,M,_,S,C,A]);return t.jsx(mE.Provider,{value:j,children:s})},Gi=()=>{const s=E.useContext(mE);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},nU="https://i.pravatar.cc/72",rU=({fallbackName:s})=>{var M,j;const{user:e,status:n,logout:r,isLoading:i}=Gi(),a=oi(),[l,c]=E.useState(!1),u=E.useRef(null),h=n==="authenticated",p=h?(j=(M=e==null?void 0:e.displayName)!=null?M:s)!=null?j:"Player":s!=null?s:"Guest",g=h&&(e!=null&&e.avatarUrl)?e.avatarUrl:nU;E.useEffect(()=>{const y=w=>{u.current&&!u.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),E.useEffect(()=>{i&&c(!1)},[i]);const x=E.useCallback(()=>c(!1),[]),b=()=>{c(y=>!y)},_=()=>{typeof window!="undefined"?window.dispatchEvent(new CustomEvent("sfh:openLoginModal")):a("/login"),x()},S=()=>{a("/settings/account"),x()},C=E.useCallback(async()=>{try{await r()}finally{x(),a("/")}},[x,r,a]),A=()=>{var y;if(i)return t.jsx("p",{className:Mt.accountStatusText,children:"Checking session..."});if(n==="unauthenticated")return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Mt.accountHeader,children:[t.jsx("p",{className:Mt.accountName,children:"Not signed in"}),t.jsx("p",{className:Mt.accountSub,children:"Your scans stay synced when you log in."})]}),t.jsx("button",{type:"button",className:Mt.accountPrimary,onClick:_,children:"Sign in"}),t.jsx("p",{className:Mt.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(n==="authenticated"){const w=!!((y=e==null?void 0:e.roles)!=null&&y.includes("admin"));return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Mt.accountHeader,children:[t.jsx("img",{className:Mt.accountMiniAvatar,src:g,alt:p}),t.jsxs("div",{children:[t.jsx("p",{className:Mt.accountName,children:p}),t.jsxs("p",{className:Mt.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),t.jsx("button",{type:"button",className:Mt.accountItem,onClick:S,children:"Account & Profile"}),w?t.jsx("a",{className:Mt.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,t.jsx("hr",{className:Mt.accountDivider}),t.jsx("button",{type:"button",className:`${Mt.accountItem} ${Mt.accountLogout}`,onClick:C,children:"Logout"})]})}return null};return t.jsxs("div",{className:Mt.accountRoot,ref:u,children:[i?t.jsxs("div",{className:Mt.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[t.jsx("span",{className:Mt.avatarSpinner,"aria-hidden":"true"}),t.jsx("span",{className:Mt.srOnly,children:"Checking login status"})]}):t.jsx("button",{type:"button",className:Mt.avatarBtn,"aria-haspopup":"menu","aria-expanded":l,"aria-label":p,onClick:b,children:t.jsx("img",{className:Mt.avatar,src:g,alt:p})}),!i&&l&&t.jsx("div",{className:Mt.accountDropdown,role:"menu",children:A()})]})},iU="sfh:debug:firestoreReadsCallsite",zb=new Map;let aU=1;const Ig=(...s)=>{console.log(...s)},D1=()=>!1,gE=()=>!D1()||typeof window=="undefined"||!(window!=null&&window.localStorage)?!1:window.localStorage.getItem(iU)==="1",M1=(s,e)=>s?s.split("/").filter(Boolean)[0]||e||"unknown":e!=null?e:"unknown",oU=()=>{if(!gE())return;const s=new Error;if(!s.stack)return;const n=s.stack.split(`
`).map(r=>r.trim()).filter(r=>r&&!r.toLowerCase().includes("firestorereadtrace")&&!r.toLowerCase().includes("tracegetdoc")&&!r.toLowerCase().includes("tracegetdocs"));return n[1]||n[0]},Xn=s=>D1()?{id:aU++,name:s,startedAt:performance.now(),reads:[]}:null,fE=(s,e)=>{var r;if(!s)return;const n=M1(e.collection||e.path);s.reads.push({collection:n,path:e.path,op:e.op,docCount:e.docCount,startedAt:performance.now(),callsite:oU()}),zb.set(n,((r=zb.get(n))!=null?r:0)+e.docCount)},hn=s=>{var l;if(!s)return;s.endedAt=performance.now();const e=Math.round(s.endedAt-s.startedAt),n=s.reads.reduce((c,u)=>{var h;return c[u.collection]=((h=c[u.collection])!=null?h:0)+u.docCount,c},{}),r=s.reads.reduce((c,u)=>c+u.docCount,0),i=s.reads.map(c=>({op:c.op,path:c.path,collection:c.collection,docs:c.docCount,callsite:c.callsite})),a=`[FirestoreTrace] ${s.name} - ${r} reads in ${e}ms`;if(console.groupCollapsed(a),Ig("Breakdown by collection",n),Ig("Entries",i),gE()){const c=(l=s.reads.find(u=>u.callsite))==null?void 0:l.callsite;c&&Ig("Top callsite",c)}Ig("Totals (page lifetime)",Object.fromEntries(zb.entries())),console.groupEnd()},Lo=async(s,e,n)=>{const r=await n(),i=r!=null&&r.exists?r.exists()?1:0:1;return fE(s,{collection:M1(e.path),path:e.path,op:"getDoc",docCount:i}),r},pn=async(s,e,n,r)=>{var c,u,h;const i=await n(),a=(c=i==null?void 0:i.size)!=null?c:Array.isArray(i==null?void 0:i.docs)?i.docs.length:0,l=(h=(u=e.path)!=null?u:r==null?void 0:r.collectionHint)!=null?h:"unknown";return fE(s,{collection:M1(l,r==null?void 0:r.collectionHint),path:l,op:"getDocs",docCount:typeof a=="number"?a:0}),i},lU=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"public",minRole:"guest",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"hidden",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub-v2",area:"main",titleKey:"nav.guideHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"admin.cliCommands",route:"/cli-commands",area:"admin",titleKey:"nav.cliCommands",status:"active",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:95},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0},{id:"main.uploadCenter",route:"/upload-center",area:"main",titleKey:"feature.uploadCenter",status:"logged_in",minRole:"user",showInSidebar:!1,showInTopbar:!1,navOrder:200}],RN=["guest","user","moderator","developer","admin"];function vE(s){const e=s.trim();if(!e)return"/";const n=e.startsWith("/")?e:`/${e}`;return n==="/"?n:n.replace(/\/+$/,"").toLowerCase()}function xE(s){if(typeof s!="string")return;const e=s.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function yE(s){if(!Array.isArray(s))return;const e=s.map(n=>xE(n)).filter(Boolean);return e.length?e:void 0}function bE(s){if(!Array.isArray(s))return;const e=s.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function _E(s){if(!Array.isArray(s))return;const e=s.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function F1(s){var e,n,r;return{...s,id:s.id.trim(),route:vE(s.route),area:s.area.trim(),allowedRoles:(e=yE(s.allowedRoles))!=null?e:s.allowedRoles,allowedGroups:(n=bE(s.allowedGroups))!=null?n:s.allowedGroups,allowedUserIds:(r=_E(s.allowedUserIds))!=null?r:s.allowedUserIds}}function cU(s,e){if(!e||typeof e!="object")return null;const n=e,r=typeof n.route=="string"?n.route:"",i=typeof n.area=="string"?n.area:"",a=typeof n.id=="string"&&n.id.trim()||s||(r?`feature:${r}`:"");if(!r||!a||!i)return null;const l={id:a,route:r,area:i,titleKey:typeof n.titleKey=="string"?n.titleKey:void 0,status:typeof n.status=="string"?n.status:void 0,minRole:xE(n.minRole),allowedRoles:yE(n.allowedRoles),allowedGroups:bE(n.allowedGroups),allowedUserIds:_E(n.allowedUserIds),showInTopbar:typeof n.showInTopbar=="boolean"?n.showInTopbar:void 0,showInSidebar:typeof n.showInSidebar=="boolean"?n.showInSidebar:void 0,navOrder:typeof n.navOrder=="number"?n.navOrder:void 0,isExperimental:typeof n.isExperimental=="boolean"?n.isExperimental:void 0,description:typeof n.description=="string"?n.description:void 0};return F1(l)}function dU(s){const e={},n={};return s.forEach(r=>{const i=F1(r);e[i.id]=i,n[i.route]=i}),{byId:e,byRoute:n}}const ko=dU(lU),uU={...ko,loading:!1,error:null},hU=300*1e3;let Kd=null,$h=null;const pU=async s=>{const e=Date.now();return $h&&e-$h.fetchedAt<hU?$h:Kd||(Kd=(async()=>{const n=qa(yt,"feature_access"),r=await pn(s,n,()=>rn(n),{collectionHint:"feature_access"}),i=[];r.forEach(c=>{const u=cU(c.id,c.data());u&&i.push(u)});const l={rules:gU(i),fetchedAt:Date.now()};return $h=l,l})().finally(()=>{Kd=null}),Kd)};function mU(s,e){const n={...s!=null?s:{}};return Object.entries(e).forEach(([i,a])=>{if(a!==void 0){const l=i;n[l]=a}}),n}function gU(s){const e={...ko.byId},n={...ko.byRoute};return s.forEach(r=>{const i=F1(r),a=e[i.id],l=mU(a,i);e[l.id]=l,n[l.route]=l}),{byId:e,byRoute:n}}const wE=Q.createContext(uU),fU=({children:s})=>{const[e,n]=Q.useState({...ko,loading:!0,error:null});Q.useEffect(()=>{let i=!0;return(async()=>{const c=D1()&&!$h&&!Kd?Xn("FeatureAccess:load"):null;try{const{rules:u}=await pU(c);i&&n({...u,loading:!1,error:null})}catch(u){const h=u,p=h==null?void 0:h.code,g=p==="permission-denied"||p==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore feature_access ${g?"not readable":"load failed"}. Falling back to defaults.`,u),i&&n(b=>({...b,loading:!1,error:u instanceof Error?u.message:"Failed to load feature access rules"}))}finally{hn(c)}})(),()=>{i=!1}},[]);const r=Q.useMemo(()=>e,[e]);return t.jsx(wE.Provider,{value:r,children:s})};function vU(){return Q.useContext(wE)}function xU(s,e){var i,a,l;if(!s)return;const n=e!=null?e:ko,r=vE(s);return(l=(a=(i=n.byId[s])!=null?i:n.byRoute[r])!=null?a:ko.byId[s])!=null?l:ko.byRoute[r]}function yU(s){return!s||s.length===0?"guest":s.includes("admin")?"admin":s.includes("dev")||s.includes("developer")?"developer":s.includes("mod")||s.includes("moderator")?"moderator":"user"}function bU(s,e,n,r,i){if(n)return!0;const a=!!r;if(s.status==="logged_in"&&!a)return!1;const l=e!=null?e:"user";if(s.status==="hidden"||s.status==="dev_only"&&l!=="developer"&&l!=="admin"||s.allowedUserIds&&s.allowedUserIds.length>0&&(!r||!s.allowedUserIds.includes(r))||s.allowedGroups&&s.allowedGroups.length>0&&!(i!=null?i:[]).some(u=>s.allowedGroups.includes(u)))return!1;if(s.allowedRoles&&s.allowedRoles.length>0)return!!l&&s.allowedRoles.includes(l);if(s.minRole){const c=RN.indexOf(l),u=RN.indexOf(s.minRole);return c>=u&&c!==-1}return!0}function Gv(){var S;let s=null;try{s=Gi().user}catch(C){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:n,loading:r,error:i}=vU(),a=Q.useMemo(()=>({byId:e!=null?e:ko.byId,byRoute:n!=null?n:ko.byRoute}),[e,n]),l=Q.useMemo(()=>yU(s==null?void 0:s.roles),[s==null?void 0:s.roles]),c=Q.useMemo(()=>{var C;return!!((C=s==null?void 0:s.roles)!=null&&C.includes("admin"))},[s==null?void 0:s.roles]),u=Q.useMemo(()=>{var C;return(C=s==null?void 0:s.accessGroups)!=null?C:[]},[s==null?void 0:s.accessGroups]),h=(S=s==null?void 0:s.id)!=null?S:null,p=Q.useCallback(C=>xU(C,a),[a]),g=Q.useCallback(C=>C?bU(C,l,c,h,u):!0,[c,u,h,l]),x=Q.useCallback(C=>{if(!C)return!0;const A=p(C);return g(A)},[g,p]),b=Q.useCallback(C=>{if(!C)return!0;const A=p(C);return A?A.status==="hidden"||A.showInSidebar===!1?!1:g(A):!0},[g,p]),_=Q.useCallback(C=>{if(!C)return!0;const A=p(C);return A?A.status==="hidden"||A.showInTopbar===!1?!1:g(A):!0},[g,p]);return{loading:r,error:i,rulesById:e,rulesByRoute:n,storeRules:a,resolveRule:p,canAccessRule:g,canAccessFeature:x,isVisibleInSidebar:b,isVisibleInTopbar:_}}const jE=E.createContext(null);function _U({children:s}){const{canAccessFeature:e}=Gv(),[n,r]=E.useState(!1),[i,a]=E.useState("csv"),l=e("main.uploadCenter"),c=E.useCallback(p=>{l&&(p!=null&&p.tab?a(p.tab):a("csv"),r(!0))},[l]),u=E.useCallback(()=>r(!1),[]),h=E.useMemo(()=>({isOpen:n,open:c,close:u,activeTab:i,setTab:a,canUse:l}),[n,c,u,i,l]);return t.jsx(jE.Provider,{value:h,children:s})}function $1(){const s=E.useContext(jE);if(!s)throw new Error("useUploadCenter must be used within UploadCenterProvider");return s}const ia={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},aa=s=>`https://drive.google.com/uc?export=view&id=${s}`,SE=s=>String(s!=null?s:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Jn=[{key:"warrior",label:"Warrior",iconUrl:aa(ia.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:aa(ia.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:aa(ia.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:aa(ia.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:aa(ia["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:aa(ia.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:aa(ia["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:aa(ia.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:aa(ia.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:aa(ia.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:aa(ia.paladin),fallback:""}],LN=Object.fromEntries(Jn.map(s=>[s.key,s])),Hb=new Map;function on(s,e){Hb.set(SE(s),e)}for(const s of Jn)on(s.key,s.key),on(s.label,s.key);on("war","warrior");on("krieger","warrior");on("magier","mage");on("jaeger","scout");on("jger","scout");on("assa","assassin");on("meuchelmoerder","assassin");on("meuchelmrder","assassin");on("demonhunter","demon-hunter");on("dh","demon-hunter");on("daemonenjaeger","demon-hunter");on("dmonenjger","demon-hunter");on("zerker","berserker");on("battlemage","battle-mage");on("kampfmagier","battle-mage");on("bm","battle-mage");on("druide","druid");on("barde","bard");on("necro","necromancer");on("nekromant","necromancer");on("pala","paladin");function NE(s){const e=SE(s);if(!e)return{};const n=Hb.get(e);if(n){const r=LN[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Hb.entries())if(r.startsWith(e)||e.startsWith(r)){const a=LN[i];return{url:a.iconUrl,fallback:a.fallback}}return{}}function Wv(s){if(s==null)return null;const e=typeof s=="string"?s:String(s);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function ff(s){if(s==null)return;const e=Wv(s);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(s)}function kE(s,e=64){if(s==null)return;const n=Wv(s);if(!n)return String(s);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function CE(s,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(s)}${r.toString()?"&"+r.toString():""}`}function IE(s,e,n,r){const i=ff(s);return i?CE(i,{w:e,h:n,fit:r}):void 0}function li(s,e=64){const n=kE(s,e);return n?CE(n,{w:e,h:e,fit:"contain"}):void 0}function qy(s){if(s==null)return;const e=Wv(s);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof s=="string"&&/^https?:\/\//i.test(s))return s}function wU(s){return`https://images.weserv.nl/?url=${encodeURIComponent(s)}&n=-1`}const Wc=Object.assign(s=>ff(s),{id:Wv,direct:ff,thumb:kE,proxy:IE,thumbProxy:li,raw:qy,gif:qy,gifProxy:s=>{const e=qy(s);return e&&/^https?:\/\//i.test(e)?wU(e):ff(s)}}),Kv="sfh:search:cache:v1:universal:",TE=`${Kv}lru`,jU=720*60,Xh=150,Du=()=>typeof window!="undefined"&&!!window.localStorage,SU=s=>s.trim().replace(/\s+/g," ").toLowerCase(),EE=(...s)=>{try{Du()&&window.localStorage.getItem("sfh:debug:firestoreReads")==="1"&&console.debug(...s)}catch(e){}},AE=()=>{if(!Du())return[];try{const s=window.localStorage.getItem(TE);if(!s)return[];const e=JSON.parse(s);return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}catch(s){return[]}},PE=s=>{if(Du())try{window.localStorage.setItem(TE,JSON.stringify(s.slice(0,Xh)))}catch(e){}},RE=s=>{const e=AE().filter(n=>n!==s);e.unshift(s),PE(e.slice(0,Xh))},NU=()=>{const s=AE();if(s.length<=Xh)return;const e=s.slice(0,Xh);if(PE(e),!!Du())try{s.slice(Xh).forEach(r=>window.localStorage.removeItem(Kv+r))}catch(n){}},kU=s=>{if(!Du())return null;try{const e=window.localStorage.getItem(Kv+s);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.ts!="number"||typeof n.ttlSec!="number"||Date.now()-n.ts>n.ttlSec*1e3?null:(EE("[SearchCache] hit",s),RE(s),n)}catch(e){return null}},CU=(s,e,n=jU)=>{if(!Du())return;const r={...e,ts:Date.now(),ttlSec:n};try{window.localStorage.setItem(Kv+s,JSON.stringify(r)),RE(s),NU(),EE("[SearchCache] store",s,{players:e.players.length,guilds:e.guilds.length})}catch(i){}},Tg=3,IU=350,ul=25,Eg=10,B1="sfh:search:recents",LE=20,Qy=s=>Number.isFinite(s),Fd=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},TU=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),bl=()=>{try{const s=typeof window!="undefined"?window.localStorage.getItem(B1):null;if(!s)return[];const e=JSON.parse(s);return Array.isArray(e)?e.slice(0,LE).map(n=>{var r,i,a,l,c,u,h,p,g;return(n==null?void 0:n.kind)==="player"||(n==null?void 0:n.kind)==="guild"?{kind:n.kind,id:String((i=(r=n.id)!=null?r:n.value)!=null?i:""),server:(l=(a=n.server)!=null?a:n.serverId)!=null?l:null,name:(u=(c=n.name)!=null?c:n.label)!=null?u:null,className:(h=n.className)!=null?h:null,level:typeof n.level=="number"?n.level:null,guildName:(p=n.guildName)!=null?p:null}:(n==null?void 0:n.kind)==="query"?{kind:"query",value:String((g=n.value)!=null?g:"")}:null}).filter(Boolean):[]}catch(s){return[]}},Dc=s=>{var n;if(s.kind==="query")return`query:${s.value}`;const e=(n=s.server)!=null?n:"";return`${s.kind}:${e}:${s.id}`},DN=s=>{var e,n,r,i,a,l,c,u,h;if(s.kind!=="player"||s.name&&s.className&&s.server||typeof window=="undefined")return s;try{const p=window.localStorage.getItem(`player-profile-cache:${s.id}`);if(!p)return s;const g=JSON.parse(p),x=(g==null?void 0:g.data)||{};return{...s,name:(n=(e=s.name)!=null?e:x.name)!=null?n:null,className:(i=(r=s.className)!=null?r:x.className)!=null?i:null,server:(l=(a=s.server)!=null?a:x.server)!=null?l:null,level:(c=s.level)!=null?c:typeof x.level=="number"?x.level:null,guildName:(h=(u=s.guildName)!=null?u:x.guild)!=null?h:null}}catch(p){return s}},Yy=s=>{if(typeof window!="undefined")try{const e=bl().map(DN),n=s.kind==="player"?DN(s):s,r=Dc(n),i=[n,...e.filter(a=>Dc(a)!==r)];window.localStorage.setItem(B1,JSON.stringify(i.slice(0,LE)))}catch(e){}},Xy=(s,e)=>{try{const n=bl().filter(r=>Dc(r)!==s);window.localStorage.setItem(B1,JSON.stringify(n)),e(n)}catch(n){e(r=>r.filter(i=>Dc(i)!==s))}};function EU(s){const e=s.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function MN({placeholder:s="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const{t:r}=wn(),i=oi(),[a,l]=Q.useState(""),[c,u]=Q.useState(""),[h,p]=Q.useState(!1),[g,x]=Q.useState(null),[b,_]=Q.useState([]),[S,C]=Q.useState([]),[A,M]=Q.useState([]),[j,y]=Q.useState(!1),[w,P]=Q.useState(!1),[N,k]=Q.useState(bl()),[T,L]=Q.useState(-1),[R,$]=Q.useState(!1),[B,H]=Q.useState(!1),[z,W]=Q.useState(null),G=Q.useRef(null),K=Q.useRef(0);Q.useEffect(()=>{const ee=setTimeout(()=>u(a.trim()),IU);return()=>clearTimeout(ee)},[a]),Q.useEffect(()=>{let ee=!1;async function ge(){const oe=c,ye=SU(oe);if(oe.length<Tg){_([]),C([]),M([]),y(!1),P(!1),L(N.length?0:-1),W(null);return}const je=kU(ye);if(je){_(je.players.slice(0,Eg).map(me=>{var Ie,Xe,it;return{kind:"player",id:String(me.playerId),name:me.name,server:(Ie=me.server)!=null?Ie:null,className:(Xe=me.className)!=null?Xe:null,guildName:(it=me.guildName)!=null?it:null,nameFold:null,level:null}})),C(je.guilds.slice(0,Eg).map(me=>{var Ie;return{kind:"guild",id:me.guildId,name:me.name,nameFold:null,server:(Ie=me.server)!=null?Ie:null,memberCount:null,hofRank:null}})),y(je.playersHasMore),P(je.guildsHasMore),M([]),L(je.players.length+je.guilds.length?0:-1),W("cache");return}$(!0);const ke=Xn("Search:universal");x(null),p(!0);const qe=++K.current;try{let me=function(Zt){var tt,Et,cs,Ws,gn,Ln,Zs,Ts,_s,er,fn,Cr,Ir,Tr,Bn,ds,Ls,tr,ci,Xt,ya,Wr,Gl,Oo,Ya,Xa,Vo,Wl,sd,Es,Kl,ba,Wi,Er;const Z=Zt.data(),{root:ze,id:Je}=EU(Zt),lt=Je||Z.playerId||Z.guildIdentifier||"";if(ze==="players"||Z.playerId&&!Z.guildIdentifier){if(!lt||Ee.has(lt))return;Ee.add(lt),mt.push({kind:"player",id:lt,name:(cs=(Et=Z.name)!=null?Et:(tt=Z.values)==null?void 0:tt.Name)!=null?cs:null,nameFold:(Ws=Z.nameFold)!=null?Ws:null,server:(Zs=(Ln=Z.server)!=null?Ln:(gn=Z.values)==null?void 0:gn.Server)!=null?Zs:null,guildName:(er=(_s=Z.guildName)!=null?_s:(Ts=Z.values)==null?void 0:Ts.Guild)!=null?er:null,className:(Ir=(Cr=Z.className)!=null?Cr:(fn=Z.values)==null?void 0:fn.Class)!=null?Ir:null,level:Fd((Bn=Z.level)!=null?Bn:(Tr=Z.values)==null?void 0:Tr.Level),ts:Fd(Z.timestamp)});return}if(ze==="guilds"||Z.guildIdentifier&&!Z.playerId){if(!lt||at.has(lt))return;at.add(lt),Ve.push({kind:"guild",id:lt,name:(tr=(Ls=Z.name)!=null?Ls:(ds=Z.values)==null?void 0:ds.Name)!=null?tr:null,nameFold:(ci=Z.nameFold)!=null?ci:null,server:(Wr=(ya=Z.server)!=null?ya:(Xt=Z.values)==null?void 0:Xt.Server)!=null?Wr:null,memberCount:Fd((Xa=(Oo=Z.memberCount)!=null?Oo:(Gl=Z.values)==null?void 0:Gl["Guild Member Count"])!=null?Xa:(Ya=Z.values)==null?void 0:Ya.GuildMemberCount),hofRank:Fd((Er=(ba=(Es=(Wl=Z.hofRank)!=null?Wl:(Vo=Z.values)==null?void 0:Vo["Hall of Fame Rank"])!=null?Es:(sd=Z.values)==null?void 0:sd.HoF)!=null?ba:(Kl=Z.values)==null?void 0:Kl.Rank)!=null?Er:(Wi=Z.values)==null?void 0:Wi["Guild Rank"]),ts:Fd(Z.timestamp)});return}};const Ie=TU(oe),Xe=Yp(yt,"latest"),it=Pn(Xe,Si("nameFold"),Cl(Ie),Il(Ie+""),Qn(ul)),Nt=await pn(ke,{path:"latest"},()=>rn(it),{collectionHint:"latest"}),be=Pn(Xe,wi("nameNgrams","array-contains",Ie),Qn(ul)),De=await pn(ke,{path:"latest"},()=>rn(be),{collectionHint:"latest"}),Ee=new Set,at=new Set,mt=[],Ve=[];Nt.forEach(me),De.forEach(me);const Se=mt.slice(0,ul),We=Ve.slice(0,ul);if(qe!==K.current||ee){hn(ke);return}const _t=qa(yt,"servers"),Ot=oe.toLowerCase(),Rs=oe.toUpperCase(),ms=[pn(ke,{path:"servers"},()=>rn(Pn(_t,Si("displayName"),Cl(oe),Il(oe+""),Qn(e))),{collectionHint:"servers"}),pn(ke,{path:"servers"},()=>rn(Pn(_t,Si("code"),Cl(Rs),Il(Rs+""),Qn(e))),{collectionHint:"servers"}),pn(ke,{path:"servers"},()=>rn(Pn(_t,Si("host"),Cl(Ot),Il(Ot+""),Qn(e))),{collectionHint:"servers"})],gs=await Promise.allSettled(ms),Js=new Set,It=[];for(const Zt of gs)Zt.status==="fulfilled"&&Zt.value.forEach(Z=>{var lt,tt,Et,cs,Ws;const ze=Z.data(),Je=Z.id;!Je||Js.has(Je)||(Js.add(Je),It.push({kind:"server",id:Je,displayName:(lt=ze.displayName)!=null?lt:null,code:(tt=ze.code)!=null?tt:null,host:(Et=ze.host)!=null?Et:null,region:(cs=ze.region)!=null?cs:null,type:(Ws=ze.type)!=null?Ws:null,numericId:Fd(ze.numericId),active:typeof ze.active=="boolean"?ze.active:null}))});const Ne=[],mn=Zt=>{for(const Z of Zt){if(Ne.length>=Eg)break;Ne.push(Z)}};mn(Se),mn(We),Ne.length<Eg&&(mn(Se.slice(Ne.length)),mn(We.slice(Ne.length))),_(Ne.filter(Zt=>Zt.kind==="player")),C(Ne.filter(Zt=>Zt.kind==="guild")),M(It.slice(0,e)),y(Se.length===ul),P(We.length===ul),L(Ne.length+It.length?0:-1),W("live"),CU(ye,{players:Se.map(Zt=>({playerId:Zt.id,name:Zt.name,server:Zt.server,className:Zt.className,guildName:Zt.guildName})),guilds:We.map(Zt=>{var Z;return{guildId:Zt.id,name:Zt.name,server:(Z=Zt.server)!=null?Z:void 0}}),playersHasMore:Se.length===ul,guildsHasMore:We.length===ul})}catch(me){x((me==null?void 0:me.message)||"Unbekannter Fehler bei der Suche."),_([]),C([]),M([]),L(-1)}finally{hn(ke),p(!1)}}return ge(),()=>{ee=!0}},[c,e,N.length]),Q.useEffect(()=>{const ee=ge=>{G.current&&(G.current.contains(ge.target)||(_([]),C([]),M([]),L(-1),$(!1),H(!1)))};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[]);const te=R&&a.trim().length<Tg&&N.length>0,X=R&&(h||g||te||[...b,...S,...A].length>0||B&&a.trim().length<Tg),U=N.filter(ee=>ee.kind==="player"||ee.kind==="guild").map(ee=>{var ge,oe,ye,je,ke,qe,me;return ee.kind==="player"?{kind:"player",id:ee.id,name:(ge=ee.name)!=null?ge:null,nameFold:null,server:(oe=ee.server)!=null?oe:null,guildName:(ye=ee.guildName)!=null?ye:null,className:(je=ee.className)!=null?je:null,level:(ke=ee.level)!=null?ke:null,ts:null}:{kind:"guild",id:ee.id,name:(qe=ee.name)!=null?qe:null,nameFold:null,server:(me=ee.server)!=null?me:null,memberCount:null,hofRank:null,ts:null}}),J=te?U:[...b,...S,...A],se=ee=>{ee.kind==="player"?(Yy({kind:"player",id:ee.id,name:ee.name,className:ee.className,level:ee.level,guildName:ee.guildName,server:ee.server}),k(bl()),i(`/player/${encodeURIComponent(ee.id)}`)):ee.kind==="guild"?(Yy({kind:"guild",id:ee.id,name:ee.name,server:ee.server}),k(bl()),i(`/guild/${encodeURIComponent(ee.id)}`)):i(`/server/${encodeURIComponent(ee.id)}`),_([]),C([]),M([]),L(-1),l(""),$(!1),W(null)},ne=()=>{a.trim().length<Tg||(Yy({kind:"query",value:a.trim()}),k(bl()),i(`/search?q=${encodeURIComponent(a.trim())}`),$(!1))},ue=ee=>{if(ee.key==="Enter"){ee.preventDefault(),T>=0&&J[T]?se(J[T]):ne();return}if(ee.key==="Escape"){_([]),C([]),M([]),L(-1),$(!1);return}J.length&&(ee.key==="ArrowDown"?(ee.preventDefault(),L(ge=>(ge+1)%J.length)):ee.key==="ArrowUp"&&(ee.preventDefault(),L(ge=>(ge-1+J.length)%J.length)))},we=(ee,ge,oe=!1,ye)=>{var me,Ie,Xe,it,Nt,be;const je=ge===T,ke=oe?"div":"button",qe=oe?{role:"button",tabIndex:0,onKeyDown:De=>{(De.key==="Enter"||De.key===" ")&&(De.preventDefault(),se(ee))}}:{type:"button"};return t.jsxs(ke,{onClick:()=>se(ee),style:je?bt.itemActive:bt.item,title:ee.name||"",onMouseEnter:()=>L(ge),...qe,children:[t.jsx("div",{style:bt.iconBox,children:n?t.jsx("img",{src:n((me=ee.className)!=null?me:void 0,64),alt:(Ie=ee.className)!=null?Ie:"class icon",style:bt.iconImgShadow,loading:"lazy"}):t.jsx("span",{style:bt.iconFallback,children:(Xe=ee.className)!=null?Xe:"?"})}),t.jsxs("div",{style:bt.meta,children:[t.jsxs("div",{style:bt.line1,children:[t.jsx("span",{style:bt.name,children:(it=ee.name)!=null?it:ee.id}),Qy(ee.level)&&t.jsxs("span",{style:bt.badge,children:["Lvl ",ee.level]}),oe&&t.jsx("span",{style:bt.recentsBadge,children:r("search.recentLabel","Recent")}),oe&&ye&&t.jsx("button",{type:"button",style:bt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:De=>{De.preventDefault(),De.stopPropagation(),Xy(ye,k)},children:""})]}),t.jsxs("div",{style:bt.line2,children:[t.jsx("span",{children:(Nt=ee.className)!=null?Nt:"Klasse ?"}),t.jsx("span",{style:bt.sep,children:""}),t.jsx("span",{children:(be=ee.server)!=null?be:"Server ?"})]})]})]},`p-${ee.id}-${ge}-${oe?"r":"s"}`)},Me=(ee,ge,oe=!1,ye)=>{var me,Ie;const je=ge===T,ke=oe?"div":"button",qe=oe?{role:"button",tabIndex:0,onKeyDown:Xe=>{(Xe.key==="Enter"||Xe.key===" ")&&(Xe.preventDefault(),se(ee))}}:{type:"button"};return t.jsxs(ke,{onClick:()=>se(ee),style:je?bt.itemActive:bt.item,title:ee.name||"",onMouseEnter:()=>L(ge),...qe,children:[t.jsx("div",{style:bt.iconBox,children:""}),t.jsxs("div",{style:bt.meta,children:[t.jsxs("div",{style:bt.line1,children:[t.jsx("span",{style:bt.name,children:(me=ee.name)!=null?me:ee.id}),Qy(ee.hofRank)&&t.jsxs("span",{style:bt.badge,children:["HoF #",ee.hofRank]}),oe&&t.jsx("span",{style:bt.recentsBadge,children:r("search.recentLabel","Recent")}),oe&&ye&&t.jsx("button",{type:"button",style:bt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:Xe=>{Xe.preventDefault(),Xe.stopPropagation(),Xy(ye,k)},children:""})]}),t.jsxs("div",{style:bt.line2,children:[t.jsx("span",{children:(Ie=ee.server)!=null?Ie:"Server ?"}),t.jsx("span",{style:bt.sep,children:""}),t.jsx("span",{children:Qy(ee.memberCount)?r("search.guildMembers","{{count}} members",{count:ee.memberCount}):r("search.guildMembersUnknown","Members ?")})]})]})]},`g-${ee.id}-${ge}-${oe?"r":"s"}`)};return t.jsxs("div",{ref:G,style:bt.wrap,children:[t.jsx("input",{style:bt.input,placeholder:s,value:a,onChange:ee=>l(ee.target.value),onKeyDown:ue,onFocus:()=>{H(!0),$(!0)},onBlur:()=>{H(!1)},"aria-label":r("search.inputLabel","Spieler, Gilden und Server suchen")}),X&&t.jsxs("div",{style:bt.dropdown,children:[h&&t.jsx("div",{style:bt.hint,children:r("search.loading","Laden ")}),g&&t.jsx("div",{style:bt.err,children:g}),!h&&!g&&te&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:bt.sectionHdr,children:r("search.recents","Recent searches")}),N.length===0&&t.jsx("div",{style:bt.hint,children:r("search.minCharsHint","Type at least 3 characters")}),N.map((ee,ge)=>{var oe,ye,je,ke,qe,me,Ie;if(ee.kind==="query"){const Xe=Dc(ee);return t.jsx("div",{style:bt.item,role:"button",tabIndex:0,onClick:()=>{l(ee.value),u(ee.value),$(!1),k(bl())},onKeyDown:it=>{(it.key==="Enter"||it.key===" ")&&(it.preventDefault(),l(ee.value),u(ee.value),$(!1),k(bl()))},children:t.jsx("div",{style:bt.meta,children:t.jsxs("div",{style:bt.line1,children:[t.jsx("span",{style:bt.name,children:ee.value}),t.jsx("span",{style:bt.recentsBadge,children:r("search.recentLabel","Recent")}),t.jsx("button",{type:"button",style:bt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:it=>{it.preventDefault(),it.stopPropagation(),Xy(Xe,k)},children:""})]})})},`rq-${ge}`)}if(ee.kind==="player"){const Xe={kind:"player",id:ee.id,name:(oe=ee.name)!=null?oe:null,server:(ye=ee.server)!=null?ye:null,guildName:(je=ee.guildName)!=null?je:null,className:(ke=ee.className)!=null?ke:null,level:(qe=ee.level)!=null?qe:null},it=Dc(ee);return t.jsx(Q.Fragment,{children:we(Xe,ge,!0,it)},`rp-${ee.id}-${ge}`)}if(ee.kind==="guild"){const Xe={kind:"guild",id:ee.id,name:(me=ee.name)!=null?me:null,server:(Ie=ee.server)!=null?Ie:null,memberCount:null,hofRank:null},it=Dc(ee);return t.jsx(Q.Fragment,{children:Me(Xe,ge+b.length,!0,it)},`rg-${ee.id}-${ge}`)}return null})]}),!h&&!g&&!te&&J.length===0&&t.jsx("div",{style:bt.hint,children:r("search.noResults","No results")}),!h&&!g&&b.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:bt.sectionHdr,children:r("search.players","Players")}),b.map((ee,ge)=>we(ee,ge))]}),!h&&!g&&S.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:bt.sectionHdr,children:r("search.guilds","Guilds")}),S.map((ee,ge)=>{const oe=b.length+ge;return Me(ee,oe)})]}),!h&&!g&&A.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:bt.sectionHdr,children:r("search.servers","Servers")}),A.map((ee,ge)=>{var je,ke,qe,me,Ie,Xe;const oe=b.length+S.length+ge,ye=oe===T;return t.jsxs("button",{onClick:()=>se(ee),style:ye?bt.itemActive:bt.item,title:ee.displayName||ee.code||ee.host||"",onMouseEnter:()=>L(oe),children:[t.jsx("div",{style:bt.iconBoxPlain,children:t.jsx("div",{style:bt.serverGlyph,children:""})}),t.jsxs("div",{style:bt.meta,children:[t.jsxs("div",{style:bt.line1,children:[t.jsx("span",{style:bt.name,children:(qe=(ke=(je=ee.displayName)!=null?je:ee.code)!=null?ke:ee.host)!=null?qe:ee.id}),ee.active!=null&&t.jsx("span",{style:bt.badge,children:ee.active?r("search.active","Active"):r("search.inactive","Inactive")})]}),t.jsxs("div",{style:bt.line2,children:[t.jsx("span",{children:(me=ee.code)!=null?me:"?"}),t.jsx("span",{style:bt.sep,children:""}),t.jsx("span",{children:(Ie=ee.host)!=null?Ie:"?"}),t.jsx("span",{style:bt.sep,children:""}),t.jsx("span",{children:(Xe=ee.region)!=null?Xe:"?"}),ee.type?t.jsxs(t.Fragment,{children:[t.jsx("span",{style:bt.sep,children:""}),t.jsx("span",{children:ee.type.toUpperCase()})]}):null]})]})]},`s-${ee.id}-${ge}`)})]}),(j||w)&&t.jsx("button",{style:bt.moreCta,onClick:ne,children:r("search.moreResults","More results press Enter")})]})]})}const bt={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},moreCta:{width:"100%",border:"1px dashed rgba(255,255,255,0.3)",background:"transparent",color:"#d6e4f7",padding:"10px 12px",borderRadius:10,cursor:"pointer",marginTop:8},recentsBadge:{marginLeft:8,fontSize:11,color:"#8aa5c4",border:"1px solid rgba(255,255,255,0.2)",padding:"0 6px",borderRadius:12},clearBtn:{marginLeft:8,background:"transparent",border:"none",color:"rgba(214,228,247,0.85)",cursor:"pointer",fontSize:12,padding:"0 4px"}},Ag=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"");function O1(s,e=64){if(!s)return;const n=Ag(s);let r=Jn.find(i=>Ag(i.label)===n);return r||(r=Jn.find(i=>Ag(i.label).startsWith(n)||n.startsWith(Ag(i.label)))),r?li(r.iconUrl,e):void 0}const AU=[{to:"/",labelKey:"home",defaultLabel:"Home",featureId:"main.home"},{to:"/dashboard",labelKey:"dashboard",defaultLabel:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",labelKey:"guildHub",defaultLabel:"Guild Hub",featureId:"main.guildHub"},{to:"/community",labelKey:"community",defaultLabel:"Community",featureId:"main.community"},{to:"/tools",labelKey:"tools",defaultLabel:"Tools",featureId:"main.tools"}];function FN(s,e){return O1(s,e)}function PU({user:s}){const{open:e,canUse:n}=$1(),{isVisibleInTopbar:r}=Gv(),{t:i}=wn(),[a,l]=Q.useState(()=>typeof window=="undefined"?!1:window.matchMedia("(max-width: 767px)").matches),[c,u]=Q.useState(!1),h=Q.useRef(null),p=Q.useMemo(()=>AU.filter(b=>!b.featureId||r(b.featureId)),[r]),g=()=>{e({tab:"json"})};Q.useEffect(()=>{if(typeof window=="undefined")return;const b=window.matchMedia("(max-width: 767px)"),_=()=>l(b.matches);return _(),"addEventListener"in b?(b.addEventListener("change",_),()=>b.removeEventListener("change",_)):(b.addListener(_),()=>b.removeListener(_))},[]),Q.useEffect(()=>{a||u(!1)},[a]),Q.useEffect(()=>{if(!c||typeof window=="undefined")return;const b=_=>{_.key==="Escape"&&u(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[c]),Q.useEffect(()=>{if(!c||typeof document=="undefined")return;const b=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=b}},[c]),Q.useEffect(()=>{if(!c)return;const b=()=>{var C;const S=(C=h.current)==null?void 0:C.querySelector("input");S==null||S.focus()},_=window.requestAnimationFrame(b);return()=>window.cancelAnimationFrame(_)},[c]);const x=i("search.open",{defaultValue:"Open search"});return t.jsxs(t.Fragment,{children:[t.jsxs("header",{className:Mt.topbar,children:[t.jsxs("div",{className:Mt.topbarLeft,children:[t.jsx("button",{className:Mt.btnIco,"aria-label":i("nav.notifications",{defaultValue:"Notifications"}),children:t.jsx(aD,{className:Mt.ico})}),t.jsx("button",{className:Mt.btnIco,"aria-label":i("nav.favorites",{defaultValue:"Favorites"}),children:t.jsx(g7,{className:Mt.ico})}),t.jsx("button",{className:`${Mt.btnIco} ${Mt.mobileSearchBtn}`,"aria-label":x,onClick:()=>u(!0),type:"button",children:t.jsx(Pf,{className:Mt.ico})}),p.length>0?t.jsx("nav",{className:Mt.topbarNav,"aria-label":i("topbar.quickAccess",{defaultValue:"Quick access"}),children:p.map(b=>t.jsx(js,{to:b.to,className:({isActive:_})=>`${Mt.pill} ${Mt.topbarLink} ${_?Mt.pillActive:""}`,children:i(`nav.${b.labelKey}`,{defaultValue:b.defaultLabel})},b.to))}):null]}),t.jsx("div",{className:Mt.searchWrap,children:t.jsx(MN,{placeholder:i("search.placeholder",{defaultValue:"Search players"}),getClassIcon:FN,maxPerSection:10})}),t.jsxs("div",{className:Mt.topbarRight,children:[t.jsxs("a",{className:`${Mt.pill} ${Mt.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[t.jsx(RD,{className:Mt.ico}),"www.sfgame.net"]}),n?t.jsxs("button",{className:Mt.upload,"aria-label":i("topbar.upload",{defaultValue:"Upload scan"}),onClick:g,title:i("topbar.upload",{defaultValue:"Upload scan"}),children:[t.jsx(S7,{className:Mt.ico}),t.jsx("span",{className:Mt.label,children:i("topbar.upload",{defaultValue:"Upload scan"})})]}):null,t.jsx(rU,{fallbackName:s==null?void 0:s.name})]})]}),a&&c?t.jsx("div",{className:Mt.mobileSearchOverlay,role:"presentation",onClick:()=>u(!1),children:t.jsx("div",{className:Mt.mobileSearchPanel,onClick:b=>b.stopPropagation(),ref:h,children:t.jsx("div",{className:Mt.searchWrap,children:t.jsx(MN,{placeholder:i("search.placeholder",{defaultValue:"Search players"}),getClassIcon:FN,maxPerSection:10})})})}):null]})}const RU="_root_1uloe_3",LU="_expanded_1uloe_45",DU="_drawer_1uloe_49",MU="_headRow_1uloe_75",FU="_headTitle_1uloe_83",$U="_headDot_1uloe_85",BU="_headLabel_1uloe_87",OU="_pinBtn_1uloe_89",VU="_navScroll_1uloe_103",UU="_pad_1uloe_105",zU="_segCard_1uloe_111",HU="_segTitle_1uloe_143",GU="_connectedCharactersCard_1uloe_161",WU="_connectedCharactersTitle_1uloe_167",KU="_connectedCharactersList_1uloe_181",qU="_characterChip_1uloe_197",QU="_characterChipId_1uloe_237",YU="_characterChipMeta_1uloe_245",XU="_connectedCharactersEmpty_1uloe_253",JU="_connectedCharactersEmptyText_1uloe_307",ZU="_connectedCharactersEmptyCta_1uloe_313",ez="_navCol_1uloe_363",tz="_navItemWrap_1uloe_365",sz="_navBtn_1uloe_371",nz="_navBtnActive_1uloe_395",rz="_label_1uloe_399",iz="_trailing_1uloe_429",az="_isOpen_1uloe_477",oz="_footer_1uloe_503",lz="_login_1uloe_505",cz="_userMeta_1uloe_527",dz="_footerLink_1uloe_541",uz="_footerRow_1uloe_569",hz="_footerRowCell_1uloe_579",pz="_footerRowLink_1uloe_593",mz="_languageSwitch_1uloe_599",gz="_languageSegment_1uloe_625",fz="_languageSegmentEn_1uloe_715",vz="_languageSegmentDe_1uloe_725",xz="_languageSegmentActive_1uloe_737",yz="_languageSegmentInactive_1uloe_755",bz="_legal_1uloe_781",_z="_labelText_1uloe_805",wz="_char_1uloe_197",jz="_mainNavCard_1uloe_883",Sz="_mobileTrigger_1uloe_893",Nz="_mobileOverlay_1uloe_907",kz="_mobileDrawer_1uloe_929",ht={root:RU,expanded:LU,drawer:DU,headRow:MU,headTitle:FU,headDot:$U,headLabel:BU,pinBtn:OU,navScroll:VU,pad:UU,segCard:zU,segTitle:HU,connectedCharactersCard:GU,connectedCharactersTitle:WU,connectedCharactersList:KU,characterChip:qU,characterChipId:QU,characterChipMeta:YU,connectedCharactersEmpty:XU,connectedCharactersEmptyText:JU,connectedCharactersEmptyCta:ZU,navCol:ez,navItemWrap:tz,navBtn:sz,navBtnActive:nz,label:rz,trailing:iz,isOpen:az,footer:oz,login:lz,userMeta:cz,footerLink:dz,footerRow:uz,footerRowCell:hz,footerRowLink:pz,languageSwitch:mz,languageSegment:gz,languageSegmentEn:fz,languageSegmentDe:vz,languageSegmentActive:xz,languageSegmentInactive:yz,legal:bz,labelText:_z,char:wz,mainNavCard:jz,mobileTrigger:Sz,mobileOverlay:Nz,mobileDrawer:kz},Cz="_panel_90cjk_1",Iz="_open_90cjk_31",Tz="_col_90cjk_43",Ez="_link_90cjk_55",Az="_linkActive_90cjk_73",Jh={panel:Cz,open:Iz,col:Tz,link:Ez,linkActive:Az};function Pz(s,e=8){const n=s.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function Rz({anchorEl:s,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:a}){const[l,c]=Q.useState({left:0,top:0});return Q.useEffect(()=>{if(!e||!s)return;const u=()=>c(Pz(s));u();const h=new ResizeObserver(u);return h.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{h.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,s]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(u=>u.label)),q8.createPortal(t.jsx("div",{className:`${Jh.panel} ${e?Jh.open:""}`,style:{left:l.left,top:l.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:a,role:"menu",children:t.jsx("div",{className:Jh.col,children:n.map(u=>r(u))})}),document.body))}const Lz=[{code:"en",label:"EN",ariaLabel:"Switch language to English"},{code:"de",label:"DE",ariaLabel:"Switch language to German"}],Dz=[{to:"/",label:"Home",icon:t.jsx(MD,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/discover",label:"Discover",icon:t.jsx(SD,{className:"ico"}),featureId:"main.discover"},{to:"/dashboard",label:"Dashboard",icon:t.jsx(OD,{className:"ico"}),featureId:"main.dashboard"},{to:"/settings",label:"Settings",icon:t.jsx(i7,{className:"ico"}),featureId:"main.settings"},{to:"/guild-hub",label:"Guild Hub",icon:t.jsx(Qc,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",label:"Admin",icon:t.jsx(c7,{className:"ico"}),featureId:"main.admin"},{to:"/playground",label:"Playground",icon:t.jsx(wv,{className:"ico"}),featureId:"main.playground"}],Mz=[{to:"/toplists",label:"Toplists",icon:t.jsx(w7,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub-v2",label:"Guide Hub",icon:t.jsx(lD,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",label:"Tools",icon:t.jsx(C7,{className:"ico"}),i18nKey:"nav.tools",featureId:"main.tools"},{to:"/community",label:"Community",icon:t.jsx(GD,{className:"ico"}),featureId:"main.community"},{to:"/scans",label:"Scans",icon:t.jsx(AD,{className:"ico"}),featureId:"main.scans"}],Fz={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function $z(s,e){return e?e==="admin"?s.includes("admin"):s.includes("admin")||s.includes("mod"):!0}function Bz(s,e){return s?s.filter(n=>$z(e,n.minRole)):[]}const Oz=220;function Vz(s=Oz){const[e,n]=Q.useState(!1),r=Q.useRef(null),i=Q.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),a=Q.useCallback(()=>{i(),n(!0)},[i]),l=Q.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),s)},[i,s]);return Q.useEffect(()=>()=>i(),[i]),{open:e,onEnter:a,onLeave:l,setOpen:n}}function V1({text:s,isOpen:e,duration:n=1,step:r=45}){const i=Q.useMemo(()=>Array.from(s),[s]);return t.jsx("span",{className:ht.label,children:t.jsx("span",{className:ht.labelText,"data-open":e?"true":"false","aria-label":s,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((a,l)=>t.jsx("span",{className:ht.char,style:{"--i":l},"aria-hidden":"true",children:a===" "?"":a},`${s}-${l}`))})})}function Uz({it:s,label:e,collapsed:n,allowSubmenus:r,subItems:i,onNavigate:a}){const l=i.length>0,{open:c,onEnter:u,onLeave:h,setOpen:p}=Vz(),g=Q.useRef(null),x=Q.useCallback(()=>{if(!r||!l){p(!1);return}u()},[r,l,u,p]);return t.jsxs("div",{ref:g,className:`${ht.navItemWrap} ${c?ht.isOpen:""}`,onMouseEnter:x,onMouseLeave:h,children:[t.jsxs(js,{to:s.to,end:!!s.end,className:({isActive:b})=>`${ht.navBtn} ${b?ht.navBtnActive:""}`,onClick:a,children:[s.icon,t.jsx(V1,{text:e,isOpen:!n}),l&&!n&&t.jsx("span",{className:ht.trailing,"aria-hidden":"true",children:t.jsx(hD,{className:"ico"})})]}),l&&t.jsx(Rz,{anchorEl:g.current,open:c,items:i.map(({to:b,label:_})=>({to:b,label:_})),renderLink:b=>t.jsx(js,{to:b.to,end:!0,className:({isActive:_})=>`${Jh.link} ${_?Jh.linkActive:""}`,onClick:a,children:b.label},b.to),onMouseEnter:u,onMouseLeave:h})]})}function $N({title:s,items:e,collapsed:n,allowSubmenus:r,userRoles:i,translate:a,isItemVisible:l,onNavigate:c}){return t.jsxs(t.Fragment,{children:[s&&t.jsx("div",{className:`${ht.navTitle} ${ht.segTitle}`,children:s}),t.jsx("div",{className:ht.navCol,children:e.map(u=>{if(!l(u))return null;const h=Bz(Fz[u.to],i),p=u.i18nKey?a(u.i18nKey):u.label;return h.length?t.jsx(Uz,{it:u,label:p,collapsed:n,allowSubmenus:r,subItems:h,onNavigate:c},u.to):t.jsxs(js,{to:u.to,end:!!u.end,className:({isActive:g})=>`${ht.navBtn} ${g?ht.navBtnActive:""}`,onClick:c,children:[u.icon,t.jsx(V1,{text:p,isOpen:!n})]},u.to)})})]})}const zz=90,Hz=180;function BN({expanded:s,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0,variant:a="default",onNavigate:l}){var te;const c=Q.useRef(null),u=Q.useRef(null),[h,p]=Q.useState(!1),g=Q.useCallback(()=>{c.current&&(window.clearTimeout(c.current),c.current=null),u.current&&(window.clearTimeout(u.current),u.current=null)},[]),x=Q.useCallback(()=>{!i||n||(g(),p(!1),c.current=window.setTimeout(()=>e(!0),zz))},[i,n,g,e]),b=Q.useCallback(()=>{!i||n||(g(),u.current=window.setTimeout(()=>{e(!1),p(!1)},Hz))},[i,n,g,e]);Q.useEffect(()=>()=>g(),[g]),Q.useEffect(()=>{n&&p(!0)},[n]);const _=X=>{X.propertyName==="width"&&s&&!n&&p(!0)};Q.useEffect(()=>{if(s&&!n){const X=window.setTimeout(()=>p(!0),250);return()=>window.clearTimeout(X)}},[s,n]);const S=!s,C=n||s&&h,A=oi(),{t:M,i18n:j}=wn(),{status:y,user:w,logout:P}=Gi(),N=y==="authenticated",k=(te=w==null?void 0:w.roles)!=null?te:[],T=Q.useMemo(()=>{var X;return(X=w==null?void 0:w.linkedPlayers)!=null?X:[]},[w==null?void 0:w.linkedPlayers]),{isVisibleInSidebar:L}=Gv(),[R,$]=Q.useState("en");Q.useEffect(()=>{var J;if(typeof window=="undefined")return;const X=window.localStorage.getItem("sf_lang"),U=X==="en"||X==="de"?X:(J=j.language)!=null&&J.startsWith("de")?"de":"en";$(U),j.language!==U&&j.changeLanguage(U)},[j]);const B=Q.useCallback(X=>{$(X),typeof window!="undefined"&&window.localStorage.setItem("sf_lang",X),j.language!==X&&j.changeLanguage(X)},[j]),H=()=>{N?P():typeof window!="undefined"?window.dispatchEvent(new CustomEvent("sfh:openLoginModal")):A("/login")},z=X=>{A(`/player/${X}`),l==null||l()},W=()=>{T.length>0||(A(N?"/settings/account?tab=connected-characters&openHelp=1":"/help#linking"),l==null||l())},G=N?M("sidebar.connectedCharacters.empty",{defaultValue:"No characters linked yet. Link a character in your account to see it here."}):M("sidebar.connectedCharacters.loginPrompt",{defaultValue:"Sign in to see your linked characters."}),K=N?M("sidebar.connectedCharacters.ctaAuthed",{defaultValue:"Open linked characters guide"}):M("sidebar.connectedCharacters.ctaGuest",{defaultValue:"Open start guide"});return t.jsxs("aside",{id:"sidebar-root",className:`${ht.root} ${s?ht.expanded:""} ${a==="drawer"?ht.drawer:""}`,"data-collapsed":S?"true":"false",onMouseEnter:x,onMouseLeave:b,onTransitionEnd:_,"aria-label":"Navigation",children:[t.jsxs("div",{className:ht.headRow,children:[t.jsxs("div",{className:ht.headTitle,children:[t.jsx("span",{className:ht.headDot})," ",t.jsx("span",{className:ht.headLabel,children:"Navigation"})]}),t.jsx("button",{className:ht.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?t.jsx(XD,{className:"ico"}):t.jsx(QD,{className:"ico"})})]}),t.jsx("div",{className:ht.navScroll,children:t.jsxs("div",{className:ht.pad,children:[t.jsx("div",{className:`${ht.segCard} ${ht.mainNavCard}`,children:t.jsx($N,{items:Dz,collapsed:S,allowSubmenus:C,userRoles:k,translate:M,isItemVisible:X=>{var U;return L((U=X.featureId)!=null?U:X.to)},onNavigate:l})}),t.jsx("div",{className:ht.segTitle,children:"Kategorien"}),t.jsx("div",{className:`${ht.segCard} ${ht.mainNavCard}`,children:t.jsx($N,{items:Mz,collapsed:S,allowSubmenus:C,userRoles:k,translate:M,isItemVisible:X=>{var U;return L((U=X.featureId)!=null?U:X.to)},onNavigate:l})}),t.jsxs("div",{className:`${ht.segCard} ${ht.mainNavCard} ${ht.connectedCharactersCard}`,children:[t.jsx("div",{className:ht.connectedCharactersTitle,children:M("sidebar.connectedCharacters.title",{defaultValue:"Connected characters"})}),T.length===0?t.jsxs("button",{type:"button",className:ht.connectedCharactersEmpty,onClick:W,children:[t.jsx("span",{className:ht.connectedCharactersEmptyText,children:G}),t.jsx("span",{className:ht.connectedCharactersEmptyCta,children:K})]}):t.jsx("div",{className:ht.connectedCharactersList,"data-collapsed":S?"true":"false",children:T.map(X=>{var ne,ue;const U=[X.server,X.class].filter(Boolean).join(" | "),J=(ne=X.playerId)!=null?ne:"-",se=`${(ue=X.server)!=null?ue:"server"}-${J}`;return t.jsxs("button",{type:"button",className:ht.characterChip,onClick:()=>z(J),children:[t.jsx("span",{className:ht.characterChipId,children:J}),U&&t.jsx("span",{className:ht.characterChipMeta,children:U})]},se)})})]})]})}),t.jsxs("div",{className:`${ht.footer} ${ht.segCard} ${ht.mainNavCard}`,children:[t.jsxs("button",{className:ht.login,type:"button",onClick:H,children:[t.jsx(Qc,{className:"ico"}),t.jsx(V1,{text:N?"Logout":"Login",isOpen:!S})]}),N&&(w!=null&&w.displayName)?t.jsx("div",{className:ht.userMeta,title:w.displayName,children:w.displayName}):null,t.jsxs("div",{className:ht.footerRow,children:[t.jsx("div",{className:ht.footerRowCell,children:t.jsx(js,{to:"/help",className:`${ht.footerLink} ${ht.footerRowLink}`,onClick:l,children:M("nav.help",{defaultValue:"Help"})})}),t.jsx("div",{className:ht.footerRowCell,children:t.jsx("div",{className:ht.languageSwitch,role:"group","aria-label":"Sidebar language preference",children:Lz.map(X=>{const U=R===X.code,J=`${ht.languageSegment} ${X.code==="de"?ht.languageSegmentDe:ht.languageSegmentEn} ${U?ht.languageSegmentActive:ht.languageSegmentInactive}`;return t.jsx("button",{type:"button",className:J,onClick:()=>B(X.code),"aria-pressed":U,"aria-label":X.ariaLabel},X.code)})})})]}),t.jsxs("div",{className:ht.legal,children:["(c) 2025 ",M("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})]})]})]})}const vf="/assets/logo-sfdatahub-CUdhlsEb.png";function Gz({src:s,alt:e="",children:n,to:r="/",loading:i="eager",decoding:a="async"}){const l=s!=null?s:vf;return t.jsxs("div",{className:"logo-dock",children:[t.jsx(js,{to:r,"aria-label":"Go to home",children:t.jsx("img",{className:"logo-img",src:l,alt:e,loading:i,decoding:a,onError:c=>{const u=c.currentTarget;u.src!==vf&&(u.src=vf)}})}),n]})}const Wz="_wrapper_su530_1",Kz="_card_su530_19",qz="_logo_su530_45",Qz="_heading_su530_61",Yz="_subcopy_su530_73",Xz="_buttonStack_su530_83",Jz="_providerButton_su530_97",Zz="_discord_su530_145",eH="_google_su530_153",tH="_errorMessage_su530_161",sH="_diagnostics_su530_183",nH="_diagnosticsBody_su530_195",rH="_disclaimer_su530_215",iH="_status_su530_227",aH="_sessionBlock_su530_237",oH="_logoutButton_su530_251",lH="_linkButton_su530_281",cH="_loading_su530_299",dH="_spinner_su530_315",Nn={wrapper:Wz,card:Kz,logo:qz,heading:Qz,subcopy:Yz,buttonStack:Xz,providerButton:Jz,discord:Zz,google:eH,errorMessage:tH,diagnostics:sH,diagnosticsBody:nH,disclaimer:rH,status:iH,sessionBlock:aH,logoutButton:oH,linkButton:lH,loading:cH,spinner:dH},DE=()=>{var A,M,j,y,w,P;const s=oi(),{status:e,user:n,loginWithDiscord:r,loginWithGoogle:i,logout:a}=Gi(),[l,c]=Q.useState(null),u=e==="loading"||e==="idle",h=e==="authenticated"&&!!n,p=Q.useCallback(()=>{var k;if(typeof window=="undefined")return!1;try{const T=(k=window.localStorage)==null?void 0:k.getItem("sfh:debug:auth");if(T==="1"||T==="true")return!0}catch(T){console.warn("[Login] Failed to read auth debug flag",T)}return!1},[]),g=Q.useCallback((N,k)=>{const T=typeof window!="undefined"?window.location.host:"unknown host";switch(N){case"auth/unauthorized-domain":return`This domain is not authorized for login. Please add "${T}" to your Firebase Auth authorized domains or use the correct environment.`;case"auth/popup-blocked":return"The login popup was blocked. Please allow popups for this site or continue with the redirect flow.";case"auth/popup-closed-by-user":return"The login popup was closed before completing sign-in. Please try again.";default:{const L=N?` (code: ${N})`:"";return`${k||"Login failed. Please try again."}${L}`}}},[]),x=async()=>{if(!u){c(null);try{await r()}catch(N){const k=typeof(N==null?void 0:N.code)=="string"?N.code:void 0,T=typeof(N==null?void 0:N.message)=="string"?N.message:void 0;c({code:k,message:g(k,T)})}}},b=async()=>{if(!u){c(null);try{await i()}catch(N){const k=typeof(N==null?void 0:N.code)=="string"?N.code:void 0,T=typeof(N==null?void 0:N.message)=="string"?N.message:void 0;c({code:k,message:g(k,T)})}}},_=async()=>{await a()},S=()=>{s("/")};let C;return u?C=t.jsxs("div",{className:Nn.loading,children:[t.jsx("div",{className:Nn.spinner}),t.jsx("div",{children:"Checking session?"})]}):h&&n?C=t.jsxs("div",{className:Nn.sessionBlock,children:[t.jsxs("div",{className:Nn.status,children:["You are logged in as ",n.displayName,"."]}),t.jsx("button",{className:Nn.logoutButton,type:"button",onClick:_,children:"Logout"}),t.jsx("button",{className:Nn.linkButton,type:"button",onClick:S,children:"Back to dashboard"})]}):C=t.jsxs("div",{className:Nn.buttonStack,children:[t.jsx("button",{className:`${Nn.providerButton} ${Nn.discord}`,type:"button",onClick:x,children:"Login with Discord"}),t.jsx("button",{className:`${Nn.providerButton} ${Nn.google}`,type:"button",onClick:b,children:"Login with Google"}),l&&t.jsx("div",{className:Nn.errorMessage,children:l.message}),p()&&t.jsxs("details",{className:Nn.diagnostics,children:[t.jsx("summary",{children:"Auth diagnostics"}),t.jsxs("div",{className:Nn.diagnosticsBody,children:[t.jsxs("div",{children:["Host: ",typeof window!="undefined"?window.location.host:"N/A"]}),t.jsxs("div",{children:["Origin: ",typeof window!="undefined"?window.location.origin:"N/A"]}),t.jsxs("div",{children:["Firebase projectId: ",(j=(M=(A=oa.app)==null?void 0:A.options)==null?void 0:M.projectId)!=null?j:"unknown"]}),t.jsxs("div",{children:["Firebase authDomain: ",(P=(w=(y=oa.app)==null?void 0:y.options)==null?void 0:w.authDomain)!=null?P:"unknown"]})]})]})]}),t.jsx("div",{className:Nn.wrapper,children:t.jsxs("div",{className:Nn.card,children:[t.jsx("img",{className:Nn.logo,src:vf,alt:"SFDataHub logo"}),t.jsx("h1",{className:Nn.heading,children:"Sign in"}),t.jsx("p",{className:Nn.subcopy,children:"Choose a method to access SFDataHub."}),C,t.jsx("p",{className:Nn.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})},uH="_backdrop_bbe4l_1",hH="_inner_bbe4l_23",ON={backdrop:uH,inner:hH},pH=({isOpen:s,onClose:e})=>(Q.useEffect(()=>{if(!s)return;const n=r=>{r.key==="Escape"&&e()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[s,e]),Q.useEffect(()=>{if(!s)return;const n=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=n}},[s]),s?t.jsx("div",{className:ON.backdrop,role:"dialog","aria-modal":"true","aria-label":"Sign in",onMouseDown:n=>{n.target===n.currentTarget&&e()},children:t.jsx("div",{className:ON.inner,children:t.jsx(DE,{})})}):null),VN="sfh:openLoginModal",mH=()=>{const{status:s,user:e}=Gi(),n=Zn(),[r,i]=Q.useState(!1);return Q.useEffect(()=>{const a=()=>i(!0);return window.addEventListener(VN,a),()=>window.removeEventListener(VN,a)},[]),Q.useEffect(()=>{r&&n.pathname==="/login"&&i(!1)},[r,n.pathname]),Q.useEffect(()=>{if(!r)return;s==="authenticated"&&!!e&&i(!1)},[r,s,e]),t.jsx(pH,{isOpen:r,onClose:()=>i(!1)})},gH={borderColor:"#2B4C73",background:"#1A2F4A"},UN="sfh:authNext",fH=s=>{if(!s)return null;const e=s.trim();return!e.startsWith("/")||e.startsWith("//")||/^[a-z][a-z0-9+.-]*:/i.test(e)||e.toLowerCase().startsWith("/login")?null:e};function vH(){const[s,e]=E.useState(!1),[n,r]=E.useState(!1),[i,a]=E.useState(()=>typeof window=="undefined"?!1:window.matchMedia("(max-width: 1023px)").matches),[l,c]=E.useState(!1),u=n||s,{t:h}=wn(),{status:p,user:g}=Gi(),x=oi(),b=Zn();E.useEffect(()=>{if(p!=="authenticated"||!g)return;const j=()=>{if(typeof window=="undefined"||!window.sessionStorage)return null;try{return window.sessionStorage.getItem(UN)}catch(N){return console.warn("[AuthNext] Failed to read auth next from sessionStorage",N),null}},y=()=>{if(!(typeof window=="undefined"||!window.sessionStorage))try{window.sessionStorage.removeItem(UN)}catch(N){console.warn("[AuthNext] Failed to clear auth next from sessionStorage",N)}},w=fH(j());if(!w){y();return}y(),`${b.pathname}${b.search||""}`!==w&&x(w,{replace:!0})},[p,g,b.pathname,b.search,x]),E.useEffect(()=>{if(typeof window=="undefined")return;const j=window.matchMedia("(max-width: 1023px)"),y=()=>a(j.matches);return y(),"addEventListener"in j?(j.addEventListener("change",y),()=>j.removeEventListener("change",y)):(j.addListener(y),()=>j.removeListener(y))},[]),E.useEffect(()=>{i||c(!1)},[i]),E.useEffect(()=>{if(!l||typeof window=="undefined")return;const j=y=>{y.key==="Escape"&&c(!1)};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[l]),E.useEffect(()=>{if(!l||typeof document=="undefined")return;const j=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=j}},[l]);const _=E.useMemo(()=>i?"0px":u?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i,u]),S=h("footer.about.body").split(`

`),C=[{key:"tos",to:"/playground/legal/tos",label:h("help.sections.legal.items.tos",{defaultValue:"Terms of Service (ToS)"})},{key:"privacy",to:"/playground/legal/tos",label:h("help.sections.legal.items.privacy",{defaultValue:"Privacy Policy"})},{key:"imprint",to:"/help",label:h("help.sections.legal.items.imprint",{defaultValue:"Imprint / Contact"})}],A=h("nav.open",{defaultValue:"Open navigation"}),M=i?"collapsed":u?"expanded":"collapsed";return t.jsxs("div",{id:"app-shell","data-sidebar":M,style:{"--left":_},children:[t.jsx(Gz,{src:"/logo.png"}),t.jsx(PU,{}),t.jsx("div",{className:"logo-fill"}),i?!l&&t.jsx("div",{className:`${ht.headRow} ${ht.mobileTrigger}`,children:t.jsx("button",{className:ht.pinBtn,type:"button","aria-label":A,"aria-expanded":l,onClick:()=>c(!0),children:t.jsx(zD,{className:"ico"})})}):t.jsx(BN,{expanded:u,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),i&&l?t.jsx("div",{className:ht.mobileOverlay,role:"presentation",onClick:()=>c(!1),children:t.jsx("div",{className:ht.mobileDrawer,onClick:j=>j.stopPropagation(),children:t.jsx(BN,{expanded:!0,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!1,variant:"drawer",onNavigate:()=>c(!1)})})}):null,t.jsx("div",{className:"content",children:t.jsx("div",{className:"content-inner",children:t.jsxs("div",{className:"content-body",children:[t.jsx(VT,{}),t.jsx(mH,{}),t.jsx("div",{className:"mt-4 px-4 md:px-6",children:t.jsxs("div",{className:"rounded-2xl border px-4 py-4",style:gH,children:[t.jsx("div",{className:"text-sm font-semibold",style:{color:"#F5F9FF"},children:h("footer.about.title")}),t.jsx("div",{className:"mt-2 space-y-2 text-[13px]",style:{color:"#B0C4D9"},children:S.map((j,y)=>t.jsx("p",{className:"whitespace-pre-line",children:j},`footer-about-${y}`))}),t.jsxs("div",{className:"mt-4 space-y-2 text-[12px]",style:{color:"#B0C4D9"},children:[t.jsx("div",{children:h("footer.copyright",{defaultValue:" 2025 SFDataHub  community project around Shakes & Fidget."})}),t.jsx("div",{children:h("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})})]}),t.jsx("div",{className:"mt-3 flex flex-wrap gap-3 text-[13px]",style:{color:"#9EC7FF"},children:C.map(j=>t.jsx(ks,{to:j.to,className:"underline hover:no-underline",children:j.label},j.key))})]})})]})})})]})}const ME=E.createContext({});function U1(s){const e=E.useRef(null);return e.current===null&&(e.current=s()),e.current}const z1=E.createContext(null),H1=E.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function xH(s=!0){const e=E.useContext(z1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=E.useId();E.useEffect(()=>{s&&i(a)},[s]);const l=E.useCallback(()=>s&&r&&r(a),[a,r,s]);return!n&&r?[!1,l]:[!0]}const G1=typeof window!="undefined",FE=G1?E.useLayoutEffect:E.useEffect,ki=s=>s;let $E=ki;function W1(s){let e;return()=>(e===void 0&&(e=s()),e)}const Kc=(s,e,n)=>{const r=e-s;return r===0?1:(n-s)/r},Va=s=>s*1e3,Ua=s=>s/1e3,yH={useManualTiming:!1};function bH(s){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(u.schedule(h),s()),h(l)}const u={schedule:(h,p=!1,g=!1)=>{const b=g&&r?e:n;return p&&a.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const Pg=["read","resolveKeyframes","update","preRender","render","postRender"],_H=40;function BE(s,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Pg.reduce((A,M)=>(A[M]=bH(a),A),{}),{read:c,resolveKeyframes:u,update:h,preRender:p,render:g,postRender:x}=l,b=()=>{const A=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,_H),1),i.timestamp=A,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),p.process(i),g.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,s(b))},_=()=>{n=!0,r=!0,i.isProcessing||s(b)};return{schedule:Pg.reduce((A,M)=>{const j=l[M];return A[M]=(y,w=!1,P=!1)=>(n||_(),j.schedule(y,w,P)),A},{}),cancel:A=>{for(let M=0;M<Pg.length;M++)l[Pg[M]].cancel(A)},state:i,steps:l}}const{schedule:Os,cancel:Do,state:or,steps:Jy}=BE(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:ki,!0),OE=E.createContext({strict:!1}),zN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yu={};for(const s in zN)yu[s]={isEnabled:e=>zN[s].some(n=>!!e[n])};function wH(s){for(const e in s)yu[e]={...yu[e],...s[e]}}const jH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qf(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||jH.has(s)}let VE=s=>!Qf(s);function SH(s){s&&(VE=e=>e.startsWith("on")?!Qf(e):s(e))}try{SH(require("@emotion/is-prop-valid").default)}catch(s){}function NH(s,e,n){const r={};for(const i in s)i==="values"&&typeof s.values=="object"||(VE(i)||n===!0&&Qf(i)||!e&&!Qf(i)||s.draggable&&i.startsWith("onDrag"))&&(r[i]=s[i]);return r}function kH(s){if(typeof Proxy=="undefined")return s;const e=new Map,n=(...r)=>s(...r);return new Proxy(n,{get:(r,i)=>i==="create"?s:(e.has(i)||e.set(i,s(i)),e.get(i))})}const qv=E.createContext({});function kp(s){return typeof s=="string"||Array.isArray(s)}function Qv(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const K1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q1=["initial",...K1];function Yv(s){return Qv(s.animate)||q1.some(e=>kp(s[e]))}function UE(s){return!!(Yv(s)||s.variants)}function CH(s,e){if(Yv(s)){const{initial:n,animate:r}=s;return{initial:n===!1||kp(n)?n:void 0,animate:kp(r)?r:void 0}}return s.inherit!==!1?e:{}}function IH(s){const{initial:e,animate:n}=CH(s,E.useContext(qv));return E.useMemo(()=>({initial:e,animate:n}),[HN(e),HN(n)])}function HN(s){return Array.isArray(s)?s.join(" "):s}const TH=Symbol.for("motionComponentSymbol");function Qd(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function EH(s,e,n){return E.useCallback(r=>{r&&s.onMount&&s.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qd(n)&&(n.current=r))},[e])}const Q1=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AH="framerAppearId",zE="data-"+Q1(AH),{schedule:Y1}=BE(queueMicrotask,!1),HE=E.createContext({});function PH(s,e,n,r,i){var a,l;const{visualElement:c}=E.useContext(qv),u=E.useContext(OE),h=E.useContext(z1),p=E.useContext(H1).reducedMotion,g=E.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(s,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const x=g.current,b=E.useContext(HE);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&RH(g.current,n,i,b);const _=E.useRef(!1);E.useInsertionEffect(()=>{x&&_.current&&x.update(n,h)});const S=n[zE],C=E.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return FE(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Y1.render(x.render),C.current&&x.animationState&&x.animationState.animateChanges())}),E.useEffect(()=>{x&&(!C.current&&x.animationState&&x.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,S)}),C.current=!1))}),x}function RH(s,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h}=e;s.projection=new n(s.latestValues,e["data-framer-portal-id"]?void 0:GE(s.parent)),s.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Qd(c),visualElement:s,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:h})}function GE(s){if(s)return s.options.allowProjection!==!1?s.projection:GE(s.parent)}function LH({preloadedFeatures:s,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;s&&wH(s);function c(h,p){let g;const x={...E.useContext(H1),...h,layoutId:DH(h)},{isStatic:b}=x,_=IH(h),S=r(h,b);if(!b&&G1){MH();const C=FH(x);g=C.MeasureLayout,_.visualElement=PH(i,S,x,e,C.ProjectionNode)}return t.jsxs(qv.Provider,{value:_,children:[g&&_.visualElement?t.jsx(g,{visualElement:_.visualElement,...x}):null,n(i,h,EH(S,_.visualElement,p),S,b,_.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const u=E.forwardRef(c);return u[TH]=i,u}function DH({layoutId:s}){const e=E.useContext(ME).id;return e&&s!==void 0?e+"-"+s:s}function MH(s,e){E.useContext(OE).strict}function FH(s){const{drag:e,layout:n}=yu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(s)||n!=null&&n.isEnabled(s)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $H=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X1(s){return typeof s!="string"||s.includes("-")?!1:!!($H.indexOf(s)>-1||/[A-Z]/u.test(s))}function GN(s){const e=[{},{}];return s==null||s.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function J1(s,e,n,r){if(typeof e=="function"){const[i,a]=GN(r);e=e(n!==void 0?n:s.custom,i,a)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[i,a]=GN(r);e=e(n!==void 0?n:s.custom,i,a)}return e}const Gb=s=>Array.isArray(s),BH=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),OH=s=>Gb(s)?s[s.length-1]||0:s,Yn=s=>!!(s&&s.getVelocity);function xf(s){const e=Yn(s)?s.get():s;return BH(e)?e.toValue():e}function VH({scrapeMotionValuesFromProps:s,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:UH(r,i,a,s),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const WE=s=>(e,n)=>{const r=E.useContext(qv),i=E.useContext(z1),a=()=>VH(s,e,r,i);return n?a():U1(a)};function UH(s,e,n,r){const i={},a=r(s,{});for(const x in a)i[x]=xf(a[x]);let{initial:l,animate:c}=s;const u=Yv(s),h=UE(s);e&&h&&!u&&s.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?c:l;if(g&&typeof g!="boolean"&&!Qv(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const _=J1(s,x[b]);if(_){const{transitionEnd:S,transition:C,...A}=_;for(const M in A){let j=A[M];if(Array.isArray(j)){const y=p?j.length-1:0;j=j[y]}j!==null&&(i[M]=j)}for(const M in S)i[M]=S[M]}}}return i}const Mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jc=new Set(Mu),KE=s=>e=>typeof e=="string"&&e.startsWith(s),qE=KE("--"),zH=KE("var(--"),Z1=s=>zH(s)?HH.test(s.split("/*")[0].trim()):!1,HH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,QE=(s,e)=>e&&typeof s=="number"?e.transform(s):s,Mo=(s,e,n)=>n>e?e:n<s?s:n,Fu={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Cp={...Fu,transform:s=>Mo(0,1,s)},Rg={...Fu,default:1},tm=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),vl=tm("deg"),za=tm("%"),kt=tm("px"),GH=tm("vh"),WH=tm("vw"),WN={...za,parse:s=>za.parse(s)/100,transform:s=>za.transform(s*100)},KH={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt},qH={rotate:vl,rotateX:vl,rotateY:vl,rotateZ:vl,scale:Rg,scaleX:Rg,scaleY:Rg,scaleZ:Rg,skew:vl,skewX:vl,skewY:vl,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:Cp,originX:WN,originY:WN,originZ:kt},KN={...Fu,transform:Math.round},ew={...KH,...qH,zIndex:KN,size:kt,fillOpacity:Cp,strokeOpacity:Cp,numOctaves:KN},QH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YH=Mu.length;function XH(s,e,n){let r="",i=!0;for(let a=0;a<YH;a++){const l=Mu[a],c=s[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=QE(c,ew[l]);if(!u){i=!1;const p=QH[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tw(s,e,n){const{style:r,vars:i,transformOrigin:a}=s;let l=!1,c=!1;for(const u in e){const h=e[u];if(Jc.has(u)){l=!0;continue}else if(qE(u)){i[u]=h;continue}else{const p=QE(h,ew[u]);u.startsWith("origin")?(c=!0,a[u]=p):r[u]=p}}if(e.transform||(l||n?r.transform=XH(e,s.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:p=0}=a;r.transformOrigin=`${u} ${h} ${p}`}}const JH={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZH={offset:"strokeDashoffset",array:"strokeDasharray"};function eG(s,e,n=1,r=0,i=!0){s.pathLength=1;const a=i?JH:ZH;s[a.offset]=kt.transform(-r);const l=kt.transform(e),c=kt.transform(n);s[a.array]=`${l} ${c}`}function qN(s,e,n){return typeof s=="string"?s:kt.transform(e+n*s)}function tG(s,e,n){const r=qN(e,s.x,s.width),i=qN(n,s.y,s.height);return`${r} ${i}`}function sw(s,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},p,g){if(tw(s,h,g),p){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:x,style:b,dimensions:_}=s;x.transform&&(_&&(b.transform=x.transform),delete x.transform),_&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=tG(_,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),l!==void 0&&eG(x,l,c,u,!1)}const nw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),YE=()=>({...nw(),attrs:{}}),rw=s=>typeof s=="string"&&s.toLowerCase()==="svg";function XE(s,{style:e,vars:n},r,i){Object.assign(s.style,e,i&&i.getProjectionStyles(r));for(const a in n)s.style.setProperty(a,n[a])}const JE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZE(s,e,n,r){XE(s,e,void 0,r);for(const i in e.attrs)s.setAttribute(JE.has(i)?i:Q1(i),e.attrs[i])}const Yf={};function sG(s){Object.assign(Yf,s)}function eA(s,{layout:e,layoutId:n}){return Jc.has(s)||s.startsWith("origin")||(e||n!==void 0)&&(!!Yf[s]||s==="opacity")}function iw(s,e,n){var r;const{style:i}=s,a={};for(const l in i)(Yn(i[l])||e.style&&Yn(e.style[l])||eA(l,s)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function tA(s,e,n){const r=iw(s,e,n);for(const i in s)if(Yn(s[i])||Yn(e[i])){const a=Mu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=s[i]}return r}function nG(s,e){try{e.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const QN=["x","y","width","height","cx","cy","r"],rG={useVisualState:WE({scrapeMotionValuesFromProps:tA,createRenderState:YE,onUpdate:({props:s,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!s.drag;if(!a){for(const c in i)if(Jc.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<QN.length;c++){const u=QN[c];s[u]!==e[u]&&(l=!0)}l&&Os.read(()=>{nG(n,r),Os.render(()=>{sw(r,i,rw(n.tagName),s.transformTemplate),ZE(n,r)})})}})},iG={useVisualState:WE({scrapeMotionValuesFromProps:iw,createRenderState:nw})};function sA(s,e,n){for(const r in e)!Yn(e[r])&&!eA(r,n)&&(s[r]=e[r])}function aG({transformTemplate:s},e){return E.useMemo(()=>{const n=nw();return tw(n,e,s),Object.assign({},n.vars,n.style)},[e])}function oG(s,e){const n=s.style||{},r={};return sA(r,n,s),Object.assign(r,aG(s,e)),r}function lG(s,e){const n={},r=oG(s,e);return s.drag&&s.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(n.tabIndex=0),n.style=r,n}function cG(s,e,n,r){const i=E.useMemo(()=>{const a=YE();return sw(a,e,rw(r),s.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(s.style){const a={};sA(a,s.style,s),i.style={...a,...i.style}}return i}function dG(s=!1){return(n,r,i,{latestValues:a},l)=>{const u=(X1(n)?cG:lG)(r,a,l,n),h=NH(r,typeof n=="string",s),p=n!==E.Fragment?{...h,...u,ref:i}:{},{children:g}=r,x=E.useMemo(()=>Yn(g)?g.get():g,[g]);return E.createElement(n,{...p,children:x})}}function uG(s,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...X1(r)?rG:iG,preloadedFeatures:s,useRender:dG(i),createVisualElement:e,Component:r};return LH(l)}}function nA(s,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==s.length)return!1;for(let r=0;r<n;r++)if(e[r]!==s[r])return!1;return!0}function Xv(s,e,n){const r=s.getProps();return J1(r,e,n!==void 0?n:r.custom,s)}const hG=W1(()=>window.ScrollTimeline!==void 0);class pG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(hG()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class rA extends pG{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function aw(s,e){return s?s[e]||s.default||s:void 0}const Xf=2e4;function ow(s){let e=0;const n=50;let r=s.next(e);for(;!r.done&&e<Xf;)e+=n,r=s.next(e);return e>=Xf?1/0:e}function mG(s,e=100,n){const r=n({...s,keyframes:[0,e]}),i=Math.min(ow(r),Xf);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Ua(i)}}function Jv(s){return typeof s=="function"}function YN(s,e){s.timeline=e,s.onfinish=null}const lw=s=>Array.isArray(s)&&typeof s[0]=="number",gG={linearEasing:void 0};function fG(s,e){const n=W1(s);return()=>{var r;return(r=gG[e])!==null&&r!==void 0?r:n()}}const Jf=fG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(s){return!1}return!0},"linearEasing"),iA=(s,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=s(Kc(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function aA(s){return!!(typeof s=="function"&&Jf()||!s||typeof s=="string"&&(s in Wb||Jf())||lw(s)||Array.isArray(s)&&s.every(aA))}const Bh=([s,e,n,r])=>`cubic-bezier(${s}, ${e}, ${n}, ${r})`,Wb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bh([0,.65,.55,1]),circOut:Bh([.55,0,1,.45]),backIn:Bh([.31,.01,.66,-.59]),backOut:Bh([.33,1.53,.69,.99])};function oA(s,e){if(s)return typeof s=="function"&&Jf()?iA(s,e):lw(s)?Bh(s):Array.isArray(s)?s.map(n=>oA(n,e)||Wb.easeOut):Wb[s]}const la={x:!1,y:!1};function lA(){return la.x||la.y}function cA(s,e,n){var r;if(s instanceof Element)return[s];if(typeof s=="string"){let i=document;const a=(r=n==null?void 0:n[s])!==null&&r!==void 0?r:i.querySelectorAll(s);return a?Array.from(a):[]}return Array.from(s)}function dA(s,e){const n=cA(s),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function XN(s){return e=>{e.pointerType==="touch"||lA()||s(e)}}function vG(s,e,n={}){const[r,i,a]=dA(s,n),l=XN(c=>{const{target:u}=c,h=e(c);if(typeof h!="function"||!u)return;const p=XN(g=>{h(g),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const uA=(s,e)=>e?s===e?!0:uA(s,e.parentElement):!1,cw=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,xG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yG(s){return xG.has(s.tagName)||s.tabIndex!==-1}const Oh=new WeakSet;function JN(s){return e=>{e.key==="Enter"&&s(e)}}function Zy(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bG=(s,e)=>{const n=s.currentTarget;if(!n)return;const r=JN(()=>{if(Oh.has(n))return;Zy(n,"down");const i=JN(()=>{Zy(n,"up")}),a=()=>Zy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ZN(s){return cw(s)&&!lA()}function _G(s,e,n={}){const[r,i,a]=dA(s,n),l=c=>{const u=c.currentTarget;if(!ZN(c)||Oh.has(u))return;Oh.add(u);const h=e(c),p=(b,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),!(!ZN(b)||!Oh.has(u))&&(Oh.delete(u),typeof h=="function"&&h(b,{success:_}))},g=b=>{p(b,n.useGlobalTarget||uA(u,b.target))},x=b=>{p(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",x,i)};return r.forEach(c=>{!yG(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",h=>bG(h,i),i)}),a}function wG(s){return s==="x"||s==="y"?la[s]?null:(la[s]=!0,()=>{la[s]=!1}):la.x||la.y?null:(la.x=la.y=!0,()=>{la.x=la.y=!1})}const hA=new Set(["width","height","top","left","right","bottom",...Mu]);let yf;function jG(){yf=void 0}const Ha={now:()=>(yf===void 0&&Ha.set(or.isProcessing||yH.useManualTiming?or.timestamp:performance.now()),yf),set:s=>{yf=s,queueMicrotask(jG)}};function dw(s,e){s.indexOf(e)===-1&&s.push(e)}function Zv(s,e){const n=s.indexOf(e);n>-1&&s.splice(n,1)}class uw{constructor(){this.subscriptions=[]}add(e){return dw(this.subscriptions,e),()=>Zv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pA(s,e){return e?s*(1e3/e):0}const ek=30,SG=s=>!isNaN(parseFloat(s)),Zh={current:void 0};class NG{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Ha.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ha.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Os.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Zh.current&&Zh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ha.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ek)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ek);return pA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bu(s,e){return new NG(s,e)}function kG(s,e,n){s.hasValue(e)?s.getValue(e).set(n):s.addValue(e,bu(n))}function CG(s,e){const n=Xv(s,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=OH(a[l]);kG(s,l,c)}}function IG(s){return!!(Yn(s)&&s.add)}function Kb(s,e){const n=s.getValue("willChange");if(IG(n))return n.add(e)}function mA(s){return s.props[zE]}const gA=(s,e,n)=>(((1-3*n+3*e)*s+(3*n-6*e))*s+3*e)*s,TG=1e-7,EG=12;function AG(s,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=gA(l,r,i)-s,a>0?n=l:e=l;while(Math.abs(a)>TG&&++c<EG);return l}function sm(s,e,n,r){if(s===e&&n===r)return ki;const i=a=>AG(a,0,1,s,n);return a=>a===0||a===1?a:gA(i(a),e,r)}const fA=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,vA=s=>e=>1-s(1-e),xA=sm(.33,1.53,.69,.99),hw=vA(xA),yA=fA(hw),bA=s=>(s*=2)<1?.5*hw(s):.5*(2-Math.pow(2,-10*(s-1))),pw=s=>1-Math.sin(Math.acos(s)),_A=vA(pw),wA=fA(pw),jA=s=>/^0[^.\s]+$/u.test(s);function PG(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||jA(s):!0}const ep=s=>Math.round(s*1e5)/1e5,mw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RG(s){return s==null}const LG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gw=(s,e)=>n=>!!(typeof n=="string"&&LG.test(n)&&n.startsWith(s)||e&&!RG(n)&&Object.prototype.hasOwnProperty.call(n,e)),SA=(s,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(mw);return{[s]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},DG=s=>Mo(0,255,s),e0={...Fu,transform:s=>Math.round(DG(s))},Ac={test:gw("rgb","red"),parse:SA("red","green","blue"),transform:({red:s,green:e,blue:n,alpha:r=1})=>"rgba("+e0.transform(s)+", "+e0.transform(e)+", "+e0.transform(n)+", "+ep(Cp.transform(r))+")"};function MG(s){let e="",n="",r="",i="";return s.length>5?(e=s.substring(1,3),n=s.substring(3,5),r=s.substring(5,7),i=s.substring(7,9)):(e=s.substring(1,2),n=s.substring(2,3),r=s.substring(3,4),i=s.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qb={test:gw("#"),parse:MG,transform:Ac.transform},Yd={test:gw("hsl","hue"),parse:SA("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(s)+", "+za.transform(ep(e))+", "+za.transform(ep(n))+", "+ep(Cp.transform(r))+")"},jr={test:s=>Ac.test(s)||qb.test(s)||Yd.test(s),parse:s=>Ac.test(s)?Ac.parse(s):Yd.test(s)?Yd.parse(s):qb.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Ac.transform(s):Yd.transform(s)},FG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $G(s){var e,n;return isNaN(s)&&typeof s=="string"&&(((e=s.match(mw))===null||e===void 0?void 0:e.length)||0)+(((n=s.match(FG))===null||n===void 0?void 0:n.length)||0)>0}const NA="number",kA="color",BG="var",OG="var(",tk="${}",VG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ip(s){const e=s.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(VG,u=>(jr.test(u)?(r.color.push(a),i.push(kA),n.push(jr.parse(u))):u.startsWith(OG)?(r.var.push(a),i.push(BG),n.push(u)):(r.number.push(a),i.push(NA),n.push(parseFloat(u))),++a,tk)).split(tk);return{values:n,split:c,indexes:r,types:i}}function CA(s){return Ip(s).values}function IA(s){const{split:e,types:n}=Ip(s),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===NA?a+=ep(i[l]):c===kA?a+=jr.transform(i[l]):a+=i[l]}return a}}const UG=s=>typeof s=="number"?0:s;function zG(s){const e=CA(s);return IA(s)(e.map(UG))}const Ol={test:$G,parse:CA,createTransformer:IA,getAnimatableNone:zG},HG=new Set(["brightness","contrast","saturate","opacity"]);function GG(s){const[e,n]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[r]=n.match(mw)||[];if(!r)return s;const i=n.replace(r,"");let a=HG.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const WG=/\b([a-z-]*)\(.*?\)/gu,Qb={...Ol,getAnimatableNone:s=>{const e=s.match(WG);return e?e.map(GG).join(" "):s}},KG={...ew,color:jr,backgroundColor:jr,outlineColor:jr,fill:jr,stroke:jr,borderColor:jr,borderTopColor:jr,borderRightColor:jr,borderBottomColor:jr,borderLeftColor:jr,filter:Qb,WebkitFilter:Qb},fw=s=>KG[s];function TA(s,e){let n=fw(s);return n!==Qb&&(n=Ol),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qG=new Set(["auto","none","0"]);function QG(s,e,n){let r=0,i;for(;r<s.length&&!i;){const a=s[r];typeof a=="string"&&!qG.has(a)&&Ip(a).values.length&&(i=s[r]),r++}if(i&&n)for(const a of e)s[a]=TA(n,i)}const sk=s=>s===Fu||s===kt,nk=(s,e)=>parseFloat(s.split(", ")[e]),rk=(s,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return nk(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?nk(a[1],s):0}},YG=new Set(["x","y","z"]),XG=Mu.filter(s=>!YG.has(s));function JG(s){const e=[];return XG.forEach(n=>{const r=s.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _u={width:({x:s},{paddingLeft:e="0",paddingRight:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),height:({y:s},{paddingTop:e="0",paddingBottom:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:rk(4,13),y:rk(5,14)};_u.translateX=_u.x;_u.translateY=_u.y;const Mc=new Set;let Yb=!1,Xb=!1;function EA(){if(Xb){const s=Array.from(Mc).filter(r=>r.needsMeasurement),e=new Set(s.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=JG(r);i.length&&(n.set(r,i),r.render())}),s.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),s.forEach(r=>r.measureEndState()),s.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xb=!1,Yb=!1,Mc.forEach(s=>s.complete()),Mc.clear()}function AA(){Mc.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Xb=!0)})}function ZG(){AA(),EA()}class vw{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Mc.add(this),Yb||(Yb=!0,Os.read(AA),Os.resolveKeyframes(EA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const u=r.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Mc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Mc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PA=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),eW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tW(s){const e=eW.exec(s);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function RA(s,e,n=1){const[r,i]=tW(s);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return PA(l)?parseFloat(l):l}return Z1(i)?RA(i,e,n+1):i}const LA=s=>e=>e.test(s),sW={test:s=>s==="auto",parse:s=>s},DA=[Fu,kt,za,vl,WH,GH,sW],ik=s=>DA.find(LA(s));class MA extends vw{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),Z1(h))){const p=RA(h,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!hA.has(r)||e.length!==2)return;const[i,a]=e,l=ik(i),c=ik(a);if(l!==c)if(sk(l)&&sk(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)PG(e[i])&&r.push(i);r.length&&QG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_u[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=_u[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{n.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const ak=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Ol.test(s)||s==="0")&&!s.startsWith("url("));function nW(s){const e=s[0];if(s.length===1)return!0;for(let n=0;n<s.length;n++)if(s[n]!==e)return!0}function rW(s,e,n,r){const i=s[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=s[s.length-1],l=ak(i,e),c=ak(a,e);return!l||!c?!1:nW(s)||(n==="spring"||Jv(n))&&r}const iW=s=>s!==null;function ex(s,{repeat:e,repeatType:n="loop"},r){const i=s.filter(iW),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const aW=40;class FA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ha.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ZG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ha.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:u,isGenerator:h}=this.options;if(!h&&!rW(e,r,i,a))if(l)this.options.duration=0;else{u&&u(ex(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Qs=(s,e,n)=>s+(e-s)*n;function t0(s,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+(e-s)*6*n:n<1/2?e:n<2/3?s+(e-s)*(2/3-n)*6:s}function oW({hue:s,saturation:e,lightness:n,alpha:r}){s/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=t0(u,c,s+1/3),a=t0(u,c,s),l=t0(u,c,s-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Zf(s,e){return n=>n>0?e:s}const s0=(s,e,n)=>{const r=s*s,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lW=[qb,Ac,Yd],cW=s=>lW.find(e=>e.test(s));function ok(s){const e=cW(s);if(!e)return!1;let n=e.parse(s);return e===Yd&&(n=oW(n)),n}const lk=(s,e)=>{const n=ok(s),r=ok(e);if(!n||!r)return Zf(s,e);const i={...n};return a=>(i.red=s0(n.red,r.red,a),i.green=s0(n.green,r.green,a),i.blue=s0(n.blue,r.blue,a),i.alpha=Qs(n.alpha,r.alpha,a),Ac.transform(i))},dW=(s,e)=>n=>e(s(n)),nm=(...s)=>s.reduce(dW),Jb=new Set(["none","hidden"]);function uW(s,e){return Jb.has(s)?n=>n<=0?s:e:n=>n>=1?e:s}function hW(s,e){return n=>Qs(s,e,n)}function xw(s){return typeof s=="number"?hW:typeof s=="string"?Z1(s)?Zf:jr.test(s)?lk:gW:Array.isArray(s)?$A:typeof s=="object"?jr.test(s)?lk:pW:Zf}function $A(s,e){const n=[...s],r=n.length,i=s.map((a,l)=>xw(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function pW(s,e){const n={...s,...e},r={};for(const i in n)s[i]!==void 0&&e[i]!==void 0&&(r[i]=xw(s[i])(s[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function mW(s,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=s.indexes[l][i[l]],u=(n=s.values[c])!==null&&n!==void 0?n:0;r[a]=u,i[l]++}return r}const gW=(s,e)=>{const n=Ol.createTransformer(e),r=Ip(s),i=Ip(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jb.has(s)&&!i.values.length||Jb.has(e)&&!r.values.length?uW(s,e):nm($A(mW(r,i),i.values),n):Zf(s,e)};function BA(s,e,n){return typeof s=="number"&&typeof e=="number"&&typeof n=="number"?Qs(s,e,n):xw(s)(s,e)}const fW=5;function OA(s,e,n){const r=Math.max(e-fW,0);return pA(n-s(r),e-r)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},n0=.001;function vW({duration:s=un.duration,bounce:e=un.bounce,velocity:n=un.velocity,mass:r=un.mass}){let i,a,l=1-e;l=Mo(un.minDamping,un.maxDamping,l),s=Mo(un.minDuration,un.maxDuration,Ua(s)),l<1?(i=h=>{const p=h*l,g=p*s,x=p-n,b=Zb(h,l),_=Math.exp(-g);return n0-x/b*_},a=h=>{const g=h*l*s,x=g*n+n,b=Math.pow(l,2)*Math.pow(h,2)*s,_=Math.exp(-g),S=Zb(Math.pow(h,2),l);return(-i(h)+n0>0?-1:1)*((x-b)*_)/S}):(i=h=>{const p=Math.exp(-h*s),g=(h-n)*s+1;return-n0+p*g},a=h=>{const p=Math.exp(-h*s),g=(n-h)*(s*s);return p*g});const c=5/s,u=yW(i,a,c);if(s=Va(s),isNaN(u))return{stiffness:un.stiffness,damping:un.damping,duration:s};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:s}}}const xW=12;function yW(s,e,n){let r=n;for(let i=1;i<xW;i++)r=r-s(r)/e(r);return r}function Zb(s,e){return s*Math.sqrt(1-e*e)}const bW=["duration","bounce"],_W=["stiffness","damping","mass"];function ck(s,e){return e.some(n=>s[n]!==void 0)}function wW(s){let e={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...s};if(!ck(s,_W)&&ck(s,bW))if(s.visualDuration){const n=s.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Mo(.05,1,1-(s.bounce||0))*Math.sqrt(i);e={...e,mass:un.mass,stiffness:i,damping:a}}else{const n=vW(s);e={...e,...n,mass:un.mass},e.isResolvedFromDuration=!0}return e}function yw(s=un.visualDuration,e=un.bounce){const n=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:b}=wW({...n,velocity:-Ua(n.velocity||0)}),_=x||0,S=h/(2*Math.sqrt(u*p)),C=l-a,A=Ua(Math.sqrt(u/p)),M=Math.abs(C)<5;r||(r=M?un.restSpeed.granular:un.restSpeed.default),i||(i=M?un.restDelta.granular:un.restDelta.default);let j;if(S<1){const w=Zb(A,S);j=P=>{const N=Math.exp(-S*A*P);return l-N*((_+S*A*C)/w*Math.sin(w*P)+C*Math.cos(w*P))}}else if(S===1)j=w=>l-Math.exp(-A*w)*(C+(_+A*C)*w);else{const w=A*Math.sqrt(S*S-1);j=P=>{const N=Math.exp(-S*A*P),k=Math.min(w*P,300);return l-N*((_+S*A*C)*Math.sinh(k)+w*C*Math.cosh(k))/w}}const y={calculatedDuration:b&&g||null,next:w=>{const P=j(w);if(b)c.done=w>=g;else{let N=0;S<1&&(N=w===0?Va(_):OA(j,w,P));const k=Math.abs(N)<=r,T=Math.abs(l-P)<=i;c.done=k&&T}return c.value=c.done?l:P,c},toString:()=>{const w=Math.min(ow(y),Xf),P=iA(N=>y.next(w*N).value,w,30);return w+"ms "+P}};return y}function dk({keyframes:s,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:p}){const g=s[0],x={done:!1,value:g},b=k=>c!==void 0&&k<c||u!==void 0&&k>u,_=k=>c===void 0?u:u===void 0||Math.abs(c-k)<Math.abs(u-k)?c:u;let S=n*e;const C=g+S,A=l===void 0?C:l(C);A!==C&&(S=A-g);const M=k=>-S*Math.exp(-k/r),j=k=>A+M(k),y=k=>{const T=M(k),L=j(k);x.done=Math.abs(T)<=h,x.value=x.done?A:L};let w,P;const N=k=>{b(x.value)&&(w=k,P=yw({keyframes:[x.value,_(x.value)],velocity:OA(j,k,x.value),damping:i,stiffness:a,restDelta:h,restSpeed:p}))};return N(0),{calculatedDuration:null,next:k=>{let T=!1;return!P&&w===void 0&&(T=!0,y(k),N(k)),w!==void 0&&k>=w?P.next(k-w):(!T&&y(k),x)}}}const jW=sm(.42,0,1,1),SW=sm(0,0,.58,1),VA=sm(.42,0,.58,1),UA=s=>Array.isArray(s)&&typeof s[0]!="number",NW={linear:ki,easeIn:jW,easeInOut:VA,easeOut:SW,circIn:pw,circInOut:wA,circOut:_A,backIn:hw,backInOut:yA,backOut:xA,anticipate:bA},uk=s=>{if(lw(s)){$E(s.length===4);const[e,n,r,i]=s;return sm(e,n,r,i)}else if(typeof s=="string")return NW[s];return s};function kW(s,e,n){const r=[],i=n||BA,a=s.length-1;for(let l=0;l<a;l++){let c=i(s[l],s[l+1]);if(e){const u=Array.isArray(e)?e[l]||ki:e;c=nm(u,c)}r.push(c)}return r}function zA(s,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=s.length;if($E(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=s[0]===s[1];s[0]>s[a-1]&&(s=[...s].reverse(),e=[...e].reverse());const c=kW(e,r,i),u=c.length,h=p=>{if(l&&p<s[0])return e[0];let g=0;if(u>1)for(;g<s.length-2&&!(p<s[g+1]);g++);const x=Kc(s[g],s[g+1],p);return c[g](x)};return n?p=>h(Mo(s[0],s[a-1],p)):h}function HA(s,e){const n=s[s.length-1];for(let r=1;r<=e;r++){const i=Kc(0,e,r);s.push(Qs(n,1,i))}}function GA(s){const e=[0];return HA(e,s.length-1),e}function CW(s,e){return s.map(n=>n*e)}function IW(s,e){return s.map(()=>e||VA).splice(0,s.length-1)}function ev({duration:s=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=UA(r)?r.map(uk):uk(r),a={done:!1,value:e[0]},l=CW(n&&n.length===e.length?n:GA(e),s),c=zA(l,e,{ease:Array.isArray(i)?i:IW(e,i)});return{calculatedDuration:s,next:u=>(a.value=c(u),a.done=u>=s,a)}}const TW=s=>{const e=({timestamp:n})=>s(n);return{start:()=>Os.update(e,!0),stop:()=>Do(e),now:()=>or.isProcessing?or.timestamp:Ha.now()}},EW={decay:dk,inertia:dk,tween:ev,keyframes:ev,spring:yw},AW=s=>s/100;class bw extends FA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||vw,c=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=Jv(n)?n:EW[n]||ev;let u,h;c!==ev&&typeof e[0]!="number"&&(u=nm(AW,BA(e[0],e[1])),e=[0,100]);const p=c({...this.options,keyframes:e});a==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=ow(p));const{calculatedDuration:g}=p,x=g+i,b=x*(r+1)-i;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:x,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=r;if(this.startTime===null)return a.next(0);const{delay:x,repeat:b,repeatType:_,repeatDelay:S,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-x*(this.speed>=0?1:-1),M=this.speed>=0?A<0:A>p;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let j=this.currentTime,y=a;if(b){const k=Math.min(this.currentTime,p)/g;let T=Math.floor(k),L=k%1;!L&&k>=1&&(L=1),L===1&&T--,T=Math.min(T,b+1),!!(T%2)&&(_==="reverse"?(L=1-L,S&&(L-=S/g)):_==="mirror"&&(y=l)),j=Mo(0,1,L)*g}const w=M?{done:!1,value:u[0]}:y.next(j);c&&(w.value=c(w.value));let{done:P}=w;!M&&h!==null&&(P=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return N&&i!==void 0&&(w.value=ex(u,this.options,i)),C&&C(w.value),N&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Ua(e.calculatedDuration):0}get time(){return Ua(this.currentTime)}set time(e){e=Va(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ua(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=TW,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const PW=new Set(["opacity","clipPath","filter","transform"]);function RW(s,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:u}={}){const h={[e]:n};u&&(h.offset=u);const p=oA(c,i);return Array.isArray(p)&&(h.easing=p),s.animate(h,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const LW=W1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tv=10,DW=2e4;function MW(s){return Jv(s.type)||s.type==="spring"||!aA(s.ease)}function FW(s,e){const n=new bw({...e,keyframes:s,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:s[0]};const i=[];let a=0;for(;!r.done&&a<DW;)r=n.sample(a),i.push(r.value),a+=tv;return{times:void 0,keyframes:i,duration:a-tv,ease:"linear"}}const WA={anticipate:bA,backInOut:yA,circInOut:wA};function $W(s){return s in WA}class hk extends FA{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new MA(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:u,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Jf()&&$W(a)&&(a=WA[a]),MW(this.options)){const{onComplete:g,onUpdate:x,motionValue:b,element:_,...S}=this.options,C=FW(e,S);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,i=C.times,a=C.ease,l="keyframes"}const p=RW(c.owner.current,u,e,{...this.options,duration:r,times:i,ease:a});return p.startTime=h!=null?h:this.calcStartTime(),this.pendingTimeline?(YN(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;c.set(ex(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ua(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ua(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Va(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ki;const{animation:r}=n;YN(r,e)}return ki}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:x,...b}=this.options,_=new bw({...b,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),S=Va(this.time);h.setWithVelocity(_.sample(S-tv).value,_.sample(S).value,tv)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=n.owner.getProps();return LW()&&r&&PW.has(r)&&!u&&!h&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const BW={type:"spring",stiffness:500,damping:25,restSpeed:10},OW=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),VW={type:"keyframes",duration:.8},UW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zW=(s,{keyframes:e})=>e.length>2?VW:Jc.has(s)?s.startsWith("scale")?OW(e[1]):BW:UW;function HW({when:s,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const _w=(s,e,n,r={},i,a)=>l=>{const c=aw(r,s)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Va(u);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:s,motionValue:e,element:a?void 0:i};HW(c)||(p={...p,...zW(s,p)}),p.duration&&(p.duration=Va(p.duration)),p.repeatDelay&&(p.repeatDelay=Va(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const x=ex(p.keyframes,c);if(x!==void 0)return Os.update(()=>{p.onUpdate(x),p.onComplete()}),new rA([])}return!a&&hk.supports(p)?new hk(p):new bw(p)};function GW({protectedKeys:s,needsAnimating:e},n){const r=s.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ww(s,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=s.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(l=r);const h=[],p=i&&s.animationState&&s.animationState.getState()[i];for(const g in u){const x=s.getValue(g,(a=s.latestValues[g])!==null&&a!==void 0?a:null),b=u[g];if(b===void 0||p&&GW(p,g))continue;const _={delay:n,...aw(l||{},g)};let S=!1;if(window.MotionHandoffAnimation){const A=mA(s);if(A){const M=window.MotionHandoffAnimation(A,g,Os);M!==null&&(_.startTime=M,S=!0)}}Kb(s,g),x.start(_w(g,x,b,s.shouldReduceMotion&&hA.has(g)?{type:!1}:_,s,S));const C=x.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{Os.update(()=>{c&&CG(s,c)})}),h}function e_(s,e,n={}){var r;const i=Xv(s,e,n.type==="exit"?(r=s.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=s.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(ww(s,i,n)):()=>Promise.resolve(),c=s.variantChildren&&s.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=a;return WW(s,e,p+h,g,x,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,p]=u==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function WW(s,e,n=0,r=0,i=1,a){const l=[],c=(s.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(s.variantChildren).sort(KW).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(e_(h,e,{...a,delay:n+u(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function KW(s,e){return s.sortNodePosition(e)}function qW(s,e,n={}){s.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>e_(s,a,n));r=Promise.all(i)}else if(typeof e=="string")r=e_(s,e,n);else{const i=typeof e=="function"?Xv(s,e,n.custom):e;r=Promise.all(ww(s,i,n))}return r.then(()=>{s.notify("AnimationComplete",e)})}const QW=q1.length;function KA(s){if(!s)return;if(!s.isControllingVariants){const n=s.parent?KA(s.parent)||{}:{};return s.props.initial!==void 0&&(n.initial=s.props.initial),n}const e={};for(let n=0;n<QW;n++){const r=q1[n],i=s.props[r];(kp(i)||i===!1)&&(e[r]=i)}return e}const YW=[...K1].reverse(),XW=K1.length;function JW(s){return e=>Promise.all(e.map(({animation:n,options:r})=>qW(s,n,r)))}function ZW(s){let e=JW(s),n=pk(),r=!0;const i=u=>(h,p)=>{var g;const x=Xv(s,p,u==="exit"?(g=s.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(x){const{transition:b,transitionEnd:_,...S}=x;h={...h,...S,..._}}return h};function a(u){e=u(s)}function l(u){const{props:h}=s,p=KA(s.parent)||{},g=[],x=new Set;let b={},_=1/0;for(let C=0;C<XW;C++){const A=YW[C],M=n[A],j=h[A]!==void 0?h[A]:p[A],y=kp(j),w=A===u?M.isActive:null;w===!1&&(_=C);let P=j===p[A]&&j!==h[A]&&y;if(P&&r&&s.manuallyAnimateOnMount&&(P=!1),M.protectedKeys={...b},!M.isActive&&w===null||!j&&!M.prevProp||Qv(j)||typeof j=="boolean")continue;const N=eK(M.prevProp,j);let k=N||A===u&&M.isActive&&!P&&y||C>_&&y,T=!1;const L=Array.isArray(j)?j:[j];let R=L.reduce(i(A),{});w===!1&&(R={});const{prevResolvedValues:$={}}=M,B={...$,...R},H=G=>{k=!0,x.has(G)&&(T=!0,x.delete(G)),M.needsAnimating[G]=!0;const K=s.getValue(G);K&&(K.liveStyle=!1)};for(const G in B){const K=R[G],te=$[G];if(b.hasOwnProperty(G))continue;let X=!1;Gb(K)&&Gb(te)?X=!nA(K,te):X=K!==te,X?K!=null?H(G):x.add(G):K!==void 0&&x.has(G)?H(G):M.protectedKeys[G]=!0}M.prevProp=j,M.prevResolvedValues=R,M.isActive&&(b={...b,...R}),r&&s.blockInitialAnimation&&(k=!1),k&&(!(P&&N)||T)&&g.push(...L.map(G=>({animation:G,options:{type:A}})))}if(x.size){const C={};x.forEach(A=>{const M=s.getBaseTarget(A),j=s.getValue(A);j&&(j.liveStyle=!0),C[A]=M!=null?M:null}),g.push({animation:C})}let S=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!s.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(g):Promise.resolve()}function c(u,h){var p;if(n[u].isActive===h)return Promise.resolve();(p=s.variantChildren)===null||p===void 0||p.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),n[u].isActive=h;const g=l(u);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=pk(),r=!0}}}function eK(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!nA(e,s):!1}function pc(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pk(){return{animate:pc(!0),whileInView:pc(),whileHover:pc(),whileTap:pc(),whileDrag:pc(),whileFocus:pc(),exit:pc()}}class zl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tK extends zl{constructor(e){super(e),e.animationState||(e.animationState=ZW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let sK=0;class nK extends zl{constructor(){super(...arguments),this.id=sK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rK={animation:{Feature:tK},exit:{Feature:nK}};function Tp(s,e,n,r={passive:!0}){return s.addEventListener(e,n,r),()=>s.removeEventListener(e,n)}function rm(s){return{point:{x:s.pageX,y:s.pageY}}}const iK=s=>e=>cw(e)&&s(e,rm(e));function tp(s,e,n,r){return Tp(s,e,iK(n),r)}const mk=(s,e)=>Math.abs(s-e);function aK(s,e){const n=mk(s.x,e.x),r=mk(s.y,e.y);return Math.sqrt(n**2+r**2)}class qA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=i0(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=aK(g.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:_}=g,{timestamp:S}=or;this.history.push({..._,timestamp:S});const{onStart:C,onMove:A}=this.handlers;x||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=r0(x,this.transformPagePoint),Os.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=i0(g.type==="pointercancel"?this.lastMoveEventInfo:r0(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,C),_&&_(g,C)},!cw(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=rm(e),c=r0(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=or;this.history=[{...u,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,i0(c,this.history)),this.removeListeners=nm(tp(this.contextWindow,"pointermove",this.handlePointerMove),tp(this.contextWindow,"pointerup",this.handlePointerUp),tp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function r0(s,e){return e?{point:e(s.point)}:s}function gk(s,e){return{x:s.x-e.x,y:s.y-e.y}}function i0({point:s},e){return{point:s,delta:gk(s,QA(e)),offset:gk(s,oK(e)),velocity:lK(e,.1)}}function oK(s){return s[0]}function QA(s){return s[s.length-1]}function lK(s,e){if(s.length<2)return{x:0,y:0};let n=s.length-1,r=null;const i=QA(s);for(;n>=0&&(r=s[n],!(i.timestamp-r.timestamp>Va(e)));)n--;if(!r)return{x:0,y:0};const a=Ua(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const YA=1e-4,cK=1-YA,dK=1+YA,XA=.01,uK=0-XA,hK=0+XA;function Ii(s){return s.max-s.min}function pK(s,e,n){return Math.abs(s-e)<=n}function fk(s,e,n,r=.5){s.origin=r,s.originPoint=Qs(e.min,e.max,s.origin),s.scale=Ii(n)/Ii(e),s.translate=Qs(n.min,n.max,s.origin)-s.originPoint,(s.scale>=cK&&s.scale<=dK||isNaN(s.scale))&&(s.scale=1),(s.translate>=uK&&s.translate<=hK||isNaN(s.translate))&&(s.translate=0)}function sp(s,e,n,r){fk(s.x,e.x,n.x,r?r.originX:void 0),fk(s.y,e.y,n.y,r?r.originY:void 0)}function vk(s,e,n){s.min=n.min+e.min,s.max=s.min+Ii(e)}function mK(s,e,n){vk(s.x,e.x,n.x),vk(s.y,e.y,n.y)}function xk(s,e,n){s.min=e.min-n.min,s.max=s.min+Ii(e)}function np(s,e,n){xk(s.x,e.x,n.x),xk(s.y,e.y,n.y)}function gK(s,{min:e,max:n},r){return e!==void 0&&s<e?s=r?Qs(e,s,r.min):Math.max(s,e):n!==void 0&&s>n&&(s=r?Qs(n,s,r.max):Math.min(s,n)),s}function yk(s,e,n){return{min:e!==void 0?s.min+e:void 0,max:n!==void 0?s.max+n-(s.max-s.min):void 0}}function fK(s,{top:e,left:n,bottom:r,right:i}){return{x:yk(s.x,n,i),y:yk(s.y,e,r)}}function bk(s,e){let n=e.min-s.min,r=e.max-s.max;return e.max-e.min<s.max-s.min&&([n,r]=[r,n]),{min:n,max:r}}function vK(s,e){return{x:bk(s.x,e.x),y:bk(s.y,e.y)}}function xK(s,e){let n=.5;const r=Ii(s),i=Ii(e);return i>r?n=Kc(e.min,e.max-r,s.min):r>i&&(n=Kc(s.min,s.max-i,e.min)),Mo(0,1,n)}function yK(s,e){const n={};return e.min!==void 0&&(n.min=e.min-s.min),e.max!==void 0&&(n.max=e.max-s.min),n}const t_=.35;function bK(s=t_){return s===!1?s=0:s===!0&&(s=t_),{x:_k(s,"left","right"),y:_k(s,"top","bottom")}}function _k(s,e,n){return{min:wk(s,e),max:wk(s,n)}}function wk(s,e){return typeof s=="number"?s:s[e]||0}const jk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xd=()=>({x:jk(),y:jk()}),Sk=()=>({min:0,max:0}),dn=()=>({x:Sk(),y:Sk()});function Bi(s){return[s("x"),s("y")]}function JA({top:s,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:s,max:r}}}function _K({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function wK(s,e){if(!e)return s;const n=e({x:s.left,y:s.top}),r=e({x:s.right,y:s.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function a0(s){return s===void 0||s===1}function s_({scale:s,scaleX:e,scaleY:n}){return!a0(s)||!a0(e)||!a0(n)}function Nc(s){return s_(s)||ZA(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function ZA(s){return Nk(s.x)||Nk(s.y)}function Nk(s){return s&&s!=="0%"}function sv(s,e,n){const r=s-n,i=e*r;return n+i}function kk(s,e,n,r,i){return i!==void 0&&(s=sv(s,i,r)),sv(s,n,r)+e}function n_(s,e=0,n=1,r,i){s.min=kk(s.min,e,n,r,i),s.max=kk(s.max,e,n,r,i)}function e4(s,{x:e,y:n}){n_(s.x,e.translate,e.scale,e.originPoint),n_(s.y,n.translate,n.scale,n.originPoint)}const Ck=.999999999999,Ik=1.0000000000001;function jK(s,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Zd(s,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,e4(s,l)),r&&Nc(a.latestValues)&&Zd(s,a.latestValues))}e.x<Ik&&e.x>Ck&&(e.x=1),e.y<Ik&&e.y>Ck&&(e.y=1)}function Jd(s,e){s.min=s.min+e,s.max=s.max+e}function Tk(s,e,n,r,i=.5){const a=Qs(s.min,s.max,i);n_(s,e,n,a,r)}function Zd(s,e){Tk(s.x,e.x,e.scaleX,e.scale,e.originX),Tk(s.y,e.y,e.scaleY,e.scale,e.originY)}function t4(s,e){return JA(wK(s.getBoundingClientRect(),e))}function SK(s,e,n){const r=t4(s,n),{scroll:i}=e;return i&&(Jd(r.x,i.offset.x),Jd(r.y,i.offset.y)),r}const s4=({current:s})=>s?s.ownerDocument.defaultView:null,NK=new WeakMap;class kK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rm(p).point)},a=(p,g)=>{const{drag:x,dragPropagation:b,onDragStart:_}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wG(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bi(C=>{let A=this.getAxisMotionValue(C).get()||0;if(za.test(A)){const{projection:M}=this.visualElement;if(M&&M.layout){const j=M.layout.layoutBox[C];j&&(A=Ii(j)*(parseFloat(A)/100))}}this.originPoint[C]=A}),_&&Os.postRender(()=>_(p,g)),Kb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:_,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=g;if(b&&this.currentDirection===null){this.currentDirection=CK(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),S&&S(p,g)},c=(p,g)=>this.stop(p,g),u=()=>Bi(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new qA(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:s4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Os.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Lg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=gK(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Qd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=fK(i.layoutBox,n):this.constraints=!1,this.elastic=bK(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=yK(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=SK(r,i.root,this.visualElement.getTransformPagePoint());let l=vK(i.layout.layoutBox,a);if(n){const c=n(_K(l));this.hasMutatedConstraints=!!c,c&&(l=JA(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Bi(p=>{if(!Lg(p,n,this.currentDirection))return;let g=u&&u[p]||{};l&&(g={min:0,max:0});const x=i?200:1e6,b=i?40:1e7,_={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Kb(this.visualElement,e),r.start(_w(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bi(n=>{const{drag:r}=this.getProps();if(!Lg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-Qs(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();i[l]=xK({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bi(l=>{if(!Lg(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(Qs(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;NK.set(this.visualElement,this);const e=this.visualElement.current,n=tp(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Qd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Os.read(r);const l=Tp(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Bi(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=t_,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Lg(s,e,n){return(e===!0||e===s)&&(n===null||n===s)}function CK(s,e=10){let n=null;return Math.abs(s.y)>e?n="y":Math.abs(s.x)>e&&(n="x"),n}class IK extends zl{constructor(e){super(e),this.removeGroupControls=ki,this.removeListeners=ki,this.controls=new kK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ki}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ek=s=>(e,n)=>{s&&Os.postRender(()=>s(e,n))};class TK extends zl{constructor(){super(...arguments),this.removePointerDownListener=ki}onPointerDown(e){this.session=new qA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ek(e),onStart:Ek(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Os.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=tp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ak(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const jh={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(kt.test(s))s=parseFloat(s);else return s;const n=Ak(s,e.target.x),r=Ak(s,e.target.y);return`${n}% ${r}%`}},EK={correct:(s,{treeScale:e,projectionDelta:n})=>{const r=s,i=Ol.parse(s);if(i.length>5)return r;const a=Ol.createTransformer(s),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=u;const h=Qs(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class AK extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;sG(PK),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Os.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Y1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function n4(s){const[e,n]=xH(),r=E.useContext(ME);return t.jsx(AK,{...s,layoutGroup:r,switchLayoutGroup:E.useContext(HE),isPresent:e,safeToRemove:n})}const PK={borderRadius:{...jh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jh,borderTopRightRadius:jh,borderBottomLeftRadius:jh,borderBottomRightRadius:jh,boxShadow:EK};function r4(s,e,n){const r=Yn(s)?s:bu(s);return r.start(_w("",r,e,n)),r.animation}function i4(s){return s instanceof SVGElement&&s.tagName!=="svg"}const RK=(s,e)=>s.depth-e.depth;class LK{constructor(){this.children=[],this.isDirty=!1}add(e){dw(this.children,e),this.isDirty=!0}remove(e){Zv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RK),this.isDirty=!1,this.children.forEach(e)}}function DK(s,e){const n=Ha.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Do(r),s(a-e))};return Os.read(r,!0),()=>Do(r)}const a4=["TopLeft","TopRight","BottomLeft","BottomRight"],MK=a4.length,Pk=s=>typeof s=="string"?parseFloat(s):s,Rk=s=>typeof s=="number"||kt.test(s);function FK(s,e,n,r,i,a){i?(s.opacity=Qs(0,n.opacity!==void 0?n.opacity:1,$K(r)),s.opacityExit=Qs(e.opacity!==void 0?e.opacity:1,0,BK(r))):a&&(s.opacity=Qs(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<MK;l++){const c=`border${a4[l]}Radius`;let u=Lk(e,c),h=Lk(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Rk(u)===Rk(h)?(s[c]=Math.max(Qs(Pk(u),Pk(h),r),0),(za.test(h)||za.test(u))&&(s[c]+="%")):s[c]=h}(e.rotate||n.rotate)&&(s.rotate=Qs(e.rotate||0,n.rotate||0,r))}function Lk(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const $K=o4(0,.5,_A),BK=o4(.5,.95,ki);function o4(s,e,n){return r=>r<s?0:r>e?1:n(Kc(s,e,r))}function Dk(s,e){s.min=e.min,s.max=e.max}function Fi(s,e){Dk(s.x,e.x),Dk(s.y,e.y)}function Mk(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function Fk(s,e,n,r,i){return s-=e,s=sv(s,1/n,r),i!==void 0&&(s=sv(s,1/i,r)),s}function OK(s,e=0,n=1,r=.5,i,a=s,l=s){if(za.test(e)&&(e=parseFloat(e),e=Qs(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Qs(a.min,a.max,r);s===a&&(c-=e),s.min=Fk(s.min,e,n,c,i),s.max=Fk(s.max,e,n,c,i)}function $k(s,e,[n,r,i],a,l){OK(s,e[n],e[r],e[i],e.scale,a,l)}const VK=["x","scaleX","originX"],UK=["y","scaleY","originY"];function Bk(s,e,n,r){$k(s.x,e,VK,n?n.x:void 0,r?r.x:void 0),$k(s.y,e,UK,n?n.y:void 0,r?r.y:void 0)}function Ok(s){return s.translate===0&&s.scale===1}function l4(s){return Ok(s.x)&&Ok(s.y)}function Vk(s,e){return s.min===e.min&&s.max===e.max}function zK(s,e){return Vk(s.x,e.x)&&Vk(s.y,e.y)}function Uk(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function c4(s,e){return Uk(s.x,e.x)&&Uk(s.y,e.y)}function zk(s){return Ii(s.x)/Ii(s.y)}function Hk(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class HK{constructor(){this.members=[]}add(e){dw(this.members,e),e.scheduleRender()}remove(e){if(Zv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GK(s,e,n){let r="";const i=s.x.translate/e.x,a=s.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:b,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),x&&(r+=`rotateY(${x}deg) `),b&&(r+=`skewX(${b}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=s.x.scale*e.x,u=s.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const kc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vh=typeof window!="undefined"&&window.MotionDebug!==void 0,o0=["","X","Y","Z"],WK={visibility:"hidden"},Gk=1e3;let KK=0;function l0(s,e,n,r){const{latestValues:i}=e;i[s]&&(n[s]=i[s],e.setStaticValue(s,0),r&&(r[s]=0))}function d4(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const n=mA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=s.options;window.MotionCancelOptimisedAnimation(n,"transform",Os,!(i||a))}const{parent:r}=s;r&&!r.hasCheckedOptimisedAppear&&d4(r)}function u4({attachResizeListener:s,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=KK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vh&&(kc.totalNodes=kc.resolvedTargetDeltas=kc.recalculatedProjection=0),this.nodes.forEach(YK),this.nodes.forEach(tq),this.nodes.forEach(sq),this.nodes.forEach(XK),Vh&&window.MotionDebug.record(kc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new LK)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new uw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i4(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),s){let g;const x=()=>this.root.updateBlockedByResize=!1;s(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=DK(x,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(Kk))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeTargetChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||oq,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=p.getProps(),M=!this.targetLayout||!c4(this.targetLayout,_)||b,j=!x&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,j);const y={...aw(S,"layout"),onPlay:C,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else x||Kk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nq),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wk);return}this.isUpdating||this.nodes.forEach(ZK),this.isUpdating=!1,this.nodes.forEach(eq),this.nodes.forEach(qK),this.nodes.forEach(QK),this.clearAllSnapshots();const c=Ha.now();or.delta=Mo(0,1e3/60,c-or.timestamp),or.timestamp=c,or.isProcessing=!0,Jy.update.process(or),Jy.preRender.process(or),Jy.render.process(or),or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JK),this.sharedNodes.forEach(rq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Os.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Os.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!l4(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&(c||Nc(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),lq(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return dn();const u=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(cq))){const{scroll:p}=this.root;p&&(Jd(u.x,p.offset.x),Jd(u.y,p.offset.y))}return u}removeElementScroll(l){var c;const u=dn();if(Fi(u,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Fi(u,l),Jd(u.x,g.offset.x),Jd(u.y,g.offset.y))}return u}applyTransform(l,c=!1){const u=dn();Fi(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Zd(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Nc(p.latestValues)&&Zd(u,p.latestValues)}return Nc(this.latestValues)&&Zd(u,this.latestValues),u}removeTransform(l){const c=dn();Fi(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Nc(h.latestValues))continue;s_(h.latestValues)&&h.updateSnapshot();const p=dn(),g=h.measurePageBox();Fi(p,g),Bk(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Nc(this.latestValues)&&Bk(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=or.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),np(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fi(this.target,this.layout.layoutBox),e4(this.target,this.targetDelta)):Fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),np(this.relativeTargetOrigin,this.target,b.target),Fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vh&&kc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||s_(this.parent.latestValues)||ZA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===or.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Fi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;jK(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=dn());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mk(this.prevProjectionDelta.x,this.projectionDelta.x),Mk(this.prevProjectionDelta.y,this.projectionDelta.y)),sp(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!Hk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Vh&&kc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xd(),this.projectionDelta=Xd(),this.projectionDeltaWithTransform=Xd()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=Xd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=dn(),b=u?u.source:void 0,_=this.layout?this.layout.source:void 0,S=b!==_,C=this.getStack(),A=!C||C.members.length<=1,M=!!(S&&!A&&this.options.crossfade===!0&&!this.path.some(aq));this.animationProgress=0;let j;this.mixTargetDelta=y=>{const w=y/1e3;qk(g.x,l.x,w),qk(g.y,l.y,w),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iq(this.relativeTarget,this.relativeTargetOrigin,x,w),j&&zK(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=dn()),Fi(j,this.relativeTarget)),S&&(this.animationValues=p,FK(p,h,this.latestValues,w,M,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Os.update(()=>{bf.hasAnimatedSinceResize=!0,this.currentAnimation=r4(0,Gk,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:p}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&h4(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||dn();const g=Ii(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const x=Ii(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+x}Fi(c,u),Zd(c,p),sp(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new HK),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&l0("z",l,h,this.animationValues);for(let p=0;p<o0.length;p++)l0(`rotate${o0[p]}`,l,h,this.animationValues),l0(`skew${o0[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WK;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=xf(l==null?void 0:l.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=xf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Nc(this.latestValues)&&(S.transform=p?p({},""):"none",this.hasProjected=!1),S}const x=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=GK(this.projectionDeltaWithTransform,this.treeScale,x),p&&(h.transform=p(x,h.transform));const{x:b,y:_}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const S in Yf){if(x[S]===void 0)continue;const{correct:C,applyTo:A}=Yf[S],M=h.transform==="none"?x[S]:C(x[S],g);if(A){const j=A.length;for(let y=0;y<j;y++)h[A[y]]=M}else h[S]=M}return this.options.layoutId&&(h.pointerEvents=g===this?xf(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Wk),this.root.sharedNodes.clear()}}}function qK(s){s.updateLayout()}function QK(s){var e;const n=((e=s.resumeFrom)===null||e===void 0?void 0:e.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&n&&s.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=s.layout,{animationType:a}=s.options,l=n.source!==s.layout.source;a==="size"?Bi(g=>{const x=l?n.measuredBox[g]:n.layoutBox[g],b=Ii(x);x.min=r[g].min,x.max=x.min+b}):h4(a,n.layoutBox,r)&&Bi(g=>{const x=l?n.measuredBox[g]:n.layoutBox[g],b=Ii(r[g]);x.max=x.min+b,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[g].max=s.relativeTarget[g].min+b)});const c=Xd();sp(c,r,n.layoutBox);const u=Xd();l?sp(u,s.applyTransform(i,!0),n.measuredBox):sp(u,r,n.layoutBox);const h=!l4(c);let p=!1;if(!s.resumeFrom){const g=s.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const _=dn();np(_,n.layoutBox,x.layoutBox);const S=dn();np(S,r,b.layoutBox),c4(_,S)||(p=!0),g.options.layoutRoot&&(s.relativeTarget=S,s.relativeTargetOrigin=_,s.relativeParent=g)}}}s.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(s.isLead()){const{onExitComplete:r}=s.options;r&&r()}s.options.transition=void 0}function YK(s){Vh&&kc.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function XK(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function JK(s){s.clearSnapshot()}function Wk(s){s.clearMeasurements()}function ZK(s){s.isLayoutDirty=!1}function eq(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function Kk(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function tq(s){s.resolveTargetDelta()}function sq(s){s.calcProjection()}function nq(s){s.resetSkewAndRotation()}function rq(s){s.removeLeadSnapshot()}function qk(s,e,n){s.translate=Qs(e.translate,0,n),s.scale=Qs(e.scale,1,n),s.origin=e.origin,s.originPoint=e.originPoint}function Qk(s,e,n,r){s.min=Qs(e.min,n.min,r),s.max=Qs(e.max,n.max,r)}function iq(s,e,n,r){Qk(s.x,e.x,n.x,r),Qk(s.y,e.y,n.y,r)}function aq(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const oq={duration:.45,ease:[.4,0,.1,1]},Yk=s=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Xk=Yk("applewebkit/")&&!Yk("chrome/")?Math.round:ki;function Jk(s){s.min=Xk(s.min),s.max=Xk(s.max)}function lq(s){Jk(s.x),Jk(s.y)}function h4(s,e,n){return s==="position"||s==="preserve-aspect"&&!pK(zk(e),zk(n),.2)}function cq(s){var e;return s!==s.root&&((e=s.scroll)===null||e===void 0?void 0:e.wasRoot)}const dq=u4({attachResizeListener:(s,e)=>Tp(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),c0={current:void 0},p4=u4({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!c0.current){const s=new dq({});s.mount(window),s.setOptions({layoutScroll:!0}),c0.current=s}return c0.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),uq={pan:{Feature:TK},drag:{Feature:IK,ProjectionNode:p4,MeasureLayout:n4}};function Zk(s,e,n){const{props:r}=s;s.animationState&&r.whileHover&&s.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Os.postRender(()=>a(e,rm(e)))}class hq extends zl{mount(){const{current:e}=this.node;e&&(this.unmount=vG(e,n=>(Zk(this.node,n,"Start"),r=>Zk(this.node,r,"End"))))}unmount(){}}class pq extends zl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nm(Tp(this.node.current,"focus",()=>this.onFocus()),Tp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eC(s,e,n){const{props:r}=s;s.animationState&&r.whileTap&&s.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Os.postRender(()=>a(e,rm(e)))}class mq extends zl{mount(){const{current:e}=this.node;e&&(this.unmount=_G(e,n=>(eC(this.node,n,"Start"),(r,{success:i})=>eC(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const r_=new WeakMap,d0=new WeakMap,gq=s=>{const e=r_.get(s.target);e&&e(s)},fq=s=>{s.forEach(gq)};function vq({root:s,...e}){const n=s||document;d0.has(n)||d0.set(n,{});const r=d0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fq,{root:s,...e})),r[i]}function xq(s,e,n){const r=vq(e);return r_.set(s,n),r.observe(s),()=>{r_.delete(s),r.unobserve(s)}}const yq={some:0,all:1};class bq extends zl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yq[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(u)};return xq(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_q(e,n))&&this.startObserver()}unmount(){}}function _q({viewport:s={}},{viewport:e={}}={}){return n=>s[n]!==e[n]}const wq={inView:{Feature:bq},tap:{Feature:mq},focus:{Feature:pq},hover:{Feature:hq}},jq={layout:{ProjectionNode:p4,MeasureLayout:n4}},nv={current:null},jw={current:!1};function m4(){if(jw.current=!0,!!G1)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>nv.current=s.matches;s.addListener(e),e()}else nv.current=!1}const Sq=[...DA,jr,Ol],Nq=s=>Sq.find(LA(s)),wu=new WeakMap;function kq(s,e,n){for(const r in e){const i=e[r],a=n[r];if(Yn(i))s.addValue(r,i);else if(Yn(a))s.addValue(r,bu(i,{owner:s}));else if(a!==i)if(s.hasValue(r)){const l=s.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=s.getStaticValue(r);s.addValue(r,bu(l!==void 0?l:i,{owner:s}))}}for(const r in n)e[r]===void 0&&s.removeValue(r);return e}const tC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ha.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Os.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:p}=l;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Yv(n),this.isVariantNode=UE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in x){const _=x[b];u[b]!==void 0&&Yn(_)&&_.set(u[b],!1)}}mount(e){this.current=e,wu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jw.current||m4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wu.delete(this.current),this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Jc.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Os.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yu){const n=yu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tC.length;r++){const i=tC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=kq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(PA(i)||jA(i))?i=parseFloat(i):!Nq(i)&&Ol.test(n)&&(i=TA(e,n)),this.setBaseTarget(e,Yn(i)?i.get():i)),Yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=J1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class f4 extends g4{constructor(){super(...arguments),this.KeyframeResolver=MA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cq(s){return window.getComputedStyle(s)}class v4 extends f4{constructor(){super(...arguments),this.type="html",this.renderInstance=XE}readValueFromInstance(e,n){if(Jc.has(n)){const r=fw(n);return r&&r.default||0}else{const r=Cq(e),i=(qE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return t4(e,n)}build(e,n,r){tw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return iw(e,n,r)}}class x4 extends f4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jc.has(n)){const r=fw(n);return r&&r.default||0}return n=JE.has(n)?n:Q1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return tA(e,n,r)}build(e,n,r){sw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){ZE(e,n,r,i)}mount(e){this.isSVGTag=rw(e.tagName),super.mount(e)}}const Iq=(s,e)=>X1(s)?new x4(e):new v4(e,{allowProjection:s!==E.Fragment}),Tq=uG({...rK,...wq,...uq,...jq},Iq),y4=kH(Tq);function Uh(s){const e=U1(()=>bu(s)),{isStatic:n}=E.useContext(H1);if(n){const[,r]=E.useState(s);E.useEffect(()=>e.on("change",r),[])}return e}function b4(s,e){const n=Uh(e()),r=()=>n.set(e());return r(),FE(()=>{const i=()=>Os.preRender(r,!1,!0),a=s.map(l=>l.on("change",i));return()=>{a.forEach(l=>l()),Do(r)}}),n}const Eq=s=>s&&typeof s=="object"&&s.mix,Aq=s=>Eq(s)?s.mix:void 0;function Pq(...s){const e=!Array.isArray(s[0]),n=e?0:-1,r=s[0+n],i=s[1+n],a=s[2+n],l=s[3+n],c=zA(i,a,{mixer:Aq(a[0]),...l});return e?c(r):c}function Rq(s){Zh.current=[],s();const e=b4(Zh.current,s);return Zh.current=void 0,e}function Dg(s,e,n,r){if(typeof s=="function")return Rq(s);const i=typeof e=="function"?e:Pq(e,n,r);return Array.isArray(s)?sC(s,i):sC([s],([a])=>i(a))}function sC(s,e){const n=U1(()=>[]);return b4(s,()=>{n.length=0;const r=s.length;for(let i=0;i<r;i++)n[i]=s[i].get();return e(n)})}function _4(){!jw.current&&m4();const[s]=E.useState(nv.current);return s}const Lq=(s,e,n)=>{const r=e-s;return((n-s)%r+r)%r+s};function w4(s,e){return UA(s)?s[Lq(0,s.length,e)]:s}function Sw(s){return typeof s=="object"&&!Array.isArray(s)}function j4(s,e,n,r){return typeof s=="string"&&Sw(e)?cA(s,n,r):s instanceof NodeList?Array.from(s):Array.isArray(s)?s:[s]}function Dq(s,e,n){return s*(e+1)}function nC(s,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,s+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:s}function Mq(s,e,n){for(let r=0;r<s.length;r++){const i=s[r];i.at>e&&i.at<n&&(Zv(s,i),r--)}}function Fq(s,e,n,r,i,a){Mq(s,i,a);for(let l=0;l<e.length;l++)s.push({value:e[l],at:Qs(i,a,r[l]),easing:w4(n,l)})}function $q(s,e){for(let n=0;n<s.length;n++)s[n]=s[n]/(e+1)}function Bq(s,e){return s.at===e.at?s.value===null?1:e.value===null?-1:0:s.at-e.at}const Oq="easeInOut";function Vq(s,{defaultTransition:e={},...n}={},r,i){const a=e.duration||.3,l=new Map,c=new Map,u={},h=new Map;let p=0,g=0,x=0;for(let b=0;b<s.length;b++){const _=s[b];if(typeof _=="string"){h.set(_,g);continue}else if(!Array.isArray(_)){h.set(_.name,nC(g,_.at,p,h));continue}let[S,C,A={}]=_;A.at!==void 0&&(g=nC(g,A.at,p,h));let M=0;const j=(y,w,P,N=0,k=0)=>{const T=Uq(y),{delay:L=0,times:R=GA(T),type:$="keyframes",repeat:B,repeatType:H,repeatDelay:z=0,...W}=w;let{ease:G=e.ease||"easeOut",duration:K}=w;const te=typeof L=="function"?L(N,k):L,X=T.length,U=Jv($)?$:i==null?void 0:i[$];if(X<=2&&U){let ue=100;if(X===2&&Gq(T)){const ee=T[1]-T[0];ue=Math.abs(ee)}const we={...W};K!==void 0&&(we.duration=Va(K));const Me=mG(we,ue,U);G=Me.ease,K=Me.duration}K!=null||(K=a);const J=g+te;R.length===1&&R[0]===0&&(R[1]=1);const se=R.length-T.length;if(se>0&&HA(R,se),T.length===1&&T.unshift(null),B){K=Dq(K,B);const ue=[...T],we=[...R];G=Array.isArray(G)?[...G]:[G];const Me=[...G];for(let ee=0;ee<B;ee++){T.push(...ue);for(let ge=0;ge<ue.length;ge++)R.push(we[ge]+(ee+1)),G.push(ge===0?"linear":w4(Me,ge-1))}$q(R,B)}const ne=J+K;Fq(P,T,G,R,J,ne),M=Math.max(te+K,M),x=Math.max(ne,x)};if(Yn(S)){const y=rC(S,c);j(C,A,iC("default",y))}else{const y=j4(S,C,r,u),w=y.length;for(let P=0;P<w;P++){C=C,A=A;const N=y[P],k=rC(N,c);for(const T in C)j(C[T],zq(A,T),iC(T,k),P,w)}}p=g,g+=M}return c.forEach((b,_)=>{for(const S in b){const C=b[S];C.sort(Bq);const A=[],M=[],j=[];for(let w=0;w<C.length;w++){const{at:P,value:N,easing:k}=C[w];A.push(N),M.push(Kc(0,x,P)),j.push(k||"easeOut")}M[0]!==0&&(M.unshift(0),A.unshift(A[0]),j.unshift(Oq)),M[M.length-1]!==1&&(M.push(1),A.push(null)),l.has(_)||l.set(_,{keyframes:{},transition:{}});const y=l.get(_);y.keyframes[S]=A,y.transition[S]={...e,duration:x,ease:j,times:M,...n}}}),l}function rC(s,e){return!e.has(s)&&e.set(s,{}),e.get(s)}function iC(s,e){return e[s]||(e[s]=[]),e[s]}function Uq(s){return Array.isArray(s)?s:[s]}function zq(s,e){return s&&s[e]?{...s,...s[e]}:{...s}}const Hq=s=>typeof s=="number",Gq=s=>s.every(Hq);function Wq(s,e){return s in e}class Kq extends g4{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Wq(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return dn()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function qq(s){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=i4(s)?new x4(e):new v4(e);n.mount(s),wu.set(s,n)}function Qq(s){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Kq(e);n.mount(s),wu.set(s,n)}function Yq(s,e){return Yn(s)||typeof s=="number"||typeof s=="string"&&!Sw(e)}function S4(s,e,n,r){const i=[];if(Yq(s,e))i.push(r4(s,Sw(e)&&e.default||e,n&&(n.default||n)));else{const a=j4(s,e,r),l=a.length;for(let c=0;c<l;c++){const u=a[c],h=u instanceof Element?qq:Qq;wu.has(u)||h(u);const p=wu.get(u),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(c,l)),i.push(...ww(p,{...e,transition:g},{}))}}return i}function Xq(s,e,n){const r=[];return Vq(s,e,n,{spring:yw}).forEach(({keyframes:a,transition:l},c)=>{r.push(...S4(c,a,l))}),r}function Jq(s){return Array.isArray(s)&&s.some(Array.isArray)}function Zq(s){function e(n,r,i){let a=[];return Jq(n)?a=Xq(n,r,s):a=S4(n,r,i,s),new rA(a)}return e}const Mg=Zq(),So={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function eQ(){return t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+So.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function tQ(){return t.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[t.jsxs("defs",{children:[t.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[t.jsx("stop",{offset:"0%",stopColor:So.icon,stopOpacity:"0.42"}),t.jsx("stop",{offset:"70%",stopColor:So.icon,stopOpacity:"0"})]}),t.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[t.jsx("stop",{offset:"0%",stopColor:So.icon,stopOpacity:"0.20"}),t.jsx("stop",{offset:"70%",stopColor:So.icon,stopOpacity:"0"})]})]}),t.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),t.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function aC({rounded:s="rounded-3xl",padded:e=!0,children:n}){const r=_4();return t.jsxs("section",{className:`relative w-full overflow-hidden border ${s}`,style:{borderColor:So.border,background:"var(--nav, "+So.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[t.jsx(eQ,{}),t.jsx(y4.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),t.jsx(tQ,{}),t.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const u0={borderColor:"#2B4C73",background:"#1A2F4A"},Fg={borderColor:"#2B4C73",background:"#152A42"};function Ht({hex:s,title:e,subtitle:n,actions:r,subheader:i,left:a,right:l,children:c,rounded:u="rounded-3xl",padded:h=!0,centerFramed:p=!1,leftWidth:g=0,rightWidth:x=0,stickyRails:b=!0,leftFullHeight:_=!1,mode:S="card",outerPadding:C="px-4 py-3",leftPlacement:A="inside",stickyTopbar:M=!0,stickySubheader:j=!0,shellViewportOffset:y="var(--app-topbar-h,72px)",topbarHeight:w=56}){const P={"--left":typeof g=="number"?`${g}px`:g,"--right":typeof x=="number"?`${x}px`:x},N=t.jsxs(t.Fragment,{children:[s&&t.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:u0,children:s}),(e||n||r)&&t.jsxs("div",{className:[M?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:u0,children:[t.jsxs("div",{className:"min-w-0",children:[e&&t.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&t.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?t.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&t.jsx("div",{className:[j?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...j?{top:M?`${w}px`:0}:{},...u0},children:i})]}),k=S==="card"?({children:L})=>t.jsx(aC,{rounded:u,padded:h,children:L}):({children:L})=>t.jsx("div",{className:`w-full ${C}`,children:L}),T=t.jsx("div",{className:"relative min-h-0 h-full",style:P,children:t.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[a?t.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Fg,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:_?"stretch":"start",height:_?"100%":"fit-content",minHeight:_?0:void 0},children:a}):g?t.jsx("div",{}):t.jsx("div",{className:"hidden md:block"}),p?t.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Fg,children:c}):t.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:c}),l?t.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Fg,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):x?t.jsx("div",{}):t.jsx("div",{className:"hidden md:block"})]})});return A==="bleed"&&S==="card"?t.jsx("div",{className:`w-full ${C}`,children:t.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[N,t.jsx("div",{className:"flex-1 min-h-0",style:P,children:t.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[a?t.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Fg,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:_?"stretch":"start",height:_?"100%":"fit-content",minHeight:_?0:void 0},children:a}):g?t.jsx("div",{}):t.jsx("div",{className:"hidden md:block"}),t.jsx(aC,{rounded:u,padded:h,children:t.jsx("div",{className:"flex-1 min-h-0 h-full",children:T})})]})})]})}):t.jsx(k,{children:t.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${y})`},children:[N,t.jsx("div",{className:"flex-1 min-h-0",children:T})]})})}const sQ="_card_z6isy_1",nQ="_header_z6isy_19",rQ="_headerGroup_z6isy_33",iQ="_headerText_z6isy_47",aQ="_headerIcon_z6isy_61",oQ="_title_z6isy_81",lQ="_subtitle_z6isy_93",cQ="_previewWrap_z6isy_103",dQ="_previewSurface_z6isy_115",uQ="_previewLink_z6isy_134",hQ="_previewStatic_z6isy_142",pQ="_previewImage_z6isy_168",mQ="_previewImageIcon_z6isy_188",gQ="_previewImageCover_z6isy_196",fQ="_guidehubScale_z6isy_206",Fr={card:sQ,header:nQ,headerGroup:rQ,headerText:iQ,headerIcon:aQ,title:oQ,subtitle:lQ,previewWrap:cQ,previewSurface:dQ,previewLink:uQ,previewStatic:hQ,previewImage:pQ,previewImageIcon:mQ,previewImageCover:gQ,guidehubScale:fQ},$g=({href:s,title:e,subtitle:n,headerIconSrc:r,headerIconAlt:i="",previewImageSrc:a,previewAlt:l,variant:c="icon",previewHeightOverride:u,className:h,i18nScope:p,titleI18nKey:g,subtitleI18nKey:x,previewAltI18nKey:b,linkAriaLabel:_,linkAriaI18nKey:S})=>{const C=[Fr.card,h].filter(Boolean).join(" "),A=typeof s=="string"&&s.trim()?s:null,M=A?/^https?:\/\//i.test(A):!1,j=_||e,y=!i,w=u?{"--featured-preview-height-override":u}:void 0,P=[Fr.previewImage,c==="cover"?Fr.previewImageCover:Fr.previewImageIcon].filter(Boolean).join(" "),N=[Fr.previewSurface,A?Fr.previewLink:Fr.previewStatic].filter(Boolean).join(" "),k=A?"true":"false";return t.jsxs("section",{className:C,"data-i18n-scope":p,style:w,children:[t.jsx("div",{className:Fr.previewWrap,children:A?M?t.jsx("a",{href:A,className:N,"aria-label":j,"data-i18n-aria-label":S,"data-clickable":k,target:"_blank",rel:"noopener noreferrer",children:t.jsx("img",{src:a,alt:l,"data-i18n":b,className:P,loading:"eager",decoding:"async"})}):t.jsx(ks,{to:A,className:N,"aria-label":j,"data-i18n-aria-label":S,"data-clickable":k,children:t.jsx("img",{src:a,alt:l,"data-i18n":b,className:P,loading:"eager",decoding:"async"})}):t.jsx("div",{className:N,"data-clickable":k,children:t.jsx("img",{src:a,alt:l,"data-i18n":b,className:P,loading:"eager",decoding:"async"})})}),t.jsx("header",{className:Fr.header,children:t.jsxs("div",{className:Fr.headerGroup,children:[r&&t.jsx("img",{src:r,alt:i,className:Fr.headerIcon,"aria-hidden":y}),t.jsxs("div",{className:Fr.headerText,children:[t.jsx("span",{className:Fr.title,"data-i18n":g,children:e}),n&&t.jsx("span",{className:Fr.subtitle,"data-i18n":x,children:n})]})]})})]})},vQ="_row_106va_1",xQ="_viewport_106va_17",yQ="_track_106va_25",bQ="_navBtn_106va_41",mc={row:vQ,viewport:xQ,track:yQ,navBtn:bQ},_Q=({children:s,className:e})=>{const n=E.useRef(null),r=E.useRef(null),[i,a]=E.useState(0),[l,c]=E.useState(0),[u,h]=E.useState(0),p=Q.Children.count(s);E.useEffect(()=>{const _=()=>{const C=n.current,A=r.current;if(!C||!A)return;const M=A.children;if(!M.length){c(0),h(0),a(0);return}const y=M[0].getBoundingClientRect().width,w=window.getComputedStyle(A),P=parseFloat(w.columnGap||w.gap||"0"),N=Number.isNaN(P)?0:P,k=y+N,T=C.getBoundingClientRect().width,L=k>0?Math.max(1,Math.floor((T+N)/k)):1,R=Math.max(0,M.length-L);h(k),c(R),a($=>Math.min($,R))};_();let S=null;return typeof ResizeObserver!="undefined"&&(S=new ResizeObserver(()=>_()),n.current&&S.observe(n.current),r.current&&S.observe(r.current)),window.addEventListener("resize",_),()=>{S==null||S.disconnect(),window.removeEventListener("resize",_)}},[p]);const g=i>0,x=i<l,b=u*i*-1;return t.jsxs("div",{className:[mc.row,e].filter(Boolean).join(" "),children:[t.jsx("button",{className:`${mc.navBtn} ${mc.navPrev}`,onClick:()=>a(_=>Math.max(0,_-1)),disabled:!g,"aria-label":"Previous",children:"<"}),t.jsx("div",{className:mc.viewport,ref:n,children:t.jsx("div",{className:mc.track,ref:r,style:{transform:`translateX(${b}px)`},children:s})}),t.jsx("button",{className:`${mc.navBtn} ${mc.navNext}`,onClick:()=>a(_=>Math.min(l,_+1)),disabled:!x,"aria-label":"Next",children:">"})]})},wQ="_row_1p608_3",jQ="_rowSplit_1p608_17",SQ="_rowFeatured_1p608_19",NQ="_splitMain_1p608_21",kQ="_splitSide_1p608_23",CQ="_colFull_1p608_49",IQ="_card_1p608_201",TQ="_header_1p608_215",EQ="_headerGroup_1p608_227",AQ="_title_1p608_239",PQ="_subtitle_1p608_241",RQ="_empty_1p608_243",LQ="_errorNote_1p608_245",DQ="_linkBtn_1p608_247",MQ="_primaryBtn_1p608_247",FQ="_navBtn_1p608_247",$Q="_closeBtn_1p608_247",BQ="_actionsRight_1p608_263",OQ="_tileGrid_1p608_269",VQ="_tile_1p608_269",UQ="_tileIcon_1p608_299",zQ="_tileIconFallback_1p608_301",HQ="_tileLabel_1p608_303",GQ="_newsList_1p608_309",WQ="_newsCard_1p608_313",KQ="_newsCardWithImage_1p608_329",qQ="_newsBody_1p608_337",QQ="_newsActions_1p608_339",YQ="_newsMeta_1p608_341",XQ="_newsAuthor_1p608_343",JQ="_newsTime_1p608_345",ZQ="_newsText_1p608_347",eY="_newsImage_1p608_363",tY="_newsSkeleton_1p608_367",sY="_carouselCtrls_1p608_405",nY="_carousel_1p608_405",rY="_slide_1p608_413",iY="_slideActive_1p608_415",aY="_slideInactive_1p608_417",oY="_slideThumb_1p608_419",lY="_slideFallback_1p608_421",cY="_slideCaption_1p608_423",dY="_liveCard_1p608_429",uY="_liveAvatar_1p608_431",hY="_liveAvatarFallback_1p608_433",pY="_liveInfo_1p608_435",mY="_liveName_1p608_437",gY="_liveMeta_1p608_439",fY="_liveBadge_1p608_441",vY="_liveViewers_1p608_443",xY="_modalOverlay_1p608_449",yY="_modal_1p608_449",bY="_modalHeader_1p608_453",_Y="_modalTitle_1p608_455",wY="_modalFilters_1p608_459",jY="_formRow_1p608_461",SY="_formRowCheckbox_1p608_463",NY="_select_1p608_465",kY="_input_1p608_465",CY="_tableWrap_1p608_467",IY="_table_1p608_467",Be={row:wQ,rowSplit:jQ,rowFeatured:SQ,splitMain:NQ,splitSide:kQ,colFull:CQ,card:IQ,header:TQ,headerGroup:EQ,title:AQ,subtitle:PQ,empty:RQ,errorNote:LQ,linkBtn:DQ,primaryBtn:MQ,navBtn:FQ,closeBtn:$Q,actionsRight:BQ,tileGrid:OQ,tile:VQ,tileIcon:UQ,tileIconFallback:zQ,tileLabel:HQ,newsList:GQ,newsCard:WQ,newsCardWithImage:KQ,newsBody:qQ,newsActions:QQ,newsMeta:YQ,newsAuthor:XQ,newsTime:JQ,newsText:ZQ,newsImage:eY,newsSkeleton:tY,carouselCtrls:sY,carousel:nY,slide:rY,slideActive:iY,slideInactive:aY,slideThumb:oY,slideFallback:lY,slideCaption:cY,liveCard:dY,liveAvatar:uY,liveAvatarFallback:hY,liveInfo:pY,liveName:mY,liveMeta:gY,liveBadge:fY,liveViewers:vY,modalOverlay:xY,modal:yY,modalHeader:bY,modalTitle:_Y,modalFilters:wY,formRow:jY,formRowCheckbox:SY,select:NY,input:kY,tableWrap:CY,table:IY},TY="https://firestore.googleapis.com/v1/projects",EY="stats_public/news_latestByChannel",AY=()=>`${TY}/sfdatahub-staging/databases/(default)/documents/${EY}?key=AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA`,xo=s=>s&&typeof s.stringValue=="string"?s.stringValue:null,PY=s=>!s||s.nullValue!==void 0?null:typeof s.stringValue=="string"?s.stringValue:null,oC=s=>{if(!s)return null;if(typeof s.integerValue=="string"){const e=Number(s.integerValue);return Number.isFinite(e)?e:null}if(typeof s.doubleValue=="number")return Number.isFinite(s.doubleValue)?s.doubleValue:null;if(typeof s.timestampValue=="string"){const e=Date.parse(s.timestampValue);return Number.isFinite(e)?e:null}if(typeof s.stringValue=="string"){const e=Number(s.stringValue);return Number.isFinite(e)?e:null}return null},lC=s=>!s||!s.mapValue||!s.mapValue.fields?null:s.mapValue.fields,RY=s=>{var n;const e=(n=s==null?void 0:s.arrayValue)==null?void 0:n.values;return Array.isArray(e)?e:[]},LY=s=>{if(!s)return null;const e=xo(s.id),n=xo(s.channelId),r=xo(s.author),i=xo(s.timestamp),a=xo(s.contentText),l=PY(s.imageUrl),c=xo(s.jumpUrl);return!e||!n||!r||!i||!a||!c?null:{id:e,channelId:n,author:r,timestamp:i,contentText:a,imageUrl:l,jumpUrl:c}},DY=s=>{const e=lC(s);if(!e)return null;const n=xo(e.channelId),r=xo(e.label);if(!n||!r)return null;const i=lC(e.item);return{channelId:n,label:r,item:i?LY(i):null}},MY=s=>s.map(e=>{var n,r,i,a;return`${e.channelId}|${(r=(n=e.item)==null?void 0:n.id)!=null?r:"-"}|${(a=(i=e.item)==null?void 0:i.timestamp)!=null?a:"-"}`}).join(`
`),FY=s=>{var c;const e=s==null?void 0:s.fields;if(!e||typeof e!="object")return null;const n=RY(e.items),r=[];for(const u of n){const h=DY(u);h&&r.push(h)}const i=oC(e.updatedAt),a=oC(e.nextUpdateAt),l=(c=xo(e.hash))!=null?c:MY(r);return l?{updatedAt:i,nextUpdateAt:a,hash:l,items:r}:null};async function $Y(s){const e=AY();if(!e)return null;const n=await fetch(e,{cache:"no-store",signal:s});if(!n.ok)throw new Error(`HTTP ${n.status}`);const r=await n.json();return FY(r)}const tx="/assets/logo_guidehub-c4zKGdF-.png";function N4(s){return String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function BY(s){const e=s.filter(Boolean).join(" ");return N4(e)}const OY={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450",sftaverndiscord:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY",sfmagazine:"1DkwbJdIRSI0DxVJCo9aCDD9FyjZGf-TQ",sftools:"1fcnNhvUliXJU6Fuw95mLrcNowjzZlYSh"};function VY(s){var n;const e=Array.isArray(s)?BY(s):N4(s!=null?s:"");return(n=OY[e])!=null?n:null}function Zc(s,e=512){var a,l;const n=VY(s);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Wc(n))!=null?a:null,i=r&&(l=li(r,e))!=null?l:null;return{id:n,url:r,thumb:i,fallback:""}}function Fc(s,e=512){return Zc(s,e).thumb}const UY="/flipbooks/sf-history-book/history_book_coverpage.png",k4="/guidehub-v2",cC=Zc("sftools",512),dC=Zc("sftaverndiscord",512);var bT,_T;const zY=(_T=(bT=cC.thumb)!=null?bT:cC.url)!=null?_T:"";var wT,jT;const HY=(jT=(wT=dC.thumb)!=null?wT:dC.url)!=null?jT:"",uC="clamp(96px, 22vw, 192px)",GY=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"],C4="sfh_news_latestByChannel_v1",WY=600*1e3;async function I4(){const s=[];for(const n of GY)try{const i=await(await fetch(n,{cache:"no-store"})).text(),a=KY(i);s.push(...a)}catch(r){}const e=new Map;for(const n of s){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function hC(s){const e=[];let n="",r=!1;for(let i=0;i<s.length;i++){const a=s[i];a==='"'?r&&s[i+1]==='"'?(n+='"',i++):r=!r:a===","&&!r?(e.push(n),n=""):n+=a}return e.push(n),e}function KY(s){const e=s.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=hC(e[0]);return e.slice(1).map(r=>{const i=hC(r),a={};return n.forEach((l,c)=>{var u;return a[l.trim()]=((u=i[c])!=null?u:"").trim()}),a})}function qY(s){try{const e=Date.now(),n=typeof s=="number"?s:Date.parse(String(s!=null?s:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const a=Math.floor(i/60);if(a<60)return`${a}m`;const l=Math.floor(a/60);return l<24?`${l}h`:`${Math.floor(l/24)}d`}catch(e){return""}}function QY(s,e){const n=s.trim();return n.length<=e?n:`${n.slice(0,Math.max(0,e-3)).trimEnd()}...`}function YY(){try{if(typeof sessionStorage=="undefined")return null;const s=sessionStorage.getItem(C4);if(!s)return null;const e=JSON.parse(s);return!e||typeof e!="object"?null:e}catch(s){return null}}function pC(s){try{if(typeof sessionStorage=="undefined")return;sessionStorage.setItem(C4,JSON.stringify(s))}catch(e){}}function XY(s){if(!s)return null;const e=Date.now(),n=typeof s.nextUpdateAt=="number"?s.nextUpdateAt:null;return n&&n>e?n:e+WY}function JY(s){try{const e=new URL(s);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const ZY=[{to:"/toplists/",labelKey:"nav.toplists"},{to:"/players/",labelKey:"nav.players"},{to:"/guilds/",labelKey:"nav.guilds"},{to:"/community/",labelKey:"nav.community"},{to:"/creator-hub/",labelKey:"nav.creatorHub"},{to:"/help",labelKey:"nav.help"},{to:"/settings/",labelKey:"nav.settings"}],mC={},eX=()=>{const{t:s}=wn();return t.jsxs("section",{className:Be.card,"data-i18n-scope":"home.tiles",children:[t.jsxs("header",{className:Be.header,children:[t.jsx("span",{className:Be.title,"data-i18n":"home.title",children:s("home.title")}),t.jsx("span",{className:Be.subtitle,"data-i18n":"home.subtitle",children:s("home.subtitle")})]}),t.jsx("div",{className:Be.tileGrid,role:"list",children:ZY.map(e=>{const n=s(e.labelKey);return t.jsxs(ks,{to:e.to,role:"listitem",className:Be.tile,"aria-label":n,children:[mC[e.to]?t.jsx("img",{src:mC[e.to],alt:"",className:Be.tileIcon}):e.to===k4?t.jsx("img",{src:tx,alt:"",className:Be.tileIcon}):t.jsx("div",{className:Be.tileIconFallback,"aria-hidden":!0,children:n.slice(0,2).toUpperCase()}),t.jsx("div",{className:Be.tileLabel,"data-i18n":e.labelKey,children:n})]},e.to)})})]})},tX=()=>{var B,H;const{t:s}=wn(),[e,n]=E.useState(0),[r,i]=E.useState(null),[a,l]=E.useState(!0),[c,u]=E.useState(null),h=E.useRef(!1),p=E.useRef(!1),g=E.useRef(null),x=E.useRef(null),b=E.useRef(null),_=E.useRef(null),S=E.useRef(null),C=z=>{var K,te;let W=-1,G=Number.NEGATIVE_INFINITY;for(let X=0;X<z.length;X++){const U=(te=(K=z[X])==null?void 0:K.item)==null?void 0:te.timestamp;if(!U)continue;const J=Date.parse(U);Number.isNaN(J)||J>G&&(G=J,W=X)}return W===-1?0:W};E.useEffect(()=>{let z=!0;const W=()=>{g.current&&(window.clearTimeout(g.current),g.current=null)},G=ne=>{W();const ue=XY(ne);if(!ue)return;S.current=ue;const we=Math.max(0,ue-Date.now());g.current=window.setTimeout(()=>{te()},we)},K=(ne,ue)=>{var ee;const we=ne.hash||String((ee=ne.updatedAt)!=null?ee:""),Me=_.current;if(Me&&Me===we){b.current=ne,ue&&pC(ne);return}_.current=we,b.current=ne,i(ne),ue&&pC(ne)},te=async()=>{var ue;if(!z)return;(ue=x.current)==null||ue.abort();const ne=new AbortController;x.current=ne,b.current||l(!0);try{const we=await $Y(ne.signal);if(!z||ne.signal.aborted)return;we&&(K(we,!0),u(null),G(we))}catch(we){if(!z||ne.signal.aborted)return;u(String((we==null?void 0:we.message)||we||"error"))}finally{z&&!ne.signal.aborted&&(l(!1),G(b.current))}},X=YY();X&&(K(X,!1),l(!1));const U=Date.now();X&&typeof X.nextUpdateAt=="number"&&X.nextUpdateAt>U?G(X):te();const se=()=>{if(!z||document.visibilityState!=="visible")return;const ne=S.current;typeof ne=="number"&&Date.now()>ne&&te()};return document.addEventListener("visibilitychange",se),()=>{var ne;z=!1,W(),(ne=x.current)==null||ne.abort(),document.removeEventListener("visibilitychange",se)}},[]),E.useEffect(()=>{var W;const z=(W=r==null?void 0:r.items)!=null?W:[];if(z.length===0){n(0);return}if(!h.current&&!p.current){n(C(z)),p.current=!0;return}n(G=>Math.min(G,z.length-1))},[r]);const A=(B=r==null?void 0:r.items.length)!=null?B:0,M=A>0?r.items[e]:null,j=(M==null?void 0:M.label)||(M==null?void 0:M.channelId)||"",y=!a&&M&&!M.item,w=(H=M==null?void 0:M.item)!=null?H:null,P=w?qY(w.timestamp):"",N=(w==null?void 0:w.author)||"Discord",k=w!=null&&w.contentText?QY(w.contentText,240):"",T=w?`${N} ${P}`.trim():void 0,L=!a&&A===0,R=()=>{A<=1||(h.current=!0,n(z=>(z-1+A)%A))},$=()=>{A<=1||(h.current=!0,n(z=>(z+1)%A))};return t.jsxs("section",{className:Be.card,"data-i18n-scope":"home.news","aria-busy":a,children:[t.jsxs("header",{className:Be.header,children:[t.jsxs("div",{className:Be.headerGroup,children:[t.jsx("span",{className:Be.title,"data-i18n":"home.news.title",children:s("home.news.title")}),j&&t.jsx("span",{className:Be.subtitle,title:j,children:j})]}),t.jsxs("div",{className:Be.carouselCtrls,children:[t.jsx("button",{className:Be.navBtn,onClick:R,disabled:A<=1,"aria-label":s("home.news.prev"),"data-i18n-aria-label":"home.news.prev",children:""}),t.jsx("button",{className:Be.navBtn,onClick:$,disabled:A<=1,"aria-label":s("home.news.next"),"data-i18n-aria-label":"home.news.next",children:""})]})]}),t.jsxs("div",{className:Be.newsList,children:[a&&t.jsx("div",{className:Be.newsSkeleton,"aria-hidden":!0}),w&&t.jsxs("article",{className:[Be.newsCard,w.imageUrl?Be.newsCardWithImage:""].join(" "),tabIndex:0,children:[t.jsxs("div",{className:Be.newsBody,children:[t.jsxs("div",{className:Be.newsMeta,children:[t.jsx("span",{className:Be.newsAuthor,children:N}),t.jsx("span",{className:Be.newsTime,children:P})]}),k&&t.jsx("p",{className:Be.newsText,children:k}),t.jsx("div",{className:Be.newsActions,children:t.jsx("a",{href:w.jumpUrl,target:"_blank",rel:"noreferrer",className:Be.linkBtn,"aria-label":T,"data-i18n":"home.news.openOnDiscord",children:s("home.news.openOnDiscord")})})]}),w.imageUrl&&t.jsx("img",{src:w.imageUrl,alt:"",className:Be.newsImage,loading:"lazy",decoding:"async"})]}),y&&t.jsx("div",{className:Be.empty,"data-i18n":"home.news.emptyChannel",children:s("home.news.emptyChannel")}),L&&t.jsx("div",{className:Be.empty,"data-i18n":"home.news.empty",children:s("home.news.empty")})]}),c&&t.jsx("div",{className:Be.errorNote,"aria-live":"polite",children:c})]})},sX=()=>{const{t:s}=wn(),[e,n]=E.useState([]),[r,i]=E.useState(0),a=E.useRef(null);E.useEffect(()=>{let h=!0;async function p(){try{const x=(await I4()).map(b=>{const _=String(b["Creator Name"]||b.creator_name||b.name||"").trim(),S=String(b["YouTube Link"]||b.youtube||b.YouTube||"").trim();if(!S)return null;const C=JY(S),A=C?`https://i.ytimg.com/vi/${C}/hqdefault.jpg`:void 0;return{title:_,url:S,thumb:A}}).filter(Boolean).slice(0,12);h&&n(x)}catch(g){h&&n([])}}return p(),()=>{h=!1}},[]),E.useEffect(()=>{if(!(e.length<=1))return a.current=window.setInterval(()=>i(h=>(h+1)%e.length),6e3),()=>{a.current&&window.clearInterval(a.current)}},[e]);const l=()=>i(h=>(h-1+e.length)%Math.max(e.length,1)),c=()=>i(h=>(h+1)%Math.max(e.length,1)),u=h=>{h.key==="ArrowLeft"&&(h.preventDefault(),l()),h.key==="ArrowRight"&&(h.preventDefault(),c())};return t.jsxs("section",{className:Be.card,"data-i18n-scope":"home.youtube",children:[t.jsxs("header",{className:Be.header,children:[t.jsx("span",{className:Be.title,"data-i18n":"home.youtube.title",children:s("home.youtube.title")}),t.jsxs("div",{className:Be.carouselCtrls,children:[t.jsx("button",{className:Be.navBtn,onClick:l,"aria-label":s("home.youtube.prev"),children:""}),t.jsx("button",{className:Be.navBtn,onClick:c,"aria-label":s("home.youtube.next"),children:""})]})]}),t.jsx("div",{className:Be.carousel,tabIndex:0,onKeyDown:u,"aria-roledescription":"carousel",children:e.length===0?t.jsx("div",{className:Be.empty,"data-i18n":"home.youtube.empty",children:s("home.youtube.empty")}):e.map((h,p)=>t.jsxs("a",{href:h.url,target:"_blank",rel:"noreferrer",className:[Be.slide,p===r?Be.slideActive:Be.slideInactive].join(" "),children:[h.thumb?t.jsx("img",{src:h.thumb,alt:"",className:Be.slideThumb}):t.jsx("div",{className:Be.slideFallback,children:h.title.slice(0,2).toUpperCase()}),t.jsx("div",{className:Be.slideCaption,children:h.title})]},h.url))})]})},nX=({onOpenSchedule:s})=>{var g;const{t:e}=wn(),[n,r]=E.useState(null),[i,a]=E.useState(new Map),[l,c]=E.useState(0),u=E.useRef(null);if(E.useEffect(()=>{async function x(){{r([]);return}}return x(),()=>{}},[]),E.useEffect(()=>{let x=!0;async function b(){try{const _=await I4(),S=new Map;for(const C of _){const A=String(C["Creator Name"]||C.creator_name||C.name||"").trim(),M=String(C["Twitch Link"]||C.twitch||C.Twitch||"").trim();if(!A||!M)continue;const j=(()=>{try{return new URL(M).pathname.replace(/^\//,"").toLowerCase()}catch(y){return M.toLowerCase()}})();j&&S.set(j,M),S.set(A.toLowerCase(),M)}x&&a(S)}catch(_){x&&a(new Map)}}return b(),()=>{x=!1}},[]),E.useEffect(()=>{if(!(!n||n.length<=1))return u.current=window.setInterval(()=>c(x=>(x+1)%n.length),8e3),()=>{u.current&&window.clearInterval(u.current)}},[n]),!n||n.length===0)return t.jsxs("section",{className:Be.card,"data-i18n-scope":"home.live",children:[t.jsx("header",{className:Be.header,children:t.jsx("span",{className:Be.title,"data-i18n":"home.live.title",children:e("home.live.title")})}),t.jsx("div",{className:Be.empty,"data-i18n":"home.live.none",children:e("home.live.none")}),t.jsx("div",{className:Be.actionsRight,children:t.jsx("button",{className:Be.primaryBtn,onClick:s,"data-i18n":"home.schedule.open",children:e("home.schedule.open")})})]});const h=n[l],p=(()=>{const x=((h==null?void 0:h.name)||"").toLowerCase();if(h!=null&&h.url)return h.url;if(x)return i.has(x)?i.get(x):i.has(x.replace(/^@/,""))?i.get(x.replace(/^@/,"")):`https://www.twitch.tv/${x}`})();return t.jsxs("section",{className:Be.card,"data-i18n-scope":"home.live",children:[t.jsx("header",{className:Be.header,children:t.jsx("span",{className:Be.title,"data-i18n":"home.live.title",children:e("home.live.title")})}),t.jsxs("div",{className:Be.liveCard,children:[h!=null&&h.avatar?t.jsx("img",{src:h.avatar,alt:"",className:Be.liveAvatar}):t.jsx("div",{className:Be.liveAvatarFallback,"aria-hidden":!0,children:(g=h==null?void 0:h.name)==null?void 0:g.slice(0,2).toUpperCase()}),t.jsxs("div",{className:Be.liveInfo,children:[t.jsx("div",{className:Be.liveName,children:h==null?void 0:h.name}),t.jsxs("div",{className:Be.liveMeta,children:[t.jsx("span",{className:Be.liveBadge,"data-i18n":"home.live.badge",children:e("home.live.badge")}),typeof(h==null?void 0:h.viewers)=="number"&&t.jsx("span",{className:Be.liveViewers,children:e("home.live.viewers",{viewers:h.viewers.toLocaleString()})})]})]}),p&&t.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:Be.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:e("home.live.open_on_twitch")})]}),t.jsxs("div",{className:Be.carouselCtrls,children:[t.jsx("button",{className:Be.navBtn,onClick:()=>c(x=>(x-1+n.length)%n.length),"aria-label":e("home.live.prev"),children:""}),t.jsx("button",{className:Be.navBtn,onClick:()=>c(x=>(x+1)%n.length),"aria-label":e("home.live.next"),children:""})]})]})},rX=({open:s,onClose:e})=>{var _;const{t:n}=wn(),[r,i]=E.useState(null),[a,l]=E.useState("All"),[c,u]=E.useState(""),[h,p]=E.useState(!1);if(E.useEffect(()=>{if(!s)return;async function S(){{i([]);return}}return S(),()=>{}},[s]),E.useEffect(()=>{const S=C=>{C.key==="Escape"&&e()};return s&&window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[s,e]),!s)return null;const g=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),x=(r||[]).filter(S=>{if(a!=="All"&&S.platform.toLowerCase()!==a.toLowerCase()||h&&S.weekday&&S.weekday.toLowerCase()!==g.toLowerCase())return!1;if(c){const C=c.toLowerCase();if(!`${S.streamer} ${S.title}`.toLowerCase().includes(C))return!1}return!0}),b=((_=r==null?void 0:r.length)!=null?_:0)===0;return t.jsx("div",{className:Be.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:t.jsxs("div",{className:Be.modal,children:[t.jsxs("header",{className:Be.modalHeader,children:[t.jsx("h2",{id:"schedule-title",className:Be.modalTitle,"data-i18n":"home.schedule.title",children:n("home.schedule.title")}),t.jsx("button",{className:Be.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:n("home.schedule.close")})]}),t.jsxs("div",{className:Be.modalFilters,children:[t.jsxs("label",{className:Be.formRow,children:[t.jsx("span",{"data-i18n":"home.schedule.platform",children:n("home.schedule.platform")}),t.jsxs("select",{value:a,onChange:S=>l(S.target.value),className:Be.select,children:[t.jsx("option",{value:"All",children:n("home.schedule.platformAll")}),t.jsx("option",{value:"Twitch",children:n("home.schedule.platformTwitch")}),t.jsx("option",{value:"YouTube",children:n("home.schedule.platformYouTube")})]})]}),t.jsxs("label",{className:Be.formRow,children:[t.jsx("span",{"data-i18n":"home.schedule.search",children:n("home.schedule.search")}),t.jsx("input",{value:c,onChange:S=>u(S.target.value),className:Be.input,placeholder:n("home.schedule.searchPlaceholder")})]}),t.jsxs("label",{className:Be.formRowCheckbox,children:[t.jsx("input",{type:"checkbox",checked:h,onChange:S=>p(S.target.checked)}),t.jsx("span",{"data-i18n":"home.schedule.today",children:n("home.schedule.today")})]})]}),t.jsx("div",{className:Be.tableWrap,children:t.jsxs("table",{className:Be.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:n("home.schedule.columns.weekday")}),t.jsx("th",{children:n("home.schedule.columns.start")}),t.jsx("th",{children:n("home.schedule.columns.end")}),t.jsx("th",{children:n("home.schedule.columns.timezone")}),t.jsx("th",{children:n("home.schedule.columns.platform")}),t.jsx("th",{children:n("home.schedule.columns.channel")}),t.jsx("th",{children:n("home.schedule.columns.streamer")}),t.jsx("th",{children:n("home.schedule.columns.title")})]})}),t.jsx("tbody",{children:b?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:Be.empty,children:n("home.schedule.empty")})}):x.map((S,C)=>t.jsxs("tr",{children:[t.jsx("td",{children:S.weekday}),t.jsx("td",{children:S.start_utc}),t.jsx("td",{children:S.end_utc}),t.jsx("td",{children:S.timezone}),t.jsx("td",{children:S.platform}),t.jsx("td",{children:S.channel_url?t.jsx("a",{href:S.channel_url,target:"_blank",rel:"noreferrer",children:n("home.schedule.link")}):""}),t.jsx("td",{children:S.streamer}),t.jsx("td",{children:S.title})]},C))})]})})]})})},iX=()=>{const{t:s}=wn(),[e,n]=E.useState(!1);return t.jsxs(Ht,{title:s("home.title"),subtitle:s("home.subtitle"),children:[t.jsxs("div",{className:`${Be.row} ${Be.rowSplit}`,children:[t.jsx("div",{className:Be.splitMain,children:t.jsx(tX,{})}),t.jsx("div",{className:Be.splitSide,children:t.jsx(nX,{onOpenSchedule:()=>n(!0)})})]}),t.jsxs("div",{className:`${Be.row} ${Be.rowSplit} ${Be.rowFeatured}`,children:[t.jsx("div",{className:Be.splitMain,children:t.jsxs(_Q,{children:[t.jsx($g,{href:"/sfmagazine/historybook",title:s("home.historybook.title"),subtitle:s("home.historybook.credit"),previewImageSrc:UY,previewAlt:s("home.historybook.coverAlt"),variant:"cover",i18nScope:"home.historybook",titleI18nKey:"home.historybook.title",subtitleI18nKey:"home.historybook.credit",previewAltI18nKey:"home.historybook.coverAlt",linkAriaLabel:s("home.historybook.open"),linkAriaI18nKey:"home.historybook.open"}),t.jsx($g,{href:k4,title:s("home.guidehub.title"),subtitle:s("home.guidehub.subtitle"),previewImageSrc:tx,previewAlt:s("home.guidehub.previewAlt"),className:Fr.guidehubScale,i18nScope:"home.guidehub",titleI18nKey:"home.guidehub.title",subtitleI18nKey:"home.guidehub.subtitle",previewAltI18nKey:"home.guidehub.previewAlt",linkAriaLabel:s("home.guidehub.open"),linkAriaI18nKey:"home.guidehub.open"}),t.jsx($g,{href:"https://sftools.mar21.eu/",title:s("home.sftools.title"),subtitle:s("home.sftools.subtitle"),previewImageSrc:zY,previewAlt:s("home.sftools.previewAlt"),previewHeightOverride:uC,i18nScope:"home.sftools",titleI18nKey:"home.sftools.title",subtitleI18nKey:"home.sftools.subtitle",previewAltI18nKey:"home.sftools.previewAlt"}),t.jsx($g,{href:"https://discord.gg/sftavern",title:s("home.taverndiscord.title"),subtitle:s("home.taverndiscord.subtitle"),previewImageSrc:HY,previewAlt:s("home.taverndiscord.previewAlt"),previewHeightOverride:uC,i18nScope:"home.taverndiscord",titleI18nKey:"home.taverndiscord.title",subtitleI18nKey:"home.taverndiscord.subtitle",previewAltI18nKey:"home.taverndiscord.previewAlt"})]})}),t.jsx("div",{className:Be.splitSide,children:t.jsx(sX,{})})]}),t.jsx("div",{className:Be.row,children:t.jsx("div",{className:Be.colFull,children:t.jsx(eX,{})})}),t.jsx(rX,{open:e,onClose:()=>n(!1)})]})},gC="sfh:authNext",fC=s=>{if(!s)return null;const e=s.trim();return!e.startsWith("/")||e.startsWith("//")||/^[a-z][a-z0-9+.-]*:/i.test(e)||e.toLowerCase().startsWith("/login")?null:e},aX=()=>{const s=oi(),e=Zn(),{status:n,user:r}=Gi(),i=n==="authenticated"&&!!r,a=Q.useMemo(()=>new URLSearchParams(e.search).get("next"),[e.search]),l=Q.useMemo(()=>{if(typeof window=="undefined")return null;try{return window.sessionStorage.getItem(gC)}catch(u){return console.warn("[Login] Failed to read auth next from sessionStorage",u),null}},[]),c=Q.useMemo(()=>{var u;return(u=fC(a))!=null?u:fC(l)},[a,l]);return Q.useEffect(()=>{if(!i)return;const u=c;typeof window!="undefined"&&window.sessionStorage&&window.sessionStorage.removeItem(gC),u&&s(u,{replace:!0})},[i,s,c]),t.jsx(Ht,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:t.jsx(DE,{})})};function oX(){return t.jsx(Ht,{hex:t.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:t.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:t.jsx(lX,{}),right:t.jsx(cX,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsx(h0,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),t.jsx(h0,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),t.jsx(h0,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function lX(){return t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(p0,{to:"/dashboard/kpis",children:"KPIs"}),t.jsx(p0,{to:"/dashboard/activity",children:"Activity"}),t.jsx(p0,{to:"/dashboard/progression",children:"Progression"})]})]})}function cX(){return t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),t.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function h0({to:s,title:e,desc:n}){return t.jsxs(ks,{to:s,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?t.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function p0({to:s,children:e}){return t.jsx(ks,{to:s,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function dX(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Dashboard  KPIs"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx(m0,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),t.jsx(m0,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),t.jsx(m0,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function m0({label:s,value:e,hint:n}){return t.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[t.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:s}),t.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function uX(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Dashboard  Activity"}),t.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),t.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[t.jsx("li",{children:" Neues Scan-File hochgeladen"}),t.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),t.jsx("li",{children:" Gilden-Event geplant"})]})]})}function hX(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Dashboard  Progression"}),t.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[t.jsx(g0,{title:"Scrapbook 100%",progress:72}),t.jsx(g0,{title:"Fortress Ausbaustufe",progress:48}),t.jsx(g0,{title:"Underworld Boss",progress:35})]})]})}function g0({title:s,progress:e}){return t.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:s}),t.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:t.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),t.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function pX(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Discover"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx(gc,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),t.jsx(gc,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),t.jsx(gc,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),t.jsx(gc,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),t.jsx(gc,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),t.jsx(gc,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),t.jsx(gc,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function gc({to:s,title:e,desc:n}){return t.jsxs(ks,{to:s,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function mX({children:s,framed:e=!0}){return e?t.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:So.border,backgroundColor:So.tile},children:s}):t.jsx("main",{className:"min-w-0",children:s})}function gX(s,e){if(!s)return"";const n=/^https?:\/\//i.test(s)?s:`https://heyzine.com/flip-book/${s}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const fX=({srcOrId:s,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:a,showInfo:l=!1,infoText:c="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:h=!0})=>{const[p,g]=E.useState(!1),x=E.useMemo(()=>gX(s,h),[s,h]),b=i?"lazy":"eager",_={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},S={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},C=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},A={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return t.jsx("div",{className:a,style:_,children:t.jsx("div",{style:S,children:t.jsxs("div",{style:C,children:[t.jsx("iframe",{src:x,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:b,scrolling:"no",title:"Heyzine Flipbook"}),l&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button","aria-label":"Info",onClick:()=>g(M=>!M),style:A,title:"Info",children:"i"}),p&&t.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[c," ",t.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},vX="#0C1C2E",xX=()=>t.jsx(Ht,{children:t.jsx(mX,{children:t.jsxs("div",{style:{position:"relative",width:"100%"},children:[t.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:vX,borderRadius:16,pointerEvents:"none",zIndex:0}}),t.jsx("div",{style:{position:"relative",zIndex:1},children:t.jsx(fX,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),yX="_pageWrap_72re9_7",bX="_infoLine_72re9_17",_X="_viewerHost_72re9_43",wX="_overlay_72re9_99",jX="_dragZoneLeft_72re9_101",SX="_dragZoneRight_72re9_103",NX="_inbookLink_72re9_105",hl={pageWrap:yX,infoLine:bX,viewerHost:_X,overlay:wX,dragZoneLeft:jX,dragZoneRight:SX,inbookLink:NX};var zh={exports:{}},kX=zh.exports,vC;function CX(){return vC||(vC=1,(function(s,e){(function(n,r){r(e)})(kX,(function(n){class r{constructor(y,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,w,P){super(y,P),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(y){const w=this.render.getContext(),P=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,k=this.render.getRect().height;w.save(),w.translate(P.x,P.y),w.beginPath();for(let T of this.state.area)T!==null&&(T=this.render.convertToGlobal(T),w.lineTo(T.x-P.x,T.y-P.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,N,k):this.drawLoader(w,{x:0,y:0},N,k),w.restore()}simpleDraw(y){const w=this.render.getRect(),P=this.render.getContext(),N=w.pageWidth,k=w.height,T=y===1?w.left+w.pageWidth:w.left,L=w.top;this.isLoad?P.drawImage(this.image,T,L,N,k):this.drawLoader(P,{x:T,y:L},N,k)}drawLoader(y,w,P,N){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(w.x+1,w.y+1,P-1,N-1),y.stroke(),y.fill();const k={x:w.x+P/2,y:w.y+N/2};y.beginPath(),y.lineWidth=10,y.arc(k.x,k.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class a{constructor(y,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let w=y;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const w=this.getSpread();for(let P=0;P<w.length;P++)if(y===w[P][0]||y===w[P][1])return P;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const w=this.pages.indexOf(y);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(y){const w=this.pages.indexOf(y);return w>0?this.pages[w-1]:null}getFlippingPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const P=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return P.length===1||y===0?this.pages[P[0]]:this.pages[P[1]]}}getBottomPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w+1]:this.pages[w-1];{const P=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return P.length===1?this.pages[P[0]]:y===0?this.pages[P[1]]:this.pages[P[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const w=this.getSpreadIndexByPage(y);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends a{constructor(y,w,P){super(y,w),this.imagesHref=P}load(){for(const y of this.imagesHref){const w=new i(this.render,y,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class c{static GetDistanceBetweenTwoPoint(y,w){return y===null||w===null?1/0:Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}static GetSegmentLength(y){return c.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,w){const P=y[0].y-y[1].y,N=w[0].y-w[1].y,k=y[1].x-y[0].x,T=w[1].x-w[0].x;return Math.acos((P*N+k*T)/(Math.sqrt(P*P+k*k)*Math.sqrt(N*N+T*T)))}static PointInRect(y,w){return w===null?null:w.x>=y.left&&w.x<=y.width+y.left&&w.y>=y.top&&w.y<=y.top+y.height?w:null}static GetRotatedPoint(y,w,P){return{x:y.x*Math.cos(P)+y.y*Math.sin(P)+w.x,y:y.y*Math.cos(P)-y.x*Math.sin(P)+w.y}}static LimitPointToCircle(y,w,P){if(c.GetDistanceBetweenTwoPoint(y,P)<=w)return P;const N=y.x,k=y.y,T=P.x,L=P.y;let R=Math.sqrt(Math.pow(w,2)*Math.pow(N-T,2)/(Math.pow(N-T,2)+Math.pow(k-L,2)))+N;P.x<0&&(R*=-1);let $=(R-N)*(k-L)/(N-T)+k;return N-T+k===0&&($=w),{x:R,y:$}}static GetIntersectBetweenTwoSegment(y,w,P){return c.PointInRect(y,c.GetIntersectBeetwenTwoLine(w,P))}static GetIntersectBeetwenTwoLine(y,w){const P=y[0].y-y[1].y,N=w[0].y-w[1].y,k=y[1].x-y[0].x,T=w[1].x-w[0].x,L=y[0].x*y[1].y-y[1].x*y[0].y,R=w[0].x*w[1].y-w[1].x*w[0].y,$=P*R-N*L,B=k*R-T*L,H=-(L*T-R*k)/(P*T-N*k),z=-(P*R-N*L)/(P*T-N*k);if(isFinite(H)&&isFinite(z))return{x:H,y:z};if(Math.abs($-B)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,w){const P=Math.abs(y.x-w.x),N=Math.abs(y.y-w.y),k=Math.max(P,N),T=[y];function L(R,$,B,H,z){return $>R?R+z*(B/H):$<R?R-z*(B/H):R}for(let R=1;R<=k;R+=1)T.push({x:L(y.x,w.x,P,k,R),y:L(y.y,w.y,N,k,R)});return T}}class u extends r{constructor(y,w,P){super(y,P),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+P)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const w=y||this.nowDrawingDensity,P=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,k=this.render.getRect().height;this.element.classList.remove("--simple");const T=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${N}px;
            height: ${k}px;
        `;w==="hard"?this.drawHard(T):this.drawSoft(P,T)}drawHard(y=""){const w=this.render.getRect().left+this.render.getRect().width/2,P=this.state.hardDrawingAngle,N=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${P}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${P}deg);`);this.element.style.cssText=N}drawSoft(y,w=""){let P="polygon( ";for(const k of this.state.area)if(k!==null){let T=this.render.getDirection()===1?{x:-k.x+this.state.position.x,y:k.y-this.state.position.y}:{x:k.x-this.state.position.x,y:k.y-this.state.position.y};T=c.GetRotatedPoint(T,{x:0,y:0},this.state.angle),P+=T.x+"px "+T.y+"px, "}P=P.slice(0,-2),P+=")";const N=w+`transform-origin: 0 0; clip-path: ${P}; -webkit-clip-path: ${P};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=N}simpleDraw(y){const w=this.render.getRect(),P=w.pageWidth,N=w.height,k=y===1?w.left+w.pageWidth:w.left,T=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${N}px; 
            left: ${k}px; 
            top: ${T}px; 
            width: ${P}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class h extends a{constructor(y,w,P,N){super(y,w),this.element=P,this.pagesElement=N}load(){for(const y of this.pagesElement){const w=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class p{constructor(y,w,P,N){this.direction=y,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(P,10),this.pageHeight=parseInt(N,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const y=[];let w=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),y.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?c.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=c.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let w=y;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const w=this.pageWidth-y.x+1,P=this.corner==="bottom"?this.pageHeight-y.y:y.y;let N=2*Math.acos(w/Math.sqrt(P*P+w*w));P<0&&(N=-N);const k=Math.PI-N;if(!isFinite(N)||k>=0&&k<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(N=-N),N}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,w){return{topLeft:this.getRotatedPoint(y[0],w),topRight:this.getRotatedPoint(y[1],w),bottomLeft:this.getRotatedPoint(y[2],w),bottomRight:this.getRotatedPoint(y[3],w)}}getRotatedPoint(y,w){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+w.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(y){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,w,P){let N=y;const k=c.LimitPointToCircle(w,this.pageWidth,N);N!==k&&(N=k,this.updateAngleAndGeometry(N));const T=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let L=this.rect.bottomRight,R=this.rect.topLeft;if(this.corner==="bottom"&&(L=this.rect.topRight,R=this.rect.bottomLeft),L.x<=0){const $=c.LimitPointToCircle(P,T,R);$!==N&&(N=$,this.updateAngleAndGeometry(N))}return N}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class g{constructor(y,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=w}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const w=this.getBoundsRect();this.setState("flipping");const P=w.height/10,N=this.calc.getCorner()==="bottom"?w.height-P:P,k=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-P,y:N}),this.animateFlippingTo({x:w.pageWidth-P,y:N},{x:-w.pageWidth,y:k},!0)}start(y){this.reset();const w=this.render.convertToBook(y),P=this.getBoundsRect(),N=this.getDirectionByPoint(w),k=w.y>=P.height/2?"bottom":"top";if(!this.checkDirection(N))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(N),this.bottomPage=this.app.getPageCollection().getBottomPage(N),this.render.getOrientation()==="landscape")if(N===1){const T=this.app.getPageCollection().nextBy(this.flippingPage);T!==null&&this.flippingPage.getDensity()!==T.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),T.setDrawingDensity("hard"))}else{const T=this.app.getPageCollection().prevBy(this.flippingPage);T!==null&&this.flippingPage.getDensity()!==T.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),T.setDrawingDensity("hard"))}return this.render.setDirection(N),this.calc=new p(N,k,P.pageWidth.toString(10),P.height.toString(10)),!0}catch(T){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(y,w){const P=this.app.getPageCollection().getCurrentSpreadIndex(),N=this.app.getPageCollection().getSpreadIndexByPage(y);try{N>P&&(this.app.getPageCollection().setCurrentSpreadIndex(N-1),this.flipNext(w)),N<P&&(this.app.getPageCollection().setCurrentSpreadIndex(N+1),this.flipPrev(w))}catch(k){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),w=this.getBoundsRect(),P=this.calc.getCorner()==="bottom"?w.height:0;y.x<=0?this.animateFlippingTo(y,{x:-w.pageWidth,y:P},!0):this.animateFlippingTo(y,{x:w.pageWidth,y:P},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),P=w.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:P-1,y:1});const N=50,k=this.calc.getCorner()==="bottom"?w.height-1:1,T=this.calc.getCorner()==="bottom"?w.height-N:N;this.animateFlippingTo({x:P-1,y:k},{x:P-N,y:T},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,w,P,N=!0){const k=c.GetCordsFromTwoPoint(y,w),T=[];for(const R of k)T.push(()=>this.do(R));const L=this.getAnimationDuration(k.length);this.render.startAnimation(T,L,()=>{this.calc&&(P&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),N&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-w.pageWidth<=w.width/5)return 1}else if(y.x<w.width/2)return 1;return 0}getAnimationDuration(y){const w=this.app.getSettings().flippingTime;return y>=1e3?w:y/1e3*w}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const w of y)if(this.state===w)return!0;return!1}isPointOnCorners(y){const w=this.getBoundsRect(),P=w.pageWidth,N=Math.sqrt(Math.pow(P,2)+Math.pow(w.height,2))/5,k=this.render.convertToBook(y);return k.x>0&&k.y>0&&k.x<w.width&&k.y<w.height&&(k.x<N||k.x>w.width-N)&&(k.y<N||k.y>w.height-N)}}class x{constructor(y,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=y;const P=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=P.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const w=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=w=>{this.render(w),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,w,P){this.finishAnimation(),this.animation={frames:y,duration:w,durationFrame:w/y.length,onAnimateEnd:P,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const w=this.getBlockWidth(),P=w/2,N=this.getBlockHeight()/2,k=this.setting.width/this.setting.height;let T=this.setting.width,L=this.setting.height,R=P-T;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),T=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,T>this.setting.maxWidth&&(T=this.setting.maxWidth),L=T/k,L>this.getBlockHeight()&&(L=this.getBlockHeight(),T=L*k),R=y==="portrait"?P-T/2-T:P-T):w<2*T&&this.app.getSettings().usePortrait&&(y="portrait",R=P-T/2-T),this.boundsRect={left:R,top:N-L/2,width:2*T,height:L,pageWidth:T},y}setShadowData(y,w,P,N){if(!this.app.getSettings().drawShadow)return;const k=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:w,width:3*this.getRect().pageWidth/4*P/100,opacity:(100-P)*k/100/100,direction:N,progress:2*P}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const w=this.getRect();return{x:y.x-w.left,y:y.y-w.top}}isSafari(){return this.safari}convertToPage(y,w){w||(w=this.direction);const P=this.getRect();return{x:w===0?y.x-P.left-P.width/2:P.width/2-y.x+P.left,y:y.y-P.top}}convertToGlobal(y,w){if(w||(w=this.direction),y==null)return null;const P=this.getRect();return{x:w===0?y.x+P.left+P.width/2:P.width/2-y.x+P.left,y:y.y+P.top}}convertRectToGlobal(y,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(y.topLeft,w),topRight:this.convertToGlobal(y.topRight,w),bottomLeft:this.convertToGlobal(y.bottomLeft,w),bottomRight:this.convertToGlobal(y.bottomRight,w)}}}class b extends x{constructor(y,w,P){super(y,w),this.canvas=P,this.ctx=P.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const P={x:y.left+y.width/2-w/2,y:0};this.ctx.translate(P.x,P.y);const N=this.ctx.createLinearGradient(0,0,w,0);N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),N.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),N.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),N.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),N.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,w,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const P=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),P.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),P.addColorStop(0,"rgba(0, 0, 0, 0)"),P.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=P,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(P.topLeft.x,P.topLeft.y),this.ctx.lineTo(P.topRight.x,P.topRight.y),this.ctx.lineTo(P.bottomRight.x,P.bottomRight.y),this.ctx.lineTo(P.bottomLeft.x,P.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const N=3*this.shadow.width/4,k=this.ctx.createLinearGradient(0,0,N,0);this.shadow.direction===0?(this.ctx.translate(-N,-100),k.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),k.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),k.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),k.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,N,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class _{constructor(y,w,P){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=k=>{if(this.checkTarget(k.target)){const T=this.getMousePos(k.clientX,k.clientY);this.app.startUserTouch(T),k.preventDefault()}},this.onTouchStart=k=>{if(this.checkTarget(k.target)&&k.changedTouches.length>0){const T=k.changedTouches[0],L=this.getMousePos(T.clientX,T.clientY);this.touchPoint={point:L,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(L)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||k.preventDefault()}},this.onMouseUp=k=>{const T=this.getMousePos(k.clientX,k.clientY);this.app.userStop(T)},this.onMouseMove=k=>{const T=this.getMousePos(k.clientX,k.clientY);this.app.userMove(T,!1)},this.onTouchMove=k=>{if(k.changedTouches.length>0){const T=k.changedTouches[0],L=this.getMousePos(T.clientX,T.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-L.x)>10||this.app.getState()!=="read")&&k.cancelable&&this.app.userMove(L,!0),this.app.getState()!=="read"&&k.preventDefault()):this.app.userMove(L,!0)}},this.onTouchEnd=k=>{if(k.changedTouches.length>0){const T=k.changedTouches[0],L=this.getMousePos(T.clientX,T.clientY);let R=!1;if(this.touchPoint!==null){const $=L.x-this.touchPoint.point.x,B=Math.abs(L.y-this.touchPoint.point.y);Math.abs($)>this.swipeDistance&&B<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&($>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),R=!0),this.touchPoint=null}this.app.userStop(L,R)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=w;const N=this.app.getSettings().usePortrait?1:2;y.style.minWidth=P.minWidth*N+"px",y.style.minHeight=P.minHeight+"px",P.size==="fixed"&&(y.style.minWidth=P.width*N+"px",y.style.minHeight=P.height+"px"),P.autoSize&&(y.style.width="100%",y.style.maxWidth=2*P.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=P.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,w){const P=this.distElement.getBoundingClientRect();return{x:y-P.left,y:w-P.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class S extends _{constructor(y,w,P,N){super(y,w,P),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=N;for(const k of N)this.distElement.appendChild(k);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const w of y)this.distElement.appendChild(w);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class C extends _{constructor(y,w,P){super(y,w,P),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),w=parseInt(y.getPropertyValue("width"),10),P=parseInt(y.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=P}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class A extends x{constructor(y,w,P){super(y,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=P,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let P=(100-w)*(2.5*y.pageWidth)/100+20;P>y.pageWidth&&(P=y.pageWidth);let N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${P}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;N+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=N}drawHardOuterShadow(){const y=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;w>y.pageWidth&&(w=y.pageWidth);let P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;P+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=P}drawInnerShadow(){const y=this.getRect(),w=3*this.shadow.width/4,P=this.getDirection()===0?w:0,N=this.getDirection()===0?"to left":"to right",k=this.convertToGlobal(this.shadow.pos),T=this.shadow.angle+3*Math.PI/2,L=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let R="polygon( ";for(const B of L){let H=this.getDirection()===1?{x:-B.x+this.shadow.pos.x,y:B.y-this.shadow.pos.y}:{x:B.x-this.shadow.pos.x,y:B.y-this.shadow.pos.y};H=c.GetRotatedPoint(H,{x:P,y:100},T),R+=H.x+"px "+H.y+"px, "}R=R.slice(0,-2),R+=")";const $=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*y.height}px;
            background: linear-gradient(${N},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${P}px 100px;
            transform: translate3d(${k.x-P}px, ${k.y-100}px, 0) rotate(${T}rad);
            clip-path: ${R};
            -webkit-clip-path: ${R};
        `;this.innerShadow.style.cssText=$}drawOuterShadow(){const y=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.shadow.angle+3*Math.PI/2,N=this.getDirection()===1?this.shadow.width:0,k=this.getDirection()===0?"to right":"to left",T=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let L="polygon( ";for(const $ of T)if($!==null){let B=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};B=c.GetRotatedPoint(B,{x:N,y:100},P),L+=B.x+"px "+B.y+"px, "}L=L.slice(0,-2),L+=")";const R=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${k}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${N}px 100px;
            transform: translate3d(${w.x-N}px, ${w.y-100}px, 0) rotate(${P}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.outerShadow.style.cssText=R}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class M{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const w=this._default;if(Object.assign(w,y),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(j,y){y===void 0&&(y={});var w=y.insertAt;if(typeof document!="undefined"){var P=document.head||document.getElementsByTagName("head")[0],N=document.createElement("style");N.type="text/css",w==="top"&&P.firstChild?P.insertBefore(N,P.firstChild):P.appendChild(N),N.styleSheet?N.styleSheet.cssText=j:N.appendChild(document.createTextNode(j))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(j,y){return this.events.has(j)?this.events.get(j).push(y):this.events.set(j,[y]),this}off(j){this.events.delete(j)}trigger(j,y,w=null){if(this.events.has(j))for(const P of this.events.get(j))P({data:w,object:y})}}{constructor(j,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new M().getSettings(y),this.block=j}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(j){this.ui=new C(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new b(this,this.setting,y),this.flipController=new g(this.render,this),this.pages=new l(this,this.render,j),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(j){this.ui=new S(this.block,this,this.setting,j),this.render=new A(this,this.setting,this.ui.getDistElement()),this.flipController=new g(this.render,this),this.pages=new h(this,this.render,this.ui.getDistElement(),j),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(j){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,j),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(j){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new h(this,this.render,this.ui.getDistElement(),j),this.pages.load(),this.ui.updateItems(j),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(j){this.pages.show(j)}flipNext(j="top"){this.flipController.flipNext(j)}flipPrev(j="top"){this.flipController.flipPrev(j)}flip(j,y="top"){this.flipController.flipToPage(j,y)}updateState(j){this.trigger("changeState",this,j)}updatePageIndex(j){this.trigger("flip",this,j)}updateOrientation(j){this.ui.setOrientationStyle(j),this.update(),this.trigger("changeOrientation",this,j)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(j){return this.pages.getPage(j)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(j){this.mousePosition=j,this.isUserTouch=!0,this.isUserMove=!1}userMove(j,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&c.GetDistanceBetweenTwoPoint(this.mousePosition,j)>5&&(this.isUserMove=!0,this.flipController.fold(j)):this.flipController.showCorner(j)}userStop(j,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(j)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(zh,zh.exports)),zh.exports}var IX=CX();const TX="_viewerRoot_hj39c_5",EX="_stage_hj39c_17",AX="_host_hj39c_43",PX="_hud_hj39c_91",RX="_hBtn_hj39c_125",LX="_hText_hj39c_153",DX="_title_hj39c_167",MX="_sep_hj39c_169",FX="_spacer_hj39c_171",$X="_errorBox_hj39c_175",vi={viewerRoot:TX,stage:EX,host:AX,hud:PX,hBtn:RX,hText:LX,title:DX,sep:MX,spacer:FX,errorBox:$X},BX="/".endsWith("/")?"/":"//",T4=s=>{if(/^https?:\/\//i.test(s)||s.startsWith("/"))return s;const e=s.replace(/^\.?\//,"");return`${BX}${e}`.replace(/\/{2,}/g,"/")},OX=async s=>{const e=T4(`flipbooks/${s}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${s}"`);return n.json()},VX=()=>{const s=document.documentElement;return!!(s.requestFullscreen||s.webkitRequestFullscreen||s.msRequestFullscreen)},UX=(s,e,n)=>Math.max(e,Math.min(n,s)),kn={hostEl:null,pf:null,slug:null},da={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},zX=typeof globalThis.requestIdleCallback=="function"?s=>globalThis.requestIdleCallback(s):s=>setTimeout(s,0);function HX(s){for(const e of s)e&&(da.cache.has(e)||da.inFlight.has(e)||da.queue.includes(e)||da.queue.push(e));E4()}function E4(){zX(()=>{for(;da.inFlight.size<da.maxParallel&&da.queue.length>0;){const s=da.queue.shift();da.inFlight.add(s);const e=new Image;e.onload=e.onerror=()=>{da.inFlight.delete(s),da.cache.add(s),E4()},e.src=s}})}const GX=({slug:s,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const a=E.useRef(null),l=E.useRef(null),[c,u]=E.useState(null),[h,p]=E.useState(null),g=E.useRef(),x=E.useRef(),b=E.useRef(e);E.useEffect(()=>{g.current=n},[n]),E.useEffect(()=>{x.current=r},[r]),E.useEffect(()=>{b.current=e},[e]);const _=E.useMemo(()=>T4(`flipbooks/${s}`),[s]),S=E.useCallback(j=>{var y,w;if((y=j.srcset)!=null&&y.length){const P=[...j.srcset].sort((k,T)=>k.width-T.width),N=(w=P.find(k=>k.width>=1600))!=null?w:P[P.length-1];return/^https?:\/\//i.test(N.src)||N.src.startsWith("/")?N.src:`${_}/${N.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(j.src)||j.src.startsWith("/")?j.src:`${_}/${j.src}`.replace(/\/{2,}/g,"/")},[_]);E.useEffect(()=>{let j=!0;return p(null),OX(s).then(y=>{j&&u(y)}).catch(y=>{j&&p(y.message||"Failed to load flipbook manifest.")}),()=>{j=!1}},[s]),E.useEffect(()=>{const j=l.current,y=a.current;if(!j||!y||!c||(kn.hostEl||(kn.hostEl=document.createElement("div"),kn.hostEl.className=vi.host),kn.hostEl.parentElement!==j&&j.appendChild(kn.hostEl),!kn.hostEl.isConnected))return;if(!(!kn.pf||kn.slug!==s)){try{kn.pf.update()}catch(B){}return}if(kn.pf){try{kn.pf.destroy()}catch(B){}kn.pf=null}const P={width:c.pageWidth,height:c.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},N=new IX.PageFlip(kn.hostEl,P);kn.pf=N,kn.slug=s;const k=c.pages.map(S);N.loadFromImages(k);const T=B=>{const H=[],z=B+1,W=B+2;c.pages[z]&&H.push(S(c.pages[z])),c.pages[W]&&H.push(S(c.pages[W])),HX(H)},L=()=>{var H;const B=UX(b.current,1,c.pageCount)-1;N.turnToPage(B,"hard"),setTimeout(()=>T(B),220),(H=g.current)==null||H.call(g,N)};N.on("init",L),N.on("flip",B=>{var z;const H=B.data;(z=x.current)==null||z.call(x,H),setTimeout(()=>T(H),220)});const R=new ResizeObserver(()=>{var B;try{(B=kn.pf)==null||B.update()}catch(H){}});R.observe(y);const $=B=>{var H,z;B.key==="ArrowLeft"&&(B.preventDefault(),(H=kn.pf)==null||H.flipPrev()),B.key==="ArrowRight"&&(B.preventDefault(),(z=kn.pf)==null||z.flipNext())};return window.addEventListener("keydown",$,{passive:!1}),()=>{window.removeEventListener("keydown",$),R.disconnect()}},[c,S,s]);const C=()=>{var j;return(j=kn.pf)==null?void 0:j.flipPrev()},A=()=>{var j;return(j=kn.pf)==null?void 0:j.flipNext()},M=()=>{var w;const j=a.current;if(!j)return;const y=j;(w=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||w.call(y)};return h?t.jsxs("div",{className:vi.errorBox,children:["Flipbook konnte nicht geladen werden: ",h]}):c?t.jsxs("div",{className:vi.viewerRoot,ref:a,"aria-label":c.title,children:[t.jsx("div",{className:vi.stage,ref:l}),t.jsxs("div",{className:vi.hud,children:[t.jsx("button",{className:vi.hBtn,onClick:C,"aria-label":"Zurck",children:""}),t.jsxs("div",{className:vi.hText,children:[t.jsx("span",{className:vi.title,children:c.title}),t.jsx("span",{className:vi.sep,children:""}),t.jsxs("span",{children:[c.pageCount," Seiten"]})]}),t.jsx("div",{className:vi.spacer}),VX()&&t.jsx("button",{className:vi.hBtn,onClick:M,"aria-label":"Fullscreen",children:""}),t.jsx("button",{className:vi.hBtn,onClick:A,"aria-label":"Weiter",children:""})]})]}):t.jsx("div",{className:vi.errorBox,children:"Lade Flipbook"})},WX=Q.memo(GX),KX={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},qX=()=>{const s="sf-history-book",[e,n]=E.useState(1),r=E.useRef(null),i=E.useMemo(()=>{var p;return(p=KX[e])!=null?p:[]},[e]),a=E.useCallback(p=>{r.current=p},[]),l=E.useCallback(p=>{n(p+1)},[]),c=E.useCallback(p=>{const g=r.current;if(g)try{g.turnToPage(Math.max(0,p-1))}catch(x){}},[]),u=E.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipPrev()},[]),h=E.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipNext()},[]);return t.jsx(Ht,{title:"SF History Book",children:t.jsxs("div",{className:hl.pageWrap,children:[t.jsx("div",{className:hl.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),t.jsxs("div",{className:hl.viewerHost,children:[t.jsx(WX,{slug:s,initialPage:1,onReady:a,onPageChange:l,noSound:!0}),t.jsxs("div",{className:hl.overlay,"aria-hidden":!0,children:[t.jsx("div",{className:hl.dragZoneLeft,onClick:u}),t.jsx("div",{className:hl.dragZoneRight,onClick:h}),i.map((p,g)=>{const x={"--t":`${p.t}%`,"--l":`${p.l}%`,"--w":`${p.w}%`,"--h":`${p.h}%`};return p.kind==="goto"?t.jsx("button",{className:hl.inbookLink,style:x,"aria-label":p.label,onClick:()=>c(p.toPage)},g):t.jsx("a",{className:hl.inbookLink,style:x,"aria-label":p.label,href:p.href,target:"_blank",rel:"noopener noreferrer"},g)})]})]})]})})},QX="_root_zvspc_1",YX="_hero_zvspc_15",XX="_eyebrow_zvspc_47",JX="_heading_zvspc_63",ZX="_lead_zvspc_77",eJ="_freshnessHint_zvspc_91",tJ="_hintLabel_zvspc_105",sJ="_hintText_zvspc_121",nJ="_grid_zvspc_135",rJ="_card_zvspc_147",iJ="_cardTitle_zvspc_163",aJ="_paragraph_zvspc_177",oJ="_list_zvspc_191",lJ="_listItem_zvspc_207",ti={root:QX,hero:YX,eyebrow:XX,heading:JX,lead:ZX,freshnessHint:eJ,hintLabel:tJ,hintText:sJ,grid:nJ,card:rJ,cardTitle:iJ,paragraph:aJ,list:oJ,listItem:lJ},cJ=()=>{const{t:s}=wn(),e=s("help.dataFreshness.body").split(`

`),n=[{key:"intro",title:s("help.sections.intro.title"),paragraphs:[s("help.sections.intro.body1"),s("help.sections.intro.body2")]},{key:"actions",title:s("help.sections.actions.title"),bullets:[s("help.sections.actions.items.toplists"),s("help.sections.actions.items.profiles"),s("help.sections.actions.items.guides"),s("help.sections.actions.items.tools")]},{key:"freshness",title:s("help.dataFreshness.title"),paragraphs:e},{key:"login",title:s("help.sections.login.title"),paragraphs:[s("help.sections.login.body1"),s("help.sections.login.body2"),s("help.sections.login.body3"),s("help.sections.login.body4")]},{key:"legal",title:s("help.sections.legal.title"),paragraphs:[s("help.sections.legal.body1"),s("help.sections.legal.body2"),s("help.sections.legal.body3")],bullets:[s("help.sections.legal.items.tos"),s("help.sections.legal.items.privacy"),s("help.sections.legal.items.imprint")]}];return t.jsx(Ht,{title:s("help.title"),subtitle:s("help.subtitle"),centerFramed:!0,padded:!0,children:t.jsxs("div",{className:ti.root,children:[t.jsxs("section",{className:ti.hero,children:[t.jsxs("div",{children:[t.jsx("p",{className:ti.eyebrow,children:s("help.hero.eyebrow")}),t.jsx("h1",{className:ti.heading,children:s("help.hero.heading")}),t.jsx("p",{className:ti.lead,children:s("help.hero.lead")})]}),t.jsxs("div",{className:ti.freshnessHint,children:[t.jsx("div",{className:ti.hintLabel,children:s("help.hero.freshnessLabel")}),t.jsx("p",{className:ti.hintText,children:s("help.hero.freshnessBody")})]})]}),t.jsx("div",{className:ti.grid,children:n.map(r=>{var a;const i=r.key==="login"?"linking":void 0;return t.jsxs("section",{id:i,className:ti.card,children:[t.jsx("h2",{className:ti.cardTitle,children:r.title}),(a=r.paragraphs)==null?void 0:a.map((l,c)=>t.jsx("p",{className:ti.paragraph,children:l},`${r.key}-p-${c}`)),r.bullets&&t.jsx("ul",{className:ti.list,children:r.bullets.map(l=>t.jsx("li",{className:ti.listItem,children:l},`${r.key}-${l}`))})]},r.key)})})]})})},A4=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(A4.map(s=>[s.id,s]));const P4="TL_FILTERS_V2",ai={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function dJ(){var s;try{const e=localStorage.getItem(P4);if(!e)return ai;const n=(s=JSON.parse(e))!=null?s:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:ai.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:ai.listView,a=["hud","sheet"].includes(n.filterMode)?n.filterMode:ai.filterMode,l=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,c=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...ai,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:l,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:c,quickFav:l,quickActive:c,days:r,listView:i,filterMode:a,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:ai.sortBy,searchText:typeof n.searchText=="string"?n.searchText:ai.searchText}}catch(e){return ai}}function uJ(s){try{localStorage.setItem(P4,JSON.stringify(s))}catch(e){}}const R4=E.createContext(null),xC=s=>Array.from(new Set(s));function Bg(s,e){return typeof s=="function"?s(e):s}function hJ({children:s}){const[e,n]=E.useState(()=>dJ());E.useEffect(()=>{uJ(e)},[e]);const r=k=>n(T=>({...T,servers:xC(Bg(k,T.servers))})),i=k=>n(T=>{const L=new Set(T.servers);return L.has(k)?L.delete(k):L.add(k),{...T,servers:Array.from(L)}}),a=()=>n(k=>({...k,servers:[]})),l=k=>n(T=>({...T,classes:xC(Bg(k,T.classes))})),c=k=>n(T=>{const L=new Set(T.classes);return L.has(k)?L.delete(k):L.add(k),{...T,classes:Array.from(L)}}),u=()=>n(k=>({...k,classes:[]})),h=k=>n(T=>({...T,days:k})),p=k=>h(k),g=k=>n(T=>({...T,sortBy:k||"level"})),x=k=>n(T=>({...T,favoritesOnly:!!k,quickFav:!!k})),b=k=>n(T=>({...T,activeOnly:!!k,quickActive:!!k})),_=k=>n(T=>({...T,searchText:k})),S=k=>n(T=>{const L=Bg(k,T.quickFav);return{...T,quickFav:L,favoritesOnly:L}}),C=k=>n(T=>{const L=Bg(k,T.quickActive);return{...T,quickActive:L,activeOnly:L}}),A=k=>n(T=>({...T,filterMode:k})),M=k=>n(T=>({...T,listView:k})),j=k=>n(T=>({...T,bottomFilterOpen:!!k})),y=k=>n(T=>({...T,serverSheetOpen:!!k})),w=()=>n(ai),P=()=>w(),N=E.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:a,setClasses:l,toggleClass:c,clearClasses:u,setDays:h,setRange:p,setSortBy:g,setFavoritesOnly:x,setActiveOnly:b,setSearchText:_,setQuickFav:S,setQuickActive:C,setFilterMode:A,setListView:M,setBottomFilterOpen:j,setServerSheetOpen:y,resetFilters:w,resetAll:P}),[e]);return t.jsx(R4.Provider,{value:N,children:s})}function im(){const s=E.useContext(R4);return s||{...ai,range:ai.days,searchText:ai.searchText,quickFav:ai.quickFav,quickActive:ai.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const pJ="_hudWrap_107o7_9",mJ="_hudBtn_107o7_11",gJ="_hudSubBtn_107o7_15",fJ="_iconRow_107o7_19",vJ="_segmented_107o7_21",xJ="_sortLabel_107o7_27",yJ="_sortSelect_107o7_29",bJ="_chip_107o7_31",_J="_isActive_107o7_33",si={hudWrap:pJ,hudBtn:mJ,hudSubBtn:gJ,iconRow:fJ,segmented:vJ,sortLabel:xJ,sortSelect:yJ,chip:bJ,isActive:_J};function wJ({active:s=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:a}){const l=Math.round(i*.7),c=Q.useMemo(()=>{const A=[],M=IE(n,l*2,l*2,"contain");M&&A.push(M);const j=li(n,l*2);return j&&j!==M&&A.push(j),!A.length&&n&&A.push(n),A},[n,l]),[u,h]=Q.useState(0),[p,g]=Q.useState(!1),[x,b]=Q.useState(!1);Q.useEffect(()=>h(0),[c]);const _=c[u]||"",S={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:x||s?"inset 0 0 18px rgba(92,139,198,.25)":"none"};p&&(S.background="rgba(255,255,255,.04)"),s&&(S.outline="2px solid #5C8BC6");const C={display:"block",width:l,height:l,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return t.jsx("button",{type:"button",title:e,"aria-pressed":!!s,onClick:a,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>b(!0),onBlur:()=>b(!1),style:S,children:_?t.jsx("img",{src:_,alt:e||"class",width:l,height:l,loading:"lazy",style:C,onError:()=>{h(A=>A+1<c.length?A+1:A)}}):t.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const jJ=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function SJ(){const{servers:s,classes:e,setClasses:n,range:r,setRange:i,sortBy:a,setSortBy:l,quickFav:c,setQuickFav:u,quickActive:h,setQuickActive:p,filterMode:g,setBottomFilterOpen:x,serverSheetOpen:b,setServerSheetOpen:_,resetAll:S}=im();return t.jsxs("div",{className:si.hudWrap,children:[t.jsxs("button",{type:"button",className:si.hudBtn,onClick:C=>{C.preventDefault(),C.stopPropagation(),_(!0)},"aria-haspopup":"dialog","aria-expanded":b||!1,"aria-label":`Select servers${s.length?` (${s.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",s.length?`(${s.length})`:""]}),t.jsxs("div",{className:si.iconRow,children:[Jn.map(C=>t.jsx(wJ,{active:e.includes(C.key),title:C.label,iconUrl:C.iconUrl,fallback:C.fallback,size:40,onClick:()=>n(A=>A.includes(C.key)?A.filter(M=>M!==C.key):[...A,C.key])},C.key)),t.jsx("button",{type:"button",className:si.hudSubBtn,onClick:()=>n(Jn.map(C=>C.key)),children:"All"}),t.jsx("button",{type:"button",className:si.hudSubBtn,onClick:()=>n([]),children:"None"})]}),t.jsx("div",{className:si.segmented,role:"group","aria-label":"Range",children:jJ.map(C=>t.jsx("button",{type:"button","aria-pressed":r===C.value,onClick:()=>i(C.value),children:C.label},C.label))}),t.jsx("label",{className:si.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),t.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:a,onChange:C=>l(C.target.value),className:si.sortSelect,"aria-label":"Sort",children:[t.jsx("option",{value:"level",children:"Level"}),t.jsx("option",{value:"scrapbook",children:"Scrapbook"}),t.jsx("option",{value:"activity",children:"Activity"}),t.jsx("option",{value:"lastScan",children:"Last scan"})]}),t.jsx("button",{type:"button",className:`${si.chip} ${c?si.isActive:""}`,onClick:()=>u(C=>!C),children:" Favorites"}),t.jsx("button",{type:"button",className:`${si.chip} ${h?si.isActive:""}`,onClick:()=>p(C=>!C),children:" Active"}),t.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[t.jsx("button",{type:"button",className:si.hudSubBtn,onClick:S,children:"Reset"}),g==="sheet"&&t.jsx("button",{type:"button",className:si.hudBtn,onClick:C=>{C.preventDefault(),C.stopPropagation(),x(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const NJ=["EU","US","INT","Fusion"],gr={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function kJ({open:s,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:a,onSelectAllInRegion:l,onClearAll:c}){const[u,h]=E.useState(""),p=E.useRef(null);E.useEffect(()=>{if(!s)return;const b=_=>{_.key==="Escape"&&e()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[s,e]),E.useEffect(()=>{if(s&&p.current){const b=p.current.querySelector("#sheet-serversearch");b==null||b.focus()}},[s]);const g=NJ,x=b=>{const _=u.trim().toLowerCase();return _?b.toLowerCase().includes(_):!0};return s?t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:CJ,onClick:b=>{b.target===b.currentTarget&&e()},children:t.jsxs("div",{ref:p,style:n==="modal"?L4:IJ,className:"sf-server-sheet",children:[t.jsxs("div",{style:TJ,children:[t.jsx("h2",{id:"server-dialog-title",style:EJ,children:"Select servers"}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("button",{type:"button",onClick:c,style:yC,children:"Clear"}),t.jsx("button",{type:"button",onClick:e,style:FJ,children:"Done"})]})]}),t.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[t.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),t.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers...",value:u,onChange:b=>h(b.target.value),"aria-label":"Search servers",autoComplete:"off",style:PJ})]}),t.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:g.map(b=>{const _=(r[b]||[]).filter(x);return t.jsxs("section",{"aria-labelledby":`region-${b}`,children:[t.jsxs("div",{style:RJ,children:[t.jsx("h3",{id:`region-${b}`,style:AJ,children:b}),t.jsx("div",{style:{display:"flex",gap:8},children:t.jsx("button",{type:"button",style:yC,onClick:()=>{l?l(b):_.filter(C=>!i.includes(C)).forEach(a)},children:"Select all"})})]}),t.jsxs("div",{style:LJ,children:[_.map(S=>{const C=i.includes(S);return t.jsx("button",{type:"button",onClick:()=>a(S),"aria-pressed":C,title:S,style:{...DJ,...C?MJ:null},children:S},S)}),_.length===0&&t.jsx("div",{style:{color:gr.text2,fontSize:13,padding:"4px 2px"},children:"No servers found"})]})]},b)})})]})}):null}const CJ={position:"fixed",inset:0,background:gr.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},L4={width:"min(900px, 100%)",background:gr.tile,border:`1px solid ${gr.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:gr.text},IJ={...L4,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},TJ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},EJ={fontSize:18,margin:0},AJ={fontSize:14,margin:0,color:gr.text2},PJ={width:"100%",background:gr.input,color:gr.text,border:`1px solid ${gr.line}`,borderRadius:12,padding:"10px 12px"},RJ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},LJ={display:"flex",flexWrap:"wrap",gap:8},DJ={background:gr.chip,border:`1px solid ${gr.line}`,padding:"6px 10px",borderRadius:999,color:gr.text},MJ={outline:`2px solid ${gr.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},FJ={background:"#25456B",color:gr.text,border:`1px solid ${gr.accent}`,borderRadius:10,padding:"8px 12px"},yC={background:"transparent",color:gr.text,border:`1px solid ${gr.line}`,borderRadius:10,padding:"8px 12px"},$J=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const s="sf-sr-only-style";if(!document.getElementById(s)){const e=document.createElement("style");e.id=s,e.textContent=$J,document.head.appendChild(e)}}const pr={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function BJ({open:s,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:a,sortBy:l,setSortBy:c,quickFav:u,setQuickFav:h,quickActive:p,setQuickActive:g}=im(),x=E.useRef(null);if(E.useEffect(()=>{if(!s)return;const _=S=>{S.key==="Escape"&&e()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[s,e]),E.useEffect(()=>{if(s&&x.current){const _=x.current.querySelector("#sheet-search");_==null||_.focus()}},[s]),!s)return null;const b=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:OJ,onClick:_=>{_.target===_.currentTarget&&e()},children:t.jsxs("div",{ref:x,style:VJ,children:[t.jsxs("div",{style:UJ,children:[t.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:pr.text},children:"Filters"}),t.jsx("button",{type:"button",onClick:e,style:HJ,children:"Done"})]}),t.jsxs("div",{style:{display:"grid",gap:8},children:[t.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),t.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:_=>r(_.target.value),"aria-label":"Search",autoComplete:"off",style:D4})]}),t.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[t.jsx("span",{style:{color:pr.text2,fontSize:12},children:"Range"}),t.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:b.map(_=>t.jsx("button",{type:"button","aria-pressed":i===_.value,onClick:()=>a(_.value),style:{...f0,...i===_.value?v0:null},children:_.label},_.label))})]}),t.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[t.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:pr.text2,fontSize:12},children:"Sort"}),t.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:l,onChange:_=>c(_.target.value),"aria-label":"Sort",autoComplete:"off",style:zJ,children:[t.jsx("option",{value:"sum",children:"Base Sum"}),t.jsx("option",{value:"main",children:"Main Base Stat"}),t.jsx("option",{value:"constitution",children:"Constitution"}),t.jsx("option",{value:"level",children:"Level"}),t.jsx("option",{value:"delta",children:" Rank"}),t.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),t.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[t.jsx("button",{type:"button",onClick:()=>h(_=>!_),"aria-pressed":u,style:{...f0,...u?v0:null},children:" Favorites"}),t.jsx("button",{type:"button",onClick:()=>g(_=>!_),"aria-pressed":p,style:{...f0,...p?v0:null},children:" Active"})]})]})})}const OJ={position:"fixed",inset:0,background:pr.backdrop,zIndex:60,display:"grid",alignItems:"end"},VJ={background:pr.tile,borderTop:`1px solid ${pr.line}`,borderLeft:`1px solid ${pr.line}`,borderRight:`1px solid ${pr.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:pr.text,maxHeight:"80vh",overflow:"auto"},UJ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},D4={width:"100%",background:pr.input,color:pr.text,border:`1px solid ${pr.line}`,borderRadius:12,padding:"10px 12px"},zJ={...D4,appearance:"none"},f0={background:"#14273E",border:`1px solid ${pr.line}`,padding:"6px 10px",borderRadius:999,color:pr.text},v0={outline:`2px solid ${pr.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},HJ={background:"#25456B",color:pr.text,border:`1px solid ${pr.accent}`,borderRadius:10,padding:"8px 12px"},GJ=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const s="sf-sr-only-style";if(!document.getElementById(s)){const e=document.createElement("style");e.id=s,e.textContent=GJ,document.head.appendChild(e)}}function WJ(){var i;const s=im(),e=(i=s==null?void 0:s.listView)!=null?i:"table",n=Array.isArray(s==null?void 0:s.list)?s.list:[],r=Array.isArray(s==null?void 0:s.filtered)?s.filtered:n;return e==="table"?null:t.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:t.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(a=>{var l,c,u,h,p,g,x;return t.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[t.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(l=a.name)!=null?l:""}),t.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(c=a.server)!=null?c:""})]}),t.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",t.jsx("span",{style:{textTransform:"uppercase"},children:(u=a.class)!=null?u:""}),"  Lv ",(h=a.level)!=null?h:"","  Scrap ",(p=a.scrapbook)!=null?p:""]}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[t.jsx(x0,{children:a.active?"Active":"Idle"}),a.favorite&&t.jsx(x0,{children:" Fav"}),t.jsx(x0,{children:`Scan ${(g=a.lastScanDays)!=null?g:"?"}d`})]})]},(x=a.id)!=null?x:`${a.name}-${a.server}`)})}),e==="buttons"&&t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(a=>{var l,c,u,h;return t.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[a.favorite&&" ",(l=a.name)!=null?l:"",t.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(c=a.server)!=null?c:"","  Lv ",(u=a.level)!=null?u:"",")"]})]},(h=a.id)!=null?h:`${a.name}-${a.server}`)})})]})}function x0({children:s}){return t.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:s})}const Nw="stats_public",KJ="toplists_players_v1";async function qJ(){try{const s=await _n(rs(yt,Nw,"toplists_bundle_v1"));if(!s.exists())return{ok:!1,error:"not_found"};const n=(s.data()||{}).servers;let r=null;if(Array.isArray(n))r=n;else if(typeof n=="string")try{const a=JSON.parse(n);Array.isArray(a)?r=a:console.warn("[toplistsFirestore] Server bundle string is not an array after parse")}catch(a){console.warn("[toplistsFirestore] Failed to parse server bundle string",a)}if(!Array.isArray(r))return console.warn("[toplistsFirestore] Server bundle missing/invalid, falling back to static config"),{ok:!1,error:"decode_failed",detail:"servers missing or invalid"};const i=[];for(const a of r){if(typeof a!="string"){console.warn("[toplistsFirestore] Skipping non-string server entry",{entry:a});continue}const l=a.trim();l&&i.push(l)}return{ok:!0,servers:i}}catch(s){return console.error("[toplistsFirestore] Firestore error while loading toplist servers",s),{ok:!1,error:"firestore_error",detail:s==null?void 0:s.message}}}function i_(s){const e=a=>(a!=null?a:"").toString().trim().toLowerCase(),n=e(s.group)||"all",r=e(s.timeRange)||"all",i=e(s.sort)||"sum";return`${n}__${r}__${i}`}function QJ(s,e){const n=s.toUpperCase(),r=e.toUpperCase();return r==="ALL"?`${n}_all_sum`:`${n}_${r}_sum`}async function YJ(){try{const s=await _n(rs(yt,Nw,"toplists_meta_v1"));if(!s.exists())return null;const e=s.data();return!e||typeof e!="object"?null:e}catch(s){return console.error("[toplistsFirestore] meta decode failed",s),null}}const bi=s=>{if(typeof s=="number")return Number.isFinite(s)?s:null;if(typeof s=="string"){const e=Number(s);return Number.isFinite(e)?e:null}if(s instanceof Date)return Number.isFinite(s.getTime())?s.getTime():null;if(s&&typeof s.toMillis=="function"){const e=s.toMillis();return Number.isFinite(e)?e:null}return null},ha=s=>typeof s=="string"?s:null,XJ=s=>{if(!s||typeof s!="object")return null;const e=ha(s.server),n=ha(s.name),r=ha(s.class);return!e||!n||!r?null:{flag:ha(s.flag),deltaRank:bi(s.deltaRank),server:e,name:n,class:r,level:bi(s.level),guild:ha(s.guild),main:bi(s.main),con:bi(s.con),sum:bi(s.sum),ratio:bi(s.ratio),mine:bi(s.mine),treasury:bi(s.treasury),lastScan:ha(s.lastScan),deltaSum:bi(s.deltaSum)}};async function bC(s){try{const e=await _n(rs(yt,Nw,KJ,"lists",s));if(!e.exists())return{ok:!1,error:"not_found"};const n=e.data()||{},r=ha(n.entity)||"players",i=ha(n.group),a=ha(n.server),l=ha(n.metric),c=ha(n.timeRange),u=bi(n.limit),h=Array.isArray(n.rows)?n.rows:null;if(r!=="players"||!i||!a||!l||!c||u==null||!h)return console.error("[toplistsFirestore] Decode failed",{entity:r,group:i,server:a,metric:l,timeRange:c,limit:u,hasRowsArray:Array.isArray(n.rows)}),{ok:!1,error:"decode_error",detail:"missing required toplist fields"};const p=[];for(const x of h){const b=XJ(x);if(!b)return console.error("[toplistsFirestore] Row decode failed",x),{ok:!1,error:"decode_error",detail:"invalid row shape"};p.push(b)}return{ok:!0,list:{id:s,entity:"players",group:i,server:a,metric:l,timeRange:c,limit:u,updatedAt:bi(n.updatedAt),nextUpdateAt:n.nextUpdateAt!==void 0?bi(n.nextUpdateAt):void 0,ttlSec:n.ttlSec!==void 0?bi(n.ttlSec):void 0,rows:p}}}catch(e){return console.error("[toplistsFirestore] Firestore error",e),{ok:!1,error:"firestore_error",detail:e==null?void 0:e.message}}}async function JJ(s){const e=i_(s),n=await bC(e);if(n.ok&&n.list.rows&&n.list.rows.length>0||(s.group||"").toLowerCase()==="all")return n;const i={...s,group:"all"},a=i_(i),l=await bC(a);return l.ok?{ok:!0,list:{...l.list,group:s.group}}:n}const ZJ={EU:[],US:[],INT:[],Fusion:[]},eZ=["EU","US","INT","Fusion"],tZ=s=>{const e=s.toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("AM")||e.startsWith("US")||e.startsWith("NA")?"US":e.startsWith("F")?"Fusion":"INT"};function M4(s){const e={EU:new Set,US:new Set,INT:new Set,Fusion:new Set};s.forEach(r=>{if(typeof r!="string")return;const i=tZ(r);e[i].add(r)});const n={...ZJ};return eZ.forEach(r=>{n[r]=Array.from(e[r]).sort((i,a)=>i.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"}))}),n}const sZ="EU",y0=M4(A4.map(s=>s.id).filter(s=>typeof s=="string"&&!!s)),F4=E.createContext(null),_C=(s,e)=>s.length===e.length&&s.every((n,r)=>n===e[r]);function nZ(s,e){return s.group===e.group&&s.timeRange===e.timeRange&&_C(s.servers,e.servers)&&_C(s.classes,e.classes)}function rZ(s,e){return s.key===e.key&&s.dir===e.dir}function iZ({children:s}){const[e,n]=E.useState({group:sZ,servers:[],classes:[],timeRange:"all"}),[r,i]=E.useState({key:"level",dir:"desc"}),[a,l]=E.useState({rows:[],loading:!1,error:null,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:null}),c=E.useRef(new Map),[u,h]=E.useState(null),[p,g]=E.useState(null),[x,b]=E.useState(y0),_=E.useCallback(A=>{n(M=>{const j=typeof A=="function"?A(M):{...M,...A};return nZ(M,j)?M:j})},[]),S=E.useCallback(A=>{i(M=>{const j=typeof A=="function"?A(M):A;return rZ(M,j)?M:j})},[]);E.useEffect(()=>{let A=!1;return(async()=>{const M=await qJ();if(!A){if(M.ok){const j=M4(M.servers);if(Object.values(j).some(w=>w.length>0)){b(j);return}}b(y0)}})().catch(M=>{A||(console.error("[ToplistsProvider] unexpected error while loading server list",M),b(y0))}),()=>{A=!0}},[]),E.useEffect(()=>{let A=!1;return(async()=>{const M=await YJ();A||h(M)})().catch(M=>{A||console.error("[ToplistsProvider] unexpected meta error",M)}),()=>{A=!0}},[]),E.useEffect(()=>{var N,k,T;let A=!1;const M="sum",j=i_({group:e.group,timeRange:e.timeRange,sort:M}),y=c.current.get(j),w=(y==null?void 0:y.list.ttlSec)!=null?y.list.ttlSec*1e3:null,P=y?w==null||Date.now()-y.cachedAt<w:!1;return y&&P?(l({rows:y.list.rows,loading:!1,error:null,lastUpdatedAt:(N=y.list.updatedAt)!=null?N:null,nextUpdateAt:(k=y.list.nextUpdateAt)!=null?k:null,ttlSec:(T=y.list.ttlSec)!=null?T:null,listId:j}),()=>{A=!0}):(l(L=>({...L,listId:j,loading:!0,error:null})),(async()=>{var B,H,z;const L=await JJ({group:e.group,timeRange:e.timeRange,sort:M});if(A)return;if(L.ok){c.current.set(j,{list:L.list,cachedAt:Date.now()}),l({rows:L.list.rows,loading:!1,error:null,lastUpdatedAt:(B=L.list.updatedAt)!=null?B:null,nextUpdateAt:(H=L.list.nextUpdateAt)!=null?H:null,ttlSec:(z=L.list.ttlSec)!=null?z:null,listId:j});return}const R=L.detail?` (${L.detail})`:"";let $="Firestore Fehler";L.error==="not_found"?$="Topliste nicht verfuegbar":L.error==="decode_error"&&($="Fehler beim Lesen der Daten"),l({rows:[],loading:!1,error:`${$}${R}`,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:j})})().catch(L=>{A||(console.error("[ToplistsProvider] unexpected error",L),l({rows:[],loading:!1,error:"Unerwarteter Fehler beim Laden",lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:j}))}),()=>{A=!0})},[e.group,e.timeRange]),E.useEffect(()=>{var z,W;if(!u){g(null);return}const A=e.servers&&e.servers.length===1?e.servers[0]:"all",M=QJ(e.group||"ALL",A||"all"),j=(z=u.thresholds)==null?void 0:z.players,y=typeof(j==null?void 0:j.minChanges)=="number"?j.minChanges:100,w=typeof(j==null?void 0:j.maxAgeDays)=="number"?j.maxAgeDays:7,P=(W=u.scopeChange)==null?void 0:W[M],N=typeof(P==null?void 0:P.lastRebuildAtMs)=="number"?P.lastRebuildAtMs:null,k=typeof(P==null?void 0:P.lastChangeAtMs)=="number"?P.lastChangeAtMs:null,T=typeof(P==null?void 0:P.changedSinceLastRebuild)=="number"?P.changedSinceLastRebuild:0,L=N?new Date(N):null,R=k?new Date(k):null,$=N!=null?(Date.now()-N)/(1e3*60*60*24):1/0,B=y>0?Math.min(1,Math.max(0,T/y)):0,H=!!L&&(w==null||$<=w)&&(y==null||T<y);g({scopeId:M,lastRebuildAt:L,lastChangeAt:R,changesSinceLastRebuild:T,minChanges:y!=null?y:null,maxAgeDays:w!=null?w:null,progress:B,isFresh:H})},[u,e.group,e.servers]);const C=E.useMemo(()=>({player:a,playerRows:a.rows,playerLoading:a.loading,playerError:a.error,playerLastUpdatedAt:a.lastUpdatedAt,playerNextUpdateAt:a.nextUpdateAt,playerScopeStatus:p,serverGroups:x,filters:e,sort:r,setFilters:_,setSort:S}),[a,e,r,x,_,S,p]);return t.jsx(F4.Provider,{value:C,children:s})}function $4(){const s=E.useContext(F4);if(!s)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return s}function aZ(s){switch(s){case"level":return{key:"level",dir:"desc"};case"main":return{key:"main",dir:"desc"};case"constitution":return{key:"con",dir:"desc"};case"sum":return{key:"sum",dir:"desc"};case"lastActivity":case"lastScan":return{key:"lastScan",dir:"desc"};case"name":return{key:"name",dir:"asc"};default:return{key:"level",dir:"desc"}}}function oZ(s){const e=(s[0]||"").toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("US")||e.startsWith("NA")||e.startsWith("AM")?"US":e.startsWith("F")?"FUSION":e?"INT":"EU"}function lZ(){return t.jsx(iZ,{children:t.jsx(cZ,{})})}function cZ(){const s=im(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:a,setBottomFilterOpen:l,serverSheetOpen:c,setServerSheetOpen:u,servers:h,setServers:p,classes:g,range:x,sortBy:b}=s,{serverGroups:_}=$4();return t.jsxs(t.Fragment,{children:[t.jsxs(Ht,{mode:"card",title:"Top Lists",actions:t.jsx(uZ,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?t.jsx(SJ,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[t.jsx(WJ,{}),r==="table"&&t.jsx(dZ,{servers:h!=null?h:[],classes:g!=null?g:[],range:x!=null?x:"all",sortKey:b!=null?b:"level"})]}),t.jsx(kJ,{mode:"modal",open:c,onClose:()=>u(!1),serversByRegion:_,selected:h,onToggle:S=>p(C=>C.includes(S)?C.filter(A=>A!==S):[...C,S]),onSelectAllInRegion:S=>{var C;return p((C=_[S])!=null?C:[])},onClearAll:()=>p([])}),t.jsx(BJ,{open:e==="sheet"&&a,onClose:()=>l(!1)})]})}function dZ({servers:s,classes:e,range:n,sortKey:r}){var C,A,M;const{playerRows:i,playerLoading:a,playerError:l,playerLastUpdatedAt:c,playerScopeStatus:u,setFilters:h,setSort:p}=$4();E.useEffect(()=>{const j=n==="all"?"all":n===60?"30d":`${n}d`,y=oZ(s);h({servers:s,classes:e,timeRange:j,group:y})},[s,e,n,h]),E.useEffect(()=>{const j=aZ(r);p(j)},[r,p]);const g=j=>j==null?"":new Intl.NumberFormat("en").format(j),x=j=>{if(j==null)return"";const y=g(Math.abs(j));return y?j>0?`+${y}`:`-${y}`:String(j)},b=j=>{if(j==null)return null;const y=j<1e12?j*1e3:j;return new Date(y).toLocaleString()},_=j=>j?j.toLocaleString():"",S=i||[];return t.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[t.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[t.jsxs("div",{children:[a?"Loading...":l?"Error":"Ready"," - ",S.length," rows"]}),t.jsx("div",{children:c?`Updated: ${b(c)}`:null})]}),u&&t.jsxs("div",{style:{opacity:.75,fontSize:12,display:"flex",flexWrap:"wrap",gap:8},children:[t.jsxs("span",{children:["Scope ",u.scopeId,"  ",u.changesSinceLastRebuild,"/",(C=u.minChanges)!=null?C:"?"," changes since last rebuild"]}),t.jsxs("span",{children:["Auto rebuild at ",(A=u.minChanges)!=null?A:"?"," changes or after ",(M=u.maxAgeDays)!=null?M:"?"," days"]}),t.jsxs("span",{children:["Last rebuild: ",_(u.lastRebuildAt)]})]}),l&&t.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[t.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),t.jsx("div",{style:{wordBreak:"break-all"},children:l}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{padding:"8px 6px"},children:"#"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Flag"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Delta Rank"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),t.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),t.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),t.jsxs("tbody",{children:[S.map((j,y)=>{var w,P,N,k;return t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("td",{style:{padding:"8px 6px"},children:y+1}),t.jsx("td",{style:{padding:"8px 6px"},children:(w=j.flag)!=null?w:""}),t.jsx("td",{style:{padding:"8px 6px"},children:x(j.deltaRank)}),t.jsx("td",{style:{padding:"8px 6px"},children:j.server}),t.jsx("td",{style:{padding:"8px 6px"},children:j.name}),t.jsx("td",{style:{padding:"8px 6px"},children:j.class}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(j.level)}),t.jsx("td",{style:{padding:"8px 6px"},children:(P=j.guild)!=null?P:""}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(j.main)}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(j.con)}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(j.sum)}),t.jsx("td",{style:{padding:"8px 6px"},children:(N=j.ratio)!=null?N:""}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(j.mine)}),t.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(j.treasury)}),t.jsx("td",{style:{padding:"8px 6px"},children:(k=j.lastScan)!=null?k:""}),t.jsx("td",{style:{padding:"8px 6px"},children:x(j.deltaSum)})]},`${j.name}-${j.server}-${y}`)}),a&&S.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:16,style:{padding:12},children:"Loading..."})}),!a&&!l&&S.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:16,style:{padding:12},children:"No results"})})]})]})})]})}function uZ(){const{filterMode:s,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:a}=im();return t.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[t.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[t.jsx(wC,{to:"/toplists/players",label:"Players"}),t.jsx(wC,{to:"/toplists/guilds",label:"Guilds"})]}),t.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),t.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[t.jsx("button",{"aria-pressed":s==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),t.jsx("button",{"aria-pressed":s==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),t.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),t.jsx("button",{onClick:()=>a(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:"Servers"}),t.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[t.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),t.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),t.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function wC({to:s,label:e}){return t.jsx(js,{to:s,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const hZ=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function pZ(){return t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),hZ.map(s=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[t.jsxs("div",{children:["#",s.rank]}),t.jsxs("div",{children:[s.name,"  ",s.server]}),t.jsxs("div",{children:["Avg Lv ",s.avgLevel]}),t.jsxs("div",{children:[" ",s.delta24h>0?`+${s.delta24h}`:s.delta24h," (24h)"]})]},s.rank))]})}function mZ(s="players"){const e=oi(),{search:n,pathname:r}=Zn();return[new URLSearchParams(n).get("tab")||s,c=>{const u=new URLSearchParams(n);u.set("tab",c),e(`${r}?${u.toString()}`,{replace:!1})}]}function gZ(){const[s]=mZ("players");return t.jsx(hJ,{children:s==="players"?t.jsx(lZ,{}):t.jsx(pZ,{})})}function fZ(){return t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Players  Browse"})})}function vZ(){return t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Players  Rankings"})})}function xZ(){return t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Players  Stats"})})}const yZ="/assets/demo-avatar-special.png",jC={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!1,background:"gradient",frame:"",mirrorHorizontal:!0},bZ={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},ni=(s,e)=>Math.min(Math.max(Math.round(s),0),e),_Z=s=>{var n;const e={...jC,...s||{}};return{...e,class:ni(e.class,15),race:ni(e.race,8),mouth:ni(e.mouth,30),hair:ni(e.hair,40),hairColor:ni(e.hairColor,12),horn:ni(e.horn,10),hornColor:ni(e.hornColor,10),brows:ni(e.brows,10),eyes:ni(e.eyes,20),beard:ni(e.beard,15),nose:ni(e.nose,10),ears:ni(e.ears,10),extra:ni(e.extra,20),special:ni(e.special,200),showBorder:!1,background:"",frame:"",mirrorHorizontal:(n=e.mirrorHorizontal)!=null?n:jC.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function B4({config:s,label:e,fallbackImage:n,fallbackLabel:r}){const i=E.useRef(null),a=E.useRef(null),[l,c]=E.useState("idle"),u=E.useMemo(()=>!s||Object.keys(s||{}).length===0?null:_Z(s),[JSON.stringify(s||{})]);E.useEffect(()=>{let b=!1;if(!u){c("idle");return}c("loading");try{const _=i.current;if(!_){c("error");return}const S=new ST(_,u);a.current=S,c("ready")}catch(_){console.error("[PortraitMaker] failed to initialize",_),b||c("error")}return()=>{var _,S;b=!0;try{(S=(_=a.current)==null?void 0:_.dispose)==null||S.call(_)}catch(C){}a.current=null}},[u]);const h=u&&l!=="ready"?bZ[l]:null,p=n||yZ,g=r||e,x=!u||l==="error";return t.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[t.jsxs("div",{className:"avatar-portrait__canvas-shell",children:[!x&&t.jsx("canvas",{ref:i,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`}),x&&t.jsx("img",{src:p,alt:g,className:"avatar-portrait__fallback",draggable:!1,width:240,height:240})]}),h&&t.jsx("span",{className:"avatar-portrait__status",children:h})]})}const b0=[{key:"str",label:"STR",name:"Strength"},{key:"dex",label:"DEX",name:"Dexterity"},{key:"int",label:"INT",name:"Intelligence"},{key:"con",label:"CON",name:"Constitution"},{key:"lck",label:"LCK",name:"Luck"}],wZ=8,_0=s=>typeof s=="number"&&Number.isFinite(s)?s.toLocaleString("de-DE"):"-",w0=(s,e)=>e<=0?0:Math.min(100,Math.max(0,s/e*100)),SC=s=>typeof s=="number"&&Number.isFinite(s);function jZ({baseStats:s,totalStats:e,benchmarks:n,mode:r,onModeChange:i}){const[a,l]=E.useState("base"),[c,u]=E.useState(!1),[h,p]=E.useState(!1);E.useEffect(()=>{let y=null,w=null;return y=requestAnimationFrame(()=>{w=requestAnimationFrame(()=>u(!0))}),()=>{y!=null&&cancelAnimationFrame(y),w!=null&&cancelAnimationFrame(w)}},[]),E.useEffect(()=>{c&&!h&&p(!0)},[c,h]);const g=b0.some(y=>SC(e==null?void 0:e[y.key])),b=(r!=null?r:a)==="total"&&g?"total":"base",_=y=>{y==="total"&&!g||(i?i(y):l(y))},S=b0.map(y=>{const w=b==="total"?e:s,P=w==null?void 0:w[y.key];return SC(P)?P:0}),C=Math.max(...S,0),A=C>0?C*1.05:1,M=b==="base",j=b==="base"?"Base Stats":"Total Stats";return t.jsxs("div",{className:"player-profile__attribute-bars",children:[t.jsxs("div",{className:"player-profile__attribute-bars-head",children:[t.jsx("div",{className:"player-profile__card-label",children:j}),t.jsxs("div",{className:"player-profile__attribute-toggle",role:"group","aria-label":"Attribute Ansicht",children:[t.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${b==="base"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":b==="base",onClick:()=>_("base"),children:"Base"}),t.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${b==="total"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":b==="total",onClick:()=>_("total"),disabled:!g,children:"Total"})]})]}),t.jsx("div",{className:"player-profile__attribute-bars-list",children:b0.map(y=>{var X,U,J;const w=b==="total"?e:s,P=Number(w==null?void 0:w[y.key])||0,N=M?(X=n==null?void 0:n.serverAvg)==null?void 0:X[y.key]:void 0,k=M?(U=n==null?void 0:n.guildAvg)==null?void 0:U[y.key]:void 0,T=M?(J=n==null?void 0:n.scaleMax)==null?void 0:J[y.key]:void 0,L=Number(N)||0,R=Number(k)||0,$=typeof T=="number"&&Number.isFinite(T),B=Math.max($?Number(T):A,P,L,R,1),H=w0(P,B),z=w0(L,B),W=w0(R,B),G=Math.min(1,Math.max(0,H/100)),K=c?G:0,te=h?void 0:"500ms";return t.jsxs("div",{className:"player-profile__attribute-bar-row",children:[t.jsxs("div",{className:"player-profile__attribute-bar-label","aria-hidden":!0,children:[t.jsx("span",{className:"player-profile__attribute-bar-icon",children:y.label}),t.jsx("span",{className:"player-profile__attribute-bar-name",children:y.name})]}),t.jsxs("div",{className:"player-profile__attribute-bar-track",role:"presentation",children:[t.jsx("div",{className:"player-profile__attribute-bar-fill",style:{transform:`scaleX(${K})`,minWidth:P>0&&H<100?wZ:void 0,transitionDuration:te},"aria-hidden":!0}),Number.isFinite(N)&&t.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--server",style:{left:`${z}%`},"aria-hidden":!0}),Number.isFinite(k)&&t.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--guild",style:{left:`${W}%`},"aria-hidden":!0})]}),t.jsxs("div",{className:"player-profile__attribute-bar-values",children:[t.jsx("div",{className:"player-profile__attribute-bar-value",children:_0(P)}),Number.isFinite(N)&&t.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Server ",_0(N)]}),Number.isFinite(k)&&t.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Gilde ",_0(k)]})]})]},y.key)})})]})}const SZ="_tooltipWrapper_vgre1_1",NZ="_trigger_vgre1_13",kZ="_bubble_vgre1_23",CZ="_card_vgre1_63",IZ="_tail_vgre1_89",Sh={tooltipWrapper:SZ,trigger:NZ,bubble:kZ,card:CZ,tail:IZ},TZ=({content:s,children:e,className:n})=>s?t.jsxs("div",{className:`${Sh.tooltipWrapper}${n?` ${n}`:""}`,children:[t.jsx("div",{className:Sh.trigger,children:e}),t.jsxs("div",{className:Sh.bubble,role:"tooltip",children:[t.jsx("div",{className:Sh.card,children:s}),t.jsx("div",{className:Sh.tail})]})]}):t.jsx(t.Fragment,{children:e}),EZ=s=>{if(s==null||!Number.isFinite(s))return{level:"unknown",label:"Unknown",hint:"Scan history unavailable"};const e=Math.max(0,Math.floor(s));return e===0?{level:0,label:"Scanned today",hint:"No rescan needed"}:e===1?{level:1,label:"Very fresh",hint:"No rescan needed"}:e<=3?{level:2,label:"Fresh",hint:"No rescan needed"}:e<=7?{level:3,label:"Recent",hint:"Rescan recommended"}:e<=14?{level:4,label:"Aging",hint:"Rescan recommended"}:e<=30?{level:5,label:"Outdated",hint:"Rescan strongly recommended"}:{level:6,label:"Stale",hint:"Rescan strongly recommended"}},AZ=s=>{if(s==null||!Number.isFinite(s))return null;const e=Math.max(0,Math.floor(s));return e===0?"today":e===1?"1 day ago":`${e} days ago`};function PZ({label:s,size:e=40}){const n=(s||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return t.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function RZ({className:s,label:e,size:n=40}){const r=c=>c.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(s||""),a=Jn.find(c=>r(c.label)===i)||Jn.find(c=>r(c.label).startsWith(i)||i.startsWith(r(c.label))),l=a?li(a.iconUrl,n*2):null;return l?t.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:t.jsx("img",{src:l,alt:"",draggable:!1})}):t.jsx(PZ,{label:e,size:n})}function LZ({data:s,loading:e,onAction:n}){const[r,i]=E.useState("base"),a=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,""),l=E.useMemo(()=>EZ(s.lastScanDays),[s.lastScanDays]),c=E.useMemo(()=>{const _=[];s.lastScanAtLabel&&_.push(`Last scan: ${s.lastScanAtLabel}`);const S=AZ(s.lastScanDays);return S&&_.push(`Age: ${S}`),l.hint&&_.push(l.hint),_.join(" | ")},[s.lastScanAtLabel,s.lastScanDays,l.hint]),u=Jn.find(_=>a(_.label)===a(s.className||""))||Jn.find(_=>a(_.label).startsWith(a(s.className||""))||a(s.className||"").startsWith(a(_.label))),h=s.portraitFallbackUrl||(u?li(u.iconUrl,420):void 0)||"/assets/demo-avatar-special.png",p=s.portraitFallbackLabel||s.className||s.playerName,g=s.hasPortrait===!1?void 0:s.portrait,x=_=>typeof _=="number"&&Number.isFinite(_)?_.toLocaleString("de-DE"):"-",b=E.useMemo(()=>s.metrics.map(_=>{if(_.label==="Total Base Stats"&&r==="total"){const S=s.totalStats;if(S){const C=(Number(S.str)||0)+(Number(S.dex)||0)+(Number(S.int)||0)+(Number(S.con)||0)+(Number(S.lck)||0);return{..._,label:"Total Stats",value:x(C)}}}return _}),[s.metrics,s.totalStats,r]);return t.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[t.jsxs("div",{className:"player-profile__hero-portrait",children:[t.jsxs("div",{className:"player-profile__identity player-profile__identity--overlay",children:[t.jsx(RZ,{className:s.className,label:s.playerName,size:48}),t.jsxs("div",{children:[t.jsx("div",{className:"player-profile__player-name",children:s.playerName}),t.jsxs("div",{className:"player-profile__player-meta",children:[t.jsx("span",{children:s.className||"Klasse ?"}),s.guild&&t.jsxs("span",{children:[" ",s.guild]}),s.server&&t.jsxs("span",{children:[" ",s.server]})]}),s.lastScanLabel&&t.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",s.lastScanLabel]}),t.jsx(TZ,{content:c,children:t.jsxs("div",{className:"player-profile__freshness",children:[t.jsx("span",{"aria-hidden":!0,className:`player-profile__freshness-dot player-profile__freshness-dot--${l.level}`}),t.jsx("span",{className:"player-profile__freshness-label",children:l.label}),t.jsx("span",{"aria-hidden":!0,className:"player-profile__freshness-info",children:""})]})})]})]}),t.jsx(B4,{config:g,label:s.playerName,fallbackImage:h,fallbackLabel:p})]}),t.jsxs("div",{className:"player-profile__hero-body",children:[t.jsx("div",{className:"player-profile__hero-metrics",children:b.map(_=>t.jsxs("div",{className:"player-profile__hero-metric",children:[t.jsx("div",{className:"player-profile__hero-metric-label",children:_.label}),t.jsx("div",{className:"player-profile__hero-metric-value",children:_.value}),_.hint&&t.jsx("div",{className:"player-profile__hero-metric-hint",children:_.hint})]},_.label))}),s.baseStats&&t.jsx(jZ,{baseStats:s.baseStats,totalStats:s.totalStats,benchmarks:s.baseStatBenchmarks,mode:r,onModeChange:i}),s.badges.length>0&&t.jsx("div",{className:"player-profile__hero-badges",children:s.badges.map(_=>t.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${_.tone||"neutral"}`,title:_.hint,children:[_.icon&&t.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:_.icon}),t.jsx("span",{children:_.label}),t.jsx("strong",{children:_.value})]},_.label))}),s.actions.length>0&&t.jsx("div",{className:"player-profile__hero-actions",children:s.actions.map(_=>t.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||_.disabled,title:_.title,onClick:()=>n==null?void 0:n(_.key),children:_.label},_.key))})]})]})}const DZ=Q.memo(LZ),j0=600,_f=240,MZ=[80,160,240,320,400,480,560],FZ=[40,80,120,160,200],$d=40,$Z=560,S0=40,NC=200,Og=_f,BZ=(s,e,n)=>Math.max(e,Math.min(n,s));function OZ({points:s,avgValue:e=null,showAvg:n=!0,showFill:r=!0,showDots:i=!0,showXLabels:a=!0,className:l}){const c=E.useId(),u=$Z-$d,h=NC-S0,{linePath:p,areaPath:g,dots:x,avgY:b,labels:_}=E.useMemo(()=>{if(!s.length)return{linePath:"",areaPath:"",dots:[],avgY:null,labels:[]};let S=Math.min(...s),C=Math.max(...s);const M=Math.max(1,C-S)*.1;S-=M,C+=M;const j=Math.max(1,C-S),y=$=>s.length>1?$d+$/(s.length-1)*u:$d,w=$=>BZ(S0+(1-($-S)/j)*h,S0,NC);if(s.length===1){const $=$d,B=$d+u*.1,H=w(s[0]),z=`${[`M${$},${H}`,`L${B},${H}`,`L${B},${Og}`,`L${$},${Og}`,"Z"].join(" ")}`;return{linePath:`M${$},${H} L${B},${H}`,areaPath:z,dots:i?[{x:($+B)/2,y:H}]:[],avgY:n&&e!=null?w(e):null,labels:[{x:$d,text:"t0"}]}}const P=s.map(($,B)=>({x:y(B),y:w($)})),N=P.map(($,B)=>`${B===0?"M":"L"}${$.x},${$.y}`).join(" "),k=`${N} L${P[P.length-1].x},${Og} L${P[0].x},${Og} Z`,T=i?P:[],L=n&&e!=null?w(e):null,R=s.map(($,B)=>({x:y(B),text:`t${B}`}));return{linePath:N,areaPath:k,dots:T,avgY:L,labels:R}},[s,e,n,i,u,h]);return t.jsxs("svg",{viewBox:`0 0 ${j0} ${_f}`,preserveAspectRatio:"none",className:`player-profile__trend-chart ${l!=null?l:""}`.trim(),role:"img","aria-label":"Anchored trend",children:[t.jsxs("g",{className:"player-profile__trend-grid",opacity:"0.55",stroke:"rgba(43,76,115,0.55)",strokeWidth:1,children:[MZ.map((S,C)=>t.jsx("line",{x1:S,x2:S,y1:0,y2:_f},`gv-${C}`)),FZ.map((S,C)=>t.jsx("line",{x1:0,x2:j0,y1:S,y2:S},`gh-${C}`))]}),n&&b!=null&&t.jsxs("g",{className:"player-profile__trend-avg",children:[t.jsx("text",{x:12,y:20,className:"player-profile__trend-avg-label",children:"Avg"}),t.jsx("line",{x1:0,x2:j0,y1:b,y2:b})]}),r&&g&&t.jsx("defs",{children:t.jsxs("linearGradient",{id:c,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"rgba(92, 139, 198, 0.28)"}),t.jsx("stop",{offset:"100%",stopColor:"rgba(92, 139, 198, 0)"})]})}),r&&g&&t.jsx("path",{d:g,className:"player-profile__trend-area",fill:`url(#${c})`}),p&&t.jsx("path",{d:p,className:"player-profile__trend-line",fill:"none"}),x.map((S,C)=>t.jsx("circle",{cx:S.x,cy:S.y,r:4,className:"player-profile__trend-dot"},`dot-${C}`)),a&&t.jsx("g",{className:"player-profile__trend-xlabels",children:_.map((S,C)=>t.jsx("text",{x:S.x,y:_f-8,textAnchor:"middle",children:S.text},`lbl-${C}`))})]})}const N0=s=>s==null?"-":s.toLocaleString("de-DE");function VZ({title:s,subtitle:e,badgeLabel:n="Line + Avg marker",series:r,className:i}){const{latest:a,start:l,delta:c,deltaPct:u,avg:h,xLabels:p}=E.useMemo(()=>{const x=Array.isArray(r.points)?r.points:[],b=x.length?x[x.length-1]:null,_=x.length?x[0]:null,S=b!=null&&_!=null?b-_:null,C=S!=null&&_&&Math.abs(_)>0?S/_*100:null,A=x.length?x.reduce((j,y)=>j+y,0)/x.length:null,M=x.map((j,y)=>`t${y}`);return{latest:b,start:_,delta:S,deltaPct:C,avg:A,xLabels:M}},[r.points]),g=u!=null?`${u>=0?"+":""}${u.toFixed(1)}%`:c!=null?`${c>=0?"+":""}${c.toLocaleString("de-DE")}`:"+0";return t.jsxs("article",{className:`anchored-card ${i!=null?i:""}`.trim(),children:[t.jsxs("header",{className:"anchored-card__header",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"anchored-card__title",children:[s,n&&t.jsx("span",{className:"anchored-card__badge",children:n})]}),e&&t.jsx("div",{className:"anchored-card__subtitle",children:e})]}),t.jsxs("div",{className:"anchored-card__delta anchored-card__delta--up","aria-label":"Delta",children:[" ",g]})]}),t.jsx("div",{className:"anchored-card__chart",children:t.jsx(OZ,{points:r.points,avgValue:h,showAvg:!0,showDots:!0,showFill:!0,showXLabels:!0})}),t.jsxs("footer",{className:"anchored-card__footer",children:[t.jsxs("div",{className:"anchored-card__kpis",children:[t.jsxs("div",{className:"anchored-card__kpi",children:[t.jsx("strong",{children:N0(a)}),t.jsx("span",{children:"Base Stats (latest)"})]}),t.jsxs("div",{className:"anchored-card__kpi",children:[t.jsx("strong",{children:N0(l)}),t.jsx("span",{children:"Server  marker"})]}),t.jsxs("div",{className:"anchored-card__pill anchored-card__pill--up",children:[" ",N0(c)]})]}),t.jsxs("div",{className:"anchored-card__legend",children:[t.jsxs("span",{children:[t.jsx("span",{className:"anchored-card__dot"})," Player"]}),t.jsxs("span",{children:[t.jsx("span",{className:"anchored-card__dot anchored-card__dot--muted"})," Average marker"]})]})]})]})}function UZ({data:s}){return t.jsxs("div",{className:"player-profile__tab-panel",children:[t.jsx("div",{className:"player-profile__grid",children:s.summary.map(e=>t.jsxs("article",{className:"player-profile__card",children:[t.jsx("div",{className:"player-profile__card-label",children:e.label}),t.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&t.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),t.jsxs("div",{className:"player-profile__section",children:[t.jsxs("header",{className:"player-profile__section-head",children:[t.jsx("h3",{children:"Attribute"}),t.jsx("span",{children:"Basis vs. Gesamt"})]}),t.jsx("div",{className:"player-profile__attr-grid",children:s.attributes.map(e=>t.jsxs("div",{className:"player-profile__attr-card",children:[t.jsxs("div",{children:[t.jsx("div",{className:"player-profile__attr-label",children:e.label}),t.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&t.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),t.jsxs("div",{className:"player-profile__split",children:[t.jsxs("div",{className:"player-profile__section",children:[t.jsx("header",{className:"player-profile__section-head",children:t.jsx("h3",{children:"Resistenzen"})}),t.jsx("ul",{className:"player-profile__list",children:s.resistances.map(e=>t.jsxs("li",{children:[t.jsx("span",{children:e.label}),t.jsx("strong",{children:e.value})]},e.label))})]}),t.jsxs("div",{className:"player-profile__section",children:[t.jsx("header",{className:"player-profile__section-head",children:t.jsx("h3",{children:"konomie"})}),t.jsx("ul",{className:"player-profile__list",children:s.resources.map(e=>t.jsxs("li",{children:[t.jsx("span",{children:e.label}),t.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function zZ({items:s}){return t.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:s.map(e=>t.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[t.jsxs("div",{className:"player-profile__progress-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"player-profile__card-label",children:e.label}),t.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),t.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),t.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:t.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&t.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function HZ({series:s}){return t.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:s.map(e=>{var n;return t.jsx(VZ,{title:e.label,subtitle:(n=e.subLabel)!=null?n:"Looks natural even when the values are high (no 0-baseline).",series:e},e.label)})})}function GZ({rows:s}){return t.jsxs("div",{className:"player-profile__tab-panel",children:[t.jsx("div",{className:"player-profile__section-head",children:t.jsx("h3",{children:"Serververgleich"})}),t.jsx("div",{className:"player-profile__comparison-wrapper",children:t.jsxs("table",{className:"player-profile__comparison",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Kategorie"}),t.jsx("th",{children:"Spieler"}),t.jsx("th",{children:"Cluster"}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:s.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:e.label}),t.jsx("td",{children:e.playerValue}),t.jsx("td",{children:e.benchmark}),t.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function WZ({entries:s}){return t.jsx("div",{className:"player-profile__tab-panel",children:t.jsx("ol",{className:"player-profile__timeline",children:s.map(e=>t.jsxs("li",{children:[t.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),t.jsxs("div",{className:"player-profile__timeline-card",children:[t.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),t.jsx("div",{className:"player-profile__timeline-title",children:e.title}),t.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}const KZ={genderName:"male",class:1,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:1,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},ri=(s,e,n=0)=>{if(!Array.isArray(s)||e<0)return n;const r=s[e],i=typeof r=="number"?r:Number(r);return Number.isFinite(i)?i:n},qZ=s=>{switch(s){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}};function kC(s){const e=ri(s,18),n=ri(s,21),r=ri(s,25),i=ri(s,705),a=ri(s,28)&255,l=Math.floor(e/100),c=Math.max(l,1),u=Math.floor(e/100);return{...KZ,genderName:a===1?"female":"male",class:ri(s,29)&65535,race:ri(s,27)&65535,mouth:ri(s,17),hair:Math.max(e%100,0),brows:Math.max(ri(s,19)%100,0),eyes:ri(s,20),beard:Math.max(n%100,0),nose:ri(s,22),ears:ri(s,23),extra:ri(s,24),horn:Math.max(r%100,0),special:Math.min(ri(s,26),0),hairColor:c,hornColor:a===1?1:u===0?c:u,frame:qZ(i)}}function QZ(s){return typeof s!="string"||!s.trim()?[]:s.split("/").map(e=>{const n=Number(e.trim());return Number.isFinite(n)?n:0})}const YZ={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},Ns=(s,e=0)=>{const n=typeof s=="number"?s:Number(s);return Number.isFinite(n)?n:e},XZ=s=>s&&typeof s=="object"&&Object.values(s).some(e=>e!=null),CC=s=>{if(typeof s!="string")return[];const e=s.trim();if(!e)return[];const n=e.toLowerCase().replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"");return n?[n]:[]},Nh=new Map,IC="avatar-cache:",JZ=1440*60*1e3,ZZ=async(s,e,n,r)=>{var M,j;const i=Number(s),a=String(s!=null?s:"").trim(),l=(M=CC(e)[0])!=null?M:"",c=typeof n=="string"&&n.trim()?n.trim():"",h=(y=>{if(!y)return"";const w=y.trim().toLowerCase();if(!w)return"";const P=w.split("/").filter(Boolean).pop()||w,[N,...k]=P.split("__"),T=k.join("__");if(N&&T){const L=CC(T)[0];if(L)return`${N}__${L}`}return a&&l?`${a}__${l}`:P.replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"")})(c)||(a&&l?`${a}__${l}`:"");if(!h)return null;const g=(()=>{var y;if(Nh.has(h))return(y=Nh.get(h))!=null?y:null;try{const w=typeof window!="undefined"?window.localStorage.getItem(`${IC}${h}`):null;if(!w)return null;const P=JSON.parse(w);return!(P!=null&&P.data)||typeof P.savedAt!="number"||!(Date.now()-P.savedAt<JZ)?null:P.data}catch(w){return null}})();if(g)return Nh.set(h,g),g;const x=await Lo(r!=null?r:null,rs(yt,"linked_players","avatars","avatars",h),()=>_n(rs(yt,"linked_players","avatars","avatars",h)));if(!x.exists())return Nh.set(h,null),null;const b=x.data(),_=(b==null?void 0:b.portrait)||{},S=XZ(_),C={genderName:(_==null?void 0:_.genderName)==="female"?"female":"male",classId:Ns(_==null?void 0:_.classId),raceId:Ns(_==null?void 0:_.raceId),mouth:Ns(_==null?void 0:_.mouth),hair:Ns(_==null?void 0:_.hair),hairColor:Ns(_==null?void 0:_.hairColor),horn:Ns(_==null?void 0:_.horn),hornColor:Ns(_==null?void 0:_.hornColor),brows:Ns(_==null?void 0:_.brows),eyes:Ns(_==null?void 0:_.eyes),beard:Ns(_==null?void 0:_.beard),nose:Ns(_==null?void 0:_.nose),ears:Ns(_==null?void 0:_.ears),extra:Ns(_==null?void 0:_.extra),special:Ns(_==null?void 0:_.special),frameId:Ns(_==null?void 0:_.frameId),frame:typeof(_==null?void 0:_.frame)=="string"?_.frame:void 0,background:typeof(_==null?void 0:_.background)=="string"?_.background:void 0,showBorder:typeof(_==null?void 0:_.showBorder)=="boolean"?_.showBorder:void 0,mirrorHorizontal:typeof(_==null?void 0:_.mirrorHorizontal)=="boolean"?_.mirrorHorizontal:void 0},A={playerId:Ns(b==null?void 0:b.playerId,i),server:typeof(b==null?void 0:b.server)=="string"?b.server:e,portrait:C,updatedAt:(j=b==null?void 0:b.updatedAt)!=null?j:null,hasPortraitData:S};if(Nh.set(h,A),typeof window!="undefined")try{window.localStorage.setItem(`${IC}${h}`,JSON.stringify({data:A,savedAt:Date.now()}))}catch(y){}return A},eee=s=>{switch(s){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}},tee=["","goldenFrame","twitchFrame","zenFrame","silverFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"],see=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],nee=(s,e)=>{const n=(s==null?void 0:s.portrait)||{},r={...YZ,...e||{}},i=eee(Ns(n.frameId,0)),a=typeof n.frame=="string"&&tee.includes(n.frame)?n.frame:"",l=typeof n.background=="string"&&see.includes(n.background)?n.background:r.background;return{...r,genderName:n.genderName==="female"?"female":r.genderName,class:Ns(n.classId,r.class),race:Ns(n.raceId,r.race),mouth:Ns(n.mouth,r.mouth),hair:Ns(n.hair,r.hair),hairColor:Ns(n.hairColor,r.hairColor),horn:Ns(n.horn,r.horn),hornColor:Ns(n.hornColor,r.hornColor),brows:Ns(n.brows,r.brows),eyes:Ns(n.eyes,r.eyes),beard:Ns(n.beard,r.beard),nose:Ns(n.nose,r.nose),ears:Ns(n.ears,r.ears),extra:Ns(n.extra,r.extra),special:Ns(n.special,r.special),frame:i||a||r.frame||"",background:l,showBorder:typeof n.showBorder=="boolean"?n.showBorder:r.showBorder,mirrorHorizontal:typeof n.mirrorHorizontal=="boolean"?n.mirrorHorizontal:r.mirrorHorizontal}},ree=["Statistiken","Charts","Fortschritt","Vergleich","Historie"],iee="player-profile-cache:",aee=900*1e3,oee="playerProfile:charts:monthly3:",lee=720*60*1e3,O4=3,k0="Last 3 months",a_="history_monthly",V4=["honor","ehre","honour","honorpoints","ehrepunkte"],U4=[{key:"str",label:"Strke",base:["Base Strength","Strke","basestrength"],total:["Strength"]},{key:"dex",label:"Geschick",base:["Base Dexterity","Geschick","basedexterity"],total:["Dexterity"]},{key:"int",label:"Intelligenz",base:["Base Intelligence","Intelligenz","baseintelligence"],total:["Intelligence"]},{key:"con",label:"Konstitution",base:["Base Constitution","Konstitution","baseconstitution"],total:["Constitution"]},{key:"lck",label:"Glck",base:["Base Luck","Glck","baseluck"],total:["Luck"]}];function cee(){const s=bv(),e=s.id||s.pid||s.playerId||s.player||"",n=oi(),[r,i]=E.useState(!0),[a,l]=E.useState(null),[c,u]=E.useState(null),[h,p]=E.useState("Statistiken"),[g,x]=E.useState(null),[b,_]=E.useState(null),[,S]=E.useState(!1),[,C]=E.useState(null),[A,M]=E.useState(null),j=E.useRef(!1),y=E.useRef(null),w=E.useRef(null),P=E.useRef(null),N=E.useRef(null);E.useEffect(()=>{let H=!1;const z=Xn("PlayerProfile:load");async function W(){var X,U,J,se,ne,ue,we,Me,ee,ge,oe,ye,je,ke,qe,me,Ie,Xe,it,Nt,be,De,Ee,at,mt,Ve,Se,We,_t,Ot,Rs;i(!0),l(null);const G=`${iee}${e}`,te=(()=>{try{const ms=typeof window!="undefined"?window.localStorage.getItem(G):null;if(!ms)return null;const gs=JSON.parse(ms);return!(gs!=null&&gs.data)||typeof gs.timestamp!="number"||!(Date.now()-gs.timestamp<aee)?null:{data:gs.data,timestamp:gs.timestamp,version:typeof gs.version=="number"?gs.version:null}}catch(ms){return null}})();if(te){u(te.data),hn(z),i(!1);return}try{const ms=(e||"").trim();if(!ms)throw new Error("Kein Spieler ausgewhlt.");const gs=rs(yt,`players/${ms}/latest/latest`),Js=await Lo(z,gs,()=>_n(gs));if(!Js.exists())throw new Error("Spieler nicht gefunden.");const It=(X=Js.data())!=null?X:{},Ne=typeof It.values=="object"&&It.values?It.values:{};It.timestampRaw!=null&&Ne.timestampRaw==null&&(Ne.timestampRaw=It.timestampRaw);const mn=Array.isArray(It.save)&&It.save||Array.isArray(Ne==null?void 0:Ne.save)&&Ne.save||Array.isArray(It.saveArray)&&It.saveArray||Array.isArray(Ne==null?void 0:Ne.saveArray)&&Ne.saveArray||void 0,Zt=typeof It.save=="string"&&It.save||typeof(Ne==null?void 0:Ne.save)=="string"&&Ne.save||typeof It.saveString=="string"&&It.saveString||typeof(Ne==null?void 0:Ne.saveString)=="string"&&Ne.saveString||void 0,Z=(J=Ur((U=It.level)!=null?U:Ne==null?void 0:Ne.Level))!=null?J:null,ze=((ne=(se=It.className)!=null?se:Ne==null?void 0:Ne.Class)!=null?ne:null)||null,Je=((we=(ue=It.guildName)!=null?ue:Ne==null?void 0:Ne.Guild)!=null?we:null)||null,lt=Ne["Guild Identifier"],tt=typeof lt=="string"&&lt.trim()||null,Et=Ne["Guild Joined"],cs=typeof Et=="string"&&Et.trim()||null,Ws=(ee=(Me=It.name)!=null?Me:Ne==null?void 0:Ne.Name)!=null?ee:ms,gn=(oe=(ge=It.server)!=null?ge:Ne==null?void 0:Ne.Server)!=null?oe:null,Ln=typeof gn=="string"?gn.trim().toLowerCase().replace(/\./g,"_"):"",Zs=(qe=(ke=(je=(ye=It.avatarIdentifier)!=null?ye:It.identifier)!=null?je:Ne==null?void 0:Ne.avatarIdentifier)!=null?ke:Ne==null?void 0:Ne.identifier)!=null?qe:Ln?`${ms}__${Ln}`:null,Ts=(Ie=Ur((me=It.totalStats)!=null?me:Ne==null?void 0:Ne["Total Stats"]))!=null?Ie:null,_s=(_t=(We=(Se=(Ve=(mt=(at=(Ee=(De=(be=(Nt=(it=(Xe=It.scrapbookPct)!=null?Xe:It.scrapbook)!=null?it:Ne==null?void 0:Ne.scrapbookPct)!=null?Nt:Ne==null?void 0:Ne.scrapbook)!=null?be:Ne==null?void 0:Ne["Scrapbook %"])!=null?De:Ne==null?void 0:Ne.Scrapbook)!=null?Ee:Ne==null?void 0:Ne.Album)!=null?at:Ne==null?void 0:Ne["Album %"])!=null?mt:Ne==null?void 0:Ne.AlbumPct)!=null?Ve:Ne==null?void 0:Ne.AlbumPercent)!=null?Se:Ne==null?void 0:Ne.AlbumPercentage)!=null?We:Ne==null?void 0:Ne.AlbumCompletion)!=null?_t:Ne==null?void 0:Ne.AlbumProgress,er=(Ot=Ur(_s))!=null?Ot:null,fn=(Rs=Ur(It.timestamp))!=null?Rs:Ur(Ne==null?void 0:Ne.timestamp),Cr=z4(fn),Ir=typeof It.portrait=="object"?It.portrait:typeof It.portraitOptions=="object"?It.portraitOptions:typeof(Ne==null?void 0:Ne.portraitOptions)=="object"?Ne.portraitOptions:void 0,Tr={id:ms,name:Ws,className:ze,level:Z,guild:Je,guildIdentifier:tt,guildJoined:cs,server:gn,avatarIdentifier:Zs,scrapbookPct:er,totalStats:Ts,lastScanDays:Cr,values:Ne,portraitConfig:Ir,saveArray:mn,saveString:Zt};if(typeof window!="undefined")try{window.localStorage.setItem(G,JSON.stringify({data:Tr,timestamp:Date.now(),version:fn!=null?fn:null}))}catch(Bn){}H||u(Tr)}catch(ms){H||(u(null),l((ms==null?void 0:ms.message)||"Unbekannter Fehler beim Laden."))}finally{hn(z),H||i(!1)}}return W(),()=>{H=!0}},[e]),E.useEffect(()=>{M(null),j.current=!1,y.current=null,w.current=null},[e,c==null?void 0:c.server]),E.useEffect(()=>{P.current=A},[A]);const k=H=>{p(H)};E.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]),E.useEffect(()=>{let H=!1;return(async()=>{var K,te;const W=Xn("PlayerProfile:avatar");if(!(c!=null&&c.id)){_(null),S(!1),C(null),hn(W);return}const G=Ur(c.id);if(G==null){_(null),S(!1),C(null),hn(W);return}S(!0),C(null);try{const X=await ZZ(G,(K=c.server)!=null?K:"",(te=c.avatarIdentifier)!=null?te:void 0,W);H||_(X)}catch(X){H||(_(null),C(X instanceof Error?X:new Error("AvatarSnapshot failed")))}finally{hn(W),H||S(!1)}})(),()=>{H=!0}},[c==null?void 0:c.id,c==null?void 0:c.server]),E.useEffect(()=>{if(h!=="Charts"||!(c!=null&&c.id))return;const H=`${G4(c.server)}:${c.id}`;if(j.current||w.current===H&&y.current&&P.current)return;const z=uee(c.id,c.server),W=pee(z);if(W){const X=T0(W.months);M(U=>{const J=Vg(U,X);return J||console.log(`[charts] load set from cache key=${H} months=${W.months.length}`),J?U:X}),P.current=T0(W.months),y.current="cache",w.current=H;return}let G=!1;j.current=!0,console.log(`[charts] load start key=${H} source=firestore`);const K=Xn("PlayerProfile:charts");return(async()=>{try{const X=qa(yt,`players/${c.id}/history_monthly`),U=Pn(X,Si(Vb(),"desc"),Qn(3)),se=(await pn(K,{path:X.path},()=>rn(U))).docs.map(ue=>hee(ue)).filter(ue=>!!ue);if(!se.length){if(wf(z),!G){const ue=TC(c);P.current=ue,y.current="fallback",w.current=H,M(we=>Vg(we,ue)?we:ue),console.log(`[charts] load done key=${H} months=0 (fallback)`)}return}const ne=T0(se);G||(P.current=ne,y.current="monthly",w.current=H,M(ue=>Vg(ue,ne)?ue:ne),mee(z,se),console.log(`[charts] load done key=${H} months=${se.length}`))}catch(X){if(!G){const U=TC(c);P.current=U,y.current="fallback",w.current=H,M(J=>Vg(J,U)?J:U),console.log(`[charts] load error key=${H}`,X)}}finally{j.current=!1,hn(K)}})(),()=>{G=!0}},[h,c==null?void 0:c.id,c==null?void 0:c.server]);const T=E.useMemo(()=>c?vee(c,b,A):null,[c,b,A]),L=E.useCallback(H=>{x(H),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>x(null),3500)},[]),R=E.useCallback(async H=>{if(c){if(H==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const z=`${window.location.origin}/players/profile/${c.id}`;try{await navigator.clipboard.writeText(z),L("Profil-Link wurde kopiert.")}catch(W){L("Konnte Link nicht kopieren.")}}return}if(H==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:c.name,text:`Shakes & Fidget Charakter ${c.name}`,url:window.location.href}),L("Profil geteilt.")}catch(z){L("Teilen abgebrochen.")}return}if(H==="guild"){c.guildIdentifier&&n(`/guild/${c.guildIdentifier}`);return}if(H==="rescan"){L("Rescan-Queue folgt aktuell noch Platzhalter.");return}}},[n,L,c]),$=()=>{if(!T)return null;switch(h){case"Statistiken":return t.jsx(UZ,{data:T.stats});case"Charts":return t.jsx(HZ,{series:T.charts});case"Fortschritt":return t.jsx(zZ,{items:T.progress});case"Vergleich":return t.jsx(GZ,{rows:T.comparison});case"Historie":return t.jsx(WZ,{entries:T.history});default:return null}},B=()=>t.jsxs("div",{className:"player-profile__loading",children:[t.jsx("p",{children:a!=null?a:"Spieler nicht gefunden."}),t.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return t.jsxs("div",{className:"player-profile",children:[r&&!c&&t.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!c||!T)&&B(),T&&t.jsxs(t.Fragment,{children:[t.jsx(DZ,{data:T.hero,loading:r,onAction:R}),t.jsx(dee,{message:g}),t.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:ree.map(H=>{const z=h===H;return t.jsx("button",{type:"button",role:"tab","aria-selected":z,className:`player-profile__tab-button ${z?"player-profile__tab-button--active":""}`,onClick:()=>k(H),children:H},H)})}),$()]})]})}const dee=Q.memo(({message:s})=>s?t.jsx("p",{className:"player-profile__hero-feedback",role:"status","aria-live":"polite",children:s}):null),Ur=s=>{if(s==null||s==="")return null;if(typeof s=="number")return Number.isFinite(s)?s:null;const e=String(s).trim(),n=e.startsWith("-")?-1:1,r=e.replace(/^[+-]/,"").replace(/[\s%]/g,""),i=r.lastIndexOf(","),a=r.lastIndexOf("."),l=Math.max(i,a);let c="";if(l>-1){const h=r.slice(l+1).replace(/[^0-9]/g,""),p=r.slice(0,l).replace(/[^0-9]/g,"");h.length>0&&h.length<=2?c=`${p}.${h}`:c=(p+h).replace(/[^0-9]/g,"")}else c=r.replace(/[^0-9]/g,"");if(!c)return null;const u=Number(c)*n;return Number.isFinite(u)?u:null},z4=s=>{if(!s)return null;const e=Date.now()/1e3,n=Math.max(0,e-s);return Math.floor(n/86400)},C0=s=>s.toLowerCase().replace(/[^a-z0-9]/g,""),H4=s=>{const e=new Map;return Object.entries(s||{}).forEach(([n,r])=>e.set(C0(n),r)),{number(n,r=null){for(const i of n){const a=Ur(e.get(C0(i)));if(a!=null)return a}return r},text(n,r=null){for(const i of n){const a=e.get(C0(i));if(a!=null&&String(a).trim())return String(a).trim()}return r}}},G4=s=>typeof s!="string"?"unknown":s.trim().toLowerCase().replace(/\./g,"_")||"unknown",uee=(s,e)=>`${oee}${G4(e)}:${s}`,Co=s=>typeof s=="number"&&Number.isFinite(s)?s:0,I0=(s,e=3)=>{var r;const n=s.map(i=>Number.isFinite(i)?i:0);for(n.length||n.push(0);n.length<e;)n.unshift((r=n[0])!=null?r:0);return n.slice(-e)},rv=(s,e,n)=>[{label:"Level Verlauf",points:I0(s),unit:"",subLabel:k0},{label:"Total Stats",points:I0(e),unit:"",subLabel:k0},{label:"Honor",points:I0(n),unit:"",subLabel:k0}],W4=s=>{const e=H4(s||{}),n=e.number(["level"]),r=e.number(V4);let a=e.number(["totalstats","stats"]);if(a==null){let l=0,c=0;U4.forEach(u=>{var p;const h=(p=e.number(u.total))!=null?p:e.number(u.base);h!=null&&(l+=h,c++)}),a=c?l:null}return{level:n,totalStats:a,honor:r}},T0=s=>{if(!s.length)return rv([],[],[]);const e=[...s].sort((a,l)=>a.monthId.localeCompare(l.monthId)),n=e.map(a=>Co(a.values.level)),r=e.map(a=>Co(a.values.totalStats)),i=e.map(a=>Co(a.values.honor));return rv(n,r,i)},Vg=(s,e)=>{if(s===e)return!0;if(!s||!e||s.length!==e.length)return!1;for(let n=0;n<s.length;n++){if(s[n].label!==e[n].label||s[n].unit!==e[n].unit||s[n].subLabel!==e[n].subLabel||s[n].points.length!==e[n].points.length)return!1;for(let r=0;r<s[n].points.length;r++)if(s[n].points[r]!==e[n].points[r])return!1}return!0},hee=s=>{var i,a,l;const e=typeof s.data=="function"?s.data():{},n=e!=null&&e.values&&typeof e.values=="object"?e.values:{},r=typeof(e==null?void 0:e.monthId)=="string"&&e.monthId?e.monthId:s.id;return r?{monthId:r,lastTs:(l=Ur((a=(i=e==null?void 0:e.lastTs)!=null?i:e==null?void 0:e.lastTimestamp)!=null?a:e==null?void 0:e.lastTimestampRaw))!=null?l:null,values:W4(n)}:null},wf=s=>{if(typeof window!="undefined")try{window.localStorage.removeItem(s)}catch(e){}},pee=s=>{if(typeof window=="undefined")return null;try{const e=window.localStorage.getItem(s);if(!e)return null;const n=JSON.parse(e),r=(n==null?void 0:n.source)===a_,i=typeof n.fetchedAt=="number"&&n.version===O4,a=i&&Date.now()-n.fetchedAt<=lee,l=Array.isArray(n.months)?n.months:null;if(!r||!i||!a||!l)return wf(s),null;const c=l.map(u=>{var h,p,g,x,b,_;return!u||typeof u.monthId!="string"?null:{monthId:u.monthId,lastTs:typeof u.lastTs=="number"?u.lastTs:null,values:{level:(p=Ur((h=u.values)==null?void 0:h.level))!=null?p:null,totalStats:(x=Ur((g=u.values)==null?void 0:g.totalStats))!=null?x:null,honor:(_=Ur((b=u.values)==null?void 0:b.honor))!=null?_:null}}}).filter(u=>!!u);return c.length<1?(wf(s),null):{fetchedAt:n.fetchedAt,version:n.version,source:a_,months:c}}catch(e){return wf(s),null}},mee=(s,e)=>{if(typeof window=="undefined"||e.length<1)return;const n={fetchedAt:Date.now(),version:O4,source:a_,months:e.map(r=>{var i,a,l;return{monthId:r.monthId,lastTs:r.lastTs,values:{level:(i=r.values.level)!=null?i:null,totalStats:(a=r.values.totalStats)!=null?a:null,honor:(l=r.values.honor)!=null?l:null}}})};try{window.localStorage.setItem(s,JSON.stringify(n))}catch(r){}},TC=s=>{var r,i,a,l,c;const e=W4(s.values||{}),n={level:(i=(r=e.level)!=null?r:s.level)!=null?i:null,totalStats:(l=(a=e.totalStats)!=null?a:s.totalStats)!=null?l:null,honor:(c=e.honor)!=null?c:null};return rv([Co(n.level)],[Co(n.totalStats)],[Co(n.honor)])},gee=s=>{let e=2166136261;for(let n=0;n<s.length;n++)e^=s.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Hn=(s,e="-")=>s==null?e:s.toLocaleString("de-DE"),jf=s=>{if(s==null)return"-";const e=Math.floor(s*100)/100,n=e%1!==0;return`${e.toLocaleString("de-DE",{minimumFractionDigits:n?2:0,maximumFractionDigits:2})}%`},EC=s=>s==null?null:s===0?"heute":`${s} Tag${s===1?"":"e"} her`,AC=s=>{if(s==null)return null;const e=new Date(s*1e3);if(Number.isNaN(e.getTime()))return null;const n=r=>String(r).padStart(2,"0");return`${n(e.getDate())}.${n(e.getMonth()+1)}.${e.getFullYear()} ${n(e.getHours())}:${n(e.getMinutes())}`},fee=(s,e)=>{let n;const r=s.portraitConfig&&Object.keys(s.portraitConfig).length>0;if(Array.isArray(s.saveArray)&&s.saveArray.length>0)n=kC(s.saveArray);else if(s.saveString){const i=QZ(s.saveString);n=i.length>0?kC(i):void 0}else r&&(n={...s.portraitConfig});return e!=null&&e.hasPortraitData?{config:nee(e,n),hasData:!0}:n?{config:n,hasData:!0}:{config:void 0,hasData:!1}},vee=(s,e,n)=>{var Nt,be,De,Ee,at,mt,Ve,Se,We,_t,Ot,Rs,ms,gs,Js,It,Ne,mn,Zt;const r=s.values||{},i=H4(r),a=gee(s.id),l=fee(s,e),c=NE((Nt=s.className)!=null?Nt:void 0),u=li(c.url,420)||"/assets/demo-avatar-special.png",h=s.className?`Klassenbild ${s.className}`:"Portrait-Platzhalter",p=["album","album%","albumpct","albumpercent","albumpercentage","albumcompletion","albumprogress","scrapbook","scrapbook%","scrapbookpct","scrapbookpercent"],g=V4,x=["hofrank","halloffamerank","hofposition","halloffameposition","hofplatz","halloffame","hof"],b=["mount","reittier","mountname"],_=["mountpct","mountpercent","mountpercentage","mountspeed","mountbonus","mountvalue"],S=["guildrole","role","guildrank","gildenrolle"],C=(be=s.level)!=null?be:i.number(["level"]),A=(De=s.scrapbookPct)!=null?De:i.number(p),M=i.number(g),j=(Ee=s.totalStats)!=null?Ee:i.number(["totalstats","stats"]),y=U4,w={str:0,dex:0,int:0,con:0,lck:0},P={str:0,dex:0,int:0,con:0,lck:0};let N=!1,k=!1;y.forEach(Z=>{const ze=i.number(Z.base);ze!=null&&(w[Z.key]=ze,N=!0);const Je=i.number(Z.total);Je!=null&&(P[Z.key]=Je,k=!0)});const T=N?Object.values(w).reduce((Z,ze)=>Z+ze,0):null,L=A!=null?A:null,R=(at=i.number(["fortresslevel","fortress"]))!=null?at:Math.round(a()*20)+30,$=(mt=i.number(["underworld","underworldlevel"]))!=null?mt:Math.round(a()*10)+20,B=(Ve=i.number(["tower","towerfloor"]))!=null?Ve:Math.round(a()*90)+10,H=(Se=i.number(["pets","petprogress"]))!=null?Se:Math.round(a()*50)+25,z=(C!=null?C:0)*1200+(T!=null?T:0)+Math.round((A!=null?A:0)*3200),W=i.text(b),G=W&&/[a-zA-Z]/.test(W)||W&&/%/.test(W)?W:null,K=(ms=(Rs=(Ot=(_t=(We=r==null?void 0:r["Mount %"])!=null?We:r==null?void 0:r["mount %"])!=null?_t:r==null?void 0:r.MountPct)!=null?Ot:r==null?void 0:r.mountPct)!=null?Rs:r==null?void 0:r.MountBonus)!=null?ms:r==null?void 0:r.mountBonus,te=(gs=Ur(K))!=null?gs:i.number(_),X=G?Ur((G.match(/(\d+)\s*%/)||[])[1]):null,U=te!=null?te:X;let J="-";G?J=U!=null&&!/%/.test(G)?`${G} (${Math.round(U)}%)`:G:U!=null&&(J=`${Math.round(U)}%`);const se=i.text(S),ne=Ur(r==null?void 0:r.Rank),ue=ne!=null?ne:i.number(x),we=i.text(["timestampraw"]),Me=i.number(["timestamp"]),ee=we&&/^\s*\d+\s*$/.test(we)?(Js=AC(Ur(we)))!=null?Js:we:(It=we!=null?we:AC(Me))!=null?It:"-",ge=(Ne=s.lastScanDays)!=null?Ne:Me!=null?z4(Me):null,oe=[{label:"Last Scan",value:ee},{label:"Level",value:C!=null?`Lvl ${Hn(C)}`:"-"},{label:"Scrapbook",value:jf(L)},{label:"Total Base Stats",value:T!=null?Hn(T):"-"}],ye=[{label:"Mount",value:J!=null?J:"-",tone:"neutral"},{label:"Honor",value:Hn(M),tone:"success"},{label:"Gildenrolle",value:se!=null?se:"-",tone:"warning"},{label:"HoF",value:ue!=null?`#${Hn(ue)}`:"-",tone:"neutral"}],je=N?w:void 0,ke={playerName:s.name,className:s.className,guild:s.guild,server:s.server,guildIdentifier:s.guildIdentifier,guildJoined:s.guildJoined,levelLabel:C?`Level ${Hn(C)}`:void 0,lastScanLabel:(mn=EC(ge))!=null?mn:void 0,lastScanAtLabel:ee!=="-"?ee:void 0,lastScanDays:ge,status:ge!=null&&ge<=2?"online":"offline",metrics:oe,badges:ye,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!s.guildIdentifier,title:s.guildIdentifier?void 0:"No guild linked in latest scan."},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:l.hasData?l.config:void 0,hasPortrait:l.hasData,portraitFallbackUrl:u,portraitFallbackLabel:h,baseStats:je,totalStats:k?P:void 0},qe={summary:[{label:"Power Score",value:Hn(z),hint:"Level * SumBase"},{label:"Honor",value:Hn(M)},{label:"HoF Platz",value:ue?`#${Hn(ue)}`:"-"},{label:"Letzter Scan",value:(Zt=EC(ge))!=null?Zt:"-"}],attributes:y.map(Z=>({label:Z.label,baseLabel:Hn(i.number(Z.base)),totalLabel:i.number(Z.total)!=null?`Gesamt ${Hn(i.number(Z.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(a()*40+40)}%`},{label:"Schatten",value:`${Math.round(a()*40+35)}%`},{label:"Frost",value:`${Math.round(a()*30+30)}%`},{label:"Licht",value:`${Math.round(a()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Hn(Math.round((C!=null?C:1)*(a()*8+3)))}k`},{label:"XP/h",value:`${Hn(Math.round((C!=null?C:1)*(a()*5+2)))}k`},{label:"Mount Bonus",value:J},{label:"Quest Slots",value:`${Math.round(a()*2)+3}`}]},me=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(L!=null?L:0)/100),targetLabel:`${jf(L)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:L!=null&&L>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,B/100),targetLabel:`Ebene ${Math.round(B)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudebau",progress:Math.min(1,R/25),targetLabel:`Lvl ${Math.round(R)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,$/30),targetLabel:`Lvl ${Math.round($)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,H/100),targetLabel:`${Math.round(H)} / 100`,meta:"Habitate offen"}],Ie=n!=null?n:rv([Co(C)],[Co(j)],[Co(M)]),Xe=[{label:"Level",playerValue:C?`Lvl ${Hn(C)}`:"-",benchmark:C?`Lvl ${Hn(Math.round(C*.92))}`:"-",diffLabel:C?`+${Math.round(C*.08)}`:"-",trend:"up"},{label:"Power Score",playerValue:Hn(z),benchmark:Hn(Math.round(z*.9)),diffLabel:`+${Hn(Math.round(z*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:jf(L),benchmark:`${Math.min(100,Math.round((L!=null?L:60)-8))}%`,diffLabel:L!=null?`+${Math.round(L-60)}%`:"-",trend:L!=null&&L>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(R)}`,benchmark:`Lvl ${Math.round(R-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round($)}`,benchmark:`Lvl ${Math.round($-2)}`,diffLabel:"+2",trend:"neutral"}],it=xee(s,i,a);return{hero:ke,stats:qe,progress:me,charts:Ie,comparison:Xe,history:it}},xee=(s,e,n)=>{var l,c;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:s.guild?`Joined ${s.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const a=e.text(["lastdungeon","lastfight"]);return a&&r.push({dateLabel:Ug(Math.round(n()*15)+5),title:"Dungeon Clear",description:a,tag:"Dungeon"}),r.push({dateLabel:Ug(2),title:"Level-Up",description:`Erreichte Level ${Hn(s.level)}`,tag:"Level"}),r.push({dateLabel:Ug(10),title:"Scrapbook Meilenstein",description:`${jf((l=s.scrapbookPct)!=null?l:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:Ug(18),title:"Festung",description:`Fortress Level ${Math.round((c=e.number(["fortress"],Math.round(n()*20+15)))!=null?c:0)}`,tag:"Festung"}),r},Ug=s=>new Date(Date.now()-s*864e5).toLocaleDateString("de-DE");function E0(){return t.jsx(Ht,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:t.jsx(cee,{})})}function ju(s,e=300){const[n,r]=Q.useState(s);return Q.useEffect(()=>{const i=window.setTimeout(()=>r(s),e);return()=>window.clearTimeout(i)},[s,e]),n}function Su(s){const e=Q.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(s).matches,[s]),[n,r]=Q.useState(()=>e());return Q.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(s),a=l=>r(l.matches);return r(i.matches),i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[s]),n}const yee='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function Nu(s,e){Q.useEffect(()=>{var l;if(!e)return;const n=s.current;if(!n)return;const r=()=>n.querySelectorAll(yee);(l=r()[0])==null||l.focus();const a=c=>{if(c.key!=="Tab")return;const u=r();if(u.length===0)return;const h=u[0],p=u[u.length-1];c.shiftKey?document.activeElement===h&&(c.preventDefault(),p.focus()):document.activeElement===p&&(c.preventDefault(),h.focus())};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[s,e])}const bee="_page_1jzf5_1",_ee="_header_1jzf5_13",wee="_headerStack_1jzf5_25",jee="_kicker_1jzf5_37",See="_title_1jzf5_53",Nee="_subtitle_1jzf5_65",kee="_headerActions_1jzf5_79",Cee="_secondaryAction_1jzf5_89",Iee="_infoStrip_1jzf5_131",Tee="_infoCard_1jzf5_143",Eee="_infoLabel_1jzf5_163",Aee="_inlineFilters_1jzf5_177",Pee="_filterField_1jzf5_197",Ree="_select_1jzf5_227",Lee="_searchInput_1jzf5_229",Dee="_layout_1jzf5_249",Mee="_selectionColumn_1jzf5_261",Fee="_selectionCard_1jzf5_273",$ee="_slotHeader_1jzf5_293",Bee="_slotLabel_1jzf5_307",Oee="_slotStatus_1jzf5_323",Vee="_clearButton_1jzf5_335",Uee="_slotBody_1jzf5_355",zee="_resultList_1jzf5_367",Hee="_emptyResult_1jzf5_385",Gee="_resultItem_1jzf5_397",Wee="_resultName_1jzf5_421",Kee="_resultMeta_1jzf5_433",qee="_selectButton_1jzf5_445",Qee="_selectedCard_1jzf5_465",Yee="_selectedName_1jzf5_479",Xee="_selectedMeta_1jzf5_489",Jee="_selectedTagline_1jzf5_491",Zee="_comparisonColumn_1jzf5_503",ete="_comparisonCard_1jzf5_515",tte="_comparisonHeader_1jzf5_535",ste="_sectionTitle_1jzf5_551",nte="_diffBadge_1jzf5_561",rte="_metricGrid_1jzf5_579",ite="_metricCard_1jzf5_591",ate="_metricLabel_1jzf5_611",ote="_metricValues_1jzf5_627",lte="_metricDivider_1jzf5_643",cte="_metricDelta_1jzf5_653",dte="_freshnessRow_1jzf5_665",ute="_freshnessItem_1jzf5_677",hte="_freshnessBadge_1jzf5_685",pte="_freshnessPopover_1jzf5_733",mte="_popoverTitle_1jzf5_757",gte="_classCard_1jzf5_807",fte="_classGrid_1jzf5_827",vte="_classColumn_1jzf5_837",xte="_classBar_1jzf5_857",yte="_classSlice_1jzf5_873",bte="_classLegend_1jzf5_907",_te="_emptyState_1jzf5_931",wte="_supportPanels_1jzf5_947",jte="_checklistCard_1jzf5_959",Ste="_infoCardExtended_1jzf5_961",Nte="_checklist_1jzf5_959",kte="_infoNote_1jzf5_1033",Cte="_sheetOverlay_1jzf5_1045",Ite="_sheetOpen_1jzf5_1073",Tte="_sheet_1jzf5_1045",Ete="_sheetHeader_1jzf5_1105",Ate="_sheetBody_1jzf5_1119",ce={page:bee,header:_ee,headerStack:wee,kicker:jee,title:See,subtitle:Nee,headerActions:kee,secondaryAction:Cee,infoStrip:Iee,infoCard:Tee,infoLabel:Eee,inlineFilters:Aee,filterField:Pee,select:Ree,searchInput:Lee,layout:Dee,selectionColumn:Mee,selectionCard:Fee,slotHeader:$ee,slotLabel:Bee,slotStatus:Oee,clearButton:Vee,slotBody:Uee,resultList:zee,emptyResult:Hee,resultItem:Gee,resultName:Wee,resultMeta:Kee,selectButton:qee,selectedCard:Qee,selectedName:Yee,selectedMeta:Xee,selectedTagline:Jee,comparisonColumn:Zee,comparisonCard:ete,comparisonHeader:tte,sectionTitle:ste,diffBadge:nte,metricGrid:rte,metricCard:ite,metricLabel:ate,metricValues:ote,metricDivider:lte,metricDelta:cte,freshnessRow:dte,freshnessItem:ute,freshnessBadge:hte,freshnessPopover:pte,popoverTitle:mte,classCard:gte,classGrid:fte,classColumn:vte,classBar:xte,classSlice:yte,classLegend:bte,emptyState:_te,supportPanels:wte,checklistCard:jte,infoCardExtended:Ste,checklist:Nte,infoNote:kte,sheetOverlay:Cte,sheetOpen:Ite,sheet:Tte,sheetHeader:Ete,sheetBody:Ate},K4=["Ari","Borin","Celeste","Doran","Lena","Nix"],Pte={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},kw={raid:"Raid",event:"Event",task:"Task"},Cw={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},PC={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},RC={urgent:4,high:3,medium:2,low:1},Rte={"7d":7,"30d":30,"90d":90,all:null},A0={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},Lte=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:fc(5,20),createdAt:Dr(2,14),updatedAt:Dr(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:Hg(3),nextUpdateAt:zg(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:fc(2,12),createdAt:Dr(4,9),updatedAt:Dr(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:Hg(8),nextUpdateAt:zg(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:fc(7,17),createdAt:Dr(1,10),updatedAt:Dr(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:Hg(22),nextUpdateAt:zg(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:Dr(1,19),createdAt:Dr(9,10),updatedAt:Dr(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:Dr(1,19),nextUpdateAt:fc(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:fc(12,18),createdAt:Dr(6,15),updatedAt:Dr(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:Hg(1),nextUpdateAt:zg(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:fc(18,13),createdAt:Dr(12,18),updatedAt:Dr(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:Dr(2,16),nextUpdateAt:fc(4,9)}];function fc(s,e=12){const n=new Date;return n.setDate(n.getDate()+s),n.setHours(e,0,0,0),n.toISOString()}function zg(s){const e=new Date;return e.setHours(e.getHours()+s,e.getMinutes(),0,0),e.toISOString()}function Dr(s,e=12){const n=new Date;return n.setDate(n.getDate()-s),n.setHours(e,0,0,0),n.toISOString()}function Hg(s){const e=new Date;return e.setHours(e.getHours()-s,e.getMinutes(),0,0),e.toISOString()}function LC(s){return{...s,page:Math.max(1,s.page),pageSize:Math.min(25,Math.max(4,s.pageSize)),owner:Array.from(new Set(s.owner))}}function Dte(s,e,n){const r=Date.now(),i=Rte[e.range];return s.filter(a=>{const l=n===""||a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()),c=e.type==="all"||a.type===e.type,u=e.status==="all"||a.status===e.status,h=e.owner.length===0||e.owner.includes(a.owner)||a.assignees.some(g=>e.owner.includes(g));let p=!0;if(i!==null){const g=new Date(a.dueAt).getTime(),x=r+i*24*60*60*1e3;p=g<=x}return l&&c&&u&&h&&p})}function Mte(s,e,n){const r=[...s];return r.sort((i,a)=>{let l=0;switch(e){case"dueAt":l=new Date(i.dueAt).getTime()-new Date(a.dueAt).getTime();break;case"updatedAt":l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break;case"priority":l=RC[i.priority]-RC[a.priority];break;case"title":l=i.title.localeCompare(a.title);break;default:l=0}return n==="asc"?l:-l}),r}function Fte(s,e,n){const r=(e-1)*n;return s.slice(r,r+n)}function Qa(s){return new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function am(s){const e=Date.now()-new Date(s).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Ep(s,e){const n=new Date(s).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function $te(s){return s.length===0?null:s.reduce((e,n)=>e?PC[n.freshness]>PC[e.freshness]?n:e:n,null)}const o_=["EU-01","EU-02","US-01","US-02","ASIA-01"],rp=new Intl.NumberFormat("de-DE");function Bte(){const s=Su("(min-width: 768px)"),[e,n]=Q.useState("all"),[r,i]=Q.useState(null),[a,l]=Q.useState(null),[c,u]=Q.useState(null),[h,p]=Q.useState(null),g=[r,a].filter(Boolean).length,x=Q.useMemo(()=>{const R=[c,h].filter(Boolean);if(!R.length)return 0;const $=R.reduce((B,H)=>{var z;return B+((z=H.level)!=null?z:0)},0);return Math.round($/R.length)},[c,h]),[b,_]=Q.useState(null),[S,C]=Q.useState(!1),A=Q.useRef(null);Nu(A,S&&!s),Q.useEffect(()=>{s&&C(!1)},[s]),Q.useEffect(()=>{if(!b)return;const R=B=>{const H=B.target;H&&(H.closest(`.${ce.freshnessBadge}`)||H.closest(`.${ce.freshnessPopover}`)||_(null))},$=B=>{B.key==="Escape"&&_(null)};return document.addEventListener("pointerdown",R),document.addEventListener("keydown",$),()=>{document.removeEventListener("pointerdown",R),document.removeEventListener("keydown",$)}},[b]);const M=Q.useMemo(()=>c?Ep(c.nextUpdateAt,Date.now()):"",[c]),j=Q.useMemo(()=>h?Ep(h.nextUpdateAt,Date.now()):"",[h]),y=()=>C(!0),w=()=>C(!1),P=R=>{n(R)},N=(R,$)=>{R==="playerA"?(i($.id),u($)):(l($.id),p($))},k=R=>{R==="playerA"?(i(null),u(null)):(l(null),p(null))},T=R=>{_($=>$===R?null:R)},L=c&&h;return t.jsxs(Ht,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[t.jsxs("div",{className:ce.page,children:[t.jsxs("header",{className:ce.header,children:[t.jsxs("div",{className:ce.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Players"}),t.jsx("h1",{className:ce.title,children:"Spieler vergleichen"}),t.jsx("p",{className:ce.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),t.jsx("div",{className:ce.headerActions,children:!s&&t.jsx("button",{type:"button",className:ce.secondaryAction,onClick:y,children:"Filter"})})]}),t.jsxs("div",{className:ce.infoStrip,children:[t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Slots gefuellt"}),t.jsxs("strong",{children:[rp.format(g)," Spieler"]})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Durchschnittslevel"}),t.jsx("strong",{children:rp.format(x)})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Serverfilter"}),t.jsx("strong",{children:e==="all"?"Alle":e})]})]}),s&&t.jsx("div",{className:ce.inlineFilters,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),o_.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]}),t.jsxs("div",{className:ce.layout,children:[t.jsxs("section",{className:ce.selectionColumn,children:[t.jsx(DC,{title:"Spieler A",slot:"playerA",selectedPlayer:c,excludeId:a,onSelect:N,onClear:k,serverFilter:e,onServerChange:P}),t.jsx(DC,{title:"Spieler B",slot:"playerB",selectedPlayer:h,excludeId:r,onSelect:N,onClear:k,serverFilter:e,onServerChange:P})]}),t.jsxs("section",{className:ce.comparisonColumn,children:[t.jsxs("div",{className:ce.comparisonCard,children:[t.jsxs("div",{className:ce.comparisonHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Vergleich"}),t.jsx("h2",{className:ce.sectionTitle,children:"Kennzahlen"})]}),L&&t.jsxs("span",{className:ce.diffBadge,children:["Delta Level: ",rp.format(c.level-h.level)]})]}),L?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:ce.metricGrid,children:[t.jsx(MC,{label:"Level",aValue:c.level,bValue:h.level}),t.jsx(MC,{label:"Scrapbook (%)",aValue:c.scrapbookPct,bValue:h.scrapbookPct,isDecimal:!0}),t.jsx(Ote,{playerA:c,playerB:h,countdownA:M,countdownB:j,activePopover:b,onToggle:T})]}),t.jsx(Vte,{playerA:c,playerB:h})]}):t.jsx("div",{className:ce.emptyState,children:t.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),t.jsxs("div",{className:ce.supportPanels,children:[t.jsx(Ute,{}),t.jsx(zte,{})]})]})]})]}),!s&&t.jsx("div",{className:`${ce.sheetOverlay} ${S?ce.sheetOpen:""}`,children:t.jsxs("div",{className:ce.sheet,role:"dialog","aria-modal":"true",ref:A,children:[t.jsxs("header",{className:ce.sheetHeader,children:[t.jsx("h3",{children:"Filter"}),t.jsx("button",{type:"button",className:ce.clearButton,onClick:w,children:"Schliessen"})]}),t.jsx("div",{className:ce.sheetBody,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),o_.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]})})]})}function DC({title:s,slot:e,selectedPlayer:n,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:c}){const[u,h]=Q.useState(""),p=ju(u,300);Q.useEffect(()=>{h("")},[n,l]);const{results:g,loading:x}=Hte(p,l,r);return t.jsxs("article",{className:ce.selectionCard,children:[t.jsxs("div",{className:ce.slotHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.slotLabel,children:s}),t.jsx("p",{className:ce.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&t.jsx("button",{type:"button",className:ce.clearButton,onClick:()=>a(e),children:"Reset"})]}),t.jsxs("div",{className:ce.slotBody,children:[t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:l,onChange:b=>c(b.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),o_.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Suchen"}),t.jsx("input",{className:ce.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),t.jsxs("div",{className:ce.resultList,role:"list",children:[x&&t.jsx("div",{className:ce.emptyResult,children:"Lade..."}),!x&&g.length===0&&t.jsx("div",{className:ce.emptyResult,children:"Kein Spieler gefunden."}),!x&&g.map(b=>t.jsxs("div",{className:ce.resultItem,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.resultName,children:b.name}),t.jsxs("p",{className:ce.resultMeta,children:[b.server," - Level ",b.level," - ",b.className]})]}),t.jsx("button",{type:"button",className:ce.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&t.jsxs("div",{className:ce.selectedCard,children:[t.jsx("p",{className:ce.selectedName,children:n.name}),t.jsxs("p",{className:ce.selectedMeta,children:[n.server," - Level ",n.level," - ",n.className," -"," ",n.guildName||"ohne Gilde"]}),t.jsx("p",{className:ce.selectedTagline,children:n.tagline})]})]})]})}function MC({label:s,aValue:e,bValue:n,isDecimal:r=!1}){const i=c=>r?c.toFixed(1).replace(".",","):rp.format(c),a=e-n;let l="gleich";if(a!==0){const c=r?Math.abs(a).toFixed(1).replace(".",","):rp.format(Math.abs(a));l=a>0?`+${c}`:`-${c}`}return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:s}),t.jsxs("div",{className:ce.metricValues,children:[t.jsx("span",{"aria-label":"Spieler A",children:i(e)}),t.jsx("span",{className:ce.metricDivider,children:"vs"}),t.jsx("span",{"aria-label":"Spieler B",children:i(n)})]}),t.jsx("p",{className:ce.metricDelta,children:l})]})}function Ote({playerA:s,playerB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Freshness"}),t.jsx("div",{className:ce.freshnessRow,children:[s,e].map(l=>{const c=l.id===s.id?n:r,u=`fresh-${l.id}`,h=i===u;return t.jsxs("div",{className:ce.freshnessItem,children:[t.jsxs("button",{type:"button",className:ce.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[t.jsx("span",{children:l.freshness.toUpperCase()}),t.jsx("small",{children:am(l.lastScanAt)})]}),h&&t.jsxs("div",{className:ce.freshnessPopover,role:"dialog",children:[t.jsx("p",{className:ce.popoverTitle,children:l.name}),t.jsxs("dl",{children:[t.jsxs("div",{children:[t.jsx("dt",{children:"Status"}),t.jsx("dd",{children:Cw[l.freshness]})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Zuletzt gescannt"}),t.jsx("dd",{children:Qa(l.lastScanAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Naechstes Update"}),t.jsxs("dd",{children:[Qa(l.nextUpdateAt)," (",c,")"]})]})]})]})]},l.id)})})]})}function Vte({playerA:s,playerB:e}){const n=Q.useMemo(()=>Array.from(new Set([...s.stats,...e.stats].map(i=>i.label))),[s.stats,e.stats]),r=i=>{const a=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return t.jsxs("div",{className:ce.classColumn,children:[t.jsx("h3",{children:i.name}),t.jsx("div",{className:ce.classBar,"aria-label":`Statverteilung ${i.name}`,children:a.map(l=>t.jsxs("span",{style:{width:`${l.percent}%`},className:ce.classSlice,children:[t.jsx("small",{children:l.label}),t.jsxs("strong",{children:[l.percent,"%"]})]},`${i.id}-${l.label}`))})]})};return t.jsxs("div",{className:ce.classCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Stat-Verteilung"}),t.jsx("div",{className:ce.classGrid,children:[s,e].map(r)}),n.length>0&&t.jsx("ul",{className:ce.classLegend,children:n.map(i=>t.jsx("li",{children:i},i))})]})}function Ute(){const s=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return t.jsxs("section",{className:ce.checklistCard,children:[t.jsx("h3",{children:"Vor dem Vergleich pruefen"}),t.jsx("ul",{className:ce.checklist,children:s.map(e=>t.jsx("li",{children:e},e))})]})}function zte(){return t.jsxs("section",{className:ce.infoCardExtended,children:[t.jsx("h3",{children:"Matchup-Diff"}),t.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",t.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),t.jsx("p",{className:ce.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),t.jsx("button",{type:"button",className:ce.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function Hte(s,e,n){const[r,i]=Q.useState([]),[a,l]=Q.useState(!1);return Q.useEffect(()=>{const c=s.trim();if(c.length===0){i([]),l(!1);return}let u=!1;async function h(){const p=Xn("PlayersCompare:search");l(!0);try{const g=c.toLowerCase(),x=Yp(yt,"latest"),b=await pn(p,{path:"players/latest (collectionGroup)"},()=>rn(Pn(x,Si("nameFold"),Cl(g),Il(g+""),Qn(15)))),_=await pn(p,{path:"players/latest (collectionGroup)"},()=>rn(Pn(x,wi("nameNgrams","array-contains",g),Qn(15)))),S=new Set,C=[],A=M=>{var K,te,X,U,J,se,ne,ue,we,Me,ee,ge,oe,ye,je,ke,qe,me,Ie,Xe,it,Nt,be,De,Ee,at,mt,Ve,Se;const j=M.data(),w=(K=M.ref.parent)==null?void 0:K.parent,P=w==null?void 0:w.parent;if((P==null?void 0:P.id)!=="players")return;const k=(X=(te=w==null?void 0:w.id)!=null?te:j.playerIdentifier)!=null?X:M.id;if(!k||S.has(k)||n&&k===n)return;const T=(se=(J=j.name)!=null?J:(U=j.values)==null?void 0:U.Name)!=null?se:"Unbekannter Spieler",L=(we=(ue=j.server)!=null?ue:(ne=j.values)==null?void 0:ne.Server)!=null?we:"Unknown";if(e!=="all"&&L!==e)return;const R=(ye=(oe=(ee=j.className)!=null?ee:(Me=j.values)==null?void 0:Me.Class)!=null?oe:(ge=j.values)==null?void 0:ge.Class)!=null?ye:"Unbekannte Klasse",$=(qe=(ke=j.guildName)!=null?ke:(je=j.values)==null?void 0:je.Guild)!=null?qe:"",B=xl(j.level)||xl((me=j.values)==null?void 0:me.Level)||xl((Ie=j.values)==null?void 0:Ie.Level),H=xl(j.scrapbookPct)||xl((Xe=j.values)==null?void 0:Xe["Album %"])||xl((it=j.values)==null?void 0:it.AlbumPct)||xl((Nt=j.values)==null?void 0:Nt["Scrapbook %"]),z=(Ee=(De=j.updatedAt)!=null?De:(be=j.values)==null?void 0:be.UpdatedAt)!=null?Ee:j.timestamp?new Date(j.timestamp*1e3).toISOString():new Date().toISOString(),W=(at=j.nextUpdateAt)!=null?at:Wte(12),G=Gte((mt=j.values)!=null?mt:j.stats);S.add(k),C.push({id:k,name:T,tagline:(Ve=j.tagline)!=null?Ve:$?`Mitglied in ${$}`:R,server:L,className:R,guildName:$,level:B||0,scrapbookPct:H,lastScanAt:z,updatedAt:z,nextUpdateAt:W,freshness:(Se=j.freshness)!=null?Se:"unknown",stats:G})};b.forEach(A),_.forEach(A),u||(C.sort((M,j)=>M.name.localeCompare(j.name)),i(C))}catch(g){console.error("[Players Compare] player search failed",g),u||i([])}finally{hn(p),u||l(!1)}}return h(),()=>{u=!0}},[s,e,n]),{results:r,loading:a}}const FC={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function Gte(s={}){const e=Object.keys(FC).map(r=>{var a;const i=(a=s==null?void 0:s[r])!=null?a:s==null?void 0:s[r.toLowerCase()];return{label:FC[r],value:xl(i)}}).filter(r=>r.value>0),n=e.reduce((r,i)=>r+i.value,0);return n?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/n*100))})):[]}function xl(s){const e=Number(s);return Number.isFinite(e)?e:0}function Wte(s){const e=new Date;return e.setHours(e.getHours()+s),e.toISOString()}function Kte(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Guilds"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx($C,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),t.jsx($C,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function $C({to:s,title:e,desc:n}){return t.jsxs(ks,{to:s,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function qte(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Guilds  Rankings"}),t.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function Qte(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Guilds  Stats"}),t.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function Yte(s){return String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const Xte={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function Jte(s){var n;const e=Yte(s);return(n=Xte[e])!=null?n:null}function Zte(s,e=128){var a,l;const n=Jte(s);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Wc(n))!=null?a:null,i=r&&(l=li(r,e))!=null?l:null;return{id:n,url:r,thumb:i,fallback:""}}function Ap(s,e=128){return Zte(s,e).thumb}const ed={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},sx=(s,e)=>({...s||{},...e||{}}),BC=s=>{if(s==null||s==="")return"";const e=s instanceof Date?s:new Date(s),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},ese=s=>Object.values(s||{}).reduce((e,n)=>e+(n||0),0),ar=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function tse(s){var x,b,_,S,C,A,M,j;const e=ar(s==null?void 0:s.sumBaseTotal);if(e!=null)return e;const n=ar(s==null?void 0:s.baseMain),r=ar(s==null?void 0:s.conBase);if(n!=null&&r!=null)return n+r;const i=(s==null?void 0:s.baseStats)||{},a=ar(i==null?void 0:i.sumBaseTotal);if(a!=null)return a;const l=ar(i==null?void 0:i.main),c=ar(i==null?void 0:i.con);if(l!=null&&c!=null)return l+c;const u=(s==null?void 0:s.values)||{},h=(b=(x=ar(u==null?void 0:u.SumBaseTotal))!=null?x:ar(u==null?void 0:u.sumBaseTotal))!=null?b:ar(u==null?void 0:u["Sum Base Total"]);if(h!=null)return h;const p=(C=(S=(_=ar(u==null?void 0:u.Main))!=null?_:ar(u==null?void 0:u.main))!=null?S:ar(u==null?void 0:u.BaseMain))!=null?C:ar(u==null?void 0:u.baseMain),g=(j=(M=(A=ar(u==null?void 0:u.Con))!=null?A:ar(u==null?void 0:u.con))!=null?M:ar(u==null?void 0:u.ConBase))!=null?j:ar(u==null?void 0:u.conBase);return p!=null&&g!=null?p+g:null}function vc(s){return String(s!=null?s:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function sse(s,e=56){if(!s)return;const n=vc(s),r=Jn.find(i=>vc(i.label)===n||vc(i.key)===n)||Jn.find(i=>vc(i.label).startsWith(n)||n.startsWith(vc(i.label))||vc(i.key).startsWith(n)||n.startsWith(vc(i.key)));return r?li(r.iconUrl,e):void 0}function nse({name:s,memberClass:e,online:n,theme:r=ed}){const i=s.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=sse(e,56);return t.jsxs("div",{className:"relative",children:[a?t.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const c=l.currentTarget.parentElement;c&&(c.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):t.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&t.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const rse={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},ise=({role:s})=>t.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(rse[s]||""),children:s});function OC(s,e){const n=(s!=null?s:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function ase(s){const e=typeof(s==null?void 0:s.sumBaseTotal)=="number"?s.sumBaseTotal:null,n=typeof(s==null?void 0:s.baseMain)=="number"?s.baseMain:null,r=typeof(s==null?void 0:s.conBase)=="number"?s.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function Gg({label:s,value:e,theme:n=ed}){return t.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[t.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:s}),t.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function ose({member:s,theme:e,actions:n,extraKPIs:r}){var p,g,x,b,_,S,C,A,M;if(!s)return null;const i=sx(ed,e),a=s,l=OC((g=(p=a.guildJoined)!=null?p:a.joinedAt)!=null?g:null,(x=a.guildJoinedMs)!=null?x:null),c=OC((b=a.lastActivity)!=null?b:null,(_=a.lastActivityMs)!=null?_:typeof a.lastOnline=="number"?a.lastOnline:null),u=ase(a),h=typeof a.totalStats=="number"?a.totalStats.toLocaleString("de-DE"):"";return t.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[t.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),t.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[t.jsx("div",{className:"shrink-0",children:t.jsx(nse,{name:s.name,memberClass:(A=(C=a.class)!=null?C:(S=a.values)==null?void 0:S.Class)!=null?A:null,online:a.online,theme:i})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:s.name}),a.role&&t.jsx(ise,{role:a.role})]}),t.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[a.class||"",a.server?`  ${a.server}`:"","  Joined ",l,"  Last ",c]})]}),t.jsx("div",{className:"ml-auto",children:n})]}),t.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(Gg,{label:"Level",value:(M=a.level)!=null?M:"",theme:i}),typeof a.scrapbook=="number"&&t.jsx(Gg,{label:"Scrapbook",value:`${a.scrapbook}%`,theme:i}),t.jsx(Gg,{label:"Sum Base",value:u,theme:i}),t.jsx(Gg,{label:"Total Stats",value:h,theme:i}),r]})]})}function xc(s){return String(s!=null?s:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function lse(s,e=40){if(!s)return;const n=xc(s);let r=Jn.find(i=>xc(i.label)===n||xc(i.key)===n)||Jn.find(i=>xc(i.label).startsWith(n)||n.startsWith(xc(i.label))||xc(i.key).startsWith(n)||n.startsWith(xc(i.key)));return r?li(r.iconUrl,e):void 0}function cse({name:s,memberClass:e,online:n,theme:r=ed}){const i=s.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=lse(e,40);return t.jsxs("div",{className:"relative",children:[a?t.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const c=l.currentTarget.parentElement;c&&(c.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):t.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&t.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const dse=({role:s})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return t.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[s]||""),children:s})};function use({rows:s,selId:e,onSelect:n,rightCols:r,theme:i}){const a=sx(ed,i);return t.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:a.border},children:[t.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),t.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:a.tableBg},children:[t.jsx("div",{className:"h-8 sticky top-0",style:{background:a.header}}),s.map((l,c)=>{var u,h,p;return t.jsxs("button",{onClick:()=>n(l.id),"aria-pressed":l.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(c%2?"bg-slate-800/10":"")+(l.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[t.jsx(cse,{name:l.name,memberClass:(p=(h=l.class)!=null?h:(u=l.values)==null?void 0:u.Class)!=null?p:null,online:l.online,theme:a}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),t.jsxs("div",{className:"text-xs truncate",style:{color:a.sub},children:[l.class,l.server?`  ${l.server}`:""]})]}),t.jsx("div",{className:"justify-self-end",children:t.jsx(dse,{role:l.role})}),r(l)]},l.id)})]})]})}function yc(s){return String(s!=null?s:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function hse(s,e=40){if(!s)return;const n=yc(s);let r=Jn.find(i=>yc(i.label)===n||yc(i.key)===n)||Jn.find(i=>yc(i.label).startsWith(n)||n.startsWith(yc(i.label))||yc(i.key).startsWith(n)||n.startsWith(yc(i.key)));return r?li(r.iconUrl,e):void 0}function pse({rows:s,selId:e,onSelect:n,footer:r,theme:i}){const a=sx(ed,i);return t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(l=>{var x,b,_,S,C,A,M,j,y;const c=l,u=l.name.slice(0,2).toUpperCase(),h=hse((_=(b=c.class)!=null?b:(x=c.values)==null?void 0:x.Class)!=null?_:null,40),p=typeof c.level=="number"?c.level:typeof((S=c.values)==null?void 0:S.Level)=="number"?c.values.Level:"",g=typeof c.scrapbook=="number"?`${c.scrapbook}%`:typeof((C=c.values)==null?void 0:C.Scrapbook)=="number"?`${c.values.Scrapbook}%`:null;return t.jsxs("button",{onClick:()=>n(l.id),"aria-pressed":l.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(l.id===e?" ring-1":""),style:{borderColor:a.border,background:`linear-gradient(180deg, ${a.tile} 0%, ${a.tableBg} 100%)`,boxShadow:l.id===e?`0 12px 30px -12px ${a.glow}`:"none"},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[h?t.jsx("img",{src:h,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:a.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const P=w.currentTarget.parentElement;P&&(P.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${a.tile};color:${a.title};border-color:${a.border}">${u}</div>`)}}):t.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:a.tile,color:a.title,borderColor:a.border},children:u}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),t.jsxs("div",{className:"text-xs",style:{color:a.sub},children:[(j=(M=c.class)!=null?M:(A=c.values)==null?void 0:A.Class)!=null?j:"",c.server?`  ${c.server}`:""]})]}),t.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:a.border},children:(y=c.role)!=null?y:""})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),t.jsx("div",{className:"font-semibold",style:{color:a.title},children:p})]}),g&&t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),t.jsx("div",{className:"font-semibold",style:{color:a.title},children:g})]})]}),t.jsx("div",{className:"mt-3",children:r(l)})]},l.id)})})}const mse=s=>{if(!s)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=s[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function gse({members:s,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:a,onSelect:l,renderActions:c,renderKPIs:u,theme:h}){var L;const p=E.useMemo(()=>sx(ed,h),[h]),[g,x]=E.useState(e),[b,_]=E.useState(n),[S,C]=E.useState(r.key),[A,M]=E.useState(r.dir),[j,y]=E.useState((L=s[0])==null?void 0:L.id),w=a!=null?a:j,P=R=>{a||y(R);const $=s.find(B=>B.id===R);$&&l&&l($)},N=E.useMemo(()=>{const R=b.trim().toLowerCase();return R?s.filter($=>$.name.toLowerCase().includes(R)||$.class.toLowerCase().includes(R)||String($.role).toLowerCase().includes(R)):s},[s,b]),k=E.useMemo(()=>{const R=A==="asc"?1:-1,$=B=>{var H,z;switch(S){case"sumBaseStats":{const W=tse(B);return W==null?-1/0:W}case"totalStats":return(z=(H=B.totalStats)!=null?H:ese(mse(B.baseStats)))!=null?z:-1/0;default:return B[S]}};return[...N].sort((B,H)=>{const z=$(B),W=$(H);return z===W?0:z>W?R:-R})},[N,S,A]),T=E.useMemo(()=>k.find(R=>R.id===w)||k[0],[k,w]);return t.jsxs("div",{children:[i&&t.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:p.tile,borderColor:p.border},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"View"}),t.jsxs("select",{value:g,onChange:R=>x(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[t.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),t.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Search"}),t.jsx("input",{value:b,onChange:R=>_(R.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:p.border}})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Sort by"}),t.jsxs("select",{value:String(S),onChange:R=>C(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[t.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),t.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),t.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),t.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),t.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),t.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),t.jsx("button",{onClick:()=>M(R=>R==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:p.border},children:A==="asc"?"":""})]})]}),t.jsx(ose,{member:T,actions:T&&(c?c(T):t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Profile"}),t.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Compare"}),t.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Message"})]})),extraKPIs:T&&u?u(T):null,theme:p}),g==="list"?t.jsx(use,{rows:k,selId:w,onSelect:P,theme:p,rightCols:R=>{var $;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-right text-sm",children:($=R.level)!=null?$:""}),t.jsx("div",{className:"text-right text-xs",style:{color:p.sub},children:BC(R.lastOnline)})]})}}):t.jsx(pse,{rows:k,selId:w,onSelect:P,theme:p,footer:R=>t.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:p.sub},children:t.jsxs("span",{children:["Last ",BC(R.lastOnline)]})})})]})}function fse({guildName:s,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:a,totalPower:l,activity7d:c,topClasses:u,tickerItems:h,href:p,onClick:g,className:x}){const b=!!_4(),_=E.useMemo(()=>{if(!r)return null;const $=Date.now()-new Date(r).getTime(),B=Math.max(0,Math.floor($/6e4));if(B<60)return`${B}m`;const H=Math.floor(B/60);return H<24?`${H}h`:`${Math.floor(H/24)}d`},[r]),S=Uh(0),C=Uh(0),A=Uh(0),M=Uh(0),j=Dg(S,$=>Math.round($).toString()),y=Dg(C,$=>Math.round($).toString()),w=Dg(A,$=>Math.round($).toLocaleString()),P=Dg(M,$=>`${Math.round($)}%`);E.useEffect(()=>{const $=b?0:.6;if($===0){S.set(i),C.set(a),A.set(l!=null?l:0),M.set(c!=null?c:0);return}const B=[Mg(S,i,{duration:$}),Mg(C,a,{duration:$}),Mg(A,l!=null?l:0,{duration:$}),Mg(M,c!=null?c:0,{duration:$})];return()=>B.forEach(H=>H.stop())},[i,a,l,c,b]);const N=E.useRef(null);E.useEffect(()=>{if(b||!N.current)return;const $=N.current;let B=0,H=0;const z=()=>{H+=.016;const W=H*14%140-20;$.style.setProperty("--s-x",`${W}%`),B=requestAnimationFrame(z)};return B=requestAnimationFrame(z),()=>cancelAnimationFrame(B)},[b]);const k={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},T=100,L=p?"a":"div",R=p?{href:p}:{onClick:g};return t.jsxs(L,{...R,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",x!=null?x:""].join(" "),style:{background:`linear-gradient(135deg, ${k.bgFrom}, ${k.bgTo})`},children:[t.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),t.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[t.jsx("div",{className:"relative",children:t.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[t.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?t.jsx("img",{src:n,alt:`${s} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):t.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:t.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),t.jsx("div",{ref:N,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),_&&t.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:k.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${k.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",_]}),t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${T}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${T}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${T}deg, transparent 0 46px, ${k.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),t.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[t.jsx("h3",{className:"truncate font-extrabold",style:{color:k.title,fontSize:22},children:s}),t.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:k.soft,border:`1px solid ${k.border}`},children:e})]}),t.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[t.jsx(Wg,{label:"Members",value:j}),t.jsx(Wg,{label:" Level",value:y}),t.jsx(Wg,{label:"Total Power",value:w}),typeof c=="number"&&t.jsx(Wg,{label:"Activity (7d)",value:P})]}),u!=null&&u.length?t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:k.soft},children:"Top Classes"}),u.slice(0,3).map($=>t.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${k.border}`,color:k.text},children:[$.iconUrl?t.jsx("img",{src:$.iconUrl,alt:$.key,className:"h-4 w-4 object-contain"}):t.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:k.accent,opacity:.85}}),t.jsxs("span",{className:"text-xs",children:[$.key," ",t.jsxs("span",{className:"opacity-70",children:["(",Math.round($.percent),"%)"]})]})]},$.key))]}):null]})]})]}),h!=null&&h.length?t.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${k.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:t.jsx(vse,{items:h,muted:b,color:k.soft})}):null]})}function Wg({label:s,value:e}){return t.jsxs("div",{className:"relative z-10 min-w-0",children:[t.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:s}),t.jsx(y4.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function vse({items:s,muted:e,color:n}){const r=E.useRef(null);return E.useEffect(()=>{if(e||!r.current)return;const i=r.current;let a=0,l=0;const c=()=>{a+=.016;const u=a*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,l=requestAnimationFrame(c)};return l=requestAnimationFrame(c),()=>cancelAnimationFrame(l)},[e]),t.jsx("div",{className:"overflow-hidden",children:t.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:s.concat(s).map((i,a)=>t.jsx("span",{className:"mx-6 text-xs align-middle",children:i},a))})})}const xse="_wrap_q5gkc_53",yse="_banner_q5gkc_59",bse="_bannerRowTop_q5gkc_61",_se="_bannerStripe_q5gkc_71",wse="_bannerTitle_q5gkc_79",jse="_bannerRowBottom_q5gkc_93",Sse="_bannerSub_q5gkc_95",Nse="_monthPickerWrap_q5gkc_101",kse="_monthPickerLabel_q5gkc_113",Cse="_monthPicker_q5gkc_101",Ise="_monthButton_q5gkc_131",Tse="_monthButtonText_q5gkc_159",Ese="_chev_q5gkc_161",Ase="_monthList_q5gkc_165",Pse="_monthOption_q5gkc_195",Rse="_monthBadge_q5gkc_221",Lse="_gridRow_q5gkc_237",Dse="_gridRowBottom_q5gkc_239",Mse="_sideImage_q5gkc_253",Fse="_sideImagePh_q5gkc_271",$se="_emblemPanel_q5gkc_275",Bse="_emblemFrame_q5gkc_295",Ose="_emblemImg_q5gkc_297",Vse="_emblemPlaceholder_q5gkc_299",Use="_emblemShimmer_q5gkc_307",zse="_emblemCaption_q5gkc_315",Hse="_card_q5gkc_319",Gse="_cardHeader_q5gkc_331",Wse="_cardTitle_q5gkc_339",Kse="_cardSubtitle_q5gkc_341",qse="_headerRight_q5gkc_343",Qse="_cardBody_q5gkc_345",Yse="_tableWrap_q5gkc_349",Xse="_tableTitle_q5gkc_351",Jse="_table_q5gkc_349",Zse="_th_q5gkc_355",ene="_td_q5gkc_355",tne="_tdEmpty_q5gkc_365",sne="_sectionDivider_q5gkc_375",nne="_sectionStripe_q5gkc_389",rne="_sectionTitle_q5gkc_397",Vt={wrap:xse,banner:yse,bannerRowTop:bse,bannerStripe:_se,bannerTitle:wse,bannerRowBottom:jse,bannerSub:Sse,monthPickerWrap:Nse,monthPickerLabel:kse,monthPicker:Cse,monthButton:Ise,monthButtonText:Tse,chev:Ese,monthList:Ase,monthOption:Pse,monthBadge:Rse,gridRow:Lse,gridRowBottom:Dse,sideImage:Mse,sideImagePh:Fse,emblemPanel:$se,emblemFrame:Bse,emblemImg:Ose,emblemPlaceholder:Vse,emblemShimmer:Use,emblemCaption:zse,card:Hse,cardHeader:Gse,cardTitle:Wse,cardSubtitle:Kse,headerRight:qse,cardBody:Qse,tableWrap:Yse,tableTitle:Xse,table:Jse,th:Zse,td:ene,tdEmpty:tne,sectionDivider:sne,sectionStripe:nne,sectionTitle:rne};function ine(s){if(s==null||s==="")return"";const e=typeof s=="number"?s:Number(String(s).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(s)}function VC(s,e="de-DE"){const n=new Date(s);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const UC=({title:s,subtitle:e,children:n,rightBadge:r})=>t.jsxs("section",{className:Vt.card,children:[(s||e||r)&&t.jsxs("header",{className:Vt.cardHeader,children:[t.jsxs("div",{className:Vt.headerTitles,children:[s&&t.jsx("h3",{className:Vt.cardTitle,children:s}),e&&t.jsx("div",{className:Vt.cardSubtitle,children:e})]}),r&&t.jsx("div",{className:Vt.headerRight,children:r})]}),t.jsx("div",{className:Vt.cardBody,children:n})]}),zC=({block:s})=>{var r,i;const e=s.columns,n=(r=s.rows)!=null?r:[];return t.jsxs("div",{className:Vt.tableWrap,role:"region","aria-label":(i=s.title)!=null?i:"table",children:[s.title&&t.jsx("div",{className:Vt.tableTitle,children:s.title}),t.jsxs("table",{className:Vt.table,children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(a=>t.jsx("th",{className:Vt.th,style:{width:a.width},children:a.label},a.key))})}),t.jsx("tbody",{children:n.length===0?t.jsx("tr",{children:t.jsx("td",{className:Vt.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((a,l)=>{var c;return t.jsx("tr",{children:e.map(u=>{var x;const h=a[u.key],p=typeof h=="number"||typeof h=="string"?h:"",g=u.format==="num"?ine(p):p;return t.jsx("td",{className:Vt.td,"data-align":(x=u.align)!=null?x:"left",children:u.render?u.render(a):g},u.key)})},(c=a.id)!=null?c:l)})})]}),s.footer&&t.jsx("div",{className:Vt.tableFooter,children:s.footer})]})},ane=(s,e)=>{E.useEffect(()=>{function n(r){s.current&&(s.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[s,e])},one=({months:s,currentKey:e,onChange:n,fallbackDate:r})=>{var p;if(!(Array.isArray(s)&&s.length>0&&e))return t.jsx("div",{className:Vt.bannerSub,children:r!=null?r:""});const a=E.useRef(null),[l,c]=E.useState(!1);ane(a,()=>c(!1));const u=s.find(g=>g.key===e),h=u?`${VC(u.fromISO)}${VC(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return t.jsxs("div",{className:Vt.monthPickerWrap,children:[t.jsx("div",{className:Vt.monthPickerLabel,children:"Monat"}),t.jsxs("div",{className:Vt.monthPicker,ref:a,children:[t.jsxs("button",{type:"button",className:Vt.monthButton,onClick:()=>c(g=>!g),"aria-haspopup":"listbox","aria-expanded":l,children:[t.jsx("span",{className:Vt.monthButtonText,children:(p=u==null?void 0:u.label)!=null?p:""}),t.jsx("svg",{className:Vt.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),l&&t.jsx("ul",{className:Vt.monthList,role:"listbox",children:s.map(g=>t.jsx("li",{children:t.jsx("button",{type:"button",className:Vt.monthOption,onClick:()=>{c(!1),n==null||n(g.key)},role:"option","aria-selected":g.key===e,children:g.label})},g.key))})]}),h&&t.jsx("span",{className:Vt.monthBadge,children:h})]})},lne=({title:s,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>t.jsxs("div",{className:Vt.banner,children:[t.jsxs("div",{className:Vt.bannerRowTop,children:[t.jsx("div",{className:Vt.bannerStripe}),t.jsx("div",{className:Vt.bannerTitle,children:s}),t.jsx("div",{className:Vt.bannerStripe})]}),t.jsx("div",{className:Vt.bannerRowBottom,children:t.jsx(one,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),cne=({emblemUrl:s,caption:e})=>t.jsxs("div",{className:Vt.emblemPanel,children:[t.jsxs("div",{className:Vt.emblemFrame,children:[s?t.jsx("img",{src:s,alt:"Guild Emblem",className:Vt.emblemImg}):t.jsx("div",{className:Vt.emblemPlaceholder,children:"Emblem"}),t.jsx("div",{className:Vt.emblemShimmer})]}),e&&t.jsx("div",{className:Vt.emblemCaption,children:e})]}),HC=({imgUrl:s,alt:e})=>t.jsx("div",{className:Vt.sideImage,children:s?t.jsx("img",{src:s,alt:e!=null?e:"side"}):t.jsx("div",{className:Vt.sideImagePh,children:"Image"})}),P0=({children:s,className:e})=>t.jsx("div",{className:`${Vt.gridRow} ${e!=null?e:""}`,children:s}),dne=({children:s})=>t.jsxs("div",{className:Vt.sectionDivider,children:[t.jsx("div",{className:Vt.sectionStripe}),t.jsx("div",{className:Vt.sectionTitle,children:s}),t.jsx("div",{className:Vt.sectionStripe})]}),une=({data:s,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:a}=s;return t.jsxs("div",{className:Vt.wrap,children:[t.jsx(lne,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),t.jsxs(P0,{children:[t.jsx(HC,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),t.jsx(cne,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),t.jsx(HC,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),t.jsx(P0,{children:i.map((l,c)=>t.jsx(UC,{title:l.title,subtitle:l.subtitle,children:t.jsx(zC,{block:l})},c))}),t.jsx(dne,{children:"Guild Overview"}),t.jsx(P0,{className:Vt.gridRowBottom,children:a.map((l,c)=>t.jsx(UC,{title:l.title,subtitle:l.subtitle,children:t.jsx(zC,{block:l})},c))})]})},hne=({guildId:s,guildName:e,guildServer:n})=>{const[r,i]=E.useState(!0),[a,l]=E.useState(null),[c,u]=E.useState(void 0),h=E.useRef({}),[p,g]=E.useState(()=>Kg(e,n));E.useEffect(()=>{let b=!1;async function _(){var C,A,M,j,y;const S=Xn("GuildMonthly:months");i(!0);try{const w=qa(yt,`guilds/${s}/history_monthly`),P=await pn(S,{path:w.path},()=>rn(w)),N=[];for(const L of P.docs){const R=L.id,$=L.data();if(!$)continue;h.current[R]=$;const B=(C=$==null?void 0:$.meta)!=null?C:{},H=B.fromISO||B.baselineISO||B.firstISO||"",z=B.toISO||B.latestISO||B.nowISO||"",W=Number((A=B.daysSpan)!=null?A:Math.floor((+new Date(z)-+new Date(H))/864e5))||0,G=!!((j=(M=$==null?void 0:$.status)==null?void 0:M.available)!=null?j:H&&z&&W<=40),K=B.label||new Date(R+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});N.push({key:R,label:K,fromISO:H||new Date(R+"-01").toISOString(),toISO:z||new Date(R+"-28").toISOString(),daysSpan:W,available:G,reason:G||(y=$==null?void 0:$.status)==null?void 0:y.reason})}if(N.sort((L,R)=>L.key<R.key?1:-1),b)return;if(N.length===0){l(null),u(void 0),g(Kg(e,n)),i(!1);return}l(N);const k=N[0].key;u(k);const T=h.current[k];g(GC(T,{guildName:e,guildServer:n,currentMonthKey:k,months:N}))}catch(w){console.error(w),l(null),u(void 0),g(Kg(e,n))}finally{hn(S),b||i(!1)}}return _(),()=>{b=!0}},[s,e,n]);async function x(b){u(b);let _=h.current[b];if(!_){const S=Xn("GuildMonthly:monthDoc");try{const C=rs(yt,`guilds/${s}/history_monthly/${b}`),A=await Lo(S,C,()=>_n(C));A.exists()?(_=A.data(),h.current[b]=_):_=null}catch(C){console.error(C),_=null}finally{hn(S)}}if(!_){g(Kg(e,n,{currentMonthKey:b,months:a!=null?a:void 0}));return}g(GC(_,{guildName:e,guildServer:n,currentMonthKey:b,months:a!=null?a:void 0}))}return t.jsx(une,{data:p,onMonthChange:x})};function Kg(s,e,n){return{header:{title:`${s}  Monthly Progress`,monthRange:"-",emblemUrl:Ap(s,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[bc("Most Base Stats gained",e?`Server ${e}`:void 0),bc("Sum Base Stats"),bc("Highest Base Stats")],tablesBottom:[bc("Main & Con"),bc("Sum Base Stats"),bc("Highest Base Stats"),bc("Highest Total Stats")]}}function bc(s,e){return{title:s,subtitle:e,columns:[],rows:[]}}function GC(s,e){var l,c,u,h,p,g,x,b;(l=s==null?void 0:s.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Ap(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((c=s==null?void 0:s.mostBaseGained)!=null?c:[]).map((_,S)=>{var C,A,M,j,y,w,P,N;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(A=_.name)!=null?A:"-",level:(j=(M=_.levelLatest)!=null?M:_.level)!=null?j:null,base:(w=(y=_.baseLatest)!=null?y:_.base)!=null?w:null,delta:(N=(P=_.baseDelta)!=null?P:_.delta)!=null?N:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=s==null?void 0:s.sumBaseStats)!=null?u:[]).map((_,S)=>{var C,A,M,j,y,w,P;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(A=_.name)!=null?A:"-",base:(M=_.base)!=null?M:null,stam:(y=(j=_.stamDelta)!=null?j:_.staminaDelta)!=null?y:null,sho:(P=(w=_.shoDelta)!=null?w:_.shootingDelta)!=null?P:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((h=s==null?void 0:s.highestBaseStats)!=null?h:[]).map((_,S)=>{var C,A,M,j,y;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(A=_.name)!=null?A:"-",stats:(j=(M=_.stats)!=null?M:_.base)!=null?j:null,delta:(y=_.delta)!=null?y:null}})}],a=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=s==null?void 0:s.mainAndCon)!=null?p:[]).map((_,S)=>{var C,A,M,j,y,w;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(A=_.name)!=null?A:"-",class:(j=(M=_.class)!=null?M:_.className)!=null?j:"",stats:(y=_.stats)!=null?y:null,delta:(w=_.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((g=s==null?void 0:s.sumBaseStats)!=null?g:[]).map((_,S)=>{var C,A,M,j,y;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(A=_.name)!=null?A:"-",base:(M=_.base)!=null?M:null,stam:(j=_.stamDelta)!=null?j:null,sho:(y=_.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((x=s==null?void 0:s.highestBaseStats)!=null?x:[]).map((_,S)=>{var C,A,M,j;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(A=_.name)!=null?A:"-",stats:(M=_.stats)!=null?M:null,delta:(j=_.delta)!=null?j:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=s==null?void 0:s.highestTotalStats)!=null?b:[]).map((_,S)=>{var C,A,M,j;return{id:(C=_.playerId)!=null?C:S,rank:S+1,name:(A=_.name)!=null?A:"-",total:(M=_.total)!=null?M:null,delta:(j=_.delta)!=null?j:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:a}}const pne="_root_r1uj3_5",mne="_sectionDivider_r1uj3_17",gne="_sectionStripe_r1uj3_31",fne="_sectionTitle_r1uj3_33",kh={root:pne,sectionDivider:mne,sectionStripe:gne,sectionTitle:fne},vne="_root_4jywc_1",xne="_accent_4jywc_31",WC={root:vne,default:"_default_4jywc_29",accent:xne};function Vl({text:s,tone:e="default",className:n}){return t.jsx("div",{className:`${WC.root} ${WC[e]} ${n!=null?n:""}`.trim(),children:s})}const yne="_card_vvv3s_3",bne="_wrap_vvv3s_31",_ne="_divider_vvv3s_45",wne="_rows_vvv3s_77",jne="_row_vvv3s_77",Sne="_left_vvv3s_109",Nne="_label_vvv3s_111",kne="_avgHead_vvv3s_113",Cne="_avgNum_vvv3s_115",Ine="_top3_vvv3s_121",Tne="_chip_vvv3s_123",Ene="_badge_vvv3s_151",Ane="_name_vvv3s_159",Pne="_score_vvv3s_161",Rne="_headerSpacer_vvv3s_167",Or={card:yne,wrap:bne,divider:_ne,rows:wne,row:jne,left:Sne,label:Nne,avgHead:kne,avgNum:Cne,top3:Ine,chip:Tne,badge:Ene,name:Ane,score:Pne,headerSpacer:Rne};function Lne({name:s,value:e,classLabel:n,colors:r}){const i=O1(n,64);return t.jsxs("div",{className:Or.chip,children:[t.jsx("span",{className:Or.badge,children:i?t.jsx("img",{src:i,alt:""}):null}),t.jsx("span",{className:Or.name,children:s!=null?s:""}),t.jsx("span",{className:Or.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function Dne({snapshot:s,colors:e,title:n="Base Stats"}){var l;const r=(l=s==null?void 0:s.members)!=null?l:[],i=c=>[...r].filter(u=>typeof u[c]=="number").sort((u,h)=>{var p,g;return((p=h[c])!=null?p:0)-((g=u[c])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:s==null?void 0:s.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:s==null?void 0:s.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:s==null?void 0:s.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return t.jsxs("div",{className:Or.card,children:[t.jsx(Vl,{text:n}),t.jsx("div",{className:Or.headerSpacer}),t.jsxs("div",{className:Or.wrap,children:[t.jsx("div",{className:Or.divider}),t.jsx("div",{className:Or.rows,children:a.map((c,u)=>t.jsxs("div",{className:Or.row,children:[t.jsxs("div",{className:Or.left,children:[t.jsx("div",{className:Or.label,children:c.label}),t.jsx("div",{className:Or.avgHead,children:""}),t.jsx("div",{className:Or.avgNum,style:{color:e.title},children:typeof c.avg=="number"?c.avg.toLocaleString("de-DE"):""})]}),t.jsx("div",{className:Or.top3,children:c.list.map((h,p)=>t.jsx(Lne,{name:h.name,value:h[c.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}const Mne="_card_1enwc_1",Fne="_wrap_1enwc_1",$ne="_divider_1enwc_1",Bne="_rows_1enwc_1",One="_row_1enwc_1",Vne="_left_1enwc_1",Une="_label_1enwc_1",zne="_avgHead_1enwc_1",Hne="_avgNum_1enwc_1",Gne="_top3_1enwc_1",Wne="_chip_1enwc_1",Kne="_badge_1enwc_1",qne="_name_1enwc_1",Qne="_score_1enwc_1",Yne="_headerSpacer_1enwc_1",Vr={card:Mne,wrap:Fne,divider:$ne,rows:Bne,row:One,left:Vne,label:Une,avgHead:zne,avgNum:Hne,top3:Gne,chip:Wne,badge:Kne,name:qne,score:Qne,headerSpacer:Yne};function Xne({name:s,value:e,classLabel:n,colors:r}){const i=O1(n,64);return t.jsxs("div",{className:Vr.chip,children:[t.jsx("span",{className:Vr.badge,children:i?t.jsx("img",{src:i,alt:""}):null}),t.jsx("span",{className:Vr.name,children:s!=null?s:""}),t.jsx("span",{className:Vr.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function Jne({snapshot:s,colors:e,title:n="Total Stats"}){var l;const r=(l=s==null?void 0:s.members)!=null?l:[],i=c=>[...r].filter(u=>typeof u[c]=="number").sort((u,h)=>{var p,g;return((p=h[c])!=null?p:0)-((g=u[c])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:s==null?void 0:s.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:s==null?void 0:s.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:s==null?void 0:s.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return t.jsxs("div",{className:Vr.card,children:[t.jsx(Vl,{text:n}),t.jsx("div",{className:Vr.headerSpacer}),t.jsxs("div",{className:Vr.wrap,children:[t.jsx("div",{className:Vr.divider}),t.jsx("div",{className:Vr.rows,children:a.map((c,u)=>t.jsxs("div",{className:Vr.row,children:[t.jsxs("div",{className:Vr.left,children:[t.jsx("div",{className:Vr.label,children:c.label}),t.jsx("div",{className:Vr.avgHead,children:""}),t.jsx("div",{className:Vr.avgNum,style:{color:e.title},children:typeof c.avg=="number"?c.avg.toLocaleString("de-DE"):""})]}),t.jsx("div",{className:Vr.top3,children:c.list.map((h,p)=>t.jsx(Xne,{name:h.name,value:h[c.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}function Zne({guild:s,snapshot:e,colors:n}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(Vl,{text:"General Info"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function ere({colors:s}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(Vl,{text:"Fortress"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function tre({colors:s}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(Vl,{text:"Rankings"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function sre({colors:s}){return t.jsxs("div",{style:{background:"transparent"},children:[t.jsx(Vl,{text:"Serververgleich"}),t.jsx("div",{style:{height:6}}),t.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const nre=E.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const a=i.icon,l=({text:c})=>t.jsxs("div",{className:kh.sectionDivider,children:[t.jsx("div",{className:kh.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}}),t.jsx("div",{className:kh.sectionTitle,style:{color:i.soft},children:c}),t.jsx("div",{className:kh.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}})]});return t.jsxs("div",{className:kh.root+" space-y-4",children:[t.jsx(l,{text:"GUILD OVERVIEW"}),t.jsx("div",{style:{marginTop:6,marginBottom:10},children:t.jsx(l,{text:"AVERAGE PLAYER STATS"})}),t.jsx(Zne,{guild:e,snapshot:n,colors:i}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[t.jsx(Dne,{snapshot:n,colors:i}),t.jsx(Jne,{snapshot:n,colors:i})]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[t.jsx(ere,{colors:i}),t.jsx(tre,{colors:i})]}),t.jsx("div",{className:"mt-4",children:t.jsx(sre,{colors:i})})]})}),rre="_wrapper_zqchq_3",ire="_grid_zqchq_9",are="_tile_zqchq_13",ore="_disabled_zqchq_37",lre="_crestWrap_zqchq_41",cre="_crest_zqchq_41",dre="_ring_zqchq_53",ure="_badge_zqchq_55",hre="_meta_zqchq_67",pre="_nameRow_zqchq_69",mre="_name_zqchq_69",gre="_share_zqchq_73",fre="_sub_zqchq_75",vre="_tileButton_zqchq_79",xre="_donutCard_zqchq_85",yre="_donutHeader_zqchq_87",bre="_legend_zqchq_91",_re="_legendItem_zqchq_93",wre="_legendSwatch_zqchq_95",jre="_legendRight_zqchq_97",Sre="_centerLabel_zqchq_101",nn={wrapper:rre,grid:ire,tile:are,disabled:ore,crestWrap:lre,crest:cre,ring:dre,badge:ure,meta:hre,nameRow:pre,name:mre,share:gre,sub:fre,tileButton:vre,donutCard:xre,donutHeader:yre,legend:bre,legendItem:_re,legendSwatch:wre,legendRight:jre,centerLabel:Sre},l_=56;function iv(s){return s==null||!isFinite(s)?"0.0%":`${Math.round(s*10)/10}%`}function KC(s){return s==null||!isFinite(s)?"0":`${Math.round(s)}`}const Nre=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function kre(s){return s?/drive\.google\.com/.test(s):!1}function qC(s,e=l_){if(s)return kre(s)?li(s,e):s}function Cre(s){if(s==null)return null;let e=String(s).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function Ire(s){var p,g,x,b,_,S;if(!s)return null;const e=s,n=s,r=(p=e.key)!=null?p:n.id,i=(g=e.label)!=null?g:n.name,a=(b=(x=n.crestUrl)!=null?x:e.iconUrl)!=null?b:n.iconUrl,l=(_=e.iconUrl)!=null?_:n.iconUrl,c=(S=e.fallback)!=null?S:n.fallback;if(!r||!i)return null;const u=qC(a,l_),h=qC(l,l_);return{id:r,name:String(i),crestUrl:u||h,iconUrl:h||u,fallback:c?String(c):void 0}}function q4(s,e){var p,g,x,b,_,S,C,A,M,j,y,w,P,N,k,T,L,R,$,B,H;const n={},r={},i={},a={},l=e.map(z=>z.id);for(const z of l)n[z]=0,r[z]=0,i[z]=0,a[z]=null;for(const z of Array.isArray(s)?s:[]){const W=(w=(j=(A=(S=(b=(x=(g=(p=z.classId)!=null?p:z.class)!=null?g:z.klass)!=null?x:z.playerClass)!=null?b:z.cls)!=null?S:(_=z.values)==null?void 0:_.Class)!=null?A:(C=z.values)==null?void 0:C.class)!=null?j:(M=z.values)==null?void 0:M.Klasse)!=null?w:(y=z.values)==null?void 0:y.klasse,G=Cre(W);if(!G||!l.includes(G))continue;n[G]+=1;const K=Nre((T=(N=z.level)!=null?N:(P=z.values)==null?void 0:P.Level)!=null?T:(k=z.values)==null?void 0:k.level);K!=null&&(r[G]+=K,i[G]+=1,(!a[G]||((R=(L=a[G])==null?void 0:L.level)!=null?R:-1/0)<K)&&(a[G]={id:z.id,name:(H=(B=z.name)!=null?B:($=z.values)==null?void 0:$.Name)!=null?H:null,level:K}))}const c=Object.values(n).reduce((z,W)=>z+W,0),u={},h={};return l.forEach(z=>{u[z]=c>0?n[z]/c*100:0,h[z]=i[z]>0?r[z]/i[z]:null}),{counts:n,shares:u,avg:h,top:a}}const Tre=({valuePct:s})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,s))/100);return t.jsxs("svg",{className:nn.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[t.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),t.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},Ere=({data:s,classMeta:e,onPickClass:n})=>{const[r,i]=E.useState({}),a=Array.isArray(s)?s:[],l=Array.isArray(e)?e:[],{counts:c,shares:u,avg:h,top:p}=E.useMemo(()=>q4(a,l),[a,l]);return t.jsx("section",{className:nn.wrapper,children:t.jsx("div",{className:nn.grid,style:{gridTemplateColumns:"1fr"},children:l.map(g=>{var M,j,y;const x=(M=c[g.id])!=null?M:0,b=(j=u[g.id])!=null?j:0,_=h[g.id],S=p[g.id],C=x<=0,A=r[g.id]?void 0:g.crestUrl||g.iconUrl;return t.jsxs("div",{className:`${nn.tile} ${C?nn.disabled:""}`,title:C?`${g.name}: kein Mitglied`:`${g.name}  ${KC(x)}  ${iv(b)}${_?`   ${_.toFixed(1)}`:""}`,children:[t.jsxs("div",{className:nn.crestWrap,children:[A?t.jsx("img",{className:nn.crest,src:A,alt:g.name,onError:()=>i(w=>({...w,[g.id]:!0}))}):t.jsx("div",{className:nn.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=g.fallback)!=null?y:""}),t.jsx(Tre,{valuePct:b}),t.jsx("div",{className:nn.badge,children:KC(x)})]}),t.jsxs("div",{className:nn.meta,children:[t.jsxs("div",{className:nn.nameRow,children:[t.jsx("div",{className:nn.name,children:g.name}),t.jsx("div",{className:nn.share,children:iv(b)})]}),t.jsxs("div",{className:nn.sub,children:[_?` Lvl ${_.toFixed(1)}`:"",S?`  Top: ${S.name}${S.level?` (Lv ${S.level})`:""}`:""]})]}),!C&&n&&t.jsx("button",{className:nn.tileButton,onClick:()=>n(g.id),"aria-label":`${g.name} filtern`})]},g.id)})})})},Are=({data:s,classMeta:e})=>{const n=Array.isArray(s)?s:[],r=Array.isArray(e)?e:[],{shares:i,counts:a}=E.useMemo(()=>q4(n,r),[n,r]),l=E.useMemo(()=>Object.values(a).reduce((c,u)=>c+u,0),[a]);return t.jsxs("div",{className:nn.donutCard,children:[t.jsxs("div",{className:nn.donutHeader,children:[t.jsx("div",{children:"Klassen-Verteilung"}),t.jsxs("div",{className:nn.legendRight,children:["Gesamt: ",l]})]}),t.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[t.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[t.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const g=Math.PI*2,x=r.map((_,S)=>{var C;return{id:_.id,pct:(C=i[_.id])!=null?C:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*S)} 60% 55%)`}});let b=0;return x.map(_=>{const S=(_.pct||0)/100;if(S<=0)return null;const C=b,A=b+g*S;b=A;const M=A-C>Math.PI?1:0,j=130+100*Math.cos(C),y=130+100*Math.sin(C),w=130+100*Math.cos(A),P=130+100*Math.sin(A),N=130+64*Math.cos(A),k=130+64*Math.sin(A),T=130+64*Math.cos(C),L=130+64*Math.sin(C),R=`M ${j} ${y} A 100 100 0 ${M} 1 ${w} ${P} L ${N} ${k} A 64 64 0 ${M} 0 ${T} ${L} Z`;return t.jsx("path",{d:R,fill:_.color,opacity:.95},_.id)})})()]}),t.jsx("div",{className:nn.legend,children:r.map((c,u)=>{var g,x;const h=(g=i[c.id])!=null?g:0,p=(x=a[c.id])!=null?x:0;return t.jsxs("div",{className:nn.legendItem,title:`${c.name}: ${p}  ${iv(h)}`,children:[t.jsx("span",{className:nn.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),t.jsx("span",{children:c.name}),t.jsxs("span",{className:nn.legendRight,children:[p,"  ",iv(h)]})]},c.id)})})]}),t.jsx("div",{className:nn.centerLabel,children:"Anteile je Klasse"})]})},Tn={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},Pre=s=>{var e,n,r,i,a,l,c,u,h,p,g,x,b,_,S;return{id:s.id,name:(e=s.name)!=null?e:"Unknown",class:(n=s.class)!=null?n:"Unknown",role:(r=s.role)!=null?r:"Unknown",level:(i=s.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(a=s.lastActivityMs)!=null?a:null,server:null,baseStats:{main:(l=s.baseMain)!=null?l:void 0,con:(c=s.conBase)!=null?c:void 0,sumBaseTotal:(u=s.sumBaseTotal)!=null?u:void 0},totalStats:(h=s.totalStats)!=null?h:void 0,values:{treasury:(p=s.treasury)!=null?p:void 0,mine:(g=s.mine)!=null?g:void 0,attrTotal:(x=s.attrTotal)!=null?x:void 0,conTotal:(b=s.conTotal)!=null?b:void 0,lastScan:(_=s.lastScan)!=null?_:void 0,lastActivity:(S=s.lastActivity)!=null?S:void 0}}},R0=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},Rre=s=>{if(!s)return null;const e=Math.max(0,Date.now()/1e3-s);return Math.floor(e/86400)};function Q4({title:s,right:e,children:n}){return t.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Tn.tile,border:`1px solid ${Tn.line}`},children:[(s||e)&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Tn.line},children:[t.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Tn.soft},children:s}),e]}),t.jsx("div",{className:"p-4",children:n})]})}function Ch({k:s,v:e}){return t.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[t.jsx("span",{className:"opacity-80",children:s}),t.jsx("span",{className:"font-semibold",style:{color:Tn.title},children:e})]})}function Lre({guild:s}){var n,r;const e=Ap(s.name,800);return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:t.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?t.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):t.jsx("div",{className:"text-6xl",children:""})})}),t.jsx(Q4,{title:"GILDEN INFO",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsx(Ch,{k:"Mitglieder",v:(n=s.memberCount)!=null?n:""}),t.jsx(Ch,{k:"HoF-Rang",v:s.hofRank!=null?`#${s.hofRank}`:""}),t.jsx(Ch,{k:"Server",v:(r=s.server)!=null?r:""}),t.jsx(Ch,{k:"Inaktiv",v:"0"}),t.jsx(Ch,{k:"Aktivitt",v:"100%"})]})})]})}function L0(){var C,A,M,j,y,w;const s=bv(),e=s.id||s.gid||s.guildId||s.guild||"",n=oi(),[r,i]=E.useState(!0),[a,l]=E.useState(null),[c,u]=E.useState(null),[h,p]=E.useState(null),[g,x]=E.useState("grid"),b=E.useMemo(()=>(Array.isArray(Jn)?Jn:[]).map(Ire).filter(Boolean),[]);E.useEffect(()=>{let P=!1;async function N(){var T,L,R,$,B,H,z,W,G,K,te,X,U,J,se,ne,ue,we,Me,ee,ge,oe,ye,je,ke,qe,me,Ie,Xe,it,Nt,be,De,Ee,at,mt,Ve;const k=Xn("GuildProfile:load");i(!0),l(null);try{const Se=e.trim();if(!Se){l("Keine Gilde gewhlt."),i(!1);return}const We=rs(yt,`guilds/${Se}/latest/latest`),_t=await Lo(k,We,()=>_n(We));if(!_t.exists()){l("Gilde nicht gefunden."),i(!1);return}const Ot=_t.data(),Rs=(R=(L=Ot.name)!=null?L:(T=Ot.values)==null?void 0:T.Name)!=null?R:Se,ms=(H=(B=Ot.server)!=null?B:($=Ot.values)==null?void 0:$.Server)!=null?H:null,gs=(te=R0((K=(W=Ot.memberCount)!=null?W:(z=Ot.values)==null?void 0:z["Guild Member Count"])!=null?K:(G=Ot.values)==null?void 0:G.GuildMemberCount))!=null?te:null,Js=(ee=R0((Me=(ue=(se=(U=Ot.hofRank)!=null?U:(X=Ot.values)==null?void 0:X["Hall of Fame Rank"])!=null?se:(J=Ot.values)==null?void 0:J.HoF)!=null?ue:(ne=Ot.values)==null?void 0:ne.Rank)!=null?Me:(we=Ot.values)==null?void 0:we["Guild Rank"]))!=null?ee:null,It=Rre(R0(Ot.timestamp));P||u({id:Se,name:Rs,server:ms,memberCount:gs,hofRank:Js,lastScanDays:It});const mn=rs(yt,`guilds/${Se}/snapshots/members_summary`),Zt=await Lo(k,mn,()=>_n(mn));if(Zt.exists()&&!P){const Z=Zt.data(),ze={guildId:String((ge=Z.guildId)!=null?ge:Se),updatedAt:String((je=(ye=Z.updatedAt)!=null?ye:(oe=Ot.values)==null?void 0:oe.Timestamp)!=null?je:""),updatedAtMs:Number((qe=(ke=Z.updatedAtMs)!=null?ke:Ot.timestamp*1e3)!=null?qe:0),count:Number((me=Z.count)!=null?me:0),hash:String((Ie=Z.hash)!=null?Ie:""),avgLevel:(Xe=Z.avgLevel)!=null?Xe:null,avgTreasury:(it=Z.avgTreasury)!=null?it:null,avgMine:(Nt=Z.avgMine)!=null?Nt:null,avgBaseMain:(be=Z.avgBaseMain)!=null?be:null,avgConBase:(De=Z.avgConBase)!=null?De:null,avgSumBaseTotal:(Ee=Z.avgSumBaseTotal)!=null?Ee:null,avgAttrTotal:(at=Z.avgAttrTotal)!=null?at:null,avgConTotal:(mt=Z.avgConTotal)!=null?mt:null,avgTotalStats:(Ve=Z.avgTotalStats)!=null?Ve:null,members:Array.isArray(Z.members)?Z.members:[]};p(ze)}}catch(Se){P||l((Se==null?void 0:Se.message)||"Fehler beim Laden.")}finally{hn(k),P||i(!1)}}return N(),()=>{P=!0}},[e]);const _=E.useMemo(()=>{var P;return((P=h==null?void 0:h.members)!=null?P:[]).map(N=>Pre(N))},[h]);if(r)return t.jsx(Ht,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:t.jsx("div",{className:"text-sm",style:{color:Tn.soft},children:"Lade Gildenprofil"})});if(!c)return t.jsx(Ht,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:t.jsxs("div",{className:"text-sm",style:{color:Tn.soft},children:[a!=null?a:"Unbekannter Fehler.",t.jsx("div",{className:"mt-3",children:t.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const S=t.jsx("div",{className:"mt-2",children:t.jsxs("div",{className:"px-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Tn.line}`,position:"relative",zIndex:2},children:[t.jsx("div",{className:"min-w-[120px]",children:t.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Tn.tile,border:`1px solid ${Tn.line}`,color:Tn.title},children:(C=c.server)!=null?C:"S?.EU"})}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("div",{className:"font-extrabold",style:{color:Tn.title,fontSize:26,lineHeight:1.15},children:c.name})}),t.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Tn.soft},children:["Zuletzt aktualisiert:",h!=null&&h.updatedAt?h.updatedAt:""," ",t.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),t.jsx("div",{style:{height:1,background:Tn.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return t.jsxs(Ht,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[S,t.jsx("div",{className:"px-6 pb-8",children:t.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[t.jsx("div",{className:"col-span-12 md:col-span-3",children:t.jsx(Lre,{guild:c})}),t.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[t.jsx(nre,{guild:c,snapshot:h,emblemUrl:Ap(c.name,512)||void 0,colors:Tn}),t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-full max-w-[980px]",children:t.jsx(fse,{guildName:c.name,server:(A=c.server)!=null?A:"",emblemUrl:Ap(c.name,512)||void 0,lastScanISO:h!=null&&h.updatedAtMs?new Date(h.updatedAtMs).toISOString():void 0,members:(M=c.memberCount)!=null?M:0,avgLevel:(j=h==null?void 0:h.avgLevel)!=null?j:0,totalPower:(y=h==null?void 0:h.avgTotalStats)!=null?y:void 0,tickerItems:h!=null&&h.updatedAt?[`Updated ${h.updatedAt}`,`Members ${(w=c.memberCount)!=null?w:0}`]:void 0})})}),t.jsx(Dre,{members:_,guildId:c.id,guildName:c.name,guildServer:c.server})]}),t.jsxs("div",{className:"col-span-12 md:col-span-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("button",{onClick:()=>x("grid"),"aria-label":"Klassenbersicht",children:t.jsx(Vl,{text:"Klassenbersicht",tone:g==="grid"?"accent":"default"})}),t.jsx("button",{onClick:()=>x("donut"),"aria-label":"Klassenverteilung",children:t.jsx(Vl,{text:"Klassenverteilung",tone:g==="donut"?"accent":"default"})})]}),g==="grid"?t.jsx(Ere,{data:_,classMeta:b,onPickClass:P=>{const N=new URL(window.location.href);N.searchParams.set("tab","bersicht"),N.searchParams.set("class",P),window.location.href=N.toString()}}):t.jsx(Are,{data:_,classMeta:b})]})]})})]})}function Dre({members:s,guildId:e,guildName:n,guildServer:r}){const[i,a]=E.useState("bersicht");return t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Tn.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(l=>{const c=l===i;return t.jsx("button",{role:"tab","aria-selected":c,onClick:()=>a(l),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${c?Tn.header:"transparent"}`,background:c?"rgba(45,78,120,0.35)":"transparent",color:Tn.title},children:l},l)})}),t.jsxs(Q4,{children:[i==="bersicht"&&t.jsx(gse,{members:s,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&t.jsxs("div",{className:"text-sm",style:{color:Tn.soft},children:["Platzhalter ",t.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&t.jsx(hne,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&t.jsxs("div",{className:"text-sm",style:{color:Tn.soft},children:["Platzhalter ",t.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function Mre(){const{t:s}=wn();return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Servers"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsx(D0,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),t.jsx(D0,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"}),t.jsx(D0,{to:"/servers/overview",title:s("servers.tiles.overview.title"),desc:s("servers.tiles.overview.subtitle")})]})]})}function D0({to:s,title:e,desc:n}){return t.jsxs(ks,{to:s,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?t.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function Fre(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Servers  Rankings"}),t.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function $re(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Servers  Stats"}),t.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Bre="_card_1rxdx_21",Ore="_hoverLift_1rxdx_51",Vre="_title_1rxdx_63",Ure="_body_1rxdx_89",zre="_iconStack_1rxdx_99",Ih={card:Bre,hoverLift:Ore,title:Vre,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:Ure,iconStack:zre};function Y4({title:s,padding:e="md",hover:n=!0,className:r="",children:i}){return t.jsxs("div",{className:[Ih.card,Ih[`pad-${e}`],n?Ih.hoverLift:"",r].join(" "),children:[s?t.jsx("div",{className:Ih.title,children:s}):null,t.jsx("div",{className:Ih.body,children:i})]})}const Hre="_page_frkd2_1",Gre="_controlsRow_frkd2_13",Wre="_controls_frkd2_13",Kre="_controlButton_frkd2_33",qre="_entryGrid_frkd2_63",Qre="_entryItem_frkd2_75",Yre="_nodeList_frkd2_89",Xre="_nodeChildren_frkd2_91",Jre="_nodeItem_frkd2_121",Zre="_nodeButton_frkd2_129",eie="_nodeCard_frkd2_149",tie="_nodeTitleRow_frkd2_157",sie="_nodeTitle_frkd2_157",nie="_nodeToggle_frkd2_181",rie="_nodeMeta_frkd2_207",iie="_nodeCode_frkd2_225",aie="_placeholder_frkd2_233",oie="_desktopOnly_frkd2_245",$n={page:Hre,controlsRow:Gre,controls:Wre,controlButton:Kre,entryGrid:qre,entryItem:Qre,nodeList:Yre,nodeChildren:Xre,nodeItem:Jre,nodeButton:Zre,nodeCard:eie,nodeTitleRow:tie,nodeTitle:sie,nodeToggle:nie,nodeMeta:rie,nodeCode:iie,placeholder:aie,desktopOnly:oie};function ft(s,e,n){const r=[];for(let i=e;i<=n;i+=1)r.push(`${s}${i}`);return r}function lie(s){const e=/^([A-Z]+)(\d+)$/.exec(s);return e?`${e[1]} ${e[2]}`:s}function cie(s){return{code:s,displayName:lie(s),type:"origin",tier:0,mergedFrom:[]}}function die(s,e){return{code:s,displayName:e!=null?e:s,type:"other",tier:0,mergedFrom:[]}}function Is(s,e,n,r){return{code:s,displayName:r!=null?r:s,type:"fusion",tier:n,mergedFrom:e}}const bs={};function ln(s){for(const e of s)bs[e]=cie(e)}function uie(s){for(const e of s)bs[e]=die(e)}ln(ft("EU",1,23));ln(ft("US",1,10));ln(ft("BR",1,2));ln(ft("CL",1,2));ln(["CA1","MX1"]);ln(ft("AE",1,2));ln(ft("DK",1,2));ln(ft("NL",1,3));ln(ft("SE",1,2));ln(ft("UK",1,2));ln(["IN1","JP1","RO1","RU1"]);ln(ft("IT",1,8));ln(ft("GR",1,6));ln(ft("PT",1,8));ln(ft("TR",1,6));ln(ft("ES",1,12));ln(ft("FR",1,15));ln(ft("PL",1,40));ln(ft("DE",1,43));ln(ft("INT",1,60));ln(ft("CZ",1,35));ln(ft("SK",1,3));ln(ft("HU",1,20));uie(["tv2","123playgames","minijuegos","rtl","rtl2","sevengames","wp","buffed","gamona","xchar","ingame"]);bs.F1=Is("F1",[...ft("BR",1,2),"CA1",...ft("CL",1,2),"MX1",...ft("US",1,10)],1);bs.F2=Is("F2",[...ft("AE",1,2),...ft("DK",1,2),"tv2","IN1","JP1",...ft("NL",1,3),"RO1","RU1",...ft("SE",1,2),...ft("UK",1,2)],1);bs.F3=Is("F3",[...ft("IT",1,8)],1);bs.F4=Is("F4",[...ft("GR",1,6),"123playgames",...ft("PT",1,8),...ft("TR",1,6)],1);bs.F5=Is("F5",[...ft("ES",1,12),"minijuegos"],1);bs.F6=Is("F6",[...ft("FR",1,13)],1);bs.F7=Is("F7",[...ft("PL",7,17)],1);bs.F8=Is("F8",[...ft("DE",5,12)],1);bs.F9=Is("F9",[...ft("DE",25,37)],1);bs.F10=Is("F10",[...ft("PL",18,33)],1);bs.F11=Is("F11",[...ft("DE",13,24),"rtl","sevengames"],1);bs.F12=Is("F12",[...ft("INT",1,5)],1);bs.F13=Is("F13",[...ft("PL",1,6),"wp"],1);bs.F14=Is("F14",[...ft("INT",15,21)],1);bs.F15=Is("F15",[...ft("CZ",17,28),"SK2","SK3"],1);bs.F16=Is("F16",[...ft("CZ",6,16),"SK1"],1);bs.F17=Is("F17",[...ft("DE",1,4),"buffed","rtl2","gamona","xchar","ingame"],1);bs.F18=Is("F18",[...ft("CZ",1,5)],1);bs.F19=Is("F19",[...ft("HU",1,15)],1);bs.F20=Is("F20",[...ft("INT",6,14),"CZ29","HU16","PL34"],1);bs.F21=Is("F21",[...ft("INT",22,30),"CZ30","DE38","PL35"],1);bs.F22=Is("F22",[...ft("INT",31,37),"CZ31","CZ32","DE39","DE40","HU17","PL36","PL37"],1);bs.F23=Is("F23",[...ft("INT",38,45),"FR14","FR15","CZ33","CZ34","DE41","DE42","HU18","HU19","PL38","PL39"],1);bs.F24=Is("F24",[...ft("INT",46,50)],1);bs.F25=Is("F25",[...ft("INT",51,52),"CZ35","DE43","HU20","PL40"],1);bs.F26=Is("F26",[...ft("INT",53,56)],1);bs.F27=Is("F27",[...ft("INT",57,60)],1);bs.MAERWYNN=Is("MAERWYNN",["F1","F2","F3","F4","F5"],2,"Maerwynn");bs.BLACK_FOREST=Is("BLACK_FOREST",["F7","F10","F13"],2,"Black Forest");bs.GRANOGRIM=Is("GRANOGRIM",["F15","F16","F18"],2,"Granogrim");const hie=["MAERWYNN","BLACK_FOREST","GRANOGRIM",...ft("F",1,27),...ft("EU",1,23)],pie={entrypoints:hie,nodes:bs},QC=(s,e)=>{const n=e[s];return n?{node:n,isPlaceholder:!1,key:n.code}:{node:{code:s,displayName:s,type:"other",tier:0,mergedFrom:[]},isPlaceholder:!0,key:`placeholder:${s}`}},mie=(s,e)=>{var i,a;const n=new Set,r=[...s];for(;r.length;){const l=r.pop();if(!l||n.has(l))continue;n.add(l),((a=(i=e[l])==null?void 0:i.mergedFrom)!=null?a:[]).forEach(u=>{n.has(u)||r.push(u)})}return n};function YC({node:s,hasChildren:e,isExpanded:n,isPlaceholder:r,onToggle:i}){return t.jsx("button",{type:"button",onClick:i,className:$n.nodeButton,"aria-expanded":e?n:void 0,children:t.jsxs(Y4,{hover:!0,className:[$n.nodeCard,r?$n.placeholder:""].join(" "),children:[t.jsxs("div",{className:$n.nodeTitleRow,children:[t.jsx("div",{className:$n.nodeTitle,children:s.displayName||s.code}),e?t.jsx("span",{className:$n.nodeToggle,"aria-hidden":!0,children:n?"-":"+"}):null]}),t.jsx("div",{className:$n.nodeMeta,children:t.jsx("span",{className:$n.nodeCode,children:s.code})})]})})}function gie(){const{t:s}=wn(),{entrypoints:e,nodes:n}=pie,[r,i]=Q.useState(()=>new Set),a=h=>{i(p=>{const g=new Set(p);return g.has(h)?g.delete(h):g.add(h),g})},l=()=>{i(mie(e,n))},c=()=>{i(new Set)},u=(h,p)=>{var C;if(p.has(h))return null;const g=QC(h,n),x=(C=g.node.mergedFrom)!=null?C:[],b=x.length>0,_=r.has(h),S=new Set(p);return S.add(h),t.jsxs("li",{className:$n.nodeItem,children:[t.jsx(YC,{node:g.node,hasChildren:b,isExpanded:_,isPlaceholder:g.isPlaceholder,onToggle:()=>a(h)}),b&&_?t.jsx("ul",{className:$n.nodeChildren,children:x.map(A=>u(A,S))}):null]},g.key)};return t.jsxs("div",{className:$n.page,children:[t.jsx("div",{className:$n.controlsRow,children:t.jsxs("div",{className:`${$n.controls} ${$n.desktopOnly}`,children:[t.jsx("button",{type:"button",onClick:l,className:$n.controlButton,children:s("servers.overview.expandAll")}),t.jsx("button",{type:"button",onClick:c,className:$n.controlButton,children:s("servers.overview.collapseAll")})]})}),t.jsx("div",{className:$n.entryGrid,children:e.map(h=>{var _;const p=QC(h,n),g=(_=p.node.mergedFrom)!=null?_:[],x=g.length>0,b=r.has(h);return t.jsxs("div",{className:$n.entryItem,children:[t.jsx(YC,{node:p.node,hasChildren:x,isExpanded:b,isPlaceholder:p.isPlaceholder,onToggle:()=>a(h)}),x&&b?t.jsx("ul",{className:$n.nodeList,children:g.map(S=>u(S,new Set([h])))}):null]},p.key)})})]})}function fie(){const{t:s}=wn();return t.jsx(Ht,{title:s("servers.overview.pageTitle"),centerFramed:!1,padded:!0,children:t.jsx(gie,{})})}const Gn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function XC({children:s,style:e}){return t.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:s})}function vie({size:s=36}){return t.jsx("div",{style:{width:s,height:s,display:"grid",placeItems:"center"},"aria-hidden":!0,children:t.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(s*.72)},children:""})})}function Bd({label:s,value:e}){return t.jsxs("div",{style:{background:Gn.tileAlt,border:`1px solid ${Gn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[t.jsx("div",{style:{fontSize:12,color:Gn.textSoft,marginBottom:4},children:s}),t.jsx("div",{style:{fontSize:22,color:Gn.title,fontWeight:700},children:e})]})}function xie(s){const e=s.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),a=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let l="";const c=n.match(/^([A-Z]{2})(\d{1,3})$/);if(c){const u=c[1],h=String(parseInt(c[2],10)),p=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();l=`s${h}.sfgame.${p}`}return Array.from(new Set([e,n,r,i,a,l].filter(Boolean)))}function M0(){var S,C,A,M;const s=bv(),e=oi(),n=Zn(),r=s.id||s.sid||s.serverId||s.server||"",[i,a]=E.useState(!0),[l,c]=E.useState(null),[u,h]=E.useState(null),[p,g]=E.useState(null);E.useEffect(()=>{let j=!1;async function y(){const w=Xn("ServerProfile:load");a(!0),c(null),h(null),g(null);try{const P=r.trim();if(!P)throw new Error("Kein Server gewhlt.");const N=rs(yt,`servers/${P}`),k=await Lo(w,N,()=>_n(N));if(k.exists()){j||(h(k.id),g(k.data()));return}const T=qa(yt,"servers"),L=xie(P),R=[];for(const z of L)R.push(pn(w,T,()=>rn(Pn(T,wi("code","==",z),Qn(1))))),R.push(pn(w,T,()=>rn(Pn(T,wi("displayName","==",z),Qn(1))))),R.push(pn(w,T,()=>rn(Pn(T,wi("host","==",z),Qn(1)))));const $=await Promise.allSettled(R);let B=null,H=null;for(const z of $){if(z.status!=="fulfilled")continue;const W=z.value;if(!W.empty){const G=W.docs[0];B=G.id,H=G.data();break}}if(!B||!H)throw new Error("Server nicht gefunden.");j||(h(B),g(H),B!==P&&e(`/server/${encodeURIComponent(B)}`,{replace:!0,state:{from:n.pathname}}))}catch(P){j||c((P==null?void 0:P.message)||"Fehler beim Laden.")}finally{hn(w),j||a(!1)}}return y(),()=>{j=!0}},[r,e,n.pathname]);const x=E.useMemo(()=>t.jsxs("div",{style:{padding:24,color:Gn.textSoft},children:[l!=null?l:"Unbekannter Fehler.",t.jsx("div",{style:{marginTop:12},children:t.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Gn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,e]);if(i)return t.jsx(Ht,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:t.jsx("div",{style:{padding:16,color:Gn.textSoft},children:"Lade Serverprofil"})});if(!p)return t.jsx(Ht,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:x});const b=p.displayName||p.code||u||r,_=p.active===!0?"Aktiv":p.active===!1?"Inaktiv":"";return t.jsxs(Ht,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[t.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Gn.line}`},children:t.jsxs(XC,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[t.jsx(vie,{size:36}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:18,color:Gn.title,fontWeight:700},children:b}),t.jsxs("div",{style:{fontSize:12,color:Gn.textSoft},children:[p.host||"","  ",p.region||"","  ",((S=p.type)==null?void 0:S.toUpperCase())||""]})]})]})}),t.jsxs(XC,{style:{paddingTop:12,paddingBottom:24},children:[t.jsxs("div",{style:{background:Gn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Gn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:0,color:Gn.title,fontSize:24,fontWeight:800},children:b}),t.jsxs("div",{style:{marginTop:6,color:Gn.textSoft,fontSize:13},children:[p.host||"","  ",p.region||"","  ",((C=p.type)==null?void 0:C.toUpperCase())||""]})]}),t.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[t.jsxs("span",{style:{color:Gn.textSoft},children:["Status: ",_]}),t.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:p.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[t.jsx(Bd,{label:"Code",value:p.code||""}),t.jsx(Bd,{label:"Host",value:p.host||""}),t.jsx(Bd,{label:"Region",value:p.region||""}),t.jsx(Bd,{label:"Typ",value:((A=p.type)==null?void 0:A.toUpperCase())||""}),t.jsx(Bd,{label:"Numeric ID",value:(M=p.numericId)!=null?M:""}),t.jsx(Bd,{label:"Status",value:_})]}),t.jsxs("div",{style:{marginTop:16,background:Gn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Gn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Gn.textSoft},children:["Platzhalter ",t.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const yie="_page_177kv_1",bie="_sectionCard_177kv_15",_ie="_identityCard_177kv_29",wie="_identityGrid_177kv_39",jie="_profileName_177kv_63",Sie="_identityMeta_177kv_77",Nie="_mainCharacter_177kv_95",kie="_characterHeader_177kv_117",Cie="_characterTitle_177kv_131",Iie="_characterSubtitle_177kv_143",Tie="_classIcon_177kv_153",Eie="_metaGrid_177kv_181",Aie="_metaLabel_177kv_193",Pie="_metaValue_177kv_207",Rie="_portrait_177kv_217",Lie="_sectionHeader_177kv_245",Die="_sectionHint_177kv_265",Mie="_bioText_177kv_275",Fie="_tagGroups_177kv_295",$ie="_tagGroupLabel_177kv_309",Bie="_tagList_177kv_323",Oie="_tag_177kv_295",Vie="_showcaseGrid_177kv_353",Uie="_characterCard_177kv_365",zie="_characterCardHeader_177kv_385",Hie="_characterName_177kv_399",Gie="_badge_177kv_411",Wie="_characterMeta_177kv_433",Kie="_characterStats_177kv_449",qie="_statGrid_177kv_465",Qie="_statTile_177kv_477",Yie="_statLabel_177kv_491",Xie="_statValue_177kv_505",Jie="_statSubtext_177kv_519",Zie="_emptyState_177kv_531",eae="_recordsHighlights_177kv_551",tae="_highlightCard_177kv_565",sae="_recordType_177kv_579",nae="_recordTitle_177kv_593",rae="_timeline_177kv_607",iae="_timelineItem_177kv_625",aae="_timelineBullet_177kv_635",oae="_timelineContent_177kv_653",lae="_timelineTitle_177kv_661",cae="_timelineMeta_177kv_673",dae="_achievementsHighlights_177kv_685",uae="_achievementCard_177kv_699",hae="_achievementIcon_177kv_723",pae="_achievementName_177kv_747",mae="_achievementDesc_177kv_759",gae="_achievementTier_177kv_771",fae="_achievementDate_177kv_785",vae="_achievementsGrid_177kv_795",xae="_achievementBadge_177kv_807",yae="_tierGold_177kv_831",bae="_tierSilver_177kv_839",_ae="_tierBronze_177kv_847",He={page:yie,sectionCard:bie,identityCard:_ie,identityGrid:wie,profileName:jie,identityMeta:Sie,mainCharacter:Nie,characterHeader:kie,characterTitle:Cie,characterSubtitle:Iie,classIcon:Tie,metaGrid:Eie,metaLabel:Aie,metaValue:Pie,portrait:Rie,sectionHeader:Lie,sectionHint:Die,bioText:Mie,tagGroups:Fie,tagGroupLabel:$ie,tagList:Bie,tag:Oie,showcaseGrid:Vie,characterCard:Uie,characterCardHeader:zie,characterName:Hie,badge:Gie,characterMeta:Wie,characterStats:Kie,statGrid:qie,statTile:Qie,statLabel:Yie,statValue:Xie,statSubtext:Jie,emptyState:Zie,recordsHighlights:eae,highlightCard:tae,recordType:sae,recordTitle:nae,timeline:rae,timelineItem:iae,timelineBullet:aae,timelineContent:oae,timelineTitle:lae,timelineMeta:cae,achievementsHighlights:dae,achievementCard:uae,achievementIcon:hae,achievementName:pae,achievementDesc:mae,achievementTier:gae,achievementDate:fae,achievementsGrid:vae,achievementBadge:xae,tierGold:yae,tierSilver:bae,tierBronze:_ae},wae={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},jae=1e3*60*60*24,JC={gold:3,silver:2,bronze:1};function Sae(s){const e=new Date(s).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/jae)}function qg(s){const e=new Date(s);return Number.isNaN(e.getTime())?Lt("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function Nae(){const{profileId:s}=bv(),e=wae,n=Sae(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(p=>p.type==="record").slice(0,3),a=[...e.achievements].sort((p,g)=>JC[g.tier]-JC[p.tier]).slice(0,3),l=[{label:Lt("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:Lt("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:Lt("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:Lt("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],c=n==null?Lt("profile.public.identity.dateUnknown"):n===0?Lt("profile.public.identity.lastScanToday"):`${n} ${Lt("profile.public.identity.daysAgoSuffix")}`,u=Lt("profile.public.identity.portraitPlaceholder"),h=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):Lt("profile.public.identity.unknownValue");return t.jsx(Ht,{title:Lt("profile.public.title"),subtitle:Lt("profile.public.subtitle"),centerFramed:!1,padded:!0,children:t.jsxs("div",{className:He.page,children:[t.jsx("section",{className:`${He.sectionCard} ${He.identityCard}`,children:t.jsxs("div",{className:He.identityGrid,children:[t.jsxs("div",{children:[t.jsx("h1",{className:He.profileName,children:e.profileUser.displayName}),t.jsxs("div",{className:He.identityMeta,children:[t.jsxs("span",{children:[Lt("profile.public.identity.profileIdLabel"),": ",s!=null?s:Lt("profile.public.identity.unknownValue")]}),t.jsxs("span",{children:[Lt("profile.public.identity.lastScanLabel"),": ",c]})]}),t.jsxs("article",{className:He.mainCharacter,children:[t.jsxs("div",{className:He.characterHeader,children:[t.jsxs("div",{children:[t.jsx("div",{className:He.metaLabel,children:Lt("profile.public.identity.mainCharacterLabel")}),t.jsx("div",{className:He.characterTitle,children:e.mainCharacter.name}),t.jsxs("div",{className:He.characterSubtitle,children:[e.mainCharacter.class,"  ",Lt("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),t.jsx("div",{className:He.classIcon,children:e.mainCharacter.class.charAt(0)})]}),t.jsxs("div",{className:He.metaGrid,children:[t.jsxs("div",{children:[t.jsx("div",{className:He.metaLabel,children:Lt("profile.public.identity.serverLabel")}),t.jsx("div",{className:He.metaValue,children:e.mainCharacter.server})]}),t.jsxs("div",{children:[t.jsx("div",{className:He.metaLabel,children:Lt("profile.public.identity.guildLabel")}),t.jsx("div",{className:He.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),t.jsx("div",{className:He.portrait,children:u})]})}),t.jsxs("section",{className:He.sectionCard,children:[t.jsx("div",{className:He.sectionHeader,children:t.jsx("span",{children:Lt("profile.public.bio.title")})}),t.jsx("p",{className:He.bioText,children:e.bio}),t.jsxs("div",{className:He.tagGroups,children:[t.jsxs("div",{children:[t.jsx("div",{className:He.tagGroupLabel,children:Lt("profile.public.bio.languagesLabel")}),t.jsx("div",{className:He.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(p=>t.jsx("span",{className:He.tag,children:p.toUpperCase()},p)):t.jsx("span",{className:He.tag,children:Lt("profile.public.identity.unknownValue")})})]}),t.jsxs("div",{children:[t.jsx("div",{className:He.tagGroupLabel,children:Lt("profile.public.bio.rolesLabel")}),t.jsx("div",{className:He.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(p=>t.jsx("span",{className:He.tag,children:Lt(`profile.public.roles.${p}`)},p)):t.jsx("span",{className:He.tag,children:Lt("profile.public.identity.unknownValue")})})]})]})]}),t.jsxs("section",{className:He.sectionCard,children:[t.jsxs("div",{className:He.sectionHeader,children:[t.jsx("span",{children:Lt("profile.public.showcase.title")}),t.jsx("span",{className:He.sectionHint,children:Lt("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?t.jsx("div",{className:He.emptyState,children:Lt("profile.public.showcase.empty")}):t.jsx("div",{className:He.showcaseGrid,children:e.showcaseCharacters.map(p=>t.jsxs("article",{className:He.characterCard,children:[t.jsxs("div",{className:He.characterCardHeader,children:[t.jsxs("div",{children:[t.jsx("div",{className:He.characterName,children:p.name}),t.jsxs("div",{className:He.characterMeta,children:[t.jsx("span",{children:p.class}),t.jsxs("span",{children:[Lt("profile.public.identity.levelShort")," ",p.level]})]})]}),t.jsx("span",{className:He.badge,children:Lt(`profile.public.showcase.tags.${p.tag}`)})]}),t.jsxs("div",{className:He.characterMeta,children:[t.jsx("span",{children:p.server}),t.jsx("span",{children:p.guildName})]}),t.jsxs("div",{className:He.characterStats,children:[t.jsxs("span",{children:[Lt("profile.public.showcase.scrapbookLabel")," ",p.scrapbookPercent,"%"]}),t.jsxs("span",{children:[Lt("profile.public.showcase.highlightLabel"),": ",p.highlightProgress]})]})]},p.id))})]}),t.jsxs("section",{className:He.sectionCard,children:[t.jsx("div",{className:He.sectionHeader,children:t.jsx("span",{children:Lt("profile.public.stats.title")})}),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:He.statGrid,children:l.map(p=>t.jsxs("article",{className:He.statTile,children:[t.jsx("div",{className:He.statLabel,children:p.label}),t.jsx("div",{className:He.statValue,children:p.value})]},p.label))}),t.jsxs("div",{className:He.statSubtext,children:[Lt("profile.public.stats.topServersLabel"),": ",h]}),t.jsxs("div",{className:He.statSubtext,children:[Lt("profile.public.stats.firstScanLabel"),": ",qg(e.scanStats.firstScanAt)]})]})]}),t.jsxs("section",{className:He.sectionCard,children:[t.jsx("div",{className:He.sectionHeader,children:t.jsx("span",{children:Lt("profile.public.records.title")})}),e.recordsAndMilestones.length===0?t.jsx("div",{className:He.emptyState,children:Lt("profile.public.records.empty")}):t.jsxs(t.Fragment,{children:[i.length>0&&t.jsx("div",{className:He.recordsHighlights,children:i.map(p=>t.jsxs("article",{className:He.highlightCard,children:[t.jsx("div",{className:He.recordType,children:Lt(`profile.public.records.type.${p.type}`)}),t.jsx("div",{className:He.recordTitle,children:p.title}),t.jsxs("div",{className:He.timelineMeta,children:[qg(p.when),"  ",p.context]})]},p.id))}),t.jsx("ul",{className:He.timeline,children:e.recordsAndMilestones.map(p=>t.jsxs("li",{className:He.timelineItem,children:[t.jsx("div",{className:He.timelineBullet}),t.jsxs("div",{className:He.timelineContent,children:[t.jsx("div",{className:He.timelineTitle,children:p.title}),t.jsxs("div",{className:He.timelineMeta,children:[qg(p.when),"  ",p.context]})]})]},p.id))})]})]}),t.jsxs("section",{className:He.sectionCard,children:[t.jsxs("div",{className:He.sectionHeader,children:[t.jsx("span",{children:Lt("profile.public.achievements.title")}),e.achievements.length>0&&t.jsx("span",{className:He.sectionHint,children:Lt("profile.public.achievements.highlights")})]}),e.achievements.length===0?t.jsx("div",{className:He.emptyState,children:Lt("profile.public.achievements.empty")}):t.jsxs(t.Fragment,{children:[a.length>0&&t.jsx("div",{className:He.achievementsHighlights,children:a.map(p=>t.jsxs("article",{className:He.achievementCard,children:[t.jsx("div",{className:[He.achievementIcon,p.tier==="gold"?He.tierGold:p.tier==="silver"?He.tierSilver:He.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),t.jsx("div",{className:He.achievementTier,children:Lt(`profile.public.achievements.tiers.${p.tier}`)}),t.jsx("div",{className:He.achievementName,children:Lt(p.nameKey)}),t.jsx("div",{className:He.achievementDesc,children:Lt(p.descriptionKey)}),p.unlockedAt&&t.jsx("div",{className:He.achievementDate,children:qg(p.unlockedAt)})]},p.id))}),t.jsx("div",{className:He.achievementsGrid,children:e.achievements.map(p=>t.jsxs("article",{className:He.achievementBadge,children:[t.jsx("div",{className:[He.achievementIcon,p.tier==="gold"?He.tierGold:p.tier==="silver"?He.tierSilver:He.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),t.jsx("div",{className:He.achievementName,children:Lt(p.nameKey)}),t.jsx("div",{className:He.achievementDesc,children:Lt(p.descriptionKey)})]},p.id))})]})]})]})})}const kae="_wrap_k6pqt_1",Cae="_centerLogoWrap_k6pqt_21",Iae="_centerLogoLink_k6pqt_37",Tae="_centerLogo_k6pqt_21",Eae="_arc_k6pqt_55",Aae="_left_k6pqt_57",Pae="_right_k6pqt_59",Rae="_sub_k6pqt_61",Lae="_full_k6pqt_63",Dae="_arcItem_k6pqt_65",Mae="_iconBtn_k6pqt_71",Fae="_active_k6pqt_125",$ae="_iconImg_k6pqt_135",Bae="_placeholderIcon_k6pqt_139",Oae="_placeholderText_k6pqt_157",Vae="_iconLabel_k6pqt_161",cr={wrap:kae,centerLogoWrap:Cae,centerLogoLink:Iae,centerLogo:Tae,arc:Eae,left:Aae,right:Pae,sub:Rae,full:Lae,arcItem:Dae,iconBtn:Mae,active:Fae,iconImg:$ae,placeholderIcon:Bae,placeholderText:Oae,iconLabel:Vae},Uae=({to:s,label:e,icon:n,variant:r="main"})=>{const{search:i}=Zn();let a=!1;try{const l=new URLSearchParams(i),c=l.get("tab"),u=l.get("sub"),h=l.get("sub2"),p=new URL(s,window.location.origin).searchParams,g=p.get("tab"),x=p.get("sub"),b=p.get("sub2");r==="main"?a=c===g:r==="sub"?a=c===g&&!!x&&u===x:a=c===g&&!!x&&u===x&&!!b&&h===b}catch(l){a=!1}return t.jsxs(ks,{to:s,"aria-label":e,className:[cr.iconBtn,a?cr.active:""].join(" "),title:e,replace:!1,children:[n?t.jsx("img",{src:n,alt:"",className:cr.iconImg}):t.jsx("div",{className:cr.placeholderIcon,"aria-hidden":"true",children:t.jsx("span",{className:cr.placeholderText,children:e.slice(0,2).toUpperCase()})}),t.jsx("div",{className:cr.iconLabel,children:e})]})},Qg=({items:s,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440,superOffset:c=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const u=E.useMemo(()=>{const g=s.length;if(g===0)return[];let x=-90,b=90;e==="left"?(x=90,b=270):e==="sub"||e==="sub2"?n==="left"?(x=90,b=270):(x=-90,b=90):e==="full"&&(x=0,b=360);const _=(b-x)/(g+1),S=r?190:250;return s.map((C,A)=>{const j=(x+_*(A+1))*Math.PI/180;return{it:C,x:Math.cos(j)*S,y:Math.sin(j)*S}})},[s,e,n,r]),h=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${a}px)`:e==="right"?g.left=`calc(50% + ${a}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),g})(),p=e==="sub"?"sub":e==="sub2"?"sub2":"main";return t.jsx("div",{className:[cr.arc,e==="left"?cr.left:"",e==="right"?cr.right:"",e==="sub"?cr.sub:"",e==="sub2"?cr.sub2:"",e==="full"?cr.full:""].join(" "),style:h,children:u.map(({it:g,x,y:b})=>t.jsx("div",{className:cr.arcItem,style:{transform:`translate(${x}px, ${b}px)`},children:t.jsx(Uae,{to:g.to,label:g.label,icon:g.icon,variant:p})},g.key))})},zae=({logoSrc:s,categories:e})=>{const[n]=Fo(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const a=E.useMemo(()=>e.find(j=>j.key===r)||null,[e,r]),l=(a==null?void 0:a.sub)||[],c=E.useMemo(()=>l.find(j=>j.key===i)||null,[l,i]),u=(c==null?void 0:c.sub2)||[],h=(a==null?void 0:a.side)==="left"||(a==null?void 0:a.side)==="right"?a.side:"right",p=E.useRef(null),[g,x]=E.useState(!1),[b,_]=E.useState(220),[S,C]=E.useState(440),[A,M]=E.useState(660);return E.useLayoutEffect(()=>{(()=>{var L,R;const w=((R=(L=p.current)==null?void 0:L.getBoundingClientRect().width)!=null?R:380)/2,N=Math.round(w+60),k=Math.round(N+220),T=Math.round(k+220);_(N),C(k),M(T),x(!0)})()},[]),E.useEffect(()=>{let j=0,y=null,w={main:b,out:S,sup:A};const P=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{j=requestAnimationFrame(()=>{var W,G;const k=((G=(W=p.current)==null?void 0:W.getBoundingClientRect().width)!=null?G:380)/2,L=Math.round(k+60),R=Math.round(L+220),$=Math.round(R+220),B=Math.abs(L-w.main),H=Math.abs(R-w.out),z=Math.abs($-w.sup);B>1&&_(L),H>1&&C(R),z>1&&M($),w={main:L,out:R,sup:$}})},120)};return window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P),y!=null&&window.clearTimeout(y),j&&cancelAnimationFrame(j)}},[b,S,A]),t.jsxs("div",{className:cr.wrap,children:[t.jsx("div",{className:cr.centerLogoWrap,children:t.jsx(ks,{to:"/guidehub",className:cr.centerLogoLink,"aria-label":"Guide Hub Home",children:t.jsx("img",{ref:p,src:s,alt:"Guide Hub",className:cr.centerLogo})})}),g&&t.jsxs(t.Fragment,{children:[t.jsx(Qg,{items:e.filter(j=>j.side==="left").map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"left",variant:"main",arcOffset:b}),t.jsx(Qg,{items:e.filter(j=>j.side==="right").map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"right",variant:"main",arcOffset:b}),h&&l.length>0&&t.jsx(Qg,{items:l.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"sub",anchorSide:h,variant:"sub",outerOffset:S,compact:!0}),h&&u.length>0&&t.jsx(Qg,{items:u.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"sub2",anchorSide:h,variant:"sub2",superOffset:A,compact:!0})]})]})},$c=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],Hae="_topWrap_1vr4p_1",Gae="_divider_1vr4p_19",Wae="_contentArea_1vr4p_53",Kae="_placeholder_1vr4p_65",qae="_placeholderTitle_1vr4p_79",Qae="_placeholderText_1vr4p_93",Od={topWrap:Hae,divider:Gae,contentArea:Wae,placeholder:Kae,placeholderTitle:qae,placeholderText:Qae};function td({title:s}){return t.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[t.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:s}),t.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const Yae=()=>t.jsx(td,{title:"Game Features"});function Xs({title:s}){return t.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[t.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:s}),t.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const Xae=()=>t.jsx(Xs,{title:"Progression"}),Jae=()=>t.jsx(Xs,{title:"Hellevator"}),Zae=()=>t.jsx(Xs,{title:"Legendary Dungeon"}),eoe=()=>t.jsx(Xs,{title:"Events"}),toe=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],soe="_grid_1amcc_3",noe="_tileBtn_1amcc_45",roe="_wrap_1amcc_87",ioe="_headerBar_1amcc_99",aoe="_title_1amcc_117",Th={grid:soe,tileBtn:noe,wrap:roe,headerBar:ioe,title:aoe};function ooe(){const[s,e]=Fo(),n=r=>{const i=new URLSearchParams(s);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return t.jsxs("div",{className:Th.wrap,children:[t.jsx("div",{className:Th.headerBar,children:t.jsx("h2",{className:Th.title,children:"Calculators"})}),t.jsx("div",{className:Th.grid,children:toe.map(r=>t.jsx("button",{className:Th.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:t.jsx(Y4,{title:r.title,padding:"md",hover:!0,children:t.jsx(t.Fragment,{children:" "})})},r.slug))})]})}const loe=()=>t.jsx(Xs,{title:"Infographics (Dropdown inside page)"}),coe=()=>t.jsx(Xs,{title:"Class book"}),doe=()=>t.jsx(Xs,{title:"Dungeons"}),uoe=()=>t.jsx(td,{title:"Fortress"}),hoe=()=>t.jsx(td,{title:"Fortress Calculator"}),poe="_wrap_1skhh_7",moe="_headerBar_1skhh_21",goe="_title_1skhh_39",foe="_meta_1skhh_55",voe="_description_1skhh_67",xoe="_contentWrapper_1skhh_83",yoe="_tableSection_1skhh_97",boe="_table_1skhh_97",_oe="_infoBox_1skhh_151",woe="_sectionTitle_1skhh_165",joe="_divider_1skhh_181",ii={wrap:poe,headerBar:moe,title:goe,meta:foe,description:voe,contentWrapper:xoe,tableSection:yoe,table:boe,infoBox:_oe,sectionTitle:woe,divider:joe};function Soe(){return t.jsxs("div",{className:ii.wrap,children:[t.jsxs("div",{className:ii.headerBar,children:[t.jsx("h2",{className:ii.title,children:"Fortress Package skip order"}),t.jsx("span",{className:ii.meta,children:"Last updated: 21.02.2025"})]}),t.jsx("p",{className:ii.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),t.jsxs("div",{className:ii.contentWrapper,children:[t.jsxs("section",{className:ii.tableSection,children:[t.jsx("h3",{className:ii.sectionTitle,children:"Fortress Build Order"}),t.jsxs("table",{className:ii.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Building"}),t.jsx("th",{children:"Level"}),t.jsx("th",{children:"Gold Cost"}),t.jsx("th",{children:"Shroom Cost"}),t.jsx("th",{children:"Wood Cost"}),t.jsx("th",{children:"Stone Cost"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"35"}),t.jsx("td",{children:"12"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"20"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"150"}),t.jsx("td",{children:"50"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"138"}),t.jsx("td",{children:"46"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"30"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"440"}),t.jsx("td",{children:"140"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"15"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"406"}),t.jsx("td",{children:"129"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"40"}),t.jsx("td",{children:"12"}),t.jsx("td",{children:"1,100"}),t.jsx("td",{children:"333"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"20"}),t.jsx("td",{children:"12"}),t.jsx("td",{children:"1,015"}),t.jsx("td",{children:"308"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"50"}),t.jsx("td",{children:"24"}),t.jsx("td",{children:"2,500"}),t.jsx("td",{children:"800"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"25"}),t.jsx("td",{children:"24"}),t.jsx("td",{children:"2,308"}),t.jsx("td",{children:"738"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"60"}),t.jsx("td",{children:"36"}),t.jsx("td",{children:"6,000"}),t.jsx("td",{children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Laborer's Quarter"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"30"}),t.jsx("td",{children:"36"}),t.jsx("td",{children:"5,538"}),t.jsx("td",{children:"1,849"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"7"}),t.jsx("td",{children:"70"}),t.jsx("td",{children:"48"}),t.jsx("td",{children:"13,417"}),t.jsx("td",{children:"4,433"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress"}),t.jsx("td",{children:"8"}),t.jsx("td",{children:"80"}),t.jsx("td",{children:"78"}),t.jsx("td",{children:"27,200"}),t.jsx("td",{children:"9,280"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Hall of Knight"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"720"}),t.jsx("td",{children:"240"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Hall of Knight"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"1,408"}),t.jsx("td",{children:"448"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Hall of Knight"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"2,640"}),t.jsx("td",{children:"800"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Gem Mine"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"15"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"50"}),t.jsx("td",{children:"17"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Treasury"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"25"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"40"}),t.jsx("td",{children:"13"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"0"}),t.jsx("td",{children:"20"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"30"}),t.jsx("td",{children:"20"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"92"}),t.jsx("td",{children:"74"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"8"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"248"}),t.jsx("td",{children:"200"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Woodcutter"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"21"}),t.jsx("td",{children:"500"}),t.jsx("td",{children:"320"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"22"}),t.jsx("td",{children:"0"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"6"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"90"}),t.jsx("td",{children:"16"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"9"}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"264"}),t.jsx("td",{children:"45"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Quarry"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"12"}),t.jsx("td",{children:"10"}),t.jsx("td",{children:"660"}),t.jsx("td",{children:"107"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Barracks"}),t.jsx("td",{children:"1"}),t.jsx("td",{children:"4"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"20"}),t.jsx("td",{children:"14"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Barracks"}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"8"}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"82"}),t.jsx("td",{children:"55"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Total cost"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"577"}),t.jsx("td",{children:"363"}),t.jsx("td",{children:"99,881"}),t.jsx("td",{children:"33,218"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Fortress Pack ressources"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"300"}),t.jsx("td",{children:"100,000"}),t.jsx("td",{children:"50,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Left over"}),t.jsx("td",{children:"-"}),t.jsx("td",{children:"-577"}),t.jsx("td",{children:"-63"}),t.jsx("td",{children:"119"}),t.jsx("td",{children:"16,782"})]})]})]})]}),t.jsxs("section",{className:ii.infoBox,children:[t.jsx("h3",{className:ii.sectionTitle,children:"Important"}),t.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Archery Guild"}),t.jsx("li",{children:"Mage's Tower"}),t.jsx("li",{children:"Fortifications"})]}),t.jsx("div",{className:ii.divider}),t.jsx("h3",{className:ii.sectionTitle,children:"Total Costs"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total Gold:"})," 577 ",t.jsx("br",{}),t.jsx("strong",{children:"Total Shrooms:"})," 363 ",t.jsx("br",{}),t.jsx("strong",{children:"Total Wood:"})," 99,881 ",t.jsx("br",{}),t.jsx("strong",{children:"Total Stone:"})," 33,218 ",t.jsx("br",{})]}),t.jsx("h3",{className:ii.sectionTitle,children:"Remaining Resources"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Remaining Gold:"})," -577 ",t.jsx("br",{}),t.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",t.jsx("br",{}),t.jsx("strong",{children:"Remaining Wood:"})," 119 ",t.jsx("br",{}),t.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const Noe=()=>t.jsx(td,{title:"Fortress attack duplication guide"}),koe=()=>t.jsx(td,{title:"Underworld"}),Coe=()=>t.jsx(td,{title:"Underworld Calculator"}),Ioe=()=>t.jsx(td,{title:"Underworld Pro Package skip order"}),Toe=()=>t.jsx(Xs,{title:"Arena / AM"}),Eoe="_wrap_mm7x0_5",Aoe="_headerBar_mm7x0_19",Poe="_title_mm7x0_37",Roe="_meta_mm7x0_51",Loe="_description_mm7x0_63",Doe="_controls_mm7x0_79",Moe="_search_mm7x0_83",Foe="_tableWrap_mm7x0_119",$oe="_table_mm7x0_119",Boe="_thead_mm7x0_143",Ooe="_th_mm7x0_143",Voe="_td_mm7x0_167",Uoe="_tierCell_mm7x0_179",zoe="_amountCell_mm7x0_181",Hoe="_bonusCell_mm7x0_183",Goe="_tags_mm7x0_185",Woe="_tierBox_mm7x0_191",Koe="_tierIcon_mm7x0_193",qoe="_tierTexts_mm7x0_203",Qoe="_tierName_mm7x0_205",Yoe="_badge_mm7x0_211",Xoe="_badgeMax_mm7x0_231",Joe="_badgeAchiev_mm7x0_233",Zoe="_badgeX2_mm7x0_235",ele="_badgeX12_mm7x0_237",tle="_badgeX60_mm7x0_239",sle="_iconHead_mm7x0_245",nle="_achiev_mm7x0_261",rle="_achievImg_mm7x0_263",ile="_dataRow_mm7x0_291",ale="_tierCellHover_mm7x0_311",nt={wrap:Eoe,headerBar:Aoe,title:Poe,meta:Roe,description:Loe,controls:Doe,search:Moe,tableWrap:Foe,table:$oe,thead:Boe,th:Ooe,td:Voe,tierCell:Uoe,amountCell:zoe,bonusCell:Hoe,tags:Goe,tierBox:Woe,tierIcon:Koe,tierTexts:qoe,tierName:Qoe,badge:Yoe,badgeMax:Xoe,badgeAchiev:Joe,badgeX2:Zoe,badgeX12:ele,badgeX60:tle,iconHead:sle,achiev:nle,achievImg:rle,dataRow:ile,tierCellHover:ale},pl={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},ZC={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function ml({keyName:s,label:e}){const n=Zc(s,36);return t.jsxs("div",{className:nt.iconHead,children:[n.thumb?t.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):t.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),t.jsx("span",{children:e})]})}function ole({name:s}){const e=Object.keys(ZC).find(r=>s.toLowerCase().includes(r.toLowerCase())),n=Zc(e?ZC[e]:"achiev_generic",16);return t.jsxs("div",{className:nt.achiev,children:[n.thumb?t.jsx("img",{src:n.thumb,alt:s,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):t.jsx("div",{className:nt.achievImg}),t.jsx("span",{children:s})]})}const av=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function F0(s){const e=s.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function lle(s){const e=(s!=null?s:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function cle(s){const e=(s!=null?s:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const eI={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},dle="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function ule(s){const e=s.trim().toLowerCase();return e?av.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):av}function hle(){const[s,e]=E.useState(""),[n,r]=E.useState(null),i=ule(s),a=E.useMemo(()=>Math.max(...av.map(c=>F0(c.amount))),[]),l=E.useMemo(()=>{const c=new Map;for(const h of i)c.has(h.tier)||c.set(h.tier,[]),c.get(h.tier).push(h);const u=Array.from(new Set(av.map(h=>h.tier)));return Array.from(c.entries()).sort((h,p)=>u.indexOf(h[0])-u.indexOf(p[0]))},[i]);return t.jsxs("div",{className:nt.wrap,children:[t.jsxs("div",{className:nt.headerBar,children:[t.jsx("h2",{className:nt.title,children:"Arena Manager  Rune bonuses"}),t.jsx("span",{className:nt.meta,children:"last updated: 15.01.2025"})]}),t.jsx("p",{className:nt.description,children:dle}),t.jsx("div",{className:nt.controls,children:t.jsx("input",{className:nt.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:s,onChange:c=>e(c.target.value)})}),t.jsx("div",{className:nt.tableWrap,children:t.jsxs("table",{className:nt.table,children:[t.jsx("thead",{className:nt.thead,children:t.jsxs("tr",{className:nt.headRow,children:[t.jsx("th",{className:`${nt.th} ${nt.tierCell}`,children:"Tier"}),t.jsx("th",{className:`${nt.th} ${nt.amountCell}`,children:"Amount"}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.gold,label:"Gold Bonus"})}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.xp,label:"XP Bonus"})}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.hp,label:"HP Bonus"})}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.totalRes,label:"Total Resistance"})}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.singleRes,label:"Single Resistance"})}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.elem,label:"Elemental Damage"})}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.item,label:"Improved Item Quality"})}),t.jsx("th",{className:nt.th,children:t.jsx(ml,{keyName:pl.epics,label:"Chances of Epics"})}),t.jsx("th",{className:nt.th,children:"Tags"})]})}),t.jsx("tbody",{children:l.map(([c,u])=>{const h=Math.max(...u.map(p=>F0(p.amount)));return u.map((p,g)=>{var _,S,C,A,M,j,y,w;const x=Math.abs(F0(p.amount)-a)<1e-6,b=cle(p.note);return t.jsxs("tr",{className:nt.dataRow,onMouseEnter:()=>r(c),onMouseLeave:()=>r(null),children:[g===0&&t.jsx("td",{className:`${nt.td} ${nt.tierCell} ${Math.abs(h-a)<1e-6?nt.tierMax:""} ${n===c?nt.tierCellHover:""}`,rowSpan:u.length,children:t.jsxs("div",{className:nt.tierBox,children:[t.jsx("div",{className:nt.tierIcon,children:c.slice(0,1).toUpperCase()}),t.jsxs("div",{className:nt.tierTexts,children:[t.jsx("div",{className:nt.tierName,children:c}),eI[c]&&t.jsx(ole,{name:eI[c]})]})]})}),t.jsx("td",{className:`${nt.td} ${nt.amountCell}`,children:p.amount}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(_=p.gold)!=null?_:""}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(S=p.xp)!=null?S:""}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(C=p.hp)!=null?C:""}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(A=p.totalRes)!=null?A:""}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(M=p.singleRes)!=null?M:""}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(j=p.elemDmg)!=null?j:""}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(y=p.itemQuality)!=null?y:""}),t.jsx("td",{className:`${nt.td} ${nt.bonusCell}`,children:(w=p.epics)!=null?w:""}),t.jsxs("td",{className:`${nt.td} ${nt.tags}`,children:[x&&t.jsx("span",{className:`${nt.badge} ${nt.badgeMax}`,children:"MAX"}),lle(p.note)&&t.jsx("span",{className:`${nt.badge} ${nt.badgeAchiev}`,children:"Achievement"}),b==="x2"&&t.jsx("span",{className:`${nt.badge} ${nt.badgeX2}`,children:"x2"}),b==="x12"&&t.jsx("span",{className:`${nt.badge} ${nt.badgeX12}`,children:"x12"}),b==="x60"&&t.jsx("span",{className:`${nt.badge} ${nt.badgeX60}`,children:"x60"}),b==="x8"&&t.jsx("span",{className:nt.badge,children:"x8"})]})]},`${c}-${g}`)})})})]})})]})}const ple="_wrap_zrza7_11",mle="_headerBar_zrza7_15",gle="_title_zrza7_31",fle="_meta_zrza7_33",vle="_centerCol_zrza7_37",xle="_text_zrza7_53",yle="_imageBox_zrza7_55",ble="_imageFallback_zrza7_57",_le="_credit_zrza7_59",ho={wrap:ple,headerBar:mle,title:gle,meta:fle,centerCol:vle,text:xle,imageBox:yle,imageFallback:ble,credit:_le};function wle(){const s=Zc("ambuildorder"),e=E.useMemo(()=>s.id?`https://drive.google.com/thumbnail?id=${s.id}&sz=w1024`:null,[s.id]),n=E.useMemo(()=>s.id?`https://drive.google.com/uc?export=view&id=${s.id}`:null,[s.id]),r=s.thumb||null,i=e||n||r;return t.jsxs("div",{className:ho.wrap,children:[t.jsxs("div",{className:ho.headerBar,children:[t.jsx("h2",{className:ho.title,children:"Arena Manager  Build Order"}),t.jsx("span",{className:ho.meta,children:"Last updated: 30.11.2024"})]}),t.jsxs("div",{className:ho.centerCol,children:[t.jsxs("div",{className:ho.text,children:[t.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),t.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",t.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?t.jsx("div",{className:ho.imageBox,children:t.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):t.jsx("div",{className:ho.imageFallback,children:""}),t.jsxs("p",{className:ho.credit,children:["Credit to ",t.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const jle=()=>t.jsx(Xs,{title:"Hellevator Guide"}),Sle=()=>t.jsx(Xs,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),Nle=()=>t.jsx(Xs,{title:"Event List"}),kle=()=>t.jsx(Xs,{title:"Event Cycle"}),Cle="_foCalc_18a5w_3",Ile="_panel_18a5w_211",Tle="_panelHead_18a5w_227",Ele="_panelTitle_18a5w_241",Ale="_controls_18a5w_243",Ple="_ctrlLabel_18a5w_245",Rle="_ctrlSelect_18a5w_249",Lle="_tableWrap_18a5w_291",Dle="_table_18a5w_291",Mle="_th_18a5w_305",Fle="_td_18a5w_321",$le="_row_18a5w_333",Ble="_note_18a5w_335",sn={foCalc:Cle,panel:Ile,panelHead:Tle,panelTitle:Ele,controls:Ale,ctrlLabel:Ple,ctrlSelect:Rle,tableWrap:Lle,table:Dle,th:Mle,td:Fle,row:$le,note:Ble},X4={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},xn=(s,e=0)=>s*3600+e*60,le=[xn(0,15),xn(0,31),xn(1,6),xn(2,20),xn(5,0),xn(8,0),xn(11,25),xn(18,27),xn(40,0),xn(87,16),xn(190,46),xn(320,0),xn(480,0),xn(615,33),xn(800,0)],os=[xn(1054,17),xn(1122,51),xn(1245,42),xn(1343,20),xn(1440,0)],Ole={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:le[0]},{level:2,wood:150,stone:50,gold:20,timeSec:le[1]},{level:3,wood:440,stone:140,gold:30,timeSec:le[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:le[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:le[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:le[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:le[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:le[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:le[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:le[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:le[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:le[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:le[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:le[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:le[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:os[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:os[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:os[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:os[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:os[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:le[0]},{level:2,wood:138,stone:46,gold:10,timeSec:le[1]},{level:3,wood:406,stone:129,gold:15,timeSec:le[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:le[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:le[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:le[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:le[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:le[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:le[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:le[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:le[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:le[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:le[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:le[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:le[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:le[0]},{level:2,wood:28,stone:37,gold:14,timeSec:le[1]},{level:3,wood:81,stone:103,gold:21,timeSec:le[2]},{level:4,wood:203,stone:246,gold:28,timeSec:le[3]},{level:5,wood:462,stone:591,gold:35,timeSec:le[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:le[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:le[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:le[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:le[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:le[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:le[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:le[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:le[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:le[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:le[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:os[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:os[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:os[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:os[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:os[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:le[0]},{level:2,wood:160,stone:53,gold:50,timeSec:le[1]},{level:3,wood:469,stone:149,gold:75,timeSec:le[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:le[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:le[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:le[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:le[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:le[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:le[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:le[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:le[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:le[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:le[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:le[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:le[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:le[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:le[0]},{level:2,wood:200,stone:67,gold:30,timeSec:le[1]},{level:3,wood:587,stone:187,gold:45,timeSec:le[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:le[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:le[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:le[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:le[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:le[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:le[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:le[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:le[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:le[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:le[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:le[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:le[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:os[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:os[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:os[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:os[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:os[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:xn(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:le[0]},{level:2,wood:30,stone:20,gold:4,timeSec:le[1]},{level:3,wood:88,stone:56,gold:6,timeSec:le[2]},{level:4,wood:220,stone:133,gold:8,timeSec:le[3]},{level:5,wood:500,stone:320,gold:10,timeSec:le[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:le[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:le[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:le[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:le[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:le[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:le[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:le[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:le[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:le[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:le[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:os[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:os[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:os[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:os[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:os[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:le[0]},{level:2,wood:90,stone:16,gold:6,timeSec:le[1]},{level:3,wood:264,stone:45,gold:9,timeSec:le[2]},{level:4,wood:660,stone:107,gold:12,timeSec:le[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:le[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:le[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:le[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:le[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:le[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:le[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:le[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:le[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:le[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:le[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:le[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:os[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:os[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:os[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:os[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:os[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:le[0]},{level:2,wood:82,stone:55,gold:8,timeSec:le[1]},{level:3,wood:240,stone:153,gold:12,timeSec:le[2]},{level:4,wood:600,stone:364,gold:16,timeSec:le[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:le[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:le[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:le[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:le[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:le[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:le[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:le[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:le[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:le[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:le[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:le[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:le[0]},{level:2,wood:100,stone:33,gold:8,timeSec:le[1]},{level:3,wood:293,stone:93,gold:12,timeSec:le[2]},{level:4,wood:733,stone:222,gold:16,timeSec:le[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:le[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:le[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:le[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:le[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:le[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:le[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:le[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:le[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:le[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:le[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:le[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:os[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:os[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:os[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:os[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:os[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:le[0]},{level:2,wood:240,stone:61,gold:12,timeSec:le[1]},{level:3,wood:675,stone:205,gold:18,timeSec:le[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:le[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:le[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:le[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:le[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:le[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:le[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:le[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:le[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:le[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:le[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:le[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:le[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:le[0]},{level:2,wood:164,stone:27,gold:10,timeSec:le[1]},{level:3,wood:480,stone:76,gold:15,timeSec:le[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:le[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:le[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:le[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:le[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:le[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:le[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:le[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:le[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:le[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:le[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:le[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:le[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:le[0]},{level:2,wood:120,stone:53,gold:30,timeSec:le[1]},{level:3,wood:352,stone:149,gold:45,timeSec:le[2]},{level:4,wood:880,stone:356,gold:60,timeSec:le[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:le[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:le[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:le[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:le[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:le[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:le[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:le[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:le[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:le[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:le[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:le[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:os[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:os[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:os[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:os[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:os[4]}]}},Vle=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],Ule="fortress",zle={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function Hle(s){return s<=0?0:s>=15?.75:+(s*.05).toFixed(2)}function tI(s){const e=Math.max(0,Math.round(s)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,a=l=>l.toString().padStart(2,"0");return`${a(n)}:${a(r)}:${a(i)}`}const Gle=()=>{const[s,e]=E.useState(Ule),[n,r]=E.useState(1),i=E.useMemo(()=>{var p;const c=zle[s],u=X4[c],h=(p=u==null?void 0:u.id)!=null?p:u;return Wc.gifProxy(h)||Wc.gif(h)||""},[s]),a=E.useMemo(()=>{var c,u;return(u=(c=Ole[s])==null?void 0:c.costs)!=null?u:[]},[s]),l=E.useMemo(()=>Hle(n),[n]);return t.jsxs("div",{className:`${sn.foCalc}`,children:[t.jsxs("div",{className:"tabs",children:[t.jsx("span",{className:"tabSelectLabel",children:"Select building"}),t.jsx("select",{className:"tabSelect",value:s,onChange:c=>e(c.target.value),children:Vle.map(c=>t.jsx("option",{value:c.key,children:c.label},c.key))})]}),t.jsxs("div",{className:"mediaRow",children:[t.jsx("div",{className:"media",children:i?t.jsx("img",{src:i,alt:s}):null}),t.jsxs("div",{className:sn.panel,children:[t.jsxs("div",{className:sn.panelHead,children:[t.jsxs("div",{className:sn.panelTitle,children:["Fortress  ",s]}),t.jsxs("div",{className:sn.controls,children:[t.jsx("span",{className:sn.ctrlLabel,children:"L2 (Laborers)"}),t.jsx("select",{className:sn.ctrlSelect,value:n,onChange:c=>r(parseInt(c.target.value,10)),children:Array.from({length:16},(c,u)=>u).map(c=>t.jsx("option",{value:c,children:c},c))})]})]}),t.jsx("div",{className:sn.tableWrap,children:t.jsxs("table",{className:sn.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:sn.th,children:"Level"}),t.jsx("th",{className:sn.th,children:"Wood"}),t.jsx("th",{className:sn.th,children:"Stone"}),t.jsx("th",{className:sn.th,children:"Build Time"}),t.jsx("th",{className:sn.th,children:"Build Time (L2)"}),t.jsx("th",{className:sn.th,children:"Skip (Mushr.)"})]})}),t.jsx("tbody",{children:a.map(c=>{var g,x,b,_,S,C,A;const u=(g=c.timeSec)!=null?g:0,h=Math.round(u*(1-l)),p=Math.ceil(Math.ceil(h/60)/10);return t.jsxs("tr",{className:sn.row,children:[t.jsx("td",{className:sn.td,children:c.level}),t.jsx("td",{className:sn.td,children:(_=(b=(x=c.wood)==null?void 0:x.toLocaleString)==null?void 0:b.call(x))!=null?_:c.wood}),t.jsx("td",{className:sn.td,children:(A=(C=(S=c.stone)==null?void 0:S.toLocaleString)==null?void 0:C.call(S))!=null?A:c.stone}),t.jsx("td",{className:sn.td,children:tI(u)}),t.jsx("td",{className:sn.td,children:tI(h)}),t.jsx("td",{className:sn.td,children:p.toLocaleString()})]},c.level)})})]})}),t.jsx("div",{className:sn.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},Wle="_uwCalc_64lws_3",Kle="_panel_64lws_211",qle="_panelHead_64lws_227",Qle="_panelTitle_64lws_241",Yle="_controls_64lws_243",Xle="_ctrlLabel_64lws_245",Jle="_ctrlSelect_64lws_251",Zle="_tableWrap_64lws_295",ece="_table_64lws_295",tce="_th_64lws_309",sce="_td_64lws_325",nce="_row_64lws_337",rce="_note_64lws_339",zs={uwCalc:Wle,panel:Kle,panelHead:qle,panelTitle:Qle,controls:Yle,ctrlLabel:Xle,ctrlSelect:Jle,tableWrap:Zle,table:ece,th:tce,td:sce,row:nce,note:rce},ice={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},ace={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function oce(s){return Math.max(0,Math.min(15,Math.round(s)))*.05}function lce(s){const e=Math.max(0,s),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60;return{h:r,m:i,s:a}}function sI(s){const{h:e,m:n,s:r}=lce(s),i=a=>String(a).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function cce(s,e){var i,a;const n=oce(e);return((a=(i=ace[s])==null?void 0:i.costs)!=null?a:[]).map(l=>{const c=l.timeSec*(1-n),u=Math.ceil(Math.ceil(c/60)/10);return{...l,timeAdjSec:c,skipMushroomsAdj:u}})}const dce=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],uce=()=>{const[s,e]=E.useState("hearthofdarkngif"),[n,r]=E.useState(1),i=E.useMemo(()=>{var h;const c=X4[s],u=(h=c==null?void 0:c.id)!=null?h:c;return Wc.gifProxy(u)||Wc.gif(u)||""},[s]),a=E.useMemo(()=>{var c;return(c=ice[s])!=null?c:"hearthofdarkn"},[s]),l=E.useMemo(()=>cce(a,n),[a,n]);return t.jsxs("div",{className:zs.uwCalc,children:[t.jsxs("div",{className:"tabs",children:[t.jsx("span",{className:"tabSelectLabel",children:"Select building"}),t.jsx("select",{className:"tabSelect",value:s,onChange:c=>e(c.target.value),children:dce.map(c=>t.jsx("option",{value:c,children:c.replace(/gif$/i,"")},c))})]}),t.jsxs("div",{className:"mediaRow",children:[t.jsx("div",{className:"media",children:i?t.jsx("img",{src:i,alt:s}):null}),t.jsxs("div",{className:zs.panel,children:[t.jsxs("div",{className:zs.panelHead,children:[t.jsxs("div",{className:zs.panelTitle,children:["Underworld  ",a]}),t.jsxs("div",{className:zs.controls,children:[t.jsx("label",{htmlFor:"uw-l2",className:zs.ctrlLabel,children:"L2 (Laborers)"}),t.jsx("select",{id:"uw-l2",className:zs.ctrlSelect,value:n,onChange:c=>r(parseInt(c.target.value,10)),children:Array.from({length:15},(c,u)=>u+1).map(c=>t.jsx("option",{value:c,children:c},c))})]})]}),t.jsx("div",{className:zs.tableWrap,children:t.jsxs("table",{className:zs.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:zs.th,children:"Level"}),t.jsx("th",{className:zs.th,children:"Soul"}),t.jsx("th",{className:zs.th,children:"Gold"}),t.jsx("th",{className:zs.th,children:"Build Time"}),t.jsx("th",{className:zs.th,children:"Build Time (L2)"}),t.jsx("th",{className:zs.th,children:"Skip (Mushr.)"})]})}),t.jsx("tbody",{children:l.length===0?t.jsx("tr",{className:zs.row,children:t.jsx("td",{className:zs.td,colSpan:6,children:"No data for this building yet."})}):l.map(c=>t.jsxs("tr",{className:zs.row,children:[t.jsx("td",{className:zs.td,children:c.level}),t.jsx("td",{className:zs.td,children:c.soul}),t.jsx("td",{className:zs.td,children:c.gold}),t.jsx("td",{className:zs.td,children:sI(c.timeSec)}),t.jsx("td",{className:zs.td,children:sI(c.timeAdjSec)}),t.jsx("td",{className:zs.td,children:c.skipMushroomsAdj})]},c.level))})]})}),t.jsx("p",{className:zs.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},hce=()=>t.jsx(Xs,{title:"Max Item Stats Calculator"}),pce="_wrap_mnr0g_1",mce="_card_mnr0g_13",gce="_title_mnr0g_33",fce="_form_mnr0g_45",vce="_field_mnr0g_57",xce="_input_mnr0g_71",yce="_gemsRow_mnr0g_87",bce="_gemBox_mnr0g_101",_ce="_disabled_mnr0g_127",wce="_gemImg_mnr0g_135",jce="_gemFallback_mnr0g_149",Sce="_normalGem_mnr0g_165",Nce="_blackGem_mnr0g_173",kce="_legendaryGem_mnr0g_181",Cce="_gemLabel_mnr0g_189",Ice="_gemValue_mnr0g_199",Tce="_hint_mnr0g_211",vs={wrap:pce,card:mce,title:gce,form:fce,field:vce,input:xce,gemsRow:yce,gemBox:bce,disabled:_ce,gemImg:wce,gemFallback:jce,normalGem:Sce,blackGem:Nce,legendaryGem:kce,gemLabel:Cce,gemValue:Ice,hint:Tce},Ece={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},Ace=.25,ov=s=>Math.round(Number.isFinite(s)?s:0);function Pce(s){const e=Number(s.charLevel),n=Number(s.mineLevel),r=Number(s.guildHoK);if(n<25){const C=e*Ace*(1+(n-1)*.25)+r/3;return ov(C)}const{A:i,B:a,C:l,D:c,E:u,F:h,G:p,H:g,I:x,J:b}=Ece,S=i+a*e+l/n+c*e**2+u/n**2+h*e/n+p*e**3+g/n**3+x*e/n**2+b*e**2/n+r/3;return ov(S)}function Rce(s){return ov(s*(2/3))}function Lce(s){return ov(s)}const $0={char:1e3,mine:100,hok:1e3},J4=({initialState:s,onStateChange:e})=>{var S,C,A;const[n,r]=E.useState((S=s==null?void 0:s.charLevel)!=null?S:""),[i,a]=E.useState((C=s==null?void 0:s.mineLevel)!=null?C:""),[l,c]=E.useState((A=s==null?void 0:s.guildHoKLevel)!=null?A:""),u=(M,j,y)=>{e&&(typeof M!="number"||typeof j!="number"||typeof y!="number"||e({charLevel:M,mineLevel:j,guildHoKLevel:y}))},h=E.useMemo(()=>n===""||i===""||l===""?null:Pce({charLevel:Number(n),mineLevel:Number(i),guildHoK:Number(l)}),[n,i,l]),p=E.useMemo(()=>h==null?null:Rce(h),[h]),g=E.useMemo(()=>h==null?null:Lce(h),[h]),x=Fc("luckbig"),b=Fc("blackbig"),_=Fc("legendarybig");return t.jsx("div",{className:vs.wrap,children:t.jsxs("div",{className:vs.card,children:[t.jsx("h2",{className:vs.title,children:"Gem Calculator"}),t.jsxs("div",{className:vs.form,children:[t.jsxs("label",{className:vs.field,children:[t.jsx("span",{children:"Char Level"}),t.jsx("input",{type:"number",inputMode:"numeric",className:vs.input,placeholder:"e.g., 360",value:n,onChange:M=>{const j=M.currentTarget.value;if(j===""){r("");return}const y=Number(j),w=Number.isFinite(y)?y:"";r(w),u(w,i,l)},max:$0.char})]}),t.jsxs("label",{className:vs.field,children:[t.jsx("span",{children:"Mine Level"}),t.jsx("input",{type:"number",inputMode:"numeric",className:vs.input,placeholder:"e.g., 10",value:i,onChange:M=>{const j=M.currentTarget.value;if(j===""){a("");return}const y=Number(j),w=Number.isFinite(y)?y:"";a(w),u(n,w,l)},max:$0.mine})]}),t.jsxs("label",{className:vs.field,children:[t.jsx("span",{children:"Guild HoK"}),t.jsx("input",{type:"number",inputMode:"numeric",className:vs.input,placeholder:"e.g., 840",value:l,onChange:M=>{const j=M.currentTarget.value;if(j===""){c("");return}const y=Number(j),w=Number.isFinite(y)?y:"";c(w),u(n,i,w)},max:$0.hok})]})]}),t.jsxs("div",{className:vs.gemsRow,children:[t.jsxs("div",{className:`${vs.gemBox} ${h==null?vs.disabled:""}`,children:[x?t.jsx("img",{className:vs.gemImg,src:x,alt:"Normal Gem"}):t.jsx("div",{className:`${vs.gemFallback} ${vs.normalGem}`}),t.jsx("div",{className:vs.gemLabel,children:"Normal"}),t.jsx("div",{className:vs.gemValue,children:h!=null?h:"-"})]}),t.jsxs("div",{className:`${vs.gemBox} ${p==null?vs.disabled:""}`,children:[b?t.jsx("img",{className:vs.gemImg,src:b,alt:"Black Gem"}):t.jsx("div",{className:`${vs.gemFallback} ${vs.blackGem}`}),t.jsx("div",{className:vs.gemLabel,children:"Black"}),t.jsx("div",{className:vs.gemValue,children:p!=null?p:"-"})]}),t.jsxs("div",{className:`${vs.gemBox} ${g==null?vs.disabled:""}`,children:[_?t.jsx("img",{className:vs.gemImg,src:_,alt:"Legendary Gem"}):t.jsx("div",{className:`${vs.gemFallback} ${vs.legendaryGem}`}),t.jsx("div",{className:vs.gemLabel,children:"Legendary"}),t.jsx("div",{className:vs.gemValue,children:g!=null?g:"-"})]})]}),t.jsxs("p",{className:vs.hint,children:["The values are approximations and represent the ",t.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},Dce="_container_19zdf_1",Mce="_headerBar_19zdf_13",Fce="_title_19zdf_31",$ce="_meta_19zdf_47",Bce="_description_19zdf_59",Eh={container:Dce,headerBar:Mce,title:Fce,meta:$ce,description:Bce},Z4=({title:s,meta:e,description:n})=>t.jsxs("header",{className:Eh.container,children:[t.jsxs("div",{className:Eh.headerBar,children:[t.jsx("h2",{className:Eh.title,children:s}),e&&t.jsx("span",{className:Eh.meta,children:e})]}),n&&t.jsx("p",{className:Eh.description,children:n})]}),Oce=()=>t.jsxs(t.Fragment,{children:[t.jsx(Z4,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:t.jsxs(t.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",t.jsx("em",{children:"max possible"})," you can find."]})}),t.jsx(J4,{})]}),Vce="_wrapper_67xyv_1",Uce="_panel_67xyv_11",zce="_header_67xyv_27",Hce="_title_67xyv_41",Gce="_resetBtn_67xyv_53",Wce="_table_67xyv_73",Kce="_row_67xyv_99",qce="_name_67xyv_115",Qce="_selectCell_67xyv_125",Yce="_sumCell_67xyv_143",Xce="_footer_67xyv_155",Jce="_footerLine_67xyv_175",Zce="_note_67xyv_187",yn={wrapper:Vce,panel:Uce,header:zce,title:Hce,resetBtn:Gce,table:Wce,row:Kce,name:qce,selectCell:Qce,sumCell:Yce,footer:Xce,footerLine:Jce,note:Zce};function ip(s,e,n){var l;if(!Array.isArray(s)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let a=0;for(let c=r;c<=i;c++)a+=(l=s[c])!=null?l:0;return a}function ede(s){const e=[0];for(let n=1;n<=s;n++)e.push(n);return e}function Kt(s,e){const n=[0,...s.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const tde=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:Kt([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:Kt([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:Kt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:Kt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:Kt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:Kt([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:Kt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:Kt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:Kt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)}],sde=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:Kt([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:Kt([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:Kt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:Kt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:Kt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:Kt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:Kt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:Kt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:Kt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:Kt([0,0,0,0,0,0,0,0,0,0],10)}],nI=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],nde=(()=>{const s=[0,...nI],e=1e3-nI.length;for(let n=0;n<e;n++)s.push(3e7);return s})(),rde=Kt([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),ide=(()=>{const s=new Array(1001).fill(3e7);return s[0]=0,s})(),yo={light:tde.map(s=>({key:s.key,name:s.name,minLevel:1,maxLevel:10,levels:s.levels})),shadow:sde.map(s=>({key:s.key,name:s.name,minLevel:1,maxLevel:10,levels:s.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:nde,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:rde,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:ide,specialType:"sandstorm"}]},lv=s=>s.toLocaleString("en-US");function rI(){const s={},e={},n={};return yo.light.forEach(r=>s[r.key]={from:0,to:0}),yo.shadow.forEach(r=>e[r.key]={from:0,to:0}),yo.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:s,shadow:e,special:n}}function eP({row:s,range:e,onChange:n}){var c,u;const r=E.useMemo(()=>ede(s.maxLevel),[s.maxLevel]),i=(c=e.from)!=null?c:0,a=(u=e.to)!=null?u:0,l=E.useMemo(()=>i===0||a===0?0:ip(s.levels,i,a),[s.levels,i,a]);return t.jsxs("tr",{className:yn.row,children:[t.jsx("td",{className:yn.name,children:s.name}),t.jsx("td",{className:yn.selectCell,children:t.jsx("select",{value:i,onChange:h=>n({from:Number(h.target.value),to:a}),children:r.map(h=>t.jsx("option",{value:h,children:h===0?"":h},h))})}),t.jsx("td",{className:yn.selectCell,children:t.jsx("select",{value:a,onChange:h=>n({from:i,to:Number(h.target.value)}),children:r.map(h=>t.jsx("option",{value:h,children:h===0?"":h},h))})}),t.jsxs("td",{className:yn.sumCell,children:[lv(l)," XP"]})]})}function iI({title:s,rows:e,ranges:n,setRanges:r}){const i=E.useMemo(()=>e.reduce((a,l)=>{const c=n[l.key]||{from:0,to:0};return a+ip(l.levels,c.from,c.to)},0),[e,n]);return t.jsxs("div",{className:yn.panel,children:[t.jsx("div",{className:yn.header,children:t.jsx("div",{className:yn.title,children:s})}),t.jsxs("table",{className:yn.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Dungeon"}),t.jsx("th",{children:"From"}),t.jsx("th",{children:"To"}),t.jsx("th",{children:"Sum XP"})]})}),t.jsx("tbody",{children:e.map(a=>{var l;return t.jsx(eP,{row:a,range:(l=n[a.key])!=null?l:{from:0,to:0},onChange:c=>r(a.key,c)},a.key)})})]}),t.jsx("div",{className:yn.footer,children:t.jsxs("div",{className:yn.footerLine,children:[t.jsxs("span",{children:["Sum Total ",s]}),t.jsxs("span",{children:[lv(i)," XP"]})]})})]})}function tP({initialState:s,onStateChange:e}){var M,j,y;const n=E.useMemo(()=>rI(),[]),[r,i]=E.useState((M=s==null?void 0:s.light)!=null?M:n.light),[a,l]=E.useState((j=s==null?void 0:s.shadow)!=null?j:n.shadow),[c,u]=E.useState((y=s==null?void 0:s.special)!=null?y:n.special),h=(w,P,N)=>{e&&e({light:w,shadow:P,special:N})},p=(w,P)=>{i(N=>{const k={...N,[w]:P};return h(k,a,c),k})},g=(w,P)=>{l(N=>{const k={...N,[w]:P};return h(r,k,c),k})},x=(w,P)=>{u(N=>{const k={...N,[w]:P};return h(r,a,k),k})};E.useEffect(()=>{var w,P,N;if(s){i((w=s.light)!=null?w:n.light),l((P=s.shadow)!=null?P:n.shadow),u((N=s.special)!=null?N:n.special);return}i(n.light),l(n.shadow),u(n.special)},[s,n]);const b=E.useMemo(()=>yo.light.reduce((w,P)=>{const N=r[P.key];return w+(N?ip(P.levels,N.from,N.to):0)},0),[r]),_=E.useMemo(()=>yo.shadow.reduce((w,P)=>{const N=a[P.key];return w+(N?ip(P.levels,N.from,N.to):0)},0),[a]),S=E.useMemo(()=>yo.special.reduce((w,P)=>{const N=c[P.key];return w+(N?ip(P.levels,N.from,N.to):0)},0),[c]),C=b+_+S,A=()=>{const w=rI();i(w.light),l(w.shadow),u(w.special),h(w.light,w.shadow,w.special)};return t.jsxs("div",{className:yn.wrapper,children:[t.jsx(iI,{title:"Light World",rows:yo.light,ranges:r,setRanges:p}),t.jsx(iI,{title:"Shadow World",rows:yo.shadow,ranges:a,setRanges:g}),t.jsxs("div",{className:yn.panel,children:[t.jsxs("div",{className:yn.header,children:[t.jsx("div",{className:yn.title,children:"Special Dungeons"}),t.jsx("button",{className:yn.resetBtn,onClick:A,children:"RESET"})]}),t.jsxs("table",{className:yn.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Dungeon"}),t.jsx("th",{children:"From"}),t.jsx("th",{children:"To"}),t.jsx("th",{children:"Sum"})]})}),t.jsx("tbody",{children:yo.special.map(w=>{var P;return t.jsx(eP,{row:w,range:(P=c[w.key])!=null?P:{from:0,to:0},onChange:N=>x(w.key,N)},w.key)})})]}),t.jsxs("div",{className:yn.footer,children:[t.jsxs("div",{className:yn.footerLine,children:[t.jsx("span",{children:"Sum Total Special"}),t.jsxs("span",{children:[lv(S)," XP"]})]}),t.jsxs("div",{className:yn.footerLine,children:[t.jsx("span",{children:"Total XP"}),t.jsxs("span",{children:[lv(C)," XP"]})]}),t.jsxs("div",{className:yn.note,children:["Flle die XP-Arrays in ",t.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function ade(){return t.jsx("div",{style:{padding:12},children:t.jsx(tP,{})})}const ode=()=>t.jsx(Xs,{title:"Progression  Early Game"}),lde="_wrap_n2poq_31",cde="_title_n2poq_33",dde="_infoBox_n2poq_39",ude="_infoTitle_n2poq_63",hde="_infoList_n2poq_73",pde="_section_n2poq_89",mde="_h2_n2poq_101",gde="_h3_n2poq_103",fde="_intro_n2poq_105",vde="_ul_n2poq_107",xde="_img_n2poq_113",Ms={wrap:lde,title:cde,infoBox:dde,infoTitle:ude,infoList:hde,section:pde,h2:mde,h3:gde,intro:fde,ul:vde,img:xde},yde=()=>{Fo();const s=[Fc("first-weekend-guide-day1",900),Fc("first-weekend-guide-day2",900),Fc("first-weekend-guide-day3",900)];return t.jsxs("div",{className:Ms.wrap,children:[t.jsx("h1",{className:Ms.title,children:"First Weekend Guide"}),t.jsxs("aside",{className:Ms.infoBox,role:"note","aria-label":"Important Level Tips",children:[t.jsx("div",{className:Ms.infoTitle,children:"Important Level Tips"}),t.jsxs("ul",{className:Ms.infoList,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),t.jsx("p",{className:Ms.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),t.jsxs("div",{className:Ms.section,children:[t.jsx("h2",{className:Ms.h2,children:"Preparation before launch"}),t.jsxs("ul",{className:Ms.ul,children:[t.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),t.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),t.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),t.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),t.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),t.jsxs("div",{className:Ms.section,children:[t.jsx("h2",{className:Ms.h2,children:"Day 1"}),t.jsx("h3",{className:Ms.h3,children:"Level 13"}),t.jsxs("ul",{className:Ms.ul,children:[t.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),t.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),s[0]&&t.jsx("img",{className:Ms.img,src:s[0],alt:"Day 1 overview"})]}),t.jsxs("div",{className:Ms.section,children:[t.jsx("h3",{className:Ms.h3,children:"Level 410"}),t.jsxs("ul",{className:Ms.ul,children:[t.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),t.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),t.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),t.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),t.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),t.jsxs("div",{className:Ms.section,children:[t.jsx("h2",{className:Ms.h2,children:"Day 2"}),t.jsx("h3",{className:Ms.h3,children:"Level 1015"}),t.jsxs("ul",{className:Ms.ul,children:[t.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),t.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),t.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),t.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),s[1]&&t.jsx("img",{className:Ms.img,src:s[1],alt:"Day 2 overview"})]}),t.jsxs("div",{className:Ms.section,children:[t.jsx("h2",{className:Ms.h2,children:"Day 3"}),t.jsx("h3",{className:Ms.h3,children:"Level 1520"}),t.jsxs("ul",{className:Ms.ul,children:[t.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),t.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),s[2]&&t.jsx("img",{className:Ms.img,src:s[2],alt:"Day 3 overview"})]})]})},bde=()=>t.jsx(Xs,{title:"Max Item Stats Calculator"}),_de=()=>t.jsx(Xs,{title:"Fortress Package skip order (Early)"}),wde=()=>t.jsx(Xs,{title:"Underworld Pro Package skip order (Early)"}),jde=()=>t.jsx(Xs,{title:"Gem Calculator (Early)"}),Sde=()=>t.jsx(Xs,{title:"Fortress attack duplication guide (Early)"}),Nde=()=>t.jsx(Xs,{title:"Progression  Mid Game"}),kde="_wrap_1x7jo_31",Cde="_header_1x7jo_35",Ide="_titles_1x7jo_55",Tde="_h1_1x7jo_57",Ede="_lead_1x7jo_59",Ade="_ctaRow_1x7jo_63",Pde="_cta_1x7jo_63",Rde="_section_1x7jo_85",Lde="_sectionGrid_1x7jo_87",Dde="_card_1x7jo_99",Mde="_h2_1x7jo_103",Fde="_h3_1x7jo_105",$de="_p_1x7jo_107",Bde="_ul_1x7jo_111",Ode="_ol_1x7jo_111",Vde="_figure_1x7jo_117",Ude="_figureNarrow_1x7jo_139",zde="_img_1x7jo_149",Hde="_fallbackImg_1x7jo_151",Gde="_figCaption_1x7jo_159",Wde="_tableWrap_1x7jo_163",Kde="_table_1x7jo_163",qde="_footer_1x7jo_217",Qde="_tools_1x7jo_219",Yde="_toolBtn_1x7jo_221",ss={wrap:kde,header:Cde,titles:Ide,h1:Tde,lead:Ede,ctaRow:Ade,cta:Pde,section:Rde,sectionGrid:Lde,card:Dde,h2:Mde,h3:Fde,p:$de,ul:Bde,ol:Ode,figure:Vde,figureNarrow:Ude,img:zde,fallbackImg:Hde,figCaption:Gde,tableWrap:Wde,table:Kde,footer:qde,tools:Qde,toolBtn:Yde},Xde=1400;function Jde(){const s=E.useMemo(()=>Fc("goldxpcurve",Xde),[]);return t.jsxs("div",{className:ss.wrap,children:[t.jsxs("header",{className:ss.header,children:[t.jsxs("div",{className:ss.titles,children:[t.jsx("h1",{className:ss.h1,children:"Dungeon Pause"}),t.jsx("p",{className:ss.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),t.jsxs("div",{className:ss.ctaRow,children:[t.jsx(ks,{className:ss.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),t.jsx(ks,{className:ss.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),t.jsxs("section",{className:ss.section,children:[t.jsx("h2",{className:ss.h2,children:"Worum gehts?"}),t.jsxs("p",{className:ss.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",t.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",t.jsx("strong",{children:"Level 370"})," und endet um ",t.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),t.jsxs("section",{className:ss.section,children:[t.jsx("h3",{className:ss.h3,children:"XP & Gold  Verlauf"}),t.jsxs("div",{className:`${ss.figure} ${ss.figureNarrow}`,children:[s?t.jsx("img",{src:s,alt:"XP/Gold Verlaufskurve",className:ss.img}):t.jsx("div",{className:ss.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),t.jsx("div",{className:ss.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),t.jsxs("section",{className:ss.sectionGrid,children:[t.jsxs("div",{className:ss.card,children:[t.jsx("h3",{className:ss.h3,children:"Start & Ende"}),t.jsxs("ul",{className:ss.ul,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",t.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",t.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),t.jsxs("div",{className:ss.card,children:[t.jsx("h3",{className:ss.h3,children:"Twister & Light/Shadow"}),t.jsxs("ul",{className:ss.ul,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Twister:"})," bei ca. ",t.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),t.jsxs("li",{children:["Whrend der Pause weiterhin ",t.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",t.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",t.jsx("em",{children:"Devilsatt"})," &"," ",t.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),t.jsxs("section",{className:ss.section,children:[t.jsx("h3",{className:ss.h3,children:"Vorgehen"}),t.jsxs("ol",{className:ss.ol,children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",t.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",t.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",t.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),t.jsxs("section",{className:ss.section,children:[t.jsx("h3",{className:ss.h3,children:"Kompaktbersicht"}),t.jsx("div",{className:ss.tableWrap,children:t.jsxs("table",{className:ss.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Aspekt"}),t.jsx("th",{children:"Empfehlung"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Start (Faustregel)"}),t.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Ende (Faustregel)"}),t.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Open XP vor Eintritt"}),t.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Twister"}),t.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Light/Shadow"}),t.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Whrend der Pause"}),t.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Pets"}),t.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Optimaler Exit"}),t.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),t.jsx("footer",{className:ss.footer,children:t.jsxs("div",{className:ss.tools,children:[t.jsx(ks,{className:ss.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),t.jsx(ks,{className:ss.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const Zde=()=>t.jsx(Xs,{title:"Dungeon Pause open XP Calculator"}),eue="_wrap_1uhww_3",tue="_headerBar_1uhww_15",sue="_title_1uhww_33",nue="_meta_1uhww_45",rue="_description_1uhww_55",iue="_section_1uhww_69",aue="_sectionTitle_1uhww_77",oue="_steps_1uhww_87",Ea={wrap:eue,headerBar:tue,title:sue,meta:nue,description:rue,section:iue,sectionTitle:aue,steps:oue};function lue(){return t.jsxs("div",{className:Ea.wrap,children:[t.jsxs("div",{className:Ea.headerBar,children:[t.jsx("h2",{className:Ea.title,children:"Dungeon Pause Exit"}),t.jsx("span",{className:Ea.meta,children:"Last updated: 28.03.2025"})]}),t.jsx("p",{className:Ea.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),t.jsxs("section",{className:Ea.section,children:[t.jsx("h3",{className:Ea.sectionTitle,children:"Sequence for the Exit"}),t.jsxs("ol",{className:Ea.steps,children:[t.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),t.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),t.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),t.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),t.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),t.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),t.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),t.jsxs("section",{className:Ea.section,children:[t.jsx("h3",{className:Ea.sectionTitle,children:"Extra Tip"}),t.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const cue=()=>t.jsx(Xs,{title:"Gem Calculator (Mid)"}),due=()=>t.jsx(Xs,{title:"Calendar Skip"}),uue=()=>t.jsx(Xs,{title:"Progression  Late Game"}),hue="_layout_13sgm_29",pue="_side_13sgm_49",mue="_sideHead_13sgm_61",gue="_search_13sgm_71",fue="_spotBtn_13sgm_89",vue="_sideList_13sgm_109",xue="_sideItem_13sgm_111",yue="_active_13sgm_119",bue="_sideTitle_13sgm_121",_ue="_ico_13sgm_123",wue="_badge_13sgm_125",jue="_detail_13sgm_139",Sue="_detailInner_13sgm_141",Nue="_detailHead_13sgm_143",kue="_detailTitle_13sgm_145",Cue="_empty_13sgm_147",Iue="_grid_13sgm_151",Tue="_card_13sgm_157",Eue="_cardHead_13sgm_175",Aue="_btnGrid_13sgm_177",Pue="_itemBtn_13sgm_179",Rue="_spotWrap_13sgm_203",Lue="_spot_13sgm_89",Due="_spotHead_13sgm_227",Mue="_spotSearch_13sgm_235",Fue="_spotClose_13sgm_243",$ue="_spotList_13sgm_253",Bue="_spotItem_13sgm_255",Oue="_spotItemEmpty_13sgm_259",Vue="_spotCat_13sgm_261",Uue="_spotLabel_13sgm_263",zue="_mark_13sgm_267",Jt={layout:hue,side:pue,sideHead:mue,search:gue,spotBtn:fue,sideList:vue,sideItem:xue,active:yue,sideTitle:bue,ico:_ue,badge:wue,detail:jue,detailInner:Sue,detailHead:Nue,detailTitle:kue,empty:Cue,grid:Iue,card:Tue,cardHead:Eue,btnGrid:Aue,itemBtn:Pue,spotWrap:Rue,spot:Lue,spotHead:Due,spotSearch:Mue,spotClose:Fue,spotList:$ue,spotItem:Bue,spotItemEmpty:Oue,spotCat:Vue,spotLabel:Uue,mark:zue};function Hue(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ah(s,e){if(!e)return s;const n=new RegExp(`(${Hue(e)})`,"ig");return s.replace(n,`<mark class="${Jt.mark}">$1</mark>`)}function aI(s){if(!s||!s.length)return 0;let e=0;for(const n of s)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function Gue(s){const e=[];for(const n of s){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(l=>l.sub2&&l.sub2.length))for(const l of i.sub2)if(l.sub2&&l.sub2.length)for(const c of l.sub2)e.push({full:`${r}  ${i.label}  ${l.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:n.key,subKey:i.key,sub2Key:l.key});else for(const l of i.sub2)e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:n.key,subKey:i.key,sub2Key:l.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function Wue(s,e){var n;return e&&s.some(r=>r.key===e)?e:((n=s==null?void 0:s[0])==null?void 0:n.key)||""}const Kue=({categories:s,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=E.useState(()=>{var M;return((M=s==null?void 0:s[0])==null?void 0:M.key)||""}),[a,l]=E.useState(""),[c,u]=E.useState(!1),h=E.useRef(null),p=E.useMemo(()=>{const M=a.trim().toLowerCase();if(!M)return s;const j=y=>y.toLowerCase().includes(M);return s.map(y=>{const w=j(y.label),P=[];for(const N of y.sub||[]){const k=j(N.label);if(N.sub2&&N.sub2.length)if(N.sub2.some(L=>L.sub2&&L.sub2.length)){const L=[];for(const R of N.sub2)if(R.sub2&&R.sub2.length){const $=R.sub2.filter(B=>j(B.label));$.length&&L.push({...R,sub2:$})}else j(R.label)&&L.push(R);(k||L.length)&&P.push({...N,sub2:L})}else{const L=N.sub2.filter(R=>j(R.label));(k||L.length)&&P.push({...N,sub2:L})}else k&&P.push(N)}return w||P.length?{...y,sub:P.length?P:y.sub}:null}).filter(Boolean)},[s,a]),g=E.useMemo(()=>{const M=p.length?p:s,j=Wue(M,r);return M.find(y=>y.key===j)||M[0]||null},[p,s,r]),x=E.useMemo(()=>Gue(s),[s]),[b,_]=E.useState(""),S=E.useMemo(()=>{const M=b.trim().toLowerCase();return M?x.filter(j=>j.full.toLowerCase().includes(M)):x},[x,b]);E.useEffect(()=>{const M=j=>{const y=j.key.toLowerCase()==="k";(j.metaKey||j.ctrlKey)&&y&&(j.preventDefault(),u(!0),setTimeout(()=>{var w;return(w=h.current)==null?void 0:w.focus()},0)),j.key==="Escape"&&u(!1)};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[]);const C=E.useRef(null);E.useEffect(()=>{var M;n&&((M=C.current)==null||M.focus())},[n]);const A=()=>{var P;const M=a.trim().toLowerCase(),j=(M?x.find(N=>N.full.toLowerCase().includes(M)):x[0])||null;if(j){e({tab:j.catKey,sub:j.subKey,sub2:j.sub2Key});return}const y=g,w=(P=y==null?void 0:y.sub)==null?void 0:P[0];if(!(!y||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(k=>k.sub2&&k.sub2.length)){const k=w.sub2[0];k.sub2&&k.sub2.length?e({tab:y.key,sub:w.key,sub2:k.sub2[0].key}):e({tab:y.key,sub:w.key,sub2:k.key})}else e({tab:y.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:y.key,sub:w.key})};return t.jsxs("div",{className:Jt.layout,children:[t.jsxs("div",{className:Jt.side,children:[t.jsxs("div",{className:Jt.sideHead,children:[t.jsx("input",{ref:C,className:Jt.search,type:"search",placeholder:"Suche",value:a,onChange:M=>l(M.target.value),onKeyDown:M=>{M.key==="Enter"&&A()}}),t.jsx("button",{className:Jt.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var M;return(M=h.current)==null?void 0:M.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),t.jsx("div",{className:Jt.sideList,children:(p.length?p:s).map(M=>t.jsxs("div",{className:`${Jt.sideItem} ${(g==null?void 0:g.key)===M.key?Jt.active:""}`,onClick:()=>i(M.key),children:[t.jsxs("span",{className:Jt.sideTitle,children:[M.icon?t.jsx("span",{className:Jt.ico,"aria-hidden":!0,children:M.icon}):null,M.label]}),t.jsx("span",{className:Jt.badge,children:aI(M.sub)})]},M.key))})]}),t.jsx("div",{className:Jt.detail,children:g?t.jsxs("div",{className:Jt.detailInner,children:[t.jsxs("div",{className:Jt.detailHead,children:[t.jsxs("h3",{className:Jt.detailTitle,children:[g.icon?t.jsx("span",{className:Jt.ico,"aria-hidden":!0,children:g.icon}):null,g.label]}),t.jsxs("div",{className:Jt.badge,children:[aI(g.sub)," Eintrge"]})]}),t.jsx("div",{className:Jt.grid,children:(g.sub||[]).map(M=>{const j=M.sub2&&M.sub2.length>0,y=j&&M.sub2.some(w=>w.sub2&&w.sub2.length);return t.jsxs("div",{className:Jt.card,children:[t.jsx("div",{className:Jt.cardHead,dangerouslySetInnerHTML:{__html:Ah(M.label,a)}}),j?t.jsx("div",{className:Jt.btnGrid,children:y?M.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(P=>t.jsx("button",{className:Jt.itemBtn,onClick:()=>e({tab:g.key,sub:M.key,sub2:P.key}),dangerouslySetInnerHTML:{__html:Ah(`${w.label}  ${P.label}`,a)}},`${w.key}__${P.key}`)):[t.jsx("button",{className:Jt.itemBtn,onClick:()=>e({tab:g.key,sub:M.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Ah(w.label,a)}},w.key)]):M.sub2.map(w=>t.jsx("button",{className:Jt.itemBtn,onClick:()=>e({tab:g.key,sub:M.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Ah(w.label,a)}},w.key))}):t.jsx("div",{className:Jt.btnGrid,children:t.jsx("button",{className:Jt.itemBtn,onClick:()=>e({tab:g.key,sub:M.key}),dangerouslySetInnerHTML:{__html:Ah(M.label,a)}})})]},M.key)})}),a&&g.sub&&g.sub.length>0&&g.sub.every(M=>!M.sub2||!M.sub2.length?!M.label.toLowerCase().includes(a.trim().toLowerCase()):M.sub2.some(y=>y.sub2&&y.sub2.length)?M.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(w=>!w.label.toLowerCase().includes(a.trim().toLowerCase())):!y.label.toLowerCase().includes(a.trim().toLowerCase())):M.sub2.every(y=>!y.label.toLowerCase().includes(a.trim().toLowerCase())))?t.jsxs("div",{className:Jt.empty,children:["Keine Treffer in ",g.label,"."]}):null]}):t.jsx("div",{className:Jt.empty,children:"Keine Kategorie gefunden."})}),c&&t.jsx("div",{className:Jt.spotWrap,onClick:()=>u(!1),children:t.jsxs("div",{className:Jt.spot,onClick:M=>M.stopPropagation(),children:[t.jsxs("div",{className:Jt.spotHead,children:[t.jsx("input",{ref:h,className:Jt.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:b,onChange:M=>_(M.target.value)}),t.jsx("button",{className:Jt.spotClose,onClick:()=>u(!1),children:"Esc"})]}),t.jsx("div",{className:Jt.spotList,children:S.length===0?t.jsx("div",{className:Jt.spotItemEmpty,children:"Keine Treffer"}):S.map((M,j)=>t.jsxs("div",{className:Jt.spotItem,onClick:()=>{u(!1),e({tab:M.catKey,sub:M.subKey,sub2:M.sub2Key})},children:[t.jsx("div",{className:Jt.spotCat,children:M.catKey}),t.jsx("div",{className:Jt.spotLabel,children:M.full})]},j))})]})})]})},que={gamefeatures:Yae,progression:Xae,hellevator:Jae,"legendary-dungeon":Zae,events:eoe,calculators:ooe,infographics:loe,"class-book":coe,dungeons:doe},oI={gamefeatures:{fortress:uoe,underworld:koe,arenaam:Toe},hellevator:{"hellevator-guide":jle},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":Sle},events:{"event-list":Nle,"event-cycle":kle},calculators:{"fortress-calculator":Gle,"underworld-calculator":uce,"max-item-stats-calculator":hce,"gem-calculator":Oce,"dungeon-pause-open-xp-calculator":ade},progression:{early:ode,mid:Nde,late:uue}},B0={gamefeatures:{arenaam:{"am-rune-bonuses":hle,"am-build-order":wle},underworld:{"underworld-calculator":Coe,"underworld-pro-package-skip-order":Ioe},fortress:{"fortress-calculator":hoe,"fortress-package-skip-order":Soe,"fortress-attack-duplication":Noe}},progression:{early:{"first-weekend-guide":yde,"max-item-stats-calculator":bde,"fortress-package-skip-order":_de,"underworld-pro-package-skip-order":wde,"gem-calculator":jde,"fortress-attack-duplication":Sde},mid:{"dungeon-pause":Jde,"dungeon-pause-open-xp-calculator":Zde,"dungeon-pause-exit":lue,"gem-calculator":cue,"calendar-skip":due}}};function Que(){const[s,e]=Fo(),n=s.get("tab")||"",r=s.get("sub")||"",i=s.get("sub2")||"";let a=null;n?n&&!r?a=que[n]||null:n&&r&&!i?a=oI[n]&&oI[n][r]||null:n&&r&&i&&(a=B0[n]&&B0[n][r]&&B0[n][r][i]||null):a=null;const l=c=>{const u=new URLSearchParams(s);u.set("tab",c.tab),c.sub?u.set("sub",c.sub):u.delete("sub"),c.sub2?u.set("sub2",c.sub2):u.delete("sub2"),e(u,{replace:!1})};return t.jsxs(Ht,{children:[t.jsx("div",{className:Od.topWrap,children:t.jsx(zae,{logoSrc:tx,categories:$c,titleI18nKey:"guides.index.title"})}),t.jsx("div",{className:Od.divider}),t.jsx("div",{className:Od.contentArea,children:a?t.jsx(a,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Od.placeholder,children:[t.jsx("h2",{className:Od.placeholderTitle,children:"Guides"}),t.jsx("p",{className:Od.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),t.jsx(Kue,{categories:$c,onNavigate:l,autoFocusSearch:!1})]})})]})}const Yue="modulepreload",Xue=function(s){return"/"+s},lI={},Ke=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=u(n.map(h=>{if(h=Xue(h),h in lI)return;lI[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":Yue,p||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),p)return new Promise((b,_)=>{x.addEventListener("load",b),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},O0=Object.assign({"../../content/guidehub-v2/de/calculators/dungeon-pause-open-xp-calculator/index.md":()=>Ke(()=>import("./index-BD-aOE8D.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/calculators/fortress-calculator/index.md":()=>Ke(()=>import("./index-BoLXPKlQ.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/calculators/gem-calculator/index.md":()=>Ke(()=>import("./index-Q5YJTyOZ.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/calculators/index.md":()=>Ke(()=>import("./index-Cwb4rYh7.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/calculators/max-item-stats-calculator/index.md":()=>Ke(()=>import("./index-DWgpFHu6.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/calculators/underworld-calculator/index.md":()=>Ke(()=>import("./index-_86ExND3.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/class-book/index.md":()=>Ke(()=>import("./index-COcvGUmJ.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/events/event-cycle/index.md":()=>Ke(()=>import("./index-B9lV2Iwr.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/events/event-list/index.md":()=>Ke(()=>import("./index-CnZW9bvn.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/events/hellevator/hellevator-guide.md":()=>Ke(()=>import("./hellevator-guide-BulnXD24.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/events/hellevator/index.md":()=>Ke(()=>import("./index-lhg_qIFn.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/events/index.md":()=>Ke(()=>import("./index-BwAQ_Gok.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/events/legendary-dungeon/index.md":()=>Ke(()=>import("./index-BzPse3tN.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/events/legendary-dungeon/legendary-dungeon-guide-epics-legendaries.md":()=>Ke(()=>import("./legendary-dungeon-guide-epics-legendaries-lSwm34AL.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/arenaam/am-build-order.md":()=>Ke(()=>import("./am-build-order-uNYagJn7.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/arenaam/am-rune-bonuses.md":()=>Ke(()=>import("./am-rune-bonuses-E8H9N3Iq.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/arenaam/index.md":()=>Ke(()=>import("./index-BMiVmMDy.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/dungeons/index.md":()=>Ke(()=>import("./index-B1_pZ0OA.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/fortress/fortress-attack-duplication.md":()=>Ke(()=>import("./fortress-attack-duplication-I8SCZjVp.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/fortress/fortress-calculator.md":()=>Ke(()=>import("./fortress-calculator-BoLXPKlQ.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/fortress/fortress-package-skip-order.md":()=>Ke(()=>import("./fortress-package-skip-order-DVkFtmvX.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/fortress/index.md":()=>Ke(()=>import("./index-DEX7m4N6.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/index.md":()=>Ke(()=>import("./index-Boc-SgkY.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/underworld/index.md":()=>Ke(()=>import("./index-Btsw6gjQ.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/underworld/underworld-calculator.md":()=>Ke(()=>import("./underworld-calculator-_86ExND3.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/gamefeatures/underworld/underworld-pro-package-skip-order.md":()=>Ke(()=>import("./underworld-pro-package-skip-order-oXnuNGJu.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/home.md":()=>Ke(()=>import("./home-Y4rYyXA7.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/infographics/index.md":()=>Ke(()=>import("./index-SkQloDUR.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/early/first-weekend-guide.md":()=>Ke(()=>import("./first-weekend-guide-75AZeoqK.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/early/fortress-attack-duplication.md":()=>Ke(()=>import("./fortress-attack-duplication-D2L3UPUy.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/early/fortress-package-skip-order.md":()=>Ke(()=>import("./fortress-package-skip-order-DLCCqF01.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/early/gem-calculator.md":()=>Ke(()=>import("./gem-calculator-Q5YJTyOZ.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/early/index.md":()=>Ke(()=>import("./index-EXWiQp1e.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/early/max-item-stats-calculator.md":()=>Ke(()=>import("./max-item-stats-calculator-DWgpFHu6.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/early/underworld-pro-package-skip-order.md":()=>Ke(()=>import("./underworld-pro-package-skip-order-B-6sK7ea.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/index.md":()=>Ke(()=>import("./index-DfphJdV5.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/late/index.md":()=>Ke(()=>import("./index-B-ZehDFd.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/mid/calendar-skip.md":()=>Ke(()=>import("./calendar-skip-BneKc0uM.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/mid/dungeon-pause-exit.md":()=>Ke(()=>import("./dungeon-pause-exit-D0xk8VAt.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/mid/dungeon-pause-open-xp-calculator.md":()=>Ke(()=>import("./dungeon-pause-open-xp-calculator-BD-aOE8D.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/mid/gem-calculator.md":()=>Ke(()=>import("./gem-calculator-z4Swzckq.js"),[]).then(s=>s.default),"../../content/guidehub-v2/de/progression/mid/index.md":()=>Ke(()=>import("./index-CtBla6Ns.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/calculators/dungeon-pause-open-xp-calculator/index.md":()=>Ke(()=>import("./index-B8_z4M72.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/calculators/fortress-calculator/index.md":()=>Ke(()=>import("./index-CWeVDYli.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/calculators/gem-calculator/index.md":()=>Ke(()=>import("./index-z4Swzckq.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/calculators/index.md":()=>Ke(()=>import("./index-D4zBFaIK.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/calculators/max-item-stats-calculator/index.md":()=>Ke(()=>import("./index-BOtOwNZ8.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/calculators/underworld-calculator/index.md":()=>Ke(()=>import("./index-Btd0kGqq.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/class-book/index.md":()=>Ke(()=>import("./index-CZ3sHN2T.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/events/event-cycle/index.md":()=>Ke(()=>import("./index-BMIDVoUo.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/events/event-list/index.md":()=>Ke(()=>import("./index-BpbHTeer.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/events/hellevator/hellevator-guide.md":()=>Ke(()=>import("./hellevator-guide-B8x64JWw.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/events/hellevator/index.md":()=>Ke(()=>import("./index-DvFLIp-d.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/events/index.md":()=>Ke(()=>import("./index-CW5j4WWB.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/events/legendary-dungeon/index.md":()=>Ke(()=>import("./index-DsYGGVxe.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/events/legendary-dungeon/legendary-dungeon-guide-epics-legendaries.md":()=>Ke(()=>import("./legendary-dungeon-guide-epics-legendaries-BUa3WliX.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/arenaam/am-build-order.md":()=>Ke(()=>import("./am-build-order-99t119mb.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/arenaam/am-rune-bonuses.md":()=>Ke(()=>import("./am-rune-bonuses-rHS7SDyN.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/arenaam/index.md":()=>Ke(()=>import("./index-2LNVml_-.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/dungeons/index.md":()=>Ke(()=>import("./index-DWBefdUh.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/fortress/fortress-attack-duplication.md":()=>Ke(()=>import("./fortress-attack-duplication-BPeHt_ok.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/fortress/fortress-calculator.md":()=>Ke(()=>import("./fortress-calculator-CWeVDYli.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/fortress/fortress-package-skip-order.md":()=>Ke(()=>import("./fortress-package-skip-order-DSDkGb0Q.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/fortress/index.md":()=>Ke(()=>import("./index-Ca4dIX40.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/index.md":()=>Ke(()=>import("./index-DtgFiyRx.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/underworld/index.md":()=>Ke(()=>import("./index-dWCKu2ym.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/underworld/underworld-calculator.md":()=>Ke(()=>import("./underworld-calculator-Btd0kGqq.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/gamefeatures/underworld/underworld-pro-package-skip-order.md":()=>Ke(()=>import("./underworld-pro-package-skip-order-DEyzATP2.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/home.md":()=>Ke(()=>import("./home-DdLr3rwW.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/infographics/index.md":()=>Ke(()=>import("./index-CqsM8MIT.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/early/first-weekend-guide.md":()=>Ke(()=>import("./first-weekend-guide-CMTcPA4j.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/early/fortress-attack-duplication.md":()=>Ke(()=>import("./fortress-attack-duplication-D7ajbX7T.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/early/fortress-package-skip-order.md":()=>Ke(()=>import("./fortress-package-skip-order--vGMgJIY.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/early/gem-calculator.md":()=>Ke(()=>import("./gem-calculator-j8CnAoSg.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/early/index.md":()=>Ke(()=>import("./index-6Se8t2-m.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/early/max-item-stats-calculator.md":()=>Ke(()=>import("./max-item-stats-calculator-BOtOwNZ8.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/early/underworld-pro-package-skip-order.md":()=>Ke(()=>import("./underworld-pro-package-skip-order-cPzCzyAA.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/index.md":()=>Ke(()=>import("./index-D8N7Xg-_.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/late/index.md":()=>Ke(()=>import("./index-Hbv5m9lj.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/mid/calendar-skip.md":()=>Ke(()=>import("./calendar-skip-ClT7EsPD.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/mid/dungeon-pause-exit.md":()=>Ke(()=>import("./dungeon-pause-exit-Ckr_Fdzt.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/mid/dungeon-pause-open-xp-calculator.md":()=>Ke(()=>import("./dungeon-pause-open-xp-calculator-B8_z4M72.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/mid/gem-calculator.md":()=>Ke(()=>import("./gem-calculator-Cd7yemY0.js"),[]).then(s=>s.default),"../../content/guidehub-v2/en/progression/mid/index.md":()=>Ke(()=>import("./index-BnsmNO5Q.js"),[]).then(s=>s.default)}),V0=new Map,cI={title:"",category:"",createdAt:"",updatedAt:"",gallery:[]};function cv(s){const e=s.trim();return e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e}function Jue(s){const e=s.trim();return e?e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1).split(",").map(r=>cv(r).trim()).filter(Boolean):[cv(e)].filter(Boolean):[]}function Zue(s){var c;const e=s.replace(/^\uFEFF/,""),n=e.match(/^---\r?\n([\s\S]*?)\r?\n---\r?\n?/);if(!n)return{frontmatter:{...cI},body:e};const r={...cI},i=n[1].split(/\r?\n/);let a=null;for(const u of i){const h=u.trim();if(!h)continue;const p=h.match(/^-+\s+(.*)$/);if(a==="gallery"&&p){r.gallery.push(cv(p[1]));continue}const g=h.match(/^([a-zA-Z0-9_]+)\s*:\s*(.*)$/);if(!g)continue;const x=g[1],b=(c=g[2])!=null?c:"";if(a=x,x==="gallery"){r.gallery=Jue(b);continue}(x==="title"||x==="category"||x==="createdAt"||x==="updatedAt")&&(r[x]=cv(b))}const l=e.slice(n[0].length);return{frontmatter:r,body:l}}function dI(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function U0(s){return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function z0(s){let e=dI(s);return e=e.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(n,r,i)=>{const a=U0(String(r!=null?r:""));return`<img src="${U0(String(i!=null?i:""))}" alt="${a}" />`}),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(n,r,i)=>{const a=dI(String(r!=null?r:""));return`<a href="${U0(String(i!=null?i:""))}" target="_blank" rel="noopener noreferrer">${a}</a>`}),e=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),e=e.replace(/\*([^*]+)\*/g,"<em>$1</em>"),e}function ehe(s){return s.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function the(s){const e=s.split(/\r?\n/),n=[],r=[],i=new Set;let a=!1;const l=()=>{a&&(n.push("</ul>"),a=!1)},c=h=>{let p=h,g=1;for(;i.has(p);)p=`${h}-${g}`,g+=1;return i.add(p),p},u=h=>{const p=h.match(/\s*\{#([a-zA-Z0-9\-_]+)\}\s*$/);return p?{text:h.replace(p[0],"").trimEnd(),anchor:p[1]}:{text:h,anchor:null}};for(const h of e){const p=h.trim();if(!p){l();continue}if(p==="---"||p==="***"){l(),n.push("<hr />");continue}const g=p.match(/^(#{1,3})\s+(.*)$/);if(g){l();const b=g[1].length,_=g[2].trim(),{text:S,anchor:C}=u(_),A=z0(S),M=C||ehe(S)||"section";if(b===2){const j=c(M);r.push({id:j,text:S}),n.push(`<h2 id="${j}">${A}</h2>`)}else if(b===1)if(C){const j=c(M);n.push(`<h1 id="${j}">${A}</h1>`)}else n.push(`<h1>${A}</h1>`);else if(C){const j=c(M);n.push(`<h3 id="${j}">${A}</h3>`)}else n.push(`<h3>${A}</h3>`);continue}const x=p.match(/^-+\s+(.*)$/);if(x){a||(n.push("<ul>"),a=!0),n.push(`<li>${z0(x[1])}</li>`);continue}l(),n.push(`<p>${z0(p)}</p>`)}return l(),{html:n.join(`
`),toc:r}}function uI(s,e){const{tab:n,sub:r,sub2:i}=e;return!n&&!r&&!i?`../../content/guidehub-v2/${s}/home.md`:n&&!r&&!i?`../../content/guidehub-v2/${s}/${n}/index.md`:n&&r&&!i?`../../content/guidehub-v2/${s}/${n}/${r}/index.md`:n&&r&&i?`../../content/guidehub-v2/${s}/${n}/${r}/${i}.md`:`../../content/guidehub-v2/${s}/home.md`}async function she(s,e){var i,a,l;const n=`${e}:${(i=s.tab)!=null?i:""}:${(a=s.sub)!=null?a:""}:${(l=s.sub2)!=null?l:""}`;if(V0.has(n))return V0.get(n);const r=(async()=>{const c=uI(e,s),u=uI("en",s),h=O0[c]||O0[u];if(!h)return null;const p=await h(),{frontmatter:g,body:x}=Zue(p),{html:b,toc:_}=the(x),S=O0[c]?e:"en";return{id:s.sub2||s.sub||s.tab||"home",lang:S,frontmatter:g,body:x,html:b,toc:_}})();return V0.set(n,r),r}const nhe="_viewerWrap_9i57y_1",rhe="_nav_9i57y_21",ihe="_navCard_9i57y_37",ahe="_navHeader_9i57y_59",ohe="_logoWrap_9i57y_73",lhe="_logoImg_9i57y_85",che="_divider_9i57y_99",dhe="_navHomeWrap_9i57y_133",uhe="_navScroller_9i57y_141",hhe="_searchInput_9i57y_195",phe="_navSection_9i57y_221",mhe="_navSubTitle_9i57y_251",ghe="_navRow_9i57y_265",fhe="_navRowLabel_9i57y_281",vhe="_navRowChevron_9i57y_291",xhe="_navRowChevronOpen_9i57y_319",yhe="_categoryRow_9i57y_327",bhe="_entryList_9i57y_355",_he="_entryListClosed_9i57y_369",whe="_entryListOpen_9i57y_377",jhe="_subSection_9i57y_385",She="_subRow_9i57y_397",Nhe="_subEntryList_9i57y_423",khe="_subGroup_9i57y_437",Che="_navItem_9i57y_449",Ihe="_navItemIndented_9i57y_475",The="_navItemActive_9i57y_505",Ehe="_viewer_9i57y_1",Ahe="_viewerCard_9i57y_525",Phe="_viewerHeader_9i57y_543",Rhe="_viewerTitle_9i57y_561",Lhe="_metaRow_9i57y_575",Dhe="_metaLabel_9i57y_591",Mhe="_categoryPill_9i57y_601",Fhe="_tocRow_9i57y_623",$he="_tocLabel_9i57y_637",Bhe="_tocPills_9i57y_651",Ohe="_tocPill_9i57y_651",Vhe="_contentGrid_9i57y_695",Uhe="_contentGridHasGallery_9i57y_707",zhe="_markdown_9i57y_715",Hhe="_markdownHome_9i57y_835",Ghe="_galleryCard_9i57y_865",Whe="_galleryTitle_9i57y_879",Khe="_galleryGrid_9i57y_895",qhe="_galleryThumb_9i57y_907",Qhe="_galleryEmpty_9i57y_921",Yhe="_loadingState_9i57y_933",Xhe="_missingState_9i57y_935",Jhe="_emptyTitle_9i57y_953",Zhe="_viewerLoadingOverlay_9i57y_967",epe="_viewerLoadingOverlayVisible_9i57y_995",tpe="_loadingOverlayContent_9i57y_1003",spe="_loadingSpinner_9i57y_1015",npe="_overlay_9i57y_1045",rpe="_overlayPanel_9i57y_1063",ipe="_overlayImage_9i57y_1085",ape="_overlayClose_9i57y_1099",Ze={viewerWrap:nhe,nav:rhe,navCard:ihe,navHeader:ahe,logoWrap:ohe,logoImg:lhe,divider:che,navHomeWrap:dhe,navScroller:uhe,searchInput:hhe,navSection:phe,navSubTitle:mhe,navRow:ghe,navRowLabel:fhe,navRowChevron:vhe,navRowChevronOpen:xhe,categoryRow:yhe,entryList:bhe,entryListClosed:_he,entryListOpen:whe,subSection:jhe,subRow:She,subEntryList:Nhe,subGroup:khe,navItem:Che,navItemIndented:Ihe,navItemActive:The,viewer:Ehe,viewerCard:Ahe,viewerHeader:Phe,viewerTitle:Rhe,metaRow:Lhe,metaLabel:Dhe,categoryPill:Mhe,tocRow:Fhe,tocLabel:$he,tocPills:Bhe,tocPill:Ohe,contentGrid:Vhe,contentGridHasGallery:Uhe,markdown:zhe,markdownHome:Hhe,galleryCard:Ghe,galleryTitle:Whe,galleryGrid:Khe,galleryThumb:qhe,galleryEmpty:Qhe,loadingState:Yhe,missingState:Xhe,emptyTitle:Jhe,viewerLoadingOverlay:Zhe,viewerLoadingOverlayVisible:epe,loadingOverlayContent:tpe,loadingSpinner:spe,overlay:npe,overlayPanel:rpe,overlayImage:ipe,overlayClose:ape};function ope(){const s=[];return $c.forEach(e=>{(e.sub||[]).forEach(n=>{n.sub2&&n.sub2.length?n.sub2.some(i=>i.sub2&&i.sub2.length)?n.sub2.forEach(i=>{i.sub2&&i.sub2.length&&i.sub2.forEach(a=>{s.push({id:a.key,label:a.label,tab:e.key,sub:n.key,sub2:a.key,categoryLabel:e.label})})}):n.sub2.forEach(i=>{s.push({id:i.key,label:i.label,tab:e.key,sub:n.key,sub2:i.key,categoryLabel:e.label})}):s.push({id:n.key,label:n.label,tab:e.key,sub:n.key,categoryLabel:e.label})})}),s}function lpe(s){return s!=null&&s.startsWith("de")?"de":"en"}const cpe=330,dpe=({tab:s,sub:e,sub2:n,isHome:r,openTabs:i,openSubs:a,onToggleTab:l,onToggleSub:c,onNavigate:u,onNavigateHome:h,onNavigateCategory:p,onNavigateSub:g,t:x})=>{const[b,_]=Q.useState(""),S=b.trim().toLowerCase(),C=Q.useMemo(()=>{const j=$c.find(y=>y.key==="gamefeatures");return j?[j,...$c.filter(y=>y.key!=="gamefeatures")]:$c},[]),A=Q.useCallback(j=>!S||j.toLowerCase().includes(S),[S]),M=()=>C.map(j=>{const y=A(j.label),P=(j.sub||[]).map(T=>{var H;const L=y||A(T.label);let R=[];T.sub2&&T.sub2.length&&(T.sub2.some(W=>W.sub2&&W.sub2.length)?R=T.sub2.map(W=>{if(!W.sub2||!W.sub2.length)return null;const G=L||A(W.label),K=W.sub2.filter(te=>G||A(te.label));return K.length?t.jsxs("div",{className:Ze.subGroup,children:[t.jsx("div",{className:Ze.navSubTitle,children:W.label}),K.map(te=>t.jsx("button",{className:`${Ze.navItem} ${Ze.navItemIndented} ${s===j.key&&e===T.key&&n===te.key?Ze.navItemActive:""}`,onClick:()=>u({tab:j.key,sub:T.key,sub2:te.key}),type:"button",children:te.label},`${j.key}-${T.key}-${te.key}`))]},`${j.key}-${T.key}-${W.key}`):null}).filter(Boolean):R=T.sub2.filter(G=>L||A(G.label)).map(G=>t.jsx("button",{className:`${Ze.navItem} ${Ze.navItemIndented} ${s===j.key&&e===T.key&&n===G.key?Ze.navItemActive:""}`,onClick:()=>u({tab:j.key,sub:T.key,sub2:G.key}),type:"button",children:G.label},`${j.key}-${T.key}-${G.key}`)));const $=R.length>0;if(!L&&!$)return null;const B=!!((H=a[j.key])!=null&&H[T.key])||!!S&&$;return t.jsxs("div",{className:Ze.subSection,children:[t.jsxs("button",{className:`${Ze.navRow} ${Ze.subRow} ${s===j.key&&e===T.key&&!n?Ze.navItemActive:""}`,onClick:()=>{c(j.key,T.key),g(j.key,T.key)},"aria-expanded":B,type:"button",children:[t.jsx("span",{className:Ze.navRowLabel,children:T.label}),t.jsx("span",{className:`${Ze.navRowChevron} ${B?Ze.navRowChevronOpen:""}`})]}),t.jsx("div",{className:`${Ze.subEntryList} ${B?Ze.entryListOpen:Ze.entryListClosed}`,children:B?R:null})]},`${j.key}-${T.key}`)}).filter(Boolean),N=P.length>0;if(!y&&!N&&S)return null;const k=!!i[j.key]||!!S&&(y||N);return t.jsxs("div",{className:Ze.navSection,children:[t.jsxs("button",{className:`${Ze.navRow} ${Ze.categoryRow} ${s===j.key&&!e&&!n?Ze.navItemActive:""}`,onClick:()=>{l(j.key),p(j.key)},"aria-expanded":k,type:"button",children:[t.jsx("span",{className:Ze.navRowLabel,children:j.label}),t.jsx("span",{className:`${Ze.navRowChevron} ${k?Ze.navRowChevronOpen:""}`})]}),t.jsx("div",{className:`${Ze.entryList} ${k?Ze.entryListOpen:Ze.entryListClosed}`,children:k?P:null})]},j.key)});return t.jsx("div",{className:Ze.nav,children:t.jsxs("div",{className:Ze.navCard,children:[t.jsxs("div",{className:Ze.navHeader,children:[t.jsx("div",{className:Ze.logoWrap,children:t.jsx("img",{src:tx,alt:"Guide Hub",className:Ze.logoImg})}),t.jsx("div",{className:Ze.divider}),t.jsx("input",{className:Ze.searchInput,type:"search",value:b,onChange:j=>_(j.target.value),placeholder:x("guides.v2.searchPlaceholder",{defaultValue:"Search guides"}),"aria-label":x("guides.v2.searchLabel",{defaultValue:"Search guides"})})]}),t.jsxs("div",{className:Ze.navScroller,children:[t.jsx("div",{className:Ze.navHomeWrap,children:t.jsx("button",{className:`${Ze.navItem} ${r?Ze.navItemActive:""}`,onClick:h,type:"button",children:x("guides.v2.navHomeLabel",{defaultValue:"Home"})})}),M()]})]})})},upe=()=>{const[s,e]=Fo(),{t:n,i18n:r}=wn(),i=lpe(r.language),a=s.get("tab")||"",l=s.get("sub")||"",c=s.get("sub2")||"",u=Q.useMemo(()=>({tab:a||void 0,sub:l||void 0,sub2:c||void 0}),[a,l,c]),[h,p]=Q.useState(()=>({tab:a||void 0,sub:l||void 0,sub2:c||void 0})),g=h.tab||"",x=h.sub||"",b=h.sub2||"",_=!g&&!x&&!b,S=Q.useMemo(()=>ope(),[]),C=Q.useMemo(()=>S.find(me=>{var Ie;return me.tab===g&&me.sub===x&&((Ie=me.sub2)!=null?Ie:"")===b})||null,[S,g,x,b]),A=Q.useMemo(()=>$c.find(me=>me.key===g)||null,[g]),M=Q.useMemo(()=>{var me;return((me=A==null?void 0:A.sub)==null?void 0:me.find(Ie=>Ie.key===x))||null},[A,x]),[j,y]=Q.useState({}),[w,P]=Q.useState({}),[N,k]=Q.useState(null),[T,L]=Q.useState("idle"),[R,$]=Q.useState(!1),B=Q.useRef(0),H=Q.useRef(0),z=Q.useRef(null),W=Q.useCallback(()=>{z.current&&(window.clearTimeout(z.current),z.current=null)},[]);Q.useEffect(()=>{let me=!1;const Ie=B.current+1;return B.current=Ie,W(),H.current=Date.now(),$(!0),she(u,i).then(Xe=>{if(me||B.current!==Ie)return;const it=Xe?"ready":"missing",Nt=()=>{me||B.current!==Ie||(k(Xe),L(it),p(u),$(!1))},be=Date.now()-H.current,De=cpe-be;De<=0?Nt():z.current=window.setTimeout(Nt,De)}),()=>{me=!0,W()}},[u,i,W]),Q.useEffect(()=>{a&&y(me=>me[a]?me:{...me,[a]:!0})},[a]),Q.useEffect(()=>{!a||!l||P(me=>{const Ie=me[a]||{};return Ie[l]?me:{...me,[a]:{...Ie,[l]:!0}}})},[a,l]);const G=Q.useCallback(me=>{const Ie=new URLSearchParams(s);Ie.set("tab",me.tab),me.sub?Ie.set("sub",me.sub):Ie.delete("sub"),me.sub2?Ie.set("sub2",me.sub2):Ie.delete("sub2"),e(Ie,{replace:!1,preventScrollReset:!0})},[s,e]),K=Q.useCallback(()=>{const me=new URLSearchParams(s);me.delete("tab"),me.delete("sub"),me.delete("sub2"),e(me,{replace:!1,preventScrollReset:!0})},[s,e]),te=Q.useCallback(me=>{y(Ie=>({...Ie,[me]:!Ie[me]}))},[]),X=Q.useCallback(me=>{const Ie=new URLSearchParams(s);Ie.set("tab",me),Ie.delete("sub"),Ie.delete("sub2"),e(Ie,{replace:!1,preventScrollReset:!0})},[s,e]),U=Q.useCallback((me,Ie)=>{P(Xe=>{const it=Xe[me]||{};return{...Xe,[me]:{...it,[Ie]:!it[Ie]}}})},[]),J=Q.useCallback((me,Ie)=>{const Xe=new URLSearchParams(s);Xe.set("tab",me),Xe.set("sub",Ie),Xe.delete("sub2"),e(Xe,{replace:!1,preventScrollReset:!0})},[s,e]),se=Q.useCallback(me=>{const Ie=document.getElementById(me);if(!Ie)return;const Xe=Ie.closest("main");if(Xe){const it=Xe.getBoundingClientRect(),be=Ie.getBoundingClientRect().top-it.top+Xe.scrollTop-12;Xe.scrollTo({top:be,behavior:"smooth"});return}Ie.scrollIntoView({behavior:"smooth",block:"start"})},[]),ne=(N==null?void 0:N.frontmatter.title)||(C==null?void 0:C.label)||(M==null?void 0:M.label)||(A==null?void 0:A.label)||"",ue=(N==null?void 0:N.frontmatter.category)||(A==null?void 0:A.label)||(C==null?void 0:C.categoryLabel)||"",we=Q.useMemo(()=>((N==null?void 0:N.toc)||[]).filter(me=>me.id!=="overview"),[N]),Me=Q.useMemo(()=>!(N!=null&&N.frontmatter.gallery)||N.frontmatter.gallery.length===0?[]:N.frontmatter.gallery.map(me=>{if(!me)return null;if(/^https?:\/\//i.test(me))return{key:me,thumb:me,full:me};const Xe=Zc(me,640),it=Xe.thumb||Xe.url,Nt=Xe.url||Xe.thumb;return!it||!Nt?null:{key:me,thumb:it,full:Nt}}).filter(Boolean),[N]),[ee,ge]=Q.useState(null);Q.useEffect(()=>{if(!ee)return;const me=Ie=>{Ie.key==="Escape"&&ge(null)};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[ee]);const oe=Me.length?`${Ze.contentGrid} ${Ze.contentGridHasGallery}`:Ze.contentGrid,ye=_?`${Ze.markdown} ${Ze.markdownHome}`:Ze.markdown,je=()=>t.jsxs("div",{className:Ze.tocRow,children:[t.jsx("div",{className:Ze.tocLabel,children:n("guides.v2.sectionsLabel",{defaultValue:"Sections"})}),t.jsx("div",{className:Ze.tocPills,children:we.length===0?t.jsx("span",{className:Ze.galleryEmpty,children:n("guides.v2.noSections",{defaultValue:"No sections"})}):we.map(me=>t.jsx("button",{className:Ze.tocPill,onClick:()=>se(me.id),type:"button",children:me.text},me.id))})]}),ke=()=>{if(!N)return null;const Ie=N.html.indexOf('<h2 id="overview">');if(Ie===-1)return t.jsx("div",{className:ye,dangerouslySetInnerHTML:{__html:N.html}});const Xe=N.html.indexOf("</h2>",Ie);if(Xe===-1)return t.jsx("div",{className:ye,dangerouslySetInnerHTML:{__html:N.html}});const it=N.html.slice(0,Xe+5),Nt=N.html.slice(Xe+5);return t.jsxs("div",{className:ye,children:[t.jsx("div",{dangerouslySetInnerHTML:{__html:it}}),je(),t.jsx("div",{dangerouslySetInnerHTML:{__html:Nt}})]})},qe=t.jsx(dpe,{tab:a,sub:l,sub2:c,isHome:_,openTabs:j,openSubs:w,onToggleTab:te,onToggleSub:U,onNavigate:G,onNavigateHome:K,onNavigateCategory:X,onNavigateSub:J,t:n});return t.jsxs(Ht,{left:qe,leftWidth:280,leftFullHeight:!0,children:[t.jsx("div",{className:Ze.viewerWrap,children:t.jsx("section",{className:Ze.viewer,children:t.jsxs("div",{className:Ze.viewerCard,children:[T==="missing"&&t.jsxs("div",{className:Ze.missingState,children:[t.jsx("div",{className:Ze.emptyTitle,children:n("guides.v2.missingTitle",{defaultValue:"Guide not available yet"})}),t.jsx("div",{children:n("guides.v2.missingBody",{defaultValue:"This guide does not have markdown content yet."})})]}),N&&T!=="missing"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Ze.viewerHeader,children:[t.jsxs("div",{children:[t.jsx("h1",{className:Ze.viewerTitle,children:ne}),t.jsxs("div",{className:Ze.metaRow,children:[t.jsxs("span",{children:[t.jsxs("span",{className:Ze.metaLabel,children:[n("guides.v2.createdLabel",{defaultValue:"Created"}),":"]}),N.frontmatter.createdAt||"-"]}),t.jsxs("span",{children:[t.jsxs("span",{className:Ze.metaLabel,children:[n("guides.v2.updatedLabel",{defaultValue:"Last edited"}),":"]}),N.frontmatter.updatedAt||"-"]})]})]}),ue&&t.jsx("div",{className:Ze.categoryPill,children:ue})]}),t.jsxs("div",{className:oe,children:[ke(),Me.length>0&&t.jsxs("aside",{className:Ze.galleryCard,children:[t.jsx("div",{className:Ze.galleryTitle,children:n("guides.v2.galleryLabel",{defaultValue:"Gallery"})}),t.jsx("div",{className:Ze.galleryGrid,children:Me.map(me=>t.jsx("img",{src:me.thumb,alt:me.key,className:Ze.galleryThumb,onClick:()=>ge(me.full)},me.key))})]})]})]}),t.jsx("div",{className:`${Ze.viewerLoadingOverlay} ${R?Ze.viewerLoadingOverlayVisible:""}`,children:t.jsx("div",{className:Ze.loadingState,children:t.jsxs("div",{className:Ze.loadingOverlayContent,children:[t.jsx("span",{className:Ze.loadingSpinner,"aria-hidden":!0}),t.jsx("span",{children:n("guides.v2.loading",{defaultValue:"Loading guide..."})})]})})})]})})}),ee&&t.jsx("div",{className:Ze.overlay,onClick:()=>ge(null),children:t.jsxs("div",{className:Ze.overlayPanel,onClick:me=>me.stopPropagation(),children:[t.jsx("button",{className:Ze.overlayClose,onClick:()=>ge(null),type:"button",children:n("guides.v2.closeLabel",{defaultValue:"Close"})}),t.jsx("img",{className:Ze.overlayImage,src:ee,alt:"Guide preview"})]})})]})},hpe="_wrap_1353r_1",ppe="_centerLogoWrap_1353r_21",mpe="_centerLogoLink_1353r_37",gpe="_centerLogo_1353r_21",fpe="_arc_1353r_71",vpe="_left_1353r_73",xpe="_right_1353r_75",ype="_sub_1353r_77",bpe="_full_1353r_79",_pe="_arcItem_1353r_81",wpe="_iconBtn_1353r_87",jpe="_active_1353r_141",Spe="_iconImg_1353r_151",Npe="_placeholderIcon_1353r_155",kpe="_placeholderText_1353r_173",Cpe="_iconLabel_1353r_177",dr={wrap:hpe,centerLogoWrap:ppe,centerLogoLink:mpe,centerLogo:gpe,arc:fpe,left:vpe,right:xpe,sub:ype,full:bpe,arcItem:_pe,iconBtn:wpe,active:jpe,iconImg:Spe,placeholderIcon:Npe,placeholderText:kpe,iconLabel:Cpe},Ipe=({to:s,label:e,icon:n,variant:r="main"})=>{const{search:i}=Zn();let a=!1;try{const l=new URLSearchParams(i),c=l.get("tab"),u=l.get("sub"),p=new URL(s,window.location.origin).searchParams,g=p.get("tab"),x=p.get("sub");a=r==="sub"?c===g&&!!x&&u===x:c===g}catch(l){a=!1}return t.jsxs(ks,{to:s,"aria-label":e,className:[dr.iconBtn,r==="sub"?dr.muted:"",a?dr.active:""].join(" "),title:e,replace:!1,children:[n?t.jsx("img",{src:n,alt:"",className:dr.iconImg}):t.jsx("div",{className:dr.placeholderIcon,"aria-hidden":"true",children:t.jsx("span",{className:dr.placeholderText,children:e.slice(0,2).toUpperCase()})}),t.jsx("div",{className:dr.iconLabel,children:e})]})},H0=({items:s,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440})=>{const c=E.useMemo(()=>{const h=s.length;if(h===0)return[];let p=-90,g=90;e==="left"?(p=90,g=270):e==="sub"?n==="left"?(p=90,g=270):(p=-90,g=90):e==="full"&&(p=0,g=360);const x=(g-p)/(h+1),b=r?190:250;return s.map((_,S)=>{const A=(p+x*(S+1))*Math.PI/180;return{it:_,x:Math.cos(A)*b,y:Math.sin(A)*b}})},[s,e,n,r]),u=(()=>{const h={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?h.left=`calc(50% - ${a}px)`:e==="right"?h.left=`calc(50% + ${a}px)`:e==="sub"&&(h.left=n==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`),h})();return t.jsx("div",{className:[dr.arc,e==="left"?dr.left:"",e==="right"?dr.right:"",e==="sub"?dr.sub:"",e==="full"?dr.full:""].join(" "),style:u,children:c.map(({it:h,x:p,y:g})=>t.jsx("div",{className:dr.arcItem,style:{transform:`translate(${p}px, ${g}px)`},children:t.jsx(Ipe,{to:h.to,label:h.label,icon:h.icon,variant:i})},h.key))})},Tpe=["creators","scans","predictions","news","records","feedback"],c_=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],Epe={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},Ape=new Set(Tpe),Ppe=c_.reduce((s,e)=>(s[e.key]=e,s),{}),Rpe=s=>typeof s=="string"&&Ape.has(s),Lpe=({logoSrc:s})=>{const[e]=Fo(),n=e.get("tab")||null,r=E.useMemo(()=>c_.filter(b=>b.side==="left"),[]),i=E.useMemo(()=>c_.filter(b=>b.side==="right"),[]),a=Rpe(n)?n:null,l=a?Epe[a]:[],c=a?Ppe[a].side:"right",u=E.useRef(null),[h,p]=E.useState(220),[g,x]=E.useState(440);return E.useEffect(()=>{const b=()=>{var j,y;const S=((y=(j=u.current)==null?void 0:j.offsetWidth)!=null?y:380)/2,A=Math.round(S+60),M=Math.round(A+220);p(A),x(M)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),t.jsxs("div",{className:dr.wrap,children:[t.jsx("div",{className:dr.centerLogoWrap,children:t.jsx(ks,{to:"/community",className:dr.centerLogoLink,"aria-label":"Community Hub Home",children:t.jsx("img",{ref:u,src:s,alt:"Community Hub",className:dr.centerLogo})})}),t.jsx(H0,{items:r.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"left",variant:"main",arcOffset:h}),t.jsx(H0,{items:i.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&t.jsx(H0,{items:l.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},Dpe="_topWrap_1rivx_1",Mpe="_divider_1rivx_19",Fpe="_contentArea_1rivx_53",$pe="_placeholder_1rivx_63",Bpe="_placeholderTitle_1rivx_77",Ope="_placeholderText_1rivx_91",Vd={topWrap:Dpe,divider:Mpe,contentArea:Fpe,placeholder:$pe,placeholderTitle:Bpe,placeholderText:Ope},Vpe="/assets/logo_communityhub-LVMLHRD6.png",Upe=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function sP(s){return s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function zpe(s){if(!s)return new Date().toISOString();const e=s.split(".");if(e.length===3){const[r,i,a]=e.map(l=>parseInt(l,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(a))return new Date(a,i-1,r).toISOString()}const n=new Date(s);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function G0(s){if(!s)return null;const e=s.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function Hpe(s){const e=[];return s.code&&e.push(`Creator code: ${s.code}`),s.drops&&e.push(`Drops access: ${s.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function Gpe(s){return s.avatar?s.avatar:`/avatars/${sP(s.code||s.name||"creator")}.png`}function Wpe(s){const e=sP(s.code||s.name||"creator"),n=[],r=G0(s.youtube);r&&n.push({type:"YouTube",url:r});const i=G0(s.twitch);i&&n.push({type:"Twitch",url:i});const a=G0(s.discord);return a&&n.push({type:"Discord",url:a}),{id:`sheet-${e}`,name:s.name,avatar:Gpe(s),description:Hpe(s),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:s.drops?3:1,lastActive:zpe(s.latestActivity),platforms:n}}function Kpe(s){var n,r,i;const e=Array.isArray(s)?s:Array.isArray(s==null?void 0:s.data)?s.data:[];return{generatedAt:(n=s==null?void 0:s.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=s==null?void 0:s.warnings)!=null?r:s==null?void 0:s.errors)!=null?i:[],stats:s==null?void 0:s.stats}}function nP(s="/data/creators-live.json"){const[e,n]=E.useState(null),[r,i]=E.useState(""),[a,l]=E.useState(!1),[c,u]=E.useState(0);return E.useEffect(()=>{let h=!1;async function p(){l(!0),i("");try{const g=await fetch(s,{cache:"no-store"});if(!g.ok)throw new Error(`HTTP ${g.status}`);const x=await g.json();h||n(Kpe(x))}catch(g){h||(i((g==null?void 0:g.message)||"Failed to load creator snapshot"),n(null))}finally{h||l(!1)}}return p(),()=>{h=!0}},[s,c]),{snapshot:e,error:r,loading:a,refresh:()=>u(h=>h+1)}}const qpe=Upe,Qpe=qpe.map(Wpe),Ype=[...Qpe];function rP(s){return s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}k`:String(s)}function Tl(s,e,n=rP){if(s<=0)return"";const r=n(s);return e?`${r} ${e}`:r}function Pp(s){const e=new Date(s).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function Xpe(s,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(s){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(Pp(r.lastActive)-Pp(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function Jpe(s){const e={width:16,height:16};switch(s){case"YouTube":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[t.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),t.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[t.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),t.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),t.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[t.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),t.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),t.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return t.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[t.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),t.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),t.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function hI({c:s}){return t.jsxs("article",{className:"cc-card",children:[t.jsxs("header",{className:"cc-card-head",children:[t.jsx("img",{src:s.avatar,alt:`${s.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),t.jsxs("div",{className:"cc-card-title",children:[t.jsx("h3",{className:"cc-name",children:s.name}),t.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:s.platforms.map(e=>t.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[Jpe(e.type),t.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),t.jsx("p",{className:"cc-desc",children:s.description}),t.jsxs("div",{className:"cc-stats",children:[t.jsx("span",{title:"Subscribers",children:Tl(s.subscribers,"subs")}),t.jsx("span",{title:"Total views",children:Tl(s.totalViews,"views")}),t.jsx("span",{title:"Weekly views",children:Tl(s.weeklyViews,"/wk")}),t.jsx("span",{title:"Weekly posts",children:Tl(s.weeklyPosts,"posts/wk",e=>`${e}`)})]}),t.jsxs("footer",{className:"cc-meta",children:[t.jsx("span",{className:"cc-badge",children:s.language.toUpperCase()}),t.jsxs("span",{className:"cc-meta-right",children:["active ",Pp(s.lastActive),"d ago"]})]})]},s.id)}function Zpe({data:s}){return t.jsx("div",{className:"cc-table-wrap",children:t.jsxs("table",{className:"cc-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Lang"}),t.jsx("th",{children:"Subs"}),t.jsx("th",{children:"Total Views"}),t.jsx("th",{children:"Weekly Views"}),t.jsx("th",{children:"Weekly Posts"}),t.jsx("th",{children:"Active"})]})}),t.jsx("tbody",{children:s.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"cc-table-name",children:[t.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),t.jsx("span",{children:e.name})]})}),t.jsx("td",{children:e.language.toUpperCase()}),t.jsx("td",{children:Tl(e.subscribers)}),t.jsx("td",{children:Tl(e.totalViews)}),t.jsx("td",{children:Tl(e.weeklyViews)}),t.jsx("td",{children:Tl(e.weeklyPosts,void 0,n=>`${n}`)}),t.jsxs("td",{children:[Pp(e.lastActive),"d"]})]},e.id))})]})})}function iP(){var J,se;const[s,e]=E.useState("static"),[n,r]=E.useState("cards"),[i,a]=E.useState("subs"),[l,c]=E.useState("desc"),[u,h]=E.useState("all"),[p,g]=E.useState("all"),[x,b]=E.useState(0),[_,S]=E.useState(365),[C,A]=E.useState(null),[M,j]=E.useState(""),[y,w]=E.useState(!1),[P,N]=E.useState(""),[k,T]=E.useState(null),{snapshot:L,error:R}=nP(),$=(J=L==null?void 0:L.data)!=null&&J.length?L.data:null,B=$!=null?$:Ype,H=s==="static"?B:(se=k!=null?k:$)!=null?se:[],z=E.useMemo(()=>{const ne=new Set(H.map(ue=>ue.language));return Array.from(ne).sort()},[H]),W=E.useMemo(()=>H.filter(ne=>u==="all"?!0:ne.language===u).filter(ne=>p==="all"?!0:ne.platforms.some(ue=>ue.type===p)).filter(ne=>ne.subscribers>=x).filter(ne=>Pp(ne.lastActive)<=_).slice().sort(Xpe(i,l)),[H,u,p,x,_,i,l]);E.useEffect(()=>{if(!C&&W.length){const ne=W[Math.floor(Math.random()*W.length)];A(ne.id)}},[W,C]);const G=E.useMemo(()=>W.find(ne=>ne.id===C)||null,[W,C]),K=E.useMemo(()=>W.slice().sort((ne,ue)=>ue.weeklyViews-ne.weeklyViews).slice(0,5),[W]),te=E.useMemo(()=>W.slice().sort((ne,ue)=>ue.weeklyPosts-ne.weeklyPosts).slice(0,5),[W]);async function X(){N(""),w(!0);try{const ne=await fetch(M,{headers:{Accept:"application/json"}});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const ue=await ne.json(),we=Array.isArray(ue)?ue:Array.isArray(ue==null?void 0:ue.data)?ue.data:[];T(we)}catch(ne){N((ne==null?void 0:ne.message)||"Fetch failed")}finally{w(!1)}}const U=W.length===0;return t.jsxs("section",{className:"cc-wrap",children:[t.jsxs("div",{className:"cc-heading",children:[t.jsx("h1",{children:"Content Creator Hub"}),t.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),L&&t.jsxs("p",{className:"cc-sync",children:[t.jsxs("span",{children:["Live stats synced ",new Date(L.generatedAt).toLocaleString()]}),t.jsxs("span",{children:[L.data.length," profiles"]})]}),R&&t.jsx("p",{className:"cc-sync-error",children:R})]}),t.jsxs("div",{className:"cc-toolbar",children:[t.jsxs("div",{className:"cc-toolbar-row",children:[t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Data"}),t.jsxs("select",{value:s,onChange:ne=>e(ne.target.value),children:[t.jsx("option",{value:"static",children:"Static"}),t.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"View"}),t.jsxs("select",{value:n,onChange:ne=>r(ne.target.value),children:[t.jsx("option",{value:"cards",children:"Cards"}),t.jsx("option",{value:"table",children:"Table"}),t.jsx("option",{value:"json",children:"JSON"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Sort by"}),t.jsxs("select",{value:i,onChange:ne=>a(ne.target.value),children:[t.jsx("option",{value:"subs",children:"Subs"}),t.jsx("option",{value:"views",children:"Views"}),t.jsx("option",{value:"activity",children:"Activity"}),t.jsx("option",{value:"language",children:"Language"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Dir"}),t.jsxs("select",{value:l,onChange:ne=>c(ne.target.value),children:[t.jsx("option",{value:"desc",children:"Desc"}),t.jsx("option",{value:"asc",children:"Asc"})]})]})]}),t.jsxs("div",{className:"cc-toolbar-row",children:[t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Language"}),t.jsxs("select",{value:u,onChange:ne=>h(ne.target.value),children:[t.jsx("option",{value:"all",children:"All"}),z.map(ne=>t.jsx("option",{value:ne,children:ne.toUpperCase()},ne))]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Platform"}),t.jsxs("select",{value:p,onChange:ne=>g(ne.target.value),children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"YouTube",children:"YouTube"}),t.jsx("option",{value:"Twitch",children:"Twitch"}),t.jsx("option",{value:"TikTok",children:"TikTok"}),t.jsx("option",{value:"Discord",children:"Discord"})]})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Min subs"}),t.jsx("input",{type:"number",min:0,value:x,onChange:ne=>b(Number(ne.target.value||0)),placeholder:"0"})]}),t.jsxs("label",{className:"cc-field",children:[t.jsx("span",{children:"Active within"}),t.jsxs("select",{value:_,onChange:ne=>S(Number(ne.target.value)),children:[t.jsx("option",{value:7,children:"7 days"}),t.jsx("option",{value:30,children:"30 days"}),t.jsx("option",{value:90,children:"90 days"}),t.jsx("option",{value:365,children:"365 days"})]})]})]})]}),s==="dynamic"&&t.jsxs("div",{className:"cc-api",children:[t.jsxs("div",{className:"cc-api-ctrls",children:[t.jsxs("label",{className:"cc-field cc-field-grow",children:[t.jsx("span",{children:"API URL"}),t.jsx("input",{type:"url",value:M,onChange:ne=>j(ne.target.value),placeholder:"https://api.example.com/creators"})]}),t.jsx("button",{className:"cc-btn",onClick:X,disabled:!M||y,children:y?"Loading":"Fetch"})]}),P&&t.jsx("div",{className:"cc-api-error",children:P}),t.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),G&&t.jsxs("div",{className:"cc-spotlight",children:[t.jsxs("div",{className:"cc-spot-head",children:[t.jsx("h2",{children:"Random CC Spotlight"}),t.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!W.length)return;const ne=W[Math.floor(Math.random()*W.length)];A(ne.id)},children:"Shuffle"})]}),t.jsx(hI,{c:G})]}),t.jsxs("div",{className:"cc-main",children:[t.jsxs("div",{className:"cc-main-left",children:[U&&t.jsxs("div",{className:"cc-empty",children:[t.jsx("h3",{children:"No creators match the filters"}),t.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!U&&n==="cards"&&t.jsx("div",{className:"cc-grid",children:W.map(ne=>t.jsx(hI,{c:ne},ne.id))}),!U&&n==="table"&&t.jsx(Zpe,{data:W}),n==="json"&&t.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(W,null,2)})]}),t.jsxs("aside",{className:"cc-main-right",children:[t.jsxs("div",{className:"cc-side",children:[t.jsx("h3",{children:"Weekly Toplists"}),t.jsxs("div",{className:"cc-toplist",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"By Weekly Views"}),t.jsx("ol",{children:K.map(ne=>t.jsxs("li",{children:[t.jsx("span",{children:ne.name}),t.jsx("span",{className:"cc-top-val",children:rP(ne.weeklyViews)})]},ne.id))})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"By Weekly Posts"}),t.jsx("ol",{children:te.map(ne=>t.jsxs("li",{children:[t.jsx("span",{children:ne.name}),t.jsx("span",{className:"cc-top-val",children:ne.weeklyPosts})]},ne.id))})]})]})]}),t.jsxs("div",{className:"cc-side cc-legal",children:[t.jsx("h3",{children:"Legal & Disclaimer"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Only public data; no embedding without permission."}),t.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),t.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function aP(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  Scans"}),t.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function oP(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  Predictions"}),t.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function lP(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  News"}),t.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function cP(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Community  Feedback"}),t.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const eme=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],W0=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],tme={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},sme=s=>tme[s],nme=(s,e=64)=>{var i;const n=sme(s),r=Wc(n);return r&&(i=li(r,e))!=null?i:null},rme="_recordsPage_kdw96_1",ime="_navArea_kdw96_15",ame="_tabList_kdw96_27",ome="_tabButton_kdw96_55",lme="_tabButtonActive_kdw96_101",cme="_sectionContent_kdw96_115",dme="_placeholderPanel_kdw96_127",ume="_placeholderTitle_kdw96_143",hme="_placeholderText_kdw96_157",pme="_milestoneSection_kdw96_171",mme="_sectionHeader_kdw96_183",gme="_filterBar_kdw96_197",fme="_filterButtons_kdw96_231",vme="_filterButton_kdw96_231",xme="_filterButtonActive_kdw96_295",yme="_filterSelectWrapper_kdw96_309",bme="_filterLabel_kdw96_321",_me="_filterSelect_kdw96_309",wme="_emptyFilterMessage_kdw96_355",jme="_currentSection_kdw96_369",Sme="_currentGrid_kdw96_381",Nme="_currentCard_kdw96_393",kme="_categoryLabel_kdw96_419",Cme="_recordTitle_kdw96_433",Ime="_currentDetails_kdw96_445",Tme="_notes_kdw96_457",Eme="_infoPanel_kdw96_469",Ame="_infoCard_kdw96_481",Pme="_disclaimerCard_kdw96_483",Rme="_infoHeader_kdw96_525",Lme="_infoAuthor_kdw96_539",Dme="_authorName_kdw96_557",Mme="_authorBadge_kdw96_565",Fme="_infoAuthorIcon_kdw96_591",$me="_infoDate_kdw96_623",Bme="_infoBody_kdw96_633",Ome="_infoTitle_kdw96_645",Vme="_infoLink_kdw96_665",Ume="_milestoneGrid_kdw96_719",zme="_milestoneCard_kdw96_731",Hme="_milestoneCategory_kdw96_757",Gme="_milestoneTitle_kdw96_771",Wme="_milestoneDetails_kdw96_785",Kme="_detailRow_kdw96_797",qme="_detailLabel_kdw96_809",Qme="_detailValue_kdw96_823",Yme="_sourceLink_kdw96_833",Xme="_emptyState_kdw96_855",et={recordsPage:rme,navArea:ime,tabList:ame,tabButton:ome,tabButtonActive:lme,sectionContent:cme,placeholderPanel:dme,placeholderTitle:ume,placeholderText:hme,milestoneSection:pme,sectionHeader:mme,filterBar:gme,filterButtons:fme,filterButton:vme,filterButtonActive:xme,filterSelectWrapper:yme,filterLabel:bme,filterSelect:_me,emptyFilterMessage:wme,currentSection:jme,currentGrid:Sme,currentCard:Nme,categoryLabel:kme,recordTitle:Cme,currentDetails:Ime,notes:Tme,infoPanel:Eme,infoCard:Ame,disclaimerCard:Pme,infoHeader:Rme,infoAuthor:Lme,authorName:Dme,authorBadge:Mme,infoAuthorIcon:Fme,infoDate:$me,infoBody:Bme,infoTitle:Ome,infoLink:Vme,milestoneGrid:Ume,milestoneCard:zme,milestoneCategory:Hme,milestoneTitle:Gme,milestoneDetails:Wme,detailRow:Kme,detailLabel:qme,detailValue:Qme,sourceLink:Yme,emptyState:Xme},Jme=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],Zme={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},ege=({title:s,description:e,hint:n})=>t.jsxs("article",{className:et.placeholderPanel,children:[t.jsx("h2",{className:et.placeholderTitle,children:s}),t.jsx("p",{className:et.placeholderText,children:e}),n&&t.jsx("p",{className:et.emptyState,children:n})]}),tge=()=>{const[s,e]=E.useState("all"),n=E.useMemo(()=>{const a=new Set,l=[];for(const c of W0)a.has(c.category)||(a.add(c.category),l.push(c.category));return["all",...l]},[]),r=s==="all"?W0:W0.filter(a=>a.category===s),i=a=>{e(a)};return t.jsxs("section",{className:et.milestoneSection,"aria-label":"Records milestones",children:[t.jsxs("div",{className:et.sectionHeader,children:[t.jsx("p",{children:"Milestones"}),t.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),t.jsxs("div",{className:et.filterBar,children:[t.jsx("div",{className:et.filterButtons,children:n.map(a=>t.jsx("button",{type:"button",className:[et.filterButton,s===a&&et.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(a),"aria-pressed":s===a,children:a==="all"?"All Categories":a},a))}),t.jsxs("label",{className:et.filterSelectWrapper,children:[t.jsx("span",{className:et.filterLabel,children:"Category"}),t.jsx("select",{value:s,onChange:a=>i(a.target.value),className:et.filterSelect,children:n.map(a=>t.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),r.length===0?t.jsx("p",{className:et.emptyFilterMessage,children:"No milestones fall into this category yet."}):t.jsx("div",{className:et.milestoneGrid,children:r.map(a=>t.jsxs("article",{className:et.milestoneCard,children:[t.jsx("span",{className:et.milestoneCategory,children:a.category}),t.jsx("h3",{className:et.milestoneTitle,children:a.achievement}),t.jsxs("div",{className:et.milestoneDetails,children:[t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Name"}),t.jsx("span",{className:et.detailValue,children:a.name})]}),t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Server"}),t.jsx("span",{className:et.detailValue,children:a.server})]}),t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Date"}),t.jsx("span",{className:et.detailValue,children:a.date})]}),a.notes&&t.jsx("p",{className:et.notes,children:a.notes}),a.source&&t.jsx("a",{href:a.source,target:"_blank",rel:"noreferrer",className:et.sourceLink,children:"Source"})]})]},`${a.achievement}-${a.name}`))})]})},sge=()=>t.jsxs("section",{className:et.currentSection,"aria-label":"Current community records",children:[t.jsxs("div",{className:et.sectionHeader,children:[t.jsx("p",{children:"Current Records"}),t.jsx("h2",{children:"The latest verified achievements"})]}),t.jsx("div",{className:et.currentGrid,children:eme.map((s,e)=>t.jsxs("article",{className:et.currentCard,children:[t.jsx("span",{className:et.categoryLabel,children:s.category}),t.jsx("h3",{className:et.recordTitle,children:s.record}),t.jsxs("div",{className:et.currentDetails,children:[t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Class"}),t.jsx("span",{className:et.detailValue,children:s.classType})]}),t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Player"}),t.jsx("span",{className:et.detailValue,children:s.playerName})]}),t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Server"}),t.jsx("span",{className:et.detailValue,children:s.server})]}),t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Days"}),t.jsx("span",{className:et.detailValue,children:s.days})]}),s.release&&t.jsxs("div",{className:et.detailRow,children:[t.jsx("span",{className:et.detailLabel,children:"Release"}),t.jsx("span",{className:et.detailValue,children:s.release})]}),(s.previousDays||s.previousName)&&t.jsxs("p",{className:et.notes,children:["Previous: ",s.previousDays?`${s.previousDays} days`:""," ",s.previousName?`(${s.previousName})`:""]}),s.notes&&t.jsx("p",{className:et.notes,children:s.notes})]})]},`${s.category}-${s.playerName}-${e}`))})]}),Ph={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function dP(){const[s,e]=E.useState("current"),n=nme("infoCard",32),r=()=>{if(s==="current")return t.jsx(sge,{});if(s==="milestones")return t.jsx(tge,{});const i=Zme[s];return t.jsx(ege,{title:i.title,description:i.description,hint:i.hint})};return t.jsxs("section",{className:et.recordsPage,children:[t.jsx(Z4,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),t.jsxs("div",{className:et.infoPanel,children:[t.jsxs("div",{className:et.infoCard,children:[t.jsxs("div",{className:et.infoHeader,children:[t.jsxs("div",{className:et.infoAuthor,children:[n?t.jsx("img",{src:n,alt:"Community Data",className:et.infoAuthorIcon}):null,t.jsx("span",{className:et.authorName,children:"S&F Tavern Info"}),t.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:et.authorBadge,children:"Discord"})]}),t.jsx("span",{className:et.infoDate,children:"11.12.2020 14:08"})]}),t.jsxs("div",{className:et.infoBody,children:[t.jsx("h3",{className:et.infoTitle,children:Ph.title}),Ph.paragraphs.map(i=>t.jsx("p",{children:i},i))]}),t.jsxs("div",{className:et.infoLink,children:[t.jsx("span",{children:Ph.linkLabel}),t.jsx("a",{href:Ph.linkUrl,target:"_blank",rel:"noreferrer",children:Ph.linkUrl})]})]}),t.jsxs("div",{className:et.disclaimerCard,children:[t.jsx("h3",{className:et.infoTitle,children:"Disclaimer"}),t.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),t.jsx("div",{className:et.navArea,children:t.jsx("nav",{className:et.tabList,"aria-label":"Records navigation",children:Jme.map(i=>t.jsx("button",{type:"button",className:`${et.tabButton} ${s===i.key?et.tabButtonActive:""}`,"aria-pressed":s===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),t.jsx("div",{className:et.sectionContent,children:r()})]})}const nge={creators:iP,scans:aP,predictions:oP,news:lP,records:dP,feedback:cP};function rge(){const[s]=Fo(),e=s.get("tab")||"",n=nge[e];return t.jsxs(Ht,{children:[t.jsx("div",{className:Vd.topWrap,children:t.jsx(Lpe,{logoSrc:Vpe})}),t.jsx("div",{className:Vd.divider}),t.jsx("div",{className:Vd.contentArea,children:n?t.jsx(n,{}):t.jsxs("div",{className:Vd.placeholder,children:[t.jsx("h2",{className:Vd.placeholderTitle,children:"Community"}),t.jsx("p",{className:Vd.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function ige(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Scans"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[t.jsxs(ks,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),t.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),t.jsxs(ks,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),t.jsx("div",{style:{opacity:.75,marginTop:4},children:"Aeltere Scans & Verlauf"})]}),t.jsxs(ks,{to:"/upload-center",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[t.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Upload Center"}),t.jsx("div",{style:{opacity:.75,marginTop:4},children:"CSV Import & lokale Vorschau (Spieler & Gilden)"})]})]})]})}function age(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Scans  Letzter Scan"}),t.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function oge(){return t.jsxs("section",{style:{padding:16},children:[t.jsx("h1",{children:"Scans  Archiv"}),t.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function lge(){return t.jsx(Ht,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:t.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:t.jsx(cge,{}),right:t.jsx(dge,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[t.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),t.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx(ks,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),t.jsx(ks,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsx(Yg,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),t.jsx(Yg,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),t.jsx(Yg,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),t.jsx(Yg,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function cge(){return t.jsxs("nav",{className:"space-y-2 text-sm",children:[t.jsx(Rh,{to:"/guild-hub/planner",children:"Planner"}),t.jsx(Rh,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),t.jsx(Rh,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),t.jsx(Rh,{to:"/guild-hub/waitlist",children:"Waitlist"}),t.jsx(Rh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function dge(){return t.jsxs("aside",{className:"space-y-3 text-sm",children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),t.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function Yg({to:s,title:e,desc:n}){return t.jsxs(ks,{to:s,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?t.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Rh({to:s,children:e}){return t.jsx(js,{to:s,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const uge="_page_1mlmy_1",hge="_header_1mlmy_13",pge="_headerStack_1mlmy_25",mge="_kicker_1mlmy_37",gge="_title_1mlmy_53",fge="_headerActions_1mlmy_65",vge="_primaryAction_1mlmy_77",xge="_secondaryAction_1mlmy_79",yge="_infoStrip_1mlmy_127",bge="_infoBlock_1mlmy_147",_ge="_infoLabel_1mlmy_161",wge="_freshnessWrapper_1mlmy_181",jge="_freshnessBadge_1mlmy_189",Sge="_badge_f0_1mlmy_213",Nge="_badge_f1_1mlmy_215",kge="_badge_f2_1mlmy_217",Cge="_badge_f3_1mlmy_219",Ige="_badge_f4_1mlmy_221",Tge="_badge_f5_1mlmy_223",Ege="_badge_f6_1mlmy_225",Age="_badge_f7_1mlmy_227",Pge="_badge_unknown_1mlmy_229",Rge="_popover_1mlmy_233",Lge="_popoverLabel_1mlmy_265",Dge="_filterToolbar_1mlmy_275",Mge="_filterSheetButton_1mlmy_285",Fge="_inlineFilters_1mlmy_303",$ge="_searchInput_1mlmy_315",Bge="_select_1mlmy_317",Oge="_ownerGroup_1mlmy_335",Vge="_ownerChip_1mlmy_347",Uge="_ownerChipActive_1mlmy_365",zge="_sortGroup_1mlmy_375",Hge="_sortLabel_1mlmy_387",Gge="_directionButton_1mlmy_397",Wge="_listBody_1mlmy_415",Kge="_tableWrapper_1mlmy_427",qge="_table_1mlmy_427",Qge="_stickyColumn_1mlmy_481",Yge="_rowTitleButton_1mlmy_495",Xge="_tableStatus_1mlmy_513",Jge="_cardList_1mlmy_533",Zge="_card_1mlmy_533",efe="_cardHeader_1mlmy_565",tfe="_cardTitle_1mlmy_577",sfe="_cardMeta_1mlmy_595",nfe="_cardDescription_1mlmy_611",rfe="_cardFooter_1mlmy_623",ife="_cardLabel_1mlmy_639",afe="_scanBadge_1mlmy_649",ofe="_emptyState_1mlmy_665",lfe="_sheetBackdrop_1mlmy_681",cfe="_sheet_1mlmy_681",dfe="_sheetHandle_1mlmy_721",ufe="_sheetBody_1mlmy_739",hfe="_sheetLabel_1mlmy_755",pfe="_sheetActions_1mlmy_793",mfe="_overlay_1mlmy_807",gfe="_panel_1mlmy_825",ffe="_modal_1mlmy_851",vfe="_drawer_1mlmy_861",xfe="_panelHeader_1mlmy_869",yfe="_panelControls_1mlmy_883",bfe="_panelDescription_1mlmy_913",_fe="_detailGrid_1mlmy_925",wfe="_panelFooter_1mlmy_957",jfe="_formOverlay_1mlmy_969",Sfe="_formPanel_1mlmy_991",Nfe="_formGrid_1mlmy_1017",kfe="_menuWrapper_1mlmy_1029",Cfe="_dotsButton_1mlmy_1037",Ife="_menu_1mlmy_1029",Tfe="_pagination_1mlmy_1109",Pe={page:uge,header:hge,headerStack:pge,kicker:mge,title:gge,headerActions:fge,primaryAction:vge,secondaryAction:xge,infoStrip:yge,infoBlock:bge,infoLabel:_ge,freshnessWrapper:wge,freshnessBadge:jge,badge_f0:Sge,badge_f1:Nge,badge_f2:kge,badge_f3:Cge,badge_f4:Ige,badge_f5:Tge,badge_f6:Ege,badge_f7:Age,badge_unknown:Pge,popover:Rge,popoverLabel:Lge,filterToolbar:Dge,filterSheetButton:Mge,inlineFilters:Fge,searchInput:$ge,select:Bge,ownerGroup:Oge,ownerChip:Vge,ownerChipActive:Uge,sortGroup:zge,sortLabel:Hge,directionButton:Gge,listBody:Wge,tableWrapper:Kge,table:qge,stickyColumn:Qge,rowTitleButton:Yge,tableStatus:Xge,cardList:Jge,card:Zge,cardHeader:efe,cardTitle:tfe,cardMeta:sfe,cardDescription:nfe,cardFooter:rfe,cardLabel:ife,scanBadge:afe,emptyState:ofe,sheetBackdrop:lfe,sheet:cfe,sheetHandle:dfe,sheetBody:ufe,sheetLabel:hfe,sheetActions:pfe,overlay:mfe,panel:gfe,modal:ffe,drawer:vfe,panelHeader:xfe,panelControls:yfe,panelDescription:bfe,detailGrid:_fe,panelFooter:wfe,formOverlay:jfe,formPanel:Sfe,formGrid:Nfe,menuWrapper:kfe,dotsButton:Cfe,menu:Ife,pagination:Tfe};function Efe(){var X;const[s,e]=Q.useState(Lte),[n,r]=Q.useState(A0),[i,a]=Q.useState(A0),l=ju(n.q,300),c=Q.useMemo(()=>{const U=Dte(s,n,l);return Mte(U,n.sort,n.dir)},[s,n,l]),u=Q.useMemo(()=>Fte(c,n.page,n.pageSize),[c,n.page,n.pageSize]),h=Math.max(1,Math.ceil(c.length/n.pageSize)),p=Q.useMemo(()=>Array.from(new Set(s.map(U=>U.owner))),[s]),g=Su("(min-width: 768px)"),x=Su("(min-width: 1024px)"),[b,_]=Q.useState(!1),[S,C]=Q.useState(null),A=(X=s.find(U=>U.id===S))!=null?X:null,M=Q.useRef(null);Nu(M,!!A&&!x);const[j,y]=Q.useState(null),[w,P]=Q.useState(!1),N=Q.useRef(null);Nu(N,w);const k=Q.useMemo(()=>$te(s),[s]),T=Q.useMemo(()=>k?Ep(k.nextUpdateAt,Date.now()):"",[k]),L=g,R=x,$=t.jsxs("div",{className:Pe.headerActions,children:[t.jsx("button",{type:"button",className:Pe.primaryAction,onClick:()=>{y(null),P(!0)},children:"Neuer Eintrag"}),!g&&t.jsx("button",{type:"button",className:Pe.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>_(!0),children:"Filter"})]}),B=U=>{const J=LC(U);r(J),a(J)},H=(U,J)=>{const se=LC({...n,[U]:J,page:U==="page"||U==="pageSize"?J:1});B(se)},z=()=>{B(i),_(!1)},W=()=>{B(A0),_(!1)},G=(U,J=!1)=>{if(J)a(se=>{const ue=se.owner.includes(U)?se.owner.filter(we=>we!==U):[...se.owner,U];return{...se,owner:ue}});else{const ne=n.owner.includes(U)?n.owner.filter(ue=>ue!==U):[...n.owner,U];H("owner",ne)}},K=(U,J)=>{e(se=>se.map(ne=>ne.id===U?{...ne,status:J,updatedAt:new Date().toISOString()}:ne))},te=U=>{e(J=>J.some(ne=>ne.id===U.id)?J.map(ne=>ne.id===U.id?U:ne):[U,...J]),P(!1)};return t.jsxs(Ht,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[t.jsxs("div",{className:Pe.page,children:[t.jsxs("header",{className:Pe.header,children:[t.jsxs("div",{className:Pe.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:Pe.kicker,children:"Deployment"}),t.jsx("h1",{className:Pe.title,children:"Planer"})]}),$]}),t.jsxs("div",{className:Pe.infoStrip,children:[t.jsxs("div",{className:Pe.infoBlock,children:[t.jsx("span",{className:Pe.infoLabel,children:"Offen"}),t.jsx("strong",{children:c.filter(U=>U.status==="open").length})]}),t.jsxs("div",{className:Pe.infoBlock,children:[t.jsx("span",{className:Pe.infoLabel,children:"In Arbeit"}),t.jsx("strong",{children:c.filter(U=>U.status==="in_progress").length})]}),k&&t.jsx(Afe,{code:k.freshness,label:Cw[k.freshness],updatedAt:k.lastScanAt,nextUpdateAt:k.nextUpdateAt,countdown:T})]})]}),t.jsx("section",{className:Pe.filterToolbar,children:g?t.jsx(Pfe,{filters:n,owners:p,onChange:H,onOwnerToggle:U=>G(U,!1)}):t.jsx("button",{type:"button",className:Pe.filterSheetButton,onClick:()=>_(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),t.jsx("section",{className:Pe.listBody,children:L?t.jsx(Rfe,{items:u,sort:n.sort,dir:n.dir,onSortChange:U=>{const J=n.sort===U&&n.dir==="asc"?"desc":"asc";H("sort",U),H("dir",J)},onSelect:U=>C(U.id),onStatusChange:K,onEdit:U=>{y(U),P(!0)}}):t.jsx(Lfe,{items:u,onSelect:U=>C(U.id),onStatusChange:K,onEdit:U=>{y(U),P(!0)}})}),t.jsx(Mfe,{page:n.page,totalPages:h,onChange:U=>H("page",U)})]}),b&&t.jsx(Dfe,{filters:i,owners:p,onChange:a,onOwnerToggle:U=>G(U,!0),onClose:()=>_(!1),onApply:z,onReset:W}),A&&t.jsx(hP,{ref:M,item:A,mode:R?"drawer":"modal",onClose:()=>C(null),onEdit:()=>{y(A),P(!0),C(null)},onStatusChange:K}),w&&t.jsx(pP,{ref:N,owners:p.length?p:K4,item:j,onClose:()=>P(!1),onSubmit:te})]})}function Afe({code:s,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var c;const[a,l]=Q.useState(!1);return t.jsxs("div",{className:Pe.freshnessWrapper,children:[t.jsx("button",{type:"button",className:`${Pe.freshnessBadge} ${(c=Pe[`badge_${s}`])!=null?c:""}`,"aria-label":`Freshness ${e}`,onClick:()=>l(u=>!u),children:e}),a&&t.jsxs("div",{className:Pe.popover,role:"dialog","aria-label":"Freshness Details",children:[t.jsxs("div",{children:[t.jsx("span",{className:Pe.popoverLabel,children:"Zuletzt gescannt"}),t.jsx("strong",{children:Qa(n)})]}),t.jsxs("div",{children:[t.jsx("span",{className:Pe.popoverLabel,children:"Naechster Scan"}),t.jsx("strong",{children:Qa(r)})]}),t.jsxs("div",{children:[t.jsx("span",{className:Pe.popoverLabel,children:"Countdown"}),t.jsx("strong",{children:i})]})]})]})}function Pfe({filters:s,owners:e,onChange:n,onOwnerToggle:r}){return t.jsxs("div",{className:Pe.inlineFilters,children:[t.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:Pe.searchInput,placeholder:"Suchen...",value:s.q,onChange:i=>n("q",i.target.value)}),t.jsxs("select",{className:Pe.select,name:"plannerType","aria-label":"Planner Typ",value:s.type,onChange:i=>n("type",i.target.value),children:[t.jsx("option",{value:"all",children:"Typ (alle)"}),t.jsx("option",{value:"raid",children:"Raid"}),t.jsx("option",{value:"event",children:"Event"}),t.jsx("option",{value:"task",children:"Task"})]}),t.jsxs("select",{className:Pe.select,name:"plannerStatus","aria-label":"Planner Status",value:s.status,onChange:i=>n("status",i.target.value),children:[t.jsx("option",{value:"all",children:"Status (alle)"}),t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),t.jsxs("select",{className:Pe.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:s.range,onChange:i=>n("range",i.target.value),children:[t.jsx("option",{value:"7d",children:"7 Tage"}),t.jsx("option",{value:"30d",children:"30 Tage"}),t.jsx("option",{value:"90d",children:"90 Tage"}),t.jsx("option",{value:"all",children:"Alle"})]}),t.jsx("div",{className:Pe.ownerGroup,children:e.map(i=>{const a=s.owner.includes(i);return t.jsx("button",{type:"button",className:`${Pe.ownerChip} ${a?Pe.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),t.jsxs("div",{className:Pe.sortGroup,children:[t.jsx("label",{htmlFor:"planner-sort",className:Pe.sortLabel,children:"Sortieren"}),t.jsxs("select",{id:"planner-sort",name:"plannerSort",className:Pe.select,value:s.sort,onChange:i=>n("sort",i.target.value),children:[t.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),t.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),t.jsx("option",{value:"priority",children:"Prioritaet"}),t.jsx("option",{value:"title",children:"Titel"})]}),t.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:Pe.directionButton,onClick:()=>n("dir",s.dir==="asc"?"desc":"asc"),children:s.dir==="asc"?"":""})]})]})}function Rfe({items:s,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a,onEdit:l}){const c=u=>e===u?n==="asc"?" ":" ":"";return s.length===0?t.jsx(uP,{}):t.jsx("div",{className:Pe.tableWrapper,children:t.jsxs("table",{className:Pe.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{className:Pe.stickyColumn,onClick:()=>r("title"),children:["Titel",c("title")]}),t.jsx("th",{children:"Typ"}),t.jsx("th",{children:"Owner"}),t.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",c("dueAt")]}),t.jsx("th",{children:"Status"}),t.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",c("updatedAt")]}),t.jsx("th",{})]})}),t.jsx("tbody",{children:s.map(u=>t.jsxs("tr",{children:[t.jsx("td",{className:Pe.stickyColumn,children:t.jsx("button",{type:"button",className:Pe.rowTitleButton,onClick:()=>i(u),children:u.title})}),t.jsx("td",{children:kw[u.type]}),t.jsx("td",{children:u.owner}),t.jsx("td",{children:Qa(u.dueAt)}),t.jsx("td",{children:t.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:Pe.tableStatus,value:u.status,onChange:h=>a(u.id,h.target.value),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),t.jsx("td",{children:am(u.updatedAt)}),t.jsx("td",{children:t.jsx(mP,{onEdit:()=>l(u),onComplete:()=>a(u.id,"done")})})]},u.id))})]})})}function Lfe({items:s,onSelect:e,onStatusChange:n,onEdit:r}){return s.length===0?t.jsx(uP,{}):t.jsx("div",{className:Pe.cardList,children:s.map(i=>t.jsxs("article",{className:Pe.card,children:[t.jsxs("div",{className:Pe.cardHeader,children:[t.jsxs("div",{children:[t.jsx("button",{type:"button",className:Pe.cardTitle,onClick:()=>e(i),children:i.title}),t.jsxs("div",{className:Pe.cardMeta,children:[t.jsx("span",{children:kw[i.type]}),t.jsx("span",{children:Pte[i.status]}),t.jsxs("span",{children:["Due ",Qa(i.dueAt)]})]})]}),t.jsx(mP,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),t.jsx("p",{className:Pe.cardDescription,children:i.description}),t.jsxs("div",{className:Pe.cardFooter,children:[t.jsxs("div",{children:[t.jsx("span",{className:Pe.cardLabel,children:"Owner"}),t.jsx("strong",{children:i.owner})]}),t.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:Pe.tableStatus,value:i.status,onChange:a=>n(i.id,a.target.value),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),t.jsxs("span",{className:Pe.scanBadge,children:["Letzter Scan ",am(i.lastScanAt)]})]})]},i.id))})}function uP(){return t.jsx("div",{className:Pe.emptyState,children:t.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function Dfe({filters:s,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:a,onReset:l}){return t.jsx("div",{className:Pe.sheetBackdrop,role:"presentation",onClick:i,children:t.jsxs("div",{className:Pe.sheet,role:"dialog","aria-label":"Filter",onClick:c=>c.stopPropagation(),children:[t.jsx("div",{className:Pe.sheetHandle}),t.jsxs("div",{className:Pe.sheetBody,children:[t.jsx("h2",{children:"Filter"}),t.jsxs("label",{className:Pe.sheetLabel,children:["Suche",t.jsx("input",{type:"search",name:"plannerSheetSearch",value:s.q,onChange:c=>n(u=>({...u,q:c.target.value}))})]}),t.jsxs("label",{className:Pe.sheetLabel,children:["Typ",t.jsxs("select",{name:"plannerSheetType",value:s.type,onChange:c=>n(u=>({...u,type:c.target.value})),children:[t.jsx("option",{value:"all",children:"Alle"}),t.jsx("option",{value:"raid",children:"Raid"}),t.jsx("option",{value:"event",children:"Event"}),t.jsx("option",{value:"task",children:"Task"})]})]}),t.jsxs("label",{className:Pe.sheetLabel,children:["Status",t.jsxs("select",{name:"plannerSheetStatus",value:s.status,onChange:c=>n(u=>({...u,status:c.target.value})),children:[t.jsx("option",{value:"all",children:"Alle"}),t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),t.jsxs("label",{className:Pe.sheetLabel,children:["Zeitraum",t.jsxs("select",{name:"plannerSheetRange",value:s.range,onChange:c=>n(u=>({...u,range:c.target.value})),children:[t.jsx("option",{value:"7d",children:"7 Tage"}),t.jsx("option",{value:"30d",children:"30 Tage"}),t.jsx("option",{value:"90d",children:"90 Tage"}),t.jsx("option",{value:"all",children:"Alle"})]})]}),t.jsxs("div",{className:Pe.sheetLabel,children:["Owner",t.jsx("div",{className:Pe.ownerGroup,children:e.map(c=>{const u=s.owner.includes(c);return t.jsx("button",{type:"button",className:`${Pe.ownerChip} ${u?Pe.ownerChipActive:""}`,onClick:()=>r(c),children:c},c)})})]})]}),t.jsxs("div",{className:Pe.sheetActions,children:[t.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),t.jsx("button",{type:"button",className:Pe.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const hP=Q.forwardRef(({item:s,mode:e,onClose:n,onEdit:r,onStatusChange:i},a)=>t.jsx("div",{className:Pe.overlay,children:t.jsxs("div",{ref:a,className:`${Pe.panel} ${e==="drawer"?Pe.drawer:Pe.modal}`,children:[t.jsxs("header",{className:Pe.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:Pe.cardLabel,children:kw[s.type]}),t.jsx("h2",{children:s.title})]}),t.jsx("button",{type:"button",className:Pe.secondaryAction,onClick:n,children:"Schliessen"})]}),t.jsxs("div",{className:Pe.panelControls,children:[t.jsxs("label",{children:["Status",t.jsxs("select",{value:s.status,onChange:l=>i(s.id,l.target.value),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),t.jsxs("label",{children:["Prioritaet",t.jsxs("select",{disabled:!0,value:s.priority,children:[t.jsx("option",{value:"urgent",children:"Urgent"}),t.jsx("option",{value:"high",children:"Hoch"}),t.jsx("option",{value:"medium",children:"Mittel"}),t.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),t.jsx("p",{className:Pe.panelDescription,children:s.description}),t.jsxs("dl",{className:Pe.detailGrid,children:[t.jsxs("div",{children:[t.jsx("dt",{children:"Owner"}),t.jsx("dd",{children:s.owner})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Assignees"}),t.jsx("dd",{children:s.assignees.join(", ")})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Termin"}),t.jsx("dd",{children:Qa(s.dueAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Zuletzt aktualisiert"}),t.jsx("dd",{children:am(s.updatedAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Erstellt"}),t.jsx("dd",{children:Qa(s.createdAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Tags"}),t.jsx("dd",{children:s.tags.join(", ")})]})]}),t.jsxs("div",{className:Pe.panelFooter,children:[t.jsx("button",{type:"button",className:Pe.secondaryAction,onClick:r,children:"Bearbeiten"}),t.jsx("button",{type:"button",className:Pe.primaryAction,onClick:()=>i(s.id,"done"),children:"Als erledigt markieren"})]})]})}));hP.displayName="DetailPanel";const pP=Q.forwardRef(({owners:s,item:e,onClose:n,onSubmit:r},i)=>{const[a,l]=Q.useState(()=>{var h;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(h=s[0])!=null?h:K4[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});Q.useEffect(()=>{e&&l(e)},[JSON.stringify(e)]);const c=h=>{h.preventDefault(),a.title.trim()&&r({...a,updatedAt:new Date().toISOString()})},u=h=>{l(p=>{const x=p.tags.includes(h)?p.tags.filter(b=>b!==h):[...p.tags,h];return{...p,tags:x}})};return t.jsx("div",{className:Pe.formOverlay,children:t.jsxs("form",{ref:i,className:Pe.formPanel,onSubmit:c,children:[t.jsxs("header",{className:Pe.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:Pe.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),t.jsx("h2",{children:e?e.title:"Planner Task"})]}),t.jsx("button",{type:"button",className:Pe.secondaryAction,onClick:n,children:"Schliessen"})]}),t.jsxs("label",{className:Pe.sheetLabel,children:["Titel",t.jsx("input",{name:"plannerFormTitle",value:a.title,onChange:h=>l(p=>({...p,title:h.target.value})),required:!0})]}),t.jsxs("label",{className:Pe.sheetLabel,children:["Beschreibung",t.jsx("textarea",{name:"plannerFormDescription",value:a.description,onChange:h=>l(p=>({...p,description:h.target.value})),rows:4})]}),t.jsxs("div",{className:Pe.formGrid,children:[t.jsxs("label",{children:["Typ",t.jsxs("select",{name:"plannerFormType",value:a.type,onChange:h=>l(p=>({...p,type:h.target.value})),children:[t.jsx("option",{value:"raid",children:"Raid"}),t.jsx("option",{value:"event",children:"Event"}),t.jsx("option",{value:"task",children:"Task"})]})]}),t.jsxs("label",{children:["Status",t.jsxs("select",{name:"plannerFormStatus",value:a.status,onChange:h=>l(p=>({...p,status:h.target.value})),children:[t.jsx("option",{value:"open",children:"Offen"}),t.jsx("option",{value:"in_progress",children:"In Arbeit"}),t.jsx("option",{value:"done",children:"Erledigt"}),t.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),t.jsxs("label",{children:["Owner",t.jsx("select",{name:"plannerFormOwner",value:a.owner,onChange:h=>l(p=>({...p,owner:h.target.value})),children:s.map(h=>t.jsx("option",{value:h,children:h},h))})]}),t.jsxs("label",{children:["Prioritaet",t.jsxs("select",{name:"plannerFormPriority",value:a.priority,onChange:h=>l(p=>({...p,priority:h.target.value})),children:[t.jsx("option",{value:"urgent",children:"Urgent"}),t.jsx("option",{value:"high",children:"Hoch"}),t.jsx("option",{value:"medium",children:"Mittel"}),t.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),t.jsxs("label",{className:Pe.sheetLabel,children:["Termin",t.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:a.dueAt.slice(0,16),onChange:h=>l(p=>({...p,dueAt:new Date(h.target.value).toISOString()}))})]}),t.jsxs("div",{className:Pe.sheetLabel,children:["Tags",t.jsx("div",{className:Pe.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(h=>{const p=a.tags.includes(h);return t.jsx("button",{type:"button",className:`${Pe.ownerChip} ${p?Pe.ownerChipActive:""}`,onClick:()=>u(h),children:h},h)})})]}),t.jsxs("footer",{className:Pe.panelFooter,children:[t.jsx("button",{type:"button",className:Pe.secondaryAction,onClick:n,children:"Abbrechen"}),t.jsx("button",{type:"submit",className:Pe.primaryAction,children:"Speichern"})]})]})})});pP.displayName="PlannerFormOverlay";function mP({onEdit:s,onComplete:e}){const[n,r]=Q.useState(!1),i=Q.useRef(null);return Q.useEffect(()=>{if(!n)return;const a=l=>{var c;(c=i.current)!=null&&c.contains(l.target)||r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]),t.jsxs("div",{className:Pe.menuWrapper,ref:i,children:[t.jsx("button",{type:"button",className:Pe.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(a=>!a),children:"..."}),n&&t.jsxs("div",{className:Pe.menu,role:"menu",children:[t.jsx("button",{type:"button",onClick:()=>s(),children:"Bearbeiten"}),t.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),t.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function Mfe({page:s,totalPages:e,onChange:n}){return t.jsxs("div",{className:Pe.pagination,children:[t.jsx("button",{type:"button",className:Pe.secondaryAction,onClick:()=>n(Math.max(1,s-1)),disabled:s===1,children:"Zurueck"}),t.jsxs("span",{children:["Seite ",s," / ",e]}),t.jsx("button",{type:"button",className:Pe.secondaryAction,onClick:()=>n(Math.min(e,s+1)),disabled:s===e,children:"Weiter"})]})}const Ffe="_page_1cvuk_1",$fe="_header_1cvuk_13",Bfe="_headerLeading_1cvuk_29",Ofe="_backLink_1cvuk_41",Vfe="_headerStack_1cvuk_77",Ufe="_kicker_1cvuk_89",zfe="_title_1cvuk_105",Hfe="_subtitle_1cvuk_117",Gfe="_headerActions_1cvuk_129",Wfe="_plannerNotice_1cvuk_141",Kfe="_noticeItem_1cvuk_163",qfe="_noticeWarning_1cvuk_185",Qfe="_noticeDot_1cvuk_197",Yfe="_tabSection_1cvuk_213",Xfe="_tabBar_1cvuk_225",Jfe="_tabItem_1cvuk_239",Zfe="_tabItemActive_1cvuk_279",eve="_tabLabel_1cvuk_291",tve="_tabHelper_1cvuk_301",sve="_tabPanel_1cvuk_311",nve="_tabBadge_1cvuk_331",rve="_primaryAction_1cvuk_1331",ive="_secondaryAction_1cvuk_1333",ave="_infoStrip_1cvuk_1383",ove="_infoBlock_1cvuk_1403",lve="_infoLabel_1cvuk_1415",cve="_infoHint_1cvuk_1441",dve="_stageGrid_1cvuk_1453",uve="_panel_1cvuk_1465",hve="_panelHeader_1cvuk_1487",pve="_panelKicker_1cvuk_1501",mve="_panelTitle_1cvuk_1517",gve="_panelLead_1cvuk_1529",fve="_badge_1cvuk_1541",vve="_panelBody_1cvuk_1563",xve="_placeholderGrid_1cvuk_1575",yve="_placeholderCard_1cvuk_1587",bve="_placeholderTitle_1cvuk_1609",_ve="_placeholderText_1cvuk_1619",wve="_helperSection_1cvuk_1631",jve="_helperCard_1cvuk_1639",Sve="_helperKicker_1cvuk_1661",Nve="_helperTitle_1cvuk_1677",kve="_helperText_1cvuk_1689",Cve="_helperActions_1cvuk_1701",xt={page:Ffe,header:$fe,headerLeading:Bfe,backLink:Ofe,headerStack:Vfe,kicker:Ufe,title:zfe,subtitle:Hfe,headerActions:Gfe,plannerNotice:Wfe,noticeItem:Kfe,noticeWarning:qfe,noticeDot:Qfe,tabSection:Yfe,tabBar:Xfe,tabItem:Jfe,tabItemActive:Zfe,tabLabel:eve,tabHelper:tve,tabPanel:sve,tabBadge:nve,primaryAction:rve,secondaryAction:ive,infoStrip:ave,infoBlock:ove,infoLabel:lve,infoHint:cve,stageGrid:dve,panel:uve,panelHeader:hve,panelKicker:pve,panelTitle:mve,panelLead:gve,badge:fve,panelBody:vve,placeholderGrid:xve,placeholderCard:yve,placeholderTitle:bve,placeholderText:_ve,helperSection:wve,helperCard:jve,helperKicker:Sve,helperTitle:Nve,helperText:kve,helperActions:Cve},Ive="_setupGrid_rdp6l_1",Tve="_setupLeft_rdp6l_13",Eve="_setupRight_rdp6l_15",Ave="_card_rdp6l_27",Pve="_cardHeader_rdp6l_49",Rve="_cardKicker_rdp6l_61",Lve="_cardTitle_rdp6l_77",Dve="_cardText_rdp6l_89",Mve="_toggleGroup_rdp6l_101",Fve="_toggleButton_rdp6l_113",$ve="_toggleButtonActive_rdp6l_143",Bve="_modeHint_rdp6l_155",Ove="_formGrid_rdp6l_167",Vve="_formField_rdp6l_179",Uve="_formLabel_rdp6l_191",zve="_input_rdp6l_201",Hve="_suggestions_rdp6l_231",Gve="_suggestionBtn_rdp6l_257",Wve="_suggestionName_rdp6l_297",Kve="_suggestionMeta_rdp6l_305",qve="_partnerActions_rdp6l_315",Qve="_primaryAction_rdp6l_329",Yve="_secondaryAction_rdp6l_331",Xve="_partnerList_rdp6l_381",Jve="_partnerRow_rdp6l_393",Zve="_partnerName_rdp6l_413",exe="_partnerMeta_rdp6l_423",txe="_removeButton_rdp6l_433",sxe="_emptyState_rdp6l_463",nxe="_previewBlock_rdp6l_473",rxe="_previewLabel_rdp6l_485",ixe="_previewValue_rdp6l_499",axe="_previewCard_rdp6l_509",oxe="_previewTitle_rdp6l_523",lxe="_previewMeta_rdp6l_533",cxe="_previewList_rdp6l_543",dxe="_previewItem_rdp6l_555",uxe="_setupInfo_rdp6l_569",hxe="_setupWarning_rdp6l_593",pxe="_setupInfoIcon_rdp6l_605",mxe="_setupInfoTitle_rdp6l_629",gxe="_setupInfoText_rdp6l_639",Ge={setupGrid:Ive,setupLeft:Tve,setupRight:Eve,card:Ave,cardHeader:Pve,cardKicker:Rve,cardTitle:Lve,cardText:Dve,toggleGroup:Mve,toggleButton:Fve,toggleButtonActive:$ve,modeHint:Bve,formGrid:Ove,formField:Vve,formLabel:Uve,input:zve,suggestions:Hve,suggestionBtn:Gve,suggestionName:Wve,suggestionMeta:Kve,partnerActions:qve,primaryAction:Qve,secondaryAction:Yve,partnerList:Xve,partnerRow:Jve,partnerName:Zve,partnerMeta:exe,removeButton:txe,emptyState:sxe,previewBlock:nxe,previewLabel:rxe,previewValue:ixe,previewCard:axe,previewTitle:oxe,previewMeta:lxe,previewList:cxe,previewItem:dxe,setupInfo:uxe,setupWarning:hxe,setupInfoIcon:pxe,setupInfoTitle:mxe,setupInfoText:gxe};function fxe({setupState:s,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var C,A,M,j,y,w,P,N,k,T;const[a,l]=Q.useState(()=>{var L,R,$,B;return{name:(R=(L=s.baseGuild)==null?void 0:L.name)!=null?R:"",server:(B=($=s.baseGuild)==null?void 0:$.server)!=null?B:""}}),[c,u]=Q.useState({id:void 0,name:"",server:""}),h=ju(a.name,250),p=ju(c.name,250),g=pI(h,a.server||"all"),x=pI(p,c.server||"all"),b=!!((A=(C=s.baseGuild)==null?void 0:C.name)!=null&&A.trim()&&((j=(M=s.baseGuild)==null?void 0:M.server)!=null&&j.trim())),_=s.partnerGuilds.length>0;Q.useEffect(()=>{var R,$,B,H;const L={name:($=(R=s.baseGuild)==null?void 0:R.name)!=null?$:"",server:(H=(B=s.baseGuild)==null?void 0:B.server)!=null?H:""};(L.name!==a.name||L.server!==a.server)&&l(L)},[(y=s.baseGuild)==null?void 0:y.name,(w=s.baseGuild)==null?void 0:w.server]);const S=()=>{!c.name.trim()||!c.server.trim()||(r(c),u({id:void 0,name:"",server:""}))};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Ge.setupGrid,children:[t.jsxs("div",{className:Ge.setupLeft,children:[t.jsxs("div",{className:Ge.card,children:[t.jsx("div",{className:Ge.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:Ge.cardKicker,children:"Modus"}),t.jsx("h3",{className:Ge.cardTitle,children:"Scan-based oder manuell"}),t.jsx("p",{className:Ge.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),t.jsxs("div",{className:Ge.toggleGroup,role:"group","aria-label":"Setup Modus",children:[t.jsx("button",{type:"button",className:`${Ge.toggleButton} ${s.mode==="scan"?Ge.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),t.jsx("button",{type:"button",className:`${Ge.toggleButton} ${s.mode==="manual"?Ge.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),t.jsx("p",{className:Ge.modeHint,children:s.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),t.jsxs("div",{className:Ge.card,children:[t.jsx("div",{className:Ge.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:Ge.cardKicker,children:"Base Guild"}),t.jsx("h3",{className:Ge.cardTitle,children:"Stammdaten"}),t.jsx("p",{className:Ge.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),t.jsxs("div",{className:Ge.formGrid,children:[t.jsxs("label",{className:Ge.formField,children:[t.jsx("span",{className:Ge.formLabel,children:"Guild name"}),t.jsx("input",{type:"text",className:Ge.input,value:a.name,onChange:L=>{const R=L.target.value;l($=>({...$,name:R}))},onBlur:()=>n({name:a.name}),placeholder:"z.B. Solaris"}),g.length>0&&t.jsx("div",{className:Ge.suggestions,children:g.map(L=>t.jsxs("button",{type:"button",className:Ge.suggestionBtn,onClick:()=>{l({name:L.name,server:L.server}),n({id:L.id,name:L.name,server:L.server})},children:[t.jsx("span",{className:Ge.suggestionName,children:L.name}),t.jsx("span",{className:Ge.suggestionMeta,children:L.server})]},L.id))})]}),t.jsxs("label",{className:Ge.formField,children:[t.jsx("span",{className:Ge.formLabel,children:"Server"}),t.jsx("input",{type:"text",className:Ge.input,value:a.server,onChange:L=>{const R=L.target.value;l($=>({...$,server:R}))},onBlur:()=>n({server:a.server}),placeholder:"z.B. EU-01"})]})]})]}),t.jsxs("div",{className:Ge.card,children:[t.jsx("div",{className:Ge.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:Ge.cardKicker,children:"Partner Guilds"}),t.jsx("h3",{className:Ge.cardTitle,children:"Partner hinzufuegen"}),t.jsx("p",{className:Ge.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),t.jsxs("div",{className:Ge.formGrid,children:[t.jsxs("label",{className:Ge.formField,children:[t.jsx("span",{className:Ge.formLabel,children:"Name"}),t.jsx("input",{type:"text",className:Ge.input,value:c.name,onChange:L=>u(R=>({...R,name:L.target.value})),placeholder:"z.B. Nova Alliance"}),x.length>0&&t.jsx("div",{className:Ge.suggestions,children:x.map(L=>t.jsxs("button",{type:"button",className:Ge.suggestionBtn,onClick:()=>u({id:L.id,name:L.name,server:L.server}),children:[t.jsx("span",{className:Ge.suggestionName,children:L.name}),t.jsx("span",{className:Ge.suggestionMeta,children:L.server})]},L.id))})]}),t.jsxs("label",{className:Ge.formField,children:[t.jsx("span",{className:Ge.formLabel,children:"Server"}),t.jsx("input",{type:"text",className:Ge.input,value:c.server,onChange:L=>u(R=>({...R,server:L.target.value})),placeholder:"z.B. EU-02"})]})]}),t.jsxs("div",{className:Ge.partnerActions,children:[t.jsx("button",{type:"button",className:Ge.primaryAction,onClick:S,children:"Add partner guild"}),t.jsx("button",{type:"button",className:Ge.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),t.jsx("div",{className:Ge.partnerList,children:s.partnerGuilds.length===0?t.jsx("div",{className:Ge.emptyState,children:"No partner guilds added yet."}):s.partnerGuilds.map(L=>t.jsxs("div",{className:Ge.partnerRow,children:[t.jsxs("div",{children:[t.jsx("div",{className:Ge.partnerName,children:L.name||"Unbenannt"}),t.jsx("div",{className:Ge.partnerMeta,children:L.server||"Server n/a"})]}),t.jsx("button",{type:"button",className:Ge.removeButton,onClick:()=>i(L.id),children:"Remove"})]},L.id))})]})]}),t.jsx("aside",{className:Ge.setupRight,children:t.jsxs("div",{className:Ge.card,children:[t.jsx("div",{className:Ge.cardHeader,children:t.jsxs("div",{children:[t.jsx("p",{className:Ge.cardKicker,children:"Preview"}),t.jsx("h3",{className:Ge.cardTitle,children:"Uebersicht"}),t.jsx("p",{className:Ge.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),t.jsxs("div",{className:Ge.previewBlock,children:[t.jsx("div",{className:Ge.previewLabel,children:"Modus"}),t.jsx("div",{className:Ge.previewValue,children:s.mode==="scan"?"Scan-based":"Manual"})]}),t.jsxs("div",{className:Ge.previewBlock,children:[t.jsx("div",{className:Ge.previewLabel,children:"Base Guild"}),t.jsx("div",{className:Ge.previewCard,children:(P=s.baseGuild)!=null&&P.name||(N=s.baseGuild)!=null&&N.server?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:Ge.previewTitle,children:((k=s.baseGuild)==null?void 0:k.name)||"Unbenannt"}),t.jsx("div",{className:Ge.previewMeta,children:((T=s.baseGuild)==null?void 0:T.server)||"Server n/a"})]}):t.jsx("div",{className:Ge.emptyState,children:"No base guild selected yet."})})]}),t.jsxs("div",{className:Ge.previewBlock,children:[t.jsx("div",{className:Ge.previewLabel,children:"Partner Guilds"}),t.jsx("div",{className:Ge.previewList,children:s.partnerGuilds.length===0?t.jsx("div",{className:Ge.emptyState,children:"No partner guilds added yet."}):s.partnerGuilds.map(L=>t.jsxs("div",{className:Ge.previewItem,children:[t.jsx("div",{className:Ge.previewTitle,children:L.name||"Unbenannt"}),t.jsx("div",{className:Ge.previewMeta,children:L.server||"Server n/a"})]},L.id))})]})]})})]}),b?_?null:t.jsxs("div",{className:Ge.setupInfo,role:"status","aria-live":"polite",children:[t.jsx("span",{className:Ge.setupInfoIcon,"aria-hidden":!0,children:"i"}),t.jsxs("div",{children:[t.jsx("div",{className:Ge.setupInfoTitle,children:"Optional: add partner guilds."}),t.jsx("p",{className:Ge.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):t.jsxs("div",{className:`${Ge.setupInfo} ${Ge.setupWarning}`,role:"status","aria-live":"polite",children:[t.jsx("span",{className:Ge.setupInfoIcon,"aria-hidden":!0,children:"i"}),t.jsxs("div",{children:[t.jsx("div",{className:Ge.setupInfoTitle,children:"No base guild selected yet."}),t.jsx("p",{className:Ge.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function pI(s,e){const[n,r]=Q.useState([]);return Q.useEffect(()=>{const i=s.trim().toLowerCase();if(!i){r([]);return}let a=!1;async function l(){const c=Xn("FusionSetup:guildSearch");try{const u=Yp(yt,"latest"),h=await pn(c,{path:"guilds/latest (collectionGroup)"},()=>rn(Pn(u,Si("nameFold"),Cl(i),Il(i+""),Qn(12)))),p=await pn(c,{path:"guilds/latest (collectionGroup)"},()=>rn(Pn(u,wi("nameNgrams","array-contains",i),Qn(12)))),g=new Set,x=[],b=_=>{var P,N,k,T,L,R,$,B,H,z;const S=_.data(),A=(P=_.ref.parent)==null?void 0:P.parent;if(((N=A==null?void 0:A.parent)==null?void 0:N.id)!=="guilds")return;const j=(T=(k=A==null?void 0:A.id)!=null?k:S.guildIdentifier)!=null?T:_.id;if(!j||g.has(j))return;const y=($=(R=S.server)!=null?R:(L=S.values)==null?void 0:L.Server)!=null?$:"Unknown";if(e!=="all"&&y!==e)return;const w=(z=(H=S.name)!=null?H:(B=S.values)==null?void 0:B.Name)!=null?z:"Unbekannte Gilde";g.add(j),x.push({id:j,name:w,server:y})};h.forEach(b),p.forEach(b),a||(x.sort((_,S)=>_.name.localeCompare(S.name)),r(x))}catch(u){console.error("[FusionPlanner] guild search failed",u),a||r([])}finally{hn(c)}}return l(),()=>{a=!0}},[s,e]),n}const vxe="_membersContainer_1ctw8_1",xxe="_scenarioSwitcher_1ctw8_13",yxe="_scenarioButton_1ctw8_25",bxe="_scenarioButtonActive_1ctw8_63",_xe="_scenarioButtonName_1ctw8_75",wxe="_scenarioButtonDesc_1ctw8_83",jxe="_setupInfo_1ctw8_93",Sxe="_setupInfoHeader_1ctw8_113",Nxe="_setupInfoTitle_1ctw8_127",kxe="_setupInfoMode_1ctw8_139",Cxe="_setupInfoRow_1ctw8_163",Ixe="_setupInfoLabel_1ctw8_175",Txe="_setupInfoValue_1ctw8_189",Exe="_setupInfoMeta_1ctw8_199",Axe="_setupInfoPartners_1ctw8_209",Pxe="_setupInfoBadge_1ctw8_221",Rxe="_setupInfoEmpty_1ctw8_245",Lxe="_membersSummary_1ctw8_255",Dxe="_membersSummaryItem_1ctw8_275",Mxe="_membersSummaryLabel_1ctw8_287",Fxe="_membersSummaryValue_1ctw8_301",$xe="_maxSlotsInput_1ctw8_313",Bxe="_membersTable_1ctw8_331",Oxe="_membersRow_1ctw8_349",Vxe="_membersHead_1ctw8_375",Uxe="_membersCell_1ctw8_385",zxe="_memberName_1ctw8_395",Hxe="_memberBadge_1ctw8_403",Gxe="_assignmentCell_1ctw8_427",Wxe="_assignmentBadge_1ctw8_439",Kxe="_assignmentBadgeMain_1ctw8_463",qxe="_assignmentBadgePartner_1ctw8_475",Qxe="_assignmentBadgeWatch_1ctw8_487",Yxe="_assignmentBadgeIdle_1ctw8_499",Xxe="_assignmentActions_1ctw8_507",Jxe="_assignmentButton_1ctw8_519",Zxe="_assignmentButtonActive_1ctw8_551",eye="_decisionGroup_1ctw8_563",tye="_decisionButton_1ctw8_575",sye="_decisionButtonActive_1ctw8_607",nye="_emptyWrap_1ctw8_619",rye="_emptyTitle_1ctw8_633",iye="_emptyText_1ctw8_641",aye="_contextMenuBackdrop_1ctw8_651",oye="_contextMenu_1ctw8_651",lye="_contextMenuItem_1ctw8_693",cye="_partnerPickerCell_1ctw8_725",dye="_partnerLabel_1ctw8_737",uye="_partnerSelect_1ctw8_751",$e={membersContainer:vxe,scenarioSwitcher:xxe,scenarioButton:yxe,scenarioButtonActive:bxe,scenarioButtonName:_xe,scenarioButtonDesc:wxe,setupInfo:jxe,setupInfoHeader:Sxe,setupInfoTitle:Nxe,setupInfoMode:kxe,setupInfoRow:Cxe,setupInfoLabel:Ixe,setupInfoValue:Txe,setupInfoMeta:Exe,setupInfoPartners:Axe,setupInfoBadge:Pxe,setupInfoEmpty:Rxe,membersSummary:Lxe,membersSummaryItem:Dxe,membersSummaryLabel:Mxe,membersSummaryValue:Fxe,maxSlotsInput:$xe,membersTable:Bxe,membersRow:Oxe,membersHead:Vxe,membersCell:Uxe,memberName:zxe,memberBadge:Hxe,assignmentCell:Gxe,assignmentBadge:Wxe,assignmentBadgeMain:Kxe,assignmentBadgePartner:qxe,assignmentBadgeWatch:Qxe,assignmentBadgeIdle:Yxe,assignmentActions:Xxe,assignmentButton:Jxe,assignmentButtonActive:Zxe,decisionGroup:eye,decisionButton:tye,decisionButtonActive:sye,emptyWrap:nye,emptyTitle:rye,emptyText:iye,contextMenuBackdrop:aye,contextMenu:oye,contextMenuItem:lye,partnerPickerCell:cye,partnerLabel:dye,partnerSelect:uye};function hye({members:s,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:a}){var N,k,T,L,R,$;const[l,c]=Q.useState(null),u=Q.useRef(null),h=a.partnerGuilds.length>0?a.partnerGuilds.map((B,H)=>({id:B.id,label:B.name||`Partner ${H+1}`})):[{id:"partner-default",label:"Partner guild"}],p=Q.useCallback((B,H)=>{c({memberId:B,...H})},[]),g=Q.useCallback(()=>{c(null)},[]),x=Q.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),b=Q.useCallback((B,H,z)=>{x(),u.current=window.setTimeout(()=>{p(B,{x:H,y:z})},550)},[x,p]);Q.useEffect(()=>()=>x(),[x]);const _=Q.useCallback((B,H,z)=>{if(H==="main")n(B,"take"),r(B,"main");else if(H==="partner"){const W=z?`partner:${z}`:"partner";n(B,"take"),r(B,W)}else n(B,"bench"),r(B,"none");g()},[g,n,r]),S=Q.useCallback((B,H)=>{n(B,H),H==="take"?r(B,"main"):r(B,"none")},[n,r]);if(!!!((k=(N=a.baseGuild)==null?void 0:N.name)!=null&&k.trim()&&((L=(T=a.baseGuild)==null?void 0:T.server)!=null&&L.trim())))return t.jsxs("div",{className:$e.emptyWrap,children:[t.jsx("h3",{className:$e.emptyTitle,children:"No base guild configured"}),t.jsx("p",{className:$e.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return t.jsxs("div",{className:$e.emptyWrap,children:[t.jsx("h3",{className:$e.emptyTitle,children:"Members & Slots"}),t.jsx("p",{className:$e.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!s||s.length===0)return t.jsxs("div",{className:$e.emptyWrap,children:[t.jsx("h3",{className:$e.emptyTitle,children:"No members found"}),t.jsx("p",{className:$e.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const A=(R=e.decisions)!=null?R:{},M=($=e.targetGuildAssignments)!=null?$:{},j=s.filter(B=>A[B.id]==="take").length,y=s.filter(B=>A[B.id]==="bench").length,w=s.filter(B=>A[B.id]==="drop").length,P=Math.max(0,e.maxSlots-e.reservedSlots-j);return t.jsxs("div",{className:$e.membersContainer,children:[t.jsx("div",{className:$e.scenarioSwitcher,children:t.jsxs("div",{className:`${$e.scenarioButton} ${$e.scenarioButtonActive}`,children:[t.jsx("span",{className:$e.scenarioButtonName,children:e.name}),e.description?t.jsx("span",{className:$e.scenarioButtonDesc,children:e.description}):null]})}),t.jsxs("div",{className:$e.setupInfo,children:[t.jsxs("div",{className:$e.setupInfoHeader,children:[t.jsx("div",{className:$e.setupInfoTitle,children:"Planning for"}),t.jsx("span",{className:$e.setupInfoMode,children:a.mode==="scan"?"Scan":"Manual"})]}),a.baseGuild?t.jsxs("div",{className:$e.setupInfoRow,children:[t.jsx("span",{className:$e.setupInfoLabel,children:"Base Guild"}),t.jsxs("span",{className:$e.setupInfoValue,children:[a.baseGuild.name||"Unbenannt"," ",t.jsxs("span",{className:$e.setupInfoMeta,children:["(",a.baseGuild.server||"Server n/a",")"]})]})]}):t.jsx("div",{className:$e.setupInfoEmpty,children:"No base guild selected in Setup tab."}),t.jsxs("div",{className:$e.setupInfoRow,children:[t.jsx("span",{className:$e.setupInfoLabel,children:"Partner Guilds"}),a.partnerGuilds.length?t.jsx("div",{className:$e.setupInfoPartners,children:a.partnerGuilds.map(B=>t.jsxs("span",{className:$e.setupInfoBadge,children:[B.name||"Unbenannt",t.jsxs("span",{className:$e.setupInfoMeta,children:[" (",B.server||"Server n/a",")"]})]},B.id))}):t.jsx("span",{className:$e.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),t.jsxs("div",{className:$e.membersSummary,children:[t.jsxs("div",{className:$e.membersSummaryItem,children:[t.jsx("div",{className:$e.membersSummaryLabel,children:"Selected"}),t.jsxs("div",{className:$e.membersSummaryValue,children:[j," / ",e.maxSlots]})]}),t.jsxs("div",{className:$e.membersSummaryItem,children:[t.jsx("div",{className:$e.membersSummaryLabel,children:"Free slots"}),t.jsx("div",{className:$e.membersSummaryValue,children:P})]}),t.jsxs("div",{className:$e.membersSummaryItem,children:[t.jsx("div",{className:$e.membersSummaryLabel,children:"Bench"}),t.jsx("div",{className:$e.membersSummaryValue,children:y})]}),t.jsxs("div",{className:$e.membersSummaryItem,children:[t.jsx("div",{className:$e.membersSummaryLabel,children:"Drop"}),t.jsx("div",{className:$e.membersSummaryValue,children:w})]}),t.jsxs("div",{className:$e.membersSummaryItem,children:[t.jsx("div",{className:$e.membersSummaryLabel,children:"Reserved"}),t.jsx("div",{className:$e.membersSummaryValue,children:e.reservedSlots})]}),t.jsxs("div",{className:$e.membersSummaryItem,children:[t.jsx("div",{className:$e.membersSummaryLabel,children:"Max slots"}),t.jsx("input",{type:"number",className:$e.maxSlotsInput,value:e.maxSlots,min:0,onChange:B=>i(Number(B.target.value))})]})]}),t.jsxs("div",{className:$e.membersTable,children:[t.jsxs("div",{className:`${$e.membersRow} ${$e.membersHead}`,children:[t.jsx("div",{className:$e.membersCell,children:"Name"}),t.jsx("div",{className:$e.membersCell,children:"Level"}),t.jsx("div",{className:$e.membersCell,children:"Guild"}),t.jsx("div",{className:$e.membersCell,children:"Class"}),t.jsx("div",{className:$e.membersCell,children:"Plan"}),t.jsx("div",{className:$e.membersCell,children:"Decision"}),t.jsx("div",{className:$e.membersCell,children:"Partner"})]}),s.map(B=>{var X,U,J,se,ne,ue,we,Me,ee;const H=(X=A[B.id])!=null?X:"undecided",z=(U=M[B.id])!=null?U:"none",W=z&&z.toString().startsWith("partner:")?z.split(":")[1]:null,G=(ue=(J=h.find(ge=>ge.id===W))==null?void 0:J.label)!=null?ue:z==="partner"?(ne=(se=h[0])==null?void 0:se.label)!=null?ne:"Partner guild":null,K=H==="take"&&z==="main"?"main":H==="take"&&(z==="partner"||W)?"partner":H==="bench"?"watch":"unassigned",te=K==="main"?"Main guild":K==="partner"?G||"Partner guild":K==="watch"?"Watchlist":"Not planned";return t.jsxs("div",{className:$e.membersRow,onContextMenu:ge=>{ge.preventDefault(),p(B.id,{x:ge.clientX,y:ge.clientY})},onTouchStart:ge=>{const oe=ge.touches[0];oe&&b(B.id,oe.clientX,oe.clientY)},onTouchEnd:x,onTouchCancel:x,children:[t.jsx("div",{className:$e.membersCell,children:t.jsx("div",{className:$e.memberName,children:B.name})}),t.jsx("div",{className:$e.membersCell,children:t.jsxs("span",{className:$e.memberBadge,children:["Lvl ",B.level]})}),t.jsx("div",{className:$e.membersCell,children:B.guildName}),t.jsx("div",{className:$e.membersCell,children:(Me=(we=B.className)!=null?we:B.class)!=null?Me:"?"}),t.jsxs("div",{className:`${$e.membersCell} ${$e.assignmentCell}`,children:[t.jsx("span",{className:`${$e.assignmentBadge} ${K==="main"?$e.assignmentBadgeMain:K==="partner"?$e.assignmentBadgePartner:K==="watch"?$e.assignmentBadgeWatch:$e.assignmentBadgeIdle}`,children:te}),t.jsxs("div",{className:$e.assignmentActions,role:"group","aria-label":"Target guild selection",children:[t.jsx("button",{type:"button",className:`${$e.assignmentButton} ${K==="main"?$e.assignmentButtonActive:""}`,onClick:()=>_(B.id,"main"),children:"Main"}),t.jsx("button",{type:"button",className:`${$e.assignmentButton} ${K==="watch"?$e.assignmentButtonActive:""}`,onClick:()=>_(B.id,"watch"),children:"Watch"}),t.jsx("button",{type:"button",className:`${$e.assignmentButton} ${K==="partner"?$e.assignmentButtonActive:""}`,onClick:()=>_(B.id,"partner"),children:"Partner"})]})]}),t.jsx("div",{className:$e.membersCell,children:t.jsx("div",{className:$e.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(ge=>t.jsx("button",{type:"button",className:`${$e.decisionButton} ${H===ge?$e.decisionButtonActive:""}`,onClick:()=>S(B.id,ge),children:ge==="take"?"Take":ge==="bench"?"Bench":ge==="drop"?"Drop":"?"},ge))})}),t.jsxs("div",{className:`${$e.membersCell} ${$e.partnerPickerCell}`,children:[t.jsx("label",{className:$e.partnerLabel,htmlFor:`partner-select-${B.id}`,children:"Partner"}),t.jsx("select",{id:`partner-select-${B.id}`,className:$e.partnerSelect,value:W!=null?W:(ee=h[0])==null?void 0:ee.id,onChange:ge=>_(B.id,"partner",ge.target.value),children:h.map(ge=>t.jsx("option",{value:ge.id,children:ge.label},ge.id))})]})]},B.id)})]}),l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:$e.contextMenuBackdrop,onClick:g}),t.jsxs("div",{className:$e.contextMenu,style:{top:l.y,left:l.x},children:[t.jsx("button",{type:"button",className:$e.contextMenuItem,onClick:()=>_(l.memberId,"main"),children:"Move to Main guild"}),t.jsx("button",{type:"button",className:$e.contextMenuItem,onClick:()=>_(l.memberId,"watch"),children:"Move to Watchlist"}),h.map(B=>t.jsxs("button",{type:"button",className:$e.contextMenuItem,onClick:()=>_(l.memberId,"partner",B.id),children:["Move to ",B.label]},B.id))]})]}):null]})}const pye="_overview_6ytw3_1",mye="_contextBox_6ytw3_15",gye="_contextKicker_6ytw3_35",fye="_contextTitle_6ytw3_51",vye="_contextText_6ytw3_61",xye="_contextDetails_6ytw3_71",yye="_detailItem_6ytw3_85",bye="_detailLabel_6ytw3_99",_ye="_detailValue_6ytw3_113",wye="_kpiGrid_6ytw3_121",jye="_kpiCard_6ytw3_133",Sye="_kpiLabel_6ytw3_153",Nye="_kpiValue_6ytw3_167",kye="_columnsWrapper_6ytw3_177",Cye="_column_6ytw3_177",Iye="_columnDropTarget_6ytw3_213",Tye="_columnHeader_6ytw3_223",Eye="_columnKicker_6ytw3_235",Aye="_columnTitle_6ytw3_251",Pye="_columnCount_6ytw3_259",Rye="_columnBody_6ytw3_281",Lye="_memberCard_6ytw3_293",Dye="_memberTop_6ytw3_337",Mye="_memberName_6ytw3_349",Fye="_memberMeta_6ytw3_357",$ye="_memberBadge_6ytw3_369",Bye="_memberBottom_6ytw3_395",Oye="_memberGuild_6ytw3_409",Vye="_memberServer_6ytw3_419",Uye="_memberActions_6ytw3_427",zye="_emptyList_6ytw3_469",Hye="_emptyWrap_6ytw3_487",Gye="_emptyTitle_6ytw3_501",Wye="_emptyText_6ytw3_509",Kye="_addPartnerCard_6ytw3_519",qye="_contextMenuBackdrop_6ytw3_559",Qye="_contextMenu_6ytw3_559",Yye="_contextMenuItem_6ytw3_601",ut={overview:pye,contextBox:mye,contextKicker:gye,contextTitle:fye,contextText:vye,contextDetails:xye,detailItem:yye,detailLabel:bye,detailValue:_ye,kpiGrid:wye,kpiCard:jye,kpiLabel:Sye,kpiValue:Nye,columnsWrapper:kye,column:Cye,columnDropTarget:Iye,columnHeader:Tye,columnKicker:Eye,columnTitle:Aye,columnCount:Pye,columnBody:Rye,memberCard:Lye,memberTop:Dye,memberName:Mye,memberMeta:Fye,memberBadge:$ye,memberBottom:Bye,memberGuild:Oye,memberServer:Vye,memberActions:Uye,emptyList:zye,emptyWrap:Hye,emptyTitle:Gye,emptyText:Wye,addPartnerCard:Kye,contextMenuBackdrop:qye,contextMenu:Qye,contextMenuItem:Yye};function Xye({members:s,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:a}){var z,W,G;const l=(z=e==null?void 0:e.decisions)!=null?z:{},c=(W=e==null?void 0:e.targetGuildAssignments)!=null?W:{},u=n.partnerGuilds.length>0?n.partnerGuilds.map((K,te)=>({id:K.id,label:K.name||`Partner ${te+1}`})):[{id:"partner-default",label:"Partner guild"}],h=s.filter(K=>l[K.id]==="take"&&c[K.id]==="main"),p=s.filter(K=>l[K.id]==="bench"),g=u.reduce((K,te)=>(K[te.id]=s.filter(X=>{const U=c[X.id];return l[X.id]==="take"&&(U===`partner:${te.id}`||U==="partner")}),K),{}),x=s.filter(K=>!h.includes(K)&&!p.includes(K)&&!Object.values(g).some(te=>te.includes(K))),[b,_]=Q.useState(null),[S,C]=Q.useState(null),A=Q.useRef(null),M=s.length,j=h.length,y=p.length,w=Object.values(g).reduce((K,te)=>K+te.length,0),P=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-j-w):0,N=Q.useCallback((K,te,X)=>{K&&(te==="main"?(r(K,"take"),i(K,"main")):te==="partner"?(r(K,"take"),i(K,X?`partner:${X}`:"partner")):te==="unassigned"?(r(K,"undecided"),i(K,"none")):(r(K,"bench"),i(K,"none")),C(null))},[r,i]),k=Q.useCallback((K,te)=>X=>{X.preventDefault();const U=X.dataTransfer.getData("text/plain");U&&N(U,K,te),_(null)},[N]),T=Q.useCallback(K=>te=>{te.preventDefault(),_(K)},[]),L=Q.useCallback(()=>_(null),[]),R=Q.useCallback((K,te)=>{C({memberId:K,...te})},[]),$=Q.useCallback(()=>{A.current!==null&&(window.clearTimeout(A.current),A.current=null)},[]),B=Q.useCallback((K,te,X)=>{$(),A.current=window.setTimeout(()=>{R(K,{x:te,y:X})},550)},[$,R]);if(Q.useEffect(()=>()=>$(),[$]),!e)return t.jsxs("div",{className:ut.emptyWrap,children:[t.jsx("h3",{className:ut.emptyTitle,children:"Overview"}),t.jsx("p",{className:ut.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!s.length)return t.jsxs("div",{className:ut.emptyWrap,children:[t.jsx("h3",{className:ut.emptyTitle,children:"No members loaded"}),t.jsx("p",{className:ut.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const H=(K,te,X,U,J)=>t.jsxs("div",{className:`${ut.column} ${b===K?ut.columnDropTarget:""}`,onDragOver:T(K),onDragEnter:T(K),onDragLeave:L,onDrop:k(K,J),children:[t.jsxs("div",{className:ut.columnHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ut.columnKicker,children:X}),t.jsx("h4",{className:ut.columnTitle,children:te})]}),t.jsx("span",{className:ut.columnCount,children:U.length})]}),t.jsx("div",{className:ut.columnBody,children:U.length?U.map(se=>{var ne,ue,we,Me;return t.jsxs("div",{className:ut.memberCard,draggable:!0,onDragStart:ee=>ee.dataTransfer.setData("text/plain",se.id),onContextMenu:ee=>{ee.preventDefault(),R(se.id,{x:ee.clientX,y:ee.clientY})},onTouchStart:ee=>{const ge=ee.touches[0];ge&&B(se.id,ge.clientX,ge.clientY)},onTouchEnd:$,onTouchCancel:$,children:[t.jsxs("div",{className:ut.memberTop,children:[t.jsxs("div",{children:[t.jsx("div",{className:ut.memberName,children:se.name}),t.jsxs("p",{className:ut.memberMeta,children:[(ue=(ne=se.className)!=null?ne:se.class)!=null?ue:"Unknown","  ",(we=se.role)!=null?we:"Unknown"]})]}),t.jsxs("span",{className:ut.memberBadge,children:["Lvl ",(Me=se.level)!=null?Me:"?"]})]}),t.jsxs("div",{className:ut.memberBottom,children:[t.jsxs("span",{className:ut.memberGuild,children:[se.guildName," ",t.jsxs("span",{className:ut.memberServer,children:["(",se.server||"Server n/a",")"]})]}),t.jsxs("div",{className:ut.memberActions,children:[t.jsx("button",{type:"button",onClick:()=>N(se.id,"main"),children:"Main"}),t.jsx("button",{type:"button",onClick:()=>N(se.id,"watch"),children:"Watch"}),t.jsx("button",{type:"button",onClick:()=>N(se.id,"partner"),children:"Partner"})]})]})]},se.id)}):t.jsx("div",{className:ut.emptyList,children:"No players in this list yet."})})]});return t.jsxs("div",{className:ut.overview,children:[t.jsxs("div",{className:ut.contextBox,children:[t.jsxs("div",{children:[t.jsx("p",{className:ut.contextKicker,children:"Setup"}),t.jsx("h3",{className:ut.contextTitle,children:"Fusion Overview"}),t.jsx("p",{className:ut.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),t.jsxs("div",{className:ut.contextDetails,children:[t.jsxs("div",{className:ut.detailItem,children:[t.jsx("span",{className:ut.detailLabel,children:"Base Guild"}),t.jsx("strong",{className:ut.detailValue,children:((G=n.baseGuild)==null?void 0:G.name)||"Unbenannt"})]}),t.jsxs("div",{className:ut.detailItem,children:[t.jsx("span",{className:ut.detailLabel,children:"Partner Guilds"}),t.jsx("strong",{className:ut.detailValue,children:n.partnerGuilds.length})]}),t.jsxs("div",{className:ut.detailItem,children:[t.jsx("span",{className:ut.detailLabel,children:"Max Slots"}),t.jsx("strong",{className:ut.detailValue,children:e.maxSlots})]})]})]}),t.jsxs("div",{className:ut.kpiGrid,children:[t.jsxs("div",{className:ut.kpiCard,children:[t.jsx("span",{className:ut.kpiLabel,children:"Total players"}),t.jsx("strong",{className:ut.kpiValue,children:M})]}),t.jsxs("div",{className:ut.kpiCard,children:[t.jsx("span",{className:ut.kpiLabel,children:"Main guild"}),t.jsx("strong",{className:ut.kpiValue,children:j})]}),t.jsxs("div",{className:ut.kpiCard,children:[t.jsx("span",{className:ut.kpiLabel,children:"Watchlist"}),t.jsx("strong",{className:ut.kpiValue,children:y})]}),t.jsxs("div",{className:ut.kpiCard,children:[t.jsx("span",{className:ut.kpiLabel,children:"Partner guild"}),t.jsx("strong",{className:ut.kpiValue,children:w})]}),t.jsxs("div",{className:ut.kpiCard,children:[t.jsx("span",{className:ut.kpiLabel,children:"Free slots"}),t.jsx("strong",{className:ut.kpiValue,children:P})]})]}),t.jsxs("div",{className:ut.columnsWrapper,children:[H("unassigned","Unassigned","Noch ohne Planung",x),H("main","Main guild","Take & Assign main",h),H("watch","Watchlist","Bench for review",p),u.map(K=>{var te;return H("partner",K.label,"Take & Assign partner",(te=g[K.id])!=null?te:[],K.id)}),t.jsx("button",{type:"button",className:ut.addPartnerCard,onClick:()=>a(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),S?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:ut.contextMenuBackdrop,onClick:()=>C(null)}),t.jsxs("div",{className:ut.contextMenu,style:{top:S.y,left:S.x},children:[t.jsx("button",{type:"button",className:ut.contextMenuItem,onClick:()=>N(S.memberId,"main"),children:"Move to Main guild"}),t.jsx("button",{type:"button",className:ut.contextMenuItem,onClick:()=>N(S.memberId,"watch"),children:"Move to Watchlist"}),u.map(K=>t.jsxs("button",{type:"button",className:ut.contextMenuItem,onClick:()=>N(S.memberId,"partner",K.id),children:["Move to ",K.label]},K.id))]})]}):null]})}const Jye="_scenariosTab_3v4iw_1",Zye="_scenariosHeader_3v4iw_13",e0e="_scenariosTitle_3v4iw_35",t0e="_scenariosText_3v4iw_45",s0e="_scenarioInfo_3v4iw_57",n0e="_headerActions_3v4iw_71",r0e="_createButton_3v4iw_81",i0e="_scenarioList_3v4iw_115",a0e="_scenarioCard_3v4iw_127",o0e="_scenarioCardActive_3v4iw_147",l0e="_scenarioCardTop_3v4iw_157",c0e="_cardKicker_3v4iw_169",d0e="_cardTitle_3v4iw_185",u0e="_cardText_3v4iw_197",h0e="_scenarioActiveBadge_3v4iw_209",p0e="_scenarioMeta_3v4iw_231",m0e="_scenarioMetaLabel_3v4iw_243",g0e="_scenarioMetaValue_3v4iw_259",f0e="_scenarioStats_3v4iw_269",v0e="_scenarioStatItem_3v4iw_281",x0e="_scenarioStatLabel_3v4iw_295",y0e="_scenarioStatValue_3v4iw_311",b0e="_scenarioActions_3v4iw_321",_0e="_scenarioActionButton_3v4iw_337",w0e="_scenarioActionActive_3v4iw_367",j0e="_scenarioActionGroup_3v4iw_377",S0e="_secondaryActionButton_3v4iw_389",N0e="_deleteActionButton_3v4iw_391",k0e="_deleteActionDisabled_3v4iw_443",qt={scenariosTab:Jye,scenariosHeader:Zye,scenariosTitle:e0e,scenariosText:t0e,scenarioInfo:s0e,headerActions:n0e,createButton:r0e,scenarioList:i0e,scenarioCard:a0e,scenarioCardActive:o0e,scenarioCardTop:l0e,cardKicker:c0e,cardTitle:d0e,cardText:u0e,scenarioActiveBadge:h0e,scenarioMeta:p0e,scenarioMetaLabel:m0e,scenarioMetaValue:g0e,scenarioStats:f0e,scenarioStatItem:v0e,scenarioStatLabel:x0e,scenarioStatValue:y0e,scenarioActions:b0e,scenarioActionButton:_0e,scenarioActionActive:w0e,scenarioActionGroup:j0e,secondaryActionButton:S0e,deleteActionButton:N0e,deleteActionDisabled:k0e};function C0e({scenarios:s,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:a,onDeleteScenario:l}){const c=Q.useCallback(p=>{const g=Object.values(p.decisions),x=g.filter(C=>C==="take").length,b=g.filter(C=>C==="bench").length,_=g.filter(C=>C==="drop").length,S=Math.max(0,p.maxSlots-p.reservedSlots-x);return{selected:x,bench:b,drop:_,free:S}},[]),u=p=>{const g=window.prompt("Neuer Szenario-Name",p.name);g!==null&&a(p.id,g)},h=p=>{if(s.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&l(p.id)};return t.jsxs("div",{className:qt.scenariosTab,children:[t.jsxs("div",{className:qt.scenariosHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:qt.cardKicker,children:"Scenarios"}),t.jsx("h3",{className:qt.scenariosTitle,children:"Fusion Plans verwalten"}),t.jsx("p",{className:qt.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),t.jsx("div",{className:qt.headerActions,children:t.jsx("button",{type:"button",className:qt.createButton,onClick:r,children:"Neues Szenario"})})]}),t.jsx("p",{className:qt.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),t.jsx("div",{className:qt.scenarioList,children:s.map(p=>{const g=c(p),x=p.id===e,b=s.length<=1;return t.jsxs("article",{className:`${qt.scenarioCard} ${x?qt.scenarioCardActive:""}`,children:[t.jsxs("div",{className:qt.scenarioCardTop,children:[t.jsxs("div",{children:[t.jsx("p",{className:qt.cardKicker,children:"Scenario"}),t.jsx("h3",{className:qt.cardTitle,children:p.name}),p.description?t.jsx("p",{className:qt.cardText,children:p.description}):null]}),x?t.jsx("span",{className:qt.scenarioActiveBadge,children:"Active"}):null]}),t.jsxs("div",{className:qt.scenarioMeta,children:[t.jsxs("div",{children:[t.jsx("span",{className:qt.scenarioMetaLabel,children:"Max slots"}),t.jsx("span",{className:qt.scenarioMetaValue,children:p.maxSlots})]}),t.jsxs("div",{children:[t.jsx("span",{className:qt.scenarioMetaLabel,children:"Reserved"}),t.jsx("span",{className:qt.scenarioMetaValue,children:p.reservedSlots})]})]}),t.jsxs("div",{className:qt.scenarioStats,children:[t.jsxs("div",{className:qt.scenarioStatItem,children:[t.jsx("span",{className:qt.scenarioStatLabel,children:"Selected"}),t.jsx("strong",{className:qt.scenarioStatValue,children:g.selected})]}),t.jsxs("div",{className:qt.scenarioStatItem,children:[t.jsx("span",{className:qt.scenarioStatLabel,children:"Free"}),t.jsx("strong",{className:qt.scenarioStatValue,children:g.free})]}),t.jsxs("div",{className:qt.scenarioStatItem,children:[t.jsx("span",{className:qt.scenarioStatLabel,children:"Bench"}),t.jsx("strong",{className:qt.scenarioStatValue,children:g.bench})]}),t.jsxs("div",{className:qt.scenarioStatItem,children:[t.jsx("span",{className:qt.scenarioStatLabel,children:"Drop"}),t.jsx("strong",{className:qt.scenarioStatValue,children:g.drop})]})]}),t.jsxs("div",{className:qt.scenarioActions,children:[t.jsx("button",{type:"button",className:`${qt.scenarioActionButton} ${x?qt.scenarioActionActive:""}`,onClick:()=>n(p.id),children:"Set active"}),t.jsxs("div",{className:qt.scenarioActionGroup,children:[t.jsx("button",{type:"button",className:qt.secondaryActionButton,onClick:()=>i(p.id),children:"Duplicate"}),t.jsx("button",{type:"button",className:qt.secondaryActionButton,onClick:()=>u(p),children:"Rename"}),t.jsx("button",{type:"button",className:`${qt.deleteActionButton} ${b?qt.deleteActionDisabled:""}`,onClick:()=>h(p),disabled:b,children:"Delete"})]})]})]},p.id)})})]})}const I0e="_resultWrap_179wi_1",T0e="_emptyState_179wi_13",E0e="_emptyTitle_179wi_35",A0e="_emptyText_179wi_43",P0e="_resultHeader_179wi_55",R0e="_resultKicker_179wi_79",L0e="_resultTitle_179wi_95",D0e="_resultText_179wi_107",M0e="_emptyNote_179wi_119",F0e="_setupSummary_179wi_131",$0e="_setupSummaryTitle_179wi_149",B0e="_setupSummaryRow_179wi_159",O0e="_setupSummaryLabel_179wi_171",V0e="_setupSummaryValue_179wi_185",U0e="_setupSummaryMeta_179wi_195",z0e="_setupSummaryTags_179wi_205",H0e="_setupSummaryTag_179wi_205",G0e="_classDistribution_179wi_241",W0e="_resultStats_179wi_253",K0e="_resultStatBadge_179wi_267",q0e="_resultStatBadgeMuted_179wi_269",Q0e="_group_179wi_307",Y0e="_groupHeader_179wi_327",X0e="_groupTitle_179wi_341",J0e="_groupHint_179wi_351",Z0e="_groupBadge_179wi_361",ebe="_badgeSuccess_179wi_387",tbe="_badgeMuted_179wi_399",sbe="_badgeDanger_179wi_409",nbe="_groupEmpty_179wi_421",rbe="_groupTable_179wi_437",ibe="_groupRow_179wi_455",abe="_groupHead_179wi_327",obe="_groupCell_179wi_491",lbe="_memberName_179wi_501",cbe="_memberBadge_179wi_509",gt={resultWrap:I0e,emptyState:T0e,emptyTitle:E0e,emptyText:A0e,resultHeader:P0e,resultKicker:R0e,resultTitle:L0e,resultText:D0e,emptyNote:M0e,setupSummary:F0e,setupSummaryTitle:$0e,setupSummaryRow:B0e,setupSummaryLabel:O0e,setupSummaryValue:V0e,setupSummaryMeta:U0e,setupSummaryTags:z0e,setupSummaryTag:H0e,classDistribution:G0e,resultStats:W0e,resultStatBadge:K0e,resultStatBadgeMuted:q0e,group:Q0e,groupHeader:Y0e,groupTitle:X0e,groupHint:J0e,groupBadge:Z0e,badgeSuccess:ebe,badgeMuted:tbe,badgeDanger:sbe,groupEmpty:nbe,groupTable:rbe,groupRow:ibe,groupHead:abe,groupCell:obe,memberName:lbe,memberBadge:cbe};function dbe({members:s,scenario:e,setupState:n}){var _;if(!e)return t.jsxs("div",{className:gt.emptyState,children:[t.jsx("h3",{className:gt.emptyTitle,children:"No scenario selected"}),t.jsx("p",{className:gt.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!s||s.length===0)return t.jsxs("div",{className:gt.emptyState,children:[t.jsx("h3",{className:gt.emptyTitle,children:"No members available"}),t.jsx("p",{className:gt.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:a,undecidedMembers:l}=Q.useMemo(()=>{const S=[],C=[],A=[],M=[];return s.forEach(j=>{var w;const y=(w=e.decisions[j.id])!=null?w:"undecided";y==="take"?S.push(j):y==="bench"?C.push(j):y==="drop"?A.push(j):M.push(j)}),{takeMembers:S,benchMembers:C,dropMembers:A,undecidedMembers:M}},[s,e.decisions]),c=r.length,u=i.length,h=a.length,p=Math.max(0,e.maxSlots-c),g=e.maxSlots?Math.round(c/e.maxSlots*100):0,x=Q.useMemo(()=>{const S=r.reduce((A,M)=>{var y,w;const j=(y=M.className)!=null?y:M.class;return j&&(A[j]=((w=A[j])!=null?w:0)+1),A},{});return Object.entries(S).map(([A,M])=>`${A}: ${M}`).join(" | ")},[r]),b=(S,C,A,M)=>t.jsxs("div",{className:gt.group,children:[t.jsxs("div",{className:gt.groupHeader,children:[t.jsxs("div",{children:[t.jsx("h4",{className:gt.groupTitle,children:S}),t.jsx("span",{className:gt.groupHint,children:C})]}),t.jsx("span",{className:`${gt.groupBadge} ${M}`,children:A.length})]}),A.length===0?t.jsx("div",{className:gt.groupEmpty,children:"No players in this group."}):t.jsxs("div",{className:gt.groupTable,role:"table",children:[t.jsxs("div",{className:`${gt.groupRow} ${gt.groupHead}`,role:"row",children:[t.jsx("div",{className:gt.groupCell,role:"columnheader",children:"Name"}),t.jsx("div",{className:gt.groupCell,role:"columnheader",children:"Level"}),t.jsx("div",{className:gt.groupCell,role:"columnheader",children:"Guild"}),t.jsx("div",{className:gt.groupCell,role:"columnheader",children:"Class"})]}),A.map(j=>{var y,w;return t.jsxs("div",{className:gt.groupRow,role:"row",children:[t.jsx("div",{className:gt.groupCell,role:"cell",children:t.jsx("span",{className:gt.memberName,children:j.name})}),t.jsx("div",{className:gt.groupCell,role:"cell",children:t.jsxs("span",{className:gt.memberBadge,children:["Lvl ",j.level]})}),t.jsx("div",{className:gt.groupCell,role:"cell",children:j.guildName}),t.jsx("div",{className:gt.groupCell,role:"cell",children:(w=(y=j.className)!=null?y:j.class)!=null?w:"-"})]},j.id)})]})]});return t.jsxs("div",{className:gt.resultWrap,children:[t.jsxs("div",{className:gt.resultHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:gt.resultKicker,children:"Final Plan"}),t.jsx("h3",{className:gt.resultTitle,children:e.name}),t.jsx("p",{className:gt.resultText,children:(_=e.description)!=null?_:"Zusammenfassung des aktuellen Plans."}),r.length===0?t.jsx("p",{className:gt.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,x?t.jsxs("p",{className:gt.classDistribution,children:["Class distribution: ",x]}):null,t.jsxs("div",{className:gt.setupSummary,children:[t.jsx("div",{className:gt.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?t.jsxs("div",{className:gt.setupSummaryRow,children:[t.jsx("span",{className:gt.setupSummaryLabel,children:"Base"}),t.jsxs("span",{className:gt.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",t.jsxs("span",{className:gt.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):t.jsxs("div",{className:gt.setupSummaryRow,children:[t.jsx("span",{className:gt.setupSummaryLabel,children:"Base"}),t.jsx("span",{className:gt.setupSummaryMeta,children:"No base guild selected."})]}),t.jsxs("div",{className:gt.setupSummaryRow,children:[t.jsx("span",{className:gt.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?t.jsx("div",{className:gt.setupSummaryTags,children:n.partnerGuilds.map(S=>t.jsxs("span",{className:gt.setupSummaryTag,children:[S.name||"Unbenannt"," ",t.jsxs("span",{className:gt.setupSummaryMeta,children:["(",S.server||"Server n/a",")"]})]},S.id))}):t.jsx("span",{className:gt.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),t.jsxs("div",{className:gt.resultStats,children:[t.jsxs("span",{className:gt.resultStatBadge,children:["Members selected: ",c," / ",e.maxSlots]}),t.jsxs("span",{className:gt.resultStatBadge,children:["Bench: ",u]}),t.jsxs("span",{className:gt.resultStatBadge,children:["Drop: ",h]}),t.jsxs("span",{className:gt.resultStatBadge,children:["Free slots: ",p]}),t.jsxs("span",{className:gt.resultStatBadge,children:["Utilization: ",g,"%"]}),l.length>0?t.jsxs("span",{className:gt.resultStatBadgeMuted,children:["Undecided: ",l.length]}):null]})]}),b("Final roster (selected)","Take",r,gt.badgeSuccess),b("Bench (waiting list)","Bench",i,gt.badgeMuted),b("Not included","Drop",a,gt.badgeDanger)]})}const Xg=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],mI=s=>s.reduce((e,n)=>(e[n.id]="undecided",e),{}),gI=s=>s.reduce((e,n)=>(e[n.id]="none",e),{}),ube=(s,e,n)=>{var r,i,a,l,c,u,h,p,g,x,b,_,S,C,A,M;return{id:s.id,name:(r=s.name)!=null?r:"Unknown",class:(i=s.class)!=null?i:"Unknown",className:(a=s.class)!=null?a:void 0,role:(l=s.role)!=null?l:"Unknown",level:(c=s.level)!=null?c:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(u=s.lastActivityMs)!=null?u:null,baseStats:{main:(h=s.baseMain)!=null?h:void 0,con:(p=s.conBase)!=null?p:void 0,sumBaseTotal:(g=s.sumBaseTotal)!=null?g:void 0},totalStats:(x=s.totalStats)!=null?x:void 0,values:{treasury:(b=s.treasury)!=null?b:void 0,mine:(_=s.mine)!=null?_:void 0,attrTotal:(S=s.attrTotal)!=null?S:void 0,conTotal:(C=s.conTotal)!=null?C:void 0,lastScan:(A=s.lastScan)!=null?A:void 0,lastActivity:(M=s.lastActivity)!=null?M:void 0}}},hbe=s=>{var r,i;if(!s)return null;const e=(r=s.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=s.name)==null?void 0:i.trim();return n||null},fI=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,vI=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],pbe=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function mbe(){var B;const[s,e]=Q.useState("setup"),[n,r]=Q.useState(Xg),[i,a]=Q.useState(!1),[l,c]=Q.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,h]=Q.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:mI(Xg),targetGuildAssignments:gI(Xg),isDefault:!0}]),[p,g]=Q.useState("plan-a"),x=Q.useMemo(()=>{var H,z;return(z=(H=u.find(W=>W.id===p))!=null?H:u[0])!=null?z:null},[p,u]),b=Q.useMemo(()=>{var G,K;const H=l.baseGuild,z=(G=H==null?void 0:H.name)==null?void 0:G.trim(),W=(K=H==null?void 0:H.server)==null?void 0:K.trim();return!!(z&&W)},[l.baseGuild]),_=Q.useMemo(()=>n.length>0,[n.length]),S=Q.useMemo(()=>u.length>0,[u.length]),C=Q.useMemo(()=>{const H=[];return b||H.push("Setup incomplete - no base guild selected."),b&&!_&&H.push("No members loaded yet. Check scans or setup."),S||H.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),H},[b,_,S]),A=(H,z)=>{h(W=>W.map(G=>G.id===p?{...G,decisions:{...G.decisions,[H]:z}}:G))},M=(H,z)=>{h(W=>W.map(G=>{var K;return G.id===p?{...G,targetGuildAssignments:{...(K=G.targetGuildAssignments)!=null?K:{},[H]:z}}:G}))},j=H=>{const z=Number(H)||0;h(W=>W.map(G=>G.id===p?{...G,maxSlots:Math.max(0,z)}:G))},y=()=>{h(H=>{const z={id:fI(),name:`Plan ${H.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:mI(n),targetGuildAssignments:gI(n)};return g(z.id),[...H,z]})},w=H=>{h(z=>{var K;const W=z.find(te=>te.id===H);if(!W)return z;const G={...W,id:fI(),name:`${W.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...W.decisions},targetGuildAssignments:{...(K=W.targetGuildAssignments)!=null?K:{}}};return g(G.id),[...z,G]})},P=(H,z)=>{const W=z.trim();W&&h(G=>G.map(K=>K.id===H?{...K,name:W}:K))},N=H=>{h(z=>{if(z.length<=1)return z;const W=z.filter(G=>G.id!==H);return W.length?(p===H&&g(W[0].id),W):z})};Q.useEffect(()=>{if(l.mode!=="scan"){a(!1),r(Xg);return}const H=[l.baseGuild,...l.partnerGuilds].filter(Boolean);if(H.length===0){a(!1),r([]);return}let z=!1;async function W(){var K,te,X,U,J,se,ne,ue,we,Me;const G=Xn("FusionPlanner:loadMembers");a(!0);try{const ee=[];for(const ge of H){const oe=hbe(ge);if(!oe)continue;const ye=rs(yt,`guilds/${oe}/latest/latest`),je=await Lo(G,ye,()=>_n(ye)),ke=je.exists()?je.data():null,qe=(J=(U=(te=(K=ge.name)==null?void 0:K.trim())!=null?te:ke==null?void 0:ke.name)!=null?U:(X=ke==null?void 0:ke.values)==null?void 0:X.Name)!=null?J:oe,me=(Me=(we=(ne=(se=ge.server)==null?void 0:se.trim())!=null?ne:ke==null?void 0:ke.server)!=null?we:(ue=ke==null?void 0:ke.values)==null?void 0:ue.Server)!=null?Me:null,Ie=rs(yt,`guilds/${oe}/snapshots/members_summary`),Xe=await Lo(G,Ie,()=>_n(Ie));if(!Xe.exists())continue;const it=Xe.data();(Array.isArray(it.members)?it.members:[]).forEach(be=>{ee.push(ube(be,qe,me))})}z||r(ee)}catch(ee){console.error("[FusionPlanner] Failed to load members",ee),z||r([])}finally{z||a(!1),hn(G)}}return r([]),W(),()=>{z=!0}},[l.baseGuild,l.partnerGuilds,l.mode]),Q.useEffect(()=>{i||h(H=>H.map(z=>{var te;const W=new Set(n.map(X=>X.id)),G={...z.decisions},K={...(te=z.targetGuildAssignments)!=null?te:{}};return n.forEach(X=>{G[X.id]||(G[X.id]="undecided"),K[X.id]||(K[X.id]="none")}),Object.keys(G).forEach(X=>{W.has(X)||delete G[X]}),Object.keys(K).forEach(X=>{W.has(X)||delete K[X]}),{...z,decisions:G,targetGuildAssignments:K}}))},[n,i]);const k=H=>{c(z=>({...z,mode:H}))},T=H=>{c(z=>{var G,K,te;const W=(G=z.baseGuild)!=null?G:{id:"base-1",kind:"base",name:"",server:""};return{...z,baseGuild:{...W,...H.id?{id:H.id}:{},name:(K=H.name)!=null?K:W.name,server:(te=H.server)!=null?te:W.server}}})},L=H=>{var K;if(!H.name.trim()||!H.server.trim())return;const z=H.name.trim(),W=H.server.trim(),G=(K=H.id)==null?void 0:K.trim();c(te=>({...te,partnerGuilds:[...te.partnerGuilds,{id:G&&!G.startsWith("partner-")?G:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:z,server:W,kind:"partner"}]}))},R=H=>{c(z=>({...z,partnerGuilds:z.partnerGuilds.filter(W=>W.id!==H)}))},$=()=>{switch(s){case"setup":return t.jsx(fxe,{setupState:l,onChangeMode:k,onChangeBaseGuild:T,onAddPartnerGuild:L,onRemovePartnerGuild:R});case"members":return t.jsx(hye,{members:n,scenario:x,onChangeScenarioDecision:A,onChangeScenarioTargetGuild:M,onChangeScenarioMaxSlots:j,setupState:l});case"overview":return t.jsx(Xye,{members:n,scenario:x,setupState:l,onChangeScenarioDecision:A,onChangeScenarioTargetGuild:M,onAddPartnerGuild:H=>L({name:H,server:"tbd"})});case"scenarios":return t.jsx(C0e,{scenarios:u,activeScenarioId:p,onSetActiveScenario:g,onCreateScenario:y,onDuplicateScenario:w,onRenameScenario:P,onDeleteScenario:N});case"result":return t.jsx(dbe,{members:n,scenario:x,setupState:l});default:return null}};return t.jsx(Ht,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:t.jsxs("div",{className:xt.page,children:[t.jsxs("header",{className:xt.header,children:[t.jsxs("div",{className:xt.headerLeading,children:[t.jsx(ks,{to:"/guild-hub",className:xt.backLink,children:"Back to Guild Hub"}),t.jsxs("div",{className:xt.headerStack,children:[t.jsx("p",{className:xt.kicker,children:"Guild Hub"}),t.jsx("h1",{className:xt.title,children:"Fusion Planner"}),t.jsx("p",{className:xt.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),t.jsxs("div",{className:xt.headerActions,children:[t.jsx("button",{type:"button",className:xt.primaryAction,children:"Neues Setup"}),t.jsx("button",{type:"button",className:xt.secondaryAction,children:"Checkliste"})]})]}),C.length?t.jsx("div",{className:xt.plannerNotice,role:"status","aria-live":"polite",children:C.map(H=>t.jsxs("div",{className:`${xt.noticeItem} ${H.toLowerCase().includes("no base guild")?xt.noticeWarning:""}`,children:[t.jsx("span",{className:xt.noticeDot,"aria-hidden":!0}),t.jsx("span",{children:H})]},H))}):null,t.jsxs("section",{className:xt.tabSection,"aria-label":"Fusion Planner Tabs",children:[t.jsx("div",{className:xt.tabBar,children:vI.map(H=>{const z=H.key===s;return t.jsxs("button",{type:"button",className:`${xt.tabItem} ${z?xt.tabItemActive:""}`,onClick:()=>e(H.key),"aria-pressed":z,children:[t.jsx("span",{className:xt.tabLabel,children:H.label}),t.jsx("span",{className:xt.tabHelper,children:H.helper})]},H.key)})}),t.jsxs("div",{className:xt.tabPanel,children:[t.jsx("span",{className:xt.tabBadge,children:(B=vI.find(H=>H.key===s))==null?void 0:B.label}),$()]})]}),t.jsxs("section",{className:xt.infoStrip,children:[t.jsxs("div",{className:xt.infoBlock,children:[t.jsx("span",{className:xt.infoLabel,children:"Status"}),t.jsx("strong",{children:"Entwurf"}),t.jsx("p",{className:xt.infoHint,children:"Bereit fuer weitere Eingaben."})]}),t.jsxs("div",{className:xt.infoBlock,children:[t.jsx("span",{className:xt.infoLabel,children:"Slots geplant"}),t.jsx("strong",{children:"0 / 40"}),t.jsx("p",{className:xt.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),t.jsxs("div",{className:xt.infoBlock,children:[t.jsx("span",{className:xt.infoLabel,children:"Szenarien"}),t.jsx("strong",{children:"3"}),t.jsx("p",{className:xt.infoHint,children:"Baseline, Optimistic, Risiko."})]}),t.jsxs("div",{className:xt.infoBlock,children:[t.jsx("span",{className:xt.infoLabel,children:"Letztes Update"}),t.jsx("strong",{children:"vor wenigen Minuten"}),t.jsx("p",{className:xt.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),t.jsx("section",{className:xt.stageGrid,children:pbe.map(H=>t.jsxs("article",{className:xt.panel,children:[t.jsxs("div",{className:xt.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:xt.panelKicker,children:H.step}),t.jsx("h2",{className:xt.panelTitle,children:H.title}),t.jsx("p",{className:xt.panelLead,children:H.description})]}),H.badge?t.jsx("span",{className:xt.badge,children:H.badge}):null]}),t.jsx("div",{className:xt.panelBody,children:t.jsx("div",{className:xt.placeholderGrid,children:H.placeholders.map(z=>t.jsxs("div",{className:xt.placeholderCard,children:[t.jsx("div",{className:xt.placeholderTitle,children:z}),t.jsx("p",{className:xt.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},z))})})]},H.key))}),t.jsx("section",{className:xt.helperSection,children:t.jsxs("div",{className:xt.helperCard,children:[t.jsxs("div",{children:[t.jsx("p",{className:xt.helperKicker,children:"Result"}),t.jsx("h3",{className:xt.helperTitle,children:"Finaler Merge-Plan"}),t.jsx("p",{className:xt.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),t.jsxs("div",{className:xt.helperActions,children:[t.jsx("button",{type:"button",className:xt.secondaryAction,children:"Teilen"}),t.jsx("button",{type:"button",className:xt.primaryAction,children:"Review starten"})]})]})})]})})}const d_=["EU-01","EU-02","US-01","US-02","ASIA-01"],ap=new Intl.NumberFormat("de-DE");function gbe(){const s=Su("(min-width: 768px)"),[e,n]=Q.useState("all"),[r,i]=Q.useState(null),[a,l]=Q.useState(null),[c,u]=Q.useState(null),[h,p]=Q.useState(null),g=[r,a].filter(Boolean).length,x=Q.useMemo(()=>{const R=[c,h].filter(Boolean);if(!R.length)return 0;const $=R.reduce((B,H)=>{var z;return B+((z=H.members)!=null?z:0)},0);return Math.round($/R.length)},[c,h]),[b,_]=Q.useState(null),[S,C]=Q.useState(!1),A=Q.useRef(null);Nu(A,S&&!s),Q.useEffect(()=>{s&&C(!1)},[s]),Q.useEffect(()=>{if(!b)return;const R=B=>{const H=B.target;H&&(H.closest(`.${ce.freshnessBadge}`)||H.closest(`.${ce.freshnessPopover}`)||_(null))},$=B=>{B.key==="Escape"&&_(null)};return document.addEventListener("pointerdown",R),document.addEventListener("keydown",$),()=>{document.removeEventListener("pointerdown",R),document.removeEventListener("keydown",$)}},[b]);const M=Q.useMemo(()=>c?Ep(c.nextUpdateAt,Date.now()):"",[c]),j=Q.useMemo(()=>h?Ep(h.nextUpdateAt,Date.now()):"",[h]),y=()=>C(!0),w=()=>C(!1),P=R=>{n(R)},N=(R,$)=>{R==="guildA"?(i($.id),u($)):(l($.id),p($))},k=R=>{R==="guildA"?(i(null),u(null)):(l(null),p(null))},T=R=>{_($=>$===R?null:R)},L=c&&h;return t.jsxs(Ht,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[t.jsxs("div",{className:ce.page,children:[t.jsxs("header",{className:ce.header,children:[t.jsxs("div",{className:ce.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Guild Hub"}),t.jsx("h1",{className:ce.title,children:"Gilden vergleichen"}),t.jsx("p",{className:ce.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),t.jsx("div",{className:ce.headerActions,children:!s&&t.jsx("button",{type:"button",className:ce.secondaryAction,onClick:y,children:"Filter"})})]}),t.jsxs("div",{className:ce.infoStrip,children:[t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Pool"}),t.jsxs("strong",{children:[ap.format(g)," Gilden"]})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Durchschnitt Mitglieder"}),t.jsx("strong",{children:ap.format(x)})]}),t.jsxs("div",{className:ce.infoCard,children:[t.jsx("span",{className:ce.infoLabel,children:"Serverfilter"}),t.jsx("strong",{children:e==="all"?"Alle":e})]})]}),s&&t.jsx("div",{className:ce.inlineFilters,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),d_.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]}),t.jsxs("div",{className:ce.layout,children:[t.jsxs("section",{className:ce.selectionColumn,children:[t.jsx(xI,{title:"Gilde A",slot:"guildA",selectedGuild:c,excludeId:a,onSelect:N,onClear:k,serverFilter:e,onServerChange:P}),t.jsx(xI,{title:"Gilde B",slot:"guildB",selectedGuild:h,excludeId:r,onSelect:N,onClear:k,serverFilter:e,onServerChange:P})]}),t.jsxs("section",{className:ce.comparisonColumn,children:[t.jsxs("div",{className:ce.comparisonCard,children:[t.jsxs("div",{className:ce.comparisonHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.kicker,children:"Vergleich"}),t.jsx("h2",{className:ce.sectionTitle,children:"Kennzahlen"})]}),L&&t.jsxs("span",{className:ce.diffBadge,children:["Delta Mitglieder:"," ",ap.format(c.members-h.members)]})]}),L?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:ce.metricGrid,children:[t.jsx(yI,{label:"Mitglieder",aValue:c.members,bValue:h.members}),t.jsx(yI,{label:"Durchschnittslevel",aValue:c.avgLevel,bValue:h.avgLevel,isDecimal:!0}),t.jsx(fbe,{guildA:c,guildB:h,countdownA:M,countdownB:j,activePopover:b,onToggle:T})]}),t.jsx(vbe,{guildA:c,guildB:h})]}):t.jsx("div",{className:ce.emptyState,children:t.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),t.jsxs("div",{className:ce.supportPanels,children:[t.jsx(xbe,{}),t.jsx(ybe,{})]})]})]})]}),!s&&t.jsx("div",{className:`${ce.sheetOverlay} ${S?ce.sheetOpen:""}`,children:t.jsxs("div",{className:ce.sheet,role:"dialog","aria-modal":"true",ref:A,children:[t.jsxs("header",{className:ce.sheetHeader,children:[t.jsx("h3",{children:"Filter"}),t.jsx("button",{type:"button",className:ce.clearButton,onClick:w,children:"Schliessen"})]}),t.jsx("div",{className:ce.sheetBody,children:t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:e,onChange:R=>P(R.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),d_.map(R=>t.jsx("option",{value:R,children:R},R))]})]})})]})})]})}function xI({title:s,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:c}){const[u,h]=Q.useState(""),p=ju(u,300);Q.useEffect(()=>{h("")},[n,l]);const{results:g,loading:x}=bbe(p,l,r);return t.jsxs("article",{className:ce.selectionCard,children:[t.jsxs("div",{className:ce.slotHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.slotLabel,children:s}),t.jsx("p",{className:ce.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&t.jsx("button",{type:"button",className:ce.clearButton,onClick:()=>a(e),children:"Reset"})]}),t.jsxs("div",{className:ce.slotBody,children:[t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Server"}),t.jsxs("select",{className:ce.select,value:l,onChange:b=>c(b.target.value),children:[t.jsx("option",{value:"all",children:"Alle Server"}),d_.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("label",{className:ce.filterField,children:[t.jsx("span",{children:"Suchen"}),t.jsx("input",{className:ce.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),t.jsxs("div",{className:ce.resultList,role:"list",children:[x&&t.jsx("div",{className:ce.emptyResult,children:"Lade..."}),!x&&g.length===0&&t.jsx("div",{className:ce.emptyResult,children:"Keine Gilde gefunden."}),!x&&g.map(b=>t.jsxs("div",{className:ce.resultItem,children:[t.jsxs("div",{children:[t.jsx("p",{className:ce.resultName,children:b.name}),t.jsxs("p",{className:ce.resultMeta,children:[b.server," - ",b.members," Mitglieder"]})]}),t.jsx("button",{type:"button",className:ce.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&t.jsxs("div",{className:ce.selectedCard,children:[t.jsx("p",{className:ce.selectedName,children:n.name}),t.jsxs("p",{className:ce.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),t.jsx("p",{className:ce.selectedTagline,children:n.tagline})]})]})]})}function yI({label:s,aValue:e,bValue:n,isDecimal:r=!1}){const i=c=>r?c.toFixed(1).replace(".",","):ap.format(c),a=e-n;let l="gleich";if(a!==0){const c=r?Math.abs(a).toFixed(1).replace(".",","):ap.format(Math.abs(a));l=a>0?`+${c}`:`-${c}`}return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:s}),t.jsxs("div",{className:ce.metricValues,children:[t.jsx("span",{"aria-label":"Gilde A",children:i(e)}),t.jsx("span",{className:ce.metricDivider,children:"vs"}),t.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),t.jsx("p",{className:ce.metricDelta,children:l})]})}function fbe({guildA:s,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return t.jsxs("div",{className:ce.metricCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Freshness"}),t.jsx("div",{className:ce.freshnessRow,children:[s,e].map(l=>{const c=l.id===s.id?n:r,u=`fresh-${l.id}`,h=i===u;return t.jsxs("div",{className:ce.freshnessItem,children:[t.jsxs("button",{type:"button",className:ce.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[t.jsx("span",{children:l.freshness.toUpperCase()}),t.jsx("small",{children:am(l.lastScanAt)})]}),h&&t.jsxs("div",{className:ce.freshnessPopover,role:"dialog",children:[t.jsx("p",{className:ce.popoverTitle,children:l.name}),t.jsxs("dl",{children:[t.jsxs("div",{children:[t.jsx("dt",{children:"Status"}),t.jsx("dd",{children:Cw[l.freshness]})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Zuletzt gescannt"}),t.jsx("dd",{children:Qa(l.lastScanAt)})]}),t.jsxs("div",{children:[t.jsx("dt",{children:"Naechstes Update"}),t.jsxs("dd",{children:[Qa(l.nextUpdateAt)," (",c,")"]})]})]})]})]},l.id)})})]})}function vbe({guildA:s,guildB:e}){const n=Q.useMemo(()=>Array.from(new Set([...s.classes,...e.classes].map(r=>r.label))),[s.classes,e.classes]);return t.jsxs("div",{className:ce.classCard,children:[t.jsx("p",{className:ce.metricLabel,children:"Klassenverteilung"}),t.jsx("div",{className:ce.classGrid,children:[s,e].map(r=>t.jsxs("div",{className:ce.classColumn,children:[t.jsx("h3",{children:r.name}),t.jsx("div",{className:ce.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>t.jsxs("span",{style:{width:`${i.percent}%`},className:ce.classSlice,children:[t.jsx("small",{children:i.label}),t.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),t.jsx("ul",{className:ce.classLegend,children:n.map(r=>t.jsx("li",{children:r},r))})]})}function xbe(){const s=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return t.jsxs("section",{className:ce.checklistCard,children:[t.jsx("h3",{children:"Vor dem Vergleich pruefen"}),t.jsx("ul",{className:ce.checklist,children:s.map(e=>t.jsx("li",{children:e},e))})]})}function ybe(){return t.jsxs("section",{className:ce.infoCardExtended,children:[t.jsx("h3",{children:"Transfers-Diff"}),t.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",t.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),t.jsx("p",{className:ce.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),t.jsx("button",{type:"button",className:ce.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function bbe(s,e,n){const[r,i]=Q.useState([]),[a,l]=Q.useState(!1);return Q.useEffect(()=>{const c=s.trim();if(c.length===0){i([]),l(!1);return}let u=!1;async function h(){const p=Xn("CompareGuilds:search");l(!0);try{const g=c.toLowerCase(),x=Yp(yt,"latest"),b=await pn(p,{path:"guilds/latest (collectionGroup)"},()=>rn(Pn(x,Si("nameFold"),Cl(g),Il(g+""),Qn(15)))),_=await pn(p,{path:"guilds/latest (collectionGroup)"},()=>rn(Pn(x,wi("nameNgrams","array-contains",g),Qn(15)))),S=new Set,C=[],A=M=>{var B,H,z,W,G,K,te,X,U,J,se,ne,ue,we,Me,ee,ge,oe,ye,je,ke;const j=M.data(),w=(B=M.ref.parent)==null?void 0:B.parent,P=w==null?void 0:w.parent;if((P==null?void 0:P.id)!=="guilds")return;const k=(z=(H=w==null?void 0:w.id)!=null?H:j.guildIdentifier)!=null?z:M.id;if(!k||S.has(k)||n&&k===n)return;const T=(K=(G=j.name)!=null?G:(W=j.values)==null?void 0:W.Name)!=null?K:"Unbekannte Gilde",L=(U=(X=j.server)!=null?X:(te=j.values)==null?void 0:te.Server)!=null?U:"Unknown";if(e!=="all"&&L!==e)return;const R=(we=(ue=(se=j.memberCount)!=null?se:(J=j.values)==null?void 0:J["Guild Member Count"])!=null?ue:(ne=j.values)==null?void 0:ne.GuildMemberCount)!=null?we:0,$=(ge=(ee=j.updatedAt)!=null?ee:(Me=j.values)==null?void 0:Me.UpdatedAt)!=null?ge:j.timestamp?new Date(j.timestamp*1e3).toISOString():new Date().toISOString();S.add(k),C.push({id:k,name:T,tagline:(oe=j.tagline)!=null?oe:"",server:L,members:R,avgLevel:(ke=(je=j.avgLevel)!=null?je:(ye=j.values)==null?void 0:ye.AvgLevel)!=null?ke:0,lastScanAt:$,updatedAt:$,nextUpdateAt:$,freshness:"unknown",classes:[]})};b.forEach(A),_.forEach(A),u||(C.sort((M,j)=>M.name.localeCompare(j.name)),i(C))}catch(g){console.error("[GuildHub CompareGuilds] guild search failed",g),u||i([])}finally{hn(p),u||l(!1)}}return h(),()=>{u=!0}},[s,e,n]),{results:r,loading:a}}const _be="_page_o27vc_1",wbe="_header_o27vc_13",jbe="_headerStack_o27vc_25",Sbe="_kicker_o27vc_37",Nbe="_title_o27vc_53",kbe="_headerActions_o27vc_65",Cbe="_primaryAction_o27vc_77",Ibe="_secondaryAction_o27vc_79",Tbe="_infoStrip_o27vc_109",Ebe="_infoPill_o27vc_129",Abe="_freshnessWrapper_o27vc_163",Pbe="_freshnessBadge_o27vc_171",Rbe="_popover_o27vc_191",Lbe="_popoverLabel_o27vc_221",Dbe="_filterToolbar_o27vc_231",Mbe="_filterSheetButton_o27vc_241",Fbe="_inlineFilters_o27vc_259",$be="_searchInput_o27vc_271",Bbe="_select_o27vc_273",Obe="_chipGroup_o27vc_295",Vbe="_chip_o27vc_295",Ube="_chipActive_o27vc_325",zbe="_levelRow_o27vc_335",Hbe="_sortControls_o27vc_363",Gbe="_sortLabel_o27vc_375",Wbe="_directionButton_o27vc_385",Kbe="_listBody_o27vc_403",qbe="_tableWrapper_o27vc_415",Qbe="_table_o27vc_415",Ybe="_cardFooter_o27vc_459",Xbe="_panel_o27vc_461",Jbe="_formPanel_o27vc_463",Zbe="_statusSelect_o27vc_481",e_e="_stickyColumn_o27vc_515",t_e="_rowButton_o27vc_529",s_e="_scanBadge_o27vc_545",n_e="_cardList_o27vc_561",r_e="_card_o27vc_459",i_e="_cardHeader_o27vc_593",a_e="_cardTitle_o27vc_605",o_e="_cardMeta_o27vc_623",l_e="_cardNotes_o27vc_635",c_e="_emptyState_o27vc_659",d_e="_sheetBackdrop_o27vc_675",u_e="_sheet_o27vc_675",h_e="_sheetHandle_o27vc_717",p_e="_sheetBody_o27vc_733",m_e="_sheetLabel_o27vc_749",g_e="_sheetActions_o27vc_785",f_e="_overlay_o27vc_797",v_e="_drawer_o27vc_837",x_e="_modal_o27vc_845",y_e="_panelHeader_o27vc_853",b_e="_section_o27vc_867",__e="_tagRow_o27vc_899",w_e="_historyList_o27vc_913",j_e="_panelFooter_o27vc_943",S_e="_formOverlay_o27vc_955",N_e="_formGrid_o27vc_1003",k_e="_warning_o27vc_1015",C_e="_pagination_o27vc_1033",Re={page:_be,header:wbe,headerStack:jbe,kicker:Sbe,title:Nbe,headerActions:kbe,primaryAction:Cbe,secondaryAction:Ibe,infoStrip:Tbe,infoPill:Ebe,freshnessWrapper:Abe,freshnessBadge:Pbe,popover:Rbe,popoverLabel:Lbe,filterToolbar:Dbe,filterSheetButton:Mbe,inlineFilters:Fbe,searchInput:$be,select:Bbe,chipGroup:Obe,chip:Vbe,chipActive:Ube,levelRow:zbe,sortControls:Hbe,sortLabel:Gbe,directionButton:Wbe,listBody:Kbe,tableWrapper:qbe,table:Qbe,cardFooter:Ybe,panel:Xbe,formPanel:Jbe,statusSelect:Zbe,stickyColumn:e_e,rowButton:t_e,scanBadge:s_e,cardList:n_e,card:r_e,cardHeader:i_e,cardTitle:a_e,cardMeta:o_e,cardNotes:l_e,emptyState:c_e,sheetBackdrop:d_e,sheet:u_e,sheetHandle:h_e,sheetBody:p_e,sheetLabel:m_e,sheetActions:g_e,overlay:f_e,drawer:v_e,modal:x_e,panelHeader:y_e,section:b_e,tagRow:__e,historyList:w_e,panelFooter:j_e,formOverlay:S_e,formGrid:N_e,warning:k_e,pagination:C_e},dv=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],uv=["EU-01","EU-02","US-01","US-02","ASIA-01"],Iw={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},bI={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},K0={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},I_e=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:gl(2),updatedAt:gl(3),freshness:"f1",history:[{date:xi(1),message:"Interview abgeschlossen"},{date:xi(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:gl(10),updatedAt:gl(11),freshness:"f3",history:[{date:xi(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:gl(20),updatedAt:gl(5),freshness:"f4",history:[{date:xi(4),message:"Probe erfolgreich"},{date:xi(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:xi(2),updatedAt:xi(2),freshness:"f5",history:[{date:xi(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:xi(3),updatedAt:xi(1),freshness:"f6",history:[{date:xi(1),message:"Bewerbung zurueckgezogen"},{date:xi(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:gl(5),updatedAt:gl(5),freshness:"f2",history:[{date:xi(1),message:"Profil verifiziert"}]}];function _I(s){return{...s,lvMin:Math.max(1,s.lvMin),lvMax:Math.max(s.lvMin,Math.min(200,s.lvMax)),page:Math.max(1,s.page),pageSize:Math.min(25,Math.max(4,s.pageSize)),classes:Array.from(new Set(s.classes)),servers:Array.from(new Set(s.servers))}}function T_e(s,e,n){const r=n.toLowerCase();return s.filter(i=>{const a=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),l=e.status==="all"||i.status===e.status,c=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),h=i.level>=e.lvMin&&i.level<=e.lvMax;return a&&l&&c&&u&&h})}function E_e(s,e,n){const r=[...s];return r.sort((i,a)=>{let l=0;switch(e){case"name":l=i.name.localeCompare(a.name);break;case"level":l=i.level-a.level;break;case"status":l=i.status.localeCompare(a.status);break;case"lastScan":l=new Date(i.lastScanAt).getTime()-new Date(a.lastScanAt).getTime();break;case"updatedAt":default:l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break}return n==="asc"?l:-l}),r}function A_e(s,e,n){const r=(e-1)*n;return s.slice(r,r+n)}function Sf(s){return new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function P_e(s){const e=Date.now()-new Date(s).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function R_e(s){return s.length?s.reduce((e,n)=>e?bI[n.freshness]>bI[e.freshness]?n:e:n,null):null}function xi(s){const e=new Date;return e.setDate(e.getDate()-s),e.toISOString()}function gl(s){const e=new Date;return e.setHours(e.getHours()-s),e.toISOString()}function L_e(){var z;const[s,e]=Q.useState(I_e),[n,r]=Q.useState(K0),[i,a]=Q.useState(K0),l=ju(n.q,300),c=Q.useMemo(()=>{const W=T_e(s,n,l);return E_e(W,n.sort,n.dir)},[s,n,l]),u=Q.useMemo(()=>A_e(c,n.page,n.pageSize),[c,n.page,n.pageSize]),h=Math.max(1,Math.ceil(c.length/n.pageSize)),p=Su("(min-width: 768px)"),g=Su("(min-width: 1024px)"),[x,b]=Q.useState(!1),[_,S]=Q.useState(null),C=(z=s.find(W=>W.id===_))!=null?z:null,A=Q.useRef(null);Nu(A,!!C&&!g);const[M,j]=Q.useState(null),[y,w]=Q.useState(!1),P=Q.useRef(null);Nu(P,y);const N=Q.useMemo(()=>R_e(s),[s]),k=N&&N.lastScanAt?P_e(N.lastScanAt):"unbekannt",T=W=>{const G=_I(W);r(G),a(G)},L=(W,G)=>{const K=_I({...n,[W]:G,page:W==="page"?G:1});T(K)},R=()=>{T(i),b(!1)},$=()=>{T(K0),b(!1)},B=(W,G)=>{e(K=>K.map(te=>te.id===W?{...te,status:G,updatedAt:new Date().toISOString()}:te))},H=W=>{e(G=>G.some(te=>te.id===W.id)?G.map(te=>te.id===W.id?W:te):[W,...G]),w(!1)};return t.jsxs(Ht,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[t.jsxs("div",{className:Re.page,children:[t.jsxs("header",{className:Re.header,children:[t.jsxs("div",{className:Re.headerStack,children:[t.jsxs("div",{children:[t.jsx("p",{className:Re.kicker,children:"Recruiting"}),t.jsx("h1",{className:Re.title,children:"Waitlist"})]}),t.jsxs("div",{className:Re.headerActions,children:[t.jsx("button",{type:"button",className:Re.primaryAction,onClick:()=>{j(null),w(!0)},children:"Neuer Eintrag"}),!p&&t.jsx("button",{type:"button",className:Re.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>b(!0),children:"Filter"})]})]}),t.jsxs("div",{className:Re.infoStrip,children:[t.jsx(q0,{label:"Neu",value:c.filter(W=>W.status==="new").length}),t.jsx(q0,{label:"In Review",value:c.filter(W=>W.status==="in_review").length}),t.jsx(q0,{label:"Zugesagt",value:c.filter(W=>W.status==="accepted").length}),N&&t.jsx(D_e,{label:Iw[N.freshness],updatedAt:N.lastScanAt,countdown:k})]})]}),t.jsx("section",{className:Re.filterToolbar,children:p?t.jsx(M_e,{filters:n,onChange:L,onToggleClass:W=>{const G=n.classes.includes(W)?n.classes.filter(K=>K!==W):[...n.classes,W];L("classes",G)},onToggleServer:W=>{const G=n.servers.includes(W)?n.servers.filter(K=>K!==W):[...n.servers,W];L("servers",G)}}):t.jsx("button",{type:"button",className:Re.filterSheetButton,onClick:()=>b(!0),children:"Filter & Sortierung"})}),t.jsx("section",{className:Re.listBody,children:p?t.jsx(F_e,{items:u,sort:n.sort,dir:n.dir,onSortChange:W=>{const G=n.sort===W&&n.dir==="asc"?"desc":"asc";L("sort",W),L("dir",G)},onSelect:S,onStatusChange:B}):t.jsx($_e,{items:u,onSelect:S,onStatusChange:B})}),t.jsx(O_e,{page:n.page,totalPages:h,onChange:W=>L("page",W)})]}),x&&t.jsx(B_e,{filters:i,onChange:a,onToggleClass:W=>a(G=>({...G,classes:G.classes.includes(W)?G.classes.filter(K=>K!==W):[...G.classes,W]})),onToggleServer:W=>a(G=>({...G,servers:G.servers.includes(W)?G.servers.filter(K=>K!==W):[...G.servers,W]})),onClose:()=>b(!1),onApply:R,onReset:$}),C&&t.jsx(fP,{ref:A,item:C,mode:g?"drawer":"modal",onClose:()=>S(null),onEdit:()=>{j(C),w(!0),S(null)}}),y&&t.jsx(vP,{ref:P,item:M,entries:s,onClose:()=>w(!1),onSubmit:H})]})}function q0({label:s,value:e}){return t.jsxs("div",{className:Re.infoPill,children:[t.jsx("span",{children:s}),t.jsx("strong",{children:e})]})}function D_e({label:s,updatedAt:e,countdown:n}){const[r,i]=Q.useState(!1);return t.jsxs("div",{className:Re.freshnessWrapper,children:[t.jsx("button",{type:"button",className:Re.freshnessBadge,onClick:()=>i(a=>!a),"aria-expanded":r,children:s}),r&&t.jsxs("div",{className:Re.popover,children:[t.jsxs("div",{children:[t.jsx("span",{className:Re.popoverLabel,children:"Letzter Scan"}),t.jsx("strong",{children:Sf(e)})]}),t.jsxs("div",{children:[t.jsx("span",{className:Re.popoverLabel,children:"Aktualisiert"}),t.jsx("strong",{children:n})]})]})]})}function M_e({filters:s,onChange:e,onToggleClass:n,onToggleServer:r}){return t.jsxs("div",{className:Re.inlineFilters,children:[t.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:Re.searchInput,placeholder:"Suchen...",value:s.q,onChange:i=>e("q",i.target.value)}),t.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:Re.select,value:s.status,onChange:i=>e("status",i.target.value),children:[t.jsx("option",{value:"all",children:"Status (alle)"}),t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),t.jsx("div",{className:Re.chipGroup,children:dv.map(i=>{const a=s.classes.includes(i);return t.jsx("button",{type:"button",className:`${Re.chip} ${a?Re.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),t.jsx("div",{className:Re.chipGroup,children:uv.map(i=>{const a=s.servers.includes(i);return t.jsx("button",{type:"button",className:`${Re.chip} ${a?Re.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),t.jsxs("div",{className:Re.levelRow,children:[t.jsxs("label",{children:["Lv min",t.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:s.lvMin,min:1,max:s.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),t.jsxs("label",{children:["Lv max",t.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:s.lvMax,min:s.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),t.jsxs("div",{className:Re.sortControls,children:[t.jsx("label",{className:Re.sortLabel,children:"Sortieren"}),t.jsxs("select",{value:s.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[t.jsx("option",{value:"name",children:"Name"}),t.jsx("option",{value:"level",children:"Level"}),t.jsx("option",{value:"status",children:"Status"}),t.jsx("option",{value:"lastScan",children:"Letzter Scan"}),t.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),t.jsx("button",{type:"button",className:Re.directionButton,onClick:()=>e("dir",s.dir==="asc"?"desc":"asc"),children:s.dir==="asc"?"ASC":"DESC"})]})]})}function F_e({items:s,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a}){const l=c=>e===c?n==="asc"?" ":" ":"";return s.length?t.jsx("div",{className:Re.tableWrapper,children:t.jsxs("table",{className:Re.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{className:Re.stickyColumn,onClick:()=>r("name"),children:["Name",l("name")]}),t.jsx("th",{children:"Klasse"}),t.jsxs("th",{onClick:()=>r("level"),children:["Level",l("level")]}),t.jsx("th",{children:"Server"}),t.jsxs("th",{onClick:()=>r("status"),children:["Status",l("status")]}),t.jsx("th",{children:"Notizen"}),t.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",l("lastScan")]})]})}),t.jsx("tbody",{children:s.map(c=>t.jsxs("tr",{children:[t.jsx("td",{className:Re.stickyColumn,children:t.jsx("button",{type:"button",className:Re.rowButton,onClick:()=>i(c.id),children:c.name})}),t.jsx("td",{children:c.classRole}),t.jsx("td",{children:c.level}),t.jsx("td",{children:c.server}),t.jsx("td",{children:t.jsxs("select",{className:Re.statusSelect,name:`waitlistStatus-${c.id}`,"aria-label":`Status fuer ${c.name}`,value:c.status,onChange:u=>a(c.id,u.target.value),children:[t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),t.jsxs("td",{children:[c.notes.slice(0,64),"..."]}),t.jsx("td",{children:t.jsx("span",{className:Re.scanBadge,children:Iw[c.freshness]})})]},c.id))})]})}):t.jsx(gP,{})}function $_e({items:s,onSelect:e,onStatusChange:n}){return s.length?t.jsx("div",{className:Re.cardList,children:s.map(r=>t.jsxs("article",{className:Re.card,children:[t.jsxs("div",{className:Re.cardHeader,children:[t.jsxs("div",{children:[t.jsx("button",{type:"button",className:Re.cardTitle,onClick:()=>e(r.id),children:r.name}),t.jsxs("p",{className:Re.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),t.jsx("span",{className:Re.scanBadge,children:Iw[r.freshness]})]}),t.jsxs("p",{className:Re.cardNotes,children:[r.notes.slice(0,160),"..."]}),t.jsxs("div",{className:Re.cardFooter,children:[t.jsxs("select",{className:Re.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),t.jsx("button",{type:"button",className:Re.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):t.jsx(gP,{})}function gP(){return t.jsx("div",{className:Re.emptyState,children:t.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function B_e({filters:s,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:a,onReset:l}){return t.jsx("div",{className:Re.sheetBackdrop,onClick:i,children:t.jsxs("div",{className:Re.sheet,onClick:c=>c.stopPropagation(),children:[t.jsx("div",{className:Re.sheetHandle}),t.jsxs("div",{className:Re.sheetBody,children:[t.jsx("h2",{children:"Filter"}),t.jsxs("label",{className:Re.sheetLabel,children:["Suche",t.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:s.q,onChange:c=>e(u=>({...u,q:c.target.value}))})]}),t.jsxs("label",{className:Re.sheetLabel,children:["Status",t.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:s.status,onChange:c=>e(u=>({...u,status:c.target.value})),children:[t.jsx("option",{value:"all",children:"Alle"}),t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),t.jsxs("div",{className:Re.sheetLabel,children:["Klassen",t.jsx("div",{className:Re.chipGroup,children:dv.map(c=>{const u=s.classes.includes(c);return t.jsx("button",{type:"button",className:`${Re.chip} ${u?Re.chipActive:""}`,"aria-label":`Klasse ${c}`,onClick:()=>n(c),children:c},c)})})]}),t.jsxs("div",{className:Re.sheetLabel,children:["Server",t.jsx("div",{className:Re.chipGroup,children:uv.map(c=>{const u=s.servers.includes(c);return t.jsx("button",{type:"button",className:`${Re.chip} ${u?Re.chipActive:""}`,"aria-label":`Server ${c}`,onClick:()=>r(c),children:c},c)})})]}),t.jsxs("div",{className:Re.levelRow,children:[t.jsxs("label",{children:["Lv min",t.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:s.lvMin,onChange:c=>e(u=>({...u,lvMin:Number(c.target.value)}))})]}),t.jsxs("label",{children:["Lv max",t.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:s.lvMax,onChange:c=>e(u=>({...u,lvMax:Number(c.target.value)}))})]})]})]}),t.jsxs("div",{className:Re.sheetActions,children:[t.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),t.jsx("button",{type:"button",className:Re.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const fP=Q.forwardRef(({item:s,mode:e,onClose:n,onEdit:r},i)=>t.jsx("div",{className:Re.overlay,children:t.jsxs("div",{ref:i,className:`${Re.panel} ${e==="drawer"?Re.drawer:Re.modal}`,children:[t.jsxs("header",{className:Re.panelHeader,children:[t.jsxs("div",{children:[t.jsxs("p",{className:Re.cardMeta,children:[s.classRole," - Lv ",s.level," - ",s.server]}),t.jsx("h2",{children:s.name})]}),t.jsx("button",{type:"button",className:Re.secondaryAction,onClick:n,children:"Schliessen"})]}),t.jsxs("section",{className:Re.section,children:[t.jsx("h3",{children:"Kontakt"}),t.jsx("p",{children:s.contact}),t.jsxs("p",{children:["Quelle: ",s.source]})]}),t.jsxs("section",{className:Re.section,children:[t.jsx("h3",{children:"Notizen"}),t.jsx("p",{children:s.notes})]}),t.jsxs("section",{className:Re.section,children:[t.jsx("h3",{children:"Tags"}),t.jsx("div",{className:Re.tagRow,children:s.tags.length?s.tags.map(a=>t.jsx("span",{children:a},a)):t.jsx("span",{children:"Keine"})})]}),t.jsxs("section",{className:Re.section,children:[t.jsx("h3",{children:"Historie"}),t.jsx("ul",{className:Re.historyList,children:s.history.map(a=>t.jsxs("li",{children:[t.jsx("span",{children:Sf(a.date)}),t.jsx("p",{children:a.message})]},`${a.date}-${a.message}`))})]}),t.jsxs("section",{className:Re.section,children:[t.jsx("h3",{children:"Scan-Infos"}),t.jsxs("p",{children:["Letzter Scan: ",Sf(s.lastScanAt)]}),t.jsxs("p",{children:["Aktualisiert: ",Sf(s.updatedAt)]})]}),t.jsxs("footer",{className:Re.panelFooter,children:[t.jsx("button",{type:"button",className:Re.secondaryAction,onClick:r,children:"Bearbeiten"}),t.jsx("button",{type:"button",className:Re.primaryAction,onClick:n,children:"Schliessen"})]})]})}));fP.displayName="DetailPanel";const vP=Q.forwardRef(({item:s,entries:e,onClose:n,onSubmit:r},i)=>{const[a,l]=Q.useState(()=>s!=null?s:{id:`wl-${Date.now()}`,name:"",classRole:dv[0],level:1,server:uv[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});Q.useEffect(()=>{s&&l(s)},[JSON.stringify(s)]);const c=h=>{h.preventDefault(),r({...a,updatedAt:new Date().toISOString()})},u=e.some(h=>h.id!==a.id&&h.name.toLowerCase()===a.name.toLowerCase()&&h.server===a.server);return t.jsx("div",{className:Re.formOverlay,children:t.jsxs("form",{ref:i,className:Re.formPanel,onSubmit:c,children:[t.jsxs("header",{className:Re.panelHeader,children:[t.jsxs("div",{children:[t.jsx("p",{className:Re.cardMeta,children:s?"Bearbeiten":"Neu"}),t.jsx("h2",{children:s?s.name:"Neuer Bewerber"})]}),t.jsx("button",{type:"button",className:Re.secondaryAction,onClick:n,children:"Schliessen"})]}),u&&t.jsx("div",{className:Re.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),t.jsxs("label",{className:Re.sheetLabel,children:["Name",t.jsx("input",{name:"waitlistFormName",value:a.name,onChange:h=>l(p=>({...p,name:h.target.value}))})]}),t.jsxs("div",{className:Re.formGrid,children:[t.jsxs("label",{children:["Klasse",t.jsx("select",{name:"waitlistFormClass",value:a.classRole,onChange:h=>l(p=>({...p,classRole:h.target.value})),children:dv.map(h=>t.jsx("option",{value:h,children:h},h))})]}),t.jsxs("label",{children:["Level",t.jsx("input",{type:"number",name:"waitlistFormLevel",value:a.level,min:1,max:200,onChange:h=>l(p=>({...p,level:Number(h.target.value)}))})]}),t.jsxs("label",{children:["Server",t.jsx("select",{name:"waitlistFormServer",value:a.server,onChange:h=>l(p=>({...p,server:h.target.value})),children:uv.map(h=>t.jsx("option",{value:h,children:h},h))})]}),t.jsxs("label",{children:["Status",t.jsxs("select",{name:"waitlistFormStatus",value:a.status,onChange:h=>l(p=>({...p,status:h.target.value})),children:[t.jsx("option",{value:"new",children:"Neu"}),t.jsx("option",{value:"in_review",children:"In Review"}),t.jsx("option",{value:"accepted",children:"Zugesagt"}),t.jsx("option",{value:"declined",children:"Abgelehnt"}),t.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),t.jsxs("label",{className:Re.sheetLabel,children:["Kontakt",t.jsx("input",{name:"waitlistFormContact",value:a.contact,onChange:h=>l(p=>({...p,contact:h.target.value}))})]}),t.jsxs("label",{className:Re.sheetLabel,children:["Quelle",t.jsx("input",{name:"waitlistFormSource",value:a.source,onChange:h=>l(p=>({...p,source:h.target.value}))})]}),t.jsxs("label",{className:Re.sheetLabel,children:["Notizen",t.jsx("textarea",{name:"waitlistFormNotes",value:a.notes,onChange:h=>l(p=>({...p,notes:h.target.value})),rows:4})]}),t.jsxs("footer",{className:Re.panelFooter,children:[t.jsx("button",{type:"button",className:Re.secondaryAction,onClick:n,children:"Abbrechen"}),t.jsx("button",{type:"submit",className:Re.primaryAction,children:"Speichern"})]})]})})});vP.displayName="WaitlistForm";function O_e({page:s,totalPages:e,onChange:n}){return t.jsxs("div",{className:Re.pagination,children:[t.jsx("button",{type:"button",className:Re.secondaryAction,onClick:()=>n(Math.max(1,s-1)),disabled:s===1,children:"Zurueck"}),t.jsxs("span",{children:["Seite ",s," / ",e]}),t.jsx("button",{type:"button",className:Re.secondaryAction,onClick:()=>n(Math.min(e,s+1)),disabled:s===e,children:"Weiter"})]})}const V_e=["tab","sub","sub2","q","sort","dir","page","pageSize"];function $u(s=[]){const[e,n]=Fo(),r=Q.useMemo(()=>[...s].sort().join("|"),[s]),i=Q.useMemo(()=>{const p=new Set([...V_e]);return s.forEach(g=>p.add(g)),Array.from(p)},[r]),a=Q.useMemo(()=>{const p={};return i.forEach(g=>{const x=e.get(g);x!==null&&(p[g]=x)}),p},[e,i]),l=Q.useCallback((p,g)=>{var b;const x=new URLSearchParams(e);Object.entries(p).forEach(([_,S])=>{S==null||S===""?x.delete(_):x.set(_,String(S))}),n(x,{replace:(b=g==null?void 0:g.replace)!=null?b:!1})},[e,n]),c=Q.useCallback(p=>{const g=new URLSearchParams(e);(p&&p.length>0?p:i).forEach(b=>g.delete(b)),n(g,{replace:!0})},[e,n,i]),u=Q.useCallback((p,g="")=>{var x;return(x=a[p])!=null?x:g},[a]),h=Q.useCallback((p,g=0)=>{const x=a[p],b=x?Number(x):NaN;return Number.isFinite(b)?b:g},[a]);return{params:a,getParam:u,getNumberParam:h,writeParams:l,resetParams:c}}function U_e(){return $u(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Activity"})})}function z_e(){return $u(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Imports"})})}function H_e(){return $u(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Announcements"})})}function G_e(){return $u(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Events"})})}function W_e(){return $u(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Roles"})})}function K_e(){return $u(),t.jsx("section",{style:{padding:16},children:t.jsx("h1",{children:"Guild Hub - Settings"})})}const q_e=[{icon:t.jsx(Sv,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:t.jsx(p7,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:t.jsx(n7,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],Q_e=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],Y_e=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function X_e(){return t.jsx(Ht,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ks,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),t.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:t.jsx(J_e,{}),right:t.jsx(Z_e,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:q_e.map(s=>t.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.icon,s.label]}),t.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:s.value})]})}),t.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:s.hint})]},s.label))}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),t.jsx(ks,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),t.jsx("ul",{className:"space-y-3",children:Q_e.map(s=>t.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.jsx(R_,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.title]}),t.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",s.scope]})]}),t.jsx("span",{className:"text-xs text-[#8AA5C4]",children:s.time})]})},s.id))})]})]})})}function J_e(){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),t.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[t.jsx(ks,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),t.jsx(ks,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),t.jsx(ks,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),t.jsx(ks,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),t.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[t.jsx("li",{children:" Pager rotation: Ops Team"}),t.jsx("li",{children:" Slack channel: #sf-alerts"}),t.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function Z_e(){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),t.jsx("ul",{className:"mt-3 space-y-2",children:Y_e.map(s=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:s.env}),t.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:s.version}),t.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:s.status}),t.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:s.time})]},s.env))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),t.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const e1e=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function t1e(){return t.jsx(Ht,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:t.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[t.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[t.jsx("span",{children:"ID"}),t.jsx("span",{children:"Time"}),t.jsx("span",{children:"Service"}),t.jsx("span",{className:"text-right",children:"Severity"})]}),t.jsx("ul",{children:e1e.map(s=>t.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("span",{className:"font-mono text-[#8AA5C4]",children:s.id}),t.jsx("span",{className:"text-xs text-[#B0C4D9]",children:s.time}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:s.service}),t.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:s.message})]}),t.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:s1e(s.severity)},children:s.severity})]},s.id))})]})})}function s1e(s){switch(s){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const pa={background:"#152A42",borderColor:"#2B4C73"},eu={background:"#1A2F4A",borderColor:"#2B4C73"},Q0=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function n1e(){const{data:s,loading:e,refreshing:n,error:r,refresh:i}=o1e(),a=Q.useMemo(()=>[{label:"Total uploads",value:Oi(s.metrics.totalUploads),hint:`${Oi(s.metrics.last24h)} in the last 24h`,icon:t.jsx(wD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:Rp(s.metrics.successRate),hint:`${Oi(s.metrics.failed)} failed`,icon:t.jsx(dD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:s.metrics.avgProcessingMs?Y0(s.metrics.avgProcessingMs):"",hint:s.metrics.p95ProcessingMs?`p95 ${Y0(s.metrics.p95ProcessingMs)}`:"Awaiting data",icon:t.jsx(bD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:wI(s.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:t.jsx(kD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Oi(s.metrics.uniqueUploaders),hint:`${Oi(s.metrics.uniqueGuilds)} guilds represented`,icon:t.jsx(Sv,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Oi(s.recentFailures.length),hint:"Latest 5 shown on the right",icon:t.jsx(XT,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[s]);return t.jsx(Ht,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:t.jsx(r1e,{breakdown:s.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:t.jsx(i1e,{issues:s.issues,failures:s.recentFailures,uploaders:s.topUploaders,guilds:s.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(l=>t.jsxs("article",{className:"rounded-2xl border p-4",style:pa,children:[t.jsx("div",{className:"flex items-start justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[l.icon,l.label]}),t.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:l.value})]})}),t.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:l.hint})]},l.label))}),t.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[t.jsxs("article",{className:"rounded-2xl border p-4",style:pa,children:[t.jsx("header",{className:"flex items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),t.jsx("ul",{className:"mt-4 space-y-3",children:s.statusBreakdown.map(l=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:eu,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:tu(l.status)},"aria-hidden":"true"}),Tw(l.status)]}),t.jsx("span",{className:"font-semibold",children:Oi(l.count)})]}),t.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:t.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(l.share*100,100).toFixed(1)}%`,backgroundColor:tu(l.status)}})}),t.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[Rp(l.share)," of window"]})]},l.status))})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:pa,children:[t.jsx("header",{className:"flex items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),t.jsx("ul",{className:"mt-4 space-y-3",children:s.timeline.map(l=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:eu,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsx("span",{className:"font-semibold",children:l.hourLabel}),t.jsxs("span",{children:[Oi(l.total)," uploads"]})]}),t.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:tu("success")},"aria-hidden":"true"}),"Success ",Oi(l.success)]}),t.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[t.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:tu("failed")},"aria-hidden":"true"}),"Failed ",Oi(l.failed)]})]})]},l.hourLabel))})]})]}),t.jsxs("section",{className:"rounded-2xl border",style:pa,children:[t.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),t.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx(Al,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?t.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[t.jsx(R_,{className:"h-3.5 w-3.5"}),r]}):t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx(sD,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),t.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[t.jsx("span",{children:"ID"}),t.jsx("span",{children:"Status"}),t.jsx("span",{children:"Uploader"}),t.jsx("span",{children:"Guild"}),t.jsx("span",{className:"text-right",children:"Processing"}),t.jsx("span",{className:"text-right",children:"File size"})]}),t.jsx("ul",{children:s.recentUploads.map(l=>{var c,u,h,p;return t.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[t.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:l.id}),t.jsx("span",{children:t.jsx(a1e,{status:l.status})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(c=l.uploaderName)!=null?c:l.uploaderId)!=null?u:""}),t.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.uploadedAt?l.uploadedAt.toLocaleString():"Timestamp missing"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(p=(h=l.guildName)!=null?h:l.guildId)!=null?p:""}),t.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.errorCode?`Issue: ${l.errorCode}`:"Healthy"})]}),t.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.processingMs?Y0(l.processingMs):"Pending"}),t.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.fileSizeBytes?wI(l.fileSizeBytes):""})]},l.id)})})]})]})})}function r1e({breakdown:s,onRefresh:e,loading:n,refreshing:r}){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{className:"rounded-2xl border p-4",style:pa,children:[t.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[t.jsx("span",{children:"Controls"}),t.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[t.jsx(jv,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),t.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),t.jsxs("div",{className:"rounded-2xl border p-4",style:pa,children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:s.map(i=>t.jsxs("li",{className:"flex items-center justify-between gap-2",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:tu(i.status)},"aria-hidden":"true"}),Tw(i.status)]}),t.jsx("span",{children:Rp(i.share)})]},i.status))}),n&&t.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[t.jsx(Al,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),t.jsxs("div",{className:"rounded-2xl border p-4",style:pa,children:[t.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),t.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(af,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(af,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(af,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function i1e({issues:s,failures:e,uploaders:n,guilds:r}){return t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("article",{className:"rounded-2xl border p-4",style:pa,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(XT,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.jsx("span",{children:"Top failure signatures"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:s.length===0?t.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):s.map(i=>t.jsxs("li",{className:"rounded-xl border px-3 py-2",style:eu,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsx("span",{children:i.code}),t.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),t.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:pa,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(R_,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),t.jsx("span",{children:"Latest failed uploads"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?t.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var a;return t.jsxs("li",{className:"rounded-xl border px-3 py-2",style:eu,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[t.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),t.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),t.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(a=i.errorCode)!=null?a:"No error code provided"})]},i.id)})})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:pa,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(Sv,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Uploader leaderboard"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>t.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:eu,children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),t.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Rp(i.successRate)]})]}),t.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Oi(i.count)})]},i.id))})]}),t.jsxs("article",{className:"rounded-2xl border p-4",style:pa,children:[t.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[t.jsx(TD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),t.jsx("span",{children:"Guild spotlight"})]}),t.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>t.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:eu,children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),t.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Rp(i.successRate)]})]}),t.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Oi(i.count)})]},i.id))})]})]})}function a1e({status:s}){const e=tu(s);return t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[t.jsx(af,{className:"h-3 w-3","aria-hidden":"true"}),Tw(s)]})}function o1e(){const[s,e]=Q.useState(Q0),[n,r]=Q.useState(!0),[i,a]=Q.useState(!1),[l,c]=Q.useState(null),u=Q.useCallback(async(p=!1)=>{const g=Xn("AdminScansUploaded:overview");p?a(!0):r(!0);try{const x=qa(yt,"scanUploads"),b=Pn(x,Si("uploadedAt","desc"),Qn(100)),S=(await pn(g,x,()=>rn(b))).docs.map(C=>l1e(C.id,C.data()));S.length>0?(e(S),c(null)):(e(Q0),c("No uploads in window - showing fallback snapshot"))}catch(x){console.error("[ScansUploaded] Failed to load Firestore data",x),c("Live data unavailable - fallback snapshot active"),e(Q0)}finally{hn(g),p?a(!1):r(!1)}},[]);Q.useEffect(()=>{u(!1)},[u]);const h=Q.useMemo(()=>d1e(s),[s]);return{loading:n,refreshing:i,error:l,data:h,refresh:Q.useCallback(()=>u(!0),[u])}}function l1e(s,e){const n=c1e(e.status);return{id:s,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof Gs?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function c1e(s){return s==="success"||s==="failed"||s==="processing"||s==="queued"?s:"unknown"}function d1e(s){var T,L;const e=new Map,n=new Map,r=new Map,i=new Map,a=[];let l=0,c=0;const h=Date.now()-1440*60*1e3,p=new Map;s.forEach(R=>{var z,W,G,K,te,X,U,J,se,ne,ue,we,Me,ee,ge,oe,ye;const $=(z=e.get(R.status))!=null?z:0;if(e.set(R.status,$+1),R.uploadedAt&&R.uploadedAt.getTime()>=h&&(c+=1),R.processingMs!=null&&a.push(R.processingMs),R.fileSizeBytes!=null&&(l+=R.fileSizeBytes),R.status==="failed"&&R.errorCode){const je=(W=n.get(R.errorCode))!=null?W:{count:0,lastSeen:null};n.set(R.errorCode,{count:je.count+1,lastSeen:!je.lastSeen||R.uploadedAt&&je.lastSeen<R.uploadedAt?R.uploadedAt:je.lastSeen})}const B=(K=(G=R.uploaderId)!=null?G:R.uploaderName)!=null?K:`anon-${R.id}`,H=(U=r.get(B))!=null?U:{name:(X=(te=R.uploaderName)!=null?te:R.uploaderId)!=null?X:"Unknown",success:0,total:0};if(r.set(B,{name:(se=(J=R.uploaderName)!=null?J:R.uploaderId)!=null?se:"Unknown",success:H.success+(R.status==="success"?1:0),total:H.total+1}),R.guildId||R.guildName){const je=(ue=(ne=R.guildId)!=null?ne:R.guildName)!=null?ue:`guild-${R.id}`,ke=(ee=i.get(je))!=null?ee:{name:(Me=(we=R.guildName)!=null?we:R.guildId)!=null?Me:"Unknown",success:0,total:0};i.set(je,{name:(oe=(ge=R.guildName)!=null?ge:R.guildId)!=null?oe:"Unknown",success:ke.success+(R.status==="success"?1:0),total:ke.total+1})}if(R.uploadedAt){const je=new Date(R.uploadedAt);je.setMinutes(0,0,0);const ke=je.toISOString(),qe=(ye=p.get(ke))!=null?ye:{hourLabel:h1e(je),timestamp:je,total:0,success:0,failed:0};p.set(ke,{hourLabel:qe.hourLabel,timestamp:qe.timestamp,total:qe.total+1,success:qe.success+(R.status==="success"?1:0),failed:qe.failed+(R.status==="failed"?1:0)})}});const g=s.length,x=(T=e.get("success"))!=null?T:0,b=(L=e.get("failed"))!=null?L:0,_=a.length?a.reduce((R,$)=>R+$,0)/a.length:null,S=a.length?u1e(a,95):null,C=r.size,A=i.size,M=Array.from(e.entries()).map(([R,$])=>({status:R,count:$,share:g?$/g:0})).sort((R,$)=>$.count-R.count),j=Array.from(p.values()).sort((R,$)=>$.timestamp.getTime()-R.timestamp.getTime()).slice(0,12),y=Array.from(n.entries()).map(([R,$])=>({code:R,...$})).sort((R,$)=>$.count-R.count).slice(0,6),w=[...s].sort((R,$)=>{var B,H,z,W;return((H=(B=$.uploadedAt)==null?void 0:B.getTime())!=null?H:0)-((W=(z=R.uploadedAt)==null?void 0:z.getTime())!=null?W:0)}).slice(0,12),P=s.filter(R=>R.status==="failed").sort((R,$)=>{var B,H,z,W;return((H=(B=$.uploadedAt)==null?void 0:B.getTime())!=null?H:0)-((W=(z=R.uploadedAt)==null?void 0:z.getTime())!=null?W:0)}),N=Array.from(r.entries()).map(([R,$])=>({id:R,name:$.name,count:$.total,successRate:$.total?$.success/$.total:0})).sort((R,$)=>$.count-R.count).slice(0,5),k=Array.from(i.entries()).map(([R,$])=>({id:R,name:$.name,count:$.total,successRate:$.total?$.success/$.total:0})).sort((R,$)=>$.count-R.count).slice(0,5);return{metrics:{totalUploads:g,last24h:c,successRate:g?x/g:0,failed:b,avgProcessingMs:_,p95ProcessingMs:S,uniqueUploaders:C,uniqueGuilds:A,totalFileSizeBytes:l},statusBreakdown:M,timeline:j,issues:y,recentFailures:P,recentUploads:w,topUploaders:N,topGuilds:k}}function u1e(s,e){const n=[...s].sort((c,u)=>c-u);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),a=Math.ceil(r);if(i===a)return n[i];const l=r-i;return n[i]*(1-l)+n[a]*l}function Oi(s){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(s)}function Rp(s){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:s>0&&s<.1?1:0,maximumFractionDigits:1}).format(s)}function Y0(s){return s<1e3?`${s.toFixed(0)}ms`:`${(s/1e3).toFixed(1)}s`}function wI(s){if(s<=0)return"0 B";const e=["B","KB","MB","GB"];let n=s,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function tu(s){switch(s){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function Tw(s){switch(s){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function h1e(s){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(s)}function X0({label:s,value:e,hint:n}){return t.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:s}),t.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&t.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function p1e(){var c,u,h,p,g,x;const{snapshot:s,error:e,loading:n,refresh:r}=nP(),i=(c=s==null?void 0:s.warnings)!=null?c:[],a=(h=(u=s==null?void 0:s.data)==null?void 0:u.length)!=null?h:0,l=(p=s==null?void 0:s.stats)!=null?p:{};return t.jsx(Ht,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsx(X0,{label:"Last successful sync",value:s!=null&&s.generatedAt?new Date(s.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),t.jsx(X0,{label:"Creators tracked",value:a?a.toString():"0"}),t.jsx(X0,{label:"API lookups",value:`${(g=l.youtubeLookups)!=null?g:0}  ${(x=l.twitchLookups)!=null?x:0}`,hint:"YouTube  Twitch"})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsxs("header",{className:"mb-3",children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?t.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):t.jsx("ul",{className:"space-y-2",children:i.map((b,_)=>t.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[t.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[b.creator,"  ",b.scope]}),t.jsx("div",{className:"text-xs text-[#B0C4D9]",children:b.message}),b.source&&t.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:b.source})]},`${b.scope}-${_}`))})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[t.jsxs("header",{className:"mb-3",children:[t.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),t.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),t.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[t.jsxs("li",{children:["Add the following environment variables (e.g. in ",t.jsx("code",{children:".env.local"}),"):",t.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),t.jsxs("li",{children:["Execute the sync script:",t.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),t.jsxs("li",{children:["Commit/deploy the generated ",t.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&t.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const nx=`${va}/admin/users`,m1e=25,Ew=()=>{if(!nx)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},jI=s=>typeof s!="number"?null:Gs.fromMillis(s),Aw=s=>{var e;return{id:s.id,userId:s.userId,displayName:s.displayName,avatarUrl:s.avatarUrl,primaryProvider:(e=s.primaryProvider)!=null?e:"discord",roles:s.roles,providers:s.providers,profile:s.profile,createdAt:jI(s.createdAt),lastLoginAt:jI(s.lastLoginAt),status:s.status,notes:s.notes}},g1e=s=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=s.pageSize)!=null?r:m1e)),s.cursor&&e.set("cursor",s.cursor),s.role&&e.set("role",s.role),s.status&&e.set("status",s.status),s.provider&&e.set("provider",s.provider),s.search&&e.set("search",s.search);const n=e.toString();return n?`?${n}`:""},Pw=async s=>{let e=`Request failed (${s.status})`;try{const n=await s.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function SI(s={}){var r;Ew();const e=g1e(s),n=`${nx}${e}`;try{const i=await fetch(n,{credentials:"include"});if(!i.ok)throw await Pw(i);const a=await i.json();return{users:a.users.map(Aw),nextPageCursor:(r=a.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function f1e(s){Ew();const e=await fetch(`${nx}/${encodeURIComponent(s)}`,{credentials:"include"});if(!e.ok)throw await Pw(e);const n=await e.json();return Aw(n.user)}async function v1e(s,e){Ew();const n=await fetch(`${nx}/${encodeURIComponent(s)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw await Pw(n);const r=await n.json();return Aw(r.user)}const xP=`${va}/admin/audit-events`,x1e=50,y1e=()=>{if(!xP)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},b1e=s=>typeof s!="number"?null:Gs.fromMillis(s),_1e=s=>{var e,n;return{id:s.id,createdAt:b1e(s.createdAt),actorUserId:s.actorUserId,actorDisplayName:(e=s.actorDisplayName)!=null?e:null,targetUserId:s.targetUserId,action:s.action,summary:s.summary,changes:(n=s.changes)!=null?n:{},context:s.context}},w1e=s=>{var r;const e=new URLSearchParams;e.set("limit",String((r=s.limit)!=null?r:x1e)),s.cursor&&e.set("cursor",s.cursor),s.actorUserId&&e.set("actorUserId",s.actorUserId),s.targetUserId&&e.set("targetUserId",s.targetUserId),s.action&&e.set("action",s.action);const n=e.toString();return n?`?${n}`:""},j1e=async s=>{let e=`Request failed (${s.status})`;try{const n=await s.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function u_(s={}){var i;y1e();const e=`${xP}${w1e(s)}`,n=await fetch(e,{credentials:"include"});if(!n.ok)throw await j1e(n);const r=await n.json();return{events:r.events.map(_1e),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function S1e(s,e=10){return u_({targetUserId:s,limit:e})}const N1e=20,k1e=50,op={borderColor:"#2B4C73",background:"#152A42"},yP={background:"#1A2F4A"};function C1e(){var c;const{status:s,user:e}=Gi(),n=(c=e==null?void 0:e.roles)!=null?c:[],r=n.includes("admin"),i=r||n.includes("mod"),[a,l]=E.useState("users");return s==="loading"||s==="idle"?t.jsx(Ht,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:t.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[t.jsx(Al,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?t.jsx(Ht,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:t.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[t.jsx(Qc,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:t.jsx(I1e,{activeTab:a,onChange:l}),children:a==="users"?t.jsx(T1e,{isAdmin:r}):t.jsx(E1e,{isAdmin:r,onSelectUser:u=>{l("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):t.jsx(Ht,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[t.jsx(JT,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),t.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),t.jsxs("p",{children:["You need at least the ",t.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function I1e({activeTab:s,onChange:e}){const n=[{key:"users",label:"Users",icon:t.jsx(Sv,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:t.jsx(e7,{className:"h-4 w-4"})}];return t.jsx("div",{className:"flex gap-2",children:n.map(r=>t.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${s===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":s===r.key,children:[r.icon,r.label]},r.key))})}function T1e({isAdmin:s}){const[e,n]=E.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=E.useState(""),a=p_(r,350);E.useEffect(()=>{n(oe=>oe.search===a?oe:{...oe,search:a})},[a]);const[l,c]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,h]=E.useState(0),p=E.useMemo(()=>({pageSize:N1e,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);E.useEffect(()=>{let oe=!1;return c(ye=>({...ye,loading:!0,error:null})),SI(p).then(ye=>{oe||c({items:ye.users,cursor:ye.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(ye=>{oe||c(je=>({...je,loading:!1,loadingMore:!1,error:ye instanceof Error?ye.message:"Failed to load users"}))}),()=>{oe=!0}},[p,u]);const g=()=>h(oe=>oe+1),x=async()=>{if(l.cursor){c(oe=>({...oe,loadingMore:!0,error:null}));try{const oe=await SI({...p,cursor:l.cursor});c(ye=>({items:[...ye.items,...oe.users],cursor:oe.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(oe){c(ye=>{var je;return{...ye,loadingMore:!1,error:(je=oe==null?void 0:oe.message)!=null?je:"Failed to load additional users"}})}}},[b,_]=E.useState(null),[S,C]=E.useState(null),[A,M]=E.useState(!1),[j,y]=E.useState(null),[w,P]=E.useState(""),[N,k]=E.useState(!1),[T,L]=E.useState(null),[R,$]=E.useState(!1),[B,H]=E.useState(!1),[z,W]=E.useState([]),[G,K]=E.useState(!1),[te,X]=E.useState(null),U=E.useRef(null);E.useEffect(()=>{U.current=b},[b]);const J=E.useRef(!1);E.useEffect(()=>{J.current=N},[N]);const se=E.useCallback(async oe=>{var ye;K(!0),X(null);try{const je=await S1e(oe,12);U.current===oe&&W(je.events)}catch(je){U.current===oe&&X((ye=je==null?void 0:je.message)!=null?ye:"Failed to load audit history")}finally{U.current===oe&&K(!1)}},[]);E.useEffect(()=>{var ke;if(!b){C(null),P(""),k(!1),W([]),X(null),H(!1);return}const oe=b,ye=l.items.find(qe=>qe.id===oe);ye?(C(ye),P((ke=ye.notes)!=null?ke:"")):(C(null),P("")),k(!1),M(!0),y(null);let je=!1;return f1e(oe).then(qe=>{var me;je||U.current!==oe||(C(qe),P((me=qe.notes)!=null?me:""),k(!1),M(!1))}).catch(qe=>{var me;je||U.current!==oe||(M(!1),y((me=qe==null?void 0:qe.message)!=null?me:"Failed to load user"))}),se(oe),()=>{je=!0}},[b,l.items,se]),E.useEffect(()=>{var ye;if(!b)return;const oe=l.items.find(je=>je.id===b);oe&&(C(je=>je&&je.id===oe.id?{...je,...oe}:oe),J.current||P((ye=oe.notes)!=null?ye:""))},[l.items,b]);const ne=E.useCallback(oe=>{c(ye=>({...ye,items:ye.items.map(je=>je.id===oe.id?oe:je)}))},[]),ue=E.useCallback(async oe=>{var ye,je;if(S){$(!0),L(null);try{const ke=await v1e(S.id,oe);C(ke),ne(ke),"notes"in oe&&(k(!1),P((ye=ke.notes)!=null?ye:"")),await se(ke.id)}catch(ke){L((je=ke==null?void 0:ke.message)!=null?je:"Failed to update user")}finally{$(!1)}}},[S,se,ne]),we=oe=>{if(!S||!s||oe==="user")return;const ye=new Set(S.roles);ye.has(oe)?ye.delete(oe):ye.add(oe),ye.add("user"),ue({roles:Array.from(ye)})},Me=oe=>{!S||!s||h_(S.status)===oe||oe==="banned"&&!window.confirm(`Ban ${lp(S)}? They will lose access to the control panel.`)||ue({status:oe})},ee=oe=>{P(oe),k(!0)},ge=()=>{!S||!s||!N||ue({notes:w.trim().length?w:null})};return E.useEffect(()=>{if(typeof window=="undefined")return;const oe=ye=>{const je=ye.detail;je!=null&&je.userId&&_(je.userId)};return window.addEventListener("sf-admin-open-user",oe),()=>{window.removeEventListener("sf-admin-open-user",oe)}},[]),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:op,children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[t.jsx(Pf,{className:"h-4 w-4 text-[#5C8BC6]"}),t.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:oe=>i(oe.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),t.jsx(Nf,{label:"Role",value:e.role,onChange:oe=>n(ye=>({...ye,role:oe})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),t.jsx(Nf,{label:"Status",value:e.status,onChange:oe=>n(ye=>({...ye,status:oe})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),t.jsx(Nf,{label:"Provider",value:e.provider,onChange:oe=>n(ye=>({...ye,provider:oe})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),t.jsx("div",{className:"ml-auto flex items-center gap-2",children:t.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[t.jsx(jv,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),t.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[t.jsxs("div",{className:"rounded-2xl border",style:op,children:[t.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsxs("span",{className:"text-[#B0C4D9]",children:[l.items.length," users ",e.search?"filtered":""]}),l.loading&&t.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[t.jsx(Al,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[t.jsx("thead",{style:yP,children:t.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[t.jsx("th",{className:"px-4 py-2",children:"User ID"}),t.jsx("th",{className:"px-4 py-2",children:"Display name"}),t.jsx("th",{className:"px-4 py-2",children:"Role"}),t.jsx("th",{className:"px-4 py-2",children:"Status"}),t.jsx("th",{className:"px-4 py-2",children:"Providers"}),t.jsx("th",{className:"px-4 py-2",children:"Created"}),t.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),t.jsx("tbody",{children:l.items.map(oe=>{var je,ke,qe;const ye=oe.id===b;return t.jsxs("tr",{onClick:()=>_(oe.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${ye?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[t.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:oe.userId}),t.jsx("td",{className:"px-4 py-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_P,{url:SP(oe),name:lp(oe)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:lp(oe)}),(je=oe.profile)!=null&&je.displayName&&oe.profile.displayName!==oe.displayName?t.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:oe.profile.displayName}):null]})]})}),t.jsx("td",{className:"px-4 py-2",children:t.jsx(wP,{role:jP(oe.roles)})}),t.jsx("td",{className:"px-4 py-2",children:t.jsx(P1e,{status:h_(oe.status)})}),t.jsx("td",{className:"px-4 py-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(hv,{provider:"discord",active:!!((ke=oe.providers)!=null&&ke.discord)}),t.jsx(hv,{provider:"google",active:!!((qe=oe.providers)!=null&&qe.google)})]})}),t.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:cu(oe.createdAt)}),t.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:cu(oe.lastLoginAt)})]},oe.id)})})]}),!l.loading&&!l.items.length&&t.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),l.error&&t.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[t.jsx(Gh,{className:"h-3.5 w-3.5"}),l.error]}),t.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsx("span",{className:"text-[#8AA5C4]",children:l.cursor?"More users available":"End of list"}),t.jsx("button",{type:"button",onClick:x,disabled:!l.cursor||l.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:l.loadingMore?"Loading...":"Load more"})]})]}),t.jsx("aside",{className:"rounded-2xl border p-3",style:op,children:S?t.jsx(A1e,{user:S,isAdmin:s,detailLoading:A,detailError:j,notesValue:w,notesDirty:N,onNotesChange:ee,onNotesSave:ge,onRoleToggle:we,onStatusChange:Me,actionError:T,actionPending:R,auditEntries:z,auditLoading:G,auditError:te,onRefreshAudit:()=>S&&se(S.id),showRawJson:B,toggleRawJson:()=>H(oe=>!oe)}):t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[t.jsx(xD,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function E1e({isAdmin:s,onSelectUser:e}){const[n,r]=E.useState({actor:"",target:"",action:"all"}),[i,a]=E.useState(""),[l,c]=E.useState(""),u=p_(i,350),h=p_(l,350);E.useEffect(()=>{r(A=>A.actor===u&&A.target===h?A:{...A,actor:u,target:h})},[u,h]);const[p,g]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[x,b]=E.useState(0),_=E.useMemo(()=>{const A=n.action==="all"?void 0:n.action,M=n.actor.includes(":")?n.actor:void 0,j=n.target.includes(":")?n.target:void 0;return{limit:k1e,action:A,actorUserId:M,targetUserId:j}},[n]);E.useEffect(()=>{let A=!1;return g(M=>({...M,loading:!0,error:null})),u_(_).then(M=>{A||g({items:M.events,cursor:M.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(M=>{A||g(j=>{var y;return{...j,loading:!1,loadingMore:!1,error:(y=M==null?void 0:M.message)!=null?y:"Failed to load audit log"}})}),()=>{A=!0}},[_,x]);const S=async()=>{if(p.cursor){g(A=>({...A,loadingMore:!0,error:null}));try{const A=await u_({..._,cursor:p.cursor});g(M=>({items:[...M.items,...A.events],cursor:A.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(A){g(M=>{var j;return{...M,loadingMore:!1,error:(j=A==null?void 0:A.message)!=null?j:"Failed to load more events"}})}}},C=E.useMemo(()=>{const A=n.actor.trim().toLowerCase(),M=n.target.trim().toLowerCase();return p.items.filter(j=>{var P;const y=!A||j.actorUserId.toLowerCase().includes(A)||((P=j.actorDisplayName)!=null?P:"").toLowerCase().includes(A),w=!M||j.targetUserId.toLowerCase().includes(M);return y&&w})},[p.items,n.actor,n.target]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:op,children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[t.jsx(Pf,{className:"h-4 w-4 text-[#5C8BC6]"}),t.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:A=>a(A.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[t.jsx(Pf,{className:"h-4 w-4 text-[#5C8BC6]"}),t.jsx("input",{type:"text",placeholder:"Target user id",value:l,onChange:A=>c(A.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),t.jsx(Nf,{label:"Action",value:n.action,onChange:A=>r(M=>({...M,action:A})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),t.jsx("div",{className:"ml-auto flex items-center gap-2",children:t.jsxs("button",{type:"button",onClick:()=>b(A=>A+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[t.jsx(jv,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),t.jsxs("div",{className:"rounded-2xl border",style:op,children:[t.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsxs("span",{className:"text-[#8AA5C4]",children:[C.length," events"]}),p.loading&&t.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[t.jsx(Al,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[t.jsx("thead",{style:yP,children:t.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[t.jsx("th",{className:"px-4 py-2",children:"Time"}),t.jsx("th",{className:"px-4 py-2",children:"Actor"}),t.jsx("th",{className:"px-4 py-2",children:"Target User"}),t.jsx("th",{className:"px-4 py-2",children:"Action"}),t.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),t.jsx("tbody",{children:C.map(A=>{var M;return t.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[t.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:cu(A.createdAt)}),t.jsxs("td",{className:"px-4 py-2",children:[t.jsx("div",{className:"text-white",children:(M=A.actorDisplayName)!=null?M:"N/A"}),t.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:A.actorUserId})]}),t.jsx("td",{className:"px-4 py-2",children:t.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(A.targetUserId),children:A.targetUserId})}),t.jsx("td",{className:"px-4 py-2",children:t.jsx(bP,{action:A.action})}),t.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:A.summary})]},A.id)})})]}),!C.length&&!p.loading&&t.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),p.error&&t.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[t.jsx(Gh,{className:"h-3.5 w-3.5"}),p.error]}),t.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[t.jsx("span",{className:"text-[#8AA5C4]",children:p.cursor?"More events available":"End of audit log"}),t.jsx("button",{type:"button",onClick:S,disabled:!p.cursor||p.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:p.loadingMore?"Loading...":"Load more"})]})]}),!s&&t.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function A1e({user:s,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:a,onNotesChange:l,onNotesSave:c,onRoleToggle:u,onStatusChange:h,actionError:p,actionPending:g,auditEntries:x,auditLoading:b,auditError:_,onRefreshAudit:S,showRawJson:C,toggleRawJson:A}){var j,y;const M=jP(s.roles);return t.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&t.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[t.jsx(Al,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&t.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[t.jsx(Gh,{className:"h-3.5 w-3.5"}),r]}),t.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_P,{url:SP(s),name:lp(s),size:56}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"truncate text-base text-white",children:lp(s)}),t.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:s.userId}),t.jsxs("div",{className:"mt-1 flex gap-1",children:[t.jsx(wP,{role:M}),t.jsx(hv,{provider:"discord",active:!!((j=s.providers)!=null&&j.discord)}),t.jsx(hv,{provider:"google",active:!!((y=s.providers)!=null&&y.google)})]})]})]})}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(w=>t.jsx("button",{type:"button",onClick:()=>u(w),disabled:!e||w==="user",className:`rounded-full px-3 py-1 text-xs ${s.roles.includes(w)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:w},w))})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),t.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(w=>t.jsx("button",{type:"button",onClick:()=>h(w),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${h_(s.status)===w?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:w},w))})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&t.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),t.jsx("textarea",{value:i,onChange:w=>l(w.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),t.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[g&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Al,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),a&&e&&t.jsx("button",{type:"button",onClick:c,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),p&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[t.jsx(Gh,{className:"h-3 w-3"}),p]})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),t.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[t.jsx(jv,{className:"h-3 w-3"}),"Refresh"]})]}),b&&t.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[t.jsx(Al,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),_&&t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[t.jsx(Gh,{className:"h-3 w-3"}),_]}),!b&&!x.length&&t.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),t.jsx("ul",{className:"space-y-2",children:x.map(w=>{var P;return t.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[t.jsx("span",{children:cu(w.createdAt)}),t.jsx(bP,{action:w.action})]}),t.jsx("div",{className:"mt-1 text-white",children:(P=w.actorDisplayName)!=null?P:w.actorUserId}),t.jsx("div",{className:"text-[#C8D6EC]",children:w.summary})]},w.id)})})]}),t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),t.jsxs("button",{type:"button",onClick:A,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[t.jsx(v7,{className:"h-3 w-3"}),C?"Hide raw JSON":"Show raw JSON"]})]}),t.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[t.jsx(Jg,{label:"Created",value:cu(s.createdAt)}),t.jsx(Jg,{label:"Last login",value:cu(s.lastLoginAt)}),t.jsx(Jg,{label:"Primary provider",value:s.primaryProvider}),t.jsx(Jg,{label:"Roles",value:s.roles.join(", ")})]}),C&&t.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(s,null,2)})]})]})}function bP({action:s}){const e=s==="user.role.update"?"Role update":s==="user.status.update"?"Status update":"Notes update";return t.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Jg({label:s,value:e}){return e?t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsx("span",{className:"text-[#6E86A6]",children:s}),t.jsx("span",{className:"text-white",children:e})]}):null}function Nf({label:s,value:e,options:n,onChange:r}){return t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[#8AA5C4]",children:s}),t.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>t.jsx("option",{value:i.value,children:i.label},i.value))})]})}function _P({url:s,name:e,size:n=32}){return s?t.jsx("img",{src:s,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):t.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function wP({role:s}){const e=s==="admin"?"#F87171":s==="mod"?"#FBBF24":s==="creator"?"#34D399":"#93C5FD";return t.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:s})}function P1e({status:s}){const e={active:{label:"Active",color:"#5CC689",icon:t.jsx(gD,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:t.jsx(Qc,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:t.jsx(rD,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[s];return t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function hv({provider:s,active:e}){const n=s==="discord"?"D":"G";return t.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:s,children:n})}function jP(s){const e=["admin","mod","creator","user"];for(const n of e)if(s.includes(n))return n;return"user"}function lp(s){var e,n,r,i,a,l,c,u,h;return(h=(u=(a=(n=s.displayName)!=null?n:(e=s.profile)==null?void 0:e.displayName)!=null?a:(i=(r=s.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(c=(l=s.providers)==null?void 0:l.google)==null?void 0:c.displayName)!=null?h:s.userId}function SP(s){var e,n,r,i,a,l,c;return(c=(l=(r=s.avatarUrl)!=null?r:(n=(e=s.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?l:(a=(i=s.providers)==null?void 0:i.google)==null?void 0:a.avatarUrl)!=null?c:null}function h_(s){return s!=null?s:"active"}function cu(s){if(!s)return"";const e=s.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function p_(s,e){const[n,r]=E.useState(s);return E.useEffect(()=>{const i=window.setTimeout(()=>r(s),e);return()=>window.clearTimeout(i)},[s,e]),n}function R1e(){return t.jsx(Ht,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:t.jsx("div",{className:"space-y-4",children:t.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[t.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),t.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[t.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",t.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),t.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",t.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const L1e="_page_rpt6g_1",D1e="_tabs_rpt6g_17",M1e="_tab_rpt6g_17",F1e="_tabActive_rpt6g_71",$1e="_banner_rpt6g_87",B1e="_bannerSuccess_rpt6g_101",O1e="_bannerError_rpt6g_113",V1e="_card_rpt6g_125",U1e="_cardTitle_rpt6g_145",z1e="_settingsForm_rpt6g_159",H1e="_formRow_rpt6g_173",G1e="_selectInput_rpt6g_185",W1e="_checkboxRow_rpt6g_203",K1e="_settingsFooter_rpt6g_227",q1e="_inlineStatus_rpt6g_245",Q1e="_helperText_rpt6g_259",Y1e="_secondaryButton_rpt6g_271",X1e="_cardSubtitle_rpt6g_297",J1e="_identityHeader_rpt6g_309",Z1e="_identityAvatar_rpt6g_323",ewe="_identityName_rpt6g_337",twe="_identityProvider_rpt6g_351",swe="_identityForm_rpt6g_363",nwe="_nameInputWrap_rpt6g_379",rwe="_nameLabel_rpt6g_395",iwe="_nameInput_rpt6g_379",awe="_nameSaveButton_rpt6g_427",owe="_feedbackError_rpt6g_471",lwe="_feedbackSuccess_rpt6g_483",cwe="_metaGrid_rpt6g_495",dwe="_metaItem_rpt6g_507",uwe="_metaLabel_rpt6g_521",hwe="_metaValue_rpt6g_535",pwe="_serviceList_rpt6g_549",mwe="_serviceRow_rpt6g_559",gwe="_serviceName_rpt6g_587",fwe="_serviceStatus_rpt6g_601",vwe="_serviceAction_rpt6g_613",xwe="_securityText_rpt6g_645",ywe="_securityNote_rpt6g_657",bwe="_logoutButton_rpt6g_669",_we="_loadingState_rpt6g_701",wwe="_emptyState_rpt6g_703",jwe="_emptyStateTitle_rpt6g_721",Swe="_emptyStateText_rpt6g_733",Nwe="_primaryButton_rpt6g_745",Ue={page:L1e,tabs:D1e,tab:M1e,tabActive:F1e,banner:$1e,bannerSuccess:B1e,bannerError:O1e,card:V1e,cardTitle:U1e,settingsForm:z1e,formRow:H1e,selectInput:G1e,checkboxRow:W1e,settingsFooter:K1e,inlineStatus:q1e,helperText:Q1e,secondaryButton:Y1e,cardSubtitle:X1e,identityHeader:J1e,identityAvatar:Z1e,identityName:ewe,identityProvider:twe,identityForm:swe,nameInputWrap:nwe,nameLabel:rwe,nameInput:iwe,nameSaveButton:awe,feedbackError:owe,feedbackSuccess:lwe,metaGrid:cwe,metaItem:dwe,metaLabel:uwe,metaValue:hwe,serviceList:pwe,serviceRow:mwe,serviceName:gwe,serviceStatus:fwe,serviceAction:vwe,securityText:xwe,securityNote:ywe,logoutButton:bwe,loadingState:_we,emptyState:wwe,emptyStateTitle:jwe,emptyStateText:Swe,primaryButton:Nwe},kwe="_header_t1aqh_1",Cwe="_headerTexts_t1aqh_17",Iwe="_tableWrap_t1aqh_31",Twe="_table_t1aqh_31",Ewe="_tableRow_t1aqh_87",Awe="_dateCell_t1aqh_95",Pwe="_actionsHeader_t1aqh_103",Rwe="_actionCell_t1aqh_111",Lwe="_unlinkButton_t1aqh_119",Dwe="_unlinkIcon_t1aqh_175",Mwe="_muted_t1aqh_185",Fwe="_emptyState_t1aqh_193",$we="_emptyTitle_t1aqh_209",Bwe="_emptyDescription_t1aqh_221",Owe="_emptyCta_t1aqh_233",Vwe="_helpAccordion_t1aqh_277",Uwe="_helpToggle_t1aqh_291",zwe="_helpToggleOpen_t1aqh_331",Hwe="_helpToggleAction_t1aqh_339",Gwe="_helpBody_t1aqh_351",Wwe="_helpList_t1aqh_359",Kwe="_helpListItem_t1aqh_377",qwe="_helpFootnote_t1aqh_385",Qwe="_confirmBackdrop_t1aqh_397",Ywe="_confirmDialog_t1aqh_419",Xwe="_confirmTitle_t1aqh_443",Jwe="_confirmText_t1aqh_457",Zwe="_confirmName_t1aqh_473",eje="_confirmMeta_t1aqh_483",tje="_errorText_t1aqh_491",sje="_confirmActions_t1aqh_503",nje="_cancelButton_t1aqh_517",rje="_confirmButton_t1aqh_519",ns={header:kwe,headerTexts:Cwe,tableWrap:Iwe,table:Twe,tableRow:Ewe,dateCell:Awe,actionsHeader:Pwe,actionCell:Rwe,unlinkButton:Lwe,unlinkIcon:Dwe,muted:Mwe,emptyState:Fwe,emptyTitle:$we,emptyDescription:Bwe,emptyCta:Owe,helpAccordion:Vwe,helpToggle:Uwe,helpToggleOpen:zwe,helpToggleAction:Hwe,helpBody:Gwe,helpList:Wwe,helpListItem:Kwe,helpFootnote:qwe,confirmBackdrop:Qwe,confirmDialog:Ywe,confirmTitle:Xwe,confirmText:Jwe,confirmName:Zwe,confirmMeta:eje,errorText:tje,confirmActions:sje,cancelButton:nje,confirmButton:rje},ije=s=>{if(!s)return"-";const e=new Date(s);return Number.isNaN(e.getTime())?s:e.toLocaleString()},J0=s=>{var n;const e=(n=s.name)==null?void 0:n.trim();return e||(s.playerId!==void 0&&s.playerId!==null?`#${s.playerId}`:"-")},aje=({user:s,refreshSession:e,openHelp:n=!1})=>{const{t:r}=wn(),i=E.useMemo(()=>{var T;return(T=s.linkedPlayers)!=null?T:[]},[s.linkedPlayers]),[a,l]=E.useState(!1),[c,u]=E.useState(!1),[h,p]=E.useState(null),[g,x]=E.useState(null),[b,_]=E.useState(()=>n||i.length===0),S=E.useMemo(()=>`${va}/user/unlink-character`,[]);Q.useEffect(()=>{n&&_(!0)},[n]),Q.useEffect(()=>{i.length===0&&_(!0)},[i.length]);const C=async()=>{l(!0);try{await e({silent:!0})}catch(T){console.error("[Account] Failed to refresh linked players",T)}finally{l(!1)}},A=T=>{p(T),x(null)},M=()=>{c||(p(null),x(null))},j=async()=>{var T;if(h){if(!S){x(r("account.connectedCharacters.errors.serviceUnavailable","Auth service is not configured for unlinking."));return}u(!0),l(!0),x(null);try{const L=await fetch(S,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:h.playerId,server:h.server})});if(!L.ok){const R=await L.json().catch(()=>null),$=(R==null?void 0:R.error)||(R==null?void 0:R.message)||r("account.connectedCharacters.errors.unlink","Could not unlink character.");throw new Error($)}await e({silent:!0}),p(null)}catch(L){const R=(T=L==null?void 0:L.message)!=null?T:r("account.connectedCharacters.errors.unlink","Could not unlink character.");x(R)}finally{u(!1),l(!1)}}},y=T=>T?T.startsWith("discord_")?r("account.connectedCharacters.method.discord","Discord bot"):T:"-",w=E.useMemo(()=>[r("account.connectedCharacters.help.steps.link",'Link a character via the Discord bot using the "!connect char" command.'),r("account.connectedCharacters.help.steps.verify","We match the character to your latest verified scan; keep your game data up to date."),r("account.connectedCharacters.help.steps.refresh","After linking, click Refresh here to sync the latest characters from the auth service."),r("account.connectedCharacters.help.steps.unlink","You can unlink any character in the Actions column; the source column shows how it was linked.")],[r]),P=()=>{const T="connected-characters-help";return t.jsxs("div",{className:ns.helpAccordion,children:[t.jsxs("button",{type:"button",className:`${ns.helpToggle} ${b?ns.helpToggleOpen:""}`,"aria-expanded":b,"aria-controls":T,onClick:()=>_(L=>!L),children:[t.jsx("span",{children:r("account.connectedCharacters.help.title","How does linking work?")}),t.jsx("span",{className:ns.helpToggleAction,children:b?r("account.connectedCharacters.help.hide","Hide"):r("account.connectedCharacters.help.show","Show")})]}),b&&t.jsxs("div",{id:T,className:ns.helpBody,children:[t.jsx("ul",{className:ns.helpList,children:w.map((L,R)=>t.jsx("li",{className:ns.helpListItem,children:L},`help-step-${R}`))}),t.jsx("p",{className:ns.helpFootnote,children:r("account.connectedCharacters.help.footnote","Tip: Click Refresh after linking or unlinking to update this table.")})]})]})},N=()=>t.jsx("div",{className:ns.tableWrap,children:t.jsxs("table",{className:ns.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:r("account.connectedCharacters.columns.character","Character")}),t.jsx("th",{children:r("account.connectedCharacters.columns.server","Server")}),t.jsx("th",{children:r("account.connectedCharacters.columns.playerId","Player ID")}),t.jsx("th",{children:r("account.connectedCharacters.columns.class","Class")}),t.jsx("th",{children:r("account.connectedCharacters.columns.level","Level")}),t.jsx("th",{children:r("account.connectedCharacters.columns.guild","Guild")}),t.jsx("th",{children:r("account.connectedCharacters.columns.lastVerified","Last linked")}),t.jsx("th",{children:r("account.connectedCharacters.columns.source","Source")}),t.jsx("th",{className:ns.actionsHeader,children:r("account.connectedCharacters.columns.actions","Actions")})]})}),t.jsx("tbody",{children:i.map((T,L)=>{var W,G,K,te;const R=`${(W=T.server)!=null?W:"unknown"}-${(G=T.playerId)!=null?G:L}`,$=(K=T.level)!=null?K:"-",B=T.guildName||"-",H=T.class||"-",z=y(T.method);return t.jsxs("tr",{className:ns.tableRow,children:[t.jsx("td",{children:J0(T)}),t.jsx("td",{children:T.server||"-"}),t.jsx("td",{children:(te=T.playerId)!=null?te:"-"}),t.jsx("td",{className:T.class?void 0:ns.muted,children:H}),t.jsx("td",{className:typeof T.level!="number"?ns.muted:void 0,children:$}),t.jsx("td",{className:T.guildName?void 0:ns.muted,children:B}),t.jsx("td",{className:ns.dateCell,children:ije(T.verifiedAt)}),t.jsx("td",{className:T.method?void 0:ns.muted,children:z}),t.jsx("td",{className:ns.actionCell,children:t.jsx("button",{type:"button",className:ns.unlinkButton,onClick:()=>A(T),title:r("account.connectedCharacters.actions.unlink","Disconnect character"),"aria-label":`${r("account.connectedCharacters.actions.unlink","Disconnect character")} ${J0(T)}`,disabled:c||a,children:t.jsx("svg",{className:ns.unlinkIcon,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:t.jsx("path",{fill:"currentColor",d:"M9 4h6a1 1 0 0 1 1 1v2h5v2h-2.1l-1.05 11.2A2 2 0 0 1 15.86 22H8.14a2 2 0 0 1-1.99-1.8L5.1 9H3V7h5V5a1 1 0 0 1 1-1Zm5 2V6H10v2h4Zm-6.93 3 1.02 10.8a1 1 0 0 0 1 .9h7.72a1 1 0 0 0 1-.9L18.83 9ZM10 11v7h2v-7Zm4 0v7h2v-7Z"})})})})]},R)})})]})}),k=()=>{var L;if(!h)return null;const T="unlink-dialog-title";return t.jsx("div",{className:ns.confirmBackdrop,role:"dialog","aria-modal":"true","aria-labelledby":T,children:t.jsxs("div",{className:ns.confirmDialog,children:[t.jsx("h3",{id:T,className:ns.confirmTitle,children:r("account.connectedCharacters.confirmation.title","Are you sure you want to unlink this character?")}),t.jsxs("p",{className:ns.confirmText,children:[t.jsx("span",{className:ns.confirmName,children:J0(h)}),t.jsxs("span",{className:ns.confirmMeta,children:[h.server||"-"," - #",(L=h.playerId)!=null?L:"-"]})]}),g&&t.jsx("p",{className:ns.errorText,children:g}),t.jsxs("div",{className:ns.confirmActions,children:[t.jsx("button",{type:"button",className:ns.cancelButton,onClick:M,disabled:c,children:r("account.connectedCharacters.confirmation.cancel","Cancel")}),t.jsx("button",{type:"button",className:ns.confirmButton,onClick:j,disabled:c,children:c?r("account.connectedCharacters.confirmation.confirming","Unlinking..."):r("account.connectedCharacters.confirmation.confirm","Yes, unlink")})]})]})})};return s?t.jsxs("section",{className:Ue.card,children:[t.jsxs("div",{className:ns.header,children:[t.jsxs("div",{className:ns.headerTexts,children:[t.jsx("h2",{className:Ue.cardTitle,children:r("account.connectedCharacters.title","Connected characters")}),t.jsx("p",{className:Ue.cardSubtitle,children:r("account.connectedCharacters.subtitle","These game characters are linked to your SFDataHub account.")})]}),t.jsx("button",{type:"button",className:Ue.secondaryButton,onClick:C,disabled:a,children:a?r("account.connectedCharacters.actions.refreshing","Refreshing..."):r("account.connectedCharacters.actions.refresh","Refresh")})]}),a&&t.jsx("p",{className:Ue.helperText,children:r("account.connectedCharacters.loading","Refreshing characters...")}),P(),!a&&i.length===0&&t.jsxs("div",{className:ns.emptyState,children:[t.jsx("p",{className:ns.emptyTitle,children:r("account.connectedCharacters.empty.title","No characters linked yet")}),t.jsx("p",{className:ns.emptyDescription,children:r("account.connectedCharacters.empty.description",'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.')}),t.jsx("button",{type:"button",className:ns.emptyCta,onClick:()=>_(!0),children:r("account.connectedCharacters.empty.cta","Click to learn how linking works")})]}),i.length>0&&N(),k()]}):null},NP="user_settings";async function NI(s){if(!s)return null;try{const e=rs(yt,NP,s),n=await _n(e);if(!n.exists())return null;const r=n.data();return r!=null?r:null}catch(e){return console.warn("[UserSettings] Failed to load settings",e),null}}async function oje(s,e){if(s)try{const n=rs(yt,NP,s);await Ro(n,e,{merge:!0})}catch(n){throw console.error("[UserSettings] Failed to update settings",n),n}}const kP="user_tools_state";async function lje(s){var e;if(!s)return null;try{const n=rs(yt,kP,s),r=await _n(n);return r.exists()&&(e=r.data())!=null?e:null}catch(n){return console.warn("[UserToolsSettings] Failed to load tools settings",n),null}}async function cje(s,e){if(s)try{const n=rs(yt,kP,s),r={...e,updatedAt:new Date().toISOString()};await Ro(n,r,{merge:!0})}catch(n){throw console.error("[UserToolsSettings] Failed to save tools settings",n),n}}const dje="https://i.pravatar.cc/72",Zg=`${va}/auth/account/profile`,Z0=`${va}/auth/google/link/start`,kI=3,CI=32,uje=["overview","settings","tools","connected-characters"],II=s=>{if(!s)return;const e=new Date(s);return Number.isNaN(e.getTime())?s:e.toLocaleString()},hje=()=>{const{status:s,user:e,logout:n,refreshSession:r}=Gi(),i=oi(),a=Zn(),{t:l,i18n:c}=wn(),[u,h]=E.useState("overview"),[p,g]=E.useState(null),[x,b]=E.useState(null),[_,S]=E.useState(!1),[C,A]=E.useState(null),[M,j]=E.useState(!1),[y,w]=E.useState(!1),[P,N]=E.useState(null),[k,T]=E.useState(null),[L,R]=E.useState(!0),[$,B]=E.useState(!1),[H,z]=E.useState(null),[W,G]=E.useState(!1),K=E.useMemo(()=>{const Ve=new URLSearchParams(a.search);return Ve.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:Ve.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[a.search]),te=s==="loading"||s==="idle",X=s==="authenticated"&&!!e,U=e==null?void 0:e.id,J=E.useMemo(()=>new URLSearchParams(a.search),[a.search]),se=J.get("tab"),ne=J.get("openHelp")==="1",ue=E.useMemo(()=>({language:c.language==="de"?"de":"en",defaultSection:"home",compactTables:!1,showExperimentalFeatures:!1}),[c.language]);E.useEffect(()=>{if(!U){g(null),b(null),A(null),S(!1),N(null),T(null),R(!1),B(!1),z(null),G(!1);return}let Ve=!0;return(async()=>{S(!0),A(null),w(!1);try{const We=await NI(U),_t=We?{...ue,...We}:ue;if(!Ve)return;g(_t),b(_t)}catch(We){if(!Ve)return;A(l("account.settings.error","Could not load settings."))}finally{Ve&&S(!1)}})(),()=>{Ve=!1}},[U,ue,l]),E.useEffect(()=>{if(!U)return;let Ve=!0;const Se={defaultSetId:null,showToolsIntro:!0,enableExperimentalTools:!1};return(async()=>{R(!0),z(null),G(!1);try{const _t=await lje(U);if(!Ve)return;const Ot=_t?{...Se,..._t}:Se;N(Ot),T(Ot)}catch(_t){if(!Ve)return;z(l("account.tools.loadError","Could not load tools settings."))}finally{Ve&&R(!1)}})(),()=>{Ve=!1}},[U,l]),E.useEffect(()=>{se&&uje.includes(se)&&se!==u&&h(se)},[se,u]);const we=(Ve,Se)=>{const We=new URLSearchParams(a.search);We.set("tab",Ve),Se!=null&&Se.openHelp?We.set("openHelp","1"):We.delete("openHelp");const _t=We.toString();i({pathname:a.pathname,search:_t?`?${_t}`:""},{replace:!0})},Me=()=>{typeof window!="undefined"?window.dispatchEvent(new CustomEvent("sfh:openLoginModal")):i("/login")},ee=async()=>{await n(),i("/")},ge=()=>{if(!Z0){window.alert("Auth service is not configured for Google linking.");return}window.location.href=Z0},oe=()=>t.jsx("div",{className:Ue.loadingState,children:"Checking session..."}),ye=()=>t.jsxs("div",{className:Ue.emptyState,children:[t.jsx("p",{className:Ue.emptyStateTitle,children:"You are not signed in."}),t.jsx("p",{className:Ue.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),t.jsx("button",{type:"button",className:Ue.primaryButton,onClick:Me,children:"Go to sign-in"})]}),je=()=>{if(!K)return null;const Ve=K.type==="success"?`${Ue.banner} ${Ue.bannerSuccess}`:`${Ue.banner} ${Ue.bannerError}`;return t.jsx("div",{className:Ve,children:K.message})},ke=()=>{var gs,Js,It;if(!e)return null;const Ve=(gs=e.providers)==null?void 0:gs.discord,Se=(Js=e.providers)==null?void 0:Js.google,We=!!Ve,_t=!!Se,Ot=!!Z0,Rs=Ot?_t?Se!=null&&Se.displayName?`Connected as ${Se.displayName}`:"Connected":"Not connected":"Auth service not configured",ms=[{key:"discord",name:"Discord",status:We?`Connected as ${(It=Ve==null?void 0:Ve.displayName)!=null?It:e.displayName}`:"Not connected",actionLabel:We?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:Rs,actionLabel:_t?"Connected":"Connect",disabled:_t||!Ot,onClick:_t||!Ot?void 0:ge},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return t.jsxs("section",{className:Ue.card,children:[t.jsx("h2",{className:Ue.cardTitle,children:"Connected services"}),t.jsx("p",{className:Ue.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),t.jsx("div",{className:Ue.serviceList,children:ms.map(Ne=>t.jsxs("div",{className:Ue.serviceRow,children:[t.jsxs("div",{children:[t.jsx("p",{className:Ue.serviceName,children:Ne.name}),t.jsx("p",{className:Ue.serviceStatus,children:Ne.status})]}),t.jsx("button",{type:"button",className:Ue.serviceAction,disabled:Ne.disabled,onClick:Ne.onClick,children:Ne.actionLabel})]},Ne.key))})]})},qe=()=>t.jsxs("section",{className:Ue.card,children:[t.jsx("h2",{className:Ue.cardTitle,children:"Security & session"}),t.jsx("p",{className:Ue.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),t.jsx("p",{className:Ue.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),t.jsx("button",{type:"button",className:Ue.logoutButton,onClick:ee,children:"Log out from this device"}),t.jsx("p",{className:Ue.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),me=(Ve,Se)=>{p&&(g(We=>({...We!=null?We:ue,[Ve]:Se})),w(!1))},Ie=!!(p&&x&&JSON.stringify(p)!==JSON.stringify(x)),Xe=!!(P&&k&&JSON.stringify(P)!==JSON.stringify(k)),it=async()=>{if(!(!U||!p||M||!Ie))try{j(!0),A(null),await oje(U,p),b(p),w(!0)}catch(Ve){A(l("account.settings.saveError","Could not save settings. Please try again."))}finally{j(!1)}},Nt=(Ve,Se)=>{P&&(N(We=>({...We!=null?We:{},[Ve]:Se})),G(!1))},be=async()=>{if(!(!U||!P||$||!Xe))try{B(!0),z(null),await cje(U,P),T(P),G(!0)}catch(Ve){z(l("account.tools.save.error","Could not save settings. Please try again."))}finally{B(!1)}},De=()=>{var Ve,Se;return t.jsxs("section",{className:Ue.card,children:[t.jsx("h2",{className:Ue.cardTitle,children:l("account.settings.title","Settings")}),t.jsx("p",{className:Ue.cardSubtitle,children:l("account.settings.subtitle","Configure your personal preferences.")}),_&&t.jsx("p",{className:Ue.helperText,children:l("account.settings.loading","Loading settings...")}),C&&t.jsxs("div",{className:Ue.feedbackError,children:[t.jsx("p",{children:C}),t.jsx("button",{type:"button",className:Ue.secondaryButton,onClick:()=>{U&&(A(null),w(!1),S(!0),NI(U).then(We=>{const _t=We?{...ue,...We}:ue;g(_t),b(_t)}).catch(()=>{A(l("account.settings.error","Could not load settings."))}).finally(()=>S(!1)))},children:l("account.settings.retry","Retry")})]}),p&&!_&&t.jsxs("div",{className:Ue.settingsForm,children:[t.jsxs("div",{className:Ue.formRow,children:[t.jsx("label",{className:Ue.nameLabel,htmlFor:"settings-language",children:l("account.settings.language.label","Preferred language")}),t.jsxs("select",{id:"settings-language",className:Ue.selectInput,value:(Ve=p.language)!=null?Ve:ue.language,onChange:We=>me("language",We.target.value),children:[t.jsx("option",{value:"en",children:l("topbar.lang_en","English")}),t.jsx("option",{value:"de",children:l("topbar.lang_de","Deutsch")})]})]}),t.jsxs("div",{className:Ue.formRow,children:[t.jsx("label",{className:Ue.nameLabel,htmlFor:"settings-section",children:l("account.settings.defaultSection.label","Default section")}),t.jsxs("select",{id:"settings-section",className:Ue.selectInput,value:(Se=p.defaultSection)!=null?Se:ue.defaultSection,onChange:We=>me("defaultSection",We.target.value),children:[t.jsx("option",{value:"home",children:l("nav.home","Home")}),t.jsx("option",{value:"toplists",children:l("nav.toplists","Top Lists")}),t.jsx("option",{value:"guilds",children:l("nav.guilds","Guilds")}),t.jsx("option",{value:"tools",children:l("nav.tools","Tools")}),t.jsx("option",{value:"community",children:l("nav.community","Community")})]})]}),t.jsxs("label",{className:Ue.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!p.compactTables,onChange:We=>me("compactTables",We.target.checked)}),t.jsx("span",{children:l("account.settings.compactTables.label","Use compact table layout")})]}),t.jsxs("label",{className:Ue.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!p.showExperimentalFeatures,onChange:We=>me("showExperimentalFeatures",We.target.checked)}),t.jsx("span",{children:l("account.settings.experimental.label","Enable experimental features")})]})]}),t.jsxs("div",{className:Ue.settingsFooter,children:[t.jsxs("div",{className:Ue.inlineStatus,children:[y?t.jsx("span",{className:Ue.feedbackSuccess,children:l("account.settings.saved","Settings saved.")}):Ie?null:t.jsx("span",{className:Ue.helperText,children:l("account.settings.noChanges","No changes to save.")}),M&&t.jsx("span",{className:Ue.helperText,children:l("account.settings.saving","Saving...")})]}),t.jsx("button",{type:"button",className:Ue.primaryButton,disabled:!Ie||M||!p,onClick:it,children:l("account.settings.save","Save settings")})]})]})},Ee=()=>{const Ve=[{key:"overview",label:l("account.tabs.overview","Overview")},{key:"settings",label:l("account.tabs.settings","Settings")},{key:"tools",label:l("account.tabs.tools","Tools")},{key:"connected-characters",label:l("account.tabs.connectedCharacters","Connected characters")}];return t.jsx("div",{className:Ue.tabs,role:"tablist","aria-label":"Account sections",children:Ve.map(Se=>{const We=u===Se.key;return t.jsx("button",{type:"button",className:`${Ue.tab} ${We?Ue.tabActive:""}`,onClick:()=>{h(Se.key),we(Se.key,{openHelp:Se.key==="connected-characters"&&ne})},role:"tab","aria-selected":We,children:Se.label},Se.key)})})},at=()=>{var Ve;if(!e)return null;switch(u){case"overview":return t.jsxs(t.Fragment,{children:[t.jsx(pje,{user:e,refreshSession:r}),ke(),qe()]});case"settings":return De();case"tools":return t.jsxs("section",{className:Ue.card,children:[t.jsx("h2",{className:Ue.cardTitle,children:l("account.tools.title","Tools settings")}),t.jsx("p",{className:Ue.cardSubtitle,children:l("account.tools.subtitle","Configure how tools behave for your account.")}),L&&t.jsx("p",{className:Ue.helperText,children:l("account.tools.loading","Loading tools settings...")}),H&&t.jsx("p",{className:Ue.feedbackError,children:H}),P&&!L&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:Ue.settingsForm,children:[t.jsxs("div",{className:Ue.formRow,children:[t.jsx("label",{className:Ue.nameLabel,htmlFor:"tools-default-set",children:l("account.tools.defaultSet.label","Default set ID")}),t.jsx("input",{id:"tools-default-set",type:"text",className:Ue.nameInput,value:(Ve=P.defaultSetId)!=null?Ve:"",onChange:Se=>Nt("defaultSetId",Se.target.value),placeholder:l("account.tools.defaultSet.placeholder","Enter a default set ID")})]}),t.jsxs("label",{className:Ue.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!P.showToolsIntro,onChange:Se=>Nt("showToolsIntro",Se.target.checked)}),t.jsx("span",{children:l("account.tools.showIntro.label","Show tools intro")})]}),t.jsxs("label",{className:Ue.checkboxRow,children:[t.jsx("input",{type:"checkbox",checked:!!P.enableExperimentalTools,onChange:Se=>Nt("enableExperimentalTools",Se.target.checked)}),t.jsx("span",{children:l("account.tools.experimental.label","Enable experimental tools")})]})]}),t.jsxs("div",{className:Ue.settingsFooter,children:[t.jsxs("div",{className:Ue.inlineStatus,children:[W?t.jsx("span",{className:Ue.feedbackSuccess,children:l("account.tools.save.success","Settings saved.")}):Xe?null:t.jsx("span",{className:Ue.helperText,children:l("account.tools.save.noChanges","No changes to save.")}),$&&t.jsx("span",{className:Ue.helperText,children:l("account.tools.save.saving","Saving...")})]}),t.jsx("button",{type:"button",className:Ue.primaryButton,disabled:L||$||!Xe||!P,onClick:be,children:l("account.tools.save.cta","Save settings")})]})]})]});case"connected-characters":return t.jsx(aje,{user:e,refreshSession:r,openHelp:ne});default:return null}},mt=()=>te?oe():X?t.jsxs(t.Fragment,{children:[Ee(),at()]}):ye();return t.jsx(Ht,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:t.jsxs("div",{className:Ue.page,children:[je(),mt()]})})};function pje({user:s,refreshSession:e}){var P;const[n,r]=E.useState(()=>{var N;return(N=s==null?void 0:s.displayName)!=null?N:""}),[i,a]=E.useState(!1),[l,c]=E.useState(null),[u,h]=E.useState(!1),p=(s==null?void 0:s.avatarUrl)||dje,g=(s==null?void 0:s.provider)==="google"?"Google":"Discord",x=(P=s==null?void 0:s.displayName)!=null?P:"",b=n.trim(),_=b.length===0||b.length>=kI&&b.length<=CI,S=!!s&&b.length>0&&b!==x,C=!!(Zg&&_&&S&&!i),A=b.length>0&&!_?`Name must be between ${kI} and ${CI} characters.`:null;E.useEffect(()=>{var N;r((N=s==null?void 0:s.displayName)!=null?N:""),h(!1),c(null)},[s==null?void 0:s.id,s==null?void 0:s.displayName]);const M=E.useMemo(()=>{var N;return s?[{label:"SFDataHub ID",value:s.id},(N=s.roles)!=null&&N.length?{label:"Roles",value:s.roles.join(", ")}:null,s.createdAt?{label:"Created at",value:II(s.createdAt)}:null,s.lastLoginAt?{label:"Last login",value:II(s.lastLoginAt)}:null].filter(k=>!!(k!=null&&k.value)):[]},[s]),j=async()=>{var N,k;if(!C||!Zg){Zg||c("Auth service is not configured.");return}try{a(!0),c(null),h(!1);const T=await fetch(Zg,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:b})});if(!T.ok){const L=await T.json().catch(()=>null);throw new Error((N=L==null?void 0:L.error)!=null?N:"Failed to update name.")}await e(),h(!0),r(b)}catch(T){const L=(k=T==null?void 0:T.message)!=null?k:"Failed to update name.";c(L)}finally{a(!1)}},y=N=>{N.key==="Enter"&&(N.preventDefault(),C&&j())},w=()=>{C&&j()};return s?t.jsxs("section",{className:Ue.card,children:[t.jsxs("div",{className:Ue.identityHeader,children:[t.jsx("img",{src:p,alt:"",className:Ue.identityAvatar}),t.jsxs("div",{children:[t.jsx("p",{className:Ue.identityName,children:s.displayName||"Unbenannter Nutzer"}),t.jsxs("p",{className:Ue.identityProvider,children:[g," sign-in"]})]}),t.jsx("span",{className:Ue.statusBadge,children:"Verified"})]}),t.jsxs("div",{className:Ue.identityForm,children:[t.jsxs("div",{className:Ue.nameInputWrap,children:[t.jsx("label",{className:Ue.nameLabel,children:"Display name"}),t.jsx("input",{type:"text",className:Ue.nameInput,value:n,onChange:N=>r(N.target.value),onKeyDown:y,onBlur:w,placeholder:"Enter your display name"})]}),t.jsx("button",{type:"button",className:Ue.nameSaveButton,disabled:!C,onClick:j,children:i?"Saving...":"Save"})]}),A&&t.jsx("p",{className:Ue.feedbackError,children:A}),l&&t.jsx("p",{className:Ue.feedbackError,children:l}),u&&t.jsx("p",{className:Ue.feedbackSuccess,children:"Name updated."}),M.length>0&&t.jsx("div",{className:Ue.metaGrid,children:M.map(N=>t.jsxs("div",{className:Ue.metaItem,children:[t.jsx("span",{className:Ue.metaLabel,children:N.label}),t.jsx("span",{className:Ue.metaValue,children:N.value})]},N.label))})]}):null}const wt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function mje(){const{t:s}=wn();return t.jsx("div",{style:wt.wrap,children:t.jsxs("div",{style:wt.grid,children:[t.jsxs("aside",{style:wt.tile,children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),t.jsx("p",{style:wt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),t.jsxs("nav",{children:[t.jsx("div",{style:wt.groupLabel,children:"Allgemein"}),t.jsx(js,{to:"list-views",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"List-View Switcher"}),t.jsx(js,{to:"rescan-widget",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Rescan Widget (auto)"}),t.jsx(js,{to:"upload-sim",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Upload Simulator"}),t.jsx(js,{to:"hud/game-buttons",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"HUD  Game Buttons"}),t.jsx(js,{to:"theme-maker",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Theme / Template Maker"}),t.jsx(js,{to:"theme-maker-pro",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Theme / Template Maker  Pro"}),t.jsx(js,{to:"gamified",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified",{defaultValue:"Gamified"})}),t.jsx(js,{to:"gamified-2",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified2",{defaultValue:"Gamified 2"})}),t.jsx(js,{to:"gamified-3",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified3",{defaultValue:"Gamified 3"})}),t.jsx(js,{to:"gamified-4",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified4",{defaultValue:"Gamified 4"})}),t.jsx(js,{to:"gamified-5",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified5",{defaultValue:"Gamified 5"})}),t.jsx(js,{to:"gamified-6",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified6",{defaultValue:"Gamified 6"})}),t.jsx(js,{to:"gamified-7",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified7",{defaultValue:"Gamified 7"})}),t.jsx(js,{to:"gamified-8",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:s("playground.tabs.gamified8",{defaultValue:"Gamified 8"})}),t.jsx("div",{style:wt.groupLabel,children:"Templates"}),t.jsx(js,{to:"templates/content-shell",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"ContentShell Template"}),t.jsx(js,{to:"templates/blank",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Leere Vorlage"}),t.jsx(js,{to:"templates/blank-alt",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Leere Vorlage (Neu)"}),t.jsx(js,{to:"templates/blank-layout-2",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Leere Vorlage  Layout 2"}),t.jsx(js,{to:"templates/blank-layout-3",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Leere Vorlage  Layout 3"}),t.jsx(js,{to:"templates/blank-layout-4",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"Leere Vorlage  Layout 4"}),t.jsx("div",{style:wt.groupLabel,children:"Guide Hub Demos"}),t.jsx(js,{to:"am-rune-bonuses-demos",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),t.jsx("div",{style:wt.groupLabel,children:"Graphics / Portraits"}),t.jsx(js,{to:"portrait-maker",style:({isActive:e})=>({...wt.link,...e?wt.active:{}}),children:"PortraitMaker Demo"})]})]}),t.jsx("section",{style:wt.tile,children:t.jsx(VT,{})})]})})}const gje="_page_1kokx_1",fje="_topBar_1kokx_17",vje="_tabs_1kokx_31",xje="_tab_1kokx_31",yje="_tabActive_1kokx_63",bje="_searchWrap_1kokx_73",_je="_input_1kokx_85",wje="_stickyIcons_1kokx_105",jje="_iconBtn_1kokx_129",Sje="_tableWrap_1kokx_161",Nje="_table_1kokx_161",kje="_th_1kokx_181",Cje="_td_1kokx_181",Ije="_row_1kokx_201",Tje="_chips_1kokx_219",Eje="_chip_1kokx_219",Aje="_badges_1kokx_249",Pje="_badge_1kokx_249",Rje="_badgeMax_1kokx_275",Lje="_badgeAchiev_1kokx_277",Dje="_badgeX2_1kokx_279",Mje="_badgeX12_1kokx_281",Fje="_badgeX60_1kokx_283",$je="_section_1kokx_289",Bje="_sectionHeader_1kokx_297",Oje="_cardList_1kokx_315",Vje="_card_1kokx_315",Uje="_cardMax_1kokx_353",zje="_iconXL_1kokx_355",Hje="_split_1kokx_369",Gje="_left_1kokx_379",Wje="_leftBtn_1kokx_399",Kje="_leftBtnActive_1kokx_411",qje="_detail_1kokx_413",Qje="_grid_1kokx_433",Yje="_tile_1kokx_443",Xje="_drawer_1kokx_457",Jje="_timeline_1kokx_487",Zje="_node_1kokx_493",e2e="_dot_1kokx_501",At={page:gje,topBar:fje,tabs:vje,tab:xje,tabActive:yje,searchWrap:bje,input:_je,stickyIcons:wje,iconBtn:jje,tableWrap:Sje,table:Nje,th:kje,td:Cje,row:Ije,chips:Tje,chip:Eje,badges:Aje,badge:Pje,badgeMax:Rje,badgeAchiev:Lje,badgeX2:Dje,badgeX12:Mje,badgeX60:Fje,section:$je,sectionHeader:Bje,cardList:Oje,card:Vje,cardMax:Uje,iconXL:zje,split:Hje,left:Gje,leftBtn:Wje,leftBtnActive:Kje,detail:qje,grid:Qje,tile:Yje,drawer:Xje,timeline:Jje,node:Zje,dot:e2e},TI=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function zi(s){const e=s.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function t2e(s){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${s.tier} ${(e=s.note)!=null?e:""}`)}function s2e(s){var n,r;const e=(r=(n=s.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function pv({label:s}){const e=(s||"?").slice(0,1).toUpperCase();return t.jsx("div",{className:At.iconBtn,title:s||"Rune",children:e})}function Rw({label:s}){const e=(s||"?").slice(0,1).toUpperCase();return t.jsx("div",{className:At.iconXL,title:s||"Rune",children:e})}function n2e(s){const e=new Map;for(const n of s){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function om({r:s}){const e=[];return s.gold&&e.push(`Gold ${s.gold}`),s.xp&&e.push(`XP ${s.xp}`),s.hp&&e.push(`HP ${s.hp}`),s.totalRes&&e.push(`Total Res ${s.totalRes}`),s.singleRes&&e.push(`Single Res ${s.singleRes}`),s.elemDmg&&e.push(`Elem ${s.elemDmg}`),s.itemQuality&&e.push(`Item ${s.itemQuality}`),s.epics&&e.push(`Epics ${s.epics}`),t.jsx("div",{className:At.chips,children:e.map((n,r)=>t.jsx("span",{className:At.chip,children:n},r))})}function lm({r:s,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:At.badgeMax}),t2e(s)&&n.push({label:"Achievement",cls:At.badgeAchiev});const r=s2e(s);return r==="x2"&&n.push({label:"x2",cls:At.badgeX2}),r==="x12"&&n.push({label:"x12",cls:At.badgeX12}),r==="x60"&&n.push({label:"x60",cls:At.badgeX60}),n.length===0?null:t.jsx("div",{className:At.badges,children:n.map((i,a)=>{var l;return t.jsx("span",{className:`${At.badge} ${(l=i.cls)!=null?l:""}`,children:i.label},a)})})}function r2e(s){const e=s.trim().toLowerCase();return e?TI.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):TI}function i2e({data:s}){const e=Math.max(...s.map(i=>zi(i.amount))),n=E.useMemo(()=>Array.from(new Set(s.map(i=>i.tier||"(no tier)"))),[s]);function r(i){const a=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:At.stickyIcons,children:n.map((i,a)=>t.jsx("div",{onClick:()=>r(i),children:t.jsx(pv,{label:i||"(no tier)"})},a))}),t.jsx("div",{className:At.tableWrap,children:t.jsxs("table",{className:At.table,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:At.th,style:{width:42}}),t.jsx("th",{className:At.th,style:{width:120},children:"Amount"}),t.jsx("th",{className:At.th,children:"Bonuses"}),t.jsx("th",{className:At.th,style:{width:220},children:"Tags"})]})}),t.jsx("tbody",{children:s.map((i,a)=>{const l=Math.abs(zi(i.amount)-e)<1e-6;return t.jsxs("tr",{className:At.row,"data-tier":i.tier||"(no tier)",children:[t.jsx("td",{className:At.td,children:t.jsx(pv,{label:i.tier||""})}),t.jsx("td",{className:At.td,children:i.amount}),t.jsx("td",{className:At.td,children:t.jsx(om,{r:i})}),t.jsx("td",{className:At.td,children:t.jsx(lm,{r:i,isMax:l})})]},a)})})]})})]})}function a2e({data:s}){const e=n2e(s),n=Math.max(...s.map(r=>zi(r.amount)));return t.jsx(t.Fragment,{children:e.map(([r,i])=>t.jsxs("section",{className:At.section,children:[t.jsx("div",{className:At.sectionHeader,children:r}),t.jsx("div",{className:At.cardList,children:i.map((a,l)=>{const c=Math.abs(zi(a.amount)-n)<1e-6;return t.jsxs("div",{className:`${At.card} ${c?At.cardMax:""}`,children:[t.jsx(Rw,{label:r}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[t.jsx("strong",{children:a.amount}),t.jsx(lm,{r:a,isMax:c})]}),t.jsx(om,{r:a})]}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},l)})})]},r))})}function o2e({data:s}){var l;const e=Array.from(new Set(s.map(c=>c.tier||"(no tier)"))),[n,r]=E.useState((l=e[0])!=null?l:""),i=s.filter(c=>(c.tier||"(no tier)")===n),a=Math.max(...s.map(c=>zi(c.amount)));return t.jsxs("div",{className:At.split,children:[t.jsx("div",{className:At.left,children:e.map(c=>t.jsxs("button",{className:`${At.leftBtn} ${c===n?At.leftBtnActive:""}`,onClick:()=>r(c),children:[t.jsx(pv,{label:c}),t.jsx("span",{children:c})]},c))}),t.jsxs("div",{className:At.detail,children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(Rw,{label:n}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:n}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((c,u)=>{const h=Math.abs(zi(c.amount)-a)<1e-6;return t.jsxs("div",{className:At.card,style:{gridTemplateColumns:"1fr auto"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[t.jsx("strong",{children:c.amount}),t.jsx(lm,{r:c,isMax:h})]}),t.jsx(om,{r:c})]}),t.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function l2e({data:s}){const[e,n]=E.useState(null),r=Math.max(...s.map(i=>zi(i.amount)));return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:At.grid,children:s.map((i,a)=>t.jsx("div",{className:At.tile,onClick:()=>n(i),title:i.tier||"",children:t.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[t.jsx(pv,{label:i.tier||""}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},a))}),e&&t.jsxs("div",{className:At.drawer,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[t.jsx(Rw,{label:e.tier||""}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:e.amount}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),t.jsx("button",{className:At.tab,onClick:()=>n(null),children:"Close"})]}),t.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:t.jsx(lm,{r:e,isMax:Math.abs(zi(e.amount)-r)<1e-6})}),t.jsx(om,{r:e})]})]})}function c2e({data:s}){const e=Math.max(...s.map(r=>zi(r.amount))),n=[...s].sort((r,i)=>zi(r.amount)-zi(i.amount));return t.jsx("div",{className:At.timeline,children:n.map((r,i)=>{const a=Math.abs(zi(r.amount)-e)<1e-6;return t.jsxs("div",{className:At.node,children:[t.jsx("div",{className:At.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx("strong",{children:r.amount}),t.jsx(lm,{r,isMax:a})]}),t.jsx(om,{r})]}),t.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const d2e=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function u2e(){const[s,e]=E.useState("A: Compact Table"),[n,r]=E.useState(""),i=r2e(n);return t.jsxs("div",{className:At.page,children:[t.jsxs("div",{className:At.topBar,children:[t.jsx("div",{className:At.tabs,children:d2e.map(a=>t.jsx("button",{onClick:()=>e(a),className:`${At.tab} ${s===a?At.tabActive:""}`,children:a},a))}),t.jsx("div",{className:At.searchWrap,children:t.jsx("input",{className:At.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:a=>r(a.target.value)})})]}),s==="A: Compact Table"&&t.jsx(i2e,{data:i}),s==="B: Card Track"&&t.jsx(a2e,{data:i}),s==="C: Two-Pane"&&t.jsx(o2e,{data:i}),s==="D: Icon Grid + Drawer"&&t.jsx(l2e,{data:i}),s==="E: Timeline"&&t.jsx(c2e,{data:i})]})}function h2e(){return t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),t.jsx("div",{className:"mt-4 grid gap-3",children:t.jsx(js,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const Ce={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},p2e=()=>t.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Cc={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function m2e(s){return s==="sm"?"px-3 py-1.5 text-xs":s==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Bu(s){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",m2e(s.size),s.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",s.press?"active:translate-y-[1px]":"",s.lift?"hover:-translate-y-[1px]":"",s.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function CP(s){const e=s.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},a={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},l={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},c={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},h={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},p={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},g={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},x={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},b={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:a,gold:l,obsidian:c,neon:u,plasma:h,aurora:p,satin:g,matte:x,holo:b}[s.material]}function Hl(s){const e={color:Ce.title,borderColor:Ce.border,...CP(s)};return s.baseBorder&&s.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),s.baseBorder&&s.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),s.baseBorder||(e.border="0 solid transparent"),e}const cm=({children:s})=>t.jsx("span",{className:"relative z-10",children:s});function Ou({fx:s,clip:e}){return t.jsxs(t.Fragment,{children:[s.shine&&t.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:t.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),s.scan&&t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),s.hologram&&t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),s.vignette&&t.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),s.glow&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),s.bevel&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),s.baseBorder&&s.outline&&t.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),s.pulse&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),s.noiseTex&&t.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),s.rimLight&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),s.innerGlow2&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),s.innerShadow2&&t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),s.sparkles&&t.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>t.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),s.stripesDiag&&t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),s.cornerNotch&&t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function g2e({fx:s,children:e}){const n=Bu(s),r=Hl(s),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:s.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),t.jsx(Ou,{fx:s,clip:i}),s.withIcon&&t.jsx(qT,{size:16,className:"relative z-10"}),t.jsx(cm,{children:e})]})}function f2e({fx:s,children:e}){const n=Bu(s),r=Hl(s),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),t.jsx(Ou,{fx:s,clip:i}),s.withIcon&&t.jsx(QT,{size:16,className:"relative z-10"}),t.jsx(cm,{children:e})]})}function v2e({fx:s,children:e}){const n=Bu(s),r=Hl(s),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),t.jsx(Ou,{fx:s,clip:i}),s.withIcon&&t.jsx(Qc,{size:16,className:"relative z-10"}),t.jsx(cm,{children:e})]})}function x2e({fx:s,children:e}){const n=Bu(s),r=Hl(s),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return t.jsxs("button",{disabled:s.disabled,className:`${n} overflow-hidden`,style:r,children:[t.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${Ce.tile}, ${Ce.active})`}}),t.jsx(Ou,{fx:s,clip:i}),s.withIcon&&t.jsx(YT,{size:16,className:"relative z-10"}),t.jsx(cm,{children:e})]})}function y2e({fx:s,children:e}){const n=Bu(s),r=Hl(s);return t.jsxs("button",{disabled:s.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[t.jsx(Ou,{fx:s}),s.withIcon&&t.jsx(wv,{size:16,className:"relative z-10"}),t.jsx(cm,{children:e})]})}function b2e({fx:s,tabs:e}){const[n,r]=E.useState(0);return t.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:Ce.tile,border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:e.map((i,a)=>t.jsxs("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg text-sm transition-colors ${a===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:a===n?Ce.active:"transparent",border:a===n&&s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:[s.withIcon&&a===n&&t.jsx(wv,{size:14,className:"inline mr-1"}),i]},a))})}function _2e({fx:s}){const e=Bu(s),n=Hl(s);return t.jsx("button",{disabled:s.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:t.jsx(ZT,{})})}const m_={Arcade:s=>({...s,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:s=>({...s,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:s=>({...s,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:s=>({...s,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:s=>({...s,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function w2e({fx:s,setFx:e}){const n=(c,u)=>e(h=>({...h,[c]:u})),r=c=>e(u=>({...u,[c]:!u[c]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],a=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],l=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return t.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:Ce.tile,border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:[t.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:s.baseBorder?`1px solid ${Ce.border}`:"0"},children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ce.title},children:"Presets"}),Object.keys(m_).map(c=>t.jsx("button",{onClick:()=>e(u=>m_[c](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:Ce.btn,borderColor:Ce.border,color:Ce.title},children:c},c))]}),t.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:s.baseBorder?`1px solid ${Ce.border}`:"0"},children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ce.title},children:"Material"}),i.map(c=>t.jsx("button",{onClick:()=>n("material",c),className:`px-2.5 py-1 rounded-md border text-xs ${s.material===c?"":"opacity-70"}`,style:{backgroundColor:s.material===c?Ce.active:Ce.btn,borderColor:Ce.border,color:Ce.title},children:c},c)),t.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:Ce.title},children:"Size"}),["sm","md","lg"].map(c=>t.jsx("button",{onClick:()=>n("size",c),className:`px-2.5 py-1 rounded-md border text-xs ${s.size===c?"":"opacity-70"}`,style:{backgroundColor:s.size===c?Ce.active:Ce.btn,borderColor:Ce.border,color:Ce.title},children:c.toUpperCase()},c)),t.jsx("button",{onClick:()=>e(c=>({...c,withIcon:!c.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:s.withIcon?Ce.active:Ce.btn,borderColor:Ce.border,color:Ce.title},children:"Icon"}),t.jsx("button",{onClick:()=>e(c=>({...c,disabled:!c.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:s.disabled?Ce.active:Ce.btn,borderColor:Ce.border,color:Ce.title},children:"Disabled"})]}),t.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:s.baseBorder?`1px solid ${Ce.border}`:"0"},children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ce.title},children:"Core FX"}),a.map(([c,u])=>t.jsx("button",{onClick:()=>r(c),className:`px-2.5 py-1 rounded-md border text-xs ${s[c]?"":"opacity-70"}`,style:{backgroundColor:s[c]?Ce.active:Ce.btn,borderColor:Ce.border,color:Ce.title},children:u},c))]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs font-semibold",style:{color:Ce.title},children:"Advanced"}),l.map(([c,u])=>t.jsx("button",{onClick:()=>r(c),className:`px-2.5 py-1 rounded-md border text-xs ${s[c]?"":"opacity-70"}`,style:{backgroundColor:s[c]?Ce.active:Ce.btn,borderColor:Ce.border,color:Ce.title},children:u},c))]}),t.jsx("button",{onClick:()=>e(Cc),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:Ce.btn,borderColor:Ce.border,color:Ce.title},children:"Reset"})]})}function Bs({fx:s,className:e="",style:n={},children:r,clip:i}){const a=Hl(s);return t.jsxs("div",{className:`relative ${e}`,style:{...a,...n},children:[t.jsx(Ou,{fx:s,clip:i}),t.jsx("div",{className:"relative z-10",children:r})]})}function Gr({fx:s,className:e="",children:n}){return t.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:Ce.tile,border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:n})}function j2e({fx:s}){const[e,n]=E.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Toggle Chips"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const a=e.includes(i);return t.jsx(Bs,{fx:s,className:`rounded-full border ${a?"":"opacity-80"}`,style:{borderColor:Ce.border},children:t.jsx("button",{onClick:()=>n(l=>a?l.filter(c=>c!==i):[...l,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function S2e({fx:s}){return t.jsxs(Gr,{fx:s,className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",style:{color:Ce.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>t.jsx(Bs,{fx:s,className:"rounded-xl border p-2",style:{borderColor:Ce.border},children:t.jsxs("button",{className:"relative",children:[t.jsx(ZT,{size:16}),e===3&&t.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function N2e({fx:s}){return t.jsxs(Bs,{fx:s,className:"rounded-xl p-3",style:{border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Breadcrumb HUD"}),t.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>t.jsx(Bs,{fx:s,className:"rounded-md border px-2 py-1",style:{borderColor:Ce.border},children:e},e))})]})}function k2e({fx:s}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Stat Tiles"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>t.jsxs(Bs,{fx:s,className:"rounded-lg border p-2 text-white",style:{borderColor:Ce.border},children:[t.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),t.jsx("div",{className:"text-sm",children:n.v}),t.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function C2e({fx:s}){const[e,n]=E.useState(.66);return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Meter / Energy Bar"}),t.jsx(Bs,{fx:s,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:Ce.border},children:t.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),t.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>t.jsx(Bs,{fx:s,className:"rounded-md border",style:{borderColor:Ce.border},children:t.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function I2e({fx:s}){return t.jsxs(Gr,{fx:s,className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-sm",style:{color:Ce.title},children:"Badge / Medal"}),t.jsxs(Bs,{fx:s,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:Ce.border},children:[t.jsx(Qc,{size:16}),t.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function T2e({fx:s}){const[e,n]=E.useState(!1);return t.jsxs(Gr,{fx:s,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm",style:{color:Ce.title},children:"Toast / Notification"}),t.jsx(Bs,{fx:s,className:"rounded-md border",style:{borderColor:Ce.border},children:t.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&t.jsxs(Bs,{fx:s,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:Ce.border},children:[t.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),t.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function E2e({fx:s}){const[e,n]=E.useState(!0);return t.jsxs(Gr,{fx:s,className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm",style:{color:Ce.title},children:"Toggle Switch"}),t.jsxs(Bs,{fx:s,className:"relative h-6 w-11 rounded-full border",style:{borderColor:Ce.border},children:[t.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),t.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function A2e({fx:s}){const[e,n]=E.useState(!1),r=["Overview","Stats","Activity","Hydra"];return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Dropdown HUD"}),t.jsx(Bs,{fx:s,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:Ce.border},children:t.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&t.jsx(Bs,{fx:s,className:"mt-2 rounded-lg border",style:{borderColor:Ce.border},children:r.map(i=>t.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function P2e({fx:s}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Radial Menu (Preview)"}),t.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,a=56,l=56+Math.cos(i)*a,c=56+Math.sin(i)*a;return t.jsx(Bs,{fx:s,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:l,top:c,borderColor:Ce.border},children:n},n)}),t.jsx(Bs,{fx:s,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:Ce.border},children:"Menu"})]})]})}function R2e({fx:s}){const e=[1,2,3,4,5],[n,r]=E.useState(2);return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Pagination HUD"}),t.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>t.jsx(Bs,{fx:s,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:Ce.border},children:t.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function L2e({fx:s}){const[e,n]=E.useState(!1);return t.jsxs(Gr,{fx:s,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm",style:{color:Ce.title},children:"Modal HUD"}),t.jsx(Bs,{fx:s,className:"rounded-md border",style:{borderColor:Ce.border},children:t.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&t.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:t.jsxs(Bs,{fx:s,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:Ce.border},children:[t.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),t.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),t.jsxs("div",{className:"mt-3 flex gap-2",children:[t.jsx(Bs,{fx:s,className:"rounded-md border",style:{borderColor:Ce.border},children:t.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),t.jsx(Bs,{fx:s,className:"rounded-md border",style:{borderColor:Ce.border},children:t.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function D2e({fx:s}){const[e,n]=E.useState("");return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Search HUD"}),t.jsx(Bs,{fx:s,className:"rounded-lg border p-2",style:{borderColor:Ce.border},children:t.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function M2e({fx:s}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=E.useState("Bravo");return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"List Selectable"}),t.jsx("div",{className:"space-y-2",children:e.map(i=>t.jsx(Bs,{fx:s,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:Ce.border},children:t.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function F2e({fx:s}){const e=["Init","Scan","Verify","Done"],[n,r]=E.useState(1);return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Steps"}),t.jsx("div",{className:"flex items-center gap-3",children:e.map((i,a)=>t.jsxs(Q.Fragment,{children:[t.jsx(Bs,{fx:s,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${a<=n?"":"opacity-70"}`,style:{borderColor:Ce.border},children:a+1}),a<e.length-1&&t.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx(Bs,{fx:s,className:"rounded-md border",style:{borderColor:Ce.border},children:t.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),t.jsx(Bs,{fx:s,className:"rounded-md border",style:{borderColor:Ce.border},children:t.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function $2e({fx:s}){const e=["","","","","",""];return t.jsxs(Gr,{fx:s,children:[t.jsx("div",{className:"text-sm mb-2",style:{color:Ce.title},children:"Dock Bar"}),t.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>t.jsx(Bs,{fx:s,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:Ce.border},children:n},r))})]})}function B2e(){const[s,e]=E.useState(Cc);return t.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:Ce.bg,color:Ce.txt},children:[t.jsx(p2e,{}),t.jsxs("header",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx($D,{}),t.jsx("h1",{className:"text-xl font-bold",style:{color:Ce.title},children:"Game Buttons Playground"}),t.jsx("span",{className:"text-xs",style:{color:Ce.txt2},children:"(Materials + FX extended + Presets)"})]})}),t.jsx(w2e,{fx:s,setFx:e})]}),t.jsxs("section",{className:"grid gap-4",children:[t.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Ce.tile,border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:[t.jsx("h2",{className:"font-semibold mb-3",style:{color:Ce.title},children:"Shapes"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs(g2e,{fx:s,children:[t.jsx(qT,{size:16})," Diamond"]}),t.jsxs(f2e,{fx:s,children:[t.jsx(QT,{size:16})," Hex"]}),t.jsxs(v2e,{fx:s,children:[t.jsx(Qc,{size:16})," Octagon/Shield"]}),t.jsxs(x2e,{fx:s,children:[t.jsx(YT,{size:16})," Shard"]}),t.jsxs(y2e,{fx:s,children:[t.jsx(wv,{size:16})," Pill/Chip"]}),t.jsx(_2e,{fx:s})]})]}),t.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:Ce.tile,border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:[t.jsx("h2",{className:"font-semibold",style:{color:Ce.title},children:"Tabs"}),t.jsx(b2e,{fx:s,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),t.jsx("section",{className:"grid gap-4",children:t.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Ce.tile,border:s.baseBorder?`1px solid ${Ce.border}`:"0 solid transparent"},children:[t.jsx("h2",{className:"font-semibold mb-3",style:{color:Ce.title},children:"More HUD Patterns"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[t.jsx(j2e,{fx:s}),t.jsx(S2e,{fx:s}),t.jsx(N2e,{fx:s}),t.jsx(k2e,{fx:s}),t.jsx(C2e,{fx:s}),t.jsx(I2e,{fx:s}),t.jsx(T2e,{fx:s}),t.jsx(E2e,{fx:s}),t.jsx(A2e,{fx:s}),t.jsx(P2e,{fx:s}),t.jsx(R2e,{fx:s}),t.jsx(L2e,{fx:s}),t.jsx(D2e,{fx:s}),t.jsx(M2e,{fx:s}),t.jsx(F2e,{fx:s}),t.jsx($2e,{fx:s})]})]})}),t.jsx(O2e,{}),t.jsx("footer",{className:"text-center text-xs",style:{color:Ce.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function O2e(){return E.useEffect(()=>{try{const s=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(s.includes(Cc.material),"Material type present");const e=Hl(Cc);console.assert(e&&typeof e=="object","surfaceStyles returns object"),s.forEach(r=>{const i=CP({...Cc,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Cc[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(m_).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const a=i({...Cc});console.assert(a&&typeof a=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(s){console.error("DevTests error",s)}},[]),null}const cp={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},EI={Arcade:{...cp,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...cp,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Ud={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},IP={display:"grid",gap:8,alignItems:"center"};function po({label:s,value:e,onChange:n}){return t.jsxs("label",{style:{...IP,gridTemplateColumns:"120px 1fr"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function eb({label:s,value:e,min:n,max:r,onChange:i}){return t.jsxs("label",{style:{...IP,gridTemplateColumns:"120px 1fr 70px"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"range",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value))}),t.jsx("input",{type:"number",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value||"0"))})]})}function AI(){const[s,e]=Q.useState(cp),n=Q.useRef(null),r=u=>{const h=n.current;h&&(h.style.setProperty("--page",u.page),h.style.setProperty("--tile",u.tile),h.style.setProperty("--tile-hover",u.tileHover),h.style.setProperty("--nav",u.nav),h.style.setProperty("--active",u.active),h.style.setProperty("--text",u.text),h.style.setProperty("--text-soft",u.textSoft),h.style.setProperty("--title",u.title),h.style.setProperty("--line",u.line),h.style.setProperty("--radius",`${u.radius}px`),h.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),h.style.setProperty("--gap",`${u.gap}px`))};Q.useEffect(()=>{r(s)},[s]);const i=u=>e(EI[u]),a=()=>e(cp),l=()=>{const u=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="sfdatahub-theme.json",h.click()},c=async u=>{const h=await u.text();e({...cp,...JSON.parse(h)})};return t.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[t.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[t.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(EI).map(u=>t.jsx("button",{style:Ud,onClick:()=>i(u),children:u},u)),t.jsx("button",{style:Ud,onClick:a,children:"Default"}),t.jsx("button",{style:Ud,onClick:l,children:"Export JSON"}),t.jsxs("label",{style:{...Ud,display:"inline-block"},children:["Import JSON",t.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&c(u.target.files[0]),style:{display:"none"}})]})]}),t.jsx(po,{label:"Page",value:s.page,onChange:u=>e(h=>({...h,page:u}))}),t.jsx(po,{label:"Tile",value:s.tile,onChange:u=>e(h=>({...h,tile:u}))}),t.jsx(po,{label:"Tile Hover",value:s.tileHover,onChange:u=>e(h=>({...h,tileHover:u}))}),t.jsx(po,{label:"Nav",value:s.nav,onChange:u=>e(h=>({...h,nav:u}))}),t.jsx(po,{label:"Active",value:s.active,onChange:u=>e(h=>({...h,active:u}))}),t.jsx(po,{label:"Text",value:s.text,onChange:u=>e(h=>({...h,text:u}))}),t.jsx(po,{label:"Text Soft",value:s.textSoft,onChange:u=>e(h=>({...h,textSoft:u}))}),t.jsx(po,{label:"Title",value:s.title,onChange:u=>e(h=>({...h,title:u}))}),t.jsx(po,{label:"Line",value:s.line,onChange:u=>e(h=>({...h,line:u}))}),t.jsx(eb,{label:"Radius",value:s.radius,min:8,max:28,onChange:u=>e(h=>({...h,radius:u}))}),t.jsx(eb,{label:"Shadow",value:s.shadow,min:8,max:40,onChange:u=>e(h=>({...h,shadow:u}))}),t.jsx(eb,{label:"Grid Gap",value:s.gap,min:6,max:24,onChange:u=>e(h=>({...h,gap:u}))})]}),t.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[t.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),t.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[t.jsx("button",{style:{...Ud,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),t.jsx("button",{style:Ud,children:"Secondary"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,h)=>t.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[t.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",h+1]}),t.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},h))})]})]})]})}const g_={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},PI={"SFDataHub (Default)":{...g_},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},rx={display:"grid",gap:8,alignItems:"center"},_c={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},wc={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function $i({label:s,value:e,onChange:n}){return t.jsxs("label",{style:{...rx,gridTemplateColumns:"140px 1fr"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function mo({label:s,value:e,min:n,max:r,step:i=1,onChange:a,suffix:l}){return t.jsxs("label",{style:{...rx,gridTemplateColumns:"140px 1fr 70px"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:c=>a(parseFloat(c.target.value))}),t.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:c=>a(parseFloat(c.target.value||"0"))})]})}function V2e({label:s,checked:e,onChange:n}){return t.jsxs("label",{style:{...rx,gridTemplateColumns:"1fr 46px"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:s}),t.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function RI(){const[s,e]=Q.useState(g_),n=Q.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--accent",h.accent),p.style.setProperty("--success",h.success),p.style.setProperty("--warning",h.warning),p.style.setProperty("--danger",h.danger),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--border",`${h.border}px`),p.style.setProperty("--gap",`${h.gap}px`),p.style.setProperty("--shadow",`0 10px ${h.shadow}px rgba(0,0,0,0.30)`),p.style.setProperty("--surface-opacity",`${h.surfaceOpacity}%`),p.style.setProperty("--noise",`${h.noise}%`),p.style.setProperty("--font",h.fontFamily),p.style.setProperty("--font-size",`${h.fontSize}px`),p.style.setProperty("--heading-tight",h.headingsTight?"1.1":"1.3"),p.style.setProperty("--glow",`${h.glow}`),p.style.setProperty("--scanlines",`${h.scanlines}`))};Q.useEffect(()=>{r(s)},[s]);const i=(h,p)=>e(g=>({...g,[h]:p})),a=h=>e(p=>({...p,...PI[h]})),l=()=>{const h=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme-pro.json",p.click()},c=async h=>{try{const p=await h.text(),g=JSON.parse(p);e({...s,...g})}catch(p){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return t.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[t.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[t.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(PI).map(h=>t.jsx("button",{style:_c,onClick:()=>a(h),children:h},h)),t.jsx("button",{style:_c,onClick:()=>e(g_),children:"Reset"}),t.jsx("button",{style:_c,onClick:l,children:"Export"}),t.jsxs("label",{style:{..._c,display:"inline-block"},children:["Import",t.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:h=>h.target.files&&c(h.target.files[0])})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx($i,{label:"Page",value:s.page,onChange:h=>i("page",h)}),t.jsx($i,{label:"Tile",value:s.tile,onChange:h=>i("tile",h)}),t.jsx($i,{label:"Tile Hover",value:s.tileHover,onChange:h=>i("tileHover",h)}),t.jsx($i,{label:"Active",value:s.active,onChange:h=>i("active",h)}),t.jsx($i,{label:"Text",value:s.text,onChange:h=>i("text",h)}),t.jsx($i,{label:"Text Soft",value:s.textSoft,onChange:h=>i("textSoft",h)}),t.jsx($i,{label:"Title",value:s.title,onChange:h=>i("title",h)}),t.jsx($i,{label:"Line",value:s.line,onChange:h=>i("line",h)}),t.jsx($i,{label:"Accent",value:s.accent,onChange:h=>i("accent",h)}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[t.jsx($i,{label:"Success",value:s.success,onChange:h=>i("success",h)}),t.jsx($i,{label:"Warning",value:s.warning,onChange:h=>i("warning",h)}),t.jsx($i,{label:"Danger",value:s.danger,onChange:h=>i("danger",h)})]})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx(mo,{label:"Radius",min:0,max:28,value:s.radius,onChange:h=>i("radius",h)}),t.jsx(mo,{label:"Border (px)",min:0,max:3,step:.5,value:s.border,onChange:h=>i("border",h)}),t.jsx(mo,{label:"Grid Gap",min:6,max:28,value:s.gap,onChange:h=>i("gap",h)}),t.jsx(mo,{label:"Shadow (blur)",min:0,max:48,value:s.shadow,onChange:h=>i("shadow",h)}),t.jsx(mo,{label:"Surface Opacity",min:40,max:100,value:s.surfaceOpacity,onChange:h=>i("surfaceOpacity",h),suffix:"%"}),t.jsx(mo,{label:"Noise",min:0,max:20,value:s.noise,onChange:h=>i("noise",h),suffix:"%"})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsxs("label",{style:{...rx,gridTemplateColumns:"140px 1fr"},children:[t.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),t.jsx("input",{value:s.fontFamily,onChange:h=>i("fontFamily",h.target.value)})]}),t.jsx(mo,{label:"Base Font Size",min:12,max:18,value:s.fontSize,onChange:h=>i("fontSize",h)}),t.jsx(V2e,{label:"Headings tighter",checked:s.headingsTight,onChange:h=>i("headingsTight",h)})]})]}),t.jsxs("details",{open:!0,children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx(mo,{label:"Accent Glow",min:0,max:.6,step:.02,value:s.glow,onChange:h=>i("glow",h)}),t.jsx(mo,{label:"Scanlines",min:0,max:.6,step:.02,value:s.scanlines,onChange:h=>i("scanlines",h)})]})]})]}),t.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[t.jsxs("span",{style:wc,children:[t.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),t.jsx("span",{style:{...wc,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),t.jsx("span",{style:{...wc,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),t.jsx("span",{style:{...wc,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),t.jsxs("span",{style:wc,children:["Radius: ",s.radius]}),t.jsxs("span",{style:wc,children:["Shadow: ",s.shadow]}),t.jsxs("span",{style:wc,children:["Noise: ",s.noise,"%"]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+s.glow*24}px ${s.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),t.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",t.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),t.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((h,p)=>t.jsxs("div",{style:{display:"grid",gap:4},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[t.jsx("span",{children:h.label}),t.jsx("span",{style:{color:"var(--title)"},children:h.value})]}),t.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:t.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(h.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${h.color} 75%, transparent), ${h.color})`,borderRadius:999,boxShadow:`0 0 ${8+s.glow*12}px color-mix(in srgb, ${h.color} 40%, transparent)`}})})]},p))}),t.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[t.jsx("button",{style:{..._c,background:"var(--tile-hover)"},children:"Open Profile"}),t.jsx("button",{style:{..._c,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((h,p)=>t.jsx("button",{style:{..._c,background:p===0?"var(--tile-hover)":"transparent",borderColor:p===0?"var(--active)":"var(--line)",boxShadow:p===0?`0 0 ${10+s.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:h},h))}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((h,p)=>t.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[t.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:h.k}),t.jsx("div",{style:{fontWeight:800,fontSize:24},children:h.v}),t.jsx("div",{style:{fontSize:12,color:h.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:h.trend})]},p))}),t.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[t.jsx("div",{style:{padding:10},children:"Attribute"}),t.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),t.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((h,p)=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:p%2?"rgba(255,255,255,.025)":"transparent"},children:[t.jsx("div",{style:{padding:10},children:h[0]}),t.jsx("div",{style:{padding:10,textAlign:"right"},children:h[1]}),t.jsx("div",{style:{padding:10,textAlign:"right",color:h[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:h[2]})]},p))]})]})]}),t.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const Ut={wrap:{color:"#F5F9FF"},intro:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,marginBottom:14},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:14},card:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)",minHeight:160,display:"flex",flexDirection:"column",gap:10},header:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},sub:{color:"#B0C4D9",fontSize:13,lineHeight:1.4},badgeRow:{display:"flex",gap:6,flexWrap:"wrap"}},ca=(s,e="#1E3A5C")=>t.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",fontSize:11,borderRadius:999,background:e,border:"1px solid rgba(255,255,255,.12)",color:"#D9E7FF",textTransform:"uppercase",letterSpacing:.4},children:s}),yi=()=>t.jsxs("div",{style:Ut.badgeRow,children:[ca("mock"),ca("concept","#234569"),ca("ui","#1F4D67")]}),LI={common:"#1f3b5d",rare:"#234f7a",epic:"#3c2f6d",legendary:"#6b3b0f"};function U2e(){const s=[{title:"Data Whisperer",rarity:"epic",status:"Unlocked"},{title:"Perfect Sync",rarity:"rare",status:"Unlocked"},{title:"Zero Downtime",rarity:"legendary",status:"Locked"},{title:"Scout Elite",rarity:"common",status:"Unlocked"},{title:"API Ranger",rarity:"rare",status:"Locked"},{title:"Schema Sleuth",rarity:"epic",status:"Unlocked"}],e=[{title:"Scan 10 servers",status:"Done",reward:"+250 XP"},{title:"Fix 3 warnings",status:"In progress",reward:"+1 reroll"},{title:"Share a dashboard",status:"Ready",reward:"Title shard"},{title:"Hit uptime streak",status:"Locked",reward:"Glow badge"}],n=[{tier:"Mythic",delta:"+2",trend:"up"},{tier:"Diamond",delta:"-1",trend:"down"},{tier:"Platinum",delta:"+4",trend:"up"},{tier:"Gold",delta:"0",trend:"flat"}],r=[{label:"Level 12",done:!0},{label:"Sync Master",done:!0},{label:"API Adept",done:!1},{label:"Data Virtuoso",done:!1}],i=[{level:1,reward:"Theme Skin",unlocked:!0},{level:4,reward:"Badge Token",unlocked:!0},{level:7,reward:"Loot Cache",unlocked:!1},{level:10,reward:"Mythic Frame",unlocked:!1}],a=[{label:"Common",value:32,color:"#1e3b5d"},{label:"Rare",value:28,color:"#1f5d77"},{label:"Epic",value:22,color:"#3c2f6d"},{label:"Legendary",value:18,color:"#6b3b0f"}],l=[{name:"Link Speed",state:"active"},{name:"Alert Vision",state:"active"},{name:"Schema Insight",state:"locked"},{name:"API Armor",state:"active"},{name:"Sync Surge",state:"active"},{name:"Data Forge",state:"locked"},{name:"Audit Ghost",state:"locked"},{name:"Chronicle",state:"locked"}];return t.jsxs("div",{style:Ut.wrap,children:[t.jsxs("div",{style:Ut.intro,children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:0,color:"#F5F9FF"},children:"Gamified Visuals"}),t.jsx("p",{style:Ut.sub,children:"Static showcase of badges, streaks, ladders, and tracks in SFDataHub styling."})]}),yi()]}),t.jsxs("div",{style:Ut.grid,children:[t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Achievement Badges"}),t.jsx("div",{style:Ut.sub,children:"Unlocked vs. locked set with rarity color tags."})]}),yi()]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:s.map(c=>t.jsxs("div",{style:{border:"1px dashed rgba(255,255,255,.15)",borderRadius:12,padding:10,background:"rgba(255,255,255,.02)"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:6},children:c.title}),t.jsxs("div",{style:Ut.badgeRow,children:[ca(c.status,c.status==="Unlocked"?"#1f4f62":"#422b2b"),ca(c.rarity,LI[c.rarity])]})]},c.title))})]}),t.jsxs("div",{style:{...Ut.card,background:"linear-gradient(145deg, #143257, #0f243d)"},children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Scan Streak"}),t.jsx("div",{style:Ut.sub,children:"Keep the flame alive with consistent daily scans."})]}),yi()]}),t.jsxs("div",{style:{background:"rgba(0,0,0,.25)",borderRadius:12,padding:12,border:"1px solid rgba(255,255,255,.06)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Current streak"}),t.jsx("div",{style:{fontSize:32,fontWeight:800},children:"12 days "})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Best streak"}),t.jsx("div",{style:{fontWeight:700},children:"21 days"}),t.jsx("div",{style:{marginTop:6,background:"#0e1e33",borderRadius:999,padding:"4px 10px"},children:"+3d buffer"})]})]}),t.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next reward: Ember Frame at 14 days."})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Quest Log"}),t.jsx("div",{style:Ut.sub,children:"Short mission stack with rewards."})]}),yi()]}),t.jsx("div",{style:{display:"grid",gap:8},children:e.map(c=>t.jsxs("div",{style:{borderRadius:10,padding:10,background:"rgba(255,255,255,.03)",border:"1px solid rgba(255,255,255,.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:c.title}),t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:c.reward})]}),ca(c.status,c.status==="Done"?"#1f4f62":c.status==="In progress"?"#4f3b1f":"#3a2f4f")]},c.title))})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Trophy Podium"}),t.jsx("div",{style:Ut.sub,children:"Top 3 snapshot with podium heights."})]}),yi()]}),t.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:10,justifyContent:"space-around",paddingTop:8},children:[{rank:2,height:60},{rank:1,height:90},{rank:3,height:45}].map(c=>t.jsxs("div",{style:{textAlign:"center"},children:[t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["#",c.rank]}),t.jsxs("div",{style:{width:70,height:c.height,background:c.rank===1?"linear-gradient(180deg,#f5d26b,#b87b1a)":"linear-gradient(180deg,#345a8a,#203752)",borderRadius:10,border:"1px solid rgba(255,255,255,.2)",display:"grid",placeItems:"center",fontWeight:800,color:c.rank===1?"#1a1a1a":"#F5F9FF"},children:["S",c.rank]}),t.jsxs("div",{style:{marginTop:4,fontSize:12},children:["Squad ",c.rank]})]},c.rank))})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Rank Ladder"}),t.jsx("div",{style:Ut.sub,children:"League rungs with movement delta."})]}),yi()]}),t.jsx("div",{style:{display:"grid",gap:8},children:n.map(c=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderRadius:10,border:"1px solid rgba(255,255,255,.08)",background:"rgba(255,255,255,.02)"},children:[t.jsx("div",{style:{fontWeight:700},children:c.tier}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:c.delta}),t.jsx("span",{style:{color:c.trend==="up"?"#5AD8A6":c.trend==="down"?"#E06C75":"#B0C4D9"},children:c.trend==="up"?"":c.trend==="down"?"":""})]})]},c.tier))})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Milestone Timeline"}),t.jsx("div",{style:Ut.sub,children:"Linear track with unlocked markers."})]}),yi()]}),t.jsxs("div",{style:{position:"relative",padding:"10px 4px 0"},children:[t.jsx("div",{style:{position:"absolute",top:22,left:0,right:0,height:2,background:"rgba(255,255,255,.12)"}}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r.length}, 1fr)`,gap:6,position:"relative"},children:r.map(c=>t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:22,height:22,margin:"0 auto",borderRadius:"50%",background:c.done?"#2d7f5f":"#2f415e",border:"2px solid rgba(255,255,255,.1)",display:"grid",placeItems:"center",fontSize:11,fontWeight:700},children:c.done?"":""}),t.jsx("div",{style:{marginTop:6,fontSize:12},children:c.label})]},c.label))})]})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Collection Ring"}),t.jsx("div",{style:Ut.sub,children:"Donut visualization for scrapbook completion."})]}),yi()]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[t.jsx("div",{style:{width:120,height:120,borderRadius:"50%",background:"conic-gradient(#3c7bd9 0% 68%, #1d3051 68% 100%)",display:"grid",placeItems:"center",border:"1px solid rgba(255,255,255,.08)"},children:t.jsx("div",{style:{width:78,height:78,borderRadius:"50%",background:"#0f1e33",display:"grid",placeItems:"center",color:"#F5F9FF",fontWeight:800},children:"68%"})}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:Ut.badgeRow,children:[ca("Unlocked 45/66","#1f4f62"),ca("Sets: 6","#2a3f68")]}),t.jsx("div",{style:{marginTop:10,fontSize:12,color:"#B0C4D9"},children:"Next reward at 75%: Chronicle stencil frame."})]})]})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Boss HP  Goal Bar"}),t.jsx("div",{style:Ut.sub,children:"Progress toward the next major unlock."})]}),yi()]}),t.jsxs("div",{style:{background:"#0f1f33",borderRadius:12,padding:10,border:"1px solid rgba(255,255,255,.08)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"#B0C4D9"},children:[t.jsx("span",{children:"Phase 2/3"}),t.jsx("span",{children:"82% to go"})]}),t.jsx("div",{style:{height:22,borderRadius:10,overflow:"hidden",marginTop:6,border:"1px solid rgba(255,255,255,.1)"},children:t.jsx("div",{style:{width:"18%",height:"100%",background:"linear-gradient(90deg, #d95f5f, #f2a45d)",boxShadow:"0 0 12px rgba(242,164,93,.4)"}})}),t.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next shield break at 25% HP."})]})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Skill Tree Mini"}),t.jsx("div",{style:Ut.sub,children:"Node states with locked paths."})]}),yi()]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0,1fr))",gap:8},children:l.map(c=>t.jsxs("div",{style:{background:"rgba(255,255,255,.03)",borderRadius:10,border:`1px solid ${c.state==="active"?"rgba(90,216,166,.4)":"rgba(255,255,255,.08)"}`,padding:10,boxShadow:c.state==="active"?"0 0 12px rgba(90,216,166,.25)":"none"},children:[t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:c.state==="active"?"Unlocked":"Locked"}),t.jsx("div",{style:{fontWeight:700,marginTop:4},children:c.name})]},c.name))}),t.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Path glow = active; darker cells stay locked."})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Season Pass Track"}),t.jsx("div",{style:Ut.sub,children:"Horizontal progression with staged rewards."})]}),yi()]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginTop:4},children:[t.jsx("div",{style:{flex:1,height:10,borderRadius:999,background:"#0f1f33",position:"relative",overflow:"hidden"},children:t.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"45%",background:"linear-gradient(90deg,#2a7bbd,#54c9e7)"}})}),ca("45%","#1f4f62")]}),t.jsx("div",{style:{display:"flex",gap:8,marginTop:10,overflowX:"auto"},children:i.map(c=>t.jsxs("div",{style:{minWidth:120,background:"rgba(255,255,255,.03)",borderRadius:12,padding:10,border:`1px solid ${c.unlocked?"rgba(84,201,231,.4)":"rgba(255,255,255,.08)"}`},children:[t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Level ",c.level]}),t.jsx("div",{style:{fontWeight:700},children:c.reward}),t.jsx("div",{style:{marginTop:6},children:ca(c.unlocked?"Claimed":"Locked",c.unlocked?"#1f4f62":"#2f2f4f")})]},c.level))})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Title Plates"}),t.jsx("div",{style:Ut.sub,children:"Unlockable nameplates with rarity glow."})]}),yi()]}),t.jsx("div",{style:{display:"grid",gap:10},children:[{name:"Data Pioneer",tone:"linear-gradient(90deg,#2f5b90,#1f3d68)",rarity:"rare"},{name:"Mythic Cartographer",tone:"linear-gradient(90deg,#6b3b0f,#b87b1a)",rarity:"legendary"},{name:"Night Runner",tone:"linear-gradient(90deg,#28354f,#1a2335)",rarity:"common"}].map(c=>t.jsxs("div",{style:{borderRadius:12,padding:12,background:c.tone,border:"1px solid rgba(255,255,255,.12)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontWeight:800},children:c.name}),ca(c.rarity,LI[c.rarity]||"#234569")]},c.name))})]}),t.jsxs("div",{style:Ut.card,children:[t.jsxs("div",{style:Ut.header,children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Loot / Rarity Mix"}),t.jsx("div",{style:Ut.sub,children:"Stacked distribution snapshot."})]}),yi()]}),t.jsx("div",{style:{height:24,borderRadius:12,overflow:"hidden",display:"flex",border:"1px solid rgba(255,255,255,.08)"},children:a.map(c=>t.jsxs("div",{style:{width:`${c.value}%`,background:c.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,color:"#DAE8FF",borderRight:"1px solid rgba(255,255,255,.05)"},children:[c.value,"%"]},c.label))}),t.jsx("div",{style:Ut.badgeRow,children:a.map(c=>t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"2px 8px",borderRadius:999,background:"rgba(255,255,255,.04)",border:"1px solid rgba(255,255,255,.08)",fontSize:12},children:[t.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:c.color,display:"inline-block"}}),c.label]},c.label))})]})]})]})}const DI=[{id:"quests",title:"Quests & Objectives",description:"Logs, chains, rewards, and difficulty chips.",items:[{id:"11",categoryId:"quests",title:"Quest Log (3 steps)",subtitle:"Ordered checklist",tags:["mock"],previewId:"pv_quest_steps"},{id:"12",categoryId:"quests",title:"Daily Objectives Board",subtitle:"Checkbox grid",tags:["ui"],previewId:"pv_daily_checklist"},{id:"13",categoryId:"quests",title:"Weekly Contract Card",subtitle:"Timer + tear edge",tags:["concept"],previewId:"pv_contract_timer"},{id:"14",categoryId:"quests",title:"Bounty Card",subtitle:"Target + reward tag",tags:["mock"],previewId:"pv_bounty_target"},{id:"15",categoryId:"quests",title:"Multi-Objective Chips",subtitle:"3 tagged goals",tags:["ui"],previewId:"pv_objective_chips"},{id:"16",categoryId:"quests",title:"Quest Chain Path",subtitle:"Linked nodes",tags:["mock"],previewId:"pv_quest_chain_nodes"},{id:"17",categoryId:"quests",title:"Reward Preview Panel",subtitle:"XP + coins bundle",tags:["ui"],previewId:"pv_reward_bundle"},{id:"18",categoryId:"quests",title:"Side Quest Mini",subtitle:"Compact lane",tags:["mock"],previewId:"pv_sidequest_compact"},{id:"19",categoryId:"quests",title:"Claim Reward States",subtitle:"Enabled vs locked",tags:["ui"],previewId:"pv_claim_states"},{id:"20",categoryId:"quests",title:"Difficulty Tags",subtitle:"Easy / Hard / Insane",tags:["mock"],previewId:"pv_difficulty_tags"}]},{id:"progress",title:"Progress Bars & Gauges",description:"Boss phases, dual progress, rings, and risk arcs.",items:[{id:"21",categoryId:"progress",title:"Boss HP Goal Bar",subtitle:"Segmented phases",tags:["mock"],previewId:"pv_boss_hp_segmented"},{id:"22",categoryId:"progress",title:"Dual Progress vs Avg",subtitle:"Overlay marker",tags:["ui"],previewId:"pv_dual_progress_marker"},{id:"23",categoryId:"progress",title:"Segmented Track (10)",subtitle:"10 stops rail",tags:["concept"],previewId:"pv_segment_track_10"},{id:"24",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"pv_donut_completion"},{id:"25",categoryId:"progress",title:"Battery Gauge",subtitle:"Energy level",tags:["ui"],previewId:"pv_battery_gauge"},{id:"26",categoryId:"progress",title:"Thermometer Vertical",subtitle:"Heat column",tags:["mock"],previewId:"pv_thermo_vertical"},{id:"27",categoryId:"progress",title:"Level XP Bar + ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"pv_xp_ticks"},{id:"28",categoryId:"progress",title:"Multi-Stat Mini Bars",subtitle:"STR/DEX/INT/CON/LCK",tags:["mock"],previewId:"pv_multibar_stats5"},{id:"29",categoryId:"progress",title:"Risk Meter",subtitle:"Arc pointer",tags:["concept"],previewId:"pv_risk_meter"},{id:"30",categoryId:"progress",title:"Perfect Run Bar",subtitle:"Checklist + bar",tags:["ui"],previewId:"pv_perfect_run"}]},{id:"rankings",title:"Rankings & Leagues",description:"Podiums, ladders, deltas, and history.",items:[{id:"31",categoryId:"rankings",title:"Trophy Podium Top 3",subtitle:"Height podium",tags:["mock"],previewId:"pv_podium_top3"},{id:"32",categoryId:"rankings",title:"Rank Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"pv_ladder_rungs"},{id:"33",categoryId:"rankings",title:"League Tier Card",subtitle:"Bronze -> Diamond",tags:["concept"],previewId:"pv_league_tiers"},{id:"34",categoryId:"rankings",title:"Rank Delta Chip",subtitle:"Up/down pill",tags:["ui"],previewId:"pv_delta_chip"},{id:"35",categoryId:"rankings",title:"Percentile Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"pv_percentile_gauge"},{id:"36",categoryId:"rankings",title:"Rival Slot (nearest)",subtitle:"You vs nearest",tags:["concept"],previewId:"pv_rival_slot"},{id:"37",categoryId:"rankings",title:"Promotion Zone Highlight",subtitle:"Green band",tags:["ui"],previewId:"pv_promo_zone"},{id:"38",categoryId:"rankings",title:"Relegation Warning",subtitle:"Red band",tags:["mock"],previewId:"pv_relegation_zone"},{id:"39",categoryId:"rankings",title:"Top 5 Mini List",subtitle:"Ranked list",tags:["ui"],previewId:"pv_top5_list"},{id:"40",categoryId:"rankings",title:"Rank History Step",subtitle:"Step chart",tags:["mock"],previewId:"pv_rank_step_history"}]},{id:"duels",title:"Comparisons & Duels",description:"Splits, overlays, and matchup meters.",items:[{id:"41",categoryId:"duels",title:"Stat Split Compare",subtitle:"Two columns",tags:["mock"],previewId:"pv_split_compare"},{id:"42",categoryId:"duels",title:"You vs Avg Bars",subtitle:"Overlay bars",tags:["ui"],previewId:"pv_you_vs_avg_bars"},{id:"43",categoryId:"duels",title:"Best of 3 Dots",subtitle:"Round tracker",tags:["mock"],previewId:"pv_bestof3_dots"},{id:"44",categoryId:"duels",title:"Duel Outcome Card",subtitle:"Win/Loss plate",tags:["ui"],previewId:"pv_duel_outcome"},{id:"45",categoryId:"duels",title:"Advantage Meter",subtitle:"Arrow to winner",tags:["concept"],previewId:"pv_advantage_meter"},{id:"46",categoryId:"duels",title:"KPI Side-by-side",subtitle:"Four KPI tiles",tags:["mock"],previewId:"pv_kpi_tiles_4"},{id:"47",categoryId:"duels",title:"Delta Breakdown Chips",subtitle:"Pos/neg split",tags:["ui"],previewId:"pv_delta_chips_breakdown"},{id:"48",categoryId:"duels",title:"Mirror Match",subtitle:"Symmetric view",tags:["mock"],previewId:"pv_mirror_neutral"},{id:"49",categoryId:"duels",title:"Radar Mock",subtitle:"Polygon radar",tags:["concept"],previewId:"pv_radar_polygon"},{id:"50",categoryId:"duels",title:"Gap to Next",subtitle:"Distance marker",tags:["ui"],previewId:"pv_gap_to_next"}]},{id:"guild",title:"Guild & Social",description:"Roles, readiness, and alliance visuals.",items:[{id:"61",categoryId:"guild",title:"Guild Role Badges",subtitle:"Role chips",tags:["mock"],previewId:"pv_guild_roles"},{id:"62",categoryId:"guild",title:"Contribution Per Member",subtitle:"Member bars",tags:["ui"],previewId:"pv_contrib_bars"},{id:"63",categoryId:"guild",title:"Member Spotlight",subtitle:"Highlight lane",tags:["concept"],previewId:"pv_spotlight_card"},{id:"64",categoryId:"guild",title:"Guild Power Composite",subtitle:"Gauge blend",tags:["mock"],previewId:"pv_guild_power_meter"},{id:"65",categoryId:"guild",title:"Recruitment Slots",subtitle:"Open vs filled",tags:["ui"],previewId:"pv_slots_open_filled"},{id:"66",categoryId:"guild",title:"War Readiness Panel",subtitle:"Status chips",tags:["mock"],previewId:"pv_war_readiness"},{id:"67",categoryId:"guild",title:"Activity Pulse Spark",subtitle:"Pulse waveform",tags:["concept"],previewId:"pv_activity_pulse"},{id:"68",categoryId:"guild",title:"Alliance Link Card",subtitle:"Linked hubs",tags:["mock"],previewId:"pv_alliance_link"},{id:"69",categoryId:"guild",title:"Pinned Announcement",subtitle:"Pinned note",tags:["ui"],previewId:"pv_pinned_announcement"},{id:"70",categoryId:"guild",title:"Trophy Shelf",subtitle:"Shelf icons",tags:["mock"],previewId:"pv_trophy_shelf"}]}],Yt=({label:s})=>t.jsx("span",{className:"g2-pill",children:s}),Dt=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g2-bar tone-${e}`,style:{width:s,height:n}}),MI={pv_quest_steps:()=>t.jsx("div",{className:"g2-preview g2-steps",children:[1,2,3].map(s=>t.jsxs("div",{className:"g2-step-row",children:[t.jsx("span",{className:"g2-step-dot"}),t.jsx(Dt,{width:`${70-s*10}%`,tone:s===3?"muted":"accent"})]},s))}),pv_daily_checklist:()=>t.jsx("div",{className:"g2-preview g2-checklist",children:["Login","Scan","Share","Claim"].map((s,e)=>t.jsxs("div",{className:"g2-check-row",children:[t.jsx("span",{className:`g2-checkbox ${e<2?"checked":""}`}),t.jsx("span",{className:"g2-check-label",children:s}),t.jsx(Dt,{width:`${40+e*10}%`,tone:"accent",height:5})]},s))}),pv_contract_timer:()=>t.jsxs("div",{className:"g2-preview g2-contract",children:[t.jsxs("div",{className:"g2-contract-top",children:[t.jsx(Dt,{width:"80%",tone:"accent"}),t.jsx(Yt,{label:"7d"})]}),t.jsxs("div",{className:"g2-contract-body",children:[t.jsx(Dt,{width:"100%",tone:"muted",height:6}),t.jsx(Dt,{width:"65%",tone:"warning",height:6})]}),t.jsx("div",{className:"g2-contract-tear"})]}),pv_bounty_target:()=>t.jsxs("div",{className:"g2-preview g2-row",children:[t.jsxs("div",{className:"g2-target",children:[t.jsx("div",{className:"g2-target-ring"}),t.jsx("div",{className:"g2-target-dot"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"60%",tone:"accent"}),t.jsx(Dt,{width:"45%",tone:"success"}),t.jsx(Yt,{label:"Reward"})]})]}),pv_objective_chips:()=>t.jsxs("div",{className:"g2-preview g2-chip-stack",children:[t.jsx(Yt,{label:"Win 2 matches"}),t.jsx(Yt,{label:"Scan 3"}),t.jsx(Yt,{label:"Share once"})]}),pv_quest_chain_nodes:()=>t.jsx("div",{className:"g2-preview g2-node-chain",children:[0,1,2,3,4].map(s=>t.jsxs(Q.Fragment,{children:[t.jsx("div",{className:`g2-node ${s<3?"active":""}`}),s<4?t.jsx("div",{className:"g2-node-connector"}):null]},s))}),pv_reward_bundle:()=>t.jsxs("div",{className:"g2-preview g2-row g2-space-between",children:[t.jsx("div",{className:"g2-loot g2-loot-gem"}),t.jsx("div",{className:"g2-loot g2-loot-coin"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"70%",tone:"accent"}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Yt,{label:"+250 XP"}),t.jsx(Yt,{label:"+2 keys"})]})]})]}),pv_sidequest_compact:()=>t.jsxs("div",{className:"g2-preview g2-row g2-sidequest",children:[t.jsx("div",{className:"g2-sidequest-tag",children:"Side"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"60%",tone:"accent"}),t.jsx(Dt,{width:"35%",tone:"muted"})]}),t.jsx("div",{className:"g2-arrow-right"})]}),pv_claim_states:()=>t.jsxs("div",{className:"g2-preview g2-claims",children:[t.jsx("div",{className:"g2-claim-btn enabled",children:"Claim"}),t.jsx("div",{className:"g2-claim-btn disabled",children:"Locked"})]}),pv_difficulty_tags:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Yt,{label:"Easy"}),t.jsx(Yt,{label:"Hard"}),t.jsx(Yt,{label:"Insane"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"40%",tone:"success"}),t.jsx(Dt,{width:"60%",tone:"warning"}),t.jsx(Dt,{width:"80%",tone:"danger"})]})]}),pv_boss_hp_segmented:()=>t.jsxs("div",{className:"g2-preview g2-bossbar",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g2-boss-segment ${s<3?"filled":""}`},s)),t.jsx("div",{className:"g2-marker",style:{left:"72%"}})]}),pv_dual_progress_marker:()=>t.jsxs("div",{className:"g2-preview g2-col g2-gap-xs",children:[t.jsx(Dt,{width:"85%",tone:"accent",height:10}),t.jsxs("div",{className:"g2-dual-overlay",children:[t.jsx(Dt,{width:"60%",tone:"success",height:8}),t.jsx("div",{className:"g2-marker",style:{left:"60%"}}),t.jsx("div",{className:"g2-marker muted",style:{left:"85%"}})]})]}),pv_segment_track_10:()=>t.jsx("div",{className:"g2-preview g2-segment-track",children:Array.from({length:10}).map((s,e)=>t.jsx("div",{className:`g2-segment ${e<6?"active":""}`},e))}),pv_donut_completion:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsxs("div",{className:"g2-donut",children:[t.jsx("div",{className:"g2-donut-fill"}),t.jsx("div",{className:"g2-donut-hole",children:"72%"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"50%",tone:"accent"}),t.jsx(Dt,{width:"40%",tone:"muted"})]})]}),pv_battery_gauge:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsxs("div",{className:"g2-battery",children:[t.jsx("div",{className:"g2-battery-cap"}),t.jsx("div",{className:"g2-battery-fill"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Yt,{label:"82%"}),t.jsx(Dt,{width:"70%",tone:"accent"})]})]}),pv_thermo_vertical:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-thermo",children:t.jsx("div",{className:"g2-thermo-fill"})}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"40%",tone:"warning"}),t.jsx(Dt,{width:"30%",tone:"muted"})]})]}),pv_xp_ticks:()=>t.jsxs("div",{className:"g2-preview g2-col",children:[t.jsxs("div",{className:"g2-xpbar",children:[t.jsx("div",{className:"g2-xp-fill"}),Array.from({length:8}).map((s,e)=>t.jsx("span",{className:"g2-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),t.jsx(Yt,{label:"Level 42"})]}),pv_multibar_stats5:()=>t.jsx("div",{className:"g2-preview g2-stats5",children:["STR","DEX","INT","CON","LCK"].map((s,e)=>t.jsxs("div",{className:"g2-stat-row",children:[t.jsx("span",{className:"g2-stat-label",children:s}),t.jsx(Dt,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success",height:6})]},s))}),pv_risk_meter:()=>t.jsxs("div",{className:"g2-preview g2-risk",children:[t.jsx("div",{className:"g2-risk-arc",children:t.jsx("div",{className:"g2-risk-pointer"})}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Yt,{label:"Risk"}),t.jsx(Yt,{label:"68%"})]})]}),pv_perfect_run:()=>t.jsxs("div",{className:"g2-preview g2-perfect",children:[t.jsx(Dt,{width:"100%",tone:"success",height:12}),t.jsx("div",{className:"g2-checklist tiny",children:["No deaths","No errors","All chests"].map(s=>t.jsxs("div",{className:"g2-check-row",children:[t.jsx("span",{className:"g2-checkbox checked"}),t.jsx("span",{className:"g2-check-label",children:s})]},s))})]}),pv_podium_top3:()=>t.jsx("div",{className:"g2-preview g2-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((s,e)=>t.jsxs("div",{className:`g2-podium-col ${s.tone}`,style:{height:s.h},children:["#",e+1]},e))}),pv_ladder_rungs:()=>t.jsx("div",{className:"g2-preview g2-ladder",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g2-rung ${e===2?"active":""}`},e))}),pv_league_tiers:()=>t.jsxs("div",{className:"g2-preview g2-row g2-league",children:[t.jsx("div",{className:"g2-league-shield"}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"70%",tone:"accent"}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Yt,{label:"Bronze"}),t.jsx(Yt,{label:"Diamond"})]})]})]}),pv_delta_chip:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Yt,{label:"^ +12"}),t.jsx(Yt,{label:"v -3"}),t.jsx(Dt,{width:"50%",tone:"accent"})]}),pv_percentile_gauge:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-percent-gauge",children:t.jsx("div",{className:"g2-percent-needle"})}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Yt,{label:"Top 5%"}),t.jsx(Dt,{width:"40%",tone:"accent"})]})]}),pv_rival_slot:()=>t.jsxs("div",{className:"g2-preview g2-rival",children:[t.jsxs("div",{className:"g2-vs-block",children:[t.jsx(Dt,{width:"60%",tone:"accent"}),t.jsx(Yt,{label:"You"})]}),t.jsx("div",{className:"g2-vs-mid",children:"VS"}),t.jsxs("div",{className:"g2-vs-block rival",children:[t.jsx(Dt,{width:"55%",tone:"warning"}),t.jsx(Yt,{label:"Rival"})]})]}),pv_promo_zone:()=>t.jsxs("div",{className:"g2-preview g2-zone promo",children:[t.jsx("div",{className:"g2-zone-band"}),t.jsx("div",{className:"g2-zone-label",children:"Promotion Zone"})]}),pv_relegation_zone:()=>t.jsxs("div",{className:"g2-preview g2-zone danger",children:[t.jsx("div",{className:"g2-zone-band"}),t.jsx("div",{className:"g2-zone-label",children:"Relegation"})]}),pv_top5_list:()=>t.jsx("div",{className:"g2-preview g2-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((s,e)=>t.jsxs("div",{className:"g2-list-row",children:[t.jsx("span",{className:"g2-list-num",children:e+1}),t.jsx(Dt,{width:`${70-e*8}%`,tone:e<2?"accent":"muted",height:6})]},s))}),pv_rank_step_history:()=>t.jsxs("div",{className:"g2-preview g2-rank-history",children:[Array.from({length:6}).map((s,e)=>t.jsx("div",{className:"g2-rank-node",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),t.jsx("div",{className:"g2-rank-line"})]}),pv_split_compare:()=>t.jsxs("div",{className:"g2-preview g2-split",children:[t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"70%",tone:"accent"}),t.jsx(Dt,{width:"40%",tone:"accent"})]}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"60%",tone:"warning"}),t.jsx(Dt,{width:"50%",tone:"warning"})]})]}),pv_you_vs_avg_bars:()=>t.jsxs("div",{className:"g2-preview g2-col",children:[t.jsxs("div",{className:"g2-overlay-bars",children:[t.jsx(Dt,{width:"80%",tone:"accent",height:10}),t.jsx(Dt,{width:"55%",tone:"muted",height:10})]}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Yt,{label:"You"}),t.jsx(Yt,{label:"Server Avg"})]})]}),pv_bestof3_dots:()=>t.jsx("div",{className:"g2-preview g2-row g2-gap-sm",children:[0,1,2].map(s=>t.jsx("div",{className:`g2-round-dot ${s<2?"won":""}`},s))}),pv_duel_outcome:()=>t.jsxs("div",{className:"g2-preview g2-duel",children:[t.jsx("div",{className:"g2-shield win",children:"Win"}),t.jsx("div",{className:"g2-shield loss",children:"Loss"})]}),pv_advantage_meter:()=>t.jsxs("div",{className:"g2-preview g2-meter",children:[t.jsxs("div",{className:"g2-meter-track",children:[t.jsx("div",{className:"g2-meter-fill"}),t.jsx("div",{className:"g2-meter-pointer",style:{left:"62%"}})]}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Yt,{label:"Advantage"}),t.jsx(Yt,{label:"+12%"})]})]}),pv_kpi_tiles_4:()=>t.jsx("div",{className:"g2-preview g2-kpi-grid",children:["KPI","CTR","UPT","LTV"].map((s,e)=>t.jsxs("div",{className:"g2-kpi-tile",children:[t.jsx("div",{className:"g2-kpi-label",children:s}),t.jsx(Dt,{width:`${40+e*10}%`,tone:"accent"})]},s))}),pv_delta_chips_breakdown:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Yt,{label:"+18"}),t.jsx(Yt,{label:"-5"}),t.jsx(Yt,{label:"+2"}),t.jsx(Yt,{label:"-1"})]}),pv_mirror_neutral:()=>t.jsxs("div",{className:"g2-preview g2-mirror",children:[t.jsx("div",{className:"g2-mirror-half",children:t.jsx(Dt,{width:"60%",tone:"accent"})}),t.jsx("div",{className:"g2-divider"}),t.jsx("div",{className:"g2-mirror-half",children:t.jsx(Dt,{width:"60%",tone:"warning"})})]}),pv_radar_polygon:()=>t.jsx("div",{className:"g2-preview g2-radar",children:t.jsxs("svg",{viewBox:"0 0 120 120",children:[t.jsx("polygon",{points:"60,15 100,50 90,105 30,105 20,50",className:"g2-radar-bg"}),t.jsx("polygon",{points:"60,30 90,55 80,90 40,90 30,55",className:"g2-radar-fill"})]})}),pv_gap_to_next:()=>t.jsxs("div",{className:"g2-preview g2-gap-bar",children:[t.jsx(Dt,{width:"80%",tone:"accent",height:8}),t.jsx("div",{className:"g2-marker",style:{left:"65%"}}),t.jsx("div",{className:"g2-gap-label",children:"Gap: 12 pts"})]}),pv_guild_roles:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Yt,{label:"Leader"}),t.jsx(Yt,{label:"Officer"}),t.jsx(Yt,{label:"Member"})]}),pv_contrib_bars:()=>t.jsx("div",{className:"g2-preview g2-col g2-gap-xs",children:["Ava","Ben","Caro"].map((s,e)=>t.jsxs("div",{className:"g2-contrib-row",children:[t.jsx("span",{className:"g2-contrib-name",children:s}),t.jsx(Dt,{width:`${50+e*15}%`,tone:"accent",height:6})]},s))}),pv_spotlight_card:()=>t.jsxs("div",{className:"g2-preview g2-spotlight",children:[t.jsx("div",{className:"g2-spotlight-glow"}),t.jsx(Dt,{width:"70%",tone:"accent"}),t.jsx(Yt,{label:"Spotlight"})]}),pv_guild_power_meter:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-power-donut",children:t.jsx("div",{className:"g2-power-fill"})}),t.jsxs("div",{className:"g2-col",children:[t.jsx(Dt,{width:"60%",tone:"success"}),t.jsx(Dt,{width:"40%",tone:"warning"})]})]}),pv_slots_open_filled:()=>t.jsx("div",{className:"g2-preview g2-slots",children:[0,1,2,3].map(s=>t.jsx("div",{className:`g2-slot-card ${s<2?"open":"filled"}`},s))}),pv_war_readiness:()=>t.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[t.jsx(Yt,{label:"Ready"}),t.jsx(Yt,{label:"Armor"}),t.jsx(Yt,{label:"Supplies"}),t.jsx(Dt,{width:"50%",tone:"accent"})]}),pv_activity_pulse:()=>t.jsx("div",{className:"g2-preview g2-pulse",children:Array.from({length:14}).map((s,e)=>t.jsx("div",{className:"g2-pulse-bar",style:{height:`${10+e%5*8}px`}},e))}),pv_alliance_link:()=>t.jsxs("div",{className:"g2-preview g2-row g2-center",children:[t.jsx("div",{className:"g2-link-node"}),t.jsx("div",{className:"g2-link-chain"}),t.jsx("div",{className:"g2-link-node"})]}),pv_pinned_announcement:()=>t.jsxs("div",{className:"g2-preview g2-pinned",children:[t.jsx("div",{className:"g2-pin"}),t.jsx(Dt,{width:"70%",tone:"accent"}),t.jsx(Dt,{width:"40%",tone:"muted"})]}),pv_trophy_shelf:()=>t.jsxs("div",{className:"g2-preview g2-shelf",children:[t.jsx("div",{className:"g2-trophies",children:[0,1,2].map(s=>t.jsx("div",{className:"g2-trophy"},s))}),t.jsx("div",{className:"g2-shelf-wood"})]})},z2e=s=>MI[s]?MI[s]():t.jsx("div",{className:"g2-preview",children:t.jsx(Dt,{width:"60%",tone:"accent"})});function H2e(){return t.jsxs("div",{className:"g2-root",children:[t.jsxs("header",{className:"g2-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 2"}),t.jsx("p",{className:"g2-sub",children:"50 unique mock widgets mapped to the original playground list. All static and scoped."})]}),t.jsxs("div",{className:"g2-pill-row",children:[t.jsx(Yt,{label:"mock"}),t.jsx(Yt,{label:"concept"}),t.jsx(Yt,{label:"ui"})]})]}),t.jsx("nav",{className:"g2-toc",children:DI.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g2-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g2-sections",children:DI.map(s=>t.jsxs("details",{className:"g2-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g2-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g2-section-title",children:s.title}),t.jsx("div",{className:"g2-section-sub",children:s.description})]}),t.jsxs("span",{className:"g2-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g2-grid",children:s.items.map(e=>t.jsxs("div",{className:"g2-card",children:[t.jsxs("div",{className:"g2-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g2-card-title",children:e.title}),t.jsx("div",{className:"g2-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g2-pill-row",children:(e.tags||["mock"]).map(n=>t.jsx(Yt,{label:n},n))})]}),z2e(e.previewId)]},e.id))})]},s.id))})]})}const FI=[{id:"badges",title:"Badges & Titles",description:"Unlocks, nameplates, and medal visuals.",items:[{id:"1",categoryId:"badges",title:"Achievement Unlocked",subtitle:"Shimmer check",tags:["mock","ui"],previewId:"g3_badge_unlock_ring"},{id:"2",categoryId:"badges",title:"Locked Badge Mask",subtitle:"Silhouette lock",tags:["mock"],previewId:"g3_badge_lock_mask"},{id:"3",categoryId:"badges",title:"Rarity Fan",subtitle:"Common to mythic fan",tags:["concept"],previewId:"g3_rarity_fan"},{id:"4",categoryId:"badges",title:"Mastery Tiers",subtitle:"I-V concentric",tags:["ui"],previewId:"g3_mastery_tiers"},{id:"5",categoryId:"badges",title:"Title Plate Frame",subtitle:"Nameplate glow",tags:["mock"],previewId:"g3_title_plate"},{id:"6",categoryId:"badges",title:"Medal Banner",subtitle:"Bronze/Silver/Gold bar",tags:["ui"],previewId:"g3_medal_banner"},{id:"7",categoryId:"badges",title:"Badge Glow Card",subtitle:"Starburst pop",tags:["concept"],previewId:"g3_badge_glow"},{id:"8",categoryId:"badges",title:"Approved Stamp",subtitle:"Circular stamp",tags:["mock"],previewId:"g3_stamp_card"},{id:"9",categoryId:"badges",title:"Showcase Strip",subtitle:"Static carousel",tags:["ui"],previewId:"g3_showcase_strip"},{id:"10",categoryId:"badges",title:"First Scan Popover",subtitle:"Speech bubble",tags:["mock"],previewId:"g3_first_popover"}]},{id:"progress",title:"Progress & Gauges",description:"Bars, gauges, and segmented tracks.",items:[{id:"11",categoryId:"progress",title:"Boss Segments",subtitle:"Phase chunks",tags:["mock"],previewId:"g3_boss_segments"},{id:"12",categoryId:"progress",title:"Dual Progress",subtitle:"You vs avg marker",tags:["ui"],previewId:"g3_dual_progress"},{id:"13",categoryId:"progress",title:"Segment Rail",subtitle:"10-block rail",tags:["concept"],previewId:"g3_segment_rail"},{id:"14",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"g3_donut_completion"},{id:"15",categoryId:"progress",title:"Battery Meter",subtitle:"Energy cell",tags:["ui"],previewId:"g3_battery_meter"},{id:"16",categoryId:"progress",title:"Thermo Column",subtitle:"Vertical fill",tags:["mock"],previewId:"g3_thermo_column"},{id:"17",categoryId:"progress",title:"XP With Ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"g3_xp_ticks"},{id:"18",categoryId:"progress",title:"Stat Stack",subtitle:"Five attributes",tags:["mock"],previewId:"g3_stat_stack"},{id:"19",categoryId:"progress",title:"Risk Arc",subtitle:"Arc meter",tags:["concept"],previewId:"g3_risk_arc"},{id:"20",categoryId:"progress",title:"Perfect Run",subtitle:"Checklist + bar",tags:["ui"],previewId:"g3_perfect_run"}]},{id:"rankings",title:"Rankings & Competitive",description:"Podiums, ladders, deltas, and rivals.",items:[{id:"21",categoryId:"rankings",title:"Podium Trio",subtitle:"Top 3 heights",tags:["mock"],previewId:"g3_podium_trio"},{id:"22",categoryId:"rankings",title:"Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"g3_ladder_rungs"},{id:"23",categoryId:"rankings",title:"League Shield",subtitle:"Tier shield",tags:["concept"],previewId:"g3_league_shield"},{id:"24",categoryId:"rankings",title:"Delta Chips",subtitle:"Up/Down pills",tags:["ui"],previewId:"g3_delta_chips"},{id:"25",categoryId:"rankings",title:"Percent Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"g3_percent_gauge"},{id:"26",categoryId:"rankings",title:"Rival Split",subtitle:"You vs rival",tags:["concept"],previewId:"g3_rival_split"},{id:"27",categoryId:"rankings",title:"Promotion Band",subtitle:"Green band",tags:["ui"],previewId:"g3_promo_band"},{id:"28",categoryId:"rankings",title:"Relegation Band",subtitle:"Red band",tags:["mock"],previewId:"g3_relegation_band"},{id:"29",categoryId:"rankings",title:"Top Five Rows",subtitle:"Ranked rows",tags:["ui"],previewId:"g3_top_five"},{id:"30",categoryId:"rankings",title:"Rank Steps",subtitle:"Step chart",tags:["mock"],previewId:"g3_rank_steps"}]},{id:"collections",title:"Collections & Inventory",description:"Binders, stickers, and milestones.",items:[{id:"31",categoryId:"collections",title:"Binder Slots",subtitle:"Grid slots",tags:["mock"],previewId:"g3_binder_slots"},{id:"32",categoryId:"collections",title:"Set Progress",subtitle:"3 of 5 lit",tags:["ui"],previewId:"g3_set_progress"},{id:"33",categoryId:"collections",title:"Missing Checklist",subtitle:"Remaining shards",tags:["mock"],previewId:"g3_missing_list"},{id:"34",categoryId:"collections",title:"Rarity Rows",subtitle:"Tier lines",tags:["concept"],previewId:"g3_rarity_rows"},{id:"35",categoryId:"collections",title:"Legendary Spread",subtitle:"Book spread",tags:["ui"],previewId:"g3_legendary_spread"},{id:"36",categoryId:"collections",title:"Pet Album",subtitle:"Avatar minis",tags:["mock"],previewId:"g3_pet_album"},{id:"37",categoryId:"collections",title:"Sticker Sheet",subtitle:"Sticker grid",tags:["concept"],previewId:"g3_sticker_sheet"},{id:"38",categoryId:"collections",title:"Duplicate Dial",subtitle:"Count dial",tags:["ui"],previewId:"g3_duplicate_dial"},{id:"39",categoryId:"collections",title:"Trade/Lock Tags",subtitle:"State chips",tags:["mock"],previewId:"g3_trade_lock"},{id:"40",categoryId:"collections",title:"Collection Timeline",subtitle:"Milestone nodes",tags:["ui"],previewId:"g3_collection_timeline"}]},{id:"micro",title:"Micro Interactions",description:"Toasts, tabs, ribbons, and overlays.",items:[{id:"41",categoryId:"micro",title:"Unlock Glow",subtitle:"Glowing card",tags:["mock"],previewId:"g3_unlock_glow"},{id:"42",categoryId:"micro",title:"Inspect Tooltip",subtitle:"Hover tip",tags:["ui"],previewId:"g3_inspect_tooltip"},{id:"43",categoryId:"micro",title:"Confetti Burst",subtitle:"Sprinkled dots",tags:["concept"],previewId:"g3_confetti_burst"},{id:"44",categoryId:"micro",title:"Corner Ribbon",subtitle:"New ribbon",tags:["mock"],previewId:"g3_corner_ribbon"},{id:"45",categoryId:"micro",title:"Locked Blur",subtitle:"Frosted overlay",tags:["ui"],previewId:"g3_locked_blur"},{id:"46",categoryId:"micro",title:"Pulse Progress",subtitle:"Animated pulse",tags:["concept"],previewId:"g3_pulse_progress"},{id:"47",categoryId:"micro",title:"Mini Tabs",subtitle:"Inline tab pills",tags:["ui"],previewId:"g3_mini_tabs"},{id:"48",categoryId:"micro",title:"Expandable Block",subtitle:"Details reveal",tags:["mock"],previewId:"g3_expand_block"},{id:"49",categoryId:"micro",title:"Toast Message",subtitle:"Inline toast",tags:["ui"],previewId:"g3_toast_message"},{id:"50",categoryId:"micro",title:"Quest Failed",subtitle:"Warning slab",tags:["mock"],previewId:"g3_quest_failed"}]}],Wn=({label:s})=>t.jsx("span",{className:"g3-pill",children:s}),xs=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g3-bar tone-${e}`,style:{width:s,height:n}}),ef=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g3-dot tone-${s}`,style:{width:e,height:e}}),G2e=s=>{const e=W2e[s];return e?e():t.jsx("div",{className:"g3-preview g3-fallback"})},W2e={g3_badge_unlock_ring:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-icon ring success",children:t.jsx("span",{className:"g3-checkmark"})}),t.jsxs("div",{className:"g3-col",children:[t.jsx(xs,{width:"80%",tone:"success"}),t.jsxs("div",{className:"g3-pill-row",children:[t.jsx(Wn,{label:"Unlocked"}),t.jsx(Wn,{label:"+150 XP"})]})]})]}),g3_badge_lock_mask:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-icon ring muted",children:t.jsx("div",{className:"g3-lock-hole"})}),t.jsxs("div",{className:"g3-col",children:[t.jsx("div",{className:"g3-mask-figure"}),t.jsx(xs,{width:"60%",tone:"muted"})]})]}),g3_rarity_fan:()=>t.jsx("div",{className:"g3-preview g3-row g3-gap-sm",children:["muted","accent","success","warning","danger"].map(s=>t.jsx("div",{className:`g3-diamond tone-${s}`},s))}),g3_mastery_tiers:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-ring-stack",children:[1,2,3].map(s=>t.jsx("div",{className:`g3-ring-${s}`},s))}),t.jsxs("div",{className:"g3-col",children:[t.jsx(xs,{width:"65%"}),t.jsxs("div",{className:"g3-dot-row",children:[t.jsx(ef,{}),t.jsx(ef,{tone:"success"}),t.jsx(ef,{tone:"warning"})]})]})]}),g3_title_plate:()=>t.jsxs("div",{className:"g3-preview g3-plate",children:[t.jsx("div",{className:"g3-plate-left"}),t.jsx("div",{className:"g3-plate-text",children:"Title"}),t.jsx("div",{className:"g3-plate-right"})]}),g3_medal_banner:()=>t.jsxs("div",{className:"g3-preview g3-row g3-space-between",children:[t.jsx("div",{className:"g3-medal bronze"}),t.jsx("div",{className:"g3-medal silver"}),t.jsx("div",{className:"g3-medal gold"})]}),g3_badge_glow:()=>t.jsxs("div",{className:"g3-preview g3-row",children:[t.jsx("div",{className:"g3-starburst"}),t.jsxs("div",{className:"g3-col",children:[t.jsx(xs,{width:"70%"}),t.jsx(xs,{width:"45%",tone:"success"})]})]}),g3_stamp_card:()=>t.jsxs("div",{className:"g3-preview g3-stamp-card",children:[t.jsx("div",{className:"g3-stamp-ring",children:"APPROVED"}),t.jsx(xs,{width:"60%"})]}),g3_showcase_strip:()=>t.jsxs("div",{className:"g3-preview g3-carousel",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g3-slide ${s===1?"active":""}`},s)),t.jsx("div",{className:"g3-dot-row",children:[0,1,2,3].map(s=>t.jsx(ef,{tone:s===1?"accent":"muted"},s))})]}),g3_first_popover:()=>t.jsxs("div",{className:"g3-preview g3-pop",children:[t.jsxs("div",{className:"g3-pop-bubble",children:[t.jsx("div",{className:"g3-pop-title",children:"First scan"}),t.jsx(xs,{width:"70%"})]}),t.jsx("div",{className:"g3-pop-arrow"})]}),g3_boss_segments:()=>t.jsxs("div",{className:"g3-preview g3-bossbar",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g3-boss-segment ${s<3?"filled":""}`},s)),t.jsx("div",{className:"g3-marker",style:{left:"72%"}})]}),g3_dual_progress:()=>t.jsxs("div",{className:"g3-preview g3-col",children:[t.jsx(xs,{width:"85%"}),t.jsxs("div",{className:"g3-dual",children:[t.jsx(xs,{width:"60%",tone:"success",height:8}),t.jsx("div",{className:"g3-marker",style:{left:"60%"}}),t.jsx("div",{className:"g3-marker muted",style:{left:"85%"}})]})]}),g3_segment_rail:()=>t.jsx("div",{className:"g3-preview g3-rail",children:Array.from({length:10}).map((s,e)=>t.jsx("div",{className:`g3-rail-segment ${e<6?"active":""}`},e))}),g3_donut_completion:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsxs("div",{className:"g3-donut",children:[t.jsx("div",{className:"g3-donut-fill"}),t.jsx("div",{className:"g3-donut-hole",children:"72%"})]}),t.jsx(xs,{width:"50%"})]}),g3_battery_meter:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsxs("div",{className:"g3-battery",children:[t.jsx("div",{className:"g3-battery-cap"}),t.jsx("div",{className:"g3-battery-fill"})]}),t.jsx(Wn,{label:"82%"})]}),g3_thermo_column:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsx("div",{className:"g3-thermo",children:t.jsx("div",{className:"g3-thermo-fill"})}),t.jsxs("div",{className:"g3-col",children:[t.jsx(xs,{width:"40%",tone:"warning"}),t.jsx(xs,{width:"30%",tone:"muted"})]})]}),g3_xp_ticks:()=>t.jsxs("div",{className:"g3-preview g3-col",children:[t.jsxs("div",{className:"g3-xpbar",children:[t.jsx("div",{className:"g3-xp-fill"}),Array.from({length:8}).map((s,e)=>t.jsx("span",{className:"g3-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),t.jsx(Wn,{label:"Lvl 42"})]}),g3_stat_stack:()=>t.jsx("div",{className:"g3-preview g3-stats",children:["STR","DEX","INT","CON","LCK"].map((s,e)=>t.jsxs("div",{className:"g3-stat-row",children:[t.jsx("span",{className:"g3-stat-label",children:s}),t.jsx(xs,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success"})]},s))}),g3_risk_arc:()=>t.jsxs("div",{className:"g3-preview g3-risk",children:[t.jsx("div",{className:"g3-risk-arc",children:t.jsx("div",{className:"g3-risk-pointer"})}),t.jsx(Wn,{label:"68%"})]}),g3_perfect_run:()=>t.jsxs("div",{className:"g3-preview g3-perfect",children:[t.jsx(xs,{width:"100%",tone:"success"}),t.jsx("div",{className:"g3-checklist tiny",children:["No deaths","No errors","All chests"].map(s=>t.jsxs("div",{className:"g3-check-row",children:[t.jsx("span",{className:"g3-checkbox checked"}),t.jsx("span",{className:"g3-check-label",children:s})]},s))})]}),g3_podium_trio:()=>t.jsx("div",{className:"g3-preview g3-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((s,e)=>t.jsxs("div",{className:`g3-podium-col ${s.tone}`,style:{height:s.h},children:["#",e+1]},e))}),g3_ladder_rungs:()=>t.jsx("div",{className:"g3-preview g3-ladder",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g3-rung ${e===2?"active":""}`},e))}),g3_league_shield:()=>t.jsxs("div",{className:"g3-preview g3-row g3-league",children:[t.jsx("div",{className:"g3-league-shield"}),t.jsx(xs,{width:"70%"})]}),g3_delta_chips:()=>t.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[t.jsx(Wn,{label:"^ +12"}),t.jsx(Wn,{label:"v -3"}),t.jsx(xs,{width:"50%"})]}),g3_percent_gauge:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsx("div",{className:"g3-percent",children:t.jsx("div",{className:"g3-percent-needle"})}),t.jsx(Wn,{label:"Top 5%"})]}),g3_rival_split:()=>t.jsxs("div",{className:"g3-preview g3-rival",children:[t.jsxs("div",{className:"g3-vs",children:[t.jsx(xs,{width:"60%"}),t.jsx(Wn,{label:"You"})]}),t.jsx("div",{className:"g3-vs-mid",children:"VS"}),t.jsxs("div",{className:"g3-vs rival",children:[t.jsx(xs,{width:"55%",tone:"warning"}),t.jsx(Wn,{label:"Rival"})]})]}),g3_promo_band:()=>t.jsxs("div",{className:"g3-preview g3-zone promo",children:[t.jsx("div",{className:"g3-zone-band"}),t.jsx("div",{className:"g3-zone-label",children:"Promotion"})]}),g3_relegation_band:()=>t.jsxs("div",{className:"g3-preview g3-zone danger",children:[t.jsx("div",{className:"g3-zone-band"}),t.jsx("div",{className:"g3-zone-label",children:"Relegation"})]}),g3_top_five:()=>t.jsx("div",{className:"g3-preview g3-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((s,e)=>t.jsxs("div",{className:"g3-list-row",children:[t.jsx("span",{className:"g3-list-num",children:e+1}),t.jsx(xs,{width:`${70-e*8}%`,tone:e<2?"accent":"muted"})]},s))}),g3_rank_steps:()=>t.jsxs("div",{className:"g3-preview g3-rank-steps",children:[Array.from({length:6}).map((s,e)=>t.jsx("div",{className:"g3-step-dot",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),t.jsx("div",{className:"g3-step-line"})]}),g3_binder_slots:()=>t.jsx("div",{className:"g3-preview g3-grid-cards",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g3-slot ${e<3?"filled":""}`},e))}),g3_set_progress:()=>t.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[Array.from({length:5}).map((s,e)=>t.jsx("div",{className:`g3-piece ${e<3?"active":""}`},e)),t.jsx(Wn,{label:"3 / 5"})]}),g3_missing_list:()=>t.jsx("div",{className:"g3-preview g3-checklist",children:["Shard A","Shard B","Shard C"].map((s,e)=>t.jsxs("div",{className:"g3-check-row",children:[t.jsx("span",{className:`g3-checkbox ${e===2?"":"checked"}`}),t.jsx("span",{className:"g3-check-label",children:s})]},s))}),g3_rarity_rows:()=>t.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[t.jsx(xs,{width:"90%",tone:"muted"}),t.jsx(xs,{width:"70%",tone:"accent"}),t.jsx(xs,{width:"50%",tone:"success"}),t.jsx(xs,{width:"40%",tone:"warning"}),t.jsx(xs,{width:"30%",tone:"danger"})]}),g3_legendary_spread:()=>t.jsxs("div",{className:"g3-preview g3-book",children:[t.jsx("div",{className:"g3-book-page left"}),t.jsx("div",{className:"g3-book-page right"})]}),g3_pet_album:()=>t.jsx("div",{className:"g3-preview g3-pet-grid",children:Array.from({length:6}).map((s,e)=>t.jsxs("div",{className:"g3-pet-avatar",children:[t.jsx("span",{className:"g3-pet-ear"}),t.jsx("span",{className:"g3-pet-ear"})]},e))}),g3_sticker_sheet:()=>t.jsx("div",{className:"g3-preview g3-sticker-sheet",children:Array.from({length:4}).map((s,e)=>t.jsx("div",{className:"g3-sticker"},e))}),g3_duplicate_dial:()=>t.jsxs("div",{className:"g3-preview g3-row g3-center",children:[t.jsx("div",{className:"g3-counter",children:t.jsx("div",{className:"g3-counter-needle"})}),t.jsx(Wn,{label:"x4"})]}),g3_trade_lock:()=>t.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[t.jsx(Wn,{label:"Tradeable"}),t.jsx(Wn,{label:"Locked"}),t.jsx(xs,{width:"40%"})]}),g3_collection_timeline:()=>t.jsxs("div",{className:"g3-preview g3-timeline",children:[[10,25,50,100].map((s,e)=>t.jsx("div",{className:"g3-timeline-node",style:{left:`${e*25}%`},children:t.jsx("span",{className:"g3-timeline-label",children:s})},s)),t.jsx("div",{className:"g3-timeline-line"})]}),g3_unlock_glow:()=>t.jsx("div",{className:"g3-preview g3-glow-card",children:t.jsx(xs,{width:"60%",tone:"success"})}),g3_inspect_tooltip:()=>t.jsxs("div",{className:"g3-preview g3-tooltip-card",children:[t.jsx("div",{className:"g3-tooltip-box",children:"Inspect"}),t.jsx("div",{className:"g3-tooltip-tail"})]}),g3_confetti_burst:()=>t.jsx("div",{className:"g3-preview g3-confetti",children:Array.from({length:12}).map((s,e)=>t.jsx("div",{className:"g3-confetti-dot"},e))}),g3_corner_ribbon:()=>t.jsxs("div",{className:"g3-preview g3-corner",children:[t.jsx("div",{className:"g3-corner-ribbon",children:"New"}),t.jsx(xs,{width:"60%"})]}),g3_locked_blur:()=>t.jsxs("div",{className:"g3-preview g3-locked",children:[t.jsx("div",{className:"g3-locked-mask"}),t.jsx("div",{className:"g3-lock-hole"})]}),g3_pulse_progress:()=>t.jsx("div",{className:"g3-preview g3-pulse-bar",children:t.jsx("div",{className:"g3-pulse-fill"})}),g3_mini_tabs:()=>t.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[t.jsxs("div",{className:"g3-tabs",children:[t.jsx("div",{className:"g3-tab active",children:"One"}),t.jsx("div",{className:"g3-tab",children:"Two"}),t.jsx("div",{className:"g3-tab",children:"Three"})]}),t.jsx(xs,{width:"70%"})]}),g3_expand_block:()=>t.jsxs("div",{className:"g3-preview g3-details",children:[t.jsx("div",{className:"g3-details-summary",children:"Details"}),t.jsxs("div",{className:"g3-details-body",children:[t.jsx(xs,{width:"60%",tone:"muted"}),t.jsx(xs,{width:"40%",tone:"muted"})]})]}),g3_toast_message:()=>t.jsxs("div",{className:"g3-preview g3-toast",children:[t.jsx("div",{className:"g3-toast-dot"}),t.jsx(xs,{width:"70%"})]}),g3_quest_failed:()=>t.jsxs("div",{className:"g3-preview g3-failed",children:[t.jsx("div",{className:"g3-warning-icon"}),t.jsxs("div",{className:"g3-col",children:[t.jsx(xs,{width:"60%",tone:"danger"}),t.jsx(xs,{width:"40%",tone:"muted"})]})]})};function K2e(){return t.jsxs("div",{className:"g3-root",children:[t.jsxs("header",{className:"g3-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 3"}),t.jsx("p",{className:"g3-sub",children:"50 unique mock previews across 5 categories. All static and scoped to this page."})]}),t.jsxs("div",{className:"g3-pill-row",children:[t.jsx(Wn,{label:"mock"}),t.jsx(Wn,{label:"concept"}),t.jsx(Wn,{label:"ui"})]})]}),t.jsx("nav",{className:"g3-toc",children:FI.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g3-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g3-sections",children:FI.map(s=>t.jsxs("details",{className:"g3-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g3-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g3-section-title",children:s.title}),t.jsx("div",{className:"g3-section-sub",children:s.description})]}),t.jsxs("span",{className:"g3-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g3-grid",children:s.items.map(e=>t.jsxs("div",{className:"g3-card",children:[t.jsxs("div",{className:"g3-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g3-card-title",children:e.title}),t.jsx("div",{className:"g3-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g3-pill-row",children:(e.tags||["mock"]).map(n=>t.jsx(Wn,{label:n},n))})]}),G2e(e.previewId)]},e.id))})]},s.id))})]})}const $I=[{id:"controls",title:"Controls & Navigation",description:"Chips, toggles, sliders, and small navigation rails.",items:[{id:"1",categoryId:"controls",title:"Segmented Toggle Bar",subtitle:"3 states, active glow",tags:["UI"],previewId:"pv_ui_seg_toggle_3"},{id:"2",categoryId:"controls",title:"Icon Tab Rail",subtitle:"mini tabs with badges",tags:["UI"],previewId:"pv_ui_icon_tabs_badges"},{id:"3",categoryId:"controls",title:"Filter Chips Row",subtitle:"wrap + selected state",tags:["UI"],previewId:"pv_ui_filter_chips_wrap"},{id:"4",categoryId:"controls",title:"Sort Pill Switch",subtitle:"ASC/DESC pill",tags:["UI"],previewId:"pv_ui_sort_pill"},{id:"5",categoryId:"controls",title:"Search Field + Hint",subtitle:"inline hint + icon",tags:["UI"],previewId:"pv_ui_search_hint"},{id:"6",categoryId:"controls",title:"Dropdown Menu Stack",subtitle:"3 options + separators",tags:["UI"],previewId:"pv_ui_dropdown_stack"},{id:"7",categoryId:"controls",title:"Range Slider Track",subtitle:"ticks + thumb",tags:["UI"],previewId:"pv_ui_slider_ticks"},{id:"8",categoryId:"controls",title:"Stepper Control",subtitle:"prev/next + step dots",tags:["UI"],previewId:"pv_ui_stepper_dots"},{id:"9",categoryId:"controls",title:"Compact Pagination",subtitle:"1..5 + next",tags:["UI"],previewId:"pv_ui_pagination_compact"},{id:"10",categoryId:"controls",title:"Sticky Subnav",subtitle:"active underline",tags:["UI"],previewId:"pv_ui_sticky_subnav"}]},{id:"cards",title:"Cards, Frames, Overlays",description:"Mini cards, ribbons, overlays, and tooltip shells.",items:[{id:"11",categoryId:"cards",title:"Card Header Ribbon",subtitle:"angled label",tags:["UI"],previewId:"pv_ui_ribbon_header"},{id:"12",categoryId:"cards",title:"Corner Tag Overlay",subtitle:"top-right chip",tags:["UI"],previewId:"pv_ui_corner_tag"},{id:"13",categoryId:"cards",title:"Locked Overlay Blur",subtitle:"frosted lock",tags:["UI"],previewId:"pv_ui_locked_blur2"},{id:"14",categoryId:"cards",title:"Tooltip Bubble",subtitle:"arrow + shadow",tags:["UI"],previewId:"pv_ui_tooltip_bubble"},{id:"15",categoryId:"cards",title:"Popover Panel",subtitle:"title + actions",tags:["UI"],previewId:"pv_ui_popover_panel"},{id:"16",categoryId:"cards",title:"Modal Mini Mock",subtitle:"header/body/footer",tags:["UI"],previewId:"pv_ui_modal_mini"},{id:"17",categoryId:"cards",title:"Drawer Slide Mock",subtitle:"right drawer",tags:["UI"],previewId:"pv_ui_drawer_right"},{id:"18",categoryId:"cards",title:"Toast Stack",subtitle:"3 toasts",tags:["UI"],previewId:"pv_ui_toast_stack3"},{id:"19",categoryId:"cards",title:"Inline Callout",subtitle:"info box",tags:["UI"],previewId:"pv_ui_callout_inline"},{id:"20",categoryId:"cards",title:"Badge Cluster",subtitle:"3 badge styles",tags:["UI"],previewId:"pv_ui_badge_cluster"}]},{id:"progress",title:"Progress & Meters",description:"Bars, dials, ladders, and dual markers.",items:[{id:"21",categoryId:"progress",title:"XP Bar with Ticks",subtitle:"level ticks",tags:["UI"],previewId:"pv_ui_xp_ticks2"},{id:"22",categoryId:"progress",title:"Dual Marker Bar",subtitle:"avg marker line",tags:["UI"],previewId:"pv_ui_dual_marker_bar"},{id:"23",categoryId:"progress",title:"Donut + Label",subtitle:"% inside ring",tags:["UI"],previewId:"pv_ui_donut_label"},{id:"24",categoryId:"progress",title:"Segmented Track 12",subtitle:"filled segments",tags:["UI"],previewId:"pv_ui_segment_track_12"},{id:"25",categoryId:"progress",title:"Vertical Thermometer",subtitle:"fill + cap",tags:["UI"],previewId:"pv_ui_thermo_cap"},{id:"26",categoryId:"progress",title:"Battery Gauge",subtitle:"4 cells",tags:["UI"],previewId:"pv_ui_battery_cells"},{id:"27",categoryId:"progress",title:"Multi Stat Microbars",subtitle:"5 bars",tags:["UI"],previewId:"pv_ui_microbars_5"},{id:"28",categoryId:"progress",title:"Streak Chain Meter",subtitle:"linked dots",tags:["UI"],previewId:"pv_ui_streak_chain"},{id:"29",categoryId:"progress",title:"Risk Dial",subtitle:"semi arc gauge",tags:["UI"],previewId:"pv_ui_risk_semi_dial"},{id:"30",categoryId:"progress",title:"Goal Ladder",subtitle:"milestones steps",tags:["UI"],previewId:"pv_ui_goal_ladder"}]},{id:"lists",title:"Lists & Tables",description:"Leaderboard rows, KPIs, timelines, and accordions.",items:[{id:"31",categoryId:"lists",title:"Mini Leaderboard",subtitle:"top 5 rows",tags:["UI"],previewId:"pv_ui_leaderboard_5"},{id:"32",categoryId:"lists",title:"Two-Column KPI List",subtitle:"label/value",tags:["UI"],previewId:"pv_ui_kpi_list_2col"},{id:"33",categoryId:"lists",title:"Table Row Hover",subtitle:"highlight row mock",tags:["UI"],previewId:"pv_ui_table_hover"},{id:"34",categoryId:"lists",title:"Rank Delta Row",subtitle:" chips in row",tags:["UI"],previewId:"pv_ui_rank_delta_row"},{id:"35",categoryId:"lists",title:"Avatar List Compact",subtitle:"3 entries",tags:["UI"],previewId:"pv_ui_avatar_list3"},{id:"36",categoryId:"lists",title:"Timeline Row",subtitle:"dots + text",tags:["UI"],previewId:"pv_ui_timeline_row"},{id:"37",categoryId:"lists",title:"Split Panel List",subtitle:"left labels, right values",tags:["UI"],previewId:"pv_ui_split_panel_list"},{id:"38",categoryId:"lists",title:"Chip List with Counts",subtitle:"chips + numbers",tags:["UI"],previewId:"pv_ui_chip_counts"},{id:"39",categoryId:"lists",title:"Accordion List",subtitle:"3 items expanded",tags:["UI"],previewId:"pv_ui_accordion3"},{id:"40",categoryId:"lists",title:"Activity Spark Row",subtitle:"sparkline + value",tags:["UI"],previewId:"pv_ui_spark_row"}]},{id:"animated",title:"Animated/Interactive UI",description:"Pulses, flips, shimmer, and motion stripes.",items:[{id:"41",categoryId:"animated",title:"Pulse Progress",subtitle:"subtle animated fill",tags:["UI"],previewId:"pv_ui_pulse_progress2"},{id:"42",categoryId:"animated",title:"Unlock Glow",subtitle:"animated border glow",tags:["UI"],previewId:"pv_ui_unlock_glow2"},{id:"43",categoryId:"animated",title:"Shimmer Skeleton",subtitle:"loading skeleton",tags:["UI"],previewId:"pv_ui_skeleton_shimmer"},{id:"44",categoryId:"animated",title:"Confetti Dots",subtitle:"sprinkle burst",tags:["UI"],previewId:"pv_ui_confetti_dots2"},{id:"45",categoryId:"animated",title:"Hover Lift Card",subtitle:"lift + shadow",tags:["UI"],previewId:"pv_ui_hover_lift"},{id:"46",categoryId:"animated",title:"Scan Ping Indicator",subtitle:"radial ping",tags:["UI"],previewId:"pv_ui_ping_indicator"},{id:"47",categoryId:"animated",title:"Badge Pop Animation",subtitle:"scale pop",tags:["UI"],previewId:"pv_ui_badge_pop"},{id:"48",categoryId:"animated",title:"Toggle Flip",subtitle:"switch animation",tags:["UI"],previewId:"pv_ui_toggle_flip"},{id:"49",categoryId:"animated",title:"Progress Stripe Motion",subtitle:"moving stripes",tags:["UI"],previewId:"pv_ui_stripe_motion"},{id:"50",categoryId:"animated",title:"Notification Bell Pulse",subtitle:"tiny pulse ring",tags:["UI"],previewId:"pv_ui_bell_pulse"}]}],$r=({label:s})=>t.jsx("span",{className:"g4-pill",children:s}),Gt=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g4-bar tone-${e}`,style:{width:s,height:n}}),q2e={pv_ui_seg_toggle_3:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm",children:["Stats","Roster","Logs"].map((s,e)=>t.jsx("div",{className:`g4-seg ${e===1?"active":""}`,children:s},s))}),pv_ui_icon_tabs_badges:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm",children:[{icon:"",badge:2},{icon:"",badge:4,active:!0},{icon:"",badge:1}].map(s=>t.jsxs("div",{className:`g4-icon-tab ${s.active?"active":""}`,children:[t.jsx("span",{className:"g4-icon",children:s.icon}),t.jsx("span",{className:"g4-badge",children:s.badge})]},s.icon))}),pv_ui_filter_chips_wrap:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xs g4-wrap",children:["All","PVE","PVP","Guild","Trades","Events"].map((s,e)=>t.jsx("span",{className:`g4-chip ${e===2?"active":""}`,children:s},s))}),pv_ui_sort_pill:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-space-between",children:[t.jsxs("div",{className:"g4-pill-toggle",children:[t.jsx("span",{className:"on",children:"ASC"}),t.jsx("span",{className:"off",children:"DESC"})]}),t.jsxs("div",{className:"g4-sort-arrows",children:[t.jsx("div",{className:"g4-arrow up"}),t.jsx("div",{className:"g4-arrow down"})]})]}),pv_ui_search_hint:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsxs("div",{className:"g4-search",children:[t.jsx("span",{className:"g4-search-icon",children:""}),t.jsx("input",{className:"g4-search-input",value:"search players",readOnly:!0})]}),t.jsx("span",{className:"g4-hint",children:"Press / to focus"})]}),pv_ui_dropdown_stack:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Newest","Top Rated","Favorites"].map((s,e)=>t.jsxs("div",{className:"g4-menu-row",children:[t.jsx("span",{children:s}),e===0&&t.jsx("span",{className:"g4-check",children:""})]},s))}),pv_ui_slider_ticks:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xs",children:[t.jsxs("div",{className:"g4-slider",children:[t.jsxs("div",{className:"g4-slider-track",children:[t.jsx("div",{className:"g4-slider-fill",style:{width:"64%"}}),t.jsx("div",{className:"g4-slider-thumb",style:{left:"64%"}})]}),t.jsx("div",{className:"g4-slider-ticks",children:Array.from({length:7}).map((s,e)=>t.jsx("span",{},e))})]}),t.jsxs("div",{className:"g4-slider-labels",children:[t.jsx("span",{children:"0"}),t.jsx("span",{children:"64"}),t.jsx("span",{children:"100"})]})]}),pv_ui_stepper_dots:()=>t.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[t.jsx("button",{className:"g4-btn ghost",children:"Prev"}),t.jsx("div",{className:"g4-row g4-gap-xs g4-center",children:Array.from({length:5}).map((s,e)=>t.jsx("span",{className:`g4-step-dot ${e<2?"done":e===2?"active":""}`},e))}),t.jsx("button",{className:"g4-btn solid",children:"Next"})]}),pv_ui_pagination_compact:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-xs g4-center",children:[[1,2,3,4,5].map(s=>t.jsx("span",{className:`g4-page ${s===3?"active":""}`,children:s},s)),t.jsx("span",{className:"g4-page ghost",children:"Next"})]}),pv_ui_sticky_subnav:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm g4-sticky",children:["Overview","Teams","History","Files"].map((s,e)=>t.jsxs("div",{className:`g4-subtab ${e===1?"active":""}`,children:[s,e===1&&t.jsx("div",{className:"g4-underline"})]},s))}),pv_ui_ribbon_header:()=>t.jsxs("div",{className:"g4-preview g4-card-slab",children:[t.jsx("div",{className:"g4-ribbon",children:"NEW"}),t.jsxs("div",{className:"g4-col g4-gap-xs",children:[t.jsx(Gt,{width:"70%"}),t.jsx(Gt,{width:"50%",tone:"muted"})]})]}),pv_ui_corner_tag:()=>t.jsxs("div",{className:"g4-preview g4-card-slab",children:[t.jsx("div",{className:"g4-corner-tag",children:"UI"}),t.jsx(Gt,{width:"60%"}),t.jsx(Gt,{width:"40%",tone:"muted"})]}),pv_ui_locked_blur2:()=>t.jsxs("div",{className:"g4-preview g4-locked",children:[t.jsx("div",{className:"g4-locked-blur"}),t.jsx("div",{className:"g4-lock-icon",children:""}),t.jsx(Gt,{width:"50%",tone:"muted"})]}),pv_ui_tooltip_bubble:()=>t.jsxs("div",{className:"g4-preview g4-tooltip",children:[t.jsxs("div",{className:"g4-tooltip-body",children:[t.jsx(Gt,{width:"70%"}),t.jsx(Gt,{width:"40%",tone:"muted"})]}),t.jsx("div",{className:"g4-tooltip-arrow"})]}),pv_ui_popover_panel:()=>t.jsxs("div",{className:"g4-preview g4-popover",children:[t.jsxs("div",{className:"g4-popover-head",children:[t.jsx(Gt,{width:"50%"}),t.jsxs("div",{className:"g4-row g4-gap-xs",children:[t.jsx("span",{className:"g4-dot tone-muted"}),t.jsx("span",{className:"g4-dot tone-muted"})]})]}),t.jsx(Gt,{width:"80%",tone:"muted"}),t.jsx(Gt,{width:"60%",tone:"muted"})]}),pv_ui_modal_mini:()=>t.jsxs("div",{className:"g4-preview g4-modal",children:[t.jsxs("div",{className:"g4-modal-head",children:[t.jsx(Gt,{width:"50%"}),t.jsx("span",{className:"g4-close",children:""})]}),t.jsxs("div",{className:"g4-modal-body",children:[t.jsx(Gt,{width:"90%",tone:"muted"}),t.jsx(Gt,{width:"70%",tone:"muted"})]}),t.jsxs("div",{className:"g4-modal-foot",children:[t.jsx("button",{className:"g4-btn ghost",children:"Cancel"}),t.jsx("button",{className:"g4-btn solid",children:"Save"})]})]}),pv_ui_drawer_right:()=>t.jsxs("div",{className:"g4-preview g4-drawer",children:[t.jsxs("div",{className:"g4-drawer-body",children:[t.jsx(Gt,{width:"65%"}),t.jsx(Gt,{width:"40%",tone:"muted"})]}),t.jsxs("div",{className:"g4-drawer-panel",children:[t.jsx("div",{className:"g4-panel-handle"}),t.jsx(Gt,{width:"70%"}),t.jsx(Gt,{width:"50%",tone:"muted"})]})]}),pv_ui_toast_stack3:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Synced","New invite","Warning"].map((s,e)=>t.jsxs("div",{className:`g4-toast ${e===2?"warn":""}`,children:[t.jsx("span",{className:"g4-dot tone-success"}),t.jsx("span",{children:s})]},s))}),pv_ui_callout_inline:()=>t.jsxs("div",{className:"g4-preview g4-callout",children:[t.jsx("div",{className:"g4-callout-icon",children:"i"}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx(Gt,{width:"60%"}),t.jsx(Gt,{width:"40%",tone:"muted"})]})]}),pv_ui_badge_cluster:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-xs",children:[t.jsx($r,{label:"Beta"}),t.jsx($r,{label:"Live"}),t.jsx($r,{label:"Pro"})]}),pv_ui_xp_ticks2:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xs",children:[t.jsxs("div",{className:"g4-xpbar",children:[t.jsx("div",{className:"g4-xp-fill",style:{width:"78%"}}),Array.from({length:9}).map((s,e)=>t.jsx("span",{className:"g4-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),t.jsxs("div",{className:"g4-row g4-gap-xs",children:[t.jsx($r,{label:"Lvl 56"}),t.jsx($r,{label:"78%"})]})]}),pv_ui_dual_marker_bar:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[t.jsxs("div",{className:"g4-bar-line",children:[t.jsx(Gt,{width:"92%"}),t.jsx("div",{className:"g4-marker",style:{left:"64%"}}),t.jsx("div",{className:"g4-marker muted",style:{left:"82%"}})]}),t.jsxs("div",{className:"g4-row g4-gap-sm g4-center",children:[t.jsx($r,{label:"You"}),t.jsx($r,{label:"Avg"})]})]}),pv_ui_donut_label:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsxs("div",{className:"g4-donut",children:[t.jsx("div",{className:"g4-donut-fill"}),t.jsx("div",{className:"g4-donut-hole",children:"64%"})]}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx(Gt,{width:"60%"}),t.jsx(Gt,{width:"40%",tone:"muted"})]})]}),pv_ui_segment_track_12:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xxs g4-seg-track",children:Array.from({length:12}).map((s,e)=>t.jsx("div",{className:`g4-track-seg ${e<8?"active":""}`},e))}),pv_ui_thermo_cap:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsxs("div",{className:"g4-thermo",children:[t.jsx("div",{className:"g4-thermo-fill",style:{height:"70%"}}),t.jsx("div",{className:"g4-thermo-cap"})]}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx(Gt,{width:"50%",tone:"warning"}),t.jsx(Gt,{width:"30%",tone:"muted"})]})]}),pv_ui_battery_cells:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsxs("div",{className:"g4-battery",children:[[0,1,2,3].map(s=>t.jsx("div",{className:`g4-battery-cell ${s<3?"filled":""}`},s)),t.jsx("div",{className:"g4-battery-cap"})]}),t.jsx($r,{label:"75%"})]}),pv_ui_microbars_5:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["ATK","SPD","HP","DEF","LCK"].map((s,e)=>t.jsxs("div",{className:"g4-row g4-gap-xs g4-center",children:[t.jsx("span",{className:"g4-stat-label",children:s}),t.jsx(Gt,{width:`${40+e*12}%`,tone:e%2===0?"accent":"success",height:6})]},s))}),pv_ui_streak_chain:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xxs g4-center",children:Array.from({length:8}).map((s,e)=>t.jsxs(Q.Fragment,{children:[t.jsx("span",{className:`g4-chain-dot ${e<5?"active":""}`}),e<7&&t.jsx("div",{className:"g4-chain-link"})]},e))}),pv_ui_risk_semi_dial:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsx("div",{className:"g4-semi-dial",children:t.jsx("div",{className:"g4-dial-needle",style:{transform:"rotate(30deg)"}})}),t.jsx($r,{label:"Risk 34%"})]}),pv_ui_goal_ladder:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs g4-ladder",children:[1,2,3,4].map((s,e)=>t.jsxs("div",{className:`g4-ladder-step ${e<2?"done":""}`,children:[t.jsx("span",{className:"g4-ladder-rung"}),t.jsx(Gt,{width:`${40+e*10}%`,tone:"accent",height:6})]},s))}),pv_ui_leaderboard_5:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Aster","Bloom","Cinder","Dawn","Echo"].map((s,e)=>t.jsxs("div",{className:`g4-row g4-gap-sm g4-leader-row ${e===0?"active":""}`,children:[t.jsx("span",{className:"g4-rank-num",children:e+1}),t.jsx(Gt,{width:`${70-e*8}%`,tone:e<2?"accent":"muted",height:6}),t.jsx($r,{label:"+12"})]},s))}),pv_ui_kpi_list_2col:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:[["Win rate","62%"],["Uptime","99.1%"],["Scan time","4.3s"]].map(([s,e])=>t.jsxs("div",{className:"g4-row g4-space-between g4-center",children:[t.jsx("span",{className:"g4-label",children:s}),t.jsx("span",{className:"g4-value",children:e})]},s))}),pv_ui_table_hover:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Row A","Row B","Row C"].map((s,e)=>t.jsx("div",{className:`g4-table-row ${e===1?"hover":""}`,children:t.jsx(Gt,{width:"60%",tone:"muted",height:6})},s))}),pv_ui_rank_delta_row:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx($r,{label:" +6"}),t.jsx($r,{label:" -2"}),t.jsx(Gt,{width:"50%",tone:"accent"})]}),pv_ui_avatar_list3:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xxs",children:["Aria","Bex","Cole"].map((s,e)=>t.jsxs("div",{className:"g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-avatar",children:s[0]}),t.jsx(Gt,{width:`${50+e*10}%`,tone:"accent",height:6})]},s))}),pv_ui_timeline_row:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:["Step 1","Step 2","Step 3"].map((s,e)=>t.jsxs("div",{className:"g4-col g4-center g4-gap-xxs",children:[t.jsx("span",{className:`g4-timeline-dot ${e<=1?"active":""}`}),t.jsx("span",{className:"g4-mini-label",children:s})]},s))}),pv_ui_split_panel_list:()=>t.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx("span",{className:"g4-label",children:"Power"}),t.jsx("span",{className:"g4-label",children:"Speed"}),t.jsx("span",{className:"g4-label",children:"Luck"})]}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx(Gt,{width:"60%"}),t.jsx(Gt,{width:"40%",tone:"warning"}),t.jsx(Gt,{width:"30%",tone:"success"})]})]}),pv_ui_chip_counts:()=>t.jsx("div",{className:"g4-preview g4-row g4-gap-xs g4-wrap",children:[["Tanks","12"],["Healers","5"],["DPS","18"],["Support","7"]].map(([s,e],n)=>t.jsxs("span",{className:`g4-chip ${n===2?"active":""}`,children:[s," ",t.jsx("span",{className:"g4-count",children:e})]},s))}),pv_ui_accordion3:()=>t.jsx("div",{className:"g4-preview g4-col g4-gap-xs",children:["Summary","Details","Meta"].map((s,e)=>t.jsxs("div",{className:`g4-accordion ${e===0?"open":""}`,children:[t.jsxs("div",{className:"g4-accordion-head",children:[t.jsx("span",{children:s}),t.jsx("span",{className:"g4-chevron"})]}),e===0&&t.jsxs("div",{className:"g4-accordion-body",children:[t.jsx(Gt,{width:"70%",tone:"muted"}),t.jsx(Gt,{width:"40%",tone:"muted"})]})]},s))}),pv_ui_spark_row:()=>t.jsxs("div",{className:"g4-preview g4-row g4-space-between g4-center",children:[t.jsx("div",{className:"g4-sparkline",children:Array.from({length:12}).map((s,e)=>t.jsx("span",{style:{height:`${8+e%5*6}px`}},e))}),t.jsx($r,{label:"72%"})]}),pv_ui_pulse_progress2:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[t.jsx("div",{className:"g4-pulse-bar",children:t.jsx("div",{className:"g4-pulse-fill",style:{width:"68%"}})}),t.jsx("span",{className:"g4-mini-label",children:"Syncing"})]}),pv_ui_unlock_glow2:()=>t.jsxs("div",{className:"g4-preview g4-glow-card",children:[t.jsx("div",{className:"g4-lock-icon",children:""}),t.jsx(Gt,{width:"60%"})]}),pv_ui_skeleton_shimmer:()=>t.jsxs("div",{className:"g4-preview g4-col g4-gap-xxs",children:[t.jsx("div",{className:"g4-skeleton shimmer"}),t.jsx("div",{className:"g4-skeleton shimmer short"})]}),pv_ui_confetti_dots2:()=>t.jsx("div",{className:"g4-preview g4-confetti",children:Array.from({length:14}).map((s,e)=>t.jsx("span",{className:"g4-confetti-dot"},e))}),pv_ui_hover_lift:()=>t.jsxs("div",{className:"g4-preview g4-hover-card",children:[t.jsx(Gt,{width:"70%"}),t.jsx(Gt,{width:"50%",tone:"muted"})]}),pv_ui_ping_indicator:()=>t.jsxs("div",{className:"g4-preview g4-row g4-center g4-gap-sm",children:[t.jsx("div",{className:"g4-ping",children:t.jsx("span",{className:"g4-ping-dot"})}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx(Gt,{width:"50%"}),t.jsx(Gt,{width:"30%",tone:"muted"})]})]}),pv_ui_badge_pop:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-pop-badge",children:"UI"}),t.jsx(Gt,{width:"60%"})]}),pv_ui_toggle_flip:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-toggle",children:t.jsx("div",{className:"g4-toggle-thumb"})}),t.jsx("span",{className:"g4-mini-label",children:"Flip"})]}),pv_ui_stripe_motion:()=>t.jsx("div",{className:"g4-preview g4-stripes",children:t.jsx("div",{className:"g4-stripe-fill",style:{width:"72%"}})}),pv_ui_bell_pulse:()=>t.jsxs("div",{className:"g4-preview g4-row g4-gap-sm g4-center",children:[t.jsx("div",{className:"g4-bell",children:t.jsx("span",{className:"g4-bell-ping"})}),t.jsxs("div",{className:"g4-col g4-gap-xxs",children:[t.jsx(Gt,{width:"55%"}),t.jsx(Gt,{width:"35%",tone:"muted"})]})]})},Q2e=s=>{const e=q2e[s];return e?e():t.jsx("div",{className:"g4-preview g4-fallback"})};function Y2e(){return t.jsxs("div",{className:"g4-root",children:[t.jsxs("header",{className:"g4-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 4"}),t.jsx("p",{className:"g4-sub",children:"50 UI mini-previews focused on controls, overlays, meters, tables, and animated bits."})]}),t.jsx("div",{className:"g4-pill-row",children:t.jsx($r,{label:"UI"})})]}),t.jsx("nav",{className:"g4-toc",children:$I.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g4-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g4-sections",children:$I.map(s=>t.jsxs("details",{className:"g4-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g4-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g4-section-title",children:s.title}),t.jsx("div",{className:"g4-section-sub",children:s.description})]}),t.jsxs("span",{className:"g4-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g4-grid",children:s.items.map(e=>t.jsxs("div",{className:"g4-card",children:[t.jsxs("div",{className:"g4-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g4-card-title",children:e.title}),t.jsx("div",{className:"g4-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g4-pill-row",children:(e.tags||["UI"]).map(n=>t.jsx($r,{label:n},n))})]}),Q2e(e.previewId)]},e.id))})]},s.id))})]})}const BI=[{id:"meta",title:"Meta Systems",description:"Loops, ladders, and macro-structure sketches.",items:[{id:"1",categoryId:"meta",title:"Prestige Loop Diagram",subtitle:"reset + boost",tags:["CONCEPT"],previewId:"pv_cpt_prestige_loop"},{id:"2",categoryId:"meta",title:"Seasonal Arc Map",subtitle:"startend path",tags:["CONCEPT"],previewId:"pv_cpt_season_arc"},{id:"3",categoryId:"meta",title:"Progress Economy Flow",subtitle:"earnspendupgrade",tags:["CONCEPT"],previewId:"pv_cpt_economy_flow"},{id:"4",categoryId:"meta",title:"Skill Synergy Web",subtitle:"nodes + links",tags:["CONCEPT"],previewId:"pv_cpt_synergy_web"},{id:"5",categoryId:"meta",title:"Difficulty Curve",subtitle:"soft curve concept",tags:["CONCEPT"],previewId:"pv_cpt_difficulty_curve"},{id:"6",categoryId:"meta",title:"Reward Probability Bands",subtitle:"bands/tiers",tags:["CONCEPT"],previewId:"pv_cpt_prob_bands"},{id:"7",categoryId:"meta",title:"Milestone Radar",subtitle:"milestones ring",tags:["CONCEPT"],previewId:"pv_cpt_milestone_radar"},{id:"8",categoryId:"meta",title:"Collection Completion Map",subtitle:"zones filled",tags:["CONCEPT"],previewId:"pv_cpt_collection_map"},{id:"9",categoryId:"meta",title:"Engagement Flywheel",subtitle:"cycle arrows",tags:["CONCEPT"],previewId:"pv_cpt_flywheel"},{id:"10",categoryId:"meta",title:"Reputation Ladder",subtitle:"tiers + gates",tags:["CONCEPT"],previewId:"pv_cpt_reputation_ladder"}]},{id:"planning",title:"Planning & Strategy",description:"Allocation, risks, paths, and scenarios.",items:[{id:"11",categoryId:"planning",title:"Optimization Triangle",subtitle:"choose 2 of 3",tags:["CONCEPT"],previewId:"pv_cpt_opt_triangle"},{id:"12",categoryId:"planning",title:"Resource Allocation Bars",subtitle:"split budget",tags:["CONCEPT"],previewId:"pv_cpt_allocation_bars"},{id:"13",categoryId:"planning",title:"Upgrade Path Tree",subtitle:"branch choices",tags:["CONCEPT"],previewId:"pv_cpt_upgrade_tree"},{id:"14",categoryId:"planning",title:"Risk/Reward Matrix",subtitle:"4 quadrants",tags:["CONCEPT"],previewId:"pv_cpt_risk_reward_matrix"},{id:"15",categoryId:"planning",title:"Time-to-Goal Estimator",subtitle:"ETA blocks",tags:["CONCEPT"],previewId:"pv_cpt_eta_blocks"},{id:"16",categoryId:"planning",title:"Rival Distance Map",subtitle:"gaps + targets",tags:["CONCEPT"],previewId:"pv_cpt_rival_distance_map"},{id:"17",categoryId:"planning",title:"Power Spike Timeline",subtitle:"spike markers",tags:["CONCEPT"],previewId:"pv_cpt_power_spike_timeline"},{id:"18",categoryId:"planning",title:"Weekly Strategy Board",subtitle:"3 focus cards",tags:["CONCEPT"],previewId:"pv_cpt_weekly_board"},{id:"19",categoryId:"planning",title:"Breakpoint Indicators",subtitle:"threshold lines",tags:["CONCEPT"],previewId:"pv_cpt_breakpoints"},{id:"20",categoryId:"planning",title:"Scenario Switcher",subtitle:"A/B/C outcomes",tags:["CONCEPT"],previewId:"pv_cpt_scenarios_abc"}]},{id:"social",title:"Social Concepts",description:"Guild health, equity, coverage, and momentum ideas.",items:[{id:"21",categoryId:"social",title:"Guild Health Dashboard",subtitle:"pillars concept",tags:["CONCEPT"],previewId:"pv_cpt_guild_health"},{id:"22",categoryId:"social",title:"Contribution Equity Meter",subtitle:"fairness bar",tags:["CONCEPT"],previewId:"pv_cpt_equity_meter"},{id:"23",categoryId:"social",title:"Role Coverage Grid",subtitle:"roles coverage",tags:["CONCEPT"],previewId:"pv_cpt_role_coverage"},{id:"24",categoryId:"social",title:"Alliance Network Graph",subtitle:"nodes network",tags:["CONCEPT"],previewId:"pv_cpt_alliance_graph"},{id:"25",categoryId:"social",title:"Recruitment Funnel",subtitle:"stages funnel",tags:["CONCEPT"],previewId:"pv_cpt_recruit_funnel"},{id:"26",categoryId:"social",title:"Activity Rhythm Wheel",subtitle:"cycle wheel",tags:["CONCEPT"],previewId:"pv_cpt_rhythm_wheel"},{id:"27",categoryId:"social",title:"Leadership Heat Zones",subtitle:"zones concept",tags:["CONCEPT"],previewId:"pv_cpt_leadership_zones"},{id:"28",categoryId:"social",title:"Social Momentum Score",subtitle:"momentum line",tags:["CONCEPT"],previewId:"pv_cpt_social_momentum"},{id:"29",categoryId:"social",title:"Collaboration Contract",subtitle:"agreement card",tags:["CONCEPT"],previewId:"pv_cpt_collab_contract"},{id:"30",categoryId:"social",title:"Community Challenge Pool",subtitle:"pool + goals",tags:["CONCEPT"],previewId:"pv_cpt_challenge_pool"}]},{id:"insights",title:"Insights Concepts",description:"Signals, outliers, archetypes, and opportunity maps.",items:[{id:"31",categoryId:"insights",title:"Trend vs Noise Lens",subtitle:"signal filter",tags:["CONCEPT"],previewId:"pv_cpt_signal_noise"},{id:"32",categoryId:"insights",title:"Outlier Detector Panel",subtitle:"flagged dots",tags:["CONCEPT"],previewId:"pv_cpt_outlier_panel"},{id:"33",categoryId:"insights",title:"Consistency Index",subtitle:"stability meter",tags:["CONCEPT"],previewId:"pv_cpt_consistency_index"},{id:"34",categoryId:"insights",title:"Growth Regimes",subtitle:"phases blocks",tags:["CONCEPT"],previewId:"pv_cpt_growth_regimes"},{id:"35",categoryId:"insights",title:"Player Archetypes",subtitle:"3 archetype cards",tags:["CONCEPT"],previewId:"pv_cpt_archetypes"},{id:"36",categoryId:"insights",title:"Benchmark Stack",subtitle:"compare layers",tags:["CONCEPT"],previewId:"pv_cpt_benchmark_stack"},{id:"37",categoryId:"insights",title:"KPI Storyboard",subtitle:"3-step insight",tags:["CONCEPT"],previewId:"pv_cpt_kpi_storyboard"},{id:"38",categoryId:"insights",title:"Efficiency Frontier",subtitle:"frontier curve",tags:["CONCEPT"],previewId:"pv_cpt_efficiency_frontier"},{id:"39",categoryId:"insights",title:"Progress Forecast Bands",subtitle:"band forecast",tags:["CONCEPT"],previewId:"pv_cpt_forecast_bands"},{id:"40",categoryId:"insights",title:"Opportunity Radar",subtitle:"radar points",tags:["CONCEPT"],previewId:"pv_cpt_opportunity_radar"}]},{id:"loops",title:"Gamification Loops",description:"Cadence, multipliers, chains, caps, and rewards.",items:[{id:"41",categoryId:"loops",title:"Daily/Weekly Loop",subtitle:"cadence map",tags:["CONCEPT"],previewId:"pv_cpt_cadence_loop"},{id:"42",categoryId:"loops",title:"Reward Multipliers",subtitle:"stacked multipliers",tags:["CONCEPT"],previewId:"pv_cpt_multiplier_stack"},{id:"43",categoryId:"loops",title:"Quest Chain System",subtitle:"chain gates",tags:["CONCEPT"],previewId:"pv_cpt_chain_gates"},{id:"44",categoryId:"loops",title:"Badge Progression",subtitle:"ranked badges",tags:["CONCEPT"],previewId:"pv_cpt_badge_progression"},{id:"45",categoryId:"loops",title:"Streak Protection",subtitle:"shield mechanic",tags:["CONCEPT"],previewId:"pv_cpt_streak_shield"},{id:"46",categoryId:"loops",title:"Catch-up Mechanic",subtitle:"boost for low",tags:["CONCEPT"],previewId:"pv_cpt_catchup"},{id:"47",categoryId:"loops",title:"Event Spike Model",subtitle:"event peaks",tags:["CONCEPT"],previewId:"pv_cpt_event_spikes"},{id:"48",categoryId:"loops",title:"Soft Cap Concept",subtitle:"diminishing returns",tags:["CONCEPT"],previewId:"pv_cpt_soft_cap"},{id:"49",categoryId:"loops",title:"Reward Choice Wheel",subtitle:"choose 1 of 3",tags:["CONCEPT"],previewId:"pv_cpt_choice_wheel"},{id:"50",categoryId:"loops",title:"Meta Progress Passport",subtitle:"stamps journey",tags:["CONCEPT"],previewId:"pv_cpt_passport"}]}],Ic=({label:s})=>t.jsx("span",{className:"g5-pill",children:s}),fl=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g5-bar tone-${e}`,style:{width:s,height:n}}),tb=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g5-dot tone-${s}`,style:{width:e,height:e}}),X2e={pv_cpt_prestige_loop:()=>t.jsx("div",{className:"g5-preview g5-loop",children:["Earn","Reset","Boost"].map((s,e)=>t.jsxs("div",{className:"g5-loop-node",children:[t.jsx("span",{className:"g5-loop-label",children:s}),t.jsx("div",{className:`g5-loop-arrow ${e===2?"end":""}`})]},s))}),pv_cpt_season_arc:()=>t.jsxs("div",{className:"g5-preview g5-arc",children:[t.jsx("div",{className:"g5-arc-track",children:t.jsx("div",{className:"g5-arc-progress",style:{width:"70%"}})}),t.jsxs("div",{className:"g5-row g5-space-between g5-mini",children:[t.jsx("span",{children:"Start"}),t.jsx("span",{children:"Season"}),t.jsx("span",{children:"Final"})]})]}),pv_cpt_economy_flow:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-flow-card",children:"Earn"}),t.jsx("div",{className:"g5-flow-arrow"}),t.jsx("div",{className:"g5-flow-card alt",children:"Spend"}),t.jsx("div",{className:"g5-flow-arrow"}),t.jsx("div",{className:"g5-flow-card",children:"Upgrade"})]}),pv_cpt_synergy_web:()=>t.jsxs("div",{className:"g5-preview g5-web",children:[t.jsx("div",{className:"g5-web-node center"}),Array.from({length:5}).map((s,e)=>t.jsx("div",{className:`g5-web-node arm-${e}`},e))]}),pv_cpt_difficulty_curve:()=>t.jsxs("div",{className:"g5-preview g5-curve",children:[t.jsx("div",{className:"g5-curve-line"}),t.jsx("div",{className:"g5-dot tone-accent",style:{left:"25%"}}),t.jsx("div",{className:"g5-dot tone-warning",style:{left:"70%"}})]}),pv_cpt_prob_bands:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Common","Rare","Epic"].map((s,e)=>t.jsxs("div",{className:"g5-band",children:[t.jsx("span",{className:"g5-band-label",children:s}),t.jsx("div",{className:`g5-band-fill tone-${e===2?"warning":"accent"}`,style:{width:`${40+e*20}%`}})]},s))}),pv_cpt_milestone_radar:()=>t.jsxs("div",{className:"g5-preview g5-radar",children:[t.jsx("div",{className:"g5-radar-ring outer"}),t.jsx("div",{className:"g5-radar-ring inner"}),t.jsx(tb,{tone:"warning",size:10}),t.jsx(tb,{tone:"accent",size:8}),t.jsx(tb,{tone:"success",size:8})]}),pv_cpt_collection_map:()=>t.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g5-zone ${e<3?"filled":""}`},e))}),pv_cpt_flywheel:()=>t.jsxs("div",{className:"g5-preview g5-flywheel",children:[t.jsx("div",{className:"g5-flywheel-ring"}),t.jsx("div",{className:"g5-flywheel-arrow a1"}),t.jsx("div",{className:"g5-flywheel-arrow a2"}),t.jsx("div",{className:"g5-flywheel-arrow a3"})]}),pv_cpt_reputation_ladder:()=>t.jsx("div",{className:"g5-preview g5-ladder",children:[0,1,2,3].map(s=>t.jsxs("div",{className:`g5-tier ${s<2?"active":""}`,children:["Tier ",s+1]},s))}),pv_cpt_opt_triangle:()=>t.jsxs("div",{className:"g5-preview g5-triangle",children:[t.jsx("div",{className:"g5-tri-corner top",children:"Speed"}),t.jsx("div",{className:"g5-tri-corner left",children:"Quality"}),t.jsx("div",{className:"g5-tri-corner right",children:"Cost"}),t.jsx("div",{className:"g5-tri-fill"})]}),pv_cpt_allocation_bars:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Gold","Gems","Energy"].map((s,e)=>t.jsxs("div",{className:"g5-row g5-gap-sm g5-center",children:[t.jsx("span",{className:"g5-label",children:s}),t.jsx(fl,{width:`${30+e*15}%`,tone:e===1?"warning":"accent",height:6})]},s))}),pv_cpt_upgrade_tree:()=>t.jsxs("div",{className:"g5-preview g5-tree",children:[t.jsx("div",{className:"g5-tree-node root"}),t.jsxs("div",{className:"g5-tree-branch left",children:[t.jsx("div",{className:"g5-tree-node"}),t.jsx("div",{className:"g5-tree-node"})]}),t.jsxs("div",{className:"g5-tree-branch right",children:[t.jsx("div",{className:"g5-tree-node"}),t.jsx("div",{className:"g5-tree-node"})]})]}),pv_cpt_risk_reward_matrix:()=>t.jsxs("div",{className:"g5-preview g5-matrix",children:[t.jsx("div",{className:"g5-matrix-quad high",children:"High Reward"}),t.jsx("div",{className:"g5-matrix-quad",children:"Low Reward"}),t.jsx("div",{className:"g5-matrix-quad",children:"Low Risk"}),t.jsx("div",{className:"g5-matrix-quad warn",children:"High Risk"})]}),pv_cpt_eta_blocks:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-xs",children:["10d","20d","30d"].map((s,e)=>t.jsx("div",{className:`g5-eta-block ${e===2?"active":""}`,children:s},s))}),pv_cpt_rival_distance_map:()=>t.jsxs("div",{className:"g5-preview g5-row g5-center g5-gap-sm",children:[t.jsx("div",{className:"g5-distance",children:t.jsxs("div",{className:"g5-distance-line",children:[t.jsx("div",{className:"g5-distance-marker you",style:{left:"22%"}}),t.jsx("div",{className:"g5-distance-marker rival",style:{left:"62%"}})]})}),t.jsx(Ic,{label:"Gap 40%"})]}),pv_cpt_power_spike_timeline:()=>t.jsxs("div",{className:"g5-preview g5-col g5-gap-xxs",children:[t.jsx("div",{className:"g5-spike-line",children:[20,60,80].map((s,e)=>t.jsx("div",{className:"g5-spike",style:{left:`${s}%`},children:t.jsx("div",{className:`g5-spike-pin ${e===2?"strong":""}`})},s))}),t.jsx("div",{className:"g5-mini",children:"Power spikes"})]}),pv_cpt_weekly_board:()=>t.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:["Focus","Risks","Wins"].map(s=>t.jsxs("div",{className:"g5-cardlet",children:[t.jsx(fl,{width:"60%"}),t.jsx(fl,{width:"40%",tone:"muted"})]},s))}),pv_cpt_breakpoints:()=>t.jsx("div",{className:"g5-preview g5-breakpoints",children:[25,50,75].map(s=>t.jsx("div",{className:"g5-breakpoint",style:{left:`${s}%`},children:t.jsx("span",{children:s})},s))}),pv_cpt_scenarios_abc:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:["A","B","C"].map((s,e)=>t.jsxs("div",{className:`g5-scenario ${e===1?"active":""}`,children:[t.jsx("div",{className:"g5-scenario-title",children:s}),t.jsx(fl,{width:`${40+e*10}%`,tone:"accent"})]},s))}),pv_cpt_guild_health:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[[50,70,40].map((s,e)=>t.jsx("div",{className:"g5-pillar",children:t.jsx("div",{className:"g5-pillar-fill",style:{height:`${s}%`}})},e)),t.jsx(Ic,{label:"Guild Health"})]}),pv_cpt_equity_meter:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-meter",children:t.jsx("div",{className:"g5-meter-fill",style:{width:"56%"}})}),t.jsx("span",{className:"g5-mini",children:"Fair"})]}),pv_cpt_role_coverage:()=>t.jsx("div",{className:"g5-preview g5-grid g5-grid-3",children:["Tank","Heal","DPS"].map((s,e)=>t.jsxs("div",{className:"g5-role",children:[t.jsx("div",{className:"g5-role-bar",style:{width:`${40+e*15}%`}}),t.jsx("span",{className:"g5-mini",children:s})]},s))}),pv_cpt_alliance_graph:()=>t.jsxs("div",{className:"g5-preview g5-network",children:[[0,1,2,3,4].map(s=>t.jsx("div",{className:`g5-node n${s}`},s)),t.jsx("div",{className:"g5-link l1"}),t.jsx("div",{className:"g5-link l2"}),t.jsx("div",{className:"g5-link l3"})]}),pv_cpt_recruit_funnel:()=>t.jsxs("div",{className:"g5-preview g5-funnel",children:[t.jsx("div",{className:"g5-funnel-layer big"}),t.jsx("div",{className:"g5-funnel-layer mid"}),t.jsx("div",{className:"g5-funnel-layer small"})]}),pv_cpt_rhythm_wheel:()=>t.jsx("div",{className:"g5-preview g5-wheel",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{className:`g5-wheel-dot ${e%2===0?"active":""}`},e))}),pv_cpt_leadership_zones:()=>t.jsxs("div",{className:"g5-preview g5-zones",children:[t.jsx("div",{className:"g5-zone-block warm"}),t.jsx("div",{className:"g5-zone-block cool"}),t.jsx("div",{className:"g5-zone-block neutral"})]}),pv_cpt_social_momentum:()=>t.jsxs("div",{className:"g5-preview g5-linechart",children:[t.jsx("div",{className:"g5-line-path"}),t.jsx("div",{className:"g5-line-marker",style:{left:"70%"}})]}),pv_cpt_collab_contract:()=>t.jsxs("div",{className:"g5-preview g5-contract",children:[t.jsx(fl,{width:"70%"}),t.jsx(fl,{width:"40%",tone:"muted"}),t.jsx("div",{className:"g5-signature"})]}),pv_cpt_challenge_pool:()=>t.jsxs("div",{className:"g5-preview g5-pool",children:[t.jsx("div",{className:"g5-pool-water"}),t.jsx("div",{className:"g5-goal-chip",children:"Goal A"}),t.jsx("div",{className:"g5-goal-chip",children:"Goal B"})]}),pv_cpt_signal_noise:()=>t.jsxs("div",{className:"g5-preview g5-signal",children:[t.jsx("div",{className:"g5-signal-band strong"}),t.jsx("div",{className:"g5-signal-band weak"}),t.jsx("div",{className:"g5-filter"})]}),pv_cpt_outlier_panel:()=>t.jsx("div",{className:"g5-preview g5-scatter",children:Array.from({length:8}).map((s,e)=>t.jsx("span",{className:`g5-scatter-dot ${e===7?"alert":""}`},e))}),pv_cpt_consistency_index:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-gauge",children:t.jsx("div",{className:"g5-gauge-fill",style:{width:"72%"}})}),t.jsx(Ic,{label:"Stable"})]}),pv_cpt_growth_regimes:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:["Launch","Scale","Mature"].map((s,e)=>t.jsxs("div",{className:"g5-phase",children:[t.jsx("div",{className:`g5-phase-box ${e===1?"active":""}`}),t.jsx("span",{className:"g5-mini",children:s})]},s))}),pv_cpt_archetypes:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:["Explorer","Achiever","Social"].map(s=>t.jsxs("div",{className:"g5-arch-card",children:[t.jsx(fl,{width:"60%"}),t.jsx("div",{className:"g5-arch-badge",children:s[0]})]},s))}),pv_cpt_benchmark_stack:()=>t.jsxs("div",{className:"g5-preview g5-stack",children:[t.jsx("div",{className:"g5-stack-layer"}),t.jsx("div",{className:"g5-stack-layer mid"}),t.jsx("div",{className:"g5-stack-layer top"})]}),pv_cpt_kpi_storyboard:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm",children:[1,2,3].map(s=>t.jsxs("div",{className:"g5-story-card",children:[t.jsxs("span",{className:"g5-story-step",children:["Step ",s]}),t.jsx(fl,{width:"50%"})]},s))}),pv_cpt_efficiency_frontier:()=>t.jsxs("div",{className:"g5-preview g5-frontier",children:[t.jsx("div",{className:"g5-frontier-curve"}),t.jsx("div",{className:"g5-frontier-dot"})]}),pv_cpt_forecast_bands:()=>t.jsxs("div",{className:"g5-preview g5-bands",children:[t.jsx("div",{className:"g5-band-line upper"}),t.jsx("div",{className:"g5-band-line lower"}),t.jsx("div",{className:"g5-band-fill"})]}),pv_cpt_opportunity_radar:()=>t.jsx("div",{className:"g5-preview g5-radar-grid",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{className:"g5-radar-dot"},e))}),pv_cpt_cadence_loop:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-loop-mini daily",children:"Daily"}),t.jsx("div",{className:"g5-loop-mini weekly active",children:"Weekly"}),t.jsx("div",{className:"g5-loop-mini monthly",children:"Monthly"})]}),pv_cpt_multiplier_stack:()=>t.jsx("div",{className:"g5-preview g5-col g5-gap-xxs",children:[1,2,3].map(s=>t.jsxs("div",{className:"g5-multiplier",children:[t.jsxs("span",{children:["x",s]}),t.jsx("div",{className:"g5-multi-bar",style:{width:`${s*20+30}%`}})]},s))}),pv_cpt_chain_gates:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-xs g5-center",children:["Q1","Q2","Q3","Boss"].map((s,e)=>t.jsxs(Q.Fragment,{children:[t.jsx("div",{className:`g5-gate ${e===3?"final":""}`,children:s}),e<3&&t.jsx("div",{className:"g5-gate-line"})]},s))}),pv_cpt_badge_progression:()=>t.jsx("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:["Bronze","Silver","Gold"].map((s,e)=>t.jsx("div",{className:`g5-badge ${e===2?"shine":""}`,children:s[0]},s))}),pv_cpt_streak_shield:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-shield",children:"Streak"}),t.jsx(Ic,{label:"Protected"})]}),pv_cpt_catchup:()=>t.jsxs("div",{className:"g5-preview g5-row g5-gap-sm g5-center",children:[t.jsx("div",{className:"g5-boost-bar",children:t.jsx("div",{className:"g5-boost-fill",style:{width:"45%"}})}),t.jsx(Ic,{label:"+Catch Up"})]}),pv_cpt_event_spikes:()=>t.jsxs("div",{className:"g5-preview g5-col g5-gap-xxs",children:[t.jsx("div",{className:"g5-spike-line",children:Array.from({length:5}).map((s,e)=>t.jsx("div",{className:"g5-spike event",style:{left:`${e*20}%`,height:`${10+e*8}px`}},e))}),t.jsx("span",{className:"g5-mini",children:"Events"})]}),pv_cpt_soft_cap:()=>t.jsxs("div",{className:"g5-preview g5-softcap",children:[t.jsx("div",{className:"g5-softcap-line"}),t.jsx("div",{className:"g5-softcap-cap",style:{left:"65%"}})]}),pv_cpt_choice_wheel:()=>t.jsx("div",{className:"g5-preview g5-wheel-choice",children:["A","B","C"].map((s,e)=>t.jsx("div",{className:`g5-choice ${e===0?"active":""}`,children:s},s))}),pv_cpt_passport:()=>t.jsx("div",{className:"g5-preview g5-passport",children:["Zone 1","Zone 2","Zone 3"].map((s,e)=>t.jsx("div",{className:`g5-stamp ${e<2?"filled":""}`,children:s},s))})},J2e=s=>{const e=X2e[s];return e?e():t.jsx("div",{className:"g5-preview g5-fallback"})};function Z2e(){return t.jsxs("div",{className:"g5-root",children:[t.jsxs("header",{className:"g5-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 5"}),t.jsx("p",{className:"g5-sub",children:"50 concept sketches across macro systems, planning, social, insights, and loops."})]}),t.jsx("div",{className:"g5-pill-row",children:t.jsx(Ic,{label:"CONCEPT"})})]}),t.jsx("nav",{className:"g5-toc",children:BI.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g5-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g5-sections",children:BI.map(s=>t.jsxs("details",{className:"g5-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g5-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g5-section-title",children:s.title}),t.jsx("div",{className:"g5-section-sub",children:s.description})]}),t.jsxs("span",{className:"g5-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g5-grid",children:s.items.map(e=>t.jsxs("div",{className:"g5-card",children:[t.jsxs("div",{className:"g5-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g5-card-title",children:e.title}),t.jsx("div",{className:"g5-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g5-pill-row",children:(e.tags||["CONCEPT"]).map(n=>t.jsx(Ic,{label:n},n))})]}),J2e(e.previewId)]},e.id))})]},s.id))})]})}const OI=[{id:"profile",title:"Profile Widgets",description:"Compact profile cards, KPIs, and progression snippets.",items:[{id:"1",categoryId:"profile",title:"Hero Panel Mini",subtitle:"avatar + 3 KPIs",tags:["MOCK"],previewId:"pv_mock_hero_panel_mini"},{id:"2",categoryId:"profile",title:"Attribute Bars Card",subtitle:"5 bars + markers",tags:["MOCK"],previewId:"pv_mock_attr_bars"},{id:"3",categoryId:"profile",title:"Scan Freshness Badge",subtitle:"age + color",tags:["MOCK"],previewId:"pv_mock_scan_freshness"},{id:"4",categoryId:"profile",title:"Profile Tabs Strip",subtitle:"overview/scans/etc",tags:["MOCK"],previewId:"pv_mock_profile_tabs"},{id:"5",categoryId:"profile",title:"Linked Characters Row",subtitle:"tabs switch",tags:["MOCK"],previewId:"pv_mock_linked_chars"},{id:"6",categoryId:"profile",title:"Snapshot Compare Card",subtitle:"then vs now",tags:["MOCK"],previewId:"pv_mock_snapshot_compare"},{id:"7",categoryId:"profile",title:"Rank Delta Inline",subtitle:"rank + arrows",tags:["MOCK"],previewId:"pv_mock_rank_inline"},{id:"8",categoryId:"profile",title:"Scrapbook Completion Tile",subtitle:"% + ring",tags:["MOCK"],previewId:"pv_mock_scrapbook_tile"},{id:"9",categoryId:"profile",title:"Legendary Counter Card",subtitle:"count + rarity",tags:["MOCK"],previewId:"pv_mock_legendary_counter"},{id:"10",categoryId:"profile",title:"Progress History Mini",subtitle:"tiny history list",tags:["MOCK"],previewId:"pv_mock_history_mini"}]},{id:"guild",title:"Guild Widgets",description:"Guild header, queues, planner tiles, and readiness snapshots.",items:[{id:"11",categoryId:"guild",title:"Guild Header Mock",subtitle:"emblem + KPIs",tags:["MOCK"],previewId:"pv_mock_guild_header"},{id:"12",categoryId:"guild",title:"Member List Row",subtitle:"role + last scan",tags:["MOCK"],previewId:"pv_mock_member_row"},{id:"13",categoryId:"guild",title:"Recruitment Card",subtitle:"open slots",tags:["MOCK"],previewId:"pv_mock_recruitment"},{id:"14",categoryId:"guild",title:"Fusion Planner Tile",subtitle:"two guild compare",tags:["MOCK"],previewId:"pv_mock_fusion_tile"},{id:"15",categoryId:"guild",title:"Waitlist Panel",subtitle:"queue preview",tags:["MOCK"],previewId:"pv_mock_waitlist_panel"},{id:"16",categoryId:"guild",title:"Guild Activity Panel",subtitle:"last 7d",tags:["MOCK"],previewId:"pv_mock_guild_activity"},{id:"17",categoryId:"guild",title:"Guild Benchmarks",subtitle:"avg markers",tags:["MOCK"],previewId:"pv_mock_guild_benchmarks"},{id:"18",categoryId:"guild",title:"War Readiness Mock",subtitle:"ready/not",tags:["MOCK"],previewId:"pv_mock_war_readiness2"},{id:"19",categoryId:"guild",title:"Treasury Summary",subtitle:"treasury KPIs",tags:["MOCK"],previewId:"pv_mock_treasury_summary"},{id:"20",categoryId:"guild",title:"Guild Notes Card",subtitle:"pinned notes",tags:["MOCK"],previewId:"pv_mock_guild_notes"}]},{id:"tables",title:"Top Lists / Tables",description:"Tables, filters, timers, pagination, and compare bars.",items:[{id:"21",categoryId:"tables",title:"Toplist Table Card",subtitle:"header + rows",tags:["MOCK"],previewId:"pv_mock_toplist_table"},{id:"22",categoryId:"tables",title:"Rank Change Column",subtitle:" deltas",tags:["MOCK"],previewId:"pv_mock_rank_change_col"},{id:"23",categoryId:"tables",title:"Server Filter Sidebar",subtitle:"filters stack",tags:["MOCK"],previewId:"pv_mock_server_filters"},{id:"24",categoryId:"tables",title:"Class Filter Chips",subtitle:"class chips",tags:["MOCK"],previewId:"pv_mock_class_chips"},{id:"25",categoryId:"tables",title:"Snapshot Timer Pill",subtitle:"next refresh",tags:["MOCK"],previewId:"pv_mock_snapshot_timer"},{id:"26",categoryId:"tables",title:"Pagination Footer Mock",subtitle:"page controls",tags:["MOCK"],previewId:"pv_mock_pagination_footer"},{id:"27",categoryId:"tables",title:"Sticky Header Mock",subtitle:"sticky header row",tags:["MOCK"],previewId:"pv_mock_sticky_header"},{id:"28",categoryId:"tables",title:"Row Expand Detail",subtitle:"expand drawer",tags:["MOCK"],previewId:"pv_mock_row_expand"},{id:"29",categoryId:"tables",title:"Export Button Strip",subtitle:"CSV/Excel",tags:["MOCK"],previewId:"pv_mock_export_strip"},{id:"30",categoryId:"tables",title:"Compare Selected Rows",subtitle:"compare bar",tags:["MOCK"],previewId:"pv_mock_compare_bar"}]},{id:"upload",title:"Upload / Import UX",description:"Queues, validation, progress, notices, and summaries.",items:[{id:"31",categoryId:"upload",title:"Upload Queue Card",subtitle:"pending items",tags:["MOCK"],previewId:"pv_mock_upload_queue"},{id:"32",categoryId:"upload",title:"Dedup Result Toast",subtitle:"created/duplicate",tags:["MOCK"],previewId:"pv_mock_dedup_toast"},{id:"33",categoryId:"upload",title:"Dry-Run Validation Panel",subtitle:"errors list",tags:["MOCK"],previewId:"pv_mock_validation_panel"},{id:"34",categoryId:"upload",title:"Progress Upload Meter",subtitle:"step progress",tags:["MOCK"],previewId:"pv_mock_upload_progress"},{id:"35",categoryId:"upload",title:"Selected Entities Counter",subtitle:"players/guilds",tags:["MOCK"],previewId:"pv_mock_selected_counter"},{id:"36",categoryId:"upload",title:"Token TTL Notice",subtitle:"1015min",tags:["MOCK"],previewId:"pv_mock_ttl_notice"},{id:"37",categoryId:"upload",title:"Privacy Preview Box",subtitle:"what gets sent",tags:["MOCK"],previewId:"pv_mock_privacy_preview"},{id:"38",categoryId:"upload",title:"Error Log Card",subtitle:"recent errors",tags:["MOCK"],previewId:"pv_mock_error_log"},{id:"39",categoryId:"upload",title:"Retry/Backoff Banner",subtitle:"rate limit",tags:["MOCK"],previewId:"pv_mock_retry_banner"},{id:"40",categoryId:"upload",title:"Success Summary Panel",subtitle:"import summary",tags:["MOCK"],previewId:"pv_mock_success_summary"}]},{id:"admin",title:"Admin/Control Panel Mocks",description:"Roles, feature toggles, access groups, and moderation queues.",items:[{id:"41",categoryId:"admin",title:"Roles Context Menu",subtitle:"role switch UI",tags:["MOCK"],previewId:"pv_mock_roles_menu"},{id:"42",categoryId:"admin",title:"Feature Gate Table",subtitle:"toggles rows",tags:["MOCK"],previewId:"pv_mock_feature_table"},{id:"43",categoryId:"admin",title:"Access Group Card",subtitle:"group members",tags:["MOCK"],previewId:"pv_mock_access_group"},{id:"44",categoryId:"admin",title:"Audit Log Row",subtitle:"who changed what",tags:["MOCK"],previewId:"pv_mock_audit_row"},{id:"45",categoryId:"admin",title:"Error Monitor Tile",subtitle:"status lights",tags:["MOCK"],previewId:"pv_mock_error_monitor"},{id:"46",categoryId:"admin",title:"API Status Card",subtitle:"endpoint health",tags:["MOCK"],previewId:"pv_mock_api_status"},{id:"47",categoryId:"admin",title:"Seed Token Warning",subtitle:"internal endpoint",tags:["MOCK"],previewId:"pv_mock_seed_warning"},{id:"48",categoryId:"admin",title:"Moderation Queue",subtitle:"approve/deny",tags:["MOCK"],previewId:"pv_mock_mod_queue"},{id:"49",categoryId:"admin",title:"Feedback Inbox Card",subtitle:"decision buttons",tags:["MOCK"],previewId:"pv_mock_feedback_inbox"},{id:"50",categoryId:"admin",title:"Release Toggle Panel",subtitle:"staging/prod",tags:["MOCK"],previewId:"pv_mock_release_toggle"}]}],ps=({label:s})=>t.jsx("span",{className:"g6-pill",children:s}),Wt=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g6-bar tone-${e}`,style:{width:s,height:n}}),VI=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g6-dot tone-${s}`,style:{width:e,height:e}}),eSe={pv_mock_hero_panel_mini:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-avatar big",children:"A"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"70%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ps,{label:"XP 42k"}),t.jsx(ps,{label:"Lvl 58"}),t.jsx(ps,{label:"WR 62%"})]})]})]}),pv_mock_attr_bars:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["STR","DEX","INT","VIT","LCK"].map((s,e)=>t.jsxs("div",{className:"g6-row g6-gap-xs g6-center",children:[t.jsx("span",{className:"g6-label",children:s}),t.jsx(Wt,{width:`${35+e*12}%`,tone:e%2===0?"accent":"warning",height:6}),t.jsx(VI,{tone:"muted"})]},s))}),pv_mock_scan_freshness:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge fresh",children:"3h ago"}),t.jsx(Wt,{width:"50%"})]}),pv_mock_profile_tabs:()=>t.jsx("div",{className:"g6-preview g6-row g6-gap-xs",children:["Overview","Scans","Gear","Notes"].map((s,e)=>t.jsx("div",{className:`g6-tab ${e===1?"active":""}`,children:s},s))}),pv_mock_linked_chars:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[["Main","Alt 1","Alt 2"].map((s,e)=>t.jsx("div",{className:`g6-chip ${e===0?"active":""}`,children:s},s)),t.jsx("div",{className:"g6-arrow-right"})]}),pv_mock_snapshot_compare:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Then"}),t.jsx(Wt,{width:"40%",tone:"muted"})]}),t.jsx("div",{className:"g6-compare-arrow"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Now"}),t.jsx(Wt,{width:"70%",tone:"accent"})]})]}),pv_mock_rank_inline:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ps,{label:"#24"}),t.jsx(ps,{label:" 3"}),t.jsx(ps,{label:" 1"})]}),pv_mock_scrapbook_tile:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-ring",children:[t.jsx("div",{className:"g6-ring-fill"}),t.jsx("div",{className:"g6-ring-hole",children:"68%"})]}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"60%"}),t.jsx(Wt,{width:"35%",tone:"muted"})]})]}),pv_mock_legendary_counter:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-legendary",children:"12"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Legendary"}),t.jsx(Wt,{width:"70%",tone:"warning"})]})]}),pv_mock_history_mini:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["+12 Lvl","+2 shards","Joined guild"].map((s,e)=>t.jsxs("div",{className:"g6-history-row",children:[t.jsx(VI,{tone:"accent",size:8}),t.jsx("span",{children:s}),t.jsxs("span",{className:"g6-time",children:[e+1,"d"]})]},s))}),pv_mock_guild_header:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-emblem"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ps,{label:"Lvl 12"}),t.jsx(ps,{label:"42 members"})]})]})]}),pv_mock_member_row:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-avatar",children:"M"}),t.jsx(Wt,{width:"50%"}),t.jsx(ps,{label:"Officer"}),t.jsx(ps,{label:"Scan 1d"})]}),pv_mock_recruitment:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ps,{label:"Open 3"}),t.jsx(ps,{label:"Role: DPS"})]})]}),pv_mock_fusion_tile:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"40%"}),t.jsx(ps,{label:"Guild A"})]}),t.jsx("div",{className:"g6-merge"}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"40%"}),t.jsx(ps,{label:"Guild B"})]})]}),pv_mock_waitlist_panel:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Rae","Noah","Ivy"].map((s,e)=>t.jsxs("div",{className:"g6-wait-row",children:[t.jsx("span",{className:"g6-badge muted",children:e+1}),t.jsx(Wt,{width:`${40+e*15}%`})]},s))}),pv_mock_guild_activity:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-heat",children:Array.from({length:7}).map((s,e)=>t.jsx("span",{style:{height:`${10+e*4}px`}},e))}),t.jsx(ps,{label:"7d"})]}),pv_mock_guild_benchmarks:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Avg","Target","You"].map((s,e)=>t.jsxs("div",{className:"g6-row g6-gap-xs g6-center",children:[t.jsx("span",{className:"g6-mini",children:s}),t.jsx("div",{className:"g6-marker-line",children:t.jsx("div",{className:"g6-marker",style:{left:`${30+e*20}%`}})})]},s))}),pv_mock_war_readiness2:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[t.jsx(ps,{label:"Ready"}),t.jsx(ps,{label:"Needs Gear"}),t.jsx(ps,{label:"Needs Scans"})]}),pv_mock_treasury_summary:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Gold"}),t.jsx(Wt,{width:"70%",tone:"warning"})]}),t.jsxs("div",{className:"g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Gems"}),t.jsx(Wt,{width:"50%",tone:"accent"})]})]}),pv_mock_guild_notes:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx("div",{className:"g6-note-pin"}),t.jsx(Wt,{width:"65%"}),t.jsx(Wt,{width:"40%",tone:"muted"})]}),pv_mock_toplist_table:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsxs("div",{className:"g6-table-head",children:[t.jsx(Wt,{width:"30%"}),t.jsx(Wt,{width:"20%"}),t.jsx(Wt,{width:"25%"})]}),Array.from({length:3}).map((s,e)=>t.jsx("div",{className:"g6-table-row",children:t.jsx(Wt,{width:`${60-e*10}%`,tone:"muted",height:6})},e))]}),pv_mock_rank_change_col:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[t.jsx(ps,{label:" 8"}),t.jsx(ps,{label:" 2"}),t.jsx(Wt,{width:"40%"})]}),pv_mock_server_filters:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["EU","US","INT"].map((s,e)=>t.jsxs("div",{className:"g6-filter-row",children:[t.jsx("input",{type:"checkbox",checked:e===0,readOnly:!0}),t.jsx("span",{children:s})]},s))}),pv_mock_class_chips:()=>t.jsx("div",{className:"g6-preview g6-row g6-gap-xs g6-wrap",children:["Warrior","Mage","Hunter","Cleric"].map((s,e)=>t.jsx("span",{className:`g6-chip ${e===2?"active":""}`,children:s},s))}),pv_mock_snapshot_timer:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ps,{label:"Refresh in 03:12"}),t.jsx("div",{className:"g6-ring tiny",children:t.jsx("div",{className:"g6-ring-fill"})})]}),pv_mock_pagination_footer:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs g6-center",children:[t.jsx("span",{className:"g6-page",children:"Prev"}),[1,2,3].map(s=>t.jsx("span",{className:`g6-page ${s===2?"active":""}`,children:s},s)),t.jsx("span",{className:"g6-page",children:"Next"})]}),pv_mock_sticky_header:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsxs("div",{className:"g6-sticky-head",children:[t.jsx(Wt,{width:"40%"}),t.jsx(Wt,{width:"20%",tone:"muted"})]}),t.jsx("div",{className:"g6-table-row",children:t.jsx(Wt,{width:"70%",tone:"muted",height:6})})]}),pv_mock_row_expand:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsxs("div",{className:"g6-expand-row",children:[t.jsx("span",{className:"g6-chevron"}),t.jsx(Wt,{width:"50%"})]}),t.jsxs("div",{className:"g6-expand-body",children:[t.jsx(Wt,{width:"60%",tone:"muted"}),t.jsx(Wt,{width:"40%",tone:"muted"})]})]}),pv_mock_export_strip:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-xs",children:[t.jsx("button",{className:"g6-btn ghost",children:"CSV"}),t.jsx("button",{className:"g6-btn ghost",children:"Excel"}),t.jsx("button",{className:"g6-btn solid",children:"Export"})]}),pv_mock_compare_bar:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(Wt,{width:"60%",tone:"accent"}),t.jsx(ps,{label:"2 selected"})]}),pv_mock_upload_queue:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["players.csv","guilds.csv"].map(s=>t.jsxs("div",{className:"g6-queue-row",children:[t.jsx(Wt,{width:"50%"}),t.jsx("span",{className:"g6-mini",children:s})]},s))}),pv_mock_dedup_toast:()=>t.jsxs("div",{className:"g6-preview g6-toast",children:[t.jsx("span",{className:"g6-dot tone-success"}),t.jsx("span",{children:"3 created / 1 duplicate"})]}),pv_mock_validation_panel:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Missing name","Invalid server","Bad class"].map(s=>t.jsxs("div",{className:"g6-error-row",children:[t.jsx("span",{className:"g6-badge warn",children:"!"}),t.jsx("span",{children:s})]},s))}),pv_mock_upload_progress:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx("div",{className:"g6-steps",children:[1,2,3,4].map((s,e)=>t.jsx("div",{className:`g6-step ${e<2?"done":e===2?"active":""}`},s))}),t.jsx(Wt,{width:"65%"})]}),pv_mock_selected_counter:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ps,{label:"Players 32"}),t.jsx(ps,{label:"Guilds 4"}),t.jsx(ps,{label:"Servers 2"})]}),pv_mock_ttl_notice:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge warn",children:"TTL 12m"}),t.jsx(Wt,{width:"50%",tone:"warning"})]}),pv_mock_privacy_preview:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx("span",{className:"g6-mini",children:"Sending"}),t.jsx(Wt,{width:"60%"}),t.jsx(Wt,{width:"40%",tone:"muted"})]}),pv_mock_error_log:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Timeout","Bad payload"].map(s=>t.jsxs("div",{className:"g6-error-row",children:[t.jsx("span",{className:"g6-badge danger",children:"!"}),t.jsx("span",{children:s})]},s))}),pv_mock_retry_banner:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge warn",children:"Rate limit"}),t.jsx("button",{className:"g6-btn ghost",children:"Retry"}),t.jsx("button",{className:"g6-btn ghost",children:"Backoff"})]}),pv_mock_success_summary:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"70%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx(ps,{label:"Created 42"}),t.jsx(ps,{label:"Duplicates 3"})]})]}),pv_mock_roles_menu:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Viewer","Editor","Admin"].map((s,e)=>t.jsxs("div",{className:`g6-menu-row ${e===2?"active":""}`,children:[t.jsx("span",{children:s}),e===2&&t.jsx("span",{className:"g6-check",children:""})]},s))}),pv_mock_feature_table:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Feature A","Feature B","Feature C"].map((s,e)=>t.jsxs("div",{className:"g6-feature-row",children:[t.jsx(Wt,{width:"40%"}),t.jsx("div",{className:`g6-toggle ${e===1?"on":""}`,children:t.jsx("div",{className:"g6-toggle-thumb"})})]},s))}),pv_mock_access_group:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx("div",{className:"g6-avatar small",children:"A"}),t.jsx("div",{className:"g6-avatar small",children:"B"}),t.jsx("div",{className:"g6-avatar small",children:"C"})]})]}),pv_mock_audit_row:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(Wt,{width:"40%"}),t.jsx(ps,{label:"by Admin"}),t.jsx(ps,{label:"2h ago"})]}),pv_mock_error_monitor:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[["OK","WARN","FAIL"].map((s,e)=>t.jsx("div",{className:`g6-status ${e===2?"danger":e===1?"warn":"ok"}`},s)),t.jsx(Wt,{width:"40%"})]}),pv_mock_api_status:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ps,{label:"/api/status"}),t.jsx("div",{className:"g6-dot tone-success"}),t.jsx("div",{className:"g6-mini",children:"200 OK"})]}),pv_mock_seed_warning:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx("div",{className:"g6-badge danger",children:"Internal"}),t.jsx(Wt,{width:"50%",tone:"danger"})]}),pv_mock_mod_queue:()=>t.jsx("div",{className:"g6-preview g6-col g6-gap-xxs",children:["Report #45","Report #46"].map(s=>t.jsxs("div",{className:"g6-mod-row",children:[t.jsx(Wt,{width:"50%"}),t.jsxs("div",{className:"g6-row g6-gap-xxs",children:[t.jsx("button",{className:"g6-btn ghost",children:"Approve"}),t.jsx("button",{className:"g6-btn ghost",children:"Deny"})]})]},s))}),pv_mock_feedback_inbox:()=>t.jsxs("div",{className:"g6-preview g6-col g6-gap-xxs",children:[t.jsx(Wt,{width:"60%"}),t.jsxs("div",{className:"g6-row g6-gap-xs",children:[t.jsx("button",{className:"g6-btn ghost",children:"Keep"}),t.jsx("button",{className:"g6-btn ghost",children:"Discard"})]})]}),pv_mock_release_toggle:()=>t.jsxs("div",{className:"g6-preview g6-row g6-gap-sm g6-center",children:[t.jsx(ps,{label:"Staging"}),t.jsx("div",{className:"g6-toggle on",children:t.jsx("div",{className:"g6-toggle-thumb"})}),t.jsx(ps,{label:"Prod"})]})},tSe=s=>{const e=eSe[s];return e?e():t.jsx("div",{className:"g6-preview g6-fallback"})};function sSe(){return t.jsxs("div",{className:"g6-root",children:[t.jsxs("header",{className:"g6-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 6"}),t.jsx("p",{className:"g6-sub",children:"50 mock UI widgets spanning profile, guild, tables, upload, and admin snippets."})]}),t.jsx("div",{className:"g6-pill-row",children:t.jsx(ps,{label:"MOCK"})})]}),t.jsx("nav",{className:"g6-toc",children:OI.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g6-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g6-sections",children:OI.map(s=>t.jsxs("details",{className:"g6-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g6-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g6-section-title",children:s.title}),t.jsx("div",{className:"g6-section-sub",children:s.description})]}),t.jsxs("span",{className:"g6-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g6-grid",children:s.items.map(e=>t.jsxs("div",{className:"g6-card",children:[t.jsxs("div",{className:"g6-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g6-card-title",children:e.title}),t.jsx("div",{className:"g6-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g6-pill-row",children:(e.tags||["MOCK"]).map(n=>t.jsx(ps,{label:n},n))})]}),tSe(e.previewId)]},e.id))})]},s.id))})]})}const UI=[{id:"progress",title:"Animated Progress",description:"Animated stripes, sweeps, counters, and wave fills.",items:[{id:"1",categoryId:"progress",title:"Stripe Motion Bar",subtitle:"moving stripes",tags:["UI"],previewId:"pv_ui7_stripe_motion2"},{id:"2",categoryId:"progress",title:"Gradient Sweep Fill",subtitle:"slow sweep",tags:["UI"],previewId:"pv_ui7_gradient_sweep"},{id:"3",categoryId:"progress",title:"Tick-Up Counter",subtitle:"odometer style",tags:["UI"],previewId:"pv_ui7_tickup_counter"},{id:"4",categoryId:"progress",title:"Milestone Pop",subtitle:"pop at thresholds",tags:["UI"],previewId:"pv_ui7_milestone_pop"},{id:"5",categoryId:"progress",title:"Ring Spinner Progress",subtitle:"rotating arc",tags:["UI"],previewId:"pv_ui7_ring_spinner"},{id:"6",categoryId:"progress",title:"Pulse Marker Line",subtitle:"avg marker pulse",tags:["UI"],previewId:"pv_ui7_marker_pulse"},{id:"7",categoryId:"progress",title:"Step Fill Animation",subtitle:"segment fill",tags:["UI"],previewId:"pv_ui7_step_fill"},{id:"8",categoryId:"progress",title:"Wave Fill Gauge",subtitle:"wave in bar",tags:["UI"],previewId:"pv_ui7_wave_fill"},{id:"9",categoryId:"progress",title:"Micro Spark Animate",subtitle:"spark drawing",tags:["UI"],previewId:"pv_ui7_spark_draw"},{id:"10",categoryId:"progress",title:"Heat Glow Cells",subtitle:"glow on cells",tags:["UI"],previewId:"pv_ui7_heat_glow_cells"}]},{id:"hover",title:"Hover/Focus States",description:"Focus rings, tilts, bounces, outlines, and menus.",items:[{id:"11",categoryId:"hover",title:"Focus Ring Showcase",subtitle:"focus styles",tags:["UI"],previewId:"pv_ui7_focus_rings"},{id:"12",categoryId:"hover",title:"Hover Tilt Card",subtitle:"subtle tilt",tags:["UI"],previewId:"pv_ui7_hover_tilt"},{id:"13",categoryId:"hover",title:"Glow Border on Hover",subtitle:"outer glow",tags:["UI"],previewId:"pv_ui7_hover_glow_border"},{id:"14",categoryId:"hover",title:"Icon Bounce Hover",subtitle:"bounce icon",tags:["UI"],previewId:"pv_ui7_icon_bounce"},{id:"15",categoryId:"hover",title:"Tooltip Follow Mock",subtitle:"offset tooltip",tags:["UI"],previewId:"pv_ui7_tooltip_follow"},{id:"16",categoryId:"hover",title:"Pressed Button Depth",subtitle:"down state",tags:["UI"],previewId:"pv_ui7_button_depth"},{id:"17",categoryId:"hover",title:"Selection Outline",subtitle:"selected frame",tags:["UI"],previewId:"pv_ui7_select_outline"},{id:"18",categoryId:"hover",title:"Drag Handle Mock",subtitle:"grab dots",tags:["UI"],previewId:"pv_ui7_drag_handle"},{id:"19",categoryId:"hover",title:"Context Menu Hover",subtitle:"menu highlight",tags:["UI"],previewId:"pv_ui7_context_hover"},{id:"20",categoryId:"hover",title:"Keyboard Nav Dots",subtitle:"tab order hint",tags:["UI"],previewId:"pv_ui7_keynav_dots"}]},{id:"decor",title:"Decorative UI",description:"Glass headers, neon lines, patterns, and status clusters.",items:[{id:"21",categoryId:"decor",title:"Glass Panel Header",subtitle:"frosted header",tags:["UI"],previewId:"pv_ui7_glass_header"},{id:"22",categoryId:"decor",title:"Neon Accent Line",subtitle:"accent stroke",tags:["UI"],previewId:"pv_ui7_neon_accent"},{id:"23",categoryId:"decor",title:"Pattern Background Card",subtitle:"subtle pattern",tags:["UI"],previewId:"pv_ui7_pattern_bg"},{id:"24",categoryId:"decor",title:"Corner Cut Card",subtitle:"cut corners",tags:["UI"],previewId:"pv_ui7_corner_cut"},{id:"25",categoryId:"decor",title:"Divider Variants",subtitle:"3 divider styles",tags:["UI"],previewId:"pv_ui7_dividers"},{id:"26",categoryId:"decor",title:"Tag Pill Variants",subtitle:"solid/outline",tags:["UI"],previewId:"pv_ui7_tag_variants"},{id:"27",categoryId:"decor",title:"Icon Badge Stack",subtitle:"icon + badge",tags:["UI"],previewId:"pv_ui7_icon_badges"},{id:"28",categoryId:"decor",title:"Mini Banner Strip",subtitle:"announcement strip",tags:["UI"],previewId:"pv_ui7_banner_strip"},{id:"29",categoryId:"decor",title:"Progress Notches",subtitle:"notched bar",tags:["UI"],previewId:"pv_ui7_notches_bar"},{id:"30",categoryId:"decor",title:"Status Dot Cluster",subtitle:"3 statuses",tags:["UI"],previewId:"pv_ui7_status_cluster"}]},{id:"micro",title:"Micro-layouts",description:"Mini cards, headers, grids, and stacked chips.",items:[{id:"31",categoryId:"micro",title:"KPI + Mini Chart",subtitle:"two-column",tags:["UI"],previewId:"pv_ui7_kpi_minichart"},{id:"32",categoryId:"micro",title:"Split Header Actions",subtitle:"actions right",tags:["UI"],previewId:"pv_ui7_header_actions"},{id:"33",categoryId:"micro",title:"Compact Card Grid",subtitle:"22 grid",tags:["UI"],previewId:"pv_ui7_compact_grid"},{id:"34",categoryId:"micro",title:"Sticky Mini Footer",subtitle:"footer tools",tags:["UI"],previewId:"pv_ui7_sticky_footer"},{id:"35",categoryId:"micro",title:"Inline Editable Field",subtitle:"edit pencil",tags:["UI"],previewId:"pv_ui7_inline_edit"},{id:"36",categoryId:"micro",title:"Multi-line Subtitle Clamp",subtitle:"clamp demo",tags:["UI"],previewId:"pv_ui7_clamp_demo"},{id:"37",categoryId:"micro",title:"Icon List with Counts",subtitle:"icon + num",tags:["UI"],previewId:"pv_ui7_icon_counts"},{id:"38",categoryId:"micro",title:"Dual Badge Header",subtitle:"two tags",tags:["UI"],previewId:"pv_ui7_dual_badge"},{id:"39",categoryId:"micro",title:"Avatar Stack",subtitle:"overlapping",tags:["UI"],previewId:"pv_ui7_avatar_stack"},{id:"40",categoryId:"micro",title:"Chips + Progress Row",subtitle:"mixed row",tags:["UI"],previewId:"pv_ui7_chips_progress_row"}]},{id:"states",title:"Feedback & States",description:"Success, warning, error, empty, loading, sync, offline, locked.",items:[{id:"41",categoryId:"states",title:"Success Glow Toast",subtitle:"success state",tags:["UI"],previewId:"pv_ui7_success_toast"},{id:"42",categoryId:"states",title:"Warning Banner",subtitle:"attention state",tags:["UI"],previewId:"pv_ui7_warning_banner"},{id:"43",categoryId:"states",title:"Error Inline Panel",subtitle:"error state",tags:["UI"],previewId:"pv_ui7_error_panel"},{id:"44",categoryId:"states",title:"Empty State Illustration",subtitle:"empty",tags:["UI"],previewId:"pv_ui7_empty_state"},{id:"45",categoryId:"states",title:"Loading Dots",subtitle:"3 dots",tags:["UI"],previewId:"pv_ui7_loading_dots"},{id:"46",categoryId:"states",title:"Sync Indicator",subtitle:"sync badge",tags:["UI"],previewId:"pv_ui7_sync_indicator"},{id:"47",categoryId:"states",title:"Offline Mode Chip",subtitle:"offline badge",tags:["UI"],previewId:"pv_ui7_offline_chip"},{id:"48",categoryId:"states",title:"Disabled Overlay",subtitle:"disabled state",tags:["UI"],previewId:"pv_ui7_disabled_overlay"},{id:"49",categoryId:"states",title:"New Ribbon + Glow",subtitle:"new state",tags:["UI"],previewId:"pv_ui7_new_ribbon_glow"},{id:"50",categoryId:"states",title:"Locked State Stamp",subtitle:"locked stamp",tags:["UI"],previewId:"pv_ui7_locked_stamp"}]}],Ra=({label:s})=>t.jsx("span",{className:"g7-pill",children:s}),Cs=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g7-bar tone-${e}`,style:{width:s,height:n}}),sb=({tone:s="accent",size:e=8})=>t.jsx("span",{className:`g7-dot tone-${s}`,style:{width:e,height:e}}),nSe={pv_ui7_stripe_motion2:()=>t.jsx("div",{className:"g7-preview g7-stripes",children:t.jsx("div",{className:"g7-stripe-fill",style:{width:"78%"}})}),pv_ui7_gradient_sweep:()=>t.jsx("div",{className:"g7-preview g7-gradient",children:t.jsx("div",{className:"g7-gradient-fill"})}),pv_ui7_tickup_counter:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-odometer",children:["0","1","2"].map((s,e)=>t.jsx("span",{className:`g7-odo-digit ${e===2?"active":""}`,children:s},e))}),t.jsx(Ra,{label:"Counter"})]}),pv_ui7_milestone_pop:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[20,50,80].map((s,e)=>t.jsxs("div",{className:"g7-milestone",children:[t.jsx("div",{className:`g7-milestone-dot ${e===1?"pop":""}`}),t.jsx("span",{className:"g7-mini",children:s})]},s))}),pv_ui7_ring_spinner:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-spinner",children:t.jsx("div",{className:"g7-spinner-arc"})}),t.jsx(Cs,{width:"50%"})]}),pv_ui7_marker_pulse:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[t.jsx("div",{className:"g7-marker-line",children:t.jsx("div",{className:"g7-marker",style:{left:"62%"}})}),t.jsx("span",{className:"g7-mini",children:"Average"})]}),pv_ui7_step_fill:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-stepper",children:Array.from({length:5}).map((s,e)=>t.jsx("div",{className:`g7-step ${e<3?"filled":""}`},e))}),pv_ui7_wave_fill:()=>t.jsx("div",{className:"g7-preview g7-wave",children:t.jsx("div",{className:"g7-wave-fill"})}),pv_ui7_spark_draw:()=>t.jsx("div",{className:"g7-preview g7-spark",children:Array.from({length:10}).map((s,e)=>t.jsx("span",{className:"g7-spark-bar",style:{height:`${8+e%4*6}px`}},e))}),pv_ui7_heat_glow_cells:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:`g7-heat-cell ${e>=3?"glow":""}`},e))}),pv_ui7_focus_rings:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-focus"}),t.jsx("div",{className:"g7-focus strong"}),t.jsx("div",{className:"g7-focus dashed"})]}),pv_ui7_hover_tilt:()=>t.jsxs("div",{className:"g7-preview g7-tilt-card",children:[t.jsx(Cs,{width:"70%"}),t.jsx(Cs,{width:"40%",tone:"muted"})]}),pv_ui7_hover_glow_border:()=>t.jsx("div",{className:"g7-preview g7-glow-border",children:t.jsx(Cs,{width:"60%"})}),pv_ui7_icon_bounce:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-bounce",children:""}),t.jsx(Cs,{width:"40%"})]}),pv_ui7_tooltip_follow:()=>t.jsxs("div",{className:"g7-preview g7-tooltip-follow",children:[t.jsx("div",{className:"g7-target"}),t.jsx("div",{className:"g7-follow-tip",children:t.jsx(Cs,{width:"50%"})})]}),pv_ui7_button_depth:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("button",{className:"g7-press-btn",children:"Press"}),t.jsx("button",{className:"g7-press-btn pressed",children:"Pressed"})]}),pv_ui7_select_outline:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-outline-card active",children:t.jsx(Cs,{width:"60%"})}),t.jsx("div",{className:"g7-outline-card",children:t.jsx(Cs,{width:"40%"})})]}),pv_ui7_drag_handle:()=>t.jsxs("div",{className:"g7-preview g7-row g7-center g7-gap-sm",children:[t.jsx("div",{className:"g7-drag-handle",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{},e))}),t.jsx(Cs,{width:"50%"})]}),pv_ui7_context_hover:()=>t.jsx("div",{className:"g7-preview g7-col g7-gap-xxs",children:["Edit","Duplicate","Archive"].map((s,e)=>t.jsx("div",{className:`g7-menu-row ${e===1?"hover":""}`,children:s},s))}),pv_ui7_keynav_dots:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[Array.from({length:4}).map((s,e)=>t.jsx("span",{className:`g7-keydot ${e===0?"active":""}`},e)),t.jsx("span",{className:"g7-mini",children:"Tab order"})]}),pv_ui7_glass_header:()=>t.jsxs("div",{className:"g7-preview g7-glass",children:[t.jsx("div",{className:"g7-glass-bar"}),t.jsx(Cs,{width:"50%"})]}),pv_ui7_neon_accent:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-neon-line"}),t.jsx(Cs,{width:"40%"})]}),pv_ui7_pattern_bg:()=>t.jsxs("div",{className:"g7-preview g7-pattern",children:[t.jsx(Cs,{width:"60%"}),t.jsx(Cs,{width:"30%",tone:"muted"})]}),pv_ui7_corner_cut:()=>t.jsxs("div",{className:"g7-preview g7-corner-card",children:[t.jsx(Cs,{width:"70%"}),t.jsx(Cs,{width:"40%",tone:"muted"})]}),pv_ui7_dividers:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xs",children:[t.jsx("div",{className:"g7-divider solid"}),t.jsx("div",{className:"g7-divider dashed"}),t.jsx("div",{className:"g7-divider dotted"})]}),pv_ui7_tag_variants:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-xs",children:[t.jsx(Ra,{label:"Solid"}),t.jsx("span",{className:"g7-pill ghost",children:"Outline"}),t.jsx("span",{className:"g7-pill muted",children:"Muted"})]}),pv_ui7_icon_badges:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsxs("div",{className:"g7-icon-badge",children:[t.jsx("span",{children:""}),t.jsx("span",{className:"g7-badge-num",children:"3"})]}),t.jsx(Cs,{width:"50%"})]}),pv_ui7_banner_strip:()=>t.jsxs("div",{className:"g7-preview g7-banner",children:[t.jsx("span",{children:"Announcement"}),t.jsx(Ra,{label:"Live"})]}),pv_ui7_notches_bar:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-notches",children:Array.from({length:8}).map((s,e)=>t.jsx("div",{className:`g7-notch ${e<5?"active":""}`},e))}),pv_ui7_status_cluster:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx(sb,{tone:"success"}),t.jsx(sb,{tone:"warning"}),t.jsx(sb,{tone:"danger"}),t.jsx("span",{className:"g7-mini",children:"Status"})]}),pv_ui7_kpi_minichart:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm",children:[t.jsxs("div",{className:"g7-col g7-gap-xxs",children:[t.jsx("span",{className:"g7-mini",children:"KPI"}),t.jsx(Cs,{width:"60%"})]}),t.jsx("div",{className:"g7-mini-chart",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{style:{height:`${10+e*4}px`}},e))})]}),pv_ui7_header_actions:()=>t.jsxs("div",{className:"g7-preview g7-row g7-space-between g7-center",children:[t.jsx(Cs,{width:"40%"}),t.jsxs("div",{className:"g7-row g7-gap-xs",children:[t.jsx("button",{className:"g7-btn ghost",children:"Action"}),t.jsx("button",{className:"g7-btn solid",children:"Primary"})]})]}),pv_ui7_compact_grid:()=>t.jsx("div",{className:"g7-preview g7-grid g7-grid-2",children:Array.from({length:4}).map((s,e)=>t.jsxs("div",{className:"g7-mini-card",children:[t.jsx(Cs,{width:"50%"}),t.jsx(Cs,{width:"30%",tone:"muted"})]},e))}),pv_ui7_sticky_footer:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[t.jsx(Cs,{width:"70%"}),t.jsxs("div",{className:"g7-sticky-footer",children:[t.jsx("button",{className:"g7-btn ghost",children:"Cancel"}),t.jsx("button",{className:"g7-btn solid",children:"Save"})]})]}),pv_ui7_inline_edit:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("input",{className:"g7-inline",value:"Editable text",readOnly:!0}),t.jsx("span",{className:"g7-pencil"})]}),pv_ui7_clamp_demo:()=>t.jsxs("div",{className:"g7-preview g7-col g7-gap-xxs",children:[t.jsx("div",{className:"g7-clamp",children:"Very long subtitle that is clamped after two lines for readability."}),t.jsx(Cs,{width:"40%"})]}),pv_ui7_icon_counts:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:["","",""].map((s,e)=>t.jsxs("div",{className:"g7-icon-count",children:[t.jsx("span",{children:s}),t.jsx("span",{className:"g7-badge-num",children:e+2})]},s))}),pv_ui7_dual_badge:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-xs g7-center",children:[t.jsx(Ra,{label:"Pro"}),t.jsx(Ra,{label:"UI"}),t.jsx(Cs,{width:"40%"})]}),pv_ui7_avatar_stack:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-xs g7-center",children:[t.jsx("div",{className:"g7-stack",children:["A","B","C"].map((s,e)=>t.jsx("span",{className:"g7-stack-avatar",style:{left:`${e*12}px`},children:s},s))}),t.jsx("span",{className:"g7-mini",children:"+5"})]}),pv_ui7_chips_progress_row:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx(Ra,{label:"UI"}),t.jsx(Ra,{label:"Motion"}),t.jsx("div",{className:"g7-pulse-bar",children:t.jsx("div",{className:"g7-pulse-fill",style:{width:"64%"}})})]}),pv_ui7_success_toast:()=>t.jsxs("div",{className:"g7-preview g7-toast success",children:[t.jsx("span",{className:"g7-dot tone-success"}),t.jsx("span",{children:"Saved successfully"})]}),pv_ui7_warning_banner:()=>t.jsx("div",{className:"g7-preview g7-banner warn",children:t.jsx("span",{children:"Warning: changes pending"})}),pv_ui7_error_panel:()=>t.jsxs("div",{className:"g7-preview g7-error",children:[t.jsx("div",{className:"g7-error-icon",children:"!"}),t.jsxs("div",{className:"g7-col g7-gap-xxs",children:[t.jsx(Cs,{width:"60%",tone:"danger"}),t.jsx(Cs,{width:"40%",tone:"muted"})]})]}),pv_ui7_empty_state:()=>t.jsxs("div",{className:"g7-preview g7-empty",children:[t.jsx("div",{className:"g7-ghost"}),t.jsx(Cs,{width:"50%",tone:"muted"})]}),pv_ui7_loading_dots:()=>t.jsx("div",{className:"g7-preview g7-row g7-gap-xxs g7-center",children:Array.from({length:3}).map((s,e)=>t.jsx("span",{className:"g7-loading-dot"},e))}),pv_ui7_sync_indicator:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-sync",children:t.jsx("div",{className:"g7-sync-arc"})}),t.jsx(Ra,{label:"Syncing"})]}),pv_ui7_offline_chip:()=>t.jsxs("div",{className:"g7-preview g7-row g7-gap-sm g7-center",children:[t.jsx("div",{className:"g7-chip offline",children:"Offline"}),t.jsx(Cs,{width:"40%",tone:"muted"})]}),pv_ui7_disabled_overlay:()=>t.jsxs("div",{className:"g7-preview g7-disabled",children:[t.jsx(Cs,{width:"60%"}),t.jsx("div",{className:"g7-disabled-mask"})]}),pv_ui7_new_ribbon_glow:()=>t.jsxs("div",{className:"g7-preview g7-ribbon-card",children:[t.jsx("div",{className:"g7-ribbon",children:"New"}),t.jsx("div",{className:"g7-ribbon-glow"}),t.jsx(Cs,{width:"60%"})]}),pv_ui7_locked_stamp:()=>t.jsxs("div",{className:"g7-preview g7-stamp",children:[t.jsx("div",{className:"g7-stamp-ring",children:"LOCKED"}),t.jsx(Cs,{width:"40%"})]})},rSe=s=>{const e=nSe[s];return e?e():t.jsx("div",{className:"g7-preview g7-fallback"})};function iSe(){return t.jsxs("div",{className:"g7-root",children:[t.jsxs("header",{className:"g7-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 7"}),t.jsx("p",{className:"g7-sub",children:"50 animated UI micro-previews covering motion, hover states, decorative bits, and feedback."})]}),t.jsx("div",{className:"g7-pill-row",children:t.jsx(Ra,{label:"UI"})})]}),t.jsx("nav",{className:"g7-toc",children:UI.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g7-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g7-sections",children:UI.map(s=>t.jsxs("details",{className:"g7-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g7-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g7-section-title",children:s.title}),t.jsx("div",{className:"g7-section-sub",children:s.description})]}),t.jsxs("span",{className:"g7-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g7-grid",children:s.items.map(e=>t.jsxs("div",{className:"g7-card",children:[t.jsxs("div",{className:"g7-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g7-card-title",children:e.title}),t.jsx("div",{className:"g7-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g7-pill-row",children:(e.tags||["UI"]).map(n=>t.jsx(Ra,{label:n},n))})]}),rSe(e.previewId)]},e.id))})]},s.id))})]})}const zI=[{id:"progress",title:"Animated Progress",description:"Pulses, stripes, sweeps, and counters that move on their own.",items:[{id:"1",categoryId:"progress",title:"Pulse Progress Bar",subtitle:"soft pulse fill",tags:["UI"],previewId:"pv_anim_pulse_bar"},{id:"2",categoryId:"progress",title:"Stripe Motion Fill",subtitle:"striped motion",tags:["UI"],previewId:"pv_anim_stripes_fill"},{id:"3",categoryId:"progress",title:"Gradient Sweep Meter",subtitle:"sweeping sheen",tags:["UI"],previewId:"pv_anim_gradient_sweep"},{id:"4",categoryId:"progress",title:"Segments Filling Track",subtitle:"sequential fill",tags:["UI"],previewId:"pv_anim_segments_fill"},{id:"5",categoryId:"progress",title:"Ring Spinner Progress",subtitle:"rotating arc",tags:["UI"],previewId:"pv_anim_ring_spinner"},{id:"6",categoryId:"progress",title:"Wave Fill Gauge",subtitle:"wave motion",tags:["UI"],previewId:"pv_anim_wave_fill"},{id:"7",categoryId:"progress",title:"Tick-Up Counter",subtitle:"rolling digits",tags:["UI"],previewId:"pv_anim_tickup_counter"},{id:"8",categoryId:"progress",title:"Marker Line Pulse",subtitle:"pulsing marker",tags:["UI"],previewId:"pv_anim_marker_pulse"},{id:"9",categoryId:"progress",title:"Notched Bar Scroll",subtitle:"notches glide",tags:["UI"],previewId:"pv_anim_notches_scroll"},{id:"10",categoryId:"progress",title:"Microbars Breathing",subtitle:"bars breathe",tags:["UI"],previewId:"pv_anim_microbars_breathe"}]},{id:"glow",title:"Glows, Unlocks, Highlights",description:"Shimmers, spotlights, confetti, and soft neon pulses.",items:[{id:"11",categoryId:"glow",title:"Unlock Glow Border",subtitle:"glowing frame",tags:["UI"],previewId:"pv_anim_unlock_glow_border"},{id:"12",categoryId:"glow",title:"Shimmer Skeleton",subtitle:"loading shimmer",tags:["UI"],previewId:"pv_anim_skeleton_shimmer"},{id:"13",categoryId:"glow",title:"New Ribbon Shine",subtitle:"ribbon sweep",tags:["UI"],previewId:"pv_anim_ribbon_shine"},{id:"14",categoryId:"glow",title:"Badge Pop Loop",subtitle:"pop animation",tags:["UI"],previewId:"pv_anim_badge_pop"},{id:"15",categoryId:"glow",title:"Spotlight Sweep",subtitle:"light sweep",tags:["UI"],previewId:"pv_anim_spotlight_sweep"},{id:"16",categoryId:"glow",title:"Confetti Drift",subtitle:"floating dots",tags:["UI"],previewId:"pv_anim_confetti_drift"},{id:"17",categoryId:"glow",title:"Spark Particles",subtitle:"spark drizzle",tags:["UI"],previewId:"pv_anim_spark_particles"},{id:"18",categoryId:"glow",title:"Aura Halo Ring",subtitle:"halo pulse",tags:["UI"],previewId:"pv_anim_halo_ring"},{id:"19",categoryId:"glow",title:"Hover Lift (auto demo)",subtitle:"auto float",tags:["UI"],previewId:"pv_anim_hover_lift_demo"},{id:"20",categoryId:"glow",title:"Soft Neon Pulse Line",subtitle:"neon flicker",tags:["UI"],previewId:"pv_anim_neon_line_pulse"}]},{id:"controls",title:"Animated Controls & Navigation",description:"Auto-animating toggles, tabs, tooltips, and badges.",items:[{id:"21",categoryId:"controls",title:"Toggle Flip Motion",subtitle:"thumb flip",tags:["UI"],previewId:"pv_anim_toggle_flip"},{id:"22",categoryId:"controls",title:"Segmented Toggle Slide",subtitle:"sliding highlight",tags:["UI"],previewId:"pv_anim_seg_toggle_slide"},{id:"23",categoryId:"controls",title:"Tabs Underline Slide",subtitle:"underline glide",tags:["UI"],previewId:"pv_anim_tabs_underline"},{id:"24",categoryId:"controls",title:"Dropdown Open Bounce",subtitle:"bouncy menu",tags:["UI"],previewId:"pv_anim_dropdown_bounce"},{id:"25",categoryId:"controls",title:"Tooltip Appear/Float",subtitle:"float reveal",tags:["UI"],previewId:"pv_anim_tooltip_float"},{id:"26",categoryId:"controls",title:"Button Press Depth Loop",subtitle:"press cycle",tags:["UI"],previewId:"pv_anim_button_depth"},{id:"27",categoryId:"controls",title:"Loading Dots",subtitle:"dot bounce",tags:["UI"],previewId:"pv_anim_loading_dots"},{id:"28",categoryId:"controls",title:"Sync Spinner Badge",subtitle:"badge spinner",tags:["UI"],previewId:"pv_anim_sync_spinner"},{id:"29",categoryId:"controls",title:"Notification Bell Pulse",subtitle:"bell ring",tags:["UI"],previewId:"pv_anim_bell_pulse"},{id:"30",categoryId:"controls",title:"Chip Select Ripple",subtitle:"ripple effect",tags:["UI"],previewId:"pv_anim_chip_ripple"}]},{id:"charts",title:"Animated Micro-Charts",description:"Drawing sparks, morphing radar, wobbling histograms, glowing grids.",items:[{id:"31",categoryId:"charts",title:"Sparkline Draw",subtitle:"line drawing",tags:["UI"],previewId:"pv_anim_spark_draw"},{id:"32",categoryId:"charts",title:"Step Line March",subtitle:"step march",tags:["UI"],previewId:"pv_anim_step_march"},{id:"33",categoryId:"charts",title:"Bar Grow Cycle",subtitle:"bars grow",tags:["UI"],previewId:"pv_anim_bar_grow_cycle"},{id:"34",categoryId:"charts",title:"Radar Polygon Morph",subtitle:"morphing radar",tags:["UI"],previewId:"pv_anim_radar_morph"},{id:"35",categoryId:"charts",title:"Donut Arc Sweep",subtitle:"arc sweep",tags:["UI"],previewId:"pv_anim_donut_sweep"},{id:"36",categoryId:"charts",title:"Histogram Wobble",subtitle:"wobble bars",tags:["UI"],previewId:"pv_anim_hist_wobble"},{id:"37",categoryId:"charts",title:"Delta Arrow Float",subtitle:"floating delta",tags:["UI"],previewId:"pv_anim_delta_arrow_float"},{id:"38",categoryId:"charts",title:"Timeline Dot Travel",subtitle:"dot travels",tags:["UI"],previewId:"pv_anim_timeline_dot"},{id:"39",categoryId:"charts",title:"Heat Cells Glow Cycle",subtitle:"cells glow",tags:["UI"],previewId:"pv_anim_heat_glow_cycle"},{id:"40",categoryId:"charts",title:"Grid Scanline",subtitle:"scanline sweep",tags:["UI"],previewId:"pv_anim_grid_scanline"}]},{id:"states",title:"Feedback & States",description:"Toasts, banners, pings, overlays, and queue motion.",items:[{id:"41",categoryId:"states",title:"Success Toast Slide-In",subtitle:"toast slides",tags:["UI"],previewId:"pv_anim_toast_slidein"},{id:"42",categoryId:"states",title:"Warning Banner Shake",subtitle:"gentle shake",tags:["UI"],previewId:"pv_anim_banner_shake"},{id:"43",categoryId:"states",title:"Error Pulse Border",subtitle:"border pulse",tags:["UI"],previewId:"pv_anim_error_pulse"},{id:"44",categoryId:"states",title:"Offline Chip Blink",subtitle:"chip blink",tags:["UI"],previewId:"pv_anim_offline_blink"},{id:"45",categoryId:"states",title:"Locked Overlay Fade",subtitle:"overlay fade",tags:["UI"],previewId:"pv_anim_locked_fade"},{id:"46",categoryId:"states",title:"Progress Complete Burst",subtitle:"burst ring",tags:["UI"],previewId:"pv_anim_complete_burst"},{id:"47",categoryId:"states",title:"Attention Ping Indicator",subtitle:"ping pulses",tags:["UI"],previewId:"pv_anim_ping_indicator"},{id:"48",categoryId:"states",title:"Tooltip Hint Nudge",subtitle:"hint nudge",tags:["UI"],previewId:"pv_anim_hint_nudge"},{id:"49",categoryId:"states",title:"Queue Item Slide",subtitle:"slide loop",tags:["UI"],previewId:"pv_anim_queue_slide"},{id:"50",categoryId:"states",title:'"New Data" Glow Dot',subtitle:"dot glow",tags:["UI"],previewId:"pv_anim_newdata_dot"}]}],su=({label:s})=>t.jsx("span",{className:"g8-pill",children:s}),Hs=({width:s,tone:e="accent",height:n=8})=>t.jsx("div",{className:`g8-bar tone-${e}`,style:{width:s,height:n}}),aSe={pv_anim_pulse_bar:()=>t.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[t.jsx("div",{className:"g8-track g8-animated",children:t.jsx("div",{className:"g8-track-fill pulse",style:{width:"76%"}})}),t.jsxs("div",{className:"g8-mini-row",children:[t.jsx(su,{label:"UI"}),t.jsx("span",{className:"g8-mini",children:"Live"})]})]}),pv_anim_stripes_fill:()=>t.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[t.jsx("div",{className:"g8-track g8-stripes g8-animated"}),t.jsx(Hs,{width:"60%",tone:"muted",height:6})]}),pv_anim_gradient_sweep:()=>t.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[t.jsx("div",{className:"g8-track g8-sweep g8-animated"}),t.jsx("span",{className:"g8-mini",children:"Gradient sweep"})]}),pv_anim_segments_fill:()=>t.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-seg-track",children:Array.from({length:8}).map((s,e)=>t.jsx("div",{className:`g8-seg ${e<6?"g8-animated fill":""}`,style:{animationDelay:`${e*.15}s`}},e))}),pv_anim_ring_spinner:()=>t.jsxs("div",{className:"g8-preview g8-row g8-center g8-gap-sm",children:[t.jsx("div",{className:"g8-ring g8-animated",children:t.jsx("div",{className:"g8-ring-arc"})}),t.jsx(Hs,{width:"50%"})]}),pv_anim_wave_fill:()=>t.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[t.jsx("div",{className:"g8-wave g8-animated"}),t.jsx("span",{className:"g8-mini",children:"Wave fill"})]}),pv_anim_tickup_counter:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-odometer g8-animated",children:["0","1","2"].map((s,e)=>t.jsx("span",{className:`g8-odo-digit ${e===2?"active":""}`,children:s},e))}),t.jsx(su,{label:"Counter"})]}),pv_anim_marker_pulse:()=>t.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[t.jsx("div",{className:"g8-marker-line",children:t.jsx("div",{className:"g8-marker g8-animated",style:{left:"64%"}})}),t.jsx("span",{className:"g8-mini",children:"Avg marker"})]}),pv_anim_notches_scroll:()=>t.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-notches g8-animated",children:Array.from({length:12}).map((s,e)=>t.jsx("div",{className:"g8-notch"},e))}),pv_anim_microbars_breathe:()=>t.jsx("div",{className:"g8-preview g8-row g8-gap-xs g8-center",children:["ATK","SPD","HP","LCK"].map((s,e)=>t.jsxs("div",{className:"g8-col g8-gap-xxs g8-center",children:[t.jsx("span",{className:"g8-mini",children:s}),t.jsx("div",{className:`g8-microbar g8-animated ${e%2===0?"alt":""}`})]},s))}),pv_anim_unlock_glow_border:()=>t.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[t.jsxs("div",{className:"g8-glow-card g8-animated",children:[t.jsx(Hs,{width:"60%"}),t.jsx(Hs,{width:"40%",tone:"muted"})]}),t.jsx(su,{label:"Unlocked"})]}),pv_anim_skeleton_shimmer:()=>t.jsxs("div",{className:"g8-preview g8-col g8-gap-xxs",children:[t.jsx("div",{className:"g8-skeleton g8-animated"}),t.jsx("div",{className:"g8-skeleton short g8-animated"})]}),pv_anim_ribbon_shine:()=>t.jsxs("div",{className:"g8-preview g8-ribbon-card",children:[t.jsx("div",{className:"g8-ribbon g8-animated",children:"NEW"}),t.jsx(Hs,{width:"65%"}),t.jsx(Hs,{width:"40%",tone:"muted"})]}),pv_anim_badge_pop:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-badge-pop g8-animated",children:"UI"}),t.jsx(Hs,{width:"50%"})]}),pv_anim_spotlight_sweep:()=>t.jsxs("div",{className:"g8-preview g8-spotlight g8-animated",children:[t.jsx("div",{className:"g8-spot-sheen"}),t.jsx(Hs,{width:"60%"})]}),pv_anim_confetti_drift:()=>t.jsx("div",{className:"g8-preview g8-confetti",children:Array.from({length:14}).map((s,e)=>t.jsx("span",{className:"g8-confetti-dot g8-animated",style:{animationDelay:`${e*.08}s`}},e))}),pv_anim_spark_particles:()=>t.jsx("div",{className:"g8-preview g8-sparks",children:Array.from({length:10}).map((s,e)=>t.jsx("span",{className:"g8-spark g8-animated",style:{animationDelay:`${e*.12}s`}},e))}),pv_anim_halo_ring:()=>t.jsxs("div",{className:"g8-preview g8-row g8-center g8-gap-sm",children:[t.jsx("div",{className:"g8-halo g8-animated",children:t.jsx("div",{className:"g8-halo-ring"})}),t.jsx(Hs,{width:"40%"})]}),pv_anim_hover_lift_demo:()=>t.jsxs("div",{className:"g8-preview g8-hover-card g8-animated",children:[t.jsx(Hs,{width:"70%"}),t.jsx(Hs,{width:"45%",tone:"muted"})]}),pv_anim_neon_line_pulse:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-neon-line g8-animated"}),t.jsx(Hs,{width:"40%"})]}),pv_anim_toggle_flip:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-toggle g8-animated",children:t.jsx("div",{className:"g8-toggle-thumb"})}),t.jsx("span",{className:"g8-mini",children:"Auto flip"})]}),pv_anim_seg_toggle_slide:()=>t.jsx("div",{className:"g8-preview g8-seg-toggle",children:t.jsxs("div",{className:"g8-seg-rail",children:[t.jsx("div",{className:"g8-seg-slider g8-animated"}),t.jsxs("div",{className:"g8-seg-labels",children:[t.jsx("span",{children:"One"}),t.jsx("span",{children:"Two"}),t.jsx("span",{children:"Three"})]})]})}),pv_anim_tabs_underline:()=>t.jsxs("div",{className:"g8-preview g8-tabs",children:[t.jsx("div",{className:"g8-tab-row",children:["Overview","Stats","Logs"].map((s,e)=>t.jsx("span",{className:`g8-tab ${e===1?"active":""}`,children:s},s))}),t.jsx("div",{className:"g8-underline g8-animated"})]}),pv_anim_dropdown_bounce:()=>t.jsxs("div",{className:"g8-preview g8-dropdown",children:[t.jsx("div",{className:"g8-drop-head",children:"Select"}),t.jsxs("div",{className:"g8-drop-menu g8-animated",children:[t.jsx("div",{className:"g8-drop-item",children:"Option A"}),t.jsx("div",{className:"g8-drop-item",children:"Option B"}),t.jsx("div",{className:"g8-drop-item",children:"Option C"})]})]}),pv_anim_tooltip_float:()=>t.jsxs("div",{className:"g8-preview g8-tooltip",children:[t.jsx("div",{className:"g8-tooltip-target"}),t.jsx("div",{className:"g8-tooltip-box g8-animated",children:t.jsx(Hs,{width:"60%"})})]}),pv_anim_button_depth:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("button",{className:"g8-press-btn g8-animated",children:"Press"}),t.jsx("button",{className:"g8-press-btn alt g8-animated",children:"Hold"})]}),pv_anim_loading_dots:()=>t.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-center",children:Array.from({length:3}).map((s,e)=>t.jsx("span",{className:"g8-loading-dot g8-animated",style:{animationDelay:`${e*.15}s`}},e))}),pv_anim_sync_spinner:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-sync g8-animated",children:t.jsx("div",{className:"g8-sync-arc"})}),t.jsx(su,{label:"Syncing"})]}),pv_anim_bell_pulse:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-bell g8-animated",children:t.jsx("span",{className:"g8-bell-ring"})}),t.jsx(Hs,{width:"50%"})]}),pv_anim_chip_ripple:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-xs g8-center",children:[t.jsx("span",{className:"g8-chip g8-animated",children:"UI"}),t.jsx("span",{className:"g8-chip",children:"Mock"})]}),pv_anim_spark_draw:()=>t.jsx("div",{className:"g8-preview g8-sparkline",children:Array.from({length:10}).map((s,e)=>t.jsx("span",{className:"g8-spark-bar g8-animated",style:{animationDelay:`${e*.08}s`}},e))}),pv_anim_step_march:()=>t.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-stepper",children:Array.from({length:6}).map((s,e)=>t.jsx("div",{className:"g8-step g8-animated",style:{animationDelay:`${e*.1}s`}},e))}),pv_anim_bar_grow_cycle:()=>t.jsx("div",{className:"g8-preview g8-col g8-gap-xxs",children:["A","B","C"].map((s,e)=>t.jsxs("div",{className:"g8-grow-row",children:[t.jsx("span",{className:"g8-mini",children:s}),t.jsx("div",{className:"g8-grow-bar g8-animated",style:{animationDelay:`${e*.15}s`}})]},s))}),pv_anim_radar_morph:()=>t.jsxs("div",{className:"g8-preview g8-radar",children:[t.jsx("div",{className:"g8-radar-shape g8-animated"}),t.jsx("div",{className:"g8-radar-ring outer"}),t.jsx("div",{className:"g8-radar-ring inner"})]}),pv_anim_donut_sweep:()=>t.jsxs("div",{className:"g8-preview g8-row g8-center g8-gap-sm",children:[t.jsx("div",{className:"g8-donut g8-animated",children:t.jsx("div",{className:"g8-donut-hole",children:"68%"})}),t.jsx(Hs,{width:"40%"})]}),pv_anim_hist_wobble:()=>t.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-center g8-hist",children:Array.from({length:6}).map((s,e)=>t.jsx("span",{className:"g8-hist-bar g8-animated",style:{animationDelay:`${e*.1}s`}},e))}),pv_anim_delta_arrow_float:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-delta g8-animated",children:""}),t.jsx(Hs,{width:"50%"})]}),pv_anim_timeline_dot:()=>t.jsxs("div",{className:"g8-preview g8-timeline",children:[t.jsx("div",{className:"g8-timeline-line"}),t.jsx("div",{className:"g8-timeline-dot g8-animated"})]}),pv_anim_heat_glow_cycle:()=>t.jsx("div",{className:"g8-preview g8-row g8-gap-xxs g8-heatline",children:Array.from({length:8}).map((s,e)=>t.jsx("div",{className:"g8-heat-cell g8-animated",style:{animationDelay:`${e*.1}s`}},e))}),pv_anim_grid_scanline:()=>t.jsxs("div",{className:"g8-preview g8-grid-scan",children:[t.jsx("div",{className:"g8-scanline g8-animated"}),t.jsx("div",{className:"g8-grid-bg"})]}),pv_anim_toast_slidein:()=>t.jsxs("div",{className:"g8-preview g8-toast g8-animated",children:[t.jsx("span",{className:"g8-dot tone-success"}),t.jsx("span",{children:"Saved"})]}),pv_anim_banner_shake:()=>t.jsx("div",{className:"g8-preview g8-banner g8-animated",children:t.jsx("span",{children:"Warning: check inputs"})}),pv_anim_error_pulse:()=>t.jsxs("div",{className:"g8-preview g8-error g8-animated",children:[t.jsx("div",{className:"g8-error-icon",children:"!"}),t.jsxs("div",{className:"g8-col g8-gap-xxs",children:[t.jsx(Hs,{width:"60%",tone:"danger"}),t.jsx(Hs,{width:"40%",tone:"muted"})]})]}),pv_anim_offline_blink:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-chip offline g8-animated",children:"Offline"}),t.jsx(Hs,{width:"40%",tone:"muted"})]}),pv_anim_locked_fade:()=>t.jsxs("div",{className:"g8-preview g8-locked",children:[t.jsx(Hs,{width:"60%"}),t.jsx("div",{className:"g8-locked-mask g8-animated"})]}),pv_anim_complete_burst:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-burst g8-animated"}),t.jsx(Hs,{width:"40%"})]}),pv_anim_ping_indicator:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-ping g8-animated",children:t.jsx("span",{className:"g8-ping-dot"})}),t.jsx(Hs,{width:"50%"})]}),pv_anim_hint_nudge:()=>t.jsxs("div",{className:"g8-preview g8-tooltip-hint",children:[t.jsx("div",{className:"g8-hint-box g8-animated",children:t.jsx(Hs,{width:"50%"})}),t.jsx("div",{className:"g8-hint-arrow"})]}),pv_anim_queue_slide:()=>t.jsx("div",{className:"g8-preview g8-queue",children:["Item 1","Item 2","Item 3"].map((s,e)=>t.jsx("div",{className:`g8-queue-row g8-animated ${e===1?"active":""}`,style:{animationDelay:`${e*.18}s`},children:t.jsx(Hs,{width:`${50+e*10}%`})},s))}),pv_anim_newdata_dot:()=>t.jsxs("div",{className:"g8-preview g8-row g8-gap-sm g8-center",children:[t.jsx("div",{className:"g8-newdot g8-animated"}),t.jsx(Hs,{width:"50%"})]})},oSe=s=>{const e=aSe[s];return e?e():t.jsx("div",{className:"g8-preview g8-fallback"})};function lSe(){return t.jsxs("div",{className:"g8-root",children:[t.jsxs("header",{className:"g8-intro",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Gamified 8"}),t.jsx("p",{className:"g8-sub",children:"50 animated UI micro-demos with CSS motion. All scoped to this tab and honor reduced motion."})]}),t.jsx("div",{className:"g8-pill-row",children:t.jsx(su,{label:"UI"})})]}),t.jsx("nav",{className:"g8-toc",children:zI.map(s=>t.jsx("a",{href:`#${s.id}`,className:"g8-toc-link",children:s.title},s.id))}),t.jsx("div",{className:"g8-sections",children:zI.map(s=>t.jsxs("details",{className:"g8-section",open:!0,id:s.id,children:[t.jsxs("summary",{className:"g8-section-header",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g8-section-title",children:s.title}),t.jsx("div",{className:"g8-section-sub",children:s.description})]}),t.jsxs("span",{className:"g8-summary-line",children:[s.items.length," items"]})]}),t.jsx("div",{className:"g8-grid",children:s.items.map(e=>t.jsxs("div",{className:"g8-card",children:[t.jsxs("div",{className:"g8-card-head",children:[t.jsxs("div",{children:[t.jsx("div",{className:"g8-card-title",children:e.title}),t.jsx("div",{className:"g8-card-sub",children:e.subtitle})]}),t.jsx("div",{className:"g8-pill-row",children:(e.tags||["UI"]).map(n=>t.jsx(su,{label:n},n))})]}),oSe(e.previewId)]},e.id))})]},s.id))})]})}const HI=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function cSe(s=120){const e=[];for(let n=1;n<=s;n++)e.push({id:String(n),name:`Player ${n}`,className:HI[n%HI.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const nb={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function GI(){const[s,e]=E.useState("rows"),[n,r]=E.useState(0),[i,a]=E.useState(""),[l,c]=E.useState(60),u=E.useMemo(()=>cSe(240),[]),h=E.useMemo(()=>u.filter(p=>p.level>=n).filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).slice(0,l),[u,n,i,l]);return t.jsxs("div",{children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),t.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[t.jsxs("select",{value:s,onChange:p=>e(p.target.value),children:[t.jsx("option",{value:"rows",children:"Compact Rows"}),t.jsx("option",{value:"cards",children:"Card Grid"}),t.jsx("option",{value:"masonry",children:"Masonry"})]}),t.jsx("input",{placeholder:"Search",value:i,onChange:p=>a(p.target.value)}),t.jsxs("label",{children:["Min Level ",t.jsx("input",{type:"number",value:n,onChange:p=>r(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]}),t.jsxs("label",{children:["Limit ",t.jsx("input",{type:"number",value:l,onChange:p=>c(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),s==="rows"&&t.jsx("div",{style:{...nb,padding:0,overflow:"hidden"},children:h.map(p=>{var g;return t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:700},children:[p.name," ",t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:p.className})]}),t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),t.jsx("div",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),s==="cards"&&t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>{var g;return t.jsxs("div",{style:nb,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontWeight:700},children:p.name}),t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),t.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[t.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),t.jsx("span",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),s==="masonry"&&t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>t.jsxs("div",{style:{...nb,height:140+parseInt(p.id)%3*40},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontWeight:700},children:p.name}),t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),t.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),t.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},p.id))})]})}function WI(s=24){const e=[];for(let n=1;n<=s;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function KI(){const[s,e]=E.useState(120),[n,r]=E.useState(()=>WI(24));E.useEffect(()=>{const a=setInterval(()=>{r(l=>{if(!l.length)return l;const c=Math.floor(Math.random()*l.length),u=[...l];return u[c]={...u[c],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(a)},[]),E.useEffect(()=>{const a=setInterval(()=>{r(l=>l.map(c=>({...c,lastScanMinsAgo:c.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(a)},[]);const i=E.useMemo(()=>n.filter(a=>a.lastScanMinsAgo>s),[n,s]);return t.jsxs("div",{children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),t.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[t.jsxs("label",{children:["Freshness TTL (min) ",t.jsx("input",{type:"number",value:s,onChange:a=>e(parseInt(a.target.value||"0")),style:{marginLeft:8,width:100}})]}),t.jsx("button",{onClick:()=>r(WI(24)),children:"Reset Demo Data"})]}),t.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),t.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[t.jsx("div",{children:"Player"}),t.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(a=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[t.jsxs("div",{children:[a.name," ",t.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:a.server})]}),t.jsxs("div",{style:{width:180,textAlign:"right"},children:[a.lastScanMinsAgo," min ago"]})]},a.id)),i.length===0&&t.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function dSe(s){const e=/"log"\s*:\s*\{/.test(s)&&/"entries"\s*:\s*\[/.test(s),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(s);return{isHar:e,isSf:n}}function qI(){const[s,e]=E.useState("idle"),[n,r]=E.useState(null),[i,a]=E.useState(!1),l=E.useCallback(async c=>{var h;c.preventDefault(),a(!1);const u=(h=c.dataTransfer.files)==null?void 0:h[0];if(u){e("validating");try{const p=await u.text(),{isHar:g,isSf:x}=dSe(p);if(e("parsing"),await new Promise(b=>setTimeout(b,600)),!g&&!x){e("error"),r({isHar:g,isSf:x,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:g,isSf:x,sizeKB:Math.round(u.size/1024),summary:`Detected: ${g?"HAR":x?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(p.length/2500)} (rough).`})}catch(p){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(p==null?void 0:p.message)||"Parse failed"})}}},[]);return t.jsxs("div",{children:[t.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),t.jsx("div",{onDragOver:c=>{c.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:l,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),t.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),t.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Status:"})," ",s]}),n?t.jsxs("ul",{children:[t.jsxs("li",{children:["isHar: ",String(n.isHar)]}),t.jsxs("li",{children:["isSf: ",String(n.isSf)]}),t.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&t.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&t.jsxs("li",{children:["summary: ",n.summary]})]}):t.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const uSe="_wrap_hxkkn_3",hSe="_left_hxkkn_17",pSe="_right_hxkkn_25",mSe="_canvasCard_hxkkn_33",gSe="_hint_hxkkn_83",fSe="_panel_hxkkn_95",vSe="_panelTitle_hxkkn_109",xSe="_panelBody_hxkkn_121",go={wrap:uSe,left:hSe,right:pSe,canvasCard:mSe,hint:gSe,panel:fSe,panelTitle:vSe,panelBody:xSe},ySe=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],bSe=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function _Se(){const[s,e]=E.useState("Canvas ist vorbereitet (526526)."),n=E.useRef(null),[r,i]=E.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[a,l]=E.useState(!0);E.useEffect(()=>{const p=document.getElementById("PortraitCanvas");if(!p){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(b){}let g=console.error;a&&(console.error=(...b)=>{var S;const _=String((S=b==null?void 0:b[0])!=null?S:"");_.includes("Failed to load URL")&&_.includes("PortraitMaker-res/portraits/")||g(...b)});let x=null;try{x=new ST(p,{...r}),n.current=x,e("Rendering")}catch(b){a&&(console.error=g),g("Error initializing PortraitMaker:",b),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return x&&(x.onFinish=()=>{a&&(console.error=g),e("Fertig gerendert.")}),()=>{try{x&&typeof x.dispose=="function"&&x.dispose()}finally{a&&(console.error=g)}}},[r,a]);const c=()=>{const p=document.getElementById("PortraitCanvas");if(!p)return;const g=p.toDataURL("image/png"),x=document.createElement("a");x.href=g,x.download="portrait.png",x.click()},u=p=>{i(g=>({...g,genderName:p,beard:p==="female"?0:g.beard}))},h=r.special!==0;return t.jsxs("div",{className:go.wrap,children:[t.jsx("div",{className:go.left,children:t.jsxs("div",{className:go.canvasCard,children:[t.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),t.jsx("div",{className:go.hint,children:s})]})}),t.jsx("div",{className:go.right,children:t.jsxs("div",{className:go.panel,children:[t.jsx("h2",{className:go.panelTitle,children:"Controls"}),t.jsx("div",{className:go.panelBody,children:t.jsxs("div",{style:{display:"grid",gap:8},children:[t.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",t.jsx("input",{type:"number",value:r.special,onChange:p=>i(g=>({...g,special:Number(p.target.value||0)})),style:{width:100}})]}),t.jsxs("fieldset",{disabled:h,style:{border:0,padding:0,margin:0},children:[t.jsxs("label",{children:["Gender:",t.jsxs("select",{value:r.genderName,onChange:p=>u(p.target.value),children:[t.jsx("option",{value:"male",children:"male"}),t.jsx("option",{value:"female",children:"female"})]})]}),t.jsxs("label",{children:["Class:",t.jsx("input",{type:"number",min:1,value:r.class,onChange:p=>i(g=>({...g,class:Number(p.target.value||0)})),style:{width:80}})]}),t.jsxs("label",{children:["Race:",t.jsx("input",{type:"number",min:1,value:r.race,onChange:p=>i(g=>({...g,race:Number(p.target.value||0)})),style:{width:80}})]})]}),t.jsxs("label",{children:["Background:",t.jsx("select",{value:r.background,onChange:p=>i(g=>({...g,background:p.target.value})),children:ySe.map(p=>t.jsx("option",{value:p,children:p===""?"transparent":p},p))})]}),t.jsxs("label",{children:["Frame:",t.jsx("select",{value:r.frame,onChange:p=>i(g=>({...g,frame:p.target.value})),children:bSe.map(p=>t.jsx("option",{value:p,children:p===""?"none":p},p))})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:p=>i(g=>({...g,showBorder:p.target.checked}))}),"showBorder"]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("input",{type:"checkbox",checked:a,onChange:p=>l(p.target.checked)}),"Mute 404 logs (Playground)"]}),t.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:t.jsx("button",{onClick:c,children:"Export PNG"})}),h&&t.jsxs("div",{className:go.hint,children:["Hinweis: Bei ",t.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const wSe=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],jSe=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],SSe=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function NSe(){return t.jsx(Ht,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:t.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),t.jsx("ul",{className:"mt-2 space-y-2",children:wSe.map(s=>t.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[t.jsx("div",{className:"font-semibold text-slate-50",children:s.title}),t.jsx("p",{className:"text-xs text-slate-400",children:s.description})]},s.id))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),t.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[t.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),t.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),t.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:t.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),t.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:jSe.map(s=>t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("dt",{className:"text-xs text-slate-400",children:s.label}),t.jsx("dd",{className:"font-semibold",children:s.value})]},s.label))})]}),t.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),t.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:SSe.map(s=>t.jsx("li",{children:s},s))})]})]}),children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),t.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),t.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),t.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),t.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(s=>t.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:s}),t.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},s))}),t.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(s=>t.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[t.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",s]}),t.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",s]})]}),t.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),t.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},s))})]})})}const kSe={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function CSe(){return t.jsx(Ht,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:t.jsx("div",{className:"flex w-full justify-center pt-10",children:t.jsx(B4,{config:kSe,label:"Playground Avatar"})})})}const ISe=Array.from({length:4},(s,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function TSe(){return t.jsx(Ht,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:t.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:t.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:ISe.map(s=>t.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:s.label}),t.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),t.jsx("p",{className:"text-[11px] text-slate-400",children:s.note})]},s.id))})})})}const ESe="_avatarFrameMask_1pzs8_5",ASe="_avatarFrameOverlay_1pzs8_7",QI={avatarFrameMask:ESe,avatarFrameOverlay:ASe},PSe=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function RSe(){return t.jsx(Ht,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:t.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[t.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:PSe.map(s=>t.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:s.title}),t.jsx("p",{className:"mt-2 text-xs text-slate-300",children:s.detail}),t.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},s.title))}),t.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),t.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:QI.avatarFrameMask,children:t.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),t.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:QI.avatarFrameOverlay,children:t.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const LSe=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function DSe(){return t.jsx(Ht,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:t.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:t.jsx("div",{className:"flex w-full flex-col gap-4",children:LSe.map(s=>t.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[s.label,t.jsx("span",{children:"Leer"})]}),t.jsx("p",{className:"mt-2 text-sm text-slate-300",children:s.info}),t.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},s.label))})})})}function MSe(){return t.jsx(Ht,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:t.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),t.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),t.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),t.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const ie={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},FSe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},$Se={maxWidth:1200,margin:"0 auto"},BSe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function OSe(){return t.jsx("div",{style:FSe,children:t.jsxs("div",{style:$Se,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"HAR Import Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:BSe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),t.jsxs("div",{style:{border:`1px dashed ${ie.line}`,borderRadius:12,padding:24,textAlign:"center",background:ie.tileAlt},children:["Drop .har file here or"," ",t.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),t.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const VSe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},USe={maxWidth:1200,margin:"0 auto"},zSe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function HSe(){return t.jsx("div",{style:VSe,children:t.jsxs("div",{style:USe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"JSON/CSV Import Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:zSe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),t.jsxs("div",{style:{display:"grid",gap:8},children:[t.jsxs("label",{children:["Upload JSON ",t.jsx("input",{type:"file",accept:".json"})]}),t.jsxs("label",{children:["Upload CSV ",t.jsx("input",{type:"file",accept:".csv"})]})]}),t.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const GSe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},WSe={maxWidth:1200,margin:"0 auto"},KSe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function qSe(){return t.jsx("div",{style:GSe,children:t.jsxs("div",{style:WSe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Index Schema Viewer Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:KSe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(s=>t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:ie.title},children:s}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},s))})]})})]})})}const QSe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},YSe={maxWidth:1200,margin:"0 auto"},XSe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function JSe(){return t.jsx("div",{style:QSe,children:t.jsxs("div",{style:YSe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Player Profile (Contained) Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:XSe,children:[t.jsxs("div",{style:{display:"flex",gap:12},children:[t.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${ie.line}`}}),t.jsxs("div",{children:[t.jsx("h3",{style:{margin:"4px 0",color:ie.title},children:"NightRaven"}),t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(s=>t.jsx("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:s},s))})]})})]})})}const ZSe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},eNe={maxWidth:1200,margin:"0 auto"},tNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function sNe(){return t.jsx("div",{style:ZSe,children:t.jsxs("div",{style:eNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Guild Hub Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:tNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[t.jsx("b",{style:{color:ie.title},children:"Ravens"}),t.jsx("span",{children:"Avg Lvl 465"}),t.jsx("span",{children:"Fresh scans 82%"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[t.jsx("b",{style:{color:ie.title},children:"Arcana"}),t.jsx("span",{children:"Avg Lvl 458"}),t.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const nNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},rNe={maxWidth:1200,margin:"0 auto"},iNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function aNe(){return t.jsx("div",{style:nNe,children:t.jsxs("div",{style:rNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Server Hub Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:iNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(s=>t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:ie.title},children:s}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},s))})]})})]})})}const oNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},lNe={maxWidth:1200,margin:"0 auto"},cNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function dNe(){return t.jsx("div",{style:oNe,children:t.jsxs("div",{style:lNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Rankings Views Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:cNe,children:[t.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(s=>t.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${ie.line}`,borderRadius:10},children:s},s))}),t.jsx("div",{style:{border:`1px solid ${ie.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((s,e)=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[t.jsx("b",{style:{color:ie.title},children:s.name}),t.jsx("span",{children:s.delta}),t.jsxs("span",{children:["Lvl ",s.lvl]})]},s.id))})]})})]})})}const uNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},hNe={maxWidth:1200,margin:"0 auto"},pNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function mNe(){return t.jsx("div",{style:uNe,children:t.jsxs("div",{style:hNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"KPI Dashboard Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsx("div",{style:pNe,children:t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(s=>t.jsx("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:s},s))})})})]})})}const gNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},fNe={maxWidth:1200,margin:"0 auto"},vNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function xNe(){return t.jsx("div",{style:gNe,children:t.jsxs("div",{style:fNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Progression Tracker Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:vNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),t.jsx("div",{style:{height:160,border:`1px dashed ${ie.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const yNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},bNe={maxWidth:1200,margin:"0 auto"},_Ne={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function wNe(){return t.jsx("div",{style:yNe,children:t.jsxs("div",{style:bNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Legendary & Pets Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsx("div",{style:_Ne,children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:ie.title},children:"Legendary Tracker"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Shadow Bow "}),t.jsx("li",{children:"Mythic Ring "})]})]}),t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:ie.title},children:"Pets"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Firewolf 4/5"}),t.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const jNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},SNe={maxWidth:1200,margin:"0 auto"},NNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function kNe(){return t.jsx("div",{style:jNe,children:t.jsxs("div",{style:SNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Community Scans Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:NNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(s=>t.jsx("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:s},s))})]})})]})})}const CNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},INe={maxWidth:1200,margin:"0 auto"},TNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function ENe(){return t.jsx("div",{style:CNe,children:t.jsxs("div",{style:INe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Creator Hub Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:TNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(s=>t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:ie.title},children:s}),t.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},s))})]})})]})})}const ANe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},PNe={maxWidth:1200,margin:"0 auto"},RNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function LNe(){return t.jsx("div",{style:ANe,children:t.jsxs("div",{style:PNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Feedback Form Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:RNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),t.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[t.jsx("span",{children:"Category"}),t.jsxs("select",{style:{background:"#152A42",color:ie.text,border:`1px solid ${ie.line}`,borderRadius:8,padding:"6px 8px"},children:[t.jsx("option",{children:"UI"}),t.jsx("option",{children:"Data"}),t.jsx("option",{children:"Bug"})]})]}),t.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[t.jsx("span",{children:"Message"}),t.jsx("textarea",{rows:4,style:{background:"#152A42",color:ie.text,border:`1px solid ${ie.line}`,borderRadius:8,padding:"6px 8px"}})]}),t.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${ie.line}`,borderRadius:10},children:"Send"})]})})]})})}const DNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},MNe={maxWidth:1200,margin:"0 auto"},FNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function $Ne(){return t.jsx("div",{style:DNe,children:t.jsxs("div",{style:MNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Feedback Admin Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:FNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),t.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(s=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("span",{children:s}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),t.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},s))})]})})]})})}const BNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},ONe={maxWidth:1200,margin:"0 auto"},VNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function UNe(){return t.jsx("div",{style:BNe,children:t.jsxs("div",{style:ONe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Tutorials Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:VNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Step highlights"}),t.jsx("li",{children:"Progress bar"}),t.jsx("li",{children:"Badges"})]})]})})]})})}const zNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},HNe={maxWidth:1200,margin:"0 auto"},GNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function WNe(){return t.jsx("div",{style:zNe,children:t.jsxs("div",{style:HNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Wiki & FAQ Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:GNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),t.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${ie.line}`,borderRadius:10}}),t.jsxs("ul",{style:{marginTop:8},children:[t.jsx("li",{children:"How to import HAR?"}),t.jsx("li",{children:"What data is stored?"})]})]})})]})})}const KNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},qNe={maxWidth:1200,margin:"0 auto"},QNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function YNe(){return t.jsx("div",{style:KNe,children:t.jsxs("div",{style:qNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Settings Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:QNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[t.jsxs("label",{children:["Language",t.jsxs("select",{style:{marginLeft:8},children:[t.jsx("option",{children:"EN"}),t.jsx("option",{children:"DE"})]})]}),t.jsxs("label",{children:["Theme",t.jsxs("select",{style:{marginLeft:8},children:[t.jsx("option",{children:"Dark"}),t.jsx("option",{children:"Custom"})]})]}),t.jsxs("label",{children:["Notifications",t.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),t.jsxs("label",{children:["Privacy",t.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const XNe={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},JNe={maxWidth:1200,margin:"0 auto"},ZNe={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function eke(){return t.jsx("div",{style:XNe,children:t.jsxs("div",{style:JNe,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"ToS & Privacy Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:ZNe,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),t.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${ie.line}`,borderRadius:10,padding:10,marginTop:8},children:t.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),t.jsxs("label",{style:{marginTop:8},children:[t.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const tke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},ske={maxWidth:1200,margin:"0 auto"},nke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function rke(){return t.jsx("div",{style:tke,children:t.jsxs("div",{style:ske,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Transparency Viewer Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:nke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),t.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${ie.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const ike={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},ake={maxWidth:1200,margin:"0 auto"},oke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function lke(){return t.jsx("div",{style:ike,children:t.jsxs("div",{style:ake,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"PWA Update Flow Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:oke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),t.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[t.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),t.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const cke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},dke={maxWidth:1200,margin:"0 auto"},uke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function hke(){return t.jsx("div",{style:cke,children:t.jsxs("div",{style:dke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"PWA Install Prompt Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:uke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[t.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${ie.line}`,borderRadius:20}}),t.jsxs("div",{children:[t.jsx("b",{style:{color:ie.title},children:"Install SFDataHub"}),t.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),t.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const pke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},mke={maxWidth:1200,margin:"0 auto"},gke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function fke(){return t.jsx("div",{style:pke,children:t.jsxs("div",{style:mke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Connect Manual Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:gke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10,marginTop:8},children:[t.jsx("b",{style:{color:ie.title},children:"View source"}),t.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const vke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},xke={maxWidth:1200,margin:"0 auto"},yke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function bke(){return t.jsx("div",{style:vke,children:t.jsxs("div",{style:xke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Connect Userscript Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:yke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),t.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[t.jsx("div",{children:"Install/Enable check"}),t.jsx("div",{children:"Events preview"})]})]})})]})})}const _ke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},wke={maxWidth:1200,margin:"0 auto"},jke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function Ske(){return t.jsx("div",{style:_ke,children:t.jsxs("div",{style:wke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Exports Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:jke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:ie.title},children:"CSV/Excel"}),t.jsx("div",{children:"Tabs, widths, locales"})]}),t.jsxs("div",{style:{background:ie.tileAlt,border:`1px solid ${ie.line}`,borderRadius:10,padding:10},children:[t.jsx("b",{style:{color:ie.title},children:"JSON API"}),t.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Nke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},kke={maxWidth:1200,margin:"0 auto"},Cke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function Ike(){return t.jsx("div",{style:Nke,children:t.jsxs("div",{style:kke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Deeplinks Demo Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Cke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),t.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${ie.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Tke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},Eke={maxWidth:1200,margin:"0 auto"},Ake={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function Pke(){return t.jsx("div",{style:Tke,children:t.jsxs("div",{style:Eke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Servers Editor Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Ake,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[t.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),t.jsxs("select",{children:[t.jsx("option",{children:"Active"}),t.jsx("option",{children:"Disabled"})]}),t.jsx("button",{children:"Add"})]})]})})]})})}const Rke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},Lke={maxWidth:1200,margin:"0 auto"},Dke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function Mke(){return t.jsx("div",{style:Rke,children:t.jsxs("div",{style:Lke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Jobs & Queues Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Dke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),t.jsxs("ul",{style:{marginTop:8},children:[t.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),t.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const Fke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},$ke={maxWidth:1200,margin:"0 auto"},Bke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function Oke(){return t.jsx("div",{style:Fke,children:t.jsxs("div",{style:$ke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Feature Flags Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Bke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[t.jsx("span",{children:"Beta: New Rankings"}),t.jsx("label",{children:t.jsx("input",{type:"checkbox",defaultChecked:!0})}),t.jsx("span",{children:"Widgets v2"}),t.jsx("label",{children:t.jsx("input",{type:"checkbox"})})]})]})})]})})}const Vke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},Uke={maxWidth:1200,margin:"0 auto"},zke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function Hke(){return t.jsx("div",{style:Vke,children:t.jsxs("div",{style:Uke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Table Performance Lab Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:zke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),t.jsx("div",{style:{height:160,border:`1px dashed ${ie.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Gke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},Wke={maxWidth:1200,margin:"0 auto"},Kke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function qke(){return t.jsx("div",{style:Gke,children:t.jsxs("div",{style:Wke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Kke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),t.jsx("div",{style:{height:180,border:`1px dashed ${ie.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const Qke={minHeight:"100vh",background:ie.page,color:ie.text,padding:"24px 16px"},Yke={maxWidth:1200,margin:"0 auto"},Xke={background:ie.tile,border:`1px solid ${ie.line}`,borderRadius:12,padding:12};function Jke(){return t.jsx("div",{style:Qke,children:t.jsxs("div",{style:Yke,children:[t.jsx("h1",{style:{color:ie.title,marginTop:0},children:"Accessibility Pass Page"}),t.jsx("div",{style:{display:"grid",gap:12},children:t.jsxs("div",{style:Xke,children:[t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),t.jsxs("ul",{style:{marginTop:8},children:[t.jsx("li",{children:"Focus ring visible"}),t.jsx("li",{children:"Skip links"}),t.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const Zke=s=>s?s instanceof Date?s.getTime():typeof s=="string"?new Date(s).getTime():typeof s=="number"?s:null:null;function eCe({isLoggedIn:s,hasUnsyncedChanges:e,lastSyncedAt:n,cooldownUntil:r,onSyncClick:i,isSaving:a,syncError:l}){const{t:c}=wn(),[u,h]=E.useState(null);E.useEffect(()=>{const A=Zke(r);if(!A){h(null);return}const M=()=>{const y=Date.now(),w=Math.max(0,Math.floor((A-y)/1e3));h(w)};M();const j=window.setInterval(M,1e3);return()=>window.clearInterval(j)},[r]);const p=u!==null&&u>0,g=!s||a||!e||p,x=E.useMemo(()=>{if(u===null||u<=0)return null;const A=Math.floor(u/60),M=u%60;return`${String(A).padStart(2,"0")}:${String(M).padStart(2,"0")}`},[u]),b=a?c("tools.sync.saving"):x?c("tools.sync.cooldownLabel",{time:x}):c("tools.sync.buttonSave"),_=E.useMemo(()=>c(e?"tools.sync.statusUnsynced":n?"tools.sync.statusSynced":"tools.sync.statusNever"),[e,n,c]),S=E.useMemo(()=>{if(e)return null;if(n){const A=typeof n=="string"?new Date(n):n;return`${c("tools.sync.lastSyncLabel")}: ${A.toLocaleTimeString()}`}return c("tools.sync.noChanges")},[e,n,c]),C=["rounded-xl border px-4 py-2 text-sm font-semibold uppercase tracking-wide transition focus:outline-none focus:ring-2 focus:ring-emerald-400/70",g?"cursor-not-allowed border-slate-700/70 bg-slate-800/70 text-slate-500":"border-emerald-400/60 bg-emerald-500/10 text-emerald-50 hover:border-emerald-300 hover:bg-emerald-500/20"].join(" ");return t.jsx("div",{className:"mt-4 rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[t.jsx("button",{type:"button",disabled:g,onClick:i,className:C,children:b}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:_}),S&&t.jsx("p",{className:"text-sm text-slate-200",children:S}),l&&t.jsx("p",{className:"text-sm text-rose-400",children:l})]})]})})}const tf=3,TP="sfdatahub.tools.sets.v1",YI=[{id:"set-main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"set-twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],zd=[{id:"gemSim",labelKey:"tools.labels.gemSim",defaultLabel:"Gem Simulator",descriptionKey:"tools.descriptions.gemSim",defaultDescription:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeonPauseOpenXP",labelKey:"tools.labels.dungeonPause",defaultLabel:"Dungeon Pause",descriptionKey:"tools.descriptions.dungeonPause",defaultDescription:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xpDungeon",labelKey:"tools.labels.xpDungeon",defaultLabel:"XP Dungeon",descriptionKey:"tools.descriptions.xpDungeon",defaultDescription:"Slide fuer XP-Lauf-Planung als Platzhalter."}],tCe=300*1e3;async function sCe(s,e){const n=rs(qa(yt,"user_tools_state"),s);console.log("[ToolsSync] userId param:",s,"doc path:",n.path);const r={version:1,updatedAt:Vi(),sets:e.sets,activeSetId:e.activeSetId,activeToolId:e.activeToolId};await Ro(n,r,{merge:!1})}const nCe=()=>{if(typeof window=="undefined")return null;try{const s=window.localStorage.getItem(TP);if(!s)return null;const e=JSON.parse(s);return!e||e.version!==1||e.type!=="toolSet"||!Array.isArray(e.sets)?null:e}catch(s){return console.warn("Failed to parse persisted tools state",s),null}};function rCe(){var it,Nt;const{t:s}=wn(),{user:e,status:n,loginWithDiscord:r}=Gi(),i=n==="authenticated"&&!!e,a=E.useMemo(()=>nCe(),[]),l=E.useMemo(()=>{var be;return(be=a==null?void 0:a.sets)!=null&&be.length?a.sets.slice(0,tf):YI},[a]),c=E.useMemo(()=>{var De,Ee,at,mt;const be=a==null?void 0:a.activeSetId;return be&&l.some(Ve=>Ve.id===be)?be:(mt=(at=(De=l[0])==null?void 0:De.id)!=null?at:(Ee=YI[0])==null?void 0:Ee.id)!=null?mt:"set-main-dh"},[a,l]),u=E.useMemo(()=>{var De,Ee;const be=a==null?void 0:a.activeToolId;return be&&zd.some(at=>at.id===be)?be:(Ee=(De=zd[0])==null?void 0:De.id)!=null?Ee:"gemSim"},[a]),[h,p]=E.useState(l),[g,x]=E.useState(c),[b,_]=E.useState(u),[S,C]=E.useState(null),[A,M]=E.useState(""),[j,y]=E.useState(""),[w,P]=E.useState(!1),[N,k]=E.useState(null),[T,L]=E.useState(null),[R,$]=E.useState(!1),[B,H]=E.useState(null),z=E.useRef(null),W=E.useRef(!0);E.useEffect(()=>{if(typeof window!="undefined")try{const be={version:1,type:"toolSet",sets:h,activeSetId:g!=null?g:null,activeToolId:b};window.localStorage.setItem(TP,JSON.stringify(be))}catch(be){console.warn("Failed to persist tools state",be)}},[h,g,b]),E.useEffect(()=>{if(!i){P(!1),W.current=!0;return}if(W.current){W.current=!1;return}P(!0)},[i,h,g,b]);const G=E.useMemo(()=>{var be;return(be=h.find(De=>De.id===g))!=null?be:h[0]},[g,h]),K=E.useMemo(()=>{var be;return(be=zd.find(De=>De.id===b))!=null?be:zd[0]},[b]),te=(it=G==null?void 0:G.tools)==null?void 0:it.gemSim,X=(Nt=G==null?void 0:G.tools)==null?void 0:Nt.dungeonPauseOpenXP,U=h.length,J=U>=tf,se=()=>{if(J)return;const be=U+1,De=s("tools.sets.defaultName","New Set"),Ee={id:`set-${Date.now()}`,name:`${De} ${be}`,classLabel:"Class TBD",serverLabel:"Server TBD"};p(at=>[...at,Ee]),x(Ee.id)},ne=()=>{r()},ue=()=>{if(!G){console.warn("No active set to export.");return}const be={version:1,type:"toolSet",set:G},De=new Blob([JSON.stringify(be,null,2)],{type:"application/json"}),Ee=URL.createObjectURL(De),at=document.createElement("a"),mt=G.name.toLowerCase().replace(/\s+/g,"-");at.href=Ee,at.download=`sfdatahub-set-${mt}.json`,at.click(),URL.revokeObjectURL(Ee)},we=()=>{var be;(be=z.current)==null||be.click()},Me=be=>{var Ve,Se;if(h.length<=1){alert(s("tools.sets.deleteLastForbidden"));return}const De=s("tools.sets.deleteConfirmTitle"),Ee=s("tools.sets.deleteConfirmText");if(!window.confirm(`${De}

${Ee}`))return;const at=h.filter(We=>We.id!==be),mt=be===g?(Se=(Ve=at[0])==null?void 0:Ve.id)!=null?Se:null:g;p(at),mt&&x(mt)},ee=be=>{const De=h.find(Ee=>Ee.id===be);De&&(C(be),M(De.name),y(""))},ge=()=>{C(null),M(""),y("")},oe=()=>{if(!S)return;const be=A.trim();if(!be){y(s("tools.sets.renameErrorEmpty"));return}p(De=>De.map(Ee=>Ee.id===S?{...Ee,name:be}:Ee)),C(null),M(""),y("")},ye=async be=>{var Ee,at;const De=(at=(Ee=be.target)==null?void 0:Ee.files)==null?void 0:at[0];if(De)try{if(h.length>=tf){alert(s("tools.sets.importErrorMaxReached"));return}const mt=await De.text(),Ve=JSON.parse(mt);if((Ve==null?void 0:Ve.version)!==1||(Ve==null?void 0:Ve.type)!=="toolSet"||typeof(Ve==null?void 0:Ve.set)!="object")throw new Error("invalid payload");const{set:Se}=Ve;if(typeof(Se==null?void 0:Se.name)!="string"||typeof(Se==null?void 0:Se.classLabel)!="string"||typeof(Se==null?void 0:Se.serverLabel)!="string")throw new Error("invalid set");const We={...Se,id:`imported-${Date.now()}`,name:Se.name,classLabel:Se.classLabel,serverLabel:Se.serverLabel};p(_t=>[..._t,We]),x(We.id)}catch(mt){console.error("Failed to import set",mt),alert(s("tools.sets.importErrorInvalid"))}finally{be.target.value=""}},je=be=>{g&&(p(De=>De.map(Ee=>{var mt;if(Ee.id!==g)return Ee;const at={...(mt=Ee.tools)!=null?mt:{},gemSim:be};return{...Ee,tools:at}})),P(!0))},ke=be=>{g&&(p(De=>De.map(Ee=>{var mt;if(Ee.id!==g)return Ee;const at={...(mt=Ee.tools)!=null?mt:{},dungeonPauseOpenXP:be};return{...Ee,tools:at}})),P(!0))},qe=`${U}/${tf}`,me=s(K.labelKey,K.defaultLabel),Ie=s(K.descriptionKey,K.defaultDescription),Xe=async()=>{if(!i)return;const be=e==null?void 0:e.id;if(!(!be||R||T!==null&&T>Date.now())&&w){$(!0),H(null);try{await sCe(be,{sets:h,activeSetId:g,activeToolId:b});const Ee=Date.now(),at=Ee+tCe;P(!1),k(new Date(Ee)),L(at)}catch(Ee){console.error("Failed to sync tools state",Ee),H(s("tools.sync.error"))}finally{$(!1)}}};return t.jsx(Ht,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:t.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),t.jsx("span",{className:"text-xs text-slate-400",children:qe})]}),t.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[h.map(be=>{const De=be.id===g;return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:()=>x(be.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",De?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-50",children:be.name}),t.jsx("span",{role:"button",tabIndex:0,onClick:Ee=>{Ee.stopPropagation(),ee(be.id)},onKeyDown:Ee=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),Ee.stopPropagation(),ee(be.id))},"aria-label":s("tools.sets.rename"),className:"rounded-full border border-transparent p-1 text-slate-300 transition hover:border-slate-500 hover:text-white",children:t.jsx(KD,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"text-xs text-emerald-200/90",children:be.classLabel}),t.jsx("div",{className:"text-xs text-slate-400",children:be.serverLabel}),De&&t.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]}),h.length>1&&t.jsx("button",{type:"button",onClick:Ee=>{Ee.stopPropagation(),Me(be.id)},className:"absolute bottom-2 right-2 rounded-full border border-slate-600/60 bg-slate-900/80 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-slate-200 transition hover:border-slate-400 hover:text-white",children:s("tools.sets.delete")})]},be.id)}),t.jsxs("button",{type:"button",onClick:se,disabled:J,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",J?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[t.jsx("span",{className:"text-lg",children:"+"}),t.jsx("span",{children:h.length>=3?"Max erreicht":"Neues Set"})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[t.jsx("button",{type:"button",onClick:ue,className:"rounded-xl border border-slate-600/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400/80 hover:bg-slate-800/60",children:s("tools.sets.exportActive")}),t.jsx("button",{type:"button",onClick:we,className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200 transition hover:border-emerald-300 hover:bg-emerald-500/20",children:s("tools.sets.import")})]}),t.jsx("input",{ref:z,type:"file",accept:"application/json",className:"hidden",onChange:ye})]}),t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[t.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),t.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:zd.map(be=>{const De=be.id===b,Ee=s(be.labelKey,be.defaultLabel);return t.jsxs("button",{type:"button",onClick:()=>_(be.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",De?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[t.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),t.jsx("span",{children:Ee})]},be.id)})})]}),t.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:s("tools.banner.accountComingSoon")}),t.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:s("tools.banner.accountTitle")})]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[s("tools.banner.featureSetComparison"),s("tools.banner.featureIntegration"),s("tools.banner.featureCloudSync")].map(be=>t.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:s("tools.banner.accountComingSoon")}),t.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:be})]},be))})]}),t.jsx(eCe,{isLoggedIn:i,hasUnsyncedChanges:w,lastSyncedAt:N,cooldownUntil:T,onSyncClick:Xe,isSaving:R,syncError:B})]}):t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:s("tools.banner.guestTitle")}),t.jsx("p",{className:"text-sm text-slate-400",children:s("tools.banner.guestDescription")}),t.jsx("ul",{className:"text-sm text-slate-300",children:[s("tools.banner.featureSetComparison"),s("tools.banner.featureIntegration"),s("tools.banner.featureCloudSync")].map(be=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),t.jsx("span",{children:be})]},be))})]}),t.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:t.jsx("button",{type:"button",onClick:ne,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:s("tools.banner.guestLoginCta")})})]})}),t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),t.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:me}),t.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(G==null?void 0:G.name)||"kein Set"]})]}),t.jsx("div",{className:"flex gap-2",children:zd.map(be=>t.jsx("div",{className:["h-2 w-8 rounded-full transition",b===be.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},be.id))})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsx("div",{className:"text-sm text-slate-300",children:Ie}),t.jsx("div",{className:"mt-4",children:b==="gemSim"?t.jsx(J4,{initialState:te,onStateChange:je}):b==="dungeonPauseOpenXP"?t.jsx(tP,{initialState:X,onStateChange:ke},g):t.jsxs("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",t.jsx("br",{}),"(z. B. ",me,")"]})})]}),t.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),t.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:G==null?void 0:G.name}),t.jsx("div",{className:"text-sm text-emerald-200/90",children:G==null?void 0:G.classLabel}),t.jsx("div",{className:"text-xs text-slate-400",children:G==null?void 0:G.serverLabel})]}),t.jsxs("div",{className:"rounded-2xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",t.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]}),S&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:ge}),t.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-slate-700/80 bg-slate-900/95 p-6 shadow-2xl",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:s("tools.sets.renameTitle")}),t.jsx("label",{className:"mt-4 block text-xs uppercase tracking-[0.3em] text-slate-400",children:s("tools.sets.renameLabel")}),t.jsx("input",{value:A,onChange:be=>M(be.target.value),autoFocus:!0,className:"mt-2 w-full rounded-xl border border-slate-700/70 bg-slate-900/60 px-4 py-2 text-sm text-slate-50 outline-none transition focus:border-emerald-400",placeholder:s("tools.sets.renamePlaceholder")}),j&&t.jsx("p",{className:"mt-2 text-xs text-rose-400",children:j}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:ge,className:"rounded-xl border border-slate-600/80 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400 hover:bg-slate-800/60",children:s("tools.sets.renameCancel")}),t.jsx("button",{type:"button",onClick:oe,className:"rounded-xl border border-emerald-400/60 bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/80",children:s("tools.sets.renameSave")})]})]})]})]})})}const rb=50,iCe=3,aCe=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),ib=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function oCe(){var w,P;const[s]=Fo(),e=(P=(w=s.get("q"))==null?void 0:w.trim())!=null?P:"",n=aCe(e),[r,i]=Q.useState([]),[a,l]=Q.useState([]),[c,u]=Q.useState(null),[h,p]=Q.useState(null),[g,x]=Q.useState(!1),[b,_]=Q.useState(!1),[S,C]=Q.useState(!1),[A,M]=Q.useState(null),j=async N=>{const k=Xn("Search:results");try{const T=Pn(Yp(yt,"latest"),Si("nameFold"),Cl(n),Il(n+""),...N?[VV(N)]:[],Qn(rb)),L=await pn(k,{},()=>rn(T)),R=L.docs.length?L.docs[L.docs.length-1]:null,$=[],B=[];L.forEach(H=>{var te,X,U,J,se,ne,ue,we,Me,ee,ge,oe,ye,je,ke,qe,me,Ie,Xe,it,Nt,be,De,Ee,at,mt,Ve,Se,We,_t,Ot,Rs;const z=H.data(),W=(te=H.ref.parent)==null?void 0:te.parent,G=(X=W==null?void 0:W.parent)==null?void 0:X.id,K=(U=W==null?void 0:W.id)!=null?U:H.id;G==="players"?$.push({id:K,name:(ne=(se=z.name)!=null?se:(J=z.values)==null?void 0:J.Name)!=null?ne:null,server:(Me=(we=z.server)!=null?we:(ue=z.values)==null?void 0:ue.Server)!=null?Me:null,className:(oe=(ge=z.className)!=null?ge:(ee=z.values)==null?void 0:ee.Class)!=null?oe:null,level:ib((je=z.level)!=null?je:(ye=z.values)==null?void 0:ye.Level)}):G==="guilds"&&B.push({id:K,name:(me=(qe=z.name)!=null?qe:(ke=z.values)==null?void 0:ke.Name)!=null?me:null,server:(it=(Xe=z.server)!=null?Xe:(Ie=z.values)==null?void 0:Ie.Server)!=null?it:null,memberCount:ib((Ee=(be=z.memberCount)!=null?be:(Nt=z.values)==null?void 0:Nt["Guild Member Count"])!=null?Ee:(De=z.values)==null?void 0:De.GuildMemberCount),hofRank:ib((Rs=(_t=(Se=(mt=z.hofRank)!=null?mt:(at=z.values)==null?void 0:at["Hall of Fame Rank"])!=null?Se:(Ve=z.values)==null?void 0:Ve.HoF)!=null?_t:(We=z.values)==null?void 0:We.Rank)!=null?Rs:(Ot=z.values)==null?void 0:Ot["Guild Rank"])})}),i(H=>[...H,...$]),l(H=>[...H,...B]),u(R),p(R),x(L.docs.length===rb),_(L.docs.length===rb)}finally{hn(k)}};Q.useEffect(()=>{if(n.length<iCe){M("Type at least 3 characters to search.");return}M(null),i([]),l([]),u(null),p(null),x(!1),_(!1),C(!0),j().catch(N=>M((N==null?void 0:N.message)||"Search failed")).finally(()=>C(!1))},[n]);const y=()=>{S||(C(!0),j(c||h).catch(N=>M((N==null?void 0:N.message)||"Search failed")).finally(()=>C(!1)))};return t.jsxs(Ht,{title:"Search",subtitle:e?`Results for ${e}`:"",children:[A&&t.jsx("p",{style:{color:"#ff9c9c",marginBottom:12},children:A}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[t.jsxs("section",{children:[t.jsx("h3",{children:"Players"}),r.map(N=>{var k,T,L;return t.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700},children:(k=N.name)!=null?k:N.id}),t.jsxs("div",{style:{opacity:.8},children:[(T=N.className)!=null?T:"?","  ",(L=N.server)!=null?L:"?","  ",N.level!=null?`Lvl ${N.level}`:"Lvl ?"]})]},N.id)})]}),t.jsxs("section",{children:[t.jsx("h3",{children:"Guilds"}),a.map(N=>{var k,T;return t.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700},children:(k=N.name)!=null?k:N.id}),t.jsxs("div",{style:{opacity:.8},children:[(T=N.server)!=null?T:"?"," "," ",N.memberCount!=null?`${N.memberCount} members`:"Members ?"," "," ",N.hofRank!=null?`HoF #${N.hofRank}`:"HoF ?"]})]},N.id)})]})]}),(g||b)&&t.jsx("div",{style:{marginTop:16},children:t.jsx("button",{type:"button",onClick:y,disabled:S,style:{padding:"10px 14px"},children:S?"Loading":"Load more"})})]})}const lCe="_backdrop_19xh2_1",cCe="_panel_19xh2_19",dCe="_header_19xh2_43",uCe="_tabs_19xh2_63",hCe="_tabBtn_19xh2_75",pCe="_tabActive_19xh2_97",mCe="_closeBtn_19xh2_101",gCe="_content_19xh2_123",Aa={backdrop:lCe,panel:cCe,header:dCe,tabs:uCe,tabBtn:hCe,tabActive:pCe,closeBtn:mCe,content:gCe},Da=s=>{if(typeof s=="number")return s;if(s==null)return 0;let e=String(s).trim();if(!e||e==="-"||e.toLowerCase()==="nan")return 0;e=e.replace(/\s+/g,"").replace(/\.(?=\d{3}\b)/g,"").replace(/,/g,".");const n=Number(e);return Number.isFinite(n)?n:0},fCe=s=>{if(!s)return{group:"ALL",serverKey:"all"};const e=String(s).toUpperCase();let n=e.match(/S?(\d+)[._-]?EU|S(\d+)\.SFGAME\.EU/);return n?{group:"EU",serverKey:`EU${n[1]||n[2]}`}:e.includes("AM1")||e.includes("S1.SFGAME.US")?{group:"US",serverKey:"AM1"}:e.includes("MAERWYNN")?{group:"INT",serverKey:"MAERWYNN"}:(n=e.match(/F(\d+)/),n?{group:"FUSION",serverKey:`F${n[1]}`}:{group:"ALL",serverKey:"all"})},vCe={Warrior:"Base Strength",Berserker:"Base Strength",Paladin:"Base Strength",Scout:"Base Dexterity",Assassin:"Base Dexterity","Demon Hunter":"Base Dexterity",Bard:"Base Dexterity",Mage:"Base Intelligence","Battle Mage":"Base Intelligence",Necromancer:"Base Intelligence",Druid:"Base Intelligence"},Nl=(s,e)=>s&&Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0,xCe=s=>{const e={str:Da(Nl(s,"Base Strength")),dex:Da(Nl(s,"Base Dexterity")),intl:Da(Nl(s,"Base Intelligence")),con:Da(Nl(s,"Base Constitution")),luck:Da(Nl(s,"Base Luck"))},n=e.str+e.dex+e.intl+e.con+e.luck;return{...e,sum:n}},yCe=(s,e)=>{var k,T;const{playerId:n,name:r,className:i,level:a,server:l,guildIdentifier:c,guildName:u,timestamp:h,updatedAt:p,values:g={}}=s||{},x=Da(a),{group:b,serverKey:_}=fCe(l),S=xCe(g),C=(k=vCe[String(i)])!=null?k:"Base Intelligence",A=Da(Nl(g,C)),M=S.sum,j=S.con,y=x>0?M/x:0,w=Da(Nl(g,"Gem Mine")),P=Da(Nl(g,"Treasury")),N=e?e():null;return{playerId:String(n!=null?n:""),name:String(r!=null?r:""),class:String(i!=null?i:""),level:x,group:b,serverKey:_,guildId:c?String(c):"",guildName:u?String(u):"",sum:M,main:A,con:j,ratio:y,mine:w,treasury:P,timestamp:Da(h),updatedAtFromLatest:(T=p!=null?p:N)!=null?T:null}},Ui=s=>String(s!=null?s:"").trim(),EP=s=>Ui(s).toUpperCase(),ts=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,""),XI=s=>s<10?`0${s}`:String(s),bCe=s=>{const e=s?new Date(s*1e3):new Date;return+`${e.getFullYear()}${XI(e.getMonth()+1)}${XI(e.getDate())}`},kf=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),JI=s=>{const e=kf(s);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},ZI=s=>{const e=new Set;for(const n of s)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},eT=s=>{var n;const e=String((n=s==null?void 0:s.code)!=null?n:"").toLowerCase();return e.includes("permission")||e.includes("already")||e.includes("failed-precondition")},f_=s=>{if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},tT=s=>{const e=f_(s);return Number.isFinite(e!=null?e:NaN)?Math.trunc(e):null},_Ce=s=>{const e=ts(s);for(const[n,r]of Object.entries(AP))if(ts(r)===e)return Number(n);return null},sT=s=>{var a;const e=s==null?"":String(s).trim();if(!e)return{classId:null,className:null};const n=Number(e);if(Number.isInteger(n)&&!Number.isNaN(n)){const l=n;return{classId:l,className:(a=AP[l])!=null?a:String(l)}}return{classId:_Ce(e),className:e}},Fs={PLAYERS:{IDENTIFIER:ts("Identifier"),PID:ts("ID"),GUILD_IDENTIFIER:ts("Guild Identifier"),SERVER:ts("Server"),NAME:ts("Name"),TIMESTAMP:ts("Timestamp"),LEVEL:ts("Level"),CLASS:ts("Class"),GUILD:ts("Guild")},GUILDS:{GUILD_IDENTIFIER:ts("Guild Identifier"),SERVER:ts("Server"),NAME:ts("Name"),MEMBER_COUNT:ts("Guild Member Count"),TIMESTAMP:ts("Timestamp"),HOF:ts("Hall of Fame Rank"),HOF_ALT:ts("HoF"),RANK:ts("Rank"),GUILD_RANK:ts("Guild Rank")}},AP={1:"Warrior",2:"Mage",3:"Scout",4:"Assassin",5:"Battle Mage",6:"Berserker",7:"Demon Hunter",8:"Bard"},PP=[Fs.PLAYERS.LEVEL,ts("Level"),ts("Lvl"),ts("Stufe")],RP=[Fs.PLAYERS.CLASS,ts("Class"),ts("ClassID"),ts("Class ID"),ts("CharClass"),ts("Klasse")],LP=s=>{const e=new Map;return s.forEach(n=>{const r=ts(n);e.has(r)||e.set(r,n)}),e},nu=s=>{const e=new Set;for(const n of s)Object.keys(n).forEach(r=>e.add(r));return Array.from(e)},_i=(s,e,n)=>{const r=e.get(n);return r&&Object.prototype.hasOwnProperty.call(s,r)?s[r]:Pa(s,n)},v_=(s,e,n)=>n.map(r=>_i(s,e,r)).find(r=>r!=null&&String(r)!==""),wCe=new Set([ts("Strength"),ts("Dexterity"),ts("Intelligence"),ts("Constitution"),ts("Luck"),ts("Attribute")]),jCe=["equipment"],SCe=s=>wCe.has(s)||jCe.some(e=>s.includes(e)),Pa=(s,e)=>{for(const n of Object.keys(s))if(ts(n)===e)return s[n]};function mv(s){if(s==null)return null;const e=String(s).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,l=Number(n[3]),c=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,p=new Date(l,a,i,c,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function nT(s){const e=new Date(s*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),a=Math.ceil(((+n-+i)/864e5+1)/7),l=n.getUTCFullYear(),c=a.toString().padStart(2,"0");return`${l}-W${c}`}function rT(s){const e=new Date(s*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),a=i+7*86400-1;return{start:i,end:a}}function iT(s){const e=new Date(s*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function aT(s){const e=new Date(s*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function NCe(s){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(s.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function gv(s){var u;const n=s.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=NCe((u=n[0])!=null?u:""),i=h=>{const p=[];let g="",x=!1;for(let b=0;b<h.length;b++){const _=h[b];_==='"'?x&&h[b+1]==='"'?(g+='"',b++):x=!x:_===r&&!x?(p.push(g),g=""):g+=_}return p.push(g),p},l=(n[0]?i(n[0]).map(Ui):[]).map((h,p)=>h||`col${p}`),c=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const p=i(n[h]);if(p.every(x=>Ui(x)===""))continue;const g={};for(let x=0;x<l.length;x++)g[l[x]]=p[x]!=null?Ui(p[x]):"";c.push(g)}return{headers:l,rows:c}}function kCe(s){const e={};for(let n=0;n<s.length;n++){const r=ts(s[n]);PP.includes(r)&&e.levelIndex==null&&(e.levelIndex=n),RP.includes(r)&&e.classIndex==null&&(e.classIndex=n)}if(e.levelIndex==null){const n=s.findIndex(r=>r.trim()==="Level");n>=0&&(e.levelIndex=n)}if(e.classIndex==null){const n=s.findIndex(r=>r.trim()==="Class");n>=0&&(e.classIndex=n)}return e}function DP(s,e){var c;const n=e&&e.length?e:nu(s),r=LP(n),i={missingIdentifier:0,badTimestamp:0,missingServer:0},a=[],l=kCe(n);for(const u of s){const h=(c=_i(u,r,Fs.PLAYERS.PID))!=null?c:_i(u,r,Fs.PLAYERS.IDENTIFIER),p=Ui(h);if(!p){i.missingIdentifier++;continue}const g=mv(_i(u,r,Fs.PLAYERS.TIMESTAMP));if(g==null){i.badTimestamp++;continue}const x=_i(u,r,Fs.PLAYERS.SERVER),b=x&&Ui(x)!==""?EP(x):void 0;if(!b){i.missingServer++;continue}const _=_i(u,r,Fs.PLAYERS.NAME),S=_!=null&&Ui(_)!==""?String(_):null,C=_i(u,r,Fs.PLAYERS.GUILD_IDENTIFIER),A=C!=null&&Ui(C)!==""?String(C):null,M=_i(u,r,Fs.PLAYERS.GUILD),j=M!=null&&Ui(M)!==""?String(M):null,y=l.levelIndex!=null?tT(u[n[l.levelIndex]]):tT(v_(u,r,PP)),w=l.classIndex!=null?sT(u[n[l.classIndex]]):sT(v_(u,r,RP));a.push({playerId:p,server:b,name:S,timestampSec:g,guildIdentifier:A,guildName:j,level:y,classId:w.classId,className:w.className,raw:u})}return{rows:a,stats:i,headers:n}}function MP(s,e){const n=e&&e.length?e:nu(s),r=LP(n),i={missingIdentifier:0,badTimestamp:0,missingServer:0},a=[];for(const l of s){const c=_i(l,r,Fs.GUILDS.GUILD_IDENTIFIER),u=Ui(c);if(!u){i.missingIdentifier++;continue}const h=mv(_i(l,r,Fs.GUILDS.TIMESTAMP));if(h==null){i.badTimestamp++;continue}const p=_i(l,r,Fs.GUILDS.SERVER),g=p&&Ui(p)!==""?EP(p):void 0;if(!g){i.missingServer++;continue}const x=_i(l,r,Fs.GUILDS.NAME),b=x!=null&&Ui(x)!==""?String(x):null,_=f_(_i(l,r,Fs.GUILDS.MEMBER_COUNT)),S=f_(v_(l,r,[Fs.GUILDS.HOF,Fs.GUILDS.HOF_ALT,Fs.GUILDS.RANK,Fs.GUILDS.GUILD_RANK]));a.push({guildIdentifier:u,server:g,name:b,timestampSec:h,memberCount:_,hofRank:S,raw:l})}return{rows:a,stats:i,headers:n}}function CCe(s){const e=gv(s);return DP(e.rows,e.headers).rows}function ICe(s){const e=gv(s);return MP(e.rows,e.headers).rows}const TCe="stats_cache_player_derived",ECe="stats_index_players_daily_compact",x_=40,oT=120,ab=500,ua=s=>{if(s==null||s==="")return null;const e=Number(s);return Number.isFinite(e)?e:null},FP=s=>`snapshot_${s}_player_derived`,$P=s=>String(s!=null?s:"").trim().toLowerCase();async function ACe(){const s=new Map;try{(await rn(qa(yt,"servers"))).forEach(n=>{const r=n.data(),i=$P(r==null?void 0:r.host);i&&s.set(i,n.id)})}catch(e){console.warn("[ImportCsv] Failed to load server host map",{error:e})}return s}async function dp(s,e,n,r){r==null||r({phase:"prepare",current:0,total:s.length,pass:n});for(let i=0;i<s.length;i+=e){const a=YV(yt),l=s.slice(i,i+e);for(const c of l)c(a);r==null||r({phase:"write",current:Math.min(i+l.length,s.length),total:s.length,pass:n}),await a.commit(),await new Promise(c=>setTimeout(c,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}async function lT(s,e,n){var p,g,x;const r=[];if(!s.length)return r;let i=0,a=0,l=0,c=0;const u=b=>{e==null||e({phase:b,current:b==="done"?s.length:i,total:s.length,pass:"scans",created:a,duplicate:l,error:c,kind:n})};u("prepare");const h=yt.bulkWriter;if(typeof h=="function"){const b=h.call(yt,{throttling:!0}),_=()=>{i++,u("write")};for(const{ref:S,data:C,key:A}of s)b.create(S,C).then(()=>{a++,r.push({key:A,status:"created"}),_()}).catch(M=>{var y,w;const j=String((y=M==null?void 0:M.code)!=null?y:"").toLowerCase();j.includes("already")&&j.includes("exist")?(l++,r.push({key:A,status:"duplicate"})):(c++,r.push({key:A,status:"error",message:String((w=M==null?void 0:M.message)!=null?w:M)})),_()});try{await b.close()}catch(S){console.warn("[ImportCsv] bulkWriter close with errors",{error:S})}return u("done"),r}for(const{ref:b,data:_,key:S}of s){try{await Ro(b,_),a++,r.push({key:S,status:"created"})}catch(C){const A=String((p=C==null?void 0:C.code)!=null?p:"").toLowerCase();A.includes("permission")||A.includes("already")?(l++,r.push({key:S,status:"duplicate",message:String((g=C==null?void 0:C.message)!=null?g:C)})):(c++,r.push({key:S,status:"error",message:String((x=C==null?void 0:C.message)!=null?x:C)}))}i++,u("write")}return u("done"),r}async function PCe(s,e,n){if(!s.length&&!e.length)return;const r=s.length+e.length,i=yt.bulkWriter;if(typeof i=="function"){const c=i.call(yt,{throttling:!0});n==null||n({phase:"prepare",current:0,total:r,pass:"latest"});for(const{ref:u,data:h}of s)c.set(u,h,{merge:!0});for(const{ref:u,data:h}of e)c.set(u,h,{merge:!0});n==null||n({phase:"write",current:r,total:r,pass:"latest"}),await c.close(),n==null||n({phase:"done",current:1,total:1,pass:"latest"});return}const a=s.map(({ref:c,data:u})=>h=>h.set(c,u,{merge:!0})),l=e.map(({ref:c,data:u})=>h=>h.set(c,u,{merge:!0}));await dp(a,x_,"latest",n),await dp(l,x_,"latest",n)}async function RCe(s,e){if(!e.length)return;const n=String(s||"all").trim()||"all",r=rs(yt,`${TCe}/${FP(n)}`);await QV(yt,async i=>{var p,g,x,b;const a=await i.get(r),l=a.exists()?(p=a.data())==null?void 0:p.players:null,c=new Map;if(Array.isArray(l))for(const _ of l){if(!_||typeof _!="object")continue;const S=String((g=_.playerId)!=null?g:"");S&&c.set(S,_)}const u=()=>{var C;let _=null,S=Number.POSITIVE_INFINITY;for(const[A,M]of c.entries()){const j=(C=ua(M.sum))!=null?C:0;j<S&&(S=j,_=A)}return{minId:_,minSum:S}};for(const _ of e){const S=String((x=_.playerId)!=null?x:"");if(!S)continue;if(c.has(S)){c.set(S,_);continue}if(c.size<ab){c.set(S,_);continue}const C=(b=ua(_.sum))!=null?b:0,{minId:A,minSum:M}=u();A&&C>M&&(c.delete(A),c.set(S,_))}const h=Array.from(c.values());h.sort((_,S)=>{var A,M,j,y;const C=((A=ua(S.sum))!=null?A:0)-((M=ua(_.sum))!=null?M:0);return C!==0?C:String((j=_.playerId)!=null?j:"").localeCompare(String((y=S.playerId)!=null?y:""))}),h.length>ab&&(h.length=ab),i.set(r,{server:n,updatedAt:Vi(),players:h},{merge:!0})})}function sf(s,e){const n={};for(const r of e){const i=ts(r);if(SCe(i)){let a=null,l;for(const c of s){const u=c.row[r];if(u==null||u==="")continue;const h=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(h)||(a==null||h>a)&&(a=h,l=u)}n[r]=l!=null?l:""}else{let a="";for(let l=s.length-1;l>=0;l--){const c=s[l].row[r];if(c!=null&&String(c)!==""){a=c;break}}n[r]=a}}return n}async function cT(s,e){var h;const n=s.path,r=e==null?void 0:e.get(n);if(r)return r.prevSec;const i=await _n(s);if(!i.exists())return e==null||e.set(n,{prevSec:0,exists:!1}),0;const a=i.data();let l=null;if(((h=a==null?void 0:a.values)==null?void 0:h.Timestamp)!=null){const p=mv(a.values.Timestamp);p!=null&&(l=p)}if(l==null&&(a==null?void 0:a.timestampRaw)!=null){const p=mv(a.timestampRaw);p!=null&&(l=p)}l==null&&typeof(a==null?void 0:a.ts)=="number"&&(l=a.ts);const c=a==null?void 0:a.timestamp;if(l==null&&typeof c=="number"&&(l=c>9999999999?Math.floor(c/1e3):c),l==null&&typeof c=="string"){const p=Date.parse(c);Number.isFinite(p)&&(l=Math.floor(p/1e3))}const u=l!=null?l:0;return e==null||e.set(n,{prevSec:u,exists:!0}),u}async function dT(s,e){var g,x,b,_,S,C,A,M,j,y,w;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],a={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0},l=[],c=[];if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');const u=e.onProgress?(P=>{var N;return(N=e.onProgress)==null?void 0:N.call(e,{...P,kind:e.kind})}):void 0,h=new Map;if(e.kind==="players"){const P=[],N=[],k=new Map,T=[],L=new Map;let R=[],$=[];if(e.rows&&Array.isArray(e.rows))R=e.rows,$=nu(R);else if(e.raw&&typeof e.raw=="string"){const se=gv(e.raw);R=se.rows,$=se.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:B,stats:H,headers:z}=DP(R,$);a.skippedMissingIdentifier+=H.missingIdentifier,a.skippedBadTs+=H.badTimestamp,a.skippedMissingServer+=H.missingServer;const W=z.length?z:nu(R),G=new Map;for(const se of B){const ne=`${se.playerId}__${se.server}__${se.timestampSec}`;P.push({key:ne,ref:rs(yt,`players/${se.playerId}/scans/${se.timestampSec}`),data:{playerId:se.playerId,server:se.server,timestamp:se.timestampSec,timestampRaw:Pa(se.raw,Fs.PLAYERS.TIMESTAMP),name:se.name,values:se.raw,createdAt:Vi()}}),G.has(se.playerId)||G.set(se.playerId,[]),G.get(se.playerId).push({row:se.raw,ts:se.timestampSec,parsed:se})}const K=await lT(P,u,"players");l.push(...K),a.writtenScanPlayers=K.filter(se=>se.status==="created").length;const te=await ACe();te.size||console.warn("[ImportCsv] Server host map empty; derived snapshots will be skipped.");for(const[se,ne]of G){ne.sort((be,De)=>be.ts-De.ts);const ue=ne[ne.length-1],we=ue.parsed,Me=we.server,ee=we.name,ge=(g=we.level)!=null?g:null,oe=(x=we.className)!=null?x:null,ye=(b=we.guildName)!=null?b:null,je=we.guildIdentifier,ke=ee!=null?ee:"",qe=JI(ke),me=ZI(qe),Ie=rs(yt,`players/${se}/latest/latest`),Xe=await cT(Ie,h);if(ue.ts>Xe){const be=Vi();N.push({ref:Ie,data:{playerId:se,server:Me,timestamp:ue.ts,timestampRaw:Pa(ue.row,Fs.PLAYERS.TIMESTAMP),name:ee,values:ue.row,updatedAt:be,nameFold:kf(ke),nameTokens:qe,nameNgrams:me,level:ge,className:oe,guildName:ye,guildNameFold:ye?kf(ye):null}});const De={playerId:se,name:ee,className:oe,level:ge,server:Me,guildIdentifier:je||void 0,guildName:ye||void 0,values:ue.row,timestamp:ue.ts,updatedAt:be},Ee=yCe(De,Vi),at=te.size>0&&(_=te.get($P(Me)))!=null?_:null;if(!at&&te.size>0&&console.warn("[ImportCsv] Derived snapshot skipped (server host not mapped)",{playerId:se,server:Me}),at){const Se=Pa(ue.row,Fs.PLAYERS.TIMESTAMP),_t=((Se!=null?String(Se).trim():"")||String((S=ue.ts)!=null?S:"")).trim(),Ot={playerId:String(se),server:at,name:String(ee!=null?ee:""),class:String((A=(C=Ee.class)!=null?C:oe)!=null?A:""),guild:ye?String(ye):null,lastScan:_t||null,level:ua(ge!=null?ge:Ee.level),con:ua(Ee.con),main:ua(Ee.main),mine:ua(Ee.mine),ratio:ua(Ee.ratio),sum:ua(Ee.sum),treasury:ua(Ee.treasury)};L.has(at)||L.set(at,[]),L.get(at).push(Ot)}const mt=bCe(ue.ts),Ve=[{scopeId:"all_all_sum",group:"ALL",serverKey:"all"},{scopeId:`${Ee.group||"ALL"}_all_sum`,group:Ee.group||"ALL",serverKey:"all"}];Ee.serverKey&&Ee.serverKey!=="all"&&Ve.push({scopeId:`${Ee.group||"ALL"}_${Ee.serverKey}_sum`,group:Ee.group||"ALL",serverKey:Ee.serverKey});for(const Se of Ve){const We=`${mt}__${Se.scopeId}`;k.has(We)||k.set(We,{dateKey:mt,scopeId:Se.scopeId,group:Se.group,serverKey:Se.serverKey,ids:[],vals:[]});const _t=k.get(We);_t.ids.push(se),_t.vals.push(Number((M=Ee.sum)!=null?M:0))}a.writtenLatestPlayers++}const it=new Map,Nt=new Map;for(const be of ne){const De=nT(be.ts),Ee=iT(be.ts);it.has(De)||it.set(De,[]),Nt.has(Ee)||Nt.set(Ee,[]),it.get(De).push(be),Nt.get(Ee).push(be)}for(const[be,De]of it){De.sort((Ve,Se)=>Ve.ts-Se.ts);const Ee=sf(De,W),at=rT(De[De.length-1].ts),mt=De[De.length-1];T.push(Ve=>{const Se=rs(yt,`players/${se}/history_weekly/${be}`);Ve.set(Se,{playerId:se,weekId:be,periodStartSec:at.start,periodEndSec:at.end,lastTs:mt.ts,lastTimestampRaw:Pa(mt.row,Fs.PLAYERS.TIMESTAMP),server:mt.parsed.server,name:mt.parsed.name,values:Ee,updatedAt:Vi()},{merge:!0})}),a.writtenWeeklyPlayers++}for(const[be,De]of Nt){De.sort((Ve,Se)=>Ve.ts-Se.ts);const Ee=sf(De,W),at=aT(De[De.length-1].ts),mt=De[De.length-1];T.push(Ve=>{const Se=rs(yt,`players/${se}/history_monthly/${be}`);Ve.set(Se,{playerId:se,monthId:be,periodStartSec:at.start,periodEndSec:at.end,lastTs:mt.ts,lastTimestampRaw:Pa(mt.row,Fs.PLAYERS.TIMESTAMP),server:mt.parsed.server,name:mt.parsed.name,values:Ee,updatedAt:Vi()},{merge:!0})}),a.writtenMonthlyPlayers++}}const X=[];for(const{dateKey:se,scopeId:ne,group:ue,serverKey:we,ids:Me,vals:ee}of k.values()){const ge=Me.map((ke,qe)=>{var me;return{id:ke,val:(me=ee[qe])!=null?me:0}});ge.sort((ke,qe)=>qe.val-ke.val);const oe=ge.map(ke=>ke.id),ye=ge.map(ke=>ke.val),je=ge.map((ke,qe)=>qe+1);X.push({ref:rs(yt,`${ECe}/${se}__${ne}`),data:{n:ge.length,ids:oe,vals:ye,ranks:je,generatedAt:Date.now(),group:ue,serverKey:we,metric:"sum",dateKey:se}})}await PCe(N,X,u);const U=Array.from(L.keys());U.length&&console.log("[ImportCsv] Derived snapshot flush pending",{count:U.length,servers:U});const J=[];for(const[se,ne]of L.entries())try{await RCe(se,ne),J.push(FP(se))}catch(ue){console.warn("[ImportCsv] Derived snapshot upsert failed",{serverKey:se,error:ue})}U.length&&console.log("[ImportCsv] Derived snapshot flush done",{count:J.length,docs:J}),await dp(T,oT,"history",u)}if(e.kind==="guilds"){const P=[],N=[],k=[];let T=[],L=[];if(e.rows&&Array.isArray(e.rows))T=e.rows,L=nu(T);else if(e.raw&&typeof e.raw=="string"){const G=gv(e.raw);T=G.rows,L=G.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:R,stats:$,headers:B}=MP(T,L);a.skippedMissingGuildIdentifier+=$.missingIdentifier,a.skippedBadTsGuild+=$.badTimestamp,a.skippedMissingServer+=$.missingServer;const H=B.length?B:nu(T),z=new Map;for(const G of R){const K=`${G.guildIdentifier}__${G.server}__${G.timestampSec}`;P.push({key:K,ref:rs(yt,`guilds/${G.guildIdentifier}/scans/${G.timestampSec}`),data:{guildIdentifier:G.guildIdentifier,server:G.server,timestamp:G.timestampSec,timestampRaw:Pa(G.raw,Fs.GUILDS.TIMESTAMP),name:G.name,values:G.raw,createdAt:Vi()}}),z.has(G.guildIdentifier)||z.set(G.guildIdentifier,[]),z.get(G.guildIdentifier).push({row:G.raw,ts:G.timestampSec,parsed:G})}const W=await lT(P,u,"guilds");c.push(...W),a.writtenScanGuilds=W.filter(G=>G.status==="created").length;for(const[G,K]of z){K.sort((oe,ye)=>oe.ts-ye.ts);const te=K[K.length-1],X=te.parsed,U=(j=X.name)!=null?j:"",J=JI(U),se=ZI(J),ne=(y=X.memberCount)!=null?y:null,ue=(w=X.hofRank)!=null?w:null,we=rs(yt,`guilds/${G}/latest/latest`),Me=await cT(we,h);te.ts>Me&&(N.push(oe=>{oe.set(we,{guildIdentifier:G,server:X.server,timestamp:te.ts,timestampRaw:Pa(te.row,Fs.GUILDS.TIMESTAMP),name:X.name,values:te.row,updatedAt:Vi(),nameFold:kf(U),nameTokens:J,nameNgrams:se,memberCount:ne,hofRank:ue},{merge:!0})}),a.writtenLatestGuilds++);const ee=new Map,ge=new Map;for(const oe of K){const ye=nT(oe.ts),je=iT(oe.ts);ee.has(ye)||ee.set(ye,[]),ge.has(je)||ge.set(je,[]),ee.get(ye).push(oe),ge.get(je).push(oe)}for(const[oe,ye]of ee){ye.sort((me,Ie)=>me.ts-Ie.ts);const je=sf(ye,H),ke=rT(ye[ye.length-1].ts),qe=ye[ye.length-1];k.push(me=>{const Ie=rs(yt,`guilds/${G}/history_weekly/${oe}`);me.set(Ie,{guildIdentifier:G,weekId:oe,periodStartSec:ke.start,periodEndSec:ke.end,lastTs:qe.ts,lastTimestampRaw:Pa(qe.row,Fs.GUILDS.TIMESTAMP),server:qe.parsed.server,name:qe.parsed.name,values:je,updatedAt:Vi()},{merge:!0})}),a.writtenWeeklyGuilds++}for(const[oe,ye]of ge){ye.sort((me,Ie)=>me.ts-Ie.ts);const je=sf(ye,H),ke=aT(ye[ye.length-1].ts),qe=ye[ye.length-1];k.push(me=>{const Ie=rs(yt,`guilds/${G}/history_monthly/${oe}`);me.set(Ie,{guildIdentifier:G,monthId:oe,periodStartSec:ke.start,periodEndSec:ke.end,lastTs:qe.ts,lastTimestampRaw:Pa(qe.row,Fs.GUILDS.TIMESTAMP),server:qe.parsed.server,name:qe.parsed.name,values:je,updatedAt:Vi()},{merge:!0})}),a.writtenMonthlyGuilds++}}try{await dp(N,x_,"latest",u)}catch(G){if(eT(G))console.warn("[ImportCsv] guild latest write skipped (duplicate/permission)",{error:G});else throw G}try{await dp(k,oT,"history",u)}catch(G){if(eT(G))console.warn("[ImportCsv] guild history write skipped (duplicate/permission)",{error:G});else throw G}}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:a,errors:r,warnings:i,durationMs:p-n,playerResults:l,guildResults:c}}const zt=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,""),LCe=s=>String(s!=null?s:"").trim(),y_=s=>LCe(s).toUpperCase(),b_=s=>String(s!=null?s:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Nr(s,e){for(const n of Object.keys(s))if(zt(n)===e)return s[n]}function fo(s,e){for(const n of e){const r=Nr(s,n);if(r!=null&&String(r)!=="")return r}}function jc(s){if(s==null||s==="")return null;const e=Number(String(s).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function du(s){if(s==null)return null;const e=String(s).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,l=Number(n[3]),c=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,p=new Date(l,a,i,c,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const In={GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name"),TIMESTAMP:zt("Timestamp"),LEVEL:zt("Level"),CLASS:zt("Class"),GUILD:zt("Guild"),GUILD_ROLE:[zt("Role"),zt("Guild Role")],TREASURY:[zt("Treasury"),zt("Fortress Treasury"),zt("Treasury Level"),zt("Festungsschatzkammer")],MINE:[zt("Mine"),zt("Gem Mine"),zt("Mine Level"),zt("Festungsmine")],BASE_MAIN:[zt("Base"),zt("Base Attribute"),zt("BaseMain"),zt("Basis Attribut")],CON_BASE:[zt("Con Base"),zt("Constitution Base"),zt("Base Constitution"),zt("Basis Konstitution"),zt("conbase")],ATTR_TOT:[zt("Attribute"),zt("Attr Total"),zt("Attribut"),zt("Attribut Gesamt")],CON_TOT:[zt("Constitution"),zt("Constitution Total"),zt("Konstitution"),zt("Konstitution Gesamt")],LAST_ACTIVE:[zt("Last Active"),zt("LastActivity"),zt("Letzte Aktivitt")],GUILD_JOINED:[zt("Guild Joined"),zt("Joined Guild"),zt("Gildenbeitritt")]},Cf={GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name")};function uT(s){const e=String(s||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function DCe(s){let e=5381;for(let n=0;n<s.length;n++)e=e*33^s.charCodeAt(n);return(e>>>0).toString(36)}function MCe(s){var n;const e=new Map;for(const r of s){const i=String((n=Nr(r,Cf.GUILD_IDENTIFIER))!=null?n:"").trim(),a=Nr(r,Cf.SERVER),l=Nr(r,Cf.NAME);if(!i||!a||!l)continue;const c=`${y_(a)}__${b_(String(l))}`;e.set(c,i)}return e}function FCe(s){var j,y;const e=Nr(s,In.TIMESTAMP),n=du(e),r=fo(s,In.LAST_ACTIVE),i=du(r),a=fo(s,In.GUILD_JOINED),l=du(a),c=jc(Nr(s,In.LEVEL)),u=(()=>{const w=Nr(s,In.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),h=(()=>{const w=fo(s,In.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),p=jc(fo(s,In.TREASURY)),g=jc(fo(s,In.MINE)),x=jc(fo(s,In.BASE_MAIN)),b=jc(fo(s,In.CON_BASE)),_=jc(fo(s,In.ATTR_TOT)),S=jc(fo(s,In.CON_TOT)),C=x!=null&&b!=null?x+b:null,A=_!=null&&S!=null?_+S:null,M=(()=>{const w=Nr(s,In.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((y=(j=s==null?void 0:s.ID)!=null?j:s==null?void 0:s.Identifier)!=null?y:""),name:M,class:u,role:h,level:c,treasury:p,mine:g,baseMain:x,conBase:b,sumBaseTotal:C,attrTotal:_,conTotal:S,totalStats:A,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:a!=null?String(a):null,guildJoinedMs:l!=null?l*1e3:null}}function vo(s,e){const n=s.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}const $Ce=s=>{const e=s==null?void 0:s.code;if(!e)return!1;const n=String(e).toLowerCase();return n==="permission-denied"||n==="already-exists"||n==="failed-precondition"};async function BCe(s){var l,c,u;const e=rs(yt,`guilds/${s}/latest/latest`),n=await _n(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(u=(c=r.timestampRaw)!=null?c:(l=r.values)==null?void 0:l.Timestamp)!=null?u:null;let a=null;return typeof r.timestamp=="number"?a=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(a=du(i)),{sec:a,raw:i}}async function OCe(s){const e=rs(yt,`guilds/${s}/snapshots/members_summary`),n=await _n(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=du(r.updatedAt);if(i!=null)return i}return 0}async function VCe(s,e){var l,c,u,h,p,g,x;const n=MCe(e||[]),r=new Set;for(const b of e||[]){const _=String((l=Nr(b,Cf.GUILD_IDENTIFIER))!=null?l:"").trim();_&&r.add(_)}for(const b of s||[]){const _=Nr(b,In.SERVER);let S=String((c=Nr(b,In.GUILD_IDENTIFIER))!=null?c:"").trim();if(!S){const C=(u=Nr(b,In.GUILD))!=null?u:b.Guild;if(C&&_){const A=`${y_(_)}__${b_(String(C))}`,M=n.get(A);M&&(S=M)}}S&&r.add(S)}let i=0,a=null;for(const b of r){const{sec:_,raw:S}=await BCe(b);if(_==null)continue;const C=await OCe(b);if(_<=C)continue;const A=new Map;for(const W of s||[]){const G=Nr(W,In.SERVER);let K=String((h=Nr(W,In.GUILD_IDENTIFIER))!=null?h:"").trim();if(!K){const U=(p=Nr(W,In.GUILD))!=null?p:W.Guild;if(U&&G){const J=`${y_(G)}__${b_(String(U))}`,se=n.get(J);se&&(K=se)}}if(K!==b)continue;const te=du(Nr(W,In.TIMESTAMP));if(te==null||te!==_)continue;const X=String((x=(g=W==null?void 0:W.ID)!=null?g:W==null?void 0:W.Identifier)!=null?x:"").trim();X&&(A.has(X)||A.set(X,W))}const M=Array.from(A.values()),j=[];for(const W of M)j.push(FCe(W));j.sort((W,G)=>{var X,U;const K=uT(W.role),te=uT(G.role);return K!==te?K-te:((X=W.name)!=null?X:"").toLowerCase().localeCompare(((U=G.name)!=null?U:"").toLowerCase())});const y=vo(j,"level"),w=vo(j,"treasury"),P=vo(j,"mine"),N=vo(j,"baseMain"),k=vo(j,"conBase"),T=vo(j,"sumBaseTotal"),L=vo(j,"attrTotal"),R=vo(j,"conTotal"),$=vo(j,"totalStats"),B=JSON.stringify({gid:b,tsSec:_,members:j.map(W=>{var G,K,te,X,U,J,se,ne,ue,we,Me,ee,ge;return{id:W.id,name:(G=W.name)!=null?G:"",class:(K=W.class)!=null?K:"",role:(te=W.role)!=null?te:"",level:(X=W.level)!=null?X:null,treasury:(U=W.treasury)!=null?U:null,mine:(J=W.mine)!=null?J:null,baseMain:(se=W.baseMain)!=null?se:null,conBase:(ne=W.conBase)!=null?ne:null,sumBaseTotal:(ue=W.sumBaseTotal)!=null?ue:null,attrTotal:(we=W.attrTotal)!=null?we:null,conTotal:(Me=W.conTotal)!=null?Me:null,totalStats:(ee=W.totalStats)!=null?ee:null,guildJoinedMs:(ge=W.guildJoinedMs)!=null?ge:null}})}),H=DCe(B),z=rs(yt,`guilds/${b}/snapshots/members_summary`);try{await Ro(z,{guildId:b,count:j.length,updatedAt:S!=null?S:String(_),updatedAtMs:_*1e3,hash:H,avgLevel:y,avgTreasury:w,avgMine:P,avgBaseMain:N,avgConBase:k,avgSumBaseTotal:T,avgAttrTotal:L,avgConTotal:R,avgTotalStats:$,members:j,updatedAtServer:Vi()},{merge:!0}),i++}catch(W){if($Ce(W)){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows duplicate/permission",{gid:b,error:W});continue}console.error("[ImportSelectionToDb] writeGuildSnapshotsFromRows fatal",{gid:b,error:W}),a=a||W}}if(a)throw a;return{guildsProcessed:r.size,snapshotsWritten:i}}function UCe(s){const e=new Date(s),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function zCe(s,e,n,r){var u,h,p;const i=rs(yt,`guilds/${s}/history_monthly/${e}/snapshots/members_summary_first`),a=await _n(i);if(!a.exists())return await Ro(i,n,{merge:!1}),{first:n,firstTsMs:(u=n.updatedAtMs)!=null?u:n.timestamp?n.timestamp*1e3:r};const l=a.data(),c=(h=l.updatedAtMs)!=null?h:l.timestamp?l.timestamp*1e3:r;return r<c?(await Ro(i,n,{merge:!1}),{first:n,firstTsMs:(p=n.updatedAtMs)!=null?p:n.timestamp?n.timestamp*1e3:r}):{first:l,firstTsMs:c}}async function HCe(s,e,n){const r=rs(yt,`guilds/${s}/history_monthly/${e}`);await Ro(r,n,{merge:!0})}function GCe(s){var M,j,y,w,P,N,k,T,L,R,$,B,H;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:a,latest:l,latestTsMs:c}=s,u=a!=null?Math.floor((c-a)/864e5):null,h=u!=null&&u<=40,p={available:h};h||(p.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const g={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:a?new Date(a).toISOString():null,toISO:new Date(c).toISOString(),fromTs:a?Math.floor(a/1e3):null,toTs:Math.floor(c/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:p};if(!h||!i)return g;const x=new Map;for(const z of i.members||[])z.playerId&&x.set(z.playerId,z);const b=[],_=[],S=[],C=[],A=[];for(const z of l.members||[]){if(!z.playerId)continue;const W=x.get(z.playerId)||null,G=(M=z.sumBaseTotal)!=null?M:null,K=(j=W==null?void 0:W.sumBaseTotal)!=null?j:null,te=G!=null&&K!=null?G-K:0,X=(y=z.totalStats)!=null?y:null,U=(w=W==null?void 0:W.totalStats)!=null?w:null,J=X!=null&&U!=null?X-U:0;b.push({playerId:z.playerId,name:(P=z.name)!=null?P:null,class:(N=z.class)!=null?N:null,levelLatest:(k=z.level)!=null?k:null,baseLatest:G,baseDelta:te}),_.push({playerId:z.playerId,name:(T=z.name)!=null?T:null,base:G,stamDelta:null,shoDelta:null}),S.push({playerId:z.playerId,name:(L=z.name)!=null?L:null,stats:G,delta:te}),C.push({playerId:z.playerId,name:(R=z.name)!=null?R:null,total:X,delta:J}),A.push({playerId:z.playerId,name:($=z.name)!=null?$:null,class:(B=z.class)!=null?B:null,stats:(H=z.baseMain)!=null?H:null,delta:(W==null?void 0:W.baseMain)!=null&&z.baseMain!=null?z.baseMain-W.baseMain:0})}return b.sort((z,W)=>{var G,K;return((G=W.baseDelta)!=null?G:-1/0)-((K=z.baseDelta)!=null?K:-1/0)}),S.sort((z,W)=>{var G,K;return((G=W.stats)!=null?G:-1/0)-((K=z.stats)!=null?K:-1/0)}),C.sort((z,W)=>{var G,K;return((G=W.total)!=null?G:-1/0)-((K=z.total)!=null?K:-1/0)}),_.sort((z,W)=>{var G,K;return((G=W.base)!=null?G:-1/0)-((K=z.base)!=null?K:-1/0)}),A.sort((z,W)=>{var G,K;return((G=W.stats)!=null?G:-1/0)-((K=z.stats)!=null?K:-1/0)}),{...g,mostBaseGained:b.slice(0,50),sumBaseStats:_.slice(0,50),highestBaseStats:S.slice(0,50),highestTotalStats:C.slice(0,50),mainAndCon:A.slice(0,50)}}const __=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,""),hT=(s,e)=>{for(const n of Object.keys(s))if(__(n)===e)return s[n]};async function BP(s,e){var p,g;const{playersRows:n,guildsRows:r}=s,i=[];let a=[],l=[],c=!0;const u=e!=null&&e.onProgress?(x,b)=>{var _;return(_=e.onProgress)==null?void 0:_.call(e,{...x,kind:b})}:void 0;try{const x=await dT(null,{kind:"guilds",rows:r,onProgress:u?b=>u(b,"guilds"):void 0});i.push(x),Array.isArray(x.guildResults)&&(l=x.guildResults)}catch(x){console.error("[ImportSelectionToDb] guild import error",x),c=!1}try{const x=await dT(null,{kind:"players",rows:n,onProgress:u?b=>u(b,"players"):void 0});i.push(x),Array.isArray(x.playerResults)&&(a=x.playerResults)}catch(x){console.error("[ImportSelectionToDb] player import error",x),c=!1}try{await VCe(n,r)}catch(x){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows skipped",x),c=!1}const h=new Set;for(const x of r){const b=hT(x,__("Guild Identifier"));b&&h.add(String(b))}for(const x of n){const b=hT(x,__("Guild Identifier"));b&&h.add(String(b))}for(const x of h){const b=Xn("ImportCsv:guildLatest"),_=rs(yt,`guilds/${x}/snapshots/members_summary`);let S;try{S=await Lo(b,_,()=>_n(_))}finally{hn(b)}if(!S.exists())continue;const C=S.data(),A=Number((p=C.updatedAtMs)!=null?p:C.timestamp?C.timestamp*1e3:Date.now()),M=UCe(A);let j=null,y=null;try{const P=await zCe(x,M,C,A);j=P.first,y=P.firstTsMs}catch(P){console.warn("[ImportSelectionToDb] ensureFirstOfMonth skipped",{guildId:x,monthKey:M,error:P})}const w=GCe({guildId:x,monthKey:M,server:(g=C.server)!=null?g:null,first:j,firstTsMs:y,latest:C,latestTsMs:A});try{await HCe(x,M,w)}catch(P){console.warn("[ImportSelectionToDb] writeMonthlyDoc skipped",{guildId:x,monthKey:M,error:P})}}return{ok:c,players:a,guilds:l,reports:i}}const ob=s=>String(s!=null?s:"").trim(),Br=s=>s.toLowerCase().replace(/[\s_\u00a0]+/g,"");function WCe(s){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(s.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function w_(s){var u;const n=s.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=WCe((u=n[0])!=null?u:""),i=h=>{const p=[];let g="",x=!1;for(let b=0;b<h.length;b++){const _=h[b];_==='"'?x&&h[b+1]==='"'?(g+='"',b++):x=!x:_===r&&!x?(p.push(g),g=""):g+=_}return p.push(g),p},l=(n[0]?i(n[0]).map(ob):[]).map((h,p)=>h||`col${p}`),c=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const p=i(n[h]);if(p.every(x=>ob(x)===""))continue;const g={};for(let x=0;x<l.length;x++)g[l[x]]=p[x]!=null?ob(p[x]):"";c.push(g)}return{headers:l,rows:c,delimiter:r}}const En={PLAYERS:{IDENTIFIER:Br("Identifier"),PID:Br("ID"),GUILD_IDENTIFIER:Br("Guild Identifier"),TIMESTAMP:Br("Timestamp"),NAME:Br("Name"),SERVER:Br("Server"),OWN:Br("Own")},GUILDS:{GUILD_IDENTIFIER:Br("Guild Identifier"),GUILD_MEMBER_COUNT:Br("Guild Member Count"),NAME:Br("Name"),TIMESTAMP:Br("Timestamp"),SERVER:Br("Server")}},OP=(s,e)=>{const n=new Set(s.map(Br));return e.every(r=>n.has(r))},La=(s,e)=>{for(const n of Object.keys(s))if(Br(n)===e)return s[n]};function KCe(s){const e=s.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function pT(s){const e=s.map(Br),n=a=>e.includes(a);let r=0,i=0;return n(En.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(En.PLAYERS.IDENTIFIER)&&(r+=2),n(En.PLAYERS.TIMESTAMP)&&(r+=1),n(En.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(En.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(En.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(En.PLAYERS.IDENTIFIER)?"players":"guilds"}function j_(s,e){const n=KCe(s);if(n!=="unknown"){const i=pT(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=pT(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function VP(s){if(s==null)return null;const e=String(s).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function qCe(s,e){var r;const n=[];if(!OP(e,[En.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of s){const a=La(i,En.PLAYERS.GUILD_IDENTIFIER);if(!a)continue;const l=La(i,En.PLAYERS.SERVER),c=l&&String(l).trim()!==""?String(l).trim().toUpperCase():void 0;n.push({guildIdentifier:String(a),id:La(i,En.PLAYERS.IDENTIFIER)||void 0,name:La(i,En.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(La(i,En.PLAYERS.OWN)).toLowerCase()),server:c,tsSec:(r=VP(La(i,En.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function QCe(s,e){const n=[];if(!OP(e,[En.GUILDS.GUILD_IDENTIFIER,En.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of s){const i=La(r,En.GUILDS.GUILD_IDENTIFIER),a=Number(La(r,En.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(a))continue;const l=VP(La(r,En.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:La(r,En.GUILDS.NAME)||void 0,memberCount:a,tsSec:l!=null?l:void 0})}return n}function UP(s){var c,u,h,p,g,x,b,_;let e=[],n=[];for(const S of s){const C=w_(S.text),{kind:A}=j_(S.name,C.headers);A==="players"?e=e.concat(CCe(S.text)):A==="guilds"&&(n=n.concat(ICe(S.text)))}const r=[],i=new Map,a=new Map;for(const S of e){const C={playerId:S.playerId,name:(c=S.name)!=null?c:"",server:S.server,guildId:(u=S.guildIdentifier)!=null?u:void 0,level:(h=S.level)!=null?h:void 0,className:(p=S.className)!=null?p:void 0,scanTimestampSec:S.timestampSec,values:S.raw};r.push(C),S.guildIdentifier&&(i.has(S.guildIdentifier)||i.set(S.guildIdentifier,[]),i.get(S.guildIdentifier).push(C),a.has(S.guildIdentifier)||a.set(S.guildIdentifier,S.server))}const l=[];for(const S of n){const C=(g=i.get(S.guildIdentifier))!=null?g:[];l.push({guildId:S.guildIdentifier,name:(x=S.name)!=null?x:S.guildIdentifier,server:S.server,memberCount:(b=S.memberCount)!=null?b:C.length,scanTimestampSec:S.timestampSec,members:C.map(A=>({playerId:A.playerId,name:A.name,level:A.level,className:A.className}))}),i.delete(S.guildIdentifier)}for(const[S,C]of i.entries()){if(!C.length)continue;const A=a.get(S);if(!A)continue;const M=C.reduce((j,y)=>Math.max(j,y.scanTimestampSec),C[0].scanTimestampSec);l.push({guildId:S,name:S,server:A,memberCount:C.length,scanTimestampSec:M,members:C.map(j=>({playerId:j.playerId,name:j.name,level:j.level,className:j.className}))})}return{filename:(_=s[0])==null?void 0:_.name,players:r,guilds:l}}function YCe(s,e){var C,A,M,j,y,w;const n=[],r=new Map;for(const P of s){const N=P.id||"",k=(C=P.server)==null?void 0:C.toUpperCase();if(N){const T=`${k!=null?k:"NO"}::${N}`;r.has(T)||r.set(T,{server:k,id:N,name:P.name||"",own:!!P.own})}}const i=r.size,a=s.length,l=Array.from(r.values()).filter(P=>P.own).length,c=new Map;for(const P of r.values())P.server&&c.set(P.server,((A=c.get(P.server))!=null?A:0)+1);const u=Array.from(c.entries()).map(([P,N])=>({server:P,players:N})).sort((P,N)=>N.players-P.players),h=u.length,p=new Map;for(const P of s)p.set(P.guildIdentifier,((M=p.get(P.guildIdentifier))!=null?M:0)+1);const g=new Set,x=new Map;for(const P of e)g.add(P.guildIdentifier),x.set(P.guildIdentifier,{name:P.name||"",declared:P.memberCount});for(const P of p.keys())g.add(P);let b=0;const _=[];for(const P of g){const N=(j=x.get(P))==null?void 0:j.declared,k=(y=p.get(P))!=null?y:0,T=N!=null&&k===N;T&&b++,_.push({id:P,name:((w=x.get(P))==null?void 0:w.name)||"",declaredCount:N!=null?N:0,playersCount:k,full:T})}[...x.values()].some(P=>Number.isFinite(P.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),_.sort((P,N)=>P.name?P.name.localeCompare(N.name):P.id.localeCompare(N.id));const S=Array.from(r.values()).sort((P,N)=>(P.server||"")===(N.server||"")?P.name.localeCompare(N.name):(P.server||"").localeCompare(N.server||""));return{totalPlayers:a,uniquePlayerIds:i,ownPlayers:l,servers:h,perServer:u,guildsRepresented:g.size,fullyScannedGuilds:b,notes:n,playersList:S,guildsList:_}}function zP({mode:s="db",onBuildUploadSession:e}){const[n,r]=E.useState([]),[i,a]=E.useState(null),[l,c]=E.useState(!1),[u,h]=E.useState(null),[p,g]=E.useState(!1),[x,b]=E.useState(null),[_,S]=E.useState([]),[C,A]=E.useState(null);E.useEffect(()=>{const R=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=R}},[]);const M=E.useCallback(async R=>{var $;c(!0),h(null),a(null),S([]),b(null);try{const B=Array.from(R).slice(0,2),H=[];let z=[],W=[];for(const G of B){const K=G,te=await K.text(),X=w_(te),{kind:U,warn:J}=j_(K.name,X.headers);H.push({name:K.name,size:K.size||te.length,rows:X.rows.length,delimiter:X.delimiter,text:te,kind:U,warn:J}),U==="players"?z=z.concat(qCe(X.rows,X.headers)):U==="guilds"&&(W=W.concat(QCe(X.rows,X.headers)))}r(H),a(YCe(z,W))}catch(B){h(String(($=B==null?void 0:B.message)!=null?$:B))}finally{c(!1)}},[]),j=E.useCallback(async R=>{!R||R.length===0||await M(R)},[M]),y=E.useCallback(async R=>{R.preventDefault();const $=R.dataTransfer.files;!$||!$.length||await M($)},[M]),w=E.useCallback(()=>{const R=n.map($=>({name:$.name,text:$.text}));return UP(R)},[n]);async function P(){var R;if(n.length){g(!0),A({phase:"prepare",current:0,total:0}),b(null),S([]);try{let $=[],B=[];for(const z of n){const W=w_(z.text),{kind:G}=j_(z.name,W.headers);G==="players"&&($=$.concat(W.rows)),G==="guilds"&&(B=B.concat(W.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!$.length,hasGuildsCsv:!!B.length,playersRows:$.length,guildsRows:B.length}),!B.length)throw new Error('Guilds-CSV mit "Guild Identifier" + "Guild Member Count" + "Timestamp" nicht gefunden.');if(!$.length)throw new Error('Players-CSV mit "Guild Identifier" nicht gefunden.');const H=await BP({playersRows:$,guildsRows:B},{onProgress:z=>A(z)});A({phase:"done",current:1,total:1}),S(H.reports),b("Import abgeschlossen.")}catch($){console.error("[UploadCenter] Import error:",$),b(`Fehler beim Import: ${(R=$==null?void 0:$.message)!=null?R:$}`)}finally{g(!1),setTimeout(()=>A(null),1200)}}}const N=E.useCallback(async()=>{var R;if(!(s!=="session"||!e||!n.length)){g(!0),b(null),S([]),h(null),A(null);try{const $=w();e($),b("Session prepared locally.")}catch($){console.error("[UploadCenter] Session build error:",$),b(`Fehler beim Import: ${(R=$==null?void 0:$.message)!=null?R:$}`)}finally{g(!1)}}},[s,e,n,w]),k=E.useMemo(()=>n.map(R=>`${R.name} (${R.rows} rows, ${R.delimiter}, ${R.kind}${R.warn?" ":""})`),[n]),T=E.useMemo(()=>n.reduce((R,$)=>R+$.rows,0),[n]),L=C?Math.floor(100*C.current/Math.max(1,C.total||1)):0;return t.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[t.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),t.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[k.map((R,$)=>t.jsx("span",{className:"uc-chip",title:n[$].warn||"",children:R},$)),n.length>0&&t.jsxs("span",{className:"uc-chip",children:["Total: ",T," rows"]})]}),t.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[C&&s==="db"&&t.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[t.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:t.jsx("div",{style:{width:`${L}%`,height:"100%",background:"#2E75F0"}})}),t.jsxs("span",{style:{color:"#D6E4F7"},children:[L,"%"]})]}),t.jsx("button",{onClick:s==="session"?N:P,disabled:!n.length||!i||p||s==="session"&&!e,className:"uc-btn",children:p?"Loading":s==="session"?"Add as Upload Session":"Load to DB"}),x&&t.jsx("span",{style:{color:x.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:x})]})]}),t.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[t.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),t.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:R=>j(R.target.files),disabled:l})]}),t.jsx("div",{onDragOver:R=>R.preventDefault(),onDrop:y,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),l&&t.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),u&&t.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[t.jsx("b",{children:"Fehler:"})," ",u]}),i&&t.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[t.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:t.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),t.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[t.jsx(Lh,{label:"Eigene Charaktere (unique IDs)",value:i.ownPlayers}),t.jsx(Lh,{label:"Spieler in Datei (eindeutige IDs)",value:i.uniquePlayerIds,hint:`Total (mit ID): ${i.totalPlayers}`}),t.jsx(Lh,{label:"Vertretene Gilden (mit ID)",value:i.guildsRepresented}),t.jsx(Lh,{label:"Vollstndig gescannte Gilden",value:i.fullyScannedGuilds}),t.jsx(Lh,{label:"Verschiedene Server",value:i.servers})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),t.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{textAlign:"left"},children:"Server"}),t.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),t.jsx("tbody",{children:i.perServer.map(R=>t.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[t.jsx("td",{children:R.server}),t.jsx("td",{style:{textAlign:"right"},children:R.players})]},R.server))})]})]}),t.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[t.jsxs("details",{children:[t.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",i.playersList.length,")"]}),t.jsx("div",{style:{marginTop:8},children:t.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{textAlign:"left"},children:"Server"}),t.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),t.jsx("th",{style:{textAlign:"left"},children:"Name"}),t.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),t.jsx("tbody",{children:i.playersList.map((R,$)=>{var B,H;return t.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[t.jsx("td",{children:(B=R.server)!=null?B:""}),t.jsx("td",{children:R.id}),t.jsx("td",{children:R.name||""}),t.jsx("td",{children:R.own?"":""})]},`${(H=R.server)!=null?H:"NO"}-${R.id}-${$}`)})})]})})]}),t.jsxs("details",{open:!0,children:[t.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",i.guildsList.length,")"]}),t.jsx("div",{style:{marginTop:8},children:t.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[t.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),t.jsx("th",{style:{textAlign:"left"},children:"Name"}),t.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),t.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),t.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),t.jsx("tbody",{children:i.guildsList.map((R,$)=>t.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[t.jsx("td",{children:R.id}),t.jsx("td",{children:R.name||""}),t.jsx("td",{style:{textAlign:"right"},children:R.declaredCount||0}),t.jsx("td",{style:{textAlign:"right"},children:R.playersCount}),t.jsx("td",{style:{textAlign:"center"},children:R.full?"":""})]},`${R.id}-${$}`))})]})})]})]}),!!i.notes.length&&t.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",t.jsx("ul",{children:i.notes.map((R,$)=>t.jsx("li",{children:R},$))})]})]})]})}function Lh({label:s,value:e,hint:n}){return t.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[t.jsx("div",{style:{fontSize:12,opacity:.85},children:s}),t.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&t.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function XCe(){return t.jsxs("div",{children:[t.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),t.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",t.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function JCe(){const{isOpen:s,close:e,activeTab:n,setTab:r,canUse:i}=$1();return!s||!i?null:t.jsx("div",{className:Aa.backdrop,onClick:e,children:t.jsxs("div",{className:Aa.panel,onClick:a=>a.stopPropagation(),children:[t.jsxs("div",{className:Aa.header,children:[t.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),t.jsxs("div",{className:Aa.tabs,children:[t.jsx("button",{type:"button",className:`${Aa.tabBtn} ${n==="csv"?Aa.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),t.jsx("button",{type:"button",className:`${Aa.tabBtn} ${n==="json"?Aa.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),t.jsx("button",{type:"button",className:Aa.closeBtn,onClick:e,children:"Schlieen"})]}),t.jsx("div",{className:Aa.content,children:n==="csv"?t.jsx(zP,{mode:"db"}):t.jsx(XCe,{})})]})})}const HP="sfdatahub_upload_sessions_v1",lb={sessions:[],activeSessionId:null},ZCe=()=>{var s,e,n,r,i,a;if(typeof window=="undefined")return lb;try{const l=window.localStorage.getItem(HP);if(!l)return lb;const c=JSON.parse(l);if(c&&typeof c=="object"){if("version"in c&&(c==null?void 0:c.version)===1&&c.type==="uploadCenter.sessions"&&Array.isArray(c.sessions)){const u=c;return{sessions:u.sessions,activeSessionId:(n=(e=u.activeSessionId)!=null?e:(s=u.sessions[0])==null?void 0:s.id)!=null?n:null}}if(Array.isArray(c.sessions)){const u=c;return{sessions:u.sessions,activeSessionId:(a=(i=u.activeSessionId)!=null?i:(r=u.sessions[0])==null?void 0:r.id)!=null?a:null}}}}catch(l){console.warn("[UploadCenterSessions] Failed to parse persisted state",l)}return lb},GP=E.createContext(null);function eIe({children:s}){const e=E.useMemo(()=>ZCe(),[]),[n,r]=E.useState(()=>e.sessions),[i,a]=E.useState(()=>e.activeSessionId),l=E.useCallback(j=>({...j,players:j.players.map(y=>({...y,status:"pending"})),guilds:j.guilds.map(y=>({...y,status:"pending"}))}),[]);E.useEffect(()=>{if(typeof window!="undefined")try{const j={version:1,type:"uploadCenter.sessions",sessions:n,activeSessionId:i};window.localStorage.setItem(HP,JSON.stringify(j))}catch(j){console.warn("[UploadCenterSessions] Failed to persist state",j)}},[n,i]);const c=E.useCallback(j=>{const y=l(j);r(w=>[...w,y]),a(y.id)},[l]),u=E.useCallback(j=>{a(j)},[]),h=E.useCallback(j=>{r(y=>{const w=y.filter(P=>P.id!==j);return a(P=>{var N,k;return P===j?(k=(N=w[0])==null?void 0:N.id)!=null?k:null:P}),w})},[]),p=E.useCallback(()=>{r([]),a(null)},[]),g=E.useCallback((j,y,w,P)=>{r(N=>N.map(k=>{if(k.id!==j)return k;if(y==="player"){const L=k.players.map(R=>R.key===w?{...R,selected:P}:R);return{...k,players:L}}const T=k.guilds.map(L=>L.key===w?{...L,selected:P}:L);return{...k,guilds:T}}))},[]),x=E.useCallback((j,y,w)=>{r(P=>P.map(N=>{if(N.id!==j)return N;if(y==="player"){const T=N.players.map(L=>({...L,selected:w}));return{...N,players:T}}const k=N.guilds.map(T=>({...T,selected:w}));return{...N,guilds:k}}))},[]),b=E.useCallback((j,y,w)=>{r(P=>P.map(N=>{if(N.id!==j)return N;const k=N.guilds.find($=>$.key===y);if(!k)return N;const T=k.guildId,L=N.players.map($=>$.guildId===T?{...$,selected:w}:$),R=N.guilds.map($=>$.key===y?{...$,selected:w}:$);return{...N,players:L,guilds:R}}))},[]),_=E.useCallback((j,y,w)=>{r(P=>P.map(N=>{if(N.id!==j)return N;let k;const T=N.players.map(B=>B.key!==y?B:(k=B.guildId,{...B,selected:w}));if(!k)return{...N,players:T};const L=T.filter(B=>B.guildId===k),R=L.length>0&&L.every(B=>B.selected),$=N.guilds.map(B=>B.guildId!==k?B:w===!1?{...B,selected:!1}:R?{...B,selected:!0}:B);return{...N,players:T,guilds:$}}))},[]),S=E.useCallback((j,y)=>{r(w=>w.map(P=>{if(P.id!==j)return P;const N=P.players.map(T=>({...T,selected:y})),k=P.guilds.map(T=>{if(!y)return{...T,selected:!1};const L=N.filter($=>$.guildId===T.guildId),R=L.length>0&&L.every($=>$.selected);return{...T,selected:R}});return{...P,players:N,guilds:k}}))},[]),C=E.useCallback((j,y)=>{r(w=>w.map(P=>{if(P.id!==j)return P;const N=P.guilds.map(T=>({...T,selected:y})),k=P.players.map(T=>y&&T.guildId?{...T,selected:!0}:!y&&T.guildId?{...T,selected:!1}:T);return{...P,guilds:N,players:k}}))},[]),A=E.useCallback((j,y,w,P)=>{console.log("[UploadSessions] setRecordStatus",{sessionId:j,kind:y,recordKey:w,status:P}),r(N=>N.map(k=>{if(k.id!==j)return k;if(y==="player"){const L=k.players.map(R=>R.key===w?{...R,status:P}:R);return{...k,players:L}}const T=k.guilds.map(L=>L.key===w?{...L,status:P}:L);return{...k,guilds:T}}))},[]),M=E.useMemo(()=>({sessions:n,activeSessionId:i,addSession:c,setActiveSession:u,removeSession:h,clearAllSessions:p,toggleRecordSelection:g,selectAllInSession:x,selectGuildWithPlayers:b,updateGuildSelectionFromPlayer:_,selectAllPlayersWithGuilds:S,selectAllGuildsWithPlayers:C,setRecordStatus:A}),[n,i,c,u,h,p,g,x,b,_,S,C,A]);return t.jsx(GP.Provider,{value:M,children:s})}function tIe(){const s=E.useContext(GP);if(!s)throw new Error("useUploadCenterSessions must be used within UploadCenterSessionsProvider");return s}const sIe="sfh:authNext";function nIe({route:s,featureId:e,fallback:n=null,children:r}){var S;const{isLoading:i,status:a}=Gi(),{resolveRule:l,canAccessFeature:c,canAccessRule:u,loading:h}=Gv(),p=Zn(),g=(S=e!=null?e:s)!=null?S:"/",x=Q.useMemo(()=>l(g),[l,g]);Q.useEffect(()=>{x||console.debug(`[FeatureGate] No rule found for target "${g}", allowing by default.`)},[x,g]);const b=Q.useMemo(()=>!e&&!s?!0:x?u(x):c(g),[c,u,e,s,x,g]),_=Q.useMemo(()=>x?!!(x.status==="logged_in"||x.minRole&&x.minRole!=="guest"||x.allowedRoles&&x.allowedRoles.length>0||x.allowedGroups&&x.allowedGroups.length>0||x.allowedUserIds&&x.allowedUserIds.length>0):!1,[x]);if(i||h)return null;if(!b){const C=a==="unauthenticated",A=p.pathname==="/login";if(_&&C&&!A){const M=`${p.pathname}${p.search||""}`,j=M.startsWith("/")&&!M.startsWith("//");typeof window!="undefined"&&window.sessionStorage&&j&&window.sessionStorage.setItem(sIe,M);const y=j?`/login?next=${encodeURIComponent(M)}`:"/login";return t.jsx(yl,{to:y,replace:!0})}return t.jsx(t.Fragment,{children:n})}return t.jsx(t.Fragment,{children:r})}const mT="pending";function gT(s,e,n){const r=s.players.map(a=>{var c;return{key:`${a.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:a.playerId,name:a.name,server:a.server,scanTimestampSec:a.scanTimestampSec,guildId:(c=a.guildId)!=null?c:void 0,level:a.level,className:a.className,values:a.values,selected:!0,status:mT}}),i=s.guilds.map(a=>{var u;const l=`${a.guildId}__${a.server}__${a.scanTimestampSec}`,c=a.members.map(h=>({key:`${h.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:h.playerId,name:h.name,level:h.level,className:h.className}));return{key:l,guildId:a.guildId,name:a.name,server:a.server,memberCount:(u=a.memberCount)!=null?u:a.members.length,scanTimestampSec:a.scanTimestampSec,members:c,selected:!0,status:mT}});return{id:e,createdAt:n,sourceFilename:s.filename,scanUploadId:void 0,players:r,guilds:i}}const If=()=>{const s=new Date,e=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${e}-${n}-${r}`};async function rIe(s){var n,r,i,a;if(!s)return console.warn("[UploadCenterUsage] Missing userId, returning empty usage."),{date:null,guilds:0,players:0};const e=rs(yt,"users",s);try{const l=await _n(e);if(!l.exists())return console.warn("[UploadCenterUsage] User document does not exist.",{userId:s}),{date:null,guilds:0,players:0};const c=(n=l.data())==null?void 0:n.uploadCenter,u=(r=c==null?void 0:c.usage)!=null?r:{};return{date:typeof(u==null?void 0:u.date)=="string"?u.date:null,guilds:Number((i=u==null?void 0:u.guilds)!=null?i:0)||0,players:Number((a=u==null?void 0:u.players)!=null?a:0)||0}}catch(l){return console.error("[UploadCenterUsage] Failed to fetch usage data.",{userId:s,error:l}),{date:null,guilds:0,players:0}}}async function iIe(s,e,n){var b,_,S;if(!s){console.warn("[UploadCenterUsage] Missing userId, skipping usage update.");return}const r=If(),i=rs(yt,"users",s);let a;try{a=await _n(i)}catch(C){console.error("[UploadCenterUsage] Failed to fetch user document.",{userId:s,error:C});return}if(!a.exists()){console.warn("[UploadCenterUsage] User document does not exist.",{userId:s});return}const l=(b=a.data())==null?void 0:b.uploadCenter,c=l==null?void 0:l.usage,u=(c==null?void 0:c.date)===r,h=u?Number((_=c==null?void 0:c.guilds)!=null?_:0):0,p=u?Number((S=c==null?void 0:c.players)!=null?S:0):0,g=h+Number(e!=null?e:0),x=p+Number(n!=null?n:0);try{await Ro(i,{uploadCenter:{...l!=null?l:{},usage:{date:r,guilds:g,players:x}}},{merge:!0})}catch(C){console.error("[UploadCenterUsage] Failed to update usage data.",{userId:s,error:C})}}const El={enabled:!0,dailyGuildLimit:9999,dailyPlayerLimit:999999},fv=s=>{if(s==null||typeof s=="boolean"||typeof s=="string"&&s.trim()==="")return null;const e=Number(s);return Number.isFinite(e)&&e>=0?e:null},aIe=s=>{if(!s||typeof s!="object")return;const e={};return Object.entries(s).forEach(([n,r])=>{if(!r||typeof r!="object")return;const i=r,a=fv(i.dailyGuildLimit),l=fv(i.dailyPlayerLimit),c=i.enabled,u={};typeof c=="boolean"&&(u.enabled=c),a!==null&&(u.dailyGuildLimit=a),l!==null&&(u.dailyPlayerLimit=l),Object.keys(u).length>0&&(e[n]=u)}),Object.keys(e).length>0?e:void 0};async function oIe(s){const e=rs(yt,"upload_quota_config","default");try{const n=await _n(e);if(!n.exists())return console.warn("[UploadQuota] Missing config document. Using defaults."),El;const r=n.data(),i=fv(r==null?void 0:r.dailyGuildLimit),a=fv(r==null?void 0:r.dailyPlayerLimit),l=aIe(r==null?void 0:r.roles),c={dailyGuildLimit:i!=null?i:El.dailyGuildLimit,dailyPlayerLimit:a!=null?a:El.dailyPlayerLimit};typeof(r==null?void 0:r.enabled)=="boolean"&&(c.enabled=r.enabled),l&&(c.roles=l);const u=r&&Object.prototype.hasOwnProperty.call(r,"dailyGuildLimit")&&i===null,h=r&&Object.prototype.hasOwnProperty.call(r,"dailyPlayerLimit")&&a===null;return(u||h)&&console.warn("[UploadQuota] Invalid config payload. Using defaults.",{data:r}),c}catch(n){return console.error("[UploadQuota] Failed to load quota config.",{userId:s==null?void 0:s.id,error:n}),El}}function lIe(s,e){var a,l,c;const n=Array.isArray(e)?e.filter(u=>typeof u=="string"&&u.length>0):[],r=Number.isFinite(s.dailyGuildLimit)?s.dailyGuildLimit:El.dailyGuildLimit,i=Number.isFinite(s.dailyPlayerLimit)?s.dailyPlayerLimit:El.dailyPlayerLimit;for(const u of n){const h=(a=s.roles)==null?void 0:a[u];if(!h||h.enabled===!1)continue;const p=(l=h.dailyGuildLimit)!=null?l:r,g=(c=h.dailyPlayerLimit)!=null?c:i;return console.debug("[UploadQuota] Applying role override for upload limits.",{role:u,guildLimit:p,playerLimit:g}),{dailyGuildLimit:p,dailyPlayerLimit:g}}return{dailyGuildLimit:r,dailyPlayerLimit:i}}async function fT(s){var u,h,p;const e=(u=s==null?void 0:s.id)!=null?u:null,n=(p=(h=s==null?void 0:s.uploadCenter)==null?void 0:h.usage)!=null?p:{date:null,guilds:0,players:0},r=Array.isArray(s==null?void 0:s.roles)?s.roles:[],[i,a]=await Promise.all([oIe(s),e?rIe(e):Promise.resolve(null)]),l=lIe(i,r);return{config:{...i,dailyGuildLimit:l.dailyGuildLimit,dailyPlayerLimit:l.dailyPlayerLimit},usage:a!=null?a:n}}const cIe=(s,e)=>`${va}/scan-uploads/${encodeURIComponent(s)}/${e}.csv`,dIe=async s=>{let e=`Request failed (${s.status})`;try{const n=await s.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function vT(s,e){const n=cIe(s,e);console.log(`[scan-uploads] Fetching ${e} CSV for scanId=${s}`);const r=await fetch(n,{method:"GET",credentials:"include",headers:{Accept:"text/csv"}});if(!r.ok)throw console.error(`[scan-uploads] Failed to fetch ${e} CSV for scanId=${s} (status ${r.status})`),await dIe(r);const i=await r.text();return console.log(`[scan-uploads] Fetched ${e} CSV for scanId=${s} (${i.length} chars)`),i}const uIe="sfdatahub:uploadCenter:scanUploads:v1:",WP=5,KP=s=>s&&"seconds"in s&&"nanoseconds"in s?{seconds:s.seconds,nanoseconds:s.nanoseconds}:null,Pc=s=>s?s instanceof Gs?s.toMillis():"seconds"in s&&"nanoseconds"in s?s.seconds*1e3+s.nanoseconds/1e6:-1/0:-1/0,hIe=s=>({...s,uploadedAt:s.uploadedAt?new Gs(s.uploadedAt.seconds,s.uploadedAt.nanoseconds):null}),pIe=s=>({...s,uploadedAt:KP(s.uploadedAt)}),qP=s=>{let e=null,n=-1/0;return s.forEach(r=>{var l;const i=KP("uploadedAt"in r&&(l=r.uploadedAt)!=null?l:null),a=Pc(i);a>n&&i&&(e=i,n=a)}),e},mIe=(s,e)=>{const n=new Map,r=i=>{const a=i.id||i.scanId;if(!a)return;const l=n.get(a);if(!l){n.set(a,i);return}const c=Pc(l.uploadedAt),u=Pc(i.uploadedAt);n.set(a,u>=c?i:l)};return s.forEach(r),e.forEach(r),Array.from(n.values()).sort((i,a)=>Pc(a.uploadedAt)-Pc(i.uploadedAt)).slice(0,WP)},gIe=(s,e)=>{if(!e)return[];const n=Pc(e);return s.filter(r=>Pc(r.uploadedAt)===n).map(r=>r.id).filter(r=>!!r)},fIe=s=>{if(typeof window=="undefined")return null;try{const e=window.localStorage.getItem(s);if(!e)return null;const n=JSON.parse(e);return!n||!Array.isArray(n.items)?null:n}catch(e){return console.warn("[upload-center] Failed to read scan uploads cache",e),null}},xT=(s,e)=>{if(typeof window!="undefined")try{const n={savedAtMs:Date.now(),lastUploadedAt:qP(e),items:e.map(pIe)};window.localStorage.setItem(s,JSON.stringify(n))}catch(n){console.warn("[upload-center] Failed to persist scan uploads cache",n)}},cb=new Map,vIe=s=>{const[e,n]=E.useState([]),[r,i]=E.useState(!1),[a,l]=E.useState(null);return E.useEffect(()=>{if(!s){n([]),i(!1),l(null);return}let c=!0;const u=`${uIe}${s}`,h=fIe(u),p=h?h.items.map(hIe):[],g=(h==null?void 0:h.lastUploadedAt)||qP(p),x=gIe(p,g);l(null),p.length>0?(n(p),i(!1)):(n([]),i(!0));const b=async()=>{const S=Xn("UploadCenter:scanUploads");try{const C=qa(yt,"scan_uploads"),A=Pn(C,wi("discordUserId","==",s),Si("uploadedAt","desc"),Qn(WP)),M=await pn(S,{path:C.path},()=>rn(A));if(!c)return;const j=M.docs.map(y=>({id:y.id,...y.data()}));console.log(`[upload-center] Loaded ${j.length} scan_uploads for current user (remote sessions)`),n(j),xT(u,j)}catch(C){if(!c)return;console.error("[upload-center] Failed to load scan_uploads for current user (index may be required)",C),l(C instanceof Error?C:new Error("Failed to load scan uploads")),n([])}finally{hn(S),c&&i(!1)}},_=async(S,C)=>{const A=`${s}:${S.seconds}:${S.nanoseconds}`,M=cb.get(A);if(M){await M;return}const j=Xn("UploadCenter:scanUploads"),w=(async()=>{try{const P=qa(yt,"scan_uploads"),N=new Gs(S.seconds,S.nanoseconds),k=Pn(P,wi("discordUserId","==",s),Si("uploadedAt","asc"),wi("uploadedAt",">",N)),T=await pn(j,{path:P.path},()=>rn(k));if(!c)return;let L=T.docs.map(R=>({id:R.id,...R.data()}));if(L.length===0&&C.length>0){const R=C.slice(0,10),$=Pn(P,wi("discordUserId","==",s),wi("uploadedAt","==",N),wi(Vb(),"not-in",R),Si(Vb())),B=await pn(j,{path:P.path},()=>rn($));if(!c)return;L=B.docs.map(H=>({id:H.id,...H.data()}))}if(L.length===0){console.log("[upload-center] No new scan_uploads found; using cached entries");return}n(R=>{const $=mIe(R.length?R:p,L);return xT(u,$),$})}catch(P){if(!c)return;console.error("[upload-center] Delta refresh for scan_uploads failed (index may be required)",P)}finally{hn(j)}})().finally(()=>{cb.delete(A)});cb.set(A,w),await w};return p.length>0&&g?_(g,x):b(),()=>{c=!1}},[s]),{items:e,loading:r,error:a}},QP="sfdatahub_upload_quota_v1",YP=s=>{var e,n;return{date:typeof(s==null?void 0:s.date)=="string"?s.date:null,guilds:Number((e=s==null?void 0:s.guilds)!=null?e:0)||0,players:Number((n=s==null?void 0:s.players)!=null?n:0)||0}},db=(s,e)=>{if(typeof window=="undefined")return;const n={version:1,config:s,usage:YP(e),storedAt:new Date().toISOString()};try{window.localStorage.setItem(QP,JSON.stringify(n))}catch(r){console.warn("[UploadQuotaStorage] Failed to persist quota data",r)}},xIe=()=>{var s,e;if(typeof window=="undefined")return null;try{const n=window.localStorage.getItem(QP);if(!n)return null;const r=JSON.parse(n);return!r||typeof r!="object"||r.version!==1||typeof((s=r.config)==null?void 0:s.dailyGuildLimit)!="number"||typeof((e=r.config)==null?void 0:e.dailyPlayerLimit)!="number"?null:{version:1,config:{dailyGuildLimit:Number(r.config.dailyGuildLimit)||0,dailyPlayerLimit:Number(r.config.dailyPlayerLimit)||0},usage:YP(r.usage),storedAt:typeof r.storedAt=="string"?r.storedAt:""}}catch(n){return console.warn("[UploadQuotaStorage] Failed to read quota data",n),null}},vv=(s,e)=>Math.max(s-e,0),yT=(s,e,n)=>{var l,c,u;const r=e.date===n,i=r&&(l=e.guilds)!=null?l:0,a=r&&(c=e.players)!=null?c:0;return{config:s,usageDate:(u=e.date)!=null?u:null,usedGuildsToday:i,usedPlayersToday:a,remainingGuilds:vv(s.dailyGuildLimit,i),remainingPlayers:vv(s.dailyPlayerLimit,a),today:n}},yIe=({className:s})=>{if(!s)return t.jsx("span",{title:"Unknown class",className:"text-xs text-center text-zinc-400 block",children:"Unknown"});const{url:e,fallback:n}=NE(s),r=e?li(e,28):void 0;return r?t.jsx("img",{src:r,alt:s,title:s,className:"mx-auto h-6 w-6 rounded-full object-contain",draggable:!1}):n?t.jsx("span",{title:s,className:"mx-auto text-center text-sm leading-none",style:{display:"block"},children:n}):t.jsx("span",{title:s,className:"text-xs text-center text-zinc-400 block",children:s})};function bIe(){return t.jsx(Ht,{title:"Upload Center",subtitle:"Import CSV scans locally, review all players and guilds, then upload only the records you want to store.",centerFramed:!1,children:t.jsx(_Ie,{})},"upload-center-shell")}function _Ie(){var Ot,Rs,ms,gs,Js,It,Ne,mn,Zt;const{sessions:s,activeSessionId:e,addSession:n,setActiveSession:r,removeSession:i,selectGuildWithPlayers:a,updateGuildSelectionFromPlayer:l,selectAllPlayersWithGuilds:c,selectAllGuildsWithPlayers:u,setRecordStatus:h}=tIe(),{t:p}=wn(),{user:g}=Gi(),x=(ms=(Rs=(Ot=g==null?void 0:g.providers)==null?void 0:Ot.discord)==null?void 0:Rs.id)!=null?ms:(g==null?void 0:g.provider)==="discord"?g.id:null,{items:b,loading:_,error:S}=vIe(x),C=!!x,A=s.find(Z=>Z.id===e)||null,M=E.useMemo(()=>new Set(s.map(Z=>Z.scanUploadId).filter(Z=>!!Z)),[s]),[j,y]=Q.useState(new Set),[w,P]=E.useState({phase:"idle",processed:0,total:0,created:0,duplicate:0,error:0}),[N,k]=E.useState("all"),[T,L]=E.useState("all"),[R,$]=E.useState(!1),[B,H]=E.useState(!1),[z,W]=E.useState(null),[G,K]=E.useState(null),[te,X]=E.useState(()=>yT(El,{date:null,guilds:0,players:0},If())),[U,J]=E.useState(null),se=E.useCallback((Z,ze)=>{const Je=If();X(yT(Z,ze,Je)),J(null)},[]),ne=E.useCallback(async()=>{try{const Z=await fT(g!=null?g:null);se(Z.config,Z.usage),db(Z.config,Z.usage)}catch(Z){console.error("[UploadCenter] Failed to refresh upload quota",Z),J("Could not refresh upload quota. Using last known values.")}},[se,g]);E.useEffect(()=>{var lt,tt;let Z=!0;If();const ze=(tt=(lt=g==null?void 0:g.uploadCenter)==null?void 0:lt.usage)!=null?tt:{date:null,guilds:0,players:0};se(El,ze);const Je=xIe();return Je&&se(Je.config,Je.usage),(async()=>{try{const Et=await fT(g!=null?g:null);if(!Z)return;se(Et.config,Et.usage),db(Et.config,Et.usage)}catch(Et){console.error("[UploadCenter] Failed to refresh upload quota",Et),Z&&J("Could not refresh upload quota. Using last known values.")}})(),()=>{Z=!1}},[g,(Js=(gs=g==null?void 0:g.uploadCenter)==null?void 0:gs.usage)==null?void 0:Js.date,(Ne=(It=g==null?void 0:g.uploadCenter)==null?void 0:It.usage)==null?void 0:Ne.guilds,(Zt=(mn=g==null?void 0:g.uploadCenter)==null?void 0:mn.usage)==null?void 0:Zt.players,se]);const ue=E.useCallback(Z=>{const ze=`csv_${Date.now()}`,Je=new Date().toISOString(),lt=gT(Z,ze,Je);n(lt),r(ze)},[n,r]),we=Z=>{const ze=new Date(Z);return Number.isNaN(ze.getTime())?"Unknown date":ze.toLocaleString()},Me=Z=>{y(ze=>{const Je=new Set(ze);return Je.has(Z)?Je.delete(Z):Je.add(Z),Je})},ee=Z=>{var tt,Et;const ze="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",Je={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",created:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",duplicate:"bg-amber-500/10 text-amber-100 border border-amber-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},lt={pending:"PENDING",created:"UPLOADED",duplicate:"IN DB",error:"ERROR"};return t.jsx("span",{className:`${ze} ${(tt=Je[Z])!=null?tt:Je.pending}`,children:(Et=lt[Z])!=null?Et:Z})},ge=Z=>{if(!Z)return"Unknown date";try{if(typeof Z.toDate=="function")return Z.toDate().toLocaleString()}catch(ze){}return"Unknown date"},oe=Z=>{var Et,cs,Ws;const ze="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",Je={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",stored:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",received:"bg-sky-500/10 text-sky-100 border border-sky-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},lt={pending:"PENDING",stored:"STORED",received:"RECEIVED",error:"ERROR"},tt=(Et=Z==null?void 0:Z.toLowerCase())!=null?Et:"pending";return t.jsx("span",{className:`${ze} ${(cs=Je[tt])!=null?cs:Je.pending}`,children:(Ws=lt[tt])!=null?Ws:Z||"PENDING"})},ye=E.useCallback((Z,ze,Je)=>{const lt=Z==="created"||Z==="duplicate";return Je&&lt?!1:ze==="all"?!0:ze==="pending"?Z==="pending":ze==="inDb"?lt:ze==="error"?Z==="error":!0},[]),je=E.useMemo(()=>A?A.players.filter(Z=>ye(Z.status,N,R)):[],[A,ye,N,R]),ke=E.useMemo(()=>A?A.guilds.filter(Z=>ye(Z.status,T,B)):[],[A,ye,T,B]),qe=E.useCallback(async Z=>{if(Z!=null&&Z.id){K(null),W(Z.id);try{const ze=[],Je=Z.queueId||Z.scanId||Z.id,lt=Z.hasPlayersCsv!==!1,tt=Z.hasGuildsCsv!==!1;if(lt){const Zs=await vT(Z.id,"players");ze.push({name:`players.scan-${Je}.csv`,text:Zs})}if(tt){const Zs=await vT(Z.id,"guilds");ze.push({name:`guilds.scan-${Je}.csv`,text:Zs})}if(!ze.length)throw new Error("No CSV data available for this scan.");const Et=UP(ze);Et.filename=Je||Et.filename;const cs=`scan_${Z.id}_${Date.now()}`,Ws=new Date().toISOString(),Ln={...gT(Et,cs,Ws),scanUploadId:Z.id};n(Ln),r(cs),console.log(`[upload-center] Loaded remote scan session for scanId=${Z.id} (session ${cs})`)}catch(ze){console.error(`[upload-center] Failed to load remote scan session for scanId=${Z==null?void 0:Z.id}`,ze),K(ze instanceof Error?ze.message:"Failed to load remote scan session.")}finally{W(null)}}},[n,r]),me=E.useMemo(()=>{if(!A)return!1;const Z=A.players.some(Je=>Je.selected),ze=A.guilds.some(Je=>Je.selected);return Z||ze},[A]),Ie=w.phase==="uploading"||w.phase==="finalizing",Xe=()=>{if(!A)return null;const Z=A.players.filter(tt=>tt.selected),ze=A.guilds.filter(tt=>tt.selected);if(!Z.length&&!ze.length)return null;const Je=Z.map(tt=>{var Et,cs,Ws,gn,Ln,Zs;if(tt.values&&typeof tt.values=="object"){const Ts={...tt.values};return Ts.Identifier==null&&Ts.ID==null&&(Ts.Identifier=tt.playerId),Ts["Guild Identifier"]==null&&(Ts["Guild Identifier"]=(Et=tt.guildId)!=null?Et:""),Ts.Timestamp==null&&(Ts.Timestamp=tt.scanTimestampSec),Ts.Server==null&&(Ts.Server=tt.server),Ts.Name==null&&(Ts.Name=tt.name),Ts.Class==null&&(Ts.Class=(cs=tt.className)!=null?cs:""),Ts.Level==null&&(Ts.Level=(Ws=tt.level)!=null?Ws:""),Ts}return{Identifier:tt.playerId,"Guild Identifier":(gn=tt.guildId)!=null?gn:"",Timestamp:tt.scanTimestampSec,Server:tt.server,Name:tt.name,Class:(Ln=tt.className)!=null?Ln:"",Level:(Zs=tt.level)!=null?Zs:""}}),lt=ze.map(tt=>{var Et;return{"Guild Identifier":tt.guildId,"Guild Member Count":(Et=tt.memberCount)!=null?Et:tt.members.length,Timestamp:tt.scanTimestampSec,Name:tt.name,Server:tt.server}});return{playersRows:Je,guildsRows:lt}},it=E.useCallback((Z,ze)=>{X(Je=>{const lt=Je.usedGuildsToday+Z,tt=Je.usedPlayersToday+ze,Et={...Je,usedGuildsToday:lt,usedPlayersToday:tt,remainingGuilds:vv(Je.config.dailyGuildLimit,lt),remainingPlayers:vv(Je.config.dailyPlayerLimit,tt),usageDate:Je.today};return db(Je.config,{date:Je.today,guilds:lt,players:tt}),Et})},[]),Nt=E.useMemo(()=>te.usageDate?te.usageDate===te.today?"Today":te.usageDate:"No uploads yet",[te.today,te.usageDate]),be=te.config.dailyPlayerLimit===0,De=te.config.dailyGuildLimit===0,Ee=be?p("uploadCenter.quota.unlimited"):te.config.dailyPlayerLimit,at=De?p("uploadCenter.quota.unlimited"):te.config.dailyGuildLimit,mt=be?p("uploadCenter.quota.unlimited"):`${Ee} limit today`,Ve=De?p("uploadCenter.quota.unlimited"):`${at} limit today`,Se=be?p("uploadCenter.quota.unlimited"):te.remainingPlayers,We=De?p("uploadCenter.quota.unlimited"):te.remainingGuilds,_t=async()=>{var Ir,Tr,Bn;if(!A)return;const Z=Xe();if(!Z)return;const ze=A.players.filter(ds=>ds.selected),Je=A.guilds.filter(ds=>ds.selected),lt=ze.length+Je.length;if(!lt)return;const tt=(Ir=g==null?void 0:g.id)!=null?Ir:null,{config:Et,usedGuildsToday:cs,usedPlayersToday:Ws}=te,gn=cs+Je.length,Ln=Ws+ze.length,Zs=gn>Et.dailyGuildLimit,Ts=Ln>Et.dailyPlayerLimit;if(Zs||Ts){J(`Daily quota exceeded: You can import up to ${Et.dailyGuildLimit} guilds / ${Et.dailyPlayerLimit} players per day. Today you already imported ${cs} guilds / ${Ws} players. This selection would bring you to ${gn} guilds / ${Ln} players.`);return}J(null),P({phase:"uploading",processed:0,total:lt,created:0,duplicate:0,error:0});const _s={processed:0,created:0,duplicate:0,error:0},er={processed:0,created:0,duplicate:0,error:0},fn=()=>{const ds=Math.min(_s.processed+er.processed,lt),Ls=ds>=lt&&lt>0?"finalizing":"uploading";P({phase:Ls,processed:ds,total:lt,created:_s.created+er.created,duplicate:_s.duplicate+er.duplicate,error:_s.error+er.error})},Cr=ds=>Ls=>{var ci;if((Ls==null?void 0:Ls.pass)!=="scans")return;const tr=ds==="players"?_s:er;typeof Ls.current=="number"&&(tr.processed=Math.min(Ls.current,(ci=Ls.total)!=null?ci:Ls.current)),typeof Ls.created=="number"&&(tr.created=Ls.created),typeof Ls.duplicate=="number"&&(tr.duplicate=Ls.duplicate),typeof Ls.error=="number"&&(tr.error=Ls.error),fn()};try{console.log("[UploadCenter] starting selection upload",{players:ze.length,guilds:Je.length});const ds=await BP(Z,{onProgress:Xt=>{(Xt==null?void 0:Xt.kind)==="players"?Cr("players")(Xt):(Xt==null?void 0:Xt.kind)==="guilds"&&Cr("guilds")(Xt)}}),Ls=A.id;let tr=!1,ci=!1;if(console.log("[UploadCenter] importSelectionToDb result",{playersSample:(Tr=ds==null?void 0:ds.players)==null?void 0:Tr.slice(0,5),guildsSample:(Bn=ds==null?void 0:ds.guilds)==null?void 0:Bn.slice(0,5),selectedPlayerKeys:ze.slice(0,5).map(Xt=>Xt.key),selectedGuildKeys:Je.slice(0,5).map(Xt=>Xt.key)}),((ds==null?void 0:ds.players)||[]).forEach(Xt=>{tr=!0,h(Ls,"player",Xt.key,Xt.status)}),((ds==null?void 0:ds.guilds)||[]).forEach(Xt=>{ci=!0,h(Ls,"guild",Xt.key,Xt.status)}),!tr&&!ci&&(ze.forEach(Xt=>h(Ls,"player",Xt.key,"created")),Je.forEach(Xt=>h(Ls,"guild",Xt.key,"created"))),ze.length||Je.length){if(it(Je.length,ze.length),!tt)console.warn("[UploadCenter] Cannot persist upload usage because the user ID is missing.");else try{await iIe(tt,Je.length,ze.length)}catch(Xt){console.error("[UploadCenter] Failed to record upload usage.",Xt)}await ne()}}catch(ds){console.error("[UploadCenter] Failed to upload selection",ds)}finally{P(ds=>({...ds,phase:"done"}))}};return t.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[t.jsxs("section",{className:"rounded-2xl border border-emerald-400/40 bg-emerald-500/5 p-4 md:p-5",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:"Local-only until you upload"}),t.jsx("h2",{className:"mt-1 text-lg font-semibold text-emerald-50",children:"Review first, then opt-in to store data"}),t.jsx("p",{className:"mt-2 text-sm text-emerald-50/80",children:"CSV files are parsed in your browser. Nothing is written to SFDataHub until you pick records and trigger the upload."})]}),t.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/80 p-4 md:p-5",children:[t.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Upload quota"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Daily limits & usage"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Values are cached locally in your browser so you can resume uploads across page reloads."})]}),t.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800/80 px-3 py-2 text-xs text-slate-200",children:["Last upload: ",Nt]})]}),t.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[t.jsxs("div",{className:"rounded-xl border border-emerald-400/40 bg-emerald-500/5 p-3",children:[t.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-emerald-200/80",children:"Players"}),t.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[t.jsx("span",{className:"text-2xl font-semibold text-emerald-50",children:Se}),t.jsx("span",{className:"text-sm text-emerald-100/80",children:"remaining"})]}),t.jsxs("div",{className:"mt-1 text-xs text-emerald-100/70",children:[te.usedPlayersToday," used / ",mt]})]}),t.jsxs("div",{className:"rounded-xl border border-sky-400/40 bg-sky-500/5 p-3",children:[t.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-sky-200/80",children:"Guilds"}),t.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[t.jsx("span",{className:"text-2xl font-semibold text-sky-50",children:We}),t.jsx("span",{className:"text-sm text-sky-100/80",children:"remaining"})]}),t.jsxs("div",{className:"mt-1 text-xs text-sky-100/70",children:[te.usedGuildsToday," used / ",Ve]})]})]}),U&&t.jsx("div",{className:"mt-3 rounded-xl border border-amber-400/60 bg-amber-500/10 px-3 py-2 text-sm text-amber-50",children:U})]}),t.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Sessions"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Import Sessions"}),t.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-3 md:p-4",children:[t.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-100",children:"Import CSV"}),t.jsx(zP,{mode:"session",onBuildUploadSession:ue})]}),t.jsx("p",{className:"text-sm text-slate-400",children:"Here you will see your locally imported CSV sessions (filename, date, player/guild counts)."}),s.length===0?t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Placeholder - once CSV imports are wired up, recent sessions will appear here with quick actions to resume, inspect, or discard them."}):t.jsx("div",{className:"flex flex-col gap-3",children:s.map(Z=>{const ze=Z.id===e;return t.jsxs("div",{role:"button",tabIndex:0,onClick:()=>r(Z.id),onKeyDown:Je=>{(Je.key==="Enter"||Je.key===" ")&&(Je.preventDefault(),r(Z.id))},className:["w-full rounded-xl border px-4 py-3 text-left transition",ze?"border-emerald-400/80 bg-emerald-500/10 text-emerald-50 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/60 text-slate-100 hover:border-emerald-400/60 hover:text-emerald-50"].join(" "),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-sm font-semibold",children:Z.sourceFilename||"Unnamed session"}),t.jsx("span",{className:"text-xs text-slate-400",children:we(Z.createdAt)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsxs("div",{children:["Players: ",Z.players.length]}),t.jsxs("div",{children:["Guilds: ",Z.guilds.length]})]}),t.jsx("button",{type:"button",onClick:Je=>{Je.stopPropagation(),window.confirm("Remove this session from the list? This will NOT delete any data from the database.")&&i(Z.id)},className:"rounded-full p-1 transition text-red-400 hover:text-red-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-300","aria-label":"Remove session",title:"Remove this session from the list",children:t.jsx(y7,{className:"h-4 w-4"})})]})]}),ze&&t.jsx("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-emerald-100",children:"Active"})]},Z.id)})}),t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-100",children:"Scan uploads from Discord bot"}),G&&t.jsx("div",{className:"rounded-xl border border-amber-400/60 bg-amber-500/10 p-3 text-sm text-amber-100",children:G}),C?_?t.jsx("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Loading scan uploads..."}):S?t.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-100",children:"Error loading scan uploads."}):b.length===0?t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"No scan uploads from Discord bot yet."}):t.jsx("div",{className:"flex flex-col gap-3",children:b.map(Z=>{const ze=z===Z.id,Je=M.has(Z.id),lt=ze||Je;return t.jsxs("button",{type:"button",onClick:()=>{lt||qe(Z)},disabled:lt,title:Je?"This scan is already loaded above. Remove it there to load it again.":void 0,className:["w-full rounded-xl border px-4 py-3 text-left text-slate-100 transition","border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:text-emerald-50",lt?"cursor-not-allowed opacity-70 bg-slate-700/60 text-slate-400":""].join(" "),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-sm font-semibold",children:Z.queueId||Z.scanId||Z.id}),t.jsx("span",{className:"text-xs text-slate-400",children:ge(Z.uploadedAt)}),Z.discordUsername&&t.jsx("span",{className:"text-xs text-slate-400",children:Z.discordUsername})]}),t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsxs("div",{children:["Players CSV: ",Z.hasPlayersCsv?"yes":"no"]}),t.jsxs("div",{children:["Guilds CSV: ",Z.hasGuildsCsv?"yes":"no"]})]})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-300",children:[oe(Z.status),Z.serverCode&&t.jsxs("span",{className:"rounded-full border border-slate-600/70 bg-slate-800/60 px-2 py-0.5",children:["Server: ",Z.serverCode]}),Z.lastError&&t.jsxs("span",{className:"rounded-full border border-rose-500/60 bg-rose-500/10 px-2 py-0.5 text-rose-100",children:["Error: ",Z.lastError]}),t.jsx("span",{className:"rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-emerald-100",children:Je?"Loaded":ze?"Loading...":"Load into preview"})]})]},Z.id)})}):t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Link your Discord account to see bot uploads here."})]})]})}),t.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Review"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Preview & Selection"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Use these previews to decide what to keep. Tables will support filters, sorting, and selection before committing."}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[t.jsx("button",{type:"button",className:"inline-flex items-center gap-2 rounded-xl bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-50 shadow-[0_10px_30px_-12px_rgba(16,185,129,0.8)] transition hover:bg-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-300 disabled:cursor-not-allowed disabled:bg-slate-700 disabled:text-slate-300 disabled:shadow-none",onClick:_t,disabled:Ie||!A||!me,children:w.phase==="uploading"?"Uploading...":w.phase==="finalizing"?"Finalizing...":"Upload selected to DB"}),U&&t.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-100",children:U}),w.total>0&&t.jsx("div",{className:"text-xs text-slate-300",children:w.phase==="uploading"?t.jsxs(t.Fragment,{children:["Uploading ",w.processed," / ",w.total," records (",Math.round(w.processed/Math.max(w.total,1)*100),"%) - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="finalizing"?t.jsxs(t.Fragment,{children:["Finalizing import - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="done"?t.jsxs(t.Fragment,{children:["Upload finished: ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):null}),A?t.jsx("div",{className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-100",children:`Active session: ${A.sourceFilename||A.id} - ${A.players.length} players, ${A.guilds.length} guilds`}):t.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 px-3 py-2 text-sm text-slate-300",children:s.length>0?"Select a session in the list above to review its players and guilds.":"No active CSV session. Import a CSV via the Upload Center modal to start."})]})]}),A&&t.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[t.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[t.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Players"}),t.jsxs("div",{className:"text-xs text-slate-300",children:["Players: ",A.players.length," total,"," ",A.players.filter(Z=>Z.selected).length," selected"]})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[t.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>c(A.id,!0),children:"Select all"}),t.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>c(A.id,!1),children:"Clear selection"})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[t.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(Z=>t.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",N===Z?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>k(Z),children:Z==="all"?"All":Z==="pending"?"Pending":Z==="inDb"?"In DB":"Error"},Z))}),t.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:R,onChange:Z=>$(Z.target.checked)}),t.jsx("span",{children:"Hide uploaded"})]})]}),je.length===0?t.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any player records."}):t.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:t.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[t.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Level"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Class"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),t.jsx("tbody",{children:je.map(Z=>{var ze;return t.jsxs("tr",{className:"border-t border-slate-800/70",children:[t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"checkbox",checked:Z.selected,onChange:()=>l(A.id,Z.key,!Z.selected)})}),t.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:Z.name||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:Z.server||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:(ze=Z.level)!=null?ze:""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:t.jsx(yIe,{className:Z.className})}),t.jsx("td",{className:"px-3 py-2",children:ee(Z.status)})]},Z.key)})})]})})]}),t.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[t.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Guilds"}),t.jsxs("div",{className:"text-xs text-slate-300",children:["Guilds: ",A.guilds.length," total,"," ",A.guilds.filter(Z=>Z.selected).length," selected"]})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[t.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>u(A.id,!0),children:"Select all"}),t.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>u(A.id,!1),children:"Clear selection"})]}),t.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[t.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(Z=>t.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",T===Z?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>L(Z),children:Z==="all"?"All":Z==="pending"?"Pending":Z==="inDb"?"In DB":"Error"},Z))}),t.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:B,onChange:Z=>H(Z.target.checked)}),t.jsx("span",{children:"Hide uploaded"})]})]}),ke.length===0?t.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any guild records."}):t.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:t.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[t.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left",children:"Expand"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Guild"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Members"}),t.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),t.jsx("tbody",{children:ke.map(Z=>{var lt;const ze=j.has(Z.key),Je=(lt=Z.memberCount)!=null?lt:Z.members.length;return t.jsxs(Q.Fragment,{children:[t.jsxs("tr",{className:"border-t border-slate-800/70",children:[t.jsx("td",{className:"px-3 py-2",children:t.jsx("button",{type:"button",className:"rounded border border-slate-600/70 bg-slate-800/60 px-2 py-1 text-xs text-slate-200",onClick:()=>Me(Z.key),"aria-expanded":ze,children:ze?"Collapse":"Expand"})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"checkbox",checked:Z.selected,onChange:()=>a(A.id,Z.key,!Z.selected)})}),t.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:Z.name||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:Z.server||""}),t.jsx("td",{className:"px-3 py-2 text-slate-200",children:Je}),t.jsx("td",{className:"px-3 py-2",children:ee(Z.status)})]}),ze&&t.jsx("tr",{className:"border-t border-slate-800/70 bg-slate-900/60",children:t.jsxs("td",{className:"px-3 py-3 text-slate-200",colSpan:6,children:[t.jsx("div",{className:"mb-2 text-xs uppercase tracking-[0.18em] text-slate-400",children:"Members"}),Z.members.length===0?t.jsx("div",{className:"text-sm text-slate-300",children:"No members listed."}):t.jsxs("table",{className:"w-full text-sm text-slate-100",children:[t.jsx("thead",{className:"bg-slate-900/50 text-xs uppercase tracking-wide text-slate-400",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-2 py-1 text-left",children:"Name"}),t.jsx("th",{className:"px-2 py-1 text-left",children:"Level"}),t.jsx("th",{className:"px-2 py-1 text-left",children:"Class"})]})}),t.jsx("tbody",{children:Z.members.map(tt=>{var Et,cs;return t.jsxs("tr",{className:"border-t border-slate-800/70",children:[t.jsx("td",{className:"px-2 py-1",children:tt.name||""}),t.jsx("td",{className:"px-2 py-1",children:(Et=tt.level)!=null?Et:""}),t.jsx("td",{className:"px-2 py-1",children:(cs=tt.className)!=null?cs:""})]},tt.key)})})]})]})})]},Z.key)})})]})})]})]})]})})]})}function wIe(){const{canUse:s}=$1();return s?t.jsx(bIe,{}):t.jsx(Ht,{title:"Upload Center",subtitle:"Upload Center access required",centerFramed:!0,mode:"page",children:t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 text-center text-sm text-[#B0C4D9]",children:[t.jsx(JT,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),t.jsx("p",{className:"text-base font-semibold text-white",children:"You don't have access to this feature."}),t.jsx("p",{children:"Contact an admin if you think you should be able to use the Upload Center."})]})})}const jIe=s=>()=>t.jsx("div",{style:{padding:16},children:t.jsx("h2",{style:{color:"var(--title)"},children:s})}),Mr=jIe("Diese Unterseite existiert in der neuen Struktur nicht mehr."),Qt=(s,e,n,r=t.jsx(yl,{to:"/",replace:!0}))=>t.jsx(nIe,{featureId:s,route:e,fallback:r,children:n});l6.createRoot(document.getElementById("root")).render(t.jsx(Q.StrictMode,{children:t.jsx(sU,{children:t.jsx(fU,{children:t.jsx(_U,{children:t.jsxs(eIe,{children:[t.jsx($8,{children:t.jsx(m8,{children:t.jsxs(fe,{element:t.jsx(vH,{}),children:[t.jsx(fe,{path:"/",element:Qt("main.home","/",t.jsx(iX,{}),t.jsx(yl,{to:"/login",replace:!0}))}),t.jsx(fe,{path:"/login",element:t.jsx(aX,{})}),t.jsx(fe,{path:"/dashboard",element:Qt("main.dashboard","/dashboard",t.jsx(oX,{}))}),t.jsx(fe,{path:"/dashboard/kpis",element:Qt("main.dashboard","/dashboard",t.jsx(dX,{}))}),t.jsx(fe,{path:"/dashboard/activity",element:Qt("main.dashboard","/dashboard",t.jsx(uX,{}))}),t.jsx(fe,{path:"/dashboard/progression",element:Qt("main.dashboard","/dashboard",t.jsx(hX,{}))}),t.jsx(fe,{path:"/discover",element:Qt("main.discover","/discover",t.jsx(pX,{}))}),t.jsx(fe,{path:"/toplists",element:Qt("main.toplists","/toplists",t.jsx(gZ,{}))}),t.jsx(fe,{path:"/sfmagazine",element:t.jsx(xX,{})}),t.jsx(fe,{path:"/sfmagazine/historybook",element:t.jsx(qX,{})}),t.jsx(fe,{path:"/help",element:t.jsx(cJ,{})}),t.jsx(fe,{path:"/search",element:t.jsx(oCe,{})}),t.jsx(fe,{path:"/players",element:t.jsx(fZ,{})}),t.jsx(fe,{path:"/players/rankings",element:t.jsx(vZ,{})}),t.jsx(fe,{path:"/players/stats",element:t.jsx(xZ,{})}),t.jsx(fe,{path:"/players/profile",element:t.jsx(E0,{})}),t.jsx(fe,{path:"/players/profile/:playerId",element:t.jsx(E0,{})}),t.jsx(fe,{path:"/players/compare",element:t.jsx(Bte,{})}),t.jsx(fe,{path:"/player/:playerId",element:t.jsx(E0,{})}),t.jsx(fe,{path:"/guilds",element:t.jsx(Kte,{})}),t.jsx(fe,{path:"/guilds/rankings",element:t.jsx(qte,{})}),t.jsx(fe,{path:"/guilds/stats",element:t.jsx(Qte,{})}),t.jsx(fe,{path:"/guilds/profile",element:t.jsx(L0,{})}),t.jsx(fe,{path:"/guilds/profile/:guildId",element:t.jsx(L0,{})}),t.jsx(fe,{path:"/guild/:guildId",element:t.jsx(L0,{})}),t.jsx(fe,{path:"/servers",element:t.jsx(Mre,{})}),t.jsx(fe,{path:"/servers/rankings",element:t.jsx(Fre,{})}),t.jsx(fe,{path:"/servers/stats",element:t.jsx($re,{})}),t.jsx(fe,{path:"/servers/overview",element:t.jsx(fie,{})}),t.jsx(fe,{path:"/servers/profile",element:t.jsx(M0,{})}),t.jsx(fe,{path:"/servers/profile/:serverId",element:t.jsx(M0,{})}),t.jsx(fe,{path:"/server/:serverId",element:t.jsx(M0,{})}),t.jsx(fe,{path:"/u/:profileId",element:t.jsx(Nae,{})}),t.jsx(fe,{path:"/guidehub/*",element:Qt("main.guidehub","/guidehub",t.jsx(Que,{}))}),t.jsx(fe,{path:"/guidehub-v2",element:Qt("main.guidehub","/guidehub-v2",t.jsx(upe,{}))}),t.jsx(fe,{path:"/tools",element:Qt("main.tools","/tools",t.jsx(rCe,{}))}),t.jsx(fe,{path:"/upload-center",element:Qt("main.uploadCenter","/upload-center",t.jsx(wIe,{}),t.jsx(yl,{to:"/login",replace:!0}))}),t.jsx(fe,{path:"/UploadCenter",element:t.jsx(yl,{to:"/upload-center",replace:!0})}),t.jsx(fe,{path:"/community",element:Qt("main.community","/community",t.jsx(rge,{}))}),t.jsx(fe,{path:"/community/scans",element:Qt("main.community","/community",t.jsx(aP,{}))}),t.jsx(fe,{path:"/community/predictions",element:Qt("main.community","/community",t.jsx(oP,{}))}),t.jsx(fe,{path:"/community/creators",element:Qt("main.community","/community",t.jsx(iP,{}))}),t.jsx(fe,{path:"/community/feedback",element:Qt("main.community","/community",t.jsx(cP,{}))}),t.jsx(fe,{path:"/community/news",element:Qt("main.community","/community",t.jsx(lP,{}))}),t.jsx(fe,{path:"/community/records",element:Qt("main.community","/community",t.jsx(dP,{}))}),t.jsx(fe,{path:"/scans",element:Qt("main.scans","/scans",t.jsx(ige,{}))}),t.jsx(fe,{path:"/scans/latest",element:Qt("main.scans","/scans",t.jsx(age,{}))}),t.jsx(fe,{path:"/scans/archive",element:Qt("main.scans","/scans",t.jsx(oge,{}))}),t.jsx(fe,{path:"/guild-hub",element:Qt("main.guildHub","/guild-hub",t.jsx(lge,{}))}),t.jsx(fe,{path:"/guild-hub/planner",element:Qt("main.guildHub","/guild-hub",t.jsx(Efe,{}))}),t.jsx(fe,{path:"/guild-hub/fusion-planner",element:Qt("main.guildHub","/guild-hub",t.jsx(mbe,{}))}),t.jsx(fe,{path:"/guild-hub/compare-guilds",element:Qt("main.guildHub","/guild-hub",t.jsx(gbe,{}))}),t.jsx(fe,{path:"/guild-hub/waitlist",element:Qt("main.guildHub","/guild-hub",t.jsx(L_e,{}))}),t.jsx(fe,{path:"/guild-hub/activity",element:Qt("main.guildHub","/guild-hub",t.jsx(U_e,{}))}),t.jsx(fe,{path:"/guild-hub/imports",element:Qt("main.guildHub","/guild-hub",t.jsx(z_e,{}))}),t.jsx(fe,{path:"/guild-hub/announcements",element:Qt("main.guildHub","/guild-hub",t.jsx(H_e,{}))}),t.jsx(fe,{path:"/guild-hub/events",element:Qt("main.guildHub","/guild-hub",t.jsx(G_e,{}))}),t.jsx(fe,{path:"/guild-hub/roles",element:Qt("main.guildHub","/guild-hub",t.jsx(W_e,{}))}),t.jsx(fe,{path:"/guild-hub/settings",element:Qt("main.guildHub","/guild-hub",t.jsx(K_e,{}))}),t.jsx(fe,{path:"/admin",element:Qt("main.admin","/admin",t.jsx(X_e,{}))}),t.jsx(fe,{path:"/admin/errors",element:Qt("main.admin","/admin",t.jsx(t1e,{}))}),t.jsx(fe,{path:"/admin/scans-uploaded",element:Qt("main.admin","/admin",t.jsx(n1e,{}))}),t.jsx(fe,{path:"/admin/creators-api",element:Qt("main.admin","/admin",t.jsx(p1e,{}))}),t.jsx(fe,{path:"/admin/users",element:Qt("main.admin","/admin",t.jsx(C1e,{}))}),t.jsx(fe,{path:"/settings",element:Qt("main.settings","/settings",t.jsx(R1e,{}))}),t.jsx(fe,{path:"/settings/account",element:Qt("main.settings","/settings",t.jsx(hje,{}))}),t.jsxs(fe,{path:"/playground",element:Qt("main.playground","/playground",t.jsx(mje,{})),children:[t.jsx(fe,{index:!0,element:t.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),t.jsx(fe,{path:"list-views",element:t.jsx(GI,{})}),t.jsx(fe,{path:"rescan-widget",element:t.jsx(KI,{})}),t.jsx(fe,{path:"upload-sim",element:t.jsx(qI,{})}),t.jsx(fe,{path:"theme-maker",element:t.jsx(AI,{})}),t.jsx(fe,{path:"theme-maker-pro",element:t.jsx(RI,{})}),t.jsx(fe,{path:"gamified",element:t.jsx(U2e,{})}),t.jsx(fe,{path:"gamified-2",element:t.jsx(H2e,{})}),t.jsx(fe,{path:"gamified-3",element:t.jsx(K2e,{})}),t.jsx(fe,{path:"gamified-4",element:t.jsx(Y2e,{})}),t.jsx(fe,{path:"gamified-5",element:t.jsx(Z2e,{})}),t.jsx(fe,{path:"gamified-6",element:t.jsx(sSe,{})}),t.jsx(fe,{path:"gamified-7",element:t.jsx(iSe,{})}),t.jsx(fe,{path:"gamified-8",element:t.jsx(lSe,{})}),t.jsx(fe,{path:"am-rune-bonuses-demos",element:t.jsx(u2e,{})}),t.jsx(fe,{path:"templates/content-shell",element:t.jsx(NSe,{})}),t.jsx(fe,{path:"templates/blank",element:t.jsx(CSe,{})}),t.jsx(fe,{path:"templates/blank-alt",element:t.jsx(TSe,{})}),t.jsx(fe,{path:"templates/blank-layout-2",element:t.jsx(RSe,{})}),t.jsx(fe,{path:"templates/blank-layout-3",element:t.jsx(DSe,{})}),t.jsx(fe,{path:"templates/blank-layout-4",element:t.jsx(MSe,{})}),t.jsx(fe,{path:"portrait-maker",element:t.jsx(_Se,{})}),t.jsx(fe,{path:"hud",element:t.jsx(h2e,{})}),t.jsx(fe,{path:"hud/game-buttons",element:t.jsx(B2e,{})}),t.jsx(fe,{path:"core-ui/theme-maker",element:t.jsx(AI,{})}),t.jsx(fe,{path:"core-ui/theme-maker-pro",element:t.jsx(RI,{})}),t.jsx(fe,{path:"core-ui/list-views",element:t.jsx(GI,{})}),t.jsx(fe,{path:"sync/rescan",element:t.jsx(KI,{})}),t.jsx(fe,{path:"upload/sim",element:t.jsx(qI,{})}),t.jsx(fe,{path:"import/har",element:t.jsx(OSe,{})}),t.jsx(fe,{path:"import/json-csv",element:t.jsx(HSe,{})}),t.jsx(fe,{path:"import/schema",element:t.jsx(qSe,{})}),t.jsx(fe,{path:"hubs/player-contained",element:t.jsx(JSe,{})}),t.jsx(fe,{path:"hubs/guilds",element:t.jsx(sNe,{})}),t.jsx(fe,{path:"hubs/servers",element:t.jsx(aNe,{})}),t.jsx(fe,{path:"rankings/views",element:t.jsx(dNe,{})}),t.jsx(fe,{path:"analytics/kpi",element:t.jsx(mNe,{})}),t.jsx(fe,{path:"analytics/progression",element:t.jsx(xNe,{})}),t.jsx(fe,{path:"analytics/legendary-pets",element:t.jsx(wNe,{})}),t.jsx(fe,{path:"community/scans",element:t.jsx(kNe,{})}),t.jsx(fe,{path:"community/creators",element:t.jsx(ENe,{})}),t.jsx(fe,{path:"feedback/form",element:t.jsx(LNe,{})}),t.jsx(fe,{path:"feedback/admin",element:t.jsx($Ne,{})}),t.jsx(fe,{path:"help/tutorials",element:t.jsx(UNe,{})}),t.jsx(fe,{path:"help/wiki",element:t.jsx(WNe,{})}),t.jsx(fe,{path:"legal/tos",element:t.jsx(eke,{})}),t.jsx(fe,{path:"legal/transparency",element:t.jsx(rke,{})}),t.jsx(fe,{path:"settings",element:t.jsx(YNe,{})}),t.jsx(fe,{path:"pwa/update",element:t.jsx(lke,{})}),t.jsx(fe,{path:"pwa/install",element:t.jsx(hke,{})}),t.jsx(fe,{path:"connect/manual",element:t.jsx(fke,{})}),t.jsx(fe,{path:"connect/userscript",element:t.jsx(bke,{})}),t.jsx(fe,{path:"interop/exports",element:t.jsx(Ske,{})}),t.jsx(fe,{path:"interop/deeplinks",element:t.jsx(Ike,{})}),t.jsx(fe,{path:"admin/servers",element:t.jsx(Pke,{})}),t.jsx(fe,{path:"admin/jobs",element:t.jsx(Mke,{})}),t.jsx(fe,{path:"admin/flags",element:t.jsx(Oke,{})}),t.jsx(fe,{path:"perf/table-lab",element:t.jsx(Hke,{})}),t.jsx(fe,{path:"mobile/filters",element:t.jsx(qke,{})}),t.jsx(fe,{path:"qa/a11y",element:t.jsx(Jke,{})})]}),t.jsx(fe,{path:"/latest-scan",element:t.jsx(yl,{to:"/scans/latest",replace:!0})}),t.jsx(fe,{path:"/old-scans",element:t.jsx(yl,{to:"/scans/archive",replace:!0})}),t.jsx(fe,{path:"/favorites",element:Mr()}),t.jsx(fe,{path:"/notifications",element:Mr()}),t.jsx(fe,{path:"/guilds/planner",element:Mr()}),t.jsx(fe,{path:"/guilds/fusion",element:Mr()}),t.jsx(fe,{path:"/guilds/academy",element:Mr()}),t.jsx(fe,{path:"/toplists/players",element:Mr()}),t.jsx(fe,{path:"/toplists/guilds",element:Mr()}),t.jsx(fe,{path:"/toplists/servers",element:Mr()}),t.jsx(fe,{path:"/settings/profile",element:Mr()}),t.jsx(fe,{path:"/settings/appearance",element:Mr()}),t.jsx(fe,{path:"/players/search",element:Mr()}),t.jsx(fe,{path:"/servers/list",element:Mr()}),t.jsx(fe,{path:"/servers/trend",element:Mr()}),t.jsx(fe,{path:"/scans/upload",element:Mr()}),t.jsx(fe,{path:"/scans/history",element:Mr()}),t.jsx(fe,{path:"*",element:t.jsx(yl,{to:"/",replace:!0})})]})})}),t.jsx(JCe,{})]})})})})}));
